{"total":142318,"page":1,"pagesize":100,"questions":[{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13298481,"title":"How to get list of all sub directories and files along with their size ordered by size?","body":"<p>How to get list of all sub directories and files along with their size ordered by size in ascending order?</p>\n\n<p>The below code gets me the list of all files, but is not sorted according to size. Please help.</p>\n\n<pre><code>import os\nimport os.path, time\nfrom os.path import join, getsize\ncount=0\nfor root, dirs, files in os.walk('Test'):\n    for file in list(files):\n        fileaddress = os.path.join(root, file)\n        print(\"\\nName:\",fileaddress)\n        print(\"Time:\",time.strftime(\"%m/%d/%Y %I:%M:%S %p\",time.localtime(os.path.getmtime(fileaddress))))\n        count=count+1\nprint(count);\n</code></pre>\n"},{"tags":["python","windows","subprocess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13298592,"title":"Why does Popen.poll() return a return code of None even though the sub-process has completed?","body":"<p>I have some Python code that runs on Windows that spawns a subprocess and waits for it to complete. The subprocess isn't well behaved so the script makes a non-blocking spawn call and watches the process on the side. If some timeout threshold is met it kills of the process, assuming it has gone of the rails.</p>\n\n<p>In some instances, which are non-reproducible, the spawned subprocess will just disappear and the watcher routine won't pick up on this fact. It'll keep watching until the timeout threshold is passed, try to kill the subprocess and get an error, and then exit.</p>\n\n<p><strong>What might be causing the fact that the subprocess has gone away to be undetectable to the watcher process? Why isn't the return code trapped and returned by the call to <code>Popen.poll()</code>?</strong></p>\n\n<p>The code I use to spawn and watch the process follows:</p>\n\n<pre><code>import subprocess\nimport time\n\ndef nonblocking_subprocess_call(cmdline):\n    print 'Calling: %s' % (' '.join(temp_cmdline))\n    p = subprocess.Popen(cmdline, shell=False, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n    return p\n\n\ndef monitor_subprocess(handle, timeout=1200):\n    start_time = time.time()\n    return_code = 0\n    while True:\n        time.sleep(60)\n        return_code = handle.poll()\n        if return_code == None:\n            # The process is still running.\n            if time.time() - start_time &gt; timeout:\n                print 'Timeout (%d seconds) exceeded -- killing process %i' % (timeout, handle.pid)\n                return_code = handle.terminate()\n                # give the kill command a few seconds to work\n                time.sleep(5)\n                if not return_code:\n                    print 'Error: Failed to kill subprocess %i -- return code was: %s' % (handle.pid, str(return_code))\n                # Raise an error to indicate that the process was hung up\n                # and we had to kill it.\n                raise RuntimeError\n        else:\n            print 'Process exited with return code: %i' % (return_code))\n            break\n    return return_code\n</code></pre>\n\n<p>What I'm seeing is that, in cases where the process has disappeared, the call to <code>return_code = handle.poll()</code> on line 15 is returning <code>None</code> instead of a return code. I know the process has gone away completely -- I can see that it is no longer there in Task Manager. And I know the process disappeared long before the timeout value was reached.</p>\n"},{"tags":["python","traceback"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":18,"score":0,"question_id":13297300,"title":"halt processing of program AND stop traceback?","body":"<p>I have a program that needs to stop processing altogether once a certain condition has been triggered - similar to this question: <a href=\"http://stackoverflow.com/questions/179369/how-do-i-abort-the-execution-of-a-python-script\">How do I abort the execution of a Python script?</a></p>\n\n<p>However, in my case, I want to capture the traceback that sys.exit() generates AND MOST IMPORTANTLY stop processing anything code blocks beyond that point. Can anyone help with this?</p>\n\n<pre><code>try:\n    a = 'i' / 1\n    print 'Does this work yet?'\nexcept TypeError:\n    print \"I should stop processing now\"\n    try:\n        sys.exit()\n    except:\n        pass\nprint 'I did not stop processing '\n</code></pre>\n"},{"tags":["python","image","stream","ffmpeg","pil"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":38,"score":4,"question_id":13294919,"title":"Can you \"stream\" images to ffmpeg to construct a video, instead of saving them to disk?","body":"<p>My work recently involves programmatically making videos. In python, the typical workflow looks something like this:</p>\n\n<pre><code>import subprocess, Image, ImageDraw\n\nfor i in range(frames_per_second * video_duration_seconds):\n    img = createFrame(i)\n    img.save(\"%07d.png\" % i)\n\nsubprocess.call([\"ffmpeg\",\"-y\",\"-r\",str(frames_per_second),\"-i\", \"%07d.png\",\"-vcodec\",\"mpeg4\", \"-qscale\",\"5\", \"-r\", str(frames_per_second), \"video.avi\"])\n</code></pre>\n\n<p>So, in summary, this workflow creates an image for each frame in the video and saves it to disk. After all images have been saved, a ffmpeg is called to construct a video from all of the images.</p>\n\n<p>Saving the images to disk (not the creation of the images in memory) consumes the majority of the cycles here, and does not appear to be necessary. Is there some way to perform the same function, but without saving the images to disk? So, ffmpeg would be called and the images would be constructed and fed to ffmpeg immediately after being constructed.</p>\n"},{"tags":["python","mysql","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13297690,"title":"Django related_name","body":"<p>I'm trying to do something like:</p>\n\n<pre><code>{% for property in current_listing %}\n    {% for property_image in property.property_images.all %}\n\n    {% endfor %}\n{% endfor %}\n</code></pre>\n\n<p>But I would like something like:</p>\n\n<pre><code>{% for property in current_listing %}\n    {% for property_image in property.property_images.**ORDER_BY('-order')[0]** %}\n\n    {% endfor %}\n{% endfor %}\n</code></pre>\n\n<p>Can understand what I do? How can I do this?</p>\n\n<p>Thx!</p>\n"},{"tags":["python","gui","button","tkinter","output"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13297173,"title":"python tkinter gui","body":"<p>I'm wanting to make a small python program for yearly temperatures. I can get nearly everything working in the standard console but I'm wanting to implement it into a GUI. </p>\n\n<p>The program opens a csv file reads it into lists, works out the average, and min &amp; max temps. Then on closing the application will save a summary to a new text file.</p>\n\n<p>I am wanting the default start up screen to show All Years. When a button is clicked it just shows that year's data.</p>\n\n<p>Here is a what I want it to look like.\n<img src=\"http://i.stack.imgur.com/DEVph.jpg\" alt=\"enter image description here\"></p>\n\n<p>Pretty simple layout with just the 5 buttons and the out puts for each. </p>\n\n<p>I can make up the buttons for the top fine with:</p>\n\n<p>Code:</p>\n\n<pre><code>class App:\n\ndef __init__(self, master):\n\n    frame = Frame(master)\n    frame.pack()\n\n    self.hi_there = Button(frame, text=\"All Years\", command=self.All)\n    self.hi_there.pack(side=LEFT)\n\n    self.hi_there = Button(frame, text=\"2011\", command=self.Y1)\n    self.hi_there.pack(side=LEFT)\n\n    self.hi_there = Button(frame, text=\"2012\", command=self.Y2)\n    self.hi_there.pack(side=LEFT)\n\n    self.hi_there = Button(frame, text=\"2013\", command=self.Y3)\n    self.hi_there.pack(side=LEFT)\n\n    self.hi_there = Button(frame, text=\"Save &amp; Exit\", command=self.Exit)\n    self.hi_there.pack(side=LEFT)\n</code></pre>\n\n<p>I'm not sure as to how to make the other elements, such as the title &amp; table.</p>\n\n<p>I was going to post the code of the small program but decided not to. Once I have the structure/framework I think I can populate the fields &amp; I might learn better this way.</p>\n\n<p>Using Python 2.7.3</p>\n"},{"tags":["python","loops","if-statement"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13298500,"title":"The program don't exits of the while block in python","body":"<p>I have a while block and inside it i have decision making blocks inclued elif blocks and I want that the program exits of the while block when the variable obje_error=0 but the while block repeat when obje_error=0.I suppose that obje_error=0 when the other conditions are not complete.I removed the elif blocks and it was worked but i want that the all blocks goes to work.You can see the code below:</p>\n\n<pre><code>while (obje_error == 1):    \n        Sen=raw_input(\"tas mi,kagit mi yoksa makas mi?\")\n        if (Sen != \"tas\") :\n            print \"Lutfen tas,kagit ya da makas'i secin...\"\n            obje_error=1\n        elif (Sen != \"kagit\"):\n            print \"Lutfen tas,kagit ya da makas'i secin...\"\n            obje_error=1\n        elif Sen != \"makas\":\n            print \"Lutfen tas,kagit ya da makas'i secin...\"\n            obje_error=1\n        else:\n            obje_error=0\n</code></pre>\n\n<p>Can you tell me what is the problem and what can i do?</p>\n"},{"tags":["python","django","django-templates"],"answer_count":3,"favorite_count":2,"up_vote_count":16,"down_vote_count":0,"view_count":12207,"score":16,"question_id":1408925,"title":"django templates: include and extends","body":"<p>I would like to provide the same content inside 2 different base files. </p>\n\n<p>So I'm trying to do this:</p>\n\n<p>page1.html:</p>\n\n<pre><code>{% extends \"base1.html\" %}\n{% include \"commondata.html\" %}\n</code></pre>\n\n<p>page2.html:</p>\n\n<pre><code>{% extends \"base2.html\" %} \n{% include \"commondata.html\" %}\n</code></pre>\n\n<p>The problem is that I can't seem to use both extends and include.  Is there some way to do that?  And if not, how can I accomplish the above?</p>\n\n<p>commondata.html overrides a block that is specified in both base1.html and base2.html</p>\n\n<p>The purpose of this is to provide the same page in both pdf and html format, where the formatting is slightly different.  The above question though simplifies what I'm trying to do so if I can get an answer to that it will solve my problem.</p>\n"},{"tags":["python","parsing","converter","python-2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13297654,"title":"Convert string into dictionary with python","body":"<p>I know that this question sound a duplicate, but it's not, at least looked for a while and I couldn't fine nothing for my specific problem.</p>\n\n<p>I have the following string:</p>\n\n<pre><code>\"{first : {name : 'test', value : 100}, second : {name : 'test2', value : 50}\"\n</code></pre>\n\n<p>And I want to convert that string to a dictionary something like this:</p>\n\n<pre><code>{'first': {'name': 'test', 'value' : 100}, 'second': {'name': 'test2', 'value' : 50}}\n</code></pre>\n\n<p>Any ideas? I'm working with Python 2.5</p>\n\n<p>Thanks</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13298375,"title":"plotting a histogram in python","body":"<p>I need help writing a program that reads about 300 lines from a text file and takes the grades from a specific assignment (column A1) and then uses the grades from that assignment to plot a histogram in quickdraw.</p>\n\n<pre><code>ID , Last,  First, Lecture, Tutorial, A1, A2, A3, A4, A5\n8959079, Moore, Maria, L01, T03, 9.0, 8.5, 8.5, 10.0, 8.5\n4295498, Taylor, John, L00, T04, 10.0, 6.5, 8.5, 9.5, 7.0\n9326386, Taylor, David, L00, T00, 9.5, 8.0, 8.0, 9.0, 10.0\n7223234, Taylor, James, L01, T03, 8.5, 5.5, 10.0, 0.0, 0.5\n7547838, Miller, Robert, L01, T09, 7.0, 8.0, 8.5, 10.0, 0.5\n0313453, Lee, James, L01, T01, 10.0, 0.5, 8.0, 7.0, 5.0\n3544072, Lee, Helen, L00, T03, 10.0, 9.0, 7.0, 9.0, 8.5\n</code></pre>\n\n<p>So far I have a code that extracts the grades from the file(A1) and puts it into a list and then creates another that counts how many occurrences of a certain grade occur. I am having trouble now using this list and inputing it into quickdraw to plot a histogram?</p>\n"},{"tags":["python","list","for-loop"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13298338,"title":"Preventing partial string match in \"if\" python)","body":"<p>I am sure this is simple but I can't see or possibly can't understand the solution.</p>\n\n<p>I have some code:</p>\n\n<pre><code>if any (mystring in s for s in mylist)\n     do something with mystring\n</code></pre>\n\n<p>where I'm testing to see if <code>mystring</code> is in <code>mylist</code>, which works fine.</p>\n\n<p>However if I have the list</p>\n\n<p><code>['apples','pears','chickens']</code></p>\n\n<p>and I am testing the if statement, I want it to only pass if the match is exact, ie <code>mystring</code> should pass and <code>do something with mystring</code> only with <code>apples</code>, not <code>app</code> or <code>apple</code>. The problem is that partial matches of <code>mystring</code> to <code>mylist</code> are passing.</p>\n\n<p>I.e. in the example above if <code>mystring</code> is <code>app</code> it's passing and I don't want it too.\nI know this is trivial, so sorry about that.</p>\n"},{"tags":["python","xml","regex","list","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13292800,"title":"Parse XML File with Python and get the letter 'u' in every list element","body":"<p>I have a XML file with some elements like this:</p>\n\n<pre><code>&lt;RMS&gt;[14.470156174, 14.470156174, 14.485567944, 14.496014765]&lt;/RMS&gt; \n</code></pre>\n\n<p>I want to get a list with all the elements</p>\n\n<p>So i tried some Regex with the following code:\n<br></p>\n\n<pre><code>      string = dom.getElementsByTagName('RMS')[0].toxml()\n      string2 = re.findall(\"[\\-]*[0-9]*\\.[0-9]*\", string)\n</code></pre>\n\n<p>Now, when I want to print the list, it looks like this:\n<br></p>\n\n<pre><code>      [u'14.470156174', u'14.470156174', u'14.485567944', u'14.496014765']\n</code></pre>\n\n<p>What's going on with the 'u'?\n<br>\nAre there any ideas how to solve the problem?\nThanks for helping.</p>\n"},{"tags":["python","numpy","matplotlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13298351,"title":"Difference between 1D and ND plotting","body":"<p>I have been plotting on Matplotlib for sometime and have noticed that some plotting techniques like 3D plotting and others require data to be present in arrays having dimensions of more than 1D. For instance, If I have 1D arrays X,Y,Z, then I won't be able to plot them in the 3D plots. However, if I reshape the same arrays to 2D or any ND and then I am able to plot them in 3D. My question is, why do you think this happens? More importantly, is there a difference between a reshaped and 1D array (in terms of its data)?</p>\n"},{"tags":["python","django","deployment","sentry"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13293261,"title":"Sentry - Create a project from command line","body":"<p>Sentry ( <a href=\"https://www.getsentry.com/\" rel=\"nofollow\">https://www.getsentry.com/</a> ) catches loggings and errors from client applications.</p>\n\n<p>The only way I know of creating a project in Sentry is by manually submitting the form in the Web application interface.</p>\n\n<p>I'm searching for a way to create a project into Sentry from the command line in any way (options, config file) ?</p>\n\n<p>This would be greatly valuable for deployment scripts. Otherwise no automation is possible.</p>\n\n<p>Just found this discussion while Googling around but no answer:</p>\n\n<p><a href=\"https://groups.google.com/d/topic/getsentry/pWglAEHaPUk/discussion\" rel=\"nofollow\">https://groups.google.com/d/topic/getsentry/pWglAEHaPUk/discussion</a></p>\n\n<p>Any idea?</p>\n"},{"tags":["python","html","json","beautifulsoup","requests"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13298201,"title":"Parsing variable data out of a javascript tag using python","body":"<p>I am scraping some websites using BeautifulSoup and Requests. There is one page that I am examining that has its data inside of a <code>&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;</code> tag. It looks like this:</p>\n\n<pre><code>&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nvar page_data = {\n   \"default_sku\" : \"SKU12345\",\n   \"get_together\" : {\n      \"imageLargeURL\" : \"http://null.null/pictures/large.jpg\",\n      \"URL\" : \"http://null.null/index.tmpl\",\n      \"name\" : \"Paints\",\n      \"description\" : \"Here is a description and it works pretty well\",\n      \"canFavorite\" : 1,\n      \"id\" : 1234,\n      \"type\" : 2,\n      \"category\" : \"faded\",\n      \"imageThumbnailURL\" : \"http://null.null/small9.jpg\"\n       ......\n</code></pre>\n\n<p>Is there a way that I can create a python dictionary or json object out of the <code>page_data</code> variable within this script tag? That would be much nicer then trying to obtain values with BeautifulSoup.</p>\n"},{"tags":["python","spiral","convex"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":22,"score":-4,"question_id":13298188,"title":"Convex spiral python?","body":"<p>Given a list of coordinates order them so that the coordinates will make a convex (angle&lt;180deg)  spiral. The first coordinate will be the coordinate with highest y-value (if there is the same large y choose the lowest x-value)\nHere is a pic of what the spiral should look like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/oD4OZ.gif\" alt=\"spiral\"></p>\n\n<p>Input:</p>\n\n<pre><code>191 529\n421 589\n592 471\n381 120\n143 302\n225 453\n477 466\n557 365\n373 432\n411 276\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>421 589\n592 471\n557 365\n381 120\n143 302\n191 529\n477 466\n411 276\n225 453\n373 432\n</code></pre>\n\n<p>My main confusion is how to 'pick' which coordinate to choose to from list to keep examining.</p>\n"},{"tags":["python","installer","install","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13297740,"title":"Install missing dependencies for scipy","body":"<p>I'm trying to install scipy but when I finish installing, I can't import it. is there any GUI for easy installation? <br/>  The general information:<br>\nWindows 7 - Python 2.7 - scipy 0.11.0 - I followed the steps in abel.ee.ucla.edu/cvxopt/install/index.html for windows to install the libraries needed. I ran the setup for scipy using python setup.py install in command line and in the setup.py directory. <br/>\nThe error messege <a href=\"https://www.dropbox.com/s/2hzrziuj2q18q4s/error.txt\" rel=\"nofollow\">error link</a></p>\n"},{"tags":["python","restructuredtext"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13297070,"title":"Don't escape HTML with docutils.core.publish_parts(writer_name=\"html\")","body":"<p>I'm trying to convert some of my HTML content to ReStructuredText. The problem is that I have a lot of custom HTML, so much that I'd abandon conversion if I had to write a special parser for each thing. </p>\n\n<p>By default: </p>\n\n<pre><code>text = '''\n  Heading\n  =======\n  &lt;p class=\"jQuery-addThis\"&gt;Test&lt;/p&gt;\n'''\ndocutils.core.publish_parts(text, writer_name='html')['html_body'] \n</code></pre>\n\n<p>Escapes the <code>&lt;</code>, <code>&gt;</code>, and <code>\"</code> with <code>&amp;lt;</code>, <code>&amp;gt;</code> and <code>&amp;quot;</code>. </p>\n\n<p>How do I tell <code>publish_parts</code> (or another function) to NOT convert the HTML? </p>\n\n<p>Additional information:</p>\n\n<p>I need this functionality for the following reasons: </p>\n\n<ul>\n<li>AddThis</li>\n<li>Google Analytics</li>\n<li>Discus </li>\n<li>Facebook Plugins</li>\n<li>Twitter Plugins</li>\n</ul>\n\n<p>I've been told to switch to Markdown, but I'd rather use ReStructuredText. Is this possible?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Edit: I should've included \"without the raw directive\" in the subject line. I'm guessing that this is impossible, but if anyone knows of a way around it, I'd be very great full. </p>\n"},{"tags":["python","feedparser"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13297077,"title":"Python etag/last modified not working; how to get latest rss","body":"<p>I'm trying to write a python program that will grab and display any rss updates since the last time the program was run. I am using <a href=\"http://packages.python.org/feedparser/index.html\" rel=\"nofollow\">feedparser</a> and trying to use etags and last modified as described <a href=\"http://stackoverflow.com/questions/4924781/do-nothing-if-rss-feed-hasnt-changed\">here on SO</a> but my test script seems to not be working. </p>\n\n<pre><code>import feedparser\nrsslist=[\"http://skottieyoung.tumblr.com/rss\",\"http://mrjakeparker.com/feed/\"]\nfor feed in rsslist:\nprint('--------'+feed+'-------')\nd=feedparser.parse(feed)\nprint(len(d.entries))\nif (len(d.entries) &gt; 0):\n    etag=d.feed.get('etag','')\n    modified=d.get('modified',d.get('updated',d.entries[0].get('published','no modified,update or published fields present in rss')))\n\n    d2=feedparser.parse(feed,modified)\n    if (len(d2.entries) &gt; 0):\n        etag2=d2.feed.get('etag','')\n        modified2=d2.get('updated',d.entries[0].get('published',''))\n\n    if (d2==d): #ideally we would never see this bc etags/last modified would prevent unnecessarily downloading what we all ready have.\n        print(\"Arrg these are the same\")\n</code></pre>\n\n<p>I'm honestly not sure if rss/xml technology has changed from the references I've been using online or if there is a problem with my code. </p>\n\n<p>Regardless I'm looking for a best solution to efficiently use rss feeds. As it stands I'm looking to minimize bandwidth waste such as that which is intended by use of last-modified and the etags fields. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","numpy","histogram"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13205219,"title":"How does matplotlib's histogramdd work?","body":"<p>I find the output of histogramdd confusing. For example:</p>\n\n<pre><code>h, edges = histogramdd([[1,2,1],[4,2,1]],bins=2)\n\nh -&gt; [[ 1.  1.]\n     [ 1.  0.]]\nedges -&gt; [array([ 1. ,  1.5,  2. ]), array([ 1. ,  2.5,  4. ])]\n</code></pre>\n\n<p>Maybe I don't understand the <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.histogramdd.html\" rel=\"nofollow\">documentation</a>, but it seems to suggest that the input should be an array with <code>N</code> rows representing data points and <code>D</code> columns representing dimensions (so in this case, we are dealing with two data points in three dimensions) and I guess that each array in <code>edges</code> represents a different dimension but that doesn't seem to make sense based on the output <code>h</code>.</p>\n\n<p>How is this supposed to be interpreted?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","testing"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13296753,"title":"Good strategy to perform unit tests on program that prints to stdout?","body":"<p>I have a python program of about 500 lines that writes to stdout (using print statements). Now I'd like to make some changes and do refactoring of the program, but I want to make sure that in the process of doing so I keep getting the same output (given the same input, of course).</p>\n\n<p>What would be a good strategy to do so, without rewriting the functions to return strings (allowing for easier testing) instead of the current <code>print</code>-ing? </p>\n\n<p>I though of redirecting the initial output (before I start changing it) to a text file. How can I then easily and automatically check the output of the modified program with the textfile (without redirecting that output again to a temporary text file and comparing the files)?</p>\n"},{"tags":["python","beautifulsoup"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13283921,"title":"How to add a Tag (which is in the form of a string) to a soup in BeautifulSoup","body":"<p>I have a Tag which is available to me as a string only.\nExample: tag_str = 'hello'</p>\n\n<p>When I do the following:</p>\n\n<pre><code>template_logo_h1_tag.insert(0, tag_str)\n</code></pre>\n\n<p>Where \ntemplate_logo_h1_tag is a h1 tag</p>\n\n<p>the resulting template_logo_h1_tag is</p>\n\n<pre><code>&lt;h1 id=\"logo\"&gt;&amp;lt;a&amp;gt;hello&amp;lt;/a&amp;gt;&lt;/h1&gt;\n</code></pre>\n\n<p>I want to avoid this HTML escaping\nand the resulting tag to be</p>\n\n<pre><code>&lt;h1 id=\"logo\"&gt;&lt;a&gt;hello&lt;/a&gt;&lt;/h1&gt;\n</code></pre>\n\n<p>Is there anything I am missing?\nI tried BeautifulSoup.HTML_ENTITIES but this to unescape already \"html-escaped\" strings.\nIt would be great if you could help me out!</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":45,"score":1,"question_id":13293731,"title":"ValueError: object too deep for desired array","body":"<pre><code>\"\"\" ___ \"\"\"\nfrom scipy.optimize import root\nimport numpy as np\n\n\nLENGTH = 3\n\n\ndef process(x):\n    return x[0, 0] + x[0, 1] * 5\n\n\ndef draw(process, length):\n    \"\"\" \"\"\"\n    X = np.matrix(np.random.normal(0, 10, (length, 2)))\n    y = np.matrix([process(x) for x in X])\n    y += np.random.normal(3, 1, len(y))\n    return y.T, X.T\n\n\ndef maximum_likelyhood(y, X):\n    def objective(b):\n        return (X.T * (y - X * b.T))\n    x0 = np.matrix([0, 0])\n    res = root(objective, x0=x0)\n    return res.x\n\ny, X = draw(process, LENGTH)\nX = X.transpose()\nb = np.matrix([[0], [1]])\nprint maximum_likelyhood(y, X)\n</code></pre>\n\n<p>produces a</p>\n\n<pre><code>  Traceback (most recent call last):\nFile \"ml.py\", line 33, in &lt;module&gt;\n  maximum_likelyhood(y, X)\nFile \"ml.py\", line 26, in maximum_likelyhood\n  res = root(objective, x0=x0)\nFile \"/usr/local/lib/python2.7/dist-packages/scipy/optimize/_root.py\", line 168, in root\n  sol = _root_hybr(fun, x0, args=args, jac=jac, **options)\nFile \"/usr/local/lib/python2.7/dist-packages/scipy/optimize/minpack.py\", line 193, in    _root_hybr\nml, mu, epsfcn, factor, diag)\n\nValueError: object too deep for desired array \n</code></pre>\n\n<p>I can't even gasp what the problem is is it in the b which goes into the objective\nfunction? or is it in its output?</p>\n"},{"tags":["python","tornado"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13297916,"title":"send form information to python module","body":"<p>I'm using the tornado framework and I want to send information users input into a form to another python module. Currently in my python module I have a tornado class which gets the form input data, as such:</p>\n\n<pre><code>class MainHandler(tornado.web.RequestHandler):\n    def get(self):\n        self.render('main.html')\n\n    def post(self):\n        event = self.get_argument('event')\n        print event\n</code></pre>\n\n<p>I now want to send this data (event) to another module as an arg.</p>\n"},{"tags":["python","debian","deb","dpkg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13298126,"title":"debuild fails on library requiring Python2.6","body":"<p>I am trying to debianize a python package that requires Python 2.6 using stdeb. The build fails because it forces setup.py to be run with python2.5, which can't parse the python 2.6 \"except Exception as e\" syntax which leads to a final:</p>\n\n<pre><code>dpkg-buildpackage: error: fakeroot debian/rules clean gave error exit status 2\n</code></pre>\n\n<p>I am running this on Debian Squeeze using python-stdeb 0.6.0-1, debhelper 8.0.0, dpkg 1.15.8.13, and devscripts 2.10.69+squeeze4.</p>\n\n<p>So, is there a way to tell debuild \"please use python 2.6, pretty please\"?</p>\n"},{"tags":["python","html","variables","heroku","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13297164,"title":"Pass variables to HTML page in Python","body":"<p>I have one webpage displaying the data from a json file. I want to take the data from that file and pass it to an html page. Right now, I'm just trying to get the information to show up, but I keep getting an error. NOTE: the only line that seems to be giving me trouble is the \"\"\"number=Number()\"\"\" line. If i take that out and have the app return \"hello world\" or something like that, it works fine. Here is my code.</p>\n\n<pre><code>import os\nimport json\nimport urllib\nimport ast\nfrom flask import Flask\nfrom flask import render_template\n\napp = Flask(__name__)\n\nclass Number(object):\n    def __init__(self):\n        self.aquire = urllib.urlopen(\"http://www.prices.datanab.net/us/gasoline_json\")\n        self.unpacked = self.aquire.read()\n        self.data = json.loads(self.unpacked)\n\n@app.route('/')\ndef index():\n    return  render_template('prices.html')\n\n@app.route('/us/gasoline', endpoint='gasoline')\ndef hello():\n    number = Number()\n    return number.data\n\n@app.route('/us/gasoline_json', endpoint='gasoline_json')\ndef index():\n    return  render_template('json/gasoline.json')\n\nif __name__ == '__main__':\n    # Bind to PORT if defined, otherwise default to 5000.\n    port = int(os.environ.get('PORT', 5000))\n    app.run(host='0.0.0.0', port=port)\n</code></pre>\n\n<p>once I get this part working, I want to replace </p>\n\n<pre><code>@app.route('/us/gasoline', endpoint='gasoline')\ndef hello():\n    number = Number()\n    return number.data\n</code></pre>\n\n<p>with </p>\n\n<pre><code>@app.route('/us/gasoline', endpoint='gasoline')\ndef hello():\n     number = Number()\n     return render_template('page.html',variable=number.data)\n</code></pre>\n\n<p>and then have some code in the html document to display the data.</p>\n"},{"tags":["python","multiple-inheritance"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13297754,"title":"Call all __init__ but once in Python","body":"<p>I have a structure like</p>\n\n<pre><code>class A:\n    def __init__(self, x):\n        self.a=x\n\nclass B(A):\n    def __init__(self, x):\n        self.b=x\n\nclass C(A):\n    def __init__(self, x):\n        self.c=x\n\nclass D(B,C):\n    def __init__(self, x):\n        self.d=x\n</code></pre>\n\n<p>Now I'd like to extend the <code>__init__</code>s such that both <code>B</code> and <code>C</code> will call <code>A</code>, too (B and C can be used as stand-alone classes). Moreover <code>D</code> should call A, B and C (D combines features from B and C but still needs to run all initializations). All <code>__init__</code> take the same parameter. Obviously A should be called only once.</p>\n\n<p>Do you see an easy way to do that?</p>\n"},{"tags":["python","web-scraping"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13296779,"title":"How to get value from a javascript table?","body":"<p>I'm trying to get information from the following site: <a href=\"http://www.ebi.ac.uk/intact/\" rel=\"nofollow\">http://www.ebi.ac.uk/intact/</a>, then search Q9SUE8. Using urllib I get the html of the page: </p>\n\n<pre><code>import urllib2\nimport urllib\nurl = 'http://www.ebi.ac.uk/intact/'\nvalues = {'queryTxt':'Q9SUE8'}\n\ndata = urllib.urlencode(values)\nreq = urllib2.Request(url, data)\nresponse = urllib2.urlopen(req)\nthe_page = response.read()\nprint the_page\n</code></pre>\n\n<p>When searching Q9SUE8 from the browser it gives the following table as a result:</p>\n\n<pre><code>#    Molecule 'A'    Links 'A'    Molecule 'B'    Links 'B'    some more columns\n--------------------------------------------------------------------------------\n1    T13J8.10        Q9SUE8       GRF7            Q96300\n                     EBI-4459886\n</code></pre>\n\n<p>I want to extract the value Q96300. I can find the column headers back in the html:</p>\n\n<pre><code>&lt;tr&gt;\n  &lt;td&gt;\n    &lt;input id=\"mainPanels:columnSelection:3\" type=\"checkbox\" name=\"mainPanels:columnSelection\" checked=\"checked\" value=\"moleculeB.links\" /&gt;\n    &lt;label for=\"mainPanels:columnSelection:3\"&gt;&amp;#160;Links 'B'&lt;/label&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;   \n</code></pre>\n\n<p>I'm not familiar with javascript but I guess that Q96300 comes from value=\"moleculeB.links\". How can I get that value?</p>\n"},{"tags":["python","windows"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13297381,"title":"Is the Python Windows launcher (Python 3.3/PEP 397) backwards compatible?","body":"<p>Is the new Windows launcher (interprets shebangs) in <a href=\"http://www.python.org/download/releases/3.3.0/\" rel=\"nofollow\">Python 3.3.0</a> (courtesy <a href=\"http://www.python.org/dev/peps/pep-0397/\" rel=\"nofollow\">PEP 397</a>) backwards compatible with all old Py 2.X interpreters?  From reading the PEP I can't quite tell for sure, and/or if I have to do anything special to get them to coexist.  The last update to the PEP is over a year old, versus the ~1 month old 3.3 release.</p>\n"},{"tags":["python","except"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13297748,"title":"Python: except ValueError only for strings.","body":"<p>Is there a way in Python 3.3 to only except ValueError for strings? If I type a string into k, I want \"Could not convert string to float\" to be printed, rather than \"Cannot take the square root of a negative number.\"</p>\n\n<pre><code>while True:\n    try:\n        k = float(input(\"Number? \"))\n</code></pre>\n\n<p>....</p>\n\n<pre><code>    except ValueError:\n        print (\"Cannot take the square root of a negative number\")\n        break\n    except ValueError:\n        print (\"Could not convert string to float\")\n        break\n</code></pre>\n"},{"tags":["python","executable"],"answer_count":10,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":14837,"score":1,"question_id":1811691,"title":"running an outside program (executable) in python?","body":"<p>I just started working on python and I have been trying to run an outside executable form python.\nI have an executable for a program written in Fortran. Lets say the name for the executable is flow.exe. And my executable is lacated in C:\\Documents and Settings\\flow_model\nI tried both os.system and popen commands but so far couldnt make it work.\nThe following code seems like opens the command window but wouldnt execute the model.</p>\n\n<pre><code># Import system modules\nimport sys, string, os, arcgisscripting\nos.system(\"C:/Documents and Settings/flow_model/flow.exe\")\n</code></pre>\n\n<p>Any suggestions out there? Any help would be greatly appreciated.</p>\n"},{"tags":["python","osx","macports"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13286324,"title":"_tkinter.TclError: no display name and no $DISPLAY environment variable","body":"<p>As I said, I have installed Python 3.3 from Macports. </p>\n\n<p>Now when I do a spotlight search for Idle </p>\n\n<pre><code>Idle -- Python 3.3\n</code></pre>\n\n<p>shows up. However when I try to click it, nothing happens. No error is shown or anything- it plain does not start.</p>\n\n<p>What do you think might be wrong? </p>\n\n<p>It is reminiscent of this question: <a href=\"http://stackoverflow.com/questions/8366401/python-3-0-idle-wont-open-it-just-bounces-in-the-dock\">Python 3.0 - Idle wont open. It just bounces in the dock</a></p>\n\n<p>The difference is that I get no error messages and am using 3.3</p>\n\n<hr>\n\n<p>Update:</p>\n\n<p>Now I tried setting Py3.3 as my main version using macports select. Then I tried opening IDLE from the console and got the following error message:</p>\n\n<pre><code>  Traceback (most recent call last):\n  File \"/opt/local/bin/idle\", line 5, in &lt;module&gt;\n    main()\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/idlelib/PyShell.py\", line 1421, in main\n    root = Tk(className=\"Idle\")\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/tkinter/__init__.py\", line 1756, in __init__\n    self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use)\n_tkinter.TclError: no display name and no $DISPLAY environment variable\n</code></pre>\n"},{"tags":["python","list","statistics","counter"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":13260234,"title":"Function in one line to count winning coupons on lottery","body":"<p>Function in one line to count winning coupons on lottery</p>\n"},{"tags":["python","python-3.x"],"answer_count":9,"favorite_count":8,"up_vote_count":27,"down_vote_count":0,"view_count":9753,"score":27,"question_id":341184,"title":"Can I install python 3.x and 2.x on the same computer?","body":"<p>I'm running windows and the shell/os automatically runs python based on the registry settings when you run a program on the command line. Will this break if I install a 2.x and 3.x version of python on the same machine?</p>\n\n<p>I want to play with 3.0 while still be able to run 2.x scripts on the same machine... </p>\n"},{"tags":["python","generator","else"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13297649,"title":"Different use (not the most common one) of else clause in python","body":"<p>There is an exercise in 6.00x edX whose answer's suggestion provided by them is as follows:</p>\n\n<pre><code>def genPrimes():\n    primes = []   # primes generated so far\n    last = 1      # last number tried\n    while True:\n        last += 1\n        for p in primes:\n            if last % p == 0:\n                break\n        else:\n            primes.append(last)\n            yield last\n</code></pre>\n\n<p>Looking to the identation I can clearly see that this ELSE is not related to the IF. I thought it was a bug but when I executed, the code was fine and I can't understand what is happening, what does that ELSE does?</p>\n"},{"tags":["python","nlp","scipy","sparse-matrix","scikit-learn"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":26,"score":3,"question_id":13294254,"title":"Counting with scipy.sparse","body":"<p>I am using the Python sklearn libraries.\nI have 150,000+ sentences.</p>\n\n<p>I need an array-like object, where each row is for a sentences, each column corresponds to a word, and each element is the number of words in that sentence.</p>\n\n<p>For example: If the two sentences were \"The dog ran\" and \"The boy ran\", I need</p>\n\n<pre><code>[ [1, 1, 1, 0]\n, [0, 1, 1, 1] ]\n</code></pre>\n\n<p>(the order of the columns is irrelevant, and depends on which column is assigned to which word)</p>\n\n<p>My array will be sparse (each sentence will have a fraction of the possible words), and so I am using scipy.sparse.</p>\n\n<pre><code>def word_counts(texts, word_map):\n    w_counts = sp.???_matrix((len(texts),len(word_map)))\n\n    for n in range(0,len(texts)-1):\n        for word in re.findall(r\"[\\w']+\", texts[n]):\n            index = word_map.get(word)\n            if index != None:\n                w_counts[n,index] += 1\n    return w_counts\n\n...\nnb = MultinomialNB() #from sklearn\nwords = features.word_list(texts)\nnb.fit(features.word_counts(texts,words), classes)\n</code></pre>\n\n<p>I want to know what sparse matrix would be best.</p>\n\n<p>I tried using coo_matrix but got an error:</p>\n\n<blockquote>\n  <p>TypeError: 'coo_matrix' object has no attribute '__getitem__'</p>\n</blockquote>\n\n<p>I looked at the <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.coo_matrix.html#scipy.sparse.coo_matrix\" rel=\"nofollow\">documentation</a> for COO but was <strong>very confused by the following</strong>:</p>\n\n<blockquote>\n  <p>Sparse matrices can be used in arithmetic operations ...<br>\n  Disadvantages of the COO format ...\n  does not directly support: \n  arithmetic operations</p>\n</blockquote>\n\n<p>I used dok_matrix, and that worked, but I don't know if this performs best in this case.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","unit-testing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13297572,"title":"Exception not caught by assertRaises","body":"<p>I have a unit test that checks for exception in constructor:</p>\n\n<pre><code>import unittest\nfrom jaboci import Jacobi\n\nclass TestJacobi(unittest.TestCase):\n\n    def test_even(self):\n        a = 11\n        n = 12\n        Jacobi(a, n)\n        self.assertRaises(ValueError, Jacobi, a, n)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>The class under test:</p>\n\n<pre><code>class Jacobi:\n\n    def __init__(self, a, n):\n        self.a = a\n        self.n = n\n        if n % 2 == 0:\n            raise ValueError(\"N must be odd.\")\n</code></pre>\n\n<p>When i run unittest with <code>-m unittest discover</code>, the test fails:</p>\n\n<pre><code>E\n======================================================================\nERROR: test_even (test_jacobi.TestJacobi)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/prasopes/prg/python/PycharmProjects/jacobi_symbol/test_jacobi.py\", line 9, in test_even\n    Jacobi(a, n)\n  File \"/home/prasopes/prg/python/PycharmProjects/jacobi_symbol/jaboci.py\", line 7, in __init__\n    raise ValueError(\"N must be odd.\")\nValueError: N must be odd.\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (errors=1)\n</code></pre>\n"},{"tags":["python","django","django-queryset","django-orm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":14,"score":-1,"question_id":13297746,"title":"django queryset from a list or set","body":"<p>I am having list (could be a set or another iterable) of, say, emails strings, and I want to get all of a models' objects that have attribute 'email' matching any of those emails.</p>\n\n<p>I am doing:</p>\n\n<pre><code>from myapp.models import MyModel\nl=['email1@x.com', 'email2@x.com', 'email3@y.com']\nfrom django.db.models import Q\n\nq = Q(email=l[0])\nfor e in l[1:]:\n    q |= Q(email=e)\nMyModel.objects.get(q)\n</code></pre>\n\n<p>Is there a way to do it more elegantly?</p>\n"},{"tags":["python","selenium","webdriver","lettuce","saucelabs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13297774,"title":"Why are my Python Selenium Lettuce tests failing randomly?","body":"<p>After attempting to use multiple types of selectors and rewriting massive portions of code I still was experiencing strange and random errors. I did a lot of googling to discover other users were having similar issues. Sauce labs mentioned in their blog <a href=\"http://sauceio.com/index.php/2011/04/how-to-lose-races-and-win-at-selenium/\" rel=\"nofollow\">here</a> that many of the issues they encountered with these random failures are due to race conditions (The test case executing too quickly). They offer a solution as using a try / except loop function they designed calles spin_assert; however, I feel that I am still encountering the same issues. </p>\n\n<p>I see the most errors when i run the tests on mac/firefox but see the most passes on windows/firefox. I have increased time.sleep() to many different increments. I have also attempted opening a new browser for each scenario to reduce the memory problem that firefox may have. I am running out of options. </p>\n\n<p>When running the tests manually, I am able to pass them successfully, even using the same exact selectors and steps as presented in my code. Where else can I look to improve efficiency and test reliability?</p>\n"},{"tags":["python","pyyaml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13297744,"title":"PyYAML : Control ordering of items called by yaml.load()","body":"<p>I have a yaml setting file which creates some records in db:</p>\n\n<pre><code>setting1:\n  name: [item,item]\n  name1: text\nanothersetting2:\n  name: [item,item]\n  sub_setting:\n      name :[item,item]\n</code></pre>\n\n<p>when i update this file with <em>setting3</em> and regenerate records in db by:</p>\n\n<pre><code>import yaml\nfh = open('setting.txt', 'r')\nsetting_list = yaml.load(fh)\nfor i in setting_list:\n    add_to_db[i]\n</code></pre>\n\n<p>it's vital that the order of them settings (id numbers in db) stay the same each time as im addig them to the db... and setting3 just gets appended to the yaml.load()'s end so that its id doesn't confuse any records which are already in the db ... \nAt the moment each time i add another setting and call yaml.load() records get loaded in different order which results in different ids. I would welcome any ideas ;)</p>\n"},{"tags":["python","map","multiprocessing","ctypes"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":355,"score":1,"question_id":9856196,"title":"Sharing a variable between processes","body":"<p>I have a downloader function that downloads multiple files parallely.\nI use <code>multiprocessing.Pool.map_async</code> in order to download different chunks of the same file.\nI would like to show a statusbar of the download. For this, I need to know the total bytes that has been already downloaded (<code>total_bytes_dl</code>).</p>\n\n<pre><code>    pool = multiprocessing.Pool(processes)\n    mapObj = pool.map_async(f, args)\n\n    while not mapObj.ready():\n        status = r\"%.2f MB / %.2f MB\" % (total_bytes_dl / 1024.0 / 1024.0, filesize / 1024.0 / 1024.0,)\n        status = status + chr(8)*(len(status)+1)\n        print status,\n        time.sleep(0.5)\n</code></pre>\n\n<p>Is there a way to set a variable that will be shared among all these processes AND the main process, so every process can append the amount of bytes that has just downloaded?</p>\n"},{"tags":["python","lxml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13297461,"title":"Python lxml objectify - How to create elements with a dash","body":"<p>I have a need to use lxml's objectify module to create some xml elements that have a dash in them. For example:</p>\n\n<pre><code>&lt;program-id&gt;$Id: myFile.py 3519 2012-07-17 13:37:20Z $&lt;/program-id&gt;\n&lt;formatter-txt&gt;basic format&lt;/formatter-txt&gt;\n</code></pre>\n\n<p>I can't find any references online about how to do this and when I try to just do it in Python, it's a syntax error. Any help would be appreciated.</p>\n"},{"tags":["python","ipython"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13297219,"title":"Where to use ipython and where is ipthon shell?","body":"<p>I've installed ipython, but I don't know how to use it. Where could I find ipython shell? </p>\n"},{"tags":["python","sqlite3","python-2.7"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":61,"score":6,"question_id":13237788,"title":"Using multiple cursors in a nested loop in sqlite3 from python-2.7","body":"<p>I’ve been having problems using multiple cursors on a single sqlite database within a nested loop. I found a solution that works for me, but it’s limited and I haven’t seen this specific problem documented online. I’m posting this so:\n-- A clear problem/solution is available\n-- To see if there’s a better solution\n-- Perhaps I’ve found a defect in the sqlite3 python module</p>\n\n<p>Here’s the situation:\nMy Python app is storing social relationship data in sqlite. The dataset includes a one-to-many relationship between two tables: myConnections and sharedConnections. The former has one row for each connection. The sharedConnections table has 0:N rows, depending on how many connections are shared. To build the structure, I use a nested loop. In the outside loop I visit each row in myConnections. In the inside loop, I populate the sharedConnections table. The code looks like this:</p>\n\n<pre><code>curOuter = db.cursor()  \nfor row in curOuter.execute('SELECT * FROM myConnections'):    \n    id  = row[0]  \n    curInner = db.cursor()  \n    scList = retrieve_shared_connections(id)  \n    for sc in scList:  \n        curInner.execute('''INSERT INTO sharedConnections(IdConnectedToMe, IdShared) VALUES (?,?)''', (id,sc))  \ndb.commit()  \n</code></pre>\n\n<p>The result is odd. The <code>sharedConnections</code> table gets duplicate entries for the first two records in <code>myConnections</code>. They’re a bit collated. A’s connections, B’s connections, followed by A and then B again.  After the initial stutter, the processing is correct! Example:</p>\n\n<pre><code>myConnections\n-------------\na   \nb  \nc  \nd  \n\nsharedConnections\n-------------\na-&gt;b  \na-&gt;c  \nb-&gt;c  \nb-&gt;d  \na-&gt;b  \na-&gt;c  \nb-&gt;c  \nb-&gt;d  \n</code></pre>\n\n<p>The solution is imperfect. Instead of using the iterator from the outside loop cursor, I <code>SELECT</code>, then <code>fetchall()</code> and loop through the resulting list. Since my dataset is pretty small, this is OK.</p>\n\n<pre><code>curOuter = db.cursor()\ncurOuter.execute('SELECT * FROM myConnections'):\nrows = curOuter.fetchall()\nfor row in rows:    \n    id  = row[0]\n    curInner = db.cursor()\n    scList = retrieve_shared_connections(id)\n    for sc in scList:\n        curInner.execute('''INSERT INTO sharedConnections(IdConnectedToMe, IdShared) VALUES (?,?)''', (id,sc))\ndb.commit()\n</code></pre>\n\n<p>There you have it. Using two cursors against different tables in the same sqlite database within a nested loop doesn’t seem to work. What’s more, it doesn’t fail, it just gives odd results.</p>\n\n<p>So:\n-- Is this truly the best solution?<br>\n-- Is there a better solution?<br>\n-- Is this a defect that should be addressed?</p>\n"},{"tags":["python","list"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13297595,"title":"Variable list automatically updated in python","body":"<p>I play with python 2.7. Here's my problem:</p>\n\n<pre><code>&gt;&gt;&gt; bra=[]\n&gt;&gt;&gt; put=['a','t']\n&gt;&gt;&gt; bra.append(put)\n&gt;&gt;&gt; bra\n[['a', 't']]\n&gt;&gt;&gt; bra.append(put)\n&gt;&gt;&gt; bra\n[['a', 't'], ['a', 't']]\n&gt;&gt;&gt; bra.append(put.reverse())\n&gt;&gt;&gt; bra\n[['t', 'a'], ['t', 'a'], None]\n</code></pre>\n\n<p>My question is: why does de python interpreter give that result in the last line, instead this:</p>\n\n<pre><code>[['a', 't'], ['a', 't'], ['t', 'a']]\n</code></pre>\n\n<p>or how can I get this result?</p>\n"},{"tags":["python","osx","opencv","macports","py2app"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":13131024,"title":"py2app error for opencv/macports app. How to compile opencv with headerpad_max_install_names flag?","body":"<p>I am trying to build an app using opencv and pygame. These two libs have been installed with macports. I also installed py2app in the macports python.\nI am running a simple py2app script</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    app = [\n        '/full/path/to/my_script.py',\n    ],\n    options={\n        \"py2app\":{\n            'argv_emulation': True, \n        }\n    },\n    setup_requires=['py2app']\n)\n</code></pre>\n\n<p>Unfortunately, py2app fails with the following error :\"ValueError: New Mach-O header is too large to relocate\"</p>\n\n<p>Is it possible to make an app bundle with opencv and macports?</p>\n\n<p>Thanks for your help</p>\n\n<p>Update:</p>\n\n<p>Here is the answer of ronaldoussoren whoi is the py2app developper:</p>\n\n<blockquote>\n  <p>Shared libraries on OSX contain an absolute path to their location,\n  and likewise all used libraries are also mentioned using an absolute\n  path. Py2app uses macholib to rewrite those mentions to relative paths\n  starting with '@executable_path'. For libraries that are located in\n  /opt/local the new path requires more space than the old one, hence\n  the error message. One way to ensure that there is enough space is the\n  linker flag \"headerpad_max_install_names\". I don't know how to tell\n  darwinports to add this flag when building opencv.</p>\n</blockquote>\n\n<p>Please also note that I've a similar issue with pyinstaller.</p>\n\n<p>I've tried to modify the opencv Portfile without any changes. I don't really know where to add this linker flag.</p>\n\n<p>Any idea how to fix it?</p>\n\n<p>Update: Here is my Portfile</p>\n\n<pre><code># -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4\n# $Id: Portfile 99165 2012-10-28 22:56:03Z jeremyhu@macports.org $\n\nPortSystem                      1.0\nPortGroup                       cmake 1.0\n\nname                            opencv\nversion                         2.4.2\nrevision                        2\ncategories                      graphics science\nlicense                         BSD\nplatforms                       darwin\nmaintainers                     nomaintainer\n\ndescription                     Intel(R) Open Source Computer Vision Library\n\nlong_description                opencv is a library that is mainly aimed at real time \\\n                                computer vision. Some example areas would be \\\n                                Human-Computer Interaction (HCI), Object Identification, \\\n                                Segmentation and Recognition, Face Recognition, Gesture \\\n                                Recognition, Motion Tracking, Ego Motion, Motion \\\n                                Understanding, Structure From Motion (SFM), and Mobile \\\n                                Robotics.\n\nhomepage                        http://opencv.willowgarage.com/wiki/\nmaster_sites                    sourceforge:project/opencvlibrary/opencv-unix/${version}\nuse_bzip2                       yes\ndistname                        OpenCV-${version}\n\nchecksums                       rmd160  496964503629b0ff4432fbdd276837ab3f134411 \\\n                                sha256  690023811e03e21df996291392fcf78e43e42ef557b9307503c74c74b4272c28\n\ndepends_build-append            port:pkgconfig\n\ndepends_lib-append              port:zlib \\\n                                path:lib/libavcodec.dylib:ffmpeg \\\n                                port:libpng \\\n                                port:tiff \\\n                                port:jasper \\\n                                port:jpeg \\\n                                port:bzip2 \\\n                                port:openexr \\\n                                port:ilmbase \\\n                                port:eigen3\n\npatchfiles                      patch-fix_dirname_case.diff \\\n                                patch-install_name.diff\n\nconfigure.args-append           -DBUILD_NEW_PYTHON_SUPPORT=OFF \\\n                                -DBUILD_EXAMPLES=ON \\\n                                -DINSTALL_C_EXAMPLES=ON \\\n                                -DBZIP2_LIBRARIES=${prefix}/lib/libbz2.dylib \\\n                                -DZLIB_LIBRARY=${prefix}/lib/libz.dylib \\\n                                -DWITH_OPENEXR=ON \\\n                                -DWITH_1394=OFF \\\n                                -DWITH_EIGEN=ON \\\n                                -DEIGEN_INCLUDE_PATH=${prefix}/include/eigen3 \\\n                                -DBUILD_JASPER=OFF \\\n                                -DBUILD_JPEG=OFF \\\n                                -DBUILD_PNG=OFF \\\n                                -DBUILD_TIFF=OFF \\\n                                -DBUILD_ZLIB=OFF\nconfigure.ldflags-append        \"-Wl,-headerpad_max_install_names\"\n\n# gcc-4.0 exits with a bus error\nif {${configure.compiler} == \"gcc-4.0\"} {\n    configure.compiler gcc-4.2\n    if {![file executable ${configure.cc}]} {\n        depends_build-append port:apple-gcc42\n        depends_skip_archcheck-append apple-gcc42\n        configure.compiler apple-gcc-4.2\n    }\n}\n\nplatform darwin {\n    if {${os.major} &lt;= 9} {\n        # Video Decode Acceleration Framework is not available\n        patchfiles-append       patch-highgui_CMakeLists.txt.diff\n    }\n}\n\npost-destroot {\n    xinstall -d ${destroot}${prefix}/lib/cmake\n    move ${destroot}${prefix}/share/OpenCV/OpenCVConfig-version.cmake \\\n        ${destroot}${prefix}/share/OpenCV/OpenCVConfig.cmake \\\n        ${destroot}${prefix}/lib/cmake/\n}\n\nvariant dc1394 description {Use libdc1394 for FireWire camera. Breaks compatibility with Apple iSight FireWire camera.} {\n    depends_lib-append          port:libdc1394\n    configure.args-delete       -DWITH_1394=OFF\n    configure.args-append       -DWITH_1394=ON \\\n                                -DHAVE_1394=ON\n}\n\nvariant qt4 description {Use qt4 backend for graphical interface.} {\n    PortGroup                   qt4 1.0\n    configure.args-append       -DWITH_QT=ON\n}\n\nvariant python26 conflicts python27 description {Add Python 2.6 bindings} {\n    depends_lib-append          port:python26 \\\n                                port:py26-numpy\n    configure.args-delete       -DBUILD_NEW_PYTHON_SUPPORT=OFF\n    configure.args-append       -DINSTALL_PYTHON_EXAMPLES=ON \\\n                                -DBUILD_NEW_PYTHON_SUPPORT=ON \\\n                                -DPYTHON_EXECUTABLE=${prefix}/bin/python2.6 \\\n                                -DPYTHON_LIBRARY=${prefix}/lib/libpython2.6.dylib \\\n                                -DPYTHON_INCLUDE_DIR=${frameworks_dir}/Python.framework/Versions/2.6/Headers \\\n                                -DPYTHON_PACKAGES_PATH=${frameworks_dir}/Python.framework/Versions/2.6/lib/python2.6/site-packages\n}\n\nvariant python27 conflicts python26 description {Add Python 2.7 bindings} {\n    depends_lib-append          port:python27 \\\n                                port:py27-numpy\n    configure.args-delete       -DBUILD_NEW_PYTHON_SUPPORT=OFF\n    configure.args-append       -DINSTALL_PYTHON_EXAMPLES=ON \\\n                                -DBUILD_NEW_PYTHON_SUPPORT=ON \\\n                                -DPYTHON_EXECUTABLE=${prefix}/bin/python2.7 \\\n                                -DPYTHON_LIBRARY=${prefix}/lib/libpython2.7.dylib \\\n                                -DPYTHON_INCLUDE_DIR=${frameworks_dir}/Python.framework/Versions/2.7/Headers \\\n                                -DPYTHON_PACKAGES_PATH=${frameworks_dir}/Python.framework/Versions/2.7/lib/python2.7/site-packages\n    configure.ldflags-append    \"-Wl,-headerpad_max_install_names\"\n}\n\nvariant tbb description {Use Intel TBB} {\n    depends_lib-append          port:tbb\n    configure.args-append       -DWITH_TBB=ON \\\n                                -DHAVE_TBB=ON \\\n                                -DTBB_INCLUDE_DIRS=${prefix}/include \\\n                                -DOPENCV_LINKER_LIBS=\"-ltbb -ltbbmalloc\"\n}\n\nlivecheck.type                  sourceforge\nlivecheck.name                  opencvlibrary\nlivecheck.regex                 /OpenCV-(\\[0-9a-z.\\]+)${extract.suffix}\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":26,"score":3,"question_id":13294981,"title":"Monkey patch to raise AttributeError on attempted use of a particular attribute of an object","body":"<p>I have an instance of a python class.</p>\n\n<pre><code>class Fum(object):\n  foo = Foo()\n  bar = Bar()\n\nfum = Fum()\n</code></pre>\n\n<p>For good reasons that I don't want to get into, I want to monkey patch this object so that one of its attributes is off-limits in a certain use case. I'd prefer that if I or another developer down the road tries to use the attribute on the monkey-patched object, a useful exception is raised which explains the situation. I tried to implement this with a property, but am not having luck. </p>\n\n<p>e.g.,</p>\n\n<pre><code>def raiser():\n  raise AttributeError(\"Don't use this attribute on this object. Its disabled for X reason.\")\n\nfum.bar = property(raiser)\n\n&gt;&gt;&gt; fum.bar\n&gt;&gt;&gt; &lt;property object at 0xb0b8b33f&gt;\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["python","selenium"],"answer_count":2,"favorite_count":6,"up_vote_count":5,"down_vote_count":1,"view_count":1539,"score":4,"question_id":5198839,"title":"Selenium in Python","body":"<p>I've been using urllib2 to access webpages, but it doesn't support javascript, so I took a look at Selenium, but I'm quite confused even having read its docs.</p>\n\n<p>I downloaded Selenium IDE add-on for firefox and I tried some simple things.</p>\n\n<pre><code>from selenium import selenium\nimport unittest, time, re\n\nclass test(unittest.TestCase):\n    def setUp(self):\n        self.verificationErrors = []\n        self.selenium = selenium(\"localhost\", 4444, \"*chrome\", \"http://www.wikipedia.org/\")\n        self.selenium.start()\n\n    def test_test(self):\n        sel = self.selenium\n        sel.open(\"/\")\n        sel.type(\"searchInput\", \"pacific ocean\")\n        sel.click(\"go\")\n        sel.wait_for_page_to_load(\"30000\")\n\n    def tearDown(self):\n        self.selenium.stop()\n        self.assertEqual([], self.verificationErrors)\n\nif __name__ == \"__main__\":\n    unittest.main()\n</code></pre>\n\n<p>I just access wikipedia.org and type pacific ocean in the search field, but when I try to compile it, it gives me a lot of errors.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13297406,"title":"Using File Extension Wildcards in os.listdir(path)","body":"<p>I have a directory of files that I am trying to parse using Python. I wouldn't have a problem if they were all the same extension, but for whatever reason they are created with sequential numeric extensions after their original extension. For example: <code>foo.log foo.log.1 foo.log.2 bar.log bar.log.1 bar.log.2 etc.</code> On top of that, foo.log is in XML format, while bar.log is not. What's the best route to take in order to read and parse only the <code>foo.log.*</code> <em>and</em> <code>foo.log</code> files? The <code>bar.log</code> files do not need to be read. Below is my code:</p>\n\n<pre><code>import os\nfrom lxml import etree\npath = 'C:/foo/bar//'\nlisting = os.listdir(path)\nfor files in listing:\n    if files.endswith('.log'):\n        print files\n        data = open(os.path.join(path, files), 'rb').read()\n        tree = etree.fromstring(data)\n        search = tree.findall('.//QueueEntry')\n</code></pre>\n\n<p>This doesn't work as doesnt read any <code>.log.*</code> files and the parser chokes on the files that are read, but are not in xml format. Thanks!</p>\n"},{"tags":["python","numpy","cython"],"answer_count":0,"favorite_count":0,"up_vote_count":11,"down_vote_count":0,"view_count":77,"score":11,"question_id":13199218,"title":"How to create a custom numpy dtype using cython","body":"<p>There are examples for creating custom numpy dtypes using C here:\n<a href=\"https://github.com/numpy/numpy-dtypes\" rel=\"nofollow\">https://github.com/numpy/numpy-dtypes</a></p>\n\n<p>Additionally, it seems to be possible to create custom ufuncs in cython:\n<a href=\"http://scipy-lectures.github.com/advanced/advanced_numpy/index.html#exercise-building-an-ufunc-from-scratch\" rel=\"nofollow\">http://scipy-lectures.github.com/advanced/advanced_numpy/index.html#exercise-building-an-ufunc-from-scratch</a></p>\n\n<p>It seems like it should also be possible to create a dtype using cython (and then create custom ufuncs for it).  Is it possible? If so, can you post an example?</p>\n\n<p>USE CASE:</p>\n\n<p>I want to do some survival analysis.  The basic data elements are survival times (floats) with associated censor values (False if the associated time represents a failure time and True if it instead represents a censoring time (i.e., no failure occurred during the period of observation)).</p>\n\n<p>Obviously I could just use two numpy arrays to store these values: a float array for the times and a bool array for the censor values.  However, I want to account for the possibility of an event occurring multiple times (this is a good model for, say, heart attacks - you can have more than one).  In this case, I need an array of objects which I call MultiEvents.  Each MultiEvent contains a sequence of floats (uncensored failure times) and an observation period (also a float).  Note that the number of failures is not the same for all MultiEvents.</p>\n\n<p>I need to be able to perform a few operations on an array of MultiEvents:</p>\n\n<ol>\n<li><p>Get the number of failures for each</p></li>\n<li><p>Get the censored time (that is the period of observation minus the sum of all failure times)</p></li>\n<li><p>Calculate a log likelihood based on additional arrays of parameters (such as an array of hazard values).  For example, the log likelihood for a single MultiEvent M and constant hazard value h would be something like:</p></li>\n</ol>\n\n<p>sum(log(h) + h*t for t in M.times) - h*(M.period - sum(M.times))</p>\n\n<p>where M.times is the list (array, whatever) of failure times and M.period is the total observation period.  I want the proper numpy broadcasting rules to apply, so that I can do:</p>\n\n<p>log_lik = logp(M_vec,h_vec)</p>\n\n<p>and it will work as long as the dimensions of M_vec and h_vec are compatible.  </p>\n\n<p>My current implementation uses numpy.vectorize.  That works well enough for 1 and 2, but it is too slow for 3.  Note also that I can't do this:</p>\n\n<p><a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html</a></p>\n\n<p>because the number of failures in my MultiData objects is not known ahead of time.</p>\n"},{"tags":["python","django","django-models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13276955,"title":"Get abbreviated column name from Django model field name","body":"<p>I'm having to write a custom where clause for my query.  I need to get the column name as it appears in the Oracle table from the fields in the model.  I'm looping through the model fields in MyModel._meta.fields and getting the name property.  In every case except one the name of the model field is the name of the column.  In the exception, the field name is too long for the column, so Django's syncdb gave the column an abbreviated name.  How do I get the column name?</p>\n\n<p>My field name:  political_contributions_description</p>\n\n<p>The column name: political_contributions_de0ec3</p>\n\n<p>I have tried field.get_attname_column(), as in </p>\n\n<pre><code>for field in MyModel._meta.fields:\n    field.get_attname_column()\n</code></pre>\n\n<p>But that just gives me the following tuple for my field:</p>\n\n<p>('political_contributions_description', 'political_contributions_description')</p>\n\n<p>Btw, an Oracle column over 30 characters will be abbreviated.</p>\n"},{"tags":["python","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12390336,"title":"How to fill the missing record of Pandas dataframe in pythonic way?","body":"<p>I have a Pandas dataframe 'df' like this :</p>\n\n<pre><code>         X   Y  \nIX1 IX2\nA   A1  20  30\n    A2  20  30\n    A5  20  30\nB   B2  20  30\n    B4  20  30\n</code></pre>\n\n<p>It lost some rows, and I want to fill in the gap in the middle like this:</p>\n\n<pre><code>         X   Y  \nIX1 IX2\nA   A1  20  30\n    A2  20  30\n    A3  NaN NaN\n    A4  NaN NaN\n    A5  20  30\nB   B2  20  30\n    B3  NaN NaN\n    B4  20  30\n</code></pre>\n\n<p>Is there a pythonic way to do this ? </p>\n"},{"tags":["python","django","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":36,"score":-3,"question_id":13259216,"title":"simple django code snippet from file upload","body":"<p>sorry for dumb question. </p>\n\n<pre><code>def upload_file(request):\nif request.method == 'POST':\n    form = UploadFileForm(request.POST, request.FILES)\n    if form.is_valid():\n        handle_uploaded_file(request.FILES['file'])\n        return HttpResponseRedirect('/success/url/')\nelse:\n    form = UploadFileForm()\nreturn render_to_response('upload.html', {'form': form})\n</code></pre>\n\n<p>what happens really in the background when i bind the request to the Form? </p>\n"},{"tags":["python","class","function","asynchronous","tornado"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13296763,"title":"Tornado async call to a function","body":"<p>I am making a web application using Python + Tornado which basically serves files to users. I have no database.</p>\n\n<p>The files are either directly picked up and served if they are available, or generated on the fly if not.</p>\n\n<p>I want the clients to be served in an async manner, because some files may already be available, while others need to be generated (thus they need to wait, and I don't want them to block other users).</p>\n\n<p>I have a class that manages the picking or generation of files, and I just need to call it from Tornado.</p>\n\n<p>What is the best way (most efficient on CPU and RAM) to achieve that? Should I use a thread? A sub process? A simple <a href=\"http://stackoverflow.com/questions/11679040/using-gen-task-with-tornado-for-a-simple-function\">gen.Task like this one</a>?</p>\n\n<p>Also, I would like my implementation to work on Google App Engines (I think they do not allow sub processes to be spawned?).</p>\n\n<p>I'm relatively new to the async web servicing, so any help is welcome.</p>\n"},{"tags":["python","rss","google-reader"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13297430,"title":"cannot get all items with google reader python api","body":"<p>I am planning to use google reader api to retrieve all posts from blogs and other websites. But I have some troubles of getting all posts out. I already use continuation string. From the website, I could see there are more than 5000 posts, but my code can only retrieve 1000 posts. Can anyone help me to figure out the reason? Thanks.</p>\n\n<p>My code is as following:</p>\n\n<p>class greader(GoogleReader):</p>\n\n<pre><code>def __init__(self):\n    super(greader,self).__init__()\n    self.identify(*login_info)\n    self.login_flag = self.login()\n\ndef get_all_entries(self,feed=None,target=\"all\"):\n\n    entry_l = []\n    kwargs = {'feed':feed,'order':CONST.ORDER_REVERSE,'count':800}\n    if target == 'unread':\n        kwargs['exclude_target'] = CONST.ATOM_STATE_READ\n\n    xml_feed = self.get_feed(**kwargs)\n    u_entries = xml_feed.get_entries()\n    entry_l.append(u_entries)\n    continuation = xml_feed.get_continuation()\n    kwargs['continuation'] = continuation\n\n    while continuation != None:\n        #rand_int = random.randint(6,11)\n        #time.sleep(rand_int)\n        xml_feed = self.get_feed(**kwargs)\n        u_entries = xml_feed.get_entries()\n        continuation = xml_feed.get_continuation()\n        kwargs['continuation'] = continuation\n        entry_l.append(u_entries)\n\n    return entry_l\n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13282184,"title":"is this the right way to delete object inside dict","body":"<p>i wrote a class inheriting from dict, i wrote a member method to remove objects.</p>\n\n<pre><code>class RoleCOList(dict):\n    def __init__(self):\n        dict.__init__(self)\n\n    def recyle(self):\n        '''\n        remove roles too long no access\n        '''\n        checkTime = time.time()-60*30\n        l = [k for k,v in self.items() if v.lastAccess&gt;checkTime]\n        for x in l:\n            self.pop(x)\n</code></pre>\n\n<p>isn't it too inefficient? i used 2 list loops but i couldn't find other way </p>\n"},{"tags":["python","selenium"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":137,"score":2,"question_id":12014519,"title":"Difference between python selenium webdriver and just selenium?","body":"<p>What is the difference between something like this:</p>\n\n<pre><code>from selenium import webdriver\n\nbrowser = webdriver.Firefox()\nbrowser.get('http://www.ubuntu.com/')\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>from selenium import selenium\n\nselenium = selenium(\"localhost\", 4444, \"firefox\", \"http://www.locationary.com/\")\nselenium.start()\n\nsel = selenium\nsel.open(\"/\")\nsel.type(\"inUserName\", \"email\")\nsel.type(\"inUserPass\", \"password\")\nsel.click(\"login@DEFAULT\")\n</code></pre>\n\n<p>???</p>\n\n<p>Thanks.</p>\n\n<p>EDIT:</p>\n\n<p>Which one should I use?</p>\n"},{"tags":["python","opencv","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13297401,"title":"Trying to use opencv with python on mac os x 10.6","body":"<p>I'm new to python and I'm trying to use the openCV libraries.\nAfter lots of reading and lots of trial and error I decided to ask here.</p>\n\n<p>I installed the openCV with macports, still I keep getting the same error (as I did when installing using the setup.py file inside openCV pkg).\nMy script is a \"Hello world\" script I wrote (copied) from <a href=\"http://www.neuroforge.co.uk/index.php/getting-started-with-python-a-opencv\" rel=\"nofollow\">http://www.neuroforge.co.uk/index.php/getting-started-with-python-a-opencv</a>\nand the \"import cv\" is not working. Is that because of path?\nI tried adding:</p>\n\n<pre><code>import sys \nsys.path.append('/opt/local/include/opencv')\n</code></pre>\n\n<p>but no change...</p>\n\n<p>Thanks,\nYonathan</p>\n\n<p>the full script is:</p>\n\n<pre><code>import cv\n\ncv.NamedWindow('a_window', cv.CV_WINDOW_AUTOSIZE)\nimage = cv.LoadImage('picture.png', cv.LOAD_IMAGE_COLOR)\n\nfont = cv.InitFont(cv.CV_FONT_HERSHEY_SIMPLEX, 1, 1, 0, 3, 8) \n\nx = 200\ny = 200\n\ncv.PutText(frame,\"Hello World!!!\", (x,y),font, 255) \n\ncv.ShowImage('a_window', image)\n\ncv.Waitkey(10000)\ncv.SaveImage('image.png', image)\n</code></pre>\n"},{"tags":["python","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13297065,"title":"Unordered Pattern matching on shell <STDOUT> in Python","body":"<p>I want to call a shell program from within python, the  program returns a list of strings separated by newlines:</p>\n\n<pre><code>PATT1\nPATT2\nPATT3\nPATT4\n</code></pre>\n\n<p>These strings should be added as items to a list and compared with  a string STRING in the format:</p>\n\n<pre><code>\"PATT1 PATT2 PATT4 PATT3 PATT0\"\n</code></pre>\n\n<p>If all the strings returned from the C program are present in  the function returns true.</p>\n\n<p>What modules can I use for this?</p>\n"},{"tags":["python","uri","youtube-api"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13297251,"title":"Can't find playlist uri after adding it to an account","body":"<p>I'm trying to make a few playlists that contain videos I've located through the YouTube API.  This python code creates the playlists fine:</p>\n\n<pre><code>ptitlestart = 'Cute Videos'\nptitlecount = 1\n\nwhile ptitlecount &lt; 6:\n  new_private_playlistentry = yt_service.AddPlaylist(ptitlestart + str(ptitlecount), 'cute pets video playlist for content coding', True)\n  ptitlecount = ptitlecount + 1\n</code></pre>\n\n<p>But I can't figure out how to find the uri's of the playlists I've just created.  I need the uri of each playlist in order to add videos to it.  Wisdom appreciated!</p>\n"},{"tags":["python","mysql","database","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13296989,"title":"medium - large portable database options for python program","body":"<p>I am creating a simple python program that needs to search a somewhat large database ( ~40 tables, 6 Million or so rows all together  ). </p>\n\n<p>Currently,  I use MySQLdb to quarry my local MySQL database then I have some other python function that work with the data and returns some statistics and other stuff. I would like to share this with others that do not want to construct their own database. At this point the database is used for queries only. </p>\n\n<p>How best can I share the database and python program as a \"package\". Do I have to give up on the sql method and switch to some sort of text file database or is there an easier way... sqlite maybe?</p>\n\n<p>If the answer is sqllite how do I go about exporting my current sql database to the sqlite database? Is there any gotchas I should know about?</p>\n\n<p>Currently I use simple SELECT quarries with a few WHERE statements to locate the data I need. I am afraid that if I switched to text based database I would end up having to write a large amount of code to make these quarries.  </p>\n\n<p>Thank you in advance for any suggestions. </p>\n"},{"tags":["python","random","syntax-error"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13297131,"title":"\"TypeError: choice() takes exactly 2 arguments (4 given)\" error","body":"<p>I'm learning new to python and I'm making a game and I had a problem in terminal of linux like you see below:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"oyun.py\", line 30, in &lt;module&gt;\nPc=random.choice(\"tas\",\"kagit\",\"makas\")\nTypeError: choice() takes exactly 2 arguments (4 given)\n</code></pre>\n\n<p>Can you tell me what is the problem and what can i do?</p>\n"},{"tags":["python","list","random","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13295064,"title":"Extracting random characters from a string, then printing the remainder.","body":"<p>As part of my course at university I am learning python. A task I have been trying to complete is to write a program that will print out random letters and their corresponding positions in \"antidisestablishmentarianism\". It will then print the remaining letters on a single line.</p>\n\n<p>I have been trying to do this in probably a crazy weird roundabout way - populating a list with the chosen values and removing these characters from the original.</p>\n\n<p>I realize my program is probably all wrong and broken; I only started learning lists today!</p>\n\n<pre><code>import random\nword = \"antidisestablishmentarianism\"\nwordList =[\"antidisestablishmentarianism\"]\n\nprint(\"The Word is:\",word,\"\\n\")\n\nlengthWord = len(word)\nusedValues=[]\nfor i in range(5):\n    position = random.randrange(0,lengthWord)\n    print(\"word[\",position, \"]\\t\", word [position])\n    usedValues=[position]\nfor ch in wordList:\n    wordList.remove([usedValues])\nprint(\"The remaining letters are\",WordList, sep='')\n</code></pre>\n"},{"tags":["python","excel","formula","errors"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13296681,"title":"Python excel integration, #VALUE error","body":"<p>I have a working program which integrates python and Excel (thanks to xlwt). I am reading from a csv file and copying into an excel. While I do this, I also have a few formulae that I include using the formula module in xlwt. To be specific, the code is </p>\n\n<pre><code>ws_xlwt.write(3,3, Formula(\"MMULT(MINVERSE(C11:D12),\"+col_char+\"2:\"+col_char+\"3)\"), style)\n</code></pre>\n\n<p>col_char is an ASCII code generated in the loop. The array (C11:D12) contains data generated using the code:</p>\n\n<pre><code>ws_xlwt.write(10,2, Formula(\"SUMPRODUCT($C$36:$C$161,$C$36:$C$161)\"), style)\n</code></pre>\n\n<p>When the program runs, it puts the formula in the particular cell correctly. But the cell displays the error \"#VALUE\" instead of the result. The interesting point is when I open the excel file, double click on this particular cell to edit it and hit enter without changing anything, the result is displayed. I am not sure if this is a python integration issue or if its an Excel problem. </p>\n\n<pre><code>OS - Windows 7 64-bit\nPython - 2.7 32-bit\n</code></pre>\n\n<p>Any help is appreciated</p>\n"},{"tags":["javascript","python","django"],"answer_count":6,"favorite_count":7,"up_vote_count":9,"down_vote_count":0,"view_count":4841,"score":9,"question_id":1445989,"title":"Passing Python Data to JavaScript via Django","body":"<p>I'm using Django and Apache to serve webpages.  My JavaScript code currently includes a data object with values to be displayed in various HTML widgets based on the user's selection from a menu of choices.  I want to derive these data from a Python dictionary.  I think I know how to embed the JavaScript code in the HTML, but how do I embed the data object in that script (on the fly) so the script's functions can use it?</p>\n\n<p>Put another way, I want to create a JavaScript object or array from a Python dictionary, then insert that object into the JavaScript code, and then insert that JavaScript code into the HTML.</p>\n\n<p>I suppose this structure (e.g., data embedded in variables in the JavaScript code) is suboptimal, but as a newbie I don't know the alternatives.  I've seen write-ups of Django serialization functions, but these don't help me until I can get the data into my JavaScript code in the first place.</p>\n\n<p>I'm not (yet) using a JavaScript library like jQuery.</p>\n"},{"tags":["python","bluetooth","bluez"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13297016,"title":"Define multiple bluetooth dongles in python-bluez (scan from specific device)","body":"<p>I'm building a bluetooth application in Python, using python-bluez (under linux)</p>\n\n<p>But my computer has 2 bluetooth adapters (one built in, one usb dongle)\nHow can I choose which one to scan from, because now it randomly picks one.</p>\n\n<p>The code right now is pretty basic ;)</p>\n\n<pre><code>nearby_devices = bluetooth.discover_devices()\n</code></pre>\n"},{"tags":["python","html","regex","tags"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":3112,"score":3,"question_id":2165943,"title":"Removing html tags from a text using Regular Expression in python","body":"<p>I'm trying to look at a html file and remove all the tags from it so that only the text is left but I'm having a problem with my regex. This is what I have so far.</p>\n\n<pre><code>import urllib.request, re\ndef test(url):\nhtml = str(urllib.request.urlopen(url).read())\nprint(re.findall('&lt;[\\w\\/\\.\\w]*&gt;',html))\n</code></pre>\n\n<p>The html is a simple page with a few links and text but my regex won't pick up !DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" and 'a href=\"....\" tags. Can anyone explain what I need to change in my regex?</p>\n"},{"tags":["python","scrapy"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13241134,"title":"How to distinguish beetween two formats of text in Scrapy?","body":"<p>I am using <code>HtmlXPathSelector(response)</code> object in Scrapy, I need to get two kinds of text formats:</p>\n\n<p>My first text has the next format:</p>\n\n<pre><code>&lt;p&gt; Text, text, text, text, text, text, text, text, text &lt;/p&gt;\n&lt;p&gt;\n&lt;p&gt; Text, text, text, text, text. &lt;/p&gt;\n</code></pre>\n\n<p>My second text has the next format:</p>\n\n<pre><code>Text, text, text, text, text, text\n&lt;br&gt;\n&lt;br&gt;\nText, text, text..\n&lt;br&gt;\n&lt;br&gt;\n</code></pre>\n\n<p>when I use <code>x.select('//div[@id=\"texto\"]/text()').extract()</code> but not the second... I get something like this:</p>\n\n<pre><code>'content': [u'\\r\\n          ',\n                 u'\\r\\n',\n                 ...\n                 u'\\r\\n']\n</code></pre>\n\n<p>when I use <code>x.select('//div[@id=\"texto\"]/p/text()').extract()</code> I get the second one but not the first:</p>\n\n<p>How can I use a kind of <em>rule</em> in order to get both formats?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I get the solution with the next code, but I feel is a dirty solution:</p>\n\n<pre><code>content = x.select('//div[@id=\"nota_texto\"]/p/text()').extract()\nif content == []:\n    data['content'] = x.select('//div[@id=\"nota_texto\"]/text()').extract()\nelse:\n    data['content'] = content\n</code></pre>\n\n<p><strong>Update 2:</strong></p>\n\n<p>Is ok use double slash <code>//</code>, however now I am getting the contents of a table, because the HTML has the next format:</p>\n\n<pre><code>&lt;div id=\"texto\"&gt;\n      &lt;table&gt;\n        Undesired content\n      &lt;/table&gt;\n       Desired content.\n&lt;/div&gt;\n</code></pre>\n\n<p>How to avoid get the 'Undesired content'?</p>\n\n<p><strong>Update 3:</strong></p>\n\n<p>I received an answer by Steven Almeroth in the Scrapy Users Google Groups:</p>\n\n<p>Use following-sibling:</p>\n\n<pre><code>x.select('id(\"texto\")/table/following-sibling::node()').extract()\n</code></pre>\n\n<p>It works!</p>\n"},{"tags":["python","histogram","quickdraw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13296938,"title":"input data to create histogram in Quickdraw","body":"<p>I am stuck on a question ! if i have a set of data in a list (say number of students and their corresponding grade) how would i code that to create a histogram in quickdraw ? thanks !</p>\n"},{"tags":["python","data","extraction"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13296369,"title":"python3 data extraction from txt file","body":"<p>hi master programmers !</p>\n\n<p>I am new to programming and i have an assignment im working on, it seems simple but i just cant get it ! i was wondering if anyone could help ! it would be greatly appreciated ! here is the question :</p>\n\n<p>===================================\n\"The sample input is a file of the following format:</p>\n\n<pre><code>ID , Last, First, Lecture, Tutorial, **A1**, A2, A3, A4, A5\n10034567, Smith, Winston, L01, T03, **6**, 5.5, 8, 10, 8.5\n10045678, Lee, Bruce, L02, T05, **4.5**, 6.5, 7, 7, 8.5\n00305678, Obama, Jack, L01, T05, **10**, 10, 9, 9.5, 10\n00567890, Brown, Palin, L02, T03, **4**, 7.5, 6.5, 0, 5\n10012134, Harper, Ed, L01, T03, **10**, 9, 7.5, 10, 6.5\n10014549, Johnson, Andrew, L01,T05, **10**, 0, 10, 5.5, 7\n10020987, Clockwork, Milan, L02, T03, **10**, 8.5, 8, 9, 9\n10021234, Freeman, Skyski L01, T02, **0**, 10, 10, 10, 8.5\nEOF\n</code></pre>\n\n<p>The first line of the file explains each column of the data. Let n be the total number of students, then the next\nn lines of the file each corresponds to a student in the class, and contains 10 fields:\n(1) Student ID\n(2) Last name\n(3) First name\n(4) Lecture section\n(5) Tutorial section\n(6-10) Grades for Assignments 1-5\nAssuming the grades are stored in a file ‘grades.txt’, then you can read an entire line of the file into a Python string s by using the following Python statements:\nfile = open (‘grades.txt’, ‘r’)\ns = file.readline()\nYou just need to open the file once, then you can use the readline() function multiple times, to read a successive line each time. After the n lines of student records, the file ends with a last line that says “EOF”, short for “End of File”.\nThe number n is not known a priority. The sample input doesnt matter it can contain from 100 to 300 students, in a file named ‘grades.txt’. We wish to eventually draw a histogram for grade distribution of Assignment 1. Therefore you need to extract the</p>\n\n<h1>grade of A1 for each student, by processing his/her corresponding line in the file. Construct a list that will have one entry for each student, storing his/her A1 grade. Each time you extract a new A1 grade, append it to this list.\"</h1>\n\n<p>so far this is what i got :</p>\n\n<pre><code>file = open('grades.txt','r')\ns = file.readline()\n\n\nfor line in file:\n    newline = str(line)\n    grades = newline.split(\",\")\n    if len(grades)&lt;=4:\n        break\n    elif len(grades)&gt;5:\n        break\n    else:\n        grades = [float(x) for x in grades]\ngradeA1 = grades[5]\nprint(gradeA1)\n</code></pre>\n\n<p>but i only get the first grade '6' and not the other A1 grades for any consecutive lines\nall the A1 grades should be compiled into a list :(\ncan anybody help ? i am really stuck ! :(\nThanks !</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13296867,"title":"Python ,connect to printer using ip and win32api","body":"<p>I want to print a file using win32api.\nI have a network printer using this ip: <strong>192.168.1.50</strong></p>\n\n<p>So i used this code:</p>\n\n<pre><code>import win32api\nfile_path=\"test.txt\"\nwin32api.ShellExecute(0, \"print\", file_path, None, \".\", 0)\n</code></pre>\n\n<p>How can i print this file on the printer that i don't have the name but the ip?</p>\n"},{"tags":["python","unit-testing","testing","mocking"],"answer_count":7,"favorite_count":17,"up_vote_count":25,"down_vote_count":0,"view_count":9258,"score":25,"question_id":295438,"title":"How can one mock/stub python module like urllib","body":"<p>I need to test a function that needs to query a page on an external server using urllib.urlopen (it also uses urllib.urlencode). The server could be down, the page could change; I can't rely on it for a test.</p>\n\n<p>What is the best way to control what urllib.urlopen returns?</p>\n"},{"tags":["python","json"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13296164,"title":"Flip order of elements in JSON in Python","body":"<p>I can't seem to find a solution for this but suppose I have JSON data:</p>\n\n<pre><code>data = [{\"color\":\"blue\",\"score\":\"3\"},{\"color\":\"red\",\"score\":\"2\"},....]\n</code></pre>\n\n<p>How do I reverse the order of color and score so it's:</p>\n\n<pre><code>data = [{\"score\":\"3\",\"color\":\"blue\"},{\"score\":\"2\",\"color\":\"red\"},....]\n</code></pre>\n"},{"tags":["python","python-module","enthought"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13296498,"title":"Enthought: no Python documentation found for 'modules' + version number","body":"<p>I want to be able to list the installed modules and their version number on my Python Enthought distribution. When I open the terminal and type</p>\n\n<pre><code>$ help('modules') \n</code></pre>\n\n<p>i get </p>\n\n<pre><code>&gt;&gt; no Python documentation found for 'modules'\n</code></pre>\n\n<p>if I do the same for my standard python distro on the mac (/usr/bin/python/) it works fine although I am still missing the module version.</p>\n\n<p>Any idea how to properly list all the installed modules and their corresponding version?</p>\n"},{"tags":["python","testing","fakeweb"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":365,"score":7,"question_id":2162250,"title":"Library like fakeweb for Python","body":"<p>I really like the way fakeweb in Ruby can be used to fake http requests when testing. Is there a similar library or an alternative for Python?</p>\n"},{"tags":["python","io"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":39,"score":-2,"question_id":13296486,"title":"user input with file I/O in python","body":"<p>Was wondering if I could user input the name of a .txt file when \"opening\" a file. Because right now, when I enter a name I have the problem that I can't append the .txt suffix to it so it doesn't create a .txt file. here:</p>\n\n<pre><code>name = input(\"enter a name: \")    \ntext1 = open(name,\"wt\") \n</code></pre>\n\n<p>so how can I append the .txt suffix? Since both the input and the open method only take a limited amount of arguments?</p>\n"},{"tags":["python","rss","pypi","pubsubhubbub"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13295205,"title":"How to create new pubsubhub rss from existing \"normal\" rss?","body":"<p>I'd like to create a new real-time RSS feed using pubsubhubbub by processing an existing RSS feed which i cannot easily change.  Is there a tool or approach which makes this easy?  The RSS feed which i want to process does not offer pubsubhubbub links and i assume i have to poll every N seconds. Is there a readymade solution or example for this, preferably in Python?  (In case you are interested i'd like to have a real-time feed of pypi.python.org updates, consumable by arbitrary other servers).  </p>\n"},{"tags":["python","python-3.x"],"answer_count":8,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":13239232,"title":"Python unexpected indentaton error main()","body":"<p>I have no idea how to fix this.  I've tried retyping the program.</p>\n\n<p>I get an unexpected indentation error for the last main function.</p>\n\n<pre><code>resident = 81\nnonresident = 162\n\n\ndef main():\n\n    # initialize counters and total tuition\n    resident_counter = 0\n    nonresident_counter = 0\n    total_tuition = 0\n\n    print(\"Name \\tCode\\tCredits\\tTuition\")\n    print\n\n    try:\n        # open the data file\n        infile = open('enroll.txt', 'r')\n\n        # read the first value from the file\n        student_name = infile.readline()\n\n        # continue reading from file until the end\n        while student_name != '':\n\n            # strip the new line character and print the student's name\n            student_name = student_name.rstrip('\\n')\n            print(student_name, end='\\t')\n\n            # read the code type, strip the new line, and print it\n            code = infile.readline()\n            code = code_type.rstrip('\\n')\n            print(code_type, end='\\t')\n\n            # read the number of credits, strip the new line, and print it\n            credits = infile.readline()\n            credits = int(credits)\n            print(format(credits, '3.0f'), end='\\t')\n\n            # check the room type and compute the rental amount due \n            # increment the appropriate counter\n            if code_type == \"R\" or room_type == \"r\":\n                payment_due = credits * resident\n                resident_counter += 1\n            elif code_type == \"N\" or room_type == \"n\":\n                payment_due = credits * nonresident\n                nonresident_counter += 1\n            elif code_type != \"R\" or code_type != \"r\" or code_type != \"N\" or code_type != \"n\":\n                payment_due = 0\n\n            # accumulate the total room rent\n            tuition += payment_due\n\n            # print the appropriate detail line\n            if payment_due == 0:\n                print('invalid code')\n            else:\n                print('$', format(tuition, '8,.2f'))\n\n            # get the next studen't name\n            student_name = infile.readline()\n\n        # close the input file\n        infile.close()\n\n        # print the counters and payment total amount\n        print\n        print('total number of resident students: ', resident_counter)\n        print('total number of nonresident: ', nonresident_counter)\n        print\n        print('total students: ', end='')\n        print('$', format(tuition, ',.2f'))\n# execute the main function\n\nmain()\n</code></pre>\n"},{"tags":["c++","python","c","parsing","preprocessor"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2238,"score":3,"question_id":287379,"title":"Parsing C++ preprocessor #if statements","body":"<p>I have a C/C++ source file with conditional compilation.  Before I ship it to customers I want to remove most of the #if statements, so that my customers do not need to worry about passing the right -D options to the compiler.</p>\n\n<p>I have this implemented and working in Python, but it only handles #ifdef and #ifndef statements properly.  I need to add support for #if statements, but the syntax of #if is much more complex.  (E.g. you can use &amp;&amp;, ||, !, brackets, relational operators, arithmetic, etc).</p>\n\n<p>Is there any existing open-source code to parse and evaluate #if statements?  (Preferably in Python).</p>\n\n<p>The only implementation I know of is GCC, and that's much too complex for this task.</p>\n"},{"tags":["python","fabric"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13295942,"title":"How do I run a Fabric arbitrary sudo command without having to type password?","body":"<p>With Fabric, according to <a href=\"http://docs.fabfile.org/en/1.5/usage/fab.html#arbitrary-remote-shell-commands\" rel=\"nofollow\">this documentation</a>, you can run an arbitrary shell command without having a <code>fabfile</code> like this:</p>\n\n<pre><code>fab -H host1,host2 -- echo 'hello, world!'\n</code></pre>\n\n<p>You can also run <code>sudo</code> commands in the same way, but you will be prompted for the <code>sudo</code> password for every host in the list.</p>\n\n<p>Is there a way to avoid having to type the <code>sudo</code> password for each host, must like the Fabric function <code>sudo()</code> works?</p>\n"},{"tags":["python","py2exe"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13295535,"title":"How to include Yapsy with py2exe?","body":"<p>I'm working with Python. My file GUI.py uses Yapsy for including new plugins into my software. I have finished all my work and now I want to use py2exe to generate a executable. I don't know how can I order py2exe to include Yapsy and all their modules. I have tried that and it doesn't work:</p>\n\n<pre><code>opts = {\n    'py2exe': { \"includes\" : [\"yapsy.PluginManager\",\"sip\", \"matplotlib.backends\",  \"matplotlib.backends.backend_qt4agg\",\n                               \"matplotlib.figure\",\"pylab\", \"numpy\",\"matplotlib.backends.backend_tkagg\"]}\n\n...\n\nsetup(\n      name='PImageQT',\n      version='1.0',\n      author='Jaime',\n      package={'images/*', 'Windows6S/*', 'modulos6S/*', 'OperacionesPlugins/*'},\n      scripts=['GUI.py'],\n      console=[\"GUI.py\"],\n      options=opts,\n      data_files=data_files,\n      zipfile=None\n      )\n</code></pre>\n\n<p>I have found something in this link <a href=\"http://notinthestars.blogspot.com.es/2011/04/using-python-plugin-scripts-with-py2exe.html\" rel=\"nofollow\">http://notinthestars.blogspot.com.es/2011/04/using-python-plugin-scripts-with-py2exe.html</a> but it doesn't solve my problem.</p>\n\n<p>In my Gui.py file for each plugin I add an action into a menu. This menu in the executable doesn't appear.</p>\n\n<p>Does anyone know how I must do it?</p>\n\n<p>Thank you very much.</p>\n\n<p>Edit:</p>\n\n<p>I have used breakpoints and yapsy works fine, but it doesn't found my plugins directory. The directory's name is the same.</p>\n\n<p>Edit 2:</p>\n\n<p>The path is ok and the directory is into the path. I don't know why it doesn't find the plugins directory after packing with py2exe.</p>\n"},{"tags":["python","svn","jenkins","jenkins-plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13286301,"title":"Jenkins: Copying views and adding jobs to view","body":"<p>I'm trying to figure out how can I differentiate jenkins builds between users. My main use case is a user wanting to build and run our test jobs his SVN branch.</p>\n\n<p>Since I have many users, I want these jobs to have a \"label\" of some sort to identify the user and branch, and prevent collision between jobs, because if they have the same name they will use the same workspace directory which will delete other users jobs.</p>\n\n<p>The only way I could find was to programatically copy the jobs and change their properties (name and branch for example). </p>\n\n<p>So if you want to keep my jobs in order, I wanted to be able organize the users jobs in views and I'm using the nested view plugin, but all the Jenkins APIs only show creating a simple view, and I want use the nested view. So what I thought was to copy a \"template view\" and change its properties.</p>\n\n<p>Is there a way to do this through the REST API or python (preferable)?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","web-applications","deployment"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13296320,"title":"Python deployment for distributed application","body":"<p>We are developing a distributed application in Python.  Right now, we are about to re-organize some of our system components and deploy them on separate servers, so I'm looking to understand more about deployment for an application such as this.  We will have several back-end code servers, several database servers (of different types) and possibly several front-end servers.</p>\n\n<p>My question is this: what / which are good deployment patterns for distributed applications (in Python or in general)?  How can I manage pushing code to several servers (whose IP's should be parameterized in the deployment system), static files to several front ends, starting / stopping processes in the servers, etc.?  We are looking for possibly an easy-to-use solution, but mostly, something that once set-up will get out of our way and let us deploy as painlessly as possible.</p>\n\n<p>Thanks so much!  Any suggestions regarding this or other deployment / architecture pointers will be very appreciated.</p>\n"},{"tags":["python","google-app-engine","authentication","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13286879,"title":"GAE Python2.7 client authentication by certificate","body":"<p>I'm writing an application on GAE that is exposing a RESTlike API to a fixed number of remote servers which may be using any OS/software. At the moment I'm pondering how to identify and authenticate these remote servers painlessly.<br>\nI'm trying to avoid having to program too much of this myself for obvious security concerns.  </p>\n\n<p>If I'd were on an Apache or nginx I'd use SSL client certificates and let the clients choose whatever they want to contact the API, curl, webapp, whatever.<br>\nI understand that, at this time, GAE doesn't provide checking client certificates this way.  </p>\n\n<p>Is there any other way to do this in GAE with Py2.7?<br>\nIf this is <em>not</em> possible or a very big hassle, can anyone point me to another good way to identify and authenticate remote servers in a situation like this?</p>\n\n<p>I can only post two links of what I checked<br>\n<a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-python/c5PHMrAMAcI\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-python/c5PHMrAMAcI</a><br>\n<a href=\"https://sites.google.com/site/oauthgoog/authenticate-google-app-engine-app\" rel=\"nofollow\">https://sites.google.com/site/oauthgoog/authenticate-google-app-engine-app</a><br>\nplus <em>much</em> more over the last few days. I found some questions which are similar to mine, but none with a satisfying answer, to me at least.</p>\n"},{"tags":["python","datetime","timezone"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":48,"score":4,"question_id":13295462,"title":"converting mountain standard time to eastern standard time in python","body":"<p>I have a time datetime object.. which has both date and time..</p>\n\n<p>so for example </p>\n\n<pre><code>    d = (2011,11,1,8,11,22)  (24 hour time time format)\n</code></pre>\n\n<p>But this time stamp is in mountain standard time.. (Arizona. phoenix)</p>\n\n<p>Now I want to convert this time in EST... </p>\n\n<p>Now that is just the time delta adjustment.. </p>\n\n<p>But then there is this daylight saving issues as well.</p>\n\n<p>I was wondering if there is an inbuilt method to take care of daylight saving for adjusting time zones..</p>\n"},{"tags":["python","iron.io"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13285901,"title":"How to bundle Python dependancies in IronWorker?","body":"<p>I'm writing a simple <a href=\"http://dev.iron.io/worker/languages/python/\" rel=\"nofollow\">IronWorker in Python</a> to do some work with the AWS API.</p>\n\n<p>To do so I want to use the <a href=\"https://github.com/boto/boto\" rel=\"nofollow\">boto library</a> which is distributed via PiPy.  The boto library is not installed by default in the IronWorker runtime environment.</p>\n\n<p>How can I bundle the boto library dependancy with my IronWorker code?</p>\n\n<p>Ideally I'm hoping I can use something like the <a href=\"http://dev.iron.io/worker/languages/ruby/merging-gems/\" rel=\"nofollow\">gem dependancy bundling available for Ruby IronWorkers</a> - i.e in <code>myRuby.worker</code> specify </p>\n\n<pre><code>gemfile '../Gemfile', 'common', 'worker' # merges gems from common and worker groups\n</code></pre>\n\n<p>In the <a href=\"https://github.com/iron-io/iron_worker_examples/blob/master/python/Loggly.py#L6\" rel=\"nofollow\">Python Loggly sample</a>, I see that the hoover library is used:</p>\n\n<pre><code>#here we have to include hoover library with worker.\nhoover_dir = os.path.dirname(hoover.__file__)\nshutil.copytree(hoover_dir, worker_dir + '/loggly') #copy it to worker directory\n</code></pre>\n\n<p>However, I can't see where/how you specify which hoover library version you want, or where to download it from.</p>\n\n<p>What is the official/correct way to use 3rd party libraries in Python IronWorkers?</p>\n"},{"tags":["python","numpy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13295720,"title":"2D ndarray: row-wise operations","body":"<p>I have 2D numpy array, with example shape:</p>\n\n<pre><code>&gt;&gt;&gt; a.shape\n(48, 160)\n</code></pre>\n\n<p>and I want to do simple operation between elements or each row, like <code>a[0] - a[1]</code> but for every row against all other rows.</p>\n\n<p>I know how to do it simply by using <code>for</code> loop and iterating rows, but I was wondering if there is some numpy slicing specific instruction, that can do this without using <code>for</code> loops</p>\n"},{"tags":["python","mechanize"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13296102,"title":"Python - Mechanize post form asp webforms","body":"<p>This is a some information about the form:</p>\n\n<pre><code>&lt;form1 POST http://www.example./something application/x-www-form-urlencoded\n..............\n&lt;RadioControl(divPolls$rlPolls=[836, 837])&gt;\n&lt;ImageControl(divPolls$btnVote=)&gt;\n</code></pre>\n\n<p>Now the input button name is <code>divPolls$btnVote</code>.</p>\n\n<p>My code is:</p>\n\n<pre><code>b = mechanize.Browser()\nb.open(URL)\n\nb.select_form(nr=0)\nb.form['divPolls$rlPolls'] = ['837']\n\nb.submit()\n</code></pre>\n\n<p>The problem is, when i print the response, I get to a different page. so the <code>b.submit()</code> is submitting through another button which directs to the log in page.</p>\n\n<p>How am i able to solve it by making Mechanize submit through <code>divPolls$btnVote</code></p>\n"},{"tags":["python","django","error-handling","navigation","pinax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13296185,"title":"How to add a link to the navigation pinax(0.9a2)?","body":"<p>I want to add new links to the standart bootstap theme in pinax. I tried to implement the  in my site:</p>\n\n<pre><code>{% block nav %}\n    {% if user.is_authenticated %}\n        &lt;ul&gt;{% spaceless %}\n            &lt;li id=\"tab_profile\"&gt;&lt;a href=\"{% url profile_detail user.username %}\"&gt;{% trans \"Profile\" %}&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"tab_notices\"&gt;&lt;a href=\"{% url notification_notices %}\"&gt;{% trans \"Notices\" %}{% if notice_unseen_count %} ({{ notice_unseen_count }}){% endif %}&lt;/a&gt;&lt;/li&gt;\n        {% endspaceless %\n            &lt;li id=\"tab_first\"&gt;\n                &lt;a href=\"#\"&gt;First Link&lt;/a&gt;\n            &lt;/li&gt;\n        }&lt;/ul&gt;\n    {% endif %}\n{% endblock %}\n</code></pre>\n\n<p>but I get an error:</p>\n\n<blockquote>\n  <p>TemplateSyntaxError at /</p>\n  \n  <p>Invalid block tag: 'endif', expected 'endspaceless'</p>\n</blockquote>\n\n<p>Therefore, how to add a new link to the navbar?</p>\n"},{"tags":["python","iis7","isapi-wsgi"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7,"score":1,"question_id":13296178,"title":"python isapi-wsgi in iis7 web server unsing subordinated application","body":"<p>I've got a IIS7.5 web server runnig a python website using the isapi-wsgi module. As the website is bound to port 80 I would rather like the python website to be running under an added application to this website.</p>\n\n<p>The code generating the corresponding isapi module looks like this</p>\n\n<pre><code>import isapi_wsgi\n\ndef install_virtual_dir():\n    import isapi.install\n    params = isapi.install.ISAPIParameters()\n    # Setup the virtual directories - this is a list of directories our\n    # extension uses - in this case only 1.\n    # Each extension has a \"script map\" - this is the mapping of ISAPI\n    # extensions.\n    sm = [isapi.install.ScriptMapParams(Extension=\"*\", Flags=0)]\n    vd = isapi.install.VirtualDirParameters(\n        Server=\"dsh\",\n        Name=site_root,\n        Description=\"CherryPy Application Stable\",\n        ScriptMaps=sm,\n        ScriptMapUpdate=\"end\",\n        )\n    params.VirtualDirs = [vd]\n    isapi.install.HandleCommandLine(params)\n\n\nif __name__ == '__main__':\n    # If run from the command-line, install ourselves.\n    install_virtual_dir()\n</code></pre>\n\n<p>Unfortunately the module is unable to register the corresponding dll resulting in the error</p>\n\n<pre><code>ItemNotFound: No web sites match the description 'dsh'\n</code></pre>\n\n<p>although I've added the application 'dsh' to the Website. Something like 'Website/dsh' doesn't work either.</p>\n\n<p>Does anybody have encountered the same problem and has a solution for that?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":74,"score":7,"question_id":13295083,"title":"Parsing a multi-line data file with Python","body":"<p>What's the best way to go about parsing the following multi-line data file with Python?</p>\n\n<pre><code>Police Response: 11/6/2012 1:34:06 AM   Incident Desc: Traffic Stop OFC:    Received: 11/6/2012 1:34:06 AM\nDisp: PCHK  Location: CLEAR LAKE RD&amp;GREEN HILL RD\nEvent Number: LLS121106060941   ID: 60941   Priority: 6 Case No:\nPolice Response:    Incident Desc: Theft    OFC:    Received: 11/6/2012 1:43:35 AM\nDisp: CSR   Location: SCH BLACHLY\nEvent Number: LLS121106060943   ID: 60943   Priority: 4 Case No:\nPolice Response: 11/6/2012 1:47:47 AM   Incident Desc: Suspicious Vehicle(s)    OFC:        Received: 11/6/2012 1:47:47 AM\nDisp: FI    Location: KIRK RD&amp;CLEAR LAKE RD\nEvent Number: LLS121106060944   ID: 60944   Priority: 6 Case No:\n</code></pre>\n\n<p>Records are always broken up into 3 lines -- lines beginning with \"Police Response\" and ending with \"Event Number\". Some fields are often blank.</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13295735,"title":"How can I replace all the NaN values with Zero's in a column of a pandas dataframe","body":"<p>I have a dataframe as below</p>\n\n<pre><code>      itm Date                  Amount \n67    420 2012-09-30 00:00:00   65211\n68    421 2012-09-09 00:00:00   29424\n69    421 2012-09-16 00:00:00   29877\n70    421 2012-09-23 00:00:00   30990\n71    421 2012-09-30 00:00:00   61303\n72    485 2012-09-09 00:00:00   71781\n73    485 2012-09-16 00:00:00     NaN\n74    485 2012-09-23 00:00:00   11072\n75    485 2012-09-30 00:00:00  113702\n76    489 2012-09-09 00:00:00   64731\n77    489 2012-09-16 00:00:00     NaN\n</code></pre>\n\n<p>when I try to .apply a function to the Amount column I get the following error.\nValueError: cannot convert float NaN to integer</p>\n\n<p>I have tried applying a function using .isnan from the Math Module\nI have tried the pandas .replace attribute\nI tried the .sparse data attribute from pandas 0.9\nI have also tried if NaN == NaN statement in a function.\nI have also looked at this article <a href=\"http://stackoverflow.com/questions/8161836/how-do-i-replace-na-values-with-zeros-in-r\">How do I replace NA values with zeros in R?</a> whilst looking at some other articles. \nAll the methods I have tried have not worked or do not recognise NaN.\nAny Hints or solutions would be appreciated. </p>\n"},{"tags":["python","celery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13284941,"title":"Get result by id fails","body":"<p>I'm trying to use celery in my Flask-based web app and monitore it's state. My idea is to store task's id in session, and use it for state polling.</p>\n\n<p>Here is content of my tasks.py</p>\n\n<pre><code>from traceback import format_exc\nimport settings\nfrom celery import Celery, current_task\nfrom celery.utils.log import get_task_logger\nfrom celery.result import AsyncResult\n\nfrom nimble_auth import make_nimble_req\n\nlogger = get_task_logger(__name__)\n\ncelery = Celery('tasks')\ncelery.config_from_object(settings)\n\n@celery.task\ndef make_work(param1, param2):\n    try:\n        # work here\n        current_task.update_state(state='PROGRESS', meta={'current': page, 'total': total_pages})\n    except StandardError:\n        logger.error(format_exc())\n\ndef get_asynctask(task_id):\n    return AsyncResult(task_id)\n</code></pre>\n\n<p>Except from main app's file web.py</p>\n\n<pre><code>@app.route('/task_state/&lt;task_id&gt;')\ndef task_state(task_id):\n    return get_asynctask(task_id).state # from task.py\n\n@app.route('/reset_task')\ndef reset_task():\n    del session['celery_task_id']\n    return redirect(url_for('index'))\n\n@app.route('/run')\ndef run_task():\n    task = make_work.delay(1, 2)\n    session['celery_task_id'] = task.task_id\n    flash('Task submitted OK!')\n\n    return redirect(url_for('index'))\n</code></pre>\n\n<p>Settings file:</p>\n\n<pre><code>BROKER_URL = 'mongodb://localhost:27017/dramba'\nCELERY_RESULT_BACKEND = \"mongodb\"\nCELERY_RESULT_DBURI = 'mongodb://localhost:27017/dramba'\n</code></pre>\n\n<p>But when I'm trying to get task's state, I'm getting NotImplementedError: No result backend configured. </p>\n\n<p>Full stacktrace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1701, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1689, in wsgi_app\n    response = self.make_response(self.handle_exception(e))\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1687, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1360, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1358, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/flask/app.py\", line 1344, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/Users/cleg/Projects/GitHub/Dramba/dramba.py\", line 13, in task_state\n    return get_asynctask(task_id).state\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/celery/result.py\", line 284, in state\n    return self.backend.get_status(self.id)\n  File \"/Users/cleg/Projects/Venvs/Dramba/lib/python2.7/site-packages/celery/backends/base.py\", line 490, in _is_disabled\n    raise NotImplementedError('No result backend configured.  '\nNotImplementedError: No result backend configured.  Please see the documentation for more information.\n</code></pre>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["python","error-reporting"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":61,"score":4,"question_id":13294637,"title":"Same mistake but different error report. Why?","body":"<p>Why Python reports about different errors for the same reason, the programs with the 1 and 2 lines of code?</p>\n\n<p>I mean:</p>\n\n<pre><code>print(1\n</code></pre>\n\n<p>gives </p>\n\n<pre><code>Error: unexpected EOF while parsing\n</code></pre>\n\n<p>but</p>\n\n<pre><code>a = 1+1\nprint(1\n</code></pre>\n\n<p>gives </p>\n\n<pre><code>Error: invalid syntax\n</code></pre>\n\n<p>same problem - but error message is different - reason?</p>\n\n<p>sys.version_info(major=3, minor=2, micro=0, releaselevel='final',serial=0)</p>\n"},{"tags":["python","tastypie"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13275391,"title":"Tastypie - Filtering by related pk","body":"<p>I would like to filter a resource via a related field pk.</p>\n\n<p>For example, I have the country pk and I would like to get all cities from that country. How could I do that?</p>\n\n<pre><code>class CityResource(ModelResource):\n    class Meta:\n        queryset = City.objects.all()\n        resource_name = 'city'\n        fields = ['name','id']\n\n        filtering = {\n           #Something here\n        }\n\nclass CountryResource(ModelResource):\n    class Meta:\n        queryset = Country.objects.all()\n        resource_name = 'country'\n        fields = ['name','code2','id']\n</code></pre>\n\n<p>And a example URL:</p>\n\n<pre><code>http://startuprepublik.pre.is/api/v1/city/?format=json&amp;country__pk=4\n</code></pre>\n\n<p>Any idea?</p>\n"},{"tags":["python"],"answer_count":7,"favorite_count":4,"up_vote_count":5,"down_vote_count":1,"view_count":2797,"score":4,"question_id":4463098,"title":"Where can I find a good online Python course?","body":"<p>Does anyone know where I can find a quality online Python course that would be suitable for someone with a math/engineering background, but not in software?</p>\n"},{"tags":["python","c"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13072634,"title":"Communicating continuously between python script and C app","body":"<p>I have a python script that interfaces with some network pool to read data from, that\nis continuously 320 bits. This 320 bits should be forward to some C app, that continuously\nreads these 320 bits from the python script and places them into an int array[8]. To be honest, I have no idea whether this is possible at all and would be thankful for a starting point for this issue.</p>\n\n<p>I tried to incooperate some of your ideas, trying to send data via stdin from python to the C app:</p>\n\n<p>test.exe:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\n    int ch;\n    /* read character by character from stdin */\n    do {\n    ch = fgetc(stdin);\n    putchar(ch);\n    } while (ch != EOF);\n\n\n    return 0;\n}\n</code></pre>\n\n<p>test.py:</p>\n\n<pre><code>def run(self):\n\n    while True:           \n        payload = 'some data'\n        sys.stdout.write(payload)\n        time.sleep(5)\n</code></pre>\n\n<p>Then I start this whole thing using a pipe: python test.py | test.exe</p>\n\n<p>Unfortunately, there is no data that is received on the test.exe side, shouldn't this data ba available on stdin?</p>\n"},{"tags":["python","regex","unicode","non-ascii-chars"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":61,"score":3,"question_id":13261813,"title":"How to match accented characters with a regex in Python?","body":"<p>I need the solutions to <a href=\"http://stackoverflow.com/questions/7292395/how-to-match-accented-characters-with-a-regex\">this question</a>, except for Python! I've tried installing the regex library for Python, <a href=\"http://www.velocityreviews.com/forums/t739967-enabling-the-use-of-posix-character-classes-in-python.html\" rel=\"nofollow\">as apparently</a> that enables the use of POSIX expressions in Python's regexes, but nevertheless I guess it does not include Unicode characters in the <code>[:alpha:]</code> class. E.g.:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'[[:alpha:] ]+','Please work blåbær and NOW stop 123').group(0)\n'Please work bl'\n</code></pre>\n\n<p>When I want it to match <code>Please work blåbær and NOW stop</code></p>\n\n<p><strong>EDIT:</strong> I am using Python 2.7</p>\n\n<p><strong>EDIT 2:</strong> I tried the following:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(re.compile('[\\w ]+', re.UNICODE),'Please work blåbær and NOW stop 123').group(0)\n'Please work bl\\xc3'\n</code></pre>\n\n<p>Not quite what I wanted (I want to match the part after the first non-ASCII character too), but at least it matched on character more than before. What should I be doing here to get it to match the rest of what I want?</p>\n\n<p><strong>EDIT 3:</strong> I don't want to match any non-\"word\" characters; by \"word\" I mean a-z, A-Z, space, and any accented variations of word characters. I hope I got my idea across; in a phrase like</p>\n\n<pre><code>lets match força, but stop before that comma\n</code></pre>\n\n<p>I want to match only <code>lets match força</code></p>\n\n<p><strong>EDIT 4:</strong> So I tried to use Python 3 just for this one script:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(re.compile('[\\w ]+', re.UNICODE),'lets match força, but stop before that comma').group(0)\n'lets match força'\n</code></pre>\n\n<p>I guess it works for the most part in Python 3, except that it also matches numbers (which I definitely don't want) and underscores. Any way to fix this, in Python 2 <em>or</em> 3?</p>\n"},{"tags":["python","pexpect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13295690,"title":"pexpect.spawn.interact returning an input/output error","body":"<p>I use a python script to compile and run student fortran codes for me.  This works well as long as they follow the input convention that I give them.  Here is a sample of what works well for me:</p>\n\n<pre><code>child = pexpect.spawn(os.path.join(os.path.dirname(file),name))\nchild.expect('')\nchild.sendline(input)\nchild.expect(pexpect.EOF)\nself.r_output.append(child.before)\nchild.close()\n</code></pre>\n\n<p>When they do not follow my input convention, the expect command doesn't work.  For this reason I use the <code>child.interact()</code>.  But whenever the file finally terminates I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./project.py\", line 263, in &lt;module&gt;\n    main()\n  File \"./project.py\", line 45, in main\n    stud.tohtml(f)\n  File \"./project.py\", line 173, in tohtml\n    self.run(\"&lt;br/&gt;\")\n  File \"./project.py\", line 140, in run\n    child.interact(chr(27))\n  File \"/usr/lib/python2.7/dist-packages/pexpect.py\", line 1492, in interact\n    self.__interact_copy(escape_character, input_filter, output_filter)\n  File \"/usr/lib/python2.7/dist-packages/pexpect.py\", line 1520, in __interact_copy\n    data = self.__interact_read(self.child_fd)\n  File \"/usr/lib/python2.7/dist-packages/pexpect.py\", line 1510, in __interact_read\n    return os.read(fd, 1000)\nOSError: [Errno 5] Input/output error\n</code></pre>\n\n<p>If I'm fast enough to press ascii 29 before it ends, everything goes great.  What could be wrong?  How do I fix this issue?</p>\n"},{"tags":["python","package","pip"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13263739,"title":"Keep order of installation in pip freeze","body":"<p>Quick question.</p>\n\n<p>Is there a way to ensure that <code>pip freeze &gt; requirements.txt</code> keeps the order in which the packages were installed? This is an issue for me because I continuously get something like this in <code>requirements.txt</code>:</p>\n\n<pre><code>matplotlib==1.1.1\nnumpy==1.6.2\n</code></pre>\n\n<p>So an error occurs when I try to install using <code>pip install -r requirements.txt</code> because numpy is a dependency of matplotlib, so I have to install manually numpy first and then rerun <code>pip install -r requirements.txt</code></p>\n\n<p>Is there any fix on that?</p>\n\n<p><strong>UPDATE</strong>: In response to mechmind, I installed matplotlib and numpy in Ubuntu 12.04 using pip with virtualenv --distribute myenv. After installation, I got this freeze file:</p>\n\n<pre><code>argparse==1.2.1\ndistribute==0.6.28\nmatplotlib==1.1.1\nnumpy==1.6.2\nwsgiref==0.1.2\n</code></pre>\n\n<p>Then when I try to reinstall in another virtual environment I get the following error:</p>\n\n<pre><code>REQUIRED DEPENDENCIES\n\n                 numpy: no\n\n                        * You must install numpy 1.4 or later to build\n\n                        * matplotlib.\n</code></pre>\n\n<p>So maybe it's dependent on the system.</p>\n\n<p>Thanks!</p>\n"}]}
{"total":142318,"page":2,"pagesize":100,"questions":[{"tags":["python","timezone","iso","pyyaml"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13294186,"title":"Can PyYAML parse iso8601 dates?","body":"<p><a href=\"http://yaml.org/type/timestamp.html\" rel=\"nofollow\">According to the YAML spec, iso8601 dates with timezones should be recognised</a>. However, on trying to parse them using PyYAML 3.10 (on Windows 7 with ActivePython 2.7.2.5) I get naive dates:</p>\n\n<pre><code>In [7]: yaml.load(\"2001-12-14t21:59:43.10-05:00\")\nOut[7]: datetime.datetime(2001, 12, 15, 2, 59, 43, 100000)\n\nIn [8]: yaml.load(\"2001-12-14 21:59:43.10 -5\")\nOut[8]: datetime.datetime(2001, 12, 15, 2, 59, 43, 100000)\n</code></pre>\n\n<p>(First format is the strict iso8601 and second is the 'relaxed' format; examples taken directly from YAML spec.)</p>\n\n<p>Is this expected behaviour, or is my PyYaml not working correctly?</p>\n"},{"tags":["python","list","python-2.7","list-comprehension"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":88,"score":2,"question_id":13274110,"title":"List comprehension optimization","body":"<p>I managed to convert 8 lines of code into just 2 lines.</p>\n\n<p>The first list comprehension gets me the folder and the second gets me the files of specific filter:</p>\n\n<pre><code>hideTheseFolders=[\".thumb\",\".mayaSwatches\",\"RECYCLER\",\"$AVG\"]\nfileFilters=[\"ma\",\"jpg\",\"png\",\"mb\",'iff','tga','tif']\nnewLst=[]\nimport os\nlocationTxt=\"E:\\box\\scripts\"\n[newLst.append(each) for each in os.listdir(locationTxt)  if os.path.isdir(os.path.join(locationTxt,each)) and each not in hideTheseFolders]\n[newLst.append(os.path.basename(os.path.join(locationTxt,each))) for nfile in fileFilters for each in os.listdir(locationTxt) if each.endswith(nfile)]\n</code></pre>\n\n<p>Now in the above code the last two lines are looking inside same directory from <code>locationTxt</code>, which means there is probably a way that I can merge the last two lines. Any suggestions?</p>\n"},{"tags":["python","data-structures","dynatree"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13294933,"title":"Creating nested python dictionary for Dynatree","body":"<p>The dynatree jquery tree element can read from the following format:</p>\n\n<pre><code>{'title':'a','children':[{'title':'b','children':[{'title':'c','children':[]}]}]}\n</code></pre>\n\n<p>I have a path a:b:c. </p>\n\n<p>How to generate nested python dictionary, given above, that will use the given path?</p>\n\n<p>I have a lot of different paths some of them repeat 'a:b:c:d', adding new element, some of </p>\n\n<p>them completely different?</p>\n"},{"tags":["python","xml"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13294905,"title":"Writing XML File - Multiple Tags Based on Variables","body":"<p>I'm using minidom (among others) in Python to pull a list of files from a directory, get their modified times, other misc. data and then write that data to an XML file. The data prints just fine, but when I try to write the data to a file, I only get the XML for one of the files in the directory. Here is my code (I've removed a good amount of <code>createElement</code> and <code>appendChild</code> methods as well as any non-relevant variables for the sake of readability/space):</p>\n\n<pre><code>for filename in os.listdir((os.path.join('\\\\\\\\10.10.10.80\\Jobs\\success'))):\n\n    doc = Document()\n    modTime = datetime.datetime.fromtimestamp(os.path.getmtime('\\\\\\\\10.10.10.80\\Jobs\\success\\\\'+filename)).strftime('%I:%M:%S %p')\n    done = doc.createElement('Printed Orders')\n    doc.appendChild(done)\n    ordernum = doc.createElement(filename)\n    done.appendChild(ordernum)\n    #This is where other child elements have been removed\n\n    print doc.toprettyxml(indent='  ')\n    xmlData = open(day_path, 'w')\n    xmlData.write(doc.toprettyxml(indent='  '))\n</code></pre>\n\n<p>Hopefully this is enough to see what's going on. Since <code>print</code> returns the values I am expecting, I think that the write function is where I'm going wrong.</p>\n"},{"tags":["python","windows","xml-parsing","minidom"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13294330,"title":"Permission Denied when attempting to Parse XML Data on Network Share","body":"<p>I'm using minidom in Python to parse some log files in a directory on the network. I can print the list of file names just fine but get the error: <br>\n<code>IOError: [Errno 13] Permission denied: '\\\\\\\\10.10.10.80\\\\logs'</code><br> \nwhenever I attempt to parse. Here is my code:</p>\n\n<pre><code>import xml.dom.minidom as xml\nimport os\n\nfor filename in os.walk('\\\\\\\\10.10.10.80\\logs\\\\'):\n    print filename\n    doc = xml.parse('\\\\\\\\10.10.10.80\\logs', filename)\n\n    queue = doc.Element.getElementsByTagName('QueueEntry')\n\n    print queue\n</code></pre>\n\n<p>Any ideas as to why it's shutting me out? I get the same error when attempting to parse files from a local directory too, so it must not have to do with the network. Thanks!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Tried <code>chmod()</code> as suggested by @inspectorG4dget but still got the error. I'm on Win7 accessing the directory of files on a Windows Server 2008 machine. The files are shared, with everyone, and I can open, read and write via Windows Explorer. Here is my <code>chmod()</code> code which returned the same error and another <code>subproccess</code> snippet that I tried: <br></p>\n\n<pre><code>import xml.dom.minidom as xml\nimport os, glob, sys, stat\n\nfor filename in os.walk('\\\\\\\\10.10.10.80\\\\logs\\\\'):\n    print filename\n    os.chmod('\\\\\\\\10.10.10.80\\\\logs\\\\', stat.S_IRWXO)\n    #Also tried other modes, all with the same error\n    doc = xml.parse('\\\\\\\\10.10.10.80\\\\logs', filename)\n    queue = doc.Element.getElementsByTagName('QueueEntry')\n    print queue\n</code></pre>\n\n<p><br></p>\n\n<pre><code>import xml.dom.minidom as xml\nimport os, sys, stat, subprocess\n\nfor filename in os.walk('\\\\\\\\10.10.10.80\\\\logs\\\\'):\n    subprocess.call(['chmod', '-R', '+w', '\\\\\\\\10.10.10.80\\\\logs'])\n    print filename\n    doc = xml.parse('\\\\\\\\10.10.10.80\\\\logs', filename)\n    queue = doc.Element.getElementsByTagName('QueueEntry')\n    print queue\n</code></pre>\n\n<p>This returns the error:<br> <code>WindowsError: [Error 2] The system cannot find the file specified</code></p>\n"},{"tags":["python","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13294673,"title":"Specifying colours when using matplotlib's pcolormesh","body":"<p>Using matplotlib, I want to be able to specify exact colors with pcolormesh. Here is what I have tried</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n</code></pre>\n\n<p>imports at the top</p>\n\n<pre><code>X = np.linspace(0,1,100)\nY = np.linspace(0,1,100)\nX,Y = np.meshgrid(X,Y)\nZ = (X**2 + Y**2) &lt; 1.\nZ = Z.astype(int)\nZ += (X**2 + Y**2) &lt; .5\n</code></pre>\n\n<p>set up a bunch of fake data. <code>Z</code> is only <code>0</code>s, <code>1</code>s, and <code>2</code>s (this is like my real problem).</p>\n\n<pre><code>plt.pcolormesh(X,Y,Z,color=[(1,1,0),(0,0,1),(1,0,1)])\n</code></pre>\n\n<p>call <code>pcolormesh</code> with a <code>color</code> argument in a vain attempt to get a yellow, blue, and magenta plot. In fact, I got the default colors!</p>\n\n<p><img src=\"http://i.stack.imgur.com/y3d3k.png\" alt=\"pcolormesh\"></p>\n\n<p>My question is: how do I call <code>pcolormesh</code> to get the first area to be yellow, the second blue, and the third magenta?</p>\n"},{"tags":["python","csv","dictionary","set"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13282278,"title":"Generating a .CSV with Several Columns - Use a Dictionary?","body":"<p>I am writing a script that looks through my inventory, compares it with a master list of all possible inventory items, and tells me what items I am missing.  My goal is a .csv file where the first column contains a unique key integer and then the remaining several columns would have data related to that key.  For example, a three row snippet of my end-goal .csv file might look like this:</p>\n\n<pre><code>100001,apple,fruit,medium,12,red\n100002,carrot,vegetable,medium,10,orange\n100005,radish,vegetable,small,10,red\n</code></pre>\n\n<p>The data for this is being drawn from a couple sources.  1st, a query to an API server gives me a list of keys for items that are in inventory.  2nd, I read in a .csv file into a dict that matches keys with item name for all possible keys.  A snippet of the first 5 rows of this .csv file might look like this:</p>\n\n<pre><code>100001,apple\n100002,carrot\n100003,pear\n100004,banana\n100005,radish\n</code></pre>\n\n<p>Note how any key in my list of inventory will be found in this two column .csv file that gives all keys and their corresponding item name and this list minus my inventory on hand yields what I'm looking for (which is the inventory I need to get).</p>\n\n<p>So far I can get a .csv file that contains just the keys and item names for the items that I don't have in inventory.  Give a list of inventory on hand like this:</p>\n\n<pre><code>100003,100004\n</code></pre>\n\n<p>A snippet of my resulting .csv file looks like this:</p>\n\n<pre><code>100001,apple\n100002,carrot\n100005,radish\n</code></pre>\n\n<p>This means that I have pear and banana in inventory (so they are not in this .csv file.)</p>\n\n<p>To get this I have a function to get an item name when given an item id that looks like this:</p>\n\n<pre><code>def getNames(id_to_name, ids):\n    return [id_to_name[id] for id in ids]\n</code></pre>\n\n<p>Then a function which gives a list of keys as integers from my inventory server API call that returns a list and I've run this function like this:</p>\n\n<pre><code>invlist = ServerApiCallFunction(AppropriateInfo)\n</code></pre>\n\n<p>A third function takes this invlist as its input and returns a dict of keys (the item id) and names for the items I don't have.  It also writes the information of this dict to a .csv file.  I am using the set1 - set2 method to do this.  It looks like this:</p>\n\n<pre><code>def InventoryNumbers(inventory):\n    with open(csvfile,'w') as c:\n        c.write('InvName' + ',InvID' + '\\n')\n    missinginvnames = []\n    with open(\"KeyAndItemNameTwoColumns.csv\",\"rb\") as fp:\n        reader = csv.reader(fp, skipinitialspace=True)\n        fp.readline() # skip header\n        invidsandnames = {int(id): str.upper(name) for id, name in reader}\n    invids = set(invidsandnames.keys())\n    invnames = set(invidsandnames.values())\n    invonhandset = set(inventory)\n    missinginvidsset = invids - invonhandset\n    missinginvids = list(missinginvidsset)\n    missinginvnames = getNames(invidsandnames, missinginvids)\n    missinginvnameswithids = dict(zip(missinginvnames, missinginvids))\n    print missinginvnameswithids\n    with open(csvfile,'a') as c:\n        for invname, invid in missinginvnameswithids.iteritems():\n            c.write(invname + ',' + str(invid) + '\\n')\n\n    return missinginvnameswithids\n</code></pre>\n\n<p>Which I then call like this:</p>\n\n<pre><code>InventoryNumbers(invlist)\n</code></pre>\n\n<p>With that explanation, now on to my question here.  I want to expand the data in this output .csv file by adding in additional columns.  The data for this would be drawn from another .csv file, a snippet of which would look like this:</p>\n\n<pre><code>100001,fruit,medium,12,red\n100002,vegetable,medium,10,orange\n100003,fruit,medium,14,green\n100004,fruit,medium,12,yellow\n100005,vegetable,small,10,red\n</code></pre>\n\n<p>Note how this does not contain the item name (so I have to pull that from a different .csv file that just has the two columns of key and item name) but it does use the same keys.  I am looking for a way to bring in this extra information so that my final .csv file will not just tell me the keys (which are item ids) and item names for the items I don't have in stock but it will also have columns for type, size, number, and color.</p>\n\n<p>One option I've looked at is the <a href=\"http://docs.python.org/2/library/collections.html#defaultdict-examples\" rel=\"nofollow\">defaultdict</a> piece from collections, but I'm not sure if this is the best way to go about what I want to do.  If I did use this method I'm not sure exactly how I'd call it to achieve my desired result.  If some other method would be easier I'm certainly willing to try that, too.</p>\n\n<p>How can I take my dict of keys and corresponding item names for items that I don't have in inventory and add to it this extra information in such a way that I could output it all to a .csv file?</p>\n\n<p>EDIT: As I typed this up it occurred to me that I might make things easier on myself by creating a new single .csv file that would have date in the form key,item name,type,size,number,color (basically just copying in the column for item name into the .csv that already has the other information for each key.)  This way I would only need to draw from one .csv file rather than from two.  Even if I did this, though, how would I go about making my desired .csv file based on only those keys for items not in inventory?</p>\n\n<p>ANSWER: I posted another question <a href=\"http://stackoverflow.com/questions/13294461/converting-dict-values-into-a-set-while-preserving-the-dict\">here</a> about how to implement the solution I accepted (becauseit was giving me a value error since my dict values were strings rather than sets to start with) and I ended up deciding that I wanted a list rather than a set (to preserve the order.)  I also ended up adding the column with item names to my .csv file that had all the other data so that I only had to draw from one .csv file.  That said, here is what this section of code now looks like:</p>\n\n<pre><code>MyDict = {}\ninfile = open('FileWithAllTheData.csv', 'r')\nfor line in infile.readlines():\n    spl_line = line.split(',')\n    if int(spl_line[0]) in missinginvids: #note that this is the list I was using as the keys for my dict which I was zipping together with a corresponding list of item names to make my dict before.\n        MyDict.setdefault(int(spl_line[0]), list()).append(spl_line[1:])\nprint MyDict\n</code></pre>\n"},{"tags":["python","xsd","gis","lxml","offlineapps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13262605,"title":"Python lxml validation offline yields \"connection refused\" to http://www.opengis.net/kml/2.2","body":"<p>I am trying to validate some XML via lxml and an xsd\n(ogckml22.xsd). This is happening OFFLINE. I read ther\nfile via a straight open/read</p>\n\n<p>For the record,  http://www.opengis.net/kml/2.2 is not valid.</p>\n\n<p>from another article:\n(clarified due to comment request..)</p>\n\n<pre><code>from lxml import etree\nimport os\nimport sys\nimport StringIO\nfile=open('ogckml22.xsd')\ndata=file.read()\nstr=StringIO.StringIO(data)\ntry:\n     xmlschema_doc=etree.parse(data)\nexcept IOError as ex:\n    print \"oops {0}\".format(ex.strerror)\nexcept:\n    print \"Unexpected error:\", sys.exc_info()[0]\n\nxmlschema=etree.XMLSchema(xmlschema_doc)  \n</code></pre>\n\n<p>All I get is a  \"connection refused\".\nWith the try/except, I get the xmlschema_doc is not defined.</p>\n\n<pre><code>File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;  \nFile \"&lt;xmlschema.pxi\",line 105, in lxml.etree.XMLSchema.__init__ (src/lxml/lxml.etree.c:132748  \n   self.error_log)  \nlxml.etree.XMLSchemaParseError: connection refused  \n</code></pre>\n\n<p>I know it can read the xsd file above and another xsd file that\ngets included.</p>\n\n<p>OK maybe the xsd gets read? I downloaded the source for lxml and in src/lxml/xmlschema.pxi,  </p>\n\n<pre><code>if self._c_schema is NULL:\n    raise XMLSchemaParseError(\n        self.error_log._buildExceptionMessage(\n            u\"Document is not valid XML Schema\"),\n        self._error_log)\n</code></pre>\n\n<p>I never see the \"Document is not valid XML Schema\" message. I can only assume that \"Connection Refused\" is used in place of the \"Document message\" (a default?) but\na more thorough reading of _error_log (outside of recompilation) evades me....</p>\n\n<p>Sincerely,</p>\n\n<p>ArrowInTree</p>\n"},{"tags":["python","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13295331,"title":"How can I embed google maps into my Python program?","body":"<p>I'm working on a project that will allow for geolocation of IP addresses in python.  I have the raw conversions down, and I can take an IP address and know city, state, country, longitude, latitude, etc.  I'm wondering if there's any way to embed Google Maps or something similar into my program to offer a visual representation.</p>\n"},{"tags":["python","large-data"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13294968,"title":"Memory efficient way of checking inclusion","body":"<p>This is a task I could have used a dict for, if it weren't for the fact that I will need to store much more data than can fit in my 4 GBs of RAM. I'm also doing other memory-demanding stuff in the same program, so the lower mem-requirements, the better.</p>\n\n<p>I just want to </p>\n\n<ol>\n<li><p>store <em>many</em> strings</p></li>\n<li><p>check whether a string is included or not in the collection</p></li>\n</ol>\n\n<p>Is there a Python way of doing this? I'm using 3.3 so berkelydbs are out.</p>\n\n<p>It also needs to give exact answers, so no Bloom-filters.</p>\n"},{"tags":["python","django","django-models","django-admin"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":438,"score":6,"question_id":3042079,"title":"How to display total record count against models in django admin","body":"<p>Is there a neat way to make the record/object count for a model appear on the main model list in the django admin module?</p>\n\n<p>I have found techniques for showing counts of related objects within sets in the list_display page (and I can see the total in the pagination section at the bottom of the same), but haven't come across a neat way to show the record count at the model list level.</p>\n"},{"tags":["python","dictionary","set"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13294461,"title":"Converting dict values into a set while preserving the dict","body":"<p>I have a dict like this:</p>\n\n<p>(100002: 'APPLE', 100004: 'BANANA', 100005: 'CARROT')</p>\n\n<p>I am trying to make my dict have ints for the keys (as it does now) but have sets for the values (rather than strings as it is now.)  My goal is to be able to read from a .csv file with one column for the key (an int which is the item id number) and then columns for things like size, shape, and color.  I want to add this information into my dict so that only the information for keys already in dict are added.</p>\n\n<p>My goal dict might look like this:</p>\n\n<pre><code>(100002: set(['APPLE','MEDIUM','ROUND','RED']), 100004: set(['Banana','MEDIUM','LONG','YELLOW']), 100005: set(['CARROT','MEDIUM','LONG','ORANGE'])\n</code></pre>\n\n<p>Starting with my dict of just key + string for item name, I tried code like this to read the extra information in from a .csv file:</p>\n\n<pre><code>infile = open('FileWithTheData.csv', 'r')\nfor line in infile.readlines():\n    spl_line = line.split(',')\n    if int(spl_line[0]) in MyDict.keys():\n        MyDict[int(spl_line[0])].update(spl_line[1:])\n</code></pre>\n\n<p>Unfortunately this errors out saying <code>AttributeError: 'str' object has no attribute 'update'</code>.  My attempts to change my dictionary's values into sets so that I can then .update them have yielded things like this: <code>(100002: set(['A','P','L','E']), 100004: set(['B','A','N']), 100005: set(['C','A','R','O','T']))</code>\nI want to convert the values to a set so that the string that is currently the value will be the first string in the set rather than breaking up the string into letters and making a set of those letters.</p>\n\n<p>I also tried making the values a set when I create the dict by zipping two lists together but it didn't seem to make any difference.  Something like this\nMyDict = dict(zip(listofkeys, set(listofnames)))\nstill makes the whole listofnames list into a set but it doesn't achieve my goal of making each value in MyDict into a set with the corresponding string from listofnames as the first string in the set.</p>\n\n<p>How can I make the values in MyDict into a set so that I can add additional strings to that set without turning the string that is currently the value in the dict into a set of individual letters?</p>\n\n<p>EDIT:\nI currently make MyDict by using one function to generate a list of item ids (which are the keys) and another function which looks up those item ids to generate a list of corresponding item names (using a two column .csv file as the data source) and then I <code>zip</code> them together.</p>\n\n<p>ANSWER:\nUsing the suggestions here I came up with this solution.  I found that the section that has set()).update can easily be changed to list()).append to yield a list rather than a set (so that the order is preserved.)  I also found it easier to update by .csv data input files by adding the column containing names to the FileWithTheData.csv so that I didn't have to mess with making the dict, converting the values to sets, and then adding in more data.  My code for this section now looks like this:</p>\n\n<pre><code>MyDict = {}\ninfile = open('FileWithTheData.csv', 'r')\nfor line in infile.readlines():\n    spl_line = line.split(',')\n    if int(spl_line[0]) in itemidlist: #note that this is the list I was formerly zipping together with a corresponding list of names to make my dict\n        MyDict.setdefault(int(spl_line[0]), list()).append(spl_line[1:])\nprint MyDict\n</code></pre>\n"},{"tags":["python","django","wsgi","psycopg2"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":517,"score":2,"question_id":7561221,"title":"\"undefined symbol: _PyObject_NextNotImplemented\" error when loading psycopg2 module","body":"<pre><code>environment: Ubuntu 10.04 LTS\nbuild Python 2.7.2 with ./configure --with-zlib --enable-unicode=ucs4\npostgresql-9.0\nwsgi\nDjango 1.3\nvirtualenv\napache\n</code></pre>\n\n<p>I am trying to build Ubuntu Django App Server. The installation completed with no error message. The exact installation method was successful with Ubuntu 11.04. \nHowever, when installation is completed on Ubuntu 10.04 and try to load <code>psycopg2</code> from Django, I got the following error (I did not get this error on 11.04): </p>\n\n<pre><code>File \"/home/nreeves/venv/lib/python2.7/site-packages/django/db/backends/postgresql_psycopg2/base.py\", line 24, in &lt;module&gt;\nraise ImproperlyConfigured(\"Error loading psycopg2 module: %s\" % e)\nImproperlyConfigured: Error loading psycopg2 module: /home/nreeves/venv/lib/python2.7/site-packages/psycopg2/_psycopg.so: undefined symbol: _PyObject_NextNotImplemented\n</code></pre>\n\n<p>My guess is that some linkage to library is incorrect... but I have no idea where to start... I have a following output - not sure if this will help you help me...</p>\n\n<pre><code>$ ldd /home/nreeves/venv/lib/python2.7/site-packages/psycopg2/_psycopg.so\n\nlinux-gate.so.1 =&gt;  (0xb77da000)\nlibpq.so.5 =&gt; /usr/lib/libpq.so.5 (0xb7788000)\nlibpthread.so.0 =&gt; /lib/tls/i686/cmov/libpthread.so.0 (0xb776f000)\nlibc.so.6 =&gt; /lib/tls/i686/cmov/libc.so.6 (0xb7614000)\nlibssl.so.0.9.8 =&gt; /lib/i686/cmov/libssl.so.0.9.8 (0xb75cc000)\nlibcrypto.so.0.9.8 =&gt; /lib/i686/cmov/libcrypto.so.0.9.8 (0xb747a000)\nlibkrb5.so.3 =&gt; /usr/lib/libkrb5.so.3 (0xb73c9000)\nlibcom_err.so.2 =&gt; /lib/libcom_err.so.2 (0xb73c5000)\nlibgssapi_krb5.so.2 =&gt; /usr/lib/libgssapi_krb5.so.2 (0xb7395000)\nlibldap_r-2.4.so.2 =&gt; /usr/lib/libldap_r-2.4.so.2 (0xb734e000)\n/lib/ld-linux.so.2 (0xb77db000)\nlibdl.so.2 =&gt; /lib/tls/i686/cmov/libdl.so.2 (0xb734a000)\nlibz.so.1 =&gt; /lib/libz.so.1 (0xb7335000)\nlibk5crypto.so.3 =&gt; /usr/lib/libk5crypto.so.3 (0xb7311000)\nlibkrb5support.so.0 =&gt; /usr/lib/libkrb5support.so.0 (0xb7308000)\nlibkeyutils.so.1 =&gt; /lib/libkeyutils.so.1 (0xb7304000)\nlibresolv.so.2 =&gt; /lib/tls/i686/cmov/libresolv.so.2 (0xb72f0000)\nliblber-2.4.so.2 =&gt; /usr/lib/liblber-2.4.so.2 (0xb72e3000)\nlibsasl2.so.2 =&gt; /usr/lib/libsasl2.so.2 (0xb72cb000)\nlibgnutls.so.26 =&gt; /usr/lib/libgnutls.so.26 (0xb722f000)\nlibtasn1.so.3 =&gt; /usr/lib/libtasn1.so.3 (0xb721e000)\nlibgcrypt.so.11 =&gt; /lib/libgcrypt.so.11 (0xb71ab000)\nlibgpg-error.so.0 =&gt; /lib/libgpg-error.so.0 (0xb71a6000)\n</code></pre>\n\n<p>And the following command outputs: </p>\n\n<pre><code>$ ls -l  /usr/lib/libpq*\n\n-rw-r--r-- 1 root root 224904 2011-09-26 06:33 /usr/lib/libpq.a\nlrwxrwxrwx 1 root root     12 2011-09-26 10:51 /usr/lib/libpq.so -&gt; libpq.so.5.4\nlrwxrwxrwx 1 root root     12 2011-09-26 10:51 /usr/lib/libpq.so.5 -&gt; libpq.so.5.4\n-rw-r--r-- 1 root root 150976 2011-09-26 06:33 /usr/lib/libpq.so.5.4\n</code></pre>\n\n<p>To me it appears that all is correct. Any advice would be appreciated.</p>\n"},{"tags":["python","gui","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13295119,"title":"Opening a new tkinter window from another window","body":"<p>I'm trying to lay out a basic interface, but have run into some trouble.</p>\n\n<p>Code:</p>\n\n<p>ServerMainWindow.py</p>\n\n<pre><code>import Tkinter as tk\n\nimport ServerEditWindow as editWindow\n\nclass ServerMainWindow(tk.Toplevel):\n    def __init__(self, parent, title = None):\n\n        tk.Toplevel.__init__(self, parent)\n        #associate this window with a parent window\n        self.transient(parent)\n\n        if title:\n            self.title(title)\n\n        self.parent = parent\n\n        self.result = None\n\n        body = tk.Frame(parent)\n        self.initial_focus = self.listbox(body)\n        body.pack(fill='both')\n\n        self.buttons()\n\n        self.grab_set()\n\n        if not self.initial_focus:\n            self.initial_focus = self\n\n        self.protocol(\"WM_DELETE_WINDOW\", self.cancel)\n\n        self.initial_focus.focus_set()\n\n        self.wait_window(self)\n\n    def listbox(self, parent):\n        \"\"\"\n        create the listbox that will hold the available job names.\n        the Listbox widget will have initial focus when the dialog\n        is created\n        \"\"\"\n\n        self.listbox = tk.Listbox(parent)\n        self.listbox.pack(fill='both')\n\n        for item in [1, 2, 3, 4]:\n            self.listbox.insert(tk.END, item)\n\n        return self.listbox\n\n    def buttons(self):\n        \"\"\"\n        add a frame to hold the buttons\n        Edit, Stop, and Stop all\n        \"\"\"\n\n        box = tk.Frame(self)\n\n        edit = tk.Button(box, text=\"Edit\", width=10, command=self.edit)\n        edit.pack(side=tk.LEFT, padx=5, pady=5)\n\n        stop = tk.Button(box, text=\"Stop\", width=10, command=self.stop)\n        stop.pack(side=tk.LEFT, padx=5, pady=5)\n\n        stopAll = tk.Button(box, text=\"Stop all\", width=10, command=self.stopAll)\n        stopAll.pack(side=tk.LEFT, padx=5, pady=5)\n\n        box.pack()\n\n    def edit(self):\n        \"\"\"\n        callback function for the edit button\n\n        will create a new dialog window with the access list\n        for the selected job (from the Listbox in self.listbox)\n        \"\"\"\n\n        d = editWindow.ServerEditWindow(self.parent, title=\"other window\")\n\n    def stop(self):\n        \"\"\"\n        callback function for the stop button\n\n        will stop the headless sds2 process for the selected job\n        (from the Listbox in self.listbox)\n        \"\"\"\n\n        pass\n\n    def stopAll(self):\n        \"\"\"\n        callback function for the stop all button\n\n        will stop all running headless sds2 processes\n        \"\"\"\n\n        pass\n\n    def cancel(self, even=None):\n        self.parent.focus_set()\n        self.destroy()\n</code></pre>\n\n<p>ServerEditWindow.py</p>\n\n<pre><code>import Tkinter as tk\n\nclass ServerEditWindow(tk.Toplevel):\n    def __init__(self, parent, title = None):\n        tk.Toplevel.__init__(self, parent)\n\n        #associate this window with the parent\n        self.transient(parent)\n\n        if title:\n            self.title(title)\n\n        body = tk.Frame(parent)\n        self.initial_focus = self.listbox(body)\n        body.pack(padx=5, pady=5)\n\n        self.parent = parent\n\n        self.result = None\n\n        self.newUser(body)\n        self.buttons()\n\n        self.grab_set()\n\n        if not self.initial_focus:\n            self.initial_focus = self\n\n        self.protocol(\"WM_DELETE_WINDOW\", self.cancel)\n\n        self.initial_focus.focus_set()\n\n        self.wait_window(self)\n\n    def listbox(self, parent):\n        \"\"\"\n        create a listbox to hold the users with access to the currently selected job\n        \"\"\"\n\n        self.listbox = tk.Listbox(parent)\n        self.listbox.pack()\n\n        return self.listbox\n\n    def newUser(self, parent):\n        \"\"\"\n        a frame that holds an entry widget and a button to confirm the\n        addition of a user to the list of users who canaccess the job info.\n        \"\"\"\n\n        box = tk.Frame(parent)\n\n        self.entry = tk.Entry(box)\n        self.entry.pack(side = tk.TOP)\n\n        button = tk.Button(box, text=\"Add user\", callback = self.addUser)\n        button.pack(side=tk.TOP)\n\n        box.pack()\n\n    def buttons(self):\n        \"\"\"\n        create the delete button for the Listbox.\n        \"\"\"\n\n        box = tk.Frame(self)\n\n        delete = tk.Button(box, text = \"Delete user\", callback=self.deleteUser)\n        delete.pack(side=tk.LEFT, padx=5, pady=5)\n\n    def addUser(self):\n        \"\"\"\n        add the user from self.entry to the list of users able to access\n        the job information.\n        \"\"\"\n\n        pass\n\n    def deleteUser(self):\n        \"\"\"\n        delete the user currently selected in the Listbox.\n        \"\"\"\n\n        pass\n\n\n    def cancel(self, even=None):\n        self.parent.focus_set()\n        self.destroy()\n</code></pre>\n\n<p>and the script used to test:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport ServerGUI as gui\nimport Tkinter as tk\n\nroot = tk.Tk()\n\nd = gui.ServerMainWindow(root, title=\"main test\")\n\nroot.mainloop()\n</code></pre>\n\n<p>The problem: when Edit is clicked from the first dialog (created in ServerMainWindow) I want a second window to pop up with some other widgets. At the moment I get nothing, no window, no errors, nothing. </p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["python","django","database-design"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":41,"score":4,"question_id":13276361,"title":"How to specify uniqueness across a relationship in Django","body":"<p>I'm trying to represent some movie ratings data in Django. Here is a simplified version of my models that illustrates my problem:</p>\n\n<pre><code>class RatingSystem(models.Model):\n    \"\"\"This denotes a rating authority and territory in which they operate\"\"\"\n    name = models.CharField(max_length=16)\n    territory = models.CharField(max_length=32)\n\nclass Rating(models.Model):\n    \"\"\"This represents a rating designation used by a rating system.\"\"\"\n    code = models.CharField(max_length=16)\n    description = models.TextField()\n    system = models.ForeignKey(RatingSystem)\n\nclass FilmRating(models.Model):\n    \"\"\"This is a rating for a film and the reason why it received the rating.\n\n    Each film can have many ratings, but only one per rating system.\n    \"\"\"\n    rating = models.ForeignKey(Rating)\n    film = models.ForeignKey('Film')\n    reason = models.TextField()\n\nclass Film(models.Model):\n    \"\"\"Data for a film.\"\"\"\n    title = models.CharField(max_length=64)\n    synopsis = models.TextField()\n    ratings = models.ManyToManyField(Rating, through=FilmRating)\n</code></pre>\n\n<p>As the comments indicate, each Film can have multiple ratings, but only one rating per rating system. For instance, a film cannot be rated both 'R' and 'PG' by the MPAA. However, it can be rated 'R' by the MPAA and '15' by the BBFC.</p>\n\n<p>I'm struggling to formalize this constraint in Django. I'd like to do:</p>\n\n<pre><code>unique_together = ('film', 'rating__system')\n</code></pre>\n\n<p>in <code>FilmRating</code> but following a relationship like that doesn't seem to be allowed.  If I were using pure SQL, I would make <code>code</code> and <code>system</code> a composite primary key in <code>Rating</code>, then make a unique constraint on <code>system</code>, and <code>film</code> in <code>FilmRatings</code>. Unfortunately, Django does not support composite keys. I've considered overriding the <code>save()</code> method of <code>FilmRating</code>, but I'd prefer to have the constraint at the database level if possible.</p>\n\n<p>Anyone have any idea how to do this? Restructuring the tables would be fine too if it would help.</p>\n"},{"tags":["java","c++","python","compiler","runtime"],"answer_count":12,"favorite_count":23,"up_vote_count":24,"down_vote_count":0,"view_count":24620,"score":24,"question_id":567682,"title":"Online compilers/runtime for Java, C++, Python and ObjC?","body":"<p>Does anyone know of a good online compiler/runtime (for C++, Java, Python, ObjC etc.) that I can access on the web? </p>\n\n<p>What I'm looking for is something that would allow me to type in a program in a web form and to run the program and see the results online.</p>\n\n<p>(Let's not get into the why for now. Suffice it to say for the moment that I don't always have access to a compiler/runtime, and firing up an IDE is just overkill for testing out some code snippets)</p>\n\n<p>I know of codepad.org -- but I'm looking for something better. </p>\n"},{"tags":["python","linux","memory-management","64bit","python-multithreading"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":107,"score":3,"question_id":12924574,"title":"python threading memory usage 64 bit vs 32 bit","body":"<p>I have a basic python program that makes a ton of threads (2000), processes something, then writes it out.</p>\n\n<p>I've narrowed down my code to be similar to this (with 2k threads): \nURL fetch thread example on:\n<a href=\"http://www.ibm.com/developerworks/aix/library/au-threadingpython/\" rel=\"nofollow\">http://www.ibm.com/developerworks/aix/library/au-threadingpython/</a></p>\n\n<p>Except inside my class I literally do nothing (get item from queue, then call task done). Both in this scaled down version, and the version where I do things, memory usage is the same. In 32 bit python interpreter, I use about 105 megs of virtual memory. In 64 bit, I use over 8 gigs. </p>\n\n<p>I'm running rhel 6. I've also added:\nthreading.stack_size(32768)\nto get stack size down. I'm assuming python is grabbing some default limit for memory to reserve, I just cant figure out what that limit is.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","linked-list","long-integer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13285130,"title":"Long Linked List","body":"<p>How would I go to create a long using a single linked list? I need to get started but I dont know how.\nIs it possible that someone can show me how to get the basic BigInt?</p>\n"},{"tags":["python","time","game","mud"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":60,"score":7,"question_id":13294411,"title":"Python -- time.sleep() offset by code duration","body":"<p>I have a function that runs a tick() for all players and objects within my game server. I do this by looping through a set every .1 seconds. I need it to be a solid .1. Lots of timing and math depends on this pause being as exact as possible to .1 seconds. To achieve this, I added this to the tick thread:</p>\n\n<pre><code>start_time = time.time()\n\n# loops and code and stuff for tick thread in here...\n\ntime_lapsed = time.time() - start_time # get the time it took to run the above code\nif 0.1 - time_lapsed &gt; 0:\n    time.sleep(0.1 - time_lapsed)\nelse:\n    print \"Server is overloaded!\"\n    # server lag is greater that .1, so don't sleep, and just eat it on this run. \n    # the goal is to never see this.\n</code></pre>\n\n<p>My question is, is this the best way to do this? If the duration of my loop is 0.01, then time_lapsed == 0.01 ...  and then the sleep should only be for 0.09. I ask, because it doesn't seem to be working. I started getting the overloaded server message the other day, and the server was most definitely not overloaded. Any thoughts on a good way to \"dynamically\" control the sleep?  Maybe there's a different way to run code every tenth of a second without sleeping?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13294395,"title":"Import object from file without running that file's imports","body":"<p>Not sure this is possible, but would like to know if there are any suggestions.</p>\n\n<p>Say I have a file foo.py which looks like</p>\n\n<pre><code>import doesnotexist\n\nbar = \"Hello, World!\"\n</code></pre>\n\n<p>I want to do a <code>from foo import bar</code>, but this will fail due to the import not existing in the scope of this new file.</p>\n\n<p>One way of doing this is putting <code>bar</code> in a new file called <code>bar.py</code> and have <code>foo.py</code> also import that, but would like to skip that if possible.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","web-scraping","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":40,"score":-2,"question_id":13294679,"title":"How to scrap \"download page\" of any site using python","body":"<p>I want scrap download page of any site using python to extract information about version, and its download link.\nI'm learning python and want to do it with beautifulsoup, but these pages are very complex and  it looks pretty much hard to find this stuff.\nThanks in advance</p>\n"},{"tags":["python","union","ctypes"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13293703,"title":"how to use unions with python?","body":"<p>I have just started to working with python and i'm wondering how should i define unions with python (using ctypes)? Hopefully i'm right that unions are supported via ctypes.  For example how the following c code is in python</p>\n\n<pre><code>struct test\n{\nchar something[10];\nint status;\n};\n\nstruct test2\n{\nchar else[10];\nint status;\nint alive;\n};\n\nunion tests\n{\nstruct test a;\nstruct test2 b;\n};\n\nstruct tester\n{\nchar more_chars[20];\nint magic;\nunion tests f;\n};\n</code></pre>\n\n<p>Thx,Simple example added if someone else is looking the same answer</p>\n\n<pre><code>from ctypes import *\n\nclass POINT(Structure):\n    _fields_ = [(\"x\", c_int),\n                 (\"y\", c_int)]\n\nclass POINT_1(Structure):\n    _fields_ = [(\"x\", c_int),\n                 (\"y\", c_int),\n                 (\"z\",c_int)]\n\nclass POINT_UNION(Union):\n    _fields_ = [(\"a\", POINT),\n                 (\"b\", POINT_1)]\n\nclass TEST(Structure):\n    _fields_ = [(\"magic\", c_int),\n                 (\"my_union\", POINT_UNION)]\n\ntesting = TEST()\ntesting.magic = 10;\ntesting.my_union.b.x=100\ntesting.my_union.b.y=200\ntesting.my_union.b.z=300\n</code></pre>\n"},{"tags":["python","numpy"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1929,"score":2,"question_id":2111163,"title":"Selecting specific column in each row from array","body":"<p>I am trying to select specific column elements for each row of a numpy array. For example, in the following example:</p>\n\n<pre><code>In [1]: a = np.random.random((3,2))\nOut[1]: \narray([[ 0.75670668,  0.1283942 ],\n       [ 0.51326555,  0.59378083],\n       [ 0.03219789,  0.53612603]])\n</code></pre>\n\n<p>I would like to select the first element of the first row, the second element of the second row, and the first element of the third row. So I tried to do the following:</p>\n\n<pre><code>In [2]: b = np.array([0,1,0])\n\nIn [3]: a[:,b]\n</code></pre>\n\n<p>But this produces the following output:</p>\n\n<pre><code>Out[3]: \narray([[ 0.75670668,  0.1283942 ,  0.75670668],\n       [ 0.51326555,  0.59378083,  0.51326555],\n       [ 0.03219789,  0.53612603,  0.03219789]])\n</code></pre>\n\n<p>which clearly is not what I am looking for. Is there an easy way to do what I would like to do without using loops?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13294031,"title":"Python CX_ORACLE SQLERRM","body":"<p>I need to display the sqlerrm for the oracle error msg but I dont see it in CX_ORACLE, </p>\n\n<p><strong>code.py</strong></p>\n\n<pre><code>try:\n    cursor.execute(qry)\nexcept cx_Oracle.DatabaseError as e:\n    error, = e.args\n    print 'error.code', error.code\n</code></pre>\n"},{"tags":["python","escaping","argv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13294324,"title":"How to converts a list of arguments into single string command line in Python?","body":"<p>How do I convert a list of command line parameters, like <code>argv</code> to a single string for command line?</p>\n\n<p><code>\" \".join(argv)</code> is not the correct solution as it will not escape the strings with spaces correctly.</p>\n\n<p>Example: <code>./test.py -v --simulate --action removePage  --title \"AAA BBB\"</code></p>\n\n<p>If you try this the last argument is <code>AAA BBB</code> without quotes but if I try to rebuild the command line with join I will get a wrong result.</p>\n\n<p>Note: I know that I can get the command line as a string, but in my case I cannot rely on that, I need a solution that converts a list of arguments to a proper command line.</p>\n"},{"tags":["python","networking","ip","address"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1924,"score":1,"question_id":5619685,"title":"Conversion from IP string to integer, and backward in Python","body":"<p>i have a little problem with my script, where i need to convert ip in form 'xxx.xxx.xxx.xxx' to integer representation and go back from this form.</p>\n\n<pre><code>def iptoint(ip):\n    return int(socket.inet_aton(ip).encode('hex'),16)\n\ndef inttoip(ip):\n    return socket.inet_ntoa(hex(ip)[2:-1].decode('hex'))\n\n\nIn [65]: inttoip(iptoint('192.168.1.1'))\nOut[65]: '192.168.1.1'\n\nIn [66]: inttoip(iptoint('4.1.75.131'))\n---------------------------------------------------------------------------\nerror                                     Traceback (most recent call last)\n\n/home/thc/&lt;ipython console&gt; in &lt;module&gt;()\n\n/home/thc/&lt;ipython console&gt; in inttoip(ip)\n\nerror: packed IP wrong length for inet_ntoa`\n</code></pre>\n\n<p>Anybody knows how to fix that?</p>\n"},{"tags":["python","orm","flask","neo4j","flask-sqlalchemy"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13294276,"title":"Cleanest way to make an ORM for neo4j + sql in python flask? One model over 2 databases","body":"<p>How can I create one model that talks to two databases in Flask, where one is, say, sqlite, and the other is specifically neo4j?</p>\n\n<p>I'd like to have login and password stuff in a traditional db, and keep other graphy information in neo4j.  I'm told neo4j is bad for things that need large graph traversals.  Perhaps I'm wrong in needing this, but I have an instance where I'd like to say something like...\n\"<code>return a dict(person.x,person.y,person.z) from all nodes where type==person</code>\", and then feed that into the view of my index page.</p>\n\n<p>I've seen related questions about ORMs with neo4j: \n<a href=\"http://stackoverflow.com/questions/8356626/orm-with-graph-databases-like-neo4j-in-python\">ORM with Graph-Databases like Neo4j in Python</a></p>\n\n<p>...and this about multiple DBs in Flask: \n<a href=\"http://packages.python.org/Flask-SQLAlchemy/binds.html\" rel=\"nofollow\">http://packages.python.org/Flask-SQLAlchemy/binds.html</a></p>\n\n<p>Specifically, I see this taking the form of my create statement writing to sqlite db connection and then writing a key from there to additional relational information in neo4j.</p>\n"},{"tags":["python","list","split"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":90,"score":5,"question_id":12808420,"title":"split items in list","body":"<p>How can I turn the following list</p>\n\n<pre><code>['1','2','A,B,C,D','7','8']\n</code></pre>\n\n<p>into</p>\n\n<p><code>['1','2','A','B','C','D','7','8']</code></p>\n\n<p>in the most pythonic way?</p>\n\n<p>I have very unpythonic code that creates nested list, and then flatterens:</p>\n\n<pre><code>sum ( [ word.split(',') for word in words ], [] )\n</code></pre>\n"},{"tags":["python","osx","matplotlib","enthought"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13292396,"title":"Error importing matplotlib.pyplot","body":"<p>When I run <code>import matplotlib.pyplot as plt</code>, I get the following error message:</p>\n\n<pre><code>---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-1-6f467123fe04&gt; in &lt;module&gt;()\n----&gt; 1 import matplotlib.pyplot\n\n/Library/Python/2.7/site-packages/matplotlib/pyplot.py in &lt;module&gt;()\n     21 from matplotlib.cbook import dedent, silent_list, is_string_like, is_numlike\n     22 from matplotlib import docstring\n---&gt; 23 from matplotlib.figure import Figure, figaspect\n     24 from matplotlib.backend_bases import FigureCanvasBase\n     25 from matplotlib.image import imread as _imread\n\n/Library/Python/2.7/site-packages/matplotlib/figure.py in &lt;module&gt;()\n     16 import artist\n     17 from artist import Artist, allow_rasterization\n---&gt; 18 from axes import Axes, SubplotBase, subplot_class_factory\n     19 from cbook import flatten, allequal, Stack, iterable, is_string_like\n     20 import _image\n\n/Library/Python/2.7/site-packages/matplotlib/axes.py in &lt;module&gt;()\n     12 import matplotlib.artist as martist\n     13 from matplotlib.artist import allow_rasterization\n---&gt; 14 import matplotlib.axis as maxis\n     15 import matplotlib.cbook as cbook\n     16 import matplotlib.collections as mcoll\n\n/Library/Python/2.7/site-packages/matplotlib/axis.py in &lt;module&gt;()\n      8 from matplotlib.artist import allow_rasterization\n      9 import matplotlib.cbook as cbook\n---&gt; 10 import matplotlib.font_manager as font_manager\n     11 import matplotlib.lines as mlines\n     12 import matplotlib.patches as mpatches\n\n/Library/Python/2.7/site-packages/matplotlib/font_manager.py in &lt;module&gt;()\n     50 import matplotlib\n     51 from matplotlib import afm\n---&gt; 52 from matplotlib import ft2font\n     53 from matplotlib import rcParams, get_configdir\n     54 from matplotlib.cbook import is_string_like\n\nImportError: dlopen(/Library/Python/2.7/site-packages/matplotlib/ft2font.so, 2): Library not loaded: /opt/local/lib/libfreetype.6.dylib\n  Referenced from: /Library/Python/2.7/site-packages/matplotlib/ft2font.so\n  Reason: image not found\n</code></pre>\n\n<p>My <code>/Library/Python/2.7/site-packages/setuptools.pth</code> is this: <code>/Library/Frameworks/EPD64.framework/Versions/7.3/Python</code>. My <code>/Library/Python/2.7/site-packages/easy-install.pth</code> is as following:</p>\n\n<pre><code>import sys; sys.__plen = len(sys.path)\n./pip-1.2.1-py2.7.egg\n/Library/Frameworks/EPD64.framework/Versions/7.3/Python\n./pudb-2012.3-py2.7.egg\n./Pygments-1.5-py2.7.egg\n./urwid-1.0.2-py2.7-macosx-10.8-intel.egg\nimport sys; new=sys.path[sys.__plen:]; del sys.path[sys.__plen:]; p=getattr(sys,'__egginsert',0); sys.path[p:p]=new; sys.__egginsert = p+len(new)\n</code></pre>\n\n<p>What should I to import <code>matplotlib.pyplot</code> correctly? I have homebrew installed, am running the Enthought Python Distribution, and am running OSX.</p>\n"},{"tags":["python","multiprocessing","ctypes","shared"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":12342917,"title":"Set the value of a python string in a shared c_wchar_p in a subproccess","body":"<p>I've a situation like this:</p>\n\n<p>The main process generate some sub-process that they should write the result in a shared object in string and numeric types, for the numeric types there's no problem but with the string the value will be lost.</p>\n\n<pre><code>import multiprocessing as mp\nfrom ctypes import Structure, c_double, c_wchar_p, c_int\n\n# shared obj class\nclass SharedObj(Structure):\n    _fields_ = [('name', c_wchar_p), ('val', c_double) ]\n\ndef run_mp( values , lock , s ) :\n    for i in range( s , len( values ) , 2 ):\n        lock.acquire()\n        values[i].name = str( i ) # write the string value in the shared obj\n        values[i].val = float( i )\n        print( \"tmp: %d\" % i )\n        lock.release()\n\ndef main():\n    # creating the shared obj and mutex\n    values = mp.Array(  SharedObj , [SharedObj() for i in range( 10 )] )\n    lock_j = mp.Lock()\n\n    # creating two sub-process form the function run_mp\n    p1 = mp.Process( target=run_mp , args=( values , lock_j , 0 ))\n    p2 = mp.Process( target=run_mp , args=( values , lock_j , 1 ))\n\n    p1.start()\n    p2.start()\n\n    p1.join()\n    p2.join()\n\n    for v in  values:\n        print()\n        print( \"res name: %s\" % v.name )\n        print( \"res val: %f \" % v.val )\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>As a result the field in the shared object containing the c_double is written in the field, but the string generated in the sub-processes rum-mp ( <code>string values[i].name = str( i )</code> ) will be lost in the main process.</p>\n\n<p>There is a method for saving the strings generated in sub-process?</p>\n\n<p>The <strong>output</strong> of this code look like:</p>\n\n<p>Where the resulting string in the main process are completely random.</p>\n\n<blockquote>\n  <p>tmp: 0 </p>\n  \n  <p>tmp: 2 </p>\n  \n  <p>tmp: 3</p>\n  \n  <p>tmp: 4</p>\n  \n  <p>res name: ����羍����羍</p>\n  \n  <p>res val: 0.000000 </p>\n  \n  <p>res name: ����羍����羍</p>\n  \n  <p>res val: 1.000000 </p>\n  \n  <p>res name:  </p>\n  \n  <p>res val: 2.000000   ....</p>\n</blockquote>\n"},{"tags":["python","if-statement","python-3.x","while-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":32,"score":4,"question_id":13294225,"title":"Guess my number in limited tries game","body":"<p>As part of my course at university I am learning python a task I have been trying to (re)write this guess the number game to terminate if the user fails to guess correctly within 5 tries:</p>\n\n<pre><code>    # Guess My Number Mod 5 tries or bust\n\n\nimport random  \n\nprint(\"\\nI'm thinking of a number between 1 and 100.\")\nprint(\"Try to guess it in five tries or less\")\n\nmy_number = random.randint(1, 100)\nguess = int(input(\"Go one take a guess I dare ya: \"))\ntries = 1\n\nwhile guess != my_number:\n    if guess &gt; my_number:\n        print(\"Lower...\")\n    else:\n        print(\"Higher...\")\nguess = int(input(\"Go one take a guess I dare ya: \"))\ntries += 1\nif tries==5:\n        input(\"You failed to guess the number was it that hard?\\n Press any key to exit!)\"\n\nprint(\"Well done you guessed correctly!The number was\", my_number)\nprint(\"And it only took you\", tries, \"tries!\\n\")\n\ninput(\"\\n\\nPress the enter key to exit.\")\n</code></pre>\n\n<p>I assume the termination cause isn't working as my if statement is outside the while loop and I can't get it to take effect.</p>\n\n<p>Also some invalid syntax as I'm tired and can't spot it.</p>\n\n<p>If possible can you guys give me hints on how to fix what I want to do as I am more likely to learn that way.</p>\n"},{"tags":["python","sqlite3","large-files","dbm"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":13293994,"title":"Working with files too big to be stored in memory?","body":"<p>I have a 20 gb file which looks like the following:</p>\n\n<pre><code>Read name, Start position, Direction, Sequence\n</code></pre>\n\n<p>Note that read names are not neccessarily unique.</p>\n\n<p>E.g. a snippet of my file would look like</p>\n\n<pre><code>Read1, 40009348, +, AGTTTTCGTA\nRead2, 40009349, -, AGCCCTTCGG\nRead1, 50994530, -, AGTTTTCGTA\n</code></pre>\n\n<p>I want to be able to store these lines in a way that allows me to</p>\n\n<ol>\n<li>keep the file sorted based on the second value</li>\n<li>iterate over the sorted file</li>\n</ol>\n\n<p>It seems that databases can be used for this. </p>\n\n<p>The documentation seems to imply that <a href=\"http://docs.python.org/3.3/library/dbm.html\" rel=\"nofollow\">dbm</a> cannot be used to sort the file and iterate over it.</p>\n\n<p>Therefore I'm wondering whether <a href=\"http://docs.python.org/3.3/library/sqlite3.html\" rel=\"nofollow\">SQLite3</a> will be able to do 1) and 2). I know that I will be able to sort my file with a SQL-query and iterate over the resultset with sqlite3. However, will I be able to do this without running out of memory on a 4gb of RAM computer?</p>\n"},{"tags":["python","django","django-orm"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13293068,"title":"Django asymettrical self through relationship query","body":"<p>I have the following - simplified - models:</p>\n\n<pre><code>class User(models.Model):\n    following = models.ManyToManyField(\"self\", through='Following', symmetrical=False)\n\nclass Following(models.Model):\n    from_user = models.ForeignKey(User, related_name='from_user')\n    to_user = models.ForeignKey(User, related_name='to_user')\n    status = models.IntegerField()\n</code></pre>\n\n<p>The status is 0 for pending, 1 for following\nLet user be a User. I would like to get all the followed users of user</p>\n\n<p>I can do</p>\n\n<pre><code>user.following.all()\n</code></pre>\n\n<p>to get all the users user is following (pending relationships OR really follow)</p>\n\n<p>or</p>\n\n<pre><code>Following.objects.filter(from_user=user, status=1)\n</code></pre>\n\n<p>to get all the Following objects with User user and real friendship</p>\n\n<p>But how can I get all the User objects for user and status=1 ?\nI can't seem to find a way</p>\n\n<p>Thank you !</p>\n"},{"tags":["python","sorting","iteration"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":13293902,"title":"iterate through dicts of lists + add up values of identical keys","body":"<p>I have a data structure like this : </p>\n\n<pre><code>[\n    { \"key\" : { \"subkey\" : \"red\", \"value\" : 1 }  },\n    { \"key\" : { \"subkey\" : \"red\", \"value\" : 2 }  },\n    { \"key\" : { \"subkey\" : \"blue\", \"value\" : 1 }  },\n    { \"key\" : { \"subkey\" : \"yellow\", \"value\" : 3 }  },\n    { \"key\" : { \"subkey\" : \"blue\", \"value\" : 5 }  },\n    { \"key\" : { \"subkey\" : \"blue\", \"value\" : 8 }  },\n    { \"key\" : { \"subkey\" : \"red\", \"value\" : 2 }  },\n    { \"key\" : { \"subkey\" : \"red\", \"value\" : 3 }  },\n    { \"key\" : { \"subkey\" : \"red\", \"value\" : 6 }  },\n]\n</code></pre>\n\n<p>The idea is I would like to iterate through it and when at least 2 <code>\"subkeys\"</code> are the same, fire off <code>some_event()</code>, which would add up the values from those consecutive objects, until it hits a different <code>\"subkey\"</code> again. </p>\n\n<p>For example, the first and second dicts should fire off <code>some_event()</code> with values <code>2+1</code> added. Then nothing happens with the third (blue) nor fourth (yellow) lines, fifth and sixth (blue) fire off <code>some_event()</code> with values <code>5+8</code>, etc. </p>\n\n<p>thanks!</p>\n"},{"tags":["python","methods","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13292427,"title":"Python, Tkinter, module variables and messing up","body":"<p>I'm developing a GUI for a program (called TDSE) with Tkinter.\nI've created two main files:</p>\n\n<pre><code>TDSE_methods.py\n------------\ndef method():\n    try to access variables in 'app', see below\n\nTDSE.py\n----\n\nclass TDSEFrame(Frame):\n    some code...\n    self.label ...\n    some code that uses TDSE_methods.method()\n\nclass TDSE:\n    some code too\n\nif __name__ = \"__main__\":\n    root = Tk()\n    app = TDSE(root)\n    root.mainloop()\n</code></pre>\n\n<p>Main issue is I can't get to access '<code>app</code>' from <code>TDSE_methods.py</code> (I guess because, being defined into <code>if __name__ ...</code>, it's not part of the module namespace).\nI tried to avoid using <code>if __name__</code>, but in that way Python (incredibly) says <code>TDSE_methods</code> module has no <code>methods()</code> method. I'm speechless.</p>\n\n<p>What could the problem be? I tried even creating a class into <code>TDSE.py</code> in order to store <code>root</code> and <code>app</code> as instance variables, but at the end of the day I still had to add a line in <code>TDSE.py</code> in order to instanciate an object belonging to the class I created, and it still told me no <code>method()</code> in <code>TDSE_methods.py</code>.</p>\n"},{"tags":["python","serial-port","pyserial"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":186,"score":0,"question_id":3311908,"title":"How can i convert Integer to Signed Word in Python (for use with PySerial)?","body":"<p>I'm having some problems making Python talk to a hardware display using pyserial.\nSome of the display's functions require a signed word to be sent as arguments after commands (ie. X or Y on display screen).</p>\n\n<p>I've been getting by with chr() previously, but that only works with numbers &lt; 255.</p>\n\n<p>I've tried the following for conversion but it's giving some weird results, placing things way off the set position:</p>\n\n<pre><code>def ByteIt(self,data):\n    datastring = str()\n    for each in tuple(str(data)):\n        datastring = datastring + chr(int(each))\n    return datastring\n</code></pre>\n\n<p>I may be way off myself here :) </p>\n\n<p>Example of how i would use it:</p>\n\n<pre><code>x = 100\ny = 350\nserial.Write('\\x01' + ByteIt(x) + ByteIt(y)) # command , xpos , ypos\n</code></pre>\n\n<p>The thing is, when i do this, the stuff is not placed at x100,y350, most times the display will crash :(</p>\n\n<p>Any tips on how this can be done properly?</p>\n"},{"tags":["python","replace","word"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":13284291,"title":"Replace four letter word in python","body":"<p>I am trying to write a program that opens a text document and replaces all four letter words with <em>*</em>*. I have been messing around with this program for multiple hours now. I can not seem to get anywhere. I was hoping someone would be able to help me out with this one. Here is what I have so far. Help is greatly appreciated! </p>\n\n<pre><code>def censor():\n    filename = input(\"Enter name of file: \")\n    file = open(filename, 'r')\n    file1 = open(filename, 'w')\n    for element in file:\n        words = element.split()\n        if len(words) == 4:\n            file1 = element.replace(words, \"xxxx\")\n            alist.append(bob)\n        print (file)\n    file.close()\n</code></pre>\n\n<p>here is revised verison, i don't know if this is much better</p>\n\n<pre><code>def censor():\n    filename = input(\"Enter name of file: \")\n    file = open(filename, 'r')\n    file1 = open(filename, 'w')\n    i = 0\n    for element in file:\n        words = element.split()\n        for i in range(len(words)):\n            if len(words[i]) == 4:\n                file1 = element.replace(i, \"xxxx\")\n                i = i+1\n    file.close()\n</code></pre>\n"},{"tags":["python","list","loops","split","delimiter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12900540,"title":"Split a delimiter in a list of list when delimiter may be both present and absent","body":"<p>Is it possible to bypass an if statement when delimiting a list that has both a presence and absence of a ',' delimiter? I would like to delimit each list in this the list of list below when a ',' is present. However, some of the lists don't have a ','.</p>\n\n<pre><code>oldcode = [['a, b'], ['a'], ['a,b,c']]\n\noldcode_split = []\n\nfor code in oldcode:\n    oc = code.split(',')\n    oldcode_split.append(oc)\nprint oldcode_split\n</code></pre>\n\n<p>I would like this result:</p>\n\n<pre><code>oldcode_split = [['a','b'], ['a'], ['a','b','c']]\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","file","numpy","binary","tuples"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":13291118,"title":"write numpy array with its size to binary file","body":"<p>I need to write a 2D numpy array to a file, including its dimensions so I can read it from a C++ program and create the corresponding array.</p>\n\n<p>I have written some simple code that saves the array and it can be read from C++, but if I try to write the array's size first it always gives me an error.</p>\n\n<p>Here's my simple python code:</p>\n\n<pre><code>1 file = open(\"V.bin\",\"wb\")\n2 file.write(V.shape)\n3 file.write(V)\n4 file.close()\n</code></pre>\n\n<p>The second line gives the error, I've also tried:</p>\n\n<pre><code>n1, n2 = V.shape\nfile.write(n1)\nfile.write(n2)\n</code></pre>\n\n<p>But it doesn't work either.</p>\n\n<p>I'm adding the error it shows:</p>\n\n<p>Traceback (most recent call last):\n    file.write(V.shape[0])\nTypeError: must be string or buffer, not int</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","osx","speech-to-text","cmusphinx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13283116,"title":"Setting Up PocketSphinx in Mac OS X","body":"<p>I am running <code>Enthought Python 2.7</code> as well as default <code>Python 2.7</code>, <code>Xcode 4.5.1</code> in <code>Mac OS 10.8.2</code>. I am trying to develop a speech to text converter in <code>Python</code>. I use <code>Enthought Python</code> as it allows me to record in <code>16000Hz, 1 Channel</code> using <code>pyaudio</code>, which is needed for <code>pocketsphinx</code> to work. </p>\n\n<p>I am trying to setup <code>pocketsphinx</code> using <code>brew install pocketsphinx</code>. </p>\n\n<p>I get the following errors <img src=\"http://i.stack.imgur.com/KrEZm.png\" alt=\"enter image description here\"></p>\n\n<p>Even manual installation using <code>make</code> and using default <code>python</code> results in same errors\n<img src=\"http://i.stack.imgur.com/MGddP.png\" alt=\"enter image description here\"></p>\n\n<p>Using brew doctor, I get<img src=\"http://i.stack.imgur.com/fXg9j.png\" alt=\"enter image description here\"></p>\n\n<p>How do I successfully install <code>pocketsphinx</code>?</p>\n"},{"tags":["python","mongodb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13282143,"title":"Add node to rep sets from command line bypassing mongo shell","body":"<p>I am automation the addition of a node to mongo replicated sets.  </p>\n\n<pre><code>$ mongo IP.Of.Server.One\n&gt; rs.initiate();\n&gt; rs.add(\"IP.Of.Server.Two\");\n&gt; rs.add(\"IP.Of.Server.Three\");\n&gt; rs.status();\n</code></pre>\n\n<p>I have a python script that when a new node is booted, I will add that ip address to an already existing node in the set by using paramiko to ssh into an existing node.</p>\n\n<p>How can  I automate from the command line with out having to go into the mongo shell.  I Could use pexpect but prefer a one liner by bassing and shell use.  </p>\n\n<p>Thanks</p>\n"},{"tags":["python","queue","multiprocessing","pipe","pickle"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1349,"score":6,"question_id":1446004,"title":"Python 2.6 send connection object over Queue / Pipe / etc","body":"<p>Given <a href=\"http://bugs.python.org/issue4892\" rel=\"nofollow\">this bug (Python Issue 4892)</a> that gives rise to the following error:</p>\n\n<pre><code>&gt;&gt;&gt; import multiprocessing\n&gt;&gt;&gt; multiprocessing.allow_connection_pickling()\n&gt;&gt;&gt; q = multiprocessing.Queue()\n&gt;&gt;&gt; p = multiprocessing.Pipe()\n&gt;&gt;&gt; q.put(p)\n&gt;&gt;&gt; q.get()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File     \"/.../python2.6/multiprocessing/queues.py\", line 91, in get\n    res = self._recv()\nTypeError: Required argument 'handle' (pos 1) not found\n</code></pre>\n\n<p>Does anyone know of a workaround to pass a Connection object on a Queue?</p>\n\n<p>Thank you.</p>\n"},{"tags":["python","segmentation-fault","blender","gimp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13293835,"title":"Blender: segmentation, fault core dumped?","body":"<p><strong>Here is an add-on I'm trying to create:</strong></p>\n\n<pre><code>import bpy\nimport os\nimport sys\nimport subprocess\nimport time\nfrom threading import * \n\n\nclass Repeat(Thread):\n    def __init__(self,delay,function,*args,**kwargs):\n        Thread.__init__(self)\n        self.abort = Event()\n        self.delay = delay\n        self.args = args\n        self.kwargs = kwargs\n        self.function = function\n    def stop(self):\n        self.abort.set()\n    def run(self):\n        while not self.abort.isSet():\n            self.function(*self.args,**self.kwargs)\n            self.abort.wait(self.delay)\n\nclass ExportToGIMP(bpy.types.Operator):\n    bl_idname = \"uv.exporttogimp\"\n    bl_label = \"Export to GIMP\"\n\n    def execute(self, context):\n        f = open(\"/home/antoni4040/blender.txt\", \"w\").close() \n        self.filepath = os.path.join(os.path.dirname(bpy.data.filepath), \"Layout\")\n        bpy.ops.uv.export_layout(filepath=self.filepath, check_existing=True, export_all=False, modified=False, mode='PNG', size=(1024, 1024), opacity=0.25, tessellated=False)\n        self.files = os.path.dirname(bpy.data.filepath)\n        cmd = \" (python-fu-bgsync RUN-NONINTERACTIVE)\"\n        subprocess.Popen(['gimp', '-b', cmd])\n        file = Repeat(3, self.up)\n        file.start()\n        return {'FINISHED'};\n\n    def doit(self):\n        r = Repeat(3, self.update)\n        r.start()\n\n    def up(self):\n        f = open(\"/home/antoni4040/blender.txt\", \"r\")\n        string = f.read()\n        if \"ok\" in string:\n            self.materialize()\n            self.doit()\n            file.stop()\n        else:\n            pass     \n\n    def update(self):\n        self.layout_texture.image.reload()\n        for area in bpy.data.screens['Default'].areas:\n            if area.type in ['IMAGE_EDITOR', 'VIEW_3D']:\n                area.tag_redraw()\n\n    def materialize(self):\n        self.layout_texture = bpy.data.textures.new(name = \"Layout_Texture\", type = \"IMAGE\")\n        self.material = bpy.data.materials.new(name=\"Layout\")\n        self.object = bpy.context.active_object\n        self.material_texture = self.material.texture_slots.add()\n        self.material_texture.texture = self.layout_texture\n        self.material_texture.texture_coords = \"UV\"\n        self.filepath2 = \"/home/antoni4040/Έγγραφα/Layout1.png\"\n        self.texture_image = bpy.data.images.load(self.filepath2)                       \n        self.layout_texture.image = self.texture_image\n        self.con_obj = self.object.data\n        self.con_obj.materials.append(self.material)\n        bpy.data.screens['UV Editing'].areas[1].spaces[0].image = self.texture_image\n\ndef exporttogimp_menu(self, context):\n    self.layout.operator(ExportToGIMP.bl_idname, text=\"Export To GIMP\")\n\nbpy.utils.register_class(ExportToGIMP)\nbpy.types.IMAGE_MT_uvs.append(exporttogimp_menu)\n</code></pre>\n\n<p><strong>Which works along with this:</strong></p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n\nfrom gimpfu import *\nimport time\nimport sys  \n\ndef blender_gimp_sync():\n    im_dir = \"/home/antoni4040/Έγγραφα/Layout.png\"\n    image = gimp.pdb.gimp_file_load(im_dir, im_dir)\n    gimp.Display(image)\n    layer = gimp.pdb.gimp_layer_new(image, 1024, 1024, RGBA_IMAGE, \"PaintHere\", 100.0, NORMAL_MODE) \n    image.add_layer(layer)\n    drawable = pdb.gimp_image_get_active_layer(image)\n    num = 1\n    while True:\n        time.sleep(3.0)\n        if image is not None:  \n            ims_dir = \"/home/antoni4040/Έγγραφα/Layout1.png\"\n            gimp.pdb.file_png_save(image, drawable, ims_dir, ims_dir, 0, 0, 0, 0, 0, 0, 0)\n            f = open(\"/home/antoni4040/blender.txt\", \"w\")\n            f.write(\"ok\")\n        else:\n            pass\n\nregister(\n    \"python_fu_bgsync\",\n    \"Blender-Gimp Sync\",\n    \"Syncronize Gimp with Blender for texturing\",\n    \"Antonis Karvelas\",\n    \"Antonis Karvelas\",\n    \"2012\",\n    \"Sync\",\n    \"\",\n    [],\n    [],\n    blender_gimp_sync,\n    menu=\"&lt;Image&gt;/Image/Blender-Gimp\"\n)   \nmain()\n</code></pre>\n\n<p><strong>But, I always get a segmentation fault error...\nWhy is that happening? What I'm doing wrong?</strong></p>\n"},{"tags":["python","yaml","pyyaml"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":13,"score":2,"question_id":13293680,"title":"PyYAML, how to align map entries?","body":"<p>I use PyYAML to output a python dictionary to YAML format:</p>\n\n<pre><code>import yaml\nd = { 'bar': { 'foo': 'hello', 'supercalifragilisticexpialidocious': 'world' } }\nprint yaml.dump(d, default_flow_style=False)\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>bar:\n  foo: hello\n  supercalifragilisticexpialidocious: world\n</code></pre>\n\n<p>But I would like:</p>\n\n<pre><code>bar:\n  foo                                : hello\n  supercalifragilisticexpialidocious : world\n</code></pre>\n\n<p>Is there a simple solution to that problem, even a suboptimal one?    </p>\n"},{"tags":["python","grid","tkinter","scrollbar"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13290958,"title":"Scrollbar in Tkinter grid","body":"<p>On my project, i want do display my results in a window, using Tkinter as GUI. I place them in a kind of table, using the grid widget, and the window is separated in two different parts (for different results). But after longer runs, the number of results displayed exceed the height of my screen, so i want to add a scrollbar to my program. I already looked into several questions here on stackoverflow, and the answer that has come closest was this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3085696/adding-a-scrollbar-to-a-grid-of-widgets-in-tkinter\">Adding a scrollbar to a grid of widgets in Tkinter</a>\n(just to let You know what I am axactly looking for!)</p>\n\n<p>I am not able to apply that to my program though, maybe because I am rather new to Python and sometimes think i am a Dr. Frankenstein with tutorial-examples.</p>\n\n<p>I tried a lot now, but i cant get the tables to be displayed in the canvas, possibly just some little thing i am missing.</p>\n\n<p>I created an abstract example of my program (without scrollbar) so You know what I am working with, maybe someone of You can help my getting that scrollbar where it belongs!</p>\n\n<p>Thank You very much!</p>\n\n<p>example code: (runs)</p>\n\n<pre><code>import Tkinter as tk\ntoprow=1\nbotrow=1\nclass ProgramWindow(tk.Frame): \n\n    def __init__(self,name): \n        self.name = name\n        tk.Frame.__init__(self,root)\n        self.pack()\n\n        if name==\"BotWin\":\n            tk.Label(self,text=\"FirstColBot\",width=30).grid(row=0,column=0)            \n            tk.Label(self,text=\"SecndColBot\",width=20).grid(row=0,column=1)\n\n        elif name==\"TopWin\":\n            tk.Label(self,text=\"FirstColTop\",width=30).grid(row=0,column=0)         \n            tk.Label(self,text=\"SecndColTop\",width=20).grid(row=0,column=1)\n\n    def addrowTop(self,stuff,otherstuff):\n        global toprow\n\n        textfield = tk.Text(self,width=30,height=1)\n        textfield.grid(row=toprow,column=0)\n        textfield.insert('0.0',stuff)\n\n        textfield = tk.Text(self,width=20,height=1)\n        textfield.grid(row=toprow,column=1)\n        textfield.insert('0.0',otherstuff)\n\n        toprow+=1\n\n    def addrowBot(self,stuff,otherstuff):\n        global botrow\n\n        textfield = tk.Text(self,width=30,height=1)\n        textfield.grid(row=botrow,column=0)\n        textfield.insert('0.0',stuff)\n\n        textfield = tk.Text(self,width=20,height=1)\n        textfield.grid(row=botrow,column=1)\n        textfield.insert('0.0',otherstuff)\n\n        botrow+=1\n\ndef SomeProg():\n    for i in range(20):\n        if i%2==0:\n            stuff = \"Stuff is \"+str(i)\n            otherstuff=i*3\n            Wins[0].addrowTop(stuff,otherstuff)\n        elif i%2==1:\n            stuff = \"Stuff is \"+str(i)\n            otherstuff=i*4\n            Wins[1].addrowBot(stuff,otherstuff)\n\n\nroot = tk.Tk()\nroot.title(\"Stuff\")\n\nWins = [ ProgramWindow(\"TopWin\"),ProgramWindow(\"BotWin\")]\nSomeProg()\n\nroot.mainloop()\n</code></pre>\n\n<p>additional code with my tries to add the scrollbar (based on example shown in link above).\nif the scrollbar is only shown in the lower part, that would be okay since thats the part with the many results.)</p>\n\n<pre><code>import Tkinter as tk\ntoprow=1\nbotrow=1\nclass ProgramWindow(tk.Frame): \n\n    def __init__(self,name): \n        self.name = name\n        self.frame=tk.Frame.__init__(self,root)\n\n\n        if name==\"BotWin\":\n            tk.Label(self,text=\"FirstColBot\",width=30).grid(row=0,column=0)            \n            tk.Label(self,text=\"SecndColBot\",width=20).grid(row=0,column=1)\n\n            self.canvas = tk.Canvas(root, borderwidth=0, background=\"#ffffff\")\n            self.vsb = tk.Scrollbar(root, orient=\"vertical\", command=self.canvas.yview)\n            self.canvas.configure(yscrollcommand=self.vsb.set)\n\n            self.vsb.pack(side=\"right\", fill=\"y\")\n            self.canvas.pack(side=\"left\", fill=\"both\", expand=True)\n            self.canvas.create_window((4,4), window=self.frame)\n\n            self.bind(\"&lt;Configure&gt;\", self.OnFrameConfigure)\n\n        elif name==\"TopWin\":\n            self.pack()\n            tk.Label(self,text=\"FirstColTop\",width=30).grid(row=0,column=0)         \n            tk.Label(self,text=\"SecndColTop\",width=20).grid(row=0,column=1)\n\n    def addrowTop(self,stuff,otherstuff):\n        global toprow\n\n        textfield = tk.Text(self,width=30,height=1)\n        textfield.grid(row=toprow,column=0)\n        textfield.insert('0.0',stuff)\n\n        textfield = tk.Text(self,width=20,height=1)\n        textfield.grid(row=toprow,column=1)\n        textfield.insert('0.0',otherstuff)\n\n        toprow+=1\n\n    def OnFrameConfigure(self, event):\n        self.canvas.configure(scrollregion=self.frame.bbox(\"all\"))\n\n    def addrowBot(self,stuff,otherstuff):\n        global botrow\n\n        textfield = tk.Text(self,width=30,height=1)\n        textfield.grid(row=botrow,column=0)\n        textfield.insert('0.0',stuff)\n\n        textfield = tk.Text(self,width=20,height=1)\n        textfield.grid(row=botrow,column=1)\n        textfield.insert('0.0',otherstuff)\n\n        botrow+=1\n\ndef SomeProg():\n    for i in range(20):\n        if i%2==0:\n            stuff = \"Stuff is \"+str(i)\n            otherstuff=i*3\n            Wins[0].addrowTop(stuff,otherstuff)\n        elif i%2==1:\n            stuff = \"Stuff is \"+str(i)\n            otherstuff=i*4\n            Wins[1].addrowBot(stuff,otherstuff)\n\n\nroot = tk.Tk()\nroot.title(\"Stuff\")\n\nWins = [ ProgramWindow(\"TopWin\"),ProgramWindow(\"BotWin\")]\nSomeProg()\n\nroot.mainloop()\n</code></pre>\n"},{"tags":["python","loops"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13280017,"title":"Python updating a loop","body":"<p>my program takes a mathematical input and checks it for errors before proceeding, here is the part of the code I need help with:</p>\n\n<pre><code>expression= introduction()#just asks user to input a math expression    \noperators= set(\"*/+-\")\nnumbers= set(\"0123456789\")\nfor i in expression:\n    while i not in numbers and i not in operators:\n        print(\"Please enter valid inputs, please try again.\")\n        expression= introduction()\n</code></pre>\n\n<p>Now I have set up an error loop but the problem I am having is that I don't know what to update the loop with in this scenario. Anyone?</p>\n\n<p>I need something simple such as the \"while True\" code in the answers below. The rest are too advanced. I need something close to the code that is posted in this OP.</p>\n"},{"tags":["python","continuous-integration"],"answer_count":11,"favorite_count":70,"up_vote_count":75,"down_vote_count":0,"view_count":15327,"score":75,"question_id":225598,"title":"\"Pretty\" Continuous Integration for Python","body":"<p>This is a slightly.. vain question, but BuildBot's output isn't particularly nice to look at..</p>\n\n<p>For example, compared to..</p>\n\n<ul>\n<li><a href=\"http://phpundercontrol.org/about.html\">phpUnderControl</a></li>\n<li><a href=\"http://blogs.oracle.com/arungupta/entry/top_10_features_of_hudson\">Hudson</a></li>\n<li><a href=\"http://cruisecontrolrb.thoughtworks.com/\">CruiseControl.rb</a></li>\n</ul>\n\n<p>..and others, <a href=\"http://www.python.org/dev/buildbot/stable/\">BuildBot</a> looks rather.. archaic</p>\n\n<p>I'm currently playing with Hudson, but it is very Java-centric (although with <a href=\"http://redsolo.blogspot.com/2007/11/hudson-embraces-python.html\">this guide</a>, I found it easier to setup than BuildBot, and produced more info)</p>\n\n<p>Basically: is there any Continuous Integration systems aimed at python, that produce lots of shiney graphs and the likes?</p>\n\n<hr>\n\n<p><strong>Update:</strong> After trying a few alternatives, I think I'll stick with Hudson. <a href=\"http://integrityapp.com/\">Integrity</a> was nice and simple, but quite limited. I think <a href=\"http://buildbot.net/trac\">Buildbot</a> is better suited to having numerous build-slaves, rather than everything running on a single machine like I was using it.</p>\n\n<p>Setting Hudson up for a Python project was pretty simple:</p>\n\n<ul>\n<li>Download Hudson from <a href=\"http://hudson-ci.org/\">http://hudson-ci.org/</a></li>\n<li>Run it with <code>java -jar hudson.war</code></li>\n<li>Open the web interface on the default address of <code>http://localhost:8080</code></li>\n<li>Go to Manage Hudson, Plugins, click \"Update\" or similar</li>\n<li>Install the Git plugin (I had to set the <code>git</code> path in the Hudson global preferences)</li>\n<li>Create a new project, enter the repository, SCM polling intervals and so on</li>\n<li>Install <code>nosetests</code> via <code>easy_install</code> if it's not already</li>\n<li>In the a build step, add <code>nosetests --with-xunit --verbose</code></li>\n<li>Check \"Publish JUnit test result report\" and set \"Test report XMLs\" to <code>**/nosetests.xml</code></li>\n</ul>\n\n<p>That's all that's required. You can setup email notifications, and <a href=\"http://wiki.hudson-ci.org/display/HUDSON/Plugins\">the plugins</a> are worth a look. A few I'm currently using for Python projects:</p>\n\n<ul>\n<li><a href=\"http://wiki.hudson-ci.org/display/HUDSON/SLOCCount+Plugin\">SLOCCount plugin</a> to count lines of code (and graph it!) - you need to install <a href=\"http://www.dwheeler.com/sloccount/\">sloccount</a> separately</li>\n<li><a href=\"http://wiki.hudson-ci.org/display/HUDSON/Violations\">Violations</a> to parse the PyLint output (you can setup warning thresholds, graph the number of violations over each build)</li>\n<li><a href=\"http://wiki.hudson-ci.org/display/HUDSON/Cobertura+Plugin\">Cobertura</a> can parse the coverage.py output. Nosetest can gather coverage while running your tests, using <code>nosetests --with-coverage</code> (this writes the output to <code>**/coverage.xml</code>)</li>\n</ul>\n"},{"tags":["python","unit-testing","heroku","continuous-integration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13285518,"title":"Continuous integration/Testing Python on Heroku","body":"<p>So I've been looking into ways to using Heroku for a small-scale personal project (Python Flask + MongoDB), however I can't seem to find much information on how to do simple continuos integration testing or simple unit testing on a Heroku staging instance. I feel that this would be necessary to make sure that everything will work in production, before actually making it public.</p>\n\n<p>There doesn't seem to be much information on as to how I could achieve this. There are a couple of CI addons that would help, but they currently work only with Ruby/RoR (<a href=\"https://www.tddium.com/\" rel=\"nofollow\">tddium</a>, <a href=\"https://www.railsonfire.com/\" rel=\"nofollow\">Rails on Fire</a>) and proper testing on Heroku seems like a problem that should already be solved by a number of people. <a href=\"https://devcenter.heroku.com/articles/buildpacks\" rel=\"nofollow\">Buildpacks</a> seem like a potential way to achieve what I need, but I'd rather use existing tools than re-invent the wheel myself. </p>\n\n<p>So the question is, what are my options?</p>\n"},{"tags":["python","cruisecontrol.net","nant"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13228677,"title":"Run python script from CruiseControl.NET","body":"<p>Is is posible to run a python script from Cruisecontrol.Net ? Is there a CCNEt task or a nant task that can be used? </p>\n"},{"tags":["python","python-2.7"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13293269,"title":"How would I stop a while loop after n amount of time?","body":"<p>So yeah just wondering about how I would stop a while loop after lets say 5 minutes if it does not achieve what I want it to achieve.</p>\n\n<pre><code>while true:\n    test = 0\n    if test == 5:\n        break\n    test = test - 1\n</code></pre>\n\n<p>This throws me in an endless loop that will never break now what I would like to do is stop the loop if its run for 5 minutes.</p>\n"},{"tags":["python","xlrd"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13293307,"title":"Extract excel data by column name using xlrd","body":"<p>I have a excel data set</p>\n\n<pre><code>\"id\",\"value\",\"name\"\n  1  , 10,    \"cat\"\n  2  , 20,    \"fish\"\n</code></pre>\n\n<p>In Python:</p>\n\n<pre><code>import xlrd\n\ncol1 = \"id\"\ncol2 = \"value\"\ncal3 = \"name\"\nwb = xlrd.open_workbook(\"file.xls\")\nsh = wb.sheet_by_index(0)\n\nresult = sh.someMethod((col1,col3))?????\n</code></pre>\n\n<p>Is there a method that will return?</p>\n\n<pre><code>print result\n[[1,\"cat\"],[2,\"fish\"]]\n</code></pre>\n"},{"tags":["python","string","subtraction"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13293009,"title":"Python subtracting two date strings","body":"<p>I have two strings containing a date like so\"</p>\n\n<pre><code>start_date = 'Sun Sep 16 16:05:15 +0000 2012'\nend_date = 'Sun Sep 17 23:55:20 +0000 2012'\n</code></pre>\n\n<p>I need to perform: <code>end_date - start_date</code>\nIt should return the number of seconds separating the end and start dates.</p>\n\n<p>This data is extracted from the twitter api. This is what the json gives me. Since it seems like a commonly used string, I assume there's a library or method that can handle this. I'm just not able to find one. Thanks!</p>\n"},{"tags":["python","types","dictionary","customization","internals"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":214,"score":1,"question_id":8752451,"title":"How to change the behavior of a python dictionary's __setattr__?","body":"<p>In Python, everything has a class. Therefore <code>dict</code> also has a class. </p>\n\n<p>So, in theory, I should be able to change the implementation of the keyvalue assignment behavior.</p>\n\n<p><br></p>\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>d = dict()\nd['first'] = 3    # Internally d['first'] is stored as 6 [i.e. value*2 if value is INT]\n\nprint d['first']  # should print 6\n\nd['second'] = 4 \n\nprint d['second'] # should print 8\n</code></pre>\n\n<p><br>\nI noticed that most objects have attributes listed in <code>OBJECT.__dict__</code> or <code>vars(OBJECT)</code>. But this isn’t the case for <code>dict</code> or <code>list</code>. </p>\n\n<p>How can I get the desired behavior by overriding <code>dict.__setattr__()</code> method?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13293173,"title":"convert python datetime to oracle number","body":"<p>How do I convert a python datetime object to Oracle number format.</p>\n\n<pre><code>datetime object:\n\ndatetime.datetime(2012, 9, 23, 0, 0)\n\nneed to be converted to number in Oracle,\n\n20120923\n</code></pre>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13292970,"title":"spliting list and adding values","body":"<p>I have the following list</p>\n\n<pre><code>lst = ['Adam,widgets,5769', 'joe,balls,7186', 'greg,tops,1819.999',]\n</code></pre>\n\n<p>I need to be able to take the list and then divide the Adams number by lets say 100, and put that new number back into the list and then add it to gregs total.I started by spliting out the list, I am not wanting someone to right the code, I just need a way to seperate out each part of the list so I can view it as individual parts.</p>\n\n<pre><code>for i in sod_hng_hhl_lst:\n    g=i.split(\",\")\n</code></pre>\n\n<p>This gives</p>\n\n<pre><code>['Adam','widgets','5769']\n</code></pre>\n\n<p>etc</p>\n\n<p>what is best way to divided the number and then add it to another group in the list.</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":201,"score":2,"question_id":11069309,"title":"Python: import scipy leads to traceback referencing a deleted file","body":"<p>When I try to import the scipy module (version 0.11.0b1) in the Python interpreter (version 2.6.1), I receive the following error:</p>\n\n<hr>\n\n<pre><code>Traceback (most recent call last):\n\nFile \"&lt;stdin&gt;\", line 1, in module\n\nFile \"/Users/...long path.../Desktop/scipy-0.11.0b1/scipy/\\__init__.py\", line 114, in module\n\nImportError: Error importing scipy: you cannot import scipy while\n    being in scipy source directory; please exit the scipy source\n    tree first, and relaunch your python intepreter.\n</code></pre>\n\n<hr>\n\n<p>The problem is that python is reading from a file that doesn't exist. I deleted the scipy directory from my Desktop a while ago and have since tried restarting the interpreter (and the computer) several times. Why does the traceback continue to refer to a file that doesn't exist?</p>\n"},{"tags":["python","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13291942,"title":"Reset default axis tics on matplotlib subplot","body":"<p>I would like to create an arbitrary number of plots in a single column using the same x-axis.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n\nN=1000\nx = np.linspace(-.5,1.5,num=N)\nxshift = x-0.5\nBz = 30*np.exp(-xshift**8/0.00125)*np.sin(xshift*2.*np.pi)\nNp = 30*np.exp(-xshift**10/0.00125)+5\nVx = 200*np.exp(-xshift**10/0.00125)+400\n\nfig = plt.figure()\n\n#list of tuples of the form `(data, label)`    \ndata_list = [(Bz,\"B_z\"),(Vx,\"V_x\"),(Np,\"N_p\")]\n\nfor i,(data,lab) in enumerate(data_list,1):\n    ax = fig.add_subplot(len(data_list),1,i)\n    ax.set_ylabel(\"$\\mathrm{%s}$\"%lab)\n    ax.get_xaxis().set_ticklabels([])\n    ax.plot(x,data)\nelse:\n    #Reset default tick labels here on ax\n    pass\n\nplt.show()\n</code></pre>\n\n<p>For this plot, it would be logical for the last plot to display the xtic labels whereas all the other plots have that information left off.  I <em>could</em> pop the last item off the <code>data_list</code> and spell it out explicitly, but that seems hacky to me.  Is there an elegant way to tell a matplotlib Axes that it should restore the default <code>xticlabel</code> settings?</p>\n\n<p>(some <a href=\"http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_xticklabels\" rel=\"nofollow\">documentation</a>)</p>\n"},{"tags":["python","xpath","lxml"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":662,"score":1,"question_id":3325331,"title":"XPath: match multiple elements in one expression","body":"<p>I'm trying to do this (using lxml):</p>\n\n<pre><code>//*[@id=\"32808345\" or @id=\"33771423\" or @id=\"15929470\" or @id=\"33771117\" or @id=\"15929266\"]\n</code></pre>\n\n<p>in order to get all elements, no matter what tag, with the specified id's. I'm getting the following traceback:</p>\n\n<pre><code>invalid attribute predicate\n</code></pre>\n\n<p>this is how I'm generating the str (if that is relevant to the problem):</p>\n\n<pre><code>refs = ' or '.join('@id=\"%s\"' % ref for ref in refs[0:5])\nelements = etree.iterfind('//*[%s]' % refs)\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT, with the below solution I'm getting this error:</p>\n\n<pre><code>File \"lxml.etree.pyx\", line 1201, in lxml.etree._Element.iterchildren (src/lxml/lxml.etree.c:36294)\n  File \"lxml.etree.pyx\", line 2163, in lxml.etree.ElementChildIterator.__init__ (src/lxml/lxml.etree.c:45331)\n  File \"lxml.etree.pyx\", line 2118, in lxml.etree._ElementTagMatcher._initTagMatch (src/lxml/lxml.etree.c:44913)\n  File \"apihelpers.pxi\", line 1413, in lxml.etree._getNsTag (src/lxml/lxml.etree.c:21412)\nValueError: Empty tag name\n</code></pre>\n"},{"tags":["python","decorator","mutable"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":13292234,"title":"python writing a decorator with class","body":"<p>here is my effort in writing a helper decorator module:</p>\n\n<pre><code># -*- coding: utf8 -*-\n\nimport time\ndef timer(func):\n    def timed(*args, **kwargs):\n        init = time.clock()\n        result = func(*args, **kwargs)\n        print (time.clock()-init)*1000, 'ms'\n\n        return result    \n    return timed\n\nclass memo(object):\n    def __init__(self, func):\n        self.func = func\n        self.memo = {}\n        self.memohit = 0   \n\n    def memoizedf(self, *args):\n        key = tuple(args)\n        print key\n        lookup = self.memo.setdefault(key, None)\n        if lookup:\n            self.memohit += 1 \n            return lookup\n\n        result = self.func(*args)\n        self.memo[key]=result\n        return result\n\n    def __call__(self, *args):\n        return self.memoizedf(*args)\n</code></pre>\n\n<p>so, usage:</p>\n\n<pre><code>@timer\ndef foo():\n    print 'foo'\n\n'foo'\n00023.1231203879 ms\n\n\n@memo\ndef bar(fooobject):\n    print fooobject\n</code></pre>\n\n<p>the problem comes here:</p>\n\n<pre><code>&gt;&gt;bar({'foo':'bar'})\n\ntraceback : ...........\n    lookup = self.memo.setdefault(key, None)\nTypeError: unhashable type: 'dict'\n</code></pre>\n\n<p>every input of list, dict, or other mutable from collections would invoke such error.\nI tried tupling all args, but apparently this didn't help. How should I rewrite my code in order to have my decorator to work with any(well, just dict, list, tuple, set, int, string... would be ok) kind of input?</p>\n"},{"tags":["python","git","blob","history","libgit2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13293052,"title":"pygit2 blob history","body":"<p>I'm trying to do the equivalent of <code>git log filename</code> in a git bare repository using pygit2. The documentation only explains how to do a <code>git log</code> like this:</p>\n\n<pre><code>from pygit2 import GIT_SORT_TIME\nfor commit in repo.walk(oid, GIT_SORT_TIME):\n    print(commit.hex)\n</code></pre>\n\n<p>Do you have any idea?</p>\n\n<p>Thanks</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":33,"score":-5,"question_id":13292430,"title":"How to reading input (grades) from a text file and make a histogram in quickdraw?","body":"<p>I need help writing a program that reads about 300 lines from a text file and takes the grades from a specific assignment (column A1) and then uses the grades from that assignment to plot a histogram in quickdraw. Please help!</p>\n\n<p>Sample lines</p>\n\n<pre><code>ID , Last,  First, Lecture, Tutorial, A1, A2, A3, A4, A5\n8959079, Moore, Maria, L01, T03, 9.0, 8.5, 8.5, 10.0, 8.5\n4295498, Taylor, John, L00, T04, 10.0, 6.5, 8.5, 9.5, 7.0\n9326386, Taylor, David, L00, T00, 9.5, 8.0, 8.0, 9.0, 10.0\n7223234, Taylor, James, L01, T03, 8.5, 5.5, 10.0, 0.0, 0.5\n7547838, Miller, Robert, L01, T09, 7.0, 8.0, 8.5, 10.0, 0.5\n0313453, Lee, James, L01, T01, 10.0, 0.5, 8.0, 7.0, 5.0\n3544072, Lee, Helen, L00, T03, 10.0, 9.0, 7.0, 9.0, 8.5\n</code></pre>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":13238433,"title":"Django - Complex query","body":"<p>Assuming i have two models:</p>\n\n<pre><code>class profile(models.Model):\n    #some fields here\n\nclass ratings(models.Model):\n    profile = models.ForeignKey(profile)\n    category = models.IntegerField()\n    points = models.IntegerField()\n</code></pre>\n\n<p>Assuming following state of MySQL table:</p>\n\n<pre><code>profile    |    category    |    points\n   1                1               10\n   1                1               10\n   1                2               10\n   1                3               0\n   1                4               10\n   1                4               10\n   1                4               10\n   1                5               0\n</code></pre>\n\n<p>I have following values in my POST data:</p>\n\n<pre><code>category_1_avg_val = 7\ncategory_2_avg_val = 5\ncategory_3_avg_val = 5\ncategory_4_avg_val = 7\ncategory_5_avg_val = 9\n</code></pre>\n\n<p>Now i want to get all profiles whose (average of points) (group by category) >= (avg values of category coming in post)</p>\n\n<p>I tried to do this one by one as</p>\n\n<pre><code>objects = profile.objects.filter(\n    ratings__category=1) \\\n    .annotate(avg_points=Avg('ratings__points'))\\\n    .filter(avg_points__gte=category_1_avg_val)\n\n\nobjects = objects.filter(\n    ratings__category=2) \\\n    .annotate(avg_points=Avg('ratings__points'))\\\n    .filter(avg_points__gte=category_2_avg_val)\n</code></pre>\n\n<p>But this is wrong I think. Please help me out. If return is a queryset that would be great.</p>\n"},{"tags":["python","mysql","date","format"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13292538,"title":"Convert strange date format to standard date format","body":"<p>In Sweden we sometimes use a strange date format, for example New Year is the 31/12. If I have this format as a string ,which can be any date between 1/1 and 31/12, and if we assume that it is this year, how do I get into a standard date format using Python (format as 2012-01-01 and 2012-12-31) that can be sore in be stored as a date in a mySQL database.</p>\n"},{"tags":["python","c","linux","piping","unistd.h"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13291199,"title":"Piping to unistd.h read segfault","body":"<p>im trying to pipe into read but it keeps segfaulting after the second input. what am i doing wrong? Thanks in advance.</p>\n\n<pre><code> $ ./read &lt; &lt;(python -c 'print \"BBA\\nBBADD\\n\",')\n Please enter your first name: \n buf=\n BBA\n BBA\n Please enter your last name: \n buf=\n Segmentation fault (core dumped)\n</code></pre>\n\n<hr>\n\n<p>I attached the code of read as a reference, the important part is the read()</p>\n\n<pre><code>//read.c\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\nvoid prompt_name(char *name, char *msg){\n    char buf[4096];\n\n    puts(msg);\n\n    read(0, buf, sizeof buf);\nputs(\"buf=\");\nputs(buf);\n    *strchr(buf, '\\n') = 0;\n\nputs(buf);\n    strncpy(name, buf, 20);\nputs(name);\n}\n\nvoid prompt_full_name(char *fullname) {\n    char last[20];\n    char first[20];\n\n    prompt_name(first, \"Please enter your first name: \");\n    prompt_name(last, \"Please enter your last name: \");\n\n    strcpy(fullname, first);\n    strcat(fullname, \" \");\n    strcat(fullname, last);\n}\n\n\nint main(int argc, char **argv){\n    char fullname[42];\n\n    prompt_full_name(fullname);\n    printf(\"Welcome, %s\\n\", fullname);\n\n    return 0;\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":["python","pandas"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13292944,"title":"Resample Non-Unique Time Indexes in Python","body":"<p>Is it possible to resample a time series dataframe with the timestamp index is not unique?</p>\n\n<p>When I try with something like <code>z.myValue.resample(\"1Min\", sum)</code> I get the following:</p>\n\n<pre><code>Exception: Reindexing only valid with uniquely valued Index objects\n</code></pre>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13292422,"title":"How to create instance of a class through list","body":"<p>I'm working on a python project, where there are a bunch of classes created already.\nI will be asking the user to enter which class to be executed (i.e., the name of the class, whose list will be shown to him).</p>\n\n<p>After he chooses a choice, I would like to create an instance of the class requested by the user and show the appropriate output.</p>\n\n<p>The scenario is like this...</p>\n\n<pre><code>\"\"\"\nMy Class definitions go up here...\n\"\"\"\n\n\nclassList = {'a':'AClass','b':'BClass','c':'CClass'}\nfor i in iter(classList):\n   print i\nx = raw_input('Enter class name: ') 'Get the user input and store it.'\n\"\"\"\nI'm stuck here.\nHave to create an instance for the requested class.\ni.e., have to create an instance to AClass if the user entered a (classList[a])\n\"\"\"\n</code></pre>\n\n<p>A Procedure, I know, but vague is to use switch case or if-else to check that input and create instance for the corresponding class. But, I'm new to python, so I want to know if there is any other way of achieving this in a more elegant manner?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":32,"score":-4,"question_id":13264511,"title":"TypeError: unhashable type: 'dict'","body":"<p>This piece of code is giving me an error <code>unhashable type: dict</code> can anyone explain me what is the solution    </p>\n\n<pre><code>negids = movie_reviews.fileids('neg')\ndef word_feats(words):\n    return dict([(word, True) for word in words])\n\nnegfeats = [(word_feats(movie_reviews.words(fileids=[f])), 'neg') for f in negids]\nstopset = set(stopwords.words('english'))\n\ndef stopword_filtered_word_feats(words):\n    return dict([(word, True) for word in words if word not in stopset])\n\nresult=stopword_filtered_word_feats(negfeats)\n</code></pre>\n"},{"tags":["python","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13290291,"title":"QPushButton icon not appearing","body":"<p>I created a button like this:</p>\n\n<pre><code>icontest = QtGui.QIcon('test.gif');\nself.TestButton = QtGui.QPushButton(\"Test\")\nself.TestButton.setEnabled(False)\nself.TestButton.setIcon(icontest)\nself.TestButton.setIconSize(QtCore.QSize(25, 25))\nself.TestButton.clicked.connect(goToTestHandler)\nself.layout.addWidget(self.TestButton, 0, 1)\n... some loading ...\nself.TestButton.setEnabled(True)\n</code></pre>\n\n<p>the button appears, but without the icon - no exception thrown</p>\n"},{"tags":["python","list","comprehension"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":95,"score":4,"question_id":13289506,"title":"need to create a list from a text file","body":"<p>I need to return a list of pairs (datetime.date(x,y,z), number of times it appears) in a text file with 1,000 entries. The function <code>def eventfreq(year, month):</code>takes the year and month of the previously mentioned datetime.date as parameters. So far, I have defined year and month </p>\n\n<pre><code>def eventfreq(year, month):\n    F=fieldict('DOT1000.txt')\n    for line in F:\n        year=F[1].year\n        month=F[1].month\n</code></pre>\n\n<p>fieldict is a function that takes returns a tuple of (Manufacturer, datetime.date(), year, crash, injury) for each entry in the file. I only need it to extract the datetime from each entry. I am very new to python, i've been up all night working on several of these functions.</p>\n\n<p>EDIT: Sample Data:</p>\n\n<p>503 958504 GENERAL MOTORS CORP. CHEVROLET LUMINA 1990 19920606 N 0 0 SERVICE BRAKES, HYDRAULIC:FOUNDATION COMPONENTS:DISC:CALIPER DRACUT MA 2G1WN14T9L9 19950110 19950110 PROBLEM WITH CALIPERS FREEZING UP MANUFACTURER OFFERS NO ASSISTANCE. TT EVOQ</p>\n\n<p>This is 1 entry of 1,000. I need advice on how to build my list of pairs [(datetime.date(), #of occurences in the file)]. Year and month are the parameters for the function</p>\n\n<p>EDIT: test cases:</p>\n\n<pre><code>&gt;&gt;&gt; evlist = eventfreq(1995,1)\n&gt;&gt;&gt; len(evlist)\n17\n&gt;&gt;&gt; evlist[0]\n(datetime.date(1995, 1, 1), 5)\n&gt;&gt;&gt; evlist[14]\n(datetime.date(1995, 1, 15), 1)\n</code></pre>\n\n<p>EDIT: Another Sample Entry:</p>\n\n<p>1332    477660  HONDA (AMERICAN HONDA MOTOR CO.)    ACURA   INTEGRA 1994        <strong>19940601</strong>    N   0   0   VISIBILITY:WINDSHIELD   TUSTIN          CA  JH4DC4359RS 19950112    19941112        1   WINDOW PROBLEMS.  *AK   VOQ</p>\n\n<p>In bold is the date. I already have it in datetime.date format(imported datetime module) and it is in the same place in every entry. Need a list that contains pairs (datetime.date(year,month,day) , # of times the same <strong>year</strong> and <strong>month</strong> appear in the file)</p>\n"},{"tags":["python","django","performance","django-templates","many-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1558,"score":3,"question_id":1122605,"title":"Django ManyToMany Template rendering and performance issues","body":"<p>I've got a django model that contains a manytomany relationship, of the type,</p>\n\n<pre><code>class MyModel(models.Model):\n  name = ..\n  refby = models.ManyToManyField(MyModel2)\n  ..\n\nclass MyModel2(..):\n  name = ..\n  date = ..\n</code></pre>\n\n<p>I need to render it in my template such that I am able to render all the mymodel2 objects that refer to mymodel. Currently, I do something like the following,</p>\n\n<pre><code>{% for i in mymodel_obj_list %}\n  {{i.name}}\n  {% for m in i.refby.all|dictsortreversed:\"date\"|slice:\"3\" %}\n    {{.. }}\n  {% endfor %}\n  &lt;div&gt; &lt;!--This div toggles hidden/visible, shows next 12--&gt;\n   {% for n in i.refby.all|dictsortreversed:\"date\"|slice:\"3:15\" %}\n     {{.. }}\n   {% endfor %}\n  &lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>As the code suggests, I only want to show the latest 3 mymodel2 objects, sorted in reverse order by date, although the next 12 do get loaded.</p>\n\n<p>Is this a very inefficient method of doing so? (Given that results for the refby.all could be a few 100s, and the total no of results in \"mymodel_obj_list\" is also in 100s - I use a paginator there).</p>\n\n<p>In which case, whats the best method to pre-compute these refby's and render them to the template? Should I do the sorting and computation in the view, and then pass it? I wasn't sure how to do this in order to maintain my pagination.</p>\n\n<p>View code looks something like,</p>\n\n<pre><code>obj_list = Table.objects.filter(..) # Few 100 records\npl = CustomPaginatorClass(obj_list...)\n</code></pre>\n\n<p>And I pass the pl to the page as mymodel_obj_list.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","vim","documentation"],"answer_count":6,"favorite_count":7,"up_vote_count":20,"down_vote_count":0,"view_count":4219,"score":20,"question_id":1452934,"title":"What is the meaning of #XXX?","body":"<p>I have seen this a lot in code, even vim marks it as a special case. <code>#TODO</code> and <code>#FIXME</code> are two other fix markers vim highlights but what does <code>#XXX</code> mean?</p>\n"},{"tags":["python","global-variables","module","packages","init"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":3678,"score":5,"question_id":1383239,"title":"Can I use __init__.py to define global variables?","body":"<p>I want to define a constant that should be available in all of the submodules of a package. I've thought that the best place would be in in the <code>__init__.py</code> file of the root package. But I don't know how to do this. Suppose I have a few subpackages and each with several modules. How can I access that variable from these modules?</p>\n\n<p>Of course, if this is totally wrong, and there is a better alternative, I'd like to know it.</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13290514,"title":"Unable to run django custom command","body":"<p>I've create a command in app/management/commands and this command was working fine. I'm unable to run this command now. I'm getting the following error:</p>\n\n<p>Unknown command: 'my_custom_command_name'</p>\n\n<p>I'm using a virtual env. I don't see this in list of commands when I type <code>pythong manage.py</code>. I've this app installed in my settings and It was working previously </p>\n"},{"tags":["python","django","concurrency"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12612576,"title":"How to make concurrent web service calls from a Django view?","body":"<p>I have a Django view which needs to retrieve search results from multiple web services, blend the results together, and render them. I've never done any multithreading in Django before. What is a modern, efficient, safe way of doing this?</p>\n\n<p>I don't know anything about it yet, but <a href=\"http://www.gevent.org/\" rel=\"nofollow\">gevent</a> seems like a reasonable option. Should I use that? Does it play well with Django? Should I look elsewhere?</p>\n"},{"tags":["python","sql","if-statement","python-2.7","firebird"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":80,"score":-4,"question_id":13289545,"title":"Incorrect work of the if","body":"<p>I wrote the following functions on transfer of data from Access to Firebird</p>\n\n<pre><code>def getFirebirdFieldNames(firebird_cursor, tablename):\n    firebird_cursor.execute('select rdb$field_name from rdb$relation_fields where rdb$relation_name=\\'%s\\' order by rdb$field_position' % (tablename,))\n    field_names = list()\n    for c in firebird_cursor.fetchall():\n        field_names.append(c[0])\n    return field_names\n\ndef FirebirdDatetime(dt):\n    return '\\'%s.%s.%s\\'' % (str(dt.day).rjust(2,'0'),\n                                   str(dt.month).rjust(2,'0'),\n                                   str(dt.year).rjust(4,'0'))\n\ndef SelectFromAccessTable(tablename):\n    return 'select * from [' + tablename+']'\n\ndef InsertToFirebirdTable(tablename, row):\n    values=''\n    #values=values.encode('cp1251', 'replace')\n    #   copyrow=[]\n    #   print type(values)\n    for i in range(len(row)):\n    #print row[i]\n    #print type(row[i])\n    #temp=''\n    if (i&lt;len(row)-1):\n        if type(row[i]) == int:\n            temp = str(row[i])\n        elif type(row[i]) == str:\n            temp = '\\'%s\\'' % (row[i],)\n        elif type(row[i]) == datetime.datetime:\n            temp =FirebirdDatetime(row[i])\n        elif type(row[i]) == decimal.Decimal:\n             temp = str(row[i])\n        elif row[i]==None:\n             temp='null'\n        values+=temp+', '                 \n    else:\n        if type(row[i]) == int:\n            temp = str(row[i])\n        elif type(row[i]) == str:\n            temp = '\\'%s\\'' % (row[i],)\n        elif type(row[i]) == datetime.datetime:\n            temp =FirebirdDatetime(row[i])\n        elif type(row[i]) == decimal.Decimal:\n            temp = str(row[i])\n        elif row[i]==None:\n            temp='null'\n        values+=temp\n    print temp\n    return 'insert into '+tablename+' values ('+values+')'\n\ndef AccessToFirebird(accesstablename, firebirdtablename, accesscursor, firebirdcursor):\n    SelectSql=SelectFromAccessTable(accesstablename)\n    for row in accesscursor.execute(SelectSql):\n        InsertSql=InsertToFirebirdTable(firebirdtablename, row)\n        InsertSql=InsertSql\n        print InsertSql\n        firebirdcursor.execute(InsertSql)\n</code></pre>\n\n<p><code>AccessToFirebird</code> function call in the main module calls the <code>InsertToFirebirdTable</code>, in which the screen output generated insert queries. As the following output temp assigned row [0] and will not change, contrary to the logic of the program (in the cycle is bypassing the whole row in the result should be a query inserts all transmitted values). Why is this happening and how do I make the result to the goal? Here is the output generated queries (Northwind database in Access)</p>\n\n<pre><code>1\n1\n1\n1\n1\n1\n1\n1\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (1, 1, 1, 1, 1, 1, 1, 1, null, null, null, null, null, null, null, null, null, null)\n2\n2\n2\n2\n2\n2\n2\n2\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (2, 2, 2, 2, 2, 2, 2, 2, null, null, null, null, null, null, null, null, null, null)\n3\n3\n3\n3\n3\n3\n3\n3\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (3, 3, 3, 3, 3, 3, 3, 3, null, null, null, null, null, null, null, null, null, null)\n4\n4\n4\n4\n4\n4\n4\n4\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (4, 4, 4, 4, 4, 4, 4, 4, null, null, null, null, null, null, null, null, null, null)\n5\n5\n5\n5\n5\n5\n5\n5\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (5, 5, 5, 5, 5, 5, 5, 5, null, null, null, null, null, null, null, null, null, null)\n6\n6\n6\n6\n6\n6\n6\n6\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (6, 6, 6, 6, 6, 6, 6, 6, null, null, null, null, null, null, null, null, null, null)\n7\n7\n7\n7\n7\n7\n7\n7\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (7, 7, 7, 7, 7, 7, 7, 7, null, null, null, null, null, null, null, null, null, null)\n8\n8\n8\n8\n8\n8\n8\n8\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (8, 8, 8, 8, 8, 8, 8, 8, null, null, null, null, null, null, null, null, null, null)\n9\n9\n9\n9\n9\n9\n9\n9\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into EMPLOYEES values (9, 9, 9, 9, 9, 9, 9, 9, null, null, null, null, null, null, null, null, null, null)\n2\n2\ninsert into ROLES values (2, 2)\n2\n2\ninsert into EMPLOYEES_ROLES values (2, 2)\n1\n1\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into DELIVERY values (1, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null)\n2\n2\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into DELIVERY values (2, 2, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null)\n3\n3\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\nnull\ninsert into DELIVERY values (3, 3, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null)\n</code></pre>\n"},{"tags":["python","wsgi","tornado","gevent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13292407,"title":"How to improve the performance of the combination of gevent and tornado?","body":"<p>I am trying to use gevent as wsgi server, and use tornado WSGIApplication to process requests. Here's the code</p>\n\n<pre><code>#!/usr/bin/env python\n# coding=utf-8\n\nimport gevent\nfrom gevent import monkey\nmonkey.patch_all(thread=False)\n\nfrom gevent.pywsgi import WSGIServer\n\nfrom tornado.wsgi import WSGIApplication\nimport tornado.web\nimport tornado.wsgi\n\nimport requests\n\nclass MainHandler(tornado.web.RequestHandler):\n    def get(self):\n        requests.get('http://google.com')\n        self.write('hello')\n\n\nhandlers = [\n    (r'/', MainHandler)\n]\n\n\nif __name__ == '__main__':\n    application = WSGIApplication(handlers)\n    server = WSGIServer(('', 9010), application)\n    server.serve_forever()\n</code></pre>\n\n<p>And I use apache benchmark to test the performance. Test command is</p>\n\n<p><code>ab -n 1000 -c 100 http://127.0.0.1:9010/</code></p>\n\n<p>This resulting 100req per second, it is too slow. In the above code, I just put a http request to other side, I think in this situation, gevent will switch to other greenlet when block, and it should has little influence on the performance, but gevent's performance decrease from 1600req per second to 100 req per second, I can't figure out why.</p>\n\n<p>Could anyone explain this?</p>\n"},{"tags":["python","interpolation","idl","spline"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13286525,"title":"Difference of spline interpolation in IDL and Python","body":"<p>I wrote IDL code:</p>\n\n<pre><code>zz= [  0,  5, 10, 15, 30, 50, 90, 100,  500]\nuz= [ 20, 20, 20, 30, 60, 90, 30, -200, -200]*(-1.)\nzp= findgen(120)*500+500\nup= spline((zz-10.),uz,(zp/1000.0))\nprint, up \n</code></pre>\n\n<p>and IDL gave me the values of <em>up</em> array from about <strong>-20 to 500</strong></p>\n\n<p>.The same I did in Python</p>\n\n<pre><code>import numpy as npy\nzz = npy.array([  0,  5, 10, 15, 30, 50, 90, 100,  500])\nuz = npy.array([ 20, 20, 20, 30, 60, 90, 30, -200, -200])*(-1.)\nzp = npy.arange(0,120)*500+500\nfrom scipy.interpolate import interp1d\ncubic_interp_u = interp1d(zz-10., uz, kind='cubic')\nup = cubic_interp_u(zp/1000)\nprint up\n</code></pre>\n\n<p>and it gave me <em>up</em> with values from about <strong>-20 to -160</strong>. Any idea? Thanks in advance!</p>\n"},{"tags":["python","regex"],"answer_count":8,"favorite_count":2,"up_vote_count":10,"down_vote_count":0,"view_count":1961,"score":10,"question_id":492716,"title":"Reversing a regular expression in python","body":"<p>I want to reverse a regular expression. i.e. given a regular expression, I want to produce <em>any</em> string that will match that regex.</p>\n\n<p>I know how to do this from a theoretical computer science background using finite state machine, I just want to know if someone has already written a library to do this. :)</p>\n\n<p>I'm using Python, so I'd like a python library.</p>\n\n<p>To reiterate, I only want <em>one</em> string that will match the regex. Things like \".\" or \".*\" would make an infinite amount of strings match the regex, but I don't care about all options.</p>\n\n<p>I'm willing for this library to only work on a certain subset of regex.</p>\n"},{"tags":["javascript","python","html","database","maps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13289297,"title":"Dynamically loading x & y coordinates from text file into html page as pixels for some points locations","body":"<p>I need to get a web page for the map of an area.\nI am trying to do it with just having the image of the map for that area loaded onto the web page, locate the points just as you can see in my attached png-file and do more as I prefer with it.</p>\n\n<p>Assuming there are basically 6 stations in that area as shown in the text file below, </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>#\n# some sensor network\n#\nSN.field_x = 5000 \nSN.field_y = 2000\nSN.numNodes = 6\n# Name: station1 type: antenna1\nSN.node[0].xCoor = 1000\nSN.node[0].yCoor = 800 \n# Name: station2 type: antenna1\nSN.node[1].xCoor = 2000 \nSN.node[1].yCoor = 808 \n# Name: station3 type: antenna2\nSN.node[2].xCoor = 1800\nSN.node[2].yCoor = 743 \n# Name: station4 type: antenna2\nSN.node[3].xCoor = 2061\nSN.node[3].yCoor = 747 \n# Name: station5 type: antenna3\nSN.node[4].xCoor = 2325\nSN.node[4].yCoor = 753\n# Name: station6 type: antenna3\nSN.node[5].xCoor = 1689\nSN.node[5].yCoor = 681\n</code></pre>\n\n<p>I need to show these stations on the map with correct positioning based on the coordinate data from that text file.\nI have to locate each of those points on the map(which is an image) based on those x &amp; y coordinates. I tried to do this by hard-coding the x &amp; y coord into the css script as pixels which gives me the page in that picture attached. But I need to get it loaded dynamically because those stations might be re-positioned in the future. Someone told me that I can use python which I have no idea how it works. Please I need your help on how I can go about this. Thanks.</p>\n\n<p><img src=\"http://i.stack.imgur.com/3xi9L.png\" alt=\"stationMap\"></p>\n\n<p><strong>My HTML &amp; CSS now added below</strong> </p>\n\n<p>The left and top pixel values are based on the x &amp; y coord from the text file</p>\n\n<pre><code>&lt;head&gt;\n&lt;title&gt;MAP&lt;/title&gt;\n&lt;style type=\"text/css\"&gt;\n#menu{width:2997px;height:1471px;background-image:url(Map.png)}\n#menu a{position:absolute;height:10px;width:10px;}\na#a1{left:974.1px;top:409.3px;border:solid 2px #0099cc} \na#a2{left:1096.3px;top:404.1px;border:solid 2px #0099cc}\na#a3{left:901.7px;top:371.9px;border:solid 2px #0099cc} \na#a4{left:1030.7px;top:373.9px;border:solid 2px #0099cc}\na#a5{left:1162.8px;top:376.3px;border:solid 2px #0099cc} \na#a6{left:844.8px;top:340.7px;border:solid 2px #0099cc}\n\n#menu a i{ visibility:hidden;}\n&lt;/style&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"menu\"&gt;\n&lt;a id=\"a1\"href=\"#\"&gt;&lt;i&gt;Link 1&lt;/i&gt;&lt;/a&gt;\n&lt;a id=\"a2\"href=\"#\"&gt;&lt;i&gt;Link 2&lt;/i&gt;&lt;/a&gt;\n&lt;a id=\"a3\"href=\"#\"&gt;&lt;i&gt;Link 3&lt;/i&gt;&lt;/a&gt;\n&lt;a id=\"a4\"href=\"#\"&gt;&lt;i&gt;Link 4&lt;/i&gt;&lt;/a&gt;\n&lt;a id=\"a5\"href=\"#\"&gt;&lt;i&gt;Link 5&lt;/i&gt;&lt;/a&gt;\n&lt;a id=\"a6\"href=\"#\"&gt;&lt;i&gt;Link 6&lt;/i&gt;&lt;/a&gt;\n&lt;/div&gt;&lt;/body&gt;\n</code></pre>\n"},{"tags":["python","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13292279,"title":"If statement within a loop, which has two conditions","body":"<p>I've been struggling for the past day to solve a very simple (but frustratingly difficult) problem.  I currently have a piece of code which uses csv reader to loop through csv files row by row.  The loop is not an issue as I've used the same one before with success; it seems to be an issue with my if statements.</p>\n\n<p>Here is a sample:</p>\n\n<pre><code>if  'INCORRECT_KEY_PRESSED' and 'rad_mod_KA_0043-lo-mod' in row:\n            userAnswerColumn.append(row[20])\n            userRtColumn.append(row[21])\n</code></pre>\n\n<p>This statement is supposed to append two lists with values from specific locations in a row, if that row contains the phrases <code>INCORRECT_KEY_PRESSED</code> and <code>rad_mod_KA_0043-lo-mod</code>.  I have several such statements, but a row never has both of these phrases more than once.  Phrases like <code>rad_mod_KA_0043-lo-mod</code> are always unique, while <code>INCORRECT_KEY_PRESSED</code> occurs many times.</p>\n\n<p>It seems that the if statement is only using one of my conditions, as it is appending more than one piece of data to each list.</p>\n\n<p>I've had this problem in the past and solved it by creating sets and doing something like this:</p>\n\n<pre><code>if (all(x in row for x in ssSet) and row[14] == '7'):\n            ssColumn7.append(row[20])\n            ssRtColumn7.append(row[21])\n</code></pre>\n\n<p>However, there are so many unique terms that I would have to make a plethora of sets.  What's going wrong?</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["python","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13292105,"title":"I have a list of strings that end with different extensions how would I tell Python to not print the .zip strings","body":"<p>So I have a list of strings that are file paths, and I want to print only the paths that do not end with .zip. I can't use glob or os since this is a list and was not found through os.chdir(\"/mydir\"). This is what I tried and it does not work.</p>\n\n<pre><code>list = ['/user/adi/test.zip', '/user/adi/test.csv', /user/adi/testing.zip, /user/adi/testing.txt]\nfor lis in list:\n    if lis not in ['.zip']:\n        print lis\n</code></pre>\n\n<p>Anyway for me to do this?</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["python","accessibility","blind","blindness"],"answer_count":12,"favorite_count":14,"up_vote_count":57,"down_vote_count":2,"view_count":3588,"score":55,"question_id":118643,"title":"Is there a way to convert indentation in Python code to braces?","body":"<p>I am a totally blind programmer who would like to learn Python. Unfortunately the fact that code blocks are represented with different levels of indentation is a major stumbling block. I was wondering if there were any tools available that would allow me to write code using braces or some other code block delimiter and then convert that format into a properly indented representation that the Python interpreter could use?</p>\n"},{"tags":["python","mysql","executemany"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13291700,"title":"executemany for MySQLdb error for large number of rows","body":"<p>I'm currently running a script to insert values (a list of tuples) into a MySQL database, using the execute many function. When I use a small number of rows (`1000), the script runs fine.</p>\n\n<p>When I use around 40,000 rows, I receive the following errors:</p>\n\n<pre><code>cursor.executemany( stmt, trans_frame)\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2538, in run_code\n    exec code_obj in self.user_global_ns, self.user_ns\n  File \"&lt;ipython-input-1-66b44e71cf5a&gt;\", line 1, in &lt;module&gt;\n    cursor.executemany( stmt, trans_frame)\n  File \"C:\\Python27\\lib\\site-packages\\MySQLdb\\cursors.py\", line 253, in executemany\n    r = self._query('\\n'.join([query[:p], ',\\n'.join(q), query[e:]]))\n  File \"C:\\Python27\\lib\\site-packages\\MySQLdb\\cursors.py\", line 346, in _query\n    rowcount = self._do_query(q)\n  File \"C:\\Python27\\lib\\site-packages\\MySQLdb\\cursors.py\", line 310, in _do_query\n    db.query(q)\nOperationalError: (2006, 'MySQL server has gone away')\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["python","mysql","django"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13291576,"title":"Running django project without django installation","body":"<p>I have developed a project with <strong>Django framework(python and mysql DB)</strong> in Linux OS(Ubuntu 12.04), I want to run this project in localhost in <strong>another machine</strong> with Linux(Ubuntu 12.04) without installing Django here, is it possible <strong>run a django project without django installation.</strong> Is there any way to run so?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","escaping","beautifulsoup","html-escape-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13291500,"title":"BeautifulSoup is HTML escaping strings which have escaped characters","body":"<p>I am reading a string from file:</p>\n\n<pre><code>a = '&lt;script&gt;closedSign: \\'&lt;img src=\"/static/images/drop-down.png\" style=\"margin-top: -3px;\"  /&gt;\\'&lt;/script&gt;'\n</code></pre>\n\n<p>Now, when I run</p>\n\n<pre><code>BeautifulSoup(a)\n\n&lt;script&gt;closedSign: '&amp;lt;img src=\"/static/images/drop-down.png\" style=\"margin-top: -3px;\"   /&amp;gt;'&lt;/script&gt;\n</code></pre>\n\n<p>Thus, <code>&lt;img</code> is being HTML escaped into <code>&amp;lt;img</code></p>\n\n<p>How can I avoid this?</p>\n"},{"tags":["python","postgresql","type-conversion","postgis","psycopg2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13292218,"title":"build SQL dynamic query with psycopg2 python library and using good conversion type tools","body":"<p>I have some problem to design a good algorithm which use specification of psycopg2 library described <a href=\"http://initd.org/psycopg/docs/usage.html#python-types-adaptation\" rel=\"nofollow\">here</a></p>\n\n<p>I want to build a dynamic query equal to this string : </p>\n\n<pre><code>SELECT ST_GeomFromText('POLYGON((0.0 0.0,20.0 0.0,20.0 20.0,0.0 20.0,0.0 0.0))');\n</code></pre>\n\n<p>As you can see, my POLYGON object contain multiple point, read in a simple csv file some.csv which contain : </p>\n\n<pre><code>0.0;0.0\n20.0;0.0\n20.0;20.0\n0.0;20.0\n0.0;0.0\n</code></pre>\n\n<p>So i build the query dynamically, function of the number of line/data in the csv.</p>\n\n<p>Here my program to generate the SQL Query string to execute : </p>\n\n<pre><code>import psycopg2\nimport csv \n\n# list of points\nlXy = []\n\nDSN= \"dbname='testS' user='postgres' password='postgres' host='localhost'\"\nconn = psycopg2.connect(DSN)\n\ncurs = conn.cursor()\n\ndef genPointText(curs,x,y):\n    generatedPoint = \"%s %s\" % (x,y)\n    return generatedPoint\n\n#Lecture fichier csv\npolygonFile = open('some.csv', 'rb')\nreaderCSV = csv.reader(polygonFile,delimiter = ';')\n\nfor coordinates in readerCSV:\n    lXy.append(genPointText(curs,float(coordinates[0]),float(coordinates[1])))\n\n# function of list concatenation by separator\ndef convert(myList,separator):\n    return separator.join([str(i) for i in myList])\n\n# construct simple query with psycopg\ndef genPolygonText(curs,l):\n    # http://initd.org/psycopg/docs/usage.html#python-types-adaptation\n    generatedPolygon = \"POLYGON((%s))\" % convert(l, \",\")\n    return generatedPolygon\n\ndef executeWKT(curs,geomObject,srid):\n    try:\n            # geometry ST_GeomFromText(text WKT, integer srid);\n        finalWKT = \"SELECT ST_GeomFromText('%s');\" % (geomObject) \n        print finalWKT\n        curs.execute(finalWKT)\n    except psycopg2.ProgrammingError,err:\n        print \"ERROR = \" , err\n\npolygonQuery = genPolygonText(curs,lXy)\nexecuteWKT(curs,polygonQuery,4326)\n</code></pre>\n\n<p>As you can see, that's works, but this way is not correct because of conversion problem between python object and sql postgresql object.</p>\n\n<p>In the documentation, i see only example to feed and convert data for static query. Do you know an \"elegant\" way to create correct string with correct type in a dynamic build for query ? </p>\n"},{"tags":["python","ruby","automation","cloud","iaas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13291785,"title":"Language for automation in cloud Administration or infrastructure management","body":"<p>My question is related to the language to learn for automation task in cloud computing.\nwill it be python or ruby or some thing else. i want to move into the ladder as a automation engineer for infrastructure in cloud and data centers/companies.</p>\n\n<p>Thanks and Regards,\nYour friend. </p>\n"},{"tags":["python","pyramid"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13284791,"title":"Download error on http://www.pagetemplates.org/: timed out -- Some packages may not be found","body":"<p>does anyone knows what's happeing with:</p>\n\n<p><a href=\"http://www.pagetemplates.org\" rel=\"nofollow\">pagetemplates.org</a></p>\n\n<p>I am creating a project, and downloading from that repository fails.\nIt looks like it's out of order for few days already.\nI think it's have to do something with Pyramid, but I don't know how to turn it off - to skip downloading that part, or at least how to limit attempts for downloading as right now it keeps running in the loop?</p>\n\n<p>Download error on <a href=\"http://www.pagetemplates.org/\" rel=\"nofollow\">http://www.pagetemplates.org/</a>: timed out -- Some packages may not be found!</p>\n\n<p>Is there a way to skip this, are thee some setting in some config file? I am trying to locate it in past hour but to avail.</p>\n"},{"tags":["python","text"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13268847,"title":"Editing a text file using python","body":"<p>I have an auto generated bibliography file which stores my references. The citekey in the generated file is of the form <code>xxxxx:2009tb</code>. Is there a way to make the program to detect such a pattern and change the citekey form to <code>xxxxx:2009</code>?</p>\n"},{"tags":["python","automation","sendmessage","win32gui","wm-copydata"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13291818,"title":"Python Win32Gui automation - Send WM_COPYDATA to get data from BSPlayer","body":"<p>I am desperately trying to automate BSPlayer from my script. \nI was successful in sending simple command ids to the BSPlayer window(volume up/down, play/pause, etc.), however I am not able to get the file name back.</p>\n\n<p><a href=\"http://rtelsignal.narod.ru/bsplayer_api_pas.html\" rel=\"nofollow\">Here</a> is the BSPlayer API.\nI was able to emulate in python the first parts, however the WM_COPYDATA doesn't work. </p>\n\n<p>Here is my Python code:</p>\n\n<pre><code>copyDataCmd = COPYDATASTRUCT()\ncopyDataCmd.dwData = self.BSP_GetFileName\ncopyDataCmd.lpData = \"\"\ncopyDataCmd.cbData = 4                \nwin32gui.SendMessage(self.playerWindowHandler, win32con.WM_COPYDATA, \n                     ownHandler, copyDataCmd);\n</code></pre>\n\n<p>Obviously .lpData returns \"\" ...</p>\n\n<p>What I am trying to emulate:</p>\n\n<pre><code>cds:TCOPYDATASTRUCT; \nbuf:array[0..MAX_PATH-1] of char; \nadr:pointer; // \nadr:=@buf; \ncds.dwData:=BSP_GetFileName; \ncds.lpData:=@adr; \ncds.cbData:=4; \nSendMessage(bsp_hand,WM_COPYDATA,appHWND,lParam(@cds)); \n// available in BSPlayer version 0.84.484+ // \n// appHWND is calling application window handle \n// File name will be copied to buf // \n// Get open file name \nBSP_GetFileName = $1010B;\n</code></pre>\n\n<p>For example this code was emulated succesfully:</p>\n\n<pre><code>status := SendMessage(bsp_hand,WM_BSP_CMD,BSP_GetStatus,0); \n// available in BSPlayer version 0.84.484+ // \n// Return player status // 0 - STOP // 1 - PAUSE \n// 2 - PLAY // 4 - No movie   open        \nBSP_GetStatus = $10102; \n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","annotations","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13268587,"title":"How do i annotate with a subscripted text in matplotlib?","body":"<p>Im attempting to plot some data with matplotlib and i need some of the annotate to be formated like math/chem formulas. \nhere is some of my code.</p>\n\n<pre><code>#!/usr/bin/python2 \nimport numpy as np\nimport matplotlib.pyplot as pytl\nfrom matplotlib import rc\nrc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})\nrc('text', usetex=True)\nrecdt = np.dtype([('compound',str,4),('H_v','f4'),('B_o','f4')]);\ngat =  np.loadtxt('tra',dtype=object, usecols=(0,1,2),unpack=True);\ngct,ght,gbt=[],[],[]\nfor c,h,b in np.transpose(gat):\n    gct=np.append(gct,c)\n    ght=np.append(ght,h)\n    gbt=np.append(gbt,b)\nght= ght.astype(np.float)\ngbt= gbt.astype(np.float)\nhard = pytl\nfour = hard   #####  \nfour.scatter(gbt,ght)\nhard.title( 'physical stuff' )\nhard.xlabel('physical prop 1')\nhard.ylabel('physical prop2 ')\nfor l,x1,y2 in zip ( gct,gbt,ght):\n    hard.annotate( l,xy=(x1,y2),xytext=(-24,12),textcoords = 'offset points', arrowprops = dict(arrowstyle = '-&gt;', connectionstyle = 'arc3,rad=0'),rotation=0 )\nhard.ylim([0,10])\nhard.savefig('hardcomp.png')\nhard.show()\n</code></pre>\n\n<p>and here is some test data</p>\n\n<pre><code>ZrC 6.8 1\nNbC 8   2\nNbN 7   13\nRuB2    30  5\nBP  3   1\nAlP 9.4 3\nInSb    2.2 47\nC   6   4\n</code></pre>\n\n<p>the data is in three columns one text the other two are numbers.\ni'd like the '2' in 'RbB2' to end up as a subscript. </p>\n"},{"tags":["python","web-crawler","scrapy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13286341,"title":"<GET %22http://www.astate.edu/%22>: Unsupported URL scheme '': no handler available for that scheme in Scrapy","body":"<p>I am getting this error in scrapy framework. This is my dmoz.py under spiders directory:</p>\n\n<pre><code>from scrapy.spider import BaseSpider\nfrom scrapy.selector import HtmlXPathSelector\n\nfrom dirbot.items import Website\n\n\nclass DmozSpider(BaseSpider):\n    name = \"dmoz\"\n    allowed_domains = [\"dmoz.org\"]\n    f = open(\"links.csv\")\n    start_urls = [url.strip() for url in f.readlines()]\n    f.close()\n    def parse(self, response):\n        hxs = HtmlXPathSelector(response)\n        sites = hxs.select('//ul/li')\n        items = []\n\n        for site in sites:\n            item = Website()\n            item['name'] = site.select('a/text()').extract()\n            item['url'] = site.select('a/@href').extract()\n            item['description'] = site.select('text()').extract()\n            items.append(item)\n\n        return items\n</code></pre>\n\n<p>I am getting this error while running this code:</p>\n\n<pre><code>&lt;GET %22http://www.astate.edu/%22&gt;: Unsupported URL scheme '': no handler available for that scheme in Scrapy\n</code></pre>\n\n<p>Here's my content of links.csv:</p>\n\n<pre><code>http://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\nhttp://www.atsu.edu/\n</code></pre>\n\n<p>There are 80 URLs in links.csv. How can I resolve this error?</p>\n"},{"tags":["python","email","gmail"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":9174034,"title":"Sending mail with python using gmail","body":"<p>I've tried sending mail with python from gmail and it works fine. But the problem is when I created the Mail class with one method to whom I send specific string from my code, it can't be send.</p>\n\n<pre><code>class Mail:\n   def send_mail(self, msg):\n      import smtplib  \n\n      fromaddr = 'something@something.com'  \n      toaddrs  = 'something@gmail.com' \n      msg = msg + \"something\"\n\n      print msg\n\n      username = 'something'  \n      password = 'something'  \n\n\n      server = smtplib.SMTP('smtp.gmail.com:587')  \n      server.starttls()  \n      server.login(username,password)  \n      server.sendmail(fromaddr, toaddrs, msg)  \n      server.quit()  \n</code></pre>\n\n<p>This way it sends mail but the only thing in mail is \"something\" that I added to string, and print msg outputs the whole string plus \"something\". What could be the problem? </p>\n\n<p>This is the whole class for now, and it's called</p>\n\n<pre><code>     mail = Mail()\n     mail.send_mail(message)\n</code></pre>\n"},{"tags":["python","flask"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13284858,"title":"How to share the global app object in flask?","body":"<p>I am using flask and trying to the following. </p>\n\n<p>I have defined a main.py file through which I want to run my app ie python main.py -</p>\n\n<pre><code>from flask import Flask\nfrom view import tags\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    return 'Hello World!'\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>I have defined a package named view in which I will be declaring my different view modules, each having its own routes. view.tags.py -</p>\n\n<pre><code>from flask import Flask\napp = Flask(__name__)\n\n@app.route('/e')\ndef hello_world2():\n    return 'Hello World!'\n</code></pre>\n\n<p>So I need to have the global app object in my main.py for running the server, as well as in the view classes of my package for registering the routes. So how do I create the global app object and share it between all classes ?</p>\n\n<p>Thanks,\nMurtaza </p>\n"},{"tags":["python","floating-point","double"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13291539,"title":"convert double to float in Python","body":"<p>In a Python program, I have these two values:</p>\n\n<pre><code>v1 = 0.00582811585976\nv2 = 0.00582811608911\n</code></pre>\n\n<p>My hypothesis is that v1 is a 64-bits floating point value, and v2 is v1 converted to a 32-bits floating point value. How can I verify this?</p>\n"},{"tags":["python","beautifulsoup","tree-traversal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13255308,"title":"beautiful soup get children that are Tags (not Navigable Strings) from a Tag","body":"<p>Beautiful soup documentation provides attributes .contents and .children to access the children of a given tag (a list and an iterable respectively), and includes both Navigable Strings and Tags. I want only the children of type Tag. </p>\n\n<p>I'm currently accomplishing this using list comprehension: </p>\n\n<pre><code>rows=[x for x in table.tbody.children if type(x)==bs4.element.Tag]\n</code></pre>\n\n<p>but I'm wondering if there is a better/more pythonic/built-in way to get just Tag children. </p>\n"},{"tags":["python","csv","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13281305,"title":"reading sparse csv file into pandas","body":"<p>I have a space separated CSV file in following format:</p>\n\n<pre><code>2012-11-01 1 2012-12-01 4 2013-02-01 6\n2012-12-01 2 2013-01-01 nan\n2012-11-01 3 2012-12-01 5 2013-01-01 5 2013-04-01 7\n</code></pre>\n\n<p>basically dates followed by a value, but the dates are sparse. Some of the values are nan, or also could be missing. I would like to be able to read this into Pandas and line up the values based on the corresponding dates.</p>\n\n<p>Running Pandas:</p>\n\n<pre><code>import pandas as pd\npd.read_csv('sparse.csv', sep=\" \", parse_dates=True)\n</code></pre>\n\n<p>errors with:</p>\n\n<pre><code>ValueError: Expecting 6 columns, got 8 in row 1\n</code></pre>\n\n<p>What would be a way to read this file and align the date/values?</p>\n\n<p>(Is there some \"pre-processing\" I could do maybe?)</p>\n\n<p>Thanks</p>\n"},{"tags":["python","google","application","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13290463,"title":"Google App Engine: include an image blob in html template","body":"<p>I have problem getting images displayed in the html template. I managed to store an image into the datastore. However, I don't know how to send it to an html file (or using an URL to display the image?). Please help and many thanks. The following is my code:</p>\n\n<h2>main.py</h2>\n\n<pre><code>    # -*- coding: utf-8 -*-\n    #!/usr/bin/env python2.7\n\n    import webapp2\n    import common\n    from google.appengine.ext import db\n\n    class Image(db.Model):\n        filename = db.StringProperty(required=True)\n        data = db.BlobProperty(required=True)\n        mimetype = db.StringProperty(required=True)\n\n    class Test(webapp2.RequestHandler):\n        def get(self):\n            common.render(self, 'test.html', {})\n\n        def post(self):\n            imgfile = self.request.POST['image']\n            img = Image(filename=imgfile.filename, data=imgfile.value, mimetype=imgfile.type)\n            img.put()\n            common.render(self, 'test.html', {'imgkey': img.key().id()})\n\n    app = webapp2.WSGIApplication([\n        (\"/.*\", Test)],\n        debug=True)\n</code></pre>\n\n<hr>\n\n<h2>test.html:</h2>\n\n<pre><code>    &lt;htm&gt;\n    &lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;p&gt;&lt;/p&gt;Upload image: &lt;/p&gt;\n    &lt;form method=\"post\" action=\"/test\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"image\" /&gt;&lt;br /&gt;\n    &lt;input type=\"submit\" name=\"確定\" /&gt;\n    &lt;/form&gt;\n    {% if imgkey %}\n      Display:&lt;br /&gt;\n      &lt;img src=\"http://.../disp?key={{imgkey}}\" /&gt;&lt;br /&gt;\n    {% endif %}\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["python","serial-port","pyserial"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":88,"score":2,"question_id":11823336,"title":"DMM , Python and Serial port: During a loop - the communication is suddenly stops","body":"<p>I'm using Agilent DMM in order to measure.\nI communicate with it using Python 2.7 and PySerial module.\nThe idea: using a FOR loop, I read from the DMM and get data.\nIt is working fine until some point, each time a different point.</p>\n\n<p>for example: If I set the loop to measure 20k times, it suddenly stops after 1k times, next try it might stop after 5k times....\nstops - means that the DMM stops send data and python remains in a kind of waiting state. My scripts gets stuck and I have to terminate it. There is no error and I have no idea why.\nI tried adding timeouts (Sleep) between measurements and it sis not solve the problem.\nHere are the main commands in my scripts:</p>\n\n<pre><code># configure the serial connections \nser = serial.Serial(\n    port='com3',\n    baudrate=19200,\n    parity=serial.PARITY_NONE,\n    stopbits=serial.STOPBITS_ONE,\n    bytesize=serial.EIGHTBITS\n}\n\n\nser.write(\"CONF:CURRent:DC\" + '\\r\\n')\ntime.sleep(1)\nser.write(\"SENS:CURR:DC:RANGe:UPP 0.05\" + '\\r\\n')\ntime.sleep(1.5)\n\nfor m in range (0, 2000):\ntry:\n    ser.write('READ?' + '\\r\\n')\n    out += ser.read(18)\n    print \"out = \",out\nexcept:\n    print \"error!\"\n</code></pre>\n\n<p>The loop is running, sometimes it \"survive\" till the end but most of the times it just stops, please advice. Please note that I never get into the \"except\" part. adding \"try\" was not helping...</p>\n\n<p>Thank you!</p>\n\n<p>~ Dolphin ~</p>\n"},{"tags":["python","windows","serial-port","nonblocking","pyserial"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":155,"score":2,"question_id":11879366,"title":"Nonblocking / busy waiting usage of Pyserial on Windows: How to monitor multiple serial ports in real time?","body":"<p>I have a hardware test setup where up to 255 nodes send trace messages via USB connected virtual COM ports to my windows system. Actually I use a small Python script which runs a polling loop over all opened serial ports and does a readline with zero timeout. The read lines are printed with added COM port source and timestamp to the console. This works quite well an nearly in real time. But CPU usage is quite high as you can imagine. So I was looking for a way to monitor all the COM ports in parallel and real time without polling.</p>\n\n<p><a href=\"http://pyserial.sourceforge.net/pyserial_api.html\" rel=\"nofollow\">PySerial doc</a> <em>(look for <code>nonblocking()</code>)</em> says there is POSIX like select interface but only under UNIX OSes.</p>\n\n<p>Any ideas?</p>\n"}]}
{"total":142318,"page":3,"pagesize":100,"questions":[{"tags":["python","wxpython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":46,"score":-6,"question_id":13281753,"title":"python list shortcut","body":"<p>I want to draw a color-coded line, starting from a color and ends with another in a scale. Is  it possible to do that by using a method of wx.DC class in Python, like drawLines() etc?</p>\n\n<p>regards</p>\n"},{"tags":["python","templates","flask","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13222925,"title":"How do I enable autoescaping in templates with a .jhtml extension in Flask?","body":"<p><a href=\"http://flask.pocoo.org/docs/templating/#jinja-setup\" rel=\"nofollow\">The Flask docs state</a>:</p>\n\n<blockquote>\n  <p>autoescaping is enabled for all templates ending in .html, .htm, .xml as well as .xhtml</p>\n</blockquote>\n\n<p>How do I enable autoescaping for templates ending with a .jhtml extension?</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13276847,"title":"Getting django's humanize working on App Engine","body":"<p>I'm trying to add commas to floats for display to end users of my application on GAE. The numbers come from json and are part of a 10 item query with 2 times each (aka 20 numbers per page view). For eg.</p>\n\n<pre><code>\"total_reach\": 276160.0, \"total_reach\": 500160.0 \n</code></pre>\n\n<p>I'm using the python GAE SDK 1.7.3 template system and simply want to display the numbers to the end user with commas e.g.: 276,160 and 500,160. Note, I am using the default webbapp2 and standard templates (from google.appengine.ext.webapp import template) which, as I understand it, is based on Django.</p>\n\n<p>The Django floatformat works great to get rid of the decimal, but now I need to add the comma. Django's humanize looks perfect with its intcomma filter. However, I simply can't figure out how to enable it. I suspect its crazy simple and I'm being dense (and am noob to python) - but I'm out of ideas.</p>\n\n<p>While I tried a range of things, the most recent and promising was (based on my understanding of <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/lib/django/django/contrib/humanize/templatetags/humanize.py?r=41\" rel=\"nofollow\">the source</a>):</p>\n\n<pre><code>from google.appengine.ext.webapp.template import register_template_library\nregister_template_library('django.contrib.humanize.templatetags.humanize')\n</code></pre>\n\n<p>which gave me the following 500:</p>\n\n<pre><code>No module named django.contrib.humanize.templatetags\n</code></pre>\n\n<p>but it seems to be there in the source.</p>\n\n<p>I'm very much at a loss. I've searched around and found items like <a href=\"http://stackoverflow.com/questions/901121/how-to-use-inbulit-django-templatetags-in-google-app-engine\">this</a> which just didn't work and seemed to be aimed at webapp (as opposed to webapp2). Help and thanks!</p>\n"},{"tags":["python","twisted","twisted.web","twisted.application"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13290616,"title":"i'm getting 'nonetype' not iterable error in python /twisted","body":"<p>I am trying to understand why I get the following error that comes about when I try to evaluate the contents of a cell, some function is either not returning or I don't understand how this stuff works.</p>\n\n<pre><code> 2012-11-08 04:30:45-0800 [HTTPPageGetter,client] handling data: None\n 2012-11-08 04:30:45-0800 [HTTPPageGetter,client] Unhandled Error\n Traceback (most recent call last):\n File \"path/to/python/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1101, in gotResult\n _inlineCallbacks(r, g, deferred)\n File \"path/to/python/lib/python2.7/site-packages/twisted/internet/defer.py\", line 1048, in _inlineCallbacks\n deferred.callback(None)\n File \"path/ib/python2.7/site-packages/twisted/internet/defer.py\", line 368, in callback\n self._startRunCallbacks(result)\n File \"path/lib/python2.7/site-packages/twisted/internet/defer.py\", line 464, in _startRunCallbacks\n self._runCallbacks()\n --- &lt;exception caught here&gt; ---\n File \"path/lib/python2.7/site-packages/twisted/internet/defer.py\", line 551, in _runCallbacks\n current.result = callback(current.result, *args, **kw)\n File \"/path/to/lib/python2.7/site-packages/codenode/frontend/async/backend.py\", line 223, in _success\n if 'cellstyle' in data and data['cellstyle'] == 'outputimage':\n exceptions.TypeError: argument of type 'NoneType' is not iterable\n\n 2012-11-08 04:30:45-0800 [HTTPPageGetter,client] Stopping factory\n</code></pre>\n\n<p>here is the relevant part of the code (I think):\nthere is a suspicious part in the addcallback(three params none of which are data) but in the _success (three apart from self one of which is data),  if this is the issue whee do I pass the data?.</p>\n\n<pre><code>def render(self, request):\n    \"\"\"\n    This is where we un-serialize the content sent between the frontend\n    and backend engine bus.\n    \"\"\"\n    content = request.content.read()\n    if content:\n        msg = json.loads(content)\n        log.msg('Engine message deserialized %s' % str(msg))\n    else:\n        return\n    cellid = msg.get('cellid', '')\n    d = self.engine_bus.handleRequest(self.notebook_id, msg)\n    d.addCallback(self._success, request, cellid)\n    d.addErrback(self._fail, request)\n    return server.NOT_DONE_YET\n\ndef _success(self, data, request, cellid):\n    \"\"\"\n    horrible. not always eval...\n    \"\"\"\n    log.msg('handling data: %s' % str(data))\n    if 'cellstyle' in data and data['cellstyle'] == 'outputimage':\n        image_data = pickle.loads(data['out']).getvalue()\n        image_file_name = write_image(image_data)\n        data['out'] = image_file_name\n\n    data['cellid'] = cellid\n    jsobj = json.dumps(data)\n    request.write(jsobj)\n    request.finish()\n</code></pre>\n\n<p>Admittedly this is not by own work, and i have little understanding of it, and its pretty dated. \nhere is more of the code: \n<a href=\"https://github.com/codenode/codenode/blob/master/codenode/frontend/async/backend.py\" rel=\"nofollow\">github python file</a></p>\n\n<p>[EDIT]\nhere is a little more :\nthe initialization:</p>\n\n<pre><code>class EngineSessionAdapter(resource.Resource):\n    \"\"\"\n    There should be a better way to do this, have to figure that out.\n    \"\"\"\n\n    isLeaf = True\n\n    def __init__(self, engine_bus, notebook_id):\n        resource.Resource.__init__(self)\n        self.engine_bus = engine_bus\n        self.notebook_id = notebook_id\n        self.putChild(\"\", self)\n</code></pre>\n\n<p>and this is the engine object:</p>\n\n<pre><code>class EngineBusAdapter(resource.Resource):\n\n    def __init__(self, engine_bus):\n        resource.Resource.__init__(self)\n        self.engine_bus = engine_bus\n        self.putChild(\"\", self)\n\n    def getChild(self, path, request):\n        \"\"\"XXX Can this refer back to itself?\n        \"\"\"\n        return EngineSessionAdapter(self.engine_bus, path)\n</code></pre>\n\n<p>.</p>\n"},{"tags":["python","qt","delegates","pyside","qtableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13242442,"title":"PySide delegate on QTableView with text and tick","body":"<p>I'm implementing a <code>QTableView</code> with a custom model and I need a cell that looks like this:\n<img src=\"http://oi47.tinypic.com/2jirkw.jpg\"/></p>\n\n<p>Currently I use the delegate below (adapted from other answers) to draw a flag (an html coloured text) on a single cell, clicking on the whole cell changes the flag.</p>\n\n<pre><code>class HTMLDelegate(QtGui.QStyledItemDelegate):\n    def Doc(self, options):\n        if options.text == \"0\":\n            return \"\"\n        elif options.text == \"1\":\n            return \"&lt;b&gt;&lt;font align='right' color='green'&gt;V&lt;/font&gt;&lt;/b&gt;\"\n        elif options.text == \"2\":\n            return \"&lt;font align='right' color='#FF8400'&gt;!!&lt;/font&gt;\"\n        elif options.text == \"3\":\n            return \"&lt;b&gt;&lt;font align='right' color='#CC0000'&gt;F&lt;/font&gt;&lt;/b&gt;\"\n        elif options.text == \"4\":\n            return \"&lt;b&gt;&lt;font align='right' color='#000000'&gt;X&lt;/font&gt;&lt;/b&gt;\"\n\n    def paint(self, painter, option, index):\n        options = QtGui.QStyleOptionViewItemV4(option)\n        self.initStyleOption(options,index)\n\n        style = QtGui.QApplication.style() if options.widget is None else options.widget.style()\n\n        doc = QtGui.QTextDocument()\n\n        background = None\n        doc.setHtml(self.Doc(options))\n\n        options.text = \"\"\n        style.drawControl(QtGui.QStyle.CE_ItemViewItem, options, painter);\n\n        ctx = QtGui.QAbstractTextDocumentLayout.PaintContext()\n\n        # Highlighting text if item is selected\n        #if (optionV4.state &amp; QStyle::State_Selected)\n        #    ctx.palette.setColor(QPalette::Text, optionV4.palette.color(QPalette::Active, QPalette::HighlightedText));\n\n        textRect = style.subElementRect(QtGui.QStyle.SE_ItemViewItemText, options, None)\n        painter.save()\n        if background:\n            painter.fillRect(options.rect, QtCore.Qt.yellow)\n        painter.translate(textRect.topLeft())\n        painter.setClipRect(textRect.translated(-textRect.topLeft()))\n\n        doc.documentLayout().draw(painter, ctx)\n\n        painter.restore()\n\n    def editorEvent(self, event, model, option, index):\n        if not (index.flags() &amp; QtCore.Qt.ItemIsEditable) &gt; 0:\n            return False\n\n        # Do not change the checkbox-state\n        if event.type() == QtCore.QEvent.MouseButtonRelease or event.type() == QtCore.QEvent.MouseButtonDblClick:\n            if event.button() != QtCore.Qt.LeftButton:\n                return False\n            if event.type() == QtCore.QEvent.MouseButtonDblClick:\n                return True\n        elif event.type() == QtCore.QEvent.KeyPress:\n            if event.key() != QtCore.Qt.Key_Space and event.key() != QtCore.Qt.Key_Select:\n                return False\n        else:\n            return False\n\n        # Change the flag-state\n        self.setModelData(None, model, index)\n        return False\n\n\n    def setModelData (self, editor, model, index):\n        '''\n        The user wanted to change the old flag into the next\n        '''\n        #newValue = not bool(index.model().data(index, QtCore.Qt.DisplayRole))\n        #model.setData(index, newValue, QtCore.Qt.EditRole)\n        oldFlagIndex = model.index(index.row(), COD_COL_FLAGS)\n        oldFlag = model.data(oldFlagIndex)\n\n        if type(oldFlag) == long:\n            newFlag = oldFlag + 1\n            if newFlag &gt; 4:\n                newFlag = 0\n        else:\n            newFlag = 0\n        model.setData(index, newFlag, QtCore.Qt.EditRole)\n</code></pre>\n\n<p>How can I accomplish this ?<br>\nThe options that I have in mind are:</p>\n\n<ul>\n<li><p>A delegate that draws text (rich or simple) along with a pixmap to the right</p></li>\n<li><p>A delegate that draws two strings of text (one normal and one rich, or both rich text) aligned one to the left and one to the right</p></li>\n</ul>\n\n<p>As an exercise, but not required for the app, it would be nice to trigger the flag change only when clicking on it instead of the whole cell.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","database","django","performance"],"answer_count":5,"favorite_count":3,"up_vote_count":9,"down_vote_count":0,"view_count":3061,"score":9,"question_id":447117,"title":"Django: Increment blog entry view count by one. Is this efficient?","body":"<p>I have the following code in my index view.</p>\n\n<pre><code>latest_entry_list = Entry.objects.filter(is_published=True).order_by('-date_published')[:10]\nfor entry in latest_entry_list:\n    entry.views = entry.views + 1\n    entry.save()\n</code></pre>\n\n<p>If there are ten (the limit) rows returned from the initial query, will the save issue 10 seperate updated calls to the database, or is Django \"smart\" enough to issue just one update call?</p>\n\n<p>Is there a more efficient method to achieve this result?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":120,"score":8,"question_id":13278864,"title":"comparing Python code for equivalence","body":"<p>Is there a reliable, automatic way (such as a command-line utility) to check if two Python files are <strong>equivalent</strong> modulo whitespace, semicolons, backslash continuations, comments, etc.? In other words, that they are identical to the interpreter?</p>\n\n<p>For example, this:</p>\n\n<pre><code>import sys\nsys.stdout.write('foo\\n')\nsys.stdout.write('bar\\n')\n</code></pre>\n\n<p>should be considered equivalent to this:</p>\n\n<pre><code>import   sys\nsys.stdout.\\\n    write('foo\\n'); sys.stdout.\\\n    write(\n\n    'bar\\n') # This is an unnecessary comment\n</code></pre>\n"},{"tags":["python","email","flask","email-integration"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13290962,"title":"What is the first step to getting in e-mail into my python / flask app code?","body":"<p>I am researching what it would take to make a web app that would interact with e-mails directly. Like you would send to something@myapp.com and the app would tear it apart and determine who it's from, if they are in the DB, what is the subject line, etc.</p>\n\n<p>I am working with/most familiar with python and flask.</p>\n\n<p>Could anyone get me started in the right direction of how to get an e-mail to interface with my flask app code?</p>\n"},{"tags":["python","pygtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13291055,"title":"PyGTK leave-notify-event shouldn't be triggered if enter children","body":"<p>Please see this code example:</p>\n\n<pre><code>import gtk\n\n\nclass MenuBox(gtk.EventBox):\n    def __init__(self):\n        super(MenuBox, self).__init__()\n        self.set_visible_window(False)\n        self.connect('enter-notify-event', self._on_mouse_enter)\n        self.connect('leave-notify-event', self._on_mouse_leave)\n\n        btn = gtk.Button('x')\n        btn.set_border_width(12)\n        self.add(btn)\n\n    def _on_mouse_enter(self, wid, event):\n        print '_on_mouse_enter'\n\n    def _on_mouse_leave(self, *args):\n        print '_on_mouse_leave'\n\n\ndef main():\n    win = gtk.Window()\n    win.connect('destroy', gtk.main_quit)\n    win.add(MenuBox())\n    win.show_all()\n    gtk.main()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I want that the enter and leave events are not triggered if I am going from parent to child and back. I know that in this particular case I can filter these events with <code>event.detail</code>. But this does not work if there is no border. If I remove the border the events aren't triggered at all.</p>\n\n<p>In my real code I have a more complex widget (based on gtk.Fixed) which has border at the beginning but not at the end. So just moving the event to the child wouldn't do the trick either.</p>\n"},{"tags":["python","signals","reentrancy"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":13285494,"title":"Python signal handlers and reentry","body":"<p>Are <a href=\"http://docs.python.org/2/library/signal.html\" rel=\"nofollow\">signal handlers</a> in Python reentrant?</p>\n\n<p>I have a signal handler for a timer that snapshots the stack many times a second - its a statistical profiler.  Can my signal handler re-enter if it takes too long?  If so, how can I guard it?</p>\n\n<p><a href=\"https://github.com/williame/will_profile\" rel=\"nofollow\">My code</a>:</p>\n\n<pre><code>import signal, time, traceback, threading\n\ndef start(interval=0.1):\n    global _interval, _samples\n    _samples = []\n    signal.signal(signal.SIGALRM,_sample)\n    signal.setitimer(signal.ITIMER_REAL,interval,interval)\n\ndef stop():\n    global _samples\n    signal.setitimer(signal.ITIMER_REAL,0,0)\n    samples, _samples = _samples, []\n    samples.append((time.time(),None,None,[]))\n    return samples\n\ndef _sample(signo,frame):\n    thread = threading.current_thread()\n    row = (time.time(),thread.ident,thread.name,traceback.extract_stack(frame))\n    if not _samples or row[1:] != _samples[-1][1:]: # new stack since last sample?\n        _samples.append(row)\n</code></pre>\n"},{"tags":["python","sqlalchemy"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1713,"score":4,"question_id":2950385,"title":"Debugging (displaying) SQL command sent to the db by SQLAlchemy","body":"<p>I have an ORM class called Person, which wraps around a person table:</p>\n\n<p>After setting up the connection to the db etc, I run the ff statement.</p>\n\n<p>people = session.query(Person).all()</p>\n\n<p>The person table does not contain any data (as yet), so when I print the variable people, I \nget an empty list.</p>\n\n<p>I renamed the table referred to in my ORM class People, to people_foo (which does not exist).</p>\n\n<p>I then run the script again. I was surprised that no exception was thrown when attempting to access a table that does not exist.</p>\n\n<p>I therefore have the following 2 questions:</p>\n\n<ol>\n<li>How may I setup SQLAlchemy so that it propagates db errors back to the script?</li>\n<li>How may I view (i.e. print) the SQL that is being sent to the db engine </li>\n</ol>\n\n<p>If it helps, I am using PostgreSQL as the db</p>\n\n<p><strong>[Edit]</strong></p>\n\n<p>I am writing a package. In my <code>__main__.py</code> script, I have the following code (shortened here):</p>\n\n<pre><code>### __main__.py\nimport common # imports logging and defines logging setup funcs etc\n\nlogger = logging.getLogger(__name__)\n\n\ndef main():    \n    parser = OptionParser(usage=\"%prog [options] &lt;commands&gt;\",\n                          version=\"%prog 1.0\")\n\n    commands = OptionGroup(parser, \"commands\")\n\n    parser.add_option(\n        \"-l\",\n        \"--logfile\",\n        dest=\"logfile\",\n        metavar=\"FILE\",\n        help=\"log to FILE. if not set, no logging will be done\"\n    )\n\n    parser.add_option(\n        \"--level\",\n        dest=\"loglevel\",\n        metavar=\"LOG LEVEL\",\n        help=\"Debug level. if not set, level will default to low\"\n    )\n\n    # Set defaults if not specified\n    if not options.loglevel:\n        loglevel = 1\n    else:\n        loglevel = options.loglevel\n\n    if not options.logfile:\n        logfilename = 'datafeed.log'\n    else:\n        logfilename = options.logfile\n\n    common.setup_logger(False, logfilename, loglevel) \n\n       # and so on ...\n\n\n\n        #### dbfuncs.py\n\n\nimport logging\n\n    # not sure how to 'bind' to the logger in __main__.py\n    logging.getLogger('sqlalchemy.engine').setLevel(logging.INFO)\n\n    engine = create_engine('postgres://postgres:pwd@localhost:port/dbname', echo=True)\n</code></pre>\n\n<p><strong>[Edit2]</strong></p>\n\n<p>common module sets the logger up correctly, and I can use the logger in my other modules that import common.</p>\n\n<p>However in dbfuncs module, I am getting the following error/warning:</p>\n\n<p>No handlers could be found for logger \"sqlalchemy.engine.base.Engine</p>\n"},{"tags":["python","ctypes","nvidia"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":412,"score":0,"question_id":6165628,"title":"use python ctypes to interface with nvapi (follow up with demonstration code)","body":"<p>This is a follow up to my previous question: <a href=\"http://stackoverflow.com/questions/6163770/help-with-python-ctypes-and-nvapi\">help with python ctypes and nvapi</a></p>\n\n<p>I am posting another question because I already selected an answer in my previous question and the question has shifted direction now.</p>\n\n<p>Using python, I am trying to query nvapi.dll to get my gpu usage value.  </p>\n\n<p>This is how you would do it in C# (referenced below): <a href=\"http://code.google.com/p/open-hardware-monitor/source/browse/trunk/Hardware/Nvidia/NVAPI.cs\" rel=\"nofollow\">http://code.google.com/p/open-hardware-monitor/source/browse/trunk/Hardware/Nvidia/NVAPI.cs</a></p>\n\n<p>Because I only need a small subset of the functionality I don't really want to swap into using another language.  I think that ctypes should be able to do this... I just cannot figure out how to do it.  I have never really used Python ctypes before.</p>\n\n<p>In order to query for the gpu usage I first need to call the NvAPI_Initialize function.  One must also use the query interface to reference the function:</p>\n\n<pre><code>from ctypes import *\nnvapi = WinDLL(\"nvapi.dll\")\nnvapi_QueryInterface = nvapi.nvapi_QueryInterface\n</code></pre>\n\n<p>Using the above code, I have access to the nvapi_QueryInterface, but I cannot figure out how to replicate this portion:</p>\n\n<pre><code>private static void GetDelegate&lt;T&gt;(uint id, out T newDelegate)\n  where T : class\n{\n    IntPtr ptr = nvapi_QueryInterface(id);\n    if (ptr != IntPtr.Zero)\n    {\n        newDelegate =\n          Marshal.GetDelegateForFunctionPointer(ptr, typeof(T)) as T;\n    }\n    else\n    {\n        newDelegate = null;\n    }\n}\n</code></pre>\n\n<p>to reference the init and usage functions:</p>\n\n<pre><code>GetDelegate(0x0150E828, out NvAPI_Initialize);\nGetDelegate(0x189A1FDF, out NvAPI_GPU_GetUsages);\n</code></pre>\n\n<p>My understanding of this may still be wrong, but I've spent a good deal of time trying to figure this out so I hope someone can help push me in the right direction because I am a little lost as to how to proceed.</p>\n\n<p>Can someone help me understand how I can make this small portion of the code work directly in python?  I just need to be able to call the NvAPI_GPU_GetUsages function at the end of the day.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","file","google-app-engine","blobstore","pypdf"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13287091,"title":"Create blobstore file from PdfFileWriter","body":"<p>I'm trying to merge two pdfs with pyPdf library using python and google app engine.\nI read the files from blobstore and I create PdfFileWriter object with the information that I need but then I'm having troubles to convert this PdfFileWriter in a blobstore file. Any idea to solve it? \nThank you :)</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    blob_reader1 = blobstore.BlobReader(blob_key1)\n    blob_reader2 = blobstore.BlobReader(blob_key2)\n\n    writer = PdfFileWriter()\n\n    input1 = PdfFileReader(blob_reader1)\n    input2 = PdfFileReader(blob_reader2)\n\n    writer.addPage(input1.getPage(0))\n    writer.addPage(input1.getPage(1))\n    writer.addPage(input2.getPage(0))\n\n\n    # finally, write \"output\" to document-output.pdf\n    # This lines are comment because it is the way to do it without google app engine---\n    # outputStream = file(\"document-output.pdf\", \"wb\")\n    # output.write(outputStream)\n    # outputStream.close()\n    #        \n    # Open the file and write to it\n    #I do not how write the information are inside writer in blobstore file\n    file_name = files.blobstore.create(mime_type='application/pdf')    \n    #with files.open(file_name, 'a') as f:\n    #    f.write(writer) it does not work\n\n    # Finalize the file. Do this before attempting to read it.\n    files.finalize(file_name)\n\n    blob_key = files.blobstore.get_blob_key(file_name)\n</code></pre>\n"},{"tags":["python","arrays","if-statement","numpy","defintion"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":53,"score":4,"question_id":13290557,"title":"Elementwise if elif function in python using arrays","body":"<p>I have a definition</p>\n\n<pre><code>def myfunc(a, b):\n    if a &lt; (b*10):\n        result = a*2\n    else:\n        result = a*(-1)\n    return result\n</code></pre>\n\n<p>Now this obviously works perfectly when I feed in my a and b values one by one using for loops, however it takes forever (I've simplified the definition a wee bit) and I know from experience that passing in the values as an array will speed it up.</p>\n\n<p>So how do I modify this code to accept arrays. I've used the any() and all() commands but I must be using them wrong as my function only spits out one value rather than an array of values.</p>\n\n<p>An example of my desired output would be:</p>\n\n<pre><code>&gt;&gt;&gt;a = np.array([1,5,50,500])\n&gt;&gt;&gt;b = 1\n&gt;&gt;&gt;print myfunc(a, b)\narray([-1, -5, 100, 1000])\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["python","google-app-engine","search","app-engine-ndb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13289334,"title":"searching for searchers on appengine","body":"<p>my search problem is the following. </p>\n\n<p>My site has job offers, and we have users (searchers) that are interested in getting notified if new offers arrive. The users set some keywords for their jobsearch which change very unfrequently. There are new job offers on a frequent basis (about 100 new offers every day). And the number of users could get to be highish (hopefully), in the order of 10K-100K users, although now it is much more modest.</p>\n\n<p>Initially, I approached the problem by periodically doing each user's search and filtering for new offers. I find this to be very inefficient, but it works as long as the number of users is small. However, I should start thinking about an alternative way to do this for a larger number of users. </p>\n\n<p>So, what I would like to do, but I don't know if it is possible nor even <strong>how this type of searching is called</strong>, is the following. Although the number of users should grow large, the number of new offers per day will not. So, when a new job offer arrives, <strong>I would like to be able to search users whose query matches this job offer</strong>, obviously without having to run each user's query.</p>\n\n<p>I'm thinking of something like indexing my users queries and search on that, but I don't know how to break up the job offer in a way that I can use to feed that search.</p>\n\n<p>I am doing this on appengine-python, so the options I have are somehow limited by the platform. </p>\n\n<p>Thanks in advance for your insight!</p>\n"},{"tags":["python","phpmyadmin"],"answer_count":1,"favorite_count":1,"up_vote_count":13,"down_vote_count":0,"view_count":2205,"score":13,"question_id":1480453,"title":"phpMyAdmin equivalent in python?","body":"<p>Is there a python equivalent of phpMyAdmin?</p>\n\n<p>Here's why I'm looking for a python version of phpmyadmin: While I agree that phpmyadmin really rocks, I don't want to run php on my server. I'd like to move from apache2-prefork to apache2-mpm-worker. Worker blows the doors off of prefork for performance, but php5 doesn't work with worker. (Technically it does, but it's far more complicated.) The extra memory and performance penalty for having php on this server is large to me.</p>\n"},{"tags":["python","image-processing","machine-learning","computer-vision"],"answer_count":6,"favorite_count":12,"up_vote_count":18,"down_vote_count":2,"view_count":708,"score":16,"question_id":8849869,"title":"How do I find Wally with Python?","body":"<p>Shamelessly jumping on the bandwagon :-)</p>\n\n<p>Inspired by <a href=\"http://stackoverflow.com/questions/8479058/how-do-i-find-waldo-with-mathematica\">How do I find Waldo with Mathematica</a> and the followup <a href=\"http://stackoverflow.com/questions/8563604/how-to-find-waldo-with-r\">How to find Waldo with R</a>, as a new python user I'd love to see how this could be done. It seems that python would be better suited to this than R, and we don't have to worry about licenses as we would with Mathematica or Matlab.</p>\n\n<p>In an example like the one below obviously simply using stripes wouldn't work. It would be interesting if a simple rule based approach could be made to work for difficult examples such as this.</p>\n\n<p><img src=\"http://i.stack.imgur.com/WEGrv.jpg\" alt=\"At the beach\"></p>\n\n<p>I've added the [machine-learning] tag as I believe the correct answer will have to use ML techniques, such as the Restricted Boltzmann Machine (RBM) approach advocated by Gregory Klopper in the original thread. There is some <a href=\"http://imonad.com/rbm/restricted-boltzmann-machine/\">RBM code available in python</a> which might be a good place to start, but obviously training data is needed for that approach. </p>\n\n<p>At the <a href=\"http://mlsp2009.conwiz.dk/\">2009 IEEE International Workshop on MACHINE LEARNING FOR SIGNAL PROCESSING (MLSP 2009)</a> they ran a <a href=\"http://mlsp2009.conwiz.dk/index.php?id=43\">Data Analysis Competition: Where's Wally?</a>. Training data is provided in matlab format. Note that the links on that website are dead, but the data (along with the source of an approach taken by <a href=\"http://www.eeng.nuim.ie/~semcloone/homepage.html\">Sean McLoone</a> and colleagues can be found <a href=\"https://labanquise.insa-rouen.fr/projects/l1pca/\">here</a> (see SCM link). Seems like one place to start.</p>\n"},{"tags":["python","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13290277,"title":"What is an idiomatic way to specify a matplotlib figure and axes to a function?","body":"<p>What I'm trying to do could be written like this:</p>\n\n<pre><code>import pylab\nclass GetsDrawn(object):\n    def __init__(self):\n        self.x=some_function_that_returns_an_array()\n        self.y=some_other_function_that_returns_an_array()\n\n    # verison 1: pass in figure/subplot arguments\n    def draw(self, fig_num, subplot_args ):\n        pylab.figure(fig_num)\n        pylab.subplot( *subplot_args )\n        pylab.scatter( self.x, self.y)\n</code></pre>\n\n<p>i.e. I could tell the object \"where\" to draw itself via a figure-number and sub-plot configuration.  </p>\n\n<p>I suspect that a version which is passed a pylab object would be more flexible in the \nlong run, but don't know what type of object(s) to provide to the function.</p>\n"},{"tags":["python","multithreading"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":26,"score":3,"question_id":13290429,"title":"Using threading.Lock as context manager","body":"<p>In the documentation of the <a href=\"http://docs.python.org/2/library/threading.html#using-locks-conditions-and-semaphores-in-the-with-statement\" rel=\"nofollow\">threading</a> module it says</p>\n\n<blockquote>\n  <p>All of the objects provided by this module that have acquire() and\n  release() methods can be used as context managers for a with\n  statement. The acquire() method will be called when the block is\n  entered, and release() will be called when the block is exited.</p>\n</blockquote>\n\n<p>I was wondering if itis called in blocking or non blockin mode?</p>\n"},{"tags":["python","django","foreign-keys","form-data","create-view"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13286075,"title":"Django CreateView : Append ForeignKey to CustomForm Data","body":"<p>I have a CreateView as follows:</p>\n\n<pre><code>class ResumeCreateView(CreateView):\n    model = Resume\n\n    def form_valid(self, request, form):\n        candidate = Candidate.objects.get(user=self.request.user)\n        self.object = form.save(commit=False)\n        self.object.candidate = candidate\n        self.object.save()\n        f = self.request.FILES.get('file')\n        data = [{\n            'title': self.request['title'],\n            'name': f.name,\n        }]  \n        response = JSONResponse(data, {}, response_mimetype(self.request))\n        response['Content-Disposition'] = 'inline; filename=files.json'\n        return response\n</code></pre>\n\n<p>here i am trying to append the <code>candidate</code> instance to the <code>Resume</code> models candidate field which is a <code>ForeignKey</code> to the <code>Candidate</code> model.</p>\n\n<p>But i always receive validation error <code>{'candidate' : 'This field is required'}</code> </p>\n\n<ul>\n<li>I am using a custom form not a model form as it uses twitter bootstrap identifiers.</li>\n</ul>\n\n<p>what am i missing ?</p>\n"},{"tags":["python","excel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13290315,"title":"Python nonetype error with blank cells in excel using Iron Spread","body":"<p>I'm trying to filter out blank spaces in a column in excel using Iron Spread. Column 3 contains data, but there are blank spaces which I want to remove. To determine when the list ends, I check in column 8 which always has values. If column 8 doesn't have a value, that means the list is done (terminate loop at this point). So, I'm taking the values from column 3(when they exist) and placing them in column 10. </p>\n\n<p>I'm getting the following error</p>\n\n<pre><code>if(\"None\" in Cell(i,3).value):\n\nTypeError: argument of type 'NoneType' is not iterable\n</code></pre>\n\n<p>Here is the code I'm checking for blank cells with</p>\n\n<pre><code>i = 1 \nj = 1 \nwhile 1:\n    if(\"None\" not in Cell(i,3).value): #if cell isn't blank, set the contents in column 10\n        Cell(j,10).value = Cell(i,3).value\n        i = i + 1\n        j = j + 1\n    if(\"None\" in Cell(i,3).value): #if the cell is blank...\n        if(\"None\" not in Cell(i,7).value): #check column 7, if it isn't blank increment i\n            i = i + 1\n    else:\n        break\n</code></pre>\n"},{"tags":["python","django","linux","fork","zombie-process"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13247956,"title":"python/django spawn background process and avoid zombie process","body":"<p>I need to spawn a background process in django, the view returns immediately, the background process continues make some changes, then update the db. This is done by <code>os.spawnl()</code> function to call a separate .py file.</p>\n\n<p>The problem is after the background process is done, it becames a zombie function <code>[python] &lt;defunct&gt;</code>.</p>\n\n<p>How do I avoid that? I followed <a href=\"http://stackoverflow.com/a/972383/41948\">this</a> and <a href=\"http://stackoverflow.com/a/5218394/41948\">this</a> example but I still got the child process as zombie after the django render process.</p>\n\n<p>I want to take this chance to practice my *nix process management skills so please do me a favor, don't give me Celery or other mq/async task solutions, and I hate dependencies.</p>\n"},{"tags":["python","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":13279690,"title":"unexpected behavior when combining two dataframes in pandas","body":"<p>This may be a bug, but it may also be a subtlety of pandas that I'm missing. I'm combining two dataframes and the result's index isn't sorted. What's weird is that I've never seen a single instance of combine_first that failed to maintain the index sorted before.</p>\n\n\n\n<pre><code>&gt;&gt;&gt; a1\n                            X  Y\nDateTime                                    \n2012-11-06 16:00:11.477563      8        80\n2012-11-06 16:00:11.477563      8        63\n&gt;&gt;&gt; a2\n                        X  Y\nDateTime                                   \n2012-11-06 15:11:09.006507      1        37\n2012-11-06 15:11:09.006507      1        36\n&gt;&gt;&gt; a1.combine_first(a2)\n                            X  Y\nDateTime                                   \n2012-11-06 16:00:11.477563      8        80\n2012-11-06 16:00:11.477563      8        63\n2012-11-06 15:11:09.006507      1        37\n2012-11-06 15:11:09.006507      1        36\n&gt;&gt;&gt; a2.combine_first(a1)\n                            X  Y\nDateTime                                    \n2012-11-06 16:00:11.477563      8        80\n2012-11-06 16:00:11.477563      8        63\n2012-11-06 15:11:09.006507      1        37\n2012-11-06 15:11:09.006507      1        36\n</code></pre>\n\n<p>I can reproduce, so I'm happy to take suggestions. Guesses as to what's going on are most welcome.</p>\n"},{"tags":["python","keyboard-events","sendkeys","virtual-keyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13289777,"title":"How can I send keyboard commands (hold,release,simultanous) with a python script?","body":"<p>I want to send virtually the command like this:</p>\n\n<pre><code>when keypress==\"a\"                   #if entered key is \"a\"\n    send {ALT+TAB}                   # send ALT and TAB simultaneously\n    sleep(2)                         #wait for 2 sec\n    send {\"I love my Country\",0.1}   #send all strings at 0.1 sec wait\n    key_down(\"BACKSPACE\",1)          #hold down backspace key for 1 sec\n    send{ALT+F4}                     #send ALT and F4 simultaneously\n</code></pre>\n\n<p>For all, or a particular application, also opengl games as well.</p>\n\n<p>I tried SendKeys.py but there is no simultaneously input function and no key_down method for sending holding down a key command. All advice will be greatly appreciated.</p>\n"},{"tags":["python","nltk","text-mining"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13269543,"title":"Why am I getting error? ValueError: chunk structures must contain tagged tokens or trees","body":"<p>I've been tinkering with NLTK with the aim of extracting entities from some news articles, but I keep getting an error, ValueError: chunk structures must contain tagged tokens or trees. </p>\n\n<p>Can anyone help me?</p>\n\n<pre><code>import lxml.html\nimport nltk, re, pprint \n\n\n\ndef ie_preprocess(document):\n    \"\"\"This function takes raw text and chops and then connects the process to break     \n       it down into sentences, then words and then complete part-of-speech tagging\"\"\"\n    sentences = nltk.sent_tokenize(document)\n    sentences = [nltk.word_tokenize(sent) for sent in sentences]\n    sentences = [nltk.pos_tag(sent) for sent in sentences]\n    return sentences\n\n\n    #import story\n    base_url = \"http://www.thisisstaffordshire.co.uk/Yobs-pelt-999-crews-bottles-fireworks-Shelton/story-17256383-detail/story.html\"\n    page = lxml.html.parse(base_url)\n    story = page.xpath('//*[@id=\"story\"]/div[2]/div[1]')\n    raw_text = story[0].text_content()\n    #tokenize\n    output = ie_preprocess(raw_text)\n    print output\n    #chunk\n    grammar = r'''\n       NP: \n       {&lt;DT&gt;&lt;NN.*&gt;&lt;.*&gt;*&lt;NN.*&gt;} \n       '''\n    cp = nltk.RegexpParser(grammar)\n\n    chunked = cp.parse(output)\n\n    print chunked\n</code></pre>\n\n<p>UPDATE: Here's the error message in full.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"geo_locator.py\", line 30, in &lt;module&gt;\n    chunked = cp.parse(output)\n  File \"/Users/davidelks/pythontests/venv/lib/python2.7/site-packages/nltk/chunk/regexp.py\", line 1183, in parse\n    chunk_struct = parser.parse(chunk_struct, trace=trace)\n  File \"/Users/davidelks/pythontests/venv/lib/python2.7/site-packages/nltk/chunk/regexp.py\", line 999, in parse\n     chunkstr = ChunkString(chunk_struct)\n  File \"/Users/davidelks/pythontests/venv/lib/python2.7/site-packages/nltk/chunk/regexp.py\", line 93, in __init__\ntags = [self._tag(tok) for tok in self._pieces]\n  File \"/Users/davidelks/pythontests/venv/lib/python2.7/site-packages/nltk/chunk/regexp.py\", line 103, in _tag\n    raise ValueError('chunk structures must contain tagged '\nValueError: chunk structures must contain tagged tokens or trees\n</code></pre>\n"},{"tags":["c++","python","c"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13286819,"title":"Debug C programs in Python c_types","body":"<p>I have developed a library using C++ and C; and the library is working fine with my C++ test program; but it gave me a segmentation fault when the library is used in Python using <strong>c_types.</strong></p>\n\n<p>Also, <strong>my library works fine under 64 bit OS when I use c_types or C++ test program</strong>, it crashes when I switched to 32 bit OS. And my C++ test program works fine on 32 bit OS.</p>\n\n<p>This is very weird.</p>\n\n<p>Anyone knows how to debug the <strong>Python</strong> and <strong>c_types library</strong> together? </p>\n\n<p>Or do you have any suggestion?</p>\n"},{"tags":["python","list","append"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13289409,"title":"Appending a list of lists in python","body":"<p>I have a list of lists. I want to add the elements of an array to one of the sublists, but the one I add it to depends on the length of the array.</p>\n\n<pre><code>import numpy as np\nimport numpy.linalg\nfrom numpy import matrix\nfrom scipy.linalg import inv,det,eig\nimport random\nimport matplotlib.pyplot as plt\nimport pylab\nfrom numpy import vstack\nfrom scipy.optimize import curve_fit\nfrom array import array\nimport copy\n\ndef getstabmat(orign, small, specsize, alln):\n    #FIRST MAKE THE MATRIX\n    matfound=0\n    while (matfound==0):\n        n=orign\n        A=np.empty((n,n))\n        I=np.ones((n))\n        for i in range(0,n):\n            for j in range(i+1,n):\n                A[j,i]=random.random()\n        for i in range(0,n):\n            for j in range(i+1,n):\n                    A[i,j] = A[j,i]\n        for i in range(n):\n            A[i,i]=1\n        #NOW REMOVE NEGATIVE ELEMENTS AND KEEP SOLVING\n        allpos=0\n        while (allpos !=1): #loop for dealing just with getting it positive\n            x = numpy.linalg.solve(A,I)\n            if any(tl&lt;small for tl in x): #if any of the solutions in x are negative or small\n                p=np.where(x==min(x)) # find the most negative solution, p is the position\n                x=np.delete(x, p, 0)\n                A=np.delete(A, p, 0)\n                A=np.delete(A, p, 1)\n                I=np.delete(I, p, 0)\n                n=n-1\n            else:\n                allpos=1\n        #now test for stability, only do it once and remove one element before returning to check positiveness.\n        J=np.empty((n,n)) # make empty jacobian\n        for i in range (0,n):\n            for j in range (0,n):\n                if (i==j): # if we are looking at the diagonal of the matrix, there is a special formula for species dealing with itself\n                    tsum = 0\n                    for k in range (0,n): #for the summation part\n                        tsum = tsum + A[i][k]*x[k] # x is vector of fixed points obtained before\n                    J[i][j] = 1 - A[i][j]*x[i] - tsum\n                else:\n                    J[i][j] = -A[i][j]*x[i]\n                    #now jacobian at fixed point has been constructed\n        Jeig, Jvec =  eig(J) # get the eigenvalues and eigenvectors\n        #run through eigenvalues and find out if any of them are positive\n        if any(tl&gt;0 for tl in Jeig.real): #if any eigenvalues are positive\n            matfound=0\n        else:\n            if ((alln==0 and len(A)==specsize) or alln==1): # if the matrix found has five species\n                matfound=1\n            else:\n                matfound=0\n    return A, x\n\ndef main():\n\n    mats=3 #number of matrices to find\n    orign=15\n    alln=1 #if alln=1, that means that all sizes of stable matrix should be returned\n    n=5 # the number of different species wanted in each matrix\n    small=0.0001 #the fractional size that a species is when it is considered to be extinct\n    a=0\n    sortedspec=[[]]*10\n    specad=[]\n    while (a&lt;mats): #while all the mats have not been found\n        print a\n        A, specfp = getstabmat(orign, small, n, alln) #15 is the original size of matrix to pass to fnc.n is the size that will be returned\n        a=a+1\n        print specfp\n        print len(specfp)\n        for i in range (0,len(specfp)):\n            (sortedspec[len(specfp)]).append(specfp[i])\n    print sortedspec\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n\n<p>So if:</p>\n\n<pre><code>specfp = [ 0.78076862  0.79608003  0.50719552]\n</code></pre>\n\n<p>Then I want each element to be added to the list sortedspec[3]. However, I end up with each element of my array being added to EVERY list element. Why is it doing this and can I fix it? Thankyou.</p>\n"},{"tags":["python","numpy"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13289336,"title":"Slice numpy array with other array","body":"<p>I am trying to extract a subset of a a numpy array <code>y</code> specified by a set of indices contained in <code>x</code>, while still leaving some indices of <code>y</code> free. For a concrete example. Let <code>y</code> have shape <code>(10,10,10,3)</code> while <code>x</code> has shape <code>(7,7,3)</code>. The last dimension of <code>x</code> corresponds to indices info the first three dimensions of <code>y</code>. That is, I would like an efficient slicing operation with the same result as this:</p>\n\n<pre><code>for i in x.shape[0]:\n    for j in x.shape[1]:\n        z[i,j,:] = y[x[i,j,0],x[i,j,1],x[i,j,2],:]\n</code></pre>\n\n<p>Ideally the answer would work regardless of the number of dimensions of <code>x</code>.</p>\n\n<p>In general, <code>y</code> would be <code>N+1</code>-dimensional, with shape <code>(...,N)</code>, while <code>x</code> would be <code>Q+1</code>-dimensional with shape <code>(...,N)</code>, and the result would have the same shape as <code>x</code>.</p>\n\n<p>The motivation for this is extracting a subset of vectors from a vector field.</p>\n"},{"tags":["python","ctypes"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13275211,"title":"Python ctypes stack corruption","body":"<p>I'm having weird issues with ctypes where by it appears to be corrupting the stack by dereferencing a pointer when it shouldn't be. The setup is fairly complicated by stay with me for a second.</p>\n\n<p>I have a C function <code>qfsm_search</code> with wrapped signature like this:</p>\n\n<pre><code>qmotion.qfsm_search.argtypes = [\n    qfsm_ptr,\n    qfsm_node_t,\n    qskel_ptr,\n    vec3, c_int,\n    qfsm_node_ptr,\n    POINTER(c_int)]\nqmotion.qfsm_search.restype = None\n</code></pre>\n\n<p>I then output all of the details of the parameters and call it in python like this:</p>\n\n<pre><code>print(\"Fsm: %d | %X\" % (sizeof(fsm), addressof(fsm.contents)))\nprint(\"Curr: %d | %d %d %d\" % (sizeof(curr), curr.state, curr.anim, curr.frame))\nprint(\"Skel: %d | %X\" % (sizeof(skel), addressof(skel.contents)))\nprint(\"Tar: %f %f %f\" % (tar.x, tar.y, tar.z))\nprint(\"Limit: %i\" % limit)\nprint(\"Out: %X\" % addressof(out_nodes_p.contents))\nprint(\"Out Num: %X\" % addressof(out_num_p.contents))\n\nqmotion.qfsm_search(fsm, curr, skel, tar, limit, out_nodes_p, out_num_p)\n</code></pre>\n\n<p>This outputs the following on the python side. All appears to be fine so far.</p>\n\n<pre><code>Fsm: 8 | 13CF0960\nCurr: 12 | 0 0 89\nSkel: 8 | 49193E60\nTar: 100.000000 100.000000 100.000000\nLimit: 5\nOut: 39A4FD10\nOut Num: 2D623510\n</code></pre>\n\n<p>Then in C I have the function like this:</p>\n\n<pre><code>void qfsm_search(qfsm_t* fsm, qfsm_node_t curr, qskel_t* skel, vec3 tar, int max_out, qfsm_node_t* out, int* out_num) {\n\n  qdebug(\"Fsm: %d | %p\", (int)sizeof(fsm), fsm);\n  qdebug(\"Node: %d | %d %d %d\", (int)sizeof(curr), curr.state, curr.anim, curr.frame);\n  qdebug(\"Skel: %d | %p\", (int)sizeof(skel), skel);\n  qdebug(\"Tar: %f %f %f\", tar.x, tar.y, tar.z);\n  qdebug(\"Max: %d\", max_out);\n  qdebug(\"Out: %p\", out);\n  qdebug(\"Out Num: %p\", out_num);\n\n  ....\n</code></pre>\n\n<p>But this function outputs:</p>\n\n<pre><code>Fsm: 8 | 0000000013CF0960\nNode: 12 | 0 0 89\nSkel: 8 | 000000000D6281A8\nTar: 0.000000 0.000000 14144512.000000\nMax: 967112848\nOut: 000000000D628468\nOut Num: 0000000000000005\n</code></pre>\n\n<p>Notice how the value of the <code>skel</code> parameter has changed and the stack following after it is corrupt. The reason I believe that ctypes is dereferencing the <code>skel</code> parameter is that if I set <code>skel</code> to be a NULL pointer then I get a NULL pointer segfault before the C function is entered and any debugging information is printed.</p>\n\n<p>Does anyone have an idea of what might be going on? I suspected it may have been some weird issue with the type <code>qskel_ptr</code>, but this seems unlikely because of the behavior I explained when passing in NULL pointer.</p>\n\n<p>It is probably worth mentioning that I am running Windows 7 64-bit and Python 2.6.4. I have also managed to reproduce the behavior on Python 2.7.3</p>\n\n<p>Many Thanks</p>\n"},{"tags":["python","qt","overlay","fullscreen"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12334217,"title":"Python + Qt -> 2D overlay over other full screen app?","body":"<p><strong>Backgroud:</strong>\nI play Grand Strategy Games a lot. Part of addcition comes out of AARs (After Action Reports). Stories players write about games. Ofc. that require save games cause \"quick\" game is longer than 10 hours.</p>\n\n<p><strong>Problem:</strong>\nGame do not support automatic save games other than 3 autosaves that get overridden every time. So I want to write app that will use Qt for tracking file changes. Every time game auto saves, this app will rename and move to choosen location savegame.\n<strong>But since its full screen game, players may forgot to turn on my app I need way to indicate state of my app.</strong></p>\n\n<p><strong>Question:</strong>\nHow can I make 2D overlay over portion of full screen 3D app, given that I use Python and Qt?</p>\n\n<p><strong>Alternative</strong>\nI do not think that sound warnings would solve my problem, since it would work if someone forgotten to choose save game to track, but it would not work if someone completely forgot to turn on my app. While lack of icon would be enough to inform about such mistake.</p>\n\n<p>But if you can find any other way to indicate that my app is not turned on or configured, post your ideas in answers.</p>\n"},{"tags":["python","wxpython"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":306,"score":-1,"question_id":7808494,"title":"Which Python GUI IDE is the most widely used?","body":"<p>I am still kind of new to programming and after playing around with a lot of languages trying to find which one worked best for me I stumbled across python and have been doing really well with it.</p>\n\n<p>The only problem/concern I have is that I do not mainly want to do web development. I want to create desktop apps with nice GUis as well. Unlike most other programming languages that I have dabbled in python doesn't seem to have one definitive ide for this sort of thing which kind of sucks imo, especially since it's such a cool language.</p>\n\n<p>I've searched and found quite a few IDEs that include GUI designers with code editing as well but I can't decide which one to use. Of those I am interested in the following</p>\n\n<p>BlackAdder - <a href=\"http://www.thekompany.com/products/blackadder/\" rel=\"nofollow\">http://www.thekompany.com/products/blackadder/</a><br>\nPythoncard - <a href=\"http://pythoncard.sourceforge.net/\" rel=\"nofollow\">http://pythoncard.sourceforge.net/</a><br>\nBoa Constructor - <a href=\"http://boa-constructor.sourceforge.net/\" rel=\"nofollow\">http://boa-constructor.sourceforge.net/</a><br>\nSPE - <a href=\"http://pythonide.blogspot.com/\" rel=\"nofollow\">http://pythonide.blogspot.com/</a><BR>\nDabo (is it even an ide?) - <a href=\"http://dabodev.com/\" rel=\"nofollow\">http://dabodev.com/</a><BR>\nEric IDE - <a href=\"http://eric-ide.python-projects.org/index.html\" rel=\"nofollow\">http://eric-ide.python-projects.org/index.html</a><BR>\nXrope - <a href=\"http://xrope.sourceforge.net/\" rel=\"nofollow\">http://xrope.sourceforge.net/</a><br></p>\n\n<p>I am not looking for opinions on which one is the \"best\" or anyone's favorite. I want to know which one is the most widely used and which one I would be able to find the most documentation on and get the most user support from whether it be via forums, here, community, etc.. </p>\n\n<p>P.S. If anyone cares to post any links to some documentation/tutorials with their answer it would be greatly appreciated.</p>\n\n<p>P.P.S. Does anyone know if there are any plans for a larger company maybe thinking of creating a full fledged ide comparable to Delphi, Visual Studio for python in the foreseeable future? Would make things a lot easier IMO.</p>\n\n<p>Thanks..</p>\n"},{"tags":["python","pandas"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13289368,"title":"Linking source installed pandas to homebrew'd python","body":"<p>I am attempting to install the python package <code>pandas</code>.  </p>\n\n<p>All my existing python gear has been installed using home-brew / easy_install / pip, however pip and easy_install both fail on <code>pandas</code> -- claiming that i do not have numpy > 1.6 (though when in python <code>numpy.__version__</code> returns 1.6.2). </p>\n\n<p>Despite this <code>pip install numpy --upgrade</code> reports that I am up-to-date. </p>\n\n<p>To hack around this, I git-cloned the source code down, and ran <code>python setup.py install</code> in my <code>/Library/Python/...</code> directory.  It seemed to build okay, however when i import pandas, i get an error and i'm not sure what to do about it. </p>\n\n<p>Can anyone help me link the compiled library to my existing install? </p>\n\n<p>The error follows: </p>\n\n<pre><code>dlopen(/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so, 2): Symbol not found: _floatify\n  Referenced from: /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so\nExpected in: flat namespace\nin /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/__init__.py\", line 10, in &lt;module&gt;\nimport pandas.lib as lib\nImportError: dlopen(/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so, 2): Symbol not found: _floatify\nReferenced from: /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so\nExpected in: flat namespace\nin /usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pandas-0.9.1.dev_5a152bd-py2.7-macosx-10.7-x86_64.egg/pandas/lib.so\n</code></pre>\n"},{"tags":["python","printing","subprocess","popen"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13289291,"title":"Python: subprocess.communicate(): ValueError with print() function but not \"print\" builtin","body":"<p>I'm trying to run a C program from Python with the subprocess module, capturing its output in a variable. the code looks like this:</p>\n\n<pre><code>process = Popen([\"myprog\", str(length), filename], stdout=PIPE, stderr=PIPE)\n#wait for the process\nresult = process.communicate()\nend=time()\nprint result\n</code></pre>\n\n<p>The above code works - <code>result</code> is shown as a 2-tuple of <code>myprog</code>'s stdout output and stderr output (as strings). </p>\n\n<p>... <em>however</em> if I change <code>print result</code> to <code>print(result)</code>...</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"tests.py\", line 26, in &lt;module&gt;\n    print(result)\nValueError: I/O operation on closed file\n</code></pre>\n\n<p>I'm completely stumped here, I don't even know where to start trying to explain this! Of course, my program works anyway, but I'd really like to know why that's happened, and hopefully it will be an interesting question.</p>\n"},{"tags":["python","django","django-models","django-forms"],"answer_count":3,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":7103,"score":11,"question_id":488036,"title":"Django: ModelMultipleChoiceField doesn't select initial choices","body":"<p>ModelMultipleChoiceField doesn't select initial choices and I can't make the following fix (link below) work in my example:</p>\n\n<p><a href=\"http://code.djangoproject.com/ticket/5247#comment:6\" rel=\"nofollow\">http://code.djangoproject.com/ticket/5247#comment:6</a></p>\n\n<p>My models and form:</p>\n\n<pre><code>class Company(models.Model):\n    company_name = models.CharField(max_length=200)\n\nclass Contact(models.Model):\n    company = models.ForeignKey(Company)\n    first_name = models.CharField(max_length=100)\n    last_name = models.CharField(max_length=100)\n\nclass Action(models.Model):\n    company = models.ForeignKey(Company, blank=True, null=True)\n    from_company = models.ManyToManyField(Contact, verbose_name='Participant(s) from \"Company\"', blank=True, null=True)\n\nclass Action_Form(ModelForm):\n    from_company = forms.ModelMultipleChoiceField(queryset=Contact.objects.none(), widget=forms.CheckboxSelectMultiple())\n    class Meta:\n        model = Action\n</code></pre>\n\n<p>What I do and the results:</p>\n\n<pre>\n>>> contacts_from_company = Contact.objects.filter(company__exact=1) # \"1\" for test, otherwise a variable\n>>> form = Action_Form(initial={'from_company': [o.pk for o in contacts_from_company]}) # as suggested in the fix\n>>> print form['from_company']\n&lt;ul&gt;\n&lt;/ul&gt;\n>>> print contacts_from_company\n[&lt;Contact: test person&gt;, &lt;Contact: another person&gt;]\n\n>>> form2 = Action_Form(initial={'from_company': contacts_from_company})\n>>> print form2['from_company']\n&lt;ul&gt;\n&lt;/ul&gt;\n\n>>> form3 = Action_Form(initial={'from_company': Contact.objects.all()})\n>>> print form3['from_company']\n&lt;ul&gt;\n&lt;/ul&gt;\n</pre>\n\n<p>The way I was hoping it would work:<br />\n1. My view gets \"company\" from request.GET<br />\n2. It then filters all \"contacts\" for that \"company\"<br />\n3. Finally, it creates a form and passes those \"contacts\" as \"initial={...}\"  </p>\n\n<p><strong>Two questions:</strong><br />\n<strong>1. [not answered yet]</strong> How can I make ModelMultipleChoiceField take those \"initial\" values?<br />\n<strong>2. [answered]</strong> As an alternative, can I pass a variable to Action_Form(ModelForm) so that in my ModelForm I could have:</p>\n\n<pre>\nfrom_company = forms.ModelMultipleChoiceField(queryset=Contact.objects.filter(company__exact=some_id) # where some_id comes from a view\n</pre>\n"},{"tags":["python","packaging","setup.py"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13288188,"title":"How to properly define package_data in setup.py?","body":"<p>I have this project:</p>\n\n<pre><code>.\n├── django_mysetup\n│   ├── __init__.py\n│   ├── template-basket\n│   │   └── apple\n│   │       ├── app_template\n│   │       │   ├── forms.py\n│   │       │   ├── __init__.py\n│   │       │   ├── models.py\n│   │       │   ├── tests.py\n│   │       │   └── views.py\n│   │       └── project_template\n│   │           ├── manage.py\n│   │           └── project_name\n│   │               ├── __init__.py\n│   │               ├── settings.py\n│   │               ├── urls.py\n│   │               └── wsgi.py\n│   └── templates\n│       ├── example_direct.html\n│       ├── example.html\n│       └── stylesheets\n│           ├── base.css\n│           ├── layout.css\n│           └── skeleton.css\n├── MANIFEST.in\n├── README.rst\n└── setup.py\n</code></pre>\n\n<p>This is the <strong>setup.py</strong> file:</p>\n\n<pre><code>from distutils.core import setup\n\nsetup(\n    name='Django_mysetup',\n    py_modules=['django_mysetup'],\n    entry_points={\n    'console_scripts': ['django_mysetup = django_mysetup:main', ],},\n    description='A Personalised Django startproject and startapp setup script.',\n    long_description=open('README.rst').read(),\n    packages=['django_mysetup'],\n    package_data={'django_mysetup': ['templates/*', 'templates/stylesheets/*',\n      'template-basket/apple/app_template/*', \n      'template-basket/apple/project_template/*', \n      'template-basket/apple/project_template/project_name/*',\n      'template-basket/apple/project_template/manage.py'\n      ]}\n)\n</code></pre>\n\n<p><strong>MANIFEST.in</strong></p>\n\n<pre><code>include README.rst\nrecursive-include template-basket *\nrecursive-include templates *\n</code></pre>\n\n<p>When I do <code>python setup.py sdist</code> and <code>pip install</code> the tar.gz file to my virtualenv I get this: <code>error: can't copy 'Django-mysetup/templates/stylesheets': doesn't exist or not a regular file</code></p>\n\n<p>So the problem is in <code>package_data</code>. <strong>How do I adjust my <code>setup.py</code> script so the <code>template-basket</code> and <code>templates</code> dirs with all their contents are installed in my virtual environment</strong>? (preferably in a way where I don't need to write every single file in those dirs, just the top dir names)</p>\n"},{"tags":["python","osx","wxpython","virtualenv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13249880,"title":"Why are Python builds suddenly not Framework builds when using virtualenv?","body":"<p>I've installed Python 2.7 as a Framework build on my Mac. I've installed and confirmed that wxPython works with this Python build. But when I create a virtual environment with virtualenv, the resulting Python executable isn't a Framework build, or at least not according to wxPython:</p>\n\n<pre>This program needs access to the screen.\nPlease run with a Framework build of python, and only when you are\nlogged in on the main display of your Mac.</pre>\n\n<p>Any ideas?</p>\n"},{"tags":["python","python-2.7","pexpect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13271686,"title":"How do I get timestamps in logfile of pexpect","body":"<p>I am using <strong>pexpect</strong> to handle my telnet and ssh communication.\nI am also writing all request/response in a <strong>logfile</strong>. using <code>pexpect.logfile(filename)</code>.</p>\n\n<p>I would like to have <strong>timestamps</strong> in the logfile as well.\nI can not find it anywhere in the documentation! Does anyone have any idea how to implement this functionality?</p>\n"},{"tags":["python","sockets","apache-kafka"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13287935,"title":"how can i force socket opened with python to close?","body":"<p>i am currently using this lib to stress test a kafka server that i have set up: <a href=\"https://github.com/dsully/pykafka\" rel=\"nofollow\">https://github.com/dsully/pykafka</a></p>\n\n<pre><code>import kafka\nimport time\n\ndef test_kafka_server(n=1):\n    for i in range(0,n):\n        producer = kafka.producer.Producer('test',host='10.137.8.192')\n        message = kafka.message.Message(str(time.time()))\n        producer.send(message)\n        producer.disconnect()\n\ndef main():\n    test_kafka_server(100000)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>what just ends up happening is that i end up overloading my own local machine</p>\n\n<p>i get <strong>error 10055</strong>, which according to google means that <em>\"Windows has run out of TCP/IP socket buffers because too many connections are open at once.\"</em>  according to netstat, producer.disconnect() is not closing the socket, but rather putting it in a <code>TIME_WAIT</code> state</p>\n\n<p>the ipython debugger points to this line:</p>\n\n<pre><code>C:\\Python27\\lib\\socket.pyc in meth(name, self, *args)\n    222     proto = property(lambda self: self._sock.proto, doc=\"the socket protocol\")\n    223 \n--&gt; 224 def meth(name,self,*args):\n    225     return getattr(self._sock,name)(*args)\n    226 \n</code></pre>\n\n<p>as the culprit, but this then seems to get into messing with things at a lower level than i am comfortable with. </p>\n\n<p>i had searched and found this <a href=\"http://stackoverflow.com/questions/5040491/python-socket-doesnt-close-connection-properly\">Python socket doesn&#39;t close connection properly</a> which recommended doing </p>\n\n<pre><code>setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n</code></pre>\n\n<p>so, i rebuilt the pykafka lib using that option in the io.py file:</p>\n\n<pre><code>  def connect(self):\n    \"\"\" Connect to the Kafka server. \"\"\"\n    global socket\n    self.socket = socket.socket()\n    self.socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    self.socket.connect((self.host, self.port))\n</code></pre>\n\n<p>and i still get the same error</p>\n\n<p>am i not putting the setsockopt line in the right spot?  is there anything else i could be trying?</p>\n"},{"tags":["python","django","pil"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13285248,"title":"Scale Django ImageField before saving to disk","body":"<p>I would like to scale an ImageField before the model gets saved to the disk, but somehow get an unreadable image out. The goal is to scale it without ever saving it to the disk.</p>\n\n<p>This is my attempt so far:</p>\n\n<pre><code>IMAGE_MAX_SIZE = 800, 800\nclass Picture(models.Model):\n    ...\n    image = models.ImageField(upload_to='images/%Y/%m/%d/')\n\n    # img is a InMemoryUploadedFile, received from a post upload\n    # removing the scale function results in a readable image\n    def set_image(self, img):\n        self.image = img\n        self.__scale_image()\n\n    def __scale_image(self):\n        img = Image.open(StringIO(self.image.read()))\n        img.thumbnail(IMAGE_MAX_SIZE, Image.ANTIALIAS)\n        imageString = StringIO()\n        img.save(imageString, img.format)\n        self.image.file = InMemoryUploadedFile(imageString, None, self.image.name, self.image.file.content_type, imageString.len, None)\n</code></pre>\n\n<p>I'm not getting an error, but the resulting image can not be displayed correctly. Any ideas how to correct this?</p>\n\n<p>Thanks\nSimon</p>\n"},{"tags":["python","numpy","port","macports"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13288889,"title":"Installing numpy using port (Python default version issue)","body":"<p>I'm using Mountain Lion now and I've installed python27 and numpy using macports. The problem is that I cannot import numpy from the python. As far as I know, the default python of Mountain Lion is python 2.7.</p>\n\n<p>I've tried \"import numpy\" with both of two python (default - 2.7.2 and port - 2.7.3).\nIt worked with default one but not with python 2.7.3.</p>\n\n<p>I've already selected 2.7.3 using \"port select\".</p>\n\n<p>These are the result of some port commands:</p>\n\n<pre><code>$ port installed|grep python\npython24 @2.4.6_10 (active)\npython27 @2.7.3_0\npython27 @2.7.3_1 (active)\npython_select @0.3_1 (active)\n\n$ port installed|grep numpy\npy24-numpy @1.6.2_0 (active)\npy27-numpy @1.6.2_0 (active)\n</code></pre>\n\n<p>I really need to use numpy with python 2.7.3 which is installed using macports.</p>\n\n<p>Does anyone know about this?</p>\n"},{"tags":["python","console","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13288185,"title":"Performance effect of using print statements in Python script","body":"<p>I have a Python script that process a huge text file (with around 4 millon lines) and writes the data into two separate files.</p>\n\n<p>I have added a print statement, which outputs a string for every line for debugging. I want to know how bad it could be from the performance perspective?</p>\n\n<p>If it is going to very bad, I can remove the debugging line.</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13287384,"title":"adding drop down list to django","body":"<p>I have a HTML template for the drop down list: </p>\n\n<pre><code>&lt;select name=\"quality\"&gt;\n    {% for quality in qs %}\n        {% ifequal qu.id sel.id %}\n            &lt;option value=\"{{sele.key}}\" selected=\"selected\"&gt;Movie {{qu.id}}: {{quality.name}}&lt;/option&gt;\n        {% else %}\n            &lt;option value=\"{{sele.keyy}}\"&gt;Movie {{qu.id}}: {{quality.name}}&lt;/option&gt;\n        {% endifequal %}\n    {% endfor %}\n&lt;/select&gt;\n</code></pre>\n\n<p>How can i implement this in my models and views, or how can i write models and views for the drop down list ...</p>\n"},{"tags":["python","pywin32"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":30,"score":4,"question_id":13287028,"title":"Send to printer a text over an image in python","body":"<p>Using python, wxpython and sqlite in a windows system. I'm trying to print some certificates/diplomas/cards with an image in the background and the name of person/text over it.</p>\n\n<p>I know the basic steps to print the text using win32print from Pywin32 but:</p>\n\n<ol>\n<li><p>I dont know how to add an image and set it to background.</p>\n\n<pre><code>while .....\n\n    .....\n\n    # Query sqlite rows and collumn name and set the self.text for each certificate\n\n    .....\n\n    # Now send to printer\n\n    DC = win32ui.CreateDC()\n    DC.CreatePrinterDC(win32print.GetDefaultPrinter())\n\n    DC.SetMapMode(win32con.MM_TWIPS)\n\n    DC.StartDoc(\"Certificates Job\")\n\n    DC.StartPage()\n\n    ux = 1000\n    uy = -1000\n    lx = 5500\n    ly = -55000\n\n    DC.DrawText(self.text, (ux, uy, lx, ly),win32con.DT_LEFT)\n\n    DC.EndPage()\n    DC.EndDoc()\n</code></pre>\n\n<p>This printer-code is inside a while loop calling each people name from a sqlite database per check condition.</p></li>\n<li><p>All the names of database was printed at same page. How do I command the printer to spit out 1 page per name from the database?</p></li>\n<li><p>A simpler approach or module to deal with printers (paper and/or pdf) will be welcome.</p></li>\n</ol>\n"},{"tags":["python","arrays","numpy","null","average"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13288202,"title":"Average arrays with Null values","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13281904/avarage-of-a-number-of-arrays-with-numpy-without-considering-zero-values\">avarage of a number of arrays with numpy without considering zero values</a>  </p>\n</blockquote>\n\n\n\n<p>I am working on numpy and I have a number of arrays with the same size and shape. They are 500*500. It has some Null values. I want to have an array that is result of one by one element average of my original arrays. For example:</p>\n\n<pre><code>A=[ 1 Null 8 Null; Null 4 6 1]\nB=[ 8 5 8 Null; 5 9 5 3]\n</code></pre>\n\n<p>the resulting array should be like:</p>\n\n<pre><code>C=[ 4.5 5 8 Null; 5 6.5 5.5 2]\n</code></pre>\n\n<p>How can I do that?</p>\n"},{"tags":["python","arrays","numpy"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13288294,"title":"numpy array multiplication issue","body":"<p>Suppose I have three arrays (that is, of type <code>numpy.array</code>):</p>\n\n<pre><code>&gt;&gt;&gt; w.shape\n(113,)\n&gt;&gt;&gt; X.shape\n(113,1)\n&gt;&gt;&gt; Y.shape\n(113,)\n</code></pre>\n\n<p>The numpy help pages suggest that on arrays every multiplication is element-wise. Since all above three vectors are of size 113 in the first dimension, I thought multiplication would in all cases give a 113 length vector, but it doesn't:</p>\n\n<pre><code>&gt;&gt;&gt; (w * Y).shape     # expected\n(113,)\n&gt;&gt;&gt; (w * X).shape     # ?!?!?!?!\n(113,113)\n</code></pre>\n\n<p>Where does the 113 on the second axis come from? Doesn't look so element-wise to me.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13285377,"title":"accessing variables from top level package","body":"<p>I have the following structure -</p>\n\n<pre><code>invoize/\n    __init__.py\n    globals.py\n    view/\n       __init__.py\n       tags.py\n</code></pre>\n\n<p>globals.py contains a variable called app.</p>\n\n<ol>\n<li>I would like to access that variable from tags.py.</li>\n<li>I would like modify it so that its state gets reflected globally ( not just a local reference).</li>\n</ol>\n\n<p>How do I access the variable <em>app</em> from tags.py to achieve the above ?</p>\n\n<p>Thanks,\nMurtaza </p>\n"},{"tags":["python","xml","database","hadoop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13287069,"title":"How to save data from hadoop to database using python","body":"<p>I am using hadoop to process an xml file,so i had written mapper file , reducer file in python.</p>\n\n<p>suppose the input need to process is <strong>test.xml</strong></p>\n\n<pre><code>&lt;report&gt;\n &lt;report-name name=\"ALL_TIME_KEYWORDS_PERFORMANCE_REPORT\"/&gt;\n &lt;date-range date=\"All Time\"/&gt;\n &lt;table&gt;\n  &lt;columns&gt;\n   &lt;column name=\"campaignID\" display=\"Campaign ID\"/&gt;\n   &lt;column name=\"adGroupID\" display=\"Ad group ID\"/&gt;\n  &lt;/columns&gt;\n  &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\"/&gt;\n  &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\"/&gt;\n &lt;/table&gt;\n&lt;/report&gt;\n</code></pre>\n\n<p><strong>mapper.py</strong> file</p>\n\n<pre><code>import sys\nimport cStringIO\nimport xml.etree.ElementTree as xml\n\nif __name__ == '__main__':\n    buff = None\n    intext = False\n    for line in sys.stdin:\n        line = line.strip()\n        if line.find(\"&lt;row\") != -1:\n        .............\n        .............\n        .............\n        print '%s\\t%s'%(campaignID,adGroupID )\n</code></pre>\n\n<p><strong>reducer.py</strong> file</p>\n\n<pre><code>import sys\nif __name__ == '__main__':\n    for line in sys.stdin:\n        print line.strip()\n</code></pre>\n\n<p>I had run the hadoop with following command</p>\n\n<pre><code>bin/hadoop jar contrib/streaming/hadoop-streaming-1.0.4.jar \n- file /path/to/mapper.py file -mapper /path/to/mapper.py file \n-file /path/to/reducer.py file -reducer /path/to/reducer.py file \n-input /path/to/input_file/test.xml \n-output /path/to/output_folder/to/store/file\n</code></pre>\n\n<p>When i run the above command hadoop is creating an output file at output path in the format we mentioned in <code>reducer.py</code> file correctly with required data</p>\n\n<p>Now after all what i am trying to do is, i dont want to store output data in a text file created as default by haddop when i run above command, instead i want to save the data in to a <code>MYSQL</code> database</p>\n\n<p>so i had written some python code in <code>reducer.py</code> file that writes the data directly to <code>MYSQL</code> database , and tried to run the above command by removing the output path as below </p>\n\n<pre><code>bin/hadoop jar contrib/streaming/hadoop-streaming-1.0.4.jar \n- file /path/to/mapper.py file -mapper /path/to/mapper.py file \n-file /path/to/reducer.py file -reducer /path/to/reducer.py file \n-input /path/to/input_file/test.xml \n</code></pre>\n\n<p>And i am getting the error something like below</p>\n\n<pre><code>12/11/08 15:20:49 ERROR streaming.StreamJob: Missing required option: output\nUsage: $HADOOP_HOME/bin/hadoop jar \\\n          $HADOOP_HOME/hadoop-streaming.jar [options]\nOptions:\n  -input    &lt;path&gt;     DFS input file(s) for the Map step\n  -output   &lt;path&gt;     DFS output directory for the Reduce step\n  -mapper   &lt;cmd|JavaClassName&gt;      The streaming command to run\n  -combiner &lt;cmd|JavaClassName&gt; The streaming command to run\n  -reducer  &lt;cmd|JavaClassName&gt;      The streaming command to run\n  -file     &lt;file&gt;     File/dir to be shipped in the Job jar file\n  -inputformat TextInputFormat(default)|SequenceFileAsTextInputFormat|JavaClassName Optional.\n  -outputformat TextOutputFormat(default)|JavaClassName  Optional.\n   .........................\n   .........................\n</code></pre>\n\n<ol>\n<li>After all my doubt is how to save the data in <code>Database</code> after processing the files ?</li>\n<li>In which file(mapper.py/reducer.py ? ) can we write the code that writes the data in to database</li>\n<li>which command is used to run hadoop for saving data in to database, becuase when i removed the output folder path in the hadoop command, it is showing an error.</li>\n</ol>\n\n<p>Can anyone please help me to solve the above problem.............</p>\n"},{"tags":["python","subprocess"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":39,"score":4,"question_id":13288300,"title":"Python subprocess, usage of the shell argument","body":"<p>Looking at <a href=\"http://docs.python.org/2/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow\">http://docs.python.org/2/library/subprocess.html#frequently-used-arguments</a> I made the assumption that unless you use <code>shell=True</code>, there is no ability to use <code>rm</code>,<code>cp</code>,<code>mv</code> etc.  Maybe the documentation is out-of-date as they are feeding the call method with a string, where it should be a list.  But using <code>shell=False</code> certainly doesn't prevent the usage of said shell commands. </p>\n\n<blockquote>\n  <p>shell=False disables all shell based features</p>\n</blockquote>\n\n<p>After looking at subprocess.py, I can see that all that argument does is add <code>[\"/bin/sh\", \"-c\"]</code> to the start of the argument string.</p>\n\n<p>Can someone clarify this for me?</p>\n"},{"tags":["python","lambda","closures"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":13288334,"title":"Close variable in lambda function","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2295290/what-do-lambda-function-closures-capture-in-python\">What do (lambda) function closures capture in Python?</a>  </p>\n</blockquote>\n\n\n\n<p>I have this python code that puts several lambda functions in a dictionary:</p>\n\n<pre><code>dictfun = dict()\nfor txt in (\"a\", \"b\", \"c\"):\n    dictfun[txt] = lambda: \"function \" + txt\n</code></pre>\n\n<p>Those functions just return a string with the arguments they are called with.<br>\nI expected to see an output like <code>function a</code> for <code>dictfun[\"a\"]()</code>, <code>function b</code> for <code>dictfun[\"b\"]()</code> and so on, but this is what I get:</p>\n\n<pre><code>&gt;&gt;&gt; dictfun[\"a\"]()\n'function c'\n&gt;&gt;&gt; dictfun[\"b\"]()\n'function c'\n&gt;&gt;&gt; dictfun[\"c\"]()\n'function c'\n</code></pre>\n\n<p>It appears that they all evaluate <code>txt</code> to the last value it was set, i.e. its current value. In a word, the variable isn't closed into the lambdas. I can even do this:</p>\n\n<pre><code>&gt;&gt;&gt; txt = \"a\"\n&gt;&gt;&gt; dictfun[\"c\"]()\n'function a'\n</code></pre>\n\n<p>How could I close <code>txt</code> into the lambda functions in order to get my expected outputs?</p>\n"},{"tags":["python","openmp","libsvm","scikit-learn"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13273738,"title":"scikit-learn OpenMP libsvm","body":"<p>I am using scikit-learn SVC to classify some data. I would like to increase the training performance.</p>\n\n<blockquote>\n  <p>clf = svm.SVC(cache_size=4000, probability=True, verbose=True)</p>\n</blockquote>\n\n<p>Since sckikit-learn interfaces with libsvm and libsvm uses OpenMp I was hoping that:</p>\n\n<blockquote>\n  <p>export OMP_NUM_THREADS=16</p>\n</blockquote>\n\n<p>would run on multiple cores.\nUnfortunately this did not help.</p>\n\n<p>Any Ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","function","nonetype"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13288250,"title":"How to exceute def command without showing None","body":"<p>I'm trying to make a function run another function and then ask for input.\nThe thing is that when i use the print option it returns \"None\" after exectuing the def, but when i use the return option it just prints the print_board(board) and finishes the function, meaning, without asking for the inputs.</p>\n\n<p>how can i execute a command without showing \"<code>None</code>\" and without finishing the function?</p>\n\n<pre><code>def main():\n     print print_board(board)\n     x = int(raw_input(\"Enter row \"))\n     y = int(raw_input(\"Enter column \"))\n     z = int(raw_input(\"Enter digit \"))\n     return is_valid_move(x,y,z)\n</code></pre>\n"},{"tags":["python","pdf","fonts","colors","dpi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13287546,"title":"PDF 'advanced' information extraction","body":"<p>I'm trying to write what more or less accounts for a PDF soft proof.</p>\n\n<p>There are a few infos that I would like to extract, but have no clue how to.</p>\n\n<p>What I need to extract:</p>\n\n<pre><code>Bleed:                    I got this somewhat working with pyPdf, given\n                          that the document uses 72 dpi, which sadly isn't\n                          always the case. I need to be able to calculate\n                          the bleed in millimeters.\n\nPrint resolution (dpi):   If I read the PDF spec[1] correctly this ought to\n                          always be 72 dpi, unless a page has UserUnit set,\n                          which was only introduced in PDF-1.6, but shouldn't\n                          print documents always be at least 300 dpi? I'm\n                          afraid that I misunderstood something…\n\n                          I'd also need the print resolution for images, if\n                          they can differ from the default page resolution,\n                          that is.\n\nText color:               I don't have the slightest clue on how to extract\n                          this, the string 'text colour' only shows up once\n                          in the whole spec, without any explanation how it\n                          is set.\n\nImage colormodel:         If I understand it correctly I can read this out\n                          in pyPdf with page['/Group']['/CS'] which can be:\n                           - /DeviceRGB\n                           - /DeviceCMY\n                           - /DeviceCMYK\n                           - /DeviceGray\n                           - /DeviceRGBK\n                           - /DeviceN\n\nFont 'embeddedness':      I read in another post on stackoverflow that I\n                          can just iterate over the font resources and if a\n                          resource has a '/FontFile'-key that means that\n                          the font is embedded. Is this correct?\n</code></pre>\n\n<p>If other libs than pyPdf are better able to extract this info (or a combination\nof them) they are more than welcome. So far I fumbled around with pyPdf, pdfrw\nand pdfminer. All of which don't exactly have the most extensive documentation.</p>\n\n<p>[1] <a href=\"http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow\">http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf</a></p>\n"},{"tags":["python","gui","glade"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":12,"score":3,"question_id":13288106,"title":"python popup window while bash script running","body":"<p>I made a simple PyGTK - Glade GUI for an application. I made the button, and the on_button_click calls a bash script.\nI would like to show a popup window while the bash script is running, and hide it after it is done. I made the window called runningWindow in Glade and wrote the following code:</p>\n\n<pre><code>def on_button1_clicked(self,widget):\n   self.glade.get_object(\"runningWindow\").show()\n   os.system('bash run.sh')\n   self.glade.get_object(\"runningWindow\").hide()\n</code></pre>\n\n<p>This code shows nothing while run.sh is running. If I remove the hide() line, the window is displayed correctly, but only AFTER the run.sh process has finished.</p>\n\n<p>The <strong>init</strong> function that starts the GUI:</p>\n\n<pre><code>def __init__(self):\n        self.gladefile = \"MyFile.glade\" \n        self.glade = gtk.Builder()\n        self.glade.add_from_file(self.gladefile)\n        self.glade.connect_signals(self)\n        self.glade.get_object(\"MainWindow\").show_all()\n</code></pre>\n\n<p>How can I display the window before the os.system is called?\nThank you for your help!</p>\n"},{"tags":["python","virtualenv","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13288013,"title":"Have MySQLdb installed, works outside of virtualenv but inside it doesn't exist. How to resolve?","body":"<p>I'm using the most recent versions of all software (Django, Python, virtualenv, MySQLdb) and I can't get this to work.  When I run \"import MySQLdb\" in the python prompt from outside of the virtualenv, it works, inside it says \"ImportError: No module named MySQLdb\".</p>\n\n<p>I'm trying to learn Python and Linux web development.  I know that it's easiest to use SQLLite, but I want to learn how to develop larger-scale applications comparable to what I can do in .NET.  I've read every blog post on Google and every post here on StackOverflow and they all suggest that I run \"sudo pip install mysql-python\" but it just says \"Requirement already satisfied: mysql-python in /usr/lib/pymodules/python2.7\"</p>\n\n<p>Any help would be appreciated!  I'm stuck over here and don't want to throw in the towel and just go back to doing this on Microsoft technologies because I can't even get a basic dev environment up and running.</p>\n"},{"tags":["python","chaining"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13287887,"title":"Using None as parameter to keyword argument","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12265695/python-returning-a-default-value\">python - returning a default value</a>  </p>\n</blockquote>\n\n\n\n<p>I have a function in a class:</p>\n\n<pre><code>def foo(self, value = None):\n    if value is None:\n        return self.value\n    self.value = value\n    return self\n</code></pre>\n\n<p>This is a getter and setter combined into one, with the advantage that I can chain functions like this:</p>\n\n<pre><code>three = anInstanceOfMyClass.foo(3).bar().foo()\n</code></pre>\n\n<p>The problem appears when I do like this:</p>\n\n<pre><code>shouldBeNoneButIsThree = anInstanceOfMyClass.foo(3).foo(None).foo()\n</code></pre>\n\n<p>Here foo thinks that I did not pass an argument.\nI can avoid this by:</p>\n\n<ol>\n<li>Setting value to some strange object, like a random string</li>\n<li>Create an object instance in the constructor which value has as default value</li>\n</ol>\n\n<p>Both seem a bit too much work, what is an easier way?</p>\n\n<p>setting value to something</p>\n"},{"tags":["python","cython"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13287927,"title":"Templated STL containers as argument to function in cython","body":"<p>I have written a function in cython that will search a STL vector of strings for a given string and return true if it is found, false otherwise.  Performance is very important here! I would ideally like to have a templated function to do the same thing so I don't have to write a function for each data type.  I am sure this is possible but I don't know the cython syntax for templated functions.  (I know how to do it in c++)</p>\n\n<pre><code>from libcpp cimport bool\nfrom libcpp.string cimport string\nfrom libcpp.vector cimport vector\nfrom cython.operator cimport dereference as deref, preincrement as inc\n\ncpdef bool is_in_vector(string a, vector[string] v):\n    cdef vector[string].iterator it = v.begin()\n    while it != v.end():\n        if deref(it) == a:\n            return True\n        #Increment iterator\n        inc(it)\n    return False\n</code></pre>\n\n<p>Can anyone give me a hand?</p>\n"},{"tags":["python","loops","errors"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13287459,"title":"Python looping error checks","body":"<p>my program takes a mathematical input and checks it for errors before proceeding, here is the part of the code I need help with:</p>\n\n<pre><code>expression= introduction()#just asks user to input a math expression    \noperators= set(\"*/+-\")\nnumbers= set(\"0123456789\")\nfor i in expression:\n    while i not in numbers and i not in operators:\n        print(\"Please enter valid inputs, please try again.\")\n        expression= introduction()\n</code></pre>\n\n<p>Now I have set up an error loop but the problem I am having is that I don't know what to update the loop with in this scenario. Anyone?</p>\n\n<p>I need something simple. I need something close to the code that is posted in this OP. Something like:</p>\n\n<pre><code>expression= introduction()#just asks user to input a math expression    \noperators= set(\"*/+-\")\nnumbers= set(\"0123456789\")\nwhile True:\n    for i in expression:\n        if i not in numbers and i not in operators:\n            print(\"Please enter valid inputs, please try again.\")\n            expression= introduction()\n    else:\n        break\n</code></pre>\n\n<p>Note that this code doesn't work either. It loops for every single mistake that the user inputs for \"expression\".</p>\n\n<p>Things such as what is below are too advanced and I cannot use them:</p>\n\n<pre><code>valid = operators | numbers\nwhile True:\n    expression = introduction()\n    if set(expression) - valid:\n        print 'not a valid expression, try again'\n    else: \n        break\n</code></pre>\n\n<hr>\n\n<pre><code>import string\n\nexpression = introduction()    \noperators = {'*', '/', '+', '-'}\nnumbers = set(string.digits)\nwhile any(char not in numbers and char not in operators for char in expression):\n    print(\"Please enter valid inputs, please try again.\")\n    expression = introduction()\n</code></pre>\n"},{"tags":["python","yaml"],"answer_count":6,"favorite_count":0,"up_vote_count":17,"down_vote_count":0,"view_count":5590,"score":17,"question_id":528281,"title":"How can I include an yaml file inside another?","body":"<p>So I have two yaml files A and B and I want the contents of A to be inserted inside B, either spliced into the existing data structure (eg. an array), or as a child of an element, eg. the value for a certain hash key.</p>\n\n<p>Is this possible at all? How? If not, any pointers to a normative reference?</p>\n"},{"tags":["python","matplotlib","gtk","lgpl","commercial"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":70,"score":4,"question_id":13286468,"title":"Python libraries in a commercial application","body":"<p>What are my obligations if I create a project in Python and use a number of libraries, unmodified in a simple (import library) manner including:</p>\n\n<ul>\n<li>GTK - LGPL license</li>\n<li>Numpy - BSD license</li>\n<li>MatplotLib - Python Software Foundation License</li>\n</ul>\n\n<p>Then compile/package using py2exe or similar and sell to customers.</p>\n\n<p>My confusion is particularly in relation to section 4 of the LGPL, does this count as a combined works.  If so do I have to release the entire source code to the customers, or just provide the source of the libraries that have been used. Does this approach constitute a suitable linking mechanism, I would like the installation process to be simple and not require the installation of python and associated libraries.</p>\n"},{"tags":["python","xlrd","xlwt","xlutils"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13287021,"title":"Python copying an entire workbook with XLRD, XLWT and XLUTILS","body":"<p>I simply want to copy an entire workbook. There is information to be added later which I am having no trouble finding how to add the information to single cells etc... Yet I have not found a way to copy an entire sheet. Perhaps I'm overcomplicating this but any input is appreciated. Thanks!</p>\n"},{"tags":["python","phantomjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13287490,"title":"Is there a way to use PhantomJS in Python?","body":"<p>I want to use <strong>PhantomJS</strong> in <strong>Python</strong>. I googled this problem but couldn't find proper solutions.</p>\n\n<p>I find <strong>os.popen()</strong>  may be a good choice. But I couldn't pass some arguments to it.</p>\n\n<p>Is there a way to use PhantomJS in Python?</p>\n"},{"tags":["python","django","django-models","django-admin","django-templates"],"answer_count":5,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1397,"score":8,"question_id":9919780,"title":"How do I add a link from the Django admin page of one object to the admin page of a related object?","body":"<p>To deal with the <a href=\"http://stackoverflow.com/questions/3681258/nested-inlines-in-the-django-admin\">lack of nested inlines</a> in django-admin, I've put special cases into two of the templates to create links between the admin change pages and inline admins of two models.</p>\n\n<p><strong>My question is: how do I create a link from the admin change page or inline admin of one model to the admin change page or inline admin of a related model cleanly, without nasty hacks in the template?</strong></p>\n\n<p>I would like a general solution that I can apply to the admin change page or inline admin of any model.</p>\n\n<hr>\n\n<p>I have one model, <code>post</code> (not its real name) that is both an inline on the <code>blog</code> admin page, and also has its own admin page. The reason it can't just be inline is that it has models with foreign keys to it that only make sense when edited with it, and it only makes sense when edited with <code>blog</code>.</p>\n\n<p>For the <code>post</code> admin page, I changed part of \"fieldset.html\" from:</p>\n\n<pre><code>{% if field.is_readonly %}\n    &lt;p&gt;{{ field.contents }}&lt;/p&gt;\n{% else %}\n    {{ field.field }}\n{% endif %}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{% if field.is_readonly %}\n    &lt;p&gt;{{ field.contents }}&lt;/p&gt;\n{% else %}\n    {% ifequal field.field.name \"blog\" %}\n        &lt;p&gt;{{ field.field.form.instance.blog_link|safe }}&lt;/p&gt;\n    {% else %}\n        {{ field.field }}\n    {% endifequal %}\n{% endif %}\n</code></pre>\n\n<p>to create a link to the <code>blog</code> admin page, where <code>blog_link</code> is a method on the model:</p>\n\n<pre><code>def blog_link(self):\n      return '&lt;a href=\"%s\"&gt;%s&lt;/a&gt;' % (reverse(\"admin:myblog_blog_change\",  \n                                        args=(self.blog.id,)), escape(self.blog))\n</code></pre>\n\n<p>I couldn't find the <code>id</code> of the <code>blog</code> instance anywhere outside <code>field.field.form.instance</code>.</p>\n\n<p>On the <code>blog</code> admin page, where <code>post</code> is inline, I modified part of \"stacked.html\" from:</p>\n\n<pre><code>&lt;h3&gt;&lt;b&gt;{{ inline_admin_formset.opts.verbose_name|title }}:&lt;/b&gt;&amp;nbsp;\n&lt;span class=\"inline_label\"&gt;{% if inline_admin_form.original %}\n    {{ inline_admin_form.original }}\n{% else %}#{{ forloop.counter }}{% endif %}&lt;/span&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;h3&gt;&lt;b&gt;{{ inline_admin_formset.opts.verbose_name|title }}:&lt;/b&gt;&amp;nbsp;\n&lt;span class=\"inline_label\"&gt;{% if inline_admin_form.original %}\n    {% ifequal inline_admin_formset.opts.verbose_name \"post\" %}\n    &lt;a href=\"/admin/myblog/post/{{ inline_admin_form.pk_field.field.value }}/\"&gt;\n            {{ inline_admin_form.original }}&lt;/a&gt;\n{% else %}{{ inline_admin_form.original }}{% endifequal %}\n{% else %}#{{ forloop.counter }}{% endif %}&lt;/span&gt;\n</code></pre>\n\n<p>to create a link to the <code>post</code> admin page since here I was able to find the <code>id</code> stored in the foreign key field.</p>\n\n<hr>\n\n<p><strong>I'm sure there is a better, more general way to do add links to admin forms without repeating myself; what is it?</strong></p>\n"},{"tags":["python","push-notification"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13286855,"title":"Server-Client push notification with Python","body":"<p>I'm building an client application, which connect to a server and wait for signal from server to do something (think about chat app).</p>\n\n<p>I know about Websocket and Long-polling, but can't find a server which is self-hosted and easy to test. Initially I want to make a proof-of-concept first before dive in later.</p>\n\n<p>Nginx push stream seems to fit my need, I can create a channel, and notify all client connect to that channel, seem good enough to use, but I can't find any Python client implement</p>\n\n<p>AutoBahn and some other Python server seem only create one channel and broadcast.</p>\n\n<p>Can someone give me a correct direction. </p>\n"},{"tags":["python","list","numpy","split"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":227,"score":2,"question_id":9922395,"title":"python numpy split array into unequal subarrays","body":"<p>I am trying to split an array into n parts. Sometimes these parts are of the same size, sometimes they are of a different size.</p>\n\n<p>I am trying to use:</p>\n\n<pre><code>split = np.split(list, size)\n</code></pre>\n\n<p>This works fine when size divides equally into the list, but fails otherwise. Is there a way to do this which will 'pad' the final array with the extra 'few' elements?</p>\n"},{"tags":["python","cherrypy"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":7414477,"title":"How to serve file with cherrypy and delete the file from server?","body":"<p>I need to create a file on the server, serve it to the client, and I would prefer to delete the file from the server afterwards.</p>\n\n<p>Here's what I'm currently trying:</p>\n\n<pre><code>def myaction():\n    fs = facts.generatefacts(int(low),int(high),int(amount),op)\n    filename = 'test.txt'\n    FILE = open(filename,'w')\n    FILE.writelines('my\\nstuff\\nhere')\n    FILE.close()\n    RETURN_FILE = open(filename,'r')\n    return serve_fileobj(RETURN_FILE,disposition='attachment',\n                         content_type='.txt',name=filename)\n\nmyaction.exposed = True\n</code></pre>\n\n<p>There are several things about this that I don't like. I wouldn't think that I would have to open the file twice, for example. I would expect that there is a way to write content directly to the response object, without ever creating a file object, but that isn't my question today.</p>\n\n<p>The above code accomplishes what I want, but leaves a file behind. If I delete the file before returning the response, then (of course) the file isn't found.</p>\n\n<p>Is there a way to remove this file as soon as it has been served?</p>\n\n<p>I'm coming from the Java world, so I'm a bit disoriented, and any other suggestions to improve the above are appreciated.</p>\n"},{"tags":["python","datetime","timezone","python-datetime"],"answer_count":4,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2568,"score":7,"question_id":4563272,"title":"How to convert a python utc datetime to a local datetime using only python standard library?","body":"<p>I have a python datetime instance that was created using datetime.utcnow() and persisted in database.</p>\n\n<p>For display, I would like to convert the datetime instance reloaded from database to local datetime using the default local timezone (e.g. as if the datetime was create using datetime.now())</p>\n\n<p>How can I convert the utc datetime to a local datetime using only python standard library (e.g. no pytz dependency)?</p>\n\n<p>It seems one solution would be to use datetime.astimezone( tz ), but how would do you get the default local timezone?</p>\n"},{"tags":["python","django","exception","logging"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13284890,"title":"Python/Django: automatically log when exceptions occur, including request info","body":"<p>I have created a function log_error(request, traceback), which I call in my exceptions. This writes error information to the database. Now, before I open up every one of my views and add this in an exception handler, is there a way to automatically have all exceptions raise to a function, which then calls this?</p>\n\n<p>I have seen this <a href=\"http://stackoverflow.com/questions/4941543/python-error-logging\">Python error logging</a>, which says to write your own version of sys.excepthook. This function is automatically called when there is an exception. I tried this, but my_excepthook was not called even though I copy-pasted the solution into views.py and raised an error. However, I didn't try too hard because it's not getting all the information that I need, anyway.  I also need request so I can log information abut the user, url, etc. </p>\n\n<p>Maybe that's asking too much? </p>\n\n<p>(I'm using Django, but this does not seem like a Django-specific thing) Edit: yes, it is.</p>\n"},{"tags":["python","mysql","django","sqlalchemy","django-orm"],"answer_count":9,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":247,"score":4,"question_id":2110238,"title":"Merging duplicates in a list? - Question is more complex than it seems","body":"<p>So I have a huge list of entries in a DB (<strong>MySql</strong>)</p>\n\n<p>I'm using <strong>Python</strong> and <strong>Django</strong> in the creation of my web application.</p>\n\n<p>This is the base Django model I'm using:</p>\n\n<pre><code>class DJ(models.Model):\n    alias = models.CharField(max_length=255)\n    #other fields...\n</code></pre>\n\n<p><strong>In my DB I have</strong> now <strong>duplicates</strong></p>\n\n<blockquote>\n  <p>eg. <em>Above &amp; Beyond</em>, <em>Above and Beyond</em>, <em>Above Beyond</em>, <em>DJ Above and Beyond</em>, \n         <em>Disk Jokey Above and Beyond</em>, ...</p>\n</blockquote>\n\n<p>This is a problem... as it blows a big hole in my DB and therefore my application.</p>\n\n<hr>\n\n<p>I'm sure other people have encountered this problem and thought about it.</p>\n\n<p>My ideas are the following:</p>\n\n<ul>\n<li><p>Create a set of rules so a new entry cannot be created?</p>\n\n<blockquote>\n  <p>eg. <strong>\"DJ Above and Beyond\"</strong> cannot be\n  created because <strong>\"Above &amp; Beyond\"</strong> is in\n  the DB</p>\n</blockquote></li>\n<li><p>Relate these aliases to each other somehow?</p>\n\n<blockquote>\n  <p>eg. relate <strong>\"DJ Above and Beyond\"</strong> to <strong>\"Above &amp; Beyond\"</strong></p>\n</blockquote></li>\n</ul>\n\n<hr>\n\n<p>I have literally no clue how to go on about this, even if someone could point me into a direction that would be very helpful.</p>\n\n<p>Any help would be very much appreciated! Thank you guys.</p>\n"},{"tags":["c++","python","facebook","google","technologies"],"answer_count":7,"favorite_count":3,"up_vote_count":8,"down_vote_count":1,"view_count":2545,"score":7,"question_id":4591994,"title":"What front-end and back-end technologies do Google and Facebook use?","body":"<p>What technologies do Google and Facebook use for their back-end and front-end?</p>\n\n<p>What are their database technologies, and languages they use to process the back-end data.</p>\n"},{"tags":["python","unit-testing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":179,"score":0,"question_id":3045657,"title":"unittest in python: ignore an import from the code I want to test","body":"<p>I have a python program that imports pythoncom (and uses pythoncom.CoCreateInstance from it). I want to create a unittest for the program logic without it importing pythoncom (so I can run the test on Linux as well).</p>\n\n<p>What options are there? Can I do it without modifying the system under test?</p>\n\n<p>What I found so far:</p>\n\n<pre><code>sys.modules[\"pythoncom\"] = \"test\"\nimport module_that_imports_pythoncom\n</code></pre>\n\n<p>My problem with it is if I have:</p>\n\n<pre><code>from pythoncom.something import something\n</code></pre>\n\n<p>I'll get:</p>\n\n<pre><code>ImportError: No module named something.something\n</code></pre>\n\n<p>And <code>sys.modules[\"something.something\"]</code> or <code>sys.modules[\"pythoncom.something.something\"]</code> doesn't work.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1698,"score":3,"question_id":1398022,"title":"looping over all member variables of a class in python","body":"<p>How do you get a list of all variables in a class thats iteratable? Kind of like locals(), but for a class</p>\n\n<pre><code>class Example(object):\n    bool143 = True\n    bool2 = True\n    blah = False\n    foo = True\n    foobar2000 = False\n\n    def as_list(self)\n       ret = []\n       for field in XXX:\n           if getattr(self, field):\n               ret.append(field)\n       return \",\".join(ret)\n</code></pre>\n\n<p>this should return</p>\n\n<pre><code>&gt;&gt;&gt; e = Example()\n&gt;&gt;&gt; e.as_list()\nbool143, bool2, foo\n</code></pre>\n"},{"tags":["python","django","memcached"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":40,"score":-4,"question_id":13282395,"title":"Why am I getting this exception, \"MemcacheCache object has no attribute '_cull'\"?","body":"<p>OK, here is the story; I have a model here:</p>\n\n<pre><code>from django.db import models\nimport task_writer\n\n# Create your models here.\nclass category(models.Model):\n    category = models.CharField(max_length=30)\n    def __unicode__(self):\n        return category\n\nclass task(models.Model):\n    task = models.CharField(max_length=30)\n    category = models.ForeignKey(category)\n    def __unicode__(self):\n        return task\n</code></pre>\n\n<p>And the views:</p>\n\n<pre><code># Create your views here.\nfrom django.shortcuts import render_to_response\nfrom task_writer.models import category;\nfrom task_writer.form.inputcatform import input_cat_form;\nfrom django.template.context import RequestContext\nfrom django.http import HttpResponseRedirect, HttpResponse\nfrom task_writer.form.inputtaskform import inputtaskform\nfrom django.db import transaction\n\ndef view_all_cat(resp):\n    data = category.objects.all();\n    return render_to_response(\"viewcat.html\",{\"data\":data})\n\ndef input_new_cat(r):\n    form = input_cat_form()\n    variables = RequestContext(r, {\n                                                 'form': form,\n                                                 })\n    return render_to_response(\"input_new_cat.html\",variables)\n\ndef create_new_cat(r):\n    form = input_cat_form(r.POST)\n\n    if form.is_valid():\n        category.objects.create(category=form.cleaned_data['cat'])\n        return HttpResponseRedirect(\"/inputcat?message=success\")\n    else:\n        return   HttpResponseRedirect(\"/inputcat?message=fail\")\n\ndef blank(r):\n    return HttpResponse(\"\")\n\ndef create_new_task(r):\n\n\n    q = inputtaskform() \n    variables = RequestContext(r, {\n                                                 'form': q,\n                                                 })\n    return render_to_response(\"input_new_task.html\",variables)\n</code></pre>\n\n<p>I am so surprised that my data which i input in input category is not appearing in the task,\nand I figure it out that my problem is in cache \nWhy is this? In java I can make it so easy, why is Python hard?</p>\n\n<p>After that I installed that both and in result I got this on my webpage:</p>\n\n<pre><code>Request Method:     GET\nRequest URL:    http://localhost:8000/create_new_task/\nDjango Version:     1.4.2\nException Type:     AttributeError\nException Value:    \n\n'MemcachedCache' object has no attribute '_cull'\n\nException Location:     /home/shining/workspace/django1/src/task_writer/form/inputtasktool.py in clearcache, line 30\nPython Executable:  /usr/bin/python2.7\nPython Version:     2.7.3\nPython Path:    \n\n['/home/shining/workspace/django1/src',\n '/home/shining/workspace/django1/src',\n '/usr/lib/python2.7',\n '/usr/lib/python2.7/plat-linux2',\n '/usr/lib/python2.7/lib-tk',\n '/usr/lib/python2.7/lib-old',\n '/usr/lib/python2.7/lib-dynload',\n '/usr/local/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages/PIL',\n '/usr/lib/python2.7/dist-packages/gst-0.10',\n '/usr/lib/python2.7/dist-packages/gtk-2.0',\n '/usr/lib/python2.7/dist-packages/ubuntu-sso-client',\n '/usr/lib/python2.7/dist-packages/ubuntuone-client',\n '/usr/lib/python2.7/dist-packages/ubuntuone-control-panel',\n '/usr/lib/python2.7/dist-packages/ubuntuone-couch',\n '/usr/lib/python2.7/dist-packages/ubuntuone-storage-protocol',\n '/usr/local/lib/python2.7/dist-packages/johnny']\n\nServer time:    Wed, 7 Nov 2012 22:12:24 -0600\n</code></pre>\n"},{"tags":["python","calculator","operation","operand"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":13283451,"title":"How to find the operand and the operation in a string","body":"<p>So I was trying to figure out how to detect the number of operands and operations in a mathematical expression</p>\n\n<p>Ex: <code>1+2*9/2</code></p>\n\n<p>I was trying to separate the operands and the operations into their own form using functions because we have to check how many operations must be done and in the correct order (PEDMAS) as well. </p>\n\n<p>I've taken the equation and taken out all the spaces already, now i have to find the number of operands and operations in the equation and then later use return to find the answer of the given mathematical expression by the user. </p>\n\n<p>Any tips? </p>\n"},{"tags":["python","floating-point","range"],"answer_count":14,"favorite_count":9,"up_vote_count":68,"down_vote_count":1,"view_count":44335,"score":67,"question_id":477486,"title":"Python decimal range() step value","body":"<p>Is there a way to step between 0 and 1 by 0.1? </p>\n\n<p>I thought I could do it like the following, but it failed:</p>\n\n<pre><code>for i in range(0, 1, 0.1):\n    print i\n</code></pre>\n\n<p>Instead, it says that the step argument cannot be zero, which it's not.</p>\n"},{"tags":["python","recursion","iterator","generator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13225625,"title":"Building a generator from a recursive algorithm","body":"<p>I have a recursive method that I'm using to walk over a red black tree, and store various node information (in the list <code>storage</code>). </p>\n\n<pre><code>def _walk (self, storage, func, starting_node) :\n    if starting_node is not self._nil :\n        self._walk(storage, func, starting_node.left)\n        storage.append(func(starting_node))\n        self._walk(storage, func, starting_node.right)\n</code></pre>\n\n<p>However, I'd like to re-implement this method so that it builds a generator (from what I understand this should save both time and memory). What's the \"best\" way of doing that?</p>\n"},{"tags":["python","linux","sockets","reverse-dns"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13275291,"title":"avoid RDNS lookup for an HTTP request","body":"<p>I try to set up an HTTP connection using python, using the following code. I do the DNS resolving myself because I cannot change things like the <code>hosts</code> and <code>resolv.conf</code> files on the machines in question.</p>\n\n<pre><code>class resolver(object):\n    def __init__(self, server):\n        self.server = server\n    def __call__(self, host):\n        res = check_output('host %s %s' % (host, self.server), shell = True)\n        ips = findall('has address (\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})', res)\n        return choice(ips)\n\nclass http_connection(httplib.HTTPConnection):\n    dns_server = '8.8.8.8'\n    def connect(self):\n        resolv = resolver(http_connection.dns_server)\n        self.sock = socket.create_connection((resolv(self.host), self.port), self.timeout)\n...\nx = http_connection('%s:%d' % (args.host, args.port))\nx.request('GET','/start/')\nrep = x.getresponse()\nprint rep.read()\n</code></pre>\n\n<p>Everything works, I get an IP from DNS, the socket gets created (with an ip-port pair, not a hostname) and I do get an answer. The only thing is, it takes a long time, up to 5-6 seconds. After debugging I found out that for some reason a reverse DNS lookup for the resolved IP happens, which times out. I verified this was the problem by reproducing it on another machine, after adding an entry to /etc/hosts everything worked as fast as I'd expect. Also, for what it's worth: using curl or wget also resulted in the RDNS.</p>\n\n<p>I see two options to get around this but can't find out how to actually implement them:</p>\n\n<ol>\n<li>Ideally, I do want a reverse-lookup to match the default behaviour\nas much as possible, so is there a way to force this lookup to go to\nthe dns_server I provide myself (which is not in resolv.conf).</li>\n<li>If that is not possible, can I disable this RDNS somewhere? I can go\nup to the setsockopt level.</li>\n</ol>\n"},{"tags":["python","windows","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13263275,"title":"Having trouble compiling pysqlite on windows","body":"<p>Good day.</p>\n\n<p>I am having trouble compiling pysqlite on windows. I have managed to start compiling with quite a bit of work but now I am stuck with this error:</p>\n\n<blockquote>\n  <p>d:/mingw/bin/../lib/gcc/mingw32/4.7.2/../../../../mingw32/bin/ld.exe: cannot find -lsqlite3</p>\n</blockquote>\n\n<p>I have searched for possible solutions but most of the solutions are for linux.</p>\n\n<p>Please help.</p>\n\n<p>Thank you.</p>\n"},{"tags":["python","winapi","map","hadoop","reduce"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":433,"score":2,"question_id":6585885,"title":"Alternatives to Hadoop / Map-reduce framework for win32 platform","body":"<p>I'm finding Hadoop on Windows somewhat frustrating: I want to know if there are any serious alternatives to Hadoop for Win32 users. The features I most value are:</p>\n\n<ul>\n<li>Ease of initial setup &amp; deployment on a smallish network (I'd be astonished if we ever got more than 20 worker-PCs assigned to this project)</li>\n<li>Ease of management - the ideal framework should have web/GUI based administration system so that I do not have to write one myself.</li>\n<li>Something popular &amp; stable. Bonuses depend on us getting this project delivered in time.</li>\n</ul>\n\n<p><strong>BACKGROUND:</strong></p>\n\n<p>The company I work for wants to build a new grid system to run some financial calculations. </p>\n\n<p>The first framework I have been evaluating is Hadoop. This seemed to do exactly what was intended except that it's very UNIX oriented. I was able to get all of the tutorials up &amp; running on an Ubuntu VirtualBox. Unfortunately nothing seems to run easily on Win32.</p>\n\n<p>Yes... Win32: Our company has a policy that everything has to run on Windows. None of the server admins (or anybody outside of select few developers) know anything about Linux. I'd probably get in trouble if they found my virtual Ubuntu environment! The sad fact is that our grid needs to be hosted on Win32 (since all the test PCs run Windows XP 32bit), with an option to upgrade to Win64 at sometime in the future.</p>\n\n<p>To complicate matters - 95% of what we want to run are Python scripts with C++ Windows 32bit DLL add ons. Our calculation library is overwhelmingly written in Python. Our calculation libraries will not run on anything other than Windows... I do not really have a choice </p>\n"},{"tags":["python","arrays","list","max"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":13227578,"title":"python max of list of arrays","body":"<p>I have a list of arrays like:</p>\n\n<pre><code>a = [array([6,2]),array([8,3]),array([4,2])]\n</code></pre>\n\n<p>I tried <code>max(a)</code> which returns the following error:</p>\n\n<pre><code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>I want it to return either a list or array like:</p>\n\n<pre><code>In: max(a)\nOut: [8,3]\n</code></pre>\n\n<p>I don't want to convert the inner arrays to list, because the size of the list is very big. Also I purposefully created like that to perform array operations.</p>\n"},{"tags":["python","django","email","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13285976,"title":"Python/Django: Email template is not rendered. Shows html tags and doesn't convert entities","body":"<p>I am sending emails using a template, but the template is not being properly rendered. It shows the html tags and doesn't render special chars.  </p>\n\n<p>It does render the context, for example if I supply it with a \"username\":some_name then it will properly display the username when I do {{username}}</p>\n\n<p>my_template.html:</p>\n\n<pre><code>&lt;p&gt;hello &amp;oslash;&lt;/p&gt;\n</code></pre>\n\n<p>In views:</p>\n\n<pre><code>from django.core.mail import EmailMultiAlternatives\nfrom django.template.loader import get_template\nfrom django.template import Context\n\nt = get_template('my_template.html')\nmsg = EmailMultiAlternatives(\"hi\", t.render(Context({})), from_email, [user.email])\nmsg.send()\n</code></pre>\n\n<p>The received email shows up with the p tags displayed. Also, the entity appears exactly as written in the template. I'd be fine just using a .txt file except that I need the special chars to be rendered. If I write them directly in the txt file, I get an error when trying to send it.</p>\n\n<p>I have also tried using django's send_mail(). Also adding an html tag to the template. Same result. </p>\n"},{"tags":["python","mysql"],"answer_count":6,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":5466,"score":0,"question_id":3578147,"title":"MySQL error: 2013, \"Lost connection to MySQL server at 'reading initial communication packet', system error: 0\"","body":"<p>I'm having an issue connecting to my local MySQL database using Python's MySQLdb library. The script has been working well previously, but I will occasionally get the MySQL error in the title. There seems to be no explanation for when the error occurs, and the script is always run from the same machine with the same arguments. </p>\n\n<p>The MySQL server is running as a service on Windows XP SP3 using port 3306 (locally hosted phpMyAdmin works), and the script is run from an Ubuntu 10.04 guest operating system in Oracle VM VirtualBox.</p>\n\n<p>I am currently working around this issue by opening a command prompt and executing 'net stop MySQL' then 'net start MySQL'. This allows me to run the script a few times again before resulting in the error, which I've been fixing by restarting the MySQL service.</p>\n\n<p>As I am still making changes to the script, there are occasions when the script raises an exception and doesn't exit gracefully, though I do catch the exception and close the cursor and connection.</p>\n\n<p>The code to connect to the database:</p>\n\n<pre><code>def __init__(self):\n  try:\n    print \"Connecting to the MySQL database...\"\n    self.conn = MySQLdb.connect( host = \"192.168.56.1\",\n                                 user = \"guestos\",\n                                 passwd = \"guestpw\",\n                                 db = \"testdb\")\n    self.cursor = self.conn.cursor(MySQLdb.cursors.DictCursor)\n    print \"MySQL Connection OK\"\n  except MySQLdb.Error, e:\n    print \"MySQLdb error %d: %s\" % (e.args[0],e.args[1])\n    raise\n</code></pre>\n\n<p>The full error generated when this happens is as follows:</p>\n\n<pre><code>MySQLdb error 2013: Lost connection to MySQL server at 'reading initial communication packet', system error: 0\nTraceback (most recent call last):\n  File \"search.py\", line 45, in &lt;module&gt;\n    dataHandler = DataHandler()\n  File \"/home/guestos_user/workspace/Search/src/data_handler.py\", line 25, in __init__\n    db = \"testdb\")\n  File \"/usr/lib/pymodules/python2.6/MySQLdb/__init__.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"/usr/lib/pymodules/python2.6/MySQLdb/connections.py\", line 170, in __init__\n    super(Connection, self).__init__(*args, **kwargs2)\n_mysql_exceptions.OperationalError: (2013, \"Lost connection to MySQL server at 'reading initial communication packet', system error: 0\")\n</code></pre>\n"},{"tags":["python","unit-testing","testing","command-line-arguments","py.test"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13275738,"title":"Can't get pytest to understand command-line arguments on setups","body":"<p>So I have been trying to get pytest to run selenium tests on different environments based on some command-line argument. But it keeps throwing this error:</p>\n\n<pre><code>TypeError: setup_class() takes exactly 2 arguments (1 given)\n</code></pre>\n\n<p>It seems that it is understanding that <code>setup_class</code> takes 2 arguments, but <code>host</code> is not being passed. Here's the code for <code>setup_class</code>:</p>\n\n<pre><code>def setup_class(cls, host):\n        cls.host = host\n</code></pre>\n\n<p>And here is the conftest.py file:</p>\n\n<pre><code>def pytest_addoption(parser):\n    parser.addoption(\"--host\", action=\"store\", default='local',\n        help=\"specify the host to run tests with. local|stage\")\n\n@pytest.fixture(scope='class')\ndef host(request):\n    return request.config.option.host\n</code></pre>\n\n<p>What is strange is that <code>host</code> is being seen by the functions (so if I make a test_function and pass host as a parameter, it gets it just fine), it is just the <code>setup</code> fixtures that are not working. </p>\n\n<p>I looked around and found this, <a href=\"http://stackoverflow.com/questions/11358437/pytest-use-funcargs-inside-setup-module\">pytest - use funcargs inside setup_module</a> but that doesn't seem to be working (and it is outdated since 2.3. </p>\n\n<p>Does anyone know what I'm doing wrong? Using py.test 2.3.2. </p>\n\n<p>Thanks</p>\n"},{"tags":["python","scrapy","crawl","grab"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13286049,"title":"Get page (nested) level scrapy on each page(url, request) in spider","body":"<p>Subj.I want to get page (nested) level in scrapy on each page(url, request) in spider, is there any way to do that?</p>\n"},{"tags":["python","algorithm","fractals","mandelbrot","color-palette"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":513,"score":3,"question_id":5901136,"title":"How to make a color progression out of a color palette","body":"<p>My goal with this algorithm I'm working on is to output a color progression out of some provided colors. By color progression I mean creating the \"fade\" effect between two colors (color A, color B) and store every color value ((R,G,B) tuple) in between. </p>\n\n<p>For example, if what is provided is total black <code>A = (0,0,0)</code> and total white <code>B = (255,255,255)</code> the progression resultant would be: </p>\n\n<p><code>P = ((0,0,0),(1,1,1),(2,2,2), .... ,(253,253,253),(254,254,254),(255,255,255)</code></p>\n\n<p>So that we get white at first and it progressively turns into black. It is, of course, very easy with white and black (just increase RGB by one each step for 255 times). But what if I want to do this procedure with two arbitrary colors, like A = (180,69,1) and B = (233,153,0)??</p>\n\n<p>IMPORTANT NOTE: If with hexadecimal (or any other kind of color notation) it would be easier to achieve, I could work with that too, just specify which type is (take into account that I'm working on PIL (Python Imaging Library), so if it's compatible with that I'm fine)</p>\n\n<p>Obviously it has to be an as even as possible distribution, the progression must be homogeneous.</p>\n\n<p>I need to figure out this algorithm so that I can use it in my Fractal Generator (Mandelbrot Set, google it if you want), so it is important for the progression to be as soft as possible, no hiccups. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","django","dns","dhcp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13285973,"title":"Python module for managing dns and dhcp","body":"<p>I'm writing an application in django that will be creating/destroying dns (bind) and dhcp (dhcpd) records on a RHEL server. I was wondering if there is a module/modules in python that allow me to do that without to need to worry about editing the config files myself?</p>\n\n<p>Thank you</p>\n"},{"tags":["python","web-applications","flask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13285814,"title":"Call a function when a session is destroyed","body":"<p>I want to bind the life of an object to the life of a session. The solution I have come up so far is to create a local dictionary (cache) and populate it with the objects that I need to. Then, when a session is expired, delete the corresponding objects.</p>\n\n<p>Unfortunately, I cannot store the objects directly in the session, because they are not pickle-able.</p>\n\n<p>How can I call a function when a session is destroyed? The session object is a dictionary with a few more attributes.</p>\n"},{"tags":["python","algorithm","list","unique"],"answer_count":7,"favorite_count":3,"up_vote_count":16,"down_vote_count":0,"view_count":1470,"score":16,"question_id":5278122,"title":"Checking if all elements in a list are unique","body":"<p>What is the best way (best as in the conventional way) of checking whether all elements in a list are unique?</p>\n\n<p>My current approach using a <code>Counter</code> is:</p>\n\n<pre><code>&gt;&gt;&gt; x = [1, 1, 1, 2, 3, 4, 5, 6, 2]\n&gt;&gt;&gt; counter = Counter(x)\n&gt;&gt;&gt; for values in counter.itervalues():\n        if values &gt; 1: \n            # do something\n</code></pre>\n\n<p>Can I do better? </p>\n"},{"tags":["python","opencv"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":613,"score":0,"question_id":8152504,"title":"Tracking two different colors using OpenCV 2.3 and Python","body":"<p>I'm looking for a way to track two different colors at the same time using a single camera with OpenCV 2.3 (python bindings). </p>\n\n<p>I've read through a number of papers regarding OpenCV but can't find any mention as to whether or not it's capable of analyzing multiple histograms at once. </p>\n\n<p>Is this is even technically possible or do I need a separate camera for each color?</p>\n"},{"tags":["python","django","satchmo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13285662,"title":"Get rid of default view in Satchmo / Django?","body":"<p>just curious what's the proper/transparent way to get plain 404 error instead of view for the pre-defined url ?</p>\n\n<p>The default install of Satchmo handles <code>/quickorder</code> url with a cart view. I would like to completely disable handling for this url. So far I did get is the following url replacement in <em>url.py</em> at the top of store tree:</p>\n\n<pre><code>from django.conf.urls.defaults import *\nfrom satchmo_store.urls import urlpatterns\nfrom satchmo_utils.urlhelper import replace_urlpattern\n\nreplace_urlpattern(\n        urlpatterns,\n        url(r'^quickorder/$', handler404)\n    )\n</code></pre>\n\n<p>The <code>handler404</code> is from django.conf.urls.defaults but it returns Django's own content instead of the shop's default 404 page like if you would ask for a non-existent page like <a href=\"http://www.google.com/quickorder_somenonsenseintheurl\" rel=\"nofollow\">http://www.google.com/quickorder_somenonsenseintheurl</a>.</p>\n\n<p>Any idea how to override this while avoiding modifications of default Satchmo installation ?</p>\n"},{"tags":["python","django"],"answer_count":4,"favorite_count":5,"up_vote_count":5,"down_vote_count":0,"view_count":1777,"score":5,"question_id":2300794,"title":"Listing installed python site-packages?","body":"<pre><code>from distutils.sysconfig import get_python_lib; print get_python_lib()\n</code></pre>\n\n<p>Returns: <code>/usr/lib/python2.6/site-packages</code></p>\n\n<pre><code>import sys; print sys.path\n</code></pre>\n\n<p>Returns: <code>['', '/usr/lib/python2.6/site-packages/Django-1.1.1-py2.6.egg', '/usr/lib/python2.6/site-packages/pip-0.6.3-py2.6.egg', '/usr/lib/python2.6/site-packages/TRML2PDF-1.0-py2.6.egg', '/usr/lib/python2.6/site-packages/django_threaded_multihost-1.3_3-py2.6.egg',...............</code></p>\n\n<p>But how to list the \"importable name\" from the site-packages installed? E.g: (before import results) <code>django, pip, trm2pdf....</code></p>\n\n<p>Thanks.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2818,"score":2,"question_id":3363281,"title":"AttributeError: 'module' object has no attribute (when using cPickle)","body":"<p>I am trying to load the function in a remote environment using cPickle. But I got the \nerror \"the 'module' object has no attribute ...\" . Where I really stuck is the namespace has\nalready contain that attributes , even though it fails to load \nPlease Help </p>\n\n<pre><code>import inspect\nimport cPickle as pickle\nfrom run import run\n\n\ndef get_source(func): \n sourcelines = inspect.getsourcelines(func)[0]\n sourcelines[0] = sourcelines[0].lstrip()\n return \"\".join(sourcelines)\n\ndef fun(f):\n return f()\n\ndef fun1():\n return 10 \n\nfuncs = (fun, fun1) \n\nsources = [get_source(func) for func in funcs]\n\nfuncs_serialized = pickle.dumps((fun.func_name,sources),0)\n\nargs_serialized = pickle.dumps(fun1,0) \n\n#Creating the Environment where fun &amp; fun1 doesnot exist \ndel globals()['fun']\ndel globals()['fun1']\n\nr = run() \n\nr.work(funcs_serialized,args_serialized) \n</code></pre>\n\n<p>Here is run.py</p>\n\n<pre><code>import cPickle as pickle\n\nclass run():\n def __init__(self):\n  pass\n\n def work(self,funcs_serialized,args_serialized):\n\n  func, fsources = pickle.loads(funcs_serialized)\n\n  fobjs = [compile(fsource, '&lt;string&gt;', 'exec') for fsource in fsources]\n\n    #After eval fun and fun1 should be there in globals/locals\n  for fobj in fobjs:\n   try: \n    eval(fobj)\n    globals().update(locals())\n   except:\n    pass\n\n  print \"Fun1 in Globals: \",globals()['fun1']   \n  print \"Fun1 in locals: \",locals()['fun1']   \n  arg = pickle.loads(args_serialized)\n</code></pre>\n\n<p>The error is </p>\n\n<pre><code>Fun1 in Globals:  &lt;function fun1 at 0xb7dae6f4&gt;\nFun1 in locals:  &lt;function fun1 at 0xb7dae6f4&gt;\nTraceback (most recent call last):\n  File \"fun.py\", line 32, in &lt;module&gt;\n    r.work(funcs_serialized,args_serialized) \n  File \"/home/guest/kathi/python/workspace/run.py\", line 23, in work\n    arg = pickle.loads(args_serialized)\nAttributeError: 'module' object has no attribute 'fun1'\n</code></pre>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13283779,"title":"How to change parent using relations in sqlalchemy?","body":"<p>Here is the simple example of relationship with backref and delete cascade.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class Parent(Base):\n    __tablename__ = 'parent'\n    id = Column(Integer, primary_key=True)\n\nclass Child(Base):\n    __tablename__ = 'child'\n    id = Column(Integer, primary_key=True)\n    parent_id = Column(Integer, ForeignKey('Parent.id'))\n    parent = relation(\n        'Parent',\n        backref=backref('children', cascade='delete, delete-orphan')\n    )\n</code></pre>\n\n<p>Need to reassign some children from one parent to another, then need to delete another parent, but sqlalchemy deletes children before parent removal...</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>p1 = Session.query(Parent).get(...)\np2 = Session.query(Parent).get(...)\n\np1.children.extend(p2.children)\nSession.delete(p2)\nSession.commit()\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>... [worker 0] UPDATE child SET parent_id=%(parent_id)s WHERE child.id = %(child_id)s\n...\n... [worker 0] DELETE FROM child WHERE child.id = %(id)s\n...\n... [worker 0] DELETE FROM parent WHERE parent.id = %(id)s\n...\n... [worker 0] COMMIT\n</code></pre>\n\n<p>Need to somehow detach children from another parent...</p>\n"},{"tags":["javascript","python","json","storage","offlineapps"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13284566,"title":"How to read and write JSON offline on local machine?","body":"<p><b>Problem</B></p>\n\n<p>I need a way to store and collect JSON data in an entirely offline(!) web application, hosted on a local (shared) machine. Several people will access the app but it will never actually be online.</p>\n\n<p>I'd like the app to:</p>\n\n<ul>\n<li>Read and write JSON data continuously and programmatically (i.e. not using a file-upload type schema)</li>\n<li>Preferably not require any software installation other than the browser, specifically I'd like not to use local server. (<b>edit</b>: I may be willing to learn a bit of Python if that helps)</li>\n<li>The amount of data I need to store is small so it is very much overkill to use some sort of database.</li>\n</ul>\n\n<p><b>Solution?</b></p>\n\n<p>My first thought was to let the html5 file API, just read/parse and write my JSON object to a local txt file, but this appears not to be possible?!</p>\n\n<p>Local storage is not applicable here right, when several people - each with their own browser - need to access the html?</p>\n\n<p>Any ideas?</p>\n\n<p><b>note</b></p>\n\n<p>I know this topic is not entirely novel, but I think my situation may be slightly different than in other threads. And I've spent the better part of the last couple hours googling this and I'm none the wiser..</p>\n"},{"tags":["python","windows-installer","pywinauto"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13283461,"title":"How to resolve this issue in Pywinauto to run .msi installer","body":"<p>If running through pywinauto giving error..    </p>\n\n<pre><code>from pywinauto.application import *\ncommands=command+'\\msiexec.exe /i \"....msi\"'\napp=Application.Start(commands)\n</code></pre>\n\n<p>error is raise AppStartError(message)\nAppStartError: Could not create the process </p>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13285032,"title":"using django Form subclass to create a dropdown list","body":"<p>I need to let a <code>user</code> create an Event which has a <code>Category</code>.When a user goes to the create_event page he is shown a <code>dropdown list</code> of <code>Category</code> instances.I need to make sure that only those <code>Category</code> s created by the <code>user</code> should be shown in the dropdown list</p>\n\n<p>I tried to subclass <code>Form</code> for this sothat I can use it as below in view and template.</p>\n\n<p>template for create_event:</p>\n\n<pre><code>&lt;h3&gt;select from existing categories&lt;/h3&gt;\n{{category_choices_form.as_p}}\n</code></pre>\n\n<p>view for create_event:</p>\n\n<pre><code>def create_event(request,..):\n    user_categories = Category.objects.filter(creator=request.user)\n    form_data = get_form_data(request)\n    category_choices_form = CategoryChoicesForm(request.user,form_data)# is this correct?\n    ...\n\ndef get_form_data(request):\n    return request.POST if request.method == 'POST' else None\n</code></pre>\n\n<p>Then I created the <code>Form</code> subclass</p>\n\n<pre><code>class CategoryChoicesForm(forms.Form):\n    def __init__(self, categorycreator,*args, **kwargs):\n        super(CategoryChoicesForm, self).__init__(*args, **kwargs)\n        self.creator=categorycreator\n    categoryoption = forms.ModelChoiceField(queryset=Category.objects.filter(creator=self.creator),required=False,label='Category')\n</code></pre>\n\n<p>However, the line starting <code>categoryoption =</code> causes error saying <code>name 'self' is not defined</code></p>\n\n<p>Can somebody help me with this?</p>\n"},{"tags":["python","mongodb","logging","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13012111,"title":"asynchronous logging with python and mongodb","body":"<p>I need to log specific activities of my web application (Python based - SQL alchemy with Postgres) and I don't want to either dump log information on my Postgres database (why fill it up with mostly rubbish?)  or use a log file (hard to search).</p>\n\n<p>Ideally I would like to throw everything in another database and do this in an asynchronous way. With the logging being asynchronous I don't need to worry about the write operation failing and breaking to code that does all the important business. Also, if I miss a few logging events, it is probably no big deal.</p>\n\n<p>Mongo seems like an excellent solution since it is well suited for writing operations and easy to setup.</p>\n\n<p>The problem is that I have not managed to find any python tools that cover my needs and in particular the asynchronous requirement.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["python","list","rounding"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":56,"score":1,"question_id":13285088,"title":"Having problems with python rounding numbers when I call a specific entity from an array","body":"<p>I have an array: </p>\n\n<pre><code>a = [0.313767818199811, 0.169656461527218, 0.934219696497667]\n</code></pre>\n\n<p>When I do</p>\n\n<pre><code>print a\n[0.313767818199811, 0.169656461527218, 0.934219696497667]\n\nprint a[0]\n0.3137678182\n</code></pre>\n\n<p>I need to preserve all the digits of each number in an array. I need <code>a[0]</code> to equal <code>0.313767818199811</code></p>\n\n<p>Whats the best way to tell python to preserve the digits?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13282546,"title":"When creating a model in Django why does the class inherit models.Model instead of just Model?","body":"<p>I am having trouble understanding inheritance in django models</p>\n\n<p>If I create a model in django:</p>\n\n<pre><code>from django.db import models\nclass Person(models.Model):\n    name = models.CharField(max_length=200)\n</code></pre>\n\n<p>Can't I just I write</p>\n\n<pre><code>class Person(Model):\n</code></pre>\n\n<p>Since I already imported models and I am trying to inherit Model. Is Model a subclass of models? Also can I write the below, since I have imported models already.</p>\n\n<pre><code>    name = CharField(max_length=200)\n</code></pre>\n"},{"tags":["python","oop","tkinter","subclassing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13282862,"title":"Subclassing Tkinter.Tcl","body":"<p>I would like to extend the behavior of Tkinter.Tcl. I tried subclassing it but it turns out Tcl is a factory function that returns an object. If Tcl were a class, I would simply:</p>\n\n<pre><code>from Tkinter import *\nclass TclPlus(Tcl): # &lt;- broken\n    def foo(self, *args, **kwargs):\n       print \"foo\"\n</code></pre>\n\n<p>I could sublcass Tk and my new class would have a Tcl factory function, but I'd be back where I started. Also, Tk includes all the windowing overhead and I don't need that.</p>\n\n<p>What's the best way to accomplish this?</p>\n\n<p>Edit: <a href=\"http://code.activestate.com/recipes/52295-automatic-delegation-as-an-alternative-to-inherita/\" rel=\"nofollow\">http://code.activestate.com/recipes/52295-automatic-delegation-as-an-alternative-to-inherita/</a> This appears to be exactly what I'm after. Comments?</p>\n"},{"tags":["python","networking","tcp","packets"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13273960,"title":"Is it possible to Inject packets into an existing tcp connection using Python?","body":"<p>As the title says, I would like to send data using an existing tcp connection. Said connection has already been established by a 3rd party program. I haven't been able to find much information about this, and it's safe to say I don't know how this will work at all.</p>\n\n<p>The operating system is Windows. My preferred programming language is python - I'd prefer not to use 3rd party python modules, but I will if they make my life easier.</p>\n\n<p>Just to clarify, in case you aren't sure what I want to do: I want to send data as if it were sent by a different program; pretty much like <a href=\"http://wpepro.net/index.php?categoryid=3\" rel=\"nofollow\">WPE pro</a>'s send function does.</p>\n\n<p>Update:</p>\n\n<p>Technically, couldn't I manually design the TCP packet and then tell the network device (or operating system) to send that packet? Wouldn't that be exactly the same thing an injected socket would do?</p>\n\n<p>Edit: Wikipedia says the receiving host acknowledges packets it receives, which makes this a bit more difficult. But if can drop that acknowledge-packet before the 3rd party program receives it, then this should work. Right?</p>\n"}]}
{"total":142318,"page":4,"pagesize":100,"questions":[{"tags":["python","security","eval"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":13066594,"title":"Is there a way to secure strings for Python's eval?","body":"<p>There are many questions on SO about using Python's eval on <strong>insecure strings</strong> (eg.: <a href=\"http://stackoverflow.com/questions/661084/security-of-pythons-eval-on-untrusted-strings\">Security of Python's eval() on untrusted strings?</a>, <a href=\"http://stackoverflow.com/questions/3513292/python-make-eval-safe\">Python: make eval safe</a> and <a href=\"http://stackoverflow.com/questions/661084/security-of-pythons-eval-on-untrusted-strings\">Security of Python's eval() on untrusted strings?</a>). The unanimous answer is that this is a bad idea.</p>\n\n<p>However, I found little information on which strings can be considered safe (if any).\nNow I'm wondering if there is a definition of \"safe strings\" available (eg.: a string that only contains lower case ascii chars or any of the signs +-*/()). The exploits I found generally relied on either of _.,:[]'\" or the like. Can such an approach be secure (for use in a graph painting web application)?</p>\n\n<p>Otherwise, I guess using a parsing package as Alex Martelli suggested is the only way.</p>\n\n<p>EDIT:\nUnfortunately, there are neither answers that give a compelling explanation for why/ how the above strings are to be considered insecure (a tiny working exploit) nor explanations for the contrary. I am aware that using eval should be avoided, but that's not the question. Hence, I'll award a bounty to the first who comes up with either a working exploit or a really good explanation why a string mangled as described above is to be considered (in)secure.</p>\n"},{"tags":["python","unit-testing","nose"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13265532,"title":"How to skip tests containing certain text in their docstring?","body":"<p>I would like to store hints inside each test method's docstring, so the testloader can include or exclude the test based on those hints. Something like this:</p>\n\n<pre><code>def test_login_with_valid_credentials(self):\n    '''#functional #security #nondestructive'''\n    # code goes here\n</code></pre>\n\n<p>Then the testloader would discover all tests containing the substring '#functional' or whatever.</p>\n\n<p>I'm trying to avoid using decorators for this purpose, because I think using docstrings would be more flexible. (Maybe I'm wrong.)</p>\n\n<p>Being new to nose, I would appreciate any help. Thanks!</p>\n"},{"tags":["python","math","sequence","verify"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13276235,"title":"Verifying arithmetic sequence python","body":"<p>i'm just wondering how I could check to verify that a list of numbers is arithmetic or not using python, so whether there is a common number in between each item in the list. </p>\n"},{"tags":["python","chm"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":244,"score":1,"question_id":3814892,"title":"Openning an specific section of a chm file in python","body":"<p>Good afternoon</p>\n\n<p>How can I open an a chm help file in a particular section using python? Actually I'am opening the file with the following function:</p>\n\n<pre><code>def help(self):\n  # Open the help file\n  os.startfile( os.getcwd()+\"/config/help.chm\") \n</code></pre>\n\n<p>Many thanks</p>\n\n<p>German</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13284553,"title":"catching error 60 ( timeout ) with urllib 2","body":"<p>I'm trying to catch error 60 and continue the execution of my script, here is what I am doing at the moment :</p>\n\n<pre><code>import urllib2\nimport csv\nfrom bs4 import BeautifulSoup\n\n\nmatcher = csv.reader(open('matcher.csv', \"rb\" ))\n\nfor i in matcher:\n    url = i[1]\n    if len(list(url)) &gt; 0:\n        print url\n        try:\n            soup = BeautifulSoup(urllib2.urlopen(url,timeout=10))   \n\n        except urllib2.URLError, e:\n            print (\"There was an error: %r\" % e)\n</code></pre>\n\n<p>It returns this :</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"debug.py\", line 13, in\n  \n      soup = BeautifulSoup(urllib2.urlopen(url,timeout=10))    File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 126, in urlopen\n      return _opener.open(url, data, timeout)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 400, in open\n      response = self._open(req, data)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 418, in _open\n      '_open', req)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 378, in _call_chain\n      result = func(*args)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 1207, in http_open\n      return self.do_open(httplib.HTTPConnection, req)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\",\n  line 1180, in do_open\n      r = h.getresponse(buffering=True)   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\",\n  line 1030, in getresponse\n      response.begin()   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\",\n  line 407, in begin\n      version, status, reason = self._read_status()   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\",\n  line 365, in _read_status\n      line = self.fp.readline()   File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py\",\n  line 447, in readline\n      data = self._sock.recv(self._rbufsize) socket.timeout: timed out</p>\n</blockquote>\n\n<p>How would I catch this error and \"continue\" ?</p>\n"},{"tags":["python","blobstore"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13284696,"title":"dealing with blobstore_handlers.BlobstoreUploadHandler","body":"<p>I'm writing on GAE using python a server side for an iPad App. and one of the abilities is to save files on the server. I went through the blobstore examples and I can write similar test one that works. However, in my case, I have to divide the process in to two steps, one call to generate the URL and the other is to actually receive the file via blobstore_handlers.BlobstoreUploadHandler.\nThe issue is that the link I get from blobstore.create_upload_url('/upload') seems to be broken and my upload handler can't be found. The way I test this at the moment is via a static html file where I manually change the url to be the one I get from  blobstore.create_upload_url('/upload')\nAny ideas why once I break the process into two the same code stops working?    </p>\n\n<p>Code:\nHere is the function that returns the url which works well.</p>\n\n<pre><code>class GetUploadURL(webapp2.RequestHandler):\n# this function will return the upload url to be used in a form\n  def get(self):\n\n        params=['session_id']\n\n        has_params, missing_param = has_all_parameters(self,params)     \n\n        if not has_params:\n            show_error(self, MISING_PARAMS_ERROR, params)\n            return      \n\n        user = validate_session(self)\n        if not user:\n            show_error(self, UNKNOWN_SESSION_ID)\n            return \n\n        upload_url = blobstore.create_upload_url('/upload')\n        ret_dict = { STATUS_CODE :STATUS_OK ,\n                        UPLOAD_URL :  upload_url \n                       }`enter code here`\n        self.response.out.write(json.dumps(ret_dict))  \n</code></pre>\n\n<p>and here is teh html i\"m using locally and changing the upload_url with the long link I got form calling the function above</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;form action=\"upload_url\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n    &lt;input  type=\"hidden\" id=\"session_id\" name=\"session_id\" value=\"ahJkZXZ-ZGVzaWduZWRudG9maXRyDQsSB1Nlc3Npb24YDQw\" &gt;\n\n    &lt;a&gt;Upload File: &lt;/a&gt;&lt;input type=\"file\" name=\"file\"&gt;\n    &lt;br&gt; \n    &lt;input type=\"submit\" name=\"submit\" value=\"Submit\"&gt; \n\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is where when I click submit it doesn't even get to the server, it's like a broken link.</p>\n\n<p>Here is the function that should receive the post but it was never called</p>\n\n<pre><code>class UploadHandler(blobstore_handlers.BlobstoreUploadHandler):\n  def post(self):\n        params=['session_id']\n\n        has_params, missing_param = has_all_parameters(self,params)     \n\n        if not has_params:\n            show_error(self, MISING_PARAMS_ERROR, params)\n            return      \n\n        user = validate_session(self)\n        if not user:\n            show_error(self, UNKNOWN_SESSION_ID)\n            return \n\n        upload_files = self.get_uploads('file')  # 'file' is file upload field in the form\n        blob_info = upload_files[0]\n        file1 = UserFile()\n        file1.user = user\n        file1.file_name= blob_info.filename\n        file1.file_key = blob_info.key()\n        file1.put()\n        ret_dict = {STATUS_CODE: STATUS_OK,'file_key': str(file1.file_key)}\n        self.response.out.write(json.dumps(ret_dict)) \n</code></pre>\n\n<p>Thanks for the help</p>\n\n<p>Ran</p>\n"},{"tags":["python","xpath","selenium","selenium-rc","selenium-xpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13250908,"title":"Mouse the focus to an object using selenium python","body":"<p>I am automating a website using selenium RC and python 2.7 on Ubuntu Linux. Here is what I need to do:</p>\n\n<p>Go to the site <a href=\"http://borro.com\" rel=\"nofollow\">http://borro.com</a>.<br>\nScroll down to the bottom of the page using key down native command\nI need to hover the mouse on g +1 \nread the tool tip<br>\nclick on the name that appears in the tool tip.   </p>\n\n<p>The problem I am having is -- I need the mouse to physically move there, wait for say 2 secs and then read the tool tip and click on the name</p>\n\n<p>The mouse is not physically moving there and I think the focus is lost and it says element xpath not found.   <img src=\"http://i.stack.imgur.com/D7r9g.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["python","django","django-cms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13284544,"title":"django-cms absolute urls to pages","body":"<p>I want to get a list of all pages I have published in my Django-CMS application but I can't seem to get it to render the language-specific urls.</p>\n\n<p>in my settings I have specified:</p>\n\n<pre><code>LANGUAGES = [\n    ('sv', 'Svenska'),\n    ('en', 'English'),\n]\n</code></pre>\n\n<p>I go in to the admin site, I create a contact-page (That is not site-home) and set different slugs on different languages, 'contact-sv' and 'contact-en' for instance.</p>\n\n<p>Then I have a view that gets a page</p>\n\n<pre><code>from cms.models import Page\npage = Page.objects.published()[1]\nprint 'swe:', page.get_absolute_url(language='sv')\nprint 'eng:', page.get_absolute_url(language='en')\n</code></pre>\n\n<p>I then get This output:</p>\n\n<pre><code>swe: /contact-en/\neng: /contact-en/\n</code></pre>\n\n<p>When I expected the swe-url to be /sv/contact-sv/</p>\n\n<p>I don't need the langage prefix to the path, I can prepend that to the path but I need the language specific path.</p>\n"},{"tags":["python","django","http","proxy","twisted"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13274816,"title":"Django/Python serve files from URL as http proxy fast stream","body":"<p>We are having a cross-domain issue with SVG files that are being served from a CDN (content delivery network) and therefore are coming from a different domain name than our primary domain which is a Python/Django application. We'd like to setup a special view that can serve as a server-side proxy for these SVG files to mask the domain name and get around the cross-domain issue. The question is how to make a fast http request to a url for static files like SVG or even other types (.jpg, .js, .png, .mp4, etc.) and serve them in a chunked streaming http response as fast as we receive the chunks from the request stream.</p>\n\n<p>We realize it may be faster of course to do this outside of Django and WSGI, perhaps the <a href=\"http://twistedmatrix.com\" rel=\"nofollow\">twisted server</a> would be better, so ultimately we are looking for the fastest/best Python method of accomplishing what we need. Really looking for example code for recommended solutions. </p>\n\n<p>Many thanks!</p>\n"},{"tags":["python","regex","linux"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13284005,"title":"Match multi-line using python in linux","body":"<p>I met one problem when I used python regex in Linux. The target string has multi-line such as</p>\n\n<pre><code>This is a matched string_1.\nThis is a matched string_22.\n\nDo not match this line.\n</code></pre>\n\n<p>What I want to do is match everything before \"\\n\\n\". I used </p>\n\n<pre><code>deleteString = re.compile('[\\s\\S]+\\n\\n')\n</code></pre>\n\n<p>but it's seems doesn't work in Linux.</p>\n\n<p>How can I match the string before double \\n.</p>\n\n<p>Thank you for your reply.</p>\n"},{"tags":["python","class","long-integer","doubly-linked-list"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13284379,"title":"Long-double-linked-list","body":"<p>I have a problem with the code. The code gives an error and it says that Node does not have a \"previous\" in the __add__() operator however it doesnt give an error in the main program\nThe point of the assignment is to create a long using linked list</p>\n\n<blockquote>\n<pre><code>class Node():\n    def __init__(self):\n        self.next = None\n        self.prev = None\n        self.data = None\n\n    def getData(self):\n        return self.data\n\nclass LinkedList():\n    def __init__(self):\n        self.count = 0\n        self.last = Node()\n        self.first = Node()\n        self.first.next = self.last\n        self.last.previous = self.first\n\n    def append(self, data):\n        self.last.data = data\n        self.last.next = Node()\n        tmp = self.last\n        self.last = self.last.next\n        self.last.previous = tmp\n        self.count += 1\n\n    def prepend(self, data):\n        self.first.data = data\n        self.first.previous = Node()\n        tmp = self.first\n        self.first = self.first.previous\n        self.first.next = tmp\n        self.count += 1\n\n    def front(self):\n        if self.count == 0: return None\n        return self.first.next\n\n    def back(self):\n        if self.count == 0: return None\n        return self.last.previous\n\n    def size(self):\n        return self.count\n\n    def __getitem__(self, node):\n        count = self.first\n        while count.data:\n            if count.data == node:\n                return count\n            count = count.next\n        return None\n\n    def __iter__(self):\n        count = self.first.next\n        while count.data:\n            print(\"here\")\n            yield count.data\n            count = count.next\n\nclass BigInt:\n    def __init__(self, initValue = \"0\"):\n        self.data = LinkedList()\n        for count in initValue:\n            self.data.append(count)\n        self.Neg = False\n\n    def __repr__(self):\n        integer = \"\"\n        node = self.data.front()\n        while node.next:\n            integer= integer+(node.getData())\n            node = node.next\n        return \"\".join(integer)\n\n    def toString(self):\n        return self.__repr__()\n\n    def isNeg(self):\n        return self.Neg\n\n    def __add__(self, rhs):\n        node1 = self.data.back()\n        node2 = rhs.data.back()\n        if self.isNeg() and not rhs.isNeg():\n            return rhs - self\n        elif rhs.isNeg() and not self.isNeg():\n            return self - rhs\n\n        summation = LinkedList()\n        carryOne = 0\n        print(node1.previous.previous.getData())\n        while node1.previous.getData() is not None or node2.previous.getData() is not None:\n            tot = int(node1.getData())+int(node2.getData())+carryOne\n            summation.prepend((tot)%10)\n            carryOne = 0\n            if tot &gt;= 10: carryOne = 1\n            node1 = node1.previous\n            node2 = node2.previous\n        ret = \"\"\n        for digit in summation:\n            ret = ret + digit\n            print(digit)\n        print (ret)\n\n    def __sub__():\n        pass\n\na = LinkedList()\na.prepend(4)\na.prepend(5)\na.append(23)\nprint (type(a.back()))\nprint(a.back().previous.previous.getData())\n\ng = BigInt(\"2\")\nh = BigInt(\"3\")\n(g+h)\nprint (g.toString())\n</code></pre>\n</blockquote>\n"},{"tags":["python","statistics"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":83,"score":-1,"question_id":13202908,"title":"recursive least square","body":"<p>Is there any module with a <strong>recursive</strong> least square algorithm. (also called incremental or online least squares). </p>\n\n<p>In normal least square we make an OLS on the whole matrix. If we would now get an additional data-point, we could do the estimation again. This however is inefficient. </p>\n\n<p>Recursive least square algorithm, can update the solution of the previous regression with the new dataset avoiding a complete recalculation. I need an implementation of this. Is there any in python?</p>\n"},{"tags":["python","project-euler"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13283229,"title":"Project Euler #35: nicer way to test if an even integer is 'inside' an integer","body":"<p>Question: What's the best way to iterate over an integer and find other integers inside it, then throw that integer away if it contains them?</p>\n\n<p>Long Version:</p>\n\n<p>I have been working on my Python skills by trying to make efficient solutions to the problems at Project Euler. After going through around 20 problems, I find that while I can solve the problems my solutions are often inelegant and clunky (i.e., ugly and slow). The way the problems are structured, I think I need to learn some better solutions because more complex stuff is going to compound these inefficiencies. </p>\n\n<p>Anyway, today I'm working on problem 35, which requests all circular primes below 1,000,000. I have produced a list of all primes below 1,000,000 and I built a little framework to spit out permutations of these primes below, for each of which I was planning to test for prime-ness:</p>\n\n<pre><code>def number_switcher(number):\n  number = [num for num in str(number)]\n  numlist = [''.join(num) for num in list(itertools.permutations(number))]\n  return [int(num) for num in numlist]\n</code></pre>\n\n<p>Running this on <strong>all</strong> the primes and then testing each possible permutation for prime-ness, as you can imagine, is no way to solve the problem. </p>\n\n<p>Then it occurred to me that I could throw away all numbers that have an even number in them (assuming they're longer than one digit) or any numbers with fives in them before I even start running the permutations. </p>\n\n<p>Here's where I really got lost. Even though it seems simple, I can't figure out after two days of trying, how to throw away any multi-digit number with an even number or a 5 inside of it.</p>\n\n<p>Here's what I tried (assuming a list of all primes below 1,000,000 called here \"primes\"):</p>\n\n<pre><code> [num for num in primes if any(x for x in '024685' in str(num))] # failed: 'bool' object is not iterable\n</code></pre>\n\n<p>Then I experimented with the following:</p>\n\n<pre><code>for prime in primes:\n  if '0' in str(prime):\n    primes.remove(prime)\n\n&gt;&gt;&gt;&gt;len(primes)\n4264\n</code></pre>\n\n<p>This cut my primes list about in half. Okay, so maybe I'm on the right track and I just need an ugly \"if '0' in str(prime) or if '2' in str(prime),\" etc. </p>\n\n<p>But here's the weird thing: when I examine my 'primes' list, it still has primes with '0's in it. Running the same thing again on the new list of primes, I get the following results:</p>\n\n<pre><code> for prime in primes:\n   if '0' in str(prime):\n     primes.remove(prime)\n&gt;&gt;&gt;&gt;len(primes)\n4026\n</code></pre>\n\n<p>...and again the result drops to:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;len(primes)\n3892\n....\n3861 # again\n....\n3843 #and again\n</code></pre>\n\n<p>Maybe I'm missing something obvious here, but it seemed like that first if-test should find any prime with '0' in it and remove all of them? </p>\n\n<p>Lastly, I also tried the following, which seems terrible because it jumps pointlessly back and forth across the str-integer train tracks, but it seemed like it just had to work:</p>\n\n<pre><code>for num in primes:\n  for d in str(num):\n    if (int(d) % 2 == 0 or int(d) == 5):\n      primes.remove(num)   # doesn't work: ValueError: list.remove(x): x not in list \n    else:\n      pass\n</code></pre>\n\n<p>I feel like I shouldn't be tearing my hair out over this question, but it's making me a little crazy and probably because I've gotten to a point where I'm just trying to hack out a solution, my attempts are getting less lucid. </p>\n\n<p>Here's my question: </p>\n\n<p>What's the best way to iterate over an integer and find other integers inside it, then throw that stupid integer away if it contains them?</p>\n\n<p>Thanks for your help/reading.</p>\n\n<p>Footnote:\nThis is the first question I have asked here but I have benefitted from this site's guidance for a few months now. Apologies if this question/solution is extant, but I looked for it and could not find a way to cobble together a solution. Most search results come up as \"how to tell if an integer is even\".</p>\n"},{"tags":["python","shell","command-line","parallel-processing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":617,"score":1,"question_id":9554544,"title":"Python, running command line tools in parallel","body":"<p>I am using Python as a script language to do some data processing and call command-line tools for number crunching. I wish to run command-line tools in parallel since they are independent with each other. When one command-line tool is finished, I can collect its results from the output file. So I also need some synchronization mechanism to notify my main Python program that one task is finished so that the result could be parsed into my main program. </p>\n\n<p>Currently, I use <code>os.system()</code>, which works fine for one-thread, but cannot be parallelized. </p>\n\n<p>Thanks!</p>\n"},{"tags":["python","error-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13284333,"title":"Python not capturing try/except error","body":"<p>I'm new to Python. Please forgive me if my question sounds stupid.</p>\n\n<p>The codes below will raise an error but the error is not captured by try/except. I've gone through them many times but couldn't see what is the problem.</p>\n\n<p>Would appreciate it very much if any Gurus here can show the problem to me.</p>\n\n<p>Thanks for your time.</p>\n\n<pre><code>import decimal\n\ntry:\n    Amount = str(decimal.Decimal('2.675a').quantize(decimal.Decimal('.01'), rounding=decimal.ROUND_HALF_UP))\n    print Amount\nexcept ValueError:\n    print 'Error'\n</code></pre>\n\n<p>The error I've got is:</p>\n\n<pre><code>File \"C:\\Python27\\lib\\decimal.py\", line 548, in __new__\n  \"Invalid literal for Decimal: %r\" % value)\nFile \"C:\\Python27\\lib\\decimal.py\", line 3866, in _raise_error\n  raise error(explanation)\nInvalidOperation: Invalid literal for Decimal: '2.675a'\n</code></pre>\n"},{"tags":["python","file"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13284120,"title":"python file writing issue","body":"<p>I am working on writing result on a file repeatedly. There are N steps, so I need to write the result for each step on the same file. Then, another module uses the file for the step.</p>\n\n<p>Here is the issue. The file size is 0, so I cannot do the next step. </p>\n\n<pre><code>while 1:\n    file = open('a.txt','w+')\n    run()\n    file.write(result)\n    file.close()\n</code></pre>\n\n<p>This simple code is the summary of my code. </p>\n\n<p>Please help me out.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","python","django","onclick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13284174,"title":"open new window with JS - but with MEDIA_URL inside - HOW?","body":"<p>i am trying to open a new window when the user clicks the file download link. but the file should come from my media folder, which is uploaded by the user. how is it possible to embed django template code into js? this is my vision: </p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"window.open('{{MEDIA_URL}}','mywindow','width=720,height=900')\"&gt;download here&lt;/a&gt;\n</code></pre>\n\n<p>is it ever possible? </p>\n\n<p>thanks a lot </p>\n"},{"tags":["python","database","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":30,"score":0,"question_id":13282639,"title":"How can i grab some photos with python from website","body":"<p>I need to collect profile photos of the users  from the website.\nI know python and django but don't know how can i do that.</p>\n\n<p>Can someone guide me how can i make the python program so that i can list the website it only says o n their webiste only , not any external link and check for every page within that domain.</p>\n\n<p>Edit:  Suppose that i want to collect all the thumnail photos of the users here in stackoverflow. Provided we don't have any all users page and go through. i want to go through all questions page then form there grab the photos and save to hardidsk with the userid so that we don't overrride</p>\n"},{"tags":["python","osx","ide"],"answer_count":16,"favorite_count":8,"up_vote_count":26,"down_vote_count":1,"view_count":31249,"score":25,"question_id":893162,"title":"What's a good IDE for Python on Mac OS X?","body":"<p>I'm about to start a new job where the coding practices are heavily centered around TDD and refactoring, and whose primary development language is Python.  I come from the Java world, and have been a confident user of Eclipse for a good, long time.  When not working in Java, I use emacs.</p>\n\n<p>I'm looking for an IDE for Python that will give me a lot of the capabilities I've grown used to with Eclipse, not only for refactoring but in terms of code completion, project management, SCM integration (currently CVS, but likely to switch to git one of these days) et al.</p>\n\n<p>What IDE should I use?</p>\n"},{"tags":["python","web-crawler","scrapy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13283227,"title":"Crawl various websites using scrapy and find specific words","body":"<p>I am new to scrapy framework. They have this great documentation where I learned about various stuffs. I am trying to curl various educational websites upto depth level 3, find cse departments(try to find cse or computer or lists of words in the links scraped on that page) in each websites. If they have cse department in their websites those links or URLs will be stored in a .csv file. Here's my code so far:</p>\n\n<pre><code>from scrapy.spider import BaseSpider\nfrom scrapy.selector import HtmlXPathSelector\n\nfrom dirbot.items import Website\n\n\nclass DmozSpider(BaseSpider):\n    name = \"dmoz\"\n    allowed_domains = [\"dmoz.org\"]\n    start_urls = [\n        \"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\",\n        \"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/\",\n    ]\n\n    def parse(self, response):\n        hxs = HtmlXPathSelector(response)\n        sites = hxs.select('//ul/li')\n        items = []\n\n        for site in sites:\n            item = Website()\n            item['name'] = site.select('a/text()').extract()\n            item['url'] = site.select('a/@href').extract()\n            item['description'] = site.select('text()').extract()\n            items.append(item)\n\n        return items\n</code></pre>\n\n<p>Problem is: In allowed_domains I want to crawl more than 1000 websites which are stored in .csv file. I want to import csv file and iterate through each URLs. How can I do that? If they have cs departments those link should be written in a csv file. How can I modify my XPath to find  cse department(try to find cse or computer or lists of words in the links scraped on that page) in each websites and where do I apply condition(if the link have cse department write that link into file otherwise not.) Finally how do I specify depth in scrapy? Thanks Also is it possible to define the word search technique in a file and use it in the scrapy?</p>\n"},{"tags":["python","vim","command-line","vimrc"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":77,"score":6,"question_id":13279520,"title":"Automatically inserting a header in vim","body":"<p>Is there a way to auto add a header when i open a new file in vim?\nMy objective is to automatically add the shebang <code>\"#! /usr/bin/python\"</code> when i open a new file using the command <code>\"vim test.py\"</code>. If the file is already present, no header should be inserted. </p>\n"},{"tags":["python","list","sum"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13283689,"title":"python sum the values of lists of list","body":"<p>I have list of lists and i need to sum the inner lists, for example,</p>\n\n<pre><code>a = [[1,2,3], [2,1,4], [4,3,6]]\n</code></pre>\n\n<p>for my case, the len of a[i] is same, that is all the inner lists have same dimension.</p>\n\n<p>and i need the output as</p>\n\n<pre><code>result = [6,7,13]\n</code></pre>\n\n<p>what i did is:</p>\n\n<pre><code>result = [sum(a[i]) for i in range(len(a))]\n</code></pre>\n\n<p>Since my len(a) is very high, i hope there will be a alternative way to get the result without using the for loop.</p>\n"},{"tags":["python","wrapping","data-analysis","root-framework"],"answer_count":5,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1026,"score":3,"question_id":529678,"title":"Python, ROOT, and MINUIT integration?","body":"<p>I'm a modest graduate student in a high energy particle physics department. With an unfounded distaste for C/C++ and a founded love of python, I have resorted to python for my data analysis so far (just the easy stuff) and am about to attempt backing python scripts against ROOT libraries and, particularly, utilize MINUIT for some parameter minimization.</p>\n\n<p>As well as asking if anyone has any tips for the installation and usage of these, I wondered if it was worth it to even attempt it or just to slip into the \"norm\" of using C/C++, or if things like pyminuit are usable. Or do you think I could wrap entire C/C++ scripts into python code to make use of my existing self-written analysis methods (I have no wrapper experience as of yet). Sorry for the vagueness; I'm headed into a great unknown that far outweighs my current experience.</p>\n"},{"tags":["python","sql","database","ms-access","firebird"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13283309,"title":"The function does not work on all the tables","body":"<p>I wrote the following code by data transfer from Access to Firebird</p>\n\n<pre><code>def getFirebirdFieldNames(firebird_cursor, tablename):\n    firebird_cursor.execute('select rdb$field_name from rdb$relation_fields where rdb$relation_name=\\'%s\\' order by rdb$field_position' % (tablename,))\n    field_names = list()\n    for c in firebird_cursor.fetchall():\n        field_names.append(c[0])\n    return field_names\n\ndef SelectFromAccessTable(tablename):\n    return 'select * from [' + tablename+']'\n\ndef InsertToFirebirdTable(tablename, row):\n    values=''\n    values=values.encode('cp1251', 'replace')\n    for i in range(len(row)):\n        if (i!=len(row)-1):\n                if type(row[i])==int:\n                      temp=str(row[i])\n                else:\n                      if type(row[i])==decimal.Decimal:\n                          temp=str(row[i])\n                      else:\n                          temp='\\'%s\\'' % (row[i],)\n                values+=temp+', '                 \n        else:\n                if type(row[i])==int:\n                      temp=str(row[i])\n                else:\n                      if type(row[i])==decimal.Decimal:\n                          temp=str(row[i])\n                      else:\n                          temp='\\'%s\\'' % (row[i],)\n                values+=temp\n    return 'insert into '+tablename+' values ('+values+')'\n\ndef AccessToFirebird(accesstablename, firebirdtablename, accesscursor, firebirdcursor):\n    SelectSql=SelectFromAccessTable(accesstablename)\n    for row in accesscursor.execute(SelectSql):\n        InsertSql=InsertToFirebirdTable(firebirdtablename, row)\n        InsertSql=InsertSql\n        print InsertSql\n        firebirdcursor.execute(InsertSql)\n</code></pre>\n\n<p>In the main program there is a call of these functions</p>\n\n<pre><code>conAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\ThirdTask\\Northwind.accdb')\nSqlAccess=conAcc.cursor();\nconn.begin()\ncur=conn.cursor()\nsql.AccessToFirebird('Customers', 'CLIENTS', SqlAccess, cur)\nconn.commit()\nconn.begin()\ncur=conn.cursor()\nsql.AccessToFirebird('Сотрудники', 'EMPLOYEES', SqlAccess, cur)\nconn.commit()\nconAcc.commit()\nconn.close()\nconAcc.close();\n</code></pre>\n\n<p>As a result of filling in the table CLIENTS, EMPLOYEES is not filled (Northwind database). Why?\nHere is the text output (sql-query inserts)</p>\n\n<pre><code>insert into EMPLOYEES values (1, 'Борей', 'Ильина', 'Юлия', 'julia@northwindtraders.com', 'Сотрудник отдела сбыта', '(123)555-0100', '(123)555-0102', 'None', '(123)555-0103', '1-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', '#http://northwindtraders.com#', 'None', '')\ninsert into EMPLOYEES values (2, 'Борей', 'Гладких', 'Андрей', 'andrew@northwindtraders.com', 'Вице-президент', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '2-й проспект, д. 12', 'Томск', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта, в настоящее время занимает должность вице-президента по продажам.', '')\ninsert into EMPLOYEES values (3, 'Борей', 'Куликов', 'Евгений', 'evgeny@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '3-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Прошел стажировку в отделе сбыта, в настоящее время является штатным сотрудником.', '')\ninsert into EMPLOYEES values (4, 'Борей', 'Сергиенко', 'Мария', 'mariya@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '4-й проспект, д. 12', 'Самара', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'None', '')\ninsert into EMPLOYEES values (5, 'Борей', 'Новиков', 'Николай', 'nikolay@northwindtraders.com', 'Начальник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '5-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта. Свободно владеет французским языком.', '')\ninsert into EMPLOYEES values (6, 'Борей', 'Корепин', 'Вадим', 'vadim@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '6-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Свободно владеет японским языком, читает и пишеть на французском, португальском и испанском.', '')\ninsert into EMPLOYEES values (7, 'Борей', 'Климов', 'Сергей', 'sergey@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '7-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'None', '')\ninsert into EMPLOYEES values (8, 'Борей', 'Ожогина', 'Инна', 'inna@northwindtraders.com', 'Координатор продаж', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '8-й проспект, д. 12', 'Псков', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Читает и пишет по-французски.', '')\ninsert into EMPLOYEES values (9, 'Борей', 'Попкова', 'Дарья', 'darya@northwindtraders.com', 'Сотрудник отдела сбыта', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '9-я улица, д.12', 'Сочи', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Свободно владеет французским и немецким языком.', '')\n</code></pre>\n\n<p>P.S. In case of attempt to execute request in ibexpert</p>\n\n<pre><code> insert into EMPLOYEES values (1, 'Борей', 'Ильина', 'Юлия', 'julia@northwindtraders.com', 'Сотрудник отдела сбыта', '(123)555-0100', '(123)555-0102', 'None', '(123)555-0103', '1-й проспект, д. 12', 'Сочи', '(нет)', '999999', 'Россия', '#http://northwindtraders.com#', 'None', '')\n</code></pre>\n\n<p>I receive</p>\n\n<pre><code>can't format message 13:198 -- message file C:\\Windows\\firebird.msg not found.\narithmetic exception, numeric overflow, or string truncation.\nstring right truncation.\n</code></pre>\n\n<p>Also I had a question from where in</p>\n\n<pre><code>insert into EMPLOYEES values (2, 'Борей', 'Гладких', 'Андрей', 'andrew@northwindtraders.com', 'Вице-президент', '(123) 555-0100', '(123) 555-0102', 'None', '(123) 555-0103', '2-й проспект, д. 12', 'Томск', '(нет)', '999999', 'Россия', 'http://northwindtraders.com#http://northwindtraders.com/#', 'Принят в компанию в качестве сотрудника отдела сбыта, затем назначен начальником отдела сбыта, в настоящее время занимает должность вице-президента по продажам.', '')\n</code></pre>\n\n<p>there was a line</p>\n\n<pre><code>'http://northwindtraders.com#http://northwindtraders.com/#'\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>'http://northwindtraders.com'.\n</code></pre>\n"},{"tags":["python","pil","homebrew"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13283591,"title":"Brew could not link jpeg","body":"<p>I'm getting this error when I tried to install PIL on my osx lion - </p>\n\n<p><em>\"You must `brew link jpeg' before pil can be installed\"</em></p>\n\n<p>So I followed that instruction, but got another error instead - </p>\n\n<p><em>\"Linking /usr/local/Cellar/jpeg/8d... Warning: Could not link jpeg. Unlinking...\nError: Could not symlink file: /usr/local/Cellar/jpeg/8d/bin/wrjpgcom\nTarget /usr/local/bin/wrjpgcom already exists. You may need to delete it.\nTo force the link and delete this file, do:\"</em></p>\n\n<p>I found a post in the site - <a href=\"http://superuser.com/questions/402032/brew-link-jpeg-issues\">http://superuser.com/questions/402032/brew-link-jpeg-issues</a> - but doesn't solve my problem. Can anyone tell me how can I resolve this issue?</p>\n"},{"tags":["python","installer","registry","winreg"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13283771,"title":"Checking if a registry key exists python","body":"<p>I am encountering a small hiccup in the installer I am creating in python. I have a function which returns the value of a key based on it's location. </p>\n\n<pre><code>def CheckRegistryKey(registryConnection, location, softwareName, keyName):\n'''\nCheck the windows registry and return the key value based on location and keyname\n'''    \n    try:\n        if registryConnection == \"machine\":\n            aReg = ConnectRegistry(None,HKEY_LOCAL_MACHINE)\n        elif registryConnection == \"user\":\n            aReg = ConnectRegistry(None,HKEY_CURRENT_USER)   \n        aKey = OpenKey(aReg, location)\n    except Exception, ex:\n        print ex\n        return False\n\n    try:\n        aSubKey=OpenKey(aKey,softwareName)\n        val=QueryValueEx(aSubKey, keyName)\n        return val\n    except EnvironmentError:\n        pass\n</code></pre>\n\n<p>I get an error if the location does not exist. I want the function to return <code>False</code> so if the location does not exist so I can run the software installer, bit it always lands up in the exception</p>\n\n<pre><code># check if the machine has .VC++ 2010 Redistributables and install it if needed\ntry:\n    hasRegistryKey = (edit_registry.CheckRegistryKey(\"machine\", r\"SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\10.0\\VC\\VCRedist\", \"x86\", \"Installed\"))\n    if hasRegistryKey != False:\n        keyCheck = (edit_registry.CheckRegistryKey(\"machine\", r\"SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\10.0\\VC\\VCRedist\", \"x86\", \"Installed\"))[0]\n        if keyCheck == 1:   \n            print 'vc++ 2010 redist installed'\n    else:\n        print 'installing VC++ 2010 Redistributables'\n        os.system(productsExecutables + 'vcredist_x86.exe /q /norestart')\n        print 'VC++ 2010 Redistributables installed'\nexcept Exception, ex:\n    print ex\n</code></pre>\n\n<p>The exception I get when I run the code is  </p>\n\n<pre><code>'NoneType' object has no attribute '___getitem___'\n</code></pre>\n\n<p>and the error I get from the <code>def CheckRegistryKey</code> function is </p>\n\n<pre><code>[Error 2] The system cannot find the file specified\n</code></pre>\n\n<p>What I need to do is check if the registry key or location exists, if not direct it to an executable. Any help is appreciated.</p>\n\n<p>Thank you</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":50,"score":1,"question_id":13283450,"title":"python for the web","body":"<p>I have read that python can be used for web applications. Yet I wonder how form variables are passed to python scripts and how to , so to speak, \"connect\", python to an Apache server so that it serves dynamic web pages, the same way PHP so easily does. How is this done and is it better than using PHP?</p>\n"},{"tags":["python","django","logging"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13282644,"title":"What is the ultimate way to configure logging in Django?","body":"<p>There are many examples online but what is the best way to configure the LOGGING Dictionary in settings.py to capture everything that is going on with the solution and it's associated apps - from small errors to sql/model calls.</p>\n\n<p>Cheers!</p>\n"},{"tags":["python","types","casting","int","double"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13282892,"title":"Python Casting Float Addition to int","body":"<p>I have the following Class definition for a rect:</p>\n\n<pre><code>class Rect(object):\n    def __init__(self, *args):\n        # Again with the weird non-pythonic mess\n        if len(args) == 1: # copy another rect\n            return args[0].copy()\n        elif len(args) == 2:\n            self._x, self._y = args[0]\n            self._w, self._h = args[1]\n        elif len(args) == 4:\n            self.left, self.top, self.width, self.height = args\n        else:\n            raise ValueError(\"You done goofed.\")\n\n    def __getattr__(self, name):\n        if name == \"right\":\n            return self._x + self._w\n        if name == \"left\" or name == \"x\":\n            return self._x\n        if name == \"top\" or name == \"y\":\n            return self._y\n        if name == \"bottom\":\n            return self._y + self._h\n        if name == \"topright\":\n            return (self._x + self._w, self._y)\n        if name == \"bottomleft\":\n            return (self._x, self._y + self._h)\n        if name == \"topleft\":\n            return (self._x, self._y)\n        if name == \"bottomright\":\n            return (self._x + self._w, self._y + self._h)\n        if name == \"centerx\":\n            return (self._x + self._w / 2.)\n        if name == \"centery\":\n            return (self._y + self._h / 2.)\n        if name == \"center\":\n            return (self._x + self._w / 2., self._y + self._h / 2.)\n        if name == \"midleft\":\n            return (self._x, self._y + self._h / 2.)\n        if name == \"midright\":\n            return (self._x + self._w, self._y + self._h / 2.)\n        if name == \"midtop\":\n            return (self._x + self._w / 2., self._y)\n        if name == \"midbottom\":\n            return (self._x + self._w / 2., self._y + self._h)\n        if name == \"size\":\n            return (self._w, self._h)\n        if name == \"width\" or name == \"w\":\n            return self._w\n        if name == \"height\" or name == \"h\":\n            return self._h\n\n        raise AttributeError(\"type object 'rect' has no attribute '\" + name + \"'\")\n\n    def __setattr__(self, name, val):\n        # This could use _a lot_ more error checking\n        if name[0] == \"_\":\n            self.__dict__[name] = int(val)\n            return\n        if name == \"right\":\n            self._x = val - self._w\n        elif name == \"left\":\n            self._x = val\n        elif name == \"top\":\n            self._y = val\n        elif name == \"bottom\":\n            self._y = val - self._h\n        elif name == \"topleft\":\n            self._x, self._y = val\n        elif name == \"topright\":\n            self._x = val[0] - self._w\n            self._y = val[1]\n        elif name == \"bottomleft\":\n            self._x = val[0]\n            self._y = val[1] - self._h\n        elif name == \"bottomright\":\n            self._x = val[0] - self._w\n            self._y = val[0] - self._h\n        elif name == \"width\" or name == \"w\":\n            self._w = val\n        elif name == \"height\" or name == \"h\":\n            self._h = val\n        elif name == \"size\":\n            self._w, self._h = val\n        elif name == \"centerx\":\n            self._x = val - self._w / 2.\n        elif name == \"centery\":\n            self._y = val - self._h / 2.\n        elif name == \"center\":\n            self._x = val[0] - self._w / 2.\n            self._y = val[1] - self._h / 2.\n        elif name == \"midtop\":\n            self._x = val[0] - self._w / 2.\n            self._y = val[1]\n        elif name == \"midleft\":\n            self._x = val[0]\n            self._y = val[1] - self._h / 2.\n        elif name == \"midbottom\":\n            self._x = val[0] - self._w / 2.\n            self._y = val[1] - self._h\n        elif name == \"midright\":\n            self._x = val[0] - self._w\n            self._y = val[1] - self._h / 2.\n        else:\n            raise AttributeError(\"You done goofed!\")\n\n    def copy(self):\n        return Rect(self._x, self._y, self._w, self._h)\n\n    def move(self, x, y):\n        return Rect(x, y, self._w, self._h)\n\n    def move_ip(self, x, y):\n        self._x, self._y = x,y\n\n    def inflate(self, x, y):\n        c = self.center\n        n = self.copy()\n        n.size = (self._w + x, self._h + y)\n        n.center = c\n        return n\n\n    def inflate_ip(self, x, y):\n        c = self.center\n        self.size = (self._w + x, self._h + y)\n        self.center = c\n\n    def clip(self, B):\n        A = self\n        try:\n            B._x\n        except TypeError:\n            B = Rect(B)\n\n        if A._x &gt;= B._x and A._x &lt; (B._x + B._w):\n            x = A._x\n        elif B._x &gt;= A._x and B._x &lt; (A._x + A._w):\n            x = B._x\n        else:\n            return Rect(A._x, A._y, 0, 0)\n\n        if ((A._x + A._w) &gt; B._x) and ((A._x + A._w) &lt;= (B._x + B._w)):\n            w = A._x + A._w - x\n        elif ((B._x + B._w) &lt; A._x) and ((B._x + B._w) &lt;= A._x + A._w):\n            w = B._x + B._w - x\n        else:\n            return Rect(A._x, A._y, 0, 0)\n\n        if A._y &gt;= B._y and A._y &lt; (B._y + B._h):\n            y = A._y\n        elif B._y &gt;= A._y and B._y &lt; (A._y + A._h):\n            y = B._y\n        else:\n            return Rect(A._x, A._y, 0, 0)\n\n        if ((A._y + A._h) &gt; B._y) and ((A._y + A._h) &lt;= (B._y + B._h)):\n            h = A._y + A._h - y\n        elif ((B._y + B._h) &gt; A._y) and ((B._y + B._h) &lt;= (A._y + A._h)):\n            h = B._y + B._h - y\n        else:\n            return Rect(A._x, A._y, 0, 0)\n\n        return Rect(x, y, w, h)\n\n    def contains(self, r):\n        if self.clip(r).size == r.size:\n            return True\n        return False\n\n    def collide_rect(self, r):\n        # Probably write a better optimized version of this later\n        return self.clip(r).size != (0,0) or r.clip(self).size != (0,0)\n\n    def collide_point(self, point):\n        # This could probably be optimized as well\n        return point[0] &gt; self.left and point[0] &lt; self.right and \\\n            point[1] &gt; self.top and point[1] &lt; self.bottom\n\n    def __str__(self):\n        return ''.join(['&lt;rect(',\n                        str(self._x),\n                        ',',\n                        str(self._y),\n                        ',',\n                        str(self._w),\n                        ',',\n                        str(self._h),\n                        ')&gt;'])\n    def __repr__(self):\n        return self.__str__()\n\n    ##NEW CODE\n    def setLocation(self, x, y):\n        float(self._x)\n        float(self._y)\n        self._x = x\n        self._y = y\n\n    def intersects(self, r):\n        if self.getBottom() &lt; r.getTop: return False\n        if self.getTop() &lt; r.getBottom: return False\n        if self.getRight() &lt; r.getLeft: return False\n        if self.getLeft() &lt; r.getRight: return False\n        return True\n\n    def getTop(self):\n        return self._y\n\n    def getBottom(self):\n        return self._y+self._h\n\n    def getLeft(self):\n        return self._x\n\n    def getRight(self):\n        return self._x+self._w\n\n    def getTopRect(self):\n        return Rect(self.X+.1, self.getTop(), self.WIDTH-.2, 1)\n\n    def getBottomRect(self):\n        return Rect(self.X+.1, self.getBottom(), self.WIDTH-.2, 1)\n\n    def getLeftRect(self):\n        return Rect(self.getLeft(), self.getTop()+.1, 1, self.HEIGHT-.2)\n\n    def getRightRect(self):\n        return Rect(self.getRight(), self.getTop()+.1, 1, self.HEIGHT-.2)\n</code></pre>\n\n<p>When I call the following block of code from another file:</p>\n\n<pre><code>    def move(self, terrainObjects):\n        #Moving ground related test to see if you\n        #overcome the velocity that you leave the piece of land with.\n        #Possible physics conceptual error here.\n        if (not self.grounded) and math.fabs(self.xGroundVel+self.vel_y) &lt;= .1:\n            self.xGroundVel = 0\n\n        xV = 0\n        yV = 0\n        optimalLimit = 0\n        xVel = self.xGroundVel+self.vel_x\n        yVel = self.vel_y\n\n        if math.fabs(xVel) &gt; math.fabs(yVel):\n            optimalLimit = math.fabs(xVel*self.collisionAccuracy)\n        else: optimalLimit = math.fabs(yVel*self.collisionAccuracy)\n\n\n        if optimalLimit != 0:\n            xV = 1.0*xVel/optimalLimit\n            yV = 1.0*yVel/optimalLimit\n\n        self.makeMove(xV, yV, optimalLimit, terrainObjects)\n\n        self.pos = (self.X, self.Y)\n\n\n    def makeMove(self, xI, yI, limit, terrainObjects):\n        currentRect = spyral.Rect(self.x,self.y,self.WIDTH,self.HEIGHT)\n        collisions = []\n\n        for i in range(0,int(limit)):\n            currentRect.move_ip(currentRect._x+xI, currentRect._y+yI)\n            for c in terrainObjects:\n                if c.get_rect().intersects(currentRect):\n                    collisions.append(c)\n\n            if self.handleCollision(collisions, currentRect):\n                del collisions[0:len(collisions)]\n</code></pre>\n\n<p>It always prints that the y position has not changed despite the fact I am adding .1 to it every iteration of the for loop.</p>\n\n<p>Basically what the code does is, based on a certain amount of accuracy, you iteratively test if a collision would happen from your current position to the next position you'll be at based on your velocity. Its look-ahead collision detection. The higher value, collisionAccuracy is, the smaller xV and yV will be so we text smaller increments for higher accuracy between moves. I had this code working in Java and I'm trying to translate it over to Python, but I'm a beginner and can't figure out why the addition keeps casting to int.</p>\n\n<p>Any ideas what could be causing this? Is it casting it back to an int every time?</p>\n"},{"tags":["python","variables","variable-scope"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1658,"score":3,"question_id":5218895,"title":"Python nested functions variable scoping","body":"<p>I've read almost all the other questions about the topic, but my code still doesn't work.\nI think I'm missing something about python variable scope.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>PRICE_RANGES = {\n                64:(25, 0.35),\n                32:(13, 0.40),\n                16:(7, 0.45),\n                8:(4, 0.5)\n                }\n\ndef get_order_total(quantity):\n    global PRICE_RANGES\n    _total = 0\n    _i = PRICE_RANGES.iterkeys()\n    def recurse(_i):\n        try:\n            key = _i.next()\n            if quantity % key != quantity:\n                _total += PRICE_RANGES[key][0]\n            return recurse(_i) \n        except StopIteration:\n            return (key, quantity % key)\n\n    res = recurse(_i)\n</code></pre>\n\n<p>And i get </p>\n\n<blockquote>\n  <p>\"global name '_total' is not defined\"</p>\n</blockquote>\n\n<p>Yeah I know the problem is on the <code>_total</code> assignment, but I can't understand why.\nShouldn't <code>recurse()</code> has access to the parent functions variables?</p>\n\n<p>Can someone explain me what I'm missing, on python variables scope?</p>\n"},{"tags":["python","django","nginx","uwsgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13282938,"title":"How do I set subdirectory in nginx with Django","body":"<p>Environment:</p>\n\n<ul>\n<li>uwsgi</li>\n<li>nginx</li>\n<li>django 1.3</li>\n</ul>\n\n<p>I'm using the domain <code>www.example.com</code> with Django and nginx, and I want to access the Django by <strong><code>www.example.com/abc/</code></strong> , but I don't know how to set the <strong>subdirectory</strong>.</p>\n\n<p>This is the nginx conf file:</p>\n\n<pre><code>server {\n        listen 80;\n        server_name www.example.com;\n        error_log /var/log/nginx/xxx.error_log info;\n\n        root /home/web/abc;  # this is the directory of the django program\n\n        location ~* ^.+\\.(jpg|jpeg|png|gif|css|js|ico){\n                root /home/web/abc;\n                access_log off;\n                expires 1h;\n        }\n\n        location ~ /abc/ {   # I want to bind the django program to the domian's subdirectory\n                include uwsgi_params;\n                uwsgi_pass 127.0.0.1:9000;\n        }\n}\n</code></pre>\n\n<p>When I open the website <code>www.example.com/abc/</code>, the django <code>urls.py</code> doesn't match, it only match the site like <code>^index$</code>.</p>\n\n<p>How can I modify the nginx location to set django to <code>www.example.com/abc</code>?</p>\n"},{"tags":["python","backgroundworker"],"answer_count":4,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":2087,"score":3,"question_id":1093485,"title":"Run web.py as daemon","body":"<p>I have a simple web.py program to load data. In the server I don't want to install apache or any webserver.</p>\n\n<p>I try to put it as a background service with <a href=\"http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/\" rel=\"nofollow\">http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/</a> </p>\n\n<p>And subclassing:\n(from <a href=\"http://www.jejik.com/files/examples/daemon.py\" rel=\"nofollow\">http://www.jejik.com/files/examples/daemon.py</a>)</p>\n\n<pre><code>class Daemon:\n    def start(self):\n    \t\"\"\"\n    \tStart the daemon\n    \t\"\"\"\n    \t... PID CHECKS....\n\n    \t# Start the daemon\n    \tself.daemonize()\n    \tself.run()\n#My code\nclass WebService(Daemon):\n        def run(self):\n            app.run()\n\nif __name__ == \"__main__\":\n    if DEBUG:\n        app.run()\n    else:\n        service = WebService(os.path.join(DIR_ACTUAL,'ElAdministrador.pid'))\n        if len(sys.argv) == 2:\n        \tif 'start' == sys.argv[1]:\n        \t\tservice.start()\n        \telif 'stop' == sys.argv[1]:\n        \t\tservice.stop()\n        \telif 'restart' == sys.argv[1]:\n        \t\tservice.restart()\n        \telse:\n        \t\tprint \"Unknown command\"\n        \t\tsys.exit(2)\n        \tsys.exit(0)\n        else:\n        \tprint \"usage: %s start|stop|restart\" % sys.argv[0]\n        \tsys.exit(2)\n</code></pre>\n\n<p>However, the web.py software not load (ie: The service no listen)</p>\n\n<p>If I call it directly (ie: No using the daemon code) work fine.</p>\n"},{"tags":["javascript","python","jade","slim-lang","pyjade"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13283405,"title":"Jade-like templating language for python and javascript","body":"<p>Is there a templating language like <a href=\"http://jade-lang.com/\" rel=\"nofollow\">jade</a> that is for both python and javascript and has the same syntax on each? </p>\n\n<p>Pyjade does not have the same syntax for the engine-specific parts as jade, and therefore will not work for me.</p>\n\n<p>I am willing to use something like <a href=\"https://github.com/mkerrin/pwt.jinja2js\" rel=\"nofollow\">jinja2js</a>, but jinja2js doesn't work for pyjade.</p>\n"},{"tags":["python","variable-scope","decorator","non-local"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":62,"score":6,"question_id":13282910,"title":"python can't access nonlocal variable before local variable is defined with same name","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5218895/python-nested-functions-variable-scoping\">Python nested functions variable scoping</a>  </p>\n</blockquote>\n\n\n\n<p>I've used decorators before and so I was surprised to find a bug in my code: </p>\n\n<pre><code>def make_handler(name, panels):\n    def get(self):\n        admin = True\n        keys = [ndb.Key('Panel', panel) for panel in panels]\n        panels = zip(ndb.get_multi(keys), panels)\n        panels = [(panel.panel_html if panel else get_default_content(panel_id), panel_id) for panel, panel_id in panels]\n        templates = {'panels': panels, 'admin': admin}\n        self.render_template('panel_page.html', **templates)\n    return type(name, (BaseHandler,), {'get': get})\n\n\"\"\"\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1536, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"C:\\Users\\Robert\\PycharmProjects\\balmoral_doctors\\main.py\", line 35, in get\n    keys = [ndb.Key('Panel', panel) for panel in panels]\nUnboundLocalError: local variable 'panels' referenced before assignment\n\"\"\"\n</code></pre>\n\n<p>My fix is to change <code>panel</code> to <code>panel2</code> beyond the first usage:</p>\n\n<pre><code>def make_handler(name, panels):\n    def get(self):\n        admin = True\n        keys = [ndb.Key('Panel', panel) for panel in panels]\n        panels2 = zip(ndb.get_multi(keys), panels)\n        panels2 = [(panel.panel_html if panel else get_default_content(panel_id), panel_id) for panel, panel_id in panels2]\n        templates = {'panels': panels2, 'admin': admin}\n        self.render_template('panel_page.html', **templates)\n    return type(name, (BaseHandler,), {'get': get})\n</code></pre>\n\n<p>Now everything works fine and I'm wondering why.</p>\n\n<p>This is what I guess happens but I don't know:</p>\n\n<p>panels = zip(..)</p>\n\n<p>means that panels is a local variable. That means the function doesn't look in the outerscope for panels.</p>\n\n<p>This is done before the get() function is run, and not midway through?</p>\n\n<p>I thought it would firstly grab panels from the outer function, and then when panels gets defined in the inner function after that, it would from then on use the new local panels variable.</p>\n\n<p>Am I on the right track?</p>\n"},{"tags":["python","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13283379,"title":"Error in parameter passing from python to shared library","body":"<p>I have a method say func(unsigned int len) exposed from shared library that i load in python.</p>\n\n<p>C library code:</p>\n\n<pre><code>func(unisgned int len) {\n    std::cout &lt;&lt; \"Len is : \" &lt;&lt; len &lt;&lt; std::endl;\n    //do something\n}\n</code></pre>\n\n<p>Now i call this method in python :</p>\n\n<p>Python script code :</p>\n\n<pre><code>tb = cdll.LoadLibrary(\"name\")\nprint sizeof(c_uint32())\ntb.func(sizeof(c_uint32()))\n</code></pre>\n\n<p>The problem i am facing is every time a different value is printed in the shared library.</p>\n\n<p>This works fine in linux(python version - 2.7.3), the problem happens only in Windows(python version - 2.7)</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13283210,"title":"HTTP Request coming up blank","body":"<p>With my first foray into anything-related-to-web programming, I am using the Requests external library (<a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">Requests</a>), I am testing it on <a href=\"https://google.com.au\" rel=\"nofollow\">https://google.com.au</a> to see if I'm doing it right.</p>\n\n<pre><code>import requests\n\nproxy_dict = {\n                \"https\" : \"10.10.20.99:8080\"\n             }\n\n\nr = requests.get('https://google.com.au', proxies = proxy_dict)\nprint r.content\nprint r.status_code\n</code></pre>\n\n<p>with output</p>\n\n<pre><code>&lt;HTML&gt;&lt;/HTML&gt;\n200\n</code></pre>\n\n<p>i.e. a completed HTTP request yet with no returned HTML information. I have read the relevant docs for \"Requests\" but I can't get the same results as that example (which is the same as this one, except using github.com instead of google.com.au). I am a complete and utter noob at all things HTTP/HTML right now, so does anyone have some idea where I'm going wrong?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: I forgot to mention, this will be behind some sort of company firewall as I am doing this through work. That proxy is my work's proxy.</p>\n"},{"tags":["python","image-processing","pil"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13280904,"title":"Python Image Matching. Find mxm image from nxn image","body":"<p>So my problem is a relatively simple one, but still quite hard for a Python rookie like me.\nSo I essentially have a number of shapes in an input image like a bunch of small triangles in a square or so. I need to extract the outer square and each triangle from within the image. I've developed a simple template matching code to do this... but it does not seem to work!</p>\n\n<pre><code>while ( len(numpy.where( b &lt;150 )[0])!=xx):\nxx=len(numpy.where( b &lt;150 )[0])\nfor v in range(len(b)-len(a)):\n    for w in range(len(b[0])-len(a[0])):\n        c=b[v:v+len(a[0]),w:w+len(a)]\n        c.flags.writeable=False\n        #c=b.reshape(len(a),len(a))\n        vv=sum(sum(c-a))\n        #print v, w\n        if(vv&lt;minval):\n            minval=vv\n            xcor=v\n            ycor=w\n\nprint xcor, ycor, minval\nprint len(numpy.where( b &lt;150 )[0])\nprint b[xcor:xcor+len(a),ycor:ycor+len(a[0])]\nfor p in range(xcor,xcor+len(a)):\n    for q in range(ycor,ycor+len(a[0])):\n        b.setflags(write=True)\n        b[p][q]=251;\n#print b[xcor:xcor+len(a),ycor:ycor+len(a[0])]\nxcorr=0\nycorr=0\nminval=99999\n</code></pre>\n\n<p>The problem is that I need to extract only a simple set of figures, but my code goes on and on... Also, I do not know how to handle the TRIANGLES IN A BOX problem. Can someone please help me out?</p>\n\n<p>By extract, I mean only find out just where the object is placed... if it is placed at all!</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13282985,"title":"Appending a hyperlink","body":"<p>I am trying to append a hyperlink \"http://data/CR/\" to  like below,for some reason its not getting appended..anyidea what is wrong here?</p>\n\n<pre><code>INFO = \"\"\"\n&lt;tr&gt;\n&lt;td&gt;&lt;a href= \\\"http://data/CR/\\\" + \"{CR}\"&gt;{CR}&lt;/a&gt;&lt;/td&gt;\n&lt;td&gt;{FA}&lt;/td&gt;\n&lt;td&gt;{CL}&lt;/td&gt;\n&lt;td&gt;{Title}&lt;/td&gt;\n&lt;/tr&gt;\n\"\"\"\nfor item in CRlist[1:]:\n    CRstring += INFO.format(\n        CR=item[0],\n        FA=item[1],\n        CL=item[2],\n        Title=item[3],\n        )\n</code></pre>\n"},{"tags":["python","osx","osx-lion","simplecv"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":410,"score":0,"question_id":11109413,"title":"ImportError: No module named cv","body":"<p>I get this error on running SimpleCV: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"build/bdist.macosx-10.7-intel/egg/SimpleCV/__init__.py\", line 1, in &lt;module&gt;\n  File \"build/bdist.macosx-10.7-intel/egg/SimpleCV/base.py\", line 22, in &lt;module&gt;\nImportError: No module named cv\n</code></pre>\n\n<p>What could be going wrong? Please suggest..</p>\n"},{"tags":["python","http","post","requests","python-requests"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":91,"score":4,"question_id":13170258,"title":"Python Requests - Is it possible to receive a partial response after an HTTP POST?","body":"<p>I am using the <a href=\"http://docs.python-requests.org/en/latest/user/quickstart/\" rel=\"nofollow\">Python Requests Module</a> to datamine a website. As part of the datamining, I have to HTTP POST a form and check if it succeeded by checking the resulting URL. My question is, after the POST, is it possible to request the server to not send the entire page? I only need to check the URL, yet my program downloads the entire page and consumes unnecessary bandwidth. The code is very simple</p>\n\n<pre><code>import requests\nr = requests.post(URL, payload)\nif 'keyword' in r.url:\n   success\nfail\n</code></pre>\n"},{"tags":["python","recursion","return-value"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13282783,"title":"python function not returning a list","body":"<p>I can't figure out why my implementation of Reverse Cuthill–McKee algorithm is returning\nat the wrong place. \nBasically, it produces the correct result, but when I run the code, it returns a different value.</p>\n\n<p>Here is a full code with a graph, could some one please explain this behavior?</p>\n\n<pre><code>import numpy as np\n\nA=np.diag(np.ones(8))\n\nnzc=[[4],[2,5,7],[1,4],[6],[0,2],[1,7],[3],[1,5]]\n\nfor i in range(len(nzc)):\n    for j in nzc[i]:\n        A[i,j]=1\n\n# define the Result queue\nR = [\"C\"]*A.shape[0]\n\n\ndef getDegree(Graph):\n    \"\"\"\n    find the degree of each node. That is the number\n    of neighbours or connections.\n    (number of non-zero elements) in each row minus 1.\n    Graph is a Cubic Matrix.\n    \"\"\"\n    degree = [0]*Graph.shape[0]\n    for row in range(Graph.shape[0]):\n        degree[row] = len(np.flatnonzero(Graph[row]))-1\n    return degree\n\n# find the starting point, the parent\ndegree = getDegree(A)\n\nadj = getAdjcncy(A)\ndegree2=degree[::]\nadj2 = adj[::]\ndigar=np.array(degree2)\npivots = list(np.where(digar == digar.min())[0])\n\ndef main_loop2(deg,start, adj,R):\n    degcp=deg[:]\n    digar=np.array(deg)\n    # use np.where here to get indecies of minimums\n    if start not in R:\n        R.append(start)\n        degcp.pop(start)\n        if start in pivots:\n           pivots.pop(start)\n           print \"p: \", pivots\n    Q=adj[start]\n    for idx, item in enumerate(Q):\n        if item not in R:\n            R.append(item)\n            print \"R\", R\n    print \"starts\", adj[R[-1]]\n    Q=adj[R[-1]]\n    if set(Q).issubset(set(R)) and len(R) &lt; len(degcp) :\n         print \"will now look for new pivot\"\n         p = pivots[0]\n         pivots.pop(0)\n         print \"pivots\", pivots\n         print \"starting with\" , p\n         main_loop2(deg,p,adj,R)\n         return 'this is never reached'\n    elif len(R) &lt; len(degcp):\n         main_loop2(deg,R[-1],adj,R)\n         return 'wrong'\n    else:\n         print \"will return R\"\n         print type(R)\n         return R      \n\ninl=[]\nRes = main_loop2(degree2,0, adj,inl)\n\nprint(Res)\n</code></pre>\n\n<h3>output:</h3>\n\n<pre><code>Degrees: [1, 3, 2, 1, 2, 2, 1, 2]\n0\np:  [3, 6]\nR [0, 4]\nstarts [0, 2]\nR  2 degcp 7\nR [0, 4, 2]\nstarts [1, 4]\nR  3 degcp 8\nR [0, 4, 2, 1]\nstarts [2, 5, 7]\nR  4 degcp 8\nR [0, 4, 2, 1, 5]\nR [0, 4, 2, 1, 5, 7]\nstarts [1, 5]\nwill now look for new pivot\npivots [6]\nstarting with 3\nR [0, 4, 2, 1, 5, 7, 3, 6]\nstarts [3]\nwill return R\n&lt;type 'list'&gt;\nwrong\n</code></pre>\n\n<p>So the question is:<br>\nWhy is the function working OK at all cycles of the recursion, but in the last one, \nit returns the value <code>wrong</code>?\nThe output shows that the last <code>else</code> is only reached once, yet, a list is not returned, and I am quite helpless here. \nI would appreciate if someone shed some light on this.</p>\n\n<h3>update:</h3>\n\n<p>I found another question <a href=\"http://stackoverflow.com/questions/937000/python-recursion-and-return-statements\">about python and recursion</a> and when I apply the solution there, my code works! </p>\n\n<p>So, instead of every <code>main_loop2(deg,R[-1],adj,R)</code> I write  <code>retrun main_loop2(deg,R[-1],adj,R)</code> and now the output is:</p>\n\n<pre><code>... snip ...\nR [0, 4, 2, 1, 5, 7]\nstarts [1, 5]\nwill now look for new pivot\npivots [6]\nstarting with 3\nR [0, 4, 2, 1, 5, 7, 3, 6]\nstarts [3]\nwill return R\n&lt;type 'list'&gt;\n[0, 4, 2, 1, 5, 7, 3, 6]\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13282389,"title":"Hangman Program: Loop Validation","body":"<p>I am writing a hangman game program in python and have run into a problem concerning validating loops. Here is an example of the type of problem:</p>\n\n<pre><code>    def loopGet():\n        condition = True\n        while condition == True:\n            userInput = raw_input(\"Enter a string: \")\n            # assigns boolean value to condition\n            condition = ifWon()\n            # returns condition\n            return condition\n            #assigns boolean value\n            condition = ifLost()\n            #return condition\n            return condition\n</code></pre>\n\n<p>Pretending that ifWon() and ifLost() are already created, this is an example of what's going and what I am trying to figure out. In my program, even if both return True, the loop ends. If one returns True and the other False, it still ends. I am under the impression that if \"condition\" returns True, the loop should keep running; yes?</p>\n"},{"tags":["python","linux","bash"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13280528,"title":"Renaming sequential image files with gaps","body":"<p>I'm looking for a way to rename a list of image files with gaps to be sequential. Also I want to give them a padding of 4. I'm currently using Python 2.7 and Linux bash to program this.</p>\n\n<pre><code>    Example:\n\n    1.png\n    2.png\n    3.png\n    20.png\n    21.png\n    50.png\n</code></pre>\n\n<p>Should turn into:</p>\n\n<pre><code>    0001.png\n    0002.png\n    0003.png\n    0004.png\n    0005.png\n    0006.png\n</code></pre>\n\n<p>I also would like for the files name to be the same as the directory that they are currently in.</p>\n\n<pre><code>    Example:\n\n    c_users_johnny_desktop_images.0001.png\n    c_users_johnny_desktop_images.0002.png\n    c_users_johnny_desktop_images.0003.png\n    c_users_johnny_desktop_images.0004.png\n    c_users_johnny_desktop_images.0005.png\n    c_users_johnny_desktop_images.0006.png\n</code></pre>\n\n<p>Any help would be greatly appreciated! :)</p>\n\n<p>Cheers</p>\n"},{"tags":["python","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13282695,"title":"What is the proper way of checking if element exists and is true in a python dictionary?","body":"<pre><code>someDict = {'foo': True}\nif 'foo' in someDict and someDict['foo']:\n    print 'success'\n</code></pre>\n\n<p>Following code works fine. I'm just wondering if there is a better/shorter way of checking if key exists and its value is true.</p>\n"},{"tags":["python","whitespace","space","average"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13282418,"title":"Return the average mark for all student in that Section","body":"<p>I know it was asked already but the answers the super unclear    </p>\n\n<p>The first requirement is to open a file (sadly I have no idea how to do that)<br>\nThe second requirement is a section of code that does the following:</p>\n\n<p>Each line represents a single student and consists of a student number, a name, a section code and a midterm grade, all separated by <strong>whitespace</strong>  </p>\n\n<p>So I don't think i can target that element due to it being separate by whitespace?</p>\n\n<p>Here is an excerpt of the file, showing line structure</p>\n\n<pre><code>987654322  Xu  Carolyn  L0101   19.5\n233432555    Jones  Billy Andrew      L5101   16.0\n555432345    Patel  Amrit                 L0101   13.5\n888332441    Fletcher Bobby L0201   18\n777998713   Van Ryan  Sarah Jane         L5101   20 \n877633234    Zhang  Peter             L0102   9.5\n543444555    Martin  Joseph           L0101   15    \n876543222    Abdolhosseini  Mohammad Mazen  L0102 18.5\n</code></pre>\n\n<p>I was provided the following hints:</p>\n\n<ul>\n<li>Notice that the number of names per student varies.  </li>\n<li>Use <code>rstrip()</code> to get rid of extraneous whitespace at the end of the lines.</li>\n</ul>\n\n<p>I don't understand the second hint.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>counter = 0  \nelements = -1  \n\nfor sets in the_file  \n    elements = elements + 1  \n    if elements = 3  \n</code></pre>\n\n<p>I know it has something to do with <code>readlines()</code> and the targeting the section code.</p>\n"},{"tags":["python","web-services","soaplib"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":345,"score":0,"question_id":6955553,"title":"how to get client ip in soap web service method?","body":"<p>I'm using <code>soaplib</code> library for SOAP web services,\nI want to access client's IP Address when client request has been made in my web service method.</p>\n\n<pre><code>class HelloWorldService(DefinitionBase):\n    @soap(String, Integer, _returns=Array(String))\n    def say_hello(self, name, times):\n        # here I want to Access client's IP Address\n        pass\n</code></pre>\n\n<p>Here is my Server's pseudo code...</p>\n\n<pre><code>server = make_server('localhost',\n                     7789, \n                     HelloWorldApplication(Application([HelloWorldService], 'hello')))\nprint \"serving http://localhost:7789/hello?wsdl\"\nserver.serve_forever()\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13282190,"title":"Point wrapping algorithm - A blocked Swinging door","body":"<p>I'm trying to some some code in python. Basically what it does is simulates a door (viewed from above) on an (x,y) coordinate system. The task is given a list of points, determine which the door will hit first, if any.</p>\n\n<p>Determining if a point is within range to be hit by the door is simple enough, determining which point gets hit first is proving to be difficult, as the door can swing clockwise or counter clockwise, and has a rather large, and variable range of swing (in terms of radians/degrees). The issue is mostly that I'm not sure what conditions need to be true for the point to be hit first.</p>\n\n<p>Update:\nI do have the angles calculated, but concerned about special cases such as when the door is at 1 degree, and swinging clockwise towards points at angles 180, 190, and 300 for example.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13282007,"title":"Get a list of custom classes in Python?","body":"<p>Is there a way to get a list of classes defined by the user only?</p>\n\n<p>So far I am able to display a list of all classes in a module with the following:</p>\n\n<pre><code>inspect.getmembers(sys.modules[__name__])\n</code></pre>\n\n<p>The problem is that I get a list special methods and other stuff.\nThank you.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13282345,"title":"Efficiently rewriting lines in a large text file with Python","body":"<p>I'm trying to generate a large data file (in the GBs) by iterating over thousands of database records. At the top of the file are a line for each \"feature\" that appears latter in the file. They look like:</p>\n\n<pre><code>@attribute 'Diameter' numeric\n@attribute 'Length' real\n@attribute 'Qty' integer\n</code></pre>\n\n<p>lines containing data using these attributes look like:</p>\n\n<pre><code>{0 0.86, 1 0.98, 2 7}\n</code></pre>\n\n<p>However, since my data is sparse data, each record from my database may not have each attribute, and I don't know what the complete feature set is in advance. I could, in theory, iterate over my database records twice, the first time accumulating the feature set, and then the second time to output my records, but I'm trying to find a more efficient method.</p>\n\n<p>I'd like to try a method like the following pseudo-code:</p>\n\n<pre><code>fout = open('output.dat', 'w')\nknown_features = set()\nfor records in records:\n    if record has unknown features:\n        jump to top of file\n        delete existing \"@attribute\" lines and write new lines\n        jump to bottom of file\n    fout.write(record)\n</code></pre>\n\n<p>It's the jump-to/write/jump-back part I'm not sure how to pull off. How would you do this in Python?</p>\n\n<p>I tried something like:</p>\n\n<pre><code>fout.seek(0)\nfor new_attribute in new_attributes:\n    fout.write(attribute)\nfout.seek(0, 2)\n</code></pre>\n\n<p>but this overwrites both the attribute lines <em>and</em> data lines at the top of the file, not simply insert new lines starting at the seek position I specify.</p>\n\n<p>How do you obtain a word-processor's \"insert\" functionality in Python <strong>without</strong> loading the entire document into memory? The final file is larger than all my available memory.</p>\n"},{"tags":["python","set"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13282461,"title":"How can I do an in-place union within a subclass of set without iterating through all the things I want to add (again)?","body":"<h2>Background</h2>\n\n<p>I'm just doing an exercise following a course (pyt201 at FXPHD if anyone was curious) and one of the things we're building up is a SequentialRange class that's meant to represent frames of footage. For simplicity assume integer frame numbers and no weird sub-frame renders.</p>\n\n<p>One method i'm implementing is <code>add_frames(self, *frames)</code> which accepts an unspecified lot of iterables and adds them in. The demo code simply does this:</p>\n\n<pre><code>for frame in imap(int, chain(*frames)):\n        self.add(frame)\n</code></pre>\n\n<h2>I'd like to..</h2>\n\n<p>...avoid this behaviour since if you pass in a malformed sequence (say, trivially, [1,2,\"fish\",6,7]) your resulting SequentialRange will be in one of those ugly half-processed states which helps nobody. Since it's a set I know you could just patch the input, and readd it and dupes will be thrown out but I'd like to write it up so that the add_frames() operation is more binary and either successfully loads all the frames, OR doesn't pollute the existing set.</p>\n\n<p>The thought process was that basically, I'll have an <code>add_frame()</code> method which I'll do any mystical voodoo necessary (right now it's just <code>self.add(int(the_input_frame_value))</code>) which in a way provides me my sanity check on the input. So I can create a temporary set from the input, and if that's successful, do a union of the temp set and the original set. The problem I'm finding is that union returns me a copy made up of the union of the two sets, so I have to resort to something like:</p>\n\n<pre><code>temporary_set = SequentialRange()\ntry:\n    for frame in itertools.chain(*frames):\n        temporary_set.add_frame(frame)\nexcept ValueError:\n    # placeholder flameout message\n    print(\"malformed input, no changes made\")\n    return\nexcept:\n    raise\n\nfor x in temporary_set:\n    self.add_frame(x)\n</code></pre>\n\n<h2>It works but...</h2>\n\n<p>...I'm unconvinced that re-iterating through the set is a good idea. It feels, err.. wrong? Mainly I think because I've gone and iterated through my input once for sanity checking, I don't like having to reiterate for an add phase. </p>\n\n<p>So yes, any suggestions on what I'm doing wrong? I can't shake the feeling that there's something I'm missing that would make this easier, but at the same time, since this is for the sheer learning heck of it, alt approaches to the problem also welcomed..</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13282416,"title":"Don't understand why my solution for 1/x+1/y=1/N! integer solution count is wrong","body":"<p>So I am currently working on this <a href=\"https://www.interviewstreet.com/challenges/dashboard/#problem/4e14a0058572a\" rel=\"nofollow\">problem</a>:</p>\n\n<blockquote>\n  <p>Find the no of positive integral solutions for the equations (1/x) +\n  (1/y) = 1/N! (read 1 by n factorial) Print a single integer which is\n  the no of positive integral solutions modulo 1000007.</p>\n</blockquote>\n\n<p>Basically from this post <a href=\"http://stackoverflow.com/questions/9469898/1-x-1-y-1-nfactorial\">here</a> (which a lot of posts like this , is three things (I might be wrong though):</p>\n\n<ol>\n<li>I am looking for the prime factorization of (N!)^2</li>\n<li>(N!)^2 is similar to the factorization of N!, if the factorization of N! = (k1+1)*(k2+1) ... (ki+1) then (N!)^2 = (2*k1+1)*(2*k2+1) ... (2*ki+1)</li>\n<li>The number of factors of (N!)^2 should give the answer.</li>\n</ol>\n\n<p>So therefore the basic plan was:</p>\n\n<ol>\n<li>Get user input and modify N to be N!</li>\n<li>Use sieve to find the factors, store factors in a dictionary, the dictionary format would be key = prime, value = multiplicity of prime.</li>\n<li>Make a total variable = (2*value1+1)*(2*value2+1) ... (2*value3+1)</li>\n<li>Print total.</li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>'''\nProof of divisors...\n1/y+1/x=1/n!\n\n1/(n!+a)+1/(n!+b) = 1/n!\n\n(n!+b)+(n!+a)/(n!+a)(n!+b) = 1/n!\n\n(n!+a)(n!+b)/(n!+a)+(n!+b) = n!\n(n!+a)(n!+b) = n!((n!+a)+(n!+b))\n(n!+a)(n!+b) = n!^2+a*n!+n!^2+b*n!\n(n!+a)(n!+b) = 2*n!^2+a*n!+b*n!\nn!^2+a*n!+b*n!+a*b = 2*n!^2+a*n!+b*n!\na*b = n!^2\n'''\nfrom math import factorial\n#Get input\nn = input(\"\")\nn = factorial(n)\n\n#This chunk used for prime generation\nprime_list = [2]\n\ndef primes(x):\n    for i in prime_list:\n        if i &gt; x**0.5:\n            prime_list.append(x)\n            break\n        elif x % i == 0:\n            break\n\nx = 3\n\nfactors = {}\n\ncounter = 0\n#Separate while block for getting multiplicity of the 2s\nwhile n%2 == 0:\n    counter += 1\n    n /= 2\n#Store it in factors.\nfactors[2] = counter\n\ncounter = 1\n#Generate primes test if current prime divides the number, n, then get n's multiplicity.\nwhile x &lt;= n:\n    primes(x)\n    while n%prime_list[-1]:\n        n /= prime_list[-1]\n        counter += 1\n    factors[prime_list[-1]] = counter\n    counter = 0\n    x += 2\n\n#Total everything up.\ntotal = 1\n\nfor key,k in factors.iteritems():\n    #Transformation on N! factors to make it (N!)^2\n    total *= (2*k+1)\n#Print it   \nprint total%1000007\n</code></pre>\n\n<p>I get wrong answers and it takes a long time, for example when user gives 2415 I get 227818 and the correct answer should be: 922287 (Why is the answer so high?)</p>\n\n<p>What am I misunderstanding?</p>\n"},{"tags":["python","string","dictionary","python-3.x"],"answer_count":4,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1867,"score":6,"question_id":5952344,"title":"How do I format a string using a dictionary in python-3.x?","body":"<p>I am a big fan of using dictionaries to format strings. It helps me read the string format I am using as well as let me take advantage of existing dictionaries. For example:</p>\n\n<pre><code>class MyClass:\n    def __init__(self):\n        self.title = 'Title'\n\na = MyClass()\nprint 'The title is %(title)s' % a.__dict__\n\npath = '/path/to/a/file'\nprint 'You put your file here: %(path)s' % locals()\n</code></pre>\n\n<p>However I cannot figure out the python 3.x syntax for doing the same (or if that is even possible). I would like to do the following</p>\n\n<pre><code># Fails, KeyError 'latitude'\ngeopoint = {'latitude':41.123,'longitude':71.091}\nprint '{latitude} {longitude}'.format(geopoint)\n\n# Succeeds\nprint '{latitude} {longitude}'.format(latitude=41.123,longitude=71.091)\n</code></pre>\n"},{"tags":["python","list","text-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13282298,"title":"Python funtion to build list from a text file","body":"<p>For my homework assignment I need to write the body of this function, using the comments as my requirements. The other functions mentioned in the comments have been provided to me:</p>\n\n<pre><code>def eventfreq(year,month):\n\n'''\n  Read DOT1000.txt and return a list of (d,ct)\n  pairs, where d is a date object of the form\n     datetime.date(A,B,C)\n  having A equal to the year argument and \n  B equal to the month argument to eventfreq(year,month).\n  The ct part of each pair is the number of records \n  that had a date equal to datetime.date(A,B,C).\n\n  One more requirement:  sort the returned list \n  in increasing order by date (the sorted function will\n  do this for you)\n\n  Use fieldict(\"DOT1000.txt\") to get the dictionary\n  of tuples used for building the list of pairs\n  that eventfreq(year,month) will return.\n  '''\n</code></pre>\n\n<p>This is my effort:</p>\n\n<pre><code>def eventfreq(year, month):\n    N=fieldict('DOT1000.txt')[line][1]\n    L = []  # empty List for accumulation\n    for line in N:  # data file is standard input \n\n               st = N[1] # get datetime.date \n               (L[st] = L.get(st,0) + 1)\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13282352,"title":"GAE search API - how to geoSearch a field","body":"<p>Hello I am having a difficult time geoSearching a field.  What I am trying to do is query the geofield to find the closest store to me based on the zipcode I provide.  </p>\n\n<p>First i get the lat &amp; lng from google maps api (components:postal_code:). Then I input the lat &amp; lng coordinates into the query string.  </p>\n\n<p>EX.  query = \"distance(store_location, geopoint(lat, lng)) &lt; 4500\"</p>\n\n<p>My index is populated with plenty of documents...store_location is my geoField</p>\n\n<p>EX. store_location | search.GeoPoint(latitude=34.0324...)</p>\n\n<p>The PROBLEM is... when ever I search the index i get back zero</p>\n\n<p>EX. search.SearchResults(number_found=0)</p>\n\n<p>Why am I not getting back a result? Thank you for the help.</p>\n\n<pre><code>class FindStore(BaseHandler):\n    def post(self):\n        data = zipcheck.get_lat_lng_from_google_map(self.request.body)\n        obj = json.loads(data)\n        ziplat = obj['lat']\n        ziplng = obj['lng']\n        index = INDEX_STORE\n        query = \"distance(store_location, geopoint(%s, %s)) &lt; 4500\" %(ziplat, ziplng)\n        results = index.search(query)\n        return results\n</code></pre>\n"},{"tags":["python","yaml","pyyaml"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":31,"score":3,"question_id":13280978,"title":"pyYAML Errors on \"!\" in a string","body":"<p>First, a disclaimer: I'm not too familiar with YAML. I'm trying to parse a YAML doc into Key Value Pairs (don't worry about how I'm doing it. I've got that bit handled)</p>\n\n<p>My file used to look something like:</p>\n\n<pre><code>world:\n     people:\n          name:Suzy\n          address:chez-bob\n</code></pre>\n\n<p>Then, someone went and changed it.</p>\n\n<pre><code>world:\n     people:\n          name:!$uzy\n          address:chez-bob\n</code></pre>\n\n<p>And I get this parse error:</p>\n\n<pre><code>yaml.constructor.ConstructorError: could not determine a constructor for the tag '!$uzy'\n</code></pre>\n\n<p>What does this even mean? How would I go about getting it to just interpret !$ as just two characters?\nI just want a dictionary of string keys and values!\nAlso, editing the yaml files is not an option. Problem must be fixed in the code using the parser.</p>\n"},{"tags":["python","django","heroku","rabbitmq","celery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13275884,"title":"Django Celery Periodic Tasks Run But RabbitMQ Queues Aren't Consumed","body":"<h1>Question</h1>\n\n<p>After running tasks via celery's periodic task scheduler, beat, why do I have so many unconsumed queues remaining in RabbitMQ?</p>\n\n<h2>Setup</h2>\n\n<ul>\n<li>Django web app running on Heroku</li>\n<li>Tasks scheduled via celery beat</li>\n<li>Tasks run via celery worker</li>\n<li>Message broker is RabbitMQ from ClouldAMQP</li>\n</ul>\n\n<h3>Procfile</h3>\n\n<pre><code>web: gunicorn --workers=2 --worker-class=gevent --bind=0.0.0.0:$PORT project_name.wsgi:application\nscheduler: python manage.py celery worker --loglevel=ERROR -B -E --maxtasksperchild=1000\nworker: python manage.py celery worker -E --maxtasksperchild=1000 --loglevel=ERROR\n</code></pre>\n\n<h3>settings.py</h3>\n\n<pre><code>CELERYBEAT_SCHEDULE = {\n    'do_some_task': {\n        'task': 'project_name.apps.appname.tasks.some_task',\n        'schedule': datetime.timedelta(seconds=60 * 15),\n        'args': ''\n    },\n}\n</code></pre>\n\n<h3>tasks.py</h3>\n\n<pre><code>@celery.task\ndef some_task()\n    # Get some data from external resources\n    # Save that data to the database\n    # No return value specified\n</code></pre>\n\n<h2>Result</h2>\n\n<p>Every time the task runs, I get (via the RabbitMQ web interface):</p>\n\n<ul>\n<li>An additional message in the \"Ready\" state under my \"Queued Messages\"</li>\n<li>An additional queue with a single message in the \"ready\" state\n<ul>\n<li>This queue has no listed consumers</li>\n</ul></li>\n</ul>\n"},{"tags":["python","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13282095,"title":"Dictionary conversion to list in Python","body":"<p>I have a dictionary of the example:\nE = 527:{ ('GENERAL MOTORS CORP.', datetime.date(1, 1, 1), False, 'KENOSHA', 'WI')}</p>\n\n<p>I need to take out the datetime.date(1,1,1) and turn this into a separate list outside of the tuple. I'm supposed to access the date for multiple keys and include them into a list. I'm very confused and looking to do this for a general for of any key. This is taken from a general data table where the key is index 1 and the values in the tuples are the next indexed values. \nWould [E[527][1] be correct? </p>\n"},{"tags":["python","python-module","data-validation"],"answer_count":5,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12235120,"title":"Which python module you use for simple data validation?","body":"<p>I'm writing a python module that will contain some functions that will manipulate a mongodb database. I am looking for a data validation module that can help me in validating input data passed to that function before saving it in database. Which python module/package you use for this purpose?</p>\n\n<p>For example, lets say one of the function in module is createUser(user) which accepts a python dictionary as argument. This dictionary contains user information to save in the database. Is there any module/package I can use to validate the data supplied in dictionary and return any errors?</p>\n"},{"tags":["python","idle"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13282154,"title":"Syntax for input redirection in IDLE","body":"<p>I need to enter the contents of a text (.txt) file as input for a Python (.py) file. Assuming the name of the text file is TextFile and the name of the Python file PythonFile, then the code should be as follows:</p>\n\n<pre><code>python PythonFile.py &lt; TextFile.txt\n</code></pre>\n\n<p>Yet, when I try to do this in IDLE and type in</p>\n\n<pre><code>import PythonFile &lt; TextFile, \n</code></pre>\n\n<p>IDLE gives me an invalid syntax message, pointing to the <code>&lt;</code> sign. I tried all sorts of variations on this theme (i.e.,using or not using the file name extensions), but still got the same invalid-syntax message. How is the syntax different for input redirection in IDLE?</p>\n"},{"tags":["python","django","templates","orm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13281916,"title":"rendering array on django template","body":"<p>I have following view</p>\n\n<pre><code>def deals(request):\n    usr=UserProfile.objects.get(user_id=request.user.id)\n    merchant=MerchantProfile.objects.get(user_id=usr.id)\n    dealItems=MerchantDeal.objects.filter(merchant_id=merchant.id)\n    stateText = {1 : 'Created',\n                  2 : 'Activated',\n                  3 : 'Completed'}\n\n    return render_to_response('deals.html',locals(),context_instance=RequestContext(request))\n</code></pre>\n\n<p>In the model <code>MerchantDeal</code> i have one field state_id with three ids 1,2,3 for created, completed and used respectively</p>\n\n<p>I have following template</p>\n\n<pre><code>&lt;table&gt;\n                  &lt;tr&gt;\n                    &lt;th&gt;Deals&lt;/th&gt;\n                    &lt;th&gt;Status&lt;/th&gt;\n                    &lt;th&gt;Start date &lt;/th&gt;\n                    &lt;th&gt;End date &lt;/th&gt;\n                    &lt;th&gt;Used&lt;/th&gt;\n                    &lt;th&gt;Edit&lt;/th&gt;\n                  &lt;/tr&gt;\n                  {% for Item in dealItems %}\n                  &lt;tr class=\"gray\"&gt;\n                    &lt;td&gt;{{Item.title|capfirst}} &lt;/td&gt;\n                    &lt;td &gt;{{Item.current_state}}&lt;/td&gt;\n                    &lt;td&gt;{{Item.start_date}}&lt;/td&gt;\n                    &lt;td&gt;{{Item.end_date}}&lt;/td&gt;\n                    &lt;td width=\"90\"&gt;{{Item.used}}&lt;/td&gt;\n                    &lt;td width=\"92\"&gt;&lt;a class=\"ajax cboxElement\" href=\"/ajax/item?id={{foodItem.id}}\"&gt;edit&lt;/a&gt;&lt;/td&gt;\n                  &lt;/tr&gt;\n                  {%endfor%}\n                &lt;/table&gt;\n</code></pre>\n\n<p>This is show current_state as 1,2,3 instead of created,completed and used. I have defined stateText array too </p>\n\n<pre><code>stateText = {1 : 'Created',\n             2 : 'Activated',\n             3 : 'Completed'}\n</code></pre>\n\n<p>How to render that for 1,2,3 which comes from database?</p>\n"},{"tags":["python","html"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13281993,"title":"code generating incorrect HTML code","body":"<p>Input:-    </p>\n\n<pre><code>   CRlist\n  [['CR', 'FA', 'CL', 'TITLE'], ['409452', 'WLAN', '656885', 'Age out RSSI values from buffer in Beacon miss scenario'], ['379104', 'BT', '656928', 'CR379104: BT doesn\\xe2\\x80\\x99t work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.']]\n</code></pre>\n\n<p>I have the following pythong code to generate HTML code but its generating an output which am not expecting,I pring the array values before which seem to have right data here but while using.format something is getting messedup..can anyone point what is wrong here?</p>\n\n<pre><code>for i in range(len(CRlist)):\n    if i==0:\n        continue\n    for j in range(len(CRlist[0])):\n        print \"i\"\n        print i\n        print \"j\"\n        print j\n        print \"CRlist[i][j]\"\n        print CRlist[i][j]//right data here\n        CRstring += \"\"\"\n        &lt;tr&gt;\n        &lt;td&gt;&lt;a href=\"{CR}\"&gt;{CR}&lt;/a&gt;&lt;/td&gt;\n        &lt;td&gt;{FA}&lt;/td&gt;\n        &lt;td&gt;{CL}&lt;/td&gt;\n        &lt;td&gt;{Title}&lt;/td&gt;\n        &lt;/tr&gt;\"\"\".format(\n            CR=CRlist[i][j],\n            FA=CRlist[i][j],\n            CL=CRlist[i][j],\n            Title=CRlist[i][j],\n            )\nCRstring += \"\\n&lt;/table&gt;\\n\"\n</code></pre>\n\n<p>My expectation of output but is getting created incorrectly</p>\n\n<pre><code>   &lt;tr&gt;\n   &lt;td&gt;&lt;a href=\"409452\"&gt;409452&lt;/a&gt;&lt;/td&gt;\n   &lt;td&gt;WLAN&lt;/td&gt;\n   &lt;td&gt;656885&lt;/td&gt;\n   &lt;td&gt;Age out RSSI values from buffer in Beacon miss scenario&lt;/td&gt;\n   &lt;/tr&gt;\n    ..............\n</code></pre>\n\n<p>Actual output,as you can the row cell data is redundant</p>\n\n<pre><code>                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"409452\"&gt;409452&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;409452&lt;/td&gt;\n                   &lt;td&gt;409452&lt;/td&gt;\n                   &lt;td&gt;409452&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"WLAN\"&gt;WLAN&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;WLAN&lt;/td&gt;\n                   &lt;td&gt;WLAN&lt;/td&gt;\n                   &lt;td&gt;WLAN&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"656885\"&gt;656885&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;656885&lt;/td&gt;\n                   &lt;td&gt;656885&lt;/td&gt;\n                   &lt;td&gt;656885&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"Age out RSSI values from buffer in Beacon miss scenario\"&gt;Age out RSSI values from buffer in Beacon miss scenario&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;Age out RSSI values from buffer in Beacon miss scenario&lt;/td&gt;\n                   &lt;td&gt;Age out RSSI values from buffer in Beacon miss scenario&lt;/td&gt;\n                   &lt;td&gt;Age out RSSI values from buffer in Beacon miss scenario&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"379104\"&gt;379104&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;379104&lt;/td&gt;\n                   &lt;td&gt;379104&lt;/td&gt;\n                   &lt;td&gt;379104&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"BT\"&gt;BT&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;BT&lt;/td&gt;\n                   &lt;td&gt;BT&lt;/td&gt;\n                   &lt;td&gt;BT&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"656928\"&gt;656928&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;656928&lt;/td&gt;\n                   &lt;td&gt;656928&lt;/td&gt;\n                   &lt;td&gt;656928&lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                   &lt;td&gt;&lt;a href=\"CR379104: BT doesnΓÇÖt work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.\"&gt;CR379104: BT doesnΓÇÖt work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.&lt;/a&gt;&lt;/td&gt;\n                   &lt;td&gt;CR379104: BT doesnΓÇÖt work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.&lt;/td&gt;\n                   &lt;td&gt;CR379104: BT doesnΓÇÖt work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.&lt;/td&gt;\n                   &lt;td&gt;CR379104: BT doesnΓÇÖt work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.&lt;/td&gt;\n                   &lt;/tr&gt;\n/table&gt;\n</code></pre>\n\n<p>=========PLlist==========</p>\n"},{"tags":["python","list","dictionary","sets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13281835,"title":"Why am I getting a None value, and why is the number still being printed in Python?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12466233/function-printing-correct-output-and-none\">Function printing correct Output and None</a>  </p>\n</blockquote>\n\n\n\n<p>Trying to print mutual users in a pretend twitter feed program. Homework. The numbers are users (ex <code>1111</code> is a user). The following set in the dictionary is a set of the key's friends.</p>\n\n<p>I'd like this output:</p>\n\n<pre><code>Most friends in common\n1111:   222 33333 5454\n222:    1111 33333 5454\n33333:  1111 222\n5454:   1111 222\n</code></pre>\n\n<p>But instead have this output:</p>\n\n<pre><code>Most friends in common\n1111 :  222 33333 5454  1111 None\n222 :   1111 33333 5454  222 None\n33333 :  1111 222  33333 None\n5454 :   1111 222  5454 None\n</code></pre>\n\n<p>Here is my program:</p>\n\n<pre><code>all_users = {'1111': set(['5454', '222']), '33333': set(['5454']), '5454': set(['1111', '33333', '222']), '222': set(['1111', '5454'])}\n\n\n\ndef findmutual(id, all_users):\n    users = []\n    for key in all_users:\n        mutual = all_users[id].intersection(all_users[key])\n        rank = len(mutual)\n        templist = [rank, key.strip()]\n        users.append(templist)\n    users = sorted(users)\n\n    print users\n\n    for item in users:\n        if  id == item[1]:\n            print \"\" ,\n        if item[0] == 0:\n            print \"\",\n        else:\n            print item[1],\n\n\nusers = []\nfor key in all_users:\n    users.append(key)\nusers = sorted(users)\nprint \"Most friends in common\"\nfor item in users:\n    print item, \":\\t\", findmutual(item, all_users)\n</code></pre>\n\n<p>Please help me to understand this issue!</p>\n"},{"tags":["python","django"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":202,"score":5,"question_id":13188036,"title":"Loading dictionary object causing memory spike","body":"<p>I have a dictionary object with about 60,000 keys that I cache and access in my Django view. The view provides basic search functionality where I look for a search term in the dictionary like so:</p>\n\n<pre><code>projects_map = cache.get('projects_map')\nprojects_map.get('search term')\n</code></pre>\n\n<p>However, just grabbing the cached object (in line 1) causes a a giant spike in memory usage on the server - upwards of 100MBs sometimes - and the memory isn't released even after the values are returned and the template rendered.</p>\n\n<p>How can I keep the memory from jacking up like this? Also, I've tried explicitly deleting the object after I grab the value but even that doesn't release the memory spike. </p>\n\n<p>Any help is greatly appreciated.</p>\n\n<h2>Update: Solution I ultimately implemented</h2>\n\n<p>I decided to implement my own indexing table in which I store the keys and their pickled value. Now, instead of using <code>get()</code> on a dictionary, I use:</p>\n\n<p><code>ProjectsIndex.objects.get(index_key=&lt;search term&gt;)</code></p>\n\n<p>and unpickle the value. This seems to take care of the memory issue as I'm no longer loading a giant object into memory. It adds another small query to the page but that's about it. Seems to be the perfect solution...for now.</p>\n"},{"tags":["python","http","header"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":808,"score":5,"question_id":2268724,"title":"Convert http headers (string) to a python dictionary","body":"<p>Is there a standard function that will convert http headers into a python dictionary, and one to convert back?</p>\n\n<p>They would need to support header folding, of course.</p>\n"},{"tags":["python","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":905,"score":0,"question_id":7587105,"title":"How to use Python's DictReader class in the csv library?","body":"<p>I'm getting to grips with my first Python project and have got pretty stumped trying to use Python's csv.DictReader class to consume a CSV file.</p>\n\n<p>Code is as follows:</p>\n\n<pre><code>import os\nimport csv\n\nf = open('MyCsvFile.txt', 'rb')\nd =  csv.Sniffer().sniff(f.read(1024), ',')\ncsvDict = csv.DictReader(csvfile = f, dialect = d)\n\nfor line in csvDict:\n    print line['Balance Date ']\n</code></pre>\n\n<p>The csv file roughly looks like this:</p>\n\n<pre><code>\"Balance Date \",\"Currency Code \",\"Main Account\",\"Balance Float  - 1 Day\",... forty more fields\n\"09/01/2011\",\"EUR\",\"4000519\",\"                .00\",...\n\"09/01/2011\",\"GBP\",\"4000519\",\"                .00\",...\n\"09/01/2011\",\"JPY\",\"4000519\",\"                .00\",...\n</code></pre>\n\n<p>Python is not liking my use of DictReader</p>\n\n<pre><code>g:\\work\\csvtest&gt;python csvtest.py\nTraceback (most recent call last):\n  File \"csvtest.py\", line 6, in &lt;module&gt;\n    csvDict = csv.DictReader(csvfile = f, dialect = d)\nTypeError: __init__() takes at least 2 arguments (2 given)\n</code></pre>\n\n<p>Could someone point me in the right direction?</p>\n"},{"tags":["python","virtualenv"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13282189,"title":"MissingSectionHeaderError: File contains no section headers","body":"<p>I am trying to build collective.simserver according to this manual:</p>\n\n<pre><code>http://plone.org/products/collective.simserver\n</code></pre>\n\n<p>with some modifications: </p>\n\n<pre><code>instead of: virtualenv --python=bin/python2.7 simserver/\nI am using: virtualenv --python=myVirtualEnv/bin/python simserver\n</code></pre>\n\n<p>(because it won't work if I follow example)</p>\n\n<p>and I managed to come to this point:</p>\n\n<pre><code>myVirtualEnv/bin/python bootstrap.py\n</code></pre>\n\n<p>and then it breaks apart with this error info:</p>\n\n<pre><code>    Mint-AMD64 nenad # myVirtualEnv/bin/python bootstrap.py\nWhile:\n  Initializing.\n\nAn internal error occurred due to a bug in either zc.buildout or in a\nrecipe being used:\nTraceback (most recent call last):\n  File \"/tmp/tmpLiHZgo/zc.buildout-1.6.3-py2.6.egg/zc/buildout/buildout.py\", line 1851, in main\n    command)\n  File \"/tmp/tmpLiHZgo/zc.buildout-1.6.3-py2.6.egg/zc/buildout/buildout.py\", line 203, in __init__\n    data['buildout'].copy(), override, set()))\n  File \"/tmp/tmpLiHZgo/zc.buildout-1.6.3-py2.6.egg/zc/buildout/buildout.py\", line 1465, in _open\n    parser.readfp(fp)\n  File \"/usr/lib/python2.6/ConfigParser.py\", line 305, in readfp\n    self._read(fp, filename)\n  File \"/usr/lib/python2.6/ConfigParser.py\", line 482, in _read\n    raise MissingSectionHeaderError(fpname, lineno, line)\nMissingSectionHeaderError: File contains no section headers.\nfile: /home/nenad/buildout.cfg, line: 4\n'&lt;!DOCTYPE html&gt;\\n'\nMint-AMD64 nenad # \n</code></pre>\n\n<p>What might be wrong?</p>\n\n<p>Regards,\nNenad</p>\n"},{"tags":["python","matplotlib","tkinter"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13032993,"title":"Why does FigureCanvasTkAgg disables mouse scroll event in scrolled matplotlib GUI?","body":"<p>Hey I have made this GUI, that shows matplotlib plots in a tkinter interface with a scrolled canvas. But when the plots are added to the canvas the scroll event for the mouse doesn't work anymore. Im totaly new to tkinter so consider this when you check out the code if there can be improvements also. So here it is:</p>\n\n<pre><code>from Tkinter import *\n\nimport matplotlib\n#matplotlib.use('TkAgg')\n\nfrom numpy import arange, sin, pi\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg, NavigationToolbar2TkAgg\nfrom matplotlib.figure import Figure\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os\nimport matplotlib.mlab as mlab\n\nclass App:\n\ndef __init__(self, master, figureList=[]):\n    frame = Frame(master, bg='#00BFFF', borderwidth=1, relief=RAISED)\n    frame.pack(expand=YES, fill=BOTH)\n\n    master.title(\"Listed Plots\")\n    #Fullscreen for windows\n    if os.name == 'nt':\n        master.wm_state('zoomed')\n\n    #Create a Canvas\n    canvas=Canvas(frame,bg='#00BFFF', relief=SUNKEN)       \n    canvas.config(highlightthickness=0) \n\n    #Create a Scrollbar Horisontal\n    hbar=Scrollbar(frame,orient=HORIZONTAL)\n    hbar.pack(side=BOTTOM,fill=X)\n    hbar.config(command=canvas.xview)\n\n    #Create a Scrollbar Vertical\n    vbar=Scrollbar(frame,orient=VERTICAL)\n    vbar.pack(side=RIGHT,fill=Y)\n    vbar.config(command=canvas.yview)\n\n    canvas.config(xscrollcommand=hbar.set, yscrollcommand=vbar.set)\n    canvas.pack(side=TOP,expand=True,fill=BOTH)\n\n    #Create a Frame in the canvas\n    canvFrame = Frame(canvas, bg='#00BFFF')\n    canvFrame.pack()\n\n    Label(canvFrame, text=\"Matplots of data\", bg='#B4EEB4').pack(side=TOP,fill=X)\n\n    plotNbr = 1\n    windowHeight = 10\n\n    for fig in figureList:\n        Label(canvFrame, text=\"#Plotnumber: \" + str(plotNbr), bg='#FF7F24').pack(side=TOP,fill=X)\n\n        frm = Frame(canvFrame, bg='#9FB6CD')\n        frm.pack(side=TOP, fill=X)\n\n        self.canvasMPL2, self.canvasMPLToolBar2 = getCanvas(frm, fig)\n        self.canvasMPL2.pack(side=TOP)\n        self.canvasMPLToolBar2.pack(side=TOP)\n\n        #Create space for the plot and tool bar.\n        windowHeight = windowHeight + 680\n        plotNbr = plotNbr + 1\n\n\n    canvas.config(width=1200,height= windowHeight)\n    canvas.config(scrollregion=(0,0,1200, windowHeight))\n\n    canvas.create_window(0,0, anchor = NW, window = canvFrame, width = 1200, height = windowHeight)\n\n    canvas.focus_set() #Doesnt work with FigureCanvasTkAgg, this steals the focus \n    #canvas.focus_force()\n    #canvas.grab_set_global()\n\n    #scrollwheel settings\n    canvas.configure(yscrollincrement='25')\n\n    def rollWheel(event):\n        #print \"Mousescroll\"\n        direction = 0\n        if event.num == 5 or event.delta == -120:\n            direction = 1\n        if event.num == 4 or event.delta == 120:\n            direction = -1\n        event.widget.yview_scroll(direction, UNITS)\n\n    canvas.bind('&lt;MouseWheel&gt;', lambda event: rollWheel(event))\n    canvas.bind('&lt;Button-4&gt;', lambda event: rollWheel(event))\n    canvas.bind('&lt;Button-5&gt;', lambda event: rollWheel(event))\n\n\nplottedFigures = [] #To store matplotlib figures\n\ndef addPlottedFig(figure):\n    '''\n    Matplotlib figures to be shown in the GUI\n    '''\n    plottedFigures.append(figure)\n\n\ndef getCanvas(masterWidget, figure=None):\n    '''\n    Returns canvas of plot and canvas of tool bar\n    '''\n    if(figure==None):\n        f = getHistoGramPlot() #For testing\n        canvas = FigureCanvasTkAgg(f, master=masterWidget)\n    else:\n        canvas = FigureCanvasTkAgg(figure, master=masterWidget)\n\n    canvas.show()\n    toolbar = NavigationToolbar2TkAgg( canvas, masterWidget )\n    toolbar.update()\n\n    #return the plot and the toolbar\n    return canvas.get_tk_widget(), canvas._tkcanvas\n\ndef initiate(FigureList=None):\n    '''\n    Start the GUI Application\n    '''\n    root = Tk()\n    app = App(root, FigureList)\n    root.mainloop()\n\n\ndef main():\n    '''\n    Shows 2 histograms plots in a tkinter GUI\n    '''\n    fig1 = getHistoGramPlot()\n    fig2 = getHistoGramPlot()\n\n    figList = [fig1, fig2]\n\n    initiate(figList)\n\ndef getHistoGramPlot():\n    '''\n    Return a figure of a histogram\n    '''\n    mu, sigma = 100, 15\n    x = mu + sigma * np.random.randn(10000)\n    fig = plt.figure(figsize=(12, 6), dpi=100)\n    ax = fig.add_subplot(111)\n    n, bins, patches = ax.hist(x, 50, normed=1, facecolor='green', alpha=0.6)\n    bincenters = 0.5*(bins[1:]+bins[:-1])\n    mu = np.median(x)\n    sigma = np.std(x)\n    y = mlab.normpdf( bincenters, mu, sigma)\n    l = ax.plot(bincenters, y, 'r--', linewidth=1)\n    ax.set_xlabel('Values')\n    ax.set_ylabel('Probability')\n    xlimTop = max(x)\n    xlimBottom = min(x)\n    ax.set_xlim(xlimBottom, xlimTop)\n    ax.grid(True)\n\n    return fig\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["python","matplotlib","size","quality","contour"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13263126,"title":"Reduce the size of .eps figure made using matplotlib","body":"<p>Today I was doing a report for a course and I needed to include a figure of a contour plot of some field. I did this with matplotlib (ignore the chaotic header): </p>\n\n<pre><code>import numpy as np\nimport matplotlib\nfrom matplotlib import rc\nrc('font',**{'family':'sans-serif','sans-serif':['Helvetica']})\n## for Palatino and other serif fonts use:\n#rc('font',**{'family':'serif','serif':['Palatino']})\nrc('text', usetex=True)\nfrom matplotlib.mlab import griddata\nimport matplotlib.pyplot as plt\nimport numpy.ma as ma\nfrom numpy.random import uniform\nfrom matplotlib.colors import LogNorm\nfig = plt.figure()\ndata = np.genfromtxt('Isocurvas.txt')\nmatplotlib.rcParams['xtick.direction'] = 'out'\nmatplotlib.rcParams['ytick.direction'] = 'out'\nrc('text', usetex=True)\nrc('font', family='serif')\nx = data[:,0]\ny = data[:,1]\nz = data[:,2]\n# define grid.\nxi = np.linspace(0.02,1, 100)\nyi = np.linspace(0.02,1.3, 100)\n# grid the data.\nzi = griddata(x,y,z,xi,yi)\n# contour the gridded data.\nCS = plt.contour(xi,yi,zi,25,linewidths=0,colors='k')\nCS = plt.contourf(xi,yi,zi,25,cmap=plt.cm.jet)\nplt.colorbar() # draw colorbar\n# plot data points.\nplt.scatter(x,y,marker='o',c='b',s=0)\nplt.xlim(0.01,1)\nplt.ylim(0.01,1.3)\nplt.ylabel(r'$t$')\nplt.xlabel(r'$x$')\nplt.title(r' Contour de $\\rho(x,t)$')\nplt.savefig(\"Isocurvas.eps\", format=\"eps\")\nplt.show()\n</code></pre>\n\n<p>where \"Isocurvas.txt\" is a 3 column file, which I really don't want to touch (eliminate data, or something like that, wouldn't work for me). My problem was that the figure size was 1.8 Mb, which is too much for me. The figure itself was bigger than the whole rest of the report, and when I opened the pdf it wasn't very smooth . </p>\n\n<p>So , my question is : </p>\n\n<p>Are there any ways of reducing this size without a sacrifice on the quality of the figure?. I'm looking for any solution, not necessarily python related.</p>\n\n<p>This is the .png figure, with a slight variation on parameters. using .png you can see the pixels, which i don't like very much, so it is preferable pdf or eps. </p>\n\n<p><img src=\"http://i.stack.imgur.com/DuaPv.png\" alt=\"\">\nThank you.  </p>\n"},{"tags":["python","floating-point","floating-point-precision"],"answer_count":9,"favorite_count":18,"up_vote_count":77,"down_vote_count":4,"view_count":96974,"score":73,"question_id":455612,"title":"python limiting floats to two decimal points","body":"<p>I want a to be rounded to 13.95</p>\n\n<pre><code>&gt;&gt;&gt; a\n13.949999999999999\n\n\n&gt;&gt;&gt; round(a, 2)\n13.949999999999999\n</code></pre>\n\n<p>The round function does not work [the way I expect].</p>\n"},{"tags":["python","osx","numpy"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13132298,"title":"Python Numpy installation:","body":"<p>I want to install numpy, pylab, scipy, and ipython on Mac OS X Lion. I installed the following:  </p>\n\n<pre><code>python-2.7.3-macosx10.6.dmg, \nnumpy-1.6.1-py2.7-python.org-macosx10.6.dmg, \nmatplotlib-1.1.1-py2.7-python.org-macosx10.6.dmg, \nscipy-0.11.0-py2.7-python.org-macosx10.6.dmg\n</code></pre>\n\n<p>and obtained the following messages: </p>\n\n<pre><code>/var/folders/hm/bv37669175j2dvn_f87t4zcc0000gn/T/Cleanup\\ At\\ Startup/statistics_intro-373260522.639.py.command ; exit;\nRuntimeError: module compiled against API version 6 but this version of numpy is 4\nTraceback (most recent call last):\n...\n    from transforms import Bbox, IdentityTransform, TransformedBbox, TransformedPath\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/matplotlib/transforms.py\", line 34, in &lt;module&gt;\n    from matplotlib._path import affine_transform\nImportError: numpy.core.multiarray failed to import\n</code></pre>\n\n<p>Many users appear to be able to get numpy working by removing python and reinstall. I did that in /user/bin and /Library, but I still receive the error message. Help! </p>\n"},{"tags":["python","arrays","numpy","average"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13281904,"title":"avarage of a number of arrays with numpy without considering zero values","body":"<p>I am working on numpy and I have a number of arrays with the same size and shape like:\n<code>a= [153 186 0 258]\n  b=[156 136 156 0]\n  c=[193 150 950 757]</code>\nI want to have average of the arrays, but I want the program to ignore the zero values in the computation. So, the resulting array for this example will be: <code>d=[167.333 157.333 553 507.5]</code>\nthis is the result of this computation: <code>d=[(153+156+193)/3 (186+136+150)/3 (156+950)/2 (258+757)/2]</code>. Is it possible to do that?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13281511,"title":"List getting created incorrectly","body":"<p>I am trying to create a list based on the input below, and I don't see the expected output. Can anyone suggest where am I going wrong?</p>\n\n<p><strong>INPUT:</strong></p>\n\n<pre><code>CR  FA  CL  Title\n409452  WLAN    656885  Age out RSSI values from buffer in Beacon miss scenario\n415560  WLAN    656886  To Record SMD Event Logging\n</code></pre>\n\n<p>I want an OUTPUT like </p>\n\n<pre><code>[['CR', 'FA', 'CL', 'TITLE'], ['409452', 'WLAN', '656885', 'Age out RSSI values from buffer in Beacon miss scenario'], ['415560', 'WLAN', '656886','To Record SMD Event Logging']]\n</code></pre>\n\n<p>But i see its getting created like </p>\n\n<pre><code>[['CR', 'FA', 'CL', 'TITLE'], ['', '409452', 'WLAN', '656885\\tAge out RSSI values from buffer in Beacon miss scenario'], ['', '415560', 'WLAN', '656886\\tTo Record SMD Event Logging']]\n</code></pre>\n\n<p>Python code</p>\n\n<pre><code> for i in info.splitlines():\n    index = re.split(r'\\W+',i,3)\n    CRlist.append(index)\n</code></pre>\n"},{"tags":["python","initialization","global-variables","pytables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13280822,"title":"Python: Can i set global variables in a package __init__ module?","body":"<p>So i'm reading Alex Martelli's answer to <a href=\"http://stackoverflow.com/a/2361278/1658908\">other question</a>...</p>\n\n<blockquote>\n  <p>\"One example in which I may want initialization is when at package-load time I want to read in a bunch of data once and for all (from files, a DB, or the web, say) -- in which case it's much nicer to put that reading in a private function in the package's <strong>init</strong>.py rather than have a separate \"initialization module\" and redundantly import that module from every single real module in the package...\"</p>\n</blockquote>\n\n<p>Unfortunately, when i try this:</p>\n\n<p><strong>foo/__init__.py</strong></p>\n\n<pre><code>import tables as tb\nglobal foo\nfoo = tb.openFile('foo.h5', etc._)\nimport bar\n</code></pre>\n\n<p><strong>foo/bar/__init__.py</strong></p>\n\n<pre><code>import tables as tb\nglobal bar\nbar = foo.createGroup('/', bar)\nimport MyFunction`\n</code></pre>\n\n<p><strong>foo/bar/MyFunction.py</strong></p>\n\n<pre><code>def MyFunction(*of foo and bar*):\n   '...'\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; import foo\n&gt;&gt;&gt; OUTPUT= foo.bar.MyFunction.MyFunction(INPUT)\n&gt;&gt;&gt; bar = foo.createGroup('/', bar)\nNameError: name 'foo' is not defined\n</code></pre>\n\n<p>How does one define global variables without putting them in a function (as seen <a href=\"http://stackoverflow.com/a/1084996/1658908\">here</a>)?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13281663,"title":"How to insert a child subelement in Python ElementTree","body":"<p>My xml :-</p>\n\n<pre><code>&lt;users&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>i need to just append a child element :-</p>\n\n<pre><code>&lt;users&gt;\n&lt;user name=\"blabla\" age=\"blabla\" &gt;&lt;group&gt;blabla&lt;/group&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>My code giving some error :(</p>\n\n<pre><code>import xml.etree.ElementTree as ET\ndoc = ET.parse(\"users.xml\")\nroot_node = doc.find(\"users\")\nchild = ET.SubElement(root_node, \"user\")\nchild.set(\"username\",\"srquery\")\ngroup  = ET.SubElement(child,\"group\")\ngroup.text = \"fresher\"\ntree = ET.ElementTree(root_node)\ntree.write(\"users.xml\")\n</code></pre>\n\n<p>I missed out \"append\" , but i don't have idea where to add that. Thanks in advance.</p>\n"},{"tags":["python","ajax","google","application","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13262824,"title":"Ajax python how to post data","body":"<p>Sorry guys, maybe this has been asked before. But I googled around for several days and still cannot solve the problem. I am developing a chatting system using Google App Engine with Python. I would like the user to enter her/his message and click \"Submit\" button. That action will trigger an Ajax post function \"addMsg()\" to POST the message to class Chat (URL: \"/chat\"), which will add the message to datastore. There is another Ajax function \"updateMsg()\" which will update the message list periodically.</p>\n\n<p>The code works fine for message updating, however, I am not able to post the message correctly. Can anybody help me? Thanks. Here are my codes:</p>\n\n<h2>chat.html:</h2>\n\n<pre><code>    &lt;p&gt;\n    &lt;form method=\"\" action=\"\"&gt;\n    &lt;input type=\"text\" name=\"message\" size=\"60\" /&gt;&lt;br /&gt;\n    &lt;input type=\"button\" value=\"Submit\" onclick=\"addMsg('message')\" /&gt;\n    &lt;/form&gt;\n    &lt;/p&gt;\n    &lt;div id=\"chatcontent\"&gt; &lt;/div&gt;\n    &lt;script&gt;\n    function addMsg(message) {\n        $.ajax({\n            type: \"POST\",\n            url: \"/chat\",\n            data: {'message': message},\n            cache: false\n        });\n    }\n    &lt;/script&gt;\n\n    &lt;script&gt;\n    $(document).ready(function() {\n        function updateMsg() {\n            $.ajax({\n               url: \"/message\",\n               cache: false,\n               success: function(returndata){\n                    $(\"#chatcontent\").html(returndata);\n               }\n            });\n            setTimeout(updateMsg, 4000);\n        }\n        updateMsg();\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<h2>message.html:</h2>\n\n<pre><code>    {% for chat in chatlist %}\n    &lt;p&gt;\n      {{ chat.text }} ({{ chat.user.account }}) {{chat.created|date:\"D d M Y\" }}\n    &lt;/p&gt;\n    {% endfor %}\n</code></pre>\n\n<h2>chat.py:</h2>\n\n<pre><code>    # Called by URL \"/chat\"\n    class Chat(webapp2.RequestHandler):\n        def post(self):\n            message = self.request.get('message')\n            newchat = ChatMessage(user=self.session['userkey'], text=message, created=datetime.datetime.now())\n    newchat.put()\n\n    # Called by URL \"/message\"\n    class Message(webapp2.RequestHandler):\n        def get(self):\n            que = db.Query(ChatMessage).order('-created')\n            chatlist = que.fetch(limit=100)\n            render(self, 'message.html', {'chatlist': chatlist})\n            # Note: render() is a function to be imported, which is just a normal template rendering function. It works fine and is omitted here.\n</code></pre>\n"},{"tags":["python","amazon-ec2","amazon","ipython"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13281731,"title":"Amazon ec2 instance with ipython notebook","body":"<p>I launched a micro instance in amazon EC2. As I would like to use ipython notebook, I chose the linux image called ami-74d00c1d, that contains ipython notebook ready to go. Now I would like to create a web page using drupal in the same instance. So I have 2 questions:</p>\n\n<ol>\n<li><p>Is there any documentation about the organization of the ami? Where are the python files, where is the apache config...</p></li>\n<li><p>How can I change the instance config, to point the root to another page instead of the ipython notebook?</p></li>\n</ol>\n"},{"tags":["python","py2exe"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13236405,"title":"How to put files in folders using py2exe.","body":"<p><p>Hi!</p><p>I made a chess engine in python which i then compiled to .exe using py2exe. The problem is that it doesn't look very neat when i have all the strange files gathered together in the same folder (dist). I'd like to make a new folder inside the dist folder that contains all the helper files, so all my dist folder contains is the folder holding the helper files and the main launch application. However, i can't simply copy the helper files to a new folder, as the computer doesn't find them then and raises an error.</p></p>\n\n<p>How can it be solved? Also, i'm using inno setup to make an installation, but i can't figure out how to find a solution there, either.</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["python","time"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":134,"score":2,"question_id":11480032,"title":"python time.time() jumps backwards in time","body":"<p>I'm having an issue with timing in Python (version 2.5).</p>\n\n<ol>\n<li><p>The application is Python using Py2EXE.</p></li>\n<li><p>The application hooks into a PYD library containing Torque Game Engine Advanced written in CPP.</p></li>\n<li><p>The TGEA library calls Python exports to run functions.</p></li>\n<li><p>One function is showing issues with timing that happens when TGEA resets D3D. (changing resolution and restoring from minimized)</p></li>\n<li><p>The function records a timestamp saved in a class.  On the next pass, the new timestamp is less than the old timestamp indicating time has moved in reverse.</p></li>\n</ol>\n\n<p>My questions: What could be causing Python to jump back in time?</p>\n\n<p>What can I do other than identify the glitch and reset timers (which is my current solution)?</p>\n\n<pre><code> from time import time as sysTime\n ...\n\n        mytime = sysTime()\n        #SANITY WARNINGS these do not affect ticking that's done from C++\n        delta = mytime - self.lasttick\n        if (mytime &lt; self.lasttick):\n            print \" -- PlayerMind time warp.\"\n            receiveGameText(RPG_MSG_GAME_DENIED,\" !!! PlayerMind TIME WARP.\\\\n\")\n            self.lasttick = mytime\n            return\n        elif (delta &gt; 0.150 ):\n            print \" -- PlayerMind SLOW %f ms.\"%delta\n        elif (delta &lt; 0.100 ):\n            print \" -- PlayerMind FAST %f ms.\"%delta\n\n        self.lasttick = mytime\n</code></pre>\n"},{"tags":["python","string","loops","interpolation"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12907048,"title":"python String interpolation vs another method","body":"<p>My original python program used string interpolation to take a number a user enters between 0-9999 like 2928, and summed its individual digits (2+9+2+8=21), and then split the number until eventually it became a single digit number (in this case 3), which was displayed on the screen. The code looks like this:</p>\n\n<p>Now I am needing to figure out a way to do the same without using string interpolation(converting the integers to strings and then splitting the strings, reconverting them to integers, and summing them). I am fairly new to python and therefore can use very simple commands (most complex being the while loop) can anyone help me out/ throw me some ideas? </p>\n\n<p>*ps, I guess some ambiguity exists as to what yearint- year is. \"year\" is a command that i didnt write above but its code makes the user enter a number between 0-9999. I changed its variable name to \"yearint\" because I am new to python and want to make things descriptive so I can remember them when I look back. SO basically year/yearint are the input the user inputs.</p>\n"},{"tags":["python","command-line","py2exe","command-window"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13281034,"title":"How to prevent command window from closing when program finishes executing","body":"<p>I have made a small program in Python (.py) and converted it into a Windows executable file (.exe) using Py2exe. It asks for a string and outputs a string--very simple--and works perfectly in Python. </p>\n\n<p>The problem is when the .exe version finishes executing in the command window, it immediately closes, before I can even get a glimpse of its output :) (I assume it prints the output, because it works perfectly in Python).</p>\n\n<p>How can I prevent this? I presume I have to change my code, but what exactly do I have to add to it?</p>\n\n<p>Here is my code, in case it might help to see it (it's a word-wrapper):</p>\n\n<pre><code>import string\n\ndef insertNewlines(text, lineLength):\n    if text == '':\n        return ''\n    elif len(text) &lt;= lineLength:\n        return text\n    elif text[lineLength] == ' ':\n        return text[:lineLength] + '\\n' + insertNewlines(text[lineLength+1:], lineLength)\n    elif text[lineLength-1] == ' ':\n        return text[:lineLength] + '\\n' + insertNewlines(text[lineLength:], lineLength)\n    else:\n        if string.find(text, ' ', lineLength) == -1:\n            return text\n        else:\n            return text[:string.find(text,' ',lineLength)+1] + '\\n' + insertNewlines(text[string.find(text,' ',lineLength)+1:], lineLength)\n    print\n\nif __name__ == '__main__':\n    text = str(raw_input(\"Enter text to word-wrap: \"))\n    lineLength = int(raw_input(\"Enter number of characters per line: \"))\n    print \n    print insertNewlines(text, lineLength)\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["python","class","pointers","for-loop","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13280056,"title":"passing an array of pointers to python class","body":"<p>I am new to python. I am familiar with C++. I would convert the flowing C++ code to python.</p>\n\n<pre><code>class School{\n    School(char *name, int id, Student* pointers){\n    {\n        this.name=name;\n        this.weapon=weapon;\n        this.students=pointers;\n    }\n    print(){\n        for(int i=0;i&lt;10;i++){\n            this.students.print();\n        }\n    }\n};\n</code></pre>\n\n<p>As you see I am trying to pass a pointer to an array of objects of type Student\nI am not sure if python allow me to pass pointers. This is what I did in python</p>\n\n<pre><code>class School():\n    def __init__(self, name, *students):\n        self.name=name\n        self.students=students\n\n    def display(self):\n        for student in self.students\n            student.display()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13281590,"title":"How can I get a class object/instance from a previous __import__ in Python?","body":"<p>Let's suppose you have a module named \"module\" inside a hirearchical \"folder2\" with a class named \"klass\".</p>\n\n<p>How can I get the class like in a square bracket syntax?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>module = __import__('folder1.folder2.module', fromlist='*')\nsbs_module = module['klass']\n\n#lets say we print a value from the method getValue\nprint sbs_module.getValue()\n</code></pre>\n"},{"tags":["python","csv","syntax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13281463,"title":"invalid python syntax in my 'for' loop","body":"<pre><code>def citypop():\n  import csv                                  \n  F = open(\"Top5000Population.txt\")           \n  csvF = csv.reader(F)\n  D = {}\n  with csvF for row in csvF:\n      city,state,population = row[0],row[1],row[2] \n      population = population.replace(',','') \n      population = int(population)\n      city = city.upper()[:12]\n      D[(city, state)] = population\n  return D\n</code></pre>\n\n<p>The function <code>citypop()</code> returns a dict with <code>(city,state)</code> as the key and the population of that city (in that state) as the value.</p>\n\n<p>I keep getting a syntax error .. am I not understanding the csv module correctly?</p>\n\n<p>EDIT: thanks for the help guys....this should work but now all of the sudden I am getting the error </p>\n\n<pre><code> for city, state, population in reader(F):       File \"/Library/Frameworks/Python.framework/Versions/3.3/lib/python3.3/encodings/ascii.py\", line 26, in decode         return codecs.ascii_decode(input, self.errors[0]) UnicodeDecodeError: 'ascii' codec can't decode byte 0xa4 in position 7062: ordinal not in range(128)  \n</code></pre>\n\n<p>When I run the test cases .... any suggestions?</p>\n"},{"tags":["python","python-2.x"],"answer_count":6,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":80,"score":7,"question_id":13280680,"title":"How dangerous is setting self.__class__ to something else?","body":"<p>Say I have a class, which has a number subclasses.</p>\n\n<p>I can instantiate the class. I can then set its <code>__class__</code> attribute to one of the subclasses. I have effectively changed the class type to the type of its subclass, on a live object. I can call methods on it which invoke the subclass's version of those methods.</p>\n\n<p>So, how dangerous is doing this? It seems weird, but is it <em>wrong</em> to do such a thing? Despite the ability to change type at run-time, is this a feature of the language that should completely be avoided? Why or why not?</p>\n\n<p>(Depending on responses, I'll post a more-specific question about what I would like to do, and if there are better alternatives).</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13281622,"title":"shutil.copy script not working","body":"<p>I wrote a script in python that was supposed to copy a bunch of files to system32 and then install them through cmd.</p>\n\n<p>I can do it manually but I'm trying to make it automatic. This is what I wrote:</p>\n\n<pre><code>import shutil\nimport os\nL = ['file1.type', 'file2.type'.... ]\ndst = \"C:\\\\Windows\\\\system32\"\nfor f in L:\n     shutil.copy(f, dst)\nos.system(\"cmd command yada yada...\")\n</code></pre>\n\n<p>And it doesn't work. I tried doing it step by step with idle and it worked fine. All the files are in the same directory as the script. What am I missing here?</p>\n"},{"tags":["python","powershell","exchange"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13266159,"title":"How can I run command in Microsoft Exchange Server Powershell through Python script?","body":"<p>I want to check the number of mailbox in Microsoft Exchange Server. This command works fine in standard cmd.exe:</p>\n\n<pre><code>\"C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe\" -command \". 'C:\\Program Files\\Microsoft\\Exchange Server\\V14\\bin\\RemoteExchange.ps1'; Connect-ExchangeServer -auto ; Get-Mailbox | Measure-Object\"\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>...\nCount    : 3\nAverage  :\nSum      :\nMaximum  :\nMinimum  :\nProperty :\n</code></pre>\n\n<p>Then I am going to code it in Python, using \"-ExecutionPolicy RemoteSigned\":</p>\n\n<pre><code>cmd = \"C:\\\\Windows\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe\n -ExecutionPolicy RemoteSigned\n -command \\\". 'C:\\\\Program Files\\\\Microsoft\\\\Exchange Server\\\\V14\\\\bin\\\\RemoteExchange.ps1'; Connect-ExchangeServer -auto; Get-Mailbox | Measure-Object\\\"\"\nos.system(cmd)\n</code></pre>\n\n<p>There is lots of error about loading RemoteExchange.ps1 file.</p>\n\n<pre><code>Get-ItemProperty : Cannot find path 'HKLM:\\SOFTWARE\\Microsoft\\ExchangeServer\\v14\\Setup' because it does not exist.\nAt C:\\Program Files\\Microsoft\\Exchange Server\\V14\\bin\\RemoteExchange.ps1:46 char:34\n+ $global:exbin = (get-itemproperty &lt;&lt;&lt;&lt;  HKLM:\\SOFTWARE\\Microsoft\\ExchangeServer\\v14\\Setup).MsiInstallPath + \"bin\\\"\n    + CategoryInfo          : ObjectNotFound: (HKLM:\\SOFTWARE\\...erver\\v14\\Setup:String) [Get-ItemProperty], ItemNotFo\n   undException\n    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetItemPropertyCommand\n\n...\n\nThe Exchange types file wasn't loaded because not all of the required files could be found.\nUpdate-TypeData : Cannot find path 'C:\\Users\\administrator.SCCM01\\bin\\Exchange.partial.Types.ps1xml' because it does no\nt exist.\nAt C:\\Program Files\\Microsoft\\Exchange Server\\V14\\bin\\RemoteExchange.ps1:104 char:16\n+ Update-TypeData &lt;&lt;&lt;&lt;  -PrependPath $partialTypeFile\n    + CategoryInfo          : InvalidOperation: (bin\\Exchange.partial.Types.ps1xml:String) [Update-TypeData], ItemNotF\n   oundException\n    + FullyQualifiedErrorId : TypesPrependPathException,Microsoft.PowerShell.Commands.UpdateTypeDataCommand\n</code></pre>\n\n<p>Although the welcome screen of Exchange Management Shell appears, it failed to load RemoteExchange.ps1, and \"Get-Mailbox\" command is not working at all.</p>\n\n<p>I guess I must have missed something important. How can I solve this problem? Please help.</p>\n\n<p><strong>Edit</strong>: Why should I add <code>-ExecutionPolicy RemoteSigned</code> in Python script? If I do not do that, it will result in a different error:</p>\n\n<pre><code>File C:\\Program Files\\Microsoft\\Exchange Server\\V14\\bin\\RemoteExchange.ps1 cannot be loaded because the execution of scripts is disabled on this system. Please see \"get-help about_signing\" for more details.\n</code></pre>\n\n<p>Refer to this <a href=\"http://stackoverflow.com/questions/6901856/invoking-a-powershell-script-from-python\">thread</a>, and <code>RemoteSigned</code> is better than <code>Unrestricted</code>. Both of them work in cmd.exe, but not work in Python script.</p>\n"},{"tags":["python","mysql-python","web.py"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":65,"score":5,"question_id":13268061,"title":"Why Chinese garbled when use webpy but it's normal when use MySQLdb?","body":"<p>I create a database in mysql and use webpy to construct my web server.</p>\n\n<p>But it's so strange for Chinese character between the webpy's and MySQLdb's behaviors when using them to access database respectively.</p>\n\n<p>Below is my problem:</p>\n\n<p>My table t_test (utf8 databse):</p>\n\n<pre><code>id     name\n1      测试\n</code></pre>\n\n<p>the utf8 code for \"测试\" is: \\xe6\\xb5\\x8b\\xe8\\xaf\\x95</p>\n\n<p>when using MySQLdb to do \"select\" like this:</p>\n\n<pre><code>    c=conn.cursor()\n    c.execute(\"SELECT * FROM t_test\")\n    items = c.fetchall()\n    c.close()\n    print \"items=%s, name=%s\"%(eval_items, eval_items[1])\n</code></pre>\n\n<p>the result is normal, it prints:</p>\n\n<pre><code>    items=(127L, '\\xe6\\xb5\\x8b\\xe8\\xaf\\x95'), name=测试\n</code></pre>\n\n<p>But when I use webpy do the same things:</p>\n\n<pre><code>    db = web.database(dbn='mysql', host=\"127.0.0.1\", \n             user='test', pw='test', db='db_test', charset=\"utf8\")\n    eval_items=db.select('t_test')\n    comment=eval_items[0].name\n    print \"comment code=%s\"%repr(comment)\n    print \"comment=%s\"%comment.encode(\"utf8\")\n</code></pre>\n\n<p>Chinese garble occured, the print result is:</p>\n\n<pre><code>    comment code=u'\\xe6\\xb5\\u2039\\xe8\\xaf\\u2022'\n    comment=忙碌鈥姑€\n</code></pre>\n\n<p>I know webpy's database is also dependent on MySQLdb， but it's so different for these two way. Why?</p>\n\n<p>BTW, for the reason above, I can just use MySQLdb directly to solve my Chinese character garble problem, but it loses the clolumn name in table——It's so ungraceful. I want to know how can I solve it with webpy?</p>\n"},{"tags":["python","django","django-middleware"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13281392,"title":"Django middleware is ImproperlyConfigured?","body":"<p>For some reason, I am getting an ImproperlyConfigured error on account of custom middleware.</p>\n\n<pre><code>[Wed Nov 07 20:47:07 2012] [error] [client 158.130.107.158] File does not exist: /home/davidxu/public_html/favicon.ico\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158] mod_wsgi (pid=24114): Exception occurred processing WSGI script '/home/davidxu/dev/Penn-Course-Review-api/api/django.wsgi'.\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158] Traceback (most recent call last):\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158]   File \"/usr/local/lib/python2.6/dist-packages/django/core/handlers/wsgi.py\", line 219, in __call__\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158]     self.load_middleware()\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158]   File \"/usr/local/lib/python2.6/dist-packages/django/core/handlers/base.py\", line 47, in load_middleware\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158]     raise exceptions.ImproperlyConfigured('Error importing middleware %s: \"%s\"' % (mw_module, e))\n[Wed Nov 07 20:47:09 2012] [error] [client 158.130.107.158] ImproperlyConfigured: Error importing middleware api.apiconsumer.authenticate: \"No module named api.apiconsumer.authenticate\"\n</code></pre>\n\n<p>For reference, here are the relevant parts of the <code>settings.py</code> file:</p>\n\n<pre><code>MIDDLEWARE_CLASSES = ( \n    'django.middleware.common.CommonMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.cache.UpdateCacheMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.cache.FetchFromCacheMiddleware',\n    'api.apiconsumer.authenticate.Authenticate',\n)\n\nINSTALLED_APPS = ( \n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'api.courses',\n    'api.apiconsumer',\n    # Uncomment the next line to enable the admin:\n    'django.contrib.admin',\n    'api.static_content',\n    'django_extensions', # used for debugging, remove if problematic\n    'django.contrib.staticfiles',\n    # Uncomment the next line to enable admin documentation:\n    # 'django.contrib.admindocs',\n)\n</code></pre>\n\n<p>And the <code>django.wsgi</code> file for what its worth. (Note, There is a lot of custom stuff in here.)</p>\n\n<pre><code>import os,sys\n\nPROJECT_PATH = os.path.realpath(os.path.dirname(__file__))\n\nsys.path.append(PROJECT_PATH)\n\n\nfrom sandbox_config import *\n\n#Uncomment these two lines to use virtualenv\n#activate_this = os.path.join(COURSESAPI_APP_ROOT, \"ENV/bin/activate_this.py\")\n#execfile(activate_this, dict(__file__=activate_this))\n\nsys.path.append(DEV_ROOT)\nsys.path.append(COURSESAPI_APP_ROOT)\n\nos.environ['DJANGO_SETTINGS_MODULE'] = 'settings'\n\nimport django.core.handlers.wsgi\napplication = django.core.handlers.wsgi.WSGIHandler()\n</code></pre>\n\n<p>Unfortunately, at this point I'm not really sure what to try. The error is extremely unhelpful.</p>\n\n<ul>\n<li>Deleting the line in question caused the next custom middleware to break the program, which makes me think it may be a path issue.</li>\n<li>Google doesn't seem to have much in the way of help.</li>\n</ul>\n\n<p>Any ideas what the issue may be and what's worth trying?</p>\n"},{"tags":["python","file","url","multiple"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13281450,"title":"Is it possible to open multiple URLs from a .txt and scrape all the webpages at once?","body":"<p>I can't understand how to deal with more than one URL. This is what I've tried so far, but it's only scraping the last URL from the list:</p>\n\n<pre><code>from twill.commands import *\nfrom bs4 import BeautifulSoup\nfrom urllib import urlopen\n\nwith open('urls.txt') as inf:\n    urls = (line.strip() for line in inf)\n    for url in urls:\n        line = url \n\nsite = urlopen(url)   \n\nsoup = BeautifulSoup(site)\n\nfor td in soup.find_all('td', {'class': 'subjectCell'}):\n    print td.find('a').text\n</code></pre>\n"},{"tags":["python","dictionary"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":48,"score":-1,"question_id":13281377,"title":"Python: Converting a dictionary value to a list","body":"<p>If I have <code>d = {\"key\": (5,4,\"val1\",\"val2\",2)}</code> How would I grab val1 out of the tuple and turn it into a list by itself?</p>\n"},{"tags":["python","django","eclipse","pinax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13203315,"title":"What are the different options to install pinax(0.9a) inclusive requirements?","body":"<p>I tried the classical way with <code>pip install Pinax</code> and then install the requirements base.txt, but this does not work?</p>\n\n<p>What are other options to install a working pinax(0.9) base project inclusive requirements?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Thats the exception installing it the \"proper\" way...</p>\n\n<pre><code>Created project mysite\nInstalling project requirements...\nTraceback (most recent call last):\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\Scripts\\pinax-admin-script\n.py\", line 8, in &lt;module&gt;\n    load_entry_point('Pinax==0.9a2', 'console_scripts', 'pinax-admin')()\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\__init__.py\", line 105, in execute_from_command_line\n    runner.execute()\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\__init__.py\", line 94, in execute\n    self.loader.load(command).run_from_argv(argv)\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\base.py\", line 45, in run_from_argv\n    self.handle(*args, **options.__dict__)\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\commands\\setup_project.py\", line 66, in handle\n    self.setup_project(args[0], options[\"base\"], options)\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\commands\\setup_project.py\", line 134, in setup_project\n    installer.install_reqs(not options[\"allow_no_virtualenv\"])\n  File \"C:\\Users\\Desktop\\Django\\lol\\mysite-env\\lib\\site-packages\\pinax\\co\nre\\management\\commands\\setup_project.py\", line 207, in install_reqs\n    pip.call_subprocess([\nAttributeError: 'module' object has no attribute 'call_subprocess'\n</code></pre>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":69,"score":5,"question_id":13248020,"title":"what's the difference between 'r+' and 'a+' when open file in python","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1466000/python-open-built-in-function-difference-between-modes-a-a-w-w-and-r\">python open built-in function: difference between modes a, a+, w, w+, and r+?</a>  </p>\n</blockquote>\n\n\n\n<p>I have try <code>r+</code> and <code>a+</code> to open file and read and write, but 'r+' and 'a+' are all append the str to the end of the file.</p>\n\n<p>So, what's the difference between <code>r+</code> and <code>a+</code> ?</p>\n\n<hr>\n\n<p>Add:</p>\n\n<p>I have found the reason: </p>\n\n<p>I have read the file object and forgot to seek(0) to set the location to the begin</p>\n"},{"tags":["python","import","wildcard"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":13280916,"title":"Python: Import * only imports certain things from package?","body":"<p>I've got a package called elements that contains some stuff like button, trifader, poster. In the Button class, I am doing <code>from elements import *</code></p>\n\n<p>This executes OK, and when I try to <code>print(poster)</code>, also works OK and functions as expected. However, when I do <code>print(trifader)</code>, <code>NameError: name 'trifader' is not defined</code>. Even though trifader and poster are in the same package, poster is defined, but trifader isn't? How weird. Is there any explanation for this?</p>\n\n<p>The directory structure of the elements package is this:</p>\n\n<pre><code>Elements:\n  __init__.py\n  trifader.py\n  button.py\n  poster.py\n</code></pre>\n\n<p>Also, some other stuff that isn't really relevant.</p>\n\n<p>Each .py file contains a class with the name of the .py, for example, trifader.py has a class called TriFader.</p>\n"},{"tags":["python","kml"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13280656,"title":"Having problems creating kmls with python","body":"<p>I am creating kml files using python and the simplekml creator.\nFor some reason it creates two kml files and will not create the third. Data seems fine to me. Here is the code:</p>\n\n<pre><code>times=open(\"E:\\\\Python\\Copyofresttable.csv\",\"r\")\nimport time\nimport csv\nimport simplekml\nfrom time import strftime, localtime\ndayoftheweekvariable = strftime(\"%A\", localtime())\nprint dayoftheweekvariable\nkml = simplekml.Kml()\n\n\nif dayoftheweekvariable == \"Monday\":\n     for line in times:\n        a = line.split(',')\n        if a[2] == \"Monday\":\n            print a[5]\n\nif dayoftheweekvariable == \"Tuesday\":\n     for line in times:\n        a = line.split(',')\n        if a[2] == \"Tuesday\":\n            print a[5]\n\nif dayoftheweekvariable == \"Wednesday\":\n    for line in times:\n        a = line.split(',')\n\n        if a[1]== \"Iron Hill\" and a[2] ==\"Wednesday\":\n            kml.newpoint(name=\"Iron Hill\", coords=[(-75.605507,39.960504)], description=a[5])\n            kml.save(\"pythonmap.kml\")\n            print \"Creating KML\"\n\n        if a[1]== \"Side Bar and Resturant\" and a[2] ==\"Wednesday\":\n            kml.newpoint(name=\"Side Bar and Resturant\", coords=[(-75.604805,39.960591)], description=a[5])\n            kml.save(\"pythonmap.kml\")\n            print \"Creating KML\"\n\n        if a[1]== \"Barnaby's\" and a[2] ==\"Wednesday\":\n            kml.newpoint(name=\"Barnaby's\", coords=[(-75.604049,39.959488)], description=a[5])\n            kml.save(\"pythonmap.kml\")\n            print \"Creating KML\"\n</code></pre>\n\n<p>obviously testing this out on Wednesday night...As for the last three if statements, no matter what order i put them in, it will create a kml for Iron Hill and Barnaby's but not side bar. this is the result it returns:</p>\n\n<pre><code>Wednesday\nCreating KML\nCreating KML\n\nTraceback (most recent call last):\n  File \"C:/Users/75IV740906/Desktop/py117\", line 26, in &lt;module&gt;\n    if a[1]== \"Iron Hill\" and a[2] ==\"Wednesday\":\nIndexError: list index out of range\n</code></pre>\n\n<p>the error message calls out what ever if statement is on top. Im stumped. Hope my question makes sense(why is it giving me this error message and only creating two kmls no matter what order the if statements are in)</p>\n"},{"tags":["python","xhtml","markdown","wiki","google-custom-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13281345,"title":"Using Google Custom Search with markdoc wiki page","body":"<p>I am trying to use <a href=\"http://www.google.com/cse\" rel=\"nofollow\">google custom search</a> on my <a href=\"http://markdoc.org\" rel=\"nofollow\">markdoc</a> based wiki, but can't get it working, it gives the following error on chrome (the only browser that seems to work without problem is Opera):</p>\n\n<pre><code>This page contains the following errors:\n\nerror on line 38 at column 76: Namespace prefix gcse on search is not defined\n\nBelow is a rendering of the page up to the first error.\n</code></pre>\n\n<p>I've tried to use a div for declaring the element, but then the search doesn't work, my wiki is in <a href=\"http://wiki.daniloshiga.com\" rel=\"nofollow\">http://wiki.daniloshiga.com</a> and it's source code is on <a href=\"http://github.com/daneoshiga/wikishiga\" rel=\"nofollow\">github</a></p>\n\n<p>I've tried to change the output format from markdoc to html, converted the markdoc base template to html and still the same error occurs.</p>\n"},{"tags":["python","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13281238,"title":"How to print a python function return value in shell?","body":"<pre><code>def hello():\n    return \"hello world\"\n</code></pre>\n\n<p>The above is my python code. In the shell I am entering:</p>\n\n<pre><code>fooshell=$(python -c 'import hello; hello.hello()')\n</code></pre>\n\n<p>but when I do </p>\n\n<pre><code>echo $fooshell\n</code></pre>\n\n<p>I am getting an empty line.</p>\n"},{"tags":["javascript","python","ruby","windows","lua"],"answer_count":12,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":1346,"score":12,"question_id":4756544,"title":"Which scripting language is better for embedding in multi-threaded C/C++ application","body":"<p>Considering the following requirementes:</p>\n\n<ul>\n<li>Must be supported on Windows.  Preferably works also on other platforms.</li>\n<li>Must support multi threading.  By that I mean that the engine can work in parallel in multiple threads.</li>\n<li>Readability is important.</li>\n<li>License must be compatible with closed-source projects.</li>\n</ul>\n\n<p>I like Python for its readablity.  I am also have more experience with Python than other scripting languages.  However CPython is not multi-threaded, and IronPython requires hosting the CLR and a compatible language (C++/CLI or C#). </p>\n"},{"tags":["python","file"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":46,"score":-8,"question_id":13281240,"title":"Python how do I do this","body":"<p>Write a function, called censor(fileName) that takes, as input, the name of a file.  The function \nshould open the file, read it, and then write it into a file called censored.txt with this modification: Every occurrence of a four-letter word in the file should be replaced with the string XXXX.  For example, if the file \ncontains the phrase “the quick brown fox jumps over the lazy dog”, the file censored.txt should contain the \nphrase “the quick brown fox jumps XXXX the XXXX dog”.  (the Xs are capital letters).</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13281107,"title":"KeyError: 'value'","body":"<p>I am running into the following error while trying to construct a HTML code form pythong,below is the shared the CR list and the python code..basically what I understand from teh error is there is no key value but I cannot figure out how to over come this...please advise</p>\n\n<p>SYNTAX ERROR:-</p>\n\n<pre><code>Title=CRlist[i][j],\nKeyError: 'value'\n\nCRlist:-\n[['CR', 'FA', 'CL', 'TITLE'], ['', '409452', 'WLAN', '656885\\tAge out RSSI values from buffer in Beacon miss scenario'], ['', '415560', 'WLAN', '656886\\tTo Record SMD Event Logging'], ['', '413064', 'wlan', '654661\\tTo Record HAL and SLM FW Event Logging'], ['', '379104', 'BT', '656928\\tCR379104: BT doesn\\xe2\\x80\\x99t work that Riva neither sends HCI Evt for HID ACL data nor response to HCI_INQUIRY after entering into pseudo sniff subrating mode.']]\n</code></pre>\n\n<p>Python code</p>\n\n<pre><code># Loop over all the components\ni = 1\nj = 0\n#print \"len(CRlist)\"\n#print len(CRlist)\nprint \"range(len(CRlist))\"\nprint range(len(CRlist))\nprint \"CRlist\"\nprint CRlist\n#print \"CRcount\"\n#print CRcount\nfor i in range(len(CRlist)):\n    print \"i\"\n    print i\n    for j in range(len(CRlist)):\n        print \"j\"\n        print j\n        if CRlist[i][j]:\n            CRstring += \"\"\"\n            &lt;tr&gt;\n            &lt;td&gt;&lt;a href=\"{CR}\"&gt;{CR}&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;{FA}&lt;/td&gt;\n            &lt;td&gt;{CL}&gt;{value}&lt;/td&gt;\n            &lt;td&gt;{Title}&lt;/td&gt;\n            &lt;/tr&gt;\"\"\".format(\n                CR=CRlist[i][j],\n                FA=CRlist[i][j],\n                CL=CRlist[i][j],\n                Title=CRlist[i][j],\n                )\n\nCRstring += \"\\n&lt;/table&gt;\\n\"\n</code></pre>\n"},{"tags":["python","sockets","python-3.x","typeerror"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13274553,"title":"python 3.3 socket TypeError","body":"<p>I am trying to make a timestamp server and client. The client code is:</p>\n\n<pre><code>from socket import *\n\nHOST = '127.0.0.1' # or 'localhost'\nPORT = 21567\nBUFSIZ = 1024\nADDR = (HOST, PORT)\n\ntcpCliSock = socket(AF_INET, SOCK_STREAM)\ntcpCliSock.connect(ADDR)\n\nwhile True:\n    data = input('&gt; ')\n    if not data:\n        break\n    tcpCliSock.send(data)\n    data = tcpCliSock.recv(BUFSIZ)\n    if not data:\n        break\n    print(data.decode('utf-8'))\n\ntcpCliSock.close()\n</code></pre>\n\n<p>and the server code is:</p>\n\n<pre><code>from socket import *\nfrom time import ctime\n\nHOST = ''\nPORT = 21567\nBUFSIZ = 1024\nADDR = (HOST, PORT)\n\ntcpSerSock = socket(AF_INET, SOCK_STREAM)\ntcpSerSock.bind(ADDR)\ntcpSerSock.listen(5)\n\nwhile True:\n    print('waiting for connection...')\n    tcpCliSock, addr = tcpSerSock.accept()\n    print('connected from: ', addr)\n\n    while True:\n        data = tcpCliSock.recv(BUFSIZ)\n        if not data:\n            break\n        tcpCliSock.send('[%s] %s' % (bytes(ctime(), 'utf-8'), data))\n\n    tcpCliSock.close()\ntcpSerSock.close()\n</code></pre>\n\n<p>The server is working fine but when I send any data to the server from the client I get the following error:</p>\n\n<pre><code>File \"tsTclnt.py\", line 20, in &lt;module&gt;\n    tcpCliSock.send(data)\nTypeError: 'str' does not support the buffer interface \n</code></pre>\n"}]}
{"total":142318,"page":5,"pagesize":100,"questions":[{"tags":["python","subprocess","sigkill"],"answer_count":5,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":3199,"score":7,"question_id":1884941,"title":"Killing the child processes with the parent process","body":"<p>I have a program spawning and communicating with cpu heavy, unstable processes, not created by me. If my app crashes or is killed by sigkill, I want the subprocesses to get killed as well, so the user don´t have to track them down and kill them manually.</p>\n\n<p>I know this topic has been covered before, but I have tried all methods described, and none of them seams to live up to survive the test.</p>\n\n<p>I know it must be possible, since terminals do it all the time. If I run something in a terminal, and kill the terminal, the stuff always dies.</p>\n\n<p>I have tried atexit, double fork and ptys. atexit doenst work for sigkill; double fork doesnt work at all; and ptys I have found no way to work with using python.</p>\n\n<p>Today I found out about prctl(PR_SET_PDEATHSIG, SIGKILL), which should be a way for childprocesses to order a kill on themselves, when their parent dies.\nI tried to use it in python, with popen, but it seams to have no effect at all:</p>\n\n<pre><code>import ctypes, subprocess\nlibc = ctypes.CDLL('/lib/libc.so.6')\nPR_SET_PDEATHSIG = 1; TERM = 15\nimplant_bomb = lambda: libc.prctl(PR_SET_PDEATHSIG, TERM)\nsubprocess.Popen(['gnuchess'], preexec_fn=implant_bomb)\n</code></pre>\n\n<p>In the above the child is created and the parent exits. Now you would expect gnuchess to recieve a SIGKILL and die, but it doesnt. I can still find it in my process mamager using 100% cpu.</p>\n\n<p>Can anybody tell me if there is something wrong with my use of prctl?,\nor do you know how terminals manage to kill their children?</p>\n"},{"tags":["python","class","reference","import","module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13281066,"title":"Python Import Visible Globally But Not Within Class","body":"<p>I am trying to import a pythom module to another (both in the same directory), however it is only visible globally and not within the class definition as this screencap shows:\n<img src=\"http://i.stack.imgur.com/tzOBx.png\" alt=\"enter image description here\"></p>\n\n<p>What could be wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","dictionary","multiprocessing","shortest-path"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280899,"title":"Using multiprocessing to compute shortest path on a graph","body":"<p>I currently have a shortest path algorithm that receives as inputs the Graph and a Node of origin, and returns the costs for all nodes in the graph plus the tree (precedents for each node).\n   The graph is a dictionary, so are the costs AND the tree.</p>\n\n<p>Since I have to compute the shortest path trees with origins in all nodes, it is only natural to do it in parallel (as the trees are independent of each other).  </p>\n\n<p>I'm doing it with the use of a pool of workers using the multiprocessing and appending the results to a list (so I want a list of dictionaries). </p>\n\n<p>It runs without errors, but the interesting part is that the processing time does not change with the number of workers (NO CHANGE AT ALL).</p>\n\n<p>Any insight on why does that happen will be mostly appreciated.  Code follows below. </p>\n\n<pre><code>from LoadData import *\nfrom ShortestPathTree import shortestPath\nfrom time import clock, sleep\nfrom multiprocessing import Pool, Process, cpu_count, Queue\n\n\ndef funcao(G,i):\n    costs, pred=shortestPath(G,i)\n    return pred\n\n\ndef main():\n\n    #loads the graph\n    graph=\"graph.graph\"\n    G = load_graph(graph)\n\n    # loads the relevant nodes (CENTROIDS)\n    destinations=\"destinations.graph\"\n    DEST = load_relevant_nodes(destinations)\n\n    f = open('output_parallel.out','w')\n    start=clock()\n\n\n    pool=Pool()\n\n    resultados=[]\n    def adder(value):\n        resultados.append(value)\n\n\n    #for i in range(len(DEST)):\n    for i in range(486):\n        pool.apply_async(funcao, args=(G,DEST[i]), callback=adder)\n\n    pool.close()\n    pool.join()\n\n\n    print clock()-start\n    print &gt;&gt; f, resultados\n    print &gt;&gt; f, 'seconds: '+ str(clock()-start)\n</code></pre>\n"},{"tags":["python","string","lxml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13280660,"title":"parse nested html lists using lxml in python","body":"<p>I am trying to parse the elements of an html list which looks like this:</p>\n\n<pre><code>&lt;ol&gt;\n    &lt;li&gt;r1&lt;/li&gt;\n    &lt;li&gt;r2\n        &lt;ul&gt;\n            &lt;li&gt;n1&lt;/li&gt;\n            &lt;li&gt;n2&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li&gt;r3\n        &lt;ul&gt;\n            &lt;li&gt;d1\n                &lt;ol&gt;\n                    &lt;li&gt;e1&lt;/li&gt;\n                    &lt;li&gt;e2&lt;/li&gt;\n                &lt;/ol&gt;\n            &lt;/li&gt;\n            &lt;li&gt;d2&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li&gt;r4&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>I am fine with parsing this for the most part, but the biggest problem for me is in getting the dom text back. Unfortunately lxml's node.text_content() returns the text form of the complete tree under it. Can I obtain the text content of just that element using lxml, or would I need to use string manipulation or regex for that?</p>\n\n<p>For eg: the node with d1 returns \"d1e1e2\", whereas, I want it to return just d1.</p>\n"},{"tags":["python","time","precision"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":13280743,"title":"In Python, is time.time() * 1000 precise enough?","body":"<p>I want to capture timestamps with sub-second precision in python. It looks like the standard answer is <code>int(time.time() * 1000)</code></p>\n\n<p>However, if <code>time.time()</code> returns a float, won't you have precision problems? There will be some values that won't represent accurately as a float.</p>\n\n<p>I'm worried about some fractional times that don't represent correctly as a float, and the timestamp jumping forward or backward in those cases.</p>\n\n<p>Is that a valid concern?</p>\n\n<p>If so, what's the work-around?</p>\n"},{"tags":["python","string","list","combinations","vowel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13280357,"title":"Finding all combinations of vowel replacements","body":"<p>I am trying to find all possible combinations for all vowels in a word. So for example given 'hello':</p>\n\n<p><code>[halla, halle, halli, hallo, hallu, hella, halle, halli, hallo, hallu...]</code></p>\n\n<p>So far, I have written the following function which will just take each vowel, and at each vowel, it will just replace it all with the vowels and add each version into a list. I'm trying to change that into the permutation as I want but it's not working. I tried inserting vowels(\"\".join(string), arr) after the append but that results in infinite recursion.</p>\n\n<pre><code>def vowels(word, arr=None):\n    if arr is None:\n        a = []\n\n    for i, c in enumerate(word):\n        if c in 'aeiou':\n            for v in 'aeiou':\n                string = list(word)\n                string[i] = v\n                arr.append(\"\".join(string))\n    return arr\n</code></pre>\n\n<p>Anyone has any suggestions?</p>\n"},{"tags":["python","statistics","scipy","normal-distribution"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13279940,"title":"Scipy's normaltest Function Seems Inaccurate","body":"<p>Using <code>scipy.stats.norm</code> to generate a random sample, then running that through <code>scipy.stats.normaltest</code> produces wildly varying outputs:</p>\n\n<pre><code>from scipy.stats import norm, normaltest\n\nnormaltest(norm.rvs(size=1000))\n# (0.10435743048081543, 0.94915922246569517)\nnormaltest(norm.rvs(size=1000))\n# (0.57583529133190114, 0.74982334089826597)\nnormaltest(norm.rvs(size=1000))\n# (0.074086867327589984, 0.96363428027274967)\nnormaltest(norm.rvs(size=1000))\n# (2.0817923824843461, 0.35313806086602029)\nnormaltest(norm.rvs(size=1000))\n# (0.25177398640139054, 0.88171448088503002)\nnormaltest(norm.rvs(size=1000))\n# (2.5213062252950227, 0.2834688289515595)\nnormaltest(norm.rvs(size=1000))\n# (2.0550957310741165, 0.35788346385342579)\nnormaltest(norm.rvs(size=1000))\n# (4.5722298301301869, 0.10166065590209576)\nnormaltest(norm.rvs(size=1000))\n# (3.0060164141422421, 0.22245994699827343)\nnormaltest(norm.rvs(size=1000))\n# (1.8870291791486471, 0.38925734860089078)\nnormaltest(norm.rvs(size=1000))\n# (0.24931060262844901, 0.88280115054104014)\n</code></pre>\n\n<p>Only one of these has a p-value &lt; 0.05. This seems really broken. Am I missing something?</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":69,"score":1,"question_id":13246941,"title":"String assignment","body":"<p>I have a look at python code where string variable assignments looks like:</p>\n\n<pre><code>var1 = var2[:]\n</code></pre>\n\n<p>I am just wondering what is the difference between:</p>\n\n<pre><code>var1 = var2\n</code></pre>\n\n<p>Here is my experiments:</p>\n\n<pre><code>&gt;&gt;&gt; original = \"some text\"\n&gt;&gt;&gt; copy1 = original\n&gt;&gt;&gt; copy2 = original[:]\n&gt;&gt;&gt; original = \"another text\"\n&gt;&gt;&gt; copy1\n'some text'\n&gt;&gt;&gt; copy2\n'some text'\n</code></pre>\n\n<p><strong>Updated:</strong></p>\n\n<p>Here is a full <a href=\"http://pastebin.com/CvTgkPz9\" rel=\"nofollow\">code</a>.  This code search a key for substitution cipher.\nIf I remove '[:]' this code will works very slowly.</p>\n"},{"tags":["python","command-line","documentation-generation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13280468,"title":"Module for Python so that you can generate a free-standing, self-documenting command line utility ala Perl's pod2man/pod2usage?","body":"<p>All I can find is this reference:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12034512/is-it-possible-to-use-podplain-old-documentation-with-python\">is it possible to use POD(plain old documentation) with python?</a></p>\n\n<p>which looks like you have to generate a whole separate set of docs to go with code.</p>\n\n<p>I would like to try Python for making cmdline utils, but when I do this with Perl I can embed the docs directly in the source, and use the Pod2Usage module along with Getopt so that any of my scripts can be run like this:</p>\n\n<pre><code>cmd --man\n</code></pre>\n\n<p>and this triggers the pod system to dump documentation that is embedded in the script in man-page format. It can also generate shorter (synopsis), or medium formats.</p>\n\n<p>It looks like I could use the pydoc code and kind of reverse engineer it to sort-of do the task (at least showing the full documentation), but I am hoping something better already exists.</p>\n"},{"tags":["python","file","list","readline","reading"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13277695,"title":"Return the average number for the section in the open file python","body":"<p>i am given a a text file with 8 lines, and on each line there is an IDnumber, name, section and grade seperated by whitespace.  im supposed to return the average for the given section.  i am brand new to python therefore am having a horrible time trying to figure it out. can someone please help?\nmy parameters are a random textfile, and a section number </p>\n\n<p>def average_by_secion (textfile, section):</p>\n\n<pre><code>'''(io.TextIOWrapper, str) -&gt; flt or NoneType\n</code></pre>\n"},{"tags":["python","numpy","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13280114,"title":"ValueError: setting an array element with a sequence. scipy minimize","body":"<pre><code>\"\"\" ___ \"\"\"\nfrom scipy.optimize import minimize\nimport numpy as np\n\n\nLENGTH = 100\n\ndef process(x):\n    return x * 2 + 5\n\ndef draw(process, length):\n    \"\"\" \"\"\"\n    y = np.random.normal(0, 10, length)\n    data = [process(y_) for y_ in y]\n    rnd = np.random.normal(3, 1, len(data))\n    return y, rnd + data\n\n\ndef maximum_likelyhood(y, X):\n    objective = lambda b: np.transpose(X) * (y - X * b)\n    x0 = np.zeros(100)\n    res =  minimize(objective, x0=x0)\n    return res.x\n\ny, X = draw(process, LENGTH)\nprint maximum_likelyhood(y, X)\n</code></pre>\n\n<p>produces a</p>\n\n<pre><code>ValueError: setting an array element with a sequence.\n</code></pre>\n\n<p>There is several similar problems, they all point out that x0 is not a 1D array, but here it is a 1D array. (or not? in case please explain why and how to make it 1D)</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13225692,"title":"Browse client side and server side files in Django/Python?","body":"<p>I have written a front end Django/Python application. It's like a syncing tool. Users can first browse the source and destination. Source is client's computer and destination is server's computer. The interface is similar to grsync. I need to implement it in the template(front-end application). How can I do this? Thanks</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have this in my form.html(template for Django)</p>\n\n<pre><code>&lt;form&gt;\n&lt;p&gt;Session Name: &lt;input type=\"text\" name=\"session\"&gt;&lt;/p&gt;\n&lt;p&gt;Source: &lt;input type=\"text\" name=\"target\"&gt;&lt;input type=\"submit\" value=\"Open\"&gt;&lt;/p&gt;\n&lt;p&gt;Target: &lt;input type=\"text\" name=\"target\"&gt;&lt;input type=\"submit\" value=\"Open\"&gt;&lt;/p&gt;\n&lt;input type=\"submit\" value=\"Save\"&gt;\n&lt;input type=\"button\" name=\"Cancel\" value=\"Cancel\" onclick=\"window.location = 'form.html' \" /&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>Now when the user click on the open in the source the files and folders in the client's computer should be shown and when user press OK the path should be loaded in the Source field. </p>\n"},{"tags":["python","sql","query","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13271894,"title":"Interfacing with Sqlalchemy query object to extend, custom query types","body":"<p>I'm working on adding pagination functionality to my models. I could do this with a method in a mixin, I think I understand what pagination is in this context, but I'm looking to add queries so I can pass in pagination wherever I want without hard coding a model method and without a mixin e.g.:</p>\n\n<pre><code>Mymodel.query.filter(Mymodel.attr=='X').paginate(**args, **kwargs)\n</code></pre>\n\n<p>flask-sqlalchemy does this, but I'm not using that, though I've gone over it to attempt to extract some of the functionality.</p>\n\n<p>So if I have something like this method:</p>\n\n<pre><code>def paginate(self, page, per_page=20):\n        items = self.limit(per_page).offset((page - 1) * per_page).all()\n        return Pagination(self, page, per_page, self.count(), items)\n</code></pre>\n\n<p>How do I insert that as something with an interface in and out in the sqlalchemy query chain? I somewhat do and don't follow how it is being done in flask-sqlalchemy, but I want to extract/learn how to do this and more control over querying in the future, refine my use of sqlalchemy, so I do not exactly know where I'm going with it, just asking a question and going from there.</p>\n\n<p>Long answer: to keep reading the sqlalchemy docs and code until I achieve greater understanding. I'm looking to extend orm.Query -- which I've done, but I don't see how I can tie this into my project yet because I don't understand the underlying mechanics of sqlalchemy, but I think I just need to add my paginate query to the declarative base Base I'm using but will see once I get back to working on it. </p>\n"},{"tags":["python","real-time"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13171722,"title":"how to retrieve real time stock data using python","body":"<p>Is there any free api to use?</p>\n\n<p>How to achieve \"real time\"? Is there any API handles it, or our application need to handle it by ourselves?</p>\n\n<p>Update:\n\"Real time\" I mean live stream the stock price on a webpage without a refresh. Is that possible? </p>\n"},{"tags":["python","texture","blender","material"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13216732,"title":"Blender: Creating Material, Texture, and open image...","body":"<p>Well, in Blender, how can I create a new material, assign it to the current object, create an image texture and assign it and then open an image for it (and also open the image in the UV/Image Editor)? </p>\n"},{"tags":["python","optimization","factors","sieve"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13280198,"title":"Optimizing Divisor Sieve","body":"<p>I have two sieves that I wrote in python and would like help optimizing them if at all possible. The divisorSieve calculates the divisors of all numbers up to <code>n</code>. Each index of the list contains a list of its divisors. The numDivisorSieve just counts the number of divisors each index has but doesn't store the divisors themselves. These sieves work in a similar way as you would do a Sieve of Eratosthenes to calculate all prime numbers up to <code>n</code>.</p>\n\n<pre><code>def divisorSieve(n):\n    divs = [[1] for x in xrange(0, n + 1)]\n    divs[0] = [0]\n    for i in xrange(2, n + 1):\n        for j in xrange(1, n / i + 1):\n            divs[i * j] += [i]\n    return divs\n\n    def numDivisorSieve(n):\n        divs = [1] * (n + 1)\n        divs[0] = 0\n        for i in xrange(2, n + 1):\n            for j in xrange(1, n / i + 1):\n                divs[i * j] += 1\n        return divs\n\n#Timer test for function\nif __name__=='__main__':\n    from timeit import Timer\n    n = ...\n    t1 = Timer(lambda: divisorSieve(n))\n    print n, t1.timeit(number=1)\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code> -----n-----|--time(divSieve)--|--time(numDivSieve)--\n    100,000 |  0.452978167569  |  0.187762331281\n    200,000 |  0.98932170181   |  0.362314797537\n    300,000 |  1.6338203645    |  0.55124339118\n    400,000 |  2.17913634385   |  0.748340797412\n    500,000 |  2.84024755862   |  0.959312993718\n    600,000 |  3.46395907197   |  1.17777010636\n    700,000 |  4.11840766312   |  1.38268800149\n    800,000 |  4.77613733906   |  1.62560614543\n    900,000 |  5.4634148162    |  1.83002270324\n  1,000,000 |  6.11017136282   |  2.10247496423\n  2,000,000 | 13.0507389438    |  4.59150618897\n  3,000,000 | 20.6068050631    |  7.24799900479\n  4,000,000 | 28.3432841948    |  10.1484527586\n  5,000,000 | 36.4113970268    |  12.7670585308\n  6,000,000 | 44.4017867139    |  15.4226118057\n  7,000,000 | 52.4697580394    |  18.2902677738\n  8,000,000 | 61.4056966474    |  21.1247001928\n  9,000,000 | 69.7948510294    |  23.8988925173\n 10,000,000 | 78.639434285     |  26.8588813211\n 20,000,000 |      N/A         |  56.2527237669 (waited for a while but divisorSieve didn't finish)\n 30,000,000 |   MemoryError    |  86.8917332214\n 40,000,000 |   MemoryError    |  118.457179822\n 50,000,000 |   MemoryError    |  149.526622815\n 60,000,000 |   MemoryError    |  181.627320396\n 70,000,000 |   MemoryError    |  214.17467749\n 80,000,000 |   MemoryError    |  246.23677614\n 90,000,000 |   MemoryError    |  279.53308422\n100,000,000 |   MemoryError    |  314.813166014\n</code></pre>\n\n<p>Results are pretty good and I'm happy I was able to get it this far, but I'm looking to get it even faster. If at all possible, I'd like to get <em><strong>100,000,000</strong></em> at a reasonable speed with the divisorSieve. Although this also brings into the issue that anything over <em><strong>30,000,000+</strong></em> throws a <code>MemoryError</code> at <code>divs = [[1] for x in xrange(0, n + 1)]</code>) in divisorSieve. numDivisorSieve does allow the full <em><strong>100,000,000</strong></em> to run.</p>\n\n<p>I've tried replacing numDivisorSieve's <code>divs = [1] * (n + 1)</code> with both <code>divs = array.array('i', [1] * (n + 1))</code> and <code>divs = numpy.ones((n + 1), dtype='int')</code> but both resulted in a loss of speed (slight difference for array, much larger difference for numpy). I expect that since numDivisorSieve had a loss in efficiency, then so would divisorSieve. Of course there's always the chance I'm using one or both of these incorrectly since I'm not used to either of them.</p>\n\n<p>I would appreciate any help you can give me. I hope i have provided enough details. Thank you.</p>\n"},{"tags":["python","stream","internet","audio-streaming","radio"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1217,"score":2,"question_id":4247248,"title":"Record streaming and saving internet radio in python","body":"<p>I am looking for a python snippit to read an internet radio stream(.asx, .pls etc) and save it to a file.</p>\n\n<p>The final project is cron'ed script that will record an hour or two of internet radio and then transfer it to my phone for playback during my commute. (3g is kind of spotty along my commute)</p>\n\n<p>any snippits or pointers are welcome.</p>\n\n<p>Thanks,</p>\n\n<p>Maze</p>\n"},{"tags":["javascript","python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13276086,"title":"Text Document, spreadsheet, Presentation editors in Django Python","body":"<p>I've been trying to research for awhile now and I am not getting anywhere so I decided to ask here.\nMy project is made in Django and I want to add Text Document, spreadsheet, Presentation editors to it (like google docs). I am not sure how to approach this problem. I am willing to even create these from scratch. But I am not sure where to start. Any book, links, API that I can begin with?</p>\n\n<p>I want something that lets people create and edit these documents on my website itself.</p>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["python","code-coverage","sonar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12844451,"title":"Test/Test Coverage with Python in Sonar not showing up?","body":"<p>I'm running a pretty simple set of python projects through sonar-runner and am having issues getting tests to show up.</p>\n\n<p>I'm running Sonar 3.2.1, with Python Plugin 1.1. The coverage report is generated previously.</p>\n\n<p>I have the following set:</p>\n\n<pre><code>sonar.dynamicAnalysis=reuseReports\nsonar.core.codeCoveragePlugin=cobertura\nsonar.python.coverage.reportPath=coverage.xml\n</code></pre>\n\n<p>No matter what I do at this point, the coverage does not show up.</p>\n\n<p>My tests are in the same folder as my sources... could that be the issue? Is there a requirement for how source code is laid out for the coverage report to get analayzed properly by sonar?</p>\n\n<p>Edit: Adding a few more notes...</p>\n\n<ul>\n<li>It is a multiproject python instance. I have three projects in there. Everything else seems to show up properly on the sonar report. I'v defined the base and source directories for each and the coverage.xml file has been pre-generated into the base directories of each.</li>\n<li><p>The coverage widget shows up but shows:</p>\n\n<pre><code>Code coverage\n-\nUnit test success\n0 tests\n</code></pre></li>\n<li><p>I'm also seeing when I run sonar-runner:</p>\n\n<pre><code>10:04:29.641 INFO  p.PhasesTimeProfiler - Sensor PythonCoverageSensor...\n10:04:29.642 INFO  .p.c.CoberturaParser - Parsing report '/home/jenkins/jobs/myproject/workspace/trunk/src/python/coverage.xml'\n10:04:29.883 INFO  p.PhasesTimeProfiler - Sensor PythonCoverageSensor done: 242 ms\n</code></pre></li>\n</ul>\n"},{"tags":["python","objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13279277,"title":"Apple Mail.app set HTML signature with plugin","body":"<p>I've created a Mail.app plugin with Python to set a custom signature pulled from a remote server by swizzling the setSignature: method in ComposeBackEnd. As per the class dump below, I can set a plain text signature by using setSignatureContents: and this is functional. </p>\n\n<pre><code>@interface Signature : NSObject &lt;NSCopying&gt;\n{\n    NSString *_uniqueId;\n    NSString *_name;\n    NSData *_webArchiveData;\n    BOOL _isRich;\n    BOOL _isSavedAsRich;\n    BOOL _isDirty;\n    MFSyncedFile *_syncedFile;\n}\n\n- (id)syncedFile;\n- (id)signaturePath;\n- (unsigned long long)hash;\n- (BOOL)isEqual:(id)arg1;\n- (BOOL)isRich;\n- (void)setIsRich:(BOOL)arg1;\n- (void)setWebArchive:(id)arg1;\n- (id)webArchive;\n- (id)webArchiveData;\n.....\n- (void)setSignatureContents:(id)arg1;\n- (id)signatureContents;\n- (void)setSignatureName:(id)arg1;\n- (id)signatureName;\n\n@end\n</code></pre>\n\n<p>However when I attempt to set an HTML signature using setWebArchive: (which should take an NSData object):</p>\n\n<pre><code>signature.setWebArchive_(NSData.dataWithContentsOfURL_(NSURL.URLWithString_('http://...')))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>11/7/12 11:07:38.858 AM Mail[8820]: -[NSConcreteData data]: unrecognized selector sent to instance 0x7ffc2386bc00\n</code></pre>\n\n<p>(The remote file is already in the correct format)</p>\n\n<p>Is there any way to make this work? Thanks in advance.</p>\n\n<hr>\n\n<p>EDIT - tried this (returns WebArchive object which should respond to <code>-[data]</code>):</p>\n\n<pre><code>wds = WebDataSource.alloc().initWithRequest_(NSURLRequest.requestWithURL_(NSURL.URLWithString_('http://...')))\n        webarchive = wds.webArchive\n        signature.setWebArchive_(webarchive)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>11/7/12 3:26:59.173 PM Mail[16814]: An uncaught exception was raised\n11/7/12 3:26:59.173 PM Mail[16814]: Class OC_PythonObject: no such selector: data\n</code></pre>\n"},{"tags":["python","multiprocessing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13279813,"title":"subprocess + multiprocessing - multiple commands in sequence","body":"<p>I have a set of command line tools that I'd like to run in parallel on a series of files.  I've written a python function to wrap them that looks something like this:</p>\n\n<pre><code>def process_file(fn):\n    print os.getpid()\n    cmd1 = \"echo \"+fn\n    p = subprocess.Popen(shlex.split(cmd1))\n\n    # after cmd1 finishes\n    other_python_function_to_do_something_to_file(fn)\n\n    cmd2 = \"echo \"+fn\n    p = subprocess.Popen(shlex.split(cmd2))\n    print \"finish\"\n\nif __name__==\"__main__\":\n    import multiprocessing\n    p = multiprocessing.Pool()\n    for fn in files:\n        RETURN = p.apply_async(process_file,args=(fn,),kwds={some_kwds})\n</code></pre>\n\n<p>While this works, it does not seem to be running multiple processes; it seems like it's just running in serial (I've tried using <code>Pool(5)</code> with the same result).  What am I missing?  Are the calls to <code>Popen</code> \"blocking\"?</p>\n\n<p>EDIT: Clarified a little.  I need cmd1, then some python command, then cmd2, to execute in sequence on each file.  </p>\n\n<p>EDIT2:  The output from the above has the pattern:</p>\n\n<pre><code>pid\nfinish\npid\nfinish\npid\nfinish\n</code></pre>\n\n<p>whereas a similar call, using <code>map</code> in place of <code>apply</code> (but without any provision for passing <code>kwds</code>) looks more like</p>\n\n<pre><code>pid\npid\npid\nfinish\nfinish\nfinish\n</code></pre>\n\n<p>However, the map call sometimes (always?) hangs after apparently succeeding</p>\n"},{"tags":["python","neo4j","py2neo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":11747643,"title":"py2Neo throwing py2neo.rest.NoResponse Exception","body":"<p>I am using py2neo for accessing neo4j database. I'm loading the graph from data in text file.</p>\n\n<p>Since my data-set has about a million nodes, it takes quite a long time for loading the entire data-set. Somewhere in between, the code throws py2neo.rest.NoResponse. I have tried running the code several times. It fails at different points. I don't see any patters in the errors. I mean I don't see any errors due to data in the file or it's not at the same point in file it fails. I know this from my log files. </p>\n\n<p>Error stack trace is as below:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\darshan.hegde\\workspace\\movie_lens_loader\\src\\load_movie_lens_data.py\", line 100, in &lt;module&gt;\n    main()\n  File \"C:\\Users\\darshan.hegde\\workspace\\movie_lens_loader\\src\\load_movie_lens_data.py\", line 97, in main\n    LMLD.load_ratings_data(ratings_file_path)\n  File \"C:\\Users\\darshan.hegde\\workspace\\movie_lens_loader\\src\\load_movie_lens_data.py\", line 71, in load_ratings_data\n    user_node.create_relationship_to(movie_node, \"rated\", {\"stars\": ratings.stars})\n  File \"C:\\Python26\\lib\\site-packages\\py2neo\\neo4j.py\", line 581, in create_relationship_to\n    'data': properties\n  File \"C:\\Python26\\lib\\site-packages\\py2neo\\rest.py\", line 252, in _post\n    return self._request('POST', uri, json.dumps(data), **kwargs)\n  File \"C:\\Python26\\lib\\site-packages\\py2neo\\rest.py\", line 240, in _request\n    raise NoResponse(uri)\npy2neo.rest.NoResponse: u'http://localhost:7474/db/data/node/16088/relationships'\n</code></pre>\n\n<p>Has anybody came across same error ? Please let me know the solution.</p>\n\n<p>I'm not sure if this information helps. I'm using the following versions: <em>Python-2.6.6</em> and <em>py2neo-1.2.15</em></p>\n"},{"tags":["python","layout","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13263010,"title":"jinja2: default layout","body":"<p>Suppose this is my code:</p>\n\n<pre><code>from jinja2 import Environment, PackageLoader\n\ndef render(path, **kwargs):\n  env = Environment()\n  env.loader = PackageLoader('lemma.app.views', '')\n  template = env.get_template(path)\n\n  return str(template.render(**kwargs))\n</code></pre>\n\n<p>And it is my template:</p>\n\n<pre><code>{% extends \"layouts/application.html\" %}\n\n{% block content %}\n  bla\n{% endblock %}\n</code></pre>\n\n<p>Is there way to set layout in my code, not in my template, or should I write <code>{% extends \"layouts/application.html\" %}</code> in every template like an idiot?</p>\n"},{"tags":["python","root"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":34,"score":3,"question_id":13277004,"title":"Python Drop/Enable Root Privilege Opening File","body":"<p>I am running into an issue regard dropping root privileges when opening a file in /tmp. Here is the line in question:</p>\n\n<pre><code>open(filepath, 'wb')\n</code></pre>\n\n<p>When the program is not run with a sudo command everything works fine and here are the permissions when I so os.stat</p>\n\n<pre><code>posix.stat_result(st_mode=17407, st_ino=261652, st_dev=64512L, st_nlink=206, st_uid=1000, st_gid=1000, st_size=12288, st_atime=1352314677, st_mtime=1352316340, st_ctime=1352316340)\n</code></pre>\n\n<p>I run into an issue when the program is run with a sudo command. I try to drop privileges with the following</p>\n\n<pre><code>os.setegid(int(os.getenv(\"SUDO_GID\")))\nos.seteuid(int(os.getenv(\"SUDO_UID\")))\n</code></pre>\n\n<p>and reenable them with</p>\n\n<pre><code>os.seteuid(0)\nos.setegid(0)\n</code></pre>\n\n<p>The error message is</p>\n\n<pre><code>IOError: [Errno 13] Permission denied:\n</code></pre>\n\n<p>os.stat yields</p>\n\n<pre><code>posix.stat_result(st_mode=17407, st_ino=261652, st_dev=64512L, st_nlink=204, st_uid=1000, st_gid=1000, st_size=4096, st_atime=1352314677, st_mtime=1352316329, st_ctime=1352316329)\n</code></pre>\n\n<p>Ideally I'd like the run a particular function as if the user never called sudo by dropping and enabling root privileges accordingly.</p>\n"},{"tags":["java","android","python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13280062,"title":"API for making a labirith game","body":"<p>we have to do a HCI testing for a vehicle control interface on Android.\nWe will have two interfaces to test, one where the user drives using  the phone as a steering wheel and accelerating and braking through the touchscreen, and another on which everything is using the touchscreen.</p>\n\n<p>We want to setup something like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/1Fc6b.gif\" alt=\"enter image description here\"></p>\n\n<p>in whichever programing language just to get it up and running as fast as possible. So, the question is, please advise us which API to use to build the graphical elements of the track and have it controlled by the host keyboard (giving control to Android is something we know how to implement).</p>\n"},{"tags":["python","pythonmagick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13276858,"title":"Installing PythonMagick","body":"<p>I cannot seem to find any instructions on how to install PythonMagick on a Mac. I've tried the instructions given on this link <a href=\"https://gist.github.com/2778301\" rel=\"nofollow\">https://gist.github.com/2778301</a>, but am getting following error:</p>\n\n<p>\"No package 'MagickCore' found\"</p>\n\n<p>Please help?</p>\n"},{"tags":["python","json","suds"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":251,"score":5,"question_id":7733180,"title":"Python SUDS return type other than XML","body":"<p>I am working with a somewhat non-standard SOAP webservice.  Most of the calls to the webservice return the standard SOAP XML as you would expect, but one call in particular returns a JSON string instead.  This fouls up the xml parser on the client side.</p>\n\n<p>My question is; is there a way to designate the return type on a particular webmethod in SUDS so that it does not try to run it through the xml parser?  I just want the raw JSON response.</p>\n"},{"tags":["python","django","heroku","beautifulsoup","virtualenv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13279930,"title":"Beautiful soup on heroku?","body":"<p>I was trying to deploy an application using Beautiful soup on heroku and run a command like \"python manage.py \" . My command uses Beautiful soup library. Though the command works perfectly on my local machine but it couldn't find beautiful soup module on heroku. I tried to install it using pip install beautifulsoup, then adding it to requirements file and pushing the updates using git. But still it cannot find beautiful soup module. I know it is little specific and I am new to heroku, django. I am not sure how to debug it? Can anybody guide me in the right direction?</p>\n"},{"tags":["python","sockets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13263426,"title":"Why does my server print endless \\n when a client disconnects?","body":"<p>I am in the process of creating a server but I have hit wall and can't seem to climb over it...</p>\n\n<p>The current code I have works very well until a user disconnects from the server. An endless amount of \\n are printed and I can not seem to figure out why.</p>\n\n<p>I do know that the problem lies in the recv function. I believe it has something to do with my threading but I just can not seem to figure out what it is.</p>\n\n<p>Here is the code, I would be very grateful if someone could help me out.</p>\n\n<pre><code>def recv(self, obj, addr, s):\n    while True:\n        try:print obj.recv(1024)\n        except:pass\n\ndef connect(self, port):\n    s = socket.socket()\n    s.bind(('', port))\n    s.listen(1)\n    self.clearscreen()\n\n    print \"Waiting for connections...\"\n    while True:\n        obj, addr = s.accept()\n        verify = obj.recv(1024)\n        if verify == \"ea25364e2dab91b40ae4f73163854b5d\":\n            print \"\\n\"+str(addr) + \" has connected.\\n \"\n            self.conns[addr] = obj\n            try:\n                Thread(target=self.handle, args=(obj, addr, s)).start()\n                Thread(target=self.recv, args=(obj, addr, s)).start()\n            except:pass\n        else:pass\n</code></pre>\n"},{"tags":["python","oauth","python-2.7","tornado"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13279576,"title":"Tornado OAuth with gmail hangs - connecting","body":"<p>I am trying to log in with gmail username and password using tornado. I have </p>\n\n<pre><code>class GoogleHandler(tornado.web.RequestHandler, GoogleMixin):\n    @tornado.web.asynchronous\n    def get(self):\n        print (\"GOOGLE MIXIN\")\n        if self.get_argument(\"openid.mode\", None):\n            print (\"GOOGLE MIXIN1\")\n            self.get_authenticated_user(self.async_callback(self._on_auth))\n            return\n        print (\"GOOGLE MIXIN2\")\n        self.authenticate_redirect()\n\n    def _on_auth(self, user):\n        print (\"GOOGLE MIXIN3\")\n        if not user:\n            print (\"GOOGLE MIXIN4\")\n            raise tornado.web.HTTPError(500, \"Google auth failed\")\n</code></pre>\n\n<p>and \ndefine(\"port\", default=8000, help=\"run on the given port\", type=int)   </p>\n\n<pre><code>if __name__ == \"__main__\":\n    tornado.options.parse_command_line()\n    app = tornado.web.Application(handlers = [(r\"/login\", authentication.GoogleHandler)])\n    http_server = tornado.httpserver.HTTPServer(app)\n    http_server.listen(options.port)\n    tornado.ioloop.IOLoop.instance().start()\n</code></pre>\n\n<p>and when I try to login with <strong>http://127.0.0.1:8000/login</strong> I got page to log in gmail and after that I got in console </p>\n\n<p>**GOOGLE MIXIN</p>\n\n<p>GOOGLE MIXIN2</p>\n\n<p>[I 121107 23:42:24 web:1359] 302 GET /login (127.0.0.1) 0.84ms</p>\n\n<p>GOOGLE MIXIN</p>\n\n<p>GOOGLE MIXIN1</p>\n\n<p>GOOGLE MIXIN3**</p>\n\n<p>but it hangs there and there is only <strong>Connecting...</strong> Did anyone have similar error, can somebody tell me what I done wrong here ? ( I cleared cookies and history from browser)</p>\n"},{"tags":["python","locale"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12723906,"title":"locale.setlocale crashes when LC_PAPER=a4","body":"<p>I have a script, called test.py:</p>\n\n<pre><code>import locale\nlocale.setlocale(locale.LC_ALL, \"\")\n</code></pre>\n\n<p>If I call it, I get an exception:</p>\n\n<pre><code>misha@misha-lmd:~$ python test.py \nTraceback (most recent call last):\n  File \"test.py\", line 2, in &lt;module&gt;\n    locale.setlocale(locale.LC_ALL, \"\")\n  File \"/usr/lib/python2.7/locale.py\", line 539, in setlocale\n    return _setlocale(category, locale)\nlocale.Error: unsupported locale setting\n</code></pre>\n\n<p>Currently, I have <code>export LC_PAPER=a4</code> in my <code>.bashrc</code>.  If I unset the LC_PAPER environment variable, then it works:</p>\n\n<pre><code>misha@misha-lmd:~$ LC_PAPER= python test.py\n</code></pre>\n\n<p>Why is setlocale crashing?  I can't just unset LC_PAPER, since then my applications will print to US Letter by default, instead of A4.</p>\n"},{"tags":["python","python-c-extension"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13279329,"title":"Python C extension - maintaining state","body":"<p>I need to write a Python extension in C that I will use to:<br></p>\n\n<ol>\n<li>perform CPU-intensive initialization on a file; <br></li>\n<li>make multiple function calls that rely on the initialized data to return results to me; and<br></li>\n<li>free memory when I'm done</li>\n</ol>\n\n<p>One solution is to implement a \"state holder\" class in Python. When I call the initialization in C, it returns me the initialized data that I will store in my Python state object. Then every time I need to do step (2), I would pass it to the C function. But this seems very inefficient with all the data shuttling/interfacing occurring between the Python side and the C side.</p>\n\n<p>If possible, I would like to maintain the state using a state object on the C side. The initialization call from the Python side would return not all the initialized data, but just an ID so it can reference the C state object when it needs to during subsequent calls.</p>\n\n<p><strong>How would I go about maintaining state on the C side?</strong></p>\n"},{"tags":["python","django","mod-wsgi"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":107,"score":4,"question_id":13151482,"title":"Why my Django project is being displayed in subdomain and localhost at the same time?","body":"<p>The thing is that I have a django project installed in a subdomain in localhost and at the same time I have the localhost for other stuff without Django.</p>\n\n<p>Whenever I access a1.localhost it displays my django welcome page ok, but when I want to access just localhost it also displays the same django welcome page instead of the index.html.</p>\n\n<p>So far this is what I have:</p>\n\n<pre><code>Hosts:\n127.0.0.1       localhost\n127.0.0.1       a1.localhost\n\nvhosts.conf:\n#-- a1.localhost\n&lt;VirtualHost *:80&gt;\n    ServerName a1.localhost\n    WSGIScriptAlias / \"C:/workspace/website1/apache/django.wsgi\"\n    &lt;Directory \"C:/workspace/website1/apache\"&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n#-- localhost\n&lt;VirtualHost *:80&gt;\n    ServerName localhost\n    DocumentRoot \"C:/workspace/website1/django_project\"\n&lt;/VirtualHost&gt;\n\n\ndjango.wsgi\n\nimport os\nimport sys\n\npath = \"C:/workspace/website1/apache/django_project\"\nif path not in sys.path:\n    sys.path.append(path)\n\n\nos.environ['DJANGO_SETTINGS_MODULE'] = 'django_project.settings'\n\nimport django.core.handlers.wsgi\n</code></pre>\n\n<p>What I want to achieve is to display my normal index.html file in localhost and my django project in a1.localhost.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","installation","install","virtualenv","pycairo"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":446,"score":2,"question_id":11491268,"title":"Install pycairo in virtualenv","body":"<p>I've tried to install <code>pycairo</code> in a virtualenv to use in a Django project. I've ran the <code>pip install pycairo==1.10.0</code> command which finds the package and downloads it unlike other commands like <code>pip install pycairo</code>, etc. but when starting to install the package it throws an error. </p>\n\n<p>Here's the log:</p>\n\n<pre><code>Downloading/unpacking pycairo==1.10.0\n  Running setup.py egg_info for package pycairo\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 14, in &lt;module&gt;\n    IOError: [Errno 2] No such file or directory:\n'/home/radu/Desktop/djangos/workout/venv/build/pycairo/setup.py'\nComplete output from command python setup.py egg_info:\nTraceback (most recent call last):\n\nFile \"&lt;string&gt;\", line 14, in &lt;module&gt;\n\nIOError: [Errno 2] No such file or directory:\n'/home/radu/Desktop/djangos/workout/venv/build/pycairo/setup.py'\n\n----------------------------------------\nCommand python setup.py egg_info failed with error code 1 in \n/home/radu/Desktop/djangos/workout/venv/build/pycairo\nStoring complete log in /home/radu/.pip/pip.log\n</code></pre>\n\n<p>Could you please give me any hints about what to do? Should I try and write a setup.py file for the package and then try to install it? (i'm not sure it's even a solution, i still am trying to figure out what I can do).</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","arrays","list","nested","sparse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":48,"score":-2,"question_id":13278994,"title":"Weird issue with nested array assignment in Python","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7924709/python-list-of-distinct-empty-sets\">Python: list of distinct, empty sets</a>  </p>\n</blockquote>\n\n\n\n<p>I need a list with a fixed length, but a variable number of elements (0 to 8) for each entry.</p>\n\n<p>When I append a number to one of those elements, this happens:</p>\n\n<pre><code>b = [[]]*3 # clarified\nb[2].append(1)\n\nexpected:\nb = [[],[],[1]]\n\nreality:\nb = [[1],[1],[1]]\n</code></pre>\n\n<p>I'm scripting in Python since three years now, but this (seemingly easy) problem has me stumped. It looks like a bug to me.</p>\n\n<p>Am I doing something wrong, and if yes, why is Python interpreting my [2] as [:]?</p>\n"},{"tags":["python","sockets"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13279577,"title":"Server prints endless newlines when client disconnects","body":"<p>I am in the process of creating a server but I have hit wall and can't seem to climb over it...</p>\n\n<p>The current code I have works very well until a user disconnects from the server. An endless amount of \\n are printed and I can not seem to figure out why.</p>\n\n<p>I do know that the problem lies in the recv function. I believe it has something to do with my threading but I just can not seem to figure out what it is.</p>\n\n<p>Here is the code, I would be very grateful if someone could help me out.</p>\n\n<pre><code>def recv(self, obj, addr, s):\n    while True:\n        try:print obj.recv(1024)\n        except:pass\n\ndef connect(self, port):\n    s = socket.socket()\n    s.bind(('', port))\n    s.listen(1)\n    self.clearscreen()\n\n    print \"Waiting for connections...\"\n    while True:\n        obj, addr = s.accept()\n        verify = obj.recv(1024)\n        if verify == \"ea25364e2dab91b40ae4f73163854b5d\":\n            print \"\\n\"+str(addr) + \" has connected.\\n \"\n            self.conns[addr] = obj\n            try:\n                Thread(target=self.handle, args=(obj, addr, s)).start()\n                Thread(target=self.recv, args=(obj, addr, s)).start()\n            except:pass\n        else:pass\n</code></pre>\n"},{"tags":["python","pygame","game-physics"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13279618,"title":"My pygame physics engine is kind of messed up (specifically gravity (I think)). I need help to fix it","body":"<p>The main explanation is in this youtube video <a href=\"http://www.youtube.com/watch?v=eGD2i0RG9Y8&amp;feature=youtu.be\" rel=\"nofollow\">http://www.youtube.com/watch?v=eGD2i0RG9Y8&amp;feature=youtu.be</a></p>\n\n<p>Code at pastebin (<a href=\"http://pastebin.com/cdEhwMi3\" rel=\"nofollow\">Board</a>, <a href=\"http://pastebin.com/Xc8VWTnL\" rel=\"nofollow\">physicsEngine</a>, <a href=\"http://pastebin.com/sY8hZc5e\" rel=\"nofollow\">redSquare</a>). <a href=\"http://www.mediafire.com/?kqqwgt91siosl\" rel=\"nofollow\">Download</a> of .py files (I promise they won't eat your computer)</p>\n\n<p>Also, a few other, side questions I didnt feel needed their own topic (please dont close the topic for this!)\nHow to I do pygame collision detection with two rectangles?\n..That's it, really</p>\n\n<p>-Thanks!!</p>\n"},{"tags":["python","oop","class","static"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13279510,"title":"Python - Accessing subclasses' variables from parent class while calling classmethods","body":"<p>i'm trying to build sort of a \"mini django model\" for working with Django and MongoDB without using the norel Django's dist (i don't need ORM access for these...).</p>\n\n<p>So, what i'm trying to do is to mimic the standart behavior or \"implementation\" of default models of django... that's what i've got so far:</p>\n\n<p>File \"models.py\" (the base)</p>\n\n<pre><code>from django.conf import settings\nimport pymongo\n\nclass Model(object):\n    @classmethod\n    def db(cls):\n        db = pymongo.Connection(settings.MONGODB_CONF['host'], settings.MONGODB_CONF['port'])\n\n    @classmethod\n    class objects(object):\n        @classmethod\n        def all(cls):\n            db = Model.db() #Not using yet... not even sure if that's the best way to do it\n            print Model.collection\n</code></pre>\n\n<p>File \"mongomodels.py\" (the implementation)</p>\n\n<pre><code>from mongodb import models\n\nclass ModelTest1(models.Model):\n    database = 'mymongodb'\n    collection = 'mymongocollection1'\n\nclass ModelTest2(models.Model):\n    database = 'mymongodb'\n    collection = 'mymongocollection2'\n</code></pre>\n\n<p>File \"views.py\" (the view)</p>\n\n<pre><code>from mongomodels import ModelTest1, ModelTest2\n\nprint ModelTest1.objects.all() #Should print 'mymongocollection1'\nprint ModelTest2.objects.all() #Should print 'mymongocollection2'\n</code></pre>\n\n<p>The problem is that it's not accessing the variables from ModelTest1, but from the original Model... what's wrong??</p>\n"},{"tags":["python","variables","request","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13279399,"title":"How to obtain values of request variables using Python and Flask","body":"<p>I've never used Python before, or Flask, so I'm wondering how to go about obtaining the value of a POST/GET request variable using Python w/ Flask.</p>\n\n<p>With Ruby, I'd do something like this:</p>\n\n<pre><code>variable_name = params[\"FormFieldValue\"]\n</code></pre>\n\n<p>How would I do this w/ Python / Flask?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","django"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13278872,"title":"Python import similar to Django settings file","body":"<p>I am trying to use a *.py file to take variables from and use them across multiple imports in my python application, similar to how a Django settings file works.</p>\n\n<p>An example settings file:</p>\n\n<pre><code>DB_NAME = 'foo'\nDB_TABLE = 'bar'\n#Lots of other variable names and values here\n</code></pre>\n\n<p>The benefit is that I can load different settings very quickly this way. I can reference a sort of global \"DB_NAME\" wherever I want without having specific objects to deal with.</p>\n\n<p>The drawback is that I have to change the import statement in every file that has to import them. </p>\n\n<p>Can I set it up so that I import the file once and then reference a generic import to get all of these values?</p>\n\n<p>Or is there a much better way to do this?</p>\n\n<p>Any help is appreciated.</p>\n\n<p>EDIT: The problem stems from having multiple settings files. I would have to import settings.py for one file, or if I want a different settings file, I would need to change all the import statements to reference test_settings.py, etc..</p>\n\n<p>I don't want to manually change the import locations in order to change what is imported across the entire application.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13265138,"title":"Add a semi colon to the previous line","body":"<p>I have a file like this note gap represent new lines.</p>\n\n<pre><code>Hello World )\n    ;\n\nHello World ) ;\n\nHello World )\n;\n</code></pre>\n\n<p>I have written a small python script to move the semicolon to the end of previous line</p>\n\n<pre><code>with open(path) as f:\n    prev_line =''\n    for current_line in f:\n        matched = re.match('[^(.+)];',current_line,re.MULTILINE)\n        if matched is not None:\n            current_line = re.sub('[^(.+)];','',current_line,re.MULTILINE)\n            prev_line = re.sub(r'^(.+)$',r'\\1 ;',prev_line,re.MULTILINE)\n        print prev_line.strip()\n        prev_line = current_line.strip()\n</code></pre>\n\n<p>I am getting the expected out put except for the last line where the semicolon is missing</p>\n\n<pre><code>Hello World ) ;\n\n\n\n\n\nHello World ) ;\n\n\n\nHello World ) **semicolon is missing here**\n</code></pre>\n"},{"tags":["python","html","templates"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13279364,"title":"Convert HTML to plain text and keep basic formatting","body":"<p>I am looking for a way to convert HTML formatted text to plain text while maintaining its basic structure, and perhaps be slightly tweaked, so:</p>\n\n<pre><code>&lt;p&gt;This is a paragraph.&lt;/p&gt;\n&lt;ol&gt;\n  &lt;li&gt;List item 1.&lt;/li&gt;\n  &lt;li&gt;List item 2.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;This is an &lt;a href=\"www.google.com\"&gt;anchor&lt;/a&gt;.&lt;/p&gt;\n</code></pre>\n\n<p>Becomes:</p>\n\n<blockquote>\n  <p>This is a paragraph.</p>\n  \n  <ul>\n  <li>List item 1.</li>\n  <li>List item 2.</li>\n  </ul>\n  \n  <p>This is an anchor (www.google.com).</p>\n</blockquote>\n\n<p>Any ideas on how to effectively achieve for a very large number of HTML-formatted templates?</p>\n\n<ul>\n<li>Note that the most important part outside of the structure is keeping the anchors.</li>\n</ul>\n"},{"tags":["python","class","instance"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":14637,"score":7,"question_id":1593632,"title":"Python: Get name of instantiating class?","body":"<p>Example:</p>\n\n<pre><code>class Class1:\n    def __init__(self):\n        self.x = Class2('Woo!')\n\nclass Class2:\n    def __init__(self, word):\n        print word\n\nmeow = Class1()\n</code></pre>\n\n<p>How do I derive the class name that created the self.x instance? In other words, if I was given the instance self.x, how do I get the name 'Class1'? Using <code>self.x.__class__.__name__</code> will obviously only give you the Class2 name. Is this even possible? Thanks.</p>\n"},{"tags":["python","osx","python-3.x","python-2.7","python-module"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":56,"score":0,"question_id":13278186,"title":"problems installing matplotlib for Python -- or, how else to graph in Python?","body":"<p>I currently have Python2.7, and Python3.3 installed on a Mac. I am trying to install matplotlib so that I can create candlestick, and line graphs. I have tried multiple methods of installing matplotlib, but they are all failing. For example:</p>\n\n<pre><code>port install py27-matplotlib\nNo broken files found.\nMacBook$ python2.7\nPython 2.7.1 (r271:86832, Jul 31 2011, 19:30:53) \n&gt;&gt;&gt; import matplotlib\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named matplotlib\n</code></pre>\n\n<p>attempts at source builds off matplotlib-1.1.1 lead to C header errors.</p>\n\n<p>The parent problem that I am trying to solve is to create candlestick, and line plots. Is there another library better suited to this maybe?</p>\n"},{"tags":["python","subprocess"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13243523,"title":"Using python subprocess to fake running a cmd from a terminal","body":"<p>We have a vendor-supplied python tool ( that's byte-compiled, we don't have the source ).  Because of this, we're also locked into using the vendor supplied python 2.4. The way to the util is:</p>\n\n<pre><code>source login.sh\noupload [options]\n</code></pre>\n\n<p>The login.sh just sets a few env variables, and then 2 aliases:</p>\n\n<pre><code>odownload () {\n${PYTHON_CMD} ${OCLIPATH}/ocli/commands/word_download_command.pyc \"$@\"\n}\noupload () {\n${PYTHON_CMD} ${OCLIPATH}/ocli/commands/word_upload_command.pyc \"$@\"\n}\n</code></pre>\n\n<p>Now, when I run it their way - works fine.  It will prompt for a username and password, then do it's thing.</p>\n\n<p>I'm trying to create a wrapper around the tool to do some extra steps after it's run and provide some sane defaults for the utility.  The problem I'm running into is I cannot, for the life of me, figure out how to use subprocess to successfully do this.  It seems to realize that the original command isn't running directly from the terminal and bails.</p>\n\n<p>I created a '/usr/local/bin/oupload' and copied from the original login.sh.  Only difference is instead of doing an alias at the end, I actually run the command.</p>\n\n<p>Then, in my python script, I try to run my new shell script:</p>\n\n<pre><code>if os.path.exists(options.zipfile):\n    try:\n        cmd = string.join(cmdargs,' ')\n        p1 = Popen(cmd, shell=True, stdin=PIPE)\n</code></pre>\n\n<p>But I get:</p>\n\n<pre><code>Enter Opsware Username: Traceback (most recent call last):\nFile \"./command.py\", line 31, in main\nFile \"./controller.py\", line 51, in handle\nFile \"./controllers/word_upload_controller.py\", line 81, in _handle\nFile \"./controller.py\", line 66, in _determineNew\nFile \"./lib/util.py\", line 83, in determineNew\nFile \"./lib/util.py\", line 112, in getAuth\nEmpty Username not legal\n\nUnknown Error Encountered                                              \n\nSUMMARY:\nName: Empty Username not legal\nDescription: None\n</code></pre>\n\n<p>So it seemed like an extra carriage return was getting sent ( I tried rstripping all the options, didn't help ).</p>\n\n<p>If I don't set stdin=PIPE, I get:</p>\n\n<pre><code>Enter Opsware Username: Traceback (most recent call last):\nFile \"./command.py\", line 31, in main\nFile \"./controller.py\", line 51, in handle\nFile \"./controllers/word_upload_controller.py\", line 81, in _handle\nFile \"./controller.py\", line 66, in _determineNew\nFile \"./lib/util.py\", line 83, in determineNew\nFile \"./lib/util.py\", line 109, in getAuth\nIOError: [Errno 5] Input/output error\n\nUnknown Error Encountered                                              \n</code></pre>\n\n<p>I've tried other variations of using p1.communicate, p1.stdin.write() along with shell=False and shell=True, but I've had no luck in trying to figure out how to properly send along the username and password.  As a last result, I tried looking at the byte code for the utility they provided - it didn't help - once I called the util's main routine with the proper arguments, it ended up core dumping w/ thread errors.</p>\n\n<p>Final thoughts - the utility doesn't want to seem to 'wait' for any input.  When run from the shell, it pauses at the 'Username' prompt.  When run through python's popen, it just blazes thru and ends, assuming no password was given.  I tried to lookup ways of maybe preloading the stdin buffer - thinking maybe the process would read from that if it was available, but couldn't figure out if that was possible.</p>\n\n<p>I'm trying to stay away from using pexpect, mainly because we have to use the vendor's provided python 2.4 because of the precompiled libraries they provide and I'm trying to keep distribution of the script to as minimal a footprint as possible - if I have to, I have to, but I'd rather not use it ( and I honestly have no idea if it works in this situation either ).</p>\n\n<p>Any thoughts on what else I could try would be most appreciated.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>So I solved this by diving further into the bytecode and figuring out what I was missing from the compiled command.</p>\n\n<p>However, this presented two problems - </p>\n\n<ol>\n<li>The vendor code, when called, was doing an exit when it completed</li>\n<li>The vendor code was writing to stdout, which I needed to store and operate on ( it contains the ID of the uploaded pkg ).  I couldn't just redirect stdout, because the vendor code was still asking for the username/password.</li>\n</ol>\n\n<p>1 was solved easy enough by wrapping their code in a try/except clause.</p>\n\n<p>2 was solved by doing something similar to: <a href=\"http://stackoverflow.com/a/616672/677373\">http://stackoverflow.com/a/616672/677373</a></p>\n\n<p>Instead of a log file, I used cStringIO.  I also had to implement a fake 'flush' method, since it seems the vendor code was calling that and complaining that the new obj I had provided for stdout didn't supply it - code ends up looking like:</p>\n\n<pre><code>class Logger(object):\n    def __init__(self):\n        self.terminal = sys.stdout\n        self.log = StringIO()\n\n    def write(self, message):\n        self.terminal.write(message)\n        self.log.write(message)\n\n    def flush(self):\n        self.terminal.flush()\n        self.log.flush()\n\nif os.path.exists(options.zipfile):\n    try:\n        os.environ['OCLI_CODESET'] = 'ISO-8859-1'\n        backup = sys.stdout\n        sys.stdout = output = Logger()\n        # UploadCommand was the command found in the bytecode\n        upload = UploadCommand()\n        try:\n            upload.main(cmdargs)\n        except Exception, rc:\n            pass\n        sys.stdout = backup\n        # now do some fancy stuff with output from output.log\n</code></pre>\n\n<p>I should note that the only reason I simply do a 'pass' in the except: clause is that the except clause is <em>always</em> called.  The 'rc' is actually the return code from the command, so I will probably add handling for non-zero cases.</p>\n"},{"tags":["python","curl","pycurl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13279375,"title":"Assertion failed in pycurl when trying to get image from web","body":"<p>I'm trying to get an image from a site with this code:  </p>\n\n<pre><code>image=\"http://the.site.com/view/ashx/Handler.ashx?Command=Avatar&amp;TC=TQB\"\ncurlobj = pycurl.Curl()\ncurlobj.setopt(pycurl.COOKIEFILE, '')\ncurlobj.setopt(pycurl.CONNECTTIMEOUT, 30)\ncurlobj.setopt(pycurl.TIMEOUT, 30)\ncurlobj.setopt(pycurl.FAILONERROR, True)\ncurlobj.setopt(pycurl.FOLLOWLOCATION, 1)\ncurlobj.setopt(pycurl.MAXREDIRS, 5)\nimgf = open(\"logo.jpg\", \"wb\")\ncurlobj.setopt(pycurl.URL, image)\ncurlobj.setopt(pycurl.WRITEDATA, imgf)\ncurlobj.perform()\nimgf.close()\ncurlobj.close()\n</code></pre>\n\n<p>But it gives:  </p>\n\n<pre><code>python2`.6: src/pycurl.c:272: get_thread_state: Assertion `self-&gt;ob_type == p_Curl_Type' failed.`\n</code></pre>\n\n<p>What is the problem?  </p>\n\n<p>Thanks</p>\n"},{"tags":["python","function","introspection"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":269,"score":1,"question_id":7142062,"title":"Get function name as a string in python","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/245304/how-do-i-get-the-name-of-a-function-or-method-from-within-a-python-function-or-m\">How do I get the name of a function or method from within a Python function or method?</a><br>\n  <a href=\"http://stackoverflow.com/questions/251464/how-to-get-the-function-name-as-string-in-python\">How to get the function name as string in Python?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a function named <strong>func</strong>, I'd like to be able to get the functions name as a string. </p>\n\n<p>pseudo-python :</p>\n\n<pre><code>def func () :\n    pass\n\nprint name(func)\n</code></pre>\n\n<p>This would print 'func'.</p>\n"},{"tags":["python","startswith"],"answer_count":5,"favorite_count":0,"up_vote_count":24,"down_vote_count":0,"view_count":384,"score":24,"question_id":13270888,"title":"Why is startswith slower than slicing","body":"<p>Why is the implementation of <a href=\"http://docs.python.org/2/library/stdtypes.html#str.startswith\" rel=\"nofollow\"><code>startwith</code></a> slower than slicing?</p>\n\n<pre><code>In [1]: x = 'foobar'\n\nIn [2]: y = 'foo'\n\nIn [3]: %timeit x.startswith(y)\n1000000 loops, best of 3: 321 ns per loop\n\nIn [4]: %timeit x[:3] == y\n10000000 loops, best of 3: 164 ns per loop\n</code></pre>\n\n<p>Surprisingly, even including calculation for the length, slicing still appears significantly faster:</p>\n\n<pre><code>In [5]: %timeit x[:len(y)] == y\n1000000 loops, best of 3: 251 ns per loop\n</code></pre>\n\n<p><em>Note: the first part of this behaviour is noted in <a href=\"http://shop.oreilly.com/product/0636920023784.do\" rel=\"nofollow\"><strong>Python for Data Analysis</strong></a> (Chapter 3), but no explanation for it is offered.</em></p>\n\n<p>.</p>\n\n<p>If helpful: <a href=\"http://hg.python.org/cpython/file/4ebe1ede981e/Objects/stringobject.c#l2903\" rel=\"nofollow\">here is the C code for <code>startswith</code></a>; and here is the output of <a href=\"http://stackoverflow.com/questions/12673074/how-should-i-understand-the-output-of-dis-dis\"><code>dis.dis</code></a>: </p>\n\n<pre><code>In [6]: import dis\n\nIn [7]: dis_it = lambda x: dis.dis(compile(x, '&lt;none&gt;', 'eval'))\n\nIn [8]: dis_it('x[:3]==y')\n  1           0 LOAD_NAME                0 (x)\n              3 LOAD_CONST               0 (3)\n              6 SLICE+2             \n              7 LOAD_NAME                1 (y)\n             10 COMPARE_OP               2 (==)\n             13 RETURN_VALUE        \n\nIn [9]: dis_it('x.startswith(y)')\n  1           0 LOAD_NAME                0 (x)\n              3 LOAD_ATTR                1 (startswith)\n              6 LOAD_NAME                2 (y)\n              9 CALL_FUNCTION            1\n             12 RETURN_VALUE \n</code></pre>\n"},{"tags":["python","function","arguments"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":60,"score":1,"question_id":13274997,"title":"print-like function that writes string to a text file","body":"<p>I would like to write a function in Python that will take arguments just like <code>print</code> does but instead of printing the strings to stdout, I would like to write the strings formatted into a text file.</p>\n\n<p>How do I define the arguments for such a function arguments to accept the string formatting, I'm wondering?</p>\n\n<p>I am looking for something that would replace</p>\n\n<pre><code>print \"Test\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>MyLog \"Test\"\n</code></pre>\n\n<p>but the % rguments should also be supported.\nSo far I have only come up with this:</p>\n\n<pre><code>def logger(txt):    \nfh = open (LOGFILE, \"a\") #Get handle in append mode\nfh.write(txt)\nfh.close()\nprint txt\nreturn True \n</code></pre>\n\n<p>which works fine for a simple string but i don't think it'll take the % arguments nor will I be able to call it like <em>logger \"TEST\"</em></p>\n"},{"tags":["python","osx","import","imagemagick","pythonmagick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":10954568,"title":"Problems detecting PythonMagick after install Mac OSX","body":"<p>I followed the instructions at <a href=\"https://gist.github.com/2778301\" rel=\"nofollow\">https://gist.github.com/2778301</a> but when I try to do <code>import PythonMagick</code> I get the error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"PythonMagick/__init__.py\", line 1, in &lt;module&gt;\n    from . import _PythonMagick\nImportError: cannot import name _PythonMagick\n</code></pre>\n\n<p>The PythonMagick.so is in my python2.7 site-packages.</p>\n\n<p>EDIT:\nI solved this problem by copying from where <code>make install</code> installed PythonMagick <code>/usr/local/lib/python2.7/site-packages/PythonMagick</code> to where Python actually looks on a OS X Lion, <code>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/</code></p>\n"},{"tags":["python","python-2.7"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13278959,"title":"Randomly choosing items from a list, can't assign to a variable, encounter NameError instead","body":"<p>I'm having a problem understanding why a class object I created fails to return back an randomly chosen item from a list. I know the fault is with me failing to understand something basic in how the value is passed. I'm still new to learning Python and this is only my second application. My ultimate goal is to create an object of class <code>Weapons()</code> called <code>armed</code> that has a feature called <code>weapon</code>. I want to be able to create 'armed.weapon' which is a weapon randomly chosen from a list and then later assigned to a variable in another class object, i.e. 'hero_weapon = armed.weapon'. Here's the example I wrote trying to create 'armed.weapon' and then print the value. What is the flaw in my logic here? Why do I encounter \"NameError: global name 'weapon' is not defined\"?</p>\n\n<pre><code>from random import randint\n\nclass Weapons(object):\n\ndef __init__(self, weapon = ''):\n    self.weapon = weapon\n    self.weapons_list = [\n        'Flame Blade',\n        'Ice Flail',\n        'Lightning Mace'\n    ]\n\ndef choices(self):\n    self.weapon = self.weapons_list[randint(0, 2)]\n    self.weapon = weapon\n    return weapon\n\n\narmed = Weapons()\narmed.choices()\nprint armed.weapon\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13276957,"title":"find the end of the body tag in an html file with python","body":"<p>Hi I have the following code<Br></p>\n\n<pre><code>inex = \"app/index.html\" \noriginal = open(index,\"r\")\nfor line in original:\n    if line =='&lt;/body&gt;':\n        print \"here\"\noriginal.close()\n</code></pre>\n\n<p>but It doesn't seem to find the line '. Do I have to strip out potential white space even though the index.html file has none? Any clues on how to find the  tag?<br>\nThanks</p>\n"},{"tags":["python","image","opencv"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13278062,"title":"Opencv - Convert image to arbitrary bit depth in python","body":"<p>I got an assignment in which I have to convert an 8-bit greyscale image to 10, 7, 4, 3, and 1 bit representations.</p>\n\n<p>Since opencv doesn't seem to offer bit depths different from 8, 16, 32 and so on I have no idea of how to accomplish this.</p>\n\n<p>Basically what I need is a way to reduce the amount of information contained in the pixels until I end up with a Black and White image (1 bit representation).</p>\n\n<p>EDIT: I'm not exactly sure about how the conversion should work, but I'm guessing we need to perform a right shift operation. That way</p>\n\n<pre><code>0b11111111\n</code></pre>\n\n<p>would eventually become</p>\n\n<pre><code>0b1\n</code></pre>\n\n<p>The problem is opencv would understand this as:</p>\n\n<pre><code>0b00000001\n</code></pre>\n\n<p>And that wouldn't leave me with a black and white image as I'm supposed to.</p>\n\n<p>If you have some time, the process is explained in theory <a href=\"http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-003-signals-and-systems-spring-2010/lecture-notes/MIT6_003S10_lec22.pdf\" rel=\"nofollow\">here</a></p>\n"},{"tags":["python","string","variables"],"answer_count":10,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":10209,"score":7,"question_id":1534504,"title":"Convert Variable Name to String?","body":"<p>I would like to convert a python variable name into the string equivalent as shown. Any ideas how?</p>\n\n<pre><code>var = {}\nprint ???  # Would like to see 'var'\nsomething_else = 3\nprint ???  # Would print 'something_else'\n</code></pre>\n"},{"tags":["python","django","singleton","initialization","startup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13277233,"title":"How can I run startup code in Django once the server is done initializing?","body":"<p>I would like to create a thread (maybe in the future a process) that inherits all the django env and settings but goes off to do its own monitoring. Ideally I would like this to be triggered when the Django server is done initializing. I've tried both methods below. The first one seems to run the Middleware initializer every time a request is made and both of them have the problem that my startup code only gets triggered when the first request to the server is made.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2781383/where-to-put-django-startup-code\">Where to put Django startup code?</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/9259844/running-startup-code-right-after-django-settings-also-for-commands\">Running startup code right after Django settings? (also for commands)</a></p>\n\n<p>I've also seen that someone checked in some signal for this exact use case but it will only be available in django 1.6 or later.</p>\n\n<p>Any ideas how to work around this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","matplotlib","time-series","pandas"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":13089789,"title":"How can I animate a pandas timeseries?","body":"<p>I have pandas timeseries with datetime column as index:</p>\n\n<pre><code>2010-09-20    1828.27\n2010-09-21    1843.30\n2010-09-22    1898.05\n2010-09-23    1897.00\n2010-09-24    1902.00\n2010-09-27    1828.96\n2010-09-28    1824.85\n2010-09-29    1808.17\n2010-09-30    1833.04\n</code></pre>\n\n<p>How do I animate this dataset using <a href=\"http://matplotlib.org/examples/animation/simple_anim.html\" rel=\"nofollow\">simple</a> matplotlib example.</p>\n"},{"tags":["python","pydev","execfile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13278963,"title":"Eclipse PyDev undefined variable using execfile","body":"<p>I am new to PyDev, so this may be a simple answer to the question that I have.</p>\n\n<p>The code that I am pulling into PyDev uses a execfile instead of a import to pull in a class from another file. I don't have control over the code, so I can't change it to a import.</p>\n\n<pre><code>execfile(\"my_class.py\")\nmy_class.function()\n</code></pre>\n\n<p>I get a undefined variable for each class that the execfile pulls in. </p>\n\n<p>Is there a way to get PyDev to recognize the classes that I bring in through a execfile.  Maybe there is some kind of way that I can do a implicit import in PyDev? </p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":13258197,"title":"What is a simpler, more pythonic way of expressing the following?","body":"<pre><code>return not a and not b\n</code></pre>\n\n<p>^ how do I express this in a better format</p>\n"},{"tags":["python","fabric"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13277822,"title":"Start detached Unix process via fabric on multiple servers and retrieve status?","body":"<p>What is the recommended way to start long running (bash) scripts on several remote servers via fabric, so that you can later re-attach to the process for checking the status of the process, eventually sigterm it and get the exit code?</p>\n"},{"tags":["python","restructuredtext"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13277798,"title":"How to reliably detect if a python docstring is in rest?","body":"<p>I'm developing a docstring viewer and so I would like to properly convert any docstring to good looking html.</p>\n\n<p>Docstrings in most of the standard libraries are not in <a href=\"http://docutils.sourceforge.net/rst.html\" rel=\"nofollow\">reST</a>, but that's not the case for scientific libraries, which have adopted for the most part the <a href=\"http://pypi.python.org/pypi/numpydoc/0.4\" rel=\"nofollow\">numpydoc</a> standard.</p>\n\n<p>So I would like to reliably detect whether a docstring is in reST or not, in order to pass it to different renders.</p>\n"},{"tags":["python","seek"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13278748,"title":"How does Python's seek function work?","body":"<p>If I have some file-like object and do the following:</p>\n\n<pre><code>F = open('abc', 'r')\n...\nloc = F.tell()\nF.seek(loc-10)\n</code></pre>\n\n<p>What does seek do? Does is start at the beginning of the file and read <code>loc-10</code> bytes? Or is it smart enough just to back up 10 bytes?</p>\n"},{"tags":["python","hex","uppercase"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13277440,"title":"How can I get Python to use upper case letters to print hex values?","body":"<p>In Python v2.6 I can get hex for my integers in one of two ways:</p>\n\n<pre><code>print (\"0x%x\")%value\nprint hex(value)\n</code></pre>\n\n<p>However, in both cases, the hexadecimal digits are lower case.  How can I get these in upper case?</p>\n"},{"tags":["python","regex","groups"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":13270514,"title":"Optional grouping in a simple python regex","body":"<p>All I want to do is search a string for instances of two consecutive digits. If such an instance is found I want to group it, otherwise return none for that particular groups. I thought this would be trivial, but I can't understand where I'm going wrong. In the example below, removing the optional (?) character gets me the numbers, but in strings without numbers, the <code>r</code> evaluates to None, so r.groups() throws an exception.</p>\n\n<pre><code>p = re.compile(r'(\\d{2})?')\nr = p.search('wqddsel78ffgr')\nprint r.groups()\n&gt;&gt;&gt;(None, )    # why not ('78', )?\n</code></pre>\n\n<p><code># --- update/clarification --- #</code></p>\n\n<p>Thanks for the answers, but the explanations given are leaving me none-the-wiser. Here's a another go at pin-pointing exactly what it is I don't understand.</p>\n\n<pre><code>pattern = re.compile(r'z.*(A)?')\n_string = \"aazaa90aabcdefA\"\nresult = pattern.search(_string)\nresult.group()\n&gt;&gt;&gt; zaa90aabcdefA\nresult.groups()\n&gt;&gt;&gt; (None, )\n</code></pre>\n\n<p>I understand why <code>result.group()</code> produces the result it does, but why doesn't <code>result.groups()</code> produce <code>('A', )</code>? I thought it worked like this: once the regex hits the <code>z</code> it then matches right to the end of the line using <code>.*</code>. In spite of <code>.*</code> matching everything, the regex engine is aware that it passed over an optional group, and since <code>?</code> means it will try to match if it can, it should work backwards to try and match. Replacing <code>?</code> with <code>+</code> does return <code>('A', )</code>. This suggests that <code>?</code> won't try and match if it doesn't have to, but this seems to contrast with much of what I've read on the subject (esp. J. Friedl's excellent book).</p>\n"},{"tags":["python","eclipse","eclipse-ecf"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":263,"score":2,"question_id":2313743,"title":"Using ECF shared editing with Python","body":"<p>I can use the shared editing feature of <a href=\"http://www.eclipse.org/ecf/\" rel=\"nofollow\">ECF</a> with Java fine perfectly fine. When I try to do it with Python files it also works, but there is no syntax highlighting.</p>\n\n<p>I installed PyDev to get syntax highlighting, but then the context menu does not have the \"share editor\" option. I removed PyDev and the option came back. I installed Dynamic Languages Toolkit in hopes that its Python syntax highlighting was compatible and I got the same effect (context menu lacks the \"share editor\" option).</p>\n\n<p>Is there a way to have a shared editing session with Python files and syntax highlighting?</p>\n"},{"tags":["python","ip","hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":30,"score":3,"question_id":13272803,"title":"Get hosting provider for IP with Python","body":"<p>I have a simple Python script that gets the IP for a domain and looks up the country using Maxmind. I would like that script to also get what webhosting company that hosts that IP/site. Is that possible, and if so how? I've searched this site and elsewhere without much luck.</p>\n"},{"tags":["python","multidimensional-array","numpy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13278560,"title":"Assigning subvectors to multidimensional arrays in Numpy","body":"<p>Say I have a matrix:</p>\n\n<pre><code>from numpy import *\na = zeros(shape=(nRows,nColumns));\n</code></pre>\n\n<p>and I would like to fill in the first column with ones, when I try to do:</p>\n\n<pre><code>a[:][0] = ones(shape=(nRows,1))\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>ValueError: output operand requires a reduction, but reduction is not enabled\n</code></pre>\n\n<p>Why is it not working?</p>\n"},{"tags":["python","linux","centos","cpanel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13278073,"title":"Python Installation throwing lots of MemoryError()'s","body":"<p>I just installed (and re-installed) python 2.7.3 on my centos 6.3 server with cpanel built into it to the /opt/python2.7.3 directory on my system.  I also installed it with the --enable-shared flag and then configured setuptools for it.  I am having issues now though when I am trying to easy_install or use basic python thigns such as bin/pcreate (i  am building a web application) with it throwing MemoryError()'s</p>\n\n<p>Im confident that there is memory available as free -m shows there is over 2gb of memory available on the system.  Here is an example of one of the MemoryError traceback's:</p>\n\n<pre><code>Traceback (most recent call last):\n\n\n  File \"bin/pcreate\", line 8, in &lt;module&gt;\n    load_entry_point('pyramid==1.4a3', 'console_scripts', 'pcreate')()\n  File \"/home/urcellar/betaurcellar/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 318, in load_entry_point\n  File \"/home/urcellar/betaurcellar/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 2221, in load_entry_point\n  File \"/home/urcellar/betaurcellar/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1954, in load\n  File \"/home/urcellar/betaurcellar/lib/python2.7/site-packages/pyramid-1.4a3-py2.7.egg/pyramid/scripts/pcreate.py\", line 5, in &lt;module&gt;\n    import optparse\n  File \"/opt/python2.7/lib/python2.7/optparse.py\", line 90, in &lt;module&gt;\n    from gettext import gettext\nMemoryError\n</code></pre>\n\n<p>Im not really sure what is broken or what to do...i did a clean install so it's definitely not the python download or installation, has to be something else on the system....</p>\n\n<p>Thanks</p>\n\n<p>EDIT: ulimit-a</p>\n\n<pre><code>core file size          (blocks, -c) 1000000\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 127196\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 4096\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 14335\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["python","list","random","choice"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":50,"score":-3,"question_id":13278049,"title":"How to know which list python chooses with random.choice","body":"<p>I'd like to know which list python chooses with <code>random.choice</code> so I can use <code>if</code> statements for different outcomes.</p>\n\n<pre><code>thelists = [L1, L2, L3, L4, L5, L6]\ntheplayers = random.choice(thelists)\n</code></pre>\n\n<p>Id like to know which list, L1, L2..., the variable theplayers was chosen to be.</p>\n"},{"tags":["python","image","pygame","smooth"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13272023,"title":"Image rotating in Pygame while keeping smooth edges","body":"<p>I would like to rotate an image and also keep the edges smooth.</p>\n\n<p>This is how it looks like</p>\n\n<p><img src=\"http://i.stack.imgur.com/PjjCA.png\" alt=\"original image\"></p>\n\n<p>And after rotating </p>\n\n<p><img src=\"http://i.stack.imgur.com/ax7Wi.png\" alt=\"rotated image\"></p>\n\n<p>The code I'm using looks like</p>\n\n<pre><code>def rot_center(self, image, angle):\n   \"\"\"rotate an image while keeping its center and size\"\"\"\n   orig_rect = image.get_rect()\n   rot_image = pygame.transform.rotate(image, angle)\n   rot_rect = orig_rect.copy()\n   rot_rect.center = rot_image.get_rect().center\n   rot_image = rot_image.subsurface(rot_rect).copy()\n   return rot_image\n</code></pre>\n\n<p>Is there something I'm doing wrong?</p>\n"},{"tags":["python","tkinter","optionmenu"],"answer_count":1,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":67,"score":8,"question_id":13219901,"title":"Changing default icon in python tkinter OptionMenu","body":"<p>I am trying to remove the default \"box like\" icon from the tkinter OptionMenu and replace it with my own image file. below is the code I have to date.  It is working but I had to add the last line to get it to display the arrow image and for the OptionMenu to function.  However, the arrow image is always imedately after the text rather than at the far right of the OptionMenu and sticky does not seam to be aplying hence the width=140.  I am working in Python 2.6.  </p>\n\n<p>Any sugegestions for moving the image to the right?</p>\n\n<p><img src=\"http://i.stack.imgur.com/ul1MQ.jpg\" alt=\"Default\">  <img src=\"http://i.stack.imgur.com/N4nWj.jpg\" alt=\"What I am Getting\"></p>\n\n<pre><code>...\narrow = PhotoImage(file='arrow.gif')\nom = OptionMenu(root,myVar,*myOptList)\nom.grid(sticky=W+E,padx=5,pady=5)\nom.config(indictoron=0,compound='right',image=arrow,width=140)\nom.image=arrow\n...\n</code></pre>\n"},{"tags":["python","parsing","log4j"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13278405,"title":"Parsing log4j in Python","body":"<p>I have a log file (log4j xml-ish format) that I am trying to pull info out of and use in my Python module. Could I treat this file as if it were XML? My gut is telling me no... If not, what is the best way to parse the data? Below is a section of the log file. The file does not include your standard doctype or version headers which is why I said \"xml-ish.\"</p>\n\n<pre><code>&lt;log4j:event \nlogger=\"com.hp.cp.elk.impl.subscriptions.AsyncSimpleSubscriptionManager\"\ntimestamp=\"1352320517430\" level=\"DEBUG\" thread=\"Thread-77\"&gt;\n&lt;log4j:message&gt;&lt;![CDATA[Broadcasting signals to subscribers...]]&gt;&lt;/log4j:message&gt;\n&lt;/log4j:event&gt;\n\n&lt;log4j:event logger=\"com.hp.cp.jdf.idp.queue.IDPJobProgressMonitor\"\ntimestamp=\"1352320517430\" level=\"DEBUG\" thread=\"IDPJobProgressMonitorThread\"&gt;\n&lt;log4j:message&gt;&lt;![CDATA[[JDFQueueEntry[  --&gt;  JDFAutoQueueEntry[  --&gt; JDFElement[\n--&gt; &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;QueueEntry \nxmlns=\"http://www.CIP4.org/JDFSchema_1_1\"\nDescriptiveName=\"H44E61-6.pdf\" DeviceID=\"HPPRO1-SM1\"\nEndTime=\"2012-11-07T10:58:18-08:00\" JobID=\"Default\" Priority=\"50\"\nQueueEntryID=\"d5fbbe98a1194e0da573b51a0c8040fb\" Status=\"Completed\" \nSubmissionTime=\"2012-11-06T16:35:06-08:00\"&gt;  &lt;Comment AgentName=\"CIP4 JDF Writer \nJava\" AgentVersion=\"1.4a BLD 63\" ID=\"c_121106_163506894_000804\" \nName=\"JobSpec\"&gt;WBG_4C_Flat_21up_BusCards_Duplex&lt;/Comment&gt;\n&lt;/QueueEntry&gt;\n] ] ]] queue entries changed.]]&gt;&lt;/log4j:message&gt;\n&lt;/log4j:event&gt;\n\n&lt;log4j:event logger=\"com.hp.cp.jdf.idp.queue.IDPJobProgressMonitor\" \ntimestamp=\"1352320517430\" level=\"DEBUG\" thread=\"IDPJobProgressMonitorThread\"&gt;\n&lt;log4j:message&gt;&lt;![CDATA[no active queue entries changed.]]&gt;&lt;/log4j:message&gt;\n&lt;/log4j:event&gt;\n</code></pre>\n\n<p>Sorry for the messy code, I just wanted to make you all can get an idea of the formatting. Anyway, I'm currently just trying to pull the value from <code>QueueEntryID=\"d5fbbe98a1194e0da573b51a0c8040fb\"</code> Any suggestions? Thank you!</p>\n"},{"tags":["python","mysql","localhost","mysql-python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13277384,"title":"MySQLdb cannot resolve localhost","body":"<p>I have set up a basic transactional database using MySQL. Using python/MySQLdb, this works fine:</p>\n\n<pre><code>connection = MySQLdb.connect (host = \"127.0.0.1\", port = 3306, user = \"root\", passwd = \"password\", db = \"test\")\n</code></pre>\n\n<p>but this doesn't:</p>\n\n<pre><code>connection = MySQLdb.connect (host = \"localhost\", port = 3306, user = \"root\", passwd = \"password\", db = \"test\")\n</code></pre>\n\n<p>Using the latter generates the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"path\\to\\virtualenv\\lib\\site-packages\\MySQLdb\\__init__.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"path\\to\\virtualenv\\lib\\site-packages\\MySQLdb\\connections.py\", line 187, in __init__\n    super(Connection, self).__init__(*args, **kwargs2)\n_mysql_exceptions.OperationalError: (2003, \"Can't connect to MySQL server on 'localhost' (10061)\")\n</code></pre>\n\n<p>I have to admit I'm a bit confused as to why MySQLdb fails to resolve localhost. The C:\\Windows\\System32\\drivers\\etc\\hosts file hasn't been modified in way. Using a regular Windows command prompt, <code>ping localhost</code> and <code>telnet localhost 3306</code> both work fine.</p>\n\n<p>Environment:</p>\n\n<ul>\n<li>Windows 7 (64 bits)</li>\n<li>Python 2.7.2 (32 bits) </li>\n<li>MySQLdb 1.2.3 </li>\n<li>MySQL 5.5.28 (64 bits)</li>\n</ul>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":53,"score":-2,"question_id":13277564,"title":"elif statement getting a syntax error","body":"<p>I'm trying to set up a menu. In the menu, the user is able to pick which option to take and then add or delete items from a list. I'm having trouble with the syntax in my elif statement. it's saying there is a syntax error and highlighting the second elif. I'm not sure what the problem is.  </p>\n\n<pre><code>choice = int(input('Enter your choice: '))\nif choice !=0:\n    display_menu()\nelif choice == 1:\n    add_value = float(input('Add value: ')\nelif choice == 2:\n    delete_value_by_value = float(input('Which value would you like to delete? \n</code></pre>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":87,"score":-8,"question_id":13278287,"title":"When are you a Python expert?","body":"<p>Python is a fairly 'big' language that is used broadly in very different types of applications.</p>\n\n<p>I've been recently asked by a recruiter if I am an expert in it.</p>\n\n<p>Now, for a language like C++ I find it easier to identify what an 'expert' is (someone who has built and rebuilt systems, is comfortable with pointers, templates, knows some compilers well, and can talk about language gotchas). But Python on the other hand seems easy, but every once in a while you find a feature you didn't know about. There appears to be a lot of breadth, but not necessarily depth.</p>\n\n<p>So, what makes you an expert in Python? How do you know if you are one?</p>\n"},{"tags":["python","google-analytics-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13278155,"title":"Google Analytics Data in Python Admin panel","body":"<p>I want to put graphs on my python admin panel showing the stats of my site from google analytics.</p>\n\n<p>I don't have a lot of experience with this but I found something in PHP which seems to do exactly what I'm after.</p>\n\n<p>I was wondering where I can find a similar tutorial or example code in Python? I havent been able to find much on google, and if there are various options, which is the most straightforward?</p>\n\n<p>Thank you</p>\n"},{"tags":["python","bash","shlex"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":59,"score":4,"question_id":13276755,"title":"Using Python to cat a file over ssh to a remote bash script","body":"<p>I'm using subprocess.popen with shlex to call a remote bash script using ssh.  This command works quite fine on bash itself.  But as soon as I try to translate it to python and shlex with subprocess.popen it errs out.</p>\n\n<p>Remote bash script:</p>\n\n<pre><code>#!/bin/bash\ntmp=\"\";     \nwhile read -r line;\ndo\n    tmp=\"$tmp $line\\n\";\ndone;\necho $tmp;\n</code></pre>\n\n<p><strong>BASH CMD RESULT</strong>(Invoking the remote bash script on the command line)</p>\n\n<pre><code>$&gt; ssh x.x.x.x cat &lt; /tmp/bef69a1d-e580-5780-8963-6a9b950e529f.txt \" | /path/to/bash/script.sh;\"\nBar\\n\n$&gt; \n</code></pre>\n\n<p>Python code</p>\n\n<pre><code>import shlex\nimport subprocess\n\nfn = '/tmp/bef69a1d-e580-5780-8963-6a9b950e529f.txt'\ns = \"\"\"                                                                    \nssh x.x.x.x cat &lt; {localfile} '| /path/to/bash/script.sh;'\n\"\"\".format(localfile=fn)\n\nprint s\n\nlexer = shlex.shlex(s)                                                     \nlexer.quotes = \"'\"                                                         \nlexer.whitespace_split = True                                              \nsbash = list(lexer)                                                        \nprint sbash                                                                \n\n# print buildCmd                                                           \nproc=subprocess.Popen(sbash,stdout=subprocess.PIPE,stderr=subprocess.PIPE) \nout,err=proc.communicate()                                                 \n\nprint \"Out: \" + out                                                        \nprint \"Err: \" + err                                                        \n</code></pre>\n\n<p><strong>PYTHON SCRIPT RESULT</strong>:</p>\n\n<pre><code>$&gt; python rt.py\n\n    ssh x.x.x.x cat &lt; /tmp/bef69a1d-e580-5780-8963-6a9b950e529f.txt '| /path/to/bash/script.sh'\n['ssh', 'x.x.x.x', 'cat', '&lt;', '/tmp/bef69a1d-e580-5780-8963-6a9b950e529f.txt', \"'| /path/to/bash/script.sh'\"]\nOut: \nErr: bash: /tmp/bef69a1d-e580-5780-8963-6a9b950e529f.txt: No such file or directory\n$&gt;\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["python","python-2.7"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13276796,"title":"print tuple as number of arguments","body":"<p>I want to pass the variadic number of arguments and then print them (if some conditions are true).\nWhen I try to do so:</p>\n\n<pre><code>def my_print(*args)\n    print args\n</code></pre>\n\n<p>It prints a tuple. How do I make python act <code>my_print(a,b)</code> as <code>print a,b</code> ?</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":91,"score":7,"question_id":12673074,"title":"How should I understand the output of dis.dis?","body":"<p>I would like to understand how to use <a href=\"http://docs.python.org/library/dis.html\" rel=\"nofollow\">dis (the dissembler of Python bytecode)</a>. Specifically, how should one interpret the output of <a href=\"http://docs.python.org/library/dis.html#dis.dis\" rel=\"nofollow\"><code>dis.dis</code></a> (or <a href=\"http://docs.python.org/library/dis.html#dis.disassemble\" rel=\"nofollow\"><code>dis.disassemble</code></a>)?</p>\n\n<p>.</p>\n\n<p><em>Here is a very specific example (in Python 2.7.3):</em></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>dis.dis(\"heapq.nsmallest(d,3)\")\n\n      0 BUILD_SET             24933\n      3 JUMP_IF_TRUE_OR_POP   11889\n      6 JUMP_FORWARD          28019 (to 28028)\n      9 STORE_GLOBAL          27756 (27756)\n     12 LOAD_NAME             29811 (29811)\n     15 STORE_SLICE+0  \n     16 LOAD_CONST            13100 (13100)\n     19 STORE_SLICE+1\n</code></pre>\n\n<p>I see that <a href=\"http://docs.python.org/library/dis.html#opcode-JUMP_IF_TRUE_OR_POP\" rel=\"nofollow\"><code>JUMP_IF_TRUE_OR_POP</code></a> etc. are bytecode instructions <em>(although interestingly, <code>BUILD_SET</code> does not appear in this list, though I expect it works as <a href=\"http://docs.python.org/library/dis.html#opcode-BUILD_TUPLE\" rel=\"nofollow\"><code>BUILD_TUPLE</code></a>)</em>. I think the numbers on the right-hand-side are memory allocations, and the numbers on the left are <a href=\"http://en.wikipedia.org/wiki/GOTO\" rel=\"nofollow\">goto</a> numbers... I notice they <em>almost</em> increment by 3 each time (but not quite).</p>\n\n<p>If I wrap <code>dis.dis(\"heapq.nsmallest(d,3)\")</code> inside a function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def f_heapq_nsmallest(d,n):\n    return heapq.nsmallest(d,n)\n\ndis.dis(\"f_heapq(d,3)\")\n\n      0 BUILD_TUPLE            26719\n      3 LOAD_NAME              28769 (28769)\n      6 JUMP_ABSOLUTE          25640\n      9 &lt;44&gt;                                      # what is &lt;44&gt; ?  \n     10 DELETE_SLICE+1 \n     11 STORE_SLICE+1 \n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13274916,"title":"Python imported module is None","body":"<p>I have a module that imports fine (i print it at the top of the module that uses it)</p>\n\n<pre><code>from authorize import cim\nprint cim\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>&lt;module 'authorize.cim' from '.../dist-packages/authorize/cim.pyc'&gt;\n</code></pre>\n\n<p>However later in a method call, it has mysteriously turned to <code>None</code></p>\n\n<pre><code>class MyClass(object):\n    def download(self):\n        print cim\n</code></pre>\n\n<p>which when run show that <code>cim</code> is <code>None</code>. The module isn't ever directly assigned to <code>None</code> anywhere in this module. </p>\n\n<p>Any ideas how this can happen?</p>\n"},{"tags":["python","amazon-web-services","amazon","boto","amazon-cloudsearch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12763129,"title":"How do I connect to an existing CloudSearch domain in boto?","body":"<p>I'm just starting to work with boto to connect to Amazon CloudSearch. </p>\n\n<p>I got the examples working, but I can't find any examples of connecting to an existing domain, all the examples create a new domain. </p>\n\n<p>Poking around, I found get_domain, but that fails if I call it on the connection object.</p>\n\n<pre><code>&gt;&gt;&gt; conn.get_domain('foo')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'Layer2' object has no attribute 'get_domain'\n</code></pre>\n\n<p>Any suggestions as to how I can connect to an existing domain? </p>\n\n<p>[edit]\nI started from this: <a href=\"http://boto.cloudhackers.com/en/latest/cloudsearch_tut.html\" rel=\"nofollow\">http://boto.cloudhackers.com/en/latest/cloudsearch_tut.html</a></p>\n\n<p>So, all I'm doing this </p>\n\n<pre><code>import boto\nconn = boto.connect_cloudsearch()\n</code></pre>\n"},{"tags":["python","defaultdict"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13277448,"title":"Extract information from defaultdict","body":"<p>I have a defaultdict that contains the calculation of the average position of number ( Euler problem )</p>\n\n<pre><code>[('1', 0.6923076923076923), ('0', 2.0), ('3', 0.2222222222222222),\n ('2', 1.0909090909090908), ('7', 0.0), ('6', 0.875), \n('9', 1.6923076923076923),('8', 1.3333333333333333)]\n</code></pre>\n\n<p>I'm trying to get this information into simple string instead of doing it manually from 0 - 2. \nThe end result I'm looking for is something like </p>\n\n<pre><code>73162890\n</code></pre>\n\n<p>I don't know any good way to extracting them without using many if-else and for-loops.</p>\n\n<p>Is there any simple and good way of doing this in python?</p>\n"},{"tags":["python","audio-processing","beat-detection"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12344951,"title":"Detect beat and play (wav) file in a syncronised manner","body":"<p>I am trying my hands at Audio Processing in python with <a href=\"http://archive.gamedev.net/archive/reference/programming/features/beatdetection/index.html\" rel=\"nofollow\">this</a> Beat Detection algorithm. I have implemented the first (non-optimized version) from the aforementioned article. While it prints some results, I have no way to detect whether it works with some accuracy or not as I do not know how to play sound with it.</p>\n\n<p>Currently, I am using <code>Popen</code> to asynchronously start my media player with the song before going into the computation loop, but I am not sure if this strategy works and is giving synchronous results.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport scipy.io.wavfile, numpy, sys, subprocess\n\n# Some abstractions for computation\ndef sumsquared(arr):\n    sum = 0\n    for i in arr:\n            sum = sum + (i[0] * i[0]) + (i[1] * i[1])\n\n    return sum\n\nif sys.argv.__len__() &lt; 2:\n    print 'USAGE: wavdsp &lt;wavfile&gt;'\n    sys.exit(1)\n\nnumpy.set_printoptions(threshold='nan')\nrate, data = scipy.io.wavfile.read(sys.argv[1])\n\n\n# Beat detection algorithm begin \n# the algorithm has been implemented as per GameDev Article\n# Initialisation\ndata_len = data.__len__()\nidx = 0\nhist_last = 44032\ninstant_energy = 0\nlocal_energy = 0\nle_multi = 0.023219955 # Local energy multiplier ~ 1024/44100\n\n\n# Play the song\np = subprocess.Popen(['audacious', sys.argv[1]])\n\nwhile idx &lt; data_len - 48000:\n    dat = data[idx:idx+1024]\n    history = data[idx:hist_last]\n    instant_energy = sumsquared(dat)\n    local_energy = le_multi * sumsquared(history)\n    print instant_energy, local_energy\n    if instant_energy &gt; (local_energy * 1.3):\n            print 'Beat'\n\n    idx = idx + 1024\n    hist_last = hist_last + 1024 # Right shift history buffer\n\n p.terminate()\n</code></pre>\n\n<p>What modification/additions can I make to the script in order to get audio output and the algorithm (console) output in a time synchronised manner? i.e When console outputs result for a particular frame, that frame must be playing on the speakers. </p>\n"},{"tags":["python","ide","rad"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13275181,"title":"Python RAD under Windows/Linux","body":"<p>Héllo everybody, as this <a href=\"http://stackoverflow.com/questions/11061639/python-rad-desktop-deployment\">question about RAD</a> has been childishly closed 4 month ago without being answered and as <a href=\"http://stackoverflow.com/questions/81584/what-ide-to-use-for-python\">the only IDE question allowed on SO</a> isn't really up to date and doesn't fit my question (Visual Studio + PTVS + Wine to get a WPF only app under linux, no thanks) I will ask again:</p>\n\n<p>Is there <strong>at the moment</strong> a viable python IDE with a simple GUI editor (<strong>RAD</strong> tool) ? (and possibly usable under Linux?)</p>\n\n<p>Thanks for reading.</p>\n"},{"tags":["python","http","http-headers","httprequest"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13203611,"title":"Sending http requests without content-length or other headers","body":"<p>I am wondering if there exists a tool to send HTTP requests with given headers only.</p>\n\n<p>I need this to test some application and want to observe the behavior of the application when some HTTP headers are missing.</p>\n\n<p>Researched urllib2, httplib and pycurl but they add their own headers internally (in the best case, we can specify the value of these headers or make those values empty).</p>\n\n<p>What I need is an utility where I have complete/transparent control of the HTTP headers I want to send in a request (so that I can send requests with missing <code>content-length</code>/<code>content-type</code> and so on) and the application just forms a request with these headers ONLY, without adding anything else internally.</p>\n\n<p>I am able to do this with browser plugins.</p>\n"},{"tags":["python","heroku","web","flask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13277457,"title":"New to Heroku - \"No such type as web\"","body":"<p>I'm trying to deploy my first app using Python/Flask on Heroku.  I don't really know what I'm doing and am just following the tutorial at <a href=\"https://devcenter.heroku.com/articles/python#prerequisites\" rel=\"nofollow\">https://devcenter.heroku.com/articles/python#prerequisites</a>.  When I type the command <code>heroku ps:scale web=1</code> I'm getting the error message \"<code>No such type as web</code>\".  My <code>Procfile</code> says <code>web: python scrabble_cheater.py</code>, which I believe is correct.  Here's the log of my terminal:</p>\n\n<pre><code>(venv)jason-olsens-macbook-pro:scrabble paulnichols$ heroku status\n=== Heroku Status\nDevelopment: No known issues at this time.\nProduction:  No known issues at this time.\n(venv)jason-olsens-macbook-pro:scrabble paulnichols$ heroku config\n=== enigmatic-mountain-1395 Config Vars\nLANG:             en_US.UTF-8\nLD_LIBRARY_PATH:  /app/.heroku/vendor/lib\nLIBRARY_PATH:     /app/.heroku/vendor/lib\nPATH:             /app/.heroku/venv/bin:/bin:/usr/local/bin:/usr/bin\nPYTHONHASHSEED:   random\nPYTHONHOME:       /app/.heroku/venv/\nPYTHONPATH:       /app/\nPYTHONUNBUFFERED: true\n(venv)jason-olsens-macbook-pro:scrabble paulnichols$ heroku ps\n(venv)jason-olsens-macbook-pro:scrabble paulnichols$ git push heroku master\nWarning: Permanently added the RSA host key for IP address '50.19.85.154' to the list of known hosts.\nEverything up-to-date\n(venv)jason-olsens-macbook-pro:scrabble paulnichols$ heroku ps:scale web=1\nScaling web processes... failed\n !    No such type as web\n(venv)jason-olsens-macbook-pro:scrabble paulnichols$ \n</code></pre>\n\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["python","garbage-collection","cpython"],"answer_count":3,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":272,"score":11,"question_id":10962393,"title":"How does Python's Garbage Collector Detect Circular References?","body":"<p>I'm trying to understand how Python's garbage collector detects circular references. When I look at the documentation, all I see is a statement that circular references are detected, except when the objects involved have a <code>__del__</code> method. </p>\n\n<p>If this happens, my understanding (possibly faulty) is that the gc module acts as a failsafe by (I assume) walking through all the allocated memory and freeing any unreachable blocks.</p>\n\n<p>How does Python detect &amp; free circular memory references before making use of the gc module?</p>\n"},{"tags":["python","ctypes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1137,"score":0,"question_id":4755303,"title":"python cdll can't find module","body":"<p>I have a library consisting of two dll files and one python wrapper.</p>\n\n<p>I currently have code based on these three files being in the same parent directory as my main python file.  I am now attempting to refactor things before I continue development and would like to move said library code into it's own lib/ directory.  Unfortunately, nothing I've tried helps.</p>\n\n<pre><code>import ctypes\n\n_lib = ctypes.cdll[\"./my.dll\"]\n</code></pre>\n\n<p>The above code located in the python wrapper file loads the dll perfectly fine in it's original location.  I've tried various ways of loading it in the new location such as:</p>\n\n<pre><code>from ctypes import *\nimport os\n\npath = os.path.dirname(os.path.realpath(__file__))\n_lib = ctypes.CDLL(os.path.join(path, 'my.dll'))\n</code></pre>\n\n<p>However python always throws an exception saying unable to find the module..  I have copy and pasted the path to verify that it is in fact the valid absolute path to the .dll file</p>\n\n<p>Does anyone know what I need to do in order to relocate this library to a sub folder?  I could always leave it where it is but I simply hate clutter.</p>\n"},{"tags":["python","xml-parsing","etree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13273459,"title":"XML Python Parser thhrowing errors","body":"<p>I get the following error when I try to run my python parser</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\John\\Desktop\\FINAL BART ALL INFO-Magic Bullet.py\", line 75, in &lt;module&gt;\n    doc = etree.XML(item)\n  File \"lxml.etree.pyx\", line 2723, in lxml.etree.XML (src/lxml/lxml.etree.c:52448)\n  File \"parser.pxi\", line 1573, in lxml.etree._parseMemoryDocument (src/lxml/lxml.etree.c:79932)\n  File \"parser.pxi\", line 1452, in lxml.etree._parseDoc (src/lxml/lxml.etree.c:78774)\n  File \"parser.pxi\", line 960, in lxml.etree._BaseParser._parseDoc (src/lxml/lxml.etree.c:75389)\n  File \"parser.pxi\", line 564, in lxml.etree._ParserContext._handleParseResultDoc (src/lxml/lxml.etree.c:71739)\n  File \"parser.pxi\", line 645, in lxml.etree._handleParseResult (src/lxml/lxml.etree.c:72614)\n  File \"parser.pxi\", line 585, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:71955)\nXMLSyntaxError: Entity 'num' not defined, line 166, column 84\n</code></pre>\n\n<p>This takes Patent XML data and parses it out into a delimited file.  also, I used \"import urllib2, os, zipfile from lxml import etree\"</p>\n"},{"tags":["python","numpy","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":93,"score":5,"question_id":13275494,"title":"Drawing lines between pairs in Python","body":"<p>I have a tuple of pairs: </p>\n\n<pre><code>pairs=[(3,6),(7,2),(8,5),(9,5),(5,13),(10,6),(6,1),(1,13),(11,2),(2,13),(12,4),(4,13)]\n</code></pre>\n\n<p>Each pair describes a connection between two points, i.e there's a line between point 3 and point 6.</p>\n\n<p>Currently, doing this:</p>\n\n<pre><code>i=0\nfor point in pairs:\n    i+=1\n    plt.plot(point,(i,i))\nplt.show()\n</code></pre>\n\n<p>is giving me straight lines between each point and its respective destination:</p>\n\n<p><img src=\"http://i.stack.imgur.com/KNYbf.jpg\" alt=\"\"></p>\n\n<p>However, I'm looking for connecting these lines together to create a graph of \"bridges\", something along the lines of:</p>\n\n<p><img src=\"http://i.stack.imgur.com/gYUjk.jpg\" alt=\"\"></p>\n\n<p>Thanks!</p>\n"},{"tags":["python","pyparsing"],"answer_count":0,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":46,"score":5,"question_id":13277207,"title":"Parsing logical setence very slow with pyparsing","body":"<p>I try to use pyparsing parse logical expressions such as these  </p>\n\n<pre><code>x\nFALSE\nNOT x\n(x + y &lt;= 5) AND (y &gt;= 10) OR NOT (z &lt; 100 OR w)\n\n(A=True OR NOT (G &lt; 8) =&gt; S = J) =&gt; ((P = A) AND not (P = 1) AND (B = O)) =&gt; (S = T)\n\n((P = T) AND NOT (K =J) AND (B = F)) =&gt; (S = O) AND\n ((P = T) OR (k and b =&gt; (8 + z &lt;= 10)) AND NOT (a + 9 &lt;= F)) =&gt; (7 = a + z)\n</code></pre>\n\n<p>The code I wrote below seems to work OK -- but it is very slow (e.g. the last example above takes a few seconds).   Did I structure the grammar in some inefficient way? may be recursion should be used instead of operatorPrecedence ? Is there a way to speed it up ?  </p>\n\n<pre><code>identifier = Group(Word(alphas, alphanums + \"_\")  +  Optional(\"'\"))\nnum = Regex(r\"[+-]?\\d+(:?\\.\\d*)?(:?[eE][+-]?\\d+)?\")\noperator = Regex(\"&gt;=|&lt;=|!=|&gt;|&lt;|=\")\noperand = identifier |  num  \naexpr = operatorPrecedence(operand,\n                           [('*',2,opAssoc.LEFT,),\n                            ('+',2,opAssoc.LEFT,),\n                            (operator,2,opAssoc.LEFT,)\n                            ])\n\nop_prec = [(CaselessLiteral('not'),1,opAssoc.RIGHT,),\n           (CaselessLiteral('and'),2,opAssoc.LEFT ,),\n           (CaselessLiteral('or'), 2,opAssoc.LEFT ,),\n           ('=&gt;', 2,opAssoc.LEFT ,),\n           ]\nsentence = operatorPrecedence(aexpr,op_prec)\nreturn setence\n</code></pre>\n"},{"tags":["python","file-io"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":5,"view_count":36,"score":-5,"question_id":13262840,"title":"read multiple text files and write to one file in one column","body":"<p>I would like to do the following: </p>\n\n<ol>\n<li>read multiple ascii files (*.txt) into memory. I need to <em>skip</em> the first 4 lines of each file. The integer values in these files are written unstructured and continuous line after line. The number of values per line can vary and is not important. </li>\n<li>Once I have read all data in memory I need to write it to one single file and one value per line, i.e. one column. Before writing the values, I need to write 3 lines of header. </li>\n</ol>\n\n<p>I need to have this as script which I can call from the terminal (Bash). I appreciate your help! </p>\n"},{"tags":["python","multithreading"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13276124,"title":"Check if parent thread is running","body":"<p>I am wondering how to check to see if a parent thread is still alive/stuck. Basically I have a parent thread sending commands to a child. If parent thread dies or hits a deadlock condition I do not want the child to continue to live. Below is basic framework of my implementation thus far.  </p>\n\n<pre><code>from Queue import Queue\nfrom threading import Thread\n\n    class myClass:\n\n        def __init__(self):\n\n            self.currentCommand = Queue()           \n            t = Thread(target=self._run)\n            t.start()            \n\n        def close(self):\n            self._sendCommand(\"close\")\n\n        def _run(self):\n            while True:\n                if self.currentCommand.empty():\n                    pass\n                    #do some task\n                else:\n                    command = self.currentCommand.get()\n                    if command == \"close\":\n                        #clean up\n                        self.currentCommand.task_done()\n                        break\n                    else:\n                        #do command task\n                        self.currentCommand.task_done()\n\n        def _sendCommand(self, command):\n            self.currentCommand.put(command)\n            self.currentCommand.join()\n</code></pre>\n\n<p>One idea I have is to periodically send computer time to child from parent. If time is greater than a set value child will die. Is there a easier or more effect method? Also within the python documentation, there is an isAlive method within the threading class but I am unsure how to use it.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13276284,"title":"Python table construction","body":"<p>I have the following data copied to an xml file from an excel sheet,I need to create a table out of this data and out the table to microsoft outlook,initially I was thinking of creating lists of everycolumn,constuct HTMl code out of it and out put to excel...how do split every line because title data can be anything,mixture of spaces etc...anyone has done this before ,appreciate good suggestions,waiting for feedback</p>\n\n<pre><code>CR  FA  CL  TITLE\n12345   Dta 656885  Age out SRR values from buffer in Beacon miss scenario\n16534   fta 656886  To Record stack Event Logging\n76849   cta 654661  To Record HAL and FLM SW Event Logging\n45678   CT  656928  CR1234: BT doesn’t work that Riva neither sends HCI Evt for HID ACL data nor response to CI after entering into real sniffer rat mode.\n</code></pre>\n"},{"tags":["python","feedparser"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":437,"score":1,"question_id":2599542,"title":"Parsing <geo:lat>, <geo:long> tags value using feedparser in python!","body":"<p>I am using feedparser for parsing from XML file.But I couldn't parse <code>&lt;geo:lat&gt;</code>, <code>&lt;geo:long&gt;</code> tags using feedparser from that file! Do you people have any idea how I can parse those tags using feedparser in python?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","django","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13271254,"title":"Django/Python convert PDF using shell (os.system/Popen) not working in production","body":"<p>I'm using libreoffice on CLI to convert some documents to PDFs within Django.</p>\n\n<p>This is in my view (and also tried in save method on model):</p>\n\n<pre><code>outdir = '/'.join([settings.MEDIA_ROOT, 'pdf'])\ncommand = ['libreoffice', '--headless', '--convert-to', 'pdf', '-outdir', outdir, form.instance.upload.path]\nstdout, stderr = subprocess.Popen(command).communicate()\n</code></pre>\n\n<p>I've also tried the following in place of <code>subprocess.Popen</code>:</p>\n\n<pre><code>os.system(\"libreoffice --headless --convert-to pdf --outdir %s %s\" % (outdir, instance.upload.path))                                                         \n</code></pre>\n\n<p>Then I check it out:</p>\n\n<pre><code># quick check new file exists                                                                                                                                                \nwith open(\"%s/%s.pdf\" % (outdir, os.path.splitext(instance.upload.name)[0])): pass\n</code></pre>\n\n<p>When I run them through the website is just doesn't work -- the PDF file isn't generated.</p>\n\n<p>Thing is: <strong>both these methods work</strong> both in my local environment and when the functions that they're in are called from <code>$ python manage.py shell</code> </p>\n\n<p>The problem is only in production.</p>\n\n<ul>\n<li>Django 1.4  </li>\n<li>Python 2.7.3 </li>\n<li>Server version: Apache/2.2.22 (Ubuntu) Server built:   Feb 13 2012 01:51:50 (Rackspace)</li>\n</ul>\n\n<hr>\n\n<p>Note that I thought I might be experiencing this bug: <a href=\"http://stackoverflow.com/questions/8309465/popen-does-not-work-anymore-with-apache-wsgi-and-python-2-7-2\">Popen does not work anymore with apache/wsgi and python 2.7.2?</a> ... </p>\n\n<p>Though Graham's work around as follows (I added this to my <code>apache2.conf</code> ) doesn't seem to change anything. </p>\n\n<pre><code>WSGIApplicationGroup %{GLOBAL}\n</code></pre>\n\n<p>My sys admin skills aren't great though and I may have done this wrong, and I'm totally stumped, any advice or directions of other things to try or work-arounds would be appreciated.</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":80,"score":-7,"question_id":13275637,"title":"I need somebody to help me with Python Coding","body":"<p>I have this script that extracts data from NDT files and outputs it as a txt file. the only problem is that I can only do it one file at a time and I have to keep finding the directory where the file is located over and over and over lol.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>from Tkinter import *\nfrom tkFileDialog   import askopenfilename \nimport struct\n\nfilename = askopenfilename()\n\nif len(filename) == 0:\n    exit()\n\noutputfilename = filename[:-4] + '.txt'\n\nf = open(filename, 'rb')\nbuf = f.read()\nf.close()\n\nHEADER_SIZE = 0x18\n\nseed = struct.unpack('&lt;H', buf[12:14])[0]\n\noutput = []\n\nfor i in xrange(HEADER_SIZE, len(buf)-1):\n    v = struct.unpack('&lt;B', buf[i])[0]\n    v -= seed\n    v = v &amp; 0xFF\n    b2 = struct.unpack('&lt;B', buf[i+1])[0]\n    x = v ^ b2\n    output.append(x)\n\nf = open(outputfilename, 'wb')\nfor v in output:\n    f.write(struct.pack('B', v)[0])\nf.close()\nexit()\n</code></pre>\n\n<p>Can somebody provide a newer script that either lets me select multiple files or if it finds a ndt file in the folder and subfolders it will automatically extract it.</p>\n\n<p>Also can you figure out a way to make it so that it will put the txt file in a folder in My Documents. Right now all it does is put it under the file I just chose.</p>\n"},{"tags":["python","map","coordinates"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":13057507,"title":"finding coordinates in python","body":"<p>so i have this assignment where i'm given a \"map\"</p>\n\n<pre><code>island = \\\n['     /---------\\       ',\n '     |     x    \\      ',\n '     /           \\--\\  ',\n '    /   x            | ',\n '    |         x      | ',\n '     \\               \\ ',\n '      \\  x  /\\/\\     / ',\n '       \\---/    \\   |  ',\n '                /--/   ']\n</code></pre>\n\n<p>Write a program that counts the number of treasures on the island (x marks the spot) and creates a list of coordinates, e.g. [(1,11), ...] ((1,11) is the actual location of the top treasure in the example) and then prints out a report in the form: There are 3 treasures. There is a treasure at (1,11). There is a treasure at .... Hint: start with a (very short) expression for the symbol in the ith row and the jth column.</p>\n\n<p>Write a program that calculates the length of the coastline. Assume that an <code>'-'</code> and a <code>'|'</code> are <code>1 mile</code>, and a <code>'\\'</code>, <code>'/'</code> is <code>1.4 miles</code>. (This is only a very rough estimate, for many reasons, some of them mathematical).</p>\n\n<p>i'm not even sure where to begin here....can anybody help me out or at the very least point me in the right direction?</p>\n"},{"tags":["python","gmail","export","contacts","google-contacts"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":313,"score":3,"question_id":8927936,"title":"Export GMail Contacts via Unattended Script","body":"<p>GMail has a handy-dandy window that lets you export all of your contacts as a CSV file.  If you do this then look at your browser's history, you see that the URL used to initiate the download looks something like:</p>\n\n<p><a href=\"https://mail.google.com/mail/c/data/export?exportType=GROUP&amp;groupToExport=%5EMine&amp;out=GMAIL_CSV&amp;tok=rQt5BTUBABA.N0gr2-zKkG9868fM7tF_FQ.fOgeVayblkGavK2AuFjZ2t\" rel=\"nofollow\">https://mail.google.com/mail/c/data/export?exportType=GROUP&amp;groupToExport=%5EMine&amp;out=GMAIL_CSV&amp;tok=rQt5BTUBABA.N0gr2-zKkG9868fM7tF_FQ.fOgeVayblkGavK2AuFjZ2t</a></p>\n\n<p>I would like to write a batch script in Python that will automatically download this CSV file every night to my server, but I cannot figure out how to get the \"tok\".  I've looked into Google's OAuth, but it seems to be a human-interactive process, whereas I need this to happen at 3AM when all available humans will be asleep.</p>\n\n<p>Can this be done, or has Google made my e-mail account so \"secure\" that I cannot access it via an unattended script?</p>\n\n<p>Thank you!\n   Bryon M. Elliott</p>\n"},{"tags":["python","testing","file-upload","selenium","upload"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":892,"score":2,"question_id":8665072,"title":"How to upload file ( picture ) with selenium, python","body":"<p>is there any possibility how to upload on web picture with selenium testing tool ? I am using python.</p>\n\n<p>I tryed many things, but nothing didnt work. I am desperate.</p>\n\n<p>Upload looks like this :</p>\n\n<p><a href=\"http://img21.imageshack.us/img21/1954/uploadgr.jpg\" rel=\"nofollow\">http://img21.imageshack.us/img21/1954/uploadgr.jpg</a></p>\n\n<p>Thank you for your help</p>\n\n<p>Filip.</p>\n"},{"tags":["python","upload","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13275657,"title":"Reading a file uploaded via CGI in Python","body":"<p>I am having trouble analyzing a file that is uploaded to my server.  Ideally, what would happen is that the user would upload a .csv and I would run some numeric integration (hence the <code>import numpy as np</code>) from data in the file and return the result.  To test the cgi part before I did any analysis, I made the python script below.  My problem is that message always appears blank, so I get a blank html page displayed in browser at the end.  </p>\n\n<p>Clearly I am not reading the file correctly (which means I can not analyze it), but I have n o idea what I am doing wrong.  My own searches indicate that what I have below should work.</p>\n\n<pre><code>#!/usr/bin/python\n\n#---------------------------------------------\n#=============================================\n#---------------------------------------------\n#imports\n\n#import csv\n#import time as tm\n#import numpy as np\n#import os\nimport cgi, cgitb\n\ncgitb.enable()\n\nform = cgi.FieldStorage()\n\n#The variables\n#httpopen=\"\"\n#httpclose=\"\"\nmessage=\"meow\"\n\n#get the fileitem\nfileitem=form['userfile']\nif fileitem.file:\n    #yay...we got a file\n    message=fileitem.file.readline()\n\n\nprint \"\"\"\\\nContent-Type: text/html\\n\n&lt;html&gt;&lt;body&gt;\n&lt;p&gt;%s&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n\"\"\" % (message,)\n</code></pre>\n\n<p>And here is the html form that gives the upload:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n   &lt;form enctype=\"multipart/form-data\" \n                     action=\"capacity_rewrite.py\" method=\"post\"&gt;\n   &lt;p&gt;File: &lt;input type=\"file\" name=\"userfile\" /&gt;&lt;/p&gt;\n   &lt;p&gt;&lt;input type=\"submit\" value=\"Upload\" /&gt;&lt;/p&gt;\n   &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks,</p>\n"}]}
{"total":142318,"page":6,"pagesize":100,"questions":[{"tags":["python","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":25,"score":-1,"question_id":13276409,"title":"How to add image to PDF file in Python?","body":"<p>I have a PDF document but I must put my own image on it. It's an official document and I must apply an image with the text \"example\" to the whole page.</p>\n\n<p>Is there any way to solve this problem in python?</p>\n\n<p>(text in the document is curves)</p>\n"},{"tags":["python","dictionary","autovivification"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":28,"score":4,"question_id":13276218,"title":"In python, how does the following AutoVivification class work?","body":"<p>In searching for a way of working with nested dictionaries, I found the following code posted by <a href=\"http://stackoverflow.com/users/17160/nosklo\">nosklo</a>, which I would like to have explained, please.</p>\n\n<pre><code>class AutoVivification(dict):\n    \"\"\"Implementation of perl's autovivification feature.\"\"\"\n    def __getitem__(self, item):\n        try:\n            return dict.__getitem__(self, item)\n        except KeyError:\n            value = self[item] = type(self)()\n            return value\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>a = AutoVivification()\n\na[1][2][3] = 4\na[1][3][3] = 5\na[1][2]['test'] = 6\n\nprint a\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{1: {2: {'test': 6, 3: 4}, 3: {3: 5}}}\n</code></pre>\n\n<p>I'm a pretty newbie programmer.  I have learned most of what I know on my own time on the side, with my only formal training being on Turbo Pascal back in high school.  I understand and am able to use classes in simple ways, such as using <code>__init__</code>, class methods, and storing data within instances of the class with <code>foo.man = 'choo'</code>.  </p>\n\n<p>I have no idea how the series of square brackets get directed, correctly, through the class (I presume they are calling <code>__getitem__</code> somehow) and don't understand how they each get handled so concisely without having to call the method three times individually.</p>\n\n<p>I was under the impression that the <code>(dict)</code> in the class declaration would be handled by an <code>__init__</code>.  </p>\n\n<p>I've used <code>try: except:</code> before, though again, in quite simple ways.  It looks to me like the <code>try</code>, when it runs, is calling a series of function <code>__getitem__</code>.  I gather that if the current level's dictionary exists, the try will pass and go to the next dictionary.  The <code>except</code>, I gather, runs when there's a <code>KeyError</code> but I haven't seen <code>self</code> used like that before.  <code>Self</code>'s being treated like a dictionary while I thought <code>self</code> was an instance of <code>class AutoVivification</code>... is it both?  I have never assigned twice in a row like this <code>foo = man = choo</code> but suspect that <code>value</code> is pointing to <code>self[item]</code> while <code>self[item]</code> points to the result of <code>type(self)</code>.  But <code>type(self)</code> would return something like this: <code>&lt;class '__main__.AutoVivification'&gt;</code> wouldn't it?  I have no idea what the extra round brackets at the end there are for.  Because I don't know how the function is being called, I don't understand where <code>value</code> is being returned.</p>\n\n<p>Sorry for all the questions!  There is so much in this that I don't understand and I don't know where to look it up short of reading through the documentation for hours in which I'd retain very little.  This code looks like it'll serve my purposes but I want to understand it before using it.</p>\n\n<p>In case you want to know what I'm trying to do in my program with nested dictionaries: I'm trying to hold map data on an astronomical scale.  While I can't create dictionaries/lists of 10^6 items nested 4 times (that would be 10^24 items!), the space is mostly empty so I can leave the empty values out completely and only assign when there's something there.  What was stumping me was an efficient way of handling the dictionaries.</p>\n"},{"tags":["python","c","python-c-api","python-c-extension"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13276145,"title":"Python C extension - Receiving a dict as argument","body":"<p>I'm writing a C extension and I'm quite lost on how to receive a dict as an argument. As the docs don't have any specifics on how to achieve this I tried to parse the argument as a Python Object and then manipulate it as a dict:</p>\n\n<pre><code>PyTypeObject *dict;\n\nif(!PyArg_ParseTuple(args, \"o\", &amp;dict))\n    return NULL;\n</code></pre>\n\n<p>But the code fails on the parsing:</p>\n\n<pre><code>Python 2.7.2 (default, Jun 20 2012, 16:23:33) \n[GCC 4.2.1 Compatible Apple Clang 4.0 (tags/Apple/clang-418.0.60)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import plotting\n&gt;&gt;&gt; plotting.plot({'wff':0})\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: must be impossible&lt;bad format char&gt;, not dict\n</code></pre>\n\n<p>As far as I can understand from the error message the format char is wrong (I thought \"o\" should represent any Python object).</p>\n\n<p>What is the best way to parse a Python dict to a C pointer? I'm digging through the documentation but I haven't found anything similar to this.</p>\n\n<p>Thank you.</p>\n"},{"tags":["python","metaprogramming","decorator","self-modifying"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":47,"score":3,"question_id":13198821,"title":"Is there a way to decorate/perform operations on every line of a function in Python?","body":"<p>Say I have a function or method that does something repetitive, like checking a value, before performing every operation it does, like so:</p>\n\n<pre><code>def myfunc():\n    if mybool:\n        do_operation_1()\n    else:\n        return\n\n    if mybool:\n        do_operation_2()\n    else:\n        return\n\n    ...\n</code></pre>\n\n<p>These checks get repetitive, and end up wasting a lot of time and keyboard springs, especially when they are needed very often. </p>\n\n<p>If you have control over the operation functions, like, <code>do_operation_N</code> you can decorate the functions with something that checks the boolean. </p>\n\n<p>But what if you don't have control over the individual <code>do_operation_N</code> operations? If, for each line in a function or method, I want the same check to be performed, is there some way to \"insert\" it without explicitly writing it in on each operation line? For example, is there some decorator magic by which I could do the following?</p>\n\n<pre><code>def magic_decorator(to_decorate):\n    def check(*args, **kwargs):\n        for call in to_decorate: #magic\n            if mybool:\n                to_decorate.do_call(call) #magic\n            else:\n                return #or break, raise an exception, etc\n    return check\n\n@magic_decorator\ndef myfunc():\n    do_operation_1()\n    do_operation_2()\n    ...\n</code></pre>\n\n<p>If there is a way to achieve this, I don't care if it uses decorators or not; I just want some way to say \"for every line in function/method X, do Y first\". </p>\n\n<p>The \"magic\" example of a <code>do_call</code> method above is shorthand for what I'm after, but it would encounter serious problems with out-of-order execution of individual lines (for example, if a function's first line was a variable assignment, and its second was a use of that variable, executing them out of order would cause problems). </p>\n\n<p>To be clear: the ability to externally control the line-by-line order of a function's execution is <em>not</em> what I'm trying to achieve: ideally, I'd just implement something that, in the natural execution order, would perform an operation each time <code>myfunc</code> does something. If \"does something\" ends up being limited to \"calls a function or method\" (excluding assignments, <code>if</code> checks, etc), that is fine. </p>\n\n<p>Cheers!</p>\n"},{"tags":["python","mongodb","pymongo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13130589,"title":"Pymongo Safe Writes is giving \"bad format char passed to Py_BuildValue\"","body":"<p>I was trying to get the inserts to MongoDB as safe writes, and I was getting unauthorized error messages (MongoDB 2.2 &amp; Pymongo 2.2) . After Upgrading to Pymongo 2.3, that one is gone but I'm getting another message with the following trace:</p>\n\n<pre><code>        MongoDB['my_collection'].save({'test' : 1111111} , safe = True)\n      File \"D:\\Python24\\Lib\\site-packages\\pymongo\\collection.py\", line 241, in save\n        return self.insert(to_save, manipulate, safe, check_keys, **kwargs)\n      File \"D:\\Python24\\Lib\\site-packages\\pymongo\\collection.py\", line 315, in insert\n        continue_on_error, self.__uuid_subtype), safe)\n      File \"D:\\Python24\\Lib\\site-packages\\pymongo\\connection.py\", line 831, in _send_message\n        rv = self.__check_response_to_last_error(response)\n      File \"D:\\Python24\\Lib\\site-packages\\pymongo\\connection.py\", line 753, in __check_response_to_last_error\n        response = helpers._unpack_response(response)\n      File \"D:\\python24\\lib\\site-packages\\pymongo\\helpers.py\", line 111, in _unpack_response\n        as_class, tz_aware, uuid_subtype)\n    SystemError: bad format char passed to Py_BuildValue\n</code></pre>\n\n<p>If I turn the   <code>safe=False</code> everything works perfectly fine. </p>\n\n<p>Any ideas about this would be helpful.</p>\n\n<p>Thanks,</p>\n"},{"tags":["python"],"answer_count":8,"favorite_count":4,"up_vote_count":14,"down_vote_count":0,"view_count":2894,"score":14,"question_id":1456373,"title":"Two way / reverse map [python]","body":"<p>I'm doing this switchboard thing in python where I need to keep track of who's talking to whom, so if Alice --> Bob, then that implies that Bob --> Alice. </p>\n\n<p>Yes, I could populate two hash maps, but I'm wondering if anyone has an idea to do it with one. </p>\n\n<p>Or suggest another data structure. </p>\n\n<p>EDIT: There are no multiple conversations. Lets say this is for a customer service call center, so when Alice dials into the switchboard, she's only going to talk to Bob. His replies also go only to her. </p>\n"},{"tags":["python","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":390,"score":0,"question_id":10158684,"title":"Connecting to dbus over tcp","body":"<p>I wrote a simple python program to play and pause banshee music player.\nWhile its working on my own machine, I have trouble doing it to a remote computer, connected to the same router (LAN).\nI edited the session.conf of the remote machine, to add this line:</p>\n\n<pre><code>&lt;listen&gt;tcp:host=localhost,port=12434&lt;/listen&gt;\n</code></pre>\n\n<p>and here is my program:</p>\n\n<pre><code>    import dbus\n\n\n    bus_obj=dbus.bus.BusConnection(\"tcp:host=localhost,port=12434\")\n    proxy_object=bus_obj.get_object('org.bansheeproject.Banshee',                              \n    '/org/bansheeproject/Banshee/PlayerEngine')\n\n    playerengine_iface=dbus.Interface(proxy_object,\n    dbus_interface='org.bansheeproject.Banshee.PlayerEngine')\n\n    var=raw_input(\"\\nPress\\n1 to play\\n2 to pause\\n3 to exit\\n\")\n\n    while (var!=\"3\"):\n        var=raw_input(\"\\nPress\\n1 to play\\n2 to pause\\n3 to exit\\n\")\n\n\n    if var==\"1\":\n               print \"playing...\"\n                     playerengine_iface.Play()\n\n    elif var==\"2\":\n                    print \"pausing\"\n                    playerengine_iface.Pause()\n</code></pre>\n\n<p>This is what i get when i try to execute it</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"dbus3.py\", line 4, in &lt;module&gt;\n    bus_obj=dbus.bus.BusConnection(\"tcp:host=localhost,port=12434\")\n  File \"/usr/lib/python2.7/dist-packages/dbus/bus.py\", line 125, in __new__\n    bus = cls._new_for_bus(address_or_type, mainloop=mainloop)\ndbus.exceptions.DBusException: org.freedesktop.DBus.Error.NoServer: Failed to connect to socket \"localhost:12434\" Connection refused\n</code></pre>\n\n<p>What am I doing wrong here?\nshould i edit /usr/lib/python2.7/dist-packages/dbus/bus.py</p>\n\n<p>UPDATE:</p>\n\n<p>ok, here is the deal \nwhen i add </p>\n\n<pre><code>&lt;listen&gt;tcp:host=192.168.1.7,port=12434&lt;/listen&gt;\n</code></pre>\n\n<p>to to /etc/dbus-1/session.conf, then reboot, hoping it would start listening on reboot,\nIt never boots. It gets stuck on loading screen and occasionally, a black screen with the following text flashes:</p>\n\n<pre><code>Pulseaudio Configured For Per-user Sessions Saned Disabled;edit/etc/default/saned\n</code></pre>\n\n<p>so, when i go ctrl+alt+f1 , change session.conf to original state and reboot, it boots properly.</p>\n\n<p>Whats all that about?\nHow can I make dbus daemon listen for tcp connections, without encountering problems?</p>\n"},{"tags":["python","dll","ada","name-mangling"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":13271818,"title":"Preventing mangled names in Ada DLL","body":"<p>Is there a simple way to prevent Ada names from getting mangled when creating an Ada DLL?</p>\n\n<p>Here is my .adb code</p>\n\n<pre><code>with Ada.Text_IO;\npackage body testDLL is\n   procedure Print_Call is\n   begin\n      Ada.Text_IO.Put_Line(\"Hello World\");\n   end Print_Call;\n\n   function Add_Nums(A,B : in Integer) return Integer is\n   begin\n      return A + B;\n   end Add_Nums;\n\nend testDLL;\n</code></pre>\n\n<p>my .ads</p>\n\n<pre><code>package testDLL is\n   procedure Print_Call;\n   pragma export (dll, Print_Call, \"Print_Call\");\n\n   function Add_Nums(A,B : in Integer) return Integer;\n   pragma export (dll, Add_Nums, \"Add_Nums\");\nend testDLL;\n</code></pre>\n\n<p>my python</p>\n\n<pre><code>import ctypes\n\nTestDLL = ctypes.WinDLL (\"libTestDLL.dll\")\nPrint_Call = getattr(TestDLL, \"Print_Call@0\")\nPrint_Call()\n</code></pre>\n\n<p>you can see that I have to add '@0' to the end of my function name, but this seems to change when I move the same code to a different compiler. This is creating some problems for me. I need either a standard mangling format or a way to remove the mangling all together. </p>\n"},{"tags":["python","python-2.7","ubuntu-12.04","pylab"],"answer_count":4,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":2585,"score":0,"question_id":10965336,"title":"python error: no module named pylab","body":"<p>I am new to Python and want to use its <code>plot</code> functionality to create graphs. I am using ubuntu 12.04. I followed the Python installation steps from <a href=\"http://eli.thegreenplace.net/2011/10/10/installing-python-2-7-on-ubuntu/\" rel=\"nofollow\">http://eli.thegreenplace.net/2011/10/10/installing-python-2-7-on-ubuntu/</a> but when I do </p>\n\n<pre><code>from pylab import *\n</code></pre>\n\n<p>I am getting this error</p>\n\n<pre><code>&gt;&gt;&gt; from pylab import *\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named pylab\n</code></pre>\n\n<p>My Python version is <code>python 2.7</code>. Can anybody tell me what I am missing here?</p>\n"},{"tags":["javascript","python","webkit"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13268947,"title":"Python and reading JavaScript variable value","body":"<p>I am very new to Python programming, so please bear with me.</p>\n\n<p>I have an HTML file with several div layers. This file is opened in a webkit.WebView object. Each div layer saves a value in a global variable (JavaScript) when clicked upon.</p>\n\n<p>How can I read the value of that global JavaScript variable from my Python script?</p>\n\n<p>I found some answers but they don't seem to fit my situation (but I can be wrong, of course):  </p>\n\n<p><a href=\"http://stackoverflow.com/questions/2894946/passing-javascript-variable-to-python\">Passing JavaScript variable to Python</a>  </p>\n\n<p><a href=\"http://stackoverflow.com/questions/3690116/parse-javascript-variable-with-python\">Parse JavaScript variable with Python</a></p>\n\n<p>[EDIT]<br>\nI'm using webkit.WebView because I have to show this in an existing glade (libglade) application.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13274976,"title":"Replacing chars in a string in every way","body":"<p>I'm looking for help on a function that takes a string, and replaces every character in that string in every way. I'm not quite sure how to word my question so that it makes sense so I'll show you what it's supposed to do.</p>\n\n<pre><code>stars('1')\nreturns ['*']\n\nstars('12')\nreturns ['*1', '1*', '**']\n\nstars('123')\nreturns ['*23', '1*3', '12*', '**3', '*2*', '**1', '***']\n\nstars('1234')\nreturns ['*234', '1*34', '12*4', '123*', '**34', '*2*4', '*23*', '1**4', '1*3*', \n         '12**', '***4', '**3*', '*2**', '1***', '****']\n</code></pre>\n\n<p>Did that all out by hand, but even if I made a mistake, you should get the idea of what I'm looking for now. The final case (all *'s) isn't required but I put it in there to make sure the problem was understood.</p>\n\n<p>Here is what I've come up with so far but it doesn't quite work.</p>\n\n<pre><code>def stars(n):\n    lst = []\n    length = len(n)\n    for j in xrange(0, length):\n        p = list(n)\n        for k in xrange(j, length):\n            p[k] = '*'\n            lst += [''.join(p)]\n    return lst\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'1' returns ['*']\n'12' returns ['*2', '**', '1*']\n'123' returns ['*23', '**3', '***', '1*3', '1**', '12*']\n'1234' returns ['*234', '**34', '***4', '****', '1*34', '1**4', '1***', '12*4', '12**', '123*']\n</code></pre>\n\n<p>Any help would be greatly appreciated. Would like this answered in Python if possible, but if you don't know Python, then pseudocode or another language would be acceptable. If it's written clearly, I'm sure I could convert it into Python on my own.</p>\n"},{"tags":["python","metadata"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":13262491,"title":"Meta data in python classes","body":"<p>I have seen in some python libraries a common pattern to use a class definition named Meta inside the object, like django Models or tastypie Resources. Also some others doesn't use this like Celery Tasks.</p>\n\n<p><em>Is there any obvious reason for this?</em> from the tastypie code I can see that some metaclass is playing with the inner Meta class definition. <em>Is there any difference in meta-data and just plain attributes of the model?</em> in django models is kind of easy to say: attributes are just the fields like age = IntegerField, but I can think in attribute called fields, or just use _attrs or __attrs for the metadata.</p>\n\n<p><em>Is this consider a good practice?</em></p>\n\n<p>Bye.</p>\n\n<p>Edited:</p>\n\n<p>I would like to add something to this:</p>\n\n<p>Are there any more libraries approaching this in a similar way? or there are different ways to do the same? is there any common pattern in here that I could check? Thanks. </p>\n\n<p>I want to start a library and I like both ways, and is not related too much with this two libraries, so there's not consistency issues with selecting one or the other</p>\n\n<p>Bye.</p>\n"},{"tags":["python","recursion","iterator","python-2.7","generator"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":13275479,"title":"Convert recursive generator object to list","body":"<p>I have been trying to implement a simple tree structure in Python. A tree begins at a single \"root\" node which has children, each of its children may have own children and so forth. </p>\n\n<p>Now, I want to print the names of all nodes of the tree, that is I want to convert it to a list. I sought to employ recursiveness but unfortunately yielding recursively returns a sub-tree of generator objects which I cannot convert to nodes.</p>\n\n<p>Could somebody help me and point out what I am doing wrong here please?</p>\n\n<pre><code>class Node:\n\n  def __init__(self,name):\n    self.name = name\n    self.children = []\n    self.parent = None\n\n\n  def appendChild(self,child):\n    self.children.append(child)\n    if child is not None:\n      child.parent = self\n\n\n  def listChildren(self):\n    yield self\n    for child in self.children:\n      yield child.listChildren()\n    raise StopIteration\n\n# test\nr = Node(\"root\")\n\nn = Node(\"name\")\nr.appendChild(n)\nn.appendChild(Node(\"name2\"))\nn.appendChild(Node(\"name3\"))\n\nc = Node(\"child\")\nn.appendChild(c)\nc.appendChild(Node(\"child2\"))\nc.appendChild(Node(\"child3\"))\n\nr.appendChild(Node(\"name4\"))\nr.appendChild(Node(\"name5\"))\nr.appendChild(Node(\"name6\"))\n\nfor child in r.listChildren():\n    print child.name\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/User/Documents/TreeNode.py\", line 40, in &lt;module&gt;\n    print child.name\nAttributeError: 'generator' object has no attribute 'name'\n</code></pre>\n\n<p>A generator is supposed to be called when it is being iterated over, but in my case every child in r.listChildren() is, in turn, a generator object. If this is a design flaw, then I would have to look for another way of generating a list of node names.</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","python","client-server","twisted"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13270871,"title":"Twisted python server and Java chat","body":"<p>i have found this amazing tutorial on raywenderlich.com:</p>\n\n<p><a href=\"http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server\" rel=\"nofollow\">http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server</a></p>\n\n<p>it create a Twisted Python server, and talk with app iphone chat, i would let the server talk also with a Java chat, and now i write some code, this is the python server:</p>\n\n<pre><code>from twisted.internet.protocol import Protocol, Factory\nfrom twisted.internet import reactor\n\n\nclass IphoneChat(Protocol):\ndef connectionMade(self):\n    #self.transport.write(\"\"\"connected\"\"\")\n    self.factory.clients.append(self)\n    print \"clients are \", self.factory.clients\n\ndef connectionLost(self, reason):\n    self.factory.clients.remove(self)\n\ndef dataReceived(self, data):\n    #print \"data is \", data\n    a = data.split(':')\n    if len(a) &gt; 1:\n        command = a[0]\n        content = a[1]\n\n        msg = \"\"\n        if command == \"iam\":\n            self.name = content\n            msg = self.name + \" has joined\"\n\n        elif command == \"msg\":\n            msg = self.name + \": \" + content\n\n        print msg\n\n        for c in self.factory.clients:\n            c.message(msg)\n\ndef message(self, message):\n    self.transport.write(message + '\\n')\n\n\nfactory = Factory()\nfactory.protocol = IphoneChat\nfactory.clients = []\n\nreactor.listenTCP(1025, factory)\nprint \"Chat server started\"\nreactor.run()\n</code></pre>\n\n<p>then i create a simple java example to connect to the server:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class MyClassSocket  {\n\nprivate ObjectInputStream sInput;       // to read from the socket\nprivate ObjectOutputStream sOutput;     // to write on the socket\nprivate Socket socket;\n\nprivate String server, username;\nprivate int port;\n\nMyClassSocket(String server, int port, String username) {\n    this.server = server;\n    this.port = port;\n    this.username = username;\n}\n\nprivate void display(String msg) {\n\n    System.out.println(msg);      // println in console mode\n\n}\n\npublic boolean start() {\n\n    try {\n        socket = new Socket(server, port);\n    }\n    // if it failed not much I can so\n    catch(Exception ec) {\n        display(\"Error connectiong to server:\" + ec);\n        return false;\n    }\n\n    String msg = \"Connection accepted \" + socket.getInetAddress() + \":\" + socket.getPort();\n    display(msg);\n\n    try\n    {\n\n        sInput  = new ObjectInputStream(socket.getInputStream()); //&lt;-------- block here\n        sOutput = new ObjectOutputStream(socket.getOutputStream());\n    }\n    catch (IOException eIO) {\n        display(\"Exception creating new Input/output Streams: \" + eIO);\n        return false;\n    }\n\n    return true;\n\n}\n\npublic static void main(String[] args) {\n\n    MyClassSocket client = new MyClassSocket(\"localhost\",1025,\"PieroJava\");\n    client.start();\n}\n\n}\n</code></pre>\n\n<p>The code freeze in the point i comment in the code above, and i can see in the server terminal that there is a new connection, and i can see in the client terminal that i connect but don't go over here:</p>\n\n<pre><code>sInput  = new ObjectInputStream(socket.getInputStream());\n</code></pre>\n\n<p>how i can do?</p>\n"},{"tags":["python","unicode"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13275301,"title":"How can I convert a str representation of a unicode string to unicode?","body":"<p>I'm running a python program on a user's computer in Portugal, where the user's username contains unicode characters.  I would like to have <code>os.path.expanduser('~')</code> return something functional since I use the resulting path for some file operations, but it currently returns a python <code>str</code> representation of a unicode string:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.path.expanduser('~')\n'C:\\\\Users\\\\V\\xe2nia'\n</code></pre>\n\n<p>But this is a python string ... how can I convert this to an actual unicode string that Windows will recognize as a valid filepath?</p>\n"},{"tags":["python","osx","segmentation-fault","ctypes","pcap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13275038,"title":"python segmentation fault using pcap via ctypes","body":"<p>I am porting my sniffer from C to Python using libpcap via ctypes. Here is the python code:</p>\n\n<pre><code>import ctypes, sys\nfrom ctypes.util import find_library\n\nif sys.platform == \"darwin\":\n    _pcap = ctypes.cdll.LoadLibrary(find_library(\"libpcap\"))\nelif sys.platform == \"linux2\":\n    _pcap = ctypes.cdll.LoadLibrary(\"libpcap.so\")\n\nerrbuf = ctypes.create_string_buffer(256)\n\npcap_lookupdev = _pcap.pcap_lookupdev\npcap_lookupdev.restype = ctypes.c_char_p\ndev = pcap_lookupdev(errbuf)\nprint dev\n\n# create handler\npcap_create = _pcap.pcap_create\nhandle = pcap_create(dev, errbuf)\nprint handle\nif not handle:\n    print \"failed creating handler:\",errbuf\n    exit()\n\n# monitor mode\npcap_can_set_rfmon = _pcap.pcap_can_set_rfmon\nprint \"can rfmon:\",pcap_can_set_rfmon(handle)\n</code></pre>\n\n<p>On Linux it works perfectly fine, but on Mac OS X it runs into a segmentation fault when I use handle. The value of handle even is sometimes negative, sometimes positive. I already tried to change the return type of pcap_create to unsigned int, but that didn't help, but I think it returns a wrong type under OS X...</p>\n\n<p>I did a <code>printf(\"size of pcap_t: %zu\\n\", sizeof(pcap_t *));</code> on both systems in C to get the size of pcap_t handler type. On Linux it says 4 and on OS X 8. But I I don't know how to go on from this point...</p>\n\n<p>Or am I on the wrong path? Does anyone have an idea?</p>\n"},{"tags":["python","recursion","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13274207,"title":"Python3 Recursivley Sum Digits of an Integer","body":"<p>I need help implementing a function that will take the digits of an integer and sum them together. As long as the sumDigits function implements recursion, it is valid, and the main function must be left as is. I will include a template below:</p>\n\n<pre><code>def sumdigits(value): \n    #recursively sum digits \n\ndef main():\n    number=int(input(“Enter a number :  ”))\n    print(sumdigits(number))\n\nmain()\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["python","string","python-3.x","md5"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":68,"score":0,"question_id":13259691,"title":"convert String to MD5","body":"<p>Ok I am trying to write a basic converter of a string to <code>md5</code> hash code but when I run my program I keep getting an error that say's:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Shane\\Documents\\Amer CISC\\lab4.py\", line 30, in &lt;module&gt;\n    assertEqual (computeMD5hash(\"The quick brown fox jumps over the lazy dog\"),(\"9e107d9d372bb6826bd81d3542a419d6\"))\n  File \"C:\\Users\\Shane\\Documents\\Amer CISC\\lab4.py\", line 27, in computeMD5hash\n    m.update(string)\nTypeError: Unicode-objects must be encoded before hashing\n</code></pre>\n\n<p>My code looks like this:</p>\n\n<pre><code>def computeMD5hash(string):\n    import hashlib\n    from hashlib import md5\n    m = hashlib.md5()\n    m.update((string))\n    md5string=m.digest()\n    return md5string\n</code></pre>\n"},{"tags":["python","flask","flask-blueprint"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":13005476,"title":"Flask render_template context is None within a Blueprint","body":"<p>I'm relatively new to Flask, but I'm already finding the need to use Blueprints. However, in my Blueprint, I'm trying to render a template, but getting an error.</p>\n\n<p>When hooked up as a WSGI application (on Dreamhost), the render_template function returns this error:</p>\n\n<pre><code>File \".../app/ui/__init__.py\", line 95, in index\nresponse = make_response(render_template('index.html', **data))\n\nFile \".../flask/templating.py\", line 123, in render_template\nctx.app.update_template_context(context)\n\nAttributeError: 'NoneType' object has no attribute 'app'\n</code></pre>\n\n<p>However, when I call the app.py directly in debug mode it works perfectly! (below)</p>\n\n<pre><code>python app/app.py\n</code></pre>\n\n<p>In app.py:</p>\n\n<pre><code>if __name__ == '__main__':\n    app.run(debug=True, host='0.0.0.0')\n</code></pre>\n\n<p><strong>EDIT:</strong> Rendering template:</p>\n\n<pre><code>@ui_blueprint.route('/', methods=['GET'])\n@ui_blueprint.route('/home', methods=['GET'])\ndef index():\n    data = {\n        'title': 'Index'\n    }\n    response = make_response(render_template('index.html', **data))\n    return response\n</code></pre>\n\n<p><strong>EDIT 2:</strong> <code>ctx</code> is:</p>\n\n<ul>\n<li><code>None</code> in the WSGI app case</li>\n<li><code>&lt;RequestContext 'http://aaa.bbb.com:5000/' [GET] of __init__&gt;</code> in the direct call case</li>\n</ul>\n\n<p>Any ideas how I might fix this error? Thanks!</p>\n"},{"tags":["python","ipython"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":147,"score":6,"question_id":12544056,"title":"How to I get the current IPython Notebook name","body":"<p>I am trying to obtain the current NoteBook name when running the ipython notebook. I know I can see it at the top of the notebook. What I am after something like</p>\n\n<pre><code>currentNotebook = IPython.foo.bar.notebookname()\n</code></pre>\n\n<p>I need to get the name in a variable.</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13269936,"title":"Python QT ProgressBar","body":"<p>When using the following code my application stalls after a couple of seconds.\nAnd by stalls I mean hangs. I get a window from Windows saying wait or force close.</p>\n\n<p>I might add that this only happens when I click either inside the progress bar window or when I click outside of it so it loses focus. If I start the example and do not touch anything it works like it should.</p>\n\n<pre><code>from PyQt4 import QtCore\nfrom PyQt4 import QtGui\n\n\nclass ProgressBar(QtGui.QWidget):\n    def __init__(self, parent=None, total=20):\n        super(ProgressBar, self).__init__(parent)\n        self.name_line = QtGui.QLineEdit()\n\n        self.progressbar = QtGui.QProgressBar()\n        self.progressbar.setMinimum(1)\n        self.progressbar.setMaximum(total)\n\n        main_layout = QtGui.QGridLayout()\n        main_layout.addWidget(self.progressbar, 0, 0)\n\n        self.setLayout(main_layout)\n        self.setWindowTitle(\"Progress\")\n\n    def update_progressbar(self, val):\n        self.progressbar.setValue(val)   \n</code></pre>\n\n<p>Using this like so:</p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\nbar = ProgressBar(total=101)\nbar.show()\n\nfor i in range(2,100):\n    bar.update_progressbar(i)\n    time.sleep(1)\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["python","amazon-web-services","boto","amazon-glacier"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13274197,"title":"AWS glacier delete job","body":"<p>I have started a retrival job for an archive stored in one of my vaults on \nGlacier AWS.</p>\n\n<p>It turns out that I do not need to resurrect and download that archive any more.\nIs there a way to stop and/or delete my Glacier job?</p>\n\n<p>I am using boto and I cannot seem to find a suitable function.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","frequency","dice"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":45,"score":-1,"question_id":13264388,"title":"Python -- Determine Frequency of numbers showing up in dice rolls","body":"<p>these are the functions used to roll the dice.</p>\n\n<pre><code>def roll() -&gt; int:\n    ''' Return a roll of two dice, 2-12\n    '''\n    die1 = randint(1, 6)\n    die2 = randint(1, 6)\n    return die1 + die2\n\ndef roll_dice(n:int):\n    '''list the results of rolls'''\n    for i in range(n):\n        print(roll())\n</code></pre>\n\n<p>Now i need help to make function to create a list of stats of the numbers rolled.</p>\n\n<p>for example: after printing the said function it should print out somethings like this according to my lab:</p>\n\n<pre><code>Distribution of dice rolls\n\n 2:    55 ( 2.8%)  **\n 3:   129 ( 6.5%)  ******\n 4:   162 ( 8.1%)  ********\n 5:   215 (10.8%)  **********\n 6:   279 (14.0%)  *************\n 7:   341 (17.1%)  *****************\n 8:   271 (13.6%)  *************\n 9:   210 (10.5%)  **********\n10:   168 ( 8.4%)  ********\n11:   112 ( 5.6%)  *****\n12:    58 ( 2.9%)  **\n-----------------\n     2000 rolls\n</code></pre>\n\n<p>help is appreciated. Thanks</p>\n"},{"tags":["python","unit-testing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13274799,"title":"Unit-test a method wrapper","body":"<p>I've got a set of actions which share some base checks. My code looks like this:</p>\n\n<pre><code>def is_valid(param): …some pretty complex things unit-tested on their own…\n\nclass BaseAction(object):\n    def run(self, param):\n        if not is_valid(param):\n            raise ValueError(…)\n\n        return self.do_run(param)\n\nclass Jump(BaseAction):\n    def do_run(self, param): …\n\nclass Sing(BaseAction):\n    def do_run(self, param): …\n</code></pre>\n\n<p>How should I unit-test the fact that BaseAction.run performs validation?</p>\n\n<p>I think I could unit-test Jump.run and Sing.run, but then to do it properly I'd need to write tests for each subclass of BaseAction, potentially quite a lot of cases. Also this means coupling test for subclasses with a test for base class' method.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13266752,"title":"How to know which exception type to catch in python?","body":"<p>A general exception catcher logs this <a href=\"http://pastebin.com/vF5zdvsR\" rel=\"nofollow\">http://pastebin.com/vF5zdvsR</a> exception.</p>\n\n<p>I would like to know the specific exception name so I could add a dedicated catch to it.\nHow can it be found?</p>\n\n<p>Is there a 'type' function on the caught exception or should it be found in the throwing lib's source - available at: <a href=\"https://github.com/mLewisLogic/foursquare/blob/master/foursquare/__init__.py\" rel=\"nofollow\">https://github.com/mLewisLogic/foursquare/blob/master/foursquare/__init__.py</a></p>\n\n<p>Thank you</p>\n"},{"tags":["python","package","search","pypi"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":247,"score":3,"question_id":646515,"title":"What is an elegant way to find versions of packages on a pypi package index?","body":"<p>Currently I'm using a very ugly approach based on a regex for finding links and taking them apart.</p>\n\n<p>I'm unhappy with the code, so I'm asking for nicer solutions, preferably using only the stdlib.</p>\n\n<h3>Edit</h3>\n\n<p>The task at hand has 2 parts:</p>\n\n<ol>\n<li>Find all distributions that match a certain criteria (like prefix of the name).</li>\n<li>Find all versions available in each found distribution.</li>\n</ol>\n\n<p>The expected result is a mapping of distribution -> versions -> files.</p>\n"},{"tags":["python","list","nested"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13274208,"title":"print a nested list so that each list within the list is in a different column","body":"<p>I have the following code</p>\n\n<pre><code>F_list= []\nC_list= []\nC_approx_list = []\nfor F in range(0,101,10):\n    F_list.append(F)\n    C_approx_list.append((F-30)/2.)\n    C_list.append((F-32)*(5./9))\n\nconversion = [F_list,C_approx_list,C_list]\n\nfor list in conversion:\n    for number in list:\n        print number\n</code></pre>\n\n<p>With the following output:</p>\n\n<pre><code>\"\"\"Test Execution\nTerminal &gt; python exercise2_18.py\n0\n10\n20\n30\n40\n50\n60\n70\n80\n90\n100\n-15.0\n-10.0\n-5.0\n0.0\n5.0\n10.0\n15.0\n20.0\n25.0\n30.0\n35.0\n-17.7777777778\n-12.2222222222\n-6.66666666667\n-1.11111111111\n4.44444444444\n10.0\n15.5555555556\n21.1111111111\n26.6666666667\n32.2222222222\n37.7777777778\n\"\"\"\n</code></pre>\n\n<p>I want the three lists to be on the following form instead:</p>\n\n<p>F_list            C_approx            C_list</p>\n\n<p>Instead of:</p>\n\n<ol>\n<li>F_list </li>\n<li>C_approx </li>\n<li>C_list</li>\n</ol>\n\n<p>Thanks for any potential answer!</p>\n"},{"tags":["python","osx-snow-leopard","32bit-64bit"],"answer_count":5,"favorite_count":25,"up_vote_count":17,"down_vote_count":0,"view_count":17130,"score":17,"question_id":2088569,"title":"How do I force Python to be 32-bit on Snow Leopard and other 32-bit/64-bit questions","body":"<p>When I run the following from a bash shell on my Mac:</p>\n\n<pre><code>$ file /usr/bin/python\n</code></pre>\n\n<p>I get the following three lines:</p>\n\n<pre><code>/usr/bin/python (for architecture x86_64):  Mach-O 64-bit executable x86_64\n/usr/bin/python (for architecture i386):    Mach-O executable i386\n/usr/bin/python (for architecture ppc7400): Mach-O executable ppc\n</code></pre>\n\n<p>this would seem to indicate that Python has been compiled for all three architectures or something like that?  I believe, based on some errors I had while trying to setup MySQL, that the version I'm using is the 64-bit version.  So two questions:</p>\n\n<ol>\n<li><p>How would I have known that?</p></li>\n<li><p>How could I change Python to be 32-bit instead?  Something less drastic than re-compile with different compile settings?</p></li>\n<li><p>Why does <code>arch</code> from a bash shell return <code>i386</code> which would seem to indicate I'm not in \"64-bit mode\" when I know based on my processor I'm running a 64-bit Mac?</p></li>\n</ol>\n\n<p>Sorry these are probably all newbie questions, the whole 32/64-bit thing is frustrating the crap out of me and I'm sure there are some commands/tools that would make this easier.</p>\n"},{"tags":["python","idle"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13263321,"title":"Problems with 'while' loop and 'for' loop when reading through file","body":"<p>I wasted plenty of hours trying to figure out the problem but no luck. Tried asking the TA at my school, but he was useless. I am a beginner and I know there are a lot of mistakes in it, so it would be great if I can get some detail explanation as well. Anyways, basically what I am trying to do with the following function is:</p>\n\n<ul>\n<li>Use while loop to check and see if random_string is in TEXT, if not\nreturn NoneType</li>\n<li>if yes, then use a for loop to read lines from that  TEXT and put it\nin list, l1.</li>\n<li>then, write an if statement to see if random_string is in l1.</li>\n<li>if it is, then do some calculations.</li>\n<li>else read the next line</li>\n<li>Finally, return the calculations as a whole.</li>\n</ul>\n\n<hr>\n\n<pre><code>TEXT = open('randomfile.txt')\n\ndef random (TEXT, random_string):\n    while random_string in TEXT:\n        for lines in TEXT:\n            l1=TEXT.readline().rsplit()\n            if random_string in l1:\n                '''\n                    do some calculations\n                '''\n            else:\n                TEXT.readline() #read next line???\n        return #calculations\n    return None\n</code></pre>\n"},{"tags":["python","django","api","pil","django-piston"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11192427,"title":"Change return-fields in read method django-piston","body":"<p>i'm using django-piston to create my api. I need to know if possible to change the return-fields according to a parameter. I'm trying to return a thumbnail field, but i need to have the option to pass the sizes of the thumbnail via URL.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","ssh","twisted"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":95,"score":4,"question_id":13117502,"title":"Twisted Conch - Flow control","body":"<p>I have a Twisted Conch SSH server and the typical scenario is this:</p>\n\n<p>git via OpenSSH client   >>--- WAN1 --->> Twisted conch svr >>--- WAN2 -->> Git server</p>\n\n<p>There will be occassions that the 'git push' is sending data faster over WAN1 than I can proxy it over WAN2, so I need to tell the client to slow down (well before any TCP packet loss causes adjustments the TCP window size) to avoid buffering too much on the Twisted server. Reading the RFC for SSH this is accomplished with not acknowledging via adj window this will then cause the git push to block on syscall write to the pipe backed by openssh. </p>\n\n<p>Looking at conch/ssh/connection.py:L216 in the method  def ssh_CHANNEL_DATA(self, packet):\nI can accomplish this with setting localWindowSize to 0, and inflight data will still land as the predicate on 230 should still pass (give localWindowLeft). I am wondering if this is the correct approach or am I missing something blindly obvious with regards to flow control with Twisted SSH Conch? *</p>\n\n<p>Note: I acknowledge there are methods placeholders for stopWriting and startWriting on (channel) that I can override so I have hooks to control the other side of the transmission 'git pull', but Im interested in the other side. Also IPush/IPull producer dont seem applicable at this level and I cant see how I can tie in these higher abstraction without butchering conch? </p>\n"},{"tags":["python","debugging","pydev","monkeypatching","gevent"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":211,"score":6,"question_id":11495357,"title":"gevent monkey-patching and breakpoints","body":"<p>I have been playing with Gevent, and I like it a lot. However I have run into a problem. Breakpoint are not being hit, and debugging doesn't work (using both Visual Studio Python Tools and Eclipse PyDev). This happens after <code>monkey.patch_all()</code> is called.</p>\n\n<p>This is a big problem for me, and unfortunately this is a blocker for the use of gevent. I have found a <a href=\"https://groups.google.com/forum/?fromgroups#!topic/gevent/iBFgoSvyoik\">few threads</a> that seem to indicate that gevent breaks debugging, but I would imagine there is a solution for that.</p>\n\n<p>Does anyone know how to make debugging and breakpoints work with gevent and monkey patching?</p>\n"},{"tags":["python","django","query","order","concatenation"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":37,"score":3,"question_id":13273805,"title":"django : concatenate 2 queries or special order?","body":"<p>I have to make such query :</p>\n\n<pre><code>similar_brokers_ = Profile.objects.filter(Q(tp=broker.tp) |  Q(md=broker.md)).exclude(Q(id=broker.id))[:4]\n</code></pre>\n\n<p>i need to get 4 similar brokers, which have the same <code>tp</code> field or <code>md</code> field</p>\n\n<p>so this query does it, but i need brokers with the same <code>tp</code> field go first, after them should go brokers with the same <code>md</code> field.</p>\n\n<p>how can i do it better?</p>\n\n<p>for example :</p>\n\n<pre><code>broker1  with tp=1, md=100\nbroker2  with tp=2, md=100\nbroker3  with tp=1, md=99\n</code></pre>\n\n<p>get brokers similat to <code>broker1</code> :\nfirst should go <code>broker3</code> (with <code>tp</code>=1) and after <code>broker2</code> (with <code>md</code>=100)</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":64,"score":1,"question_id":13260957,"title":"how to display my list with n amount on each line in Python","body":"<p>im trying to display my list with 7 states on each line here is what i have so far, but it displays as one long string of all the states with quotes around each state. I forgot to mention that this is for my CS class and we havent learned iter yet so we not allowed to use it. the only hint i was given was to to turn STATE_LIST into a string then use '\\n' to break it up</p>\n\n<pre><code>state = str(STATE_LIST)\n\ndisplaystates = Text(Point(WINDOW_WIDTH/2, WINDOW_HEIGHT/2), state.split('\\n'))\ndisplaystates.draw(win)\n</code></pre>\n\n<p>and STATE_LIST looks like this</p>\n\n<pre><code>STATE_VOTES = {\n\"AL\" : 9, # Alabama\n\"AK\" : 3, # Alaska\n\"AZ\" : 11, # Arizona\n\"AR\" : 6, # Arkansas\n\"CA\" : 55, # California\n\"CO\" : 9, # Colorado\n\"CT\" : 7, # Connecticut\n\"DE\" : 3, # Delaware\n\"DC\" : 3, # Washington DC\n\"FL\" : 29, # Florida\n\"GA\" : 16, # Georgia\n\"HI\" : 4, # Hawaii\n\"ID\" : 4, # Idaho\n\"IL\" : 20, # Illinois\n\"IN\" : 11, # Indiana\n\"IA\" : 6, # Iowa\n\"KS\" : 6, # Kansas\n\"KY\" : 8, # Kentucky\n\"LA\" : 8, # Louisiana\n\"ME\" : 4, # Maine\n\"MD\" : 10, # Maryland\n\"MA\" : 11, # Massachusetts\n\"MI\" : 16, # Michigan\n\"MN\" : 10, # Minnesota\n\"MS\" : 6, # Mississippi\n\"MO\" : 10, # Missouri\n\"MT\" : 3, # Montana\n\"NE\" : 5, # Nebraska\n\"NV\" : 6, # Nevada\n\"NH\" : 4, # New Hampshire\n\"NJ\" : 14, # New Jersey\n\"NM\" : 5, # New Mexico\n\"NY\" : 29, # New York\n\"NC\" : 15, # North Carolina\n\"ND\" : 3, # North Dakota\n\"OH\" : 18, # Ohio\n\"OK\" : 7, # Oklahoma\n\"OR\" : 7, # Oregon\n\"PA\" : 20, # Pennsylvania\n\"RI\" : 4, # Rhode Island\n\"SC\" : 9, # South Carolina\n\"SD\" : 3, # South Dakota\n\"TN\" : 11, # Tennessee\n\"TX\" : 38, # Texas\n\"UT\" : 6, # Utah\n\"VT\" : 3, # Vermont\n\"VA\" : 13, # Virginia\n\"WA\" : 12, # Washington\n\"WV\" : 5, # West Virginia\n\"WI\" : 10, # Wisconsin\n\"WY\" : 3 # Wyoming\n}\n\nSTATE_LIST = sorted(list(STATE_VOTES.keys()))\n</code></pre>\n\n<p>I am trying to get it to look somewhat like this\n<img src=\"http://i.stack.imgur.com/Tn2pR.jpg\" alt=\"Sample\"></p>\n"},{"tags":["python","parsing","google","beautifulsoup","voice"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12888123,"title":"How to parse and delete a text message with pygooglevoice?","body":"<p>I'm trying to utilize pygooglevoice to receive a message and then immediately delete it by its id using <code>delete()</code> but I can't figure it out.</p>\n\n<p>Here is the documentation: <a href=\"http://sphinxdoc.github.com/pygooglevoice/\" rel=\"nofollow\">http://sphinxdoc.github.com/pygooglevoice/</a> :</p>\n\n<pre><code>from googlevoice import Voice \nfrom googlevoice.util import input \nimport sys, BeautifulSoup\n\nvoice = Voice()\nvoice.login()\nvoice.sms()\n\ndef sendTextMessage(phoneNumber,text):\n    voice.send_sms(phoneNumber, text)\n    return 0\n\ndef extractsms(htmlsms):\n    \"\"\"\n    extractsms  --  extract SMS messages from BeautifulSoup tree of Google Voice SMS HTML.\n\n    Output is a list of dictionaries, one per message.\n    \"\"\"\n    msgitems = []                                       # accum message items here\n    #   Extract all conversations by searching for a DIV with an ID at top level.\n    tree = BeautifulSoup.BeautifulSoup(htmlsms)         # parse HTML into tree\n    conversations = tree.findAll(\"div\",attrs={\"id\" : True},recursive=False)\n    for conversation in conversations :\n        #   For each conversation, extract each row, which is one SMS message.\n        rows = conversation.findAll(attrs={\"class\" : \"gc-message-sms-row\"})\n        for row in rows :                               # for all rows\n            #   For each row, which is one message, extract all the fields.\n            msgitem = {\"id\" : conversation[\"id\"]}       # tag this message with conversation ID\n            spans = row.findAll(\"span\",attrs={\"class\" : True}, recursive=False)\n            for span in spans :                         # for all spans in row\n                cl = span[\"class\"].replace('gc-message-sms-', '')\n                msgitem[cl] = (\" \".join(span.findAll(text=True))).strip()   # put text in dict\n            msgitems.append(msgitem)                    # add msg dictionary to list\n    return msgitems\n\nfor message in extractsms(voice.sms.html):\n    print message['text']\n    message['id'].delete()\n</code></pre>\n\n<p>With an error of:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"/Users/Matthew/Desktop/movieDownloader.py\", line 38, in &lt;module&gt;\n   message['id'].delete() AttributeError: 'unicode' object has no attribute 'delete'\n</code></pre>\n\n<p>I don't believe I'm using the <code>delete()</code> correctly.</p>\n"},{"tags":["python","web"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":27,"score":-3,"question_id":13274149,"title":"how to create a webpage with simple controls and python back end","body":"<p>i have a python function which takes text and some parameters as an input.\ni want to build a simple web page with some controls:</p>\n\n<ol>\n<li>a file upload control</li>\n<li>a text box</li>\n<li>some radio buttons to choose parameters</li>\n<li>a submit button</li>\n</ol>\n\n<p>user will either use the upload control or enter some text in the box.\nupon submission my python function will run in the back end and return results to be displayed on the page.</p>\n\n<p>as a complete web newbie i am wondering what would be the easiest way to approach this.</p>\n\n<p>i am not sure on what machine this will run and what permissions i will have, so lets assume a generic LAMP server (if this makes any sense)</p>\n"},{"tags":["python","tkinter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13060263,"title":"Python Tkinter module not showing output","body":"<p>I am trying to learn Python and trying something GUI in Python and came across this Tkinter module. My code runs but the window does not appear when I run. My code is as follows</p>\n\n<pre><code> #GUI\n\n#from Tkinter import *\nfrom Tkinter import *\n#to create a root window \nroot = Tk()\n</code></pre>\n\n<p>Any help on this would be appreciated. The program runs, gives no errors but the from/ window does not show up</p>\n"},{"tags":["python","r","rpy2"],"answer_count":3,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":1500,"score":6,"question_id":2447454,"title":"Converting python objects for rpy2","body":"<p>The following code is supposed to create a heatmap in rpy2</p>\n\n<pre><code>import numpy as np\nfrom rpy2.robjects import r\ndata = np.random.random((10,10))\nr.heatmap(data)    \n</code></pre>\n\n<p>However, it results in the following error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"z.py\", line 8, in &lt;module&gt;\n    labRow=rowNames, labCol=colNames)\n  File \"C:\\Python25\\lib\\site-packages\\rpy2\\robjects\\__init__.py\", line 418, in __call__\n    new_args = [conversion.py2ri(a) for a in args]\n  File \"C:\\Python25\\lib\\site-packages\\rpy2\\robjects\\__init__.py\", line 93, in default_py2ri\n    raise(ValueError(\"Nothing can be done for the type %s at the moment.\" %(type(o))))\nValueError: Nothing can be done for the type &lt;type 'numpy.ndarray'&gt; at the moment.\n</code></pre>\n\n<p>From the documentation I learn that r.heatmap expects \"a numeric matrix\". How do I convert np.array to the required data type?</p>\n"},{"tags":["python","fortran"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13274066,"title":"Read FORTRAN formatted numbers with Python","body":"<p>I have to read a data file that contains numbers formatted with (very) old FORTRAN style. A line of the file looks like this:</p>\n\n<pre><code> 4.500000+1 1.894719-3 4.600000+1 8.196721-3 4.700000+1 2.869539-3\n</code></pre>\n\n<p>The file (or large portion of it) contains these numbers in a fixed width format. The trouble with reading these numbers in Python is that there is no <code>E</code> in these numbers. Watch what happens:</p>\n\n<pre><code>&gt;&gt;&gt; float('4.50000+1')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: invalid literal for float(): 4.50000+1\n</code></pre>\n\n<p>I can write a parser to read this, but wanted to know if this has already be done. This is an old FORTRAN format so I thought perhaps someone had already figured it out. Does anyone know of a library to read numbers like this?</p>\n"},{"tags":["python","mongodb","pymongo"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":10230794,"title":"How can I execute a JS script file from Pymongo?","body":"<p>I have a MapReduce job for my MongoDB database implemented in a Javascript script file.  I've tested it from the commandline and Mongo shell (<code>load(\"MR_stack.js\")</code>).  Now I'm using Pymongo  within a larger application to access the Mongo database.  How can I execute my <code>MR_stack.js</code> script from within Pymongo?  </p>\n"},{"tags":["python","string","list","char","ord"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13273553,"title":"Placing my integers into a list in python","body":"<p>I am creating a program that uses the Caesar cipher to encode and decode messages. So far I am building the groundwork, I am trying to get my list of characters the user gives me and make a list of integers using ord...So far all I am having trouble with is getting my integers that I have received back into a list.</p>\n\n<pre><code>import random\n\nencode_decode = input(\"Do you want to encode, or decode? (e/d)\")\n\nshift_amount = input(\"Please enter the shift amount for your message\")\n\nif encode_decode == \"e\" or encode_decode == \"E\":\n    user_words_unrefined = input(\"Enter your message to encode!\")\nelif encode_decode == \"d\" or encode_decode == \"D\":\n    user_words_unrefined = input(\"Enter your message to decode!\")\n\nuser_words_refined = list(user_words_unrefined)\n\nAlphabet = [chr(i) for i in range(ord('a'), ord('z') + 1)]\n\nCounter = 0\nfor i in range(len(user_words_refined)):\n    user_words_numbers = (ord(user_words_refined[Counter]))\n    user_numbers_list = [user_words_numbers]\n    print(user_numbers_list)\n    Counter += 1\n</code></pre>\n\n<p>Input (\"Hello, Party people!\")\noutput\nit prints them all on seperate lines with square brackets around them...any ideas?</p>\n\n<pre><code>[72]\n[101]\n[108]\n[108]\n[111]\n[44]\n[32]\n[80]\n[97]\n[114]\n[116]\n[121]\n[32]\n[112]\n[101]\n[111]\n[112]\n[108]\n[101]\n</code></pre>\n"},{"tags":["python","django","file","render"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13273291,"title":"django - render a file of a model to template","body":"<p>I have a model called Advertisement. This model has text field, title field, and file field.</p>\n\n<p>I am successfully saving all 3 of these fields into the model. </p>\n\n<p>Now I need to show them in template. My vision is: </p>\n\n<pre><code>ads = Advertisement.objects.all()\nreturn render_to_response('page.html', {'ads':ads},context_instance=RequestContext(request))\n</code></pre>\n\n<p>and in my page.html: </p>\n\n<pre><code>{% for each_ad in ads %}\n&lt;p&gt;{{each_ad.title}}&lt;/p&gt;\n&lt;p&gt;{{each_ad.text}}&lt;/p&gt;\n&lt;p&gt;&lt;a href=\"/ads/{{each_ad.file_pdf}}&gt;{{each_ad.file_pdf.name}}&lt;/a&gt;&lt;/p&gt;\n{% endfor %}\n</code></pre>\n\n<p>Does this seem right?  If not, please show me the way so I can learn. Thanks!</p>\n"},{"tags":["python","fabric"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":529,"score":2,"question_id":5246416,"title":"Python Fabric gives: Fatal error: No existing session","body":"<p>I have the following simple fabfile.py from the docs:</p>\n\n<pre><code>from fabric.api import run\n\ndef host_type():\n    run('uname -s')\n</code></pre>\n\n<p>I try to run it using:</p>\n\n<pre><code>fab -H 192.168.0.201 host_type\n</code></pre>\n\n<p>But get the error:</p>\n\n<pre><code>me@ubuntu:~/me$ fab -H 192.168.0.201 host_type\n[192.168.0.201] run: uname -s\nPassword for me@192.168.0.201: \n\nFatal error: No existing session\n\nAborting.\n</code></pre>\n\n<p>I can ssh okay into 192.168.0.201. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","setup","pip","growl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":30,"score":3,"question_id":13270877,"title":"How to manually install a pypi module without pip/easy_install?","body":"<p>I want to use the <a href=\"https://github.com/kfdm/gntp\" rel=\"nofollow\">gntp module</a> to display toaster-like notifications for a C/C++ software. I want to package all the dependencies for the soft to be self-executable on a another computer.</p>\n\n<p>The gntp module is only available through the pip installer, which cannot be used (The computer which is running the soft do not have any internet connection) : <strong>how can I install it from the sources ?</strong></p>\n\n<p>I would prefer not to force the user to install easy_install/pip and manually add the pip path to the %PATH.</p>\n\n<p>PS : I'm using Python 2.7 on a Windows machine.</p>\n"},{"tags":["python","django","amazon-s3","amazon-web-services","boto"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13273727,"title":"Boto upload to S3 not working for certain file types","body":"<p>The following code stores uploaded files in S3:</p>\n\n<pre><code>def store_in_s3(filename, filecontent, type, modelname, format, manufacturer, adder_id):\n    extension = os.path.splitext(filename)[1]\n    filename = modelname + \"-\" + manufacturer + \"-\" + type + \"-\" + format + \"-\" + str(adder_id) + extension\n    pathtofile = \"Parts/%s\" % (filename)\n    conn = S3Connection(settings.AWS_ACCESS_KEY_ID, settings.AWS_SECRET_ACCESS_KEY)\n    b = conn.create_bucket('mybucket')\n    mime = mimetypes.guess_type(filename)[0]\n    k = Key(b)\n    k.key = \"/media/Parts/%s\" % (filename)\n    k.set_metadata(\"Content-Type\", mime)\n    k.set_contents_from_string(filecontent)\n    k.set_acl(\"public-read\")\n    return pathtofile\n</code></pre>\n\n<p>It works fie for images and text files, but when I try to upload certain file types I get this back and not sure why:</p>\n\n<p><code>&lt;Error&gt;&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;&lt;StringToSignBytes&gt;50 55 54 0a 66 33 5a 74 6f 74 50 4e 50 4a 62 59 69 6e 67 68 38 38 45 39 45 67 3d 3d 0a 4e 6f 6e 65 0a 57 65 64 2c 20 30 37 20 4e 6f 76 20 32 30 31 32 20 31 36 3a 30 38 3a 35 37 20 47 4d 54 0a 2f 73 6e 61 70 65 64 61 2f 6d 65 64 69 61 2f 43 41 44 50 61 72 74 73 2f 61 64 37 31 31 2d 41 53 44 41 2d 4d 6f 64 65 6c 2d 53 50 49 43 45 2d 31 2e 63 69 72&lt;/StringToSignBytes</code></p>\n\n<p>Traceback:</p>\n\n<pre><code>File \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                         response = callback(request, *callback_args, **callback_kwargs)\nFile \"/Users/nb/Desktop/spicestore/spices/views.py\" in add_model\n  577.          new_model.content=store_in_s3(filename, filecontent, type, modelname, format, manufacturer, adder_id)\nFile \"/Users/nb/Desktop/spicestore/store_in_s3.py\" in store_in_s3\n  24.     k.set_contents_from_string(filecontent)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/s3/key.py\" in set_contents_from_string\n  1124.                                         encrypt_key=encrypt_key)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/s3/key.py\" in set_contents_from_file\n  994.                            chunked_transfer=chunked_transfer, size=size)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/s3/key.py\" in send_file\n  727.                                                    query_args=query_args)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/s3/connection.py\" in make_request\n  468.                 override_num_retries=override_num_retries)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/connection.py\" in make_request\n  910.         return self._mexe(http_request, sender, override_num_retries)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/connection.py\" in _mexe\n  810.                                       request.body, request.headers)\nFile \"/Users/nb/Desktop/myenv2/lib/python2.7/site-packages/boto/s3/key.py\" in sender\n  684.                     response.status, response.reason, body)\n\nException Type: S3ResponseError at /spices/add\nException Value: S3ResponseError: 403 Forbidden\n</code></pre>\n"},{"tags":["python","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":42,"score":-3,"question_id":13273748,"title":"Unexpected indent - Python def","body":"<p>can you help me with this?</p>\n\n<pre><code>def group_iter (iterator, n=2, strict=False):\n\n    accumulator = []\n        accumulator.append(item)\n        if len(accumulator) == n: \n        yield tuple(accumulator)\n        accumulator = []\n\n    if strict and len(accumulator) !=0:\n        raise ValuseError(\"Leftover values\")\n\n\nprint \"This is count %r \" % group_iter \n</code></pre>\n\n<p>and when I run it I get: </p>\n\n<pre><code>accumulator.append (item)\nIndentationError: unexpected indent\n</code></pre>\n\n<p>How can I solve this problem? Thanks!</p>\n"},{"tags":["python","eclipse","python-2.7","pydev","ctypes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13273062,"title":"PyDev Cannot Find Module","body":"<p>I am new to Python and using PyDev 2.71 in Eclipse Juno in Windows for the following example:</p>\n\n<pre><code>from ctypes import cdll\n\nmsvcrt = cdll.mscvrt\nmessage_string = \"test\\n\"\nmsvcrt.printf(\"Testing: %s\", message_string)\n</code></pre>\n\n<p>However, it is generating the following error: </p>\n\n<pre><code>    self._handle = _dlopen(self._name, mode)\nWindowsError: [Error 126] The specified module could not be found\n</code></pre>\n\n<p>I added the interpreter in Eclipse prior to creating this PyDev module. What am I missing here?</p>\n"},{"tags":["python","dictionary","for-loop"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13204246,"title":"Alter values of dictionaries which have the same keys in a list","body":"<p>I had this: </p>\n\n<p><code>[{'name': 'Peter'}, {'name': 'Anna'}]</code></p>\n\n<p>And I wanted to make this out of it: </p>\n\n<p><code>[{'name': 'Peter Williams'}, {'name': 'Anna Williams'}]</code></p>\n\n<p>So I did:</p>\n\n<pre><code>&gt;&gt;&gt; li = [{'name': 'Peter'}, {'name': 'Anna'}]\n&gt;&gt;&gt; new_li = []\n&gt;&gt;&gt; dic = {}\n&gt;&gt;&gt; for i in li:\n...     dic[\"name\"] = i[\"name\"] + \" Williams\"\n...     new_li.append(dic)\n</code></pre>\n\n<p>But: </p>\n\n<pre><code>&gt;&gt;&gt; new_li\n[{'name': 'Anna Williams'}, {'name': 'Anna Williams'}]\n</code></pre>\n\n<p>Why? </p>\n\n<p>Could you also show how to best get <code>[{'name': 'Peter Williams'}, {'name': 'Anna Williams'}]</code>?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>The reason why I didn't understand this behavior is because I assumed that:</p>\n\n<pre><code>&gt;&gt;&gt; dict = {'name':'Peter'}\n&gt;&gt;&gt; lis = [dict]\n&gt;&gt;&gt; dict['name'] = 'Olaf'\n</code></pre>\n\n<p>Where </p>\n\n<pre><code>&gt;&gt;&gt; print lis\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>[{'name': 'Peter'}]\n</code></pre>\n\n<p>While it actually is</p>\n\n<pre><code>[{'name': 'Olaf'}]\n</code></pre>\n"},{"tags":["python","string","split","rubiks-cube"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13272861,"title":"Most efficient way of splitting strings like rubik's cube notations in python?","body":"<p>If a string like <code>\"RL2R'F2LD'\"</code> given,What is the most efficient way of splitting this into Strings <code>\"R\" \"L2\" \"R'\" \"F2\" \"L\" \"D'\"</code>?\nI'v tried few methods like first splitting them into individual chars and then trying to add them to a list and nothing worked correctly. </p>\n"},{"tags":["python","comet","orbited"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":466,"score":0,"question_id":3198673,"title":"Comet on python","body":"<p>I am pretty new to web programming in python.</p>\n\n<p>I am interested to build a chat room on browser. (for prototype). \nI know django pretty well and have done a bit of twisted in the past.</p>\n\n<p>Then I came across orbited.\nIt's pretty badly documented (I don't think that actually qualifies for documentation anyway), but these terms seems to pop up quite frequently:</p>\n\n<ol>\n<li>Orbited</li>\n<li>Twisted</li>\n<li>MorbidQ, ActiveQ, and bascially a bunch of MessageQueue technologies</li>\n</ol>\n\n<p>I did a few examples on the orbited website, but they somehow doesn't seem to explain really how everything works together.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>I keep seeing <a href=\"http://:9000\" rel=\"nofollow\">http://:9000</a> on the [listen] directive. According to their main website, \"The listen section describes the interfaces and ports Orbited should use to accept browser connections.\" AFAIK, standard browser uses port 80 to communicate. And I think this port is used for orbited.js to connect to the server for comet techniques? What happens if 8000 is blocked? (like behind most firewall in schools/organizations)</p></li>\n<li><p>I keep seeing the word proxy. I do not know how an actual proxy fits within this combination of frameworks</p></li>\n<li><p>The relationship with twisted and orbited. Orbited is built ON TOP OF twisted (if I am not wrong). Then why are there so many examples that discuss using orbited ON TOP of twisted? Why do I need twisted in the first place? Can I use orbited on nginx? (Again, searching for nginx and orbited results in results that have the word proxy in them. How does this fit at all?)</p></li>\n<li><p>With regards to <a href=\"http://anirudhsanjeev.org/tutorialhow-to-django-comet-orbited-stomp-morbidq-jsio/\" rel=\"nofollow\">http://anirudhsanjeev.org/tutorialhow-to-django-comet-orbited-stomp-morbidq-jsio/</a>, the author uses an xml-rpc server. Can someone actually explain why? (well he said that \"you cannot start up a reactor send/receive system inside your django view\", but why do we even need to run a reactor inside that in the first place? Isn't orbited built on top of twisted? Shouldn't it therefore have its own reactor?)</p></li>\n<li><p>Morbidq describes itself as \"Morbid is a STOMP publish/subscribe server with absolutely no potential to cluster. It supports publish/subscribe topics, and runs as a single node.\" Why do we need this? Doesn't Comet solve something exactly like this? why do I keep seeing tutorials that combine a bunch of technologies that are seemingly similar but really has clear distinction?</p></li>\n<li><p>All I want to do is to build a simple webchat application. After seeing this, I realize that maybe using orbited and twisted and morbidq and django etc might be too troublesome. (Of course I am planning to make it scalable).</p></li>\n<li><p>I looked at tornado, it's okay, but kind of small imo in terms of community. It doesn't really do comet except it allows non-blocking connections (I learned this on IRC). Do I really need all the special comet techniques, or will long polling satisfy me? (for a simple web chat application)</p></li>\n<li><p>What are the big companies using? What's the standard defacto comet framework big companies are applying? (like facebook, gtalk, and twitter?) Are these available in python?</p></li>\n</ol>\n\n<p>Any help on <em>any question</em> will be appreciated.</p>\n"},{"tags":["python","numpy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13273187,"title":"Numpy slice with array as index","body":"<p>I am trying to extract the full set of indices into an N-dimensional cube, and it seems like <code>np.mgrid</code> is just what I need for that. For example, <code>np.mgrid[0:4,0:4]</code> produces a 4 by 4 matrix containing all the indices into an array of the same shape.</p>\n\n<p>The problem is that I want to do this in an arbitrary number of dimensions, based on the shape of another array. I.e. if I have an array <code>a</code> of arbitrary dimension, I want to do something like <code>idx = np.mgrid[0:a.shape]</code>, but that syntax is not allowed.</p>\n\n<p>Is it possible to construct the slice I need for <code>np.mgrid</code> to work? Or is there perhaps some other, elegant way of doing this? The following expression does what I need, but it is rather complicated and probably not very efficient:</p>\n\n<pre><code>np.reshape(np.array(list(np.ndindex(a.shape))),list(a.shape)+[len(a.shape)])\n</code></pre>\n"},{"tags":["python","string","conditional","concatenation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13272712,"title":"Python: string concatenation with None to return None?","body":"<p>I'm trying to do a conditional assignment based on the return value for environmental variables.</p>\n\n<pre><code>self._TBLFilePath = iTBLFilePath or os.environ.get(\"CDO_TBLPATH\") + os.environ.get(\"CDO_INSTANCE_TYPE\") + \".tbl\" or os.environ.ge    t(\"CDO_ROOT\") + \"/cdo/tbl/\" + os.environ.get(\"CDO_INSTANCE_TYPE\") + \".tbl\"\n</code></pre>\n\n<p>The problem is when CDO_TBLPATH is undefined I get a string with None concatenation error. I wonder if there is a way to force None + string to return a None as well, or is there any other way to overcome this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13272536,"title":"Speed up minimum search in Numpy/Python","body":"<p>I have two floating arrays and want to find data points which match within a certain range.\nThis is what I got so far:</p>\n\n<pre><code>import numpy as np\n\nfor vx in range(len(arr1)):\n    match = (np.abs(arr2-arr1[vx])).argmin()\n    if abs(arr1[vx]-arr2[match])&lt;0.375:\n        point = arr2[match]\n</code></pre>\n\n<p>The problem is that arr1 contains 150000 elements and arr2 around 110000 elements. This takes an awful amount of time. Do you have suggestions to speed things up?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":65,"score":2,"question_id":13272739,"title":"Python code, self not defined","body":"<pre><code>class makeCode:\n    def __init__(self,code):\n            self.codeSegment = code.upper()\n            if checkSegment(self.codeSegment):\n                    quit()\n            self.info=checkXNA(self.codeSegment)\n    def echo(self,start=0,stop=len(self.codeSegment),search=None): #--&gt; self not defined\n            pass\n</code></pre>\n\n<p>Not working... </p>\n\n<ul>\n<li>it says that the variable <strong>self</strong> is not defined when it actually was; </li>\n<li>the function <code>checkSegment</code> returns 1 if the input was not a string made of nucleotids letter, or if that contains nucleotids that can't be together;</li>\n<li>it quits if that happens, that's ok it works perfectly; </li>\n<li>then it assigns the information (if it's RNA or DNA) checking with the function <code>checkXNA</code> that returns a string with the information \"dnaSegment\" or \"rnaSegment\"; works perfectly. </li>\n</ul>\n\n<p>But then the function <code>echo</code> which will be designed for printing more specific information tells me that self is not defined, but why? </p>\n"},{"tags":["python","apache","ssl","bottle"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12371527,"title":"Bottle ssl behind apache","body":"<p>Is there any way to deploy a <code>bottle</code> application with <code>SSL</code> behind <code>Apache</code> without using another server such as <code>CherryPy</code>? And if so, are there any guides or tutorials to do such a thing?</p>\n"},{"tags":["python","sockets","postgresql","psycopg2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13271484,"title":"POSTGRESQL: Connect remote server to host database with Python","body":"<p>I'm attempting to write a Python script on a remote server.\nUsing Python I'd like to.. Connect to a remote host PostGresQL database (using sockets module?)\nEventually I'd like the remote server to take information(IP, Hostname, Uptime) and using cron it would send run the Python script and auto-update the postgresql database on the host computer.<br>\nI can only use python modules on the remote server and cannot use psycopg or anything else to connect.\nOn the host I do have postgres/psycopg2.<br>\nFirst step is connecting the remote server and maybe have it reporting back just the database... I don't know where to start </p>\n"},{"tags":["python","sqlite","sqlalchemy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13273077,"title":"Commit errors with SQLAlchemy/sqlite for concurrent processes","body":"<p>I'm attempting to write a Python + SQLAlchemy application that uses a centralized sqlite database to store information about various files. I use checksums to verify that each file and/or file version is only stored once in the database, so I have a <code>UniqueConstraint</code> on the checksum column.</p>\n\n<p>I am storing the file info in <code>DbFile</code> objects that I want to do further operations on. I created a static method called <code>New()</code> that will return a <code>DbFile</code> object. If the file already exists in the database, it will return that object, otherwise it will create a new one. </p>\n\n<pre><code> import md5\n # Not shown: sqlalchemy imports\n\n Base = declarative_base()\n engine = create_engine('sqlite:///test.db')\n Session = sessionmaker(bind=engine)\n session = Session()\n\n class DbFile(Base):\n     id = Column(Integer, primary_key=True)\n     filename = Column(String, nullable=False)\n     checksum = Column(String, nullable=False)\n\n     __table_args__ = (UniqueConstraint('checksum'),)\n\n     @staticmethod\n     def New(filename):\n          file_md5 = md5.md5(open(filename).read())\n          checksum = file_md5.hexdigest()\n\n     q = session.query(Files).filter(Files.checksum == checksum)\n     if q.count() == 1:\n         print \"Loading existing file object from database\"\n         return q.one()\n\n     dbfile = DbFile(filename=filename, checksum=checksum)\n</code></pre>\n\n<p>After loading a number of files I do a <code>session.commit()</code>. This works fine if just a single process is accessing the database, but if I kick off multiple python processes (from the command line), one of them will invariably abort with an <code>sqlalchemy.exc.IntegrityError</code> complaining that unique key constraint was violated for the checksum. There's obviously a race condition going on between checking for existence and writing to the database, but I haven't found a good way to prevent it. </p>\n\n<p>I've tried to trap the error around the <code>session.commit()</code> but sometimes the error is triggered by the <code>q.count()</code> statement. Is there a clean way to do this?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13273067,"title":"App Engine Python Development Server + Taskqueue + Backend","body":"<p>I'm using GAE Python 2.7 with the local development server. I have configured a backend</p>\n\n<pre><code>backends:\n- name: worker\n  class: B1\n  options: dynamic\n</code></pre>\n\n<p>and I'm using the default taskqueue. Everything works fine and the backend and taskqueue are visible at the SDK console. Also the local development work starts without any errors:</p>\n\n<pre><code>Multiprocess Setup Complete:\nRemote API Server [http://localhost:9200]\nApp Instance [http://localhost:9000]\nBackend Instance: worker.0 [http://localhost:9100]\nBackend Balancer: worker [http://localhost:9199]\n</code></pre>\n\n<p>BUT if I try to address the backend via a task</p>\n\n<pre><code>taskqueue.add(url='xyz', method='POST', target='workerÄ, pararms={'a':'b'}\n</code></pre>\n\n<p>this error raises:</p>\n\n<pre><code>ERROR An error occured while sending the task \"task1\" (Url: \"/backend/languages/create_database/\") in queue \"default\". Treating as a task error.\nTraceback (most recent call last):\nFile \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1884, in ExecuteTask\n    connection.endheaders()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 937, in endheaders\n    self._send_output(message_body)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 797, in _send_output\n    self.send(msg)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 759, in send\n    self.connect()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 740, in connect\n    self.timeout, self.source_address)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py\", line 553, in create_connection\n    for res in getaddrinfo(host, port, 0, SOCK_STREAM):\ngaierror: [Errno 8] nodename nor servname provided, or not known\n</code></pre>\n\n<p>I'm using 'localhost' and can't see any reason why it fails. Some ideas / solutions? Any startup-parameter missing or somethin like that?</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","python","boost-python","boost-build"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13114015,"title":"build python extension with boost build","body":"<p>I'm trying to use boost.python and build a python extension from c++.</p>\n\n<p>My cpp file use a function named 'BZ2_bzopen' which is in the library 'libbz2' under standard path (/usr/lib/). However, when I try to build the extension using boost build following <a href=\"http://www.boost.org/doc/libs/1_51_0/libs/python/example/quickstart/Jamroot\" rel=\"nofollow\">the instruction</a>, I received an error said:</p>\n\n<pre><code>====== BEGIN OUTPUT ======\nTraceback (most recent call last):\n  File \"CrossTrade.py\", line 11, in &lt;module&gt;\n    from custom_c import GoThroughFile\nImportError: /home/jliu/toolpak/custom_c.so: undefined symbol: BZ2_bzopen\n\nEXIT STATUS: 1\n====== END OUTPUT ======\n</code></pre>\n\n<p>This seems to me as an error comes from not linking to the library, which is almost the same as if I compile the cpp file without the '-lbz2' command.</p>\n\n<p>Anyone could offer some help on solving it, please?</p>\n"},{"tags":["python","regex","django","string"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":70,"score":5,"question_id":13266524,"title":"How fill a regex string with parameters","body":"<p>I would like to fill regex variables with string.</p>\n\n<pre><code>import re\n\nhReg = re.compile(\"/robert/(?P&lt;action&gt;([a-zA-Z0-9]*))/$\")\nhMatch = hReg.match(\"/robert/delete/\")\nargs = hMatch.groupdict()\n</code></pre>\n\n<p>args variable is now a dict with {\"action\":\"delete\"}.</p>\n\n<p>How i can reverse this process ?  With args dict and regex pattern, how i can obtain the string \"/robert/delete/\" ?</p>\n\n<p>it's possible to have a function just like this ?</p>\n\n<pre><code>def reverse(pattern, dictArgs):\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["python","http","authentication","bottle","digest"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13272528,"title":"Bottle.py HTTP Auth?","body":"<p>How can I get my bottle.py app (Running in Paste or Cherrypy) to do HTTP (basic or digest) authentication? - I need to secure it, but cant find a any HOWTOs.</p>\n"},{"tags":["python","django","pycrypto"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":13077109,"title":"How can I create an encrypted django field that converts data when it's retrieved from the database?","body":"<p>I have a custom EncryptedCharField, which I want to basically appear as a CharField when interfacing UI, but before storing/retrieving in the DB it encrypts/decrypts it.</p>\n\n<p>The <a href=\"https://docs.djangoproject.com/en/dev/howto/custom-model-fields/\" rel=\"nofollow\">custom fields documentation</a> says to:</p>\n\n<ol>\n<li>add <code>__metaclass__ = models.SubfieldBase</code></li>\n<li>override to_python to convert the data from it's raw storage into the desired format</li>\n<li>override get_prep_value to convert the value before storing ot the db.</li>\n</ol>\n\n<p>So you think this would be easy enough - for 2. just decrypt the value, and 3. just encrypt it.</p>\n\n<p>Based loosely on <a href=\"http://djangosnippets.org/snippets/1095/\" rel=\"nofollow\">a django snippet</a>, and the documentation this field looks like:</p>\n\n<pre><code>class EncryptedCharField(models.CharField):\n  \"\"\"Just like a char field, but encrypts the value before it enters the database, and    decrypts it when it\n  retrieves it\"\"\"\n  __metaclass__ = models.SubfieldBase\n  def __init__(self, *args, **kwargs):\n    super(EncryptedCharField, self).__init__(*args, **kwargs)\n    cipher_type = kwargs.pop('cipher', 'AES')\n    self.encryptor = Encryptor(cipher_type)\n\n  def get_prep_value(self, value):\n     return encrypt_if_not_encrypted(value, self.encryptor)\n\n  def to_python(self, value):\n    return decrypt_if_not_decrypted(value, self.encryptor)\n\n\ndef encrypt_if_not_encrypted(value, encryptor):\n  if isinstance(value, EncryptedString):\n    return value\n  else:\n    encrypted = encryptor.encrypt(value)\n    return EncryptedString(encrypted)\n\ndef decrypt_if_not_decrypted(value, encryptor):\n  if isinstance(value, DecryptedString):\n    return value\n  else:\n    encrypted = encryptor.decrypt(value)\n    return DecryptedString(encrypted)\n\n\nclass EncryptedString(str):\n  pass\n\nclass DecryptedString(str):\n  pass\n</code></pre>\n\n<p>and the Encryptor looks like:</p>\n\n<pre><code>class Encryptor(object):\n  def __init__(self, cipher_type):\n    imp = __import__('Crypto.Cipher', globals(), locals(), [cipher_type], -1)\n    self.cipher = getattr(imp, cipher_type).new(settings.SECRET_KEY[:32])\n\n  def decrypt(self, value):\n    #values should always be encrypted no matter what!\n    #raise an error if tthings may have been tampered with\n    return self.cipher.decrypt(binascii.a2b_hex(str(value))).split('\\0')[0]\n\n  def encrypt(self, value):\n    if value is not None and not isinstance(value, EncryptedString):\n      padding  = self.cipher.block_size - len(value) % self.cipher.block_size\n      if padding and padding &lt; self.cipher.block_size:\n        value += \"\\0\" + ''.join([random.choice(string.printable) for index in range(padding-1)])\n      value = EncryptedString(binascii.b2a_hex(self.cipher.encrypt(value)))\n    return value\n</code></pre>\n\n<p>When saving a model, an error, Odd-length string, occurs, as a result of attempting to decrypt an already decrypted string.  When debugging, it appears as  to_python ends up being called twice, the first with the encrypted value, and the second time with the decrypted value, but not actually as a type Decrypted, but as a raw string, causing the error.  Furthermore get_prep_value is never called.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>This should not be that hard - does anyone else think this Django field code is very poorly written, especially when it comes to custom fields, and not that extensible?  Simple overridable pre_save and post_fetch methods would easily solve this problem.</p>\n"},{"tags":["python","boost","boost-python","bjam","python-import"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13246689,"title":"Boost.Python | Symbol in .so file but I get ImportError: undefined symbol","body":"<p>I'm using Boost.Python to embed C++ code in my Python app.  The module builds fine with a few warnings.  When I import the module in Python I get this error:</p>\n\n<pre><code>ImportError: .../cdtm_ext.so: undefined symbol: gsl_multimin_fdfminimizer_conjugate_fr\n</code></pre>\n\n<p>This symbol is defined in an external library (Gnu Scientific Library) header file, and the symbol exists in the .so file:</p>\n\n<pre><code>$ nm cdtm_ext.so | grep gsl_multimin_fdfminimizer_conjugate_fr\n   U gsl_multimin_fdfminimizer_conjugate_fr\n</code></pre>\n\n<p>Here is my <code>Jamroot</code> file:</p>\n\n<pre><code>import python ;\n\nif ! [ python.configured ]\n{\n    ECHO \"notice: no Python configured in user-config.jam\" ;\n    ECHO \"notice: will use default configuration\" ;\n    using python ;\n}\n\nuse-project boost\n  : ../../../.. ;\n\nproject\n  : requirements \n    &lt;library&gt;/boost/python//boost_python\n    &lt;include&gt;/usr/local/include/gsl\n    ;\n\npython-extension cdtm_ext : cdtm.boost.cpp cdtm/cdtm-model.cpp cdtm/corpus.cpp    cdtm/main.cpp cdtm/opt.cpp cdtm/utils.cpp : &lt;library-path&gt;/usr/local/include/gsl ;\n\ninstall convenient_copy \n  : cdtm_ext \n  : &lt;install-dependencies&gt;on &lt;install-type&gt;SHARED_LIB &lt;install-type&gt;PYTHON_EXTENSION\n    &lt;location&gt;. \n  ;\n</code></pre>\n\n<p>I had a similar problem when I wrote my own extension using low-level C++ interface.  I fixed the problem there by adding the library name <code>gsl</code> in the libraries list of the <code>Extension</code> function call.  <code>module = Extension(... libraries = ['gsl', 'cblas'] ...)</code>.  I have no idea how to do the same thing with Boost.Python.</p>\n"},{"tags":["python","regex"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13268721,"title":"How to compose string from regex pattern with named groups and datadict in python?","body":"<p>Short verison:</p>\n\n<p>I want to crate function which replace all named groups in regular expression with coresponding data from datadict.\nFor example:</p>\n\n<pre><code>Input: expr=r\"/(?P&lt;something&gt;\\w+)/whatever/(?P&lt;something2&gt;\\w+)\" data={\"something\":123, \"something2\": \"thing\"}\nOutput: \"/123/whatever/thing\"\n</code></pre>\n\n<p>But i have no idea how to do it.</p>\n\n<p>Some addtional info:</p>\n\n<p>I have code which iterate trough list of tuples containing name and pattern and trying to use re.search. In case that re.search match given string it returns name from current tuple and groupdict() (which is dict with data from re.search).</p>\n\n<p>Here is the code</p>\n\n<pre><code>class UrlResolver():\ndef __init__(self):\n    self.urls = {}\n\ndef parse(self, app, url):\n    for pattern in self.urls[app]:\n        data = re.search(pattern[1], url)\n        if data:\n            return {\"name\": pattern[0], \"data\": data.groupdict()}\n</code></pre>\n\n<p>Now i would like to create function:</p>\n\n<pre><code>def compose(self, app, name, data):\n    for pattern in self.url[app]:\n        if pattern[0] == name:\n            return string composed from regex expression and data from data dict.\n</code></pre>\n\n<p>Above function should replace all named groups with coresponding data from datadict.</p>\n\n<h2><strong>SOLUTION</strong></h2>\n\n<p>Using answer provided by Hans Then (Thanks!) and some other info here is the solution:</p>\n\n<pre><code>    def _group_replacer(data, match):\n        data_key = match.group(1)\n        return data[data_key]\n\n    expression = r\"\\([^\\(]*&lt;([^&lt;]*)&gt;[^\\(]*\\)\"\n    expression = re.compile(expression)\n\n    reversed = re.sub(expression, partial(_group_replacer, data), string)\n</code></pre>\n\n<p>function \"partial\" can be imported from functools</p>\n"},{"tags":["python","django","testing","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13272593,"title":"Django sqlite3 test in memory missing table","body":"<p>I'm using Django 1.3. When I set TEST_NAME on some file it works, but very slow.\nBut when TEST_NAME is ':memory:' django complain about missing tables.</p>\n\n<p>What can be wrong?\nThx for any help.</p>\n"},{"tags":["python","serial-port","hex","ascii","hyperterminal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":231,"score":0,"question_id":11905235,"title":"ASCII to Hex Conversion in RS232 Serial Dialogue in Python and Hyperterminal","body":"<p>I am doing data transfer from an instrument over RS232 serial dialogue using Python. The data is coming in ASCII format. For example this is what i get in ASCII from the instrument using <strong>Python</strong>:</p>\n\n<pre><code>'\\x02S20390908127F010102F3004000900300000000000000000000000000000300A500000000000202020202020206070505050505050000000707070707070707020700000000000000000000000000000000000000008000800089237A0715047E000000000000000000000000000000000000000000000000000000000000000000000000005350374646303030\\x1732'\n</code></pre>\n\n<p>The same data transfer using <strong>Hyperterminal (Docklight)</strong> gave me this and the following is the hex representation i got in hyperterminal:</p>\n\n<pre><code>02 53 31 38 33 38 30 39 30 38 31 32 37 46 30 31 30 31 30 32 46 33 30 30 34 30 30 30 39 30 30 33 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 33 30 30 41 35 30 30 30 30 30 30 30 30 30 30 30 32 30 32 30 32 30 32 30 32 30 32 30 32 30 36 30 37 30 35 30 35 30 35 30 35 30 35 30 35 30 30 30 30 30 30 30 37 30 37 30 37 30 37 30 37 30 37 30 37 30 37 30 32 30 37 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 38 30 30 30 38 30 30 30 38 39 32 33 37 41 30 37 31 35 30 34 37 45 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 35 33 35 30 33 37 34 36 34 36 33 30 33 30 33 30 17 33 38 \n</code></pre>\n\n<p>My question is that how do I, using <strong>Python</strong>, get the same hex representation from the ascii data I got. I am very much of a noob when it comes to this kind of stuff. Thank you in advance.</p>\n"},{"tags":["python","bash","serial-port"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":12016029,"title":"Moving Terminal Program from Bash to Python on Linux","body":"<p>I am dealing with an Industrial Environment where I must record readings from a serial device out in the field. My current setup involves the device connected to a Moxa 5150A or 5130 Serial Device Server which connects to my network thru wired or wireless means depending on the location of the individual device. At current I am reliant upon software from my hardware vendor to manage the data collection. The current software is windows X86 based and has cause no end of trouble on newer hardware we have purchased due to the failure of previous hardware. I selected the Moxa serial servers specifically for their linux drivers and compatibility. The device communicates over RS-422 (4-wire Half Duplex) 7-bit 1-stop odd-parity and NO-flow control and does not send any information unless requested.</p>\n\n<p>I am working to develop my own solution that will store the information in a database (probably MySQL). In terms of terminal communication this is two part. I must send a request and receive the response.</p>\n\n<p>To date I have installed the Moxa drivers for the serial servers onto my linux server. I have written a bash script that reads from the /dev/ttyrXX device, interprets the input and loads the information into a mysql database.</p>\n\n<pre><code>      while read line\n      do\n      something something....\n      done &lt; /dev/ttyrXX\n</code></pre>\n\n<p>I am still working out minor scripting bugs such as restarting properly when a device goes offline and later comes back online and other such issues, but my script is reading and logging my data well within my needs.</p>\n\n<p>This solution relies on two factors. </p>\n\n<p>1) the Moxa Devices support FIFO and allow multiple connections simultaneously</p>\n\n<p>2) the vendor provided software running on a separate windows machine is currently submitting requests for information.</p>\n\n<p>I need to remove the windows based software all together. I have written and tested a script that prints to /dev/ttyrXX making my desired requests and received the appropriate responses and had them logged as desired by my first script.</p>\n\n<pre><code>     some list of things\n     for x in list\n     do         \n     printf \"request\" &gt; /dev/ttyrXX\n     done\n</code></pre>\n\n<p>One of the major issues I have experienced with the vendor supplied software is its hard coded dependence on receiving a timely response to every single request. This creates a number of issues including completely freezing up windows and crashing should the device fall out of service at an inopportune time.</p>\n\n<p>My two scripts working in unison collect the data at a significantly better interval and with alot less human intervention.</p>\n\n<p>Here is my question. What method can I use in Python to obtain comparable results to my Bash script? </p>\n\n<p>I have been unable to locate a Python equivalent to printf or cat that does not require me to open/close a file. Furthermore every terminal interface I've looked at has the built-in or required wait for response or read for so long before giving up. I'm certain that something exists out there I have simply had little to no luck finding it. I'll admit that I am brand spanking new to Python and have not written more than a few lines of code to poke around at its abilities.</p>\n\n<p>Let me be very clear. I want to write to my terminal without concern for anything else when I'm writing (using a thread or separate script I don't care). I want to read from my terminal without a care in the world for when my next bit of text is coming. (I'm not suggesting a never ending loop, but I do need it to simply stand by and wait for input). I WANT/NEED my write to and read from to be completely independent of one another with no concern for what the other is doing yesterday, right now, or next week.</p>\n\n<p>Thank You in advance.</p>\n\n<p>I will be able to provide more detailed code if that is necessary, However I feel that I am in more need of direction in my searching than for bug fixing. Though I am still completely open to advice and \"Don't EVER DO THIS.... BECAUSE OF THIS...\" type input</p>\n"},{"tags":["python","asyncsocket","gevent","greenlets"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13272397,"title":"gevent and socksipy","body":"<p>I was wondering if anyone has tried using <a href=\"https://github.com/sitesupport/gevent\" rel=\"nofollow\">gevent</a> and <a href=\"http://socksipy.sourceforge.net/\" rel=\"nofollow\">socksipy</a> for concurrent downloads. So, I use socksipy, using something like:</p>\n\n<pre><code>import socks\nimport socket\nsocks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, '127.0.0.1', 9050, True)\nsocket.socket = socks.socksocket\n\nurl = 'http://ifconfig.me/ip'\nrequest = urllib2.Request(url)\nrequest.add_header('Cache-Control','max-age=0')\nresponse = urllib2.urlopen(request)\nprint response.read()\n</code></pre>\n\n<p>which works fine - when I download a page, I see a different IP - which indicates that it is working.</p>\n\n<p>Now, I add gevent to this, and now I have something like (taken from gevent@git <a href=\"https://github.com/SiteSupport/gevent/blob/master/examples/concurrent_download.py\" rel=\"nofollow\">example</a>):</p>\n\n<pre><code>urls = ['http://ifconfig.me/ip', 'http://ifconfig.me/ip', 'http://ifconfig.me/ip']\nimport gevent\nfrom gevent import monkey; monkey.patch_socket()\nmonkey.patch_all()\n\nimport socks\nimport socket\nsocks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, \"127.0.0.1\", 9050)\nsocket.socket = socks.socksocket\n\nimport urllib2\n\ndef print_head(url):\n    print ('Starting %s' % url)\n    request = urllib2.Request(url)\n    request.add_header('User-Agent', 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.11) Gecko/20101012 Firefox/3.6.11')\n    data = urllib2.urlopen(request).read()\n    print ('%s: %s bytes: %r' % (url, len(data), data[:50]))\n\njobs = [gevent.spawn(print_head, url) for url in urls]\ngevent.joinall(jobs)\n</code></pre>\n\n<p>..and this does not work. It shows my real IP - which means this is not working.</p>\n\n<p>I was wondering if anyone could point me to a direction to make this work - I think I need to patch the socksipy module, but I am not sure how this can be done since it is not from the standard library.</p>\n\n<p>Thanks for your time.</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":13261737,"title":"Append two multi indexed data frames in pandas","body":"<p>I am trying this simple setup of variables:</p>\n\n<pre><code>In [94]: cc\nOut[94]: \n                 d0         d1\nclass sample                    \n5     66      0.128320  0.970817\n      66      0.160488  0.969077\n      77      0.919263  0.008597\n6     77      0.811914  0.123960\n      88      0.639887  0.262943\n      88      0.312303  0.660786\n\nIn [101]: bb\nOut[101]: \n                     d0         d1\nclass sample                    \n2     22      0.730631  0.656266\n      33      0.871292  0.942768\n3     44      0.081831  0.714360\n      55      0.600095  0.770108\n\nIn [102]: aa\nOut[102]: \n                     d0         d1\nclass sample                    \n0     00      0.190409  0.789750\n      11      0.588001  0.250663\n1     22      0.888343  0.428968\n      33      0.185525  0.450020\n</code></pre>\n\n<p>I can perform the following command</p>\n\n<pre><code>In [103]: aa.append(bb)\nOut[103]: \n                     d0         d1\nclass sample                    \n0     00      0.190409  0.789750\n      11      0.588001  0.250663\n1     22      0.888343  0.428968\n      33      0.185525  0.450020\n2     22      0.730631  0.656266\n      33      0.871292  0.942768\n3     44      0.081831  0.714360\n      55      0.600095  0.770108\n</code></pre>\n\n<p>Why I cant perform the following command in the same manner?</p>\n\n<pre><code>aa.append(cc)\n</code></pre>\n\n<p>[I get the following exception]</p>\n\n<pre><code>ValueError: all arrays must be same length\n</code></pre>\n\n<h2>UPDATE:</h2>\n\n<p>It works fine if I did not provide column names, but if for example I have 4 columns, with names ['d0','d0','d1','d1'] for 4X4 and 8X4, it does not work anymore</p>\n\n<p>here is the code for reproducing the error</p>\n\n<pre><code>import pandas\ny1 = [['0','0','1','1'],['00','11','22','33']]\ny2 = [['2','2','3','3','4','4'],['44','55','66','77','88','99']]\nx1  = np.random.rand(4,4)\nx2 = np.random.rand(6,4)\ncols = ['d1']*2 + ['d2']*2\nnames = ['class','idx']\naa = pandas.DataFrame(x1,index=y1,columns = cols)\naa.index.names = names\nprint aa\nbb = pandas.DataFrame(x2,index=y2,columns = cols)\nbb.index.names = names\nprint bb\n\naa.append(bb)\n</code></pre>\n\n<p>What should I do to get this running?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","https","web","bottle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13271782,"title":"bottle.py server deployment","body":"<p>I am moving from development to deployment and wonder how can i make my bottle.py application service both HTTP and HTTPS requests, and be multiprocess/multithreaded? I understand I need to use something like cherrypy instead of wsgiref?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":502,"score":1,"question_id":3954900,"title":"Is it possible to use Python to measure response time?","body":"<p>I'm running some experiments and I need to precisely measure participants' response time to questions. I know there are some commercial software, but I was wondering if I can do this with Python. Does python provides suitable functionality to measure the response time in millisecond unit?</p>\n\n<p>Thank you,\nJoon</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13261175,"title":"pandas pivot dataframe to 3d data","body":"<p>There seem to be a lot of possibilities to pivot flat table data into a 3d array but I'm somehow not finding one that works: Suppose I have some data with columns=['name', 'type', 'date', 'value']. When I try to pivot via</p>\n\n<pre><code>pivot(index='name', columns=['type', 'date'], values='value')\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>ValueError: Buffer has wrong number of dimensions (expected 1, got 2)\n</code></pre>\n\n<p>Am I reading docs from dev pandas maybe? It seems like this is the usage described there. I am running 0.8 pandas.</p>\n\n<p>I guess, I'm wondering if I have a MultiIndex ['x', 'y', 'z'] Series, is there a pandas way to put that in a panel? I can use groupby and get the job done, but then this is almost like what I would do in numpy to assemble an n-d array. Seems like a fairly generic operation so I would imagine it might be implemented already.</p>\n"},{"tags":["python","object","attributes","documentation"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":45,"score":6,"question_id":13271836,"title":"Access other attributes of the instance with __getattr__(self, name)","body":"<p>In Python's <a href=\"http://docs.python.org/2/reference/datamodel.html#object.__getattr__\">documentation, on the <code>__getattr__</code> function</a> it says:</p>\n\n<blockquote>\n  <p>Note that if the attribute is\n  found through the normal mechanism, __getattr__() is not called. (This is an intentional asymmetry\n  between __getattr__() and __setattr__().) This is done both for efficiency reasons and because\n  otherwise __getattr__() would have no way to access other attributes of the instance.</p>\n</blockquote>\n\n<p>I have a problem understanding the last statement:</p>\n\n<blockquote>\n  <p>would have no way to access other attributes of the instance</p>\n</blockquote>\n\n<p>How exactly would it have no way to access other attributes? (I guess it has something to do with infinite recursion but aren't there other ways to acces instance attributes, like from <code>self.__dict__</code> directy?)</p>\n"},{"tags":["python","list","map"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13271670,"title":"What is the Python equivalent of map in Ruby and Javascript?","body":"<p>Say for example I want to split string <code>\"12:30-14:40\"</code> and have the result in a matrix like: <code>[[\"12\",\"30\"],[\"14\",\"40\"]]</code>.</p>\n\n<p>I can do this in JavaScript with:</p>\n\n<pre><code>\"12:30-14:40\".split(\"-\").map(function(x) {\n    return x.split(':');\n});\n</code></pre>\n\n<p>and in Ruby with:</p>\n\n<pre><code> \"12:30-14:40\".split(\"-\").map{|x| x.split(\":\")}\n</code></pre>\n\n<p>What would be the python equivalent for the above?</p>\n"},{"tags":["python","windows","installer","windows-installer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13060146,"title":"how to write installer (installing python, python modules and other dependencies) for windows boxes?","body":"<p>I know nothing on this subject, but I need suggestions about the best tools or method for creating a setup program that installs python, some custom python modules, some other python modules such as PIL, and some EXE dependencies, all living on a network repository, on windows machines. In the repository are installers for python (msi file), PIL (exe file), the custom python modules (pyc files), and two windows executables (and exe file and a zip file). Any advice welcome. </p>\n"},{"tags":["python","signals","celery","systemexit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13260181,"title":"celery trying shutdown worker by raising SystemExit in task_postrun signal but always hangs and the main process never exits","body":"<p>I'm trying to shutdown the main celery process by raisin SystemExit() in the task_postrun signal. The signal gets fired just fine, and the exception gets raised, but the worker never completely exits and just hangs there.</p>\n\n<p>HOW DO I MAKE THIS WORK?</p>\n\n<p>Am I forgetting some setting somewhere?</p>\n\n<p>Below is the code that I'm using for the worker (worker.py):</p>\n\n<pre><code>from celery import Celery\nfrom celery import signals\n\napp = Celery('tasks',\n    set_as_current = True,\n    broker='amqp://guest@localhost//',\n    backend=\"mongodb://localhost//\",\n)\n\napp.config_from_object({\n    \"CELERYD_MAX_TASKS_PER_CHILD\": 1,\n    \"CELERYD_POOL\": \"solo\",\n    \"CELERY_SEND_EVENTS\": True,\n    \"CELERYD_CONCURRENCY\": 1,\n    \"CELERYD_PREFETCH_MULTIPLIER\": 1,\n})\n\ndef shutdown_worker(**kwargs):\n    print(\"SHUTTING DOWN WORKER (RAISING SystemExit)\")\n    raise SystemExit()\n\nimport tasks\n\nsignals.task_postrun.connect(shutdown_worker)\n\nprint(\"STARTING WORKER\")\napp.worker_main()\nprint(\"WORKER EXITED!\")\n</code></pre>\n\n<p>and below is the code for tasks.py:</p>\n\n<pre><code>from celery import Celery,task\nfrom celery.signals import task_postrun\nimport time\n\nfrom celery.task import Task\n\nclass Blah(Task):\n    track_started = True\n    acks_late = False\n\n    def run(config, kwargs):\n        time.sleep(5)\n        return \"SUCCESS FROM BLAH\"\n\ndef get_app():\n    celery = Celery('tasks',\n        broker='amqp://guest@localhost//',\n        backend=\"mongodb://localhost//\"\n    )\n    return celery\n</code></pre>\n\n<p>To test this, first thing I do is run the worker code (<code>python worker.py</code>), then I queue up a task like so:</p>\n\n<pre><code>&gt;&gt;&gt; import tasks\n&gt;&gt;&gt; results = []\n&gt;&gt;&gt; results.append(tasks.Blah.delay({}))\n</code></pre>\n\n<p>The output I see from the worker is this:</p>\n\n<pre><code>STARTING WORKER\n\n -------------- celery@hostname v3.0.9 (Chiastic Slide)\n---- **** ----- \n--- * ***  * -- [Configuration]\n-- * - **** --- . broker:      amqp://guest@localhost:5672//\n- ** ---------- . app:         tasks:0x26f3050\n- ** ---------- . concurrency: 1 (solo)\n- ** ---------- . events:      ON\n- ** ---------- \n- *** --- * --- [Queues]\n-- ******* ---- . celery:      exchange:celery(direct) binding:celery\n--- ***** ----- \n\n[2012-11-06 15:59:16,761: WARNING/MainProcess] celery@hostname has started.\n[2012-11-06 15:59:21,785: WARNING/MainProcess] SHUTTING DOWN WORKER (RAISING SystemExit)\n</code></pre>\n\n<p>I was expecting the python code to return from the call to <code>app.worker_main()</code> and then to print <code>WORKER EXITED</code> and then for the process to exit completely. This never happens, and the worker process has to be <code>kill -KILL {PID}</code>ed for it to go away (it's not able to consume any other tasks either.</p>\n\n<p>I guess my main question would be:</p>\n\n<p>HOW DO I MAKE THE CODE RETURN FROM <code>app.worker_main()</code>?</p>\n\n<p>I'd like to be able to completely restart the worker process (by having the process <em><strong>COMPLETELY</strong></em> exit) after <code>X</code> number of tasks have been executed.</p>\n\n<p><em><strong>UPDATE</strong></em> I figured out what the worker is hanging on - the worker (<code>WorkController</code>) is hanging on a call to <code>self.stop</code> after it catches the <code>SystemExit</code> exception.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":13271565,"title":"Decoding and formatting for newbies in Python","body":"<p>I am just trying to do some quick debugging of some Python script, but I am struggeling\na bit as I am a complete newbie with the syntax. I get some data in via the network, that is assigned as you can see in the following:</p>\n\n<pre><code>a = self.block.decode('hex')[95:63:-1]\nb = self.midstate.decode('hex')[::-1]\npayload = a + b \nprint(\"Data Received {} \\n\", payload)\n</code></pre>\n\n<p>I would be interested in two things:</p>\n\n<ol>\n<li><p>How many bytes/bit are hold in <code>payload</code>? I tried <code>payload__len()</code> but that did not work</p></li>\n<li><p>I would like to output the <code>payload</code> value in 32 bit hex word, anyone knows how this can be done with Python?</p></li>\n</ol>\n"},{"tags":["python","validation","numpy","introspection","typechecking"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13260531,"title":"Validation against NumPy dtypes -- what's the least circuitous way to check values?","body":"<p>I want to test an unknown value against the constraints that a given NumPy <code>dtype</code> implies -- e.g., if I have an integer value, is it small enough to fit in a <code>uint8</code>?</p>\n\n<p>As best I can ascertain, NumPy's <code>dtype</code> architecture doesn't offer a way to do something like this:</p>\n\n<pre><code>### FICTIONAL NUMPY CODE: I made this up ###\ntry:\n    numpy.uint8.validate(rupees)\nexcept numpy.dtype.ValidationError:\n    print \"Users can't hold more than 255 rupees.\"\n</code></pre>\n\n<p>My little fantasy API is based on Django's <a href=\"https://docs.djangoproject.com/en/dev/ref/validators/\" rel=\"nofollow\">model-field validators</a>, but that's just one example -- the best mechanism I managed to contrive was along the lines of this:</p>\n\n<pre><code>&gt;&gt;&gt; nd = numpy.array([0,0,0,0,0,0], dtype=numpy.dtype('uint8'))\n&gt;&gt;&gt; nd[0]\n0\n&gt;&gt;&gt; nd[0] = 1\n&gt;&gt;&gt; nd[0] = -1\n&gt;&gt;&gt; nd\narray([255,   0,   0,   0,   0,   0], dtype=uint8)\n&gt;&gt;&gt; nd[0] = 257\n&gt;&gt;&gt; nd\narray([1, 0, 0, 0, 0, 0], dtype=uint8)\n</code></pre>\n\n<p>Round-tripping the questionable values through a <code>numpy.ndarray</code> typed as explicitly <code>numpy.uint8</code> gives me back integers that have been wrapped to something with an appropriate size -- without tossing an exception, or raising any other sort of actionable error state.</p>\n\n<p>I'd rather not put on the architecture-astronaut flight suit, of course, but that's preferable the alternative, which looks like unmaintainable spaghetti-monster mess of <code>if dtype(this) ... elif dtype(that)</code> statements. Is there anything I can do here besides embarking on the grandiose and indulgent act of writing my own API? </p>\n"},{"tags":["python","vba","com","win32com"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13238269,"title":"\"Member not found.\" error using win32com","body":"<p>I'm having issues accessing a COM object using the Python win32com module, which I don't have when using VBA. See usage/error below. The other parts of the object are functioning OK, but I can't get any of the parameters out of the ResultSet object.</p>\n\n<pre><code>&gt;&gt;&gt; import win32com.client\n&gt;&gt;&gt; Aquator = win32com.client.gencache.EnsureDispatch(\"Aquator.Application\")\n&gt;&gt;&gt; db = Aquator.LoadDatabase(r\"D:\\Shared\", \"AquatorExcel.mdb\")\n&gt;&gt;&gt; project = Aquator.LoadProject(db, \"A simple model\", False, False)\n&gt;&gt;&gt;\n&gt;&gt;&gt; project.ModelRunStart()\n&lt;win32com.gen_py.Aquator Water Resource Simulation._ModelRun instance at 0x15264\n824&gt;\n&gt;&gt;&gt; Aquator.ActiveProject.ModelRuns.Count\n1\n&gt;&gt;&gt; Aquator.ActiveProject.ModelRuns.Item(1).ResultSet\n&lt;win32com.gen_py.Aquator Water Resource Simulation._IResultSet instance at 0x149\n19000&gt;\n&gt;&gt;&gt; Aquator.ActiveProject.ModelRuns.Item(1).ResultSet.Cost\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Program Files\\Pythonxy\\Pythonxy 2.7\\Python27\\lib\\site-packages\\win32c\nom\\client\\__init__.py\", line 463, in __getattr__\n    return self._ApplyTypes_(*args)\n  File \"C:\\Program Files\\Pythonxy\\Pythonxy 2.7\\Python27\\lib\\site-packages\\win32c\nom\\client\\__init__.py\", line 456, in _ApplyTypes_\n    self._oleobj_.InvokeTypes(dispid, 0, wFlags, retType, argTypes, *args),\npywintypes.com_error: (-2147352573, 'Member not found.', None, None)\n</code></pre>\n\n<p>The equivalent code in the VBA editor within the application functions correctly, returning a float:</p>\n\n<pre><code>Public Sub Test()\n    MsgBox Aquator.ActiveProject.ModelRuns.Item(1).ResultSet.Cost\nEnd Sub\n</code></pre>\n\n<p>As far as I can tell, the EnsureDispatch command has done it's job correctly, and recognises the property (along with others, also inaccessible):</p>\n\n<pre><code>&gt;&gt;&gt; Aquator.ActiveProject.ModelRuns.Item(1).ResultSet._prop_map_get_.keys()\n['WaterBalanceMl', 'RunDate', 'Parameters', 'DoublePrecision', 'WarningCount', '\nFinishDate', 'AmountLost', 'SinglePrecision', 'Status', 'StartDate', 'Descriptio\nn', 'AmountLeaked', 'FailureCount', 'AmountAdded', 'ErrorCount', 'AmountStored',\n 'Name', 'WaterBalancePercent', 'InfoValueList', 'Results', 'States', 'Cost', 'A\nmountRemoved', 'Sequences', 'Duration', 'InfoNameList', 'RunTime']\n&gt;&gt;&gt; Aquator.ActiveProject.ModelRuns.Item(1).ResultSet.meh\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Program Files\\Pythonxy\\Pythonxy 2.7\\Python27\\lib\\site-packages\\win32c\nom\\client\\__init__.py\", line 462, in __getattr__\n    raise AttributeError(\"'%s' object has no attribute '%s'\" % (repr(self), attr\n))\nAttributeError: '&lt;win32com.gen_py.Aquator Water Resource Simulation._IResultSet\ninstance at 0x15175888&gt;' object has no attribute 'meh'\n</code></pre>\n\n<p>I have tried using .GetCost() (a la <a href=\"http://stackoverflow.com/questions/7089496/setting-a-property-using-win32com\">Setting a property using win32com</a>), to no avail (\"object has no attribute...\").</p>\n\n<p>What am I doing wrong here?</p>\n"},{"tags":["python","datetime","type-conversion"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13271465,"title":"How to convert the following string to python date?","body":"<p>How can I convert: <code>u'2012-11-07T13:25:10.703Z'</code> to Python datetime?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I intend to use something like this: </p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; datetime.strptime('2011-03-07','%Y-%m-%d')\ndatetime.datetime(2011, 3, 7, 0, 0)\n</code></pre>\n\n<p>but how can I change the second argument to accommodate my date format?</p>\n"},{"tags":["python","multithreading","wxpython","frame"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13263108,"title":"can I use listener thread send different message to multiframe in wxpython?","body":"<p>I have a listener thread send message to a frame in wxpython,it work.but now I want to make multiframe,can I use this listener thread send diffrent message to two frame?If it can do this?How should I do?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","xml","hadoop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13267925,"title":"processing xml file with hadoop using python","body":"<p>I am using python with hadoop for processing an xml file, I had xml file with the below format</p>\n\n<p><strong>temporary.xml</strong></p>\n\n<pre><code>&lt;report&gt;\n&lt;report-name name=\"ALL_TIME_KEYWORDS_PERFORMANCE_REPORT\"/&gt;\n&lt;date-range date=\"All Time\"/&gt;\n  &lt;table&gt;\n    &lt;columns&gt;\n       &lt;column name=\"campaignID\" display=\"Campaign ID\"/&gt;\n       &lt;column name=\"adGroupID\" display=\"Ad group ID\"/&gt;\n       &lt;column name=\"keywordID\" display=\"Keyword ID\"/&gt;\n       &lt;column name=\"keyword\" display=\"Keyword\"/&gt;\n    &lt;/columns&gt;\n    &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\" keywordID=\"3000000\" keyword=\"Content\"/&gt;\n    &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\" keywordID=\"3000000\" keyword=\"Content\"/&gt;\n    &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\" keywordID=\"3000000\" keyword=\"Content\"/&gt;\n    &lt;row campaignID=\"79057390\" adGroupID=\"3451305670\" keywordID=\"3000000\" keyword=\"Content\"/&gt;\n  &lt;/table&gt;\n&lt;/report&gt;\n</code></pre>\n\n<p>Now all i want to do is processing the above xml file and later save the data in to MSSQL database.</p>\n\n<p><strong>mapper.py</strong> code</p>\n\n<pre><code>import sys\nimport cStringIO\nimport xml.etree.ElementTree as xml\n\nif __name__ == '__main__':\n    buff = None\n    intext = False\n    for line in sys.stdin:\n        line = line.strip()\n        if line.find(\"&lt;row&gt;\") != -1:\n            intext = True\n            buff = cStringIO.StringIO()\n            buff.write(line)\n        elif line.find(\"&lt;/&gt;\") != -1:\n            intext = False\n            buff.write(line)\n            val = buff.getvalue()\n            buff.close()\n            buff = None\n            print val\n</code></pre>\n\n<p>Here what all i want to do is fetching the data from <code>row tags</code> that is the values of <code>campaignID,adgroupID,keywordID,keyword</code> and printing them which becomes as an input to <code>reducer.py</code>(That consists of code to save data in database).</p>\n\n<p>I had looked in to some examples but in that the tags are like <code>&lt;tag&gt; &lt;/tag&gt;</code>, but in my case i had only <code>&lt;row/&gt;</code></p>\n\n<p>But my code above is not working/not printing anything, can anyone please correct my code and add the necessary python code to get the values/data from the row tags(i am very very extremely new to hadoop), so that will extend the code from next time.</p>\n"},{"tags":["python","google-app-engine","google-bigquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13244750,"title":"HttpError: <HttpError 400 when requesting https://www.googleapis.com/bigquery/v2/projects/","body":"<p>Here is the error dat i'm getting while trying to make an authentication call to bigquery</p>\n\n<pre><code>HttpError: &lt;HttpError 400 when requesting https://www.googleapis.com/bigquery/v2/projects/ClientId/datasets/samples/tables/natality?alt=json returned \"Invalid project ID 'ClientId'. Project IDs must contain 6-63 lowercase letters, digits, or dashes. IDs must start with a letter and may not end with a dash.\"&gt;\n</code></pre>\n\n<p>Here is my main.py</p>\n\n<pre><code>import httplib2\nimport os\nfrom google.appengine.api import memcache\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\nfrom bqclient import BigQueryClient\n\n\nPROJECT_ID = \"########\"  this is the Client Id \nDATASET = \"samples\"\nTABLE = \"natality\"\n\n\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__),\n    'client_secrets.json')\n\nhttp = httplib2.Http(memcache)\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n    'https://www.googleapis.com/auth/bigquery')\n\nbq = BigQueryClient(http, decorator)\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n        self.response.out.write(\"Hello Dashboard!\\n\")\n        modTime = bq.getLastModTime(PROJECT_ID, DATASET, TABLE)\n        if modTime is not None:\n            msg = 'Last mod time = ' + modTime\n        else:\n            msg = \"Could not find last modification time.\\n\"\n        self.response.out.write(msg)\n\napplication = webapp.WSGIApplication([\n   ('/', MainHandler),\n   (decorator.callback_path, decorator.callback_handler())\n], debug=True)\n\ndef main():\n   run_wsgi_app(application)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>And here is the app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>And here is the bqclient.py</p>\n\n<pre><code>import httplib2\nfrom apiclient.discovery import build\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\nclass BigQueryClient(object):\n    def __init__(self, http, decorator):\n        \"\"\"Creates the BigQuery client connection\"\"\"\n        self.service = build('bigquery', 'v2', http=http)\n        self.decorator = decorator\n\n    def getTableData(self, project, dataset, table):\n        decorated = self.decorator.http()\n        return self.service.tables().get(projectId=project, datasetId=dataset,\n            tableId=table).execute(decorated)\n\n    def getLastModTime(self, project, dataset, table):\n        data = self.getTableData(project, dataset, table)\n        if data is not None and 'lastModifiedTime' in data:\n            return data['lastModifiedTime']\n        else:\n            return None\n\n    def Query(self, query, project, timeout_ms=10000):\n        query_config = {\n            'query': query,\n            'timeoutMs': timeout_ms\n        }\n        decorated = self.decorator.http()\n        result_json = (self.service.jobs()\n                       .query(projectId=project, body=query_config)\n                       .execute(decorated))\n\n        return result_json\n</code></pre>\n\n<p>I also tried replacing the ClientId with Project Id as said in the error but it gives another error </p>\n\n<pre><code>HttpError: &lt;HttpError 404 when requesting https://www.googleapis.com/bigquery/v2/projects/hellodashboard87/datasets/samples/tables/natality?alt=json returned \"Not Found: Dataset hellodashboard87:samples\"&gt;\n</code></pre>\n\n<p>I'm following the tutorial on this page\n<a href=\"https://developers.google.com/bigquery/articles/dashboard#firstcall\" rel=\"nofollow\">https://developers.google.com/bigquery/articles/dashboard#firstcall</a></p>\n"},{"tags":["python","django","unit-testing","selenium","webdriver"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2040,"score":0,"question_id":9103837,"title":"How do I create a Selenium Webdriver test to verify an element is not present?","body":"<p>I am creating unit tests for my Django app in Selenium Webdriver.</p>\n\n<p>I have an AJAX method that deletes a Topic from the database.\nI'm trying to figure out how to verify that the deleted Topic is no longer present on the page.</p>\n\n<p>I am trying to catch the Exception that the should be generated when Webdriver can't find an element:\nselenium.common.exceptions.NoSuchAttributeException  </p>\n\n<p>Instead I see an error:  </p>\n\n<pre><code>*** URLError: &lt;urlopen error timed out&gt;\n</code></pre>\n\n<p>Here is how I have setup the tests:  </p>\n\n<pre><code>from selenium import webdriver\nfrom django.utils import unittest  \n\nclass TestAuthentication(unittest.TestCase):    \n    scheme = 'http'    \n    host = 'localhost'    \n    port = '4444'    \n\n\n    def setUp(self):    \n        self._driver = webdriver.Firefox()    \n        self._driver.implicitly_wait(10)    \n\n    def login_as_Kallie(self):    \n        # Kallie has manual login    \n        self._driver.get('http://localhost:8000/account/signin/')    \n        user = self._driver.find_element_by_id('id_username')    \n        user.send_keys(\"Kallie\")    \n        password = self._driver.find_element_by_id('id_password')    \n        password.send_keys('*********')    \n        submit = self._driver.find_element_by_id('blogin')    \n        submit.click()    \n\n    def test_Kallie_can_delete_topic(self):    \n        self.login_as_Kallie()    \n        self._driver.find_element_by_link_text(\"Topic to delete\").click()    \n        self._driver.find_element_by_xpath(\"/html/body/div/div[4]/div/div/div[2]/div/table/tbody/tr/td[2]/div/div[3]/span[5]/a\").click()    \n        self._driver.find_element_by_class_name('dialog-yes').click()    \n        self._driver.get(\"http://localhost:8000/questions/\")    \n        # this is the Python exception to catch: selenium.common.exceptions.NoSuchAttributeException    \n        self.assertRaises('selenium.common.exceptions.NoSuchAttributeException', self._driver.find_element_by_link_text(\"Topic to delete\"))    \n\n    def tearDown(self):    \n        self._driver.quit()    \n</code></pre>\n\n<p>How can I test that a Element of the page is absent?   </p>\n"},{"tags":["python","pyramid","formalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":122,"score":2,"question_id":9834411,"title":"Adding pyramid_formalchemy to existing app","body":"<p>Try to add pyramid_formalchemy to existing app as described in <a href=\"http://docs.formalchemy.org/pyramid_formalchemy/\" rel=\"nofollow\">http://docs.formalchemy.org/pyramid_formalchemy/</a> the following way:</p>\n\n<pre><code>$ pcreate -s pyramid_fa myapp\n</code></pre>\n\n<p>In result inside package \"myapp\" directory with the same name is created, it contains three files: faforms.py, fainit.py, faroutes.py. Is it bug? When I try to create new project:</p>\n\n<pre><code>$ pcreate -s alchemy -s pyramid_fa myapp\n</code></pre>\n\n<p>these three files locates inside in mayapp package directly.</p>\n\n<p>After adding settings to __init__.main() I try to open /admin page and get an error: </p>\n\n<pre><code>AttributeError: 'module' object has no attribute 'FieldSet'\n</code></pre>\n\n<p>I use 1.3 Pyramid version.</p>\n"},{"tags":["python","documentation","python-sphinx"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12082570,"title":"Override function declaration in autodoc for sphinx","body":"<p>I have a module that goes something like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\n\n#: Documentation here.\n#: blah blah blah\nfoobar = r'Some really long regex here.'\n\ndef myfunc(val=foobar):\n    '''Blah blah blah'''\n    pass\n</code></pre>\n\n<p>...and I have a <code>.rst</code> file that goes something like this:</p>\n\n<pre><code>:mod:`my_module` Module\n-----------------------\n\n..automodule:: my_module\n    :members:\n    :private-members:\n    :show-inheritance:\n</code></pre>\n\n<p>When I build the documentation, I get an html file with a snippit that goes like this:</p>\n\n<blockquote>\n  <p>mymodule.foobar.<strong>foobar</strong> = <em>'Some absurdly long and ugly regex here'</em>  </p>\n  \n  <p><em>Extra documentation here</em></p>\n  \n  <p>mymodule.<strong>myfunc</strong>(<em>val='Some absurdly long and ugly regex here'</em>)</p>\n  \n  <p><em>blah blah blah</em></p>\n</blockquote>\n\n<p>Based on this <a href=\"http://stackoverflow.com/questions/5365684/is-it-possible-to-override-sphinx-autodoc-for-specific-functions\">stackoverflow post</a>, I thought I could change it by altering my module to:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\n\n#: .. data:: my_module.foobar\n#: Extra documentation here\nfoobar = 'Some really long regex here.'\n\ndef myfunc(val=foobar):\n    '''.. function:: my_module.myfunc(val=foobar)\n\n    Blah blah blah'''\n    pass\n</code></pre>\n\n<p>...but that didn't do the trick, and just appended the signature I wanted under the ugly one as part of the body. Does anybody know how I can properly override this? </p>\n\n<p><em>(I'm using Sphinx v1.1.3, btw.)</em></p>\n"},{"tags":["python","csv","data"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":50,"score":0,"question_id":13269881,"title":"Handling chinese in csv","body":"<p>We have a web application that reads the data from a csv(comma separated file). Currently we are facing the problem with the csv file itself. We had to insert a column in the csv file which contains chinese data.</p>\n\n<p>We pasted the chinese data into the csv file and saved it. When we open the csv file again, the chinese data is displayed as ?????. </p>\n\n<p>How do I handle this problem. We are nearing the deadline and we cannot change the format of the csv to some other format.  </p>\n\n<p>I tried the solutions posted here, which didn't work.\n<a href=\"http://stackoverflow.com/questions/4221176/excel-to-csv-with-utf8-encoding\">Excel to CSV with UTF8 encoding</a></p>\n\n<p>EDIT:\nOur code is written in python.</p>\n\n<p>Does anyone know how to fix this?\nAny help is appreciated!</p>\n"},{"tags":["python","console","setuptools"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13271085,"title":"console_scripts entry point ignored?","body":"<p>I am using setuptools (version 0.6c11) on Windows, and I specify console scripts to be installed via <code>console_scripts</code> entry point. It works fine on Linux, but under Windows, using the MinGW compiler, there are no scripts installed. I don't see any realted message in the install output.</p>\n\n<p>Other packages, like ipython, are doing just fine and have working .exe files after running  <code>setup.py install</code>.</p>\n\n<p>Can someone suggest a way to debug that?</p>\n\n<pre><code>import setuptools\nsetup(\n   # ...\n   entry_points={\n      'console_scripts':[\n          'myprog = myMod:main'\n      ]\n   }\n)\n</code></pre>\n"},{"tags":["python","celery"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13271056,"title":"How to chain a Celery task that returns a list into a group?","body":"<p>I want to create a group from a list returned by a Celery task, so that for each item in the task result set, one task will be added to the group.</p>\n\n<p>Here's a simple code example to explain the use case. The <code>???</code> should be the result from the previous task.</p>\n\n<pre><code>@celery.task\ndef get_list(amount):\n    # In reality, fetch a list of items from a db\n    return [i for i in range(amount)]\n\n@celery.task\ndef process_item(item):\n    #do stuff\n    pass\n\nprocess_list = (get_list.s(10) | group(process_item.s(i) for i in ???))\n</code></pre>\n\n<p>I'm probably not approaching this correctly, but I'm pretty sure it's not safe to call tasks from within tasks:</p>\n\n<pre><code>@celery.task\ndef process_list():\n    for i in get_list.delay().get():\n        process_item.delay(i)\n</code></pre>\n\n<p>I don't need the result from the seconds task.</p>\n"},{"tags":["python","eclipse","blender"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12975769,"title":"debug Blender Python in Eclipse and PyDev?","body":"<p>How do you go about debug Blender Python in Eclipse and PyDev?</p>\n\n<p>What I have tried is:</p>\n\n<p><a href=\"http://www.luxrender.net/wiki/LuxBlend25_Debugging_with_eclipse\" rel=\"nofollow\">http://www.luxrender.net/wiki/LuxBlend25_Debugging_with_eclipse</a></p>\n\n<p><a href=\"http://www.blender.org/forum/viewtopic.php?t=3914&amp;sid=717a127d12596f89e4aea0c54938ef80\" rel=\"nofollow\">http://www.blender.org/forum/viewtopic.php?t=3914&amp;sid=717a127d12596f89e4aea0c54938ef80</a></p>\n\n<p>But non of then seams to work?</p>\n\n<p>Regards</p>\n"},{"tags":["python","package","rc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13270907,"title":"rc file for python package","body":"<p>I am writing a Python package and I would like to make create a file, like the matplotlibrc, with some default options that I would like to be modifyable in-script by calling an rc module, as in matplotlib happens. How would I achieve that? Should I create the file inside the setup.py script and put an rc class in my __init__.py?</p>\n"},{"tags":["python","tinyos"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13270886,"title":"python2.6 ubuntu 10.04‏‏","body":"<p>I use ubuntu 10.04 and tinyos-2.1.1. I have a problem when i want run \"make micaz sim\".\nThe problem is the following :</p>\n\n<pre><code>mkdir -p simbuild/micaz\nmake: python2.6.5-config: Command not found\nmake: python2.6.5-config: Command not found\nmake: python2.6.5-config: Command not found\n</code></pre>\n\n<p>I try to update and install \"python2.6-dev\"</p>\n\n<pre><code>sudo apt-get install python2.6-dev\n</code></pre>\n\n<p>I add also</p>\n\n<pre><code>export PYTHONPATH=$PYTHONPATH:/usr/include/python2.6\n</code></pre>\n\n<p>I also modified in 'sim-fast.extra', 'sim-sf.extra' and 'sim.extra' files located in /support/make</p>\n\n<pre><code>PYTHON_VERSION=2.6.5\n</code></pre>\n\n<p>Have you any idea??\nthanks in advance</p>\n"},{"tags":["python","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13267137,"title":"How to handle classes as datatype in python-dbus","body":"<p>I'm new to python and dbus, but is there a data binding (= a way to send and receive) python classes via dbus-python?</p>\n\n<p>My class looks like this:</p>\n\n<pre><code>class Item:\n\n    def __init__(self, one, two, three, four, five, *more):\n        self.one= one\n        self.two= two\n        self.three= three\n        self.four= four\n        self.five= five\n        self.more= more\n</code></pre>\n\n<p>Where more is a list and one to five are strings. I have a list of these items:</p>\n\n<pre><code>list_items = []\nlist_items.append(Item('Test','Test','Test','Test',more))\n</code></pre>\n\n<p>The dbus part looks like this:</p>\n\n<pre><code>@dbus.service.method('com.me.test', in_signature='', out_signature='a(sssssav)')\ndef get_all_items():\n    return list_items\n</code></pre>\n\n<p>Is there an error in my signature or do I have to use a different data structure (tuples?) which can be marshalled?</p>\n"},{"tags":["python","yield","itertools"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13199203,"title":"Python: generating a tree using \"yield\"","body":"<p>I am trying to set up a system to generate a set of \"configurations\".\nThese configurations are simple key/value pairs stored in a python dict.</p>\n\n<p>These configurations are the result of transforming the dict with a sequence of function, this is what i call a workflow.</p>\n\n<p>Here is a simple example of what I ended up with:</p>\n\n<pre><code>global_data = [dict()]\n\ndef workflow_step1(data):\n    results = []\n    for i in range(1,4):\n        data['key'] = i\n        results.append(copy.deepcopy(data))\n    return results\n\ndef workflow_step2(data):\n    results = []\n    for i in range(1,3):\n        data['otherkey'] = i\n        results.append(copy.deepcopy(data))\n    return results\n\ndef workflow_step3(data):\n    data['yetanotherkey'] = 42\n    return [copy.deepcopy(data)]\n\ndef list_workflow():\n    return [workflow_step1, workflow_step2, workflow_step3]\n\ndef merge(lhs,rhs):\n    return lhs+rhs\n\ndef run(data):\n    for step in list_workflow():\n        data = reduce(lambda lhs, rhs: lhs+rhs, [step(d) for d in data])\n    return data\n\nprint run(global_data)\n</code></pre>\n\n<p>This works kind of well, i get:</p>\n\n<pre><code>[{'yetanotherkey': 42, 'otherkey': 1, 'key': 1},\n {'yetanotherkey': 42, 'otherkey': 2, 'key': 1},\n {'yetanotherkey': 42, 'otherkey': 1, 'key': 2},\n {'yetanotherkey': 42, 'otherkey': 2, 'key': 2},\n {'yetanotherkey': 42, 'otherkey': 1, 'key': 3},\n {'yetanotherkey': 42, 'otherkey': 2, 'key': 3}]\n</code></pre>\n\n<p>As you can see, the goal is to obtain all possible combinations of the dict. Each step of the workflow returns a set of possible combinations, that should create a new branch of possibilities for the upcoming steps.</p>\n\n<p>The problem that I am facing, is that the users are now creating more and more workflow steps, thus leading to a combinatorial explosion.</p>\n\n<p>The problem in my naive design, is that i generate the whole tree of all posibilities at once.</p>\n\n<p>I was hoping to resolve this using <code>yield</code> and generators, to generate one possibility at a time, and thus not store everything at the same time.</p>\n\n<p>I was of course able to rewrite the workflow step using yield:</p>\n\n<pre><code>def workflow_step1(data):\n    for i in range(1,4):\n        data['key'] = i\n        yield copy.deepcopy(data)\n\ndef workflow_step2(data):\n    for i in range(1,3):\n    data['otherkey'] = i\n        yield copy.deepcopy(data)\n\ndef workflow_step3(data):\n    data['yetanotherkey'] = 42\n    yield copy.deepcopy(data)\n\ndef list_workflow():\n    yield workflow_step1\n    yield workflow_step2\n    yield workflow_step3\n</code></pre>\n\n<p>But I just can't make my brain to think of the way to rewrite the <code>run</code> function to process each step sequentially. I get lost in a brainmaze of yields and generators.</p>\n\n<p>Any ideas are more that welcome!</p>\n"},{"tags":["python","numpy","linear-algebra"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13249108,"title":"Efficient & pythonic check for singular matrix","body":"<p>Working on some matrix algebra here.  Sometimes I need to invert a matrix that may be singular or ill-conditioned.  I understand it is pythonic to simply do this:</p>\n\n<pre><code>try:\n    i = linalg.inv(x)\ncatch LinAlgErr as err:\n    #handle it\n</code></pre>\n\n<p>but am not sure how efficient that is.  Wouldn't this be better?</p>\n\n<pre><code>if linalg.cond(x) &lt; 1/sys.float_info.epsilon:\n    i = linalg.inv(x)\nelse:\n    #handle it\n</code></pre>\n\n<p>Does numpy.linalg simply perform up front the test I proscribed?</p>\n"},{"tags":["python","hash","dictionary"],"answer_count":3,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":3519,"score":9,"question_id":5884066,"title":"Hashing a python dictionary","body":"<p>For caching purposes I need to generate a cache key from GET arguments which are present in a dict.</p>\n\n<p>Currently I'm using <code>sha1(repr(sorted(my_dict.items())))</code> (<code>sha1()</code> is a convenience method that uses hashlib internally) but I'm curious if there's a better way.</p>\n"},{"tags":["python","variables","global-variables"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13269542,"title":"Does 'global' make a variable global just within class or throughout the whole script?","body":"<p>Given the following in the same script:</p>\n\n<pre><code>class ClassA:\n    def GetExpBidBrice():\n        global x\n        x ='abc'\n\n    def GetExpAskPrice():\n        y = x + 'zyz'\n\nclass ClassB:\n    def GetExpBidBrice():\n        x = 123\n\n    def GetExpAskPrice():\n        y = x + 'zyz'\n</code></pre>\n\n<p>Does the <code>global</code> in <code>ClassA.GetExpBidPrice()</code> make <code>x</code> global just to the other method in <code>ClassA</code>? Or does it make it global right across the board i.e. in <code>ClassB</code> or any other class that uses a variable called <code>x</code>?</p>\n"},{"tags":["python","driver","arduino","maya","umdf"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":11012544,"title":"Can a device have two UMDF Drivers?","body":"<p>This may seem like a bit of an odd question, but I was wondering if it is possible to associate two drivers with a peripheral device? </p>\n\n<p>The reason I ask is that I am building an input device for <a href=\"http://en.wikipedia.org/wiki/Autodesk_Maya\" rel=\"nofollow\">Maya</a> using an Arduino microcontroller. The Arduino already has its own device driver, but I was thinking of developing a <a href=\"http://en.wikipedia.org/wiki/Windows_User_Mode_Driver_Framework\" rel=\"nofollow\">UMDF</a> driver to take the data that comes in from Arduino over the serial port and pre-process it ready to go into Maya. </p>\n\n<p>Right now, I have two Python programs running - a 32-bit Python program running outside of Maya which listens to the serial port and converts the data to a form which a second 64-bit program inside the 64-bit version of Maya can understand and use in the Maya scene. This works fine, but it is a bit annoying having to start that external server program every time I want to use this device in Maya. If I can have a UMDF driver ready to jump into action when the appropriate type of data comes in off the Arduino then this would help immensely. Will this approach work? </p>\n"},{"tags":["python","pyqt4","flags","overlap","borderless"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":460,"score":0,"question_id":5829585,"title":"PyQt4: how to make undercorated window with reserved space","body":"<p>I'd like to make a panel-like application using PyQt4 for Linux. for this i need the window i created:</p>\n\n<ul>\n<li>to be undecorated</li>\n<li>to have reserved space</li>\n<li>to appear on all workspaces</li>\n</ul>\n\n<p>From reading <a href=\"http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qwidget.html#details\" rel=\"nofollow\">the documentation</a> i've got the idea that i should use QtWindowFlags. But i have no clue as to how to do that. Also i believe there should be a Qt.WindowType hint somewhere telling the WM the window's a \"dock\" application. I have made this with pygtk following <a href=\"http://stackoverflow.com/questions/3859045/preventing-window-overlap-in-gtk\">this thread</a>, but here with Qt i don't really know how to handle this. (I need Qt for its ability to theme/skin application more easily.)</p>\n\n<p>Below is the current code i made (nothing extraordinary).</p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui\n\nclass Panel(QtGui.QWidget):\ndef __init__(self, parent=None): ## should the QtWindowFlag be here?\n    QtGui.QWidget.__init__(self, parent) ## should the QtWindowFlag be there as well?\n\n    self.setWindowTitle('QtPanel')\n    self.resize(QtGui.QDesktopWidget().screenGeometry().width(), 25)\n    self.move(0,0)\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    panel = Panel()\n    panel.show()\n    sys.exit(app.exec_())\n    return 0\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Can anyone help me with this? Thanks :)</p>\n"},{"tags":["python","c","sockets","pipes"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13269436,"title":"Socket communcation between C and Python","body":"<p>I just tried a really simple example to get started with sockets to communicate between a C app and Python. Here is the very simple Python script:</p>\n\n<pre><code>import socket\n\ns = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)\ns.connect(\"/tmp/demo_socket\")\nprint \"Sending...\"\ns.send(\"Hello C from Python!\")\ndata = s.recv(1024)\ns.close()\nprint 'Received', repr(data)\n</code></pre>\n\n<p>And here the corresponding C code, without the headers:</p>\n\n<pre><code>int main(void)\n{  \n  struct sockaddr_un address;\n  int socket_fd, connection_fd;\n  socklen_t address_length;\n  pid_t child;  \n\n  char buffer[256];\n  int n;\n\n  socket_fd = socket(AF_UNIX, SOCK_STREAM, 0);\n  if (socket_fd &lt; 0){\n      printf(\"socket() failed\\n\");\n      return 1;\n  } \n\n  unlink(\"/tmp/demo_socket\");\n  memset(&amp;address, 0, sizeof(struct sockaddr_un));\n\n  address.sun_family = AF_UNIX;\n  snprintf(address.sun_path, UNIX_PATH_MAX, \"/tmp/demo_socket\");\n\n  if (bind(socket_fd, (struct sockaddr *) &amp;address, sizeof(struct sockaddr_un)) != 0) {\n      printf(\"bind() failed\\n\");\n      return 1;\n  }\n  if(listen(socket_fd, 5) != 0) {\n      printf(\"listen() failed\\n\");\n      return 1;\n  }\n\n  address_length = sizeof(address);  \n  while((connection_fd = accept(socket_fd, \n                   (struct sockaddr *) &amp;address,\n                   &amp;address_length)) &gt; -1)\n  {\n      printf(\"successfully received data\\n\");\n      bzero(buffer,256);\n      n = read(connection_fd,buffer,255);\n      if (n &lt; 0) error(\"ERROR reading from socket\");\n         printf(\"Here is the message: %s\\n\\n\", buffer);\n      strcpy(buffer, \"Hi back from the C world\"); \n      n = write(connection_fd, buffer, strlen(buffer));\n      if (n &lt; 0) \n         printf(\"ERROR writing to socket\\n\");           \n      break;      \n  }\n  close(socket_fd);\n  close(socket_fd);\n  return(0);\n}\n</code></pre>\n\n<p>The output is then as follows when running them in parallel:</p>\n\n<pre><code> Successfully received data\n Here is the message: Hello C from Python!\n\n ERROR writing to socket\n close failed in file object destructor:\n Error in sys.excepthook:\n\n Original exception was:\n</code></pre>\n\n<p>So the good news is, receiving stuff from the Python world works fine, but I get an error when trying to write something back, plus it seems I get an exception in the end. Anyone an idea what I am doing wrong here?</p>\n\n<p>EDIT: Thanks guys, I did the correction that you suggested, the message exchange works fine, just the C-application is still causing trouble and I am not sure why...</p>\n\n<pre><code>close failed in file object destructor:\nError in sys.excepthook:\n\nOriginal exception was:\n</code></pre>\n"}]}
{"total":142318,"page":7,"pagesize":100,"questions":[{"tags":["python","json"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":48,"score":3,"question_id":13256963,"title":"Prevent JSON serialization from throwing an exception in Python","body":"<p><strong>What is a good way to prevent the python's <code>json</code> library from throwing an exception when it encounters objects that it does not know how to serialize?</strong></p>\n\n<p>We are using <code>json</code> to serialize dict objects, sometimes properties of the objects are not recognized by the <code>json</code> library, causing it to throw an exception. Instead of throwing an exception, it would be nice if it just skipped over that property of the dict instead. It could set the property value to \"None\" or even a message: \"Cannot serialize\".</p>\n\n<p>Right now, the only way I know how to do this is to explicitly identify and skip over each data type that <code>json</code> might encounter that will make it throw an exception. As you can see, I have it turning <code>datetime</code> objects into strings, but also skipping over some geo-point objects from the <code>shapely</code> library:</p>\n\n<pre><code>import json\nimport datetime\nfrom shapely.geometry.polygon import Polygon\nfrom shapely.geometry.point import Point\nfrom shapely.geometry.linestring import LineString\n\n# This sublcass of json.JSONEncoder takes objects from the\n# business layer of the application and encodes them properly\n# in JSON.\nclass Custom_JSONEncoder(json.JSONEncoder):\n\n    # Override the default method of the JSONEncoder class to:\n    # - format datetimes using strftime('%Y-%m-%d %I:%M%p')\n    # - de-Pickle any Pickled objects\n    # - or just forward this call to the superclass if it is not\n    #   a special case object\n    def default(self, object, **kwargs):\n        if isinstance(object, datetime.datetime):\n            # Use the appropriate format for datetime\n            return object.strftime('%Y-%m-%d %I:%M%p')\n        elif isinstance(object, Polygon):\n            return {}\n        elif isinstance(object, Point):\n            return {}\n        elif isinstance(object, Point):\n            return {}\n        elif isinstance(object, LineString):\n            return {}\n\n        return super(Custom_JSONEncoder, self).default(object)\n</code></pre>\n"},{"tags":["python","django"],"answer_count":4,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1128,"score":8,"question_id":1912351,"title":"Django: Where to put helper functions?","body":"<p>I have a couple of functions that i wrote that I need to use in my django app. Where would I put the file with them and how would i make them callable whithin my views?</p>\n"},{"tags":["python","scrapy","crawl","grab"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13270324,"title":"Does scrapy follow links which we've already been to?","body":"<p>Subj. We wrote a crawling spider, and it works fine with some of sites, but on site with lots of links it is working for a significantly long time. So, the question is in topic - does scrapy follow links which it've already been to?</p>\n\n<p>I digged through the docs but didn't find any answer or clue =(</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13269997,"title":"SQLAlchemy does not find database on Windows","body":"<p>I developed a python  application on Linux and now I am working on the porting it to Windows. I use SQLAlchemy to connect to the database. On Linux everything is OK, but on windows I get this error:</p>\n\n<pre><code>OperationalError: (OperationalError) (1049, \"Unknown database 'parafamacie'\") None None\n</code></pre>\n\n<p>This is the code where I try to connect to the database:</p>\n\n<pre><code>    url = URL(drivername=db.getRDBMS(), username='metmi', password='metmi', host=db.getHost(),port=str(db.getPort()), database=db.getCensimento())\n    engine = create_engine(url,convert_unicode=True,encoding='latin1')\n    Session = sessionmaker(bind=engine)\n    self.session=Session()\n</code></pre>\n\n<p>I get the error only when I try to use the database:</p>\n\n<pre><code>for q in self.session.query(tc_clpar):\n        l[q.tc_clpar_id]=self.getQuestionById(q.tc_clpar_id)\n</code></pre>\n\n<p>On Windows and Linux I use the same code, so I do not know why I got two different behaviours.</p>\n\n<p>I need the help of some body more experienced, is it bug in SQLalchemy on Windows? I do not think so, is it a problem of configuration?</p>\n"},{"tags":["python","class"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":3,"view_count":65,"score":-1,"question_id":13270048,"title":"How to add elements from one class to another class list, python","body":"<pre><code>class lista(object):\n    listanumere=[]\n    def printer(self):\n        print self.listanumere\n    def adds(self,numar):\n        self.listanumere.append(numar)\n\nclass movies():\n    def __init__(self,ide,nume):\n        self.__nume=nume\n        self.__ide=ide\n\nlistarez=lista\na=movies(1,\"David\")\nlista.adds(a)\nlista.printer()\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>TypeError: unbound method adds() must be called with lista instance as first argument (got movies instance instead)  \n</code></pre>\n\n<p>So my question is: How to make a class which contains a list of elements defined in another class, for example a class which contains the list of movies and some methods which modify the list for example add a new movie or remove a movie with a certain ID?</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13269890,"title":"cartesian product in pandas","body":"<p>I have two pandas dataframes:</p>\n\n<pre><code>from pandas import DataFrame\ndf1 = DataFrame({'col1':[1,2],'col2':[3,4]})\ndf2 = DataFrame({'col3':[5,6]})     \n</code></pre>\n\n<p>What is the best practice to get their cartesian product (of course without writing it explicitly like me)?</p>\n\n<pre><code>#df1, df2 cartesian product\ndf_cartesian = DataFrame({'col1':[1,2,1,2],'col2':[3,4,3,4],'col3':[5,5,6,6]})\n</code></pre>\n"},{"tags":["python","apache","apache2","web-security","code-access-security"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":69,"score":-6,"question_id":13269451,"title":"Protecting Python Code","body":"<p>i have a doubt about protection of Python Code. I'm not meaning just \"Obfuscation\", so, i've read a lot of topics about this subject, and i choose to put my application behind a web interface. So, it's done.</p>\n\n<p>I execute my code trough a CGI script behind a Web interface, so, i don't need to send my .py file anymore.</p>\n\n<p>But, i still have some concerns about protection and license.</p>\n\n<ol>\n<li><p>Is there some well known manual where i can find information about Apache and how protect my home directory against \"undesirable downloads\"??</p></li>\n<li><p>I'm using linux, is there some other good tip to protect my script, besides the fact that it's already being behind a web interface?</p></li>\n<li><p>Talking about License, the use of Python language guarantee me some protection or way to license my code??</p></li>\n</ol>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1200,"score":2,"question_id":2010413,"title":"where is the 'itertools' file","body":"<pre><code>import itertools\nprint itertools#ok\n</code></pre>\n\n<p>the code is ok</p>\n\n<p>but i can't find the itertools file.</p>\n\n<p>who can tell me where is the 'itertools file'</p>\n\n<hr>\n\n<p>my code is run python2.5</p>\n\n<pre><code>import itertools\nprint itertools.__file__\n\n\nTraceback (most recent call last):\n  File \"D:\\zjm_code\\mysite\\zjmbooks\\a.py\", line 5, in &lt;module&gt;\n    print itertools.__file__\nAttributeError: 'module' object has no attribute '__file__'\n</code></pre>\n"},{"tags":["python","multiprocessing","celery","gevent","monkeypatching"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13194064,"title":"Using Celery on processes and gevent in tasks at the same time","body":"<p>I'd like to use Celery as a queue for my tasks so my web app could enqueue a task, return a response and the task will be processed meanwhile / someday / ... I build a kind of API, so I don't know what sort of tasks will be there in advance - in future, there can be tasks dealing with HTTP requests, another IO, but also CPU-consuming tasks. In respect to that, I'd like to run Celery's workers on processes, as these are universal kind of parallelism in Python.</p>\n\n<p>However, I'd like to use gevent in my tasks too, so I could have a single task spawning many HTTP requests, etc. The problem is, when I do this:</p>\n\n<pre><code>from gevent import monkey\nmonkey.patch_all()\n</code></pre>\n\n<p>Celery stops to work. It starts, but no tasks can be effectively enqueued - they seem to go to the broker, but Celery worker doesn't collect them and process them. Only starts and waits. If I delete those lines and perform the task without any gevent and parallelization, everything works.</p>\n\n<p>I think it could be because gevent patches also threading. So I tried </p>\n\n<pre><code>from gevent import monkey\nmonkey.patch_all(thread=False)\n</code></pre>\n\n<p>...but then Celery doesn't even start, it crashes without giving a reason (debug level of logging turned on).</p>\n\n<p><strong>Is it possible to use Celery for enqueuing tasks and gevent for doing some stuff inside a single task? How? What do I do wrong?</strong></p>\n"},{"tags":["c++","python","swig"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13269393,"title":"How to enumerate enum members using SWIG","body":"<p>Can I expose a C++ <code>enum</code> to SWIG as a real entity rather than a set of constants so I can enumerate over them in python code?</p>\n"},{"tags":["python","unicode"],"answer_count":11,"favorite_count":10,"up_vote_count":21,"down_vote_count":0,"view_count":21691,"score":21,"question_id":1342000,"title":"How to replace non ascii characters in string?","body":"<p>I have a string that looks like so:</p>\n\n<pre><code>6Â 918Â 417Â 712\n</code></pre>\n\n<p>The clear cut way to trim this string (as I understand Python) is simply to</p>\n\n<p>say the string is in a variable called s, we get:</p>\n\n<pre><code>s.replace('Â ', '')\n</code></pre>\n\n<p>That should do the trick. But of course it complains that the Non-ASCII character <code>'\\xc2'</code> in file <code>blabla.py</code> is not encoded.</p>\n\n<p>I never quite could understand how to switch between different encodings.</p>\n\n<p>Appreciate some help.</p>\n\n<p>EDIT:</p>\n\n<p>Here's the code, it really is just the same as above, but now it's in context.</p>\n\n<p>The file is saved as UTF-8 in notepad.\nThe file has the following header:</p>\n\n<pre><code>#!/usr/bin/python2.4\n# -*- coding: utf-8 -*-\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>f = urllib.urlopen(url)\n\nsoup = BeautifulSoup(f)\n\ns = soup.find('div', {'id':'main_count'})\n\n#making a print 's' here goes well. it shows 6Â 918Â 417Â 712\n\ns.replace('Â ','')\n\nsave_main_count(s)\n</code></pre>\n\n<p><hr /></p>\n\n<p>it gets no further than s.replace...</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":59,"score":-5,"question_id":13268466,"title":"Python (conventional CPython) is supported on what Operating Systems?","body":"<p>The <a href=\"http://www.python.org/about/\" rel=\"nofollow\">documentation page</a> of the official python site says:</p>\n\n<blockquote>\n  <p><strong>Python runs everywhere</strong></p>\n  \n  <p>Python is available for all major operating systems: Windows, Linux/Unix, OS/2, Mac, Amiga, among others. There are even versions that run on .NET and the Java virtual machine. You'll be pleased to know that the same source code will run unchanged across all implementations.</p>\n</blockquote>\n\n<p>However, it does not mention the flavors of OS supported (like Windows 7 Ultimate), the exact versions (like SUSE Linux Enterprise Desktop 10.0 SP3), and the service pack releases if any.</p>\n\n<p>Is there a site where this information is published? Ideally should have been part of www.python.org</p>\n"},{"tags":["python","parallel-python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13255315,"title":"Parallel Python - RuntimeError: Communication pipe read error","body":"<p>I'm using parallel python to run multiple dynamic simulations using a module called OrcFxAPI. The program works perfectly if it is run as a python program on my machine however if I convert it to an exe file using py2exe and then run I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n    File \"Analysis.pyc\", Line 500, in multiprocessor\n    File \"pp.pyc\", Line 342, in __init__\n    File \"pp.pyc\", Line 506, in set_ncpus\n    File \"pp.pyc\", Line 140, in __init__\n    File \"pp.pyc\", Line 152, in start\n    File \"pptransport.pyc\", Line 140, in receive\nRuntimeError: Communication pipe read error\n</code></pre>\n\n<p>It is failing at this line in my program:</p>\n\n<pre><code>job_server = pp.Server(ppservers=ppservers)\n</code></pre>\n\n<p>but I think it might be something to do with the path used to import the OrcFxAPI module when submitting the job:</p>\n\n<pre><code>job = job_server.submit(max_seastate, (gui_vars, case_list, case, line_info, output_vars), (), (\"OrcFxAPI\",), callback=finished, callbackargs=(case_no, no_of_cases,))\n</code></pre>\n"},{"tags":["python","video","opencv","avi"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13268740,"title":"Python OpenCV, can't write a video (.avi) to file","body":"<p>I'm writing a programme in Windows XP using Python and OpenCV that adds image frames captured from a webcam to a video (.avi), but only when a certain condition is met. For testing purposes this condition is time based, but this will change. The only problem is, my programme does not output anything. Everything seems to run fine, but then when I check for the .avi file that it should be outputting, there is nothing.</p>\n\n<p>Here's my code. I've been told my style is a little unconventional, but hopefully you can see what I'm up to. Thank you in advance.</p>\n\n<pre><code>import cv, time ##Import modules\ncv.NamedWindow(\"Experiment\", cv.CV_WINDOW_AUTOSIZE)                         ##Open window\ncamera_index = 1\ncapture = cv.CaptureFromCAM(camera_index)\nx = time.clock()+5\n\ntry:\n    while 1:\n        if time.clock() &lt; x:                                                ##Clock to capture 5 seconds of footage\n            frame = cv.QueryFrame(capture)                                  ##Capture webcam frame\n            cv.ShowImage(\"Experiment\", frame)                               ##Display image\n            writer = cv.CreateVideoWriter(\"C:\\/test.avi\", cv.CV_FOURCC('F', 'M', 'P', '4'),\n                                          24, (640, 480), 1)                ##Write video file (codec = MPEG-4 - .avi)\n            if writer:                                                      ##Write frame to file\n                cv.WriteFrame(writer, frame)\n            if not writer:                                                  ##Failure to register video writer\n                print \"Error: Video writer malfunction\"\n                sys.exit(1)\n                cv.DestroyWindow(\"Experiment\")\n                break\n        else:\n            if writer:\n                print \"Video capture succeeded\"\n                cv.DestroyWindow(\"Experiment\")\n                camera_index += 1\n                capture = cv.CaptureFromCAM(-1)\n                break\n        c = cv.WaitKey(10)\n        if(c==\"n\"):\n            camera_index += 1\n            capture = cv.CaptureFromCAM(-1)\nexcept:\n    print \"Video capture failed\"                                            ##Total systems failure escape routine!!!\n    cv.DestroyWindow(\"Experiment\")\n</code></pre>\n\n<p>--Edit--</p>\n\n<p>If I change <code>cv.CV_FOURCC('F', 'M', 'P', '4')</code> in line 12 to \"-1\" a video is output, but it is 0 bytes.</p>\n"},{"tags":["javascript","python","variables"],"answer_count":2,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":1157,"score":2,"question_id":3690116,"title":"Parse JavaScript variable with Python","body":"<p>How can I convert a JavaScript variable (not JSON format) into a python variable?</p>\n\n<p>Example JavaScript variable:</p>\n\n<pre><code>{\n    title: \"TITLE\",\n    name: \"NAME\",\n    active: false,\n    info: {\n        key1: \"value1\",\n        dict1: {\n            sub_key1: \"sub_value1\",\n            sub_key2: \"sub_value2\",\n        },\n        dict2: {\n            sub_key3: \"sub_value3\",\n            sub_key4: \"sub_value4\",\n            sub_key5: \"sub_value5\"\n        },\n    },\n    list1: [\"element1\", \"element2\", \"element2\"],\n}\n</code></pre>\n"},{"tags":["javascript","python"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1684,"score":2,"question_id":2894946,"title":"Passing JavaScript variable to Python","body":"<p>For example:</p>\n\n<pre><code>#!/usr/bin/python\nprint \"This is python.\"\n\nprint \"&lt;script type=\"text/javascript\"&gt;\n          var pass_to_python = new Number(7)\n       &lt;/script&gt;\"\n\nthe_number = pass_to_python???\n</code></pre>\n\n<p>How do I get the pass_to_python in python?</p>\n"},{"tags":["c++","python","dll"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":56,"score":4,"question_id":13265046,"title":"could not load c++ DLL in python","body":"<p>I am trying to use a c++ dll in python but I cant even load it. I am trying the following python code to load it:</p>\n\n<blockquote>\n  <p>from ctypes import cdll</p>\n  \n  <p>mydll = cdll.LoadLibrary('SORT_DLL.dll')</p>\n</blockquote>\n\n<p>But when i try to run this i get:</p>\n\n<blockquote>\n  <p>D:...\\src\\SORT_DLL\\Debug>UseDll.py</p>\n  \n  <p>Traceback (most recent call last):</p>\n  \n  <p>File \"D:...\\src\\SORT_DLL\\Debug\\UseDll.py\", line 2, in</p>\n  \n  <p></p>\n  \n  <p>mydll = cdll.LoadLibrary('SORT_DLL.dll')</p>\n  \n  <p>File \"C:\\Python27\\lib\\ctypes__init__.py\", line 443, in LoadLibrary</p>\n  \n  <p>return self._dlltype(name)</p>\n  \n  <p>File \"C:\\Python27\\lib\\ctypes__init__.py\", line 365, in <strong>init</strong></p>\n  \n  <p>self._handle = _dlopen(self._name, mode)</p>\n  \n  <p>WindowsError: [Error 193] %1 ist keine zulõssige Win32-Anwendung</p>\n</blockquote>\n\n<p>The last sentence means \"%1 is not a valid Win32 application\" in english.</p>\n\n<p>I already looked it up at <a href=\"http://docs.python.org/2/library/ctypes.html#module-ctypes\" rel=\"nofollow\">http://docs.python.org/2/library/ctypes.html#module-ctypes</a> , but this didnt lead to a solution for my problem.</p>\n"},{"tags":["python","django"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1322,"score":3,"question_id":1949248,"title":"How to add clickable links to a field in Django admin?","body":"<p>I have this admin.py</p>\n\n<pre><code>class LawyerAdmin(admin.ModelAdmin):\n    fieldsets = [\n        ('Name',   {'fields': ['last', 'first', 'firm_name', 'firm_url', 'school', 'year_graduated']}),\n    ]\n    list_display = ('last', 'first', 'school', 'year_graduated', 'firm_name', 'firm_url')\n    list_filter = ['school', 'year_graduated']\n    search_fields = ['last', 'school', 'firm_name']\n</code></pre>\n\n<p>and I want to make \"firm_url\" fields clickable with each of the url listed in the field. How can I do this? Thank you.</p>\n"},{"tags":["java","python","osx","mercurial"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":40,"score":-4,"question_id":13268637,"title":"Error while running hg command from java","body":"<p>When I run a hg command in MAC os, from commandline it runs successfully, but when the same command is run from my java file, it throws some library error.</p>\n\n<p>The command is :\n/usr/local/bin/hg showconfig ui.username</p>\n\n<p>I am getting the following exception : </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/usr/local/bin/hg\", line 38, in &lt;module&gt;\nmercurial.dispatch.run()\nFile \"/Library/Python/2.7/site-packages/mercurial/dispatch.py\", line 28, in run\nsys.exit((dispatch(request(sys.argv[1:])) or 0) &amp; 255)\nFile \"/Library/Python/2.7/site-packages/mercurial/dispatch.py\", line 41, in dispatch\nreq.ui = uimod.ui()\nFile \"/Library/Python/2.7/site-packages/mercurial/ui.py\", line 45, in __init__\nfor f in scmutil.rcpath():\nFile \"/Library/Python/2.7/site-packages/mercurial/scmutil.py\", line 464, in rcpath\n_rcpath = osrcpath()\nFile \"/Library/Python/2.7/site-packages/mercurial/scmutil.py\", line 436, in osrcpath\n  path = systemrcpath()\nFile \"/Library/Python/2.7/site-packages/mercurial/scmutil.py\", line 489, in systemrcpath\npath.extend(rcfiles(os.path.join(p, root)))\nFile \"/Library/Python/2.7/site-packages/mercurial/scmutil.py\", line 474, in rcfiles\nfor f, kind in osutil.listdir(rcdir)\nFile \"/Library/Python/2.7/site-packages/mercurial/demandimport.py\", line 86, in                                   \n __getattribute__\nself._load()\nFile \"/Library/Python/2.7/site-packages/mercurial/demandimport.py\", line 58, in _load\nmod = _origimport(head, globals, locals)\nImportError: dlopen(/Library/Python/2.7/site-packages/mercurial/osutil.so, 2): Library not      \nloaded:    \n\n /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib\n  Referenced from:       \n      /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework      /Versions/A/ImageIO\n   Reason: Incompatible library version: ImageIO requires version 1.0.0 or later, but      \n   libJPEG.dylib provides version 0.0.0\n</code></pre>\n"},{"tags":["python","parsing","machine-learning","classification","scikit-learn"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13181409,"title":"How can i get top discriminative terms out of TD-idf vectors , for each files in scikit-learn?","body":"<p>I am trying to get top discrimintive terms out of vectors in scikit-learn.\nFrom example It can be done using this for each Categories but i want it for each files inside categories.</p>\n\n<p><a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/examples/document_classification_20newsgroups.py\" rel=\"nofollow\">https://github.com/scikit-learn/scikit-learn/blob/master/examples/document_classification_20newsgroups.py</a></p>\n\n<pre><code>    if opts.print_top10:\n        print \"top 10 keywords per class:\"\n        for i, category in enumerate(categories):\n            top10 = np.argsort(clf.coef_[i])[-10:]\n            print trim(\"%s: %s\" % (\n            category, \" \".join(feature_names[top10])))\n</code></pre>\n\n<p>I want to do this for each files from testing dataset instead of each categories.\nWhere should i be looking?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","idioms","python-2.4"],"answer_count":14,"favorite_count":7,"up_vote_count":25,"down_vote_count":0,"view_count":11894,"score":25,"question_id":363944,"title":"Python idiom to return first item or None","body":"<p>I'm sure there's a simpler way of doing this that's just not occurring to me.</p>\n\n<p>I'm calling a bunch of methods that return a list.  The list may be empty.  If the list is non-empty, I want to return the first item; otherwise, I want to return None.  This code works:</p>\n\n<pre><code>list = get_list()\nif len(list) &gt; 0: return list[0]\nreturn None\n</code></pre>\n\n<p>It seems to me that there should be a simple one-line idiom for doing this, but for the life of me I can't think of it.  Is there?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The reason that I'm looking for a one-line expression here is not that I like incredibly terse code, but because I'm having to write a lot of code like this:</p>\n\n<pre><code>x = get_first_list()\nif x:\n    # do something with x[0]\n    # inevitably forget the [0] part, and have a bug to fix\ny = get_second_list()\nif y:\n    # do something with y[0]\n    # inevitably forget the [0] part AGAIN, and have another bug to fix\n</code></pre>\n\n<p>What I'd like to be doing can certainly be accomplished with a function (and probably will be):</p>\n\n<pre><code>def first_item(list_or_none):\n    if list_or_none: return list_or_none[0]\n\nx = first_item(get_first_list())\nif x:\n    # do something with x\ny = first_item(get_second_list())\nif y:\n    # do something with y\n</code></pre>\n\n<p>I posted the question because I'm frequently surprised by what simple expressions in Python can do, and I thought that writing a function was a silly thing to do if there was a simple expression could do the trick.  But seeing these answers, it seems like a function <em>is</em> the simple solution.</p>\n"},{"tags":["python","html","regex","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13268365,"title":"Extracting Data from anchor tags using regex in python","body":"<p>I'm trying to extract the hyperlinks from a webpage using <a href=\"http://docs.python.org/2/library/re.html\" rel=\"nofollow\">regex</a> in Python.</p>\n\n<p>suppose my text string is:</p>\n\n<pre><code>text = '&lt;a href=\"/status/ALL\"&gt;ALL&lt;/a&gt;&lt;/td&gt;/n&lt;a href=\"/status/ASSIGN\"&gt;ASSIGN&lt;/a&gt;&lt;/td&gt;'\n</code></pre>\n\n<p>and I want to extract ALL and ASSIGN,\nI'm using this regular expression:</p>\n\n<pre><code>re.findall(r'&lt;a href=.*&gt;(\\w+)&lt;/a&gt;', text, re.DOTALL)\n</code></pre>\n\n<p>this just returns ASSIGN. </p>\n\n<p>Can someone please help me in pointing out the mistake in the regular expression? I'm really new to this topic.</p>\n"},{"tags":["c++","python","performance","list","boost-python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":12929196,"title":"How to speed up Boost::Python::Extract when passing a list from python to a C++ vector","body":"<p>I'm new to boost.python and have made a simple function for passing a list from python to a C++ vector:</p>\n\n<pre><code>void SetXValues(boost::python::list xl){\n    int n = len((xl));\n    xvals.resize(n);\n    for(unsigned int i=0; i&lt;n; i++){\n    xvals[i] = boost::python::extract&lt;double&gt;((xl)[i]);\n    }\n}\n</code></pre>\n\n<p>xvals is an C++ STL vector. This function works and I can load the python list into C++ but it seems extremely slow. </p>\n\n<p>A small speed test I did was to write a binning algorithm in C++ and in pure Python. The results show that the C++ method is only 5x faster when the time to pass the data from Python is included but of course the binning algorithm alone is considerably faster (74x).</p>\n\n<p>So is there any way to improve the function above to make it more efficient? </p>\n"},{"tags":["python","web-crawler","crawl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13268204,"title":"How to crawl various websites to find specific department using Python?","body":"<p>I have a list of university urls like <code>www.harvard.edu, www.berkeley.edu</code>etc.\nI need to find the cse department urls in the respective websites What i initially set out to do was to crawl through links in url given and by specifying depth , say 3 it will follow links and try to find cse or computer or lists of words in the links scraped on that page  matching links along with their anchor text are returned as results into a csv file.\nif no links containing cse or as such words it should return not found or something like that\nidea is to push the csv file later onto a database. How can I do this?</p>\n"},{"tags":["python","capture","pcap","packet-capture","scapy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13266350,"title":"Scapy PcapReader and packets time","body":"<p>I'm reading a PCAP file using Scapy using a script such as the (semplified) following one:</p>\n\n<pre><code>#! /usr/bin/env python\nfrom scapy.all import *\n# ...\nmyreader = PcapReader(myinputfile)\nfor p in myreader:\n    pkt = p.payload\n    print pkt.time\n</code></pre>\n\n<p>In this case the packets time is not relative to PCAP capture time, but starts from the instant I've launched my script.\nI'd like to start from <code>0.0</code> or to be relative to the PCAP capture.</p>\n\n<p>How can I fix it (possibly without \"manually\" retrieving the first packet time and repeatedly using math to fix the problem)?</p>\n"},{"tags":["python","spellchecking","trie"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13263346,"title":"Trie Backtracking in Recursion","body":"<p>I am building a tree for a spell checker with suggestions. Each node contains a key (a letter) and a value (array of letters down that path).</p>\n\n<p>So assume the following sub-trie in my big trie:</p>\n\n<pre><code>                W\n               / \\\n              a   e\n              |   |\n              k   k\n              |   |\n   is word--&gt; e   e\n                  |\n                 ...\n</code></pre>\n\n<p><em>This is just a subpath of a sub-trie. W is a node and a and e are two nodes in its value array etc...</em></p>\n\n<p>At each node, I check if the next letter in the word is a value of the node. I am trying to support mistyped vowels for now. So 'weke' will yield 'wake' as a suggestion. Here's my <code>searchWord</code> function in my trie:</p>\n\n<pre><code>def searchWord(self, word, path=\"\"):\n\n    if len(word) &gt; 0:\n        key = word[0]\n        word = word[1:]\n\n        if self.values.has_key(key):\n            path = path + key\n            nextNode = self.values[key]\n            return nextNode.searchWord(word, path)\n\n        else:\n             # check here if key is a vowel. If it is, check for other vowel substitutes\n\n    else:\n        if self.isWord:\n            return path # this is the word found\n        else:\n            return None\n</code></pre>\n\n<p>Given 'weke', at the end when word is of length zero and path is 'weke', my code will hit the second big else block. <code>weke</code> is not marked as a word and so it will return with None. This will return out of <code>searchWord</code> with None.</p>\n\n<p>To avoid this, at each stack unwind or recursion backtrack, I need to check if a letter is a vowel and if it is, do the checking again.</p>\n\n<p>I changed the <code>if self.values.has_key(key)</code> loop to the following:</p>\n\n<pre><code> if self.values.has_key(key):\n    path = path + key\n    nextNode = self.values[key]\n    ret = nextNode.searchWord(word, path)\n\n    if ret == None:\n        # check if key == vowel and replace path\n        # return nextNode.searchWord(...\n\n    return ret\n</code></pre>\n\n<p>What am I doing wrong here? What can I do when backtracking to achieve what I'm trying to do?</p>\n"},{"tags":["python","html"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13244378,"title":"Python HTML code syntax error","body":"<p>I am getting the following syntax error when trying to add a hyperlink,I looked at the HTML code for href,HTML code seems right but python is throwing a syntax error..can anyone help?</p>\n\n<p>Python code</p>\n\n<pre><code>    msg_body=(\"&lt;HTML&gt;&lt;head&gt;&lt;/head&gt;\"\n          \"&lt;body&gt;Test\"\n          \"&lt;br&gt;Hi All, &lt;br&gt;\"\n          \"&lt;b&gt;Wiki @&lt;a href=\"%s\"&gt;%s&lt;/a&gt; (listed @ go\\link) &lt;br&gt;&lt;br&gt;\"\n          \"&lt;b&gt;Release notes:&lt;/b&gt; %s  &lt;br&gt;&lt;br&gt;\" \n          \"&lt;b&gt;Host/Riva Build Combo:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\" \n          \"&lt;b&gt;Loading instructions:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\"\n          \"&lt;b&gt;CR fixes:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\"\n          \"Thanks,&lt;br&gt;\"\n          \"B team\"\n          \"&lt;/body&gt;&lt;/html&gt;\"\n          ) % (wikiURL,Releasenotes,table,Load_ins,crInfo)\n</code></pre>\n\n<p>Error:-</p>\n\n<pre><code>    \"&lt;b&gt;Wiki @&lt;a href=\"%s\"&gt;%s&lt;/a&gt; (listed @ go\\wbit) &lt;br&gt;&lt;br&gt;\"                                                      ^\n     SyntaxError: invalid syntax\n</code></pre>\n"},{"tags":["python","linux","bash"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13267948,"title":"Linux server list users who can login","body":"<p>I would like either a one liner shell command or a short bash/python script that will list all the users on a Linux server that can login to that machine. so users like www-data and mail would be excluded of course but root would be part of the list.</p>\n\n<p>This code for example works. I <a href=\"https://gist.github.com/1989361\" rel=\"nofollow\">found it here</a>. But I'm looking for something simpler cleaner.</p>\n\n<pre><code>awk -F: '$2 != \"*\" &amp;&amp; $2 !~ /^!/ { print $1, \" can log in\" }' /etc/shadow\n</code></pre>\n"},{"tags":["c++","python","boost-python"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13267912,"title":"From python converter for builtin types","body":"<p>Where does boost python register from python converters for builtin types such as from <code>PyLong_Type</code> to <code>double</code>?</p>\n\n<p>I want to define a converter that can take a <code>numpy.float128</code> from python and returns a <code>long double</code> for functions in C++. I already did it the other way round, the to_python converter. For that I tweaked <code>builtin_converters.hpp</code> but I didn't find how boost python does the from python conversion.</p>\n"},{"tags":["python","list","testing","replace","counter"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13266493,"title":"Return the number of words over min length and Replace ones that arent with word + spaces","body":"<p>For any name whose length is less than the min_length, replace that item of the list with a new string containing the original name with the space(s) added to the right-hand side to achieve the minimum length<br>\nexample: min_length = 5 /// 'dog' after the change = 'dog  '<br>\nand also Return the amount of names that were originally over the min_length in the list</p>\n\n<pre><code>def pad_names(list_of_names, min_length):  \n    '''(list of str, int) -&gt; int  \n    Return the number of names that are longer than the minimum length.  \n    &gt;&gt;&gt; pad_names(list_of_names, 5)  \n        2  \n    '''  \n    new_list = []  \n    counter = 0  \n    for word in list_of_names:      \n        if len(word) &gt; min_length:  \n            counter = counter + 1  \n\n    for word in list_of_names:  \n        if len(word) &lt; min_length:  \n            new_list.append(word.ljust(min_length))  \n        else:  \n            new_list.append(word)  \n     return(counter)  \n</code></pre>\n\n<p>I currently am getting 5 errors on this function:  </p>\n\n<p>all errors are #incorrect return value  </p>\n\n<p>test_02: pad_names_one_name_much_padding_changes_list<br>\nCause: The list is not changed correctly for the case of 1 name needing padding  </p>\n\n<p>test_04: pad_names_one_name_needs_one_pad_changes_list<br>\nCause: one name needs one pad changes list    </p>\n\n<p>test_10: pad_names_all_padded_by_3_changes_list<br>\nCause:all padded by 3 changes list   </p>\n\n<p>test_12: pad_names_all_padded_different_amounts_changes_list<br>\nCause: all padded different amounts changes list   </p>\n\n<p>test_20: pad_names_one_empty_name_list_changed<br>\nCause: one empty name list changed  </p>\n\n<p>This function does not need to be efficient just needs to pass those tests without creating more problems </p>\n"},{"tags":["python","while-loop","raw-input"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":13267107,"title":"Why while loop is sticking at raw_input? (python)","body":"<p>In the following code i am trying to make a \"more\" command (unix) using python script by reading the file into a list and printing 10 lines at a time and then asking user do you want to print next 10 lines (Print More..). \nProblem is that raw_input is asking again and again input if i give 'y' or 'Y' as input and do not continue with the while loop and if i give any other input the while loop brakes.\nMy code may not be best as am learning python.</p>\n\n<pre><code>import sys\nimport string\nlines = open('/Users/abc/testfile.txt').readlines()\nchunk = 10\nstart = 0\n\nwhile 1:\n    block = lines[start:chunk]\n    for i in block:\n        print i\n    if raw_input('Print More..') not in ['y', 'Y']:\n        break\n    start = start + chunk\n</code></pre>\n\n<p>Output i am getting for this code is:-</p>\n\n<pre><code>--\n10 lines from file\n\nPrint More..y\nPrint More..y\nPrint More..y\nPrint More..a\n</code></pre>\n"},{"tags":["python","sqlite","tuples"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13267922,"title":"Why can't a string from a tuple not be inserted as the fieldname in the table update command in SQLlite3 in python?","body":"<p>when i try to use a stringvalue from a tuple as the columnname in my executemany() command, like this:</p>\n\n<pre><code>tup = ('field', 'value',)\n\ncursor.executemany('UPDATE table SET ?=?', tup)\n</code></pre>\n\n<p>i get a SQlite.operationalerror:</p>\n\n<pre><code>   c.executemany('''UPDATE table SET ?=?''', tup)\nsqlite3.OperationalError: near \"?\": syntax error\n</code></pre>\n\n<p>when can't the tuple value not be inserted befor the '=' and only after??</p>\n"},{"tags":["python","unicode","odbc"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":96,"score":3,"question_id":11671653,"title":"pyodbc returns unicode symbols replaced by latin","body":"<p>When connecting to Transbase source using python and pyodbc\n<em>(connection string is correct and work in other application)</em>,\nI saw that symbols</p>\n\n<p><strong>ó, ű, é, á converts to o, u, e, a</strong></p>\n\n<p>But if I connect to same source from MS Access via ODBC these symbols shown correctly.\nAnd if connect from pyodbc to MS Access (link with Transbase source in mdb-file) symbols shown correctly.</p>\n\n<blockquote>\n  <p>Provider=Microsoft.Jet.OLEDB.4.0;Data Source=c:\\1.mdb;Persist Security\n  Info=False</p>\n</blockquote>\n\n<p>CHARSET=uft8 does not help</p>\n\n<p>How I can change connection string or other parameters to get this symbols shown correctly?</p>\n"},{"tags":["python","xcode","osx","path"],"answer_count":6,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6709,"score":3,"question_id":364655,"title":"How do I use my standard python path when running python scripts from xcode macros","body":"<p>I'm trying to run Python scripts using Xcode's User Scripts menu.</p>\n\n<p>The issue I'm having is that my usual os.sys.path (taken from ~/.profile) does not seem to be imported when running scripts from XCode the way it is when running them at the Terminal (or with IPython). All I get is the default path, which means I can't do things like</p>\n\n<pre><code>#!/usr/bin/python\nimport myScript\n\nmyScript.foo()\n</code></pre>\n\n<p>Where myScript is a module in a folder I've added to my path.</p>\n\n<p>I can append a specific path to os.sys.path manually easily enough, but I have to do it in every single script for every single path I want to use modules from</p>\n\n<p>Is there a way to set this up so it uses the same path I use everywhere else?</p>\n\n<p>EDIT: After looking into things a bit more, it seems like scripts executed from Xcode use a completely different PATH than normal. The path I get by running a script in Xcode is:</p>\n\n<pre><code>PATH=/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n\n<p>and I'm sure my regular path doesn't have /Developer/usr/bin in it. Does anybody have any idea where this path is coming from?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":48,"score":-3,"question_id":13266457,"title":"Python module, class and object load time and memory usage","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13202198/python-doesnt-allocate-new-space-for-objects-instantiated-outside-the-construct\">Python doesn’t allocate new space for objects instantiated outside the constructor of a class— expected behavior?</a>  </p>\n</blockquote>\n\n\n\n<p>I am planning to develop two class which is almost similar and thinking (in context of use such classes to build complex architecture):</p>\n\n<ol>\n<li>Which class be loaded faster during module load.</li>\n<li>Which class will take less memory after loading.</li>\n<li>Not care about initialization speed - memory and loading time is more important.</li>\n</ol>\n\n<p>First class:</p>\n\n<pre><code>class ClassWithAttr(object):\n  a = range(100)\n  b = range(10)\n</code></pre>\n\n<p>Second class:</p>\n\n<pre><code>class ClassWithoutAttr(object):\n  def __init__(self):\n    a = range(100)\n    b = range(10)\n</code></pre>\n\n<p>Share some of your experiences to help others.</p>\n"},{"tags":["python","sqlite","sqlite3","tuples"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13267553,"title":"SQLite operational error is raised when trying to use cursor.executemany(string, tuple) in Python","body":"<p>this method should update a table, but i get a operational sql error at the last line:</p>\n\n<pre><code>def update_lookup(table, lookup_table, anon_table, fieldname, anon_field_prefix):\n\n    c.execute('SELECT DISTINCT ' + fieldname + ' FROM ' + table)\n    result = c.fetchall() #gives a list of tuples\n\n    #get a list of random integers in range, as many as there are unique mssi's\n    rnds = random.sample(xrange(10000,80000),len(result))\n\n    #for every name insert the value in the vesselname lookup\n    lst = []\n    lst_rev = []\n    for i,row in enumerate(result):\n        field_value_anon = anon_field_prefix + str(rnds[i]) #create a random mssi number\n        field_value = row[0]\n        lst_rev.append((anon_table, fieldname , field_value_anon, fieldname, field_value)) #needed later on\n        lst.append((field_value, field_value_anon))\n\n\n    c.executemany('INSERT INTO '+ lookup_table +' VALUES (null, ?, ?)', lst)\n\n    #update the anon table col:\n\n    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev) //error is trhown\n</code></pre>\n\n<p>stacktrace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\jgoddijn\\workspace\\DataAnonDMVV\\src\\Main.py\", line 119, in &lt;module&gt;\n    update_lookup('AIS', 'MMSI_lookup', 'AIS_anoniem', 'dad_vesselname', 'AIS_schip')\n  File \"C:\\Users\\jgoddijn\\workspace\\DataAnonDMVV\\src\\Main.py\", line 35, in update_lookup\n    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev)\nsqlite3.OperationalError: near \"?\": syntax error\n</code></pre>\n\n<p>I'm doing something wrong with the tuple insertion but i cannot figure what!</p>\n\n<p>thanks a bunch!</p>\n"},{"tags":["python","dll"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13267808,"title":"Accessing Refprop with python: SETPATHdll error","body":"<p>I try to access the NIST refprop database via python. for this i downloaded the refprop python module from <a href=\"http://www.boulder.nist.gov/div838/theory/refprop/Frequently_asked_questions.htm\" rel=\"nofollow\">http://www.boulder.nist.gov/div838/theory/refprop/Frequently_asked_questions.htm</a></p>\n\n<p>When trying to import the module, I recieve the following error:</p>\n\n<pre><code>&gt;&gt;&gt; import REFPROP\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"C:\\Python33\\lib\\REFPROP.py\", line 6525, in &lt;module&gt;\n   setpath()\nFile \"C:\\Python33\\lib\\REFPROP.py\", line 381, in setpath\n   _setpath(path)\nFile \"C:\\Python33\\lib\\REFPROP.py\", line 421, in _setpath\n   _rp.SETPATHdll(ctypes.byref(_hpth), ctypes.c_long(255))\nFile \"C:\\Python33\\lib\\ctypes\\__init__.py\", line 366, in __getattr__\n   func = self.__getitem__(name)\nFile \"C:\\Python33\\lib\\ctypes\\__init__.py\", line 371, in __getitem__\n   func = self._FuncPtr((name_or_ordinal, self))\nAttributeError: function 'SETPATHdll' not found \n&gt;&gt;&gt;\n</code></pre>\n\n<p>I found out that this SETPATHdll function is not contained in the refprop.dll file. Still, the module is written for this file. Can anybody help?\nThank you .</p>\n"},{"tags":["python","math","python-3.x","operation"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13266732,"title":"Python odd operation?","body":"<p>Can somebody please explain me why the code below behaves like it does? (It's Python in command line on Windows7 x64)</p>\n\n<pre><code>&gt;&gt;&gt;2.22 + 0.22\n2.44000000000000004\n&gt;&gt;&gt;(222+22)/100\n2.44\n</code></pre>\n"},{"tags":["python","emacs","editing"],"answer_count":5,"favorite_count":15,"up_vote_count":22,"down_vote_count":0,"view_count":4683,"score":22,"question_id":362522,"title":"Switching from python-mode.el to python.el","body":"<p>I recently tried switching from using <code>python-mode.el</code> to <code>python.el</code> for editing python files in emacs, found the experience a little alien and unproductive, and scurried back.  I've been using <code>python-mode.el</code> for something like ten years, so perhaps I'm a little set in my ways.  I'd be interested in hearing from anyone who's carefully evaluated the two modes, in particular of the pros and cons they perceive of each and how their work generally interacts with the features specific to <code>python.el</code>.</p>\n\n<p>The two major issues for me with <code>python.el</code> were </p>\n\n<ol>\n<li><p>Each buffer visiting a python file gets its own inferior interactive python shell.  I am used to doing development in one interactive shell and sharing data between python files.  (Might seem like bad practice from a software-engineering perspective, but I'm usually working with huge datasets which take a while to load into memory.)</p></li>\n<li><p>The skeleton-mode support in python.el, which seemed absolutely gratuitous (python's syntax makes such automation unnecessary) and badly designed (for instance, it has no knowledge of \"<code>for</code>\" loop generator expressions or \"<code>&lt;expr 1&gt; if &lt;cond&gt; else &lt;expr 2&gt;</code>\" expressions, so you have to go back and remove the colons it helpfully inserts after insisting that you enter the expression clauses in the minibuffer.)  I couldn't figure out how to turn it off.  There was a <code>python.el</code> variable which claimed to control this, but it didn't seem to work.  It could be that the version of <code>python.el</code> I was using was broken (it came from the debian emacs-snapshot package) so if anyone knows of an up-to-date version of it, I'd like to hear about it.  (I had the same problem with the version in CVS emacs as of approximately two weeks ago.)</p></li>\n</ol>\n"},{"tags":["python","django","file-upload","submit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13266921,"title":"django, normal post form is not sending file data to server,","body":"<p>I'm wondering why this is happening: </p>\n\n<p>I'm sending file data with form in POST, but all the time it says: </p>\n\n<pre><code>Key 'file' not found in &lt;QueryDict:\n{\n u'datum': [u'aaa'],\n u'csrfmiddlewaretoken': [u'USAbRrgU92yj7KFpZHuxf9bWufgnwC4N'], \n u'anzeige': [u' aaaa'], \n u'titel': [u' aaa']\n}\n</code></pre>\n\n<p>This is my html: </p>\n\n<pre><code>&lt;form id=\"myform\" action=\"/anzeige_save/\" method=\"post\" enctype=\"multipart/form-data\"&gt;    \n{% csrf_token %} \n&lt;textarea style=\"width: 450px\" id=\"titel\"  name=\"titel\"&gt; &lt;/textarea&gt;\n&lt;textarea name=\"anzeige\" id=\"anzeige\" \n    style=\"height: 180px; width: 450px\"&gt; &lt;/textarea&gt;  \n&lt;input type=\"text\" id=\"datum\" name=\"datum\" &gt;\n&lt;input type=\"file\" id=\"file\" name=\"file\" size=\"40\" maxlength=\"100000\"&gt;\n&lt;input type=\"button\" value=\"speichern\" \n    onclick=\"javascript:submitform()\" /&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n  function submitform(){\n  document.forms[\"myform\"].submit();\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>and part my view is this: </p>\n\n<pre><code>anzeige=Anzeige(titel=request.POST['titel'], \n                anzeige=end_anzeige, \n                date=datetime.datetime.now(), \n                datum=request.POST['datum'],\n                file=request.FILES['file'])\nanzeige.save()\n</code></pre>\n\n<p>I'm actually submitting correctly, the form should also submit the file in QueryDict like other queries. Can someone help me to figure out what I'm missing here?</p>\n\n<p>Thanks </p>\n"},{"tags":["python","gevent"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":441,"score":3,"question_id":9762420,"title":"How to tail a file with gevent","body":"<p>I have a problem constructing gevent tail function. In general, the code works when I comment gevent.sleep in loop, but then CPU utilization is 100%. When I leave gevent.sleep program works but nothing is happening. \nGevent version is 1.0b1.</p>\n\n<pre><code>import os\nimport gevent\n\ndef follow(filename):\n    fd = os.open(filename, os.O_RDONLY|os.O_NONBLOCK)\n    os.lseek(fd, 0, os.SEEK_END)\n    hub = gevent.get_hub()\n    watcher = hub.loop.io(fd, 1)\n    while True:\n        hub.wait(watcher)\n        lines = os.read(fd, 4096).splitlines()\n        if not lines:\n            #gevent.sleep(.1)\n            continue\n        else:\n            for line in lines:\n                print \"%s:%s\" % (filename, line)\n\n    os.close(fd)\n\nif __name__ == '__main__':\n    job1 = gevent.spawn(follow, '/var/log/syslog')\n    job2 = gevent.spawn(follow, '/var/log/messages')\n\n    gevent.joinall([job1, job2])\n</code></pre>\n"},{"tags":["python","csv","sqlalchemy","elixir"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1031,"score":1,"question_id":2952366,"title":"dump csv from sqlalchemy","body":"<p>For some reason, I want to dump a table from a database (sqlite3) in the form of a csv file. I'm using a python script with elixir (based on sqlalchemy) to modify the database. I was wondering if there is any way to dump the table I use to csv.</p>\n\n<p>I've seen sqlalchemy <a href=\"http://www.sqlalchemy.org/docs/reference/ext/serializer.html\" rel=\"nofollow\">serializer</a> but it doesn't seem to be what I want. Am I doing it wrong? Should I call the <a href=\"http://docs.python.org/library/sqlite3\" rel=\"nofollow\">sqlite3 python module</a> after closing my sqlalchemy session to dump to a file instead? Or should I use something homemade?</p>\n"},{"tags":["python","performance","timer","pypy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13267316,"title":"Python: process average timing, first one/two are much slower","body":"<p>I'm writing some program with sorting algorithms comparsion using Python. I want to measure average sorting time. I have a problem with first measurement.</p>\n\n<p>This:</p>\n\n<pre><code>for i in xrange(self.repeats):\n    # random list generator\n    data_orig = [random.randint(0, self.size - 1) for x in xrange(self.size)]\n\n    sorter = self.class_()\n    data = data_orig[:]\n    debug(\"%s for data size: %d, try #%d\" % (sorter.__class__.__name__, self.size, i+1))\n    t1 = time.clock()\n    sorter.sort(data)\n    t2 = time.clock()\n    debug(\"Took: %0.4fms, shifts: %d, comparisons: %d\" % ((t2-t1)*1000.0, sorter.shifts, sorter.comps))\n</code></pre>\n\n<p><code>class_</code> is a reference to InsertionSort class.\nFor size = 1000 and 5 repeats I get following results:</p>\n\n<pre><code>InsertionSort for data size: 1000, try #1\nTook: 39.5341ms, shifts: 254340, comparisons: 255331\nInsertionSort for data size: 1000, try #2\nTook: 6.0765ms, shifts: 250778, comparisons: 251772\nInsertionSort for data size: 1000, try #3\nTook: 6.9946ms, shifts: 254189, comparisons: 255180\nInsertionSort for data size: 1000, try #4\nTook: 6.7421ms, shifts: 252162, comparisons: 253156\nInsertionSort for data size: 1000, try #5\nTook: 5.9584ms, shifts: 241412, comparisons: 242404\n</code></pre>\n\n<p>For every sorting algorithm and every time I run program first result is bigger than the others. I run it with PyPy (with Python it seems OK, but it's MUCH slower).</p>\n\n<p>I know I can simply ommit first results but this solution doesn't satisfies me :-)</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","control-flow"],"answer_count":13,"favorite_count":7,"up_vote_count":44,"down_vote_count":0,"view_count":27610,"score":44,"question_id":189645,"title":"How to break out of multiple loops in Python?","body":"<p>Given the following code (that doesn't work):</p>\n\n<pre><code>while True:\n    #snip: print out current state\n    while True:\n        ok = get_input(\"Is this ok? (y/n)\")\n        if ok == \"y\" or ok == \"Y\": break 2 #this doesn't work :(\n        if ok == \"n\" or ok == \"N\": break\n    #do more processing with menus and stuff\n</code></pre>\n\n<p>Is there a way to make this work? Or do I have do one check to break out of the input loop, then another, more limited, check in the outside loop to break out all together if the user is satisfied?</p>\n\n<p><strong>Edit-FYI:</strong> get_input is a short function I wrote that supports showing a prompt and default values and all that fanciness and returns <code>stdin.readline().strip()</code></p>\n"},{"tags":["python","py.test"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13259881,"title":"Package-scoped fixtures in pytest 2.3","body":"<p>In the latest release of pytest, it is easy to create fixtures that are function, class, module or session-scoped like this:</p>\n\n<pre><code>@pytest.fixture(scope=\"module\") \ndef db():\n     return DB()\n</code></pre>\n\n<p>That creates a fixture that is going to be called only once for each python module in which it is used.</p>\n\n<p>But what about fixtures that need to be called once per python package ? \n(With nose, it can be done using setUp/tearDown methods in the <code>__init__.py</code> of the package)</p>\n"},{"tags":["python","python-2.7","openerp","accounting"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":13230195,"title":"How to convert in OpenERP from one chart of account to another?","body":"<p>I have installed <em>chart of accounts A</em> for <em>company1</em>. This chart was used couple months for accounting. How can I convert into <em>chart of accounts B</em> and keep old data for accounts (debit, credit, etc.)? In other words, is possible migrate data from one chart of accounts to another? Solution could be programmatically or trough web client interface (not important). Virtual charts of accounts can't be used. <em>Chart of accounts B</em> must became main chart with old data. </p>\n\n<p>Every advice will help me a lot. Thanks</p>\n"},{"tags":["java","python","linux","portalocker"],"answer_count":1,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":57,"score":4,"question_id":13247787,"title":"Java and python processes can exclusive lock the same file on linux","body":"<p>I have a java app and a python launcher for it. The java app locks a file to avoid multiple startups using this code:</p>\n\n<pre><code>java.nio.channels.FileLock lock = lockWrapper.getChannel().tryLock();\nif (lock == null) {\n     logger.info(\"Anotheris already running\");\n}\nlock.release();\nstaticLock = lockWrapper.getChannel().lock();\n</code></pre>\n\n<p>The python launcher tries to lock on the same file with fcntl and it can. Two java processes can't do this and neither two python processes can lock exclusively on the same file. But a java and a python can, in any directions.\nI'm on a xubuntu with openjdk 6 and python2.7 I use portalocker for python.<br/></p>\n\n<pre><code>    lockfile =open(lockfilename, 'w+')\n    portalocker.lock(lockfile, portalocker.LOCK_EX| portalocker.LOCK_NB)\n</code></pre>\n\n<p>Also work fine on win7.</p>\n"},{"tags":["python","software-engineering"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":187,"score":4,"question_id":9187921,"title":"Multiple inheritance in python vs composition","body":"<p>I have a solid understanding of OOP and its idioms in Java. </p>\n\n<p>Now I am coding in python, and I am in a situation where having multiple inheritance may be useful, however (and this may be due to years of java code), i am reluctant to do it and I am considering using composition instead of inheritance in order to avoid potential conflicts with potential equal method names.</p>\n\n<p>Question is, am i being to strict or too java focused regarding this thing. Or using multiple inheritance in python is not only possible but also encouraged.</p>\n\n<p>Thanks for your time :)</p>\n"},{"tags":["python","mkdir"],"answer_count":8,"favorite_count":22,"up_vote_count":124,"down_vote_count":0,"view_count":36202,"score":124,"question_id":600268,"title":"mkdir -p functionality in python","body":"<p>Is there a way to get functionality similar to <code>mkdir -p</code> on the shell... from within python.  I am looking for a solution other than a system call.  I am sure the code is less than 20 lines... really I am wondering if someone has already written it?</p>\n"},{"tags":["python","linux"],"answer_count":2,"favorite_count":3,"up_vote_count":13,"down_vote_count":0,"view_count":1271,"score":13,"question_id":2255444,"title":"changing the process name of a python script","body":"<p>Is there a way to change the name of a process running a python script on Linux?</p>\n\n<p>When I do a <code>ps</code>, all I get are \"python\" process names.</p>\n"},{"tags":["python","client"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13266342,"title":"Python game over client server","body":"<p>Below is the Python code for a simple game i had to create now i am having difficulty seperating the code to play the game over a client and server using sockets. any help would be appreciated</p>\n\n<pre><code>import random\nrannum = random.randrange(0,10,1)\nprint rannum\ncounter = 0\na=0\n\nwhile(a==0):\n    guess = int(raw_input(\"What is your guess?: \"))\n    counter = counter + 1\n\n    diff = abs(guess - rannum)\n    if(diff &gt;5):\n        print \"Way Off!\"\n    elif(diff &gt;2):\n        print \"Close!\"\n    elif (diff&gt;1):\n        print \"Closer!\"\n    elif(diff &gt;0):\n        print \"Even Closer!\"\n\n    elif (diff==0):\n        print \"Correct\"\n        name = str(raw_input(\"What is your name?: \"))\n        print name + \" Your score is: \"\n        print counter\n        f = open('high_scores.txt', 'a')\n        score = str(counter)\n        f.write(name + \" \" + score + \"\\n\")\n        f.close()\n        break\n</code></pre>\n"},{"tags":["python","dump"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13266480,"title":"Running Salome script without graphics","body":"<p>I exported a script from Salome (dump), and I want to run it in python (I'm doing some geometric operation and I don't need any graphics). So I removed all the graphic command, but when I try to launch my python file, python cannot found the salome libraries.</p>\n\n<p>I tried to export the salome path ('install_path'/appli_V6_5_0p1/bin/salome/) in PYTHONPATH and LD_LIBRARY_PATH but it still doesn't work.</p>\n\n<p>I also would like to know if it's possible to use only the geompy library without salome, and if it's possible, how can I install only the geompy library? ( I need to launch some geompy script on a UAV with only 8gb of memory, so the less thing I install, the better)</p>\n"},{"tags":["python","code-analysis","pydev"],"answer_count":7,"favorite_count":14,"up_vote_count":43,"down_vote_count":0,"view_count":17694,"score":43,"question_id":2112715,"title":"How do I fix PyDev \"Undefined variable from import\" errors?","body":"<p>I've got a Python project using PyDev in Eclipse, and PyDev keeps generating false errors for my code.  I have a module <code>settings</code> that defines a <code>settings</code> object.  I import that in module <code>b</code> and assign an attribute with:</p>\n\n<pre><code>from settings import settings\nsettings.main = object()\n</code></pre>\n\n<p>In some of my code--but not all of it, statements like:</p>\n\n<pre><code>from settings import settings\nprint settings.main \n</code></pre>\n\n<p>... generate \"Undefined variable from import: main\" messages in the Eclipse code error pane, even though the code runs without a problem.  How can I correct these?</p>\n"},{"tags":["python","string"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13261109,"title":"Python - string of binary escape sequences as literal","body":"<p>I need to print out a string of binary escape sequences, e.g. <code>\\x05\\x03\\x87</code>, exactly as they appear. When I try to print them, Python returns a string of weird non-ASCII characters. How can I print them as a string literal?</p>\n"},{"tags":["php","python","json","post","http-post"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13265726,"title":"Pass data Python to PHP via JSON","body":"<p>the scope of my project is to pass certain values from a python script to a remote php script.</p>\n\n<p>i've a python script that generate an associatve array. For example (already JSON encoded):</p>\n\n<pre><code>{\"FRONT\": \"19.50\", \"RACK\": \"17.63\", \"REAR\": \"21.06\", \"ROOM\": \"15.6\"}\n</code></pre>\n\n<p>I need to pass this associative array to a remote PHP script i followed this tutorial:\n<a href=\"http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/\" rel=\"nofollow\">http://nonstopblah.wordpress.com/2010/07/13/python-to-php-via-json/</a></p>\n\n<p>I get 200 for HTTP Response but in the php script the POST variable seems to be empty</p>\n\n<p>Here my code:</p>\n\n<pre><code>bulkData = json.dumps(temp, ensure_ascii = 'False')\n# ensure_ascii is false as data is in unicode and not ascii encoding , use this if data is in any other encoding\nprint bulkData\n\nprint '\\nHTTP Response'\n\nheaders = { \"charset\":\"utf-8\",\n\"Accept\": \"text/plain\"}\nconn = httplib.HTTPConnection(report_host)\npostData = urllib.urlencode({'results':bulkData})\nconn.request(\"POST\", report_path, postData,headers)\nresponse = conn.getresponse()\ntext = response.read()\nprint \"Response status: \",response.status,\"\\n\",text\nconn.close()\n</code></pre>\n\n<p>this is the PHP script:</p>\n\n<pre><code>if( isset($_POST['results']) )\n{\n    $data = json_decode($_POST['results']);\n\n    print_r($data);\n}\nelse\n{\n    echo 'Nothing to listen.';\n    print_r($_POST);\n}\n</code></pre>\n\n<p>and this is the output of my python script (with the remote response):</p>\n\n<pre><code>{\"FRONT\": \"20.44\", \"RACK\": \"18.88\", \"REAR\": \"21.25\", \"ROOM\": \"17.7\"}\n\nHTTP Response\nResponse status:  200 \nNothing to listen.Array\n(\n)\n</code></pre>\n\n<p>is there a smarter way to do it? What am i missing here?</p>\n\n<p>Thank you in advance for your kind answers.</p>\n"},{"tags":["python","csv","iterator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13265812,"title":"CSV manipulaions with python","body":"<p>For my purposes i have to know the number of lines in the (CSV) file before actually working with rows. I have googled and found that documentation says that i should create an iterator (CSV.reader) for two times (first one for counting and the second for working with rows). Is this the only way or maybe there is some tricky method to do a trick?</p>\n\n<p>Thanks for your answers.</p>\n"},{"tags":["python","django","django-templates","django-views"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":30,"score":1,"question_id":13264534,"title":"separation in search result","body":"<p>I'm new in django and python\nI have view function which retrieve some data from database and show them on a page.\nbut there is a problem all the data are displayed on one page however i need a separation, It must be displayed 6 data on each page and if the number of data are more than 6 user can read them on the next page. i have no idiea how to do this</p>\n\n<h1>my view is :</h1>\n\n<pre><code>   def search1(request):\n        if request.method == 'POST':\n            form = SearchForm(request.POST)\n            if form.is_valid():\n                cd = form.cleaned_data\n                books=data(cd)\n                return render_to_response('result.html', {'books': books, 'form': form})\n        else:\n            form = SearchForm()\n        return render_to_response('form.html', {'form': form})\n</code></pre>\n\n<h1>my template:</h1>\n\n<pre><code>    {% if books %}\n    &lt;p&gt;Found {{ books|length }} book{{ books|pluralize }}.&lt;/p&gt;\n    &lt;ul dir=rtl&gt;\n        {% for book in books %}\n        &lt;p&gt;title:  {{ book.title }}&lt;/p&gt;\n        &lt;p&gt;price:  {{ book.price }}&lt;/p&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n{% else %}\n    &lt;p&gt;No books matched your search criteria.&lt;/p&gt;\n{% endif %}\n</code></pre>\n"},{"tags":["python","ssh"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13266072,"title":"python: how to run scripts over ssh remotely","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/536370/execute-arbitrary-python-code-remotely-can-it-be-done\">Execute arbitrary python code remotely - can it be done?</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote a memory usage check function and it runs fine on one server (say 10.100.110.10).<br>\nBut I need to run the same script remotely on 10.100.110.11 from 10.100.110.10. I can ssh to 10.100.110.11 from 10.100.110.10. Is there any way to implement that using python built in modules?</p>\n\n<p>I can't use any new modules like Paramico and Unix command   </p>\n\n<pre><code>ssh -n user@10.100.110.11 \"df -m\"\n</code></pre>\n\n<p>works fine.\nIf it is not possible, how can I ssh to 10.100.110.11 using a built in Python module?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":31,"score":-6,"question_id":13266191,"title":"Google app engine - App like Google Group","body":"<p>I want a similar simple google group with google app engine in python</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13265963,"title":"No module named registration.backends.default.urls","body":"<p>This topic is definitely related to <a href=\"http://stackoverflow.com/questions/4259497/no-module-named-backends-default-urls\">this topic</a>, though, according to the approved answer and related comment the fix was to change <code>registration.backends.default.urls</code> to <code>registration.urls</code>. When I try the same the error is the same but, with <code>registration.urls</code> instead of <code>registration.backends.default.urls</code>. </p>\n\n<p>P.S <code>django.contrib.auth</code> is added to the <code>INSTALLED_APPS</code></p>\n\n<pre><code>Environment:\n\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/accounts/register/\n\nDjango Version: 1.4.2\nPython Version: 2.7.3\nInstalled Applications:\n('django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.sites',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'oauth2app',\n 'django.contrib.admin',\n 'uni_form',\n 'server')\nInstalled Middleware:\n('django.middleware.common.CommonMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware')\n\n\nTraceback:\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\core\\handlers\\base.py\" in get_response\n  101.                             request.path_info)\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\core\\urlresolvers.py\" in resolve\n  298.             for pattern in self.url_patterns:\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\core\\urlresolvers.py\" in url_patterns\n  328.         patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\core\\urlresolvers.py\" in urlconf_module\n  323.             self._urlconf_module = import_module(self.urlconf_name)\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\utils\\importlib.py\" in import_module\n  35.     __import__(name)\nFile \"C:\\Users\\Roel\\workspace\\ts-server\\tsserver\\tsserver\\urls.py\" in &lt;module&gt;\n  19.     (r'^accounts/', include('registration.backends.default.urls')),\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\conf\\urls\\__init__.py\" in include\n  24.         urlconf_module = import_module(urlconf_module)\nFile \"C:\\Python27\\lib\\site-packages\\django-1.4.2-py2.7.egg\\django\\utils\\importlib.py\" in import_module\n  35.     __import__(name)\n\nException Type: ImportError at /accounts/register/\nException Value: No module named registration.backends.default.urls\n</code></pre>\n"},{"tags":["python","multiprocessing","pool"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13264435,"title":"Do multiprocessing pools give every process the same number of tasks, or are they assigned as available?","body":"<p>When you <code>map</code> an iterable to a <code>multiprocessing.Pool</code> are the iterations divided into a queue for each process in the pool at the start, or is there a common queue from which a task is taken when a process comes free?</p>\n\n<pre><code>    def generate_stuff():\n        for foo in range(100):\n             yield foo\n\n    def process(moo):\n        print moo\n\n    pool = multiprocessing.Pool()\n    pool.map(func=process, iterable=generate_stuff())\n    pool.close()\n</code></pre>\n\n<p>So given this untested suggestion code; if there are 4 processes in the pool does each process get allocated 25 stuffs to do, or do the 100 stuffs get picked off one by one by processes looking for stuff to do so that each process might do a different number of stuffs, eg 30, 26, 24, 20.</p>\n"},{"tags":["python","script","outlook"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13265861,"title":"how to trigger a python script in outlook using rules?","body":"<p>Is there any way to run the python script using outlook rules. I see an option of running the script but when i click, an empty box appears. How do i get the script in that box. I know it can be done through VBS but I want a python script to appear in that window.</p>\n"},{"tags":["python","django","api","rest","tastypie"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13265175,"title":"Django Tastypie : How to initiate a variable every time an api call is made?","body":"<p>I have two models :</p>\n\n<pre><code>class Category(models.Model):\n    name = models.CharField(max_length=50)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class SubCategory(models.Model):\n    sex =  models.CharField(choices=SEX, blank=True, max_length=5) \n    name = models.TextField(blank=True) \n    category = models.ForeignKey(Category) \n    def __unicode__(self):\n        return u'%s' % (self.name)\n</code></pre>\n\n<p>I'm creating an api using tastypie that returns me \"SubCategory\" objects in a JSON. I want to add a custom field \"start_counter_of_category\" in every result set which contains the counter of the subcategory where the category id changed (when ordered on \"category_id\" field)</p>\n\n<p>The algorithm is fairly straightforward, something like this in the \"dehydrate\" function:</p>\n\n<pre><code>API_SKU_VARS = {\n    'COUNTER'       : 1,\n    'FIRST_ELEMENT' : 1,\n    'PREV_CATEGORY' : 1\n}\n\n\nclass SubCategoryResource(ModelResource):\n    start_counter_of_category = fields.IntegerField(readonly=True)\n    category = fields.ForeignKey(CategoryResource,'category')\n    class Meta:\n        queryset = SubCategory.objects.all()\n        resource_name = 'subcategory'\n        filtering = {\n            'id' : ALL,\n            'name' : ALL,\n            'category': ALL_WITH_RELATIONS,\n        }\n        ordering = ['id','name','category']\n        serializer = Serializer(formats=['json'])\n    def dehydrate(self, bundle):\n        if API_SKU_VARS['PREV_CATEGORY']  != bundle.data['category']: #if the category of the current bundle is not equal to the category of the previous bundle, we update the ['PREV_CATEGORY'] \n            API_SKU_VARS['FIRST_ELEMENT']=API_SKU_VARS['COUNTER'] #update the ['FIRST_ELEMENT'] with the counter of the current bundle\n            API_SKU_VARS['PREV_CATEGORY'] = bundle.data['category']\n        API_SKU_VARS['COUNTER'] = API_SKU_VARS['COUNTER']+1 #for every bundle passed, we update the counter\n        bundle.data['start_counter_of_category']=API_SKU_VARS['FIRST_ELEMENT']\n        return bundle.data\n    serializer = Serializer(formats=['json'])\n</code></pre>\n\n<p>It works perfectly for the first run after I start the server. Predictably the issue of course is that the second time I make the api call, the variables retain the values they had in the previous run.</p>\n\n<p>Any ideas how to re-initiate the variables every time the api call is made?</p>\n"},{"tags":["python","django","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265459,"title":"weird django file upload error","body":"<p>although, there are many topics for this, i cannot find the right question+answer among them\nmy problem is this: </p>\n\n<p>i am trying to write an file upload. once i submit the form, this error is coming:</p>\n\n<pre><code>MultiValueDictKeyError at /anzeige_save/\nKey 'file' not found in &lt;MultiValueDict: {}&gt;\n</code></pre>\n\n<p>this is my model: </p>\n\n<pre><code>class Anzeige(models.Model):\n    titel = models.CharField(max_length=300)\n    anzeige = models.CharField(max_length=1000)\n    date = models.DateTimeField()\n    datum = models.CharField(max_length=12)\n    file = models.FileField(upload_to='/anzeige/D-d-M-Y/')\n    def __unicode__(self):\n        return self.titel\n</code></pre>\n\n<p>this is my view: </p>\n\n<pre><code>if request.path == '/anzeige_save/':\n    anzeige=Anzeige(titel=request.POST['titel'], anzeige=end_anzeige,date=datetime.datetime.now(), datum=request.POST['datum'],file=request.FILES['file'])\n    anzeige.save()\n    return HttpResponse(\"Anzeige saved successfully\")\n</code></pre>\n\n<p>this is my ajax in front-end:</p>\n\n<pre><code>var title = document.getElementById(title).value;\nvar body = document.getElementById(body).value;\nvar file = document.getElementById(name_file).value;\nvar datum = document.getElementById(datum).value;\nif(title==\" \" || body==\" \" || title==\"\" || body==\"\" || datum==\"\" || datum==\" \" ){\nalert(\"Please fill out all!\");\n}else{\n    $.ajax({\n    url: \"/anzeige_save/\",\n    type: \"POST\",\n    data: {anzeige:body,titel:title,file:file,datum:datum},\n}).success(function(data){\n    $(succ_message).text(data);\n    $(succ_message).fadeIn(1000);\n    $(succ_message).fadeOut(2000);\n})\n }\n</code></pre>\n\n<p>and this is file in form:</p>\n\n<pre><code>...\n&lt;input type=\"file\" id=\"name_file\" name=\"name_file\" size=\"40\" maxlength=\"100000\"&gt;&lt;br /&gt;\n...\n</code></pre>\n\n<p>am i missing something here ? </p>\n\n<p>i have Model with filefield and i am saving other fields including file into instance. </p>\n\n<p>thanks for any drop-by! :) </p>\n"},{"tags":["python","class"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13265120,"title":"list of classes in python 3","body":"<p>We can do something like below in C:</p>\n\n<pre><code>struct teams {\nchar team_name[100];\nint team_point[100];\n\n\n}\n\nstruct teams teams1[100];\n</code></pre>\n\n<p>We get array of struct in this way, is it somehow possible in Python? Thanks</p>\n"},{"tags":["python","inheritance","django-models","django-orm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13223173,"title":"Child dependant field in abstract class with Django's ORM","body":"<p>I have these two models:</p>\n\n<pre><code>class Interface(models.Model):\n    # fields\nclass OldInterface(models.Model):\n    interface = models.ForeignKey(_base,related_name='old_versions')\n    class Meta:\n        abstract = True\n</code></pre>\n\n<p>Inherited by their \"Spatial\" and \"Functional\" variants :</p>\n\n<pre><code>class SpatialInterface(Interface):\n    # fields\nclass OldSpatialInterface(OldInterface):\n    _base = SpatialInterface\n\nclass FunctionalInterface(Interface):\n    # fields\nclass OldFunctionalInterface(OldInterface):\n    _base = FunctionalInterface\n</code></pre>\n\n<p>Of course my code fails, because _base is not defined in the parent Model. </p>\n\n<p>My question is : Is there any way, or trick to tell the ForeignKey to read to the target model from the child Model ?</p>\n\n<p>Or more generally, is there any way, to, in the parent class, dynamically read a variable located in the child class ?</p>\n"},{"tags":["python","http","dropbox-api"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":141,"score":1,"question_id":11046225,"title":"httplib.BadStatusLine error (using with Dropbox Python SDK)","body":"<p>I got this traceback when trying to upload a file using put_file (source code from example <a href=\"https://www.dropbox.com/developers/start/files#python\" rel=\"nofollow\">https://www.dropbox.com/developers/start/files#python</a>). What does this error mean? And what is the suitable way to handle it?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"testDRBX.py\", line 30, in &lt;module&gt;\n    response = client.put_file('magnum-opus.txt', f)\n  File \"C:\\Users\\hicom\\AppData\\Roaming\\Python\\Python27\\site-packages\\dropbox\\cli\nent.py\", line 149, in put_file\n    return RESTClient.PUT(url, file_obj, headers)\n  File \"C:\\Users\\hicom\\AppData\\Roaming\\Python\\Python27\\site-packages\\dropbox\\res\nt.py\", line 146, in PUT\n    return cls.request(\"PUT\", url, body=body, headers=headers, raw_response=raw_\nresponse)\n  File \"C:\\Users\\hicom\\AppData\\Roaming\\Python\\Python27\\site-packages\\dropbox\\res\nt.py\", line 111, in request\n    r = conn.getresponse()\n  File \"C:\\Python27\\lib\\httplib.py\", line 1027, in getresponse\n    response.begin()\n  File \"C:\\Python27\\lib\\httplib.py\", line 407, in begin\n    version, status, reason = self._read_status()\n  File \"C:\\Python27\\lib\\httplib.py\", line 371, in _read_status\n    raise BadStatusLine(line)\nhttplib.BadStatusLine: ''\n</code></pre>\n"},{"tags":["python"],"answer_count":6,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1390,"score":1,"question_id":4579908,"title":"cross-platform splitting of path in python","body":"<p>I'd like something that has the same effect as this:</p>\n\n<pre><code>&gt;&gt;&gt; path = \"/foo/bar/baz/file\"\n&gt;&gt;&gt; path_split = path.rsplit('/')[1:]\n&gt;&gt;&gt; path_split\n['foo', 'bar', 'baz', 'file']\n</code></pre>\n\n<p>But that will work with Windows paths too. I know that there is an <code>os.path.split()</code> but that doesn't do what I want, and I didn't see anything that does.</p>\n"},{"tags":["python","database","sqlite","commit","journal"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13258948,"title":"Commit existing journal file in SQLite from prior terminated connection to database","body":"<p>I'm prototyping a script that creates large SQLite databases with a four day time limit.  The time limit was reached before the script finished and the connection.commit() command would be executed.  The script is dropped and the database connection terminated but the journal is still in the file directory where the database was being created.</p>\n\n<p>I'd like to commit the existing journal to see if the current script is on the right track.  Initially I just try (using the Python sqlite3 module on iPython):</p>\n\n<pre><code>connection = sqlite3.connect('mydatabase')\n\nconnection.commit()\n</code></pre>\n\n<p>but I suspect I need to specify that I want to commit the existing journal.  I tried passing the journal name as an argument in commit(), but commit() doesn't take arguments in the sqlite3 Python module.</p>\n\n<p>In the future I'll incrementally .commit()</p>\n"},{"tags":["python","sublimetext2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13265686,"title":"Sublime text 2 plugin development creating new files in threads","body":"<p>I'm trying to create a plugin for sublime text 2, the plugin requires to call a http handler api and as a response open new files with the <code>window.new_file()</code></p>\n\n<p>It is recommended with API calls to be done via threading to minimize performance effect. I've done everything in threads, thing is as i understood i cannot create <code>new_file()</code> from a thread because i dont have an active window to start with.</p>\n\n<p>How do i overcome this obstacle by creating <code>new_files()</code> in the background when the API respondes and not having the user get stuck on a specific window until the api respondes.</p>\n"},{"tags":["python","xml-rpc","tornado","xmlrpclib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13191858,"title":"Python. Tornado. Non-blocking xmlrpc client","body":"<p>Basically we can call xmlrpc handlers following way: </p>\n\n<pre><code>import xmlrpclib\ns = xmlrpclib.ServerProxy('http://remote_host/rpc/')\nprint s.system.listmethods()\n</code></pre>\n\n<p>In tornado we can integrate it like this: </p>\n\n<pre><code>import xmlrpclib\nimport tornado.web\n\ns = xmlrpclib.ServerProxy('http://remote_host/rpc/')\n\nclass MyHandler(tornado.web.RequestHandler):\n    def get(self):\n        result = s.system.listmethods()\n</code></pre>\n\n<p>I have following, a little bit newbie, questions:</p>\n\n<ol>\n<li>Will <code>result = s.system.listmethods()</code> block tornado?  </li>\n<li>Are there any non-blocking xmlrpc clients around?</li>\n<li>How can we achieve <code>result = yield gen.Task(s.system.listmethods)</code>?</li>\n</ol>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":77,"score":-6,"question_id":13263951,"title":"What is \"argv\", and what does it do?","body":"<p>argv -- </p>\n\n<p>I keep seeing it, but I never know what it does. I'm starting to learn some higher levels of code now, and I need to get a deep understanding of that this means. Thanks guys.</p>\n\n<p>Edit: If you can, will you please write a line or two and explain how it works? </p>\n"},{"tags":["python","string"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13263457,"title":"Fetching only required part from a string in python","body":"<p>Suppose i had string as below</p>\n\n<pre><code>data = \"/phones/pages/nokia_overview.aspx pid=46&amp;cid=raj 80\"\n</code></pre>\n\n<p>Now i want to fetch the url from the string from <code>/</code> up to <code>.aspx</code> . I mean actually there may be many strings as above, but we want to fetch the string from start and up to the extension <code>.aspx</code> in the string by ignoring the remaining part of the string after <code>.aspx</code></p>\n\n<p>Here the length of the string may vary, because sometimes the url will be bigger and sometimes small, so based on .aspx extension i want to fetch the url from the above string</p>\n\n<p>can anyone let me know how can we do this in python </p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13265466,"title":"read write mode python","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1466000/python-open-built-in-function-difference-between-modes-a-a-w-w-and-r\">python open built-in function: difference between modes a, a+, w, w+, and r+?</a>  </p>\n</blockquote>\n\n\n\n<pre><code>try:\n    f = open(\"file.txt\", \"r\")\n    try:\n        string = f.read()\n        line = f.readline()\n        lines = f.readlines()\n    finally:\n        f.close()\nexcept IOError:\n    pass\n\n\ntry:\n    f = open(\"file.txt\", \"w\")\n    try:\n        f.write('blah') # Write a string to a file\n        f.writelines(lines) # Write a sequence of strings to a file\n    finally:\n        f.close()\nexcept IOError:\n    pass\n</code></pre>\n\n<p>Hi,</p>\n\n<p>this is mode which i can read and write file but i want to open file once and perform both read and write operation in python</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13265439,"title":"Python 3.3 - Unicode-objects must be encoded before hashing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7585307/python-hashlib-problem-typeerror-unicode-objects-must-be-encoded-before-hashin\">Python hashlib problem “TypeError: Unicode-objects must be encoded before hashing”</a>  </p>\n</blockquote>\n\n\n\n<p>Here is a code in Python 3 which generates a password with salt:</p>\n\n<pre><code>import hmac\nimport random\nimport string\nimport hashlib\n\n\ndef make_salt():\n    salt = \"\"\n    for i in range(5):\n        salt = salt + random.choice(string.ascii_letters)\n    return salt\n\n\ndef make_pw_hash(pw, salt = None):\n    if (salt == None):\n        salt = make_salt() #.encode('utf-8') - not working either\n    return hashlib.sha256(pw + salt).hexdigest()+\",\"+ salt\n\n\npw = make_pw_hash('123')\nprint(pw)\n</code></pre>\n\n<p>The error it gives me is:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\german\\test.py\", line 20, in &lt;module&gt;\n    pw = make_pw_hash('123')\n  File \"C:\\Users\\german\\test.py\", line 17, in make_pw_hash\n    return hashlib.sha256(pw + salt).hexdigest()+\",\"+ salt\nTypeError: Unicode-objects must be encoded before hashing\n</code></pre>\n\n<p>I'm not allowed to change the algorithm of generating a password, so I only want to fix the error using probably the method <code>encode('utf-8')</code> . How can I do it?</p>\n"},{"tags":["python","multithreading","gevent"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13126254,"title":"python thread by gevent?","body":"<pre><code>import threading,gevent,gevent.monkey \nclass test(threading.Thread):\n  def __init__(self):\n    threading.Thread.__init__(self)\n  def run(self):\n    print 1  \n    gevent.sleep(2)  \n    print 2\ngevent.monkey.patch_thread() \nt=test()  \nt.start() \n</code></pre>\n\n<p>why 'print 2' not run, how to do? </p>\n\n<p>If to download files,multithread and gevent, which is faster?</p>\n"},{"tags":["python","boolean"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13264942,"title":"Where would typecasting to boolean with `not not` instead of `bool()` fail?","body":"<p>To typecast a value to boolean, I usually do the following:</p>\n\n<pre><code>not not value\n</code></pre>\n\n<p>This is faster than using <code>bool</code>. Output from timeit:</p>\n\n<pre><code>python -m timeit '[bool(t) for t in [[], {}, \"\", 0, [1], {\"a\": \"n\"}, \"asdf\", 2323]]'    \n1000000 loops, best of 3: 1.81 usec per loop\npython -m timeit '[(not not t) for t in [[], {}, \"\", 0, [1], {\"a\": \"n\"}, \"asdf\", 2323]]'\n1000000 loops, best of 3: 1.11 usec per loop\n</code></pre>\n\n<p>I tried to test it using this:</p>\n\n<pre><code>&gt;&gt;&gt; [bool(t) == (not not t) for t in [None, [], {}, \"\", 0, [1], {'a': 'n'}, \"asdf\", 2323]]\n[True, True, True, True, True, True, True, True, True]\n</code></pre>\n\n<p>And it seems to work for most common cases.</p>\n\n<p>Arguments on readability aside, where does this fail, or why would this be a bad thing to do?</p>\n"},{"tags":["python","dictionary"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13264946,"title":"how to assign list of values to a key using OrderedDict in python","body":"<p>Hi want to have a ordered dictionary with keys having list of values.</p>\n\n<p>from below code i could able to get a dictionary with list of keys but ordered of insertion is missing.</p>\n\n<pre><code>from collections import defaultdict\n\nkeys=['blk','pri','ani']\nvals1=['blocking','primary','anim']\nvals2=['S1','S2','S3']\ndic = defaultdict(list)\n\ni=0\n\nfor key in keys:\n    dic[key].append(vals1[i])\n    dic[key].append(vals2[i])\n\n    i += 1\n\nprint dic\n</code></pre>\n\n<p>i get the following result</p>\n\n<pre><code>defaultdict(&lt;type 'list'&gt;, {'pri': ['primary', 'S2'], 'ani': ['anim', 'S3'], 'blk': ['blocking', 'S1']})\n</code></pre>\n\n<p>here i lost insert order.</p>\n\n<p>I know defaultdict object in Python are <em>unordered by definition</em>.</p>\n\n<p>And i know we need to Use <em>OrderedDict</em> if you need the order in which values were inserted (it's available in Python 2.7 and 3.x)</p>\n\n<p>So changed my code as below</p>\n\n<p>from below code i could able to get what i need.</p>\n\n<pre><code>from collections import defaultdict,OrderedDict\n\nkeys=['blk','pri','ani']\nvals1=['blocking','primary','anim']\nvals2=['S1','S2','S3']\ndic = OrderedDict(defaultdict(list))\n\ni=0\n\nfor key in keys:\n    dic[key].append(vals1[i])\n    dic[key].append(vals2[i])\n\n    i += 1\n\nprint dic\n</code></pre>\n\n<p>and now i get the below error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"Dict.py\", line 18, in &lt;module&gt;\n    dic[key].append(vals1[i])\nKeyError: 'blk' \n</code></pre>\n\n<p>Can any one tell me how to get what i am trying.</p>\n"},{"tags":["python","google-nacl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12964666,"title":"Installing Chrome Native Client SDK","body":"<p>For the last few days I have been trying ti install the Native Client SDK for chrome in Windows and/or Ubuntu.\nI'm behind a corporate network, and the only internet access is through an HTTP proxy with authentication involved.\nWhen I run \"naclsdk update\" in Ubuntu, it shows </p>\n\n<p>\"urlopen error Tunnel connection failed: 407 Proxy Authentication Required\"</p>\n\n<p>Can anyone please help ?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13264805,"title":"iterating over file object in Python does not work, but readlines() does but is inefficient","body":"<p>In the following code, if I use: </p>\n\n<pre><code>for line in fin:\n</code></pre>\n\n<p>It only executes for 'a'</p>\n\n<p>But if I use:</p>\n\n<pre><code>wordlist = fin.readlines()\nfor line in wordlist:\n</code></pre>\n\n<p>Then it executes for a thru z.</p>\n\n<p>But <code>readlines()</code> reads the whole file at once, which I don't want.</p>\n\n<p>How to avoid this?</p>\n\n<pre><code>def avoids():\n    alphabet = 'abcdefghijklmnopqrstuvwxyz'\n    num_words = {}\n\n    fin = open('words.txt')\n\n    for char in alphabet:\n      num_words[char] = 0\n      for line in fin:\n        not_found = True\n        word = line.strip()\n        if word.lower().find(char.lower()) != -1:\n          num_words[char] += 1\n    fin.close()\n    return num_words\n</code></pre>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13260535,"title":"Djangobb - receiving incorrect link for confirmation","body":"<p>I set up djangobb and after a lot of problems and hours spending to making it work with my app, it finally worked... The only problem I still have is that when someone register, he is receiving incorrect link for registration. </p>\n\n<p>Example:</p>\n\n<pre><code>http://example.com/forum/account/activate/eac687ca1d21c4ae0f33d61766fec3a289936dbf/\n</code></pre>\n\n<p>How can i edit the url to my own url ? </p>\n\n<p>Thanks.</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":184,"score":-2,"question_id":1788145,"title":"Searching for Python http lib","body":"<p>Something like httparty for Ruby</p>\n"},{"tags":["python","urllib2","urllib"],"answer_count":5,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":5457,"score":9,"question_id":201515,"title":"urllib.urlopen works but urllib2.urlopen doesn't","body":"<p>I have a simple website I'm testing.  It's running on localhost and I can access it in my web browser.  The index page is simply the word \"running\".  <code>urllib.urlopen</code> will successfully read the page but <code>urllib2.urlopen</code> will not.  Here's a script which demonstrates the problem (this is the actual script and not a simplification of a different test script):</p>\n\n<pre><code>import urllib, urllib2\nprint urllib.urlopen(\"http://127.0.0.1\").read()  # prints \"running\"\nprint urllib2.urlopen(\"http://127.0.0.1\").read() # throws an exception\n</code></pre>\n\n<p>Here's the stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"urltest.py\", line 5, in &lt;module&gt;\n    print urllib2.urlopen(\"http://127.0.0.1\").read()\n  File \"C:\\Python25\\lib\\urllib2.py\", line 121, in urlopen\n    return _opener.open(url, data)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 380, in open\n    response = meth(req, response)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 491, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 412, in error\n    result = self._call_chain(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 353, in _call_chain\n    result = func(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 575, in http_error_302\n    return self.parent.open(new)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 380, in open\n    response = meth(req, response)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 491, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 418, in error\n    return self._call_chain(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 353, in _call_chain\n    result = func(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 499, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nurllib2.HTTPError: HTTP Error 504: Gateway Timeout\n</code></pre>\n\n<p>Any ideas?  I might end up needing some of the more advanced features of <code>urllib2</code>, so I don't want to just resort to using <code>urllib</code>, plus I want to understand this problem.</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13264705,"title":"AttributeError: 'NoneType' object has no attribute 'start'","body":"<pre><code>Traceback (most recent call last):\n  File \"NinjaWarzBot.py\", line 354, in &lt;module&gt;\n    stats = comm.init()\n  File \"C:\\Users\\Administrator\\Desktop\\ninja warz bot\\NinjaWarzLib.py\", line 33,\n in init\n    mf.seek(m.start()+len(cookieKey)) # reset file cursor\nAttributeError: 'NoneType' object has no attribute 'start'\nPress any key to continue . . .\n\ndef init():\n    cookieDBFilename = os.path.join(os.environ['USERPROFILE'], \"AppData/Local/Google/Chrome/User Data/Default/Cookies\")\n    cookieKey = \"kongregate.ninjawarz.brokenbulbstudios.comPHPSESSID\"\n    f = open(cookieDBFilename, 'r+b')\n    mf = mmap.mmap(f.fileno(), 0)\n    mf.seek(0) # reset file cursor\n    m = re.search(cookieKey+'\\w+', mf)\n\n    mf.seek(m.start()+len(cookieKey)) # reset file cursor\n    global _sessionId\n    _sessionId = mf.read(m.end() - m.start() -len(cookieKey))\n    mf.close()\n    f.close()\n\n    return getMyStats()\n</code></pre>\n\n<p>That's my error and code. I'm confused as to why i'm getting this error. Can someone please help me? It's getting frustrating.</p>\n"},{"tags":["python","ajax","django"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13263612,"title":"Issues with ajax in django","body":"<p>I'm using ajax in django first times .. I read some tutorials on the net and I'm trying to make a simple form which posts some information via ajax.</p>\n\n<p>Here is my html form</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction send_request()\n{\n\n $.ajax({\n                            type:\"POST\",\n                            url:\"/ajaxredirect/\",\n\n\n       });\n\n}\n&lt;/script&gt;\n&lt;button type=\"button\" onclick=\"send_request();\"&gt;change content&lt;/button&gt;\n</code></pre>\n\n<p>and it is my view</p>\n\n<pre><code>def Ajaxquery(request):\n        if request.is_ajax():\n                return HttpResponse(\"ok\")\n        else:\n                return HttpResponse(\"error\")\n</code></pre>\n\n<p>it does nothing when i am click on change content button in browser.</p>\n\n<p>Any suggestions would be apperciated</p>\n"},{"tags":["python","google-app-engine","google-calendar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13264608,"title":"Unlogical UnkownApiNameOrVersion halfway method","body":"<p>I've got an application running on GAE. The application inserts a certain number of events into a calendar. The weird thing is, sometimes it works and sometimes it doesn't. When I read the logs of a failed attempt I can see that it inserts x out of a total of events and then raises this error:</p>\n\n<pre><code>name: calendar  version: v3\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~appname/0000000000/appname.py\", line 101, in post\n    developerKey='xxxxxxxxxxxxxxxxxxxxxxx')\n  File \"/base/data/home/apps/s~appname/0000000000/oauth2client/util.py\", line 120, in positional_wrapper\n    return wrapped(*args, **kwargs)\n  File \"/base/data/home/apps/s~appname/000000000000000/apiclient/discovery.py\", line 197, in build\n    version))\nUnknownApiNameOrVersion: name: calendar  version: v3\n</code></pre>\n\n<p>Could anyone think of a reason why this would happen halfway the function?</p>\n"},{"tags":["python","ubuntu","unicode","utf-8","filesystems"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13232108,"title":"Python: Overriding os.path.supports_unicode_filenames on Ubuntu","body":"<p>I am running a python web app on an Ubuntu server, while I development locally on OS X.</p>\n\n<p>I use a lot of unicode strings for the Hebrew language, including manipulating filenames of images, so they will be saved on the filesystem with Hebrew characters.</p>\n\n<p>My Ubuntu server is fully configured for UTF-8 - I have other images on the file system (outside of this app) with Hebrew names, in Hebrew named directories, etc.</p>\n\n<p>However, my app returns errors when trying to save an image with a Hebrew filename on Ubuntu (but not on OS X).</p>\n\n<p>The error being:</p>\n\n<pre><code>UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-3: ordinal not in range(128)\n</code></pre>\n\n<p>After <em>alot</em> of investigating, I got to the last possible cause as far as I can see:</p>\n\n<pre><code># Inside my virtualenv, Mac OS X\n&gt;&gt;&gt; import os.path\n&gt;&gt;&gt; os.path.supports_unicode_filenames\n&gt;&gt;&gt; True\n\n# Inside my virtualenv, Ubuntu 12.04\n&gt;&gt;&gt; import os.path\n&gt;&gt;&gt; os.path.supports_unicode_filenames\n&gt;&gt;&gt; False\n</code></pre>\n\n<p>And just for the curious, here are my Ubuntu locale settings:</p>\n\n<pre><code>locale\nLANG=en_US.UTF-8\nLANGUAGE=\nLC_CTYPE=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_PAPER=\"en_US.UTF-8\"\nLC_NAME=\"en_US.UTF-8\"\nLC_ADDRESS=\"en_US.UTF-8\"\nLC_TELEPHONE=\"en_US.UTF-8\"\nLC_MEASUREMENT=\"en_US.UTF-8\"\nLC_IDENTIFICATION=\"en_US.UTF-8\"\nLC_ALL=\n</code></pre>\n\n<p>Update: adding the code, and an example string:</p>\n\n<pre><code># a string, of the type I would get for instance.product.name, as used below.\nu'\\\\u05e7\\\\u05e8\\\\u05d5\\\\u05d1-\\\\u05e8\\\\u05d7\\\\u05d5\\\\u05e7'\n\n\n#utils.py\n# I get an image object from django, and I run this function so django \n# can use the generated filepath for the image.\ndef get_upload_path(instance, filename):\n\n    tmp = filename.split('.')\n    extension = '.' + tmp[-1]\n\n    if instance.__class__.__name__ == 'MyClass':\n\n        seo_filename = unislugify(instance.product.name)\n        # unislugify takes a string and strips spaces, etc.\n        value = IMAGES_PRODUCT_DIR + seo_filename + extension\n\n    else:\n\n        value = IMAGES_GENERAL_DIR + unislugify(filename)\n\n    return value\n</code></pre>\n\n<p>Example stacktrace:</p>\n\n<pre><code>UnicodeEncodeError: 'ascii' codec can't encode characters in position 60-66: ordinal not in range(128)\n\nStacktrace (most recent call last):\n\n  File \"django/core/handlers/base.py\", line 111, in get_response\n    response = callback(request, *callback_args, **callback_kwargs)\n\n  File \"django/contrib/admin/options.py\", line 366, in wrapper\n    return self.admin_site.admin_view(view)(*args, **kwargs)\n\n  File \"django/utils/decorators.py\", line 91, in _wrapped_view\n    response = view_func(request, *args, **kwargs)\n\n  File \"django/views/decorators/cache.py\", line 89, in _wrapped_view_func\n    response = view_func(request, *args, **kwargs)\n\n  File \"django/contrib/admin/sites.py\", line 196, in inner\n    return view(request, *args, **kwargs)\n\n  File \"django/utils/decorators.py\", line 25, in _wrapper\n    return bound_func(*args, **kwargs)\n\n  File \"django/utils/decorators.py\", line 91, in _wrapped_view\n    response = view_func(request, *args, **kwargs)\n\n  File \"django/utils/decorators.py\", line 21, in bound_func\n    return func(self, *args2, **kwargs2)\n\n  File \"django/db/transaction.py\", line 209, in inner\n    return func(*args, **kwargs)\n\n  File \"django/contrib/admin/options.py\", line 1055, in change_view\n    self.save_related(request, form, formsets, True)\n\n  File \"django/contrib/admin/options.py\", line 733, in save_related\n    self.save_formset(request, form, formset, change=change)\n\n  File \"django/contrib/admin/options.py\", line 721, in save_formset\n    formset.save()\n\n  File \"django/forms/models.py\", line 497, in save\n    return self.save_existing_objects(commit) + self.save_new_objects(commit)\n\n  File \"django/forms/models.py\", line 628, in save_new_objects\n    self.new_objects.append(self.save_new(form, commit=commit))\n\n  File \"django/forms/models.py\", line 731, in save_new\n    obj.save()\n\n  File \"django/db/models/base.py\", line 463, in save\n    self.save_base(using=using, force_insert=force_insert, force_update=force_update)\n\n  File \"django/db/models/base.py\", line 551, in save_base\n    result = manager._insert([self], fields=fields, return_id=update_pk, using=using, raw=raw)\n\n  File \"django/db/models/manager.py\", line 203, in _insert\n    return insert_query(self.model, objs, fields, **kwargs)\n\n  File \"django/db/models/query.py\", line 1593, in insert_query\n    return query.get_compiler(using=using).execute_sql(return_id)\n\n  File \"django/db/models/sql/compiler.py\", line 909, in execute_sql\n    for sql, params in self.as_sql():\n\n  File \"django/db/models/sql/compiler.py\", line 872, in as_sql\n    for obj in self.query.objs\n\n  File \"django/db/models/fields/files.py\", line 249, in pre_save\n    file.save(file.name, file, save=False)\n\n  File \"django/db/models/fields/files.py\", line 86, in save\n    self.name = self.storage.save(name, content)\n\n  File \"django/core/files/storage.py\", line 44, in save\n    name = self.get_available_name(name)\n\n  File \"django/core/files/storage.py\", line 70, in get_available_name\n    while self.exists(name):\n\n  File \"django/core/files/storage.py\", line 230, in exists\n    return os.path.exists(self.path(name))\n\n  File \"python2.7/genericpath.py\", line 18, in exists\n    os.stat(path)\n</code></pre>\n"},{"tags":["python"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13263414,"title":"splitting comma separated list","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4322705/split-a-list-into-nested-lists-on-a-value\">Split a list into nested lists on a value</a>  </p>\n</blockquote>\n\n\n\n<p>I have a list like this: </p>\n\n<pre><code>['jj01','gg01',',','yy01','hh01',',','yy04','uu01']\n</code></pre>\n\n<p>How would I split this list to its elements -- splitting on <code>','</code> like this:</p>\n\n<pre><code>[['jj01','gg01'],['yy01','hh01'],['yy04','uu01']]\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","wifi","wificonfiguration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13218439,"title":"How to change IP address of wifi interface using python in linux?","body":"<p>I want to change ip address of the wifi interface using python. How can I do it? You don't have to tell me the code. Just point me out. I'll hunt down. Thanks!</p>\n"},{"tags":["python","oop","types"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":119,"score":7,"question_id":13242501,"title":"Pythonic way to Implement Data Types (Python 2.7)","body":"<p>The majority of my programming experience has been with C++. Inspired by Bjarne Stroustrup's talk <a href=\"http://channel9.msdn.com/Events/GoingNative/GoingNative-2012/Keynote-Bjarne-Stroustrup-Cpp11-Style\" rel=\"nofollow\">here</a>, one of my favorite programming techniques is \"type-rich\" programming; the development of new robust data-types that will not only reduce the amount of code I have to write by wrapping functionality into the type (for example vector addition, instead of newVec.x = vec1.x + vec2.x; newVec.y = ... etc, we can just use newVec = vec1 + vec2) but will also reveal problems in your code at compile time through the strong type system.</p>\n\n<p>A recent project I have undertaken in Python <strong>2.7</strong> requires integer values that have upper and lower bounds. My first instinct is to create a new data type (class) that will have all the same behavior as a normal number in python, but will always be within its (dynamic) boundary values.</p>\n\n<pre><code>class BoundInt:\n    def __init__(self, target = 0, low = 0, high = 1):\n        self.lowerLimit = low\n        self.upperLimit = high\n        self._value = target\n        self._balance()\n\n    def _balance(self):\n        if (self._value &gt; self.upperLimit):\n            self._value = self.upperLimit\n        elif (self._value &lt; self.lowerLimit):\n            self._value = self.lowerLimit\n        self._value = int(round(self._value))\n\n    def value(self):\n        self._balance()\n        return self._value\n\n    def set(self, target):\n        self._value = target\n        self._balance()\n\n    def __str__(self):\n        return str(self._value)\n</code></pre>\n\n<p>This is a good start, but it requires accessing the meat of these BoundInt types like so</p>\n\n<pre><code>x = BoundInt()\ny = 4\nx.set(y)           #it would be nicer to do something like x = y\nprint y            #prints \"4\"\nprint x            #prints \"1\"\nz = 2 + x.value()  #again, it would be nicer to do z = 2 + x\nprint z            #prints \"3\" \n</code></pre>\n\n<p>We can add a large number of python's \"magic method\" definitions to the class to add some more functionality:</p>\n\n<pre><code>def __add__(self, other):\n    return self._value + other\n\ndef __sub__(self, other):\n    return self._value - other\n\ndef __mul__(self, other):\n    return self._value * other\n\ndef __div__(self, other):\n    return self._value / other\n\ndef __pow__(self, power):\n    return self._value**power\n\ndef __radd__(self, other):\n    return self._value + other\n\n#etc etc\n</code></pre>\n\n<p>Now the code is rapidly exploding in size, and there is a ton of repetition to what is being written, for very little return, this doesn't seem very pythonic at all.</p>\n\n<p>Things get even more complicated when I start to want to construct BoundInt objects from normal python numbers (integers?), and other BoundInt objects</p>\n\n<pre><code>x = BoundInt()\ny = BoundInt(x)\nz = BoundInt(4)\n</code></pre>\n\n<p>Which, as far as I'm aware requires the use of rather large/ugly if/else type checking statements within the BoundInt() constructor, as python does not support (c style) overloading.</p>\n\n<p>All of this feels terribly like trying to write c++ code in python, a cardinal sin if one of my favorite books, <em>Code Complete 2</em>, is taken seriously. I feel like I am swimming against the dynamic typing current, instead of letting it carry me forward.</p>\n\n<p>I very much want to learn to code python 'pythonic-ally', what is the best way to approach this sort of problem domain? What are good resources to learn proper pythonic style?</p>\n"},{"tags":["python","multithreading","memory","timer","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13261593,"title":"Resource usage of \"time.sleep\" in loop vs. \"threading.Timer\"","body":"<p>First method:</p>\n\n<pre><code>import threading\nimport time\n\ndef keepalive():\n    while True:\n        print 'Alive.'\n        time.sleep(200)\nthreading.Thread(target=keepalive).start()\n</code></pre>\n\n<p>Second method:</p>\n\n<pre><code>import threading\n\ndef keepalive():\n    print 'Alive.'\n    threading.Timer(200, keepalive).start()\n\nthreading.Timer(200, keepalive).start()\n</code></pre>\n\n<p>Which method takes up more RAM? And in the second method, does the thread end after being activated? or does it remain in the memory and start a new thread? (multiple threads)</p>\n"},{"tags":["python","override"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":13259749,"title":"How to override __setitem__ for a function's globals dict?","body":"<p>I want to be able to intercept variable assignments within a function and execute custom code.  I have tried creating a custom dict as follows:</p>\n\n<pre><code>class userdict(dict):\n    def __setitem__(self, key, value):\n        print 'run my code'\n        dict.__setitem__(self, key, value)\n</code></pre>\n\n<p>If I exec code using this as the global dict, then my custom code will run on each variable assignment.  e.g.:</p>\n\n<pre><code>UserDict = userdict()\nexec 'x = 1' in UserDict\n#outputs 'run my code'\n</code></pre>\n\n<p>But if my code is inside a function, it doesn't work:</p>\n\n<pre><code>code = \"\"\"\ndef foo():\n    global x\n    x = 1\n\"\"\"\nexec code in UserDict\nUserDict['foo']()\n</code></pre>\n\n<p>In this case, 'x' is assigned, but my custom code does not run.  I assume that within a function, the global dict is being modified somehow without calling setitem.  Is this correct? Is there a way to intercept variable assignments within a function and execute custom code?</p>\n\n<p>I want to do this in order to synchronize certain objects available inside a function with other objects in my program.  In order words, when the an assignment to certain variables occurs inside the function, that change should propagate to other variables in my program.</p>\n"},{"tags":["python","rsync"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13264107,"title":"Rsync command not working with python","body":"<p>I am trying implement rsync with python. Here's my code.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport os\n\nurl = raw_input(\"Paste your URL:\")\nusername = raw_input(\"Enter username:\")\n#password = raw_input(\"Enter password:\")\n\nsource = username + \"@\" + url\n#print source\n\nprint os.system('rsync -zvr --progress source /home/zurelsoft/R')\n</code></pre>\n\n<p>The logic is simple: user inputs the url and username stored in source with proper formatting. The source variable is then used in rsync command. I am inputting the valid URL and username of my server but I am getting this error:</p>\n\n<pre><code>rsync: link_stat \"/home/name/source\" failed: No such file or directory (2)\n</code></pre>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["python","list","pad"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13263454,"title":"Padding list elements with spaces givin' min length","body":"<p>For any name whose length is less than the minimum, replace that item of the list with a new string containing the name with space(s) added to the right-hand side to achieve the minimum length. </p>\n\n<p>For example, if the list contains the name \"Sue\" and the minimum length is 5, then that item would be replaced with the name padded with 2 spaces: \"Sue  \". Any names that are already the minimum length or longer are unchanged.</p>\n\n<pre><code>for words in list_of_names:  \n    if len(words) &lt; min_length:  \n        answer = min_length - len(words)    \n</code></pre>\n\n<p>Now i want to take the answer* and add that amount of spaces back into the list.</p>\n"},{"tags":["python","pdf","text"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12956662,"title":"How to convert text files to pdf files in python script?","body":"<p>I have a report text file, which is created by my python script. I want to create pdf file from mentioned text file in python script. After searching, I came across reportlab library, but in tutorials of same library it shows creating pdf having manually written contents.However I want to convert my text file to pdf file.</p>\n\n<p>Is there any other option, any script?</p>\n\n<p>thank you in advance.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13263617,"title":"Writing to a file and maintain the syntax","body":"<p>Started with python after a long time:</p>\n\n<p>Basically I am trying to read a line from a file:</p>\n\n<pre><code>MY_FILE                     ='test1.hgx'\n</code></pre>\n\n<p>Eventually I want to change this test1.hgx with:</p>\n\n<pre><code>test1_para1_para2_para3.hgx\n</code></pre>\n\n<p>Where para1,23 are the parameters I want to write.</p>\n\n<p>I wrote a code below</p>\n\n<pre><code>add_name= '%s'%(filename)+'_'+'%s'%(para1)+'_'+'%s'%(para2)+'_'+'%s'%(para3)+'.hgx'\nprint \"added_name:\",add_name\n\nwith open(filename) as f:  lines = f.read().splitlines()\nwith open(filename, 'w') as f:\n    for line in lines:\n        if line.startswith(' MY_FILE'):\n\n            f.write(line.rsplit(' ', 1)[0] + \"\\'%s'\\n\"%add_name)\n        else:\n            f.write(line + '\\n')\nf.close\n</code></pre>\n\n<p>The above code works as expected and writes out when I execute the python code once:</p>\n\n<pre><code>MY_FILE                     ='test1_01_02_03.hgx'\n</code></pre>\n\n<p>However when I run the python code once again for the second time it eats up the '=' and writes the following:</p>\n\n<pre><code>MY_FILE                     'test1_01_02_03.hgx'\n</code></pre>\n\n<p>Can I add something to my existing code that would always preserve the writing of the 'test1_01_02_03.hgx'. I think there is problem with :</p>\n\n<pre><code>f.write(line.rsplit(' ', 1)[0] + \"\\'%s'\\n\"%add_name)\n</code></pre>\n\n<p>However I am not able to figure out the problem. Any ideas would be helpful. Thanks.</p>\n"},{"tags":["python","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13263521,"title":"Tkinter: How to dynamically change layout","body":"<p>Basically, I want to have a button which, when pressed, will add stuff to my window. Here's some minimum code:</p>\n\n<pre><code>from Tkinter import *\n\ndef create_line (N):\n    \"\"\" \"\"\"\n    Label (root, text= \"Color \").grid(row=N, column=0, padx=3)\n    OptionMenu (root, v, *optionList).grid(row=N, column=1, padx=3)\n    Button (root, text=\"+\", command=add_line(N)).grid(row=N, column=2, padx=3)\n\ndef add_line (M):\n    M = M +1\n    Label (root, text= \"Color \").grid(row=M, column=0, padx=3)\n    OptionMenu (root, v, *optionList).grid(row=M, column=1, padx=3).grid(row=M,     \n                 column=2, padx=3)\n    return 1\n\nroot = Tk()\noptionList = (\"red\", \"green\", \"blue\")\ncurrent_row = 0\nv = StringVar()\nv.set(optionList[0])\ncreate_line(current_row)\nmainloop()\n</code></pre>\n\n<p>If you comment out the code inside the add_line function (except the return line) and run the code, you will see a label, an options menu, and a button. I want the '+' button to create another row with the same widgets. This minimum code is not my real app, but this is the core of what I can't do.</p>\n\n<p>I know it can be done, because I have an app I downloaded that changes the menu options dynamically when I button is pressed, but that technique doesn't seem to work for me.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","pyparsing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":12927787,"title":"parseString works, scanString fails?","body":"<p>Having a problem getting scanString to work in a case where parseString gives a correct result.</p>\n\n<p>This sequence works:</p>\n\n<pre><code>alpha_rev = pyp.Word(pyp.alphas, max=2)\nnum_rev = pyp.Word('123456789', max=2)\nspace = pyp.White(ws=\" \").suppress()\n\nrevisionExpr = (\n    pyp.StringStart().leaveWhitespace() +\n    space +\n    pyp.Combine(alpha_rev + \n    pyp.Optional(num_rev)(\"rev\"))\n    )\n\nrev_string = ' K        WI, This is the title'\n\nfor match_str, start, end in (\n    revisionExpr.scanString(rev_string, maxMatches=1)):\n    print match_str\n\n['K']\n</code></pre>\n\n<p>Sometimes there is a \"Rev\" or \"Rev.\" before the revision; this fails:</p>\n\n<pre><code>revisionExpr = (\n    pyp.StringStart().leaveWhitespace() +\n    space +\n    pyp.Combine(alpha_rev + \n    pyp.Optional(num_rev)(\"rev\"))\n    |\n    pyp.CaselessLiteral(\"Rev\") + pyp.Optional('.') + \n    pyp.Combine(alpha_rev + \n    pyp.Optional(num_rev)(\"rev\"))\n    )\n\nfor match_str, start, end in (\n    revisionExpr.scanString(rev_string, maxMatches=1)):\n    print match_str\n\nprint match_str\nNameError: name 'match_str' is not defined\n</code></pre>\n\n<p>Why is \"|\" causing the the match to fail?  Note that this works with both the first and second example:</p>\n\n<pre><code>revisionTokens = revisionExpr.parseString(rev_string)\n</code></pre>\n\n<p>If I extract the second part of the last example (after the \"|\") into a form like the first example, it works if I add \"Rev.\" in front of the \"K\" in rev_string.  Unfortunately, the leading whitespace in the first expression is necessary to uniquely identifiy the revision string, otherwise, in this example, \"WI\" would match.</p>\n\n<p>I'm trying to use scanString instead of parseString because it returns the starting and ending positions of the match which helps with some later processing.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13263122,"title":"Python Module Repository","body":"<p>I was looking for something similar to perl's <code>Dumper</code> functionality in python. So after googling I found one which serves me well @ <a href=\"https://gist.github.com/1071857#file_dumper.pyamazon\" rel=\"nofollow\">https://gist.github.com/1071857#file_dumper.pyamazon</a></p>\n\n<p>So I downloaded and installed it and it works fine.</p>\n\n<p>But then I came accross PyPI: <a href=\"http://pypi.python.org/pypi\" rel=\"nofollow\">http://pypi.python.org/pypi</a> which looks like CPAN equivalent for python. </p>\n\n<p>So I searched for the Dumper module there and I could not find it there. I was hoping that this seems like a very basic module and should have been listed in PyPI.</p>\n\n<p>So my question is, if I have to install a python module, then should I search in PyPI first and if i do not find then look other places on google? </p>\n\n<p>OR is there any other Python Module repository apart from PyPI?</p>\n\n<p>I am learning python and hence this question.</p>\n\n<p>thanks.</p>\n"},{"tags":["python","django","sorting","admin","user-profile"],"answer_count":4,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":4160,"score":5,"question_id":1474135,"title":"Django Admin: Ordering of ForeignKey and ManyToManyField relations referencing User","body":"<p>I have an application that makes use of Django's <code>UserProfile</code> to extend the built-in Django <code>User</code> model.  Looks a bit like:</p>\n\n<pre><code>class UserProfile(models.Model):\n    user = models.ForeignKey(User, unique=True)\n    # Local Stuff\n    image_url_s = models.CharField(max_length=128, blank=True)\n    image_url_m = models.CharField(max_length=128, blank=True)\n\n    # Admin\n    class Admin: pass\n</code></pre>\n\n<p>I have added a new class to my model:</p>\n\n<pre><code>class Team(models.Model):\n    name = models.CharField(max_length=128)\n    manager = models.ForeignKey(User, related_name='manager')\n    members = models.ManyToManyField(User, blank=True)\n</code></pre>\n\n<p>And it is registered into the Admin:</p>\n\n<pre><code>class TeamAdmin(admin.ModelAdmin):\n    list_display = ('name', 'manager')\n\nadmin.site.register(Team, TeamAdmin)\n</code></pre>\n\n<p>Alas, in the admin inteface, when I go to select a manager from the drop-down box, or set team members via the multi-select field, they are ordered by the User numeric ID.  For the life of me, I can not figure out how to get these sorted.</p>\n\n<p>I have a similar class with:</p>\n\n<pre><code>class Meta:\n    ordering = ['name']\n</code></pre>\n\n<p>That works great!  But I don't \"own\" the <code>User</code> class, and when I try this trick in <code>UserAdmin</code>:</p>\n\n<pre><code>class Meta:\n    ordering = ['username']\n</code></pre>\n\n<p>I get:</p>\n\n<p><code>django.core.management.base.CommandError: One or more models did not validate:</code>\n<code>events.userprofile: \"ordering\" refers to \"username\", a field that doesn't exist.</code></p>\n\n<p><code>user.username</code> doesn't work either.  I could specify, like <code>image_url_s</code> if I wanted to . . . how can I tell the admin to sort my lists of users by <code>username</code>?  Thanks!</p>\n"}]}
{"total":142318,"page":8,"pagesize":100,"questions":[{"tags":["python","string","input"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13262769,"title":"How to choose between input in Python 3.2","body":"<pre><code>input(\"Would you like to read: comedy, political, philisophical, or tragedy?\")\n\na = \"comedy\"\nb = \"political\"\nc = \"philisophical\"\nd = \"tragedy\"\n\nif a:\n    input(\"Would you like the author's nationality to be: English or French?\")\n    e = \"French\"\n    d = \"English\"\n    if e:\n        print(\"Tartuffe\")\n    elif d:\n        print(\"Taming of the Shrew\")\n</code></pre>\n\n<p>When I run the program is just defaults to comedy and then to Tartuffe.<br>\nHow do I get it to recognize the difference genres in the string?</p>\n"},{"tags":["java","python","api","graph","desktop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13262916,"title":"interactive graph and display options","body":"<p>I'm developing a desktop app with python 2.7. I need to show some results on an interactive graph (tree view). First of all, the graph displays just the root and the next level children,  (the children for the next levels are hidden) the tree must show the children for an especific node once the user clicks on one of them, refreshing the entire tree on the same window. When the user reaches the last level, the app must provide a menu. I'm using Zest (java) and os.system(java...) for connecting java code with python, but I'm not 100% comfortable with it\nIs there an api which I can use for creating interactivity in that way, like actionListeners or something? \nthanks!</p>\n"},{"tags":["python","formencode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13240126,"title":"FancyValidator, Validate Only When Another Variable Equals Some Value","body":"<p>I have a Formencode schema something like the following</p>\n\n<pre><code>Class CustomMake(Schema):\n    name     = validators.String( not_empty = True )\n    quantity = validators.Int( not_empty = True )\n\nClass Car( Schema ):\n    do_custom   = validators.StringBool( not_empty = True )\n    custom      = CustomMake(   )\n</code></pre>\n\n<p>What I would like to do is create a condition when, if <code>do_custom</code> in <code>Car</code> is equal to <code>True</code> then <code>CustomMake</code> schema would be called and validated. If it's not True then just ignore testing it. </p>\n\n<p>I tried to get value of <code>do_custom</code> inside a custom <code>FormValidator</code> class for <code>CustomMake</code> but, the <code>value_dict</code> of <code>def _to_python</code> does not include elements not in its own dictionary.</p>\n\n<p>This got me thinking that the way to do this was with some condition test for schema - something akin to the way the compound elements <code>any</code> and <code>foreach</code> work. </p>\n\n<p>This is the working solution for now. </p>\n\n<ol>\n<li>Use pre_validator to copy the value into another dict</li>\n<li>A validator which checks for 'emptyness' when another value is true</li>\n</ol>\n\n<pre><code>class preCopyValue( FancyValidator ):\n\n    __unpackargs__ = ('value_from', 'value_to')\n\n    def _get_values_by_name( self, values, name ):\n        current = values\n        paths = name.split( '.' )\n        for path in paths:\n            current = current.get( path, {} )\n        return current\n\n    def _set_values_by_name( self, values, name, value ):\n        current = values\n        paths   = name.split( '.' )\n        for path in paths[:-1]:\n            current = current.get( path, {} )\n        current[paths[-1]] = value\n        return values\n\n    def _to_python(self, values, state):\n        value  = self._get_values_by_name( values, self.value_from )\n        values =  self._set_values_by_name( values, self.value_to, value )\n        return values\n\n\nclass NotEmptyIfChecked( FormValidator ):\n\n    checked = None\n    __unpackargs__ = ( 'field', )\n\n    def _to_python(self, value_dict, state):\n        is_checked     = value_dict.get( self.checked )\n        if is_checked is not True:\n            return value_dict\n\n        field = value_dict.get( self.field )\n        if not field:\n            raise Invalid(\n                'Enter a value for %s' % self.field,\n                value_dict, state,\n                error_dict={  self.field :\n                                Invalid(self.message('empty', state),\n                                        value_dict.get( self.field ), state)})\n        return value_dict\n</code></pre>\n\n<p>Finally update the schemas</p>\n\n<pre><code>Class CustomMake(Schema):\n    do_custom = validators.StringBool(  )\n    name     = validators.String( )\n    quantity = validators.Int( )\n\n    chained_validators = [ NotEmptyIfChecked( 'name',  checked='do_custom' ),\n                           NotEmptyIfChecked( 'quantity',  checked='do_custom' ) ]\n\nClass Car( Schema ):\n    do_custom   = validators.StringBool( not_empty = True )\n    custom      = CustomMake(   )\n\n    pre_validators = [ preCopyValue( 'do_custom', 'custom.do_custom' ) ]\n</code></pre>\n\n<p>Any Suggestions on a cleaner way to do the above?</p>\n"},{"tags":["javascript","python","closures"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":321,"score":7,"question_id":5910146,"title":"Difference between closures in python and javascript","body":"<p>In JS, we can write closure like:</p>\n\n<pre><code>function f(){\nvar a=0;\nfunction g(){\n    alert(a++);\n}\nreturn g;\n}\ng=f()\ng()\n</code></pre>\n\n<p>However, if I write following code in python</p>\n\n<pre><code>def f():\n    a=0\n    def g():\n        a+=1\n        print a\n    return g\ng=f()\ng()\n</code></pre>\n\n<p>Then I get <em>UnboundedLocalError</em>.</p>\n\n<p>Can anyone tell me the difference between closure in python and JS?</p>\n"},{"tags":["python","python-3.x"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":53,"score":1,"question_id":13262864,"title":"Filtering a list in Python","body":"<p>Source list of dictionaries</p>\n\n<pre><code>[\n    {'main_id': 0, '_id': ObjectId('111111111111111'), 'key1': 'val1'}, \n    {'main_id': 1, '_id': ObjectId('222222222222222'), 'key1': 'val2'}, \n    {'main_id': 1, '_id': ObjectId('333333333333333'), 'key1': 'val3'}, \n    {'main_id': 4, '_id': ObjectId('444444444444444'), 'key1': 'val4'},\n    {'main_id': 2, '_id': ObjectId('555555555555555'), 'key1': 'val5'},\n]\n</code></pre>\n\n<p>filtered list of dictionaries</p>\n\n<pre><code>[\n    {'main_id': 0, '_id': ObjectId('111111111111111'), 'key1': 'val1'}, \n    {'main_id': 1, '_id': ObjectId('222222222222222'), 'key1': 'val2'}, \n    {'main_id': 2, '_id': ObjectId('555555555555555'), 'key1': 'val3'},\n]\n</code></pre>\n\n<p>I want to get a new list of dictionaries:</p>\n\n<pre><code>[\n    {'main_id': 1, '_id': ObjectId('333333333333333'), 'key1': 'val3'}, \n    {'main_id': 4, '_id': ObjectId('444444444444444'), 'key1': 'val4'},\n]\n</code></pre>\n\n<p>in other words, I want a new list to contain values that don't exist in a filtered list.\nYour ideas?</p>\n"},{"tags":["python","mysql","macports"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12439362,"title":"Installing MySQL driver for Python on Mac","body":"<p>I am running MAMP and Python as CGI. I want to connect MySQL. I tried MySQLDb by installing it with pip but it did not work and python could not locate MySQLDb at all.</p>\n\n<p>Can you tell me how can I install it by using Macport provider I already have Apache,MySQL and Python 2.6 installed?</p>\n\n<p>Thanks</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Installing via pip gave following O/P:</p>\n\n<blockquote>\n  <p>Downloading/unpacking mysql-python   Downloading\n  MySQL-python-1.2.3.tar.gz (70Kb): 70Kb downloaded   Running setup.py\n  egg_info for package mysql-python\n      warning: no files found matching 'MANIFEST'\n      warning: no files found matching 'ChangeLog'\n      warning: no files found matching 'GPL' Installing collected packages: mysql-python   Running setup.py install for mysql-python\n      building '_mysql' extension\n      /usr/bin/gcc-4.2 -fno-strict-aliasing -fno-common -dynamic -pipe -O2 -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Dversion_info=(1,2,3,'final',0) -D_<em>version</em>_=1.2.3 -I/usr/local/Cellar/mysql/5.5.15/include -I/opt/local/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6\n  -c _mysql.c -o build/temp.macosx-10.6-x86_64-2.6/_mysql.o -g\n      In file included from _mysql.c:36:\n      /usr/local/Cellar/mysql/5.5.15/include/my_config.h:330:1: warning: \"SIZEOF_SIZE_T\" redefined\n      In file included from /opt/local/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6/Python.h:9,\n                       from pymemcompat.h:10,\n                       from _mysql.c:29:\n      /opt/local/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6/pymacconfig.h:37:1:\n  warning: this is the location of the previous definition\n      In file included from _mysql.c:36:\n      /usr/local/Cellar/mysql/5.5.15/include/my_config.h:423:1: warning: \"HAVE_WCSCOLL\" redefined\n      In file included from /opt/local/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6/Python.h:8,\n                       from pymemcompat.h:10,\n                       from _mysql.c:29:\n      /opt/local/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6/pyconfig.h:808:1:\n  warning: this is the location of the previous definition\n      /usr/bin/gcc-4.2 -L/opt/local/lib -bundle -undefined dynamic_lookup build/temp.macosx-10.6-x86_64-2.6/_mysql.o\n  -L/usr/local/Cellar/mysql/5.5.15/lib -lmysqlclient_r -lpthread -lz -lssl -lcrypto -o build/lib.macosx-10.6-x86_64-2.6/_mysql.so\n      warning: no files found matching 'MANIFEST'\n      warning: no files found matching 'ChangeLog'\n      warning: no files found matching 'GPL' Successfully installed mysql-python Cleaning </p>\n</blockquote>\n\n<p>I am using the MySQL shipped with MAMP. I had also set PATH to Binary of MySQL within MAMP folder</p>\n\n<p><strong>Another Update</strong></p>\n\n<p>Turned out that Mysql-Python egg did not install at all in:</p>\n\n<p><strong>/Library/Python/2.6/site-packages</strong></p>\n\n<p>What am I missing?</p>\n"},{"tags":["python","function","unique"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13245305,"title":"Python- creating a function to get a unique list from unknown number of arguments","body":"<p>New to python-can someone tell me what I am doing wrong?</p>\n\n<p>I need to write a function that takes unknown number of arguments and returns a unique list. \nFor example:</p>\n\n<pre><code>a= ['mary', 'james', 'john', 'john']\nb= ['elsie', 'james', 'elsie', 'james']\n\nunique_list(a,b)\n\n['mary', 'james','john', 'elsie']\n</code></pre>\n\n<p>This is some of the code I have after doing some research but the output is not what I need:</p>\n\n<pre><code>def unique_list:(*something)\n    result1= list(something)\n    result = ' '.join(sum(result1, []))\n    new= []\n    for name in result:\n            if name not in new:\n                           new.append(name)\n    return new\n</code></pre>\n\n<pre>       \n>>> unique_list(a,b)\n['m', 'a', 'r', 'y', ' ', 'j', 'e', 's', 'o', 'h', 'n', 'l', 'i']\n</pre>\n\n<p>This is another one I have tired:</p>\n\n<pre><code>def unique_list(*something):\n    result= list(something) \n    new=[]\n    for name in result:\n        if name not in new:\n            new.append(name)\n    return new\n</code></pre>\n\n<pre>\n>>> unique_list(a,b)\n[['mary', 'james', 'john', 'john'], ['elsie', 'james', 'elsie', 'james']]\n</pre>\n\n<p>Another one but I got an error message:</p>\n\n<pre><code>def single_list(*something):\n    new=[]\n    for name in something:\n        if name not in new:\n            new.append(name)\n    new2= list(set(new))\n    return new2\n</code></pre>\n\n<pre>\n>>> single_list(a,b)\nTraceback (most recent call last):\n  File \"\", line 1, in \n    single_list(a,b)\n  File \"\", line 6, in single_list\n    new2= list(set(new))\nTypeError: unhashable type: 'list'\n</pre>\n\n<p>Any ideas? Thank you in advance for all your help.</p>\n"},{"tags":["python","correlation"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13262654,"title":"Calculating correlations between every item in a list","body":"<p>I'm trying to calculate the Pearson correlation correlation between every item in my list. I'm trying to get the correlations between data[0] and data[1], data[0] and data[2], and data[1] and data[2].</p>\n\n<pre><code>import scipy\nfrom scipy import stats\n\ndata = [[1, 2, 4], [9, 5, 1], [8, 3, 3]]\n\ndef pearson(x, y):\n    series1 = data[x]\n    series2 = data[y]\n    if x != y:\n        return scipy.stats.pearsonr(series1, series2)\n\nh = [pearson(x,y) for x,y in range(0, len(data))]\n</code></pre>\n\n<p>This returns the error <code>TypeError: 'int' object is not iterable</code> on <code>h</code>. Could someone please explain the error here? Thanks.</p>\n"},{"tags":["python","list","unique"],"answer_count":12,"favorite_count":19,"up_vote_count":69,"down_vote_count":0,"view_count":41299,"score":69,"question_id":480214,"title":"How do you remove duplicates from a list in Python whilst preserving order?","body":"<p>Is there a built-in that removes duplicates from list in Python, whilst preserving order? I know that I can use a set to remove duplicates, but that destroys the original order. I also know that I can roll my own like this:</p>\n\n<pre><code>def uniq(input):\n  output = []\n  for x in input:\n    if x not in output:\n      output.append(x)\n  return output\n</code></pre>\n\n<p>(Thanks to <a href=\"http://stackoverflow.com/users/28169/unwind\">unwind</a> for that <a href=\"http://stackoverflow.com/questions/479897/how-do-you-remove-duplicates-from-a-list-in-python#479921\">code sample</a>.)</p>\n\n<p>But I'd like to avail myself of a built-in or a more Pythonic idiom if possible.</p>\n\n<p>Related question: <a href=\"http://stackoverflow.com/questions/89178/in-python-what-is-the-fastest-algorithm-for-removing-duplicates-from-a-list-so-t\">In Python, what is the fastest algorithm for removing duplicates from a list so that all elements are unique <em>while preserving order</em>?</a></p>\n"},{"tags":["python","mysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13262598,"title":"Error occur installing MySQL-Python","body":"<p>An error occurs while installing MySQL - python to 'python version v2.7 required, which was not found in regstry'. What should I do? Note that I used python v2.7.3, win7 64bit</p>\n"},{"tags":["python","command-line","syntax","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13261938,"title":"Installed Python on Windows 8, getting syntax errors on simple statements","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/826948/syntax-error-on-print-with-python-3\">Syntax error on print with Python 3</a>  </p>\n</blockquote>\n\n\n\n<p>For example, if I just start python from the command line with \"python\" then run something like </p>\n\n<p><code>print \"test\"</code></p>\n\n<p>It throws a syntax error. That's really odd, but statements like</p>\n\n<p><code>1+1</code></p>\n\n<p>Work fine.</p>\n"},{"tags":["python","append"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":5,"view_count":60,"score":-3,"question_id":13261264,"title":"Request for yet another one liner in Python","body":"<p>Can you guys think of any one liners equal to if/else statements:</p>\n\n<pre><code>d = dict()\n\nkey = 1, 2\n\nif key in d:\n    d[key]['idx'] += [2]\nelse:\n    d[key] = {'idx': [2]}\n\nprint d\n</code></pre>\n\n<p>?</p>\n\n<p>EDIT:\nThanks guys. You narrowed me to collection.defaultdict &amp; dict.setdafault and with this in mind I was able to achieve what I wanted:</p>\n\n<pre><code>from collections import defaultdict\n\nd = dict()\nkey = 1, 2\nd.setdefault(key, {'idx': []})\nd[key]['idx'] += [2]\n</code></pre>\n\n<p>Maybe it is not one liner as it spreads over 2 lines (setdefault() call and then in place addition), but looks nicer though.</p>\n\n<p>But still, if anyone have any ideas how to make it real one liner please share it.</p>\n"},{"tags":["python","list"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13258312,"title":"Python adding lists into a single list with only elements","body":"<p>Sorry for the awkward title but I'll explain better here;</p>\n\n<p>In the function below;</p>\n\n<pre><code>def returnList():\n  list = []\n  for i in xrange(4):\n    list.append(i)\n\n  return list\n</code></pre>\n\n<p>It returns the list [0,1,2,3]. In another function;</p>\n\n<pre><code>def returnAllLists():\n  totalList = []\n  for i in xrange(4):\n    totalList.append(returnList())\n\n  return totalList\n</code></pre>\n\n<p>As expected it turns a result like <pre>[[1,2,3,4],[1,2,3,4],[1,2,3,4],[1,2,3,4]]</pre>. The tricky part is that I need the result <pre>[1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4]</pre>. I can of course easily assign the result of returnAllList to another list <b>and go for two loops and insert the elements individually into another list</b> however I think a more efficient way could be done since my method has an <b>O(N^2)</b> complexity just for assigning same values in a different way. Any suggestions?</p>\n"},{"tags":["python","data-structures"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13262382,"title":"Find maximum value in a list of dictionaries","body":"<p>Given a data structure:</p>\n\n<pre><code>   [\n    {'id':0, 'items': \n      [\n       {'id': 0,  name: \"Tom1\", age: 10}, \n       {'id': 0, name: \"Mark1\", age: 15}, \n       {'id': 0, name: \"Pam1\", age: 17}\n      ]\n    },\n    {'id':1, 'items': \n      [\n       {'id': 1,  name: \"Tom12\", age: 8}, \n       {'id': 1, name: \"Mark12\", age: 3}, \n       {'id': 1, name: \"Pam12\", age: 2}\n      ]\n    },\n\n    {'id':2, 'items': \n      [\n       {'id': 2,  name: \"Tom13\", age: 55}, \n       {'id': 2, name: \"Mark13\", age: 66}, \n       {'id': 2, name: \"Pam13\", age: 77}\n      ]\n    },\n  ]\n</code></pre>\n\n<p>I want to find an item in each dictionary where age has maximum value and select it. How do I achieve that?</p>\n"},{"tags":["python","mongodb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13261511,"title":"What is the best data structure for embedded docs MongoDB?","body":"<p>Suppose each of my users can save many \"smart searches\":</p>\n\n<pre><code>user = {\n    'username':'johncit',\n    'smart_searches': [\n        {'name':'last 24 hrs','terms':{'modifiedby':datetime(2012,1,1),'title':'foobar'}},\n        {'name':'blabla','terms':{'title':'whatever','otherfield':500}}\n            ]\n        }\n</code></pre>\n\n<p>Now say John hits his 'blabla' search.  How do I get the terms?  I can get all John's smart searches like this:</p>\n\n<pre><code>db.Users.find_one({\n        'username':'johncit','smart_searches':{'$elemMatch':{'Name':'blabla'}}})\n</code></pre>\n\n<p>But this returns the whole document, not just the terms for the 'blabla' search, which is what I really need.  Do I then have to figure out the precise terms on the client-side?  Or is this a case for putting 'smart_searches' in their own collection?  Is there a better structure?</p>\n\n<p>I would love to hear your thoughts.</p>\n"},{"tags":["python","decorator","prepend","docstring"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13262320,"title":"Prepending a function docstring with a decorator in python","body":"<p>How would you be able to prepend a functions docstring with a decorator?</p>\n\n<pre><code>def g(func):\n    someOtherDocString = \"That is great\"\n    def wrap(*args, **kwargs):\n        func(*args, **kwargs)\nreturn wrap\n\n@g\ndef f():\n\"\"\" This is awesome \"\"\"\n</code></pre>\n\n<p>result:</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>help(f)</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<pre><code>Help on function f in module __main__:\n\nf()\n    That is great\n    That is awesome\n</code></pre>\n\n<p>All the help woudl be greatly appreciated.</p>\n"},{"tags":["python","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13262173,"title":"Please help understanding how the 'return' statement is used in this example","body":"<p>I'm currently learning python using Learn Python the Hard Way and really enjoying it. In one of the lesson examples, there is a use of 'return' that I fail to grasp.</p>\n\n<p>The lesson I'm stuck on is <a href=\"http://learnpythonthehardway.org/book/ex43.html\" rel=\"nofollow\">Exercise 43: Gothons From Planet Percal #25</a>. I understand that when the game is first run <code>next_room_name</code> is set to <code>central_corridor</code> and so <code>central_corridor()</code> is called during the first loop under <code>play()</code>.\nWhat I don't understand is how <code>self.start</code> get's re-assigned.</p>\n\n<p>For example, in the instance of <code>death</code> being returned under <code>central_corridor()</code>. After the return on line 49, we're back in the <code>play(self): while True</code> loop. The first line is <code>next_room_name = self.start</code> As far as I know, <code>self.start</code> still equals <code>central_corridor</code>, but it apparently is now equalling <code>death</code>.</p>\n\n<p>Does this mean that after <code>death</code> is returned, and still in the <code>while</code> loop under <code>play()</code>, the object <code>Game()</code> has been reinitialized, the <code>__init__</code> being fed the results of the return? I'm confused how the <code>next_room_name = self.start</code> under <code>__init__</code> is being reassigned to <code>death</code> when we're technically still in the <code>play(self): while True</code> loop and haven't exited it. I guess I'm confused as to where <code>death</code> is being returned to.</p>\n"},{"tags":["python","unit-testing"],"answer_count":8,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":2270,"score":3,"question_id":4095319,"title":"Unittest tests order","body":"<p>How do I be sure of the unittest methods order? Is the alphabetical or numeric prefixes the proper way?</p>\n\n<pre><code>class TestFoo(TestCase):\n    def test_1(self):\n        ...\n    def test_2(self):\n        ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>class TestFoo(TestCase):\n    def test_a(self):\n        ...\n    def test_b(self):\n        ...\n</code></pre>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13262022,"title":"Regex issue in python: try to detect `column` datatype(digits)","body":"<p>I want to distinquish strings like </p>\n\n<pre><code>`citizen_group` int(10) NOT NULL,\n`container_group` int(10) NOT NULL,\n</code></pre>\n\n<p>from strings like</p>\n\n<pre><code>PRIMARY KEY (`citizen_group`,`container_group`),\nKEY `fk_containergroup_readeraccess` (`container_group`)\n</code></pre>\n\n<p>Therefor I've created this regex</p>\n\n<pre><code>`?\\w+`?\\s\\w+\\(d+(,\\s?\\d+)?\\)\n   ^\n\n*\\w+`*   : string, wrapped in ` is possible.                `column`\n\\s       : followed by a space                       \n\\w+      : followed by one or more characters                real\n\\(d+     : followd by ( with one or more digits              (10\n(,\\s?\\d)?: followed by 0 or 1 , with digits                  ,3\n\\)       : end with a )                                      )\n</code></pre>\n\n<p>But this regex selects not only to first 2 strings, but also the last</p>\n\n<pre><code>KEY `fk_containergroup_readeraccess` (`container_group`)\n</code></pre>\n\n<p>Can someone tell me why this is? And how I need to modify the regex so that it selects only the first two?</p>\n"},{"tags":["python","response","wait","telnetlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13262276,"title":"python telnetlib module: reading and waiting for responses","body":"<p>I am having a similar problem to this poster: </p>\n\n<p><a href=\"http://stackoverflow.com/questions/4000957/python-telnetlib-surprising-problem/13262236#13262236\">Python telnetlib: surprising problem</a></p>\n\n<p>Note the response and my response below it. </p>\n\n<p>Essentially telnetlib is not letting me read an entire response when calling any of the read functions.</p>\n\n<p>when calling telnet.read_very_eager() after using select.select([telnetobject],[],[]) in a while loop to make sure reading is available, the only thing I will get are a few characters. The only solution so far I am able to come up with is using time.sleep() but it is too crude of a solution and am looking for something that fits better. Any help appreciated...</p>\n"},{"tags":["python","numpy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13261455,"title":"Numpy setting j, j+1, j+2 to a","body":"<p>Is there a short-code efficient way of \"glueing\" two arrays together such that if the arrays differ in length then the glued product must be such that the values from the longer are filled between values from the smaller untill the the new product has the same length as sum of the length of the two arrays? Or: Is there a way to create an array where x = [a j j j b j j j ], that is to say, take array that has values [a b], create a new one by filling 3 js between each element of that array to get : [a j j j b]</p>\n\n<p>There is the obvious way of doing this by a loop since I know the size of the product beforehand but I suspect there must be a more \"numpyic\" solution at hand.</p>\n\n<p>It is easy to do when both arrays I want to \"glue\" are of the same size and the product is [a j b j c j], ie every other as can be seen in this:</p>\n\n<pre><code>np.append(np.zeros((10,1)),np.ones((10,1)),1).reshape(2*10)\narray([ 0.,  1.,  0.,  1.,  0.,  1.,  0.,  1.,  0.,  1.,  0.,  1.,  0.,\n    1.,  0.,  1.,  0.,  1.,  0.,  1.])\nbut you cannot do\nnp.append(np.zeros((10,1)),np.ones((20,1)),1).reshape(20+10)\n</code></pre>\n\n<p>I apologize if the question isn't clear enough, please do tell which parts I can clarify, my English is broken.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13262066,"title":"Find a minimal value in each array in Python","body":"<p>Suppose I have the following data in Python 3.3:</p>\n\n<pre><code>my_array = \n   [{'man_id': 1, '_id': ObjectId('1234566'), 'type': 'worker', 'value': 11}, \n   {'man_id': 1, '_id': ObjectId('1234577'), 'type': 'worker', 'value': 12}],\n\n   [{'man_id': 2, '_id': ObjectId('1234588'), 'type': 'worker', 'value': 11}, \n    {'man_id': 2, '_id': ObjectId('3243'), 'type': 'worker', 'value': 7},\n    {'man_id': 2, '_id': ObjectId('54'), 'type': 'worker', 'value': 99},\n    {'man_id': 2, '_id': ObjectId('9879878'), 'type': 'worker', 'value': 135}],\n   #.............................\n   [{'man_id': 13, '_id': ObjectId('111'), 'type': 'worker', 'value': 1}, \n    {'man_id': 13, '_id': ObjectId('222'), 'type': 'worker', 'value': 2},\n    {'man_id': 13, '_id': ObjectId('3333'), 'type': 'worker', 'value': 9}]\n</code></pre>\n\n<p>There are 3 arrays. How do I find  an element in each array with minimal value?</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13261855,"title":"`pandas.DataFrame.apply` in a row by row operation","body":"<p>I would like to return a dataFrame with each row sorted (let's say descending).  So if I have the <code>pandas.DataFrame</code> named <code>data</code>:</p>\n\n<pre><code>In [38]: data\nOut[38]: \n                  c1        c2        c3        c4        c5        c6\nDate                                                                  \n2012-10-22  0.973371  0.226342  0.968282  0.872330  0.273880  0.746156\n2012-10-19  0.497048  0.351332  0.310025  0.726669  0.344202  0.878755\n2012-10-18  0.315764  0.178584  0.838223  0.749962  0.850462  0.400253\n2012-10-17  0.162879  0.068409  0.704094  0.712860  0.537545  0.009789\n</code></pre>\n\n<p>I would like the following returned:</p>\n\n<pre><code>In [39]: sorted_frame\nOut[39]: \n                   0         1         2         3         4         5\nDate                                                                  \n2012-10-22  0.973371  0.968282  0.872332  0.746156  0.273880  0.226342\n2012-10-19  0.878755  0.726669  0.497048  0.351332  0.344202  0.310025\n2012-10-18  0.850462  0.838223  0.749962  0.400253  0.315764  0.178584\n2012-10-17  0.712860  0.704094  0.537545  0.162879  0.068409  0.009789\n</code></pre>\n\n<p>I've tried <code>DataFrame.sort(axis = 1)</code> however, that doesn't achieve the desired result:</p>\n\n<pre><code>In [40]: data.sort(axis = 1)\nOut[43]: \n                  c1        c2        c3        c4        c5        c6\nDate                                                                  \n2012-10-22  0.973371  0.226342  0.968282  0.872330  0.273880  0.746156\n2012-10-19  0.497048  0.351332  0.310025  0.726669  0.344202  0.878755\n2012-10-18  0.315764  0.178584  0.838223  0.749962  0.850462  0.400253\n2012-10-17  0.162879  0.068409  0.704094  0.712860  0.537545  0.009789\n</code></pre>\n\n<p>I've created the following function that accomplishes what I'm looking for (using the <code>pandas.TimeSeries.order()</code>):</p>\n\n<pre><code>import numpy\n\ndef sorted_by_row(frame, ascending = False):\n    vals = numpy.tile(numpy.nan,frame.shape)\n    for row in numpy.arange(frame.shape[0]):\n        vals[row, :] = frame.ix[row, :].order(ascending = ascending)\n    return pandas.DataFrame(vals, index = frame.index)\n</code></pre>\n\n<p>However, my goal is to be able to use a row-wise function in the <code>DataFrame.apply()</code> method (so I can apply the desired functionality to other functions I build).  I've tried:</p>\n\n<pre><code> #TimeSeries.order() sorts a pandas.TimeSeries object\n data.apply(lambda x: x.order(), axis = 1)\n</code></pre>\n\n<p>But again, I'm not getting the desired <code>DataFrame</code> above (I've outputted enough <code>DataFrame'</code>s so I'll spare the page the real estate).</p>\n\n<p>Your help is greatly appreciated,</p>\n\n<p>-B</p>\n"},{"tags":["python","telnet","telnetlib"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1537,"score":2,"question_id":4000957,"title":"Python telnetlib: surprising problem","body":"<p>I am using the Python module telnetlib to create a telnet session (with a chess server), and I'm having an issue I really can't wrap my brain around. The following code works perfectly:</p>\n\n<pre><code>&gt;&gt;&gt; f = login(\"my_server\") #code for login(host) below.\n&gt;&gt;&gt; f.read_very_eager()\n</code></pre>\n\n<p>This spits out everything the server usually prints upon login. However, when I put it inside a function and then call it thus:</p>\n\n<pre><code>&gt;&gt;&gt; def foo():\n...   f = login(\"my_server\")\n...   return f.read_very_eager()\n...\n&gt;&gt;&gt; foo()\n</code></pre>\n\n<p>I get nothing (the empty string). I can check that the login is performed properly, but for some reason I can't see the text. So where does it get swallowed?</p>\n\n<p>Many thanks.</p>\n\n<p>For completeness, here is login(host):</p>\n\n<pre><code>def login(host, handle=\"guest\", password=\"\"):\ntry:\n    f = telnetlib.Telnet(host) #connect to host\nexcept:\n    raise Error(\"Could not connect to host\")\nf.read_until(\"login: \")\ntry:\n    f.write(handle + \"\\n\\r\")\nexcept:\n    raise Error(\"Could not write username to host\")\nif handle == \"guest\":\n    f.read_until(\":\\n\\r\")\nelse:\n    f.read_until(\"password: \")\ntry:\n    f.write(password + \"\\n\\r\")\nexcept:\n    raise Error(\"Could not write password to host\")\nreturn f\n</code></pre>\n"},{"tags":["python","pool","ioerror"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13262182,"title":"Python Multiprocessing IOError: [Errno 22] invalid mode ('w+') or filename:","body":"<p>I have a function that works fine when I set it up as: </p>\n\n<pre><code>result=map(myFunction,dataList)\n</code></pre>\n\n<p><code>myFunction</code> writes and reads a file to HDD.</p>\n\n<p>However when I rewrite it as <code>result=pool.map(myFunction,dataList)</code> (after invoking multiprocessing etc). I get the error:</p>\n\n<blockquote>\n  <p>IOError: [Errno 22] invalid mode ('w+') or filename:followed by path of file and filename. </p>\n</blockquote>\n\n<p>This file appears to be written - but when reading there seems to be a problem.</p>\n\n<p>Has anyone experienced this? </p>\n"},{"tags":["python","django","celery","newrelic-rpm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13262170,"title":"Stop New Relic / Celery From Polluting Logs on Heroku","body":"<h1>Question</h1>\n\n<p>How can you stop New Relic / Celery from constantly printing the below to Heroku's log.</p>\n\n<pre><code>app[scheduler.1]: [INFO/MainProcess] Starting new HTTP connection (1): collector-6.newrelic.com\napp[scheduler.1]: [INFO/MainProcess] Starting new HTTP connection (1): collector-6.newrelic.com\napp[scheduler.1]: [INFO/MainProcess] Starting new HTTP connection (1): collector-6.newrelic.com\napp[scheduler.1]: [INFO/MainProcess] Starting new HTTP connection (1): collector-6.newrelic.com\n</code></pre>\n\n<h2>Setup</h2>\n\n<p>The above log entries appear every minute. The app reporting this is a celery worker started via <code>Procfile</code> that reads (in part):</p>\n\n<pre><code>scheduler: newrelic-admin run-program python manage.py celery worker --loglevel=ERROR -B -E --maxtasksperchild=1000\n</code></pre>\n\n<p>Despite setting <code>loglevel</code> to <code>ERROR</code> it appears that celery is ignoring this argument. Interestingly enough, on my local machine, this setting is respected.</p>\n\n<h3>Versions</h3>\n\n<pre><code>celery==3.0.12\ndjango-celery==3.0.11\nnewrelic==1.6.0.13\n</code></pre>\n"},{"tags":["c++","python","unix"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13261843,"title":"Python receives SIGSEGV while loading C++ written extension module","body":"<p>Right code example:</p>\n\n<pre><code>#include \"Python.h\"\n#include &lt;string&gt;\n\nextern const int someConstant;\n\nvoid some_function()\n{\n  const char *begin = NULL;\n  const char *end = NULL;\n\n  std::string s(begin, end);\n  const int v = someConstant;\n}\n\nstatic PyMethodDef _G_methods[] =\n{\n    {NULL, NULL, 0, NULL}        /* Sentinel */\n};\n\nPyMODINIT_FUNC initsf()\n{\n  PyObject *module;\n\n  if (!(module = Py_InitModule(\"sf\", _G_methods)))\n  {\n    return;\n  }\n\n  PyObject *pyerror = PyErr_NewException(\"fs.error\", NULL, NULL);\n  Py_INCREF(pyerror);\n\n\n  PyModule_AddObject(module, \"error\", pyerror);\n}\n</code></pre>\n\n<p>This is extension module draft. As simple as possible. It has an empty method table and initializer function copied from original <a href=\"http://docs.python.org/2/extending/extending.html\" rel=\"nofollow\">docpage</a>. It contains 2 (two) intentional errors:</p>\n\n<ul>\n<li><p>variable someConstant declared but never defined;</p></li>\n<li><p>function some_function defined, but never called;</p></li>\n</ul>\n\n<p>If compiled and opened by dlopen/dlsym:</p>\n\n<pre><code>sf.so: undefined symbol: someConstant\n</code></pre>\n\n<p>as required. But if loaded by Python interpreter:</p>\n\n<pre><code>&gt;&gt;&gt; from sf import *\nSegmentation fault (core dumped)\n</code></pre>\n\n<p>and the most strange is python's backtrace dumped from core-file:</p>\n\n<pre><code>#0  0x00000bd6 in ?? ()\n#1  0xb775c057 in char* std::string::_S_construct&lt;char const*&gt;(char const*, char const*, std::allocator&lt;char&gt; const&amp;, std::forward_iterator_tag) () from /usr/local/lib/python2.7/dist-packages/sf.so\n#2  0xb6f9abb6 in std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;) () from /usr/lib/i386-linux-gnu/libstdc++.so.6\n#3  0xb6c3fe30 in pkgInitConfig(Configuration&amp;) () from /usr/lib/i386-linux-gnu/libapt-pkg.so.4.12\n#4  0xb6cf959e in ?? () from /usr/lib/python2.7/dist-packages/apt_pkg.so\n#5  0x081949c1 in PyEval_EvalFrameEx ()\n#6  0x0819af70 in PyEval_EvalCodeEx ()\n#7  0x0819bb03 in PyImport_ExecCodeModuleEx ()\n#8  0x0814bd40 in ?? ()\n#9  0x080a38c2 in ?? ()\n#10 0x0814c6d4 in ?? ()\n#11 0x081031ae in ?? ()\n...\n</code></pre>\n\n<p>It seems, Python's loader calls std::string constructor :-).</p>\n\n<p>So, stack corrupted. It happens either while loading invalid module or while unloading it after error handled. It never happens if sample code is little changed. This behavior has been observed on Python 2.7.3/Linux Ubuntu 10/gcc 4.6.3 and definitely not shown on Python 2.7.1/FreeBSD 8.1/gcc 4.2.1.</p>\n\n<p>Question:</p>\n\n<ol>\n<li>Is it a Python's bug or my sample code has errors?</li>\n</ol>\n"},{"tags":["python","simulation","particle"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":13262141,"title":"Python - Particle Simulation","body":"<p>Imagine a \"particle\" located on the centre square of a two‑dimensional grid of dimensions 11 by 75. The particle can only move one square at a time, either up, down, left, or right. Associated with each possible motion are the following probabilities:</p>\n\n<p>Up 1/12</p>\n\n<p>Down 1/12</p>\n\n<p>Left 1/24</p>\n\n<p>Right 19/24</p>\n\n<p>Write a program that simulates the motion of the particle within the grid, until it reaches an \"exit\" at the square in row 6, column 75. The particle cannot \"penetrate\" any of the four boundaries. Have the program repeat the simulation 10 times and calculate the average total distance travelled by the particle until it exits.</p>\n\n<p>I've been working on this for weeks now, and haven't found any solutions to it. If anyone could provide me a possible solution, that would be great! </p>\n"},{"tags":["python","syntax","else"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13262110,"title":"Python: Syntax Error?","body":"<pre><code>A=int(input('Enter the first of three numbers: '))\nB=int(input('Enter the second of three numbers: '))\nC=int(input('Enter the third of three numbers: '))\nlist=[A,B,C]\nSL=sorted(list)\nif SL[0]&lt;0:\n    if SL[1]-1==SL[0]:\n        print (list('they are good'))\n    else: print (list('not good'))\nelif SL[2]-1==SL[1]:\n    print (list('they are good')\nelse: print (list('not good'))\n</code></pre>\n\n<p>I keep getting a syntax error on the last line in between else and : and i have no idea why it's wrong when i have the exact same line 3 lines above. Any help much appreciated.</p>\n"},{"tags":["python","memory-leaks","multiprocessing"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":145,"score":5,"question_id":13134726,"title":"tracing memory leaks in Python (multiprocessing)","body":"<p>I have a <code>multiprocessing</code> application that leaks memory. However, the leak is not in the main process (according to <a href=\"http://www.aminus.org/blogs/index.php/2008/06/11/tracking-memory-leaks-with-dowser?blog=2\" rel=\"nofollow\">Dowser</a> and <code>top</code>) but in the subprocesses. Is there any way I can use Dowser (or similar tool) on subprocesses to trace the leak? If not, how do it trace it?</p>\n\n<p>UPDATE:I spent lots of time trying to use <a href=\"http://www.smira.ru/wp-content/uploads/2011/08/heapy.html\" rel=\"nofollow\">heapy</a> and <a href=\"http://stackoverflow.com/questions/1641231/python-working-around-memory-leaks/1641280#1641280\">gnibbler's code</a> but I couldn't locate the leak. I then stopped cherrypy in the main process and started another one (with <a href=\"http://www.aminus.org/blogs/index.php/2008/06/11/tracking-memory-leaks-with-dowser?blog=2\" rel=\"nofollow\">Dowser</a>) in the subprocess. But after a few minutes CherryPy would stop listening to the port... :( So I'm still looking for a better idea.</p>\n"},{"tags":["python","csv","dictionary","iteration","dictionaries"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13262006,"title":"Python adding entries to a dictionary from csv file using iteration","body":"<p>I need a dictionary to iterate a through a csv file, make some minor changes and add entries to the dictionary from a csv file.</p>\n\n<p>I have this so far, but the dictionary will only work for the very last line the file.</p>\n\n<pre><code>def citypop():\n    import csv                                  \n    F = open(\"Top5000Population.txt\")           \n    csvF = csv.reader(F)\n    D = {}\n    with csvF for row in csvF:\n        city,state,population = row[0],row[1],row[2] \n        population = population.replace(',','') \n        population = int(population)\n        city = city.upper()[:12]\n        D[(city, state)] = population\n        return D\n</code></pre>\n\n<p>What can I change to allow all of the lines from the file to be added to the empty dictionary?</p>\n"},{"tags":["python","backbone.js","socket.io","dashboard"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13260986,"title":"Which javascript library better suited for dynamic realtime widgets/dashboard?","body":"<p>I will build a dashboard for internal use in html5. I'm struggling in what library use for the client-side of refresh of realtime/dynamic widgets (graphs, status, etc) like this screenshoot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/2sDcC.png\" alt=\"Sample idea\"></p>\n\n<p>The idea is have a backend server that push with Socket.IO the data to the client(s). In the dashboard, several widgets will be update potentially each few seconds. The widgets will be added/deleted by the user. So, the app is contained in a single page.</p>\n\n<p>I don't have experience in use this kind of libraries, mainly backend code with python/c#. I have heard about <a href=\"http://backbonejs.org/\" rel=\"nofollow\">http://backbonejs.org/</a> but wonder which library fit best to my use case:</p>\n\n<p>I wish to have a way to separate the render from the data sources, ie: The data is \"CPU usage\" and is rendered AT THE SAME TIME by two widgets: A line chart and a speedometer.</p>\n\n<p>P.D: This is not the actual design of my dashboard, is only for show the <em>kind</em> of user interface similar to what I could develop (I don't have yet the gui). The original design belong to <a href=\"http://dribbble.com/shots/780188-Morning\" rel=\"nofollow\">http://dribbble.com/shots/780188-Morning</a></p>\n"},{"tags":["java","python","security","encryption","aes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13262047,"title":"AES Encryption (Python and Java)","body":"<p>I'm making a project in Java and Python that includes sending an encrypted string from one to the other. I can get the languages to understand each other and fully de-crypt / encrypt strings. However I was talking to somebody and was told that I am not being totally secure. I am using AES encryption for the project. Part of the problem is that I am distributing the software and need to come up with an effective way and secure way of making sure both the server side know the <strong>IV</strong> and <strong>'Secret Key'</strong>. Right now the same string will always encrypt to be the same result. If I could change those two factors they would be different, so 2 users with the same password won't have the same encrypted password. Please do keep in mind that the server only needs to manage one account.</p>\n\n<p>I appreciate your responses, and thank you very much ahead of time!</p>\n"},{"tags":["python","list","types"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":13252333,"title":"Python check if all elements of a list are the same type","body":"<p>How is possible in python to check (without checking individually every element if possible) if the elements of a list are of the same type?</p>\n\n<p>For example, I would like to have a function to check that every element of this list is integer (which is clearly false):</p>\n\n<pre><code>x=[1, 2.5, 'a']\n\ndef checkIntegers(x):\n    # return true if all elements are integers, false otherwise\n</code></pre>\n"},{"tags":["python","numpy","python-2.6"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13260617,"title":"python numpy, sort a matrix by row and column","body":"<p>I would like to use numpy to create a square matrix where rows other than the first are sorted by the contents of the first row. For example:</p>\n\n<pre><code>import numpy as np\na = array([['','z','b','d'],\n           ['b','2','5','7'],\n           ['d','0','1','3'],\n           ['z','3','9','2']])\n</code></pre>\n\n<p>return:</p>\n\n<pre><code>[['','z','b','d']\n ['z','3','9','2']\n ['b','2','5','7']\n ['d','0','1','3']]\n</code></pre>\n"},{"tags":["python","python-2.7","bottle"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":466,"score":2,"question_id":10486224,"title":"Bottle Static files","body":"<p>So, I have tried reading the Doc's for Bottle, however, I am still unsure about how static file serving works. I have <code>index.tpl</code>, however, within it it has a css file attatched to it, and it works. However, i was reading that Bottle does not automatically serve the css files, which cant be true if it loads correctly. I have however ran into speed issues when requesting the page, is that because i didnt use the <code>return static_file(params go here)</code>? If someone could clear up how they work, and how they are used when loading the page it would be great. </p>\n\n<p>Server code:</p>\n\n<pre><code>from Bottle import route,run,template,request,static_file\n\n\n\n@route('/')\ndef home():\n    return template('Templates/index',name=request.environ.get('REMOTE_ADDR'))\n\nrun(host='Work-PC',port=9999,debug=True)\n</code></pre>\n\n<p>Index:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"content-type\"\n content=\"text/html; charset=ISO-8859-1\"&gt;\n  &lt;title&gt;index&lt;/title&gt;\n  &lt;link type=\"text/css\"\n href=\"cssfiles/mainpagecss.css\"\n rel=\"stylesheet\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table\n style=\"width: 100%; text-align: left; margin-left: auto; margin-right: auto;\"\n border=\"0\" cellpadding=\"2\" cellspacing=\"2\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;\n      &lt;h1&gt;&lt;span class=\"headertext\"&gt;\n      &lt;center&gt;Network\nWebsite&lt;/center&gt;\n      &lt;/span&gt;&lt;/h1&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n%if name!='none':\n    &lt;p align=\"right\"&gt;signed in as: {{name}}&lt;/p&gt;\n%else:\n    pass\n%end\n&lt;br&gt;\n&lt;table style=\"text-align: left; width: 100%;\" border=\"0\" cellpadding=\"2\"\n cellspacing=\"2\"&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;\n      &lt;table style=\"text-align: left; width: 100%;\" border=\"0\"\n cellpadding=\"2\" cellspacing=\"2\"&gt;\n        &lt;tbody&gt;\n          &lt;tr&gt;\n            &lt;td style=\"width: 15%; vertical-align: top;\"&gt;\n            &lt;table style=\"text-align: left; width: 100%;\" border=\"1\"\n cellpadding=\"2\" cellspacing=\"2\"&gt;\n              &lt;tbody&gt;\n                &lt;tr&gt;\n                  &lt;td&gt;Home&lt;br&gt;\n                  &lt;span class=\"important\"&gt;Teamspeak Download&lt;/span&gt;&lt;br&gt;\n                  &lt;span class=\"important\"&gt;Teamspeak Information&lt;/span&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n            &lt;/td&gt;\n            &lt;td style=\"vertical-align: top;\"&gt;\n            &lt;table style=\"text-align: left; width: 100%;\" border=\"1\"\n cellpadding=\"2\" cellspacing=\"2\"&gt;\n              &lt;tbody&gt;\n                &lt;tr&gt;\n                  &lt;td&gt;\n                  &lt;h1&gt;&lt;span style=\"font-weight: bold;\"&gt;Network Website&lt;/span&gt;&lt;/h1&gt;\nTo find all of the needed information relating to the network's social\ncapabilities, please refer to the links in the side bar.&lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/tbody&gt;\n      &lt;/table&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["python","root"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13245355,"title":"Python Disable and Enable Root Privileges","body":"<p>I have segment of code that I'd like run as non-root. If the program is run as non-root, nothing needs to happen. But if the program is run as root, then root privileges need to be dropped, the segment of code executed, then root privileges enabled again. How do you write code for the enable/disable?</p>\n"},{"tags":["python","twitter","twython"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13261858,"title":"How to count tweets from query without double counting?","body":"<p>I'm working on a project which requires counting the number of tweets that meet the parameters of a query. I'm working in Python, using Twython as my interface to Twitter.</p>\n\n<p>A few questions though, how do you record which tweets have already been accounted for? Would you simply make a note of the last tweet ID and ignore it plus all previous? --What is the easiest implementation of this?</p>\n\n<p>As another optimizations question, I want to make sure that the amount of tweets missed by the counter is minimal, is there any way to make sure of this?</p>\n\n<p>Thanks so much.</p>\n"},{"tags":["python","memory-management","memory-leaks","elementtree"],"answer_count":2,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":748,"score":9,"question_id":7697710,"title":"Python running out of memory parsing XML using cElementTree.iterparse","body":"<p>A simplified version of my XML parsing function is here:</p>\n\n<pre><code>import xml.etree.cElementTree as ET\n\ndef analyze(xml):\n    it = ET.iterparse(file(xml))\n    count = 0\n\n    for (ev, el) in it:\n        count += 1\n\n    print('count: {0}'.format(count))\n</code></pre>\n\n<p>This causes Python to run out of memory, which doesn't make a whole lot of sense. The only thing I am actually storing is the count, an integer. Why is it doing this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/HUGC0.png\" alt=\"enter image description here\"></p>\n\n<p>See that sudden drop in memory and CPU usage at the end? That's Python crashing spectacularly. At least it gives me a <code>MemoryError</code> (depending on what else I am doing in the loop, it gives me more random errors, like an <code>IndexError</code>) and a stack trace instead of a segfault. But why is it crashing?</p>\n"},{"tags":["javascript","jquery","python","ajax","flask"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13261028,"title":"Have data automatically pushed to website? (Python/Flask + WSIG + jquery AJAX)","body":"<p>Can I have a value automatically pushed onto a website (using AJAX = JQuery?), when something is done on the server side and python is ready to send it, rather than just in a response to a request by the website.</p>\n\n<p>How do I make Jquery ready to accept this adhoc data?</p>\n\n<p>Tutorial I'm learning from:\n<a href=\"http://flask.pocoo.org/docs/patterns/jquery/#the-html\" rel=\"nofollow\">http://flask.pocoo.org/docs/patterns/jquery/#the-html</a></p>\n"},{"tags":["python","gdata-api","google-sites"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":922,"score":1,"question_id":2001664,"title":"How do I update attachment content with the google sites python API?","body":"<p>I'm trying to write a script that will automatically update some attachments on a website created and managed through Google Sites.  This should be possible as Google released the <a href=\"http://code.google.com/apis/sites/\" rel=\"nofollow\">Sites API</a> in September and the <a href=\"http://code.google.com/p/gdata-python-client/\" rel=\"nofollow\">Python GData API</a> claims to support sites.  However, the closest method I can find is called <code>client.update</code>, which allows me to update the metadata of an attachment, but not the content.</p>\n\n<p>In the Java API updating an attachment is done by creating a new <code>MediaFileSource</code> and then calling <code>entry.setMediaFileSource(source)</code> followed by <code>entry.updateMedia()</code>.  However, I can't find anything similar in the Python API.  Am I dumb and just missing something, or is it really not possible to update a google sites attachment using the python API?</p>\n"},{"tags":["python","time","duration"],"answer_count":5,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":2961,"score":12,"question_id":7421641,"title":"Measuring elapsed time in python","body":"<p>Is there a simple way / module to <em>correctly</em> measure the elapsed time in python? I know that I can simply call <code>time.time()</code> twice and take the difference, but that will yield wrong results if the system time is changed. Granted, that doesn't happen very often, but it does indicate that I'm measuring the wrong thing.</p>\n\n<p>Using <code>time.time()</code> to measure durations is incredibly roundabout when you think about it. You take the difference of two absolute time measurements which are in turn constructed from duration measurements (performed by timers) and known absolute times (set manually or via ntp), that you aren't interested in at all.</p>\n\n<p>So, is there a way to query this \"timer time\" directly? I'd imagine that it can be represented as a millisecond or microsecond value that has no meaningful absolute representation (and thus doesn't need to be adjusted with system time). Looking around a bit it seems that this is exactly what <code>System.nanoTime()</code> does in Java, but I did not find a corresponding Python function, even though it should (hardware-technically) be easier to provide than <code>time.time()</code>.</p>\n\n<p>Edit: To avoid confusion and address the answers below: This is not about DST changes, and I don't want CPU time either - I want elapsed physical time. It doesn't need to be very fine-grained, and not even particularly accurate. It just shouldn't give me negative durations, or durations which are off by several orders of magnitude (above the granularity), just because someone decided to set the system clock to a different value. Here's what the Python docs say about 'time.time()':</p>\n\n<p><a href=\"http://docs.python.org/library/time.html#time.time\">\"While this function normally returns non-decreasing values, it can return a lower value than a previous call if the system clock has been set back between the two calls\"</a></p>\n\n<p>This is exactly what I want to avoid, since it can lead to strange things like negative values in time calculations. I can work around this at the moment, but I believe it is a good idea to learn using the proper solutions where feasible, since the kludges will come back to bite you one day.</p>\n\n<p>Edit2: Some research shows that you can get a system time independent measurement like I want in Windows by using GetTickCount64(), under Linux you can get it in the return value of times(). However, I still can't find a module which provides this functionality in Python.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13261407,"title":"How do I use variables from another function?","body":"<p>This here is my code:</p>\n\n<pre><code>def Area():\n    area = pi * radius * radius\n    pi = 3.14\n    radius = diameter * 2\n\ndef cost():\n    diameter = eval(input(\"diamater: \"))\n    print (\"Area is\", area)\ncost()\n</code></pre>\n\n<p>it says area is not defined but I have a variable called area!</p>\n"},{"tags":["python","unit-testing","google-app-engine"],"answer_count":6,"favorite_count":23,"up_vote_count":30,"down_vote_count":0,"view_count":1863,"score":30,"question_id":1753897,"title":"What approach(es) have you used for lightweight Python unit-tests on App Engine?","body":"<p>I'm about to embark on some large Python-based App Engine projects, and I think I should check with Stack Overflow's \"wisdom of crowds\" before committing to a unit-testing strategy.  I have an existing unit-testing framework (based on <a href=\"http://docs.python.org/library/unittest.html?highlight=unittest#module-unittest\" rel=\"nofollow\">unittest</a> with custom runners and extensions) that I want to use, so anything \"heavy-weight\"/\"intrusive\" such as <a href=\"http://code.google.com/p/python-nose/\" rel=\"nofollow\">nose</a>, <a href=\"http://pythonpaste.org/webtest/\" rel=\"nofollow\">webtest</a>, or  <a href=\"http://code.google.com/p/gaeunit/\" rel=\"nofollow\">gaeunit</a> doesn't seem appropriate.  The crucial unit tests in my worldview are extremely lightweight and fast ones, ones that run in an extremely short time, so I can keep running them over and over all the time without breaking my development rhythm (e.g., for a different project, I get 97% or so coverage for a 20K-lines project with several dozens of super-fast tests that take 5-7 seconds, elapsed time, for a typical run, overall -- that's what I consider a decent suite of small, fast unit-tests).  I'll have richer/heavier tests as well of course, all the way to integration tests with selenium or windmill, that's <strong>not</strong> what I'm asking about;-) -- my focus in this question (and in most of my development endeavors;-) is on the small, lightweight unit-tests that lightly and super-rapidly cover my code, not on the deeper ones.</p>\n\n<p>So I think what I need is essentially a set of small, very lightweight simulations of the various key App Engine subsystems -- data store, memcache, request/response objects and calls to webapp handlers, user handling, mail, &amp;c, roughly in this order of priority.  I haven't found exactly what I'm looking for, so it seems to me that I should either rely on <a href=\"http://code.google.com/p/pymox/\" rel=\"nofollow\">mox</a>, as I've done often in the past, which basically means mocking each subsystem used in a given test and setting up all expectations &amp;c (strong, but lots of work each time, and very sensitive to the tested-code's internals, i.e. very \"white-box\"y), or rolling my own simulation of each subsystem (and doing asserts on the simulated subsystems' states as part of the unit tests). The latters seems feasible, given GAE's Python-side strong \"stubs\" architecture... but I can't believe I need to roll my own, i.e., that nobody's already written such simple-minded simulators!-)  E.g., for the datastore, it looks like what I need is more or less the \"datastore on file\" stub that's already part of the SDK, plus a way to mark it readonly and easy-to-use accessors for assertions about the datastore's state; and so forth, subsystem by subsystem -- each seems to need \"just a bit more\" than what's already in the SDK, \"perched on top\" of the existing \"stubs\" architecture.</p>\n\n<p>So, before diving in and spending a day or two of precious development time \"rolling my own\" simulations of GAE subsystems for unit testing purposes, I thought I'd double check with the SO crowd and see what y'all think of this... or, if there's already some existing open source set of such simulators that I can simply reuse (or minimally tweak!-), and which I've just failed to spot in my searching!-)</p>\n\n<p><strong>Edit</strong>: to clarify, if I do roll my own, I do plan to leverage the SDK-supplied stubs where feasible; but for example there's no stub for a datastore that gets initially read in from a file but then not saved at the end, so I need to subclass and tweak the existing one (which also doesn't offer particularly convenient ways to do asserts on its state -- same for the mail service stub, etc). That's what I mean by \"rolling my own\" -- not \"rewriting from scratch\"!-)</p>\n\n<p><strong>Edit</strong>: \"why not GAEUnit\" -- GAEUnit is nice for its own use cases, but running dev_appserver and seeing results in my browser (or even via urllib.urlopen) is definitely not what I'm after -- I want to use a fully automated setup, suitable for running within an existing test-running framework which is based on extending unittest, and no HTTP in the way (said framework defines a \"fast\" test as one that among other thing does no sockets and minimal disk I/O -- we simulate or mock these -- so via gaeunit I could do no better than \"medium\" tests) + no convenient way to prepopulate datastore for each test (and no OO structure to help customize things).</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13261349,"title":"python re with groupdict","body":"<p>I'm writing a python code to slipt all informations from a .txt. And i have write a code, but come allways error:  <em>'NoneType' object has no attribute 'groupdict'</em></p>\n\n<p>code:</p>\n\n<pre><code>import re\nreadfile = open(\"test.txt\")\ntry:\nall_the_text =readfile.read()\nm = re.match(\"(pdflink=[\\w\\s/]*)author=([\\w\\s/]*/n)\",unicode(all_the_text),flags=re.UNICODE)\nm.groupdict()\nprint m.groupdict()\nfinally:\nreadfile.close()\nwritefile = open('test5.txt','w')\nprint &gt;&gt; writefile, m.groupdict()\nwritefile.close()\n</code></pre>\n\n<p>Please please help me! Thx!</p>\n"},{"tags":["python","django","url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13261377,"title":"How to pass multiple values for a single URL parameter?","body":"<p>Is it possible to pass multiple values for a single URL parameter without using your own separator?</p>\n\n<p>What I want to do is that the backend expects an input parameter <code>urls</code> to have one or more values. It can me set to a single or multiple URLs. What is a way to set the urls parameter so it can have multiple values? I can't use my own separator because it can be part of the value itself. </p>\n\n<p>Example:\n    http://example.com/?urls=[value,value2...]</p>\n\n<p>The <code>urls</code> parameter be set to just <code>http://google.com</code> or it can be set to <code>http://google.com</code> <code>http://yahoo.com ...</code>. In the backend, I want to process each url as a separate values. </p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":59,"score":1,"question_id":13260642,"title":"Asterisks Triangle in Python","body":"<p>I am trying to create a program that allows me to make a \"pyramid\" or \"triangle\" using asterisks, in the Python program. I've already started the code, but can't seem to figure it out. </p>\n\n<p>Here's the code I've managed to figure out:</p>\n\n<pre><code>    def triangle():\n            totalRows = int(eval(input(\"How big? \")))\n            for currentRows in range(1,totalRows+1):\n                for currentCol in range (1, currentRows+1):\n                            print(\"*\", end = \" \")\n    triangle()\n</code></pre>\n\n<p>The end result is supposed to mirror this!</p>\n\n<pre><code>How big? 1\n* \n------------------------------------------------------\nHow big? 2\n * \n* * \n------------------------------------------------------ \nHow big? 3\n  * \n * * \n* * * \n------------------------------------------------------ \n</code></pre>\n"},{"tags":["c++","python","boost","portability","boost-python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13252598,"title":"Boost Python portability concerns","body":"<p>I have a dll written in C++ that I want to export to Python for running regression and unit-testing (it's just easier to maintain and run the regression with Python).\nTo this purpose I want to use Boost.Python to export the main API of the dll so it will be usable in Python.\nMy assemblies look as follows:</p>\n\n<ol>\n<li>MyLibrary.dll //main API C++ library</li>\n<li>MyLibrary.pyd //a thin dll project containing only the <code>BOOST_PYTHON_MODULE</code> export definitions (dependant on MyLibrary.dll)</li>\n<li>... //other C++ dll files that MyLibrary.dll is dependent on</li>\n</ol>\n\n<p>I had some trouble getting MyLibrary.pyd to link but after digging through questions a bit (e.g. <a href=\"http://stackoverflow.com/questions/2635933/boost-python-version\">here</a>) I realised I had to re-build boost while pointing <code>b2.exe</code> to my specific Python version. After which I was able to import and run my library from python (on <strong>my machine alone</strong>).</p>\n\n<p>Technical data: I'm building the libraries with boost 1.51, Python 3.23 on Windows 7 x64 and MSVC-10.0 (my own projects are built from VS2010). The variant I'm using to link with boost is shared libraries, 64 address model, release accordingly with my own builds.</p>\n\n<p>The problem is, when I try to import the library (built on my machine) on another machine, python complains: </p>\n\n<pre><code>ImportError: DLL load failed: The specified procedure could not be found.\n</code></pre>\n\n<p>On the line <code>import MyLibrary</code> </p>\n\n<p>Which begs the following questions:</p>\n\n<ol>\n<li>Is the MyLibrary.pyd I built on my machine \"python-portable\"? Meaning, will it work on other versions of Python besides 3.23 (the version I used to build boost.python with on my machine)?</li>\n<li>Does the user of MyLibrary.pyd have to re-build boost with his own version of python in order to be able to successfully import it?</li>\n<li>So far we've been using the pre-built boost installer for windows supplied by BoostPro. What version of Python is that build linked against and can I save my users the headache of building boost on their own if we simply decide to work with the \"right\" version of Python across the team (the version BoostPro linked against)?</li>\n</ol>\n"},{"tags":["python","string","nlp","stemming"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13237533,"title":"Find different realization of a word in a sentence string - Python","body":"<p><em>(This question is with regards to string checking in general and not Natural Language Procesisng per se, but if you view it as an NLP problem, imagine it's not a langauge that current analyzers can analye, for simplicity sake, i'll use english strings as e.g.)</em></p>\n\n<p>lets say there are only 6 possible form that a word can be realized in</p>\n\n<ol>\n<li>the initial letter being capitalized </li>\n<li>its plural form with an \"s\"</li>\n<li>its plural form with an \"es\"</li>\n<li>capitalized + \"es\"</li>\n<li>capitalized + \"s\"</li>\n<li>the basic form without plural or capitalization</li>\n</ol>\n\n<p>let's say i want to find the index of the 1st instance any form of the word <code>coach</code> occurs in a sentence, is there a simpler way of doing these 2 methods:</p>\n\n<p><strong>long if condition</strong></p>\n\n<pre><code>sentence = \"this is a sentence with the Coaches\"\ntarget = \"coach\"\n\nprint target.capitalize()\n\nfor j, i in enumerate(sentence.split(\" \")):\n  if i == target.capitalize() or i == target.capitalize()+\"es\" or \\\n     i == target.capitalize()+\"s\" or i == target+\"es\" or i==target+\"s\" or \\\n     i == target:\n    print j\n</code></pre>\n\n<p><strong>iterating try-except</strong></p>\n\n<pre><code>variations = [target, target+\"es\", target+\"s\", target.capitalize()+\"es\",\ntarget.capitalize()+\"s\", target.capitalize()]\n\nind = 0\nfor i in variations:\n  try:\n    j == sentence.split(\" \").index(i)\n    print j\n  except ValueError:\n    continue\n</code></pre>\n"},{"tags":["python","logging","cherrypy"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13261350,"title":"Capture all output to log in CherryPy","body":"<p>My cherrypy application (3.2.2 on Python 2.6) is using 3rd party libs, and these libs use standard logging internally, like so:</p>\n\n<pre><code>logger = logging.getLogger(__name__)\nlogger.info(\"a message from some library\")\n</code></pre>\n\n<p>Now, in my cherrypy config, I have:</p>\n\n<pre><code>log.access_file = '/path/access.log'\nlog.error_file = '/path/error.log'\n</code></pre>\n\n<p>but only CP messages ever appear in these two files, not any of the other logging. But I need all logging there, not just the logging that CP itself issues internally.</p>\n\n<p>Is there a way to capture <em>all</em> output, including the 3rd party logging (which I assume goes into stdout/stderr and then disappears, as the process is a detached daemon), into <code>/path/error.log</code>? Plug arbitrary stdout/stderr into CP's log somehow?</p>\n"},{"tags":["python","date","datetime","matplotlib"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13259875,"title":"Making matplotlib's date2num and num2date perfect inverses","body":"<p>I'm trying to write a pair of functions, <code>plottm</code> and <code>unixtm</code>, which convert back and forth between normal unix time (seconds since 1970-01-01) and Matplotlib's date representation (days since the last day of -1BC or something, a float).</p>\n\n<p>If <code>plottm</code> and <code>unixtm</code> were proper inverses then this code would print the same date/time twice:</p>\n\n<pre><code>import time, datetime\nimport matplotlib.dates as dt\n\n# Convert a unix time u to plot time p, and vice versa\ndef plottm(u): return dt.date2num(datetime.datetime.fromtimestamp(u))\ndef unixtm(p): return time.mktime(dt.num2date(p).timetuple())\n\nu = 1270000000\nprint datetime.datetime.fromtimestamp(u), \"--&gt;\", \\\n      datetime.datetime.fromtimestamp(unixtm(plottm(u)))\n</code></pre>\n\n<p>Alas, it's off by an hour (which only happens for some timestamps, otherwise I'd insert an offset and be done with it).</p>\n\n<p>Probably related: <a href=\"http://pytz.sourceforge.net/#problems-with-localtime\" rel=\"nofollow\">Problems with Localtime</a></p>\n\n<p>UPDATE: Related question that isn't specific to Matplotlib: <a href=\"http://stackoverflow.com/questions/13260863/convert-a-unixtime-to-a-datetime-object-and-back-again-pair-of-time-conversion\">Convert a unixtime to a datetime object and back again (pair of time conversion functions that are inverses)</a></p>\n"},{"tags":["python","object","copy"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":58,"score":4,"question_id":13260557,"title":"Create new class instance from class method","body":"<p>I want to be able to create a new instance of an object by calling a method on an already instantiated object. For example, I have the object:</p>\n\n<p><code>organism = Organism()</code></p>\n\n<p>I want to be able to call <code>organism.reproduce()</code> and have two objects of type Organism. My method at this point looks like this:</p>\n\n<pre><code>class Organism(object):\n    def reproduce():\n        organism = Organism()\n</code></pre>\n\n<p>and I'm pretty sure it doesn't work (I'm not really even sure how to test it. I tried the gc method in <a href=\"http://stackoverflow.com/questions/328851/printing-all-instances-of-a-class\">this post</a>). So how can I make my object create a copy of itself that's accessible just like the first object I created (with <code>organism = Organism()</code>)?</p>\n"},{"tags":["python","exception","unicode","non-english"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":41,"score":2,"question_id":13256777,"title":"possible to raise exception that includes non-english characters in python 2?","body":"<p>I'm trying to raise exception in python 2.7.x which includes a unicode in the message. I can't seem to make it work.</p>\n\n<p>Is it not supported or not recommended to include unicode in error msg? \nOr do i need to be looking at sys.stderr?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> # -*- coding: utf-8 -*-\n class MyException(Exception):\n  def __init__(self, value):\n    self.value = value\n  def __str__(self):\n    return self.value\n  def __repr__(self):\n    return self.value\n  def __unicode__(self):\n    return self.value\n\ndesc = u'something bad with field \\u4443'\n\ntry:\n  raise MyException(desc)\nexcept MyException as e:\n  print(u'Inside try block : ' + unicode(e))\n\n# here is what i wish to make work \nraise MyException(desc)\n</code></pre>\n\n<p>Running script produces the output below.\nInside my try/except i can print the string without problem.</p>\n\n<p>My problem is outside the try/except.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Inside try block : something bad with field 䑃\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\bdb.py\", line 387, in run\n    exec cmd in globals, locals\n  File \"C:\\Users\\ghis3080\\r.py\", line 25, in &lt;module&gt;\n    raise MyException(desc)\nMyException: something bad with field \\u4443\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","scipy","curve-fitting"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13219418,"title":"Import curve_fit is returning no errors but wrong values","body":"<p>Hello and thank you in advance for your help.</p>\n\n<p>I have to fit a curve with some data. Here is my code :</p>\n\n<pre><code>#!/usr/bin/python\n\nimport numpy\nimport sys\nimport scipy\nimport pylab\n\nfrom scipy.optimize import curve_fit\nfrom scipy.io.idl import readsav\n\nfrom lib_co2 import make_sigco2 # lib_co2 is a function created by us,\n                                # it works fine\n\nmesure = float(sys.argv[1]) # User must tell us which mesure he wants (66 max)\n\nsav = readsav('Orb0017A01_trans_v1.bin') # The data is saved in sav\n    Trans = sav.transmis[mesure, :, 2] # Transmitance, our y value\n    Lambda = sav.Lambda #Wavelength, our x value\n\ndef func(Lambda, logN) : # Our user defined function,  \n                         # LogN is the number we can modify to fit the curve.\n    return numpy.exp(-numpy.exp(logN) * make_sigco2(Lambda))\n# our function, we are looking for the logarytme \n# because the value of N is very big.\n\ncoeff, cov = curve_fit(func, Lambda, Trans) # We save the value of logN in \n# coeff and it's error in cov\n    Trans_aj = func(Lambda,coeff[0]) # Fited curve \n    print(coeff)\n    print(cov)\n\npylab.plot(Lambda,Trans)\npylab.plot(Lambda,Trans_aj)\n    pylab.axis([100, 350, 0, 1.1])\n    pylab.ylabel(\"Transmitance\")\n    pylab.xlabel(\"Wavelength\")\n    pylab.show()\n</code></pre>\n\n<p>This is what i get in the terminal :</p>\n\n<pre><code>user@computer:~/Python_$ ./Opti.py 15\n[ 1.]\ninf\n</code></pre>\n\n<p>The values are wrong, the curve does not fit at all.</p>\n\n<p>I dont know where lies my problem, if anyone has any ideas they would be welcome.</p>\n\n<p>Anthony</p>\n"},{"tags":["python","function","python-3.x"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13260970,"title":"Input specific calculator python 3","body":"<p>I need to create a program in python that will prompt the user for input in the following format</p>\n\n<p>operand operation operand</p>\n\n<p>Or</p>\n\n<p>operand operation operand operation operand </p>\n\n<p>For example, 3 * 5.34 + 34</p>\n\n<p>Error messages need to be displayed for invalid input (non real numbers) and it needs to check that at least one of the four valid operands (+-*/) have been entered, use at least three functions, but those aren't the parts I'm having problems with.</p>\n\n<p>I honestly have no idea how to add detection for a string input of 1*1+1 to seperate it into 5 variables (1, *, 1, +, 1). I also need to do individual detection for if the numbers are negative, or start/end with a decimal point. Finally, the program needs to do calculations in proper of order of operations, but I think I've got that part mostly figured out.</p>\n\n<p>How would I go about parsing the input string into 3 or 5 variables, and check if it's valid input? I've tried character detection (So [0,1,2,3,4]) but realized that wouldn't work if the operands were decimals or numbers in the double digits.</p>\n\n<p>Note: Importing functions is not allowed. The program MUST be decomposed into functions.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","multithreading","python-multithreading"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13260589,"title":"How execute 3 function on 4 threads using Python?","body":"<p>I have 3 function and want execute each on new thread using Python</p>\n\n<p>Each function just a math operations.</p>\n\n<p>I need to start each function in each core of process. In Java it's look like:</p>\n\n<pre><code>Thread threadF1 = new Thread(f1);\nThread threadF2 = new Thread(f2);\nThread threadF3 = new Thread (f3);\n\nthreadF1.start();\nthreadF2.start();\nthreadF3.start();\n</code></pre>\n\n<p>And if i have 4 cores my program uses 75% of CPU.</p>\n\n<p>I wrote this in Python:</p>\n\n<pre><code> thread = Thread(target = F1, args=(N,))\n thread.start()\n\n thread2 = Thread(target = F2, args=(N,))\n thread2.start()\n\n thread3 = Thread(target = F3, args=(N,))\n thread3.start()\n</code></pre>\n\n<p>but it uses just 25%. How force working code in Python using 3/4 cores?</p>\n"},{"tags":["python","matplotlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13261122,"title":"Adding padding in call to Matplotlib's PdfPages","body":"<p>I've got a few figures that I'm saving to a PDF file with Matplotlib's PdfPages backend. Unfortunately some of my figures are being inserted into the PDF file with a good portion of the y axis labels truncated. How do I specify that additional space should be added to avoid the label truncation? I've tried invoking the subplot_adjust command and passing left= and pad= parameters to no avail.  </p>\n\n<p>Any additional suggestions are most welcome!</p>\n\n<p>Chris</p>\n"},{"tags":["python","gtk3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":191,"score":0,"question_id":8809346,"title":"check which button is pressed gtk3 using python","body":"<p>i have 10 button, which correspond to the same method. how am i going to check which button was clicked in the corresponding method? i tried to check for the button press of a particular button in the list by the following code, but i got segmentation fault error:</p>\n\n<pre><code>for i in range(0,10):\n    if button_list[i].clicked():\n        break\n break\n#operation with respect to the button clicked\n</code></pre>\n"},{"tags":["python","bittorrent","libtorrent"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13129091,"title":"how to get the peer list of a torrent using python-libtorrent?","body":"<p>I have tried this code :</p>\n\n<pre><code>import libtorrent as lt\nimport time\nses = lt.session()\nses.listen_on(6881, 6891)\ninfo = lt.torrent_info('test.torrent')\nh = ses.add_torrent({'ti': info, 'save_path': './'})\nprint 'starting', h.name()\nwhile (not h.is_seed()):\n   s = h.status()\n   p = h.get_peer_info()\n\n   print lt.peer_info().ip\n\n   sys.stdout.flush()\n\n   time.sleep(15)\n\nprint h.name(), 'complete'\n</code></pre>\n\n<p>and it prints this:</p>\n\n<pre><code>starting test.avi\n('0.0.0.0', 0)\n\n('0.0.0.0', 0)\n. \n.\n.\n</code></pre>\n\n<p>so instead of giving me a peer list it gives me zeros.Am i doing something wrong?</p>\n"},{"tags":["python","virtualenv"],"answer_count":4,"favorite_count":19,"up_vote_count":36,"down_vote_count":0,"view_count":4713,"score":36,"question_id":5844869,"title":"Comprehensive beginner's virtualenv tutorial?","body":"<p>I've been hearing the buzz about virtualenv lately, and I'm interested. But all I've heard is a smattering of praise, and don't have a clear understanding of what it is or how to use it.</p>\n\n<p>I'm looking for (ideally) a follow-along tutorial that can take me from Windows or Linux with no Python on it, and explain every step of (in no particular order):</p>\n\n<ul>\n<li>what I should do to be able to start using virtualenv</li>\n<li>specific reasons why using virtualenv is a good idea</li>\n<li>situations where I can/can't use virtualenv</li>\n<li>situations where I should/shouldn't use virtualenv</li>\n</ul>\n\n<p>And step through (comprehensively) a couple sample situations of the should+can variety.</p>\n\n<p>So what are some good tutorials to cover this stuff? Or if you have the time and interest, perhaps you can answer a few of those questions here. Either in your answer, or as a link to tutorials that answer it, these are the things I'd like to know.</p>\n"},{"tags":["python","numpy","permutation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13261044,"title":"Numpy: multiply two permutations","body":"<p>I have two permutations represented as Numpy arrays:</p>\n\n<p>A:</p>\n\n<pre><code>     0  1  2  3\nA = [1, 3, 2, 0]\n</code></pre>\n\n<p>and B:</p>\n\n<pre><code>     0  1  2  3\nB = [0, 2, 1, 3]\n</code></pre>\n\n<p>how can I get C = A*B, where</p>\n\n<pre><code>0-&gt;1 * 1-&gt;2 = 2\n1-&gt;3 * 3-&gt;3 = 3\n2-&gt;2 * 2-&gt;1 = 1\n3-&gt;0 * 0-&gt;0 = 0\n\nC = (2, 3, 1, 0)\n</code></pre>\n\n<p>efficiently using Numpy?</p>\n"},{"tags":["python","date","datetime","time","dst"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":38,"score":4,"question_id":13260863,"title":"Convert a unixtime to a datetime object and back again (pair of time conversion functions that are inverses)","body":"<p>I'm trying to write a pair of functions, <code>dt</code> and <code>ut</code>, that convert back and forth between normal unix time (seconds since 1970-01-01 00:00:00 UTC) and a Python datetime object.</p>\n\n<p>If <code>dt</code> and <code>ut</code> were proper inverses then this code would print the same timestamp twice:</p>\n\n<pre><code>import time, datetime\n\n# Convert a unix time u to a datetime object d, and vice versa\ndef dt(u): return datetime.datetime.fromtimestamp(u)\ndef ut(d): return time.mktime(d.timetuple())\n\nu = 1004260000\nprint u, \"--&gt;\", ut(dt(u))\n</code></pre>\n\n<p>Alas, the second timestamp is 3600 seconds (an hour) less than the first.\nI think this only happens for very particular unixtimes, maybe during that hour that daylight savings time skips over.\nBut is there a way to write <code>dt</code> and <code>ut</code> so they're true inverses of each other?</p>\n\n<p>Related question: <a href=\"http://stackoverflow.com/questions/13259875/making-matplotlibs-date2num-and-num2date-perfect-inverses\">Making matplotlib&#39;s date2num and num2date perfect inverses</a> </p>\n"},{"tags":["python","homework"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":450,"score":2,"question_id":10762199,"title":"Substring Counting in Python and Adding 2 Numbers From One Line of Input","body":"<p>I'm following a python website for my schoolwork. It's really neat, it gives you tasks to complete and compiles the code in the browser.</p>\n\n<p>Anyway, I came to a challenge that I'm not really sure how to go about.</p>\n\n<p>One of the questions was:</p>\n\n<p><em>The same substring may occur several times inside the same string: for example \"assesses\" has the substring \"sses\" 2 times, and \"trans-Panamanian banana\" has the substring \"an\" 6 times. Write a program that takes two lines of input, we call the first needle and the second haystack. Print the number of times that needle occurs as a substring of haystack.</em></p>\n\n<p>I'm not too sure how I should start this, i know I have to compare the two strings but how? I used the count method, but it didn't recognize the second occurrence of <em>sses</em> in <em>assesses</em>.</p>\n\n<p>My second question is one I solved but I cheated a little.</p>\n\n<p>The question was:</p>\n\n<p><em>Write a program that takes a single input line of the form «number1»+«number2», where both of these represent positive integers, and outputs the sum of the two numbers. For example on input 5+12 the output should be 17.</em></p>\n\n<p>I used the eval() method and it worked, I just think that this wasn't what the grader had in mind for this.</p>\n\n<p>Any insight would be greatly appreciated. Thank you! </p>\n\n<p>EDIT: Second question was solved.</p>\n"},{"tags":["python","django","gmail","gmail-imap"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13085946,"title":"A Django library for Gmail","body":"<p>I'm looking for an API or library that gives me access to all features of Gmail from a Django web application.</p>\n\n<p>I know I can receive and send email using IMAP or POP3. However, what I'm looking for are all the GMail features such as marking emails with star or important marker, adding or removing tags, etc.</p>\n\n<p>I know there is a Settings API that allows me to create or delete labels and filters, but I haven't found anything that actually allows me to set labels to emails, or set emails as starred, and so on.</p>\n\n<p>Can anyone give me a pointer?</p>\n"},{"tags":["python","subprocess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13260061,"title":"Popen.communicate escapes a string I send to stdin","body":"<p>I am trying to spawn a process using <code>Popen</code> and send it a particular string to its <code>stdin</code>.</p>\n\n<p>I have:</p>\n\n<pre><code>pipe = subprocess.Popen(cmd, shell=True, stdin=subprocess.PIPE)\npipe.communicate( my_stdin_str.encode(encoding='ascii') )\npipe.stdin.close()\n</code></pre>\n\n<p>However, the second line actually escapes the whitespace in <code>my_stdin_str</code>. For example, if I have:</p>\n\n<pre><code>my_stdin_str=\"This is a string\"\n</code></pre>\n\n<p>The process will see:</p>\n\n<pre><code>This\\ is\\ a\\ string\n</code></pre>\n\n<p>How can I prevent this behaviour?</p>\n"},{"tags":["python","application","communication","observer-pattern"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":192,"score":4,"question_id":12166279,"title":"Handle communication in multi layer application","body":"<p>I am creating an application using Python.</p>\n\n<p>I first designed an API, that is working fine. \nI am now designing my GUI. The GUI starts a Thread that is used to perform tasks against the API.</p>\n\n<p>Up to now, I used the Observer pattern to handle communication through the different layers.\nBasically, communication can be of two types (mainly):\n- The GUI asking the Thread (and the API subsequently) to START/STOP\n- The API giving information back to the Thread, that propagates to the GUI.</p>\n\n<p>Here is a simple schema of the current architecture I am talking about. \nOne arrow means \"notify\", basically. </p>\n\n<p><img src=\"http://i.stack.imgur.com/xuhk1.png\" alt=\"Current Observer/Observable communication\"></p>\n\n<p>My concern is that when the application Thread communicates, both the Gui and the API receive the message because they subscribed. Thing is, each message is only meant to be read by one of the two.</p>\n\n<p>What I did to solve that is to send an message together with an ID. Each of the three elements have an id and they know whether the message is for them or now. \nBut I am not sure if this is the \"correct\" (understand nicest) way to do it. What if I have more parties in the future ? </p>\n\n<p>I started thinking about some kind of manager handling communication, but It would then have to be at the top of the architecture, and I am not sure how to further organize it :s.</p>\n\n<p>I am not asking for a complete solution, but mainly ideas or best practises by more experienced people ;)</p>\n\n<p>I can keep handling multiple Observer pattern in this simple case.\nBut I was thinking about porting my code on a server. In this case, I am likely to have way more than one thread for the application, and handling API calls will become quite impossible. </p>\n\n<p>Link to the code I am talking about : \n<a href=\"https://github.com/jlengrand/FaceMovie/blob/gui_v2/ivolution/gui_wx/IvolutionWindow.py\" rel=\"nofollow\">GUI</a>, <a href=\"https://github.com/jlengrand/FaceMovie/blob/gui_v2/ivolution/FacemovieThread.py\" rel=\"nofollow\">ApplicationThread</a> and <a href=\"https://github.com/jlengrand/FaceMovie/blob/gui_v2/ivolution/Facemovie_lib.py\" rel=\"nofollow\">Application API</a>.</p>\n\n<p>You want to look at notify and update methods. </p>\n\n<p>Thx for any piece of advice !</p>\n"},{"tags":["python","automation","paster"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13258416,"title":"Python Paste and auto-restart on non Python source file change","body":"<p><a href=\"http://pythonpaste.org/script/#running-the-server\" rel=\"nofollow\"><code>paster serve</code></a> has <code>--reload</code> option to auto-restart serving wsgi application when any of Python source files or the <code>CONFIG_FILE</code> changes.\nHow to make <em>paster</em> initiate auto-restart also when some other file (not Python source file) changes?</p>\n\n<p>UPDATE  </p>\n\n<p><a href=\"https://bitbucket.org/ianb/paste/src/160f4747e53ccbc8ed5e474e7a2c589fc21199e3/paste/reloader.py#cl-31\" rel=\"nofollow\"><code>watch_file()</code></a> function suggested by <em>mksh</em> looks like the solution to the problem. However <em>mksh</em> suggested adding its invocation to the application's entry point which seems to be more invasive than it should. Can I (non-intrusively) extend Paste's <code>serve</code> command adding new option which would result in invocation of <code>watch_file()</code> with filenames read from the app's section in <code>CONFIG_FILE</code>? </p>\n"},{"tags":["python","amazon"],"answer_count":8,"favorite_count":14,"up_vote_count":30,"down_vote_count":0,"view_count":10500,"score":30,"question_id":48884,"title":"Amazon API library for Python?","body":"<p>What Python libraries do folks use for querying Amazon product data? (Amazon Associates Web Service - used to be called E-Commerce API, or something along those lines).</p>\n\n<p>Based on my research, <a href=\"http://pyaws.sourceforge.net/\" rel=\"nofollow\">PyAWS</a> seems okay, but still pretty raw (and hasn't been updated in a while).  Wondering if there's an obvious canonical library that I'm just missing.</p>\n"},{"tags":["python","list"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13260199,"title":"Comparing nested lists","body":"<p>I have two lists, one of the form:</p>\n\n<pre><code>[a1, b1, [[c1, d1, e1], [f1, g1, h1], etc, etc], etc]\n</code></pre>\n\n<p>and the other, a dictionary, whose entries are in the form:</p>\n\n<p><code>[[a2, b2, c2], [d2, e2, f2], etc, etc]</code>. </p>\n\n<p>I need to compare the first entries of those two sub lists there and find any which are the same, and any in the first which don't appear at all in the second.</p>\n\n<p>Foe example, if <code>c1 = d2</code>, I'd want to know, and if <code>f1</code> isn't equal to either <code>a2</code> or <code>d2</code>, I'd want to know that.</p>\n\n<p>Anyway, I'm having a bit of trouble implementing this properly, any help would be appreciated.</p>\n\n<p>Thanks!</p>\n\n<p>(I'm not sure how clear the list formats are to understand, sorry if they're still confusing)</p>\n\n<p>CODE SAMPLE:</p>\n\n<pre><code>for row in range(0, len(command[2])):\n\n    counter = 0\n\n    for nodeRows in range(0, len(nodeTable[command[0]])):\n\n        if nodeTable[command[0]][nodeRows][0] == command[2][row][0]:\n\n            if ((command[2][row][2]) + 1) &lt; nodeTable[command[0]][nodeRows][2]:\n\n                counter += 1\n\n                newrow = command[2][row]\n                newrow[1] = command[1]\n                newrow[2] = newrow[2] + 1\n\n                nodeTable[command[0]][nodeRows] = newrow\n\n                change = 'true'\n</code></pre>\n\n<p>I imagine this doesn't help. The code is a bit monolithic (that's why I didn't post it initially). But I'm basically trying to compare two values. The first values of the items from the list in the 3rd position of another list and the first values of the items from the lists contained in another list.</p>\n\n<p>Um...sorry. I have tried making the code simpler, but it's a bit complicated.</p>\n"},{"tags":["python","loops","while-loop","minimum"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13260666,"title":"Python 3.3, returning smallest value in a while loop","body":"<p>I'm trying to return the smallest value for the square root of k using Newton's method.  </p>\n\n<pre><code>k=float(input(\"Number? \"))\nx = k/2\n\ndef newton(x):\n    while abs(x**(1/2)- k) &gt;= 10**(-10):\n        if k &gt;= 0:\n            x = (x+k/x)/(2)\n            return x\n        elif k &lt; 0:\n            raise ValueError (\"Cannot take the square root of a negative number\")\n\n\nprint (\"The approximate square root of\", k, \"is\", newton(k))\nprint (\"The error is\", abs(x**(1/2)- k))\n</code></pre>\n\n<p>However, the above code only returns the first iteration. For example, if k is 2, the accurate square root by Newton's method should be 1.41422, which is the third iteration. However, the code is currently returning 1.5, the first iteration. How do I return the more accurate square root of 1.41422 instead of 1.5? Likewise, the error needs to reflect this change.   </p>\n"},{"tags":["python","math","cos"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":110,"score":1,"question_id":13260296,"title":"Python cos(90) and cos(270) not 0","body":"<p>What is going on??</p>\n\n<p>Testing out sin and cos functions to find out why I get so beautiful positioning on the wrong places when outputting my coordinates into a SVG file. So I made this test code, which I can predict what the answer is to find out why. Oddly nothing that effects the calculation it self adds this behavior but simply the position of where I'm about to stay. If the position is 0 and will become 0 after the calculation it won't work, but if position is 1 and will become 1 after the calculation it works.</p>\n\n<p>First Test:</p>\n\n<pre><code>import math\n\ncX = 2\ncY = 2\nr = 2\n\nrcX = cX + (r * math.cos(math.radians(0)))\nrcY = cY + (r * math.sin(math.radians(0)))\n\nprint rcX #4\nprint rcY #2\nr = 1\n\nrlX = rcX + (r * math.cos(math.radians(90)))\nrlY = rcY + (r * math.sin(math.radians(90)))\n\nprint rlX #4\nprint rlY #3\nr = 4\n\nflX = rlX + (r * math.cos(math.radians(180)))\nflY = rlY + (r * math.sin(math.radians(180)))\n\nprint flX #0\nprint flY #3\nr = 2\n\nprint r * math.cos(math.radians(270))\nprint flX + (r * math.cos(math.radians(270))) #-3.67394039744e-16 should be 0\nprint flY + (r * math.sin(math.radians(270))) #1\n</code></pre>\n\n<p>Now I change cX to 3 and it works even if it doesn't effect the calculation which is:</p>\n\n<pre><code>r * math.cos(math.radians(270))\n</code></pre>\n\n<p>The result of that calculation is added to the x coordination</p>\n\n<pre><code>import math\n\ncX = 3\ncY = 2\nr = 2\n\nrcX = cX + (r * math.cos(math.radians(0)))\nrcY = cY + (r * math.sin(math.radians(0)))\n\nprint rcX #5\nprint rcY #2\nr = 1\n\nrlX = rcX + (r * math.cos(math.radians(90)))\nrlY = rcY + (r * math.sin(math.radians(90)))\n\nprint rlX #5\nprint rlY #3\nr = 4\n\nflX = rlX + (r * math.cos(math.radians(180)))\nflY = rlY + (r * math.sin(math.radians(180)))\n\nprint flX #1\nprint flY #3\nr = 2\n\nprint r * math.cos(math.radians(270))\nprint flX + (r * math.cos(math.radians(270))) #1\nprint flY + (r * math.sin(math.radians(270))) #1\n</code></pre>\n"},{"tags":["python","qt","pyqt","pyqt4","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13260407,"title":"Qt: Take over system open file dialog","body":"<p>I would like to automate the upload of a file to a website using PyQt4's QWebView, but there's a part I can't figure out yet. To upload the file, the website has a button, which opens a dialog from which you are supposed to select the local file. So, these are my questions :) Is there a way to control that dialog once I click the button? Is there a better way to achieve this?</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13184275,"title":"How to retrieve python list of SQLAlchemy result set?","body":"<p>I have the following query to retrieve a single column of data:</p>\n\n<pre><code>routes_query = select(\n    [schema.stop_times.c.route_number],\n    schema.stop_times.c.stop_id == stop_id\n).distinct(schema.stop_times.c.route_number)\nresult = conn.execute(routes_query)\n\nreturn [r['route_number'] for r in result]\n</code></pre>\n\n<p>I am wondering if there is a cleaner way to retrieve a native list of the data rows returned.</p>\n"},{"tags":["python","xml","elementtree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13259768,"title":"python cElementTree uses too much memory","body":"<p>I have the following code segment</p>\n\n<pre><code>import xml.etree.cElementTree as et\n\nfstring = open(filename).read()\ntree = et.fromstring(fstring)\n\nfor el in tree.findall('tag'):\n    do stuff\n</code></pre>\n\n<p>However, fstring is HUGE (~80mbs of data), and I am hiting \"Out of memory\" error when I try to convert the string to a tree. Is there a way to get around that, perhaps some kind of lazy evaluation of the tree?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: </p>\n\n<p>I tried using iterparse, and it still gives me MemoryError on the iterparse call. Is there a way to possibly split up the file into multiple chunks and process them one by one?</p>\n"},{"tags":["python","ctypes","access-violation","libsvm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11921564,"title":"using Python ctypes-CDLL to LibSVM: access violation error","body":"<p>I'm working on a change in the LibSVM Py interface. The interface (both the original and mine) first builds a class that uses ctypes structs from the given data </p>\n\n<blockquote>\n  <blockquote>\n    <p>prob = svm_problem(..) in svmutil.py [for anyone who knows the package]</p>\n    \n    <p>then runs the optimization procedure on that structure.</p>\n    \n    <p>libsvm = ctypes.CDLL(..); m = libsvm.svm_train(prob, param)</p>\n  </blockquote>\n</blockquote>\n\n<p>the basic unit in  is the class svm_node</p>\n\n<pre><code>class svm_node(Structure):\n   _names = [\"index\", \"value\"]\n   _types = [c_int, c_double]\n   _fields_ = genFields(_names, _types)\n</code></pre>\n\n<p> creates an array of nodes with an ending to represent a vector</p>\n\n<pre><code>def gen_svm_nodearray(indices, data):\n   L = len(data)\n   ret = (svm_node * (L+1))()\n   ret[-1].index = -1\n\n   for idx,(j,val) in enumerate(zip(indices,data)):\n      ret[idx].index = j\n      ret[idx].value = val\n\n   return ret\n</code></pre>\n\n<p> is an instance of class  </p>\n\n<pre><code>class svm_problem(Structure):\n    _names = [\"l\", \"y\", \"x\"]\n    _types = [c_int, POINTER(c_double), POINTER(POINTER(svm_node))]\n    _fields_ = genFields(_names, _types)\n</code></pre>\n\n<p>which its field  is being created by</p>\n\n<pre><code>tmp_xi = gen_svm_nodearray(inds, data) \nself.x[cnt] = tmp_xi\n</code></pre>\n\n<p>Now, the problem is the following: I create data and inds from a certain input and it works OK. But then I want to add some more features and then it fails. Currently, it looks like this - The following code works:</p>\n\n<pre><code>inds, data = make_data(args) \ninds.append(N)# N guranteed to be bigger than the highest index so far\ndata.append(0.1234567)\nself.x[cnt] = gen_svm_nodearray(inds, data)\n</code></pre>\n\n<p>However, if I replace the 0.123.. in random.random() or do </p>\n\n<pre><code>data.append(MoreFeatures[i]) #for some i,MoreFeatures\n</code></pre>\n\n<p>The program creates the prob class successfully and the craches when calling the CDLL with </p>\n\n<pre><code>m = libsvm.svm_train(prob, param)\nWindowsError: exception: access violation reading 0x3299EA7D\n</code></pre>\n\n<p>Sombody has an Idea?</p>\n"},{"tags":["python","cython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13245514,"title":"Cython cannot convert Python object to 'Handle *'","body":"<p>I am trying to wrap a cpp lib into <code>cython</code>. Here are some details:</p>\n\n<p><code>Handle.h</code>:</p>\n\n<pre><code>class Handle {\n    public:\n    // accessors\n    // mutators  \n};\n\nclass Store {\n    public:\n        Handle* lookup(char* handleName);\n        int update(Handle*);\n};\n</code></pre>\n\n<p><code>handle.pyx</code>:</p>\n\n<pre><code>cdef extern from \"Handle.h\" namespace \"xxx\":\n    cdef cppclass Handle:\n        ....\n\ncdef extern from \"Handle.h\" namespace \"xxx\":\n    cdef cppclass Store:\n        Handle* lookup(char*)\n        int update(Handle*)\n\ncdef class PyHandle:\n    cdef Handle* handle\n        ....\n\ncdef class PyStore:\n    cdef Store* store\n    def __cinit__(self):\n        store = ....\n    def lookup(self, name):\n        handle = self.store.lookup(name)\n        pHandle = PyHandle()\n        pHandle.handle = handle\n        return pHandle\n    def update(self, h):\n        self.store.update(h.handle)\n</code></pre>\n\n<p>The last statement is giving me an error saying <code>Cannot convert Python object to 'Handle *'</code>. I know I am missing something simple. How do I pass the <code>Handle*</code> that is embedded in the Python object to the call?</p>\n"},{"tags":["python","list","callback"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":89,"score":7,"question_id":13259179,"title":"List callbacks?","body":"<p>Is there any way to make a list call a function every time it's being modified?</p>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt;l = [1, 2, 3]\n&gt;&gt;&gt;def callback():\n       print \"list changed\"\n&gt;&gt;&gt;apply_callback(l, callback)  # Possible?\n&gt;&gt;&gt;l.append(4)\nlist changed\n&gt;&gt;&gt;l[0] = 5\nlist changed\n&gt;&gt;&gt;l.pop(0)\nlist changed\n5\n</code></pre>\n"},{"tags":["php","python"],"answer_count":6,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":550,"score":2,"question_id":3452107,"title":"Programming language for simple dynamic web site development?","body":"<p>I only know the basics of HTML/CSS. The only experience with web development I have is whatever I learned in Web Development 101 at my university, aka \"OMG - CSS u guise, 101\". </p>\n\n<p>I'm mainly interested in building simple dynamic sites. That's the whole reason I got into this in the first place. I'm at the point now where I realize that it's not enough to only know HTML and CSS.</p>\n\n<p>I realize that I'm going to have to go through a learning curve no matter what programming language I choose to learn, so I figure I should learn something that will be most the beneficial in the long run. I'm all about putting in the sweat equity now to build a better future. PHP seems like the easy and obvious first choice, but I keep reading over and over and over again how people have switched from PHP to Python and never been happier. Or how you should skip PHP altogether and just learn Python or Perl.</p>\n\n<p>But I don't understand why that is!</p>\n\n<p>I keep looping back to thinking \"F___ it, I just need to learn PHP so I can be a WordPress ninja.\" But then I do some more reading, and I walk away feeling like PHP is more of a 'temporary fix' language, and that the REAL languages are Python/Perl/Ruby. But I'm very split because I really don't need to do anything complicated. I just need to build basic 50-page web sites with some database interactivity.</p>\n\n<p>Do you have any advice? What would you learn if you were in my spot??</p>\n"},{"tags":["python","eclipse","pydev"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13260065,"title":"Go to source tags","body":"<p>How to setup Eclipse/pydev to index all source files so that I can click on a variable/function/etc and go to its definition. I want it to work just like indexing of CTAGS or the way Eclipse handles Java vars/funcs. Hover to get info and [ctrl]+mouse_click to go to the definition.</p>\n\n<p>I've tried adding the source folder to window/prefs/pydev/interpreter-python/libs and Environment and that does not help.</p>\n"},{"tags":["python","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13242970,"title":"Tkinter - Entry box - formatted for date","body":"<p>Have an entry box that I would like to store the \" / \" 's in it for the date so the user can only type it one way.</p>\n\n<p>So the entry box default text would be \" <code>__/__/____</code>\" without the underscores of course, and the \" / \" 's not deleted when the user enters the text.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","xml"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13149523,"title":"Python - for loop only outputs the last iteration","body":"<p>I'm trying to make an application to create a xml file and I want to assign a text to certain elements. This text consists on image files on a folder. The code is as follows:</p>\n\n<pre><code>    import glob\n    import os\n    import os.path\n\n    from xml.etree import ElementTree\n    from xml.dom import minidom\n    import xml.etree.ElementTree as ET\n\n    def prettify(elem):\n    \"\"\"Return a pretty-printed XML string for the Element.\n    \"\"\"\n        rough_string = ElementTree.tostring(elem, 'utf-8')\n        reparsed = minidom.parseString(rough_string)\n        return reparsed.toprettyxml(indent=\"  \")\n\n    path = \"/home/unkuiri/Ubuntu One/Wallpapers/*\"\n\n\n    background = ET.Element('background')\n    starttime = ET.SubElement(background, 'starttime')\n    year = ET.SubElement(starttime, 'year')\n    month = ET.SubElement(starttime, 'month')\n    day = ET.SubElement(starttime, 'day')\n    hour = ET.SubElement(starttime, 'hour')\n    minute = ET.SubElement(starttime, 'minute')\n    second = ET.SubElement(starttime, 'second')\n    static = ET.SubElement(background, 'static')\n    duration_stat = ET.SubElement(static, 'duration')\n    files = ET.SubElement(static, 'file')\n    transition = ET.SubElement(background, 'transition')\n    duration_trans = ET.SubElement(transition, 'duration')\n    from1 = ET.SubElement(transition, 'from')\n    to = ET.SubElement(transition, 'to')\n\n    dirList = glob.glob(path)\n\n    while len(background.findall(\"./static/file\")) &lt;= len([name for name in os.listdir('.') if os.path.isfile(name)]):\n            background.append(static)\n            background.append(transition)\n            continue\n\n    for fname in dirList:   \n\n        to.text = fname\n        files.text = fname\n        from1.text = fname\n\n\n    print prettify(background)\n</code></pre>\n\n<p>This code outputs a correctly formatted xml but only with the last path, repeating it as many times as the number of files in folder. What I want is for it to print one path per \"file\" element and that same path on the preceeding \"to\" element and the next from \"element\". Maybe it is a simple solution that I'm not aware of. I'm still a newbie.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","string","dictionary","inverted-index"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13259903,"title":"Python - query for inverted index","body":"<p>This is my first post on SO and I apologize in advance if my question turns out to be a bit trivial, I'm relatively new to programming world, and I chose python for my first \"serious\" OOP language. I did a search through SO archive but I couldn't find any question completely related to mine. Okay, long story short, here's the problem: <br><br>\nI'm working on inverted index. I found a couple of tutorials and tips on the net to follow and I did the following: </p>\n\n<ul>\n<li><p>class Document for stemming the words and returning them with their start and end position thanks to finditer function. </p></li>\n<li><p>class Inverted_Index that takes a collection of a documents (list in a list), tokenize them and puts them in inverted index in a form of </p></li>\n</ul>\n\n<p><code>\n    {'word':{document_id:(start_pos, end_pos)}}\n</code></p>\n\n<p>like\n<code>{'cloud': {0: [(5, 10)]}, 'document': {1: [(11, 19)], 2: [(22, 30)]} ...}</code>.\n(I did document_id with a help of SO topic, iterating through enumerated collection of a documents. And about nested dictionaries, I made them amateurishly, like:</p>\n\n<pre><code>if nested_dict not in existing_dict:\n    existing_dict[nested_dict] = {}\n</code></pre>\n\n<p>While I was reading stack owerflow I noticed that \"defaultdict\" datatype is pretty much superior way for doing that, but I haven't yet figured out \"collections\" module.). <br></p>\n\n<p>Back on track: inside of Inverted_Index I did a Query method (just a version of OR operator) that takes string as a query, and if that string matches a key/term in my inverted index, returns back document_id with start and ending point of a term, like: </p>\n\n<pre><code>[(1, [(0, 4), (11, 19)]), ...]\n</code></pre>\n\n<p>And after that I was... stuck. I want to make a query output that prints out found word in a document along with it's environment, but I don't know how to connect result from a query method (document_id with start and end position) and inverted index, and I don't have a clue how to highlight that matched query inside her environment. Because of that I made starting and end point, but I have no idea how to accentuate it in python? Bold it?</p>\n\n<p>I thought of result something like: <br></p>\n\n<blockquote>\n  <p>###################<br>\n      Your query:'chocolate pudding'<br>\n      Results:<br>\n      ########<br>\n      In a document with id: 1<br>\n      yaddi yaddi yadda chocolate bla bla bla pudding<br>\n      hocolate bla bla bla pudding yaddi yaddi yadda bla<br></p>\n</blockquote>\n\n<p>I mean, I was reading <a href=\"http://docs.python.org/2/library/string.html#string.center\" rel=\"nofollow\">http://docs.python.org/2/library/string.html#string.center</a> and thinking that aligning found words/queries in same column would do to trick. But I don't know how to get there, so any kind of hint would be great, because I'm not stuck in my program as I'm stuck in understanding the logic behind python, and in that case tutorials don't do justice. (Yes, I got some python books, but they have extended approach to this kind of matter, possibly considering it is not for beginners, but I don't know where to begin with, what programs to make that I can make use of. The thing is, we learn linguistic theory and IR theory in college, but we do a few things in practice.).</p>\n\n<p>Thanks!</p>\n\n<p>And sorry about this story-of-my-life end :D</p>\n\n<p><br>\nI forgot, a code for not making this topic vague:</p>\n\n<pre><code>class inverted_index(dict):\n\n    def __init__(self,collection_of_docs):\n        for doc_id,document in enumerate(collection_of_docs):\n            for word,start,end in document.tokenize(): #form: [('sky', 0, 4)]\n                if word not in self:\n                    self[word]={}\n                if doc_id not in self[word]:\n                    self[word][doc_id]=[]\n                self[word][doc_id].append((start,end))\n\n\n    def query(self,query_string):\n        result={}\n        for query_term in re.findall(r'\\w+',query_string.lower(),re.UNICODE):\n            for doc_id in self.get(query_term,{}):\n                if doc_id not in result:\n                    result[doc_id]=self[query_term][doc_id]\n                else:\n                    result[doc_id]=result[doc_id]+self[query_term][doc_id]\n        return sorted(result.items(),key=lambda e:-len(e[1]))\n</code></pre>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":81,"score":8,"question_id":13259933,"title":"self deleting instance","body":"<p>Is it possible to make a class call <code>del()</code> for some instances under some condition? Or turn self into None?</p>\n\n<pre><code>    class T:\n        def __init__(self, arg1, arg2):\n            condition=check_condition(arg1,arg2)\n            if not condition:\n               do_something(arg1)\n            else:\n               del(self) #or self=None or return None\n</code></pre>\n\n<p>I need to do something like this to be sure that will never exist a kind of instance.</p>\n"},{"tags":["python","variables","variable-naming","metasyntactic-variable"],"answer_count":2,"favorite_count":3,"up_vote_count":25,"down_vote_count":0,"view_count":2146,"score":25,"question_id":5893163,"title":"Underscore in Python","body":"<p>What is the meaning of <code>_</code> after <code>for</code> in this code?</p>\n\n<pre><code>if tbh.bag:\n   n = 0\n   for _ in tbh.bag.atom_set():\n      n += 1\n</code></pre>\n"},{"tags":["python","gui","button","callback","tkinter"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13250835,"title":"How to write button callback?","body":"<p>Below is the code that I am using to make a chessboard out of buttons.</p>\n\n<pre><code>from Tkinter import *\n\nfor x in xrange(8):\n    for y in xrange(8:\n        if((x+y)%2 == 0):\n            Button(root, bg=\"white\", width=11, height=5).grid(row=y, column=x)\n        else:\n            Button(root, bg=\"black\", width=11, height=5).grid(row=y, column=x)\n</code></pre>\n\n<p>I know how to make a callback function for an individual button, but I am not sure how I would go about implementing a callback function for each of these 64 buttons so that, when pressed, they will return their position in the grid.</p>\n"},{"tags":["python","rabbitmq","celery"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13188849,"title":"How to override send_task BaseTask class?","body":"<p>I did some kind of mini framework to be able to catch connection errors with <code>celery</code> in case <code>rabbitmq</code> shutsdown which handles errors in a more graceful way and it works pretty well except when using send_task.</p>\n\n<p>Here is some code to clarify the idea:</p>\n\n<pre><code>class MyBaseTask(base_task.Task):\n    \"\"\" Base Class to handle tasks from Me hohoho!\"\"\"\n    abstract = True\n\n    @classmethod\n    def delay(cls, *args, **kwargs):\n        \"\"\"Hook to catch connection errors\"\"\"\n        try:\n            return super(ORBaseTask, cls).apply_async(args, kwargs)\n        except socket.error as e:\n            cls._safe_failover()  # a function to handle this error\n            cls.get_logger().error(str(e))\n        except Exception as e:\n            cls.get_logger().error(\"Uknown Error: %s\" % str(e))\n            raise  # normal exception\n</code></pre>\n\n<p>Now to use it what I do is subclass this <code>MyBaseTask</code> class like this:</p>\n\n<pre><code>class MyL33tTask(MyBaseTask):\n    name = 'task.my_leet_task'\n\n    def run(self, *args, **kwargs):\n        # yada yada\n</code></pre>\n\n<p>and it will execute this safe_failover function when a socket error happens (Aka, when <code>rabbitmq</code> is down). Sadly this doesn't happens when I use send_task('task.my_leet_task') since it uses some kind of proxy where <code>MyBaseTask</code> isn't loaded. Is there an easy way to override <code>send_task</code> to use <code>MyBaseTask</code> instead?</p>\n"},{"tags":["python","datetime","timezone","epoch","pytz"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12978391,"title":"Localizing Epoch Time with pytz in Python","body":"<p>Im working on converting epoch timestamps to dates in different timezones with pytz.  What I am trying to do is create a DateTime object that accepts an Olson database timezone and an epoch time and returns a localized datetime object.  Eventually I need to answer questions like \"What hour was it in New York at epoch time 1350663248?\"</p>\n\n<p>Something is not working correctly here:</p>\n\n<pre><code>import datetime, pytz, time\n\nclass DateTime:\n    def __init__(self, timezone, epoch):\n        self.timezone = timezone\n        self.epoch = epoch\n        timezoneobject = pytz.timezone(timezone)\n        datetimeobject = datetime.datetime.fromtimestamp( self.epoch )\n        self.datetime = timezoneobject.localize(datetimeobject)\n\n    def hour(self):\n        return self.datetime.hour\n\nif __name__=='__main__':\n    epoch = time.time()\n    dt = DateTime('America/Los_Angeles',epoch)\n    print dt.datetime.hour\n    dt = DateTime('America/New_York',epoch)\n    print dt.datetime.hour\n</code></pre>\n\n<p>This prints the same hour, whereas one should be 3 or so hours ahead.  Whats going wrong here?  I'm a total Python beginner, any help is appreciated!</p>\n"},{"tags":["python","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13254268,"title":"Split column defintions of SQL create table query","body":"<p>I want to split all column definitions of a sql query into seperate strings. </p>\n\n<p>So:</p>\n\n<pre><code> `citizen_group` int(10) NOT NULL,\n  `container_group` int(10) NOT NULL,\n  PRIMARY KEY (`citizen_group`,`container_group`),\n  KEY `fk_containergroup_readeraccess` (`container_group`)\n</code></pre>\n\n<p>Into:</p>\n\n<pre><code>['`citizen_group` int(10) NOT NULL', '`container_group` int(10) NOT NULL','PRIMARY KEY (`citizen_group`,`container_group`)',' KEY `fk_containergroup_readeraccess` (`container_group`)']\n</code></pre>\n\n<p>First I used <code>split(',')</code>. But this gives a problem when the sql has a multicolumn primary key. I cannot expect that each definition is on a new line, so I can't split on newlines. </p>\n\n<p>How can I split these column definitions?</p>\n"},{"tags":["python","python-3.x","subprocess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13258462,"title":"Provide called shell script with input in Python","body":"<p>I have a python program which uses various Bash shell scripts. However, some of them require (y/n) input. I know the input required based on the question number so it's a matter of being able to provide that automatically.</p>\n\n<p>Is there a way in Python to do that?</p>\n\n<p>As a last resort I can send a signal to a window etc. but I'd rather not do that.</p>\n"},{"tags":["python","sqlalchemy","api-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13258934,"title":"Applying LIMIT and OFFSET to all queries in SQLAlchemy","body":"<p>I'm designing an API with SQLAlchemy (querying MySQL) and I would like to force all my queries to have page_size (LIMIT) and page_number (OFFSET) parameters.</p>\n\n<p>Is there a clean way of doing this with SQLAlchemy?  Perhaps building a factory of some sort to create a custom Query object?  Or maybe there is a good way to do this with a mixin class?</p>\n\n<p>I tried the obvious thing and it didn't work because .limit() and .offset() must be called after all filter conditions have been applied:</p>\n\n<pre><code>def q(page=0, page_size=None):\n    q = session.query(...)\n    if page_size: q = q.limit(page_size)\n    if page: q = q.offset(page*page_size)\n    return q\n</code></pre>\n\n<p>When I try using this, I get the exception:</p>\n\n<pre><code>sqlalchemy.exc.InvalidRequestError: Query.filter() being called on a Query which already has LIMIT or OFFSET applied. To modify the row-limited results of a  Query, call from_self() first.  Otherwise, call filter() before limit() or offset() are applied.\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Not sure if this is the best way, but I hacked this up and it seems to work given a couple minutes of testing:</p>\n\n<pre><code>from sqlalchemy.orm import Query, sessionmaker\nfrom sqlalchemy.orm.query import _generative\n\nclass DeferredLimitOffsetQuery(Query):\n    _deferred_limit = None\n    _deferred_offset = None\n\n    @_generative(Query._no_statement_condition)\n    def deferred_limit(self, limit):\n        self._deferred_limit = limit\n\n    @_generative(Query._no_statement_condition)\n    def deferred_offset(self, offset):\n        self._deferred_offset = offset\n\n    def __iter__(self):\n        \"\"\"Applies a deferred limit and offset to Query.\"\"\"\n        q = self.limit(self._deferred_limit).offset(self._deferred_offset)\n\n        return Query.__iter__(q)\n</code></pre>\n\n<p>And I can use this query_cls by configuring with sessionmaker:</p>\n\n<pre><code>Session = sessionmaker(bind=engine, query_cls=DeferredLimitOffsetQuery)\n</code></pre>\n"},{"tags":["python",".net"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13259617,"title":"Python for .NET \"unable to find assembly\" error","body":"<p>I'm using CPython and I have a C# dll.  I'm trying to use Python for .NET to make them talk.  I can't use IronPython because I need to integrate this into an existing CPython system.</p>\n\n<p>I'm completely new to Python for .NET, and I actually have very little experience with Python and no experience with C#.  So please forgive me if my question seems very basic.</p>\n\n<p>I'm using Python 2.7.3, and I downloaded\npythonnet-2.0-alpha2-clr2.0_131_py27_UCS2 and unzipped it into a folder named pyfornet_test, which also contains the dll I'm trying to use (called DotNet4Class.dll)</p>\n\n<p>Then I run this:</p>\n\n<pre><code>import sys\n\nimport os\n\nimport clr\n\nsys.path.append(r\"C:\\pyfornet_test\")\n\nclr.AddReference(\"DotNet4Class.dll\")\n</code></pre>\n\n<p>Which gives me this error:</p>\n\n<pre><code>System.IO.FileNotFoundException: Unable to find assembly 'DotNet4Class.dll'.\n   at Python.Runtime.CLRModule.AddReference(String name) in C:\\Users\\Barton\\Documents\\Visual Studio 2008\\Projects\\PyShar\np\\trunk\\pythonnet\\src\\runtime\\moduleobject.cs:line 375\n</code></pre>\n\n<p>Any advice would be much appreciated. Thank you!</p>\n"},{"tags":["javascript","jquery","python","web-applications","flask"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13259583,"title":"How is a text file sent to a browser line by line","body":"<p>I have a text file and want to send it line by line to a web browser. So as each line is read it is output in the browser. </p>\n\n<p>I presume JQuery would be the route to take, but I've never used it as the client needs to keep the connection open to receive the (1000s) of lines I'll be sending.</p>\n\n<p>This means I'm unsure how to render the html/ javascript page. This is my python server code:</p>\n\n<pre><code>from flask import Flask,render_template, request\n\napp = Flask(__name__)\n\n\n@app.route('/_reader')\ndef reader():\n    f = open('/home/ranjeev/Desktop/sample_tweets.dat', 'rb')\n    for line in f:\n        print line\n    return line\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\nif __name__ == '__main__':\n    app.run(debug=True, port= 8888)\n</code></pre>\n\n<p>And my html code:</p>\n\n<pre><code>{% extends \"layout.html\" %}\n{% block body %}\n&lt;script type=text/javascript&gt;\n  $(function() {\n      $.getJSON($SCRIPT_ROOT + '/_reader', \n       function(data) {\n        $(\"#result\").text(data.result);\n});\n      return false;\n    });\n\n&lt;/script&gt;\n&lt;h1&gt;Coordinates&lt;/h1&gt;\n&lt;p&gt;\n   &lt;span id=result&gt;?&lt;/span&gt;\n{% endblock %}\n</code></pre>\n\n<p>I would really appreciate help, as it seems like this is a very complex issue, which I don't think it should be.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13256801,"title":"Strategy for being able to reverse a deletion using SQLAlchemy","body":"<p>I have a series of related tables maintained by Python/SQLAlchemy. If I delete a row in a particular table, I want the ability to be able to reverse that delete at some point in the future, in case of a mistake. I could do this using an is_deleted column and filter on that, but that becomes a pain when I'm querying other tables for related data. I could add an is_deleted column to all the other tables, and when a row from the main table is deleted, toggle them all. But then for every query on all the tables I'd have to filter on is_deleted. It can be done, but I'm hoping there's a better strategy.</p>\n\n<p>One thought would be to move all the deleted data to another set of tables, that only store deleted data. But it's unclear to me if SQLAlchemy allows me to switch the table a particular object is associated with. I think this would be the preferred solution, but I don't know if it can be done.</p>\n\n<p>Another thought is that I could run a second database, and copy the deleted data over. But that adds a layer of administration complexity that I'd like to avoid.</p>\n\n<p>Any thoughts would be appreciated.</p>\n"},{"tags":["python","parsing","web-crawler"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13259882,"title":"Web Crawler in Python","body":"<p>I'm trying to write a basic web crawler in Python. The trouble I have is parsing the page to extract url's. I've both tried BeautifulSoup and regex however I cannot achieve an efficient solution.</p>\n\n<p>As an example: I'm trying to extract all the member urls in Facebook's Github page. (https://github.com/facebook?tab=members). The code I've written extracts member URL's; </p>\n\n<pre><code>def getMembers(url):\n  text = urllib2.urlopen(url).read();\n  soup = BeautifulSoup(text);\n  memberList = []\n    #Retrieve every user from the company\n    #url = \"https://github.com/facebook?tab=members\"\n\n  data = soup.findAll('ul',attrs={'class':'members-list'});\n  for div in data:\n    links = div.findAll('li')\n    for link in links:\n          memberList.append(\"https://github.com\" + str(link.a['href']))\n\n  return memberList\n</code></pre>\n\n<p>However this takes quite a while to parse and I was wondering if I could do it more efficiently, since crawling process is too long.</p>\n"},{"tags":["python","django","filter","django-admin"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13121568,"title":"Filter list_filter in django admin","body":"<p>I need to filter by a field one to many but I just want to show related objects and not all.</p>\n\n<p>is this possible, or I have to create a custom filter?</p>\n"},{"tags":["python","ide","keyboard-shortcuts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13259833,"title":"Dreampie: Switch between the upper and lower screen sections","body":"<p><img src=\"http://i.stack.imgur.com/v9nF6.png\" alt=\"Dreampie interface, with two sections\"></p>\n\n<p>The only way I can manage this is by clicking into each section, usually. I have found that you can \"reload\" an already interpreted line from the the upper half by pressing enter, and then using <code>ctrl+a, backspace</code> to delete the line in the staging area below, essentially moving into the bottom half without clicking. But this is very ugly, and I hate reaching for the mouse if I don't have to.</p>\n"},{"tags":["python","sockets","networking","nat"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13215100,"title":"Ideas or algorithms when programming an NAT","body":"<p>I'm working on a Python tunneling project using TUNTAP.  The data received on a TUNTAP interface contains the original IP packet including all headers.  I can do one of two things.</p>\n\n<p>On the incoming side I am listening with Twisted.  On the outgoing side I will have a raw socket which dumps the IP packet.  Before dumping the packet the program swaps the source address with that of the server.  It also recomputes the TCP and UDP checksums.  It also swaps the ports using one of the following methods.  This information is tracked in the NAT table</p>\n\n<p>1) Use a single port per user such as</p>\n\n<pre><code> US.ER.01.IP:10000 ----&gt; SE.RV.ER.IP:3000 ----&gt; facebook.com:80\n US.ER.01.IP:10001 ----&gt; SE.RV.ER.IP:3000 ----&gt; facebook.com:80\n US.ER.02.IP:3000 ----&gt; SE.RV.ER.IP:3001 ----&gt; facebook.com:80\n</code></pre>\n\n<p>Could this cause issues if the second with user's 1s simultaneous requests for facebook?  How would the system know how to route facebook's reply.  It is incoming on port 3000 so it belongs to user1 but does it get mapped back to 10000 or 10001?</p>\n\n<p>2) Use a unique port for each connection such as</p>\n\n<pre><code> US.ER.01.IP:10000 ----&gt; SE.RV.ER.IP:3000 ----&gt; facebook.com:80\n US.ER.01.IP:10001 ----&gt; SE.RV.ER.IP:3001 ----&gt; facebook.com:80\n US.ER.02.IP:3000 ----&gt; SE.RV.ER.IP:3002 ----&gt; remoteHost.com:22\n</code></pre>\n\n<p>How would I know when to remove entries from the NAT table?  I could see the NAT table filling up very quickly using this method.  The solutions to this are:</p>\n\n<pre><code>  I could wit for FIN packets from the server.  This will not work with UDP though.\n  I could age the NAT entry on each hit.  I could then run garbage collection \n     every N seconds.  I see this being an issue if garbage collection runs\n     and how would a server's delayed response get to the proper host if it gets\n     deleted from the table.\n</code></pre>\n\n<p>There is also the issue of reading from a raw socket.  I know how to send on one but would it be possible to receive individual IP packets.  Could the raw socket receive one packet per sock.recieve(65535) call possibly receive more than one IP packet?</p>\n\n<p>Which implementation is best?  Any other tips or things I should be watching out for?</p>\n\n<p>EDITS:</p>\n\n<p>Ok so I have N many clients.  If you misunderstood me the enitre /30 is used\nbetween the client and itself.  It is just an abstraction to make the tunnel\npossible.  I also didn't think it mattered but the websocket actaully goes through a \"proxy\" on the LAN (the IPdata is\nsimply repackaged into a new websocket, the mappings are unique however).  I did not want to make the explanation so confusing.  I do not see how this changes anything.</p>\n\n<pre><code>      Client PC     CLIENT PC              Client PC-----&gt;LAN                               INTERNET    \n Client 1: 10.1.1.2 ----&gt; 10.1.1.1 ----&gt; Websocket(IPdata) ----&gt; Browser ---&gt; newWebSocket(IPData) ----&gt; SE.RV.ER.IP\n Client 2: 10.1.1.4 ----&gt; 10.1.1.3 ----&gt; Websocket(IPdata) ----&gt; Browser ---&gt; newWebSocket(IPData) ----&gt; SE.RV.ER.IP\n Client 3: 10.1.1.6 ----&gt; 10.1.1.5 ----&gt; Websocket(IPdata) ----&gt; Browser ---&gt; newWebSocket(IPData) ----&gt; SE.RV.ER.IP\n</code></pre>\n\n<p>Each client set it's default route to be the tunnel endpoint (10.1.1.1 for example).  The client gets the IP datagram, puts it\ninto a websocket, sends the websocket to a browser on the LAN, which then sends it to the server (or perhaps another proxy).  The inside of the websocket contains\nthe original IP datagram (with the source of 10.1.1.2 or some other internal IP).</p>\n\n<p>It is important to note that the server recieves a websocket message from the internet CONTAINING the goodes (with the private source address).  How would the python server use this?  Create a new tunnel with itself then dump the packet raw into the tunnel and route appropriately?  </p>\n\n<p>Or perhaps I could use a mapping?</p>\n\n<p>How would I be able to \"map\" a tunnel abstraction over this chain of websockets?  The client does not have a route to the\ninternet but can reach the \"Browser\" which can get to the internet.  This seems to be the same case with VPN tunnels.  The\nabstraction would be as follows:</p>\n\n<pre><code> Client 1: 10.1.1.2 ----&gt; 10.1.1.1 ----&gt; Websocket(IPdata) ----&gt; Browser ---&gt; newWebSocket(IPData) ----&gt; SE.RV.ER.IP -&gt; Internet\n           10.1.2.2------------------------------------------------------------------------------------&gt; 10.1.2.1 ----&gt; Internet\n</code></pre>\n\n<p>If you know any resources to get me on the right track that would be great!</p>\n"},{"tags":["python","windows64"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13259846,"title":"ctypes.util.test() fails in windows 64","body":"<p>I'm trying to port a python script from linux to windows.</p>\n\n<p>I'm having issues loading external DLLs on the windows machine. While trying to diagnose, I ran the library function ctypes.util.test() and it fails with an exception, the error message saying it cannot find the file (msvcrt.dll, in this case). Is this normal behavior on windows? If it ain't, any clue on where to look?</p>\n\n<p>The machine is running windows 7 Home Premium, 64 bits edition.\nI tried with Python version 3.3  32 bits, 2.7 64 bits and 2.7 32 bits. They all exhibit the same behavior.\nI validated and the file is present both in the System32 and the SysWow64 folders.</p>\n\n<p>To reproduce:</p>\n\n<pre><code> C:\\&gt;\nC:\\&gt;python\nPython 3.3.0 (v3.3.0:bd8afb90ebf2, Sep 29 2012, 10:55:48) [MSC v.1600 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ctypes.util\n&gt;&gt;&gt; ctypes.util.test()\n&lt;CDLL 'msvcrt', handle 76a20000 at 25ff590&gt;\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Program Files (x86)\\Python3.3.0\\lib\\ctypes\\util.py\", line 211, in test\n    print(cdll.load(\"msvcrt\"))\n  File \"C:\\Program Files (x86)\\Python3.3.0\\lib\\ctypes\\__init__.py\", line 423, in __getattr__\n    dll = self._dlltype(name)\n  File \"C:\\Program Files (x86)\\Python3.3.0\\lib\\ctypes\\__init__.py\", line 353, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: [WinError 126] Le module spécifié est introuvable\n</code></pre>\n"},{"tags":["python","class","module","package"],"answer_count":2,"favorite_count":10,"up_vote_count":15,"down_vote_count":0,"view_count":1625,"score":15,"question_id":3842616,"title":"Organizing Python classes in modules and/or packages","body":"<p>I like the Java convention of having one public class per file, even if there are sometimes good reasons to put more than one public class into a single file. In my case I have alternative implementations of the same interface. But if I would place them into separate files, I'd have redundant names in the import statements (or misleading module names):</p>\n\n<pre><code>import someConverter.SomeConverter\n</code></pre>\n\n<p>whereas <code>someConverter</code> would be the file (and module) name and <code>SomeConverter</code> the class name. This looks pretty inelegant to me. To put all alternative classes into one file would lead to a more meaningful import statement:</p>\n\n<pre><code>import converters.SomeConverter\n</code></pre>\n\n<p>But I fear that the files become pretty large, if I put all related classes into a single module file. What is the Python best practise here? Is one class per file unusual? </p>\n"},{"tags":["python","list"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13259288,"title":"returning a list of words after reading a file in python","body":"<p>i have a text file for example its name is test.txt , i want to read it and return a list of all words (with newlines removed) from the file .  </p>\n\n<p>i had written this code :  </p>\n\n<pre><code>def read_words(words_file):\n    open_file = open(words_file, 'r')\n    words_list =[]\n    contents = open_file.readlines()\n    for i in range(len(contents)):\n         words_list.append(contents[i].strip('\\n'))\n    return words_list    \n    open_file.close()  \n</code></pre>\n\n<p>and when i apply it , for example :</p>\n\n<pre><code>read_words('test.txt')\n</code></pre>\n\n<p>the result was :  </p>\n\n<pre><code>['hello there how is everything ', 'thank you all', 'again', 'thanks a lot']\n</code></pre>\n\n<p>how can i get the result to be :  </p>\n\n<pre><code>['hello','there','how','is','everything','thank','you','all','again','thanks','a','lot']\n</code></pre>\n\n<p>thanks</p>\n"}]}
{"total":142318,"page":9,"pagesize":100,"questions":[{"tags":["python","mysql"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13259728,"title":"error when trying to insert values into MySQL table with python","body":"<p>I'm trying to insert this row of data (i parse from a list of tuples)</p>\n\n<pre><code>(0L, u'2012-11-06T16:23:36-05:00', 0L, None, 23759918L, u'baseline', u'0 to 100', nan, 105114L, 2009524L, True, u'charge', u'Charge')\n</code></pre>\n\n<p>into a mySQL database table, but i seem to have problems with the null value (NaN), because i receive this error:</p>\n\n<pre><code>OperationalError: (1054, \"Unknown column 'nan' in 'field list'\")\n</code></pre>\n\n<p>I've tried making columns nullable in mySQL, and also making all text fields, but still no dice..</p>\n"},{"tags":["python","django","django-templates","django-views","jinja2"],"answer_count":1,"favorite_count":7,"up_vote_count":9,"down_vote_count":0,"view_count":153,"score":9,"question_id":13180419,"title":"Why do django templates render dictionaries so slowly?","body":"<p>When I render a moderately complex dictionary (4 levels deep, ~2K data points) using django 1.4's default template system the template rendering step takes over 2800ms.  When I do html-gen directly from python instead it takes ~80ms.  Even using another template library (<a href=\"http://jinja.pocoo.org/docs/\">jinja2</a>) renders the same data (in fact, almost exactly the same template syntax - as jinja2 is nearly a drop-in replacement) in under 300ms.</p>\n\n<p>Interestingly, you don't even have to actually <em>render</em> the dictionary in the template to cause this performance issue in django's template system... all you have to do is <em>pass</em> it as an available variable to a template.  A friend of mine suggested this may mean the system is, \"...doing a defensive copy or (more stupidly) a comprehension [which] will take time due to running constructors\"</p>\n\n<p>Anyone know why django's default template system takes so long to render dictionaries?</p>\n\n<p><strong>* I'll work on adding requested details below *</strong></p>\n\n<p>I am running in debug mode and have the DebugToolbarMiddleware set as one of my middleware classes.  My settings.py file includes:</p>\n\n<pre><code>TEMPLATE_CONTEXT_PROCESSORS = global_settings.TEMPLATE_CONTEXT_PROCESSORS + (\n    'django.core.context_processors.request',\n)\n</code></pre>\n\n<p>and....</p>\n\n<pre><code># rendering like this\nreturn render(\n    request,\n    template_name='ltm/search_results.html',\n    context_instance=RequestContext(request, {\n        'menus': menus,\n        'results': result_dict\n    })\n)\n</code></pre>\n"},{"tags":["python","pandas"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13256917,"title":"Pandas: Creating aggregated column in DataFrame","body":"<p>With the DataFrame below as an example, </p>\n\n<pre><code>In [83]:\ndf = pd.DataFrame({'A':[1,1,2,2],'B':[1,2,1,2],'values':np.arange(10,30,5)})\ndf\nOut[83]:\n   A  B  values\n0  1  1      10\n1  1  2      15\n2  2  1      20\n3  2  2      25\n</code></pre>\n\n<p>What would be a simple way to generate a new column containing some aggregation of the data over one of the columns?</p>\n\n<p>For example, if I sum <code>values</code> over items in <code>A</code> </p>\n\n<pre><code>In [84]:\ndf.groupby('A').sum()['values']\nOut[84]:\nA\n1    25\n2    45\nName: values\n</code></pre>\n\n<p>How can I get </p>\n\n<pre><code>   A  B  values  sum_values_A\n0  1  1      10            25\n1  1  2      15            25\n2  2  1      20            45\n3  2  2      25            45\n</code></pre>\n"},{"tags":["python","guid","uuid"],"answer_count":3,"favorite_count":12,"up_vote_count":97,"down_vote_count":0,"view_count":23715,"score":97,"question_id":534839,"title":"How to create a GUID in Python","body":"<p>How do I create a GUID in Python that is platform independent? I hear there is a method using ActivePython on Windows but it's Windows only because it uses COM. Is there a method using plain Python?</p>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13168761,"title":"Python Use Regex Sub Multiple Times in 1 Pass","body":"<p>Is there a way to combine multiple regex statements into one so it can do different subs on a single pass?</p>\n\n<pre><code>no_Punct = re.sub('(\\w)([?:!.,;-]+)(\\s)',r'\\1 ',raw)\nno_Punct = re.sub('(\\s)([-]+)(\\s)',r'\\1',no_Punct)\n</code></pre>\n\n<p>The input string is 'raw'. I am trying to strip certain punctuation at the ends of words and remove hyphens that are surrounded by a space on each side. Can I combine both of these into one statement?</p>\n\n<p>Given the input of:\nThis is a sentence! One-fourth equals .25.</p>\n\n<p>Output is:\nThis is a sentence one fourth equals .25</p>\n"},{"tags":["python","multithreading"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":3638,"score":5,"question_id":1635080,"title":"Terminate a multi-thread python program","body":"<p>How to make a multi-thread python program response to Ctrl+C key event?</p>\n\n<p><strong>Edit:</strong> The code is like this:</p>\n\n<pre><code>import threading\ncurrent = 0\n\nclass MyThread(threading.Thread):\n    def __init__(self, total):\n        threading.Thread.__init__(self)\n        self.total = total\n\n    def stop(self):\n        self._Thread__stop()\n\n    def run(self):\n        global current\n        while current&lt;self.total:\n            lock = threading.Lock()\n            lock.acquire()\n            current+=1\n            lock.release()\n            print current\n\nif __name__=='__main__':\n\n    threads = []\n    thread_count = 10\n    total = 10000\n    for i in range(0, thread_count):\n        t = MyThread(total)\n        t.setDaemon(True)\n        threads.append(t)\n    for i in range(0, thread_count):\n        threads[i].start()\n</code></pre>\n\n<p>I tried to remove join() on all threads but it still doesn't work. Is it because the lock segment inside each thread's run() procedure?</p>\n\n<p><strong>Edit:</strong> The above code is supposed to work but it always interrupted when current variable was in 5,000-6,000 range and through out the errors as below</p>\n\n<pre><code>Exception in thread Thread-4 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"test.py\", line 20, in run\n&lt;type 'exceptions.TypeError'&gt;: unsupported operand type(s) for +=: 'NoneType' and 'int'\nException in thread Thread-2 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/lib/python2.5/threading.py\", line 486, in __bootstrap_inner\n  File \"test.py\", line 22, in run\n</code></pre>\n"},{"tags":["python","json","python-2.7","indentation"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":13249415,"title":"Can I implement custom indentation for pretty-printing in Python’s JSON module?","body":"<p>So I'm using Python 2.7, using the json module to encode the following data structure.</p>\n\n<pre><code>'layer1': {\n    'layer2': {\n        'layer3_1': [ long_list_of_stuff ],\n        'layer3_2': 'string'\n    }\n}\n</code></pre>\n\n<p>My problem is that I'm printing everything out using pretty printing, as follows:</p>\n\n<pre><code>json.dumps(data_structure, indent=2)\n</code></pre>\n\n<p>Which is great, except I want to indent it all, except for the content in layer3_1 - It's a massive dictionary listing coordinates, and as such, having a single value set on each one makes pretty printing create a file with thousands of lines, with an example as follows:</p>\n\n<pre><code>{\n  \"layer1\": {\n    \"layer2\": {\n      \"layer3_1\": [\n        {\n          \"x\": 1,\n          \"y\": 7\n        },\n        {\n          \"x\": 0,\n          \"y\": 4\n        },\n        {\n          \"x\": 5,\n          \"y\": 3\n        },\n        {\n          \"x\": 6,\n          \"y\": 9\n        }\n      ],\n      \"layer3_2\": \"string\"\n    }\n  }\n}\n</code></pre>\n\n<p>What I really want is something similar to the following:</p>\n\n<pre><code>{\n  \"layer1\": {\n    \"layer2\": {\n      \"layer3_1\": [{\"x\":1,\"y\":7},{\"x\":0,\"y\":4},{\"x\":5,\"y\":3},{\"x\":6,\"y\":9}],\n      \"layer3_2\": \"string\"\n    }\n  }\n}\n</code></pre>\n\n<p>I hear it's possible to extend the json module: Is it possible to set it to only turn off indenting when inside the layer3_1 object? If so, could somebody please be so kind as to help me out?</p>\n"},{"tags":["python","bcrypt","blowfish"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13251273,"title":"2y-blowfish hash keys in Python for shadow","body":"<p>As I found out, <code>2a</code> shadow hash keys are deprecated because <code>2a</code> has implementation flaws. It's been corrected in 2011 and now <code>2y</code>-hashes are used widely on Linux systems.</p>\n\n<p>I tried to find a Python library which calculates <code>2y</code>-hashes, but I failed. I searched at least two hours and had a look at all libraries available but every single library for Python only calculates <code>2a</code> hashes. The most of them are wrapper for the reference <code>bcrypt</code> from BSD but they only calculate <code>2a</code>-hashes.</p>\n"},{"tags":["python","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13258974,"title":"Get a Dictionary by applying function to pandas Series","body":"<p>I would like to apply a function to a dataframe and receive a single dictionary as a result. pandas.apply gives me a Series of dicts, and so currently I have to combine keys from each. I'll use an example to illustrate. </p>\n\n<p>I have a pandas dataframe like so. </p>\n\n<pre><code>In [20]: df\nOut[20]:\n          0  1\n0  2.025745  a\n1 -1.840914  b\n2 -0.428811  c\n3  0.718237  d\n4  0.079593  e\n</code></pre>\n\n<p>I have some function that returns a dictionary. For this example I'm using a toy lambda function <code>lambda x: {x: ord(x)}</code> that returns a dictionary. </p>\n\n<pre><code>In [22]: what_i_get = df[1].apply(lambda x: {x: ord(x)})\nIn [23]: what_i_get\nOut[23]:\n0     {'a': 97}\n1     {'b': 98}\n2     {'c': 99}\n3    {'d': 100}\n4    {'e': 101}\nName: 1\n</code></pre>\n\n<p>apply() gives me a series of dictionaries, but what I want is a single dictionary. </p>\n\n<p>I could create it with something like this: </p>\n\n<pre><code>In [41]: what_i_want = {}\nIn [42]: for elem in what_i_get:\n   ....:    for k,v in elem.iteritems():\n   ....:        what_i_want[k] = v\n   ....:\n\nIn [43]: what_i_want\nOut[43]: {'a': 97, 'b': 98, 'c': 99, 'd': 100, 'e': 101}\n</code></pre>\n\n<p>But it seems I should be able to get what I want more directly. </p>\n"},{"tags":["python","postgresql","psycopg2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13257682,"title":"Creating and populating a table is slow and unstable","body":"<p>When using <code>csv_copy</code> to create/populate a table, I notice it is extremely slow sometimes. The following are the core code and some sample outputs.</p>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>I can't figure out why the time varies for creating and populating tables.</li>\n<li>I am not sure what caused the \"none\" to be printed.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>def create_populate_table(table_name,fields,types,cur):\n    sql = 'CREATE TABLE IF NOT EXISTS ' + table_name + ' (\\n'\n    for i in xrange(len(fields)):\n        if i==0:\n            sql += fields[i]+' '+types[i]+' NOT NULL PRIMARY KEY,\\n'\n        elif i==len(fields)-1:\n            sql += fields[i]+' '+types[i]+')'\n        else:\n            sql += fields[i]+' '+types[i]+',\\n'\n    #print sql\n    cur.execute(sql)\n    conn.commit()\n    print \"Table \",table_name,\" created \",timer()\n\n    cur.execute(\"SELECT count(*) from \"+table_name)\n    if cur.fetchone()[0]&gt;0:\n        return\n    # populate data into created table\n    fr= open(file, 'r')\n    fr.readline()\n    # parse and convert data into unicode\n    #data = unicode_csv_reader(fr, delimiter='|')\n    # anything can be used as a file if it has .read() and .readline() methods\n    data = StringIO.StringIO()\n    s=''.join(fr.readlines())\n    while(s.find('\\r\\n')&lt;&gt;-1):\n        s=s.replace('\\r\\n','\\n')\n    #timer()\n    while(s.find('||')&lt;&gt;-1 or s.find('|\\n')&lt;&gt;-1 ):\n        s=s.replace('||','|0|')\n        s=s.replace('|\\n','|0\\n')\n    #timer()\n    #print s.split('\\t')[:2]\n    #exit(0)\n    data.write(s)\n    data.seek(0)\n    try:\n        cur.copy_from(data, table_name,sep='|')\n        conn.commit()\n        print \"Table \",table_name,\" populated \",timer()\n    except psycopg2.DatabaseError, e:\n        if conn:\n            conn.rollback()\n        print 'Error %s' % e    \n    fr.close()  \n</code></pre>\n\n<p>The outputs I see:</p>\n\n<blockquote>\n  <p>ME_Features_20121001.txt Table  ME_Features_20121001  created  1.44s\n  None Table  ME_Features_20121001  populated  1.48s None</p>\n  \n  <p>FM_Features_20121001.txt Table  FM_Features_20121001  created  67.92s\n  None Table  FM_Features_20121001  populated  0.22s None</p>\n  \n  <p>NationalFile_20121001.txt (700mb) Table  NationalFile_20121001 \n  created  9.34s None Table  NationalFile_20121001  populated  4963.18s\n  None</p>\n  \n  <p>NJ_Features_20121001.txt Table  NJ_Features_20121001  created  1.65s\n  None Table  NJ_Features_20121001  populated  41.11s None</p>\n  \n  <p>PW_Features_20121001.txt Table  PW_Features_20121001  created  1.73s\n  None Table  PW_Features_20121001  populated  0.20s None</p>\n</blockquote>\n"},{"tags":["python","django","windows","vim","ide"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13253510,"title":"Using VIM for Python IDE in Windows?","body":"<p>I am turning to Python from .NET world. And Visual Studio was something a great tool i used.</p>\n\n<p>In python world we do have basic IDLE and another one is VIM. I have seen that a lot of developers have configured VIM to a great IDE. Using basic VIM in Windows 7 seems of less use.\nSo i want to moderate my VIM to a level which has file explorer, syntax highlighting, search, error highlighting etc. So that it gives feel of Visual Studio and more productive.</p>\n\n<p>But all hacks/tips available are for Linux/Ubuntu users mostly, which i may use later but as of now i need to make my VIM in Windows more productive, visual.</p>\n\n<p>Please Suggest some Tips/Hacks/Resources to look around for VIM configuration?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","indentation","analysis","lint"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13241399,"title":"Python check string indentation","body":"<p>I'm building an analyzer for a series of strings.\nI need to check how much each line is indented (either by tabs or by space)</p>\n\n<p>Each line is just a string in a text editor.\nHow do I check by how much a string is indented?</p>\n\n<p>or rather, maybe I could check how much whitespace or \\t are before a string, but I'm unsure of how.</p>\n\n<p>Any help appreciated.\nCheers</p>\n"},{"tags":["python","dictionary","iterate"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13258211,"title":"Alternatives to Dictionary in Python - Need to reference value by named key and iterate in insertion order","body":"<p>I am using Python and Django and messing around with returning JSON objects as Python dictonaries, but am not content because I can't iterate through my dictionary's elements in the order they were inserted. </p>\n\n<p>If I create a dictionary as follows:</p>\n\n<pre><code>measurements = {\n  'units': 'imperial',\n  'fit': request.POST[ 'fit' ],\n  'height': request.POST[ 'height' ],\n  'weight': request.POST[ 'weight' ],\n  'neck': request.POST[ 'neck' ],\n  # further elements omitted for brevity\n}\n</code></pre>\n\n<p>I can try iterating through it like:</p>\n\n<pre><code>for k,v in measurements.iteritems():\n  print k, 'corresponds to ', v\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>shoulders corresponds to  shoulders_val\nweight corresponds to  weight_val\nheight corresponds to  height_val\nwrist corresponds to  wrist_val\n...\n</code></pre>\n\n<p>I also tried using sorted(), which iterates through my elements by key alphabetically</p>\n\n<pre><code>bicep corresponds to  bicep_val\nchest corresponds to  chest_val\nfit corresponds to  fit_val\nheight corresponds to  height_val\n...\n</code></pre>\n\n<p>I am new to Python. I am hoping to find some way to both reference my dictionary elements by named keys like measurements['units'] but still be able to iterate through these elements in the order they were created. I am aware that there is an <a href=\"http://docs.python.org/2/library/collections.html#ordereddict-examples-and-recipes\" rel=\"nofollow\">ordered dictionary module</a> out there, but I would like to stay away from nonstandard packages. Would any other standard Python data structures ( lists, arrays, etc. ) allow me to iterate in insertion order and reference values by named keys? </p>\n"},{"tags":["python","decorator","python-sphinx"],"answer_count":3,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":831,"score":8,"question_id":3687046,"title":"Python Sphinx autodoc and decorated members","body":"<p>I am attempting to use Sphinx to document my Python class. I do so using autodoc:</p>\n\n<pre><code>.. autoclass:: Bus\n   :members:\n</code></pre>\n\n<p>While it correctly fetches the docstrings for my methods, those that are decorated:</p>\n\n<pre><code>    @checkStale\n    def open(self):\n        \"\"\"\n        Some docs.\n        \"\"\"\n        # Code\n</code></pre>\n\n<p>with <code>@checkStale</code> being</p>\n\n<pre><code>def checkStale(f):\n    @wraps(f)\n    def newf(self, *args, **kwargs):\n        if self._stale:\n            raise Exception\n        return f(self, *args, **kwargs)\n    return newf\n</code></pre>\n\n<p>have an incorrect prototype, such as <code>open(*args, **kwargs)</code>.</p>\n\n<p>How can I fix this? I was under the impression that using <code>@wraps</code> would fix up this kind of thing.</p>\n"},{"tags":["python","arrays","numpy"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":11755555,"title":"Saving numpy array to txt file as a single coloum?","body":"<p>I'm trying to write a numpy array into txt file:</p>\n\n<pre><code>a = numpy.array([1,2,3])\nnumpy.savetxt('a.txt',a,fmt='%.3f')\n</code></pre>\n\n<p>when I open the txt file it looks like:</p>\n\n<pre><code>1.0002.0003.000\n</code></pre>\n\n<p>but when I paste it in word it looks like:</p>\n\n<pre><code>1.000\n\n2.000\n\n3.000\n</code></pre>\n\n<p>The problem is that another program reads the txt file as input line by line:</p>\n\n<pre><code>data = fid.readlines()\n</code></pre>\n\n<p>As a result it doesn't work correctly.How can I fix this problem?</p>\n"},{"tags":["python","xlwt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13258918,"title":"Python xlwt module, hide grid","body":"<p>I'm trying to hide grid on successfully generated .xls with 2 sheets included. I read the xlwt doc and among other properties that can be set on xlwt-related objects, there is show_grid function included. I was trying following, but it doesn't change anything:  </p>\n\n<pre><code>with open(os.path.join('sheet1_test.csv'), 'rb') as cf:\n    reader = csv.reader(cf)\n        for r, row in enumerate(reader):\n            for c, col in enumerate(row):\n                sheet1.write(c, r, col, easyxf(\n                'font: name Arial;',\n                'show_grid: off'\n                ))\n</code></pre>\n\n<p>I appreciate any help.</p>\n"},{"tags":["python","object","naming"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13258415,"title":"Naming auto generated objects, python","body":"<p>Text in italic can be skipped.</p>\n\n<p><em>First of all: Forgive me if what I'm asking for is basic knowledge, easy to find answers too, or anything similar that may make my post annoying to anyone. I'm new to programming, and just started it to have an excuse not to read for exams.\nI'm trying to make a program that can kind of mimic evolution from a tribe of humans to..well, a more advanced tribe of humans. My goal is to some time in the future make a very simple Civilization-like game that focuses on people rather than buildings and units. Starting from scratch, knowing pretty much nothing about programming at the moment, i know this is a task I will probably never complete. Hopefully I'll learn something on the way though.\nBecause my knowledge is so limited, my questions will be clumsy and badly formulated. I'm sorry, thanks for reading.</em></p>\n\n<p>The current problem:\nI've made a class that makes objects that are supposed to represent people.</p>\n\n<p>The class looks like this at the moment:</p>\n\n<pre><code>class Settler:\n    settlerCount = 0\n    iqlistfemale = []\n    iqlistmale = []\n    maleCount = 0\n    femaleCount = 0\n    surnameMale = []\n    surnameFemale = []\n\n    def __init__(self, sex):\n        if sex==\"m\" or sex==\"f\" or sex==\"M\" or sex==\"F\":\n            self.name = choice(surnames)\n            Settler.settlerCount += 1\n            self.iq=round(random.normalvariate(100,10))\n            if sex==\"m\" or sex==\"M\":\n                self.sex = \"Male\"\n                Settler.iqlistmale=Settler.iqlistmale+[self.iq]\n                Settler.surnameMale += [self.name]\n                Settler.maleCount += 1\n            else:\n                self.sex = \"Female\"\n                Settler.iqlistfemale=Settler.iqlistfemale+[self.iq]\n                Settler.surnameFemale += [self.name]\n                Settler.femaleCount += 1\n</code></pre>\n\n<p>It will contain way more attributes later, this is just a beginning.</p>\n\n<p>I've also made a loop that will ask you for an amount of males to create, and then an amount of females to create.</p>\n\n<p>The loop-thing looks like this:</p>\n\n<pre><code>x=int(input(\"Number of male Settlers to generate? (1-20) \"))\nif x &gt;0 and x &lt;21:\n    tellergenerator=0  \n    while tellergenerator&lt;x:\n        Settler(\"M\")\n        tellergenerator=tellergenerator+1\n\nelse:\n    print(\"Wrong input!\")\n\n\n\nx=int(input(\"Number of female Settlers to generate? (1-20) \"))\nif x &gt;0 and x &lt;21:\n    tellergenerator=0  \n    while tellergenerator&lt;x:\n        Settler(\"F\")\n        tellergenerator=tellergenerator+1\n\nelse:\n    print(\"Wrong input!\")\n</code></pre>\n\n<p>Also, I've made a def thing that will allow you to call for information on the attributes of an object:</p>\n\n<pre><code>def displaySettler(self):\n        print(\"Name:\", self.name, \"Sex:\", self.sex, \"IQ:\", self.iq)\n</code></pre>\n\n<p><strong>Now, for the questions:</strong></p>\n\n<ol>\n<li>Main question: My loop-thing works fine, meaning it creates the number of objects of the right sex that I want to create. My problem is that it creates objects without names, as far as I know. This means I can't do the displaySettler() call, because it requires me to do nameofobject.displaySettler(). How can I, using some sort of loop function to create a bunch of objects, make those objects with names.</li>\n</ol>\n\n<p>I've found a way to combine a number to a string, which might allow me to put into the loop a system that creates object names like settler1, settler2, settler3, but the way I do that is to do something like</p>\n\n<pre><code>x=settler\ny=(some counter)\nz=x+str(y)\n</code></pre>\n\n<p>Is that something I can use? The only way I know to create my objects with name is by writing something like</p>\n\n<pre><code>settler1=Settler(\"F\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>w=Settler(\"F\")\n</code></pre>\n\n<p>is it possible to use the contents of variable z to name something?</p>\n\n<ol>\n<li>I'd also like to ask the following: As you might see from my class, I'm doing a bunch of lists. I'm thinking I have to make a list for every attribute for every sex, containing the particular attributes of all objects. I want those lists to be able to calculate the populations average value of each attribute, and things like that.</li>\n</ol>\n\n<p>Is it possible to get those values directly from the objects, and go through all the objects directly and calculate the average from that?</p>\n\n<p>Or to put it another way: If I have 200 objects, is there some way to get the IQs of all the objects added together?</p>\n\n<p>Thanks for reading (if anyone got this far). All constructive feedback will be much appreciated.</p>\n"},{"tags":["python","osx","dictionary","binary"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13257914,"title":"get an error when checking dictinonary's content in python","body":"<p>I'm surprised that I get an error when checking if a certain value in in my dictionary like this:</p>\n\n<pre><code>if src in mac_dict:\n</code></pre>\n\n<p>I have filled up my dictionaary like this:</p>\n\n<pre><code>data = database.get(mac, \"get_nodelist\", version=1)\nif data:\n    fh = StringIO(data)\n    version = ord(fh.read(1))\n    length = ord2b(fh.read(2))\n    length = length / 8\n    macs = {}\n    for i in xrange(0,length):\n        mac = fh.read(6)[-3:]\n        tdm = ord2b(fh.read(2))\n        macs[mac] = tdm\n        print hexlify(mac) + \" - \" + str(tdm)\n    fh.close()\n    fh = open(\"macs.bin\",\"wb\")\n    pickle.dump(macs,fh)\n    fh.close()\n    return macs\n</code></pre>\n\n<p>data contains 6 Bytes of mac adresses plus 2 Bytes of tdm in sa row. They seem to be decoded properly with the print statement but when I want to check if src (in binary) is part of mac_dict, my script throws an exception - even tho I definitely should be in there.. any hints?</p>\n\n<p>Thank you!\nRon</p>\n"},{"tags":["python","raspberry-pi","zbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13258883,"title":"Zbar Raspberry Pi Installation","body":"<p>I'm attempting to install zbar on my raspberry pi. I build the source by entering:  </p>\n\n<p>./configure<br>\nmake<br>\nmake install  </p>\n\n<p>After the install finishes, I enter python and attempt to import zbar. Doing this results in a segmentation fault.</p>\n\n<p>Any ideas on what could be the issue?</p>\n"},{"tags":["python","multithreading","mutex","shared-memory"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":13256735,"title":"Mutex appropriate for fast single writer / slow readers (cpython)?","body":"<p>In my application, I have one single thread that is performing very fast processing on log lines to produce a float value. There is usually only a single other thread performing slow reads on the values at intervals. Every so often, other threads can come and go and also perform once-off reads on those values.</p>\n\n<p>My question is about the necessity of a mutex (in cpython), for this specific case where the data is simply the most recent data available. It is not a critical value that must be in sync with anything else (or even the other fields being written at the same time). Just simply... what the value is when it is.</p>\n\n<p>That being said, I know I could easily add a lock (or a readers / write lock) to guard the update of the value, but I wonder if the overhead of the acquire/release in rapid succession for the course of an entire log (lets say average 5000 lines) is not worth it just to do shared resources \"appropriately\".</p>\n\n<p>Based on the docs on <a href=\"http://docs.python.org/2/faq/library#what-kinds-of-global-value-mutation-are-thread-safe\" rel=\"nofollow\">What kinds of global value mutation are thread-safe?</a>, these assignments should be atomic operations.</p>\n\n<p>Here is a basic example of the logic:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import time\nfrom random import random, choice, randint\nfrom threading import Thread \n\nclass DataStructure(object):\n    def __init__(self):\n        self.f_val = 0.0\n        self.s_val = \"\"\n\ndef slow_reader(data):\n    \"\"\" \n    Loop much more slowly and read values \n    anywhere between 1 - 5 second intervals\n    \"\"\"\n    for _ in xrange(10):\n\n        f_val = data.f_val \n        # don't care about sync here\n        s_val = data.s_val\n\n        print f_val, s_val\n\n        # in real code could be even 30 or 60 seconds\n        time.sleep(randint(1,3))\n\ndef fast_writer(data):\n    \"\"\" Update data extremely often \"\"\"\n    for _ in xrange(20000):\n        f_val, s_val = do_work()\n\n        data.f_val = f_val\n        # don't care about sync here\n        data.s_val = s_val \n\n\nFLOAT_SRC = [random()*100 for _ in xrange(100)]\nSTR_SRC = ['foo', 'bar', 'biz', 'baz']\n\ndef do_work():\n    time.sleep(0.001)\n    return choice(FLOAT_SRC), choice(STR_SRC)\n\n\nif __name__ == \"__main__\":\n\n    data = DataStructure()\n\n    threads = [\n        Thread(target=slow_reader, args=(data,)),\n        Thread(target=fast_writer, args=(data,)),\n    ]\n\n    for t in threads:\n        t.daemon=True\n        t.start()\n\n    for t in threads:\n        t.join()\n</code></pre>\n\n<p>This represents the fast log parser (actually being read via a PIPE) doing work on each line, and a slow periodic reader grabbing whatever are the current values at that moment. At any time, another once-read thread could come and go to grab those same values from the data structure.</p>\n\n<p>Is this a situation where a mutex in cpython is not needed at all?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>To clarify a bit more... I don't even need the float and string fields to be in sync from the last write. It is ok if the scheduler decides to switch contexts between the float and string reads. I'm just wondering if I even need the overhead of a lock to simply read whatever value is assigned at any moment in time.</p>\n\n<p>My concern is regarding the fact that the writer is going to be looping, on an extremely fast operating, locking and unlocking a lock that is often un-contended.</p>\n\n<p>Effectively assume this is all I care about in the <code>reader</code>:</p>\n\n<pre><code>def slow_reader(data):\n    for _ in xrange(10):\n        f_val = data.f_val \n        print f_val\n        time.sleep(randint(1,3))\n</code></pre>\n"},{"tags":["python","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13258793,"title":"new line character in fetchall() python","body":"<p>I am selecting data from a database in python.</p>\n\n<pre><code>cur.execute(\"Select a,b,c from tab1\")\nprint \"a,b,c\"\nprint \"\\n\"\ndata = cur.fetchall()\nprint \"\".join(str(e) for e in data).replace(\"(\",\"\").replace(\")\",\"\")\n</code></pre>\n\n<p>I want to put a newline character at the end of each row.</p>\n\n<p>Output should look like</p>\n\n<pre><code>a,b,c\nA,B,C        //These values are from the database.\nD,E,F\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["python","regex","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13205712,"title":"Read more than one line of a file","body":"<p>I am working on a python app to create an interface for a script(ish) visual novel framework. For now, I was able to read the file, create the <em>labels</em> or functions but when I read them, it just reads one line. Sort of like this:</p>\n\n<pre><code>&gt;&gt;&gt; from freddie import Freddie\n&gt;&gt;&gt; check = Freddie()\n&gt;&gt;&gt; check.read_script('script')\n&gt;&gt;&gt; check.read_label('start')\n'label start:\\n' # Only reads the first line and the whitespace\n</code></pre>\n\n<p>And the entire label is:</p>\n\n<pre><code>label start:\n\n    test \"Lorem ipsum\"\n\n    test \"Sir amet\"\n\nreturn\n</code></pre>\n\n<p>My function is:</p>\n\n<pre><code>def read_label(self, label):\n    search_label = re.search(\"label %s(.*)\\s\" % label, self.scripts.read(), re.MULTILINE)\n    return search_label.group()\n</code></pre>\n\n<p>Is there a way to make the regular expression read the entire label and the whitespace?</p>\n\n<p>Thanks for your time.</p>\n"},{"tags":["python","django-rest-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13258087,"title":"Missing bootstrap resources in Django-Rest-Framework","body":"<p>I'm using the new <a href=\"http://django-rest-framework.org/topics/rest-framework-2-announcement.html\" rel=\"nofollow\" title=\"Django REST Framework 2.0\">django-rest-framework 2.0</a> and have been following the tutorial for creating a rest based API. The API is now complete, however I am having trouble getting the bootstrap resources to load, all return with a 404 Not Found from Django.</p>\n\n<p>I feel like the resources should be loaded from django-rest-framework module's static directory, And when I do a listing on 'python2.7/dist-packages/rest_framework/static/rest_framework' I see the css, js, and img directories I need with but I have been unable to find any place in the documentation that shows how to link the CSS from the module to my project.</p>\n\n<p>What is the best course of action here? Should I download the source and copy the folder into my /static directory? Symlinking is out of the question because I need to check the project into a central repo.. Ideas?</p>\n"},{"tags":["python","algorithm","scheduling"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":110,"score":2,"question_id":13257826,"title":"Efficient scheduling of university courses","body":"<p>I'm currently working on a website that will allow students from my university to automatically generate valid schedules based on the courses they'd like to take.</p>\n\n<p>Before working on the site itself, I decided to tackle the issue of how to schedule the courses efficiently.</p>\n\n<p>A few clarifications:</p>\n\n<ol>\n<li><p>Each course at our university (and I assume at every other\nuniversity) comprises of one or more sections. So, for instance,\nCalculus I currently has 4 sections available. This means that, depending on the amount of sections, and whether or not the course has a lab, this drastically affects the scheduling process.</p></li>\n<li><p>Courses at our university are represented using a combination of subject abbreviation and course code. In the case of Calculus I: MATH 1110.</p></li>\n<li><p>The CRN is a code unique to a section.</p></li>\n<li><p>The university I study at is not mixed, meaning males and females study in (almost) separate campuses. What I mean by almost is that the campus is divided into two.</p></li>\n<li><p>The datetimes and timeranges dicts are meant to decreases calls to datetime.datetime.strptime(), which was a real bottleneck.</p></li>\n</ol>\n\n<p>My first attempt consisted of the algorithm looping continuously until 30 schedules were found. Schedules were created by randomly choosing a section from one of the inputted courses, and then trying to place sections from the remaining courses to try to construct a valid schedule. If not all of the courses fit into the schedule i.e. there were conflicts, the schedule was scrapped and the loop continued.</p>\n\n<p>Clearly, the above solution is flawed. The algorithm took too long to run, and relied too much on randomness.</p>\n\n<p>The second algorithm does the exact opposite of the old one. First, it generates a collection of all possible schedule combinations using itertools.product(). It then iterates through the schedules, crossing off any that are invalid. To ensure assorted sections, the schedule combinations are shuffled (random.shuffle()) before being validated. Again, there is a bit of randomness involved.</p>\n\n<p>After a bit of optimization, I was able to get the scheduler to run in under 1 second for an average schedule consisting of 5 courses. That's great, but the problem begins once you start adding more courses.</p>\n\n<p>To give you an idea, when I provide a certain set of inputs, the amount of combinations possible is so large that itertools.product() <em>does not terminate</em> in a reasonable amount of time, and eats up 1GB of RAM in the process.</p>\n\n<p>Obviously, if I'm going to make this a service, I'm going to need a faster and more efficient algorithm. Two that have popped up online and in IRC: dynamic programming and genetic algorithms.</p>\n\n<p>Dynamic programming cannot be applied to this problem because, if I understand the concept correctly, it involves breaking up the problem into smaller pieces, solving these pieces individually, and then bringing the solutions of these pieces together to form a complete solution. As far as I can see, this does not apply here.</p>\n\n<p>As for genetic algorithms, I do not understand them much, and cannot even begin to fathom how to apply one in such a situation. I also understand that a GA would be more efficient for an extremely large problem space, and this is not <em>that</em> large.</p>\n\n<p>What alternatives do I have? Is there a relatively understandable approach I can take to solve this problem? Or should I just stick to what I have and hope that not many people decide to take 8 courses next semester?</p>\n\n<p>I'm not a great writer, so I'm sorry for any ambiguities in the question. Please feel free to ask for clarification and I'll try my best to help.</p>\n\n<p>Here is the code in its entirety.</p>\n\n<p><a href=\"http://bpaste.net/show/ZY36uvAgcb1ujjUGKA1d/\" rel=\"nofollow\">http://bpaste.net/show/ZY36uvAgcb1ujjUGKA1d/</a></p>\n\n<p>Note: Sorry for using a misleading tag (scheduling). </p>\n"},{"tags":["python","date","date-conversion"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":50,"score":3,"question_id":13258554,"title":"Convert \"unknown format\" strings to datetime objects?","body":"<p>This is probably a very basic question but after reading documentation I still can't figure out how to do it...</p>\n\n<p>I have two strings in Python that contain dates of <em>unknown format</em>. I don't know what formats they are in, except I know that both are valid date-time expressions. For example, one of them might be in the ISO format and the other in some other format.</p>\n\n<p>All I need is to be able to compare the dates. What's the correct way to turn strings into appropriate date-time objects so that they can be compared?</p>\n\n<p>thanks!</p>\n"},{"tags":["python","numpy","interpolation"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13257167,"title":"Local linear approximation in numpy","body":"<p>I have some <code>x</code> and <code>y</code> data, where for every entry in the <code>x</code> vector there's a corresponding entry in the <code>y</code> vector. Furthermore, the <code>x</code> data are not evenly spaced. </p>\n\n<p>I'd like to interpolate between the <code>x</code> samples to obtain an even spacing in the <code>x</code> dimension, and to approximate the corresponding <code>y</code> value. In <strong>numpy</strong>, <code>interp1d</code> seems like a natural solution, but my problem has a caveat: the <code>x</code> values are not monotonically increasing (because both <code>x</code> and <code>y</code> are a function of time). The <code>interp1d</code> function, and the other functions from the interpolate module, thus give weird results at those points where <code>x</code> reverses direction. </p>\n\n<p>What I'd really like to do is simply fit a straight line between every set of two adjacent <code>x</code> points and then interpolate based on this very local approximation. Is there a function to do this in <strong>numpy</strong> or do I have to rig something up myself?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13258338,"title":"Making a dynamic variable set","body":"<p>I'm trying to put together a tool that has a notion of 'level'. \nEach 'level' has a set of variables that are needed to support the activity I want to achieve that are specific to each level. </p>\n\n<p>I have written a hard-coded version that works (to a degree) but it is limited to the number of levels I have hard-coded. It strikes me that there must be a slicker way of writing this func so can generate the level vars on the fly:</p>\n\n<pre><code>def levelVarsGetter(level):\n    if level == 1:\n        levelDict = {'URLRegEx':baseDict['L1Regex'], 'titleRegEx':baseDict['L1TitleRegex'], 'buildPortion':baseDict['L1buildPortion'], 'levelParser':'level_1'}\n    elif level ==2:\n        levelDict = {'URLRegEx':baseDict['L2Regex'], 'titleRegEx':baseDict['L2TitleRegex'], 'buildPortion':baseDict['L2buildPortion'], 'levelParser':'level_2'}\n    elif level ==3:\n        levelDict = {'URLRegEx':baseDict['L3Regex'], 'titleRegEx':baseDict['L3TitleRegex'], 'buildPortion':baseDict['L3buildPortion'], 'levelParser':'level_3'}\n    elif level ==4:\n        levelDict = {'URLRegEx':baseDict['L4Regex'], 'titleRegEx':baseDict['L4TitleRegex'], 'buildPortion':baseDict['L4buildPortion'], 'levelParser':'level_4'}\n    elif level ==5:\n        levelDict = {'URLRegEx':baseDict['L5Regex'], 'titleRegEx':baseDict['L5TitleRegex'], 'buildPortion':baseDict['L5buildPortion'], 'levelParser':'level_5'}\n    return levelDict \n</code></pre>\n\n<p>All the vars in the dict are manually entered in an initialisation func. There labels can be changed if required. </p>\n\n<p>for context, the referring code: </p>\n\n<pre><code>for x in xrange (1, baseDict['numberOfLevels']+1):\n    links=[]\n    levelDict= levelVarsGetter(x)\n    URLRegEx = levelDict['URLRegEx'] \n    titleRegEx = levelDict['titleRegEx']\n    buildPortion = levelDict['buildPortion']\n    level = levelDict['levelParser'] \n    go = siteParser()\n</code></pre>\n"},{"tags":["python","pythonpath"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13254047,"title":"Module name different than directory name?","body":"<p>Let's assume I have a python package called <code>bestpackage</code>.</p>\n\n<p>Convention dictates that <code>bestpacakge</code> would also be a directory on <code>sys.path</code> that contains an  <code>__init__.py</code> to make the interpreter assume it can be imported from.</p>\n\n<p>Is there any way I can set a variable for the package name so the directory could be named something different than the directive I import it with?  Is there any way to make the  namespacing not care about the directory name and honor some other config instead?</p>\n\n<p>My super trendy client-side devs are just so much in love with these sexy <code>something.otherthing.js</code> project names for one of our smaller side projects!</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>To clarify, the main purpose of my question was to allow my client side guys continue to call the directories in their \"projects\" (the one we all have added to our paths) folder using their existing convention (some.app.js), even though in some cases they are in fact python packages that will be on the path and sourced to <code>import</code> statements internally.  I realize this is in practice a pretty horrible thing and so I ask more out of curiosity.  So part of the big problem here is circumventing the fact that the <code>.</code> in the directory name (and thereby the assumed package name) implies attribute access.  It doesn't really surprise me that this cannot be worked around, I was just curious if it was possible deeper in the \"magic\" behind import.</p>\n\n<p>There's some great responses here, but all rely on doing a classical import of some kind where the attribute accessor <code>.</code> will clash with the directory names.</p>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13258445,"title":"Finding groups in Regex - Python","body":"<p>I am not able to understand the output of following code I just wrote. I am trying to extract the complete value of the group in a string value.</p>\n\n<pre><code>&gt;&gt; str1 = \"CREATE TABLE TABLE1 (NAME VARCHAR, PHONE VARCHAR) as SELECT NAME, PHONE FROM SCHEMA1.ADDRESS\"\n&gt;&gt; pat1 = re.compile(\"CREATE TABLE .+ FROM (\\w).+\")\n&gt;&gt; ret= pat1.search(str1)\n&gt;&gt; ret.groups()\n('S',)\n</code></pre>\n\n<p>I was expecting the value to be <code>SCHEMA1</code>. How can I retrieve the entire value ?</p>\n\n<p>Why I am doing this? </p>\n\n<p>I have a file filled with DML statements intended for different schemas. So, I need to create separate files for each schema with DML statement from the file mentioned before.</p>\n"},{"tags":["python","dictionary"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":67,"score":0,"question_id":13257660,"title":"Dictionary help in Python","body":"<p>Say someone was making a grade system, and they had a dictionary with each grade letter as value and a percentage as a key. How would you be able to pick a value if say, you had your key as 75% and you wanted it to print \"C\", but then it would still print \"C\" if you entered 74% or 79%.</p>\n"},{"tags":["python","idle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13224221,"title":"Inserting into the IDLE history from a script in the IDLE shell","body":"<p>I want to be able to push code into the IDLE shell history from a script such that</p>\n\n<pre><code>&gt;&gt;&gt;somecode = \"\"\"\ndef somefunc():\n    pass\n\"\"\"\n&gt;&gt;&gt;idlelib.some_unknown_add_to_history_method(somecode)\n&gt;&gt;&gt;&lt;ALT-p&gt;\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>&gt;&gt;&gt;def somefunc():\n    pass\n</code></pre>\n\n<p>So that I can edit and re-evaluate somefunc just as if I had manually pasted or entered the code into the shell. Is there an existing way to do this, or will I need to write an IDLE extension?</p>\n"},{"tags":["python","nltk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12267544,"title":"Machine Translation using babelize_shell() in NLTK","body":"<p>Hi I am learning Natural Language processing using NLTK. I am trying to implement babelize_shell() example of the book. What I am doing is executing babelize_shell(), after that I am entering my string, followed by german as stated in the book, followed by run.</p>\n\n<p>The error I am getting is:</p>\n\n<p>Traceback (most recent call last):</p>\n\n<p>File \"\", line 1, in </p>\n\n<pre><code>babelize_shell()\n</code></pre>\n\n<p>File \"C:\\Python27\\lib\\site-packages\\nltk\\misc\\babelfish.py\", line 175, in babelize_shell</p>\n\n<pre><code>for count, new_phrase in enumerate(babelize(phrase, 'english', language)):\n</code></pre>\n\n<p>File \"C:\\Python27\\lib\\site-packages\\nltk\\misc\\babelfish.py\", line 126, in babelize</p>\n\n<pre><code>phrase = translate(phrase, next, flip[next])\n</code></pre>\n\n<p>File \"C:\\Python27\\lib\\site-packages\\nltk\\misc\\babelfish.py\", line 106, in translate</p>\n\n<pre><code>if not match: raise BabelfishChangedError(\"Can't recognize translated string.\")\n</code></pre>\n\n<p>BabelfishChangedError: Can't recognize translated string.</p>\n\n<p>example</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>babelize_shell()</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>NLTK Babelizer: type 'help' for a list of commands.</p>\n\n<p>Babel> how long before the next flight to Alice Springs?</p>\n\n<p>Babel> german</p>\n\n<p>Babel> run</p>\n\n<p>0> how long before the next flight to Alice Springs?</p>\n\n<p>1> wie lang vor dem folgenden Flug zu Alice Springs?</p>\n\n<p>2> how long before the following flight to Alice jump?</p>\n\n<p>3> wie lang vor dem folgenden Flug zu Alice springen Sie?</p>\n\n<p>4> how long before the following flight to Alice do you jump?</p>\n\n<p>5> wie lang, bevor der folgende Flug zu Alice tun, Sie springen?</p>\n\n<p>6> how long, before the following flight to Alice does, do you jump?</p>\n\n<p>7> wie lang bevor der folgende Flug zu Alice tut, tun Sie springen?</p>\n\n<p>8> how long before the following flight to Alice does, do you jump?</p>\n\n<p>9> wie lang, bevor der folgende Flug zu Alice tut, tun Sie springen?</p>\n\n<p>10> how long, before the following flight does to Alice, do do you jump? 11> wie lang bevor der folgende Flug zu Alice tut, Sie tun Sprung?</p>\n\n<p>12> how long before the following flight does leap to Alice, does you?</p>\n"},{"tags":["python","text","editing"],"answer_count":5,"favorite_count":2,"up_vote_count":3,"down_vote_count":1,"view_count":5924,"score":2,"question_id":1582750,"title":"edit text file using Python","body":"<p>I need to update a text file whenever my IP address changes, and then run a few commands from the shell afterwards.</p>\n\n<ol>\n<li><p>Create variable LASTKNOWN = \"212.171.135.53\" \nThis is the ip address we have while writing this script.</p></li>\n<li><p>Get the current IP address. It will change on a daily basis.</p></li>\n<li><p>Create variable CURRENT for the new IP.</p></li>\n<li><p>Compare (as strings) CURRENT to LASTKNOWN</p></li>\n<li><p>If they are the same, exit()</p></li>\n<li><p>If they differ, </p>\n\n<p>A. \"Copy\" the old config file (/etc/ipf.conf) containing LASTKNOWN IP address into /tmp\nB. Replace LASTKNOWN with CURRENT in the /tmp/ipf.conf file.<br />\nC. Using subprocess \"mv /tmp/ipf.conf /etc/ipf.conf\"<br />\nD. Using subprocess execute, \"ipf -Fa -f /etc/ipf.conf\"<br />\nE. Using subprocess execute, \"ipnat -CF -f /etc/ipnat.conf\"  </p></li>\n<li><p>exit()</p></li>\n</ol>\n\n<p>I know how to do steps 1 through 6. I fall down on the \"file editing\" part, A -> C. I can't tell what module to use or whether I should be editing the file in place. There are so many ways to do this, I can't decide on the best approach. I guess I want the most conservative one.</p>\n\n<p>I know how to use subprocess, so you don't need to comment on that.  </p>\n\n<p>I don't want to replace entire lines; just a specific dotted quad.   </p>\n\n<p>Thanks!</p>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":889,"score":2,"question_id":7086578,"title":"column user_id is not unique, with Django UserProfiles","body":"<p>I'm trying to add some extra attributes to a user by way of a User Profile in Django (1.2.5, the version supplied in Ubuntu natty), but whenever I create a new user through the admin console, with one of the new attributes included (eg, 'phone'), I get a \"column user_id is not unique\" IntegrityError.</p>\n\n<p>I see that other people have had this problem, and they seem to have solved it by adding a unique dispatch_uid to the userprofile creation signal, but that's not working for me:</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User\nfrom django.db.models.signals import post_save\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User)\n    phone = models.CharField(max_length=40,blank=True,null=True)\n\ndef create_user_profile(sender, instance, **kwargs):\n        UserProfile.objects.get_or_create(user=instance)\n\npost_save.connect(create_user_profile, sender=User, dispatch_uid=\"users-profilecreation-signal\")\n</code></pre>\n\n<p>AUTH_PROFILE_MODULE is set to point at this class, in settings.py.</p>\n\n<p>Anyone know what I'm doing wrong?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13257748,"title":"python os.fdopen(os.open()) can't be used for writing?","body":"<p>This question has to do with the answer to <a href=\"http://stackoverflow.com/questions/5624359/write-file-with-specific-permissions-in-python\">Write file with specific permissions in Python</a> for opening a file for writing (in python) with specific permissions.</p>\n\n<p>The code in the answer looks like:</p>\n\n<pre><code>with os.fdopen(os.open('foo', os.O_APPEND | os.O_CREAT, 0o644)) as out:\n  out.write(\"hello\\n\")\n</code></pre>\n\n<p>This code in 2.7.1 (my company does not have 2.7.3 installed) produces:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 2, in &lt;module&gt;\nIOError: File not open for writing\n</code></pre>\n\n<p><code>os.fdopen</code> has its own mode argument, but setting that doesn't help:</p>\n\n<pre><code>&gt;&gt;&gt; with os.fdopen(os.open('foo', os.O_APPEND | os.O_CREAT, 0o644), 'a') as out:\n...   out.write(\"hello\\n\")\n...\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nOSError: [Errno 22] Invalid argument\n</code></pre>\n\n<p>Long story short, I have not been able to figure out how to actually write to a file that has been opened via <code>os.fdopen</code> and <code>os.open</code>.  Any ideas?  Known bug in 2.7.1?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","script","shutil"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13256243,"title":"Python script for moving directories/files while ignoring certain directories/files using shutil?","body":"<p>I'm looking to build a python script that moves files/directories from one directory to another while referencing a list that notes the files to be copied over.</p>\n\n<p>Here is what I have thus far:</p>\n\n<pre><code>import os, shutil\n\n// Read in origin &amp; destination from secrets.py Readlines() stores each line followed by a '/n' in a list\n\n    f = open('secrets.py', 'r')\n    paths = f.readlines()\n\n// Strip out those /n\n\n    srcPath = paths[0].rstrip('\\n')\n    destPath = paths[1].rstrip('\\n')\n\n// Close stream\n\n    f.close()\n\n// Empty destPath\n\n    for root, dirs, files in os.walk(destPath, topdown=False):\n        for name in files:\n            os.remove(os.path.join(root, name))\n        for name in dirs:\n            os.rmdir(os.path.join(root, name))\n\n// Copy &amp; move files into destination path\n\n    for srcDir, dirs, files in os.walk(srcPath):\n        destDir = srcDir.replace(srcPath, destPath)\n        if not os.path.exists(destDir):\n            os.mkdir(destDir)\n        for file in files:\n            srcFile = os.path.join(srcDir, file)\n            destFile = os.path.join(destDir, file)\n            if os.path.exists(destFile):\n                os.remove(destFile)\n            shutil.copy(srcFile, destDir)\n</code></pre>\n\n<p>The secrets.py files contains the src/dest paths.</p>\n\n<p>Currently this transfers all files/directories over. I'd like to read in another file that allows you to specify which files to transfer (rather than making a \"ignore\" list).</p>\n"},{"tags":["python","list","dictionary","sorting","tuples"],"answer_count":19,"favorite_count":128,"up_vote_count":272,"down_vote_count":2,"view_count":147124,"score":270,"question_id":613183,"title":"Python: Sort a dictionary by value","body":"<p>I have a dictionary of values read from 2 fields in a database: a string field and a numeric field. The string field is unique so that is the key of the dictionary.</p>\n\n<p>I can sort on the keys, but how can I sort based on the values?</p>\n\n<p>Note: I have read <a href=\"http://stackoverflow.com/questions/72899/in-python-how-do-i-sort-a-list-of-dictionaries-by-values-of-the-dictionary\">this post</a> and probably could change my code to have a list of dictionaries but since I do not really need a list of dictionaries I wanted to know if there a simpler solution.</p>\n"},{"tags":["python","html-parsing","beautifulsoup"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13257674,"title":"Using Python & Beautiful Soup, can I obtain a tag list filtered by whether background attr is set?","body":"<p>I would like to obtain a list of tags from an html document, where the background attribute is set.</p>\n\n<p>So for example:</p>\n\n<pre><code>html=\"&lt;div&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;table background=\\\"anything\\\"&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\"\n\nsoup = BeautifulSoup(html)\nresult = soup.findall(??)\n</code></pre>\n\n<p>In this case I would want the table tag to be present in the list. Note that the value of \"anything\" can be ... anything. Ideally I would like to filter the value of the background attribute based on a regex.</p>\n\n<p>My question is: Can I use Beautiful Soup to obtain a list filtered on whether the value of the background attribute is set? Even better, can I filter based on a regex applied to an attribute in one step?</p>\n"},{"tags":["python","string","list","insert"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":11849088,"title":"Inserting values into a list whilst looping over it (Python)","body":"<p>I have the following list of lists:</p>\n\n<pre><code>sweet = [['1234-4321-1',[5, 6, -4, 11, 22]], ['1234-7834-1', [43, -5, 0, 0, -1]], ['1234-5376-1', [3, 0, -5, -6, 0]], ['1567-3454-1', [4, 6, 8, 3, 3]], ['1567-9987-1-', [1, 2, 1, -4, 5]]]\n</code></pre>\n\n<p>I wish to iterate over the list of lists and separate the different groups of sublists by the # character i.e. I wish the # to be inserted when the first element of the sublists string changes.</p>\n\n<p>desired result</p>\n\n<pre><code>&gt;&gt;sweet\n&gt;&gt;[['1234-4321-1',[5, 6, -4, 11, 22]], ['1234-7834-1', [43, -5, 0, 0, -1]], ['1234-5376-1', [3, 0, -5, -6, 0]], '#', ['1567-3454-1', [4, 6, 8, 3, 3]], ['1567-9987-1-', [1, 2, 1, -4, 5]]]\n</code></pre>\n\n<p>Trivial task perhaps but I am very new to Python, help much appreciated.</p>\n\n<p>EDIT</p>\n\n<p>I am awaret hat perhaps a dictionary now would be a better data structure and hence the '#' key may not be needed, I was aiming to use it as a separtor of the stations (first number in the string) so that I could do computations of the stations in isolation whilst iterating over the list.</p>\n\n<p>My goal you see is to iterate over the list (should make it a dictionary) and compute the difference between pairs of lists of ints within each important first number.    Desired final result looking like: {'1234': [[-38, 11, -4, 11, 23], [40, -5, 5, 6, -1]] '1567':[[3, 4, 7, 11, -2]] }</p>\n\n<p>Any help on this also much appreciated :)</p>\n"},{"tags":["python","sockets","select"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13257047,"title":"Python - select() does not catch broken socket","body":"<p>I am implementing a server in Python. I have been following the tutorial on <a href=\"http://www.doughellmann.com/PyMOTW/select/index.html\" rel=\"nofollow\">Doug Hellmann's blog</a>: </p>\n\n<p>I have a problem with <code>select()</code> not catching broken or closed pipe.</p>\n\n<pre><code>    # Create socket \n    serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    # Non blocking socket\n    serversocket.setblocking(0)\n    # Bind socket\n    serversocket.bind((HOST, PORT))\n    # Socket listening\n    serversocket.listen(5)\n\n    # Sockets from which we expect to read\n    inputs = [ serversocket ]\n    # Sockets to which we expect to write\n    outputs = [ ]\n\n    resign = re.compile(\"resign\")\n\n    while inputs:\n        print \"Waiting for connection...\"\n        readable, writable, exceptional = select.select(inputs, outputs, inputs)\n\n        for s in exceptional:\n            print &gt;&gt;sys.stderr, 'handling exceptional condition for', s.getpeername()\n            # Stop listening for input on the connection\n            inputs.remove(s)\n            s.close()\n\n\n        for s in readable:\n            # SERVER LISTENS TO CONNEXION\n            if s is serversocket:\n\n                if some_stuff_is_true:\n                    connection, client_address = s.accept();\n                    print 'New connection from ', client_address\n                    connection.setblocking(0)\n                    inputs.append(connection)\n\n\n            # CLIENT READABLE\n            else:\n                data = s.recv(MAXLINE)\n                #If socket has data to be read\n                if data:\n                    print data # Test if data correclty received\n                    if resign.findall(data):\n                        inputs.remove(s)\n                        s.close()\n</code></pre>\n\n<p>When the client closes the socket normally, it is not catch by select, and when the client breaks the socket, it is not caught by `exceptional.</p>\n\n<p>How to make this server robust to closed/broken sockets?</p>\n"},{"tags":["python","string"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13256655,"title":"Finding repetitions in a string","body":"<p>For two days I have been researching for this and have not found anything so I decided to write my own string repetition detector. Basically the function</p>\n\n<pre><code>def findRepetitions (string):\n</code></pre>\n\n<p>would receive a string and search for any repetitions; returns a list of strings reduced to their simplest form.</p>\n\n<p>For a sample, it'd be:</p>\n\n<pre><code>findRepetitions (\"trololololo\") --&gt; [\"olo\"]\nfindRepetitions (\"bookkeeper\") ---&gt; [\"o\", \"k\", \"e\"]\nfindRepetitions (\"Hello, Molly\") -&gt; [\"l\", \"l\"]\nfindRepetitions (\"abcdefgh\") -----&gt; []\nfindRepetitions (\"102102102\") ----&gt; [\"102\"]\n</code></pre>\n\n<p>In the third example, the function returns [\"l\", \"l\"] instead of [\"ll\"], because I want to search for repetitions only in the neighboring characters.</p>\n\n<p>I know that this may be hard, but I've been literally thinking over this for a long time and cannot find any smart solution to this.</p>\n"},{"tags":["python","matplotlib","collision","scatter-plot"],"answer_count":1,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13257580,"title":"python - matplotlib - Avoid plot text collisions with grid lines, border and other text","body":"<p>I'm generating a scatter plot and I was wondering if it is possible to avoid any overlaps between the gridlines and the text on the plot.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Zy7f3.png\" alt=\"Example Plot\"></p>\n\n<p>For example, the first point has its text on the gridline which makes it hard to read.</p>\n\n<p>My code is below:</p>\n\n<pre><code>for i, j in zip(path_loss_list,throughput_values):\n    plt.annotate( \"%s\" %str(j), xy=(i,j), xytext=(-5, 5), ha='right', textcoords='offset points')\n</code></pre>\n"},{"tags":["python","web.py"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12973842,"title":"receiving a file through curl webpy","body":"<p>i need to receive an file through CURL in webpy</p>\n\n<pre><code>import web\nimport json\n\nclass GetFile:\n\n    def POST(self):\n        try:\n            i = web.input()\n            data = web.data() \n        except Error(e):\n            print e\n</code></pre>\n\n<p>I am not sure how to do this because there is no example to receive an data from CURL</p>\n\n<pre><code>curl -o -H \"Content-type: text/xml; charset=utf-8\" -T doc.xml \"http://localhost:8080/get_file\n</code></pre>\n\n<p>I am getting an issue </p>\n\n<pre><code>HTTP/1.1 405 Method Not Allowed\nContent-Type: text/html\nAllow: GET\nTransfer-Encoding: chunked\nDate: Fri, 19 Oct 2012 11:54:13 GMT\nServer: localhost\n</code></pre>\n\n<p>can any one give me an example code to upload an file through curl and save it in a location.</p>\n"},{"tags":["python","eclipse","py2exe","distutils"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13237521,"title":"py2exe ImportError: no module named <package I have impemented>","body":"<p>I have implemented a package names myUtils, it consists of folder 'myUtils', file '<strong>init</strong>.py' and a number of *.py files with names != 'myUtils'. This package is included in myOtherProject.py and can be found/used when I run them from Eclipse.</p>\n\n<p>However, when I run py2exe on myOtherProject.py, resulting exe cannot find this module(error message \"ImportError: no module named myUtils\"). Trimmed version of my setup.exe:</p>\n\n<pre><code>from distutils.core import setup\nimport py2exe, sys\nsys.path.append(pathTo_myUtils)\nimport myUtils # this line works fine even if I comment out sys.path.append(...)\ndata_files_ = (('.', [\"C:\\\\Python27\\\\DLLs\\\\MSVCP90.dll\", \n                      \"C:\\\\Python27\\\\lib\\\\site-packages\\\\Pythonwin\\\\mfc90.dll\"]))\nsetup(windows=['myOtherProject.py'], options={'py2exe': {'excludes': ['tcl'], 'includes': ['myUtils'], 'dll_excludes': ['tk85.dll',  'tcl85.dll'] }}, data_files=data_files_)\n</code></pre>\n\n<p>How could I fix this? I am using Python 2.7 on WinXP.</p>\n"},{"tags":["python","google-app-engine","gae-datastore","gqlquery"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13257447,"title":"How to specify ID greater than <something> in the where clause?","body":"<p>Just recently tried something like the following in the appengine interactive console:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom django.utils import simplejson\n\nclass TestDb(db.Model):\n    author = db.StringProperty()\n\ndef add(name):\n    t = TestDb()\n    t.author = name\n    t.put()\n#added some names...\nlst = db.GqlQuery(\"Select * from TestDb\")\n\nprint [(x.key().id(), x.author) for x in lst]\n</code></pre>\n\n<p>I know for fact that ID is not sequential, but I assume it will be ascending in order for every new record that comes in. </p>\n\n<p>Now I want to put a condition whose SQL would look something like:</p>\n\n<pre><code>SELECT * FROM TestDb WHERE ID &gt; 2\n</code></pre>\n\n<p>Is this possible via <code>GqlQuery()</code>?</p>\n"},{"tags":["python","logging"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13257022,"title":"Compress logs using TimedRotatingFileHandler","body":"<p>I'm trying to compress and archive log files using <code>TimedRotatingFileHandler</code>, but I'm unsure which encoding schemes are available. I tried <code>zip</code> but got the  following error:</p>\n\n<pre><code>output = zlib.decompress(input)\n\nerror: Error -3 while decompressing data: incorrect header check\n</code></pre>\n"},{"tags":["python","http","python-3.x"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":329,"score":1,"question_id":9772854,"title":"Persistence of urllib.request connections to a HTTP server","body":"<p>I want to do some performance testing on one of our web servers, to see how the server handles a lot of persistent connections. Unfortunately, I'm not terribly familiar with HTTP  and web testing. Here's the Python code I've got for this so far:</p>\n\n<pre><code>import http.client\nimport argparse\nimport threading\n\n\ndef make_http_connection():\n    conn = http.client.HTTPConnection(options.server, timeout=30)\n    conn.connect()\n\n\nif __name__ == '__main__':\n    parser = argparse.ArgumentParser()\n\n    parser.add_argument(\"num\", type=int, help=\"Number of connections to make (integer)\")\n    parser.add_argument(\"server\", type=str, help=\"Server and port to connect to. Do not prepend \\'http://\\' for this\")\n\n    options = parser.parse_args()\n\n    for n in range(options.num):\n        connThread = threading.Thread(target = make_http_connection, args = ())\n        connThread.daemon = True\n        connThread.start()\n\n    while True:\n        try:\n            pass\n        except KeyboardInterrupt:\n            break\n</code></pre>\n\n<p>My main question is this: <em>How do I keep these connections alive?</em> I've set a long timeout, but that's a very crude method and I'm not even sure it affects the connection. Would simply requesting a byte or two every once in a while do it?</p>\n\n<p>(Also, on an unrelated note, is there a better procedure for waiting for a keyboard interrupt than the ugly <code>while True:</code> block at the end of my code?)</p>\n"},{"tags":["python","string","search","find"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13256785,"title":"How to find the opposite char in a python string?","body":"<p>Such as there is a string s:</p>\n\n<pre><code>s = \"((abc)((123))())blabla\"\n</code></pre>\n\n<p>We know the beginning of s is \"(\" and we want to find the opposite of it, the \")\" before \"blabla\", how to do this in python? </p>\n\n<p>Is it possible to do this in a simple and intuitive way, without using status machines?\nor is there any library can do this?</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13257188,"title":"Python, Django and flatpage","body":"<p>I'm trying to use Django and to add a flatpage.</p>\n\n<p>ValueError at /admin/flatpages/flatpage/add/</p>\n\n<p>Cannot use None as a query value</p>\n\n<pre><code>Request Method:     POST\nRequest URL:    http://localhost:8000/admin/flatpages/flatpage/add/\nDjango Version:     1.4.2\nException Type:     ValueError\nException Value:    \n</code></pre>\n\n<p>Cannot use None as a query value</p>\n\n<pre><code>Exception Location:     C:\\Python27\\lib\\site-packages\\django\\db\\models\\sql\\query.py in add_filter, line 1095\nPython Executable:  C:\\Python27\\python.exe\nPython Version:     2.7.3\nPython Path:    \n\n['C:\\\\Users\\\\ivo\\\\Desktop\\\\eclipse-jee-indigo\\\\workspace\\\\blog',\n 'C:\\\\Users\\\\ivo\\\\Desktop\\\\eclipse-jee-indigo\\\\workspace\\\\blog',\n...\n 'C:\\\\Python27\\\\lib\\\\site-packages\\\\Pythonwin']\n</code></pre>\n\n<p>How to get rid of it?</p>\n\n<p>Thank you</p>\n"},{"tags":["python","serialization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13255893,"title":"Why can't we picke an instance of InteractiveInterpreter?","body":"<p>An attempt to pickle an instance of InteractiveInterpreter results in the following error</p>\n\n<pre>\n<code>\n  File \"\", line 1, in \n  File \"/usr/lib/python2.7/pickle.py\", line 224, in dump\n    self.save(obj)\n  File \"/usr/lib/python2.7/pickle.py\", line 286, in save\n    f(self, obj) # Call unbound method with explicit self\n  File \"/usr/lib/python2.7/pickle.py\", line 725, in save_inst\n    save(stuff)\n  File \"/usr/lib/python2.7/pickle.py\", line 286, in save\n    f(self, obj) # Call unbound method with explicit self\n  File \"/usr/lib/python2.7/pickle.py\", line 649, in save_dict\n    self._batch_setitems(obj.iteritems())\n  File \"/usr/lib/python2.7/pickle.py\", line 663, in _batch_setitems\n    save(v)\n  File \"/usr/lib/python2.7/pickle.py\", line 286, in save\n    f(self, obj) # Call unbound method with explicit self\n  File \"/usr/lib/python2.7/pickle.py\", line 649, in save_dict\n    self._batch_setitems(obj.iteritems())\n  File \"/usr/lib/python2.7/pickle.py\", line 663, in _batch_setitems\n    save(v)\n  File \"/usr/lib/python2.7/pickle.py\", line 286, in save\n    f(self, obj) # Call unbound method with explicit self\n  File \"/usr/lib/python2.7/pickle.py\", line 649, in save_dict\n    self._batch_setitems(obj.iteritems())\n  File \"/usr/lib/python2.7/pickle.py\", line 663, in _batch_setitems\n    save(v)\n  File \"/usr/lib/python2.7/pickle.py\", line 306, in save\n    rv = reduce(self.proto)\n  File \"/usr/lib/python2.7/copy_reg.py\", line 70, in _reduce_ex\n    raise TypeError, \"can't pickle %s objects\" % base.__name__\nTypeError: can't pickle ellipsis objects\n</code>\n</pre>\n\n<p>which is strange InteractiveInterpreter isn't an Ellipsis object according to what I know. Any reasons? And is there any alternate way to pickle InteractiveInterpreter Object?</p>\n"},{"tags":["python","list","subtraction"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13238317,"title":"Python, in a list of lists compare first element of the first list to the first element of the second list","body":"<p>So I have this:</p>\n\n<pre><code>a = [[4, 8], [5, 6, 9, 10], [13]]\n</code></pre>\n\n<p>I want to get the difference (subtraction) between:</p>\n\n<pre><code>4 - 5 = a[0][0] - a[1][0]\n\n4 - 6 = a[0][0] - a[1][1]\n\n4 - 9 = a[0][0] - a[1][2]\n\n4 - 10 = a[0][0] - a[1][3]\n</code></pre>\n\n<p>and then move on to the 8:</p>\n\n<pre><code>8 - 5 = a[0][1] - a[1][0]\n\n8 - 6 = a[0][1] - a[1][1]\n\n...\n</code></pre>\n\n<p>And so on for all the sub-lists </p>\n\n<p>Any ideas?</p>\n\n<p>EDIT: The other comparisons would look like this:</p>\n\n<pre><code>5 - 13 = a[1][0] - a[2][0]\n\n6 - 13 = a[1][1] - a[2][0]\n\n9 - 13 = a[1][2] - a[2][0]\n\n10 - 13 = a[1][3] - a[2][0]\n</code></pre>\n\n<p>And because this is the second to last list, then it stops.</p>\n\n<p>I'm trying to implement the Quine-McCluskey method to minimize logic expressions.</p>\n"},{"tags":["python","command-line"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":40,"score":4,"question_id":13257491,"title":"Python function on the command line not working","body":"<p>Consider this simple python:</p>\n\n<pre><code>def cube(x): \n   return x*x*x;\n\nif __name__ == '__main__':\n    print(cube(4));\n</code></pre>\n\n<p>Works ok. But when I open up the python command line interpreter and do:</p>\n\n<pre><code>&gt;&gt;&gt; def cube(x): return x*x*x;\n... cube(4);\n</code></pre>\n\n<p>I get: </p>\n\n<pre><code>File \"&lt;stdin&gt;\", line 2\n    cube(4);\n     ^\nSyntaxEror: invalid syntax\n</code></pre>\n\n<p>What stupid thing are my doing wrong?</p>\n"},{"tags":["python","memory","sage"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13257179,"title":"Iterations in python consume whole memory - faulty code?","body":"<p>I have written some very simple trial-and-error code in Sage (a computer algebra system written in python where you can use regular python syntax in scripting). The little code snippet creates a polynomial and does some calculations with the coefficients, especially it determines the Groebner basis for the ideal generated by three expressions in the coefficients.</p>\n\n<p>The problem is: This program goes on and eats up all my memory until it's killed by the kernel. Every iteration consumes only like 200kB, but this memory is never freed again.</p>\n\n<p>Here is the code. The details are not that important and very bulky, therefore left out:</p>\n\n<pre><code>R = PolynomialRing(QQ, 2, 'bc', order='lex')\nexpr1, expr2, expr3 = ...\n\nfor i in range (0,50):\n    for j in range(i+1,50):\n        for k in range(j+1,50):\n            for l in range(k+1,50):\n                for m in range(l+1,50):\n                    for n in range(m+1,50):\n                        poly = (x-i)*(x-j)*(x-k)*(x-l)*(x-m)*(x-n)\n                        r = poly.coeffs()\n\n                        p1 = expr1.substitute(r...)\n                        p2 = expr2.substitute(r...)\n                        p3 = expr3.substitute(r...)\n\n                        I = (p1, p2, p3)*R\n                        B = I.groebner_basis()\n</code></pre>\n\n<p>As far as I understood python's memory management, the variables in the loop body are freed every so often. Now, it may be a programming problem, an internal python problem or some problem in the Sage routines. I don't know. Can you spot a problem with my code or is it something else?</p>\n"},{"tags":["python","matplotlib","scale","scatter-plot"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13257240,"title":"python - matplotlib - How to specify the scale for x axis","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2849286/python-matplotlib-subplot-how-to-set-the-axis-range\">Python, Matplotlib, subplot: How to set the axis range?</a>  </p>\n</blockquote>\n\n\n\n<p>I would like to specify the scale of the x-axis for my scatter plot similar to excel.</p>\n\n<p>For example, I feed in the x axis values as follows:</p>\n\n<pre><code>x_values = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\n</code></pre>\n\n<p>However, only the numbers with an even 1st digit appear.</p>\n\n<p>Is there a way to make it such that all numbers appear on the x-axis?</p>\n\n<p>Thanks,</p>\n\n<p>Parth</p>\n"},{"tags":["python","emacs","ropemacs","pymacs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13254442,"title":"Pymacs helper did not start after 30 seconds","body":"<p>I've seen other questions on this, but none of them were actually answered, and none of them are quite my issue.</p>\n\n<p>I have a new system, emacs 23.1, Centos 6.2 (I think). I downloaded the newest pymacs and installed it. However, I'm getting:</p>\n\n<pre><code>error: Pymacs helper did not start within 30 seconds\n</code></pre>\n\n<p>This is with a .emacs and .bashrc that have always worked before. Also, it appears that when I run from gnome, it does find the pymacs helper (but ropemacs doesn't run), but in KDE (which is what I'm actually trying to use) It gives the pymacs helper error. </p>\n"},{"tags":["python","xml-parsing","xsd","xml-binding","ddex"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13257384,"title":"How to correctly use GenerateDS for DDEX XML binding","body":"<p>I am interested in Python XML binding for reading input files conforming to this schema:\n<a href=\"http://ddex.net/xml/ern/341/release-notification.xsd\" rel=\"nofollow\">http://ddex.net/xml/ern/341/release-notification.xsd</a></p>\n\n<p>This XSD depends on a number of other ones though, most importantly:\n<a href=\"http://ddex.net/xml/20120404/ddexC.xsd\" rel=\"nofollow\">http://ddex.net/xml/20120404/ddexC.xsd</a> and\n<a href=\"http://ddex.net/xml/20120404/ddex.xsd\" rel=\"nofollow\">http://ddex.net/xml/20120404/ddex.xsd</a></p>\n\n<p>My first attempt is by using <a href=\"http://cutter.rexx.com/~dkuhlman/generateDS.html\" rel=\"nofollow\">generateDS</a>. I am able to successfully generate binding for release-notification.xsd if I use --no-process-includes with:</p>\n\n<pre><code>./generateDS.py --no-process-includes -o release-notification.py release-notification.xsd\n</code></pre>\n\n<p>However, this leaves me with a Python object that is mostly useless since most of the ComplexTypes are defined in <a href=\"http://ddex.net/xml/20120404/ddexC.xsd\" rel=\"nofollow\">ddexC.xsd</a>.</p>\n\n<p>If I try it without --no-process-includes, I get:</p>\n\n<pre><code>RuntimeError: Extension/restriction recursion detected.\nSuggest you check definitions of types ArtistRole and ArtistRole.\n</code></pre>\n\n<p>The definition referred to is this one:</p>\n\n<pre><code>&lt;xs:element name=\"ArtistRole\" maxOccurs=\"unbounded\" type=\"ddexC:ArtistRole\"&gt;\n....\n&lt;xs:complexType name=\"ArtistRole\"&gt;\n      &lt;xs:simpleContent&gt;\n         &lt;xs:extension base=\"ddex:ArtistRole\"&gt;\n....\n</code></pre>\n\n<p>So it seems like the ddex and ddexC namespaces get mixed up somehow and a circular reference is created.</p>\n\n<p>Any advice here?</p>\n"},{"tags":["python","python-3.x","pygame","pickle"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13257231,"title":"Python pickling error trying to pickle pygame Event object","body":"<p>I am trying to pickle a pygame.event.Event object:</p>\n\n<pre><code>eventObj= pygame.event.get()[0]\ndata= pickle.dumps(eventObj)\n</code></pre>\n\n<p>but I get this error:</p>\n\n<pre><code>_pickle.PicklingError: Can't pickle &lt;class 'Event'&gt;: attribute lookup builtins.Event failed\n</code></pre>\n"},{"tags":["python","search","nlp","nltk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":9314041,"title":"Extract Product Core Key Words With (Python) NLTK","body":"<p>After reading \"Natural Language Processing With Python\" for a day, I'm still not quite clear if NLTK can be used to extract core key words for human input product descriptions --</p>\n\n<p>e.g., from this</p>\n\n<pre><code>Apple iPhone 4S (Latest Model) - 16GB - White or Black (Unlocked)\nANY GSM TMOBILE, AT&amp;T, Home, Smartphone\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Apple iPhone 4S 16GB Smartphone\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>Canon EOS 5D 12.8 MP DSLR Camera with lens, vert grip &amp; lots of extras\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Canon EOS 5D 12.8 MP DSLR Camera\n</code></pre>\n\n<p>Any pointer will be much appreciated.</p>\n"},{"tags":["python","multidimensional-array","numpy","indexing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13255593,"title":"numpy array slicing, get one from each third dimension","body":"<p>I have a 3D array of data. I have a 2D array of indices, where the shape matches the first two dimensions of the data array, and it specfies the indices I want to pluck from the data array to make a 2D array. eg:</p>\n\n<pre><code> from numpy import *\n a = arange(3 * 5 * 7).reshape((3,5,7))\n getters = array([0,1,2] * (5)).reshape(3,5)\n</code></pre>\n\n<p>What I'm looking for is a syntax like <code>a[:, :, getters]</code> which returns an array of shape (3,5) by indexing independently into the third dimension of each item. However, <code>a[:, :, getters]</code> returns an array of shape (3,5,3,5). I can do it by iterating and building a new array, but this is pretty slow:</p>\n\n<pre><code> array([[col[getters[ri,ci]] for ci,col in enumerate(row)] for ri,row in enumerate(a)])\n # gives array([[  0,   8,  16,  21,  29],\n #    [ 37,  42,  50,  58,  63],\n #    [ 71,  79,  84,  92, 100]])\n</code></pre>\n\n<p>Is there a neat+fast way?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13256732,"title":"Python script to read LANDSAT XML metafile","body":"<p>I need to obtain the scene ID for several Landsat images. The metadata for the images is contained in an xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;searchResponse xsi:schemaLocation=\"http://upe.ldcm.usgs.gov/schema/metadata\nhttp://earthexplorer.usgs.gov/EE/metadata.xsd\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"    \nxmlns=\"http://upe.ldcm.usgs.gov/schema/metadata\"&gt;\n    &lt;metaData&gt;\n        &lt;browseAvailable&gt;Y&lt;/browseAvailable\n        &lt;browseURL&gt;http://earthexplorer.usgs.gov/browse/tm/146/41/1998/LT51460411998300XXX01.jpg&lt;/browseURL&gt; \n        &lt;sceneID&gt;LT51460411998300XXX01&lt;/sceneID&gt; \n        &lt;sensor&gt;LANDSAT_TM&lt;/sensor&gt; \n        &lt;acquisitionDate&gt;1998-10-27&lt;/acquisitionDate&gt; \n        &lt;dateUpdated&gt;2012-07-31&lt;/dateUpdated&gt; \n        &lt;path&gt;146&lt;/path&gt; \n        &lt;row&gt;41&lt;/row&gt; \n        &lt;...&gt;\n     &lt;/metaData&gt;\n     &lt;metaData&gt;\n        &lt;sceneID&gt;LT51460411998300XXX01&lt;/sceneID&gt; \n        &lt;sensor&gt;LANDSAT_TM&lt;/sensor&gt; \n        &lt;acquisitionDate&gt;1998-10-27&lt;/acquisitionDate&gt; \n        &lt;dateUpdated&gt;2012-07-31&lt;/dateUpdated&gt; \n        &lt;path&gt;146&lt;/path&gt; \n        &lt;row&gt;41&lt;/row&gt; \n        &lt;...&gt;\n    &lt;etc etc&gt;\n</code></pre>\n\n<p>The following code will list all the nodes in metaData (browseAvailable, browseURL, sceneID) but what I really want to do is just get a list of sceneID.</p>\n\n<pre><code>#!/usr/bin/python\n\n#import os\n#import sys\nfrom xml.dom.minidom import parse\n\nimport xml.etree.ElementTree as ET\n#import grass.script as grass\n\ntree = ET.parse('C:/Users/Simon/Documents/tif/Metadata/metadata_test1.xml')\nroot = tree.getroot()\n\nfor metadata in root:  \n    for data in metadata:          \n    sceneID = data.text\n        grass.message('data -&gt; %s' % (sceneID))\n</code></pre>\n\n<p>I've tried using the tools described on the Python xml.etree.ElementTree with no success. Could anyone help me adapt the code above to return sceneID only?</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":13256991,"title":"mechanize._response.httperror_seek_wrapper: HTTP Error 404: Not Found","body":"<p>I am trying to using the program fbruteforcer.py. I compiled it and it seems to work but not at all.</p>\n\n<p>The following works:</p>\n\n<pre><code>./wpbruteforcer.py -t www.pillolhacking.net -u admin -w wordlist\n</code></pre>\n\n<p>But when I try to change the destination site and the name of the user, I get the following traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./fbruteforcer.py\", line 253, in &lt;module&gt;\n    main()\n  File \"./fbruteforcer.py\", line 247, in main\n    releaser()\n  File \"./fbruteforcer.py\", line 183, in releaser\n    bruteforce(word.replace(\"\\n\",\"\"))\n  File \"./fbruteforcer.py\", line 152, in bruteforce\n    opensite = br.open(targetsite)\n  File \"/usr/local/lib/python2.7/dist-packages/mechanize/_mechanize.py\", line 203, in open\n    return self._mech_open(url, data, timeout=timeout)\n  File \"/usr/local/lib/python2.7/dist-packages/mechanize/_mechanize.py\", line 255, in \n_mech_open\n    raise response\nmechanize._response.httperror_seek_wrapper: HTTP Error 404: Not Found\n</code></pre>\n\n<p>I tried to search for a solution, but all I could find was <a href=\"http://osdir.com/ml/python.wwwsearch.general/2007-06/msg00021.html\" rel=\"nofollow\">this post</a>.</p>\n\n<p>Please someone help me idk what to do. Maybe I must download another mechanize package?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":10893554,"title":"TimedRotatingFileHandler: Log only when detected time to rotate","body":"<p>I have a function that makes calls to a logger almost every second, however, I only want to log information an hour before the logfile rotates.</p>\n"},{"tags":["python","numpy","statistics"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12269834,"title":"Is there any numpy autocorrellation function with standardized output?","body":"<p>I followed the advice of defining the autocorrelation function in another post:</p>\n\n<pre><code>def autocorr(x):\n    result = np.correlate(x, x, mode = 'full')\n    maxcorr = np.argmax(result)\n    #print 'maximum = ', result[maxcorr]\n    result = result / result[maxcorr]     # &lt;=== normalization\n\n    return result[result.size/2:]\n</code></pre>\n\n<p>however the maximum value was not \"1.0\". therefore I introduced the line tagged with \"&lt;=== normalization\"</p>\n\n<p>I tried the function with the dataset of \"Time series analysis\" (Box - Jenkins) chapter 2. I expected to get a result like fig. 2.7 in that book. However I got the following:</p>\n\n<p><img src=\"http://i.stack.imgur.com/t4txM.png\" alt=\"enter image description here\"></p>\n\n<p>anybody has an explanation for this strange not expected behaviour of autocorrelation?</p>\n\n<p>Addition (2012-09-07):</p>\n\n<p>I got into Python - programming and did the following:</p>\n\n<pre><code>from ClimateUtilities import *\nimport phys\n\n#\n# the above imports are from R.T.Pierrehumbert's book \"principles of planetary \n# climate\" \n# and the homepage of that book at \"cambridge University press\" ... they mostly  \n# define   the\n# class \"Curve()\" used in the below section which is not necessary in order to solve \n# my \n# numpy-problem ... :)\n#\nimport numpy as np;\nimport scipy.spatial.distance;\n\n# functions to be defined ... :\n#\n#\ndef autocorr(x):\n    result = np.correlate(x, x, mode = 'full')\n    maxcorr = np.argmax(result)\n    # print 'maximum = ', result[maxcorr]\n    result = result / result[maxcorr]\n    #   \n    return result[result.size/2:]\n\n##\n#  second try ... \"Box and Jenkins\" chapter 2.1 Autocorrelation Properties\n#                                               of stationary models\n##\n# from table 2.1 I get:\n\ns1 = np.array([47,64,23,71,38,64,55,41,59,48,71,35,57,40,58,44,\\\n              80,55,37,74,51,57,50,60,45,57,50,45,25,59,50,71,56,74,50,58,45,\\\n              54,36,54,48,55,45,57,50,62,44,64,43,52,38,59,\\\n              55,41,53,49,34,35,54,45,68,38,50,\\\n              60,39,59,40,57,54,23],dtype=float);\n\n# alternatively in order to test:\ns2 = np.array([47,64,23,71,38,64,55,41,59,48,71])\n\n##################################################################################3\n# according to BJ, ch.2\n###################################################################################3\nprint '*************************************************'\nglobal s1short, meanshort, stdShort, s1dev, s1shX, s1shXk\n\ns1short = s1\n#s1short = s2   # for testing take s2\n\nmeanshort = s1short.mean()\nstdShort = s1short.std()\n\ns1dev = s1short - meanshort\n#print 's1short = \\n', s1short, '\\nmeanshort = ', meanshort, '\\ns1deviation = \\n',\\\n#    s1dev, \\\n#      '\\nstdShort = ', stdShort\n\ns1sh_len = s1short.size\ns1shX = np.arange(1,s1sh_len + 1)\n#print 'Len = ', s1sh_len, '\\nx-value = ', s1shX\n\n##########################################################\n# c0 to be computed ...\n##########################################################\n\nsumY = 0\nkk = 1\nfor ii in s1shX:\n    #print 'ii-1 = ',ii-1, \n    if ii &gt; s1sh_len:\n        break\n    sumY += s1dev[ii-1]*s1dev[ii-1]\n    #print 'sumY = ',sumY, 's1dev**2 = ', s1dev[ii-1]*s1dev[ii-1]\n\nc0 = sumY / s1sh_len\nprint 'c0 = ', c0 \n##########################################################\n# now compute autocorrelation\n##########################################################\n\nauCorr = []\ns1shXk = s1shX\nlenS1 = s1sh_len\nnn = 1  # factor by which lenS1 should be divided in order\n        # to reduce computation length ... 1, 2, 3, 4\n        # should not exceed 4\n\n#print 's1shX = ',s1shX\n\nfor kk in s1shXk:\n    sumY = 0\n    for ii in s1shX:\n        #print 'ii-1 = ',ii-1, ' kk = ', kk, 'kk+ii-1 = ', kk+ii-1\n        if ii &gt;= s1sh_len or ii + kk - 1&gt;=s1sh_len/nn:\n            break\n        sumY += s1dev[ii-1]*s1dev[ii+kk-1]\n        #print sumY, s1dev[ii-1], '*', s1dev[ii+kk-1]\n\n    auCorrElement = sumY / s1sh_len\n    auCorrElement = auCorrElement / c0\n    #print 'sum = ', sumY, ' element = ', auCorrElement\n    auCorr.append(auCorrElement)\n    #print '', auCorr\n    #\n    #manipulate s1shX \n    #\n    s1shX = s1shXk[:lenS1-kk]\n    #print 's1shX = ',s1shX\n\n#print 'AutoCorr = \\n', auCorr\n#########################################################\n#\n# first 15 of above Values are consistent with\n# Box-Jenkins \"Time Series Analysis\", p.34 Table 2.2\n#\n#########################################################\ns1sh_sdt = s1dev.std()  # Standardabweichung short \n#print '\\ns1sh_std = ', s1sh_sdt\nprint '#########################################'\n\n# \"Curve()\" is a class from RTP ClimateUtilities.py\nc2 = Curve()\ns1shXfloat = np.ndarray(shape=(1,lenS1),dtype=float)\ns1shXfloat = s1shXk # to make floating point from integer\n                    # might be not necessary\n\n#print 'test plotting ... ', s1shXk, s1shXfloat\nc2.addCurve(s1shXfloat)\nc2.addCurve(auCorr, '', 'Autocorr')\nc2.PlotTitle = 'Autokorrelation'\n\nw2 = plot(c2)\n\n\n##########################################################\n#\n# now try function \"autocorr(arr)\" and plot it\n#\n##########################################################\n\nauCorr = autocorr(s1short)\n\nc3 = Curve()\nc3.addCurve( s1shXfloat )\nc3.addCurve( auCorr, '', 'Autocorr' )\nc3.PlotTitle = 'Autocorr with \"autocorr\"'\n\nw3 = plot(c3)\n\n#\n# well that should it be!\n#\n</code></pre>\n"},{"tags":["python","bioinformatics"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":41,"score":-2,"question_id":13257010,"title":"Ontology Program in Python","body":"<p>So I need help starting a program in which I have to read in a OBO formatted ontology, and I really have no idea about biology or python.  I can reasonably teach myself the python, but I was wondering if there were any tools to simplify the process, such as reading in and constructing a graph from the OBO file, or if I would have to start from scratch and write my own code for doing this.  The end results would need to be things like given a certain node ID, find subgroups from said node such as all node on same level, all children, parents, etc...</p>\n\n<p>Hope this isn't too vague!</p>\n"},{"tags":["python","matplotlib"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13256656,"title":"when using matplotlib with ipython notebook plt.show() function doesn't work","body":"<p>I launched the ipython notebook using:  </p>\n\n<pre><code>$ ipython notebook --pylab=inline \n</code></pre>\n\n<p>in the command prompt.</p>\n\n<p>when running this:</p>\n\n<pre><code>from matplotlib import pyplot as plt\nfig = plt.figure()\nax1 = fig.add_subplot(111)\nax1.plot([1,2,3])\n</code></pre>\n\n<p>it automatically plots the graph without having to use the plt.show() function, however I find that the plt.show function doesn't work for me, or some other funtions like plt.legend().</p>\n\n<p>Does anybody know why this is happening, or how i can fix it?</p>\n"},{"tags":["python","windows","pygame"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13218362,"title":"\"Fatal Python error: (pygame parachute) Segmentation Fault\" when changing window","body":"<p>I'm currently learning python and tried to make a little game using the pygame librabry. I use python 3.2.3 and pygame 1.9.2a with Windows Xp. Everything works fine, except one thing : if I go on another window when my game is running, it crashes and I get an error message in the console :</p>\n\n<pre><code>Fatal Python error: (pygame parachute) Segmentation Fault\n</code></pre>\n\n<p>This piece of code that I took out of my program seems to be causing the error, however I can't see anything wrong with it :</p>\n\n<pre><code>import pygame\nfrom pygame.locals import *\n\npygame.init()\n\nfenetre = pygame.display.set_mode((800, 600))\n\ngo = 1\n\nwhile go:\n    for event in pygame.event.get():\n        if event.type == QUIT:\n            go = 0\n</code></pre>\n\n<p>Thanks for your help !</p>\n"},{"tags":["python","subprocess","popen"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13243807,"title":"Popen waiting for child process even when the immediate child has terminated","body":"<p>I'm working with Python 2.7 on Windows 8/XP.</p>\n\n<p>I have a program A that runs another program B using the following code:</p>\n\n<pre><code>p = Popen([\"B\"], stdout=PIPE, stderr=PIPE)\nstdout, stderr = p.communicate()\nreturn\n</code></pre>\n\n<p>B runs a batch script C. C is a long running script and I want B to exit even though C has not finished. I have done it using the following code (in B):</p>\n\n<pre><code>p = Popen([\"C\"])\nreturn\n</code></pre>\n\n<p>When I run B, it works as expected. When I run A however, I expected it to exit when B exits. But A waits until C exits even though B has already exitted. Any ideas on what's happening and what possible solutions could be?</p>\n\n<p>Unfortunately, the obvious solution of changing A to look like B is not an option.</p>\n\n<p>Here is a functional sample code to illustrate this issue:\n<a href=\"https://dl.dropbox.com/u/15468178/popen.zip\" rel=\"nofollow\">https://dl.dropbox.com/u/15468178/popen.zip</a></p>\n\n<p>Any input is much appreciated.</p>\n"},{"tags":["python","recursion","tree","binary-search-tree","inorder"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13256529,"title":"Python: Binary search tree and recursion returning a nested list","body":"<p>Given a Binary Search Tree, for example:</p>\n\n<pre><code>        9\n            8\n    7\n5\n    3\n        2\n</code></pre>\n\n<p>I would like to get an in-order list of nodes with values between a and b (inclusive).</p>\n\n<p>I have implemented a recursive helper function:</p>\n\n<pre><code>def _range(root, a, b):\nnode_list = []\nif root.left:\n    node_list.append(_range(root.left, a, b))\nif root.value &gt;= a and root.value &lt;= b:\n    node_list.append(root)\nif root.right:\n    node_list.append(_range(root.right, a, b))\nreturn node_list\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>[[[BTNode: 2], BTNode: 3], BTNode: 5, [BTNode: 7, [[BTNode: 8], BTNode: 9]]]\n</code></pre>\n\n<p>I however need:</p>\n\n<pre><code>[BTNode: 2, BTNode: 3, BTNode: 5, BTNode: 7, BTNode: 8, BTNode: 9]\n</code></pre>\n\n<p>Is there anyway to flatten the list? I realize that what I am doing is appending a list to another list, but am not sure how to fix this without breaking the code.</p>\n"},{"tags":["python","unix"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":64,"score":0,"question_id":13254351,"title":"Sorting contents of a file","body":"<p>In unix (specifically, I'm using <code>bash</code>), I can sort the contents of a file easily; given I have a file:</p>\n\n<pre><code>chris@chris:~$ cat testSort.txt \n3       1       test01\n8       2       test02\n6       3       test03\n7       4       test04\n1       5       test05\n</code></pre>\n\n<p>Running <code>sort</code> will return the sorted values based on the 1st column</p>\n\n<pre><code>chris@chris:~$ sort testSort.txt\n1       5       test05\n3       1       test01\n6       3       test03\n7       4       test04\n8       2       test02\n</code></pre>\n\n<p>the results of which I can pipe into a file or a program as necessary; is there a way as easy as this in python, or do I need to read my file in, save it as a data structure of some sort, and then save it again?</p>\n\n<p><strong>Confusion</strong></p>\n\n<p>I'm not sure why I've received a downvote - I asked if there was a way as simple as in unix (i.e. a 1 word command) to achieve a sort.  I even provided an example to show what I wanted? In what way does this mean that \"the question shows no research effort, it is unclear or not useful\"? </p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13256746,"title":"String to int conversion bug?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/306313/python-is-operator-behaves-unexpectedly-with-integers\">Python “is” operator behaves unexpectedly with integers</a>  </p>\n</blockquote>\n\n\n\n<p>in python 2.6.6 when I use int() to convert a string to a number the below code doesn't behave correct if the string is 257 or larger.</p>\n\n<pre><code>curr = int(\"256\")  \nmyint = int(\"256\")  \nif curr is myint:  \n    print(\"true\")  \nelse:  \n    print(\"false\")  \n</code></pre>\n\n<p>this returns true which is correct</p>\n\n<pre><code>curr = int(\"257\")  \nmyint = int(\"257\")  \nif curr is myint:  \n    print(\"true\")  \nelse:  \n    print(\"false\")  \n</code></pre>\n\n<p>this returns false ???</p>\n"},{"tags":["python","parallel-processing","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13256648,"title":"Reloading function with parallel python (pp)","body":"<p>I'm taking a first stab at parallel processing using the Parallel Python (pp) module and am getting strange behavior when I change the called function.  It seems that any changes I make to a function, after the first use of pp, do not get noticed.  e.g. </p>\n\n<pre><code># Overly-simplified example, but it communicates the core problem!\nimport pp\n\ndef test(data): \n    return data*10\n\nppservers = ()\njob_server = pp.Server(ppservers=ppservers)\n\na = job_server.submit(test, (10,),(),())\n</code></pre>\n\n<p>Running this yields: a()=100</p>\n\n<p>But, if I change test: </p>\n\n<pre><code>def test(data):\n    return 'HELLO'\n</code></pre>\n\n<p>and F5 it, I still get: a()=100\nEven if I delete a, job_server, test I still get a()=100.  The only way I have found out of this is to restart my IDE (Spyder).  I suspect \"test\" is getting stored in pp somewhere.  This is annoying to have to restart the IDE just to test changes in my functions.  </p>\n"},{"tags":["javascript","jquery","python","jquery-ajax","flask"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13256325,"title":"JQuery/ Flask - send data from server to browser as JSON","body":"<p>Firstly excuse my ignorance, I'm very new to all this.</p>\n\n<p>My problem is that I'm trying to send json data stored in a mongodb of coordinates to a client browser. I have a python module which uses Twitter's Streaming API to store into the DB. This works fine, but when I try to send this to the client it displays nothing, evenhough I can see server terminal getting more data. I've not used Flask or JQuery before, so have based it on the example at <a href=\"http://flask.pocoo.org/docs/patterns/jquery/\" rel=\"nofollow\">http://flask.pocoo.org/docs/patterns/jquery/</a>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>from flask import Flask, jsonify, render_template, request\nfrom pymongo import Connection \n\napp = Flask(__name__)\n\n@app.route('/_reader')\ndef reader():\n    db = Connection().tstream\n    coll = db.tweets_tail\n    cursor = coll.find({\"coordinates.type\" : \"Point\" }, {\"coordinates\" :1},tailable=True,timeout=False)\n    ci=0\n    while cursor.alive:\n        try:\n            doc = cursor.next()\n            ci += 1\n            print doc\n            print ci\n        except StopIteration:\n            pass\n    return jsonify(ci, doc)\n\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\nif __name__ == '__main__':\n    app.run(debug=True, port= 8888)\n</code></pre>\n\n<p>This is my html client side:</p>\n\n<pre><code>{% extends \"layout.html\" %}\n{% block body %}\n&lt;script type=text/javascript&gt;\n  $(function() {\n       $.getJSON($SCRIPT_ROOT + '/_reader', \n       function(data) {\n        $(\"#result\").text(data.result);\n      });\n      return false;\n    });\n\n&lt;/script&gt;\n&lt;h1&gt;Coordinates&lt;/h1&gt;\n&lt;p&gt;\n   &lt;span id=result&gt;?&lt;/span&gt;\n{% endblock %}\n</code></pre>\n\n<p>I'm hoping that has new coordinate data is received it pushes this to the client.</p>\n\n<p>I hope somebody can help.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","decorator","argparse"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13248487,"title":"(semi-) automatic generation of argparsers for functions","body":"<p><strong>tldnr: given a function, is there a way to automatically create an ArgumentParser from its signature?</strong></p>\n\n<p>I've got a bunch of functions that I'd like to expose to the command line. So basically, a module:</p>\n\n<pre><code> def copy(foo, bar, baz):\n    ...\n def move(from, to):\n    ...\n def unlink(parrot, nomore=True):\n    ...\n\n if __name__ == '__main__':\n     argparse stuff\n</code></pre>\n\n<p>which can be called from the command line like this:</p>\n\n<pre><code> python commands.py move spam ham\n python commands.py unlink --parrot Polly\n</code></pre>\n\n<p>Although this is pretty straightforward to implement, there's a lot of wiring involved:</p>\n\n<pre><code>parser = argparse.ArgumentParser(...)\nsubparsers = parser.add_subparsers()\n...\nc = subparsers.add_parser('unlink', description='Unlink a parrot')\nc.add_argument('--parrot', help='parrots name', required=True)\nc.add_argument('--nomore', help='this parrot is no more', action='store_true')\n...\nc = subparsers.add_parser('move', description='Move stuff')\n...\n</code></pre>\n\n<p>and so on, for each function. The worst thing, should function arguments change (and they do), the argparse stuff needs to be synchronized manually.</p>\n\n<p>It would be much nicer if the functions could provide argparse stuff for themselves, so that the main code would be like: </p>\n\n<pre><code>parser = argparse.ArgumentParser(...)\nsubparsers = parser.add_subparsers()\n\ncopy.register(subparsers)\nmove.register(subparsers)\nunlink.register(subparsers)\n...\n</code></pre>\n\n<p>I thought of something along these lines:</p>\n\n<pre><code>@args(\n    description='Unlink a parrot',\n    parrot={'required':True, 'help':'parrots name'},\n    nomore={'action': 'store_true', 'help': 'this parrot is no more'}\n)\ndef unlink(parrot, nomore=True):\n    ...\n</code></pre>\n\n<p>My questions:</p>\n\n<ul>\n<li>is there a library that does something like this?</li>\n<li>if no, is it possible to write such a decorator, and how?</li>\n<li>is there a other/better way to implement what I want?</li>\n</ul>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13256657,"title":"session storage path setting doesn't exist","body":"<p>I am trying to run a django project and the following error is displayed: 'The session storage path '/home/billy/myapps/my_server/../my_server/sessions' doesn't exist. Please set your SESSION_FILE_PATH setting to an existing directory in which Django can store session data.'\nI have tried googling out whats the problem but u have not found a specific answer to my problem. Any assistance is highly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","expression","sympy"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":603,"score":3,"question_id":7006626,"title":"How to calculate expression using sympy in python","body":"<p>I need a calculate below expression using sympy in python? </p>\n\n<pre><code>exp = '(a+b)*40-(c-a)/0.5'\n</code></pre>\n\n<p>In <code>a=6</code>, <code>b=5</code>, <code>c=2</code> this case how to calculate expression using sympy in python? Please help me.</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13256238,"title":"Simplest way of eliminating objects from queryset in Django","body":"<p>I have a query set,  <code>categories = unipart.categories.all()</code>, which is all the categories that a unipart object is linked to.</p>\n\n<p>However, I'd like to remove the top-level categories from this list -- ie. those with subcategories that the unipart is also listed within.</p>\n\n<p>Or those categories with a parent_id equal to one of the category_ids in the queryset.</p>\n\n<p>For example if a unipart was listed in:\nNutmeg (parent= Spices) and\nSpices (parent = Food)</p>\n\n<p>then I'd want to ONLY include Nutmeg -- so basically I want to 'pop' Spices from the queryset.</p>\n\n<p>What is the best way to do this? I would rather not use a list.</p>\n\n<p>Here's my models:</p>\n\n<pre><code>class UniPart (models.Model):\ncategories=models.ManyToManyField(Category, related_name = 'unipart')\n\nclass Category (MPTTModel):\n    category = models.CharField(max_length=250)\n    oc_id= models.IntegerField()\n    parent = TreeForeignKey('self', blank=True, null=True, related_name='children')\n    def __unicode__(self):\n</code></pre>\n"},{"tags":["python","delphi","python4delphi"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":13239083,"title":"Is there a way to debug a python script using the python4delphi components?","body":"<p>I want to add scripting capabilities to my application and I just came across python4delphi <a href=\"http://code.google.com/p/python4delphi/\" rel=\"nofollow\">http://code.google.com/p/python4delphi/</a>, which seems to be stable. \nAt first sight it looks very easy to use on the developers side, but I couldn't find a way to debug a script. Would be great if I could embed the IDLE IDE in my application, I just have no idea how to do it. </p>\n\n<p>Is there a easy way to add debugging capabilities with python4delphi? Should I use other script engines like pascalScript (seems to have been discontinued)?</p>\n\n<p>Edit: After having a look at PySctipt and pdb I realized that what I am looking is more like a visual editor with embedded debugging and the capability to read python4delphi custom modules (the ones where I export my delphi objects. Being a python noob I have no idea how p4d does this). I am probably asking too much, but would be great to find an implementation of that and not having to code it all from scratch.</p>\n"},{"tags":["python","interactive-shell","python-interactive"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13254044,"title":"How to store the current state of InteractiveInterpreter Object in a database?","body":"<p>I am trying to build an online Python Shell. I execute commands by creating an instance of <code>InteractiveInterpreter</code> and use the command <code>runcode</code>. For that I need to store the interpreter state in the database so that variables, functions, definitions and other values in the global and local namespaces can be used across commands. Is there a way to store the current state of the object <code>InteractiveInterpreter</code> that could be retrieved later and passed as an argument <code>local</code> to <code>InteractiveInterpreter</code> constructor or If I can't do this, what alternatives do I have to achieve the mentioned functionality?<br/>\nBelow is the pseudo code of what I am trying to achieve</p>\n\n<pre>\n<code>\ndef fun(code, sessionID):\n     session = Session()\n     # get the latest state of the interpreter object corresponding to SessionID\n     vars = session.getvars(sessionID)\n     it = InteractiveInterpreter(vars)\n     it.runcode(code)\n     #save back the new state of the interpreter object\n     session.setvars(it.getState(),sessionID)\n</code>\n</pre>\n\n<p>Here, session is an instance of table containing all the necessary information.</p>\n"},{"tags":["python","rest","web-applications","distributed-computing"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13255571,"title":"Durable architecture in Python distributed application","body":"<p>Wondering about durable architectures for distributed Python applications.\n<a href=\"http://stackoverflow.com/questions/13238930/architecture-solution-for-python-web-application\">This question I asked before</a> should provide a little guidance about the sort of application it is.  We would like to have the ability to have several code servers and several database servers, and ideally some method of deployment that is manageable and not too much of a pain.</p>\n\n<p>The question I mentioned provides an answer that I like, but I wonder how it could be made more durable, or if doing so requires using other technologies.  In particular:</p>\n\n<blockquote>\n  <p>I would have my frontend endpoints be the WSGI (because you already have that written) and write the backend to be distributed via messages. Then you would have a pool of backend nodes that would pull messages off of the Celery queue and complete the required work. It would look sort of like:</p>\n  \n  <p>Apache -> WSGI Containers -> Celery Message Queue -> Celery Workers.</p>\n  \n  <p>The apache nodes would be behind a load balancer of some kind. This would be a fairly simple architecture to scale and is, if done correctly, fairly reliable. Code for failure in a system like this and you will be fine.</p>\n</blockquote>\n\n<p>What is the best way to make durable applications? Any suggestions on how to either \"code for failure\" or design it differently so that we don't necessarily have to?  If you think Python might not be suited for this, that is also a valid solution.</p>\n"},{"tags":["jquery","python","django","django-forms","django-templates"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13251155,"title":"How should cloned Django forms be collected on submission?","body":"<p>I'm using standard Django Model Forms which are then used in HTML templates for an application system we're currently re-jigging. </p>\n\n<p>The tricky bit (for me at least) is one step in the process which dynamically adds additional forms to the HTML using a jQuery plugin called <a href=\"http://www.mdelrosso.com/sheepit/index.php?lng=en_GB\" rel=\"nofollow\">\"SheepIt\"</a> and I'm wondering how all the form data can be easily collected in the related view.</p>\n\n<p>The SheepIt bit: </p>\n\n<pre><code>$(document).ready(function() {   \n        var sheepItForm = $('#sheepItForm').sheepIt({\n            separator: '',\n            allowRemoveLast: true,\n            allowRemoveCurrent: true,\n            allowRemoveAll: false,\n            allowAdd: true,\n            allowAddN: false,\n            minFormsCount: 1,\n            iniFormsCount: 1\n        });\n\n    });\n</code></pre>\n\n<p>Template code:</p>\n\n<pre><code>&lt;div id=\"entry_form\"&gt;\n&lt;form method=\"post\" enctype=\"multipart/form-data\" action=\"/enter/2/\" id=\"sheepItForm\"&gt;\n    &lt;fieldset id=\"sheepItForm_template\"&gt;\n                &lt;a id=\"sheepItForm_remove_current\"&gt;X&lt;/a&gt;\n                &lt;div class=\"select\"&gt;{{ form.select }}&lt;/div&gt;\n                &lt;div class=\"text\"&gt;{{ form.text }}&lt;/div&gt;\n                &lt;div class=\"upload\"&gt;{{ form.upload }}&lt;/div&gt;\n    &lt;/fieldset&gt;\n\n     &lt;div id=\"sheepItForm_noforms_template\"&gt;No Entries&lt;/div&gt;\n\n     &lt;div id=\"sheepItForm_controls\"&gt;\n         &lt;div id=\"sheepItForm_add\"&gt;&lt;a&gt;&lt;strong&gt;+&lt;/strong&gt; Add Another Entry&lt;/a&gt;&lt;/div&gt;\n     &lt;/div&gt; \n\n{{ formset.management_form }}\n&lt;input type=\"submit\" value=\"Proceed to Payment\"&gt; \n&lt;/form&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The above outputs a little form with buttons to add and remove clones of the form using the SheepIt plugin. </p>\n\n<p>Normally, we would collect the form data with something like:</p>\n\n<pre><code>form_data = request.POST.copy()\n</code></pre>\n\n<p>Or similar. Should I just iterate over everything collected in the post data or is there a better perhaps 'pythonic' way of handling these little clones? Perhaps gathering them into a formset then doing something similar to:</p>\n\n<pre><code>for f in formset.forms:\n    if f.is_valid():\n        f.save()\n</code></pre>\n\n<p>Edit:\nAnd here's some of the views code that I'm currently chopping and changing:</p>\n\n<pre><code>    form = EntryForm_2_set.form()\n    template_dict['form'] = form\n    if request.method == 'POST':\n        # from forms.py: EntryForm_2_set = forms.formsets.formset_factory(EntryForm_2, extra=0)\n        formset = EntryForm_2_set(request.POST)\n        if formset.is_valid():\n            for f in formset.forms:\n                if f.is_valid():\n                    f.save()\n            entry_url = reverse('entry-stage',kwargs={'stage':3}) \n            return HttpResponseRedirect(entry_url)\n    else:\n        formset = EntryForm_2_set()\n        template_dict['formset'] = formset\n    return render_to_response('submission-stage-two.html', template_dict, RequestContext(request)) \n</code></pre>\n\n<p>Any ideas guys?</p>\n"},{"tags":["python","emacs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13253200,"title":"How to enable automatic indentation in python.el from fgallina","body":"<p>I have installed the python package in emacs which downloads the python.el from <a href=\"https://raw.github.com/fgallina/python.el/master/python.el\" rel=\"nofollow\">https://raw.github.com/fgallina/python.el/master/python.el</a></p>\n\n<p>I would like to have automatic indentation ie when I write <code>def a():</code> and press <code>RET</code> it should automatically indent with a TAB. However I have to manually press TAB for indenting ? How do I enable it ? </p>\n\n<p>This was the default behaviour in the python.el avalaible from <a href=\"https://launchpad.net/python-mode\" rel=\"nofollow\">https://launchpad.net/python-mode</a></p>\n\n<p>Any help will be appreciated,</p>\n\n<p>Thanks</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13244081,"title":"Can I insert deletable characters in python input buffer?","body":"<p>I want to automatically indent the next line of a console app but the user needs to be able to remove it.  <code>sys.stdout.write</code> and <code>print</code> make undeletable characters and I can't write to sys.stdin (as far as I know).  I'm essentially trying to get smart indenting but I can only nest deeper and deeper.  Any ideas on how to climb back out?</p>\n\n<p>Edit: I should have noted that this is part of a Windows program that uses IronPython.  While I could do something much fancier (and might in the future), I am hoping to quickly get a reasonably pleasant experience with very little effort as a starting point.</p>\n"},{"tags":["python","arrays","numpy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13256128,"title":"Select a subset of array based on inequality in Python","body":"<p>Say I have the following setup:</p>\n\n<pre><code>x=np.array(range(0,100))\ny=x**0.5\nz=x**2\n</code></pre>\n\n<p>How could I get all the values of y between 4 and 8, and create a new array that had a row for those y values, but also a row for the corresponding z values?</p>\n\n<p>i.e. 25 in x has a y value of 5 which is between 4 and 8, I'd like this value, but I'd also like the z value of 625 in the row below.</p>\n\n<p>The math equations are just an example, the forumals could be anything including bessel functions.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","c","ruby","math","swap"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":5,"view_count":104,"score":-1,"question_id":13256099,"title":"How does this code swap the two numbers?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1826159/swapping-two-variable-value-without-using-3rd-variable\">Swapping two variable value without using 3rd variable</a>  </p>\n</blockquote>\n\n\n\n<p>I came across this code on Quora.\nFor C:</p>\n\n<pre><code>a^=b^=a^=b;\n</code></pre>\n\n<p>For Ruby/Python:</p>\n\n<pre><code>a,b=b,a\n</code></pre>\n"},{"tags":["python","algorithm","mergesort","inversion"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13256018,"title":"Problems With Inversion Counting","body":"<p>Can anyone see any problems with my implementation of an inversion counter using the merge sort method? I get the right value for very small lists, but when I import a list of 100,000 or so integers, I get the wrong value. My implementation works like this: during merge, each time a variable is added from list <code>right</code> to list <code>left</code>, I increment a class counter <code>n</code> by <code>len(left)</code>. I do this until the lists have been fully merged and sorted, which, by my understanding of mergesort and inversions, should cover every possible inversion. Where am I going wrong?</p>\n\n<pre><code>from collections import deque\n\nm = []\nf = open(\"IntegerArray.txt\")\nfor line in f:\n    m.append(line)\n\nclass InversionCount:\n\n    def __init__(self, n):\n        self.n = n\n    def inversionMergeSort(self, m):\n        if len(m) &lt;= 1:\n            return m\n        half = len(m)/2\n        left = m[0:half]\n        right = m[half:]\n        left = self.inversionMergeSort(left)\n        right = self.inversionMergeSort(right)\n        return self.inversionSort(left, right)\n\n    def inversionSort(self, left, right):\n        leftQueue = deque(i for i in left)\n        rightQueue = deque(j for j in right)\n        orderedList = []\n        while len(leftQueue) &gt; 0 or len(rightQueue) &gt; 0:\n            if len(leftQueue) &gt; 0 and len(rightQueue) &gt; 0:\n                if leftQueue[0] &lt; rightQueue[0]:\n                    orderedList.append(leftQueue[0])\n                    leftQueue.popleft()\n                else:\n                    orderedList.append(rightQueue[0])\n                    self.n += len(leftQueue)\n                    rightQueue.popleft()\n            elif len(leftQueue) &gt; 0:\n                orderedList.append(leftQueue[0])\n                leftQueue.popleft()\n            elif len(rightQueue) &gt; 0:\n                orderedList.append(rightQueue[0])\n                rightQueue.popleft()\n        return orderedList\n\nnInversions = InversionCount(0)\nnInversions.inversionMergeSort(m)\nprint nInversions.n\n</code></pre>\n"},{"tags":["python","ios","encryption","decrypt"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13255493,"title":"RNCryptor and Python server","body":"<p>I'm using RNCryptor to encrypt NSData on iOS and send it to a Python server. So far, so right. My problem comes when I try decrypt NSData on server side. </p>\n\n<p>RNCryptor embeds all relevant data in encrypted header, but I can not get the IV in the server side to decrypt data received.</p>\n\n<p>Any idea?</p>\n\n<p><strong>Configuration:</strong>\n<em>iOS 5.0 with RNCryptor / \nPython + Tornado Web Server</em></p>\n\n<p>Thanks!</p>\n"},{"tags":["python","list","dictionary","tuples"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13254797,"title":"Python Tuple Operation - Get Value","body":"<p>I have a tuple that contains province data.</p>\n\n<pre><code>CHOICES = (\n        ('', ''),\n        ('United States', (\n                ('AL', 'Alabama'),\n                ('AK', 'Alaska'),\n                ('AZ', 'Arizona'),\n                ('AR', 'Arkansas'),\n                ('CA', 'California'),\n                ('CO', 'Colorado'),\n                ('CT', 'Connecticut'),\n                ('DE', 'Delaware'),\n                ('DC', 'District of Columbia'),\n                ('FL', 'Florida'),\n                ('GA', 'Georgia'),\n                ('GU', 'Guam'),\n                ('HI', 'Hawaii'),\n                ('ID', 'Idaho'),\n                ('IL', 'Illinois'),\n                ('IN', 'Indiana'),\n                ('IA', 'Iowa'),\n                ('KS', 'Kansas'),\n                ('KY', 'Kentucky'),\n                ('LA', 'Louisiana'),\n                ('ME', 'Maine'),\n                ('MD', 'Maryland'),\n                ('MA', 'Massachusetts'),\n                ('MI', 'Michigan'),\n                ('MN', 'Minnesota'),\n                ('MS', 'Mississippi'),\n                ('MO', 'Missouri'),\n                ('MT', 'Montana'),\n                ('NE', 'Nebraska'),\n                ('NV', 'Nevada'),\n                ('NH', 'New Hampshire'),\n                ('NJ', 'New Jersey'),\n                ('NM', 'New Mexico'),\n                ('NY', 'New York'),\n                ('NC', 'North Carolina'),\n                ('ND', 'North Dakota'),\n                ('OH', 'Ohio'),\n                ('OK', 'Oklahoma'),\n                ('OR', 'Oregon'),\n                ('PA', 'Pennsylvania'),\n                ('PR', 'Puerto Rico'),\n                ('RI', 'Rhode Island'),\n                ('SC', 'South Carolina'),\n                ('SD', 'South Dakota'),\n                ('TN', 'Tennessee'),\n                ('TX', 'Texas'),\n                ('UT', 'Utah'),\n                ('VT', 'Vermont'),\n                ('VA', 'Virginia'),\n                ('VI', 'Virgin Islands'),\n                ('WA', 'Washington'),\n                ('WV', 'West Virginia'),\n                ('WI', 'Wisconsin'),\n                ('WY', 'Wyoming')\n            )\n        ),\n        ('Canada', (\n                ('AB', 'Alberta' , 1.05),\n                ('BC', 'British Columnbia', 1.12),\n                ('MB', 'Manitoba', 1.05),\n                ('NB', 'New Brunswick', 1.13),\n                ('NL', 'Newfoundland and Labrador', 1.13),\n                ('NT', 'Northwest Territories', 1.05),\n                ('NS', 'Nova Scotia', 1.15),\n                ('NU', 'Nunavut', 1.05),\n                ('PE', 'Prince Edward Island', 1.05),\n                ('SK', 'Saskatchewan', 1.05),\n                ('ON', 'Ontario', 1.13),\n                ('QC', 'Quebec', 1.05),\n                ('YT', 'Yukon', 1.05)\n            )\n        )\n    )\n</code></pre>\n\n<p>Is there an elegant way of getting the the number based on the province code if a Canadian province is selected.  example.  If I have the province ON is there a tuple operation that I can use to get the value 1.13.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","cursor","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13255410,"title":"Suppress cursor.execute() message in python MySQLdb","body":"<p>How to suppress the cursor.execute() message in MySQLdb.</p>\n\n<pre><code>&gt;&gt;&gt; from warnings import filterwarnings\n&gt;&gt;&gt; import MySQLdb\n&gt;&gt;&gt; filterwarnings('ignore', category = MySQLdb.Warning)\n&gt;&gt;&gt; db = MySQLdb.connect('127.0.0.1', 'root', '','')\n&gt;&gt;&gt; cursor = db.cursor()\n&gt;&gt;&gt; cursor.execute(\"select version()\")\n1L\n</code></pre>\n\n<p>I need to suppress this '1L' message</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13255455,"title":"Same variable name for different values in nested loops.","body":"<p>This code is perfectly valid Python</p>\n\n<pre><code>x=[[1,2,3,4], [11,22,33,44]]\nfor e in x:\n    for e in e:\n        print e\n</code></pre>\n\n<p>Can someone please tell me why, and how this works?</p>\n\n<p>I understand that both the <code>e</code>'s are in different scopes, but how come using them together like this isn't causing an error?</p>\n"},{"tags":["python","capslock"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13129804,"title":"Python - How to get current keylock status?","body":"<p>I'm attempting to write a simple programme that displays the current status of the different keylocks, but I'm unable to find a solution as to how to get the current status of them in Python. Thank you.</p>\n"},{"tags":["python","while-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13255769,"title":"stuck in while loop python","body":"<p>I am creating a chat server in python and got quite far as a noob in the language. I am having 1 problem at the moment which I want to solve before I go further, but I cannot seem to find how to get the problem solved. </p>\n\n<p>It is about a while loop that continues..</p>\n\n<p>in the below code is where it goes wrong</p>\n\n<pre><code>while 1:\n    try:\n        data = self.channel.recv ( 1024 )\n        print \"Message from client: \", data\n        if \"exit\" in data:\n            self.channel.send(\"You have closed youre connection.\\n\")\n            break\n    except KeyboardInterrupt:\n        break\n    except:\n        raise\n</code></pre>\n\n<p>When this piece of code get executed, on my client I need to enter \"exit\" to quit the connection. This works as a charm, but when I use CTRL+C to exit the connection, my server prints \"Message from client: \" a couple of thousand times.</p>\n\n<p>where am I going wrong?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13255758,"title":"numpy.savetxt \"tuple index out of range\"?","body":"<p>I'm trying to write a few lines into a text file, and here's the code I used:</p>\n\n<pre><code>import numpy as np\n\n# Generate some test data\ndata = np.arange(0.0,1000.0,50.0)\n\nwith file('test.txt', 'w') as outfile:      \n    outfile.write('# something')\n\n    for data_slice in data: \n        np.savetxt(outfile, data_slice, fmt='%1.4e')\n\n        outfile.write('# New slice\\n')\n</code></pre>\n\n<p>When the code runs up to the line with savetxt, I get this error:</p>\n\n<pre><code>     IndexError: tuple index out of range\n</code></pre>\n\n<p>Any idea why this happens? I tried removing the \"fmt\" part, but I get the same thing.</p>\n"},{"tags":["php","python","mysql","sphinx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13239946,"title":"Sphinx Search indexing some fields but not others","body":"<p>I'm using generic Sphinx with Python (though I tested this against PHP as well and got the same problem). I have a table where I have several fields I want to be able to search in sphinx against but it seems like only some of the fields get indexed.</p>\n\n<p>Here's my source (dbconfig just has the connection information):</p>\n\n<pre><code>source bill_src : dbconfig\n{\n    sql_query       = \\ \n        SELECT id,title,official_title,summary,state,chamber,UNIX_TIMESTAMP(last_action) AS bill_date FROM bill\n\n    sql_attr_timestamp = bill_date\n\n    sql_query_info      = SELECT * FROM bill WHERE id=$id\n}\n</code></pre>\n\n<p>Here's the index</p>\n\n<pre><code>index bills\n{\n    source          = bill_src\n    path            = /var/data/bills\n    docinfo         = extern\n    charset_type        = sbcs\n}\n</code></pre>\n\n<p>I'm trying to use extended match mode. It seems that <code>title</code> and <code>summary</code> are fine but the <code>official_title</code>, the <code>state</code> and the <code>chamber</code> fields are ignored in the index. So for example if I do:</p>\n\n<p><code>@official_title Affordable Care Act</code> </p>\n\n<p>I get:</p>\n\n<pre><code>query error: no field 'official_title' found in schema\n</code></pre>\n\n<p>but the same query with @summary produces results. Any ideas what I'm missing?</p>\n\n<p><strong>EDIT</strong>\nHere's the table I'm trying to index:</p>\n\n<pre><code>+--------------------+--------------+------+-----+---------+----------------+\n| Field              | Type         | Null | Key | Default | Extra          |\n+--------------------+--------------+------+-----+---------+----------------+\n| id                 | int(11)      | NO   | PRI | NULL    | auto_increment |\n| bt50_id            | int(11)      | YES  | MUL | NULL    |                |\n| type               | varchar(10)  | YES  |     | NULL    |                |\n| title              | varchar(255) | YES  |     | NULL    |                |\n| official_title     | text         | YES  |     | NULL    |                |\n| summary            | text         | YES  |     | NULL    |                |\n| congresscritter_id | int(11)      | NO   | MUL | NULL    |                |\n| last_action        | datetime     | YES  |     | NULL    |                |\n| sunlight_id        | varchar(45)  | YES  |     | NULL    |                |\n| number             | int(11)      | YES  |     | NULL    |                |\n| state              | char(2)      | YES  |     | NULL    |                |\n| chamber            | varchar(45)  | YES  |     | NULL    |                |\n| session            | varchar(45)  | YES  |     | NULL    |                |\n| featured           | tinyint(1)   | YES  |     | 0       |                |\n| source_url         | varchar(255) | YES  |     |         |                |\n+--------------------+--------------+------+-----+---------+----------------+\n</code></pre>\n"},{"tags":["python","linux","wxpython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12624015,"title":"wx.NotificationMessage AttributeError: 'module' object has no attribute 'NotificationMessage'","body":"<p>I get this error when trying to use wxPython's NotificationMessage class:</p>\n\n<p>wx.NotificationMessage(\"\", \"Hello world!\").Show()\nAttributeError: 'module' object has no attribute 'NotificationMessage'</p>\n\n<p>The code is quite simply:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport wx\n\napp = wx.App()\n\nwx.NotificationMessage(\"\", \"Hello world!\").Show()\n\napp.MainLoop()\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p>This is running on Linux Mint 13, MATE 1.2 desktop environment, Python 2.7.3.</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":45,"score":-3,"question_id":13255470,"title":"Need some advise about if I should transfer to a Comp Science major","body":"<p>I am a freshman in college and this first semester I had to take a class in python as part of my Mechanical Engineering degree plan, I enjoyed it so much I am considering transferring to computer science. I realized how much I liked it when my brother saw me on the computer and asked if I had computer science homework, at that moment I realized I was just writing a program for the hell of it on a Friday night.</p>\n\n<p>I asked a friend of mine and he said python is like driving a go cart, it is fun but utterly useless, and the languages I'd have to learn are more like driving an 18 wheeler useful but boring. Not really sure how true that is but I really have no idea.</p>\n\n<p>I have already bought a java book and am planning on start over the winter break. I was wondering if there was anyway to gauge if it is for me.  </p>\n"},{"tags":["python","nlp","nltk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13163027,"title":"most effective way to parse with nltk","body":"<p>What the most effective way to parse with nltk?\nI have a big vocabulary and take me age to parse with RecursiveDescentParser.\nThanks</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":68,"score":-1,"question_id":13255540,"title":"Got none back in python","body":"<pre><code>def fill_boxes(books, capacity):   \n    return fill_boxes1(books, capacity,[])\n\ndef fill_boxes1(books, capacity,m):    \n    if len(books) &lt;= capacity:\n        return [books]\n    elif 0 == capacity:\n        return [m] + [books]\n    else:\n        m = m + [books[0]]\n        return fill_boxes1(books[1:],capacity-1,m)\n</code></pre>\n\n<p>By this question, I can't use loop.</p>\n\n<p>books is a list of books and capacity is a positive integer.</p>\n\n<p>I want to make a new list which contains two lists.\nOne is the first \"capacity\" items in the \"books\", and second is the rest of the \"books\"<br>\nand I tried this    </p>\n\n<pre><code>fill_boxes([\"Fox in Socks\", \"Cat in the Hat\", \"Hop on Pop\", \"Green Eggs and Ham\"], 3)\n</code></pre>\n\n<p>but got none back, i wonder why ,thanks guys</p>\n"},{"tags":["python","crontab"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":49,"score":4,"question_id":13250365,"title":"Crontab fails to execute Python script","body":"<p><code>crontab</code> fails to execute a Python script. The command line I am using to run the Python script is ok.</p>\n\n<p><strong>These are solutions I had tried:</strong></p>\n\n<ul>\n<li>add <code>#!/usr/bin/env python</code> at the top of the <code>main.py</code></li>\n<li>add <code>PATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</code> at the top of <code>crontab</code></li>\n<li><code>chmod 777</code> to the <code>main.py</code> file</li>\n<li><code>service cron restart</code></li>\n</ul>\n\n<p><strong>my crontab is:</strong> </p>\n\n<pre><code>PATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin\n\n*/1 * * * * python /home/python_prj/main.py\n</code></pre>\n\n<p><strong>and the log in /var/log/syslog is:</strong></p>\n\n<pre><code>Nov  6 07:08:01 localhost CRON[28146]: (root) CMD (python /home/python_prj/main.py)\n</code></pre>\n\n<p>and nothing else.</p>\n\n<p>The <code>main.py</code> script calls some methods from other modules under <code>python_prj</code>, does that matter?</p>\n\n<p>Anyone can help me?</p>\n"},{"tags":["python","django","amazon-s3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13233340,"title":"Amazon S3: I'm seeing 'Raw Content' stored rather than an image","body":"<p>I'm pinging an API which is giving me the path to an image. I am then opening/reading that image and saving it to a database on s3.</p>\n\n<p>The problem is that rather than storing the actual image, it's storing just the words <code>Raw Content</code>. What am I doing wrong? </p>\n\n<p>Here's my relevant code. Basically I store the path to the file in the field <code>coverart</code> and the function <code>store_in_s3_partpic</code> returns the path to the file. This function also obviously loads the content to S3.</p>\n\n<pre><code>pic = partpics['url']\n# CACHING\nimg_url = pic\nname = urlparse(img_url).path.split('/')[-1]\n#wrap your file content??\ncontent = ContentFile(urllib2.urlopen(img_url).read())\nunipart.coverart = store_in_s3_partpic(name, content)\n</code></pre>\n\n<p>Am I doing anything wrong here that would cause me to just see 'Raw Content'?</p>\n\n<p>Here's my store_in_s3_partpic code:</p>\n\n<pre><code>def store_in_s3_partpic(name, content):\n    print \"STORING PARTPIC\"\n    conn = S3Connection(settings.AWS_ACCESS_KEY_ID, settings.AWS_SECRET_ACCESS_KEY)\n    pathtofile = \"partpics/%s\" % (name)\n    b = conn.create_bucket('mybucket')\n    mime = mimetypes.guess_type(name)[0]\n    k = Key(b)\n    k.key = \"/media/partpics/%s\" % (name)\n    k.set_metadata(\"Content-Type\", mime)\n    k.set_contents_from_string(content)\n    k.set_acl(\"public-read\")\n    return pathtofile\n</code></pre>\n"},{"tags":["python","pyqt","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13252993,"title":"Scipy normalization-- localize values to set discrete points","body":"<p>I am currently displaying two separate 2D images (x,y plane and z,y plane) that are derived from 96x512 arrays of 0-255 values.  I would like to be able to filter the data so that anything under a certain value is done away with (the highest values are indicative of targets).  What I would like to be able to do is from these images, separate discrete points that may be then mapped three-dimensionally as points, rather than mapping two intersecting planes.  I'm not entirely sure how to do this or where to start (I'm very new to python).  I am producing the images using scipy and have done some normalization and noise reduction, but I'm not sure how to then separate out anything over the threshold as it's own individual point.  Is this possible?</p>\n"}]}
{"total":142318,"page":10,"pagesize":100,"questions":[{"tags":["python","list","slice","del"],"answer_count":8,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":86,"score":4,"question_id":13244466,"title":"In Python, how do I delete the Nth list item from a list of lists (column delete)?","body":"<p>In Python, how do I delete a \"column\" from a list of lists?<br>\nGiven:</p>\n\n<pre><code>L = [\n     [\"a\",\"b\",\"C\",\"d\"],\n     [ 1,  2,  3,  4 ],\n     [\"w\",\"x\",\"y\",\"z\"]\n    ]\n</code></pre>\n\n<p>I would like to delete \"column\" 2 to get:</p>\n\n<pre><code>L = [\n     [\"a\",\"b\",\"d\"],\n     [ 1,  2,  4 ],\n     [\"w\",\"x\",\"z\"]\n    ]\n</code></pre>\n\n<p>Is there a <b>slice</b> or <b>del</b> method that will do that? Something like:</p>\n\n<pre><code>del L[:][2]\n</code></pre>\n"},{"tags":["python","pyramid","mako"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13243500,"title":"How to access session variable in mako template and pyramid?","body":"<p>How the heck do you access a session variable in a mako template?  I'm sure this is stupid simple but I'm drawing blanks on every search I try....</p>\n\n<p>I have my view in Pyramid:</p>\n\n<pre><code>def ClientView(request):\n    session = request.session\n    session['selectedclientid'] = 'test' #selectedclient.id\n    session.save()\n    return dict(\n        logged_in=authenticated_userid(request)\n    )\n</code></pre>\n\n<p>and then in my template I'm just trying something like this:</p>\n\n<pre><code>% if session['selectedclientid'] != None:\n                The session has something\n            % endif\n</code></pre>\n\n<p>And this gives me a template error:</p>\n\n<pre><code>    % if session['selectedclientid'] != None:\nTypeError: 'Undefined' object has no attribute '__getitem__'\n</code></pre>\n\n<p>Am I setting the session variable wrong? Am I querying it wrong?  Do I even need to make a copy of the request.session object and .save() it in the first place?  Couldn't I just do request.session['myvariable'] = 'foo' and set it that way?  That still doesn't help me in pulling it back in the template.</p>\n\n<p>Thanks,</p>\n"},{"tags":["python","geospatial","matplotlib-basemap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13240642,"title":"Automatically centering matplotlib basemap plot on plotted data","body":"<p>I am attempting to automatically center a stereographic plot around a set of data that I am plotting; though, the principal should work fine for most projections (I think). I unfortunately may not plot the data here, but one would see that the plotted area appears too wide and shifted south. </p>\n\n<p>I am using <a href=\"http://www.johndcook.com/python_longitude_latitude.html\" rel=\"nofollow\">John Cook's code</a> for calculating the distance between two points on (an assumed perfect) sphere. For the plot, I am setting the height to be the distance between the highest and lowest latitude along the median longitude for the data, and visa versa for the width of the plot.</p>\n\n<p>Is my approach incorrect, or is there a method more effective and versatile for other projections? I'd like to keep this in my tool-belt for future plots. Thanks!</p>\n\n<pre><code>from mpl_toolkits.basemap import Basemap\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport sys\nimport csv\nimport spheredistance as sd\n\n\nprint '\\n'\nif len(sys.argv) &lt; 3:\n    print &gt;&gt;sys.stderr,'Usage:',sys.argv[0],'&lt;datafile&gt; &lt;#rows to skip&gt;'\n    sys.exit(1)\nprint '\\n'\n\ndataFile = sys.argv[1]\ndataStream = open(dataFile, 'rb')\ndataReader = csv.reader(dataStream,delimiter='\\t')\nnumRows = sys.argv[2]\n\ndataValues = []\ndataLat = []\ndataLon = []\n\nprint 'Plotting Data From: '+dataFile\n\ndataReader.next()\nfor row in dataReader:\n    dataValues.append(row[0])\n    dataLat.append(float(row[1]))\n    dataLon.append(float(row[2]))\n\n# center and set extent of map\nearthRadius = 6378100 #meters\nfactor = 1.00\n\nlat0new = ((max(dataLat)-min(dataLat))/2)+min(dataLat)\nlon0new = ((max(dataLon)-min(dataLon))/2)+min(dataLon)\n\nmapH = sd.distance_on_unit_sphere(max(dataLat),lon0new,\n            min(dataLat),lon0new)*earthRadius*factor\n\nmapW = sd.distance_on_unit_sphere(lat0new,max(dataLon),\n            lat0new,min(dataLon))*earthRadius*factor\n\nprint max(dataLat), min(dataLat), lat0new\nprint max(dataLon), min(dataLon), lon0new\nprint mapH, mapW\n\n# setup stereographic basemap.\n# lat_ts is latitude of true scale.\n# lon_0,lat_0 is central point.\nm = Basemap(width=mapW,height=mapH,\n            resolution='l',projection='stere',\\\n            lat_0=lat0new,lon_0=lon0new)\n\n#m.shadedrelief()\nm.drawcoastlines(linewidth=0.2)\nm.fillcontinents(color='white', lake_color='aqua')\n\n#plot data points (omitted due to ownership)\n#x, y = m(dataLon,dataLat)\n#m.scatter(x,y,2,marker='o',color='k')\n\n# draw parallels and meridians.\nm.drawparallels(np.arange(-80.,81.,20.), labels=[1,0,0,0], fontsize=10)\nm.drawmeridians(np.arange(-180.,181.,20.), labels=[0,0,0,1], fontsize=10)\nm.drawmapboundary(fill_color='aqua')\n\nplt.title(\"Example\")\nplt.show()\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/WoD3l.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13255148,"title":"Class Assignment Problems","body":"<p>Why is PyDev giving me this error: \"Class variable undefined\" when I try to implement a simple class for an inversion counting algorithm? Here's my code:</p>\n\n<pre><code>from collections import deque\n\nClass inversionCount:\n\n    def __init__(self, n):\n        self.n = n\n    def inversionMergeSort(m, n):\n        print m\n        if len(m) &lt;= 1:\n            n = 0\n            return (m, n)\n        half = len(m)/2\n        left = m[0:half]\n        right = m[half:]\n        left = mergeSort(left)\n        right = mergeSort(right)\n        return inversionSort(left, right)\n\n    def inversionSort(left, right, n):\n        leftQueue = deque(i for i in left)\n        rightQueue = deque(j for j in right)\n        orderedList = []\n        while len(leftQueue) &gt; 0 or len(rightQueue) &gt; 0:\n            if len(leftQueue) &gt; 0 and len(rightQueue) &gt; 0:\n                if leftQueue[0] &lt; rightQueue[0]:\n                    orderedList.append(leftQueue[0])\n                    leftQueue.popleft()\n                else:\n                    orderedList.append(rightQueue[0])\n                    if len(leftQueue) &gt; 1:\n                        self.n += len(leftQueue)\n                    rightQueue.popleft()\n            elif len(leftQueue) &gt; 0:\n                orderedList.append(leftQueue[0])\n                leftQueue.popleft()\n            elif len(rightQueue) &gt; 0:\n                orderedList.append(rightQueue[0])\n                rightQueue.popleft()\n        return (orderedList, n)\n</code></pre>\n\n<p>yet PyDev is failing to recognize that inversionCount is indeed a class. Any thoughts? </p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13251882,"title":"Assembling Bytecode - PyCode New","body":"<p>The following code produces bytecode output as string. I want to replace some lines of the bytecode and reassemble and exec it. Do I need something like the ByteCodeAssember or can I do this with PyCode New?</p>\n\n<p><a href=\"http://docs.python.org/2/c-api/code.html#PyCode_New\" rel=\"nofollow\">http://docs.python.org/2/c-api/code.html#PyCode_New</a></p>\n\n<p><a href=\"http://pypi.python.org/pypi/BytecodeAssembler\" rel=\"nofollow\">http://pypi.python.org/pypi/BytecodeAssembler</a></p>\n\n<p>output</p>\n\n<pre><code>**********      code    **********                                                                                   \n\ntype: &lt;type 'str'&gt;                                                                                                   \ndef test(a,b):                                                                                                       \n    return a*b                                                                                                       \ntest(2,3)                                                                                                            \n\n**********      compiles into the bytecode      **********                                                           \n\ntype: &lt;type 'code'&gt;                                                                                                  \n  1           0 LOAD_CONST               0 (&lt;code object test at 0x101d1ca30, file \"&lt;string&gt;\", line 1&gt;)              \n              3 MAKE_FUNCTION            0                                                                           \n              6 STORE_NAME               0 (test)                                                                    \n\n  3           9 LOAD_NAME                0 (test)                                                                    \n             12 LOAD_CONST               1 (2)                                                                       \n             15 LOAD_CONST               2 (3)                                                                       \n             18 CALL_FUNCTION            2                                                                           \n             21 POP_TOP                                                                                              \n             22 LOAD_CONST               3 (None)                                                                    \n             25 RETURN_VALUE 3  \n\n**********  bytecode    **********\n\n'd\\x00\\x00\\x84\\x00\\x00Z\\x00\\x00e\\x00\\x00d\\x01\\x00d\\x02\\x00\\x83\\x02\\x00\\x01d\\x03\\x00S'\n</code></pre>\n\n<p>code</p>\n\n<pre><code>import dis                                                                                                           \nimport sys                                                                                                           \nimport inspect                                                                                                       \nimport new                                                                                                           \n\nclass writer:                                                                                                        \n    def __init__(self):                                                                                              \n        self.s = \"\"                                                                                                  \n\n    def write(self,text):                                                                                            \n        #print ': ',text                                                                                             \n        self.s += text                                                                                               \n\n#save stdout                                                                                                                     \norigstdout = sys.stdout                                                                                              \nw = writer()                                                                                                         \nsys.stdout = w                                                                                                       \n\n\ns = \"def test(a,b):\\n\\treturn a*b\\ntest(2,3)\"                                                                        \n\nc = compile(s,'&lt;string&gt;','exec')                                                                                     \n# dis calls stdout, so output is in w                                                                                                                         \nbytecode = dis.dis(c)                                                                                                \n\nsys.stdout = origstdout                                                                                              \n\ndef h(x):                                                                                                            \n    print '*'*10 + '\\t' + x + '\\t' + '*'*10 + '\\n'*1                                                                 \n\nh('code')                                                                                                            \nprint 'type: '+str(type(s))                                                                                          \nprint s + '\\n'                                                                                                       \n\nh('compiles into the bytecode')                                                                                      \nprint 'type: '+str(type(c))                                                                                          \nprint w.s\n\nh('bytecode')                                                                                                        \nprint repr(c.co_code)  \n</code></pre>\n"},{"tags":["python","datetime","group-by","data.frame","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":78,"score":0,"question_id":13223360,"title":"python split a pandas data frame by week or month and group the data based on these sp","body":"<pre><code>DateOccurred    CostCentre  TimeDifference\n03/09/2012  2073    28138\n03/09/2012  6078    34844\n03/09/2012  8273    31215\n03/09/2012  8367    28160\n03/09/2012  8959    32037\n03/09/2012  9292    30118\n03/09/2012  9532    34200\n03/09/2012  9705    27240\n03/09/2012  10085   31431\n03/09/2012  10220   22555\n04/09/2012  6078    41126\n04/09/2012  7569    31101\n04/09/2012  8273    30994\n04/09/2012  8959    30064\n04/09/2012  9532    34655\n04/09/2012  9705    26475\n04/09/2012  10085   31443\n04/09/2012  10220   33970\n05/09/2012  2073    28221\n05/09/2012  6078    27894\n05/09/2012  7569    29012\n05/09/2012  8239    42208\n05/09/2012  8273    31128\n05/09/2012  8367    27993\n05/09/2012  8959    20669\n05/09/2012  9292    33070\n05/09/2012  9532    8189\n05/09/2012  9705    27540\n05/09/2012  10085   28798\n05/09/2012  10220   23164\n06/09/2012  2073    28350\n06/09/2012  6078    35648\n06/09/2012  7042    27129\n06/09/2012  7569    31546\n06/09/2012  8239    39945\n06/09/2012  8273    31107\n06/09/2012  8367    27795\n06/09/2012  9292    32974\n06/09/2012  9532    30320\n06/09/2012  9705    37462\n06/09/2012  10085   31703\n06/09/2012  10220   7807\n06/09/2012  14573   186\n07/09/2012  0   0\n07/09/2012  0   0\n07/09/2012  2073    28036\n07/09/2012  6078    31969\n07/09/2012  7569    32941\n07/09/2012  8273    30073\n07/09/2012  8367    29391\n07/09/2012  9292    31927\n07/09/2012  9532    30127\n07/09/2012  9705    27604\n07/09/2012  10085   28108\n08/09/2012  2073    28463\n10/09/2012  6078    31266\n10/09/2012  8239    16390\n10/09/2012  8273    31140\n10/09/2012  8959    30858\n10/09/2012  9532    30794\n10/09/2012  9705    28752\n11/09/2012  0   0\n11/09/2012  0   0\n11/09/2012  0   0\n11/09/2012  0   0\n11/09/2012  0   0\n11/09/2012  2073    28159\n11/09/2012  6078    36835\n11/09/2012  8239    45354\n11/09/2012  8273    30922\n11/09/2012  8367    31382\n11/09/2012  8959    29670\n11/09/2012  9292    33582\n11/09/2012  9705    29394\n11/09/2012  10085   17140\n12/09/2012  2073    28283\n12/09/2012  6078    31139\n12/09/2012  7042    35063\n12/09/2012  8273    31075\n12/09/2012  8367    29795\n12/09/2012  9292    33496\n12/09/2012  9532    31669\n12/09/2012  9705    26166\n12/09/2012  10085   29889\n12/09/2012  10220   35656\n13/09/2012  2073    28144\n13/09/2012  6078    30544\n13/09/2012  7097    30866\n13/09/2012  8273    30772\n13/09/2012  8367    32387\n13/09/2012  8959    29307\n13/09/2012  9292    32348\n13/09/2012  9532    28137\n13/09/2012  9705    28823\n13/09/2012  10085   31543\n13/09/2012  10220   28293\n14/09/2012  0   12433\n14/09/2012  0   12434\n14/09/2012  0   12434\n14/09/2012  0   12434\n14/09/2012  0   12434\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   12433\n14/09/2012  0   0\n14/09/2012  0   12433\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   1720\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   384\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   0\n14/09/2012  0   383\n14/09/2012  2073    28438\n14/09/2012  6078    27255\n14/09/2012  8273    29989\n14/09/2012  8959    26892\n14/09/2012  9292    33202\n14/09/2012  9532    30862\n14/09/2012  9705    26857\n14/09/2012  10085   32657\n14/09/2012  10220   27296\n15/09/2012  6078    3832\n17/09/2012  6078    30004\n17/09/2012  7569    30390\n17/09/2012  8239    41421\n17/09/2012  8273    26337\n17/09/2012  8367    31631\n17/09/2012  8959    17989\n17/09/2012  9292    35703\n17/09/2012  9532    36542\n17/09/2012  9705    27488\n17/09/2012  10085   30849\n17/09/2012  10220   32575\n18/09/2012  2073    28293\n18/09/2012  6078    27450\n18/09/2012  7569    30323\n18/09/2012  8239    38481\n18/09/2012  8273    31154\n18/09/2012  8367    27944\n18/09/2012  8959    28196\n18/09/2012  9292    30844\n18/09/2012  9532    33128\n18/09/2012  9705    32100\n19/09/2012  2073    28227\n19/09/2012  6078    32243\n19/09/2012  7569    29041\n19/09/2012  8239    42791\n19/09/2012  8273    30966\n19/09/2012  8367    26420\n19/09/2012  8959    29394\n19/09/2012  9292    14865\n19/09/2012  9532    23618\n19/09/2012  10085   31614\n19/09/2012  10220   8686\n20/09/2012  2073    28260\n20/09/2012  6078    30446\n20/09/2012  7097    34909\n20/09/2012  7569    30869\n20/09/2012  8273    31079\n20/09/2012  8367    30162\n20/09/2012  9292    13104\n20/09/2012  9532    36614\n20/09/2012  9705    35617\n20/09/2012  10085   31821\n20/09/2012  10220   30055\n20/09/2012  14573   468\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   3\n21/09/2012  0   0\n21/09/2012  0   0\n21/09/2012  0   3\n21/09/2012  2073    28308\n21/09/2012  6078    33833\n21/09/2012  7569    32335\n21/09/2012  9292    33824\n21/09/2012  9532    33376\n21/09/2012  10220   21002\n22/09/2012  2073    28402\n23/09/2012  2073    28109\n24/09/2012  2073    28431\n24/09/2012  6078    30027\n24/09/2012  7097    31914\n24/09/2012  8239    35617\n24/09/2012  8273    30670\n24/09/2012  8367    29084\n24/09/2012  8959    31023\n24/09/2012  9292    34394\n24/09/2012  9532    31255\n24/09/2012  9705    18758\n24/09/2012  10085   29290\n24/09/2012  10220   33230\n25/09/2012  2073    28506\n25/09/2012  6078    32043\n25/09/2012  7042    34953\n25/09/2012  7569    30898\n25/09/2012  8239    41297\n25/09/2012  8273    31012\n25/09/2012  8367    29645\n25/09/2012  8959    29904\n25/09/2012  9532    37875\n25/09/2012  9705    13280\n25/09/2012  10085   35023\n25/09/2012  10220   31359\n26/09/2012  2073    28388\n26/09/2012  6078    29765\n26/09/2012  7097    31561\n26/09/2012  7569    29151\n26/09/2012  8239    40369\n26/09/2012  8367    28174\n26/09/2012  8959    26554\n26/09/2012  9292    32104\n26/09/2012  9532    33194\n26/09/2012  9705    30377\n26/09/2012  10085   31503\n26/09/2012  10220   28310\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  0   0\n27/09/2012  2073    28491\n27/09/2012  6078    31137\n27/09/2012  8239    38403\n27/09/2012  8273    31117\n27/09/2012  8367    28462\n27/09/2012  9292    32387\n27/09/2012  9532    23023\n27/09/2012  9705    32790\n27/09/2012  10085   33460\n27/09/2012  10220   31782\n28/09/2012  0   161\n28/09/2012  2073    28381\n28/09/2012  7569    32322\n28/09/2012  8239    38362\n28/09/2012  8273    30533\n28/09/2012  8959    17128\n28/09/2012  9292    32484\n28/09/2012  9532    18586\n28/09/2012  9705    27902\n29/09/2012  2073    28583\n</code></pre>\n\n<ol>\n<li>Above is a sample of a dataframe which has a million records</li>\n<li><em><strong>How can I slice or group it by Week or  Month and sum seconds column by cost centre.?</em>*</strong></li>\n<li>I have read/tried 30 of the articles on this site which appear by doing a search for<br>\nList item pandas, python, groupby, split, dataframe, week with out success. </li>\n<li>I am using python 2.7 and pandas 0.9.</li>\n<li>I've read the Time Series / Date functionality section in the pandas 0.9 tutorial but couldn't\n make anything work with a dataframe. I would like to use the features in there such as Business week</li>\n</ol>\n"},{"tags":["python","django","api","twisted","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":102,"score":1,"question_id":13253101,"title":"What is the best Python library for building APIs?","body":"<p>Which Python library or framework would you use to build an API service? I would like to expose a running Python application to calls from other machines - sort of like an API service, whose callbacks can talk to my main object system.</p>\n\n<p>One of my special requirements is that the main code must run uninterrupted the whole time, hence the API should be able to run in a separate thread and talk to the main model through a <code>Queue</code>.</p>\n\n<p>I tried using <em>Twisted</em> so far, because it has nice SOAP support, allowing me to not have to serialize anything. This is what the caller can look like:</p>\n\n<pre><code>import SOAPpy\np = SOAPpy.SOAPProxy('http://localhost:8088/')\nget = p.give(data=[\"my precious args\", 15, {\"brave\":\"sir robin\"}])\n</code></pre>\n\n<p>But on the down side:</p>\n\n<ol>\n<li>I can't run it as a background thread (I'm getting errors that signals don't work unless the reactor is in the main thread), meaning I have to reorganize my model code to be in the background making debugging harder. </li>\n<li>This automatic serialization is not all-powerful - not all objects can get passed, such as timedeltas or some custom objects.</li>\n</ol>\n\n<p>I considered using <em>Flask</em> or <em>Django</em> and some serialization format like <em>JSON</em>, but I'm not sure if they would do the trick, justifying the learning overhead.</p>\n\n<p>Is there some magic combo of:</p>\n\n<ul>\n<li>a nice background thread web listener whose callbacks can talk to the main model</li>\n<li>a simple, clean way to pass objects around, such as pickled objects or a way to quickly (de)serialize into JSON</li>\n<li>preferably some existing module that encompasses all this so that I don't have to reinvent the wheel</li>\n</ul>\n\n<p>that you would recommend?</p>\n"},{"tags":["python","django","git","heroku"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13237845,"title":"Deploy Django App to Heroku","body":"<pre><code>    Pushing to git@heroku.com:lebab.git\n\n-----&gt; Heroku receiving push\n-----&gt; Python/Django app detected\n-----&gt; Preparing Python interpreter (2.7.2)\n-----&gt; Creating Virtualenv version 1.7.2\n       New python executable in .heroku/venv/bin/python2.7\n       Also creating executable in .heroku/venv/bin/python\n</code></pre>\n\n<p><strong>* omission　*</strong></p>\n\n<pre><code>    -----&gt; Discovering process types\n\n         !     Heroku push rejected due\n\n to an unrecognized error.\n     !     We've been notified, see http://support.heroku.com if the problem persists.\n\n\n    To git@heroku.com:lebab.git\n     ! [remote rejected] master -&gt; master (pre-receive hook declined)\n    error: failed to push some refs to 'git@heroku.com:lebab.git'\n</code></pre>\n\n<p>I made django application, so I tried to deploy it to heroku.\nand get the error.\nwhat's mean? any ideas? \nIf should I give more info, I will.</p>\n"},{"tags":["python","django","pytz"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13254409,"title":"UnknownTimeZoneError when using RequestContext","body":"<p>When using Django 1.4, I am getting an <code>UnknownTimeZoneError</code> for <code>America/Chicago</code> when using RequestContext, but it works without it...any ideas?</p>\n\n<p><b>Error Message</b></p>\n\n<pre><code>UnknownTimeZoneError at /my_proj/bad_view/\n'America/Chicago'\n</code></pre>\n\n<p><b>Source</b></p>\n\n<pre><code># This works\ndef good_view(request):\n    data = {}\n    return render_to_response('mytemplate.html',\n                              data)\n\n# This doesn't\ndef bad_view(request):\n    data = {}\n    return render_to_response('mytemplate.html',\n                              data,\n                              context_instance=RequestContext(request))\n</code></pre>\n"},{"tags":["python","arrays","average"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13052447,"title":"Averaging scores of same type in an array in Python","body":"<p>Suppose I have a sample array that looks like this:</p>\n\n<pre><code>color_values = [{'score': 3, 'color': u'blue'}, {'score': 1, 'color': u'red'}, {'score': 4, 'color': u'green'}, {'score': 4, 'color': u'red'}, {'score': 2, 'color': u'blue'}]\n</code></pre>\n\n<p>How do I write a code in python for a new array which averages the score of all the same colors? So the new array would look like:</p>\n\n<pre><code>color_values = [{'score': 2.5, 'color': u'blue'}, {'score': 2.5, 'color': u'red'}, {'score': 4, 'color': u'green'}]\n</code></pre>\n"},{"tags":["python","bash","ssh","stdout","pid"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13202483,"title":"Redirect to a file output of remote python app started through ssh","body":"<p>[EDITED]</p>\n\n<p>I have a python app in a remote server that i need to debug, when I run the app locally it prints some debug information (including python tracebacks) that i need to monitor.</p>\n\n<p>Thanks to <a href=\"http://stackoverflow.com/users/1356721/jeremy\">jeremy</a> i got to monitor the output file using <em>tail -F</em> and studying his code I got <a href=\"http://jimmyg.org/blog/2009/working-with-python-subprocess.html\" rel=\"nofollow\">here</a> where i found the following variation of his command:</p>\n\n<pre><code>ssh root@$IP 'nohup python /root/python/run_dev_server.py &amp;&gt;&gt; /var/log/myapp.log &amp;'\n</code></pre>\n\n<p>This gets me almost exactly what i want, loggin information and python tracebacks, but i do not get any of the information displayed using <em>print</em> from python which i need.</p>\n\n<p>so I also tried his command:</p>\n\n<pre><code>ssh root@$IP 'nohup python /root/python/run_dev_server.py 2&gt;&amp;1 &gt;&gt; /var/log/myapp.log &amp;'\n</code></pre>\n\n<p>it logs in the file the output of the program from <em>print</em> and also the logging information, but all the tracebacks are lost so i cannot debug the python exceptions.</p>\n\n<p>Is there a way I can capture all the information produced by the app?</p>\n\n<p>Thanks in advance for any suggestion.</p>\n"},{"tags":["python","ssl","dropbox-api"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":10558088,"title":"Dropbox Python SDK SSL error","body":"<p>I am learning how to use the Dropbox Python SDK. However, I run into a problem when I try to generate my request token. Here is the code I am using (note that I have replaced my actual app key and secret with APP_KEY and APP_SECRET here, but I used my actual app key and secret when I try it out.)</p>\n\n<pre><code>from dropbox import client, rest, session\nAPP_KEY = 'APP_KEY'\nAPP_SECRET = 'APP_SECRET'\nACCESS_TYPE = 'app_folder'\nprint 'Creating session object'\nsess = session.DropboxSession(APP_KEY, APP_SECRET, ACCESS_TYPE)\nprint 'Session created!\\nCreating request token'\nrequest_token = sess.obtain_request_token()\nprint 'Created request token!'\nurl = sess.build_authorize_url(request_token)\nprint url\nraw_input()\naccess_token = sess.obtain_access_token(request_token)\nclient1 = client.DropboxClient(sess)\nprint client1.account_info()\n</code></pre>\n\n<p>I had the program print out messages as it was creating the different objects so that I could see where the error occurred. This is the output:</p>\n\n<pre><code>aaron@Aarons-Ubuntu-Computer:~/Twisted$ python example.py\nCreating session object\nSession created!\nCreating request token\nTraceback (most recent call last):\n  File \"example.py\", line 8, in &lt;module&gt;\n    request_token = sess.obtain_request_token()\nFile \"/usr/local/lib/python2.7/dist-packages/dropbox-1.4-py2.7.egg/dropbox/session.py\", line 160, in obtain_request_token\nresponse = rest.RESTClient.POST(url, headers=headers, params=params, raw_response=True)\nFile \"/usr/local/lib/python2.7/dist-packages/dropbox-1.4-py2.7.egg/dropbox/rest.py\", line 140, in POST\n  return cls.request(\"POST\", url, post_params=params, headers=headers, raw_response=raw_response)\nFile \"/usr/local/lib/python2.7/dist-packages/dropbox-1.4-py2.7.egg/dropbox/rest.py\", line 64, in request\n  conn = ProperHTTPSConnection(host, 443)\nFile \"/usr/local/lib/python2.7/dist-packages/dropbox-1.4-py2.7.egg/dropbox/rest.py\", line 214, in __init__\n  self.cert_reqs = ssl.CERT_REQUIRED\nAttributeError: 'module' object has no attribute 'CERT_REQUIRED'\n</code></pre>\n\n<p>I had tried using this code before, and I didn't experience this problem. I have also removed the Dropbox SDK and reinstalled it, with no result. What is causing this problem, and how can I fix it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After adding Kannan's code, the output looks like this:\n    <code>Ready</code>\n     <code>Generating session</code>\n<code>Session Generated!</code>\n<code>Generating request token</code>\n<code>['Certificate', 'CertificateOptions', 'CertificateRequest', 'Client', 'ClientContextFactory', 'Connector', 'ContextFactory', 'DN', 'DefaultOpenSSLContextFactory', 'DistinguishedName', 'KeyPair', 'Port', 'PrivateCertificate', 'SSL', 'Server', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '__package__', 'implementedBy', 'implements', 'implementsOnly', 'interfaces', 'supported', 'tcp']</code>\nThen I get the error. I have tried re-created my SSL certificates with no luck.</p>\n"},{"tags":["python","fortran","ordering","pycuda","cula"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13252593,"title":"python and fortran ordering make trouble","body":"<p>I am using one python library which is a wrapped of a cuda library. This library store the matrices col-major in memory so when I am calling one function and getting back the result my answer is wrong.For example instead of :</p>\n\n<blockquote>\n  <p>[[-0.38764932  0.1408183  -0.24391053 -0.20077137]</p>\n  \n  <p>[-0.44930551  0.77030394 -0.05028782 -0.21411045]</p>\n  \n  <p>[-0.44013192 -0.50011465 -0.65923749 -0.10926226]</p>\n  \n  <p>[-0.11932364 -0.29815135  0.47275608 -0.81822219]</p>\n  \n  <p>[ 0.66324832  0.21861646 -0.52904292 -0.48210141]]</p>\n</blockquote>\n\n<p>I am getting :</p>\n\n<blockquote>\n  <p>[[-0.24959256 -0.50550108 -0.48640173 -0.1275829 ]</p>\n  \n  <p>[ 0.65521613  0.1408183   0.77030394 -0.50011465]</p>\n  \n  <p>[-0.29815135  0.21861646 -0.24391053 -0.05028782]</p>\n  \n  <p>[-0.65923749  0.47275608 -0.52904292 -0.20077137]</p>\n  \n  <p>[-0.21411045 -0.10926226 -0.81822219 -0.48210141]]</p>\n</blockquote>\n\n<p>if you just look at the last column of first matrix and last row of second one you see what I mean! I tried different stuff like <code>numpy.asfortranarray</code>  but no success!</p>\n\n<p>I appreciate any help!</p>\n\n<p><strong>update :</strong></p>\n\n<p>to adding some code this is what I am trying to do:</p>\n\n<p>I need one positive definite matrix and want to find k-largest  eigenvalues and corresponding vector. There is already one <strong>scipy</strong> function that which is <code>scipy.linalg.eigh()</code> :</p>\n\n<pre><code>def largest_cpu(k_,lo,hi):\n\n    w,v=spla.eigh(k_,eigvals=(lo,hi))\n\n    print v\n\n    return\n</code></pre>\n\n<p>which gives me the first result.</p>\n\n<p>now , I am using the Cuda library (CULA) to calculate the same thing:</p>\n\n<pre><code>def largest_gpu(k_,il,iu):\n\n#    k_gpu=cula.cula_gpuarray_like(k_)\n\n\n\n    k_gpu=cula.cula_gpuarray_like(k_)\n    uplo='L'\n    evrange='I'\n    abstol=(2.2204460492503131e-16)*2\n    lda=cula.get_lda(k)\n    jobz = 'V'\n    w = np.zeros(n,dtype=k_gpu.dtype,order='F')\n    w_gpu=cula.cula_gpuarray_like(w)\n    il=il\n    iu=iu\n    vl=0\n    vu=0\n\n\n\n    m=ctypes.c_int(iu-il+1)\n\n    z = np.zeros((lda,max(1,m.value)),dtype=k_gpu.dtype,order='F')\n    z_gpu = cula.cula_gpuarray_like(z)\n\n    ldz=cula.get_lda(z)\n    ifail=ctypes.c_int()\n\n#    calculating time and calling the function \n\n  cula.culaDeviceDsyevx(jobz,evrange,uplo,n,k_gpu,lda,vl,vu,il,iu,abstol,m,w_gpu,z_gpu,ldz,ifail)\n\nprint z_gpu\n\n\n\nreturn\n</code></pre>\n\n<p>which gives the second result\nand this is manual of this library <a href=\"http://www.hpc-sol.co.jp/products/cula/doc/CULA_dense_R15/CULAReferenceManual_R15.pdf\" rel=\"nofollow\">here</a>.just search for culaDeviceDsyevx.</p>\n"},{"tags":["python","list-comprehension"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":13254241,"title":"Removing key values pairs from a list of dictionaries","body":"<p>I have a list of dictionaries such as:</p>\n\n<pre><code>[{'mykey1':'myvalue1', 'mykey2':'myvalue2'}, {'mykey1':'myvalue1a', 'mykey2':'myvalue2a'}]\n</code></pre>\n\n<p>I need to remove all key values pairs from all dictionaries where the key is equal to mykey1.  I could do this by looping through and using the del statement, but I am wondering how I would create a new list using list comprehensions or lambdas which would just remove all key value pairs where the key was mykey1.</p>\n\n<p>Many thanks </p>\n"},{"tags":["python","django","apache","mod-wsgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":264,"score":0,"question_id":12099004,"title":"Django, mod_wsgi, Apache: Internal server error","body":"<p>I have configured Django 1.4 with mod_wsgi 2.0 and apache 2.2.3 in a Redhat server.\nBut when I try to access the server I get the following error: \n\"ERROR 500: Internal Server Error.\"</p>\n\n<pre><code>[root@lts5srv1 hardi]# wget mritest.domain.ch\n--2012-08-23 21:51:27--  http://mritest.domain.ch/\nResolving mritest.domain.ch... 127.0.0.1\nConnecting to mritest.domain.ch|127.0.0.1|:80... connected.\nHTTP request sent, awaiting response... 500 Internal Server Error\n2012-08-23 21:51:27 ERROR 500: Internal Server Error.\n</code></pre>\n\n<p>So I have the connection, but I don't get any valid response.\nDoes it depends on the django version, should I make the deployment with Django 1.3 ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Apache error log:</p>\n\n<pre><code>[Thu Aug 23 22:34:04 2012] [error] [client 127.0.0.1] mod_wsgi (pid=7835): Exception occurred processing WSGI script '/home/django_www/hello/apache/django.wsgi'.\n[Thu Aug 23 22:34:04 2012] [error] Traceback (most recent call last):\n[Thu Aug 23 22:34:04 2012] [error] File \"/home/django_www/hello/apache/django.wsgi\", line 1, in &lt;module&gt; [Thu Aug 23 22:34:04 2012] [error] import os\n[Thu Aug 23 22:34:04 2012] [error] ImportError: No module named os\"\n</code></pre>\n"},{"tags":["python","sqlalchemy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13254560,"title":"Is it possible to use SQLAlchemy without installing it?","body":"<p>For some reason, my ISP offers Python, and MySql, without having a MySql library installed. They have Django, but I'm not looking to use a full blown framework as yet.</p>\n\n<p>So, what I'm looking for is a library that will allow me access to MySql, but without the need to actually install the library. ie use some kind of local copy and import from there.</p>\n\n<p>SQLAlchemy appears to be the 'main' one to use, but I couldn't see any way to use it without installing first. </p>\n\n<p>Is it possible to use it 'raw'?</p>\n\n<p>If not, is there any other library that will allow me to use it without installing to access MySql?</p>\n"},{"tags":["python","django","django-templates"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13254113,"title":"Distinguish a user depending on which page he comes from. Django","body":"<p>I would like to know if there is a way to differentiate a user depending on which page he comes from.</p>\n\n<p>In my template, I would like to display something only if the user comes from a specific view (I wan't to display the same page I display for the others users, but adding a popup telling him something).</p>\n\n<p>Is there a way to do that?</p>\n\n<p>Thank you for your help</p>\n"},{"tags":["python","google-app-engine","ide"],"answer_count":6,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1532,"score":8,"question_id":3333544,"title":"Is there an online IDE for Google App Engine?","body":"<p>I am learning Google App Engine / Python and I love it. Unfortunately I am not allowed to use my own computer in the office and not allowed to install anything on the corporate machine.</p>\n\n<p>It would be so great to have an online IDE for Google App Engine where I could play with my Python code using any browser, including the one on my iPad.</p>\n\n<p>Maybe <a href=\"http://www.devunity.com/\" rel=\"nofollow\">http://www.devunity.com/</a> will be an online IDE for GAE some day. Do you know any existing way to program GAE in a browser?</p>\n"},{"tags":["python","smb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13252443,"title":"pySMB Windows File Share Buffer Overflow","body":"<p>Hi I have been stuck on an error in python using the <a href=\"http://packages.python.org/pysmb/\" rel=\"nofollow\">pySMB</a> module.</p>\n\n<p>While making a script for myself I ran in to some trouble with trying to connect to a Network share. Here is the Python Code</p>\n\n<pre><code> from smb.SMBConnection import SMBConnection\n\n server_name = 'Server'\n client_name = 'My Computer'\n s = SMBConnection('guest', '', client_name, server_name, use_ntlm_v2 = True)\n s.connect('192.168.1.35', 139)\n\n print s.listShares()\n</code></pre>\n\n<p>So what happens is if this script is ran from a Windows Computer it works fine with either Linux Servers or Windows Servers. The Error I get is when i run the script in linux trying to Connect to a Share to a Windows Server.\n<img src=\"http://i.stack.imgur.com/V86Ep.png\" alt=\"Wireshark Capture\"></p>\n\n<p>Here is the Error in Python</p>\n\n<pre><code>File \"/media/HP v125w/programing/server_index.py\", line 10, in list_shares\n    return [shares.name for shares in connection.listShares() if not shares.isSpecial and not shares.name == 'print$']\n  File \"/usr/local/lib/python2.7/dist-packages/smb/SMBConnection.py\", line 134, in listShares\n    self._pollForNetBIOSPacket(timeout)\n  File \"/usr/local/lib/python2.7/dist-packages/smb/SMBConnection.py\", line 477, in _pollForNetBIOSPacket\n    self.feedData(data)\n  File \"/usr/local/lib/python2.7/dist-packages/nmb/base.py\", line 48, in feedData\n    self._processNMBSessionPacket(self.data_nmb)\n  File \"/usr/local/lib/python2.7/dist-packages/nmb/base.py\", line 78, in _processNMBSessionPacket\n    self.onNMBSessionMessage(packet.flags, packet.data)\n  File \"/usr/local/lib/python2.7/dist-packages/smb/base.py\", line 136, in onNMBSessionMessage\n    if self._updateState(self.smb_message):\n  File \"/usr/local/lib/python2.7/dist-packages/smb/base.py\", line 265, in _updateState_SMB2\n    req.callback(message, **req.kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/smb/base.py\", line 475, in closeCB\n    errback(OperationFailure(kwargs['error'], messages_history))\n  File \"/usr/local/lib/python2.7/dist-packages/smb/SMBConnection.py\", line 128, in eb\n    raise failure\nsmb.smb_structs.OperationFailure: Failed to list shares: Unable to retrieve shared device list\n==================== SMB Message 0 ====================\nSMB Header:\n-----------\nCommand: 0x03 (SMB2_COM_TREE_CONNECT) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 3 \nTID: 0 \nData: 40 bytes \n09000000480020005c005c004800590050004e004f0054004f00410044005c004900500043002400 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000003000000000000000000000003000000000000003f110000000000007d00004c050400000000000000000000000000000000000009000000480020005c005c004800590050004e004f0054004f00410044005c004900500043002400\n==================== SMB Message 1 ====================\nSMB Header:\n-----------\nCommand: 0x03 (SMB2_COM_TREE_CONNECT) \nStatus: 0x00000000 \nFlags: 0x01 \nPID: 4415 \nMID: 3 \nTID: 1 \nData: 16 bytes \n100002003000000000000000ff011f00 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000003000100010000000000000003000000000000003f110000010000007d00004c0504000000000000000000000000000000000000100002003000000000000000ff011f00\n==================== SMB Message 2 ====================\nSMB Header:\n-----------\nCommand: 0x05 (SMB2_COM_CREATE) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 4 \nTID: 1 \nData: 68 bytes \n3900000002000000000000000000000000000000000000009f0112000000000007000000010000004000400078000c000000000000000000730072007600730076006300 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000005000000000000000000000004000000000000003f110000010000007d00004c05040000000000000000000000000000000000003900000002000000000000000000000000000000000000009f0112000000000007000000010000004000400078000c000000000000000000730072007600730076006300\n==================== SMB Message 3 ====================\nSMB Header:\n-----------\nCommand: 0x05 (SMB2_COM_CREATE) \nStatus: 0x00000000 \nFlags: 0x01 \nPID: 4415 \nMID: 4 \nTID: 1 \nData: 88 bytes \n5900000001000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000800000007600730001ac03001002000001000000ffffffff0000000000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000005000100010000000000000004000000000000003f110000010000007d00004c05040000000000000000000000000000000000005900000001000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000800000007600730001ac03001002000001000000ffffffff0000000000000000\n==================== SMB Message 4 ====================\nSMB Header:\n-----------\nCommand: 0x09 (SMB2_COM_WRITE) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 5 \nTID: 1 \nData: 164 bytes \n3100700074000000000000000000000001ac03001002000001000000ffffffff0000000000000000000000000000000005000b03100000007400000002000000b810b810000000000200000000000100c84f324b7016d30112785a47bf6ee18803000000045d888aeb1cc9119fe808002b1048600200000001000100c84f324b7016d30112785a47bf6ee188030000002c1cb76c12984045030000000000000001000000 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000009000000000000000000000005000000000000003f110000010000007d00004c05040000000000000000000000000000000000003100700074000000000000000000000001ac03001002000001000000ffffffff0000000000000000000000000000000005000b03100000007400000002000000b810b810000000000200000000000100c84f324b7016d30112785a47bf6ee18803000000045d888aeb1cc9119fe808002b1048600200000001000100c84f324b7016d30112785a47bf6ee188030000002c1cb76c12984045030000000000000001000000\n==================== SMB Message 5 ====================\nSMB Header:\n-----------\nCommand: 0x09 (SMB2_COM_WRITE) \nStatus: 0x00000000 \nFlags: 0x01 \nPID: 4415 \nMID: 5 \nTID: 1 \nData: 16 bytes \n11000000740000000000000000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000009000100010000000000000005000000000000003f110000010000007d00004c050400000000000000000000000000000000000011000000740000000000000000000000\n==================== SMB Message 6 ====================\nSMB Header:\n-----------\nCommand: 0x08 (SMB2_COM_READ) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 6 \nTID: 1 \nData: 49 bytes \n3100000000040000000000000000000001ac03001002000001000000ffffffff0000000000000000000000000000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000008000000000000000000000006000000000000003f110000010000007d00004c05040000000000000000000000000000000000003100000000040000000000000000000001ac03001002000001000000ffffffff0000000000000000000000000000000000\n==================== SMB Message 7 ====================\nSMB Header:\n-----------\nCommand: 0x08 (SMB2_COM_READ) \nStatus: 0x00000000 \nFlags: 0x01 \nPID: 4415 \nMID: 6 \nTID: 1 \nData: 108 bytes \n110050005c000000000000000000000005000c03100000005c00000002000000b810b810580a01000d005c504950455c73727673766300f60200000000000000045d888aeb1cc9119fe808002b10486002000000030003000000000000000000000000000000000000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000008000100010000000000000006000000000000003f110000010000007d00004c0504000000000000000000000000000000000000110050005c000000000000000000000005000c03100000005c00000002000000b810b810580a01000d005c504950455c73727673766300f60200000000000000045d888aeb1cc9119fe808002b10486002000000030003000000000000000000000000000000000000000000\n==================== SMB Message 8 ====================\nSMB Header:\n-----------\nCommand: 0x0B (SMB2_COM_IOCTL) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 7 \nTID: 1 \nData: 152 bytes \n3900000017c0110001ac03001002000001000000ffffffff7800000060000000000000000000000000000000000400000100000000000000050000031000000060000000030000004c00000000000f00000002000c000000000000000c0000005c005c004800590050004e004f0054004f004100440000000100000001000000040002000000000000000000ffffffff0800020000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d4240000000000000000b000000000000000000000007000000000000003f110000010000007d00004c05040000000000000000000000000000000000003900000017c0110001ac03001002000001000000ffffffff7800000060000000000000000000000000000000000400000100000000000000050000031000000060000000030000004c00000000000f00000002000c000000000000000c0000005c005c004800590050004e004f0054004f004100440000000100000001000000040002000000000000000000ffffffff0800020000000000\n==================== SMB Message 9 ====================\nSMB Header:\n-----------\nCommand: 0x0B (SMB2_COM_IOCTL) \nStatus: 0x80000005 \nFlags: 0x01 \nPID: 4415 \nMID: 7 \nTID: 1 \nData: 1072 bytes \n3100000017c0110001ac03001002000001000000ffffffff70000000000000007000000000040000000000000000000005000203100000000405000003000000ec0400000000000001000000010000000000020013000000040002001300000008000200000000800c00020010000200000000001400020018000200000000001c00020020000200000000802400020028000200000000002c00020030000200000000803400020038000200000000003c00020040000200000000004400020048000200000000004c00020050000200030000805400020058000200000000005c00020060000200000000006400020068000200000000006c00020070000200000000007400020078000200000000007c00020080000200000000008400020088000200000000008c00020090000200000000009400020098000200000000009c000200070000000000000007000000410044004d0049004e002400000000000d000000000000000d000000520065006d006f00740065002000410064006d0069006e000000000006000000000000000600000041006e0069006d00650000000100000000000000010000000000000018000000000000001800000042006f006f006b0073002000280041007500640069006f002000260020005700720069007400740065006e00290000000100000000000000010000000000000003000000000000000300000043002400000000000e000000000000000e000000440065006600610075006c007400200073006800610072006500000012000000000000001200000043006900760069006c00200045006e00670069006e0065006500720069006e00670000000100000000000000010000000000000003000000000000000300000044002400000000000e000000000000000e000000440065006600610075006c0074002000730068006100720065000000060000000000000006000000470061006d00650073000000010000000000000001000000000000000a000000000000000a0000004800440020004d006f0076006900650073000000010000000000000001000000000000000b000000000000000b00000048004400540056002000530068006f007700730000000000010000000000000001000000000000000500000000000000050000004900500043002400000000000b000000000000000b000000520065006d006f00740065002000490050004300000000000700000000000000070000004d006f00760069006500730000000000010000000000000001000000000000000600000000000000060000004d0075007300690063000000010000000000000001000000000000000700000000000000070000005000750062006c006900630000000000010000000000000001000000000000000f000000000000000f0000005000750062006c00690063002000550070006c006f00610064007300000000000100000000000000 \nSMB Data Packet (hex):\n----------------------\nfe534d4240000000050000800b000100010000000000000007000000000000003f110000010000007d00004c05040000000000000000000000000000000000003100000017c0110001ac03001002000001000000ffffffff70000000000000007000000000040000000000000000000005000203100000000405000003000000ec0400000000000001000000010000000000020013000000040002001300000008000200000000800c00020010000200000000001400020018000200000000001c00020020000200000000802400020028000200000000002c00020030000200000000803400020038000200000000003c00020040000200000000004400020048000200000000004c00020050000200030000805400020058000200000000005c00020060000200000000006400020068000200000000006c00020070000200000000007400020078000200000000007c00020080000200000000008400020088000200000000008c00020090000200000000009400020098000200000000009c000200070000000000000007000000410044004d0049004e002400000000000d000000000000000d000000520065006d006f00740065002000410064006d0069006e000000000006000000000000000600000041006e0069006d00650000000100000000000000010000000000000018000000000000001800000042006f006f006b0073002000280041007500640069006f002000260020005700720069007400740065006e00290000000100000000000000010000000000000003000000000000000300000043002400000000000e000000000000000e000000440065006600610075006c007400200073006800610072006500000012000000000000001200000043006900760069006c00200045006e00670069006e0065006500720069006e00670000000100000000000000010000000000000003000000000000000300000044002400000000000e000000000000000e000000440065006600610075006c0074002000730068006100720065000000060000000000000006000000470061006d00650073000000010000000000000001000000000000000a000000000000000a0000004800440020004d006f0076006900650073000000010000000000000001000000000000000b000000000000000b00000048004400540056002000530068006f007700730000000000010000000000000001000000000000000500000000000000050000004900500043002400000000000b000000000000000b000000520065006d006f00740065002000490050004300000000000700000000000000070000004d006f00760069006500730000000000010000000000000001000000000000000600000000000000060000004d0075007300690063000000010000000000000001000000000000000700000000000000070000005000750062006c006900630000000000010000000000000001000000000000000f000000000000000f0000005000750062006c00690063002000550070006c006f00610064007300000000000100000000000000\n==================== SMB Message 10 ====================\nSMB Header:\n-----------\nCommand: 0x06 (SMB2_COM_CLOSE) \nStatus: 0x00000000 \nFlags: 0x00 \nPID: 4415 \nMID: 8 \nTID: 1 \nData: 24 bytes \n180000000000000001ac03001002000001000000ffffffff \nSMB Data Packet (hex):\n----------------------\nfe534d42400000000000000006000000000000000000000008000000000000003f110000010000007d00004c0504000000000000000000000000000000000000180000000000000001ac03001002000001000000ffffffff\n\n[Finished in 0.2s with exit code 1]\n</code></pre>\n\n<p>What is going wrong and how can I fix it?</p>\n"},{"tags":["android","python","opencv","stream"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":13240868,"title":"Live stream in openCv using Android IP Camera (python)","body":"<p>I want to make a live stream in openCv using Android IP Camera, I have been trying with this code, but it doesn't work.\nWhat should I change in this code?</p>\n\n<pre><code>camera=cv.CaptureFromFile(\"http://192.168.0.10:8080/videofeed\")\nwhile True :\n  img =cv.QueryFrame(camera)\n  cv.ShowImage('Video',img)\n  if cv.WaitKey(0):\n    break   \ncv.ReleaseCapture(camera)\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13253792,"title":"list of class objects (birds). each bird has a color. how do I most efficiently get a set of all colors?","body":"<p>I have a list of class objects, say birds. Each bird has a color. I want to easily get a set of bird colors from this list of birds. What is the quickest, most efficient way to do this?</p>\n"},{"tags":["python","networking","pycurl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13012823,"title":"pycurl CONNECT_TIME on windows","body":"<p>I am using windows with pycurl, I am having an issue with timings when returning the CONNECT_TIME where by timings are not accurate.</p>\n\n<p>Is there a way to make the connect_time in windows more accurate when using pycurl.</p>\n\n<p>At the moment I am using the following.</p>\n\n<pre><code>stats['connection_time'] = self.getinfo(CONNECT_TIME)\n</code></pre>\n\n<p>If I were to use the time.clock() methods around the code then this will not return the connection time but rather the total_time which is a deterrent metric.</p>\n"},{"tags":["python","mongodb"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":63,"score":2,"question_id":13253759,"title":"Why do i get this Python indentation error?","body":"<p>I have a indentation error in Python and i dont know why and how to resolve it.</p>\n\n<p>I looked for special characters that i might have missed, but none found;</p>\n\n<p>Why do i get this error ?</p>\n\n<pre><code>user = {'_id':username}\n\nusers.find_one(user)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/cr5Ed.png\" alt=\"enter image description here\"></p>\n\n<p>IN CONCLUSSION : NEVER MIX TABS WITH SPACES!</p>\n"},{"tags":["python","io-redirection"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13250050,"title":"Redirecting the output of a python function from STDOUT to variable in Python","body":"<p>This is what I am trying to achieve</p>\n\n<pre>\n<code>\ndef fun():\n    runner = InteractiveConsole()\n    while(True):\n        code = raw_input()\n        code.rstrip('\\n')\n        # I want to achieve the following\n        # By default the output and error of the 'code' is sent to STDOUT and STDERR\n        # I want to obtain the output in two variables out and err\n        out,err = runner.push(code)\n</code>\n</pre>\n\n<p>All the solution that I have looked at till now, use either pipes to issue separate script execution command (which is not possible in my case). Any other way I can achieve this?</p>\n"},{"tags":["python","tkinter","pil"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13253617,"title":"PIL loading jpg","body":"<p>I'm using PIL to load a jpg file and display it in a label widget. At first, I got \"decoding error\" from python and found this post on stack overflow - <a href=\"http://stackoverflow.com/questions/9070074/how-to-install-pil-on-mac-os-x-10-7-2-lion\">how to install PIL on mac os x 10.7.2 Lion</a> - and it's resolved the decoding error. However, the label doesn't display any image, just a white area. This is the code for loading image -</p>\n\n<pre><code>    script, file = argv \n    self.orgimg = Image.open(file)\n\n    #Original Image\n    img = ImageTk.PhotoImage(self.orgimg)\n    Label(self.root, image=img).grid(row=0,column=0,padx=5,pady=5)\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":549,"score":7,"question_id":6719309,"title":"Python distributions and environments for scientific computing","body":"<p>I apologize upfront if this question is too broad. I come from the MATLAB world and have relatively little experience with Python. </p>\n\n<p>After having spent some time reading about several Python-based environments and distributions for scientific computing, I feel that I still don't fully understand the landscape of solutions or the precise relationship between some notable packages, including: </p>\n\n<ul>\n<li><a href=\"http://www.scipy.org/\" rel=\"nofollow\">SciPy</a> </li>\n<li><a href=\"http://code.google.com/p/spyderlib/\" rel=\"nofollow\">Spyderlib</a> </li>\n<li><a href=\"http://www.pythonxy.com/\" rel=\"nofollow\">Pythonxy</a></li>\n<li><a href=\"http://www.enthought.com/products/epd.php\" rel=\"nofollow\">Enthought Python Distribution</a></li>\n<li><a href=\"http://www.sagemath.org/\" rel=\"nofollow\">Sage</a></li>\n</ul>\n\n<p>More specifically:</p>\n\n<ul>\n<li>Do any of the above packages provide similar functionality? Do they complement each other?</li>\n<li>Does the installation of any of them include or require the installation of any of the \nothers? If so, which ones include or require which?</li>\n</ul>\n\n<p>Less importantly, are there any other packages similar to the ones above that provide similar functionality? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","google-app-engine","web","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":279,"score":1,"question_id":8451914,"title":"webapp2 route fails","body":"<p>so I'm building my new website using app-engine with python and webapp2\nI'm having hard times to define the URIs in my web application</p>\n\n<p>the result I need is:</p>\n\n<pre><code>http://www.example.com/\nhttp://www.example.com/products/\nhttp://www.example.com/products/table\n</code></pre>\n\n<p>I thought it's an easy task, but apparently it is not (for me, anyway)</p>\n\n<p>I'm getting 404 error when I'm trying to load something like that:\n<a href=\"http://www.example.com/products/chair/\" rel=\"nofollow\">http://www.example.com/products/chair/</a></p>\n\n<p>where is my mistake?\nthanks in advanced :)</p>\n\n<pre><code>app = webapp2.WSGIApplication([\nwebapp2.Route('/', MainPage),\nwebapp2.Route('/products/', handler=MainProductsHandler),\nwebapp2.Route('/products/(\\w+)/', handler=ProductHandler)\n],debug=True)\n</code></pre>\n"},{"tags":["python","performance","path","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13252980,"title":"Common pathname manipulations to save in a specific directory a file","body":"<p>I am writing a function where I read <code>inFile</code> in order to split it into two files (outFile1,outFile2).</p>\n\n<p>What I want is if <code>outFile1</code> and/or <code>outFile2</code> are specified without pathname directory (ex: <code>outFile1=\"result1.txt\"</code> and <code>outFile2=\"result2.txt\"</code>) both files are saved in the same directory as <code>inFile</code> (ex: inFile=\"C:\\mydata\\myfile.txt\"). If the  pathname directory for the output files is present, I wish to save the results in that directory.  </p>\n\n<p>when I don't report the the <code>outFile</code> pathname directory, the files are saved in the same directory as my python script.</p>\n\n<pre><code>def LAS2LASDivide(inFile,outFile1,outFile2,Parse,NumVal):\n    inFile_path, inFile_name_ext = os.path.split(os.path.abspath(inFile))\n    outFile1_path, outFile1_name_ext = os.path.split(os.path.abspath(outFile1))\n    outFile2_path, outFile2_name_ext = os.path.split(os.path.abspath(outFile2))\n    outFile1_name = os.path.splitext(outFile1_name_ext)[0]\n    outFile2_name = os.path.splitext(outFile2_name_ext)[0]\n</code></pre>\n\n<p>example</p>\n\n<pre><code>inFile=\"C:\\\\mydoc\\\\Area_18.las\"\noutFile1=\"Area_18_overlap.las\"\noutFile2=\"Area_18_clean.las\"\n\ninFile_path, inFile_name_ext = os.path.split(os.path.abspath(inFile))\ninFile_path, inFile_name_ext\n('C:\\\\mydoc', 'Area_18.las')\n\noutFile1_path, outFile1_name_ext = os.path.split(os.path.abspath(outFile1))\noutFile1_path, outFile1_name_ext \n('C:\\\\Program Files\\\\PyScripter', 'Area_18_overlap.las')\n</code></pre>\n\n<p>this is all my code (tested) modify with the suggestion of mgilson</p>\n\n<pre><code>import os\nfrom os import path\nfrom liblas import file as lasfile\n\n\ndef LAS2LASDivide(inFile,outFile1,outFile2,Parse,NumVal):\n    inFile_path, inFile_name_ext = os.path.split(os.path.abspath(inFile))\n    outFile1_path, outFile1_name_ext = os.path.split(os.path.abspath(outFile1))\n    outFile2_path, outFile2_name_ext = os.path.split(os.path.abspath(outFile2))\n    outFile1_name = os.path.splitext(outFile1_name_ext)[0]\n    outFile2_name = os.path.splitext(outFile2_name_ext)[0]\n    if outFile1_name != outFile2_name:\n        # function pesudo_switch\n        def pseudo_switch(x):\n            return {\n                \"i\": p.intensity,\n                \"r\": p.return_number,\n                \"n\": p.number_of_returns,\n                \"s\": p.scan_direction,\n                \"e\": p.flightline_edge,\n                \"c\": p.classification,\n                \"a\": p.scan_angle,\n            }[x]\n        h = lasfile.File(inFile,None,'r').header\n        # change the software id to libLAS\n        h.software_id = \"alessandro.montaghi@gmail.com\"\n        if not os.path.split(outFile1)[0]:\n            file_out1 = lasfile.File(os.path.abspath(\"{0}\\\\{1}.las\".format(inFile_path,outFile1_name)),mode='w',header= h)\n        else:\n            file_out1 = lasfile.File(os.path.abspath(\"{0}\\\\{1}.las\".format(outFile1_path,outFile1_name)),mode='w',header= h)\n        if not os.path.split(outFile2)[0]:\n            file_out2 = lasfile.File(os.path.abspath(\"{0}\\\\{1}.las\".format(inFile_path,outFile2_name)),mode='w',header= h)\n        else:\n            file_out2 = lasfile.File(os.path.abspath(\"{0}\\\\{1}.las\".format(outFile2_path,outFile2_name)),mode='w',header= h)\n        for p in lasfile.File(inFile,None,'r'):\n            if pseudo_switch(Parse) == int(NumVal):\n                file_out1.write(p)\n            elif pseudo_switch(Parse) != int(NumVal):\n                file_out2.write(p)\n        file_out1.close()\n        file_out2.close()\n    else:\n        print \"outFile1 and outFile2 cannot have the same name\"\n</code></pre>\n"},{"tags":["python","math","numpy","matplotlib","fft"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13253576,"title":"Calculating Area Under Individual Peaks in Python After FFT","body":"<p>I've generated a graph of a FFT, with a number of individual peaks, in Python 2.7.3. </p>\n\n<p><img src=\"http://i.stack.imgur.com/FXqSV.png\" alt=\"http://imgur.com/O9E0e\"></p>\n\n<p>I understand that to calculate the area under the whole graph, I can either sum the values or use trapz, but I'm struggling when trying to restrict these calculations to a single region. For example, I'd like to calculate just the area between 105 and 120Hz, or between 145 and 155Hz.</p>\n\n<p>If it helps, the code to generate this graph is:</p>\n\n<pre><code>x=arange(0,15,0.01)\n\ny=exp(-0.3*x)*exp(x*pi*20j)+exp(-0.9*x)*exp(x*pi*25j)+exp(-0.9*x)*exp(x*pi*15j)\n\nfft(y)\nplot(fft(y))\nxlabel('frequency (Hz)')\nshow()\n</code></pre>\n\n<p>I'm sure I'm probably just missing something relatively simple, but as a complete novice of programming I'd appreciate any help you can provide and a brief search of SO didn't provide any answers. Thanks.</p>\n"},{"tags":["python","sqlite","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":9,"score":0,"question_id":13253519,"title":"How to get value from Cursor execution result Python","body":"<p>I have a sqllite database in which the field dad_mmsi is created without a type:</p>\n\n<pre><code>c.execute('''CREATE TABLE IF NOT EXISTS AIS_anoniem\n             (dad_mmsi, dad_navstatus......)'''')\n</code></pre>\n\n<p>when i fetch the top result;</p>\n\n<pre><code>c.execute('SELECT DISTINCT dad_mmsi FROM AIS')\nprint c.fetchall()[0]\n</code></pre>\n\n<p>it prints: </p>\n\n<pre><code>(u'456000001',)\n</code></pre>\n\n<p>which is not the same as what i put in, because it is converted to a tuple. </p>\n\n<p>EDIT: since it is a tuple i need to access the index of the value i want:</p>\n\n<pre><code> print c.fetchall()[0][0] == '456000001'\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code> 'true' \n</code></pre>\n"},{"tags":["python","api","google","oauth","reporting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13253528,"title":"Is it possible to use OAUTH 2 with the Google Reporting API?","body":"<p>I am currently using OAuth 1 for auth with the Reporting API with GData and Python.  Is it possible to use OAuth 2, I can't find a reference that this is doable?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":5,"view_count":62,"score":-3,"question_id":13251717,"title":"Program doesn't produce any error or output","body":"<p>I have the following Python program:</p>\n\n<pre><code> import xml.etree.ElementTree as ET\n    import sys   \n\n    class MyXmlParser(object):\n\n        def __init__(self, users):\n            self.doc  = ET.parse(\"users.xml\")\n            self.root = self.doc.getroot()\n\n        def do_something(self, output = sys.stdout):\n            root_new  = ET.Element(\"users\") \n            for child in self.root:\n                username             = child.attrib['username']\n                password             = child.attrib['password']   \n                # create \"user\" here\n                user    = ET.SubElement(root_new, \"user\") \n                user.set(\"username\",username)               \n                user.set(\"password\",password) \n                # checking attribute - skip KeyError\n                try:\n                    remote_access   = child.attrib['remote_access']\n                    user.set(\"remote_access\", remote_access) \n                except KeyError:\n                    pass\n\n                for g in child.findall(\"group\"):\n                    # create \"group\" here\n                    group     = ET.SubElement(user,\"group\")  \n                    if g.text != \"lion\":\n                        group.text = g.text \n            tree = ET.ElementTree(root_new)\n            tree.write(output)\nif __name__ =='main':\n    parser = MyXmlParser()\n    parser.do_something()\n</code></pre>\n\n<p>And this is my xml :</p>\n\n<pre><code>&lt;users&gt;\n&lt;user username=\"admin\"  password=\"admin\" remote_access=\"yes\"&gt;&lt;/user&gt;\n&lt;user username=\"private_user1\" password=\"user1\" &gt;&lt;group&gt;group1&lt;/group&gt;&lt;group&gt;group2&lt;/group&gt;&lt;/user&gt;\n&lt;user username=\"private_user2\" fullname=\"user2\" password=\"user2\"&gt;&lt;group&gt;group1&lt;/group&gt;&lt;group&gt;group2&lt;/group&gt;&lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>I can't find any mistake in this program. It should output some xml. But presently it's not giving any error or output. I expected some xml as output :( Thanks in advance</p>\n"},{"tags":["python","numpy"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":13252781,"title":"Concatenate all rows of a numpy matrix in python","body":"<p>I have a numpy matrix and would like to concatenate all of the rows together so I end up with one long array.</p>\n\n<pre><code>#example\n\ninput:\n[[1 2 3]\n [4 5 6}\n [7 8 9]]\n\noutput:\n[[1 2 3 4 5 6 7 8 9]]\n</code></pre>\n\n<p>The way I am doing it now doe not seem pythonic.  I'm sure there is a better way.</p>\n\n<pre><code>combined_x = x[0] \nfor index, row in enumerate(x):\n    if index!= 0:\n        combined_x = np.concatenate((combined_x,x[index]),axis=1)\n</code></pre>\n\n<p>Thank you for the help.</p>\n"},{"tags":["python","django","django-models","django-orm"],"answer_count":3,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":158,"score":6,"question_id":13138685,"title":"Django cross table model structure","body":"<p>I have a <em>System</em> model, and an <em>Interface</em> model. An Interface is the combination between two systems. Before, this interface was represented as an Excel sheet (cross table). Now I'd like to store it in a database.</p>\n\n<p>I tried creation an Interface model, with two foreign keys to System. This doesn't work because :</p>\n\n<ul>\n<li>It creates two different reverse relationships on the target model</li>\n<li>It doesn't avoid having duplicates (first and second rel swapped)</li>\n</ul>\n\n<p>I used this code :</p>\n\n<pre><code>class SystemInterface(Interface):\n    assigned_to = models.ManyToManyField(User)\n    first_system = models.ForeignKey(System)\n    second_system = models.ForeignKey(System)\n</code></pre>\n\n<p>Isn't there a better way to do this ?   </p>\n\n<p>I'd need to have symmetrical relations : it should'nt matter is a System is the \"first\" or \"second\" in an Interface.</p>\n"},{"tags":["python","sympy"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13245596,"title":"import sympy doesn't work","body":"<p>I can import sympy fine in the terminal but once I save it as a .py file and run it, it gives me the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/Users/Dao/Desktop/sympy.py\", line 3, in &lt;module&gt;\n    from sympy import Symbol\nFile \"/Users/Dao/Desktop/sympy.py\", line 3, in &lt;module&gt;\n    from sympy import Symbol\nImportError: cannot import name Symbol\n[Finished in 0.0s with exit code 1]\n</code></pre>\n\n<p>I'm a little confused as why this is happening... Any idea? </p>\n\n<p>Thank you!</p>\n"},{"tags":["python","descriptor"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12709194,"title":"The proper way of completely overriding attribute access in Python?","body":"<p>This naive class attempts to mimic the attribute access of basic python objects. <code>dict</code> and <code>cls</code> explicitly stores the attributes and the class. The effect is that accessing <code>.x</code> of an instance will return <code>dict[x]</code>, or if that fails, <code>cls.x</code>. Just like normal objects.</p>\n\n<pre><code>class Instance(object):\n    __slots__ = [\"dict\", \"cls\"]\n    def __getattribute__(self, key):\n        try:\n            return self.dict[key]\n        except KeyError:\n            return getattr(self.cls, key)\n    def __setattr__(self, key, value):\n        if key == \"__class__\":\n            self.cls = value\n        else:\n            self.dict[key] = value\n</code></pre>\n\n<p>But it's nowhere near as simple as that. One obvious issue is the complete disregard for descriptors. Just imagine that <code>cls</code> has properties. Doing <code>Instance.some_property = 10</code> should access the property as defined in <code>cls</code>, but will instead happily set <code>some_property</code> as an attribute in <code>dict</code>.</p>\n\n<p>Then there is the issue of binding methods of <code>cls</code> to instances of <code>Instance</code>, and possibly more that I don't even know.</p>\n\n<p>There seem to be a lot of details to get the above class to function as close to python objects as possible, and the docs for descriptors I've read so far hasn't made it clear how to get, simply put, everything right. </p>\n\n<p>What I am asking for is a reference for implementing a complete replacement for python's attribute access. That is, the above class, but correct.</p>\n"},{"tags":["python","lxml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13140185,"title":"lxml, parsing in reverse","body":"<p>I am parsing a large file (>9GB) and am using iterparse of lxml in Python to parse the file while clearing as I go forward. I was wondering, is there a way to parse backwards while clearing? I could see I how would implement this independently of lxml, but it would be nice to use this package.</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["python","emacs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13247766,"title":"python-shell not working in emacs","body":"<p>I am trying to configure emacs for python development. I have installed the following packages from melpa - python-mode ipython.</p>\n\n<p>I would like to interactively develop, have the code file open in one frame and the python shell open in another, and have the ability to reload the changes in my code file in the shell.</p>\n\n<p>As per the article - <a href=\"http://pedrokroger.net/2010/07/configuring-emacs-as-a-python-ide-2/\" rel=\"nofollow\">http://pedrokroger.net/2010/07/configuring-emacs-as-a-python-ide-2/</a>, I should be able to load my code in the shell using C-c ! or M-x python-shell. However on executing either of this nothing happens !</p>\n\n<p>I have not downloaded the python-mode.el manually, but installed the packages from repos, is that creating a problem ?</p>\n\n<p>I would appreciate help in resolving this issue</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13252683,"title":"what does the cursor() method of GAE Query class return if the last result was already retrieved?","body":"<p>From the Google App Engine documentation:</p>\n\n<p>\"cursor() returns a base64-encoded cursor string denoting the position in the query's result set following the last result retrieved.\"</p>\n\n<p>What does it return if the the last result retrieved IS the last result in the query set? Wouldn't this mean that there is no position that can 'follow' the last result retrieved? Therefore, is 'None' returned?</p>\n"},{"tags":["python","string","syntax","int"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":12065,"score":6,"question_id":2621243,"title":"the error \"invalid literal for int() with base 10:\" keeps coming up","body":"<p>I'm trying to write a very simple program, I want to print out the sum of all the multiples of 3 and 5 below 100, but, an error keeps accuring, saying \"invalid literal for int() with base 10:\" my program is as follows:</p>\n\n<pre><code>sum = \"\"\nsum_int = int(sum)\nfor i in range(1, 101):\n    if i % 5 == 0:\n        sum += i \n    elif i % 3 == 0:\n        sum += i\n    else:\n        sum += \"\"\n\nprint sum\n</code></pre>\n\n<p>Any help would be much appreciated.</p>\n"},{"tags":["python","opencv"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12354628,"title":"Errors met while installing pyopencv 2.1.0 with opencv-2.4.2","body":"<p>I met some errors when I install pyopencv 2.1.0 with opencv-2.4.2, my python version is 2.7.3 and my os is OS X Mountain Lion, </p>\n\n<p>and the process information is below, I found some errors showed that the class 'Mat' is redefined, but I don't know how to fix it, does any friends could help me? thank!</p>\n\n<pre><code>sudo python setup.py install\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting requirements to package/pyopencv.egg-info/requires.txt\nwriting package/pyopencv.egg-info/PKG-INFO\nwriting top-level names to package/pyopencv.egg-info/top_level.txt\nwriting dependency_links to package/pyopencv.egg-info/dependency_links.txt\nreading manifest file 'package/pyopencv.egg-info/SOURCES.txt'\nwriting manifest file 'package/pyopencv.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.macosx-10.8-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build/lib.macosx-10.8-x86_64-2.7\ncreating build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/__init__.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/common.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/config.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cv_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cv_hpp.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cvaux.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cvtypes_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cvver_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxcore_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxcore_hpp.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxcore_hpp_point.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxcore_hpp_vec.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxerror_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/cxtypes_h.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/highgui.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/info.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/interfaces.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/ml.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\ncopying package/pyopencv/sdopencv.py -&gt; build/lib.macosx-10.8-x86_64-2.7/pyopencv\nrunning build_ext\nbuilding 'pyopencv.pyopencv_extras' extension\ncreating build/temp.macosx-10.8-x86_64-2.7\ncreating build/temp.macosx-10.8-x86_64-2.7/package\ncreating build/temp.macosx-10.8-x86_64-2.7/package/extras\ncreating build/temp.macosx-10.8-x86_64-2.7/package/extras/core\ncreating build/temp.macosx-10.8-x86_64-2.7/package/extras/sdopencv\n/usr/bin/clang -fno-strict-aliasing -fno-common -dynamic -pipe -O2 -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -dynamiclib -I/System/Library/Frameworks/Python.framework/Headers -I/opt/local/include -I/opt/local/include/opencv -I/opt/local/include -I~/Downloads/pyopencv-2.1.0.wr1.2.0/package -I~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras -I~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core -I~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv -I/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/core/include/numpy -I/opt/local/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c package/extras/core/ndarray.cpp -o build/temp.macosx-10.8-x86_64-2.7/package/extras/core/ndarray.o -O3 -DNDEBUG\nclang: warning: argument unused during compilation: '-dynamiclib'\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:58:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat()\n            ^\n/opt/local/include/opencv2/core/mat.hpp:67:13: note: previous definition is here\ninline Mat::Mat() : size(&amp;rows)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:59:35: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    : flags(0), rows(0), cols(0), step(0), data(0), refcount(0), ...\n                                  ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:58:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat()\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:61:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(int _rows, int _cols, int _type)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:72:13: note: previous definition is here\ninline Mat::Mat(int _rows, int _cols, int _type) : size(&amp;rows)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:62:35: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    : flags(0), rows(0), cols(0), step(0), data(0), refcount(0), ...\n                                  ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:61:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(int _rows, int _cols, int _type)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:68:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(int _rows, int _cols, int _type, const Scalar&amp; _s)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:78:13: note: previous definition is here\ninline Mat::Mat(int _rows, int _cols, int _type, const Scalar&amp; _s) : size(&amp;rows)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:69:35: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    : flags(0), rows(0), cols(0), step(0), data(0), refcount(0),\n                                  ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:68:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(int _rows, int _cols, int _type, const Scalar&amp; _s)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:79:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(Size _size, int _type)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:85:13: note: previous definition is here\ninline Mat::Mat(Size _sz, int _type) : size(&amp;rows)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:80:35: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    : flags(0), rows(0), cols(0), step(0), data(0), refcount(0),\n                                  ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:79:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(Size _size, int _type)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:87:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(Size _size, int _type, const Scalar&amp; _s)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:91:13: note: previous definition is here\ninline Mat::Mat(Size _sz, int _type, const Scalar&amp; _s) : size(&amp;rows)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:88:31: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n: flags(0), rows(0), cols(0), step(0), data(0), refcount(0),\n                              ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:87:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(Size _size, int _type, const Scalar&amp; _s)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:98:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(const Mat&amp; m)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:111:13: note: previous definition is\n      here\ninline Mat::Mat(const Mat&amp; m)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:99:51: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    : flags(m.flags), rows(m.rows), cols(m.cols), step(m.step), data(m.data),\n                                                  ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:98:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(const Mat&amp; m)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:106:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(int _rows, int _cols, int _type, void* _data, size_t _step)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:129:13: note: previous definition is\n      here\ninline Mat::Mat(int _rows, int _cols, int _type, void* _data, size_t _step)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:108:5: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    step(_step), data((uchar*)_data), refcount(0),\n    ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:106:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(int _rows, int _cols, int _type, void* _data, size_t _step)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:126:13: error: \n      redefinition of 'Mat'\ninline Mat::Mat(Size _size, int _type, void* _data, size_t _step)\n            ^\n/opt/local/include/opencv2/core/mat.hpp:151:13: note: previous definition is\n      here\ninline Mat::Mat(Size _sz, int _type, void* _data, size_t _step)\n            ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:128:5: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    step(_step), data((uchar*)_data), refcount(0),\n    ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:126:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(Size _size, int _type, void* _data, size_t _step)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:146:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(const Mat&amp; m, const Range&amp; rowRange, const Range&amp; colRange)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:149:10: error: \n      'operator=' is a protected member of 'cv::Mat::MStep'\n    step = m.step; refcount = m.refcount;\n    ~~~~ ^ ~~~~~~\n/opt/local/include/opencv2/core/core.hpp:1958:16: note: declared protected here\n        MStep&amp; operator = (const MStep&amp;);\n               ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:182:5: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    step(m.step), data(m.data + roi.y*step), refcount(m.refcount),\n    ^\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:180:13: error: \n      constructor for 'cv::Mat' must explicitly initialize the member 'size'\n      which does not have a default constructor\ninline Mat::Mat(const Mat&amp; m, const Rect&amp; roi)\n            ^\n/opt/local/include/opencv2/core/core.hpp:1961:11: note: member is declared here\n    MSize size;\n          ^\n/opt/local/include/opencv2/core/core.hpp:1933:23: note: 'cv::Mat::MSize'\n      declared here\n    struct CV_EXPORTS MSize\n                      ^\nIn file included from package/extras/core/ndarray.cpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/ndarray.hpp:18:\nIn file included from ~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/core/opencv_headers.hpp:9:\n~/Downloads/pyopencv-2.1.0.wr1.2.0/package/extras/sdopencv/sdcxmat.hpp:197:35: warning: \n      field 'step' will be initialized after field 'data' [-Wreorder]\n    rows(m-&gt;rows), cols(m-&gt;cols), step(m-&gt;step), data(m-&gt;data.ptr), refcount(0),\n                                  ^\nfatal error: too many errors emitted, stopping now [-ferror-limit=]\n10 warnings and 20 errors generated.\nerror: command '/usr/bin/clang' failed with exit status 1\n</code></pre>\n"},{"tags":["python","list","recursion","dictionary","iteration"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":83,"score":4,"question_id":13238255,"title":"Is it possible to turn a list into a nested dict of keys *without* recursion?","body":"<p>Supposing I had a list as follows:</p>\n\n<pre><code>mylist = ['a','b','c','d']\n</code></pre>\n\n<p>Is it possible to create, from this list, the following dict <strong>without</strong> using recursion/a recursive function?</p>\n\n<pre><code>{\n  'a': {\n    'b': {\n      'c': {\n        'd': { }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["python","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13249135,"title":"Installing Pandas on Mac OSX","body":"<p>I'm having trouble installing the Python Pandas library on my Mac OSX computer.</p>\n\n<p>I type the following in Terminal:</p>\n\n<pre><code>    $ sudo easy_install pandas\n</code></pre>\n\n<p>But then I get the following:</p>\n\n<pre><code>    Searching for pandas\n    Reading http://pypi.python.org/simple/pandas/\n    Reading http://pandas.pydata.org\n    Reading http://pandas.sourceforge.net\n    Best match: pandas 0.9.0\n    Downloading http://pypi.python.org/packages/source/p/pandas/pandas-\n    0.9.0.zip#md5=04b1d8e11cc0fc30ae777499d89003ec\n    Processing pandas-0.9.0.zip\n    Writing /tmp/easy_install-ixjbQO/pandas-0.9.0/setup.cfg\n    Running pandas-0.9.0/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ixjbQO/pandas-\n    0.9.0/egg-dist-tmp-EGREoT\n    warning: no files found matching 'setupegg.py'\n    no previously-included directories found matching 'doc/build'\n    warning: no previously-included files matching '*.so' found anywhere in distribution\n    warning: no previously-included files matching '*.pyd' found anywhere in distribution\n    warning: no previously-included files matching '*.pyc' found anywhere in distribution\n    warning: no previously-included files matching '.git*' found anywhere in distribution\n    warning: no previously-included files matching '.DS_Store' found anywhere in distribution\n    warning: no previously-included files matching '*.png' found anywhere in distribution\n    unable to execute gcc: No such file or directory\n    error: Setup script exited with error: command 'gcc' failed with exit status 1\n</code></pre>\n\n<p>I do have Xcode and gcc installed, however, gcc is only found when I type:</p>\n\n<pre><code>    $ gcc\n    -bash: gcc: command not found\n\n    $ gcc-4.2\n    i686-apple-darwin11-gcc-4.2.1: no input files\n</code></pre>\n\n<p>What should I do?</p>\n"},{"tags":["python","table","loops"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":764,"score":-2,"question_id":7800198,"title":"Table using nested loop, calculations not coming out correctly / completely","body":"<p>This has stumped me for several hours, and I am so close to the end, and I've tried several different variations, and it comes out in weird ways.</p>\n\n<p>I have also found different times this problem has been asked, but none of them seem to be having the problem I seem to be having.</p>\n\n<p>The question / problem:\nI am having can be seen in the output below this code. The calculation is not carrying across the columns for each respective row, and the calculation keeps taking in the same values into the row and col, apparently, and keeps outputting the same value, 35.7</p>\n\n<p>The code:</p>\n\n<pre><code>def WindChill():\nrow = 0\ncol = 0\ni = 0\nwchill = round((35.74 + 0.6215*(col) - 35.75*(row**16) + 0.4275*(col)*(row**16)), 1)\n\nprint(10 * \" \", \"|\", end = \"\")\n\nhead = -1\n\nfor i in range(1):\n    for col in range(-20, 70, 10):\n        print(3 * \" \", col, \"F\", 3 * \" \", \"|\", end = \" \")\n    print(\"\\n\", 150 * \"-\")\n\nwhile head &lt; 0:\n    for row in range(0, 55, 5):\n        if (len(str(row))) &lt; 2:\n            print(row, \"mph\", 4 * \" \", \"|\", end = \" \")\n\n        else:\n            print(row, \"mph\", 3 * \" \", \"|\", end = \" \")\n\n        print(3 * \" \", round(wchill, 1), 3 * \" \", \"|\", end = \" \")\n\n        col = 0\n        head += 1\n\n        print(\"\\n\", 150 * \"-\")\n    print()\n\nprint()\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>                  |    -20 F     |     -10 F     |     0 F     |     10 F     |     20 F     |     30 F     |     40 F     |     50 F     |     60 F     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       0 mph      |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       5 mph      |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       10 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       15 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       20 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       25 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       30 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       35 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       40 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       45 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n       50 mph     |     35.7     | \n       ------------------------------------------------------------------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Now, obviously, the 35.7 values are supposed to be different with each increment of 5 mph in wind speed, and it's supposed to calculate values all across the columns for each row, too.</p>\n\n<p>The table and calculations are supposed to look similar to the table at:\n<a href=\"http://www.nws.noaa.gov/os/windchill/index.shtml\" rel=\"nofollow\">http://www.nws.noaa.gov/os/windchill/index.shtml</a></p>\n"},{"tags":["python","html","parsing","html-parsing"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":13293,"score":3,"question_id":3276040,"title":"How can I use the python HTMLParser library to extract data from a specific div tag?","body":"<p>I am trying to get a value out of a HTML page using the python HTMLParser library. The value I want to get hold of is within this html element:</p>\n\n<pre><code>...\n&lt;div id=\"remository\"&gt;20&lt;/div&gt;\n...\n</code></pre>\n\n<p>This is my HTMLParser class so far:</p>\n\n<pre><code>class LinksParser(HTMLParser.HTMLParser):\n  def __init__(self):\n    HTMLParser.HTMLParser.__init__(self)\n    self.seen = {}\n\n  def handle_starttag(self, tag, attributes):\n    if tag != 'div': return\n    for name, value in attributes:\n    if name == 'id' and value == 'remository':\n      #print value\n      return\n\n  def handle_data(self, data):\n    print data\n\n\np = LinksParser()\nf = urllib.urlopen(\"http://domain.com/somepage.html\")\nhtml = f.read()\np.feed(html)\np.close()\n</code></pre>\n\n<p>Can someone point me in the right direction? I want the class functionality to get the value 20.</p>\n"},{"tags":["python","opencv","histogram"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":13241675,"title":"Is it safe to do histogram comparison in this case?","body":"<p>As I don't know the limit of histogram comparison ,I decided to ask the wonderful community.<br>\nI have some images and I want to group them according to its similarity.every image has a unique colored lines starting from the top down to the bottom of the image,so what I did is taking a vertical projection through those colored lines and make a histogram for this projection for every image.It works well as two similar images should have two similar histogram (i.e both go up and down almost exactly the same rounds) as a human I can decide that both histograms are similar according to that uniquely feature even if one histogram doesn't have high values of its peaks (i.e that is a histogram of a faint image)  </p>\n\n<p>The images with its corresponding histograms:<br>\n....................<img src=\"http://imageshack.us/a/img571/948/onelg.jpg\" alt=\"1st\">..................................................<img src=\"http://imageshack.us/a/img255/642/twor.jpg\" alt=\"2nd\">........................................ <img src=\"http://imageshack.us/a/img577/3931/threeaw.jpg\" alt=\"3rd\">................ \n<img src=\"http://imageshack.us/a/img823/4343/onehq.png\" alt=\"1sth\"> <img src=\"http://imageshack.us/a/img687/3738/twoht.png\" alt=\"2ndh\"> <img src=\"http://imageshack.us/a/img43/9996/threeh.png\" alt=\"3rdh\"><br>\n.........................................................................<img src=\"http://imageshack.us/a/img690/7817/twodark.jpg\" alt=\"2nddarker\"><br>\n.................................................<img src=\"http://img20.imageshack.us/img20/6070/darkerh.png\" alt=\"2nddarkhist\">  </p>\n\n<p>I converted the two images to gray-scale , then I made a vertical projection of the image converting it to a histogram and As you may notice the first two histograms are similar but the third is kinda different that's because it has a switched colored lines.  </p>\n\n<p>Note:-<br>\n(1) considering the first two histograms .Although the highest beak is nearly 12, it isn't always the case with some images are darker or fainter but in the end it really gives the same morphology of the histogram if I can say that as you can notice the last histogram is of a darker image of the second one.  </p>\n\n<p><strong>My question is</strong> :Is it safe to do any kind of histogram comparison??Does histogram comparison mean that I can decide if two histograms have the same peaks for example? or may be in others words does histogram comparison tell me if two histograms have the same morphology??What is the best library or method to do this kind of comparison in <code>python</code>??  </p>\n\n<p><strong>Update</strong>:-<br>\n<strong>(1)</strong> As a reply @PepperoniPizza and @FedericoCristina ,In my case totally different images will surely have different histograms (you can rely on that) every image has a unique histogram morphology(i.e unique peaks) and the number of peaks varies from one image to another but two similar image should have the same number of peaks (in other words> if you look at their histogram, you can tell they kinda look like the same( lookat the 1st,2nd and the last histogram to see what I mean.<br>\n<strong>(2)</strong> To be clear about this I really don't want a solution of how I can group my images but I'm paying a lot of intention of how I can decide that two histograms have similar shape or morphology as a general case!!!!<br>\n<strong>(3)</strong> I know about <code>cv2.CompareHist()</code> but I don't know if it is a proper method to compare my histograms as I don't know how <code>cv2.CompareHist()</code> works(i.e I don't know on what base they do comparison) and actually <code>cv2.CompareHist()</code> has 4 types of histogram comparison which I don't know what is the best or even what is the alternative method to do such comparison.<br>\n<strong>(4)</strong> as a reply @remi,here is the point:-I had already 3 libraries in which they support histogram comparison,and it's kinda ambiguous -for me at least- to know what they meant by <em>histogram comparison</em> as some just do like <code>h1-h2</code> and then <code>calcuate(MSE)</code>so all it does is comparing values not the shape these values form in the histogram.So as I'm not that good at histograms and their math-work, I'm wondering if I really can compare histograms such a way.</p>\n\n<p>Thanks  </p>\n"},{"tags":["python","performance","csv","data","statistics"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":54,"score":-6,"question_id":13251754,"title":"python generate unique counter from csv file","body":"<p>I have a huge csv (tab) file that is about 1 GB of student data for overall grades.<br/><br/>\n(section) Example:</p>\n\n<pre><code>Mandy 1Q 2011 82 English\nCarey 4Q 2010 70 Math\nFreeman 2Q 2012 52 Music\nDarrick 4Q 2010 82 Science\nOsvaldo 4Q 2012 59 Science\nOsvaldo 4Q 2012 79 Science\nJudy 1Q 2012 89 Science\nEmilia 2Q 2011 31 Music\nEmilia 2Q 2011 31 Music\nCordia 1Q 2011 79 Science\nCelestine 1Q 2012 62 English\nCelestine 1Q 2012 62 English\nOpal 4Q 2012 93 Math\nKarlene 1Q 2011 87 English\nKellie 2Q 2012 44 Science\n</code></pre>\n\n<p>I'm looking for:<br/>\nStudent Average, Max, Min (whole, Qtr, Yr) (by class type)<br/>\nAverage per class type (Whole, Qtr, Yr)<br/></p>\n\n<p>Thanks for any help</p>\n"},{"tags":["python","2d","physics"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13252075,"title":"best libraries for developing a highway simulator?","body":"<p>I'm wondering if anybody knows which Python libraries are better for modeling 2d cars and routes in order to develop a simulator and libraries for managing 2d physics (mass, acceleration, velocity, force...)</p>\n\n<p>I never used python in this way and I think is a good way to learn. Thanks in advance!</p>\n"},{"tags":["python","django","query","mongodb","mongoengine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13204573,"title":"Trouble querying ListField with mongoengine","body":"<p>I'm using mongoengine, and I've got the following situation,</p>\n\n<p>My model:</p>\n\n<pre><code>class Item(Document):\n   ...\n   tags = ListField(StringField(max_length=30))\n</code></pre>\n\n<p>The query:</p>\n\n<pre><code>filters = {\n    'tags__contains': query\n}\ntags_with_counter = Item.objects.filter(**filters).item_frequencies('tags')\n</code></pre>\n\n<p>This returns a list of tuples containing the name of the tag, and the frequency. What I want to do is get only tags that contain <strong>query</strong> and their respective frequency. How can I do that?</p>\n"},{"tags":["android","python","egg","sl4a"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":160,"score":0,"question_id":8373322,"title":"How to build Python Eggs for Android SL4A?","body":"<p>Does anyone have any tutorial on How I should go about building a Python Egg for installing it in my android phone ? I want to install the library - Hachoir (https://bitbucket.org/haypo/hachoir/wiki/Home) which parses files. The library is completely written in Python. I tried following these steps but in vain - <a href=\"http://code.google.com/p/python-for-android/wiki/BuildingModules\" rel=\"nofollow\">http://code.google.com/p/python-for-android/wiki/BuildingModules</a></p>\n\n<p>Any help will be appreciated ! Thank you.</p>\n"},{"tags":["python","image-processing","numpy","pygame"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13215836,"title":"accessing each element in a numpy array","body":"<p>I'm attempting to remove stray white pixels from an alpha channel mask by looking at the adjacent pixels, but have been getting TypeEror: 'numpy.ndarray' object is not callable\nI made an array using pygame.surfarray: \n<code>alphachannel3d = pygame.surfarray.pixels3d(alphachannel)</code>\nthen attempt to step through it and change pixel values from white to black: \n<code>  if (alphachannel3d[x] == (0, 0, 0)) &amp; (alphachannel3d[x + 3] == (255, 255, 255)) &amp; (alphachannel3d[x -3]==(255, 255, 255)):\n    alphachannel3d[x] = (255, 255, 255)</code></p>\n\n<p>Here is the loop:</p>\n\n<pre><code>x=1\n\nwhile 1:\n\n  count = x\n  print 'count is', count\n\n  print 'waiting 5 seconds'\n  pygame.time.wait(5000)\n\n\n  img = cam.get_image()\n\n  imgarray = pygame.PixelArray(img)\n\n  alphachannelarray = basearray.compare(imgarray, distance=0.09, weights=(0.01, 0.01, 0.01))\n\n  alphachannel = alphachannelarray.make_surface()\n\n  alphachannel3d = pygame.surfarray.pixels3d(alphachannel)\n\n\n  if (alphachannel3d[x] == (0, 0, 0)) &amp; (alphachannel3d[x + 3] == (255, 255, 255)) &amp; (alphachannel3d[x -3]==(255, 255, 255)):\n    alphachannel3d[x] = (255, 255, 255)\n\n  alphachannel = pygame.surfarray.make_surface(alphachannel3d)\n  srfcScreen.blit(alphachannel, (0,0))\n  print 'screen blitted'\n\n  pygame.display.flip()\n  print 'display flipped'\n\n  x = x+1\n</code></pre>\n"},{"tags":["python","json","json-encode"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":35,"score":4,"question_id":13251788,"title":"Why doesn't this custom json encoder work?","body":"<p>While trying out an <a href=\"http://stackoverflow.com/a/13249927/355230\">answer</a> that initially suggested using a custom <code>JSONEncoder</code> subclass to solve a printing problem, I discovered that what the <a href=\"http://docs.python.org/2/library/json.html#basic-usage\" rel=\"nofollow\">documentation</a> suggests doing in the <em>Extending JSONEncoder:</em> section does not appear to work. Here's my code which is patterned after the <code>ComplexEncoder</code> example also in that section of the docs.</p>\n\n<pre><code>import json\n\nclass NoIndent(object):\n    def __init__(self, value):\n        self.value = value\n\nclass MyEncoder(json.JSONEncoder):\n    def default(self, obj):\n        print 'MyEncoder.default() called'\n        if isinstance(obj, NoIndent):\n            return 'MyEncoder::NoIndent object'  # hard code string for now\n        else:\n            return json.JSONEncoder.default(self, obj)\n\ndata_structure = {\n    'layer1': {\n        'layer2': {\n            'layer3_1': NoIndent([{\"x\":1,\"y\":7},{\"x\":0,\"y\":4},{\"x\":5,\"y\":3},{\"x\":6,\"y\":9}]),\n            'layer3_2': 'string'\n        }\n    }\n}\n\nprint json.dumps(data_structure, default=MyEncoder)\n</code></pre>\n\n<p>And this is the traceback that results:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Files\\PythonLib\\Stack Overflow\\json_parsing.py\", line 26, in &lt;module&gt;\n    print json.dumps(data_structure, default=MyEncoder)\n  File \"E:\\Program Files\\Python\\lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n  File \"E:\\Program Files\\Python\\lib\\json\\encoder.py\", line 201, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"E:\\Program Files\\Python\\lib\\json\\encoder.py\", line 264, in iterencode\n    return _iterencode(o, 0)\nRuntimeError: maximum recursion depth exceeded\n</code></pre>\n"},{"tags":["python","performance","numpy","cython"],"answer_count":1,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":84,"score":8,"question_id":13241724,"title":"Assigning values to array slices is slow","body":"<p>I'm trying to optimize a Python algorithm by implementing it in Cython. My question is regarding a certain performance bottleneck that exists in the following code:</p>\n\n<pre><code>@cython.boundscheck(False) # turn off bounds-checking for entire function\ndef anglesToRGB( np.ndarray[double, ndim=2] y, np.ndarray[double, ndim=2] x ):\n\ncdef double angle\ncdef double Hp\ncdef double C\ncdef double X\ncdef np.ndarray[double, ndim=3] res = np.zeros([y.shape[0], y.shape[1], 3], dtype=np.float64)\n\nfor i in xrange(y.shape[0]):\n    for j in xrange(y.shape[1]):\n        angle = atan2( y[i,j], x[i,j] )*180.0/PI+180\n\n        C = sqrt(pow(y[i,j],2)+pow(x[i,j],2))/360.0 #Chroma\n        Hp = angle/60.0\n        X = C*(1-fabs( Hp%2-1))\n\n        C *= 255\n        X *= 255\n\n        if (0. &lt;= Hp &lt; 1.):\n            res[i,j,:] = [C,X,0]\n        elif (1. &lt;= Hp &lt; 2.):\n            res[i,j,:] = [X,C,0]\n        elif (2. &lt;= Hp &lt; 3.):\n            res[i,j,:] = [0,C,X]\n        elif (3. &lt;= Hp &lt; 4.):\n            res[i,j,:] = [0,X,C]\n        elif (4. &lt;= Hp &lt; 5.):\n            res[i,j,:] = [X,C,C]\n        else:\n            res[i,j,:] = [C,0,X]\n\nreturn res\n</code></pre>\n\n<p>I've identified the major bottleneck to be when i assign a list of values to a slice of the res array, \nlike with</p>\n\n<pre><code>res[i,j,:] = [C,X,0]\n</code></pre>\n\n<p>However, if i change the assignment to</p>\n\n<pre><code>res[i,j,0] = C\nres[i,j,1] = X\nres[i,j,2] = 0\n</code></pre>\n\n<p>Then the code runs orders of magnitude faster.\nTo me this is strange because surely the Cython compiler should be smart enough to do this for me? Or do i need to provide it with some hints first?\nI should note that changing the slicing to 0:3 instead of : and making the list of values a numpy array doesn't improve the performance.</p>\n\n<p>What i'd like to know is why this operation is killing performance so badly and if there's any way to solve it without having to sacrifice the convenient list and slice notation.</p>\n\n<p>Best regards</p>\n"},{"tags":["python","performance"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":77,"score":0,"question_id":13112527,"title":"Python performance issues","body":"<p>I built a simple gravity simulation shown here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8YzWt.jpg\" alt=\"enter image description here\"></p>\n\n<p>At first, I used a variable timestep, by calculating how much it takes for one update, and applying that to the next one - standard stuff.</p>\n\n<p>However, this method reduces determinism, and results can vary from simulation to simulation - something I definitely do not want.</p>\n\n<p>I figured that I should use a fixed time step (10 seconds), but then I noticed that the simulation would speed up and down in regular intervals (of around 1 second).</p>\n\n<p>Why is that happening? Does it have to do anything with Python itself?</p>\n\n<p><br /></p>\n\n<h1>The code</h1>\n\n<p>The main loop:</p>\n\n<pre><code>while run:\n    uni.update(10)\n\n    for event in pygame.event.get():\n        if event.type == QUIT:\n            run = False\n</code></pre>\n\n<p>The update method:</p>\n\n<pre><code>def update (self, dt):\n    self.time += dt\n\n    for b1, b2 in combinations(self.bodies.values(), 2):\n        fg = self.Fg(b1, b2)\n\n        if b1.position.x &gt; b2.position.x:\n            b1.force.x -= fg.x\n            b2.force.x += fg.x\n        else:\n            b1.force.x += fg.x\n            b2.force.x -= fg.x\n\n\n        if b1.position.y &gt; b2.position.y:\n            b1.force.y -= fg.y\n            b2.force.y += fg.y\n        else:\n            b1.force.y += fg.y\n            b2.force.y -= fg.y\n\n\n    for b in self.bodies.itervalues():\n        ax = b.force.x/b.m\n        ay = b.force.y/b.m\n\n        b.position.x += b.velocity.x*dt\n        b.position.y += b.velocity.y*dt\n\n        nvx = ax*dt\n        nvy = ay*dt\n\n        b.position.x += 0.5*nvx*dt\n        b.position.y += 0.5*nvy*dt\n\n        b.velocity.x += nvx\n        b.velocity.y += nvy\n\n        b.force.x = 0\n        b.force.y = 0\n</code></pre>\n"},{"tags":["python","query","autocomplete","combobox","pyqt4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13197267,"title":"QSqlRelationalTableModel and autocomplete field (PyQt4)","body":"<p>I have created a single-field tableview using QSqlRelationalTableModel. The only field in this tableview is taken from a table (mysql) with a long list of names. What is the right way to create an autocomplete when I write a name in the field which is logically connected with a query \"like\".</p>\n\n<pre><code>self.model = QtSql.QSqlRelationalTableModel()\n\nself.model.setTable(\"archlibri\")\nself.model.setHeaderData(0, QtCore.Qt.Horizontal, \"ID\")\nself.model.setHeaderData(1, QtCore.Qt.Horizontal, \"Autore\")\nself.model.setHeaderData(2, QtCore.Qt.Horizontal, \"Titolo\")\nself.model.setRelation(1, QtSql.QSqlRelation(\"elAutori\", \"aID\", \"aNome\"))\nself.model.select()\n\ntabella.setModel(self.model)       \n\ntabella.setItemDelegate(QtSql.QSqlRelationalDelegate(tabella))\n</code></pre>\n\n<p>Tabella is a QTableView. The column \"Autore\" (column have relation delegate) is where i want add a autocomplete when i write a name</p>\n"},{"tags":["python","python-2.3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13250899,"title":"how to rsh ssh using python 2.3","body":"<p>I would like to write a script that performs the following Linux commands sequence:</p>\n\n<ol>\n<li>rsh rr01 ( here the system will ask for password ) </li>\n<li>ssh rr02 ( here the system will ask for password again) </li>\n<li>activate my app on some file</li>\n</ol>\n\n<p>I was naively (and stupidly) tried to accomplish that with a simple os.system \nbear in mind I using python 2.3 and would like to avoid adding modules (if possible).</p>\n\n<p>Thanks in advance! </p>\n"},{"tags":["python","python-2.7","progress-bar","console-application"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13251299,"title":"Creating a progress bar/status in Python text console","body":"<p>I'm coding a small Python script, that checks the records of a few domains. This is how I do it:</p>\n\n<pre><code>if results.short == True:\n        isonlist = False\n        for dnsbls in L:\n                try:\n                        if  socket.gethostbyname(\"%s.%s\" % (ip_reversed(results.IP), dnsbls)).startswith(\"127\"):\n                                isonlist = True\n                except (socket.gaierror):\n                        pass\n        if isonlist == True:\n                print \"1\"\n        else:\n                print \"0\"\n\nelse:\n        pass\n</code></pre>\n\n<p>Right now it outputs 1 if it get's a valid record and 0 if it doesn't.</p>\n\n<p>Now, I'd like for it to show a progress bar, like when you use wget and the likes.\nTried doing it like this:</p>\n\n<pre><code>number = number + 1\n</code></pre>\n\n<p>But that yields me 1 2 3 4 and so forth.</p>\n"},{"tags":["python","dictionary"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13250519,"title":"create a dictionary for letters","body":"<p>I have been trying to build a function to get letter frequencies from a string and store them in a dictionary.</p>\n\n<p>I have done something like that : </p>\n\n<pre><code>s=\"today the weather was really nice\"\n\ndef get_letter_freq(s):\n    for letter in(s):\n        x=letter.split()\n    f=dict()\n    for each_letter in x:\n        if f.has_key(x):\n                   f[x]+=1\n        else:\n                    f[x]=1\nprint f\n</code></pre>\n\n<p>Could you help me put things into order and find my mistakes?</p>\n\n<p>Why I get an error that my 'f' is not defined?</p>\n"},{"tags":["python","unicode","python-3.x","filenames"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13250997,"title":"Delete all files in directory with non utf-8 symbols","body":"<p>I have a set of data, but I need to work only with <code>utf-8</code> data, so I need to delete all data with non-<code>utf-8</code> symbols.</p>\n\n<p>When I try to work with these files, I receive:</p>\n\n<pre><code>UnicodeDecodeError: 'charmap' codec can't decode byte 0x8d in position 3062: character maps to &lt;undefined&gt; and UnicodeDecodeError: 'utf8' codec can't decode byte 0xc1 in position 1576: invalid start byte \n</code></pre>\n\n<p>My code </p>\n\n<pre><code>class Corpus:\n        def __init__(self,path_to_dir=None):\n                self.path_to_dir = path_to_dir if path_to_dir else []\n\n\n        def emails_as_string(self):\n                for file_name in os.listdir(self.path_to_dir):\n                        if not file_name.startswith(\"!\"):\n                                with io.open(self.add_slash(self.path_to_dir)+file_name,'r', encoding ='utf-8') as body:\n                                        yield[file_name,body.read()]                        \n\n        def add_slash(self, path):\n                if path.endswith(\"/\"): return path\n                return path + \"/\"\n</code></pre>\n\n<p>I recive error here <code>yield[file_name,body.read()]</code> and  here<code>list_of_emails = mailsrch.findall(text)</code>, but when I work with utf-8 all great.</p>\n"},{"tags":["python","json","haskell","casting","aeson"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":13247750,"title":"Navigating JSON objects in a generic way in Haskell","body":"<p>My goal is to write a program in Haskell that takes the name of a json file and interprets the rest of the arguments as a path to navigate that json file by and print the value navigated to. The problem is because JSON can contain multiple value types, I don't know how to make Haskell's type system understand what I want. Here is the Haskell code with the \"navigate\" function I'm not able to implement correctly:</p>\n\n<pre><code>import qualified Data.Aeson as A\nimport qualified Data.ByteString.Char8 as BS\nimport qualified Data.ByteString.Lazy.Char8 as BSL\nimport Data.List\nimport Data.Maybe\nimport System.Environment\n\nparse :: String -&gt; A.Value\nparse = fromJust . A.decode . BSL.pack\n\nisInteger xs = case reads xs :: [(Integer, String)] of\n    [(_, \"\")] -&gt; True\n    _ -&gt; False\n\nnavigate :: A.Value -&gt; String -&gt; String\nnavigate value [] = value\nnavigate value [x:xs]\n    | isInteger x = ??? -- value is an array, get the xth element of it.\n    | otherwise = ??? -- value is an map, x is a key in it.\n\nmain :: IO ()\nmain = do\n     [filename:path] &lt;- getArgs\n     contents &lt;- readFile filename\n     let d = parse contents\n     putStrLn (show (navigate d path))\n</code></pre>\n\n<p>For reference, here is how the same program would have been written in Python:</p>\n\n<pre><code>from json import load\nfrom sys import argv    \ndef navigate(obj, path):\n    if not path:\n        return obj\n    head, tail = path[0], path[1:]\n    return navigate(obj[int(head) if head.isdigit() else head], tail)    \nif __name__ == '__main__':\n    fname, path = argv[1], argv[2:]\n    obj = load(open(fname))\n    print navigate(obj, path)\n</code></pre>\n\n<p>The program would be run like this:</p>\n\n<pre><code>$ cat data.json\n{\"foo\" : [[1, 2, 3, {\"bar\" : \"barf\"}]]} \n$ python showjson.py data.json foo 0 3 bar\nbarf\n</code></pre>\n"},{"tags":["python","windows","console","clear","python-interpreter"],"answer_count":14,"favorite_count":22,"up_vote_count":39,"down_vote_count":0,"view_count":36058,"score":39,"question_id":517970,"title":"How to clear python interpreter console?","body":"<p>Like most Python developers, I typically keep a console window open with the Python interpreter running to test commands, dir() stuff, help() stuff, etc.</p>\n\n<p>Like any console, after a while the visible backlog of past commands and prints gets to be cluttered, and sometimes confusing when re-running the same command several times.  I'm wondering if, and how, to clear the Python interpreter console.</p>\n\n<p>I've heard about doing a system call and either calling <code>cls</code> on Windows or <code>clear</code> on Linux, but I was hoping there was something I could command the interpreter itself to do.</p>\n\n<p><strong>Note:</strong> I'm running on Windows, so Ctrl+L doesn't work.</p>\n"},{"tags":["python","coding-style"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":13251192,"title":"About python function return value best practice","body":"<p>Suppose I'm writing a function in python, this function can either be success or raise exception.</p>\n\n<p>So which one shall I use:</p>\n\n<ol>\n<li>return</li>\n<li>return True</li>\n<li>no return</li>\n</ol>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>Thanks for response. In this case I mean to ask if return Value have no further meaning, shall I still do a <code>return True</code> or something.</p>\n\n<p>The case I'm working on is to write thrift server-side function, where I hesitated whether to use <code>void</code> or <code>boolean</code> type in the service api.</p>\n"},{"tags":["python","windows-7","m2crypto"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":630,"score":0,"question_id":6158125,"title":"Is there an M2Crypto installer for Windows 7 64-bit?","body":"<p>Is there an M2Crypto Windows installer for Python 2.7 64-bit?  If not is there a reason why one cannot be built?</p>\n"},{"tags":["python","function","powershell","script"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":41,"score":-4,"question_id":13251235,"title":"Copy details from a website into excel using a script","body":"<p>I'm hoping you can help me. I'm looking to find a way that I can write a script that copies details from a website and inserts them into a excel spreadsheet (for example) automatically.</p>\n\n<p>Thanks,</p>\n\n<p>Steven</p>\n"},{"tags":["python","python-2.7","bytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13251062,"title":"Bytearray in Python 2 is not behaving as expected","body":"<p>I am playing around with the bytearray type in python 2.7.3 and noticed this weird behaviour:</p>\n\n<p>Passing an integer argument to its constructor creates a bytearray of size equal to the integer filled with zero bytes:</p>\n\n<pre><code>&gt;&gt;&gt; s = bytearray(15)\n&gt;&gt;&gt; s\nbytearray(b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00')\n</code></pre>\n\n<p>However, if I attempt to create a bytearray with bytes set manually by me, <strong>the constructor seems to ignore/skip some of the bytes I create</strong>:</p>\n\n<pre><code>&gt;&gt;&gt; s = bytearray(b'\\x34\\x78\\x98\\xFF\\xFF')\n&gt;&gt;&gt; s\nbytearray(b'4x\\x98\\xff\\xff')\n</code></pre>\n\n<p><em><strong>Why is this happening? Is this a bug? Or am I missing something?</em></strong> <a href=\"http://docs.python.org/2.7/library/functions.html#bytearray\" rel=\"nofollow\">The python documentation is not very enlightening</a>.</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13250046,"title":"Pandas csv-import: Keep leading zeros in a column","body":"<p>I am importing study data into a Pandas data frame using <code>read_csv</code>. </p>\n\n<p>My subject codes are 6 numbers coding, among others, the day of birth. For some of my subjects this results in a code with a leading zero (e.g. \"010816\").</p>\n\n<p>When I import into Pandas, the leading zero is stripped of and the column is formatted as <code>int64</code>.</p>\n\n<p>Is there a way to import this column unchanged maybe as a string? </p>\n\n<p>I tried using a custom converter for the column, but it does not work - it seems as if the custom conversion takes place before Pandas converts to int.</p>\n"},{"tags":["python","class","inheritance","subclass","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13250499,"title":"Attributes to a subclass of pandas.DataFrame disappear after pickle","body":"<p>I am trying to add attributes to a subclass of pandas.DataFrame and they disappear after pickling and unpickling:</p>\n\n<pre><code>import cPickle\nimport pandas as pd\n\nclass MyClass(pd.DataFrame):\n    def __init__(self):\n        super(MyClass, self).__init__()\n        self.bar = 1\n\nmyc = MyClass()\nwith open('myc.pickle', 'wb')as myfile:\n    cPickle.dump(myc,myfile)\nwith open('myc.pickle', 'rb')as myfile:\n    b = cPickle.load(myfile)\nprint b.bar\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"test_df.py\", line 14, in &lt;module&gt;\nprint b.bar\nFile \"C:\\Python27\\lib\\site-packages\\pandas\\core\\frame.py\", line 1771, in __getattr__\n(type(self).__name__, name))\nAttributeError: 'MyClass' object has no attribute 'bar'\n</code></pre>\n\n<p>Any idea how I can add attributes safely?</p>\n"},{"tags":["python","reload","ipython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13250796,"title":"ipython %load_ext missing","body":"<p>I try to set autoreload to my development process, but it seems, that the method I learned from <a href=\"http://stackoverflow.com/questions/5364050/reloading-submodules-in-ipython\">that</a> thread is not working with my versions.\nI tried </p>\n\n<ol>\n<li>ipython -V: 0.10 and python -V Python 2.6.6</li>\n<li>ipython -V: 0.10.1 and python -V Python 2.7.3</li>\n</ol>\n\n<p>but </p>\n\n<pre><code>%load_ext autoreload\n%autoreload 2\n</code></pre>\n\n<p>returns </p>\n\n<pre><code>ERROR: Magic function `load_ext` not found.\n</code></pre>\n\n<p>which is kind of obvious, because</p>\n\n<pre><code>In [1]: %lsmagic\nAvailable magic functions:\n%Exit  %Pprint  %Quit  %alias  %autocall  %autoindent  %automagic  %bg  %bookmark  %cd          %clear  %color_info  %colors  %cpaste  %debug  %dhist  %dirs  %doctest_mode  %ed  %edit  %env      %exit  %hist  %history  %logoff  %logon  %logstart  %logstate  %logstop  %lsmagic  %macro  %magic  %p  %page  %paste  %pdb  %pdef  %pdoc  %pfile  %pinfo  %popd  %profile  %prun  %psearch  %psource  %pushd  %pwd  %pycat  %quickref  %quit  %r  %rehash  %rehashx  %rep  %reset  %run  %runlog  %save  %sc  %store  %sx  %system_verbose  %time  %timeit  %unalias  %upgrade  %who  %who_ls  %whos  %xmode\n</code></pre>\n\n<p>this method is not available. How can I install other magic functions? </p>\n"},{"tags":["python","python-3.x","pygame","portable-executable"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":13219237,"title":"portable python 3.x and pygame","body":"<p>I am looking for version (custom/beta?) of portable python that is python 3.x and includes pygame.  I know pygame hasn't been fully converted to 3.x yet, but for what I need it for it works perfectly.</p>\n"},{"tags":["c++","python","functional-programming","lazy-evaluation"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":160,"score":5,"question_id":13144280,"title":"Lazy transform in C++","body":"<p>I have the following Python snippet that I would like to reproduce using C++:</p>\n\n<pre><code>from itertools import count, imap\n\nsource = count(1)\npipe1 = imap(lambda x: 2 * x, source)\npipe2 = imap(lambda x: x + 1, pipe1)\nsink = imap(lambda x: 3 * x, pipe2)\nfor i in sink:\n    print i\n</code></pre>\n\n<p>I've heard of <a href=\"http://www.boost.org/doc/libs/1_51_0/libs/phoenix/doc/html/index.html\" rel=\"nofollow\">Boost Phoenix</a>, but I couldn't find an example of a lazy <code>transform</code> behaving in the same way as Python's <code>imap</code>. </p>\n\n<p>Edit: to clarify my question, the idea is not only to apply functions in sequence using a <code>for</code>, but rather to be able to use algorithms like <code>std::transform</code> on infinite generators. The way the functions are composed (in a more functional language like dialect) is also important, as the next step is function composition.</p>\n\n<p>Update: thanks bradgonesurfing, David Brown, and Xeo for the amazing answers! I chose Xeo's because it's the most concise and it gets me right where I wanted to be, but David's was very important into getting the concepts through. Also, bradgonesurfing's tipped Boost::Range :).</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":13234556,"title":"Using memcache.add() instead of set()","body":"<p>Usually I do:</p>\n\n<pre><code>if not memcache.get('mykey'):\n   memcache.set('mykey', item)\n</code></pre>\n\n<p>However, today I saw <code>memcache.add()</code>, which appears to add an item only if it doesn't already exist. So is this equivalent to the code I have above? Can I just replace the code above with <code>memcache.add()</code>?</p>\n\n<p>Also, and more importantly, I'm using AppStats, and under RPC Call Traces, I get to see if my request calls <code>memcache.set()</code> or <code>get()</code> or <code>datastore.put()</code> or <code>get()</code>. When using the 2 lines of code above, I don't see anything for <code>memcache.set()</code>, which is expected. However, using only <code>memcache.add()</code> (without checking if the item already exists) always calls <code>memcache.set()</code>, even though <code>memcache.add()</code> returned false (meaning a new item was not inserted). Why is this the case?</p>\n"},{"tags":["python","django","django-database"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13248593,"title":"django database delete specific number of entries","body":"<p>How to delete specific number of entries from the database?\nI did something like this</p>\n\n<pre><code>EntriesToDelete=Statusmessages.objects.filter(time__lt=date)[:30000]\nEntriesToDelete.delete()\n</code></pre>\n\n<p>But I get an error which says:\n<code>AssertionError. Cannot use 'limit' or 'offset' with delete</code>.</p>\n\n<p>How can I specify the number of entries to be deleted.</p>\n"},{"tags":["python","input","progress-bar","tk","ttk"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13157214,"title":"Ttk progress-bar and general tk input","body":"<p>I'm using python 2.7 and TK to make a gui which accesses text files and uses data in them to do many things, but the one relevant here is sending a gchat message.\nCurrently, I have everything working, the point I need some help with is when I call my module to send the message, the message is sent perfectly, although I wanted the user to have an indication of the process happening, so I created a ttk.progressbar. but there is a few things I'd like to improve on this:</p>\n\n<p>1) I would like to change the appearance of the actual bar, upon viewing the source files, I couldn't see any options, and when I googled the problem the only fix I could find was to change the source code, I'm pretty sure this would only change it when ran with my files, then when the user runs it, it would be the standard? preferably, I'd like the bar to be transparent, although blue would work, I've seen some people having blue as a state in window machines, windows is my main concern, so if I could get say, blue in windows, but native elsewhere, that would be fine.</p>\n\n<p>2)this one is hopefully a bit more simple, but when the button is pressed it takes values from user input which can still be changed, maybe altering the outcome of the function, is there anyway to stop all input to a tk window, then resume when the function is complete?</p>\n\n<p>below is what I have so far, thank you for the help</p>\n\n<pre><code>            self.progressbar = ttk.Progressbar(self.gcTableButtonsFrame, length = 70, orient=HORIZONTAL, mode ='determinate')\n            self.progressbar.grid(column = 0, row = 0, sticky = 'n s')\n\n            #we then pass through the extension and the string 'test' through this fnction from the gchat module which will then send a \n            #gchat message to the extension passed through\n            self.bytes = 0\n            self.maxbytes = 0\n            self.start()\n            self.t = thread.start_new_thread(gchat.sendGChatMessage,(text, \"test\"))\n        except IndexError:\n            tkMessageBox.showinfo(\"Invalid Entry\", \"Please first select an Entry to send to\")\n\ndef start(self):\n    self.progressbar[\"value\"] = 0\n    self.maxbytes = 50000\n    self.progressbar[\"maximum\"] = 50000\n    self.read_bytes()\n\ndef read_bytes(self):\n    '''simulate reading 500 bytes; update progress bar'''\n    selection2 = self.gcTable.selection()\n    self.bytes += 700\n    self.progressbar[\"value\"] = self.bytes\n    if self.bytes &lt; self.maxbytes:\n            # read more bytes after 100 ms\n        Tk.after(self.mainPyWindow, 100, self.read_bytes)\n    else:\n        tkMessageBox.showinfo(\"Message Sent\", \"A GChat message has been sent to \" + self.gcTable.item(selection2, 'values')[1])\n        self.progressbar.destroy()\n</code></pre>\n"},{"tags":["python","xml"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1232,"score":2,"question_id":3852968,"title":"How to convert XML to Dict","body":"<p>I want to find some great solution to convert XML to dict and vice versa in python</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13241503,"title":"Which GAE Database Property Fits a Tag Property?","body":"<p>I want to have a property on a database model of mine in Google App Engine and I am not sure which category works the best.  I need it to be a tag cloud similar to the Tags on SO.  Would a text property be best or should I use a string property and make it repeated=True.</p>\n\n<p>The second seems best to me and then I can just divide the tags up with a comma as a delimiter.  My goal is to be able to search through these tags and count the total number of each type of tag.</p>\n\n<p>Does this seem like a reasonable solution?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13250256,"title":"Circular Programming in Python (corecursion) - is it possible?","body":"<p>I know Python has some lazy implementations, and as such, I was wondering if it is possible to use circular programming in Python.</p>\n\n<p>If it isn't, why?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":30,"score":-1,"question_id":13250382,"title":"how add python class to a xml parsing program","body":"<p>I have a program that will take input xml and print same xml as output. How can i implement class and method for that ?</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport sys   \ndoc       = ET.parse(\"users.xml\")\nroot      = doc.getroot()\nroot_new  = ET.Element(\"users\") \nfor child in root:\n    username             = child.attrib['username']\n    password             = child.attrib['password']   \n    # create \"user\" here\n    user    = ET.SubElement(root_new, \"user\") \n    user.set(\"username\",username)               \n    user.set(\"password\",password) \n    #checking attribute for skipping KeyError\n    if 'remote_access' in child.attrib:\n        remote_access   = child.attrib['remote_access']\n        user.set(\"remote_access\",remote_access) \n    for g in child.findall(\"group\"):\n        # create \"group\" here\n        group     = ET.SubElement(user,\"group\")  \n        if g.text != \"lion\":\n            group.text = g.text \ntree = ET.ElementTree(root_new)\ntree.write(sys.stdout)\n</code></pre>\n\n<p>How to convert this to class concept . Thanks in advance.</p>\n"},{"tags":["python","xml","parsing","minidom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":9729646,"title":"Python minidom unwanted whitespace","body":"<p>I'm using Python to write data into .xml files. I have this file named statistics.xml and everytime I call my method 'writeIntoXml()' it should add data to that statistics xml-file. Now Python does this perfectly, the only problem is it adds unwanted whitespace between all of my elements that were in the file before I wrote the new data into it. Like this:</p>\n\n<pre><code>&lt;AantalTicketsPerUur&gt;\n    &lt;Dag datum=\"2012-03-16\"&gt;\n        &lt;Aantal_tickets Aantal=\"24\" uurinterval=\"0u-1u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"68\" uurinterval=\"1u-2u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"112\" uurinterval=\"2u-3u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"98\" uurinterval=\"3u-4u\"/&gt;\n    &lt;/Dag&gt;\n&lt;/AantalTicketsPerUur&gt;\n</code></pre>\n\n<p>becomes this (the elements without that whitespace inbetween are the new data): </p>\n\n<pre><code>&lt;AantalTicketsPerUur&gt;\n\n\n    &lt;Dag datum=\"2012-03-16\"&gt;\n\n\n        &lt;Aantal_tickets Aantal=\"24\" uurinterval=\"0u-1u\"/&gt;\n\n\n        &lt;Aantal_tickets Aantal=\"68\" uurinterval=\"1u-2u\"/&gt;\n\n\n        &lt;Aantal_tickets Aantal=\"112\" uurinterval=\"2u-3u\"/&gt;\n\n\n        &lt;Aantal_tickets Aantal=\"98\" uurinterval=\"3u-4u\"/&gt;\n\n\n    &lt;/Dag&gt;\n\n\n    &lt;Dag datum=\"2012-03-16\"&gt;\n        &lt;Aantal_tickets Aantal=\"24\" uurinterval=\"0u-1u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"68\" uurinterval=\"1u-2u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"112\" uurinterval=\"2u-3u\"/&gt;\n        &lt;Aantal_tickets Aantal=\"98\" uurinterval=\"3u-4u\"/&gt;\n    &lt;/Dag&gt;\n&lt;/AantalTicketsPerUur&gt;\n</code></pre>\n\n<p>How can I solve this? NOTE: I DO USE THE .toprettyxml() method</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","windows","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13249211,"title":"Upgrade sqlite3 version using python 2.7.3 and pysqlite2 2.6.3","body":"<p>Good day.</p>\n\n<p>I have been learning python and sqlite recently and have trouble installing the latest version of sqlite3 (3.7.14.1). I am using python 2.7.3 in windows 7 and have installed the latest pysqlite2 version (2.6.3) using the windows installer. I have used the following code to import pysqlite and check the versions and these are the results:</p>\n\n<pre><code>&gt;&gt;&gt; from pysqlite2 import dbapi2 as sqlite3\n&gt;&gt;&gt; sqlite3.version\n'2.6.3'\n&gt;&gt;&gt; sqlite3.sqlite_version\n'3.7.6.2'\n</code></pre>\n\n<p>Based on the code above, the sqlite3 version used is an older one. I have downloaded the latest sqlite3.dll and have overwritten the one found in Python27\\DLLs\\ directory. But when I run sqlite3.sqlite_version, it still gives me the old version. However, when using the default python sqlite3 module it shows an old version of the module (2.6.0) and the latest version of the sqlite3.dll I just copied. See code below:</p>\n\n<pre><code>&gt;&gt;&gt; import sqlite3\n&gt;&gt;&gt; sqlite3.version\n'2.6.0'\n&gt;&gt;&gt; sqlite3.sqlite_version\n'3.7.14.1'\n</code></pre>\n\n<p>My question is, how do I upgrade pysqlite2 2.6.3's sqlite3 3.7.14.1? Can anyone help me?</p>\n\n<p>Thank you.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13250232,"title":"Else clause with for an while","body":"<p>You can use the <code>else</code> clause with <code>for</code> and <code>while</code> loops (<a href=\"http://docs.python.org/2/reference/compound_stmts.html#for\" rel=\"nofollow\">docs</a>).</p>\n\n<pre><code>def has_odd(l):      \n  for num in l:\n    if num % 2 != 0:\n      print \"odd's in the list\"\n      break\n  else:\n    print \"no odd's in the list\"\n</code></pre>\n\n<p>This construct helps to concolidate the code as opposed to the following equivalent:</p>\n\n<pre><code>def has_odd(l):\n  is_odd = False\n  for num in l:\n    if num % 2 != 0:\n      is_odd = True\n      break\n  if is_odd:\n    print \"odd's in the list\"\n  else:\n    print \"no odd's in the list\"\n</code></pre>\n\n<p>Yet, you don't see it used very often. What are the other use cases for the construct? </p>\n"},{"tags":["php","python","ruby","server-side"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":52,"score":-3,"question_id":13250321,"title":"Third-party web developers. Should I care which server-side language they use (ie PHP, Ruby, Python, etc)?","body":"<p>I'm working a project where an external development team will be asked to build a beta of a new web service. Even though it's a beta as well as being functionally operable it also needs to demonstrate robustness in design; security; scalability and extensibility.</p>\n\n<p>I've personally hacked around in various languages (PHP, Javascript, C, J2ME, SQL, UNIX shells, etc), but I don't consider myself a professional programmer, so I'm interested in others opinions on whether I should even be concerned by the language chosen or if I should focus on the relevant management (PM approach, source code control, testing, etc)?</p>\n\n<p>Thanks,\nPeter</p>\n"},{"tags":["c#","python","arcgis","arcobjects","arcpy"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":387,"score":1,"question_id":9910461,"title":"how to set input and output parameters in arcobjects using c#, which call python script?","body":"<p>I have written a python script to geoprocessing ArcGIS data and set the workspace, input and output parameters inside the python code as: </p>\n\n<pre><code>env.workspace = arcpy.GetParameterAsText(0)\n# input feature class \ninFeatures = arcpy.GetParameterAsText(1)\n# output feature class\nTransect_featureclass = arcpy.GetParameterAsText(2)\n</code></pre>\n\n<p>Since I am new to ArcObjects using c# in Visual Studio 2010, I am trying to use ArcMap Add-in to add a button into the ArcMap desktop. But I didn't know how to call this python script from c#, and get something like a textbox popup and ask the information about the input and output parameters path. Since I directly call the python, it didn't work with the <code>GetParameterAsText</code> command inside the python code. </p>\n\n<p>I highly appreciate if someone there can help on this case. Thanks in advance.</p>\n"},{"tags":["python","django","apache","concurrency","mod-wsgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13171860,"title":"How django handles simultaneous requests with concurrency over global variables?","body":"<p>I have a django instance hosted via apache/mod_wsgi. I use <code>pre_save</code> and <code>post_save</code> signals to store the values before and after save for later comparisons. For that I use global variables to store the <code>pre_save</code> values which can be accessed in the <code>post_save</code> signal handler.</p>\n\n<p>My question is, if two requests A and B come together simultaneously requesting a same web service, will it be concurrent? The B should not read the global variable which is written by A and vice versa.</p>\n\n<p>PS: I don't use any threading <code>Lock</code> on variables.</p>\n"},{"tags":["python","pyopengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13225374,"title":"Rendering 3d shapes in pyopengl","body":"<p>Hi Im looking for a tutorial on how to render 3d shapes in pyopengl and pygame. Ive found very few helpful resources, it would be greatly appreciated if you could point me to some.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":13249481,"title":"Dynamic import of several names from a module","body":"<p>I am trying to import some symbols from one package into another. I have tried the following, with no luck as both are syntax errors.</p>\n\n<pre><code>from signal import SIG*    \n</code></pre>\n\n<p>or</p>\n\n<pre><code>import _signal\nimport _re\nfrom signal import [i for i in dir(_signal) if _re.search(\"^SIG\",i)!=None ]\n</code></pre>\n\n<p>Is there a way to do this.</p>\n"},{"tags":["python","comments"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":203,"score":1,"question_id":10682565,"title":"comment out nested triple quotes","body":"<p>In python to comment-out multiple  lines we use triple quotes</p>\n\n<pre><code>def x():\n   \"\"\"This code will \n      add 1 and 1 \"\"\"\n   a=1+1\n</code></pre>\n\n<p>but what if I have to comment out a block of code which already contains lot of other comment out blocks (triple quote comments). For example if I want to comment out this function fully..</p>\n\n<pre><code>\"\"\"\ndef x():\n   \"\"\"This code will \n      add 1 and 1 \"\"\"\n   a=1+1\n\"\"\"\n</code></pre>\n\n<p>This doesn't work. How can I comment out such blocks of code.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13246764,"title":"How to add a library to to my Google App Engine project?","body":"<p>In response to <a href=\"http://code.google.com/p/googleappengine/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Component%20Status%20Stars%20Summary%20Language%20Priority%20Owner%20Log&amp;groupby=&amp;sort=&amp;id=2749\" rel=\"nofollow\">this bug at Google</a> I am planning to replace the webob library with the newest release, WebOb version 1.2.3, which is rumored to fix the bug. I have downloaded the project from their website, and just adding it to the project root does not fix the problem. The folder with the downloaded project is named \"WebOb-1.2.3\"</p>\n\n<p>What needs to be done in App.yaml to include this newest version that i upload to the server?</p>\n\n<p>I am running python.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13243163,"title":"how to replace %s with one variable in python","body":"<p>I have a string like</p>\n\n<pre><code>strTemp='i don\\'t want %s repeat the %s variable again %s and again %s'%('aa','aa','aa','aa')\n</code></pre>\n\n<p>I want to replace all the %s with 'aa', so I have to repeat the 'aa' for many times, how can I tell the program that I want to replace all the %s just with the same variable, so I needn't type the variable for times</p>\n"},{"tags":["python","multithreading"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":13244336,"title":"Multithreaded Access to Python bytearray","body":"<p>It seems that since access to NumPy array data doesn't require calls into the Python interpreter, C extensions can manipulate these arrays after releasing the GIL. For instance, in <a href=\"http://stackoverflow.com/questions/8824739/global-interpreter-lock-and-access-to-data-eg-for-numpy-arrays\">this thread</a>.</p>\n\n<p>The built-in Python type bytearray supports the <a href=\"http://docs.python.org/3/c-api/buffer.html\" rel=\"nofollow\">Buffer Protocol</a>, one member of which is</p>\n\n<blockquote>\n  <p>void <strong>*buf</strong></p>\n  \n  <p>A pointer to the start of the logical structure described by the\n  buffer fields. [...]\n  For contiguous arrays, the value points to the beginning of the memory\n  block.</p>\n</blockquote>\n\n<p>My question is, can a C extension manipulate this <strong>buf</strong> after releasing the GIL (Py_BEGIN_ALLOW_THREADS) since accessing it no longer requires calls to the Python C API? Or does the nature of the Python garbage collector forbid this, since the bytearray, and its buf, might be moved during execution?</p>\n"},{"tags":["python","regex","parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13240119,"title":"Parsing single or double quotes and allow for escaped characters using regular expressions (in Python)","body":"<p>I have input that looks like a list of arguments:</p>\n\n<pre><code>input1 = '''\ntitle=\"My First Blog\" author='John Doe'\n'''\n</code></pre>\n\n<p>The values can be surrounded by single or double quotes, however, escaping is also allowed:</p>\n\n<pre><code>input2 = '''\ntitle='John\\'s First Blog' author=\"John Doe\"\n'''\n</code></pre>\n\n<p>Is there a way to use regular expressions to extract the key value pairs accounting for either single or double quotes and escaped quotes?</p>\n\n<p>Using python, I can use the following regular expression and handle the non-escaped quotes:</p>\n\n<pre><code>rex = r\"(\\w+)\\=(?P&lt;quote&gt;['\\\"])(.*?)(?P=quote)\"\n</code></pre>\n\n<p>The returns are then:</p>\n\n<pre><code>import re\nre.findall(rex, input1)\n[('title', '\"', 'My First Blog'), ('author', \"'\", 'John Doe')]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import re\nre.findall(rex, input2)\n[('title', \"'\", 'John'), ('author', '\"', 'John Doe')]\n</code></pre>\n\n<p>The latter being incorrect. I can't figure out how to handle escaped quotes--assumedly in the (.*?) section. I've been working with the solution in the posted answers on <a href=\"http://stackoverflow.com/questions/5452655/python-regex-to-match-text-in-single-quotes-ignoring-escaped-quotes-and-tabs-n\">Python regex to match text in single quotes, ignoring escaped quotes (and tabs/newlines)</a> to no avail.</p>\n\n<p>Technically, I don't need findall to return the quote character--rather just the key/value pairs--but that is easily dealt with.</p>\n\n<p>Any help would be appreciated! Thanks!</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":84,"score":3,"question_id":13219857,"title":"Parse python setup file","body":"<p>I need to write a python script that read and parse setup python file.\nsetup contain some variables and function calls.</p>\n\n<p>example:</p>\n\n<pre><code>setup.py\nx = 5\nmylist [ 1, 2, 3]\nmyfunc(4)\nmyfunc(5)\nmyfunc(30)\n\n\nmain.py\n.\nparse_setup('setup.py')\n.\n</code></pre>\n\n<p>I would like parse the setup file and \"see\" what kind of variables were defined and what kind of function calls.\nsince the setup file in written in python, I was thinking that the easiest thing would be to dynamically import the setup file (dynamically because setup file path is the input for main).</p>\n\n<p>the problem is that import fails since <code>myfucn()</code>, called in <code>setup.py</code>, is not defined.</p>\n\n<p>is there a way for me to intercept the <code>myfunc()</code> calls in <code>setup.py</code> and execute my own function defined in <code>main.py</code>?</p>\n\n<p>what if the function I want to execute is a member function?</p>\n\n<p>can anyone think of a better way for extracting the data in the setup file, I really don't want to read it line by line.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","dynamic","django-models","models"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13070424,"title":"django-mutant creating models in django-admin","body":"<p>I started experimenting with <code>django-mutant 0.0.2</code> (on <code>django 1.4.2</code>), but due to the lack of documentation I got almost nowhere. The way I understood by the project description I could use it to create my models dynamically, so I thought I can wire it with the <code>django-admin</code> interface, so I can create the models and define all it's fields there. I saw some other alternatives like <code>django-eav</code>, <code>dynamo</code>, Will Hardy's <code>dynamic-models</code>, etc. but it sounds like this is the best implementation until now, so I thought I should use this.</p>\n\n<p>I've put this in <code>settings.py</code>:</p>\n\n<pre><code>INSTALLED_APPS = (\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.admin',\n    'south',\n    'polymodels',\n    'mutant',\n    'mutant.contrib.boolean',\n    'mutant.contrib.temporal',\n    'mutant.contrib.file',\n    'mutant.contrib.numeric',\n    'mutant.contrib.text',\n    'mutant.contrib.web',\n    'mutant.contrib.related',\n    'dynamodels'   # this is the name of my testapp\n)\n</code></pre>\n\n<p>I opened up the source of <code>django-mutant</code> to figure out what should I do, and I thought it's enough to import the <code>mutant.models.ModelDefinition</code> and <code>mutant.models.FieldDefinition</code> into my <code>admin.py</code> and register them, so I tried this:</p>\n\n<pre><code>from django.contrib import admin\n\nfrom mutant import models\n\n\nclass ModelDefinitionAdmin(admin.ModelAdmin):\n    pass\n\nadmin.site.register(models.ModelDefinition, ModelDefinitionAdmin)\n\n\nclass FieldDefinitionAdmin(admin.ModelAdmin):\n    pass\n\nadmin.site.register(models.FieldDefinition, FieldDefinitionAdmin)\n</code></pre>\n\n<p>After a syncdb, I got it running, and I got a \"mutant\" section in my admin interface, inside it a \"Models definition\" and \"Fields\". I added a model successfully, although I couldn't specify any appname that is in the list of <code>INSTALLED_APPS</code>. Adding a field failed badly, for it's <code>Model def</code> parameter I did choose the model I created before(it was the only one on the list), and I did choose \"Integer field definition\" for <code>Content type</code>. Hitting the save button gave me this:</p>\n\n<pre><code>NotImplementedError at /admin/mutant/fielddefinition/add/\n\nNo exception supplied\n...\n...\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in save\n        return super(FieldDefinition, self).save(*args, **kwargs) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_polymodels-1.0.1-py2.6.egg/polymodels/models.py in save\n        return super(BasePolymorphicModel, self).save(*args, **kwargs) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in save\n        self.model_def.model_class(force_create=True) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in model_class\n            model_class = self._create_model_class(existing_model_class) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in _create_model_class\n        attrs = self.get_model_attrs(existing_model_class) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in get_model_attrs\n                            for f in self.fielddefinitions.select_subclasses())) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in &lt;genexpr&gt;\n                            for f in self.fielddefinitions.select_subclasses())) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in field_instance\n        cls = self.get_field_class() ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in get_field_class\n            raise NotImplementedError \n</code></pre>\n\n<p>So it may not be the way I should define my fields (or even models?).. On the project's page there is a snippet which subclasses the <code>FieldDefinition</code> class, creating a DateFieldDefinition, if I put that snippet into my <code>models.py</code> and register that class in my admin, I can add any type of fields successfully. Does it mean I have to subclass all field types I want to use to be able to create them in the admin? Are they actually bound to my Model when I create them this way? Is there a working example somewhere to show at least the basics?\nSorry this was the shortest version I could came up with, any suggestion would be appreciated.</p>\n\n<p><strong>UPDATE:</strong>\nI made a mistake in specifying the version I was trying, I got the NotImplementedError for the latest dev version(which is also 0.0.2 by the way), but when I tried the real 0.0.2 got from PyPi the same way as the dev, I got a form-error without an error-message, but something failed at validation definitely. So generally I'm not closer to the solution.</p>\n\n<p><strong>UPDATE2:</strong>\nI registered mutant's base field types dynamically in the admin, and I am able now to add/change/delete models and fields with this admin snippet:</p>\n\n<pre><code>from django.contrib import admin\n\nfrom mutant import models\n\nfor field_type in models.FieldDefinitionBase._field_definitions.values():\n    attrs = {'model': field_type}\n    FieldDefAdmin = type('{0}Admin'.format(field_type.__name__),\n                         (admin.ModelAdmin,),\n                         attrs)\n    admin.site.register(field_type, FieldDefAdmin)\n\n\nclass ModelDefinitionAdmin(admin.ModelAdmin):\n    model = models.ModelDefinition\n\nadmin.site.register(models.ModelDefinition, ModelDefinitionAdmin)\n</code></pre>\n\n<p>However when I inspect the actual data in my database from the mysql console for example, my table is not present in the database. There are mutant's tables, and they contain the entries about my model, and my fields, but I thought once the dynamic model class is constructed, it will be also written to the database as it is.</p>\n\n<p><strong>UPDATE3:</strong>\nActually I was wrong, the table is found in my database, it's just prefixed with \"mutant_\" so I didn't recognize it's there. Looks like this will be a valid method to work with it, although to make a decent user-friendly interface to operate with it will require more work.</p>\n"},{"tags":["python","qc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249697,"title":"How to Access QC Python VAPI-XP instance Parameters during run time (QC test lab)","body":"<p>I have a Python VAPi-XP script <strong>QCPythonTest</strong> in QC test lab having parameter \"Provider\"\nThere are 5 instances of this script within qc test lab with different parameter value in each instance. </p>\n\n<p>Iam executing script from QC itself , iam struggling to get the parameter actual value during run time.</p>\n\n<p>i know we can set the status using <strong>CurrentTSTest.Status</strong> but i want to execute the current test  as <strong>CurrentTSTest.ParameterValueFactory</strong> which doesn't seem to be possible. Is there any way  i can access parameter Value of \"<strong>CurrentTest</strong>\" instance w ?</p>\n\n<p>I can access it from external script when i get all instances of the <strong>QCPythonTest</strong> but iam after the Python Code which gives the current test parameter values when within QC. OTA library help doesnt help much. If anyone of you have done similiar stuff please do let me know. Would prefer Python way but dont mind any other language as long as it serves the purpose</p>\n"},{"tags":["python","google"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13249147,"title":"Python/Google Apps Script integration","body":"<p>Would it be possible for some type of Python script to check services running on a linux box, and integrate with a google app script, so it would then populate a google doc spreadsheet stating whther a service is running or not ?</p>\n"},{"tags":["python","hide","stderr","scapy","output"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13249341,"title":"surpress scapy warning message when importing the module","body":"<p>I'm writing a small script, that gathers some information using scapy and then returns some xml code, that I'll pass on to the xmlrpc interface of metasploit. I'd like it that my script only returns xml, and no additional warnings etc.</p>\n\n<p>I can surpress most scapy output, with adding the option <code>verbose=0</code> to my sr1 command. What I still get before every output, and I assume it returns this warning when I'm loading the module, is:</p>\n\n<pre><code> WARNING: No route found for IPv6 destination :: (no default route?)\n</code></pre>\n\n<p>I can easily redirect that output, by calling my script like this:</p>\n\n<pre><code> ./myscript 2&gt; /dev/null\n</code></pre>\n\n<p>but I'd like to incorporate this into the script. For that I've found a hint, that one could have a NullDevice class, that doesn't write anything, and then set <code>sys.stderr</code> to an instantiation of that NullDevice class.</p>\n\n<p>This only works unfortunately after I've already loaded the module, so I still have the Warning, and it only redirects any following messages sent to stderr.</p>\n\n<p>How can I surpress that warning message to appear on my screen?</p>\n"},{"tags":["python","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13248850,"title":"Python regex match","body":"<p>I am trying to match a text in a file</p>\n\n<pre><code>In [44]: with open(path) as f:\n   ....:     for line in f:\n   ....:         matched = re.search('^PARTITION BY HASH',line)\n   ....:         if matched is not None:\n   ....:             print matched.group()\n   ....:\n</code></pre>\n\n<p>The file contains lines like \nPARTITION BY HASH(SOME_THING);\nAnd also some other lines among which there is \nSUBPARTITION BY HASH(SOME_THING) which shouldn't be matched</p>\n\n<p>After the match i would like to delete that line.\nBut the print matched.group fails why ?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":13249121,"title":"Split into N elements a string by spaces preserving quoted substrings","body":"<p>I would like to split a string into 3 elements by spaces but I don't want the quoted substrings to be split (they can also contain backslash to escape the quotes).</p>\n\n<p>For instance:</p>\n\n<pre><code>\"command argument other arguments and options\"\n&gt;&gt; ['command', 'argument', 'other arguments and options']\n\n'command \"my argument\" other arguments and options'\n&gt;&gt; ['command', 'my argument', 'other arguments and options']\n\n'command \"my \\\"ugly\\\" argument\" other \"arguments\" and options'\n&gt;&gt; ['command', 'my \"ugly\" argument', 'other \"arguments\" and options']\n</code></pre>\n\n<p>I had a look at this <a href=\"http://stackoverflow.com/questions/79968/split-a-string-by-spaces-preserving-quoted-substrings-in-python\">similar question</a> but <code>shlex.split()</code> will also split the end of the string (and it will remove the quotes and the spaces) whereas I want to keep the third element intact.</p>\n\n<p>I tried to use <code>shlex.split(mystring)[0:2]</code> in order to get the first two elements but then I can't manage to find a good solution to extract the third element from the original string. Actually I wish I could use <code>shlex.split()</code> like the <code>str.split()</code> method with a <code>maxsplit</code> argument.</p>\n\n<p>Is there a better way to do this than using <code>shlex.split()</code>? Perhaps regexes? Thanks!</p>\n"},{"tags":["python","django","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13248569,"title":"Not been able to process simple form in Django?","body":"<p>I am having problem with with a simple form POST. Here's my url.py:</p>\n\n<pre><code>urlpatterns = patterns('',\n\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^', 'fileupload.views.show_template'), \n    url(r'^upload_file/', 'fileupload.views.upload_file'),\n)\n</code></pre>\n\n<p>Here's my form.html:</p>\n\n<pre><code>form action=\"/upload_file/\" method=\"post\"&gt;\n    {% csrf_token %}\n        &lt;fieldset&gt;\n            &lt;legend&gt;Session&lt;/legend&gt;\n                &lt;label for=\"input-one\" class=\"float\"&gt;&lt;strong&gt;Session Name:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-one-name\" id=\"session\" type=\"text\" size=\"30\" /&gt;&lt;br /&gt;\n\n                &lt;label for=\"input-two\" class=\"float\"&gt;&lt;strong&gt;Source:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-two-name\"  id=\"source\" type=\"text\" size=\"30\" /&gt;\n\n                &lt;label for=\"input-two\" class=\"float\"&gt;&lt;strong&gt;Destination:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-two-name\"  id=\"destination\" type=\"text\" size=\"30\" /&gt;\n        &lt;/fieldset&gt;\n\n\n\n        &lt;p&gt;&lt;input class=\"submit-button\" type=\"submit\" alt=\"SUBMIT\" name=\"Submit\" value=\"Save\" /&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;input class=\"cancel-button\" type=\"reset\"  name=\"Save\" value=\"Cancel\" /&gt;&lt;/p&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Here's my views.py:</p>\n\n<pre><code>from django.http import HttpResponseRedirect\nfrom django.shortcuts import render_to_response\nfrom fileupload.forms import UploadFileForm\nfrom django.template import RequestContext\n\n\ndef show_template(request):\n    return render_to_response('form.html', {'form': 'form'},  context_instance=RequestContext(request))\n\ndef upload_file(request):\n    if request.method == 'POST':\n        form = UploadFileForm(request.POST)\n        if form.is_valid():\n            sessiong = form.cleaned_data['session']\n            sourceg = form.cleaned_data['source']\n            destinationg = form.cleaned_data['destination']\n            return HttpResponseRedirect('/thanks/') \n    else:\n        form = UploadFileForm()\n    return render_to_response('form.html', {'form': form},  context_instance=RequestContext(request))\n</code></pre>\n\n<p>The problem is whenever I fill up the form and hit Save the form is not processed at all which clearly means my view upload_file is not working at all. What might be the problem? The simple logic is: user fills up the form, click save and the data's are stored in python variable which later I plan to store in a database. </p>\n"},{"tags":["python","mapreduce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13249234,"title":"Alternatives to mincemeatpy and octopy","body":"<p>Briefly, octopy and mincemeatpy are python implementations of map-reduce (light-weight), and clients can join the cluster in ad-hoc manner without requiring any installations (Of-course, except python). Here are the project details <a href=\"http://code.google.com/p/octopy/\" rel=\"nofollow\">OCTOPY</a> and <a href=\"https://github.com/michaelfairley/mincemeatpy\" rel=\"nofollow\">Mincemeatpy</a>.</p>\n\n<p>The problem with these is they need to hold the entire data in-memory (including intermediate key-value pairs). So even for a moderate size data, they throw out of memory exceptions.</p>\n\n<p>The key-reasons I'm using them are:</p>\n\n<ol>\n<li>Python.</li>\n<li>No cluster installation required.</li>\n<li>I just prototype, and I can directly port the algorithm once I'm ready. </li>\n</ol>\n\n<p>So my question is: Is there any package which handles the same stuff, but not just in-memory (which can handle moderate size data) ? </p>\n"},{"tags":["python","anchor","beautifulsoup","scraper"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13247479,"title":"How to extract the text between some anchor tags?","body":"<p>I need to extract the name of the artists from an HTML page. Here's a snippet of the page:\n</p>\n\n<pre><code> &lt;/td&gt;\n &lt;td class=\"playbuttonCell\"&gt;\n   &lt;a class=\"playbutton preview-track\" href=\"/music/example\" data-analytics-redirect=\"false\"  &gt;\n      &lt;img class=\"transparent_png play_icon\" width=\"13\" height=\"13\" alt=\"Play\" src=\"http://cdn.last.fm/flatness/preview/play_indicator.png\" style=\"\" /&gt;\n    &lt;/a&gt;\n  &lt;/td&gt;\n  &lt;td class=\"subjectCell\" title=\"example, played 3 times\"&gt;\n    &lt;div&gt;\n      &lt;a href=\"/music/example-artist\"   &gt;Example artist name&lt;/a&gt;\n</code></pre>\n\n<p>I've tried this but isn't doing the job.\n</p>\n\n<pre><code>import urllib\nfrom bs4 import BeautifulSoup\n\nhtml = urllib.urlopen('http://www.last.fm/user/Jehl/charts?rangetype=overall&amp;subtype=artists').read()\nsoup = BeautifulSoup(html)\nprint soup('a')\n\nfor link in soup('a'):\n    print html\n</code></pre>\n\n<p>Where am I screwing up?</p>\n"}]}
{"total":142322,"page":11,"pagesize":100,"questions":[{"tags":["python","django","dynamic","django-models","models"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13070424,"title":"django-mutant creating models in django-admin","body":"<p>I started experimenting with <code>django-mutant 0.0.2</code> (on <code>django 1.4.2</code>), but due to the lack of documentation I got almost nowhere. The way I understood by the project description I could use it to create my models dynamically, so I thought I can wire it with the <code>django-admin</code> interface, so I can create the models and define all it's fields there. I saw some other alternatives like <code>django-eav</code>, <code>dynamo</code>, Will Hardy's <code>dynamic-models</code>, etc. but it sounds like this is the best implementation until now, so I thought I should use this.</p>\n\n<p>I've put this in <code>settings.py</code>:</p>\n\n<pre><code>INSTALLED_APPS = (\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.admin',\n    'south',\n    'polymodels',\n    'mutant',\n    'mutant.contrib.boolean',\n    'mutant.contrib.temporal',\n    'mutant.contrib.file',\n    'mutant.contrib.numeric',\n    'mutant.contrib.text',\n    'mutant.contrib.web',\n    'mutant.contrib.related',\n    'dynamodels'   # this is the name of my testapp\n)\n</code></pre>\n\n<p>I opened up the source of <code>django-mutant</code> to figure out what should I do, and I thought it's enough to import the <code>mutant.models.ModelDefinition</code> and <code>mutant.models.FieldDefinition</code> into my <code>admin.py</code> and register them, so I tried this:</p>\n\n<pre><code>from django.contrib import admin\n\nfrom mutant import models\n\n\nclass ModelDefinitionAdmin(admin.ModelAdmin):\n    pass\n\nadmin.site.register(models.ModelDefinition, ModelDefinitionAdmin)\n\n\nclass FieldDefinitionAdmin(admin.ModelAdmin):\n    pass\n\nadmin.site.register(models.FieldDefinition, FieldDefinitionAdmin)\n</code></pre>\n\n<p>After a syncdb, I got it running, and I got a \"mutant\" section in my admin interface, inside it a \"Models definition\" and \"Fields\". I added a model successfully, although I couldn't specify any appname that is in the list of <code>INSTALLED_APPS</code>. Adding a field failed badly, for it's <code>Model def</code> parameter I did choose the model I created before(it was the only one on the list), and I did choose \"Integer field definition\" for <code>Content type</code>. Hitting the save button gave me this:</p>\n\n<pre><code>NotImplementedError at /admin/mutant/fielddefinition/add/\n\nNo exception supplied\n...\n...\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in save\n        return super(FieldDefinition, self).save(*args, **kwargs) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_polymodels-1.0.1-py2.6.egg/polymodels/models.py in save\n        return super(BasePolymorphicModel, self).save(*args, **kwargs) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in save\n        self.model_def.model_class(force_create=True) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in model_class\n            model_class = self._create_model_class(existing_model_class) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in _create_model_class\n        attrs = self.get_model_attrs(existing_model_class) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in get_model_attrs\n                            for f in self.fielddefinitions.select_subclasses())) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/model/__init__.py in &lt;genexpr&gt;\n                            for f in self.fielddefinitions.select_subclasses())) ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in field_instance\n        cls = self.get_field_class() ...\n\n/home/user/dev/virenvs/dynamicmodels/lib/python2.6/site-packages/django_mutant-0.0.2-py2.6.egg/mutant/models/field/__init__.py in get_field_class\n            raise NotImplementedError \n</code></pre>\n\n<p>So it may not be the way I should define my fields (or even models?).. On the project's page there is a snippet which subclasses the <code>FieldDefinition</code> class, creating a DateFieldDefinition, if I put that snippet into my <code>models.py</code> and register that class in my admin, I can add any type of fields successfully. Does it mean I have to subclass all field types I want to use to be able to create them in the admin? Are they actually bound to my Model when I create them this way? Is there a working example somewhere to show at least the basics?\nSorry this was the shortest version I could came up with, any suggestion would be appreciated.</p>\n\n<p><strong>UPDATE:</strong>\nI made a mistake in specifying the version I was trying, I got the NotImplementedError for the latest dev version(which is also 0.0.2 by the way), but when I tried the real 0.0.2 got from PyPi the same way as the dev, I got a form-error without an error-message, but something failed at validation definitely. So generally I'm not closer to the solution.</p>\n\n<p><strong>UPDATE2:</strong>\nI registered mutant's base field types dynamically in the admin, and I am able now to add/change/delete models and fields with this admin snippet:</p>\n\n<pre><code>from django.contrib import admin\n\nfrom mutant import models\n\nfor field_type in models.FieldDefinitionBase._field_definitions.values():\n    attrs = {'model': field_type}\n    FieldDefAdmin = type('{0}Admin'.format(field_type.__name__),\n                         (admin.ModelAdmin,),\n                         attrs)\n    admin.site.register(field_type, FieldDefAdmin)\n\n\nclass ModelDefinitionAdmin(admin.ModelAdmin):\n    model = models.ModelDefinition\n\nadmin.site.register(models.ModelDefinition, ModelDefinitionAdmin)\n</code></pre>\n\n<p>However when I inspect the actual data in my database from the mysql console for example, my table is not present in the database. There are mutant's tables, and they contain the entries about my model, and my fields, but I thought once the dynamic model class is constructed, it will be also written to the database as it is.</p>\n\n<p><strong>UPDATE3:</strong>\nActually I was wrong, the table is found in my database, it's just prefixed with \"mutant_\" so I didn't recognize it's there. Looks like this will be a valid method to work with it, although to make a decent user-friendly interface to operate with it will require more work.</p>\n"},{"tags":["python","qc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249697,"title":"How to Access QC Python VAPI-XP instance Parameters during run time (QC test lab)","body":"<p>I have a Python VAPi-XP script <strong>QCPythonTest</strong> in QC test lab having parameter \"Provider\"\nThere are 5 instances of this script within qc test lab with different parameter value in each instance. </p>\n\n<p>Iam executing script from QC itself , iam struggling to get the parameter actual value during run time.</p>\n\n<p>i know we can set the status using <strong>CurrentTSTest.Status</strong> but i want to execute the current test  as <strong>CurrentTSTest.ParameterValueFactory</strong> which doesn't seem to be possible. Is there any way  i can access parameter Value of \"<strong>CurrentTest</strong>\" instance w ?</p>\n\n<p>I can access it from external script when i get all instances of the <strong>QCPythonTest</strong> but iam after the Python Code which gives the current test parameter values when within QC. OTA library help doesnt help much. If anyone of you have done similiar stuff please do let me know. Would prefer Python way but dont mind any other language as long as it serves the purpose</p>\n"},{"tags":["python","google"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13249147,"title":"Python/Google Apps Script integration","body":"<p>Would it be possible for some type of Python script to check services running on a linux box, and integrate with a google app script, so it would then populate a google doc spreadsheet stating whther a service is running or not ?</p>\n"},{"tags":["python","hide","stderr","scapy","output"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13249341,"title":"surpress scapy warning message when importing the module","body":"<p>I'm writing a small script, that gathers some information using scapy and then returns some xml code, that I'll pass on to the xmlrpc interface of metasploit. I'd like it that my script only returns xml, and no additional warnings etc.</p>\n\n<p>I can surpress most scapy output, with adding the option <code>verbose=0</code> to my sr1 command. What I still get before every output, and I assume it returns this warning when I'm loading the module, is:</p>\n\n<pre><code> WARNING: No route found for IPv6 destination :: (no default route?)\n</code></pre>\n\n<p>I can easily redirect that output, by calling my script like this:</p>\n\n<pre><code> ./myscript 2&gt; /dev/null\n</code></pre>\n\n<p>but I'd like to incorporate this into the script. For that I've found a hint, that one could have a NullDevice class, that doesn't write anything, and then set <code>sys.stderr</code> to an instantiation of that NullDevice class.</p>\n\n<p>This only works unfortunately after I've already loaded the module, so I still have the Warning, and it only redirects any following messages sent to stderr.</p>\n\n<p>How can I surpress that warning message to appear on my screen?</p>\n"},{"tags":["python","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13248850,"title":"Python regex match","body":"<p>I am trying to match a text in a file</p>\n\n<pre><code>In [44]: with open(path) as f:\n   ....:     for line in f:\n   ....:         matched = re.search('^PARTITION BY HASH',line)\n   ....:         if matched is not None:\n   ....:             print matched.group()\n   ....:\n</code></pre>\n\n<p>The file contains lines like \nPARTITION BY HASH(SOME_THING);\nAnd also some other lines among which there is \nSUBPARTITION BY HASH(SOME_THING) which shouldn't be matched</p>\n\n<p>After the match i would like to delete that line.\nBut the print matched.group fails why ?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":13249121,"title":"Split into N elements a string by spaces preserving quoted substrings","body":"<p>I would like to split a string into 3 elements by spaces but I don't want the quoted substrings to be split (they can also contain backslash to escape the quotes).</p>\n\n<p>For instance:</p>\n\n<pre><code>\"command argument other arguments and options\"\n&gt;&gt; ['command', 'argument', 'other arguments and options']\n\n'command \"my argument\" other arguments and options'\n&gt;&gt; ['command', 'my argument', 'other arguments and options']\n\n'command \"my \\\"ugly\\\" argument\" other \"arguments\" and options'\n&gt;&gt; ['command', 'my \"ugly\" argument', 'other \"arguments\" and options']\n</code></pre>\n\n<p>I had a look at this <a href=\"http://stackoverflow.com/questions/79968/split-a-string-by-spaces-preserving-quoted-substrings-in-python\">similar question</a> but <code>shlex.split()</code> will also split the end of the string (and it will remove the quotes and the spaces) whereas I want to keep the third element intact.</p>\n\n<p>I tried to use <code>shlex.split(mystring)[0:2]</code> in order to get the first two elements but then I can't manage to find a good solution to extract the third element from the original string. Actually I wish I could use <code>shlex.split()</code> like the <code>str.split()</code> method with a <code>maxsplit</code> argument.</p>\n\n<p>Is there a better way to do this than using <code>shlex.split()</code>? Perhaps regexes? Thanks!</p>\n"},{"tags":["python","django","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13248569,"title":"Not been able to process simple form in Django?","body":"<p>I am having problem with with a simple form POST. Here's my url.py:</p>\n\n<pre><code>urlpatterns = patterns('',\n\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^', 'fileupload.views.show_template'), \n    url(r'^upload_file/', 'fileupload.views.upload_file'),\n)\n</code></pre>\n\n<p>Here's my form.html:</p>\n\n<pre><code>form action=\"/upload_file/\" method=\"post\"&gt;\n    {% csrf_token %}\n        &lt;fieldset&gt;\n            &lt;legend&gt;Session&lt;/legend&gt;\n                &lt;label for=\"input-one\" class=\"float\"&gt;&lt;strong&gt;Session Name:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-one-name\" id=\"session\" type=\"text\" size=\"30\" /&gt;&lt;br /&gt;\n\n                &lt;label for=\"input-two\" class=\"float\"&gt;&lt;strong&gt;Source:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-two-name\"  id=\"source\" type=\"text\" size=\"30\" /&gt;\n\n                &lt;label for=\"input-two\" class=\"float\"&gt;&lt;strong&gt;Destination:&lt;/strong&gt;&lt;/label&gt;&lt;br /&gt;\n                &lt;input class=\"inp-text\" name=\"input-two-name\"  id=\"destination\" type=\"text\" size=\"30\" /&gt;\n        &lt;/fieldset&gt;\n\n\n\n        &lt;p&gt;&lt;input class=\"submit-button\" type=\"submit\" alt=\"SUBMIT\" name=\"Submit\" value=\"Save\" /&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;input class=\"cancel-button\" type=\"reset\"  name=\"Save\" value=\"Cancel\" /&gt;&lt;/p&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Here's my views.py:</p>\n\n<pre><code>from django.http import HttpResponseRedirect\nfrom django.shortcuts import render_to_response\nfrom fileupload.forms import UploadFileForm\nfrom django.template import RequestContext\n\n\ndef show_template(request):\n    return render_to_response('form.html', {'form': 'form'},  context_instance=RequestContext(request))\n\ndef upload_file(request):\n    if request.method == 'POST':\n        form = UploadFileForm(request.POST)\n        if form.is_valid():\n            sessiong = form.cleaned_data['session']\n            sourceg = form.cleaned_data['source']\n            destinationg = form.cleaned_data['destination']\n            return HttpResponseRedirect('/thanks/') \n    else:\n        form = UploadFileForm()\n    return render_to_response('form.html', {'form': form},  context_instance=RequestContext(request))\n</code></pre>\n\n<p>The problem is whenever I fill up the form and hit Save the form is not processed at all which clearly means my view upload_file is not working at all. What might be the problem? The simple logic is: user fills up the form, click save and the data's are stored in python variable which later I plan to store in a database. </p>\n"},{"tags":["python","mapreduce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13249234,"title":"Alternatives to mincemeatpy and octopy","body":"<p>Briefly, octopy and mincemeatpy are python implementations of map-reduce (light-weight), and clients can join the cluster in ad-hoc manner without requiring any installations (Of-course, except python). Here are the project details <a href=\"http://code.google.com/p/octopy/\" rel=\"nofollow\">OCTOPY</a> and <a href=\"https://github.com/michaelfairley/mincemeatpy\" rel=\"nofollow\">Mincemeatpy</a>.</p>\n\n<p>The problem with these is they need to hold the entire data in-memory (including intermediate key-value pairs). So even for a moderate size data, they throw out of memory exceptions.</p>\n\n<p>The key-reasons I'm using them are:</p>\n\n<ol>\n<li>Python.</li>\n<li>No cluster installation required.</li>\n<li>I just prototype, and I can directly port the algorithm once I'm ready. </li>\n</ol>\n\n<p>So my question is: Is there any package which handles the same stuff, but not just in-memory (which can handle moderate size data) ? </p>\n"},{"tags":["python","anchor","beautifulsoup","scraper"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13247479,"title":"How to extract the text between some anchor tags?","body":"<p>I need to extract the name of the artists from an HTML page. Here's a snippet of the page:\n</p>\n\n<pre><code> &lt;/td&gt;\n &lt;td class=\"playbuttonCell\"&gt;\n   &lt;a class=\"playbutton preview-track\" href=\"/music/example\" data-analytics-redirect=\"false\"  &gt;\n      &lt;img class=\"transparent_png play_icon\" width=\"13\" height=\"13\" alt=\"Play\" src=\"http://cdn.last.fm/flatness/preview/play_indicator.png\" style=\"\" /&gt;\n    &lt;/a&gt;\n  &lt;/td&gt;\n  &lt;td class=\"subjectCell\" title=\"example, played 3 times\"&gt;\n    &lt;div&gt;\n      &lt;a href=\"/music/example-artist\"   &gt;Example artist name&lt;/a&gt;\n</code></pre>\n\n<p>I've tried this but isn't doing the job.\n</p>\n\n<pre><code>import urllib\nfrom bs4 import BeautifulSoup\n\nhtml = urllib.urlopen('http://www.last.fm/user/Jehl/charts?rangetype=overall&amp;subtype=artists').read()\nsoup = BeautifulSoup(html)\nprint soup('a')\n\nfor link in soup('a'):\n    print html\n</code></pre>\n\n<p>Where am I screwing up?</p>\n"},{"tags":["python","pil","imagefilter"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":584,"score":0,"question_id":3346980,"title":"How do the PIL ImageFilter enhancement filters work?","body":"<p>Where can I find information on what algorithms the PIL ImageFilter functions use? Like how does edge_enhance work? I'm looking to implement a difference of Gaussians filter but if PIL has a filter that works similarly I'll use that.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13249009,"title":"Implementing class concept is not working in python","body":"<p>Program 1 : function based :-</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport sys   \ndoc       = ET.parse(\"users.xml\")\nroot      = doc.getroot()\nroot_new  = ET.Element(\"users\") \nfor child in root:\n    username             = child.attrib['username']\n    password             = child.attrib['password']   \n    # create \"user\" here\n    user    = ET.SubElement(root_new, \"user\") \n    user.set(\"username\",username)               \n    user.set(\"password\",password) \n    #checking attribute for skipping KeyError\n    if 'remote_access' in child.attrib:\n        remote_access   = child.attrib['remote_access']\n        user.set(\"remote_access\",remote_access) \n    for g in child.findall(\"group\"):\n        # create \"group\" here\n        group     = ET.SubElement(user,\"group\")  \n        if g.text != \"lion\":\n            group.text = g.text \ntree = ET.ElementTree(root_new)\ntree.write(sys.stdout)\n</code></pre>\n\n<p>This is xml :-</p>\n\n<pre><code>&lt;users&gt;\n&lt;user username=\"admin\"  password=\"admin\" remote_access=\"yes\"&gt;&lt;/user&gt;\n&lt;user username=\"private_user1\" password=\"user1\" &gt;&lt;group&gt;group1&lt;/group&gt;&lt;group&gt;group2&lt;/group&gt;&lt;/user&gt;\n&lt;user username=\"private_user2\" fullname=\"user2\" password=\"user2\"&gt;&lt;group&gt;group1&lt;/group&gt;&lt;group&gt;group2&lt;/group&gt;&lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>my class implementaion :- fully wrong :(</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport sys\n\nclass users_detail (object):\n\n    def __init__( self, xml_path ):\n     \"\"\"bla bla\n     \"\"\"\n    try:\n        doc = ET.parse(\"users.xml\")\n    except:\n        print 'xml not found' \n        root      = doc.getroot() \n        root_new  = ET.Element(\"users\") \n        for child in root:\n            username             = child.attrib['username']\n            password             = child.attrib['password']\n            user    = ET.SubElement(root_new, \"user\") \n            user.set(\"username\",username)               \n            user.set(\"password\",password) \n            if 'remote_access' in child.attrib:\n                remote_access   = child.attrib['remote_access']\n            for g in child.findall(\"group\"):\n                group     = ET.SubElement(user,\"group\")  \n                if g.text != \"lion\":\n                    group.text = g.text \n        tree = ET.ElementTree(root_new)\n        tree.write(sys.stdout)\nif __name__=='main':\n    users_detail() \n</code></pre>\n\n<p>How to implement this in better way via object oriented concept class. And my class implementaion is not working at all. please help me out. :(</p>\n\n<p>i need to make the above code into a Python Class : thats the requirment :(</p>\n"},{"tags":["python","django","django-urls"],"answer_count":4,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":705,"score":1,"question_id":2030225,"title":"How to get current_app for using with reverse in multi-deployable reusable Django application?","body":"<p>I'm writing reusable app. And I want to deploy it several times.</p>\n\n<p>Here is urls.py:</p>\n\n<pre><code>urlpatterns = patterns('',\n(r'^carphotos/', include('webui.photos.urls', app_name='car-photos') ),\n(r'^userphotos/', include('webui.photos.urls',  app_name='profile-photos') ),)\n</code></pre>\n\n<p>and photos/urls.py:</p>\n\n<pre><code>urlpatterns = patterns('webui.photos.views',\nurl(r'^$', album_list, name=\"album-list\" )\nurl(r'^newalbum/$', album_page, {'create': True}, name=\"album-create\"),)\n</code></pre>\n\n<p>On the album_list view I want to show url for creating new album album_page.</p>\n\n<p>I found that I have to use parameter current_app of reverse function to get proper URL.</p>\n\n<p>But how to get this current_app?\nI thought the answer is something simple. But I can't find it in django documentation.</p>\n\n<p>Thanks, Nick</p>\n"},{"tags":["c++","python","pointers","cython"],"answer_count":0,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":57,"score":4,"question_id":13248992,"title":"Cython std::pair of two pointers, expected an identifier or literal","body":"<p>Why in Cython is possible to wrap</p>\n\n<pre><code>std::pair&lt;int, Foo*&gt; myPair;\n</code></pre>\n\n<p>but not </p>\n\n<pre><code>std::pair&lt;Foo*,Bar*&gt; myPair;\n</code></pre>\n\n<p>In particular, wrapping in Cython the <code>std::pair</code> is done as follows:</p>\n\n<pre><code>pair[int, Foo*]\n</code></pre>\n\n<p>and works smoothly, but when the first element of is also a pointer I have problems:</p>\n\n<pre><code>pair[Foo*,Bar*] myPair2\n</code></pre>\n\n<p>I'm getting </p>\n\n<pre><code>pair[Foo*,Bar*] myPair2\n        ^\n------------------------------------------------------------\ntest.pyx:50:17: Expected an identifier or literal\n</code></pre>\n\n<p>I'm using Cython 0.17.1, g++ 4.4 on Linux</p>\n"},{"tags":["python","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":230,"score":0,"question_id":9917944,"title":"Sobel Function python opencv","body":"<p>I tried using Sobel function in python opencv but I get this error : </p>\n\n<p>terminate called after throwing an instance of 'int'\nAborted</p>\n\n<pre><code>from opencv.highgui import *\nimport cv \nimport sys\n\nimage = cv.LoadImage(\"image.jpg\")\nsize = cv.GetSize(image)\ngray_image = cv.CreateImage(size, 8, 1)\ncv.CvtColor(image, gray_image, cv.CV_RGB2GRAY)\ndf_dx = cv.CreateImage(size, 16, 1)\ncv.Sobel( gray_image, df_dx, 1, 0)\ncv.SaveImage('r.jpg',df_dx)\n</code></pre>\n\n<p>any help ?</p>\n"},{"tags":["python","review-board","pysvn"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12511202,"title":"pysvn-1.7.6 on rhel6,error: Not a URL, existing file, or requirement spec:","body":"<p>I have Python 2.7.3 installed on RHEL 6, and when I tried to install pysvn-1.7.6, I got an error. What should I do?</p>\n\n<pre><code>/search/python/pysvn-1.7.6/Import/pycxx-6.2.4/CXX/Python2/Objects.hxx:2912: warning: deprecated conversion from string constant to 'char*'\nCompile: pysvn_svnenv.cpp into pysvn_svnenv.o\nCompile: pysvn_profile.cpp into pysvn_profile.o\nCompile: /search/python/pysvn-1.7.6/Import/pycxx-6.2.4/Src/cxxsupport.cxx into cxxsupport.o\nCompile: /search/python/pysvn-1.7.6/Import/pycxx-6.2.4/Src/cxx_extensions.cxx into cxx_extensions.o\nCompile: /search/python/pysvn-1.7.6/Import/pycxx-6.2.4/Src/cxxextensions.c into cxxextensions.o\nCompile: /search/python/pysvn-1.7.6/Import/pycxx-6.2.4/Src/IndirectPythonInterface.cxx into IndirectPythonInterface.o\nLink pysvn/_pysvn_2_7.so\nmake: *** No rule to make target `egg'.  Stop.\nerror: Not a URL, existing file, or requirement spec: 'dist/pysvn-1.7.6-py2.7-linux-x86_64.egg'\n</code></pre>\n"},{"tags":["java","python","reference","pass-by-reference"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13245641,"title":"Java Pass By Reference Transcode To Python","body":"<p>I have two questions:</p>\n\n<ol>\n<li><p>If I have the following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private boolean handleCollision(Rectangle_Double test)\n{\n    Rectangle_Double s = test;\n    s.setLocation(s.X+xVelocity, s.Y);\n}\n</code></pre></li>\n</ol>\n\n<p>am I modifying the passed in Rectangle_Double? If so, what would be the best way to copy the passed in Rectangle_Double and modify it?</p>\n\n<p>Second, If I were to code this in python like so:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def handleCollision(collidedLands, testRectangle)\n    s = testRectangle\n    s.setLocation(s.X+xVelocity, s.Y)\n</code></pre>\n\n<p>am I modifying the passed in testRectangle? If so, what would be the best way to copy the passed in testRectangle and modify it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","calculator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":13246863,"title":"Python: Dealing with a second operator in calculator","body":"<p>I am creating a calculator program and I am nearly complete. The last problem I am encountering is dealing with a second operator.</p>\n\n<p>The program takes an expression with a maximum of two operators(ex.2/3*4). It splits it into 2,/,3,*,4 and the uses many varying functions to solve the expression. Now the specific part I am presenting below is the function that solves the first expression, (I have solved the rest of it already):</p>\n\n<pre><code>def firstOperationWithOneOperator(numEx1,numEx2,opEx1):\n\n    if opEx1==\"*\":\n        solution1=numEx1*numEx2\n        print(solution1)\n        return solution1\n    elif opEx1==\"/\":\n        solution1=numEx1/numEx2\n        print(solution1)\n        return solution1\n    elif opEx1==\"+\":\n        solution1=numEx1+numEx2\n        print(solution1)\n        return solution1\n    elif opEx1==\"-\":\n        solution1=numEx1-numEx2\n        print(solution1)\n        return solution1\n</code></pre>\n\n<p>So I now have a working function to solve something with one operator(ex.2/3) as you can see above. I needed some help finding out how to deal with a second operator while keeping the order of operations  in check. So how can I solve an expression such as 2+3*5? I will keep updating my OP with limitations as they are presented, if any. If anything is unclear please ask and I will edit the OP.</p>\n\n<p>EDIT:</p>\n\n<pre><code>def fowoo(nums1,fowoo(nums2,nums3,ops2),ops1):\n    print(fOWOO(nums1, fOWOO(nums2, nums3, ops2), ops1))\n</code></pre>\n"},{"tags":["python","opengl","texture","pyopengl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13248023,"title":"Making a texture translucent in PyOpenGL","body":"<p>In my scene I have a cube within a sphere. I would like to apply a RGB texture to a sphere and make it translucent.  I can import the texture, apply it to the sphere and make it translucent but i am not getting the result I want. </p>\n\n<p>My blend function is <code>glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA)</code></p>\n\n<p>My draw method is as follows:</p>\n\n<pre><code>def DrawGLScene():\n    rotation1  = 60\n    rotation2 = 60\n\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)\n    glEnable(GL_BLEND)\n    glLoadIdentity()\n    glTranslatef(0.0, 0.0, -8.0)\n    glRotatef(rotation1, 1.0, 0.0, 0.0)\n    glRotatef(rotation2, 0.0, 1.0, 0.0)\n    glColor4f(1.0,1.0,1.0,1.0)\n\n    glutSolidCube(2);\n    glEnable(GL_COLOR_MATERIAL)\n    glEnable(GL_TEXTURE_2D)\n    glBindTexture(GL_TEXTURE_2D,1)\n    glColor4f(1.0,1.0,1.0,0.3)\n    Q=gluNewQuadric()\n    gluQuadricNormals(Q, GL_SMOOTH)\n    gluQuadricTexture(Q, GL_TRUE)\n    glTexGeni(GL_S, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)\n    glTexGeni(GL_T, GL_TEXTURE_GEN_MODE, GL_SPHERE_MAP)\n    gluSphere(Q, 2.35, 32, 16)\n    glDisable(GL_TEXTURE_2D)\n\n    glutSwapBuffers()\n</code></pre>\n\n<p>The result looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/EmC5m.png\" alt=\"Cant see the back side of the sphere and artifacts on the sphere\"></p>\n\n<p>It seemed there were depth problems as I could only see the back side of the sphere in parts in the bottom right.  I then set glDepthFunc(GL_LESS) for drawing the cube and glDepthFunc(GL_ALWAYS) for drawing the sphere which resulted in:</p>\n\n<p><img src=\"http://i.stack.imgur.com/itKig.png\" alt=\"Can now see the back of the sphere THROUGH the cube\"></p>\n\n<p>Now the back side of the sphere is showing through the cube.</p>\n\n<p>I have tried multiple combinations of glDepthFunc() for the objects but to no avail.  Is the problem to do with how I am handling depth, blending or something else?</p>\n\n<p>EDIT:</p>\n\n<p>Using <code>glEnable(GL_CULL_FACE)</code> and <code>glCullFace(GL_BACK)</code> in the first example gives me the following which is still not correct as now you cannot see the back of the sphere at all.</p>\n\n<p><img src=\"http://i.stack.imgur.com/DLv4M.png\" alt=\"with culling enabled\"></p>\n"},{"tags":["python","twisted"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":982,"score":2,"question_id":4314376,"title":"How can I install a python .egg file","body":"<p>I am trying to install twisted on python 2.6 and it seems that the Zop interface is missing.\nAlso it seems that it is a <code>.egg</code> file.  I downloaded this <code>.egg</code> file, now how can I install it?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13248040,"title":"Acess modules from different directory","body":"<p>I have the following file structure</p>\n\n<pre><code>python/\n    A/\n        a.py\n        b.py\n    B/\n        c.py\n</code></pre>\n\n<p>So there are two folders A and B under the folder python and I want to import modules from a.py and b.py - import them in c.py ( B folder)</p>\n\n<p>I wrote an <code>__init__.py</code> with <code>__all__=['modulename']</code> and placed it in folder <code>B</code>. Now in my <code>c.py</code> I import the modules using <code>import</code> statement. This however does not seem to work. Any thoughts on how I can achieve the import of the modules in above case?</p>\n"},{"tags":["python","build","open-source","openvpn"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13248522,"title":"Error when build OpenVPN on Windows by Python based build","body":"<p>I have attempted to build OpenVPN verison 2.2.2 for Windows (client) using the Python based build script and I get the following errors:</p>\n\n<pre><code>   C:\\openvpn-build\\openvpn-2.2.2\\win&gt;python build_all.py -u\nDoing an unsigned build as requested\nTraceback (most recent call last):\n  File \"build_all.py\", line 69, in &lt;module&gt;\n    main(config)\n  File \"build_all.py\", line 51, in main\n    config_all(config)\n  File \"C:\\openvpn-build\\openvpn-2.2.2\\win\\config_all.py\", line 8, in main\n    config_ti(config)\n  File \"C:\\openvpn-build\\openvpn-2.2.2\\win\\config_ti.py\", line 13, in main\n    head_comment='# %s\\n\\n' % autogen)\n  File \"C:\\openvpn-build\\openvpn-2.2.2\\win\\wb.py\", line 190, in preprocess\n    fin = open(in_fn)\nIOError: [Errno 13] Permission denied: 'C:\\\\openvpn-build\\\\tapinstall\\\\7600\\\\sou\nrces'\n</code></pre>\n\n<p>Please help me fixed this error?</p>\n"},{"tags":["python","mysql","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13247957,"title":"MySQL did not give an error, but none of the rows got filled","body":"<p>I tried to fill a table in a database using MySQLdb. It did not give any errors, and once gave the warning </p>\n\n<pre><code>main.py:23: Warning: Data truncated for column 'other_id' at row 1\n  cur.execute(\"INSERT INTO map VALUES(%s,%s)\",(str(info[0]).replace('\\n',''), str(info[2].replace('\\n','').replace(\"'\",\"\"))))\n</code></pre>\n\n<p>so I thought it was working fine. However, when it was finished and I did a row count it turned out that nothing was added. Why was the data not added to the database? The code is below</p>\n\n<pre><code>def fillDatabase():\n    db = MySQLdb.connect(host=\"127.0.0.1\", \n                         user=\"root\", \n                         passwd=\"\", \n                         db=\"uniprot_map\") \n\n    cur = db.cursor() \n    conversion_file = open('idmapping.dat')\n    for line in conversion_file:\n        info = line.split('\\t')\n        cur.execute(\"INSERT INTO map VALUES(%s,%s)\",(str(info[0]).replace('\\n',''), str(info[2].replace('\\n','').replace(\"'\",\"\"))))\n\ndef test():\n    db = MySQLdb.connect(host=\"127.0.0.1\", \n                         user=\"root\", \n                         passwd=\"\", \n                         db=\"uniprot_map\") \n\n    cur = db.cursor() \n    cur.execute(\"SELECT COUNT(*) FROM map\")\n    rows = cur.fetchall()\n\n    for row in rows:\n        print row\n\ndef main():\n    fillDatabase()\n    test()\n</code></pre>\n"},{"tags":["python","django","django-forms","csrf"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2056,"score":4,"question_id":8089224,"title":"CSRF Token missing or incorrect","body":"<p>Beginner at Django here, I've been trying to fix this for a long time now.\nI do have 'django.middleware.csrf.CsrfViewMiddleware' in my middleware classes and I do have the token in my post form.</p>\n\n<p>Heres my code, what am I doing wrong?</p>\n\n<pre><code>from django.contrib.auth.forms import UserCreationForm\nfrom django.shortcuts import render_to_response\nfrom django.http import HttpResponseRedirect\nfrom chartsey.authentication.forms import RegistrationForm\nfrom django.template import RequestContext\nfrom django.core.context_processors import csrf\n\ndef register(request):\n\n    if request.method == 'POST':\n        c = RequestContext(request.POST, {})\n        form = RegistrationForm(c)\n        if form.is_valid():\n            new_user = form.save()\n            return HttpResponseRedirect(\"/\")\n    else:\n        form = RegistrationForm()\n\n    return render_to_response(\"register.html\",  {'form': form,  }, )\n</code></pre>\n\n<p>Here's my Template:</p>\n\n<pre><code>{% block content %}\n\n    &lt;h1&gt;Register&lt;/h1&gt;\n    &lt;form action=\"\" method=\"POST\"&gt; {% csrf_token %}\n        {{ form.as_p }}\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;/form&gt;\n\n{% endblock %}\n</code></pre>\n"},{"tags":["python","xml","xml-parsing"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13247749,"title":"how to change a node value in python","body":"<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;info&gt;\n  &lt;/tags&gt;\n  &lt;/tags&gt;\n  &lt;area&gt;\n&lt;media&gt;\n    &lt;options&gt;\n         &lt;name&gt;Jaipur&lt;/name&gt;\n    &lt;/options&gt;\n&lt;/media&gt;\n  &lt;/area&gt;\n&lt;/info&gt;\n</code></pre>\n\n<p><br>\ni am totaly new in python, here is my xml file and i want to edit element value at run time in python<br>\nit means I want to change the <strong><code>&lt;name&gt;Jaipur&lt;/name&gt;</code> to <code>&lt;name&gt;Mumbai&lt;/name&gt;</code></strong></p>\n"},{"tags":["python","vbscript","sikuli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13231834,"title":"How to get vbscript variables in sikuli?","body":"<p>I am sending excel data to sikuli using excel macro when clicking on a button in excel.I am using vbscript shell command to run the sikuli script by sending parameters like </p>\n\n<pre><code>rep = Shell(\"C:\\Sikuli\\Sikuli-IDE.exe -r C:\\iP4-Projects\\sikuliExamples\\test.sikuli\" &amp; RCount &amp; \" \" &amp; CCount)\n</code></pre>\n\n<p>But i dont know how to get these two parameters in sikuli .please help me if any one knows the syntax to get vbscript variables in sikuli or in python. </p>\n\n<p>Thanks.</p>\n"},{"tags":["python",".net","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13246470,"title":"Is it possible to prevent .NET runtime from unloading DLLs on exit?","body":"<p>We're writing a mixed mode application in Python, Qt4 (4.6.1 at the moment) and .NET (for integration reasons).</p>\n\n<p>Now, when the app exists normally, the .NET runtime is unloaded, which sens PROCESS_DETACH to all DLLs. This seem to cause a crash when QHostInfoLookupManager' destriuctor estrys the threadpool.</p>\n\n<p>Is there some way to prevent this, besides:</p>\n\n<ul>\n<li>TerminateProcess?</li>\n<li>Move .NET code to separate process to avoid Qt issues.</li>\n</ul>\n\n<p>The call stack is as follows, when I get a crash:</p>\n\n<pre><code>python26.dll!1e02edbf()     \n[Frames below may be incorrect and/or missing, no symbols loaded for python26.dll]  \npython26.dll!1e078aba()     \nQtCore.pyd!01971058()   \nQtCore4.dll!qt_message_output(QtMsgType msgType=QtWarningMsg, const char * buf=0x077526a8)  Line 2223 + 0x1c bytes  C++\nQtCore4.dll!qt_message(QtMsgType msgType=QtWarningMsg, const char * msg=0x671b8464, char * ap=0x0012f1d4)  Line 2297    C++\nQtCore4.dll!qWarning(const char * msg=0x671b8464, ...)  Line 2378 + 0x11 bytes  C++\nQtCore4.dll!QWaitCondition::~QWaitCondition()  Line 156 C++\nQtCore4.dll!QThreadPoolPrivate::~QThreadPoolPrivate()  + 0xa2 bytes C++\nQtCore4.dll!QThreadPoolPrivate::`scalar deleting destructor'()  + 0x8 bytes C++\nQtCore4.dll!QObject::~QObject()  Line 992 + 0x16 bytes  C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 430 + 0xf bytes   C++\nQtNetwork4.dll!QHostInfoLookupManager::~QHostInfoLookupManager()  Line 454 + 0x23 bytes C++\nQtNetwork4.dll!QHostInfoLookupManager::`scalar deleting destructor'()  + 0x8 bytes  C++\nQtNetwork4.dll!`theHostInfoLookupManager'::`8'::`dynamic atexit destructor for 'cleanup''()  + 0x14 bytes   C++\nQtNetwork4.dll!_CRT_INIT(void * hDllHandle=0x00385f30, unsigned long dwReason=3694344, void * lpreserved=0x00385f08)  Line 449  C\nQtNetwork4.dll!__DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000000)  Line 560 + 0x8 bytes  C\nQtNetwork4.dll!_DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000001)  Line 510 + 0xe bytes   C\nntdll.dll!_LdrpCallInitRoutine@16()  + 0x14 bytes   \nntdll.dll!_LdrShutdownProcess@0()  - 0xfe bytes \nkernel32.dll!__ExitProcess@4()  + 0x42 bytes    \nkernel32.dll!7c81cb26()     \nmscorwks.dll!SafeExitProcess()  + 0xb7 bytes    \nmscorwks.dll!DisableRuntime()  - 0x199708 bytes \nmscoreei.dll!RuntimeDesc::ShutdownAllActiveRuntimes()  + 0x873e bytes   \nmscoreei.dll!_CorExitProcess@4()  + 0x26 bytes  \nmscoree.dll!_ShellShim_CorExitProcess@4()  + 0x94 bytes \nmsvcr90.dll!__crtCorExitProcess(int status=0)  Line 716 C\nmsvcr90.dll!__crtExitProcess(int status=0)  Line 722 + 0x8 bytes    C\nmsvcr90.dll!doexit(int code=0, int quick=0, int retcaller=0)  Line 632  C\nmsvcr90.dll!exit(int code=0)  Line 412 + 0xc bytes  C\npython26.dll!1e030405()     \npython26.dll!1e02cd93()     \npython26.dll!1e02e887()     \npython26.dll!1e02ccba()     \nMyApp.exe!orz::runPythonFile(const char * file=0x00a203f0, QDir pydir={...}, QString pypath={...})  Line 66 + 0x3e bytes    C++\nMyApp.exe!orz::the_main(int argc=2, char * * argv=0x003860e0)  Line 132 + 0x50 bytes    C++\nMyApp.exe!main(int argc=2, char * * argv=0x003860e0)  Line 152 + 0xd bytes  C++\nMyApp.exe!_WinMain@16()  + 0xb8 bytes   \nkernel32.dll!_BaseProcessStart@4()  + 0x23 bytes    \n</code></pre>\n\n<p>Maybe there's something my message handling, but I don't want the dll unload from .net anyway. I tried altering the my logging a bit to avoid the python call, but then I  get stuck \"no usermode threads running, app is deadlocked\",  seems related to <a href=\"http://qt-project.org/forums/viewthread/20462\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/20462</a>.</p>\n\n<pre><code>ntdll.dll!_KiFastSystemCallRet@0()  \nntdll.dll!_NtWaitForSingleObject@12()  + 0xc bytes  \nkernel32.dll!_WaitForSingleObjectEx@12()  + 0x8b bytes  \nkernel32.dll!_WaitForSingleObject@8()  + 0x12 bytes \nQtCore4.dll!QWaitCondition::wait(QMutex * mutex=0x07ccf200, unsigned long time=4294967295)  Line 175 + 0x15 bytes   C++\nQtCore4.dll!QThreadPoolPrivate::waitForDone()  Line 295 + 0x10 bytes    C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 429   C++\n</code></pre>\n\n<p>Qt does not support dll unloading, as quoted from the above post</p>\n\n<blockquote>\n  <p>“To be perfectly honest, I don’t know what to do with this task. I\n  seem to recall seeing cases where Windows threads would disappear at\n  application exit, yet the HANDLE to those threads would not be\n  signaled (meaning your app would deadlock if waiting on the handle).</p>\n  \n  <p>I am tempted to simply mark this as “Out of Scope”, since, as Thiago\n  says, we do not test nor really support unloading the Qt libraries\n  from the application once they have been loaded.”</p>\n</blockquote>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13243586,"title":"Finding index of list item which is assembled by Fraction class","body":"<p>I'm trying to find the index of specifyed element in my list that looks like this for example \nWhich is generated by xrange with Fractional.</p>\n\n<pre><code>&gt;&gt; print lst\n[Fraction(1, 8), Fraction(1, 7), Fraction(1, 6), Fraction(1, 5), Fraction(1, 4),          Fraction(2, 7), Fraction(1, 3), Fraction(3, 8), Fraction(2, 5), Fraction(3, 7), Fraction(1,   2), Fraction(4, 7), Fraction(3, 5), Fraction(5, 8), Fraction(2, 3), Fraction(5, 7), Fraction(3, 4), Fraction(4, 5), Fraction(5, 6), Fraction(6, 7), Fraction(7, 8)] \n</code></pre>\n\n<p>I have been trying everything. \nWhy doesn't this work. </p>\n\n<pre><code>lst.index(1,6) \n</code></pre>\n\n<p>or </p>\n\n<pre><code>lst.index( Fraction(1,6) )\n</code></pre>\n\n<p>and I have tried many more but I always get</p>\n\n<pre><code>print lst.index(Fraction(1,6))\nValueError: Fraction(1, 6) is not in list\n</code></pre>\n\n<p>Any advice ?</p>\n\n<p>More on how I created the list : </p>\n\n<pre><code>for d in xrange(1,limit+1):\n        for n in xrange(1,limit+1):\n                x = Fraction(n,d)\n                lst.append(x)\n</code></pre>\n"},{"tags":["python","google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":320,"score":0,"question_id":11364878,"title":"Upload images/video to google cloud storage using google app engine","body":"<p>I have read the question from \"Sending images to google cloud storage using google app engine\". (http://goo.gl/4nLno)\nHowever, the codes in the answer that the file will upload to blobstore first, so the file can not be exceeded 32MB.</p>\n\n<p>How can I upload the large file to Google Cloud Storage directly?</p>\n\n<p>I have checked the official document \"Upload Objects\" (http://goo.gl/oKmei), but I still don't know how to write a form to post a large file.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["python","numpy","plot","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13247735,"title":"Python Plotting via Matplotlib - Can't get xlabel and ylabel to show up on plot","body":"<p>Here is a snippet of some running code. The plot generates, however, the xlabel and ylabel won't show up for some reason. </p>\n\n<pre><code>    pl.ion()\n    pl.plot(t[1000:10000:250],E_values,'ro')\n    pl.xlabel('Time')\n    pl.ylabel('Concentration')\n    pl.legend(['[E2F]'],loc='lower right')\n    pl.show()\n</code></pre>\n\n<p>Does anyone know what I'm doing wrong? I'm on Mac OS X.Thank you. </p>\n"},{"tags":["python","redis"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":22,"score":-3,"question_id":13247793,"title":"sequence number of jobs in python rq","body":"<p>I use <a href=\"http://python-rq.org/\" rel=\"nofollow\">python rq</a> for storing jobs.</p>\n\n<p>So I need function, that by job redis key return sequence number of this job in queue.</p>\n"},{"tags":["python","apache2","execution","uwsgi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13247780,"title":"what are all the differences between running python code in apache2+uwsgi vs. command line?","body":"<p>consider the following python code (running as apache server's user in all cases):</p>\n\n<pre><code>import subprocess as sp\n_fname_in ='/path/to/existing/dir/file_in.pdf'\n_fname_out='/path/to/existing/dir/file_out.pdf'\n_from_page=1\n_to_page=4\ncmd = [\n    '/usr/bin/pdftk',\n    'A=%(_fname_in)s'%locals(),\n    'cat',\n    '%(_from_page)s-%(_to_page)s'%locals(),\n    'output',\n    '%(_fname_out)s'%locals(),\n]\np = sp.Popen(cmd,stdout=sp.PIPE,stderr=sp.PIPE)\noutput, errors = p.communicate()\n</code></pre>\n\n<p>The code above behaves differently when running in uwsgi, vs. ipython:</p>\n\n<ul>\n<li>ipython - simply works.</li>\n<li>when accessed via apache + uwsgi, the code simply gets stuck on the last line. </li>\n</ul>\n\n<p>When THAT happens, ps output shows 2 processes related to that command:</p>\n\n<ol>\n<li><p>shell invocation with PPID of the uwsgi python's PID, with cmd line as follows:</p>\n\n<p>sh -c /usr/bin/pdftk A /path/to/existing/dir/file_in.pdf </p></li>\n<li>the pdftk process itself, with this \"A &lt;>\" something.</li>\n</ol>\n\n<p>Note something replaced <code>'='</code> with <code>' '</code>\nNow, if I am running that very command from ipython, I am getting 3rd behaviour: a syntax error from pdftk.\nWhat confuses me is the fact the same command, under the SAME SHELL renders different results.</p>\n\n<p>Please explain why this may happen....</p>\n"},{"tags":["python","python-2.7"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13246483,"title":"python program wraparound","body":"<p>I have the following program statement (program1.py)</p>\n\n<p>I have a program 1:</p>\n\n<pre><code>try:\n\nexcept:\n</code></pre>\n\n<p>I have another program 2 (program2.py):</p>\n\n<pre><code>def something: \n      print hello\n</code></pre>\n\n<p>is there a way when program 1 is imported into program 2 , that program 1 wraps around program 2, so the program should be</p>\n\n<pre><code>try:\n   def something: \n          print hello    # all program 2 components\n\nexcept:\n</code></pre>\n\n<p>I am confused on how to do this and any pointers would be appreciated </p>\n"},{"tags":["javascript","python","coldfusion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13245480,"title":"Javascript popUp cfmail in Python","body":"<p>Using BeautifulSoup I extracted email links from a page.  I am interested in how you could send an email to links that produce a pop up email form.</p>\n\n<p>More simply put:\nIs is it <em>possible</em> to send an email to the an address with only this data?</p>\n\n<pre><code>href = javascript:popUp('cfmail.cfm?LName=LastName&amp;FName=FirstName')\n</code></pre>\n\n<p>Or if I follow the link in code is it possible to fill out the email form that it generates?</p>\n\n<p>Thank you</p>\n"},{"tags":["python","smtp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13246456,"title":"Cannot send an email with python smtp","body":"<p>I am developing an application using python where I need to send a file through mail. I wrote a program to send the mail but dont know there's something wrong. The code is posted below. Please any one help me with this smtp library. Is there's anything i m missing? And also can someone please tell me what will be the host in smtp! I am using smtp.gmail.com.\nAlso can any one tell me how can i email a file (.csv file). Thanks for the help!</p>\n\n<pre><code>#!/usr/bin/python\n\nimport smtplib\n\nsender = 'someone@yahoo.com'\nreceivers = ['someone@yahoo.com']\n\nmessage = \"\"\"From: From Person &lt;someone@yahoo.com&gt;\nTo: To Person &lt;someone@yahoo.com&gt;\nSubject: SMTP e-mail test\n\nThis is a test e-mail message.\n\"\"\"\n\ntry:\n   smtpObj = smtplib.SMTP('smtp.gmail.com')\n   smtpObj.sendmail(sender, receivers, message)         \n   print \"Successfully sent email\"\nexcept:\n   print \"Error: unable to send email\"\n</code></pre>\n"},{"tags":["python","python-3.x","python-c-api","python-c-extension","python-extensions"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13075843,"title":"Python C extension: return PyFloat_FromDouble(double) segfault","body":"<p>I recently converted some slow python code into a C extension. It works beautifully, except that it generates a segfault at the 162nd call into it, right at the return statement.</p>\n\n<p>Here's how it works. Once, prior to all of the calls to the function I want to compute, I load the data into memory (remembering to INCREF the parent object):</p>\n\n<pre><code>static PyObject *grm_loadDosage(PyObject *self, PyObject *args) {\n /***\n Load the dosage matrix into global memory\n Global variables: DOSAGES_PYMAT - will be a pointer to the PyArrayObject of the dosage array (must incref this)\n                   DOSAGES - will be a pointer to the double array underlying DOSAGES_PYMAT\n ***/\n PyArrayObject *dosageMatrixArr;\n if ( ! PyArg_ParseTuple(args,\"O\",&amp;DOSAGES_PYMAT_OBJ) ) return NULL;\n if ( NULL == DOSAGES_PYMAT_OBJ ) return NULL;\n\n Py_INCREF(DOSAGES_PYMAT_OBJ);\n\n /* from PyObject to Python Array */\n dosageMatrixArr = pymatrix(DOSAGES_PYMAT_OBJ);\n /* get the row and col sizes */\n N_VARIANTS = dosageMatrixArr-&gt;dimensions[0];\n N_SAMPLES = dosageMatrixArr-&gt;dimensions[1];\n DOSAGES = pymatrix_to_Carray(dosageMatrixArr);\n Py_RETURN_TRUE;\n}\n</code></pre>\n\n<p>(see <a href=\"http://www.scipy.org/Cookbook/C_Extensions/NumPy_arrays\" rel=\"nofollow\">http://www.scipy.org/Cookbook/C_Extensions/NumPy_arrays</a> for the C-array method). I then reference the loaded double[][], DOSAGES in the function I will call from python:</p>\n\n<pre><code>static PyObject *grm_calcdistance(PyObject *self, PyObject *args) {\n /** Given column indeces (samples) of DOSAGES, and an array of row indeces (the variants missing for one or both),\n     calculate the distance **/\n int samI,samJ,nMissing, *missing;\n PyObject *missingObj;\n PyArrayObject *missingArr;\n printf(\"debug1\\n\");\n if ( ! PyArg_ParseTuple(args,\"iiOi\",&amp;samI,&amp;samJ,&amp;missingObj,&amp;nMissing) ) return NULL;\n if ( NULL == missingObj ) return NULL;\n missingArr = pyvector(missingObj);\n missing = pyvector_to_Carray(missingArr);\n double replaced1[nMissing];\n double replaced2[nMissing];\n printf(\"debug2\\n\");\n\n int missingVectorIdx;\n int missingVariantIdx;\n // for each sample, store the dosage at the missing site (as it could be missing\n // in the OTHER sample), and replace it with 0.0 in the dosage matrix\n for ( missingVectorIdx = 0; missingVectorIdx &lt; nMissing; missingVectorIdx++ ) {\n  printf(\"debugA: %d &lt; %d\\n\",missingVectorIdx,nMissing);\n  missingVariantIdx = missing[missingVectorIdx];\n  replaced1[missingVariantIdx] = DOSAGES[missingVariantIdx][samI];\n  replaced2[missingVariantIdx] = DOSAGES[missingVariantIdx][samJ];\n  printf(\"debugB\\n\");\n  DOSAGES[missingVariantIdx][samI]=0.0;\n  DOSAGES[missingVariantIdx][samJ]=0.0;\n }\n\n // calculate the distance (this uses DOSAGES which we just modified)\n double distance = _calcDistance(samI,samJ);\n\n printf(\"debug3\\n\");\n // put the values that we replaced with 0.0 back into the matrix\n for ( missingVectorIdx = 0; missingVectorIdx &lt; nMissing; missingVectorIdx++ ) {\n  missingVariantIdx = missing[missingVectorIdx];\n  DOSAGES[missingVariantIdx][samI] = replaced1[missingVariantIdx];\n  DOSAGES[missingVariantIdx][samJ] = replaced2[missingVariantIdx];\n }\n printf(\"debug4: %f\\n\",distance);\n // grab the python object wrapper and return it\n PyObject * distPy = PyFloat_FromDouble((double)distance);\n printf(\"debug5\\n\");\n if ( NULL == distPy )\n  printf(\"and is NULL\\n\");\n return distPy;\n\n}\n</code></pre>\n\n<p>With tons of debug statements (that you see), I've localized the segfault to the return statement. That is, after the instantiation of the python float object, but somewhere between calling return from C, and the next executed line of python (which is, you guessed it, a print(\"debugReturned\"). What I see in stdout is:</p>\n\n<pre><code>debug4: -0.025160\ndebug5\nSegmentation fault\n</code></pre>\n\n<p>So the double is not a strange value, the python object is properly created, it's not NULL, but there's some error between returning from C, and continuing in python. Sources online suggest that this might be a INCREF/DECREF problem, but also state that PyFloat_FromDouble() and Py_BuildValue(\"f\",double) generate new references, so don't need to be INCREF'd. Both choices generate this same result. While I'm reasonably certain that I need to INCREF the PyObject holding my matrix during my grm_loadDosage function, I've tried both with and without that INCREF, with the same behavior.</p>\n\n<p>Any ideas what's going on?</p>\n\n<p>Thanks</p>\n\n<p>Also, a stacktrace:</p>\n\n<pre><code>#0  0x0000000000000000 in ?? ()\n#1  0x000000000045aa5c in PyEval_EvalFrameEx (f=0x2aaae1ae3f60, throwflag=&lt;value optimized out&gt;) at Python/ceval.c:2515\n#2  0x000000000045ecb4 in call_function (f=0x3fb7494970227c55, throwflag=&lt;value optimized out&gt;) at Python/ceval.c:4009\n#3  PyEval_EvalFrameEx (f=0x3fb7494970227c55, throwflag=&lt;value optimized out&gt;) at Python/ceval.c:2692\n#4  0x000000000045ecb4 in call_function (f=0x95c880, throwflag=&lt;value optimized out&gt;) at Python/ceval.c:4009\n#5  PyEval_EvalFrameEx (f=0x95c880, throwflag=&lt;value optimized out&gt;) at Python/ceval.c:2692\n#6  0x000000000045f626 in PyEval_EvalCodeEx (_co=0x98abe0, globals=&lt;value optimized out&gt;, locals=&lt;value optimized out&gt;, args=0x0, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, kwdefs=0x0,\n    closure=0x0) at Python/ceval.c:3350\n#7  0x000000000045f74b in PyEval_EvalCode (co=0x146b098, globals=0x71, locals=0xc7) at Python/ceval.c:767\n#8  0x0000000000482fab in run_mod (fp=0x881b80, filename=0x2aaaae257de0 \"/humgen/gsa-hphome1/chartl/projects/t2d/gcta/resources/bin/cGRM/calculateGRM.py\", start=&lt;value optimized out&gt;,\n    globals=0x81e340, locals=0x81e340, closeit=1, flags=0x7fffffffbfd0) at Python/pythonrun.c:1783\n#9  PyRun_FileExFlags (fp=0x881b80, filename=0x2aaaae257de0 \"/humgen/gsa-hphome1/chartl/projects/t2d/gcta/resources/bin/cGRM/calculateGRM.py\", start=&lt;value optimized out&gt;, globals=0x81e340,\n    locals=0x81e340, closeit=1, flags=0x7fffffffbfd0) at Python/pythonrun.c:1740\n#10 0x0000000000483268 in PyRun_SimpleFileExFlags (fp=&lt;value optimized out&gt;, filename=0x2aaaae257de0 \"/humgen/gsa-hphome1/chartl/projects/t2d/gcta/resources/bin/cGRM/calculateGRM.py\", closeit=1,\n    flags=0x7fffffffbfd0) at Python/pythonrun.c:1265\n#11 0x00000000004964d7 in run_file (argc=&lt;value optimized out&gt;, argv=0x7df010) at Modules/main.c:297\n#12 Py_Main (argc=&lt;value optimized out&gt;, argv=0x7df010) at Modules/main.c:692\n#13 0x000000000041563e in main (argc=11, argv=0x7fffffffc148) at ./Modules/python.c:59\n</code></pre>\n"},{"tags":["python","cocos2d","game"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13246677,"title":"Cocos2d: AttributeError: 'Director' object has no attribute '_window_virtual_width'","body":"<p>We are using the cocos2d framework to create a game.  We're completely new to this framework, so we cannot get the director object to work as we are expecting.  Here is our code skeleton: </p>\n\n<pre><code>from cocos.director import director\nfrom cocos.layer import base_layers\n\n\nimport sys\nimport math\nimport os\n\nimport pyglet\nimport cocos\n\n\nworld_width = 1000\nworld_height = 1000\nclass NetworkMap(cocos.layer.ScrollableLayer):\n    def __init__(self, world_width, world_height):\n        self.world_width = world_width\n        self.world_height = world_height\n        super(NetworkMap, self).__init__()\n        bg = ColorLayer(170,170,0,255,width=500,height=500)\n        self.px_width = world_width\n        self.px_height = world_height\n        self.add(bg,z=0)\n\nclass TestScene(cocos.scene.Scene):\n    def __init__(self):\n        super(TestScene,self).__init__()\n\n    def on_enter():\n        director.push_handlers(self.on_cocos_resize)\n        super(TestScene, self).on_enter()\n\n    def on_cocos_resize(self, usable_width, usable_height):\n        self.f_refresh_marks()\n\ndef main():\n    scene = TestScene()\n    director.init(world_width, world_height, do_not_scale=True)\n    world_map = NetworkMap(world_width, world_height)\n    scroller = cocos.layer.ScrollingManager()\n    scroller.add(world_map)\n    scene.add(scroller)\n    director.run(scene)\n</code></pre>\n\n<p>So for some reason the director doesn't have all the attributes we want. \nOur stack trace is:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"map.py\", line 49, in &lt;module&gt;\nmain()\nFile \"map.py\", line 39, in main\nscene = TestScene()\nFile \"map.py\", line 29, in __init__\nsuper(TestScene,self).__init__()\nFile \"/usr/local/lib/python2.7/dist-packages/cocos2d-0.5.5-py2.7.egg/cocos/scene.py\",     line 95, in __init__\nsuper(Scene,self).__init__()\nFile \"/usr/local/lib/python2.7/dist-packages/cocos2d-0.5.5-py2.7.egg/cocos/cocosnode.py\", line 114, in __init__\nself.camera = Camera()\nFile \"/usr/local/lib/python2.7/dist-packages/cocos2d-0.5.5-py2.7.egg/cocos/camera.py\", line 56, in __init__\n self.restore()\n File \"/usr/local/lib/python2.7/dist-packages/cocos2d-0.5.5-py2.7.egg/cocos/camera.py\", line 76, in restore\n width, height = director.get_window_size()\n File \"/usr/local/lib/python2.7/dist-packages/cocos2d-0.5.5-py2.7.egg/cocos/director.py\", line 522, in get_window_size\n return ( self._window_virtual_width, self._window_virtual_height)\nAttributeError: 'Director' object has no attribute '_window_virtual_width'\n</code></pre>\n"},{"tags":["python","mvc","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13247089,"title":"QAbstractTableModel and QComboBox together","body":"<p>I have a subclass of a <code>QAbstractTableModel</code> and I want to use <code>QComboBox</code> to display a dropbox for this table.</p>\n\n<p>But by default it shows just the first column of my table, which is not what I want. I've tried <code>setModelColumn</code> to shows the column 1 instead of 0 but it did not work.</p>\n\n<p>After having a look around in the internet, I've found 2 solutions:</p>\n\n<ol>\n<li>Create another <code>QAbstractListModel</code> from the same data in the <code>QAbstractTableModel</code></li>\n<li>Use a <code>QSortFilterProxyModel</code> to hide other columns</li>\n</ol>\n\n<p>Which is the best?\nThanks</p>\n"},{"tags":["javascript","python","html","xml","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13246974,"title":"Get XML from python HttpResponse","body":"<p>Is there any way how to GET xml data (via Javascript) from python HttpResponse and place it into body element on webpage?</p>\n\n<p>There is example of my xml in python:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\nroot = ET.Element(\"table\")\n\ntr = ET.SubElement(root, \"tr\")\ntd = ET.SubElement(tr, \"td\")\ntd.text = \"some text\"\ntree = ET.ElementTree(root) \n\nresponse = HttpResponse(tree)\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function() {\n  $.get(\"http://localhost:8000/getXml\", function(data){\n    alert(data);\n  });      \n});\n</code></pre>\n\n<p>Thanks for help.</p>\n"},{"tags":["python","database","algorithm","sets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13246654,"title":"Python finding out sets highest match","body":"<p>I want to make a tool to help me planning the production. </p>\n\n<p>I have table of 2000 products, and roughly 1500 different model plates (I am working in a foundry). Each model plate has up to 10 different (or same) models on it (models = products). When I get the order I break it down and end up with list such as:</p>\n\n<pre><code>product1 = 200\nproduct2 = 500\nproduct3 = 300\n</code></pre>\n\n<p>where productX is code and numbers are needed ammounts.</p>\n\n<p>I'd like to make a tool that would scan through the model plates and find me the plates that have most of the ordered pieces on it. I would also like to do it in Python because I am familiar with it and I have wrote programs that interact with our database before.</p>\n\n<p>Now I hope that I explained it well enough :)</p>\n"},{"tags":["python","tree","python-2.7","persistence"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":13245618,"title":"How to save big class (Trie class) in python ? please tell me","body":"<p>How to save big class (Trie class) in python ? I really Need your idea\nplease answer me! \nI read 60MB of text file, split each word inside file then use it to construct special tree called Trie() \nI spent about 10 hours to construct the Trie(). after this process finish, I want to save the class that I have already run because I do not want to spend 10 hour again when I want to use in the future.\nThe problem that I have is : \nHow to save Trie() class in python , could you please answer me? because import 'pickle' can not be use to save Trie() class in this case. (the Trie class is very big)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12839293,"title":"how to wait until the required window title appers in pywinauto","body":"<p>How to wait until the required window title to be appers using <strong>pywinauto</strong>?</p>\n\n<p>I have to wait for required window title, once I found that window title have to do some action on that window. How I can do this?</p>\n"},{"tags":["python","search-replace"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13236875,"title":"python replace ; with , if line starts with keyword","body":"<p>I have a textfile containing thousands of entries like:</p>\n\n<pre><code>@INBOOK{Abu-Lughod1991,\n  chapter = {Writing against culture},\n  pages = {137-162},\n  title = {Recapturing anthropology},\n  publisher = {School of American Research Press},\n  year = {1991},\n  editor = {Richard Fox},\n  author = {Abu-Lughod, Lila},\n  address = {Santa Fe /NM},\n  abstract = {Im Zusammenhang mit der Debatte um die writing culture fomuliert AL\n        eine feministische Kritik und zeigt, wie von dort doch Anregungen\n        für die Reflektion der Schreibweise und Repräsentation gekommen sind.*},\n  crossref = {Rabinow1986},\n  keywords = {Frauen; Feminismus; Erzählung als EG; Repräsentation; Roman; Schreibtechnik;\n        James Clifford; writing culture; Dialog;},\n  owner = {xko},\n  systematik1 = {Anth\\theor\\Ethnographie},\n  systematik2 = {Anth\\theor\\Text &amp; Ges},\n  timestamp = {1995-12-02}\n}\n</code></pre>\n\n<p>I will replace all semicolons in the keywords - field to comma. But only in the keywords field - other fields should be untouched:</p>\n\n<pre><code>keywords = {Frauen, Feminismus, Erzählung als EG, Repräsentation, Roman, Schreibtechnik, James Clifford, writing culture, Dialog,},\n</code></pre>\n\n<p>I'm not a programmer and maybe the following code-snippet is a good starting point and i would really appreciate if someone could complete it.</p>\n\n<pre><code>outfile = open(\"literatur_comma.txt\", \"w\") \nfor line in open(\"literatur_semicolon.txt\", \"r\"): \n    if line  # starts with \"keywords\" replace all semicolon with comma\n        outfile.write(line) # write in new file\noutfile.close() \n</code></pre>\n\n<p>Thanks a lot!</p>\n\n<p>EDIT: \nThanks for all your answers and codes, that's great!\nI did a mistake in my thoughts and if i use my code-wrapper (with outfile), then it creates a new file with the keywords in it.\nHow can i use the same file and replaces only the semicolons to comma in keywords line?</p>\n"},{"tags":["python","tags","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":4,"view_count":95,"score":-2,"question_id":13233548,"title":"How can I extract the text between <a></a>?","body":"<p>I'm using Beautiful Soup, but couldn't figure out how to do it.</p>\n\n<pre><code>&lt;/td&gt;\n        &lt;td class=\"playbuttonCell\"&gt;\n        &lt;a class=\"playbutton preview-track\" href=\"/music/example\" data-analytics-redirect=\"false\"  &gt;&lt;img class=\"transparent_png play_icon\" width=\"13\" height=\"13\" alt=\"Play\" src=\"http://cdn.last.fm/flatness/preview/play_indicator.png\" style=\"\" /&gt;&lt;/a&gt;    &lt;/td&gt;\n                                                        &lt;td class=\"subjectCell\" title=\"example, played 3 times\"&gt;\n            &lt;div&gt;\n                                        &lt;a href=\"/music/example\"   &gt;here lies the text i need&lt;/a&gt;\n</code></pre>\n\n<p>this isn't doing the job</p>\n\n<pre><code>print soup('a')\n\nfor link in soup('a'):\n    print html   \n</code></pre>\n\n<p>prints everything, what else can i try?</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13244393,"title":"SQLite insert or ignore and return original _rowid_","body":"<p>I've spent some time reading the SQLite <a href=\"http://www.sqlite.org/lang_conflict.html\" rel=\"nofollow\">docs</a>, various questions and answers here on Stack Overflow, and <a href=\"http://sqlite.1065341.n5.nabble.com/Keeping-ROWID-for-INSERT-OR-REPLACE-td34237.html\" rel=\"nofollow\">this thing</a>, but have not come to a full answer.</p>\n\n<p>I know that there is no way to do something like <code>INSERT OR IGNORE INTO foo VALUES(...)</code> with SQLite and get back the rowid of the original row, and that the closest to it would be <code>INSERT OR REPLACE</code> <strong>but that deletes the entire row and inserts a new row and thus gets a new rowid</strong>.</p>\n\n<p>Example table:</p>\n\n<pre><code>CREATE TABLE foo(\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    data TEXT\n);\n</code></pre>\n\n<p>Right now I can do:</p>\n\n<pre><code>sql = sqlite3.connect(\":memory:\")\n# create database\nsql.execute(\"INSERT OR IGNORE INTO foo(data) VALUES(?);\", (\"Some text.\", ))\nthe_id_of_the_row = None\nfor row in sql.execute(\"SELECT id FROM foo WHERE data = ?\", (\"Some text.\", )):\n    the_id_of_the_row = row[0]\n</code></pre>\n\n<p>But something ideal would look like:</p>\n\n<pre><code>the_id_of_the_row = sql.execute(\"INSERT OR IGNORE foo(data) VALUES(?)\", (\"Some text\", )).lastrowid\n</code></pre>\n\n<p><strong>What is the best (read: most efficient) way to insert a row into a table and return the rowid, or to ignore the row if it already exists and just get the rowid?</strong> Efficiency is important because this will be happening quite often.</p>\n\n<p><strong>Is there a way to <code>INSERT OR IGNORE</code> and return the rowid of the row that the ignored row was compared to?</strong> This would be great, as it would be just as efficient as an insert.</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13240016,"title":"Django model class decorator","body":"<p>I have a need to track changes on Django model instances. I'm aware of solutions like django-reversion but they are overkill for my cause.</p>\n\n<p>I had the idea to create a parameterized class decorator to fit this purpose. The arguments are the field names and a callback function. Here is the code I have at this time:</p>\n\n<pre><code>def audit_fields(fields, callback_fx):\n    def __init__(self, *args, **kwargs):\n        self.__old_init(*args, **kwargs)\n        self.__old_state = self.__get_state_helper()\n\n    def save(self, *args, **kwargs):\n        new_state = self.__get_state_helper()\n\n        for k,v in new_state.items():\n            if (self.__old_state[k] != v):\n                callback_fx(self, k, self.__old_state[k], v)\n\n        val = self.__old_save(*args, **kwargs)\n        self.__old_state = self.__get_state_helper()\n        return val\n\n    def __get_state_helper(self):\n        # make a list of field/values.\n        state_dict = dict()\n        for k,v in [(field.name, field.value_to_string(self)) for field in self._meta.fields if field.name in fields]:\n            state_dict[k] = v\n        return state_dict\n\n    def fx(clazz):\n        # Stash originals\n        clazz.__old_init = clazz.__init__\n        clazz.__old_save = clazz.save\n\n        # Override (and add helper)\n        clazz.__init__ = __init__\n        clazz.__get_state_helper = __get_state_helper\n        clazz.save = save\n        return clazz\n\n    return fx\n</code></pre>\n\n<p>And use it as follows (only relevant part):</p>\n\n<pre><code>@audit_fields([\"status\"], fx)\nclass Order(models.Model):\n    BASKET = \"BASKET\"\n    OPEN = \"OPEN\"\n    PAID = \"PAID\"\n    SHIPPED = \"SHIPPED\"\n    CANCELED = \"CANCELED\"\n    ORDER_STATES = ( (BASKET, 'BASKET'),\n                 (OPEN, 'OPEN'),\n                 (PAID, 'PAID'),\n                 (SHIPPED, 'SHIPPED'),\n                 (CANCELED, 'CANCELED') )\n    status = models.CharField(max_length=16, choices=ORDER_STATES, default=BASKET)\n</code></pre>\n\n<p>And test on the Django shell with:</p>\n\n<pre><code>from store.models import Order\no=Order()\no.status=Order.OPEN\no.save()\n</code></pre>\n\n<p>The error I receive then is:</p>\n\n<pre><code>TypeError: int() argument must be a string or a number, not 'Order'\n</code></pre>\n\n<p>The full stacktrace is here: <a href=\"https://gist.github.com/4020212\" rel=\"nofollow\">https://gist.github.com/4020212</a></p>\n\n<p>Thanks in advance and let me know if you would need more info!</p>\n\n<p><strong>EDIT:</strong> Question answered by randomhuman, code edited and usable as shown!</p>\n"},{"tags":["python","recursion"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":426,"score":3,"question_id":3719853,"title":"Why does my recursive funciton return None?","body":"<p>I'm currently trying to wrap my head around learning Python and I've come to a bit of a stall at recursive functions. In the text I'm using (<a href=\"http://www.greenteapress.com/thinkpython/\" rel=\"nofollow\">Think Python</a>), one of the exercises is to write a function that determines if number <em>a</em> is a power of number <em>b</em> using the following definition:</p>\n\n<blockquote>\n  <p>\"A number, a, is a power of b if it is divisible by b and a/b is a power of b. Write a function called is_power that takes parameters a and b and returns True if a is a power of b.\"</p>\n</blockquote>\n\n<p>The current state of my function is:</p>\n\n<pre><code>def isPower(a,b):\n    return a % b == 0 and (a/b) % b == 0\n\nprint isPower(num1,num2)\n</code></pre>\n\n<p>As it is, this produces the result I expect. However the chapter is focused on writing recursive functions to reduce redundancy and I'm not quite sure how I can turn the final \"(a/b) % b == 0\" into a recursion. I've attempted:</p>\n\n<pre><code>def isPower(a,b):\n    if a % b != 0:\n        return False\n    elif isPower((a/b),b):\n        return True\n</code></pre>\n\n<p>But that just returns None. </p>\n\n<p>What is the proper way to recurse this function?</p>\n"},{"tags":["python","django"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13207747,"title":"No model named \"myapp\" even though I've added it in settings.py","body":"<p>I'm getting the following error:</p>\n\n<pre><code>ImportError at /\nNo module named midi_app\nRequest Method: GET\nRequest URL:    http://127.0.0.1:8000/\nDjango Version: 1.4.1\nException Type: ImportError\nException Value:    No module named midi_app\nException Location: /Users/home/virtualenv/venv/lib/python2.7/site-packages/django/utils/importlib.py in import_module, line 35\nPython Executable:  /Users/home/virtualenv/venv/bin/python\n</code></pre>\n\n<p>I have added my app \"midi_app\" to the <code>INSTALLED_APPS</code> section in settings.py. I'm not sure why I'm seeing this error. Could the virtualenv have anything to do with it?</p>\n\n<p>Thanks. </p>\n\n<p>UPDATE: I've added as many directories as I can think of and I'm still seeing this error. Please see my path below. Please assist, I'm getting really frustrated. </p>\n\n<blockquote>\n  <p>'/Users/home/virtualenv/venv/lib/python27.zip', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-darwin', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-mac', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-mac/lib-scriptpackages',</p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/lib-tk', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/lib-old', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/lib-dynload', </p>\n  \n  <p>'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7', </p>\n  \n  <p>'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-darwin',</p>\n  \n  <p>'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk',</p>\n  \n  <p>'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac',</p>\n  \n  <p>'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages',</p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/site-packages', </p>\n  \n  <p>'/Users/home/Desktop/Web Development/Django-1.4', </p>\n  \n  <p>'/Users/home/virtualenv/venv',  </p>\n  \n  <p>'/Users/home/Desktop/Web Development/Aptana Studio 3.0',  </p>\n  \n  <p>'/Users/home/virtualenv/venv/bin',</p>\n  \n  <p>'/Users/home/Desktop/Web Development',  </p>\n  \n  <p>'/Users/home/virtualenv',</p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/site-packages/PIL', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python27.zip',</p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-darwin', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-mac', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/plat-mac/lib-scriptpackages',</p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/lib-tk', </p>\n  \n  <p>'/Users/home/virtualenv/venv/lib/python2.7/lib-old'</p>\n</blockquote>\n"},{"tags":["python","numpy","scipy","kdtree"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13246694,"title":"Scipy kd-tree implementation throwing \"negative dimensions\"","body":"<p>I get the following error seemingly every time I try to do anything involving a kd-tree. Strangely, just days ago this very code was working fine, and it is still working fine on my colleague's machine (we are using the same repo).</p>\n\n<p>It seems to happen no matter what I pass in.</p>\n\n<p>Can anyone offer any insights?</p>\n\n<pre><code>  File \"filename.py\", line 69, in methodname\n    get_index = self.kd_tree.query(array_to_query)\n  File \"/Library/Python/2.7/site-packages/scipy-0.12.0.dev_ddd617d_20120920-py2.7-macosx-10.8-x86_64.egg/scipy/spatial/kdtree.py\", line 425, in query\n    for c in np.ndindex(retshape):\n  File \"/Library/Python/2.7/site-packages/numpy-1.8.0.dev_9597b1f_20120920-py2.7-macosx-10.8-x86_64.egg/numpy/lib/index_tricks.py\", line 536, in __init__\n    x = as_strided(_nx.zeros(1), shape=shape, strides=_nx.zeros_like(shape))\n  File \"/Library/Python/2.7/site-packages/numpy-1.8.0.dev_9597b1f_20120920-py2.7-macosx-10.8-x86_64.egg/numpy/lib/stride_tricks.py\", line 28, in as_strided\n    return np.asarray(DummyArray(interface, base=x))\n  File \"/Library/Python/2.7/site-packages/numpy-1.8.0.dev_9597b1f_20120920-py2.7-macosx-10.8-x86_64.egg/numpy/core/numeric.py\", line 320, in asarray\n    return array(a, dtype, copy=False, order=order)\nValueError: negative dimensions are not allowed\n</code></pre>\n"},{"tags":["python","recursion","ioerror"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13246114,"title":"Python IOError: Errno 13 Permission denied","body":"<p>Ok, I'm totally baffled.  I've been working on this all night and I can't get it to work.  I have premission to look into the file, all I want to do is read the darn thing.  Every time I try I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#3&gt;\", line 1, in &lt;module&gt;\n    scan('test', rules, 0)\n  File \"C:\\Python32\\PythonStuff\\csc242hw7\\csc242hw7.py\", line 45, in scan\n    files = open(n, 'r')\nIOError: [Errno 13] Permission denied: 'test\\\\test'\n</code></pre>\n\n<p>Here is my code.  It's unfinished but I feel I should at least be getting correct values for the sections I am testing.  Basically I want to look into a folder, and if there is a file scan it looking for whatever I set my <code>signatures</code> to.  If there are folders I will or will not scan them depending on the <code>depth</code> specified.  If there is a <code>depth &lt; 0</code> then it will return.  If <code>depth == 0</code> then it will just scan the elements in the first folder.  If <code>depth &gt; 0</code> it will scan folders up until the specified depth.  None of that matters thought, because for whatever reason I don't have permission to read the file.  I have no idea what I am doing wrong.</p>\n\n<pre><code>def scan(pathname, signatures, depth):\n'''Recusively scans all the files contained in the folder pathname up\nuntil the specificed depth'''\n    # Reconstruct this!\n    if depth &lt; 0:\n        return\n    elif depth == 0:\n        for item in os.listdir(pathname):\n            n = os.path.join(pathname, item)\n            try:\n                # List a directory on n\n                scan(n, signatures, depth)\n            except:\n                # Do what you should for a file\n                files = open(n, 'r')\n                text = file.read()\n                for virus in signatures:\n                    if text.find(signatures[virus]) &gt; 0:\n                        print('{}, found virus {}'.format(n, virus))\n                files.close()\n</code></pre>\n\n<p>Just a quick edit:</p>\n\n<p>This code below does something very similar, but I can't control the depth.  It however, works fine.</p>\n\n<pre><code>def oldscan(pathname, signatures):\n    '''recursively scans all files contained, directly or\n       indirectly, in the folder pathname'''\n    for item in os.listdir(pathname):\n        n = os.path.join(pathname, item)\n        try:\n            oldscan(n, signatures)\n        except:\n            f = open(n, 'r')\n            s = f.read()\n            for virus in signatures:\n                if s.find(signatures[virus]) &gt; 0:\n                    print('{}, found virus {}'.format(n,virus))\n            f.close()\n</code></pre>\n"},{"tags":["python"],"answer_count":4,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":1199,"score":7,"question_id":3428769,"title":"Finding the largest delta between two integers in a list in python","body":"<p>I have a list of integers, i.e.:</p>\n\n<pre><code>values = [55, 55, 56, 57, 57, 57, 57, 62, 63, 64, 79, 80]\n</code></pre>\n\n<p>I am trying to find the largest difference between two consecutive numbers. In this case it would be 15 from 64->79. The numbers can be negative or positive, increasing or decreasing or both. The important thing is I need to find the largest delta between two consecutive numbers. </p>\n\n<p>What is the fastest way to do this? These lists can contain anywhere from hundreds to thousands of integers. </p>\n\n<p>Edit: This is the code I have right now:</p>\n\n<pre><code>    prev_value = values[0]\n    largest_delta = 0\n\n    for value in values:\n            delta = value - prev_value\n            if delta &gt; largest_delta:\n                    largest_delta = delta\n            prev_value = value\n\n    return largest_delta\n</code></pre>\n\n<p>Is there a faster way to do this? It takes a while.</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13246394,"title":"Ending pythonw.exe process on manual exit","body":"<p>I can't seem to find the right google search to figure out something that should be easy.</p>\n\n<p>I am using wxPython to create a GUI, and saving the Python files as .pyw so I don't have a console. Then I am importing another .py file into the main window when a user does an action. Doing so created the pythonw.exe instance that won't close. To be clear, the .pyw that opens if I only open the main console will clear from my processes if I don't open/insert the other .py file from the first file while running.</p>\n\n<p>When I use the program everything is perfectly fine, but when I use the Windows \"X\" button to close I still get pythonw.exe in my processes, and the file I am printing errors to is locked due to something else using it(the pythonw.exe). What code do I need to use to make sure that python is exiting completely? It also seems to stay whenever I build in a file - exit as well, and it is only staying on the processes if I insert the other module(only done with user input)</p>\n\n<p>Also this may be obvious but if I open the imported file manually it has the same behavior, as in the python.exe closes when I close out of the file.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13246273,"title":"UnicodeDecodeError (once again) with format() but not with concatenation","body":"<p>I have a class chunk with text fields <code>title</code> and <code>text</code>. When I want to print them, I get (surprise, surprise!) <code>UnicodeDecodeError</code>. It gives me an error when I try to format an output string, but when I just concatenate text and title and return it, I get no error:</p>\n\n<pre><code>class Chunk:\n  # init, fields, ...\n\n  # this implementation will give me an error\n  def __str__( self ):\n    return u'{0} {1}'.format ( enc(self.text), enc(self.title) )\n\n  # but this is OK - all is printed without error\n  def __str__( self ):\n    return enc(self.text) + enc(self.title)\n\ndef enc(x):\n  return x.encode('utf-8','ignore') # tried many combinations of arguments...\n\n\nc = Chunk()\nc.text, c.title = ... # feed from external file\nprint c\n</code></pre>\n\n<p>Bum! Error!</p>\n\n<pre><code>return u'{0} {1}'.format ( enc(self.text), enc(self.title) )\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc2 in position 2844: ordinal not in range(128)\n</code></pre>\n\n<p>I think I used all the possible combinations of <code>encode</code>/<code>decode</code>/<code>utf-8</code>/<code>ascii</code>/<code>replace</code>/<code>ignore</code>/...</p>\n\n<p>(the python unicode issue is <em>really</em> irritating!)</p>\n"},{"tags":["python","select","pygame","polling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12134948,"title":"Python select.select, select.poll: Corrupted Double-linked List","body":"<p>I have a rather large client-server network application, written in Python. I'm using select.poll to provide asynchronous capabilities. For the past six months, everything has worked fine. However, recently I changed some things and allowed the client to reliably log-off from the server. It appeared at first glance that the client was never receiving the request, and furthermore, it was blocking. When I killed the process with , I received the following output:</p>\n\n<pre><code>*** glibc detected *** /usr/bin/python: corrupted double-linked list: 0x0a9fea60 ***\n======= Backtrace: =========\n/lib/i386-linux-gnu/libc.so.6(+0x6cbe1)[0xd96be1]\n/lib/i386-linux-gnu/libc.so.6(+0x6fc1c)[0xd99c1c]\n/lib/i386-linux-gnu/libc.so.6(__libc_malloc+0x63)[0xd9b1d3]\n/usr/lib/i386-linux-gnu/libxcb.so.1(+0x8ff6)[0xb30ff6]\n/usr/lib/i386-linux-gnu/libxcb.so.1(+0x706d)[0xb2f06d]\n/usr/lib/i386-linux-gnu/libxcb.so.1(+0x75b5)[0xb2f5b5]\n/usr/lib/i386-linux-gnu/libxcb.so.1(xcb_writev+0x67)[0xb2f667]\n/usr/lib/i386-linux-gnu/libX11.so.6(_XSend+0x14b)[0x59b42b]\n/usr/lib/i386-linux-gnu/libX11.so.6(_XFlush+0x39)[0x59b889]\n/usr/lib/i386-linux-gnu/libX11.so.6(XFlush+0x31)[0x57ba81]\n/usr/lib/libSDL-1.2.so.0(+0x34dfe)[0x16adfe]\n/usr/lib/libSDL-1.2.so.0(+0x37998)[0x16d998]\n/usr/lib/libSDL-1.2.so.0(+0x393db)[0x16f3db]\n/usr/lib/libSDL-1.2.so.0(SDL_PumpEvents+0x3d)[0x140d7d]\n/usr/lib/libSDL-1.2.so.0(SDL_PollEvent+0x17)[0x140db7]\n/usr/lib/libSDL-1.2.so.0(SDL_EventState+0x58)[0x140f78]\n/usr/lib/libSDL-1.2.so.0(SDL_JoystickEventState+0x5b)[0x16810b]\n/usr/lib/python2.7/dist-packages/pygame/joystick.so(+0x196d)[0x55896d]\n/usr/lib/python2.7/dist-packages/pygame/base.so(+0x178a)[0x56078a]\n/usr/lib/python2.7/dist-packages/pygame/base.so(+0x17c7)[0x5607c7]\n/usr/bin/python(PyEval_EvalFrameEx+0x4332)[0x80de822]\n/usr/bin/python(PyEval_EvalCodeEx+0x127)[0x80e11e7]\n/usr/bin/python[0x8105a61]\n/usr/bin/python(PyObject_Call+0x4a)[0x80a464a]\n/usr/bin/python(PyEval_CallObjectWithKeywords+0x44)[0x80da034]\n/usr/bin/python(Py_Finalize+0xc7)[0x8070ee1]\n/usr/bin/python(Py_Main+0xc66)[0x805c109]\n/usr/bin/python(main+0x1b)[0x805b25b]\n/lib/i386-linux-gnu/libc.so.6(__libc_start_main+0xe7)[0xd40e37]\n/usr/bin/python[0x81074ad]\n</code></pre>\n\n<p>followed by a memory map, which I'm not posting for the sake of brevity. I ran the code under PDB, and found that the client was blocking <em>on the call to <code>pollingObject.poll(0)</code></em>, which shouldn't be blocking. So, I changed that call to <code>select.select([socket], [], [], 0)</code>, still without success. I'm using PyGame, if that makes a difference, as I know it sometimes does. I'm completely lost here. I know that Python overrides <code>malloc</code>, could it have something to do with that?</p>\n"},{"tags":["python","asynchronous","websocket","subprocess","tornado"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13245984,"title":"python subprocess callback when updated output","body":"<p>I am using tornado. I hope the following is easy to understand, It's spawning a tcproute process and sending the output to the websocket's other end.</p>\n\n<pre><code>class TracerouteHandler(tornado.websocket.WebSocketHandler):\n  def open(self,ip):\n    p = subprocess.Popen(['traceroute',ip],stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    while p.poll() is None: #running\n      line=p.stdout.readline()\n      if line!=None and len(line)&gt;0:\n        self.write_message(json.dumps({'stdout':line})) \n    self.write_message(json.dumps({'stdout':'Done! For red marked ip addresses, the location couldn\\'t be determined with &lt;a href=\"http://hostip.info\"&gt;hostip.info&lt;/a&gt;. If you know the correct location, please update it there.'}))\n</code></pre>\n\n<p>The problem is that due to the <code>while p.poll() is None</code> loop, tornado blocks. Also, if there's nothing in p.stdout to read, the <code>p.stdout.readline</code> blocks. So I'd like to have some sort of callback mechanism that gets fired when I have something new in <code>p.stdout</code>. How do I do that?</p>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13246197,"title":"re.sub in python 2.7","body":"<p>Trying to replace chunks of text in html files with 'xxx' using re.sub, python 2.7. I can only get it to work with basic strings that have no spaces or new lines. This code finds nothing to replace. I've tried DOTALL, and other things, but nothing works. It just prints the whole file. I've successfully used re.search, but this won't work. </p>\n\n<p>CODE:</p>\n\n<pre><code>print re.sub(r'table\\sstyle\\=(.+)script', r'xxx', text, re.S)\n</code></pre>\n\n<p>IS SEARCHING (text):</p>\n\n<pre><code>&lt;table style=\"background-color: #ecddb0\"&gt;\n&lt;tbody&gt;\n&lt;TR&gt;\n&lt;TD&gt;\n&lt;style type=\"text/css\"&gt;\nbody {\nbackground-color: #ffffff;\nmargin: 0px;\npadding: 0px 0 0 0px;\n&lt;/style&gt;\n&lt;script type=\"text/javascript\n</code></pre>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":5,"view_count":41,"score":-5,"question_id":13245510,"title":"How to do auto formating of text in python?","body":"<p>I want to auto correct a para written in english. My criteria is:</p>\n\n<p><strong>Double or multiple spaces,commas and question marks should be replaced with the single.Space before comma(','),fullstops('.'),semicolon(';'),question mark ('?') and space after comma is mandatory</strong>.</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13246116,"title":"Read files in python","body":"<p>Python learner. So please excuse me.\nI am following: <a href=\"http://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow\">http://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files</a></p>\n\n<p>I want to read a file; here is my file:</p>\n\n<pre><code># cat test \nline1 word1\nline2 word2\nline3 word3\nline4 word4\n</code></pre>\n\n<p>and here it my code:</p>\n\n<pre><code>&gt;&gt;&gt; f = open ('test')\n&gt;&gt;&gt; for line in f:\n...     print f\n... \n&lt;open file 'test', mode 'r' at 0xb7729180&gt;\n&lt;open file 'test', mode 'r' at 0xb7729180&gt;\n&lt;open file 'test', mode 'r' at 0xb7729180&gt;\n&lt;open file 'test', mode 'r' at 0xb7729180&gt;\n</code></pre>\n\n<p>How and why i am getting above output? I was hoping that it will print each line per line. \nWhat am I missing here. looking at the link mentioned above, my syntax seems to be OK but the output is not </p>\n\n<p>Thanks.</p>\n"},{"tags":["python","string","unicode","printing"],"answer_count":9,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1999,"score":3,"question_id":761361,"title":"Suppress the u'prefix indicating unicode' in python strings","body":"<p>Is there a way to globally suppress the unicode string indicator in python?  I'm working exclusively with unicode in an application, and do a lot of interactive stuff.  Having the u'prefix' show up in all of my debug output is unnecessary and obnoxious.  Can it be turned off?</p>\n"},{"tags":["python","gmail","oauth-2.0","gmail-imap","imaplib"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":831,"score":5,"question_id":9134491,"title":"Access Gmail Imap with OAuth 2.0 Access token","body":"<p>I am using Google's Oauth 2.0 to get the user's access_token, but I dont know how to use it with imaplib to access inbox.</p>\n"},{"tags":["python","gmail","gmail-imap","imaplib"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12375113,"title":"IMAP in Corporate Gmail","body":"<p>I am trying to download emails using imaplib with Python. I have tested the script using my own email account, but I am having trouble doing it for my corporate gmail (I don't know how the corporate gmail works, but I go to gmail.companyname.com to sign in). When I try running the script with imaplib.IMAP4_SSL(\"imap.gmail.companyname.com\", 993), I get an error gaierror name or service not known. Does anybody know how to connect to a my company gmail with imaplib?</p>\n"},{"tags":["python","scripting","spss"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13244985,"title":"Transpose in SPSS","body":"<p>I have 525 rows/records for 35 columns of data in an SPSS project. My goal is to run a q-mode PCA which is a PCA that is run on a transposed table.</p>\n\n<p>Are there any Python scripts for SPSS or other tips for automating this process?</p>\n"},{"tags":["python","sockets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13245772,"title":"Show all open sockets in Python","body":"<p>In Python 2.7 is there a way to get information on all open sockets similar to what netstat/ss does in linux?</p>\n\n<p>I am interested in writing a small program (similar to EtherApe) that tracks when my computer opens a connection to a server.  </p>\n"},{"tags":["python","z3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13182307,"title":"Explanations in Fixedpoints Z3","body":"<p>When I enable the explanation generation option in fixedpoints Z3Py, I am getting a core dump with the following messages.</p>\n\n<blockquote>\n  <p>Error setting 'DL_GENERATE_EXPLANATIONS', reason: unknown option.<br>\n  terminate called after throwing an instance of 'z3_error'   Aborted\n  (core dumped)</p>\n</blockquote>\n\n<p>I am using Z3 4.2 on Ubuntu 12.04, and I get the error for the example given in Z3Py docs in the \"Explanations\" section.</p>\n\n<p>I am wondering what may be causing this problem.</p>\n"},{"tags":["python","django","active-directory","django-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13245756,"title":"Django Auth ldap works only for AUTH_LDAP_BIND_DN user","body":"<p>I'm trying to build user authentication against our LDAP using django-auth-ldap package.</p>\n\n<p>settings.py</p>\n\n<pre><code> AUTHENTICATION_BACKENDS = (\n    'django_auth_ldap.backend.LDAPBackend',\n    'django.contrib.auth.backends.ModelBackend',\n )\n\n import ldap\n from django_auth_ldap.config import LDAPSearch, GroupOfNamesType\n\n\n # Baseline configuration.\n AUTH_LDAP_SERVER_URI = \"ldap://ldap.example.com\"\n\n AUTH_LDAP_BIND_DN = \"cn=ldap_user,ou=PEOPLE, dc=example,dc=com\"\n AUTH_LDAP_BIND_PASSWORD = \"test123\"\n AUTH_LDAP_USER_SEARCH = LDAPSearch(\"ou=PEOPLE,dc=example,dc=com\",\n         ldap.SCOPE_SUBTREE, \"(cn=%(user)s)\")\n\n\n\n # Populate the Django user from the LDAP directory.\n AUTH_LDAP_USER_ATTR_MAP = {\n     \"first_name\": \"givenName\",\n     \"last_name\": \"sn\",\n     \"email\": \"mail\"\n     }\n</code></pre>\n\n<p>The above configuration works only for AUTH_LDAP_BIND_DN user (i.e ldap_user), but if i login using other name, authentication will fails.</p>\n\n<p>And also check all my users are in PEOPLE group.</p>\n\n<p>Why this configuration works only for one user?</p>\n"},{"tags":["python","list","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13243883,"title":"iterating over a string in a list in a dictionary PYTHON","body":"<p>I've got a dictionary full of lists called \"possible\" with keys 'a' - 'z'.  Each key has the value of a list with 'a' through 'z' in it.  Essentially, 26 alphabets.  </p>\n\n<p>I clean a string into lowercase and strip the punctuation and save each word into a list named \"cleanedWords\".  </p>\n\n<p>I want to go through the list and if the word in the list has only two letters, remove the value 'c' from the key for both of the letters in the two letter word.  Then move on the the next 2 letter word and repeat.  </p>\n\n<p>This is the snippet with the error:</p>\n\n<pre><code>for y in cleanedWords:\n    if len(y) == 2:\n        for i in y:\n            possible[i].remove('c')\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"F:\\python\\crypto\\cipher.py\", line 83, in &lt;module&gt;\n    possible[i].remove('c')\nValueError: list.remove(x): x not in list\n</code></pre>\n\n<p>Clearly I am doing something wrong.  Can someone point me in the right direction? Can I not call on \"y\" how I did? </p>\n\n<p>Tyler</p>\n"},{"tags":["c++","python","lua"],"answer_count":6,"favorite_count":0,"up_vote_count":6,"down_vote_count":2,"view_count":196,"score":4,"question_id":13242098,"title":"Why should I embed a scripting language?","body":"<p>I am learning C++ now and I have heard a lot about embedded scripting languages. I imagined it completely different.</p>\n\n<p>I thought I would write all of my performance heavy functions in C++ and call them out of a scripting language such as Lua or Python.</p>\n\n<p>But it seems it is the other way around. -> Write functions in Lua/Python and call them in C code. </p>\n\n<p><strong>What is the advantage of embedding a language in C++ instead of writing an API in C++ and calling those functions in another language?</strong></p>\n\n<p>Example: </p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>// function in c++\nint expensiveFunction(){\n  return 1;\n}\n</code></pre>\n\n<p>Then in Python I would call this function and I would have the performance from C++ but can make changes at runtime thanks to Python's runtime interpreter.</p>\n"},{"tags":["python","rdf","sparql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":8287394,"title":"issue in installing SPARQLWrapper in python","body":"<p>I installed SPARQLWrapper in python\nin the installation it shows: \nInstalled c:\\python27\\lib\\site-packages\\sparqlwrapper-1.4.2-py2.7.egg</p>\n\n<p>egg file are available in sit-packages.</p>\n\n<p>When I tried to import SPARQLWrapper , the program cannot it.\nI am new to python and have no clue what are these egg files and how to handle it.</p>\n\n<p>could someone guide me how can i import SPARQL wrapper</p>\n"},{"tags":["python","list-comprehension"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13245470,"title":"Python: What is zip doing in this list comprehension","body":"<p>I am trying to understand this:</p>\n\n<pre><code>a = \"hello\"\nb = \"world\"\n[chr(ord(x) ^ ord(y)) for (x, y) in zip(a[:len(b)], b)]\n</code></pre>\n\n<p>I understand the <code>XOR</code> part but I don't get what zip is doing.</p>\n"},{"tags":["python","map","reduce","frequency-distribution"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":13242103,"title":"How to compute letter frequency in a string using pythons built-in map and reduce functions","body":"<p>I would like to compute the frequency of letters in a string using pythons map and reduce built-in functions. Could anyone offer some insight into how I might do this?</p>\n\n<p>What I've got so far:</p>\n\n<pre><code>s = \"the quick brown fox jumped over the lazy dog\"\n\n# Map function\nm = lambda x: (x,1)\n\n# Reduce\n# Add the two frequencies if they are the same\n# else.... Not sure how to put both back in the list\n# in the case where they are not the same.\nr = lambda x,y: (x[0], x[1] + y[1]) if x[0] == y[0] else ????\n\nfreq = reduce(r, map(m, s))\n</code></pre>\n\n<p>This works great when all the letters are the same.</p>\n\n<pre><code>&gt;&gt;&gt; s\n'aaaaaaa'\n&gt;&gt;&gt; map(m, s)\n[('a', 1), ('a', 1), ('a', 1), ('a', 1), ('a', 1), ('a', 1), ('a', 1)]\n&gt;&gt;&gt; reduce(r, map(m, s))\n('a', 7)\n</code></pre>\n\n<p>How do I get it to work nicely when there are different letters?</p>\n"},{"tags":["php","python","ruby","speech-to-text","transcription"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":1852,"score":0,"question_id":4583306,"title":"Speech-to-Text API","body":"<p>Does a decent one exist? </p>\n\n<p>I have a bunch of short mp3/wav files, and I'd like to use the API to transcribe them (and future sound files). PHP is preferred, but whatever works.</p>\n"},{"tags":["c++","python","qt","client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13236859,"title":"C++ Qt - QTcpSocket emit readyRead() but canReadLine() always false","body":"<p>I am writing a client in C++ and a server in Python.</p>\n\n<p>The server accepts the connection from the client, and sends to the client its player ID number, formated for the regular expression \"id\\s\\d\". (e.g. \"id 3\")</p>\n\n<pre><code> if s is serversocket:\n            print \"Listening...\"\n            if accept_connection or nb_player &lt; 5:\n                connection, client_address = s.accept();\n                print 'New connection from ', client_address\n                connection.setblocking(0)\n                inputs.append(connection)\n        # Send player I to new connection\n        connection.send(\"id \"+str(len(inputs)-1))\n</code></pre>\n\n<p>The client initializes its socket, and connect. I implemented <code>connected()</code> to display a message on the GUI, if it is emitted. It is emitted without problem. Same thing on the server side, I receive the connection without issues.</p>\n\n<pre><code>Window::Window(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Window)\n{\n    ui-&gt;setupUi(this);\n\n    /* Initialize socket */\n    socket = new QTcpSocket(this);\n    socket-&gt;connectToHost(\"localhost\", 13456);\n\n    connect(socket, SIGNAL(readyRead()), this, SLOT(data_received()));\n    connect(socket, SIGNAL(connected()), this, SLOT(connected()));\n}\n</code></pre>\n\n<p>The server receives data from the client without problem. <strong>It is the client that does not receive the information correctly.</strong> </p>\n\n<pre><code>void Window::data_received(){\n\n    QRegExp id_re(\"id\\\\s(\\\\d)\");\n\n    while (socket-&gt;canReadLine()){\n        /* Read line in socket (UTF-8 for accents)*/\n        ui-&gt;log-&gt;append(\"listening...\");\n        QString line = QString::fromUtf8(socket-&gt;readLine()).trimmed();\n\n        /* Player ID returned by server */\n        if ( id_re.indexIn(line) != -1){\n            //Test\n            ui-&gt;log-&gt;append(\"The ID arrived\");\n            //Extract ID\n            QString id_str = id_re.cap(1);\n            //Put in data structure of player\n            player-&gt;set_player_id(id_str);\n            //Display message\n            ui-&gt;log-&gt;append(QString(\"You are Player \"+ player-&gt;get_player_id()));\n\n        }\n    }\n}\n</code></pre>\n\n<p><code>get_player_id()</code> returns a <code>QString</code></p>\n\n<p>I targeted my problem down, and it seems that canReadLine() is never returning true, therefore I can never read it. What could cause that?</p>\n"},{"tags":["python","html"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13244878,"title":"font face and color syntax errror","body":"<p>I am trying to add font face and  color and running into following error</p>\n\n<pre><code>#Create the body of the message\nmsg_body=(\"&lt;HTML&gt;&lt;head&gt;&lt;/head&gt;\"\n          \"&lt;body&gt;BCC Warning:\"\n          \"&lt;br&gt;Hi All, &lt;br&gt;\"\n          \"&lt;br&gt;&lt;br&gt;\"\n          \"&lt;font face = \"Arial\" color=\"#990000\" &gt; Wiki @&lt;a href=%s&gt;%s&lt;/a&gt; (listed @ go\\wbit)&lt;/font&gt; &lt;br&gt;&lt;br&gt;\"\n          \"&lt;b&gt;Release notes:&lt;/b&gt; %s  &lt;br&gt;&lt;br&gt;\" \n          \"&lt;b&gt;Build Combo:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\" \n          \"&lt;b&gt;Loading instructions:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\"\n          \"&lt;b&gt;CR fixes:&lt;/b&gt;&lt;br&gt;%s&lt;br&gt;&lt;br&gt;\"\n          \"Thanks,&lt;br&gt;\"\n          \"Build team\"\n          \"&lt;/body&gt;&lt;/html&gt;\"\n          ) % (wikiURL,wikiURL,Releasenotes,table,Load_ins,crInfo)\n</code></pre>\n\n<p>Syntax error</p>\n\n<pre><code>\"&lt;font face = \"Arial\" &gt; Wiki @&lt;a href=%s&gt;%s&lt;/a&gt; (listed @ go\\wbit)&lt;/font&gt; &lt;br&gt;&lt;br&gt;\"\n                   ^\n</code></pre>\n\n<p>SyntaxError: invalid syntax</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13245094,"title":"How to convert a function based program to class concept in python","body":"<p>I have a program,But that not contain class concept ( Python program follow some value to class concept) am really a new one in python world. So learning from the original way help me out to shine in this world. Can anyone kindly help me out, instead of making this question negative mark :(</p>\n\n<pre><code> import xml.etree.ElementTree as ET\n import sys\n\ndoc       = ET.parse(\"books.xml\")\nroot      = doc.getroot() \nroot_new  = ET.Element(\"books\") \nfor child in root:\n    name                = child.attrib['name']\n    cost                = child.attrib['cost']\n    # create \"book\" here\n    book    = ET.SubElement(root_new, \"book\") \n    book.set(\"name\",name)               \n    book.set(\"cost\",cost) \n    if 'color' in child.attrib:\n        color               = child.attrib['color']\n        book.set(\"color\",color) \n    if 'weight' in child.attrib:\n        weight              = child.attrib['weight']\n        book.set(\"weight\",weight)\n    for g in child.findall(\"cover\"):\n        # create \"group\" here\n       cover     = ET.SubElement(cover,\"cover\")  \n        if g.text != \"goldcover\":\n            cover.text = g.text \ntree = ET.ElementTree(root_new)\ntree.write(sys.stdout)\n</code></pre>\n\n<p>For understanding : my xml is ,</p>\n\n<pre><code>&lt;books&gt;\n&lt;book name=\"goodbook\" cost=\"10\" color=\"green\"&gt;&lt;/book&gt;\n&lt;book name=\"badbook\" cost=\"1000\" weight=\"100\"&gt;&lt;cover&gt;papperback&lt;/cover&gt;&lt;cover&gt;hardcover&lt;/cover&gt;&lt;/book&gt;\n&lt;book name=\"avgbook\" cost=\"99\" weight=\"120\"&gt;&lt;/book&gt;\n&lt;/books&gt;\n</code></pre>\n\n<p>As a fresher on python i hope some one will help me out , All valuable input are warmly welcomed.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13148512,"title":"Appengine SDK 1.7.3 not detecting updated files","body":"<p>I just updated to SDK 1.7.3 running on Linux. At the same time I switched to the SQLite datastore stub, suggested by the depreciation message.</p>\n\n<p>After this, edits to source files are not always detected, and I have to stop and restart the SDK after updating, probably one time in ten. Is anyone else seeing this? Any ideas on how to prevent it?</p>\n\n<p>UPDATE: Changes to <em>python</em> source files are not being detected. I haven't made any modifications to yaml files, and I believe that jinja2 template file modifications are being detected properly.</p>\n\n<p>UPDATE: I added some logging to the dev appserver and found that the file I'm editing is not being monitored. Continuing to trace what is happening.</p>\n"},{"tags":["python","django","aggregation","geodjango","snap-to-grid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13171752,"title":"Aggregate/Group entries by grid location using geodjango's snap_to_grid","body":"<p>I'm trying to figure out the <a href=\"https://docs.djangoproject.com/en/dev/ref/contrib/gis/geoquerysets/#django.contrib.gis.db.models.GeoQuerySet.snap_to_grid\" rel=\"nofollow\"><code>snap_to_grid()</code></a> method, which appears to do what I want, but I'm not sure how to use it.</p>\n\n<p>I have a model with several point fields:</p>\n\n<pre><code>class PointsOfInterest(models.Model):\n    name = models.CharField(max_length=150)\n    center = models.PointField()\n    point2 = models.PointField()\n    point3 = models.PointField()\n</code></pre>\n\n<p>I would like to query all points snapping them to a grid so that points near each other come back with the same location (basically aggregating/grouping by grid location).</p>\n\n<pre><code>&gt;&gt;&gt; print  PointsOfInterest.objects.snap_to_grid(300, field_name=\"center\")[0].center\nPOINT (368411.6666666666860692 2899475.0000000000000000)\n&gt;&gt;&gt; print  PointsOfInterest.objects.all()[0].center\nPOINT (368411.6666666666860692 2899475.0000000000000000)\n</code></pre>\n\n<p>It doesn't seem to be doing anything as the points aren't changing.\nI've tried the <code>.transform()</code> operation and that is responsive and updates the point to the desired projection.</p>\n\n<p>Am I misunderstanding how this method works, or is there a way to do this?</p>\n"},{"tags":["python","cron","openshift"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13224823,"title":"How to reference env directories of openshift in a python script?","body":"<p>OpenShift has these default dir's: </p>\n\n<pre><code># $_ENV['OPENSHIFT_INTERNAL_IP']  - IP Address assigned to the application\n# $_ENV['OPENSHIFT_GEAR_NAME']  - Application name\n# $_ENV['OPENSHIFT_GEAR_DIR']   - Application dir\n# $_ENV['OPENSHIFT_DATA_DIR']  - For persistent storage (between pushes)\n# $_ENV['OPENSHIFT_TMP_DIR']   - Temp storage (unmodified files deleted after 10 days)\n</code></pre>\n\n<p>How do reference them in a python script? \nExample script \"created a log file in log directory and log in data directory? </p>\n\n<pre><code>from time import strftime\n\nnow= strftime(\"%Y-%m-%d %H:%M:%S\")\nfn  = \"${OPENSHIFT_LOG_DIR}/test.log\"\nfn2 = \"${OPENSHIFT_DATA_DIR}/test.log\"\n#fn  = \"test.txt\"\n\ninput = \"appended text \" + now + \" \\n\"\n\nwith open(fn, \"ab\")  as f: \n       f.write(input)\nwith open(fn2, \"ab\") as f: \n       f.write(input)\n</code></pre>\n\n<p>Can these script be used with cron?</p>\n\n<p><strong>EDIT the BASH File:</strong></p>\n\n<pre><code>#! /bin/bash\n\n#date &gt;&gt; ${OPENSHIFT_LOG_DIR}/new.log\nsource $OPENSHIFT_HOMEDIR/python-2.6/virtenv/bin/activate\npython file.py\ndate &gt;&gt; ${OPENSHIFT_DATA_DIR}/new2data.log\n</code></pre>\n"},{"tags":["python","application","portal","intranet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13244623,"title":"Development of an Application Portal","body":"<p>I have got a POC to complete where they want me to develop an portal where it allows the developers in a certain community to submit apps. And also for the normal user, these apps should be added to their dashboard and delete ones already if needed. This basically like an appstore for intranet where the usage of these apps are also web based. </p>\n\n<p>I searched many possibilities yet to find a good framework to help me doing this. </p>\n\n<p>I prefer Python yet javaScript is also fine. </p>\n\n<p>Please feel free to suggest any option. </p>\n\n<p>Thank you</p>\n"},{"tags":["python","string","int"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13243517,"title":"Dumb dumb dumb: Int stored as str?","body":"<p>Apparently I hit my head over the week end. </p>\n\n<p>I'm looping through a file to find the highest value and then return the value and number of lines. If I didn't convert <code>myMax</code> with <code>int()</code> I would get an unordered type error with the variable set as a string. What did I forget?!</p>\n\n<pre><code>def main():\n    myMax= 0\n    myCount = 0\n\n    myFile = open(\"numbers.dat\", 'r')\n    for line in myFile :\n        myCount = myCount + 1\n        if int(line) &gt; int(myMax): \n            myMax = line\n\n    myFile.close()\n\n    print (\"Out of %s lines, the highest value found was %s\" %(myCount, myMax))\n\nmain()  \n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":13244645,"title":"Would the following code go into the if statement","body":"<pre><code>x = None\nif not x:\n   do_something()\n</code></pre>\n\n<p>^ Since x is None, will it enter the if statement?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13244568,"title":"about Dictionary write into a file","body":"<p>I want to write a dictionary into a file. the codes is:</p>\n\n<pre><code> fs = open( store_file , \"w\" )\n for k in store_dic:\n     temp_line = k + \" \" + store_dic[k] + \"\\n\"\n     fs.write( temp_line )\n     logger.info( \"store_record \" + store_file + \" \" + temp_line[:-1] )\n     fs.close\n</code></pre>\n\n<p>As you see, I traversal the dictionary of store_dic and write in the file at the same time.\nHave any other ways to improve this? Bacause I will call this codes every 6 seconds.</p>\n\n<p>Thank you.</p>\n"},{"tags":["python","django","redirect","location"],"answer_count":7,"favorite_count":23,"up_vote_count":59,"down_vote_count":2,"view_count":33179,"score":57,"question_id":523356,"title":"Python + Django page redirect","body":"<p>How do I accomplish a simple redirect (e.g. cflocation in ColdFusion, or header(location:http://) in django)?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13244533,"title":"Iterating through xml in python through KeyError","body":"<p>My Xml :</p>\n\n<pre><code>&lt;books&gt;\n&lt;book name=\"goodbook\" cost=\"10\" color=\"green\"&gt;&lt;/book&gt;\n&lt;book name=\"badbook\" cost=\"1000\" weight=\"100\"&gt;&lt;/book&gt;\n&lt;book name=\"avgbook\" cost=\"99\" weight=\"120\"&gt;&lt;/book&gt;\n&lt;/books&gt;\n</code></pre>\n\n<p>My python code :-</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport sys\ndoc       = ET.parse(\"books.xml\")\nroot      = doc.getroot() \nroot_new  = ET.Element(\"books\") \nfor child in root:\n       name                = child.attrib['name']\n       cost                = child.attrib['cost']\n       color               = child.attrib['color'] #KeyError\n       weight              = child.attrib['weight'] #KeyError\n       # create \"book\" here\n       book    = ET.SubElement(root_new, \"book\") \n       book.set(\"name\",name)               \n       book.set(\"cost\",cost) \n       book.set(\"color\",color) \n       book.set(\"weight\",weight)\ntree = ET.ElementTree(root_new)\ntree.write(sys.stdout)\n</code></pre>\n\n<p>What error am getting :-</p>\n\n<pre><code>python books.py \nTraceback (most recent call last):\n  File \"books.py\", line 10, in &lt;module&gt;\n    weight              = child.attrib['weight'] #KeyError\nKeyError: 'weight'\n</code></pre>\n\n<p>weight and color are throughing keyerror, because while iterating through loop \"color\" and \"weight\" attribute not found in all line. i need my out put should be same as input xml :( . \nHow can i skip this error and make it same as input xml . Thanks in advance.</p>\n"},{"tags":["python","tkinter","multiprocessing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13228763,"title":"Using Multiprocessing module for updating Tkinter GUI","body":"<p>I have been trying to use Multiprocessing module for updating Tkinter GUI but when I run this code, it is giving Pickling error. </p>\n\n<pre><code># Test Code for Tkinter with threads\nimport Tkinter\nfrom multiprocessing import Queue\nimport multiprocessing\nimport time\n\n# Data Generator which will generate Data\ndef GenerateData():\n    global q\n    for i in range(10):\n        print \"Generating Some Data, Iteration %s\" %(i)\n        time.sleep(2)\n        q.put(\"Some Data from iteration %s \\n\" %(i))\n\ndef QueueHandler():\n    global q, text_wid\n    while True:\n        if not q.empty():\n            str = q.get()\n            text_wid.insert(\"end\", str)\n\n# Main Tkinter Application\ndef GUI():\n    global text_wid\n    tk = Tkinter.Tk()\n    text_wid = Tkinter.Text(tk)\n    text_wid.pack()\n    tk.mainloop()\n\nif __name__ == '__main__':\n# Queue which will be used for storing Data\n    tk = Tkinter.Tk()\n    text_wid = Tkinter.Text(tk)\n    q = multiprocessing .Queue()\n    t1 = multiprocessing.Process(target=GenerateData,args=(q,))\n    t2 = multiprocessing.Process(target=QueueHandler,args=(q,text_wid))\n    t1.start()\n    t2.start()\n    text_wid.pack()\n    tk.mainloop()\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>PicklingError: Can't pickle &lt;type 'thread.lock'&gt;: it's not found as thread.lock\n</code></pre>\n\n<p>If I remove the argument <code>text_wid</code>, then no error is reported but text widget is not updated with the data from the queque.</p>\n\n<p><strong>UPDATE :</strong></p>\n\n<p>I modified code so as to call the function to update the GUI whenever there is value in queue, thus preventing Tkinter widgets from being passed to separate process. Now, I am not getting any error but the widget is not updated with the data. However if i use mix of <code>Threading</code> and <code>Multiprocessing</code> module i.e. create a separate thread for handling data from the queue, then it works fine. My question why didn't it worked when i run the handler code in separate process. Am I not passing the data correctly. Below is the modified code:</p>\n\n<pre><code># Test Code for Tkinter with threads\nimport Tkinter\nimport multiprocessing\nfrom multiprocessing import Queue\nimport time\nimport threading\n\n# Data Generator which will generate Data\ndef GenerateData(q):\n    for i in range(10):\n        print \"Generating Some Data, Iteration %s\" %(i)\n        time.sleep(2)\n        q.put(\"Some Data from iteration %s \\n\" %(i))\n\ndef QueueHandler(q):\n    while True:\n        if not q.empty():\n            str = q.get()\n            update_gui(str)\n            #text_wid.insert(\"end\", str)\n\n# Main Tkinter Application\ndef GUI():\n    global text_wid\n    tk = Tkinter.Tk()\n    text_wid = Tkinter.Text(tk)\n    text_wid.pack()\n    tk.mainloop()\n\ndef update_gui(str):\n    global text_wid\n    text_wid.insert(\"end\", str)\n\nif __name__ == '__main__':\n# Queue which will be used for storing Data\n    tk = Tkinter.Tk()\n    text_wid = Tkinter.Text(tk)\n    q = multiprocessing.Queue()\n    t1 = multiprocessing.Process(target=GenerateData,args=(q,))\n    t2 = multiprocessing.Process(target=QueueHandler,args=(q,))\n    t1.start()\n    t2.start()\n    text_wid.pack()\n    tk.mainloop()\n</code></pre>\n"},{"tags":["python","mysql","sqlite3","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":31,"score":3,"question_id":13244314,"title":"What alterations do I need to make for my Flask python application to use a MySQL database?","body":"<p>I am new to developing applications, and I have been trying to familiarize myself with doing so with Flask. I followed their great tutorial and read their equally-detailed documentation to create my first basic app which uses a SQLite3 database. </p>\n\n<p>To accomplish this, and per their instructions, I imported the following:</p>\n\n<pre><code>from __future__ import with_statement\nfrom contextlib import closing   \n\nimport sqlite3\nfrom flask import Flask, request, session, g, redirect, url_for, \\\n     abort, render_template, flash  \n</code></pre>\n\n<p>and have a file <code>schema.sql</code> set up with the following to configure the database:</p>\n\n<pre><code>drop table if exists entries;\ncreate table entries (\n  id integer primary key autoincrement,\n  title string not null,\n  text string not null\n);\n</code></pre>\n\n<p>I access the database using commands that again came from the <a href=\"http://flask.pocoo.org/docs/tutorial/views/#tutorial-views\" rel=\"nofollow\">Flask site tutorial</a>. I am under the impression that I need to, when creating applications where users create and manage their own accounts, implement a MySQL database instead. This being the case, what sorts of things about my database-related code do I need to change? I am sure there is quite a large difference between working with these two databases, so any point of reference – suggestions of tutorials to follow or documentation to read – would be greatly appreciated.</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["python","scripting","3d","maya","autodesk"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":841,"score":0,"question_id":1881592,"title":"how (in maya) can i get the 3D position of the mouse?","body":"<p>i have created a dragger context in maya using the following code, pos holds my 2D coordinates of mouse cursor, i want to convert it into 3D coordinate to be the source of the ray i want to launch,, i want it either through python scripting or through the python api,, </p>\n\n<pre><code>import maya.cmds as mc\n\nmc.draggerContext( 'testContext', pressCommand='getCursorPos()',\n                    dragCommand='getCursorPos()', cursor='default')\n\ndef getCursorPos():\n\n    #--get the 2D position of cursor (on the view port)----\n\n    pos = mc.draggerContext( 'testContext', query=1, dragPoint=1) \n\n    #----convert to 3D coordinates in the scene--------\n    ????????\n</code></pre>\n\n<p>thanks in advance</p>\n"},{"tags":["python","dictionary","hdf5","h5py"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13241391,"title":"Reading in multiple hdf5 files and appending them to a new dictionary","body":"<p>I have a list of <code>hdf5</code> files which I would like to open and read in the appropriate values into a new dictionary and eventually write to a text file. I don't necessarily know the values, so the user defines them in an array as an input into the code. The number of files needed is defined by the number of days worth of data the user wants to look at. </p>\n\n<pre><code>new_data_dic = {}\n\nfor j in range(len(values)):\n    new_data_dic[values[j]] = rbsp_ephm[values[j]]\nfor i in (np.arange(len(filenames_a)-1)+1):\n        rbsp_ephm = h5py.File(filenames_a[i])\n        for j in range(len(values)):\n            new_data_dic[values[j]].append(rbsp_ephm[values[j]])\n</code></pre>\n\n<p>This works fine if I only have one file, but if I have two or more it seems to close the key? I'm not sure if this is exactly what is happening, but when I ask what <code>new_data_dic</code> is, for values it gives <code>{'Bfs_geo_a': &lt;Closed HDF5 dataset&gt;,...</code> which will not write to a text file. I've tried closing the hdf5 file before opening the next (<code>rbsp_ephm.close()</code>) but I get the same error.</p>\n\n<p>Thanks for any and all help! </p>\n"},{"tags":["python","hash","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13243577,"title":"Dictionary be a Key in a Dictionary Python","body":"<p>I want an O(1) method of checking if I have been in a state. The problem is that a state is defined by the position of a few zoombinis on a map. \nZoombini = {(1,1): 0, (2,2):1, (3,3):3}  {Position: Zoombini ID}\nI am using Breadth-First Search and am pushing onto my Queue this dictionary of positions. </p>\n\n<pre><code>dirs = [goNorth, goSouth, goWest, goEast] ## List of functions\nzoom = {}\nboulders = {}\nvisited = {} ## {(zoom{}): [{0,1,2},{int}]}\n             ## {Map: [color, distance] 0 = white, 1 = gray, 2 = black\nn = len(abyss)\nfor i in xrange(n):\n    for j in xrange(n):\n        if (abyss[i][j] == 'X'):\n            boulders[(i,j)] = True\n        elif (isInt(abyss[i][j])):\n            zoom[(i,j)] = int(abyss[i][j])      ## invariant only 1 zomb can have this position\n        elif (abyss[i][j] == '*'):\n              exit = (i, j)\nsQueue = Queue.Queue()\nzombnum = 0\ndone = False\ndistance = 0\nsQueue.put(zoom)\nwhile not(sQueue.empty()):\n    currZomMap = sQueue.get()\n    for zom in currZomMap.iterkeys(): ## zoom {(i,j): 0}\n        if not(zom == exit):\n            z = currZomMap[zom]\n            for fx in dirs: ## list of functions that returns resulting coordinate of going in some direction\n                newPos = fx(zom)\n                newZomMap = currZomMap.copy()\n                del(newZomMap[zom]) ## Delete the old position\n                newZomMap[newPos] = z ## Insert new Position\n                if not(visited.has_key(newZomMap)):\n                    sQueue.put(newZomMap)\n</code></pre>\n\n<p>My implementation isn't done but I need a better method of checking if I have already visited a state. I could make a function that creates an integer hash out of the dictionary but I don't think that I'd be able to efficiently. Time is also an issue. How can I go about this optimally?</p>\n"},{"tags":["python","asynchronous","flask"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":206,"score":1,"question_id":10316346,"title":"What library to use to achieve this aync operation in flask?","body":"<p>I'm using flask to build the backend api for an application, one thing I need to do is:  </p>\n\n<pre><code>1. get the content the user submited \n2. send a twitter with that content\n3. save the content to my DB and return the id of the new item\n</code></pre>\n\n<p>now the problem is that step 2 takes too long time so it slows down the total request time.</p>\n\n<p>to be more specific, step 2 is:  <code>twitter.send(content)</code></p>\n\n<p>How could I make step 2 async? PS: I don't need to know if step 2 is successful or not</p>\n"},{"tags":["python","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13244212,"title":"Prevent duplicate of multiple constraint sqlite3 python","body":"<p>Suppose I have a table :</p>\n\n<pre><code>Table A:\n\nId Name     Movie   Comment \n\n1  Foo     Bar  anything\n2  Foo     Bar  anything\n</code></pre>\n\n<p>Here I want to make sure that the user cannot insert Foo and Bar twice , but he is allowed to insert Foo , foobar .\nOne solution to prevent this duplication was to add this statement <code>ALTER TABLE table ADD UNIQUE KEY(Name , Movie).</code> That was probably for sql not sqlite. I wrote the same command in python for sqlite3 as <code>cur.execute(\"ALTER TABLE ADD UNIQUE KEY(Name,Movie)\")</code>. It gave me the error sqlite3.operationalerror: near \"unique\" syntax error. Is there anything that can be done while creating the table A , or is there any mistake in my sqlite query .</p>\n\n<p>Help is appreciated .</p>\n"},{"tags":["python","loops","text"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":67,"score":0,"question_id":13243816,"title":"Reading text file using python, and matching against a value threshold","body":"<p>Sorry if this is a silly question, I am still a beginner with Python. </p>\n\n<p>I have a large number of .txt files (N > 1000) that have data of interest, and I wish to identify files whose \"mean\" value exceeds a given threshold (say, 0.5), and print the name of the file in which that is the case. The data in each file are organized like this:</p>\n\n<pre><code>[        \n    {\n    \"parameter\": {\n        \"max\": 0.6640571758027143, \n        \"mean\": 0.13404294175225137, \n        \"min\": 0.0, \n        \"std\": 0.09435715828616785\n    },\n\n\n  {\n    \"intensity\": [\n\n        {\n            \"max\": [\n                3.1719575216784217\n            ], \n            \"mean\": [\n                -3.552713678800501e-17\n            ], \n            \"min\": [\n                -2.707115982837323\n            ], \n            \"std\": [\n                1.0000000000000004\n]\n</code></pre>\n\n<p>To make matters slightly more complicated, I only wish to read the \"mean\" value for the \"parameter\" and not for \"intensity\". </p>\n\n<p>I had the idea that I should read this file in using a for loop, roughly containing the following code:</p>\n\n<pre><code>subjects = [allmyfilenames]\nfor subj in subjects:\n    file = open('C:/%s.txt' %subj, 'r')\n    for line in file.readlines(): print line\n</code></pre>\n\n<p>From there, I am a bit lost. How might I identify the correct line to use in matching against my threshold (0.5)? </p>\n\n<p>Many thanks in advance,</p>\n"},{"tags":["python","file","list","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13244055,"title":"Python Read file. Make a List per line","body":"<p>So im wanting to read from a file and put each line of it into a list.</p>\n\n<p>Say I have a file named MyFile.txt or MyFile.csv containing the following three lines of numbers/decimals:</p>\n\n<pre><code>49.55,2,77.09,18,1,2.34,32.11\n33,11.22,33.21,56,76.55\n8,9,44.7,90.99,12.21,1.01\n</code></pre>\n\n<p>I want the program to open the file then read line one and put it into a list ~ say L1list. I then want it to make L2list &amp; L3list for lines 2 &amp; 3.\nOnce that's done I want to be able to work out the total for a list, average, max &amp; min etc. I'm pretty confident with this part using sum (), len(),max(), min() etc.</p>\n\n<p>Its the populating of the lists that has me stuck. Im getting the wrong totals, lengths etc.\nThought maybe its the full-stops or comers. but i need the decimal places and thought lists need the comers to separate.</p>\n\n<p>So far i have tried:</p>\n\n<pre><code>filename = 'MyFile.txt' \nfin=open(filename,'r')\nL1list = fin.readline()\nL2list = fin.readline()\nL3list = fin.readline()\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>L1list.append(fin.readline())\n</code></pre>\n\n<p>Along with:</p>\n\n<pre><code>L1list = [i.strip().split() for i in fin.readlines()]\n</code></pre>\n\n<p>A little stuck as to whats going wrong.</p>\n"},{"tags":["python","3d","matplotlib"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13240633,"title":"Matplotlib plot pulse propagation in 3d","body":"<p>I'd like to plot pulse propagation in such a way at each step, it plots the pulse shape. In other words, I want a serie of x-z plots, for each values of y. Something like this (without color):\n<img src=\"http://i.stack.imgur.com/q71Ja.jpg\" alt=\"Pulse propagation\"> </p>\n\n<p>How can I do this using matplotlib (or Mayavi)? Here is what I did so far:</p>\n\n<pre><code>def drawPropagation(beta2, C, z):\n    \"\"\" beta2 in ps / km\n        C is chirp\n        z is an array of z positions \"\"\"\n    T = numpy.linspace(-10, 10, 100)\n    sx = T.size\n    sy = z.size\n\n    T = numpy.tile(T, (sy, 1))\n    z = numpy.tile(z, (sx, 1)).T\n\n    U = 1 / numpy.sqrt(1 - 1j*beta2*z * (1 + 1j * C)) * numpy.exp(- 0.5 * (1 + 1j * C) * T * T / (1 - 1j*beta2*z*(1 + 1j*C)))\n\n    fig = pyplot.figure()\n    ax = fig.add_subplot(1,1,1, projection='3d')\n    surf = ax.plot_wireframe(T, z, abs(U))\n</code></pre>\n"},{"tags":["python","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13244076,"title":"Why is 'r' used in regular expression in Python?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2081640/what-exactly-do-u-and-rstring-flags-in-python-and-what-are-raw-string-litte\">What exactly do “u” and “r”string flags in Python, and what are raw string litterals?</a>  </p>\n</blockquote>\n\n\n\n<pre><code>p = re.compile(r'(\\b\\w+)\\s+\\1')\n\np.search('Paris in the the spring').group()\n</code></pre>\n\n<p>What is the meaning of <code>r</code> in the 1st line?</p>\n"},{"tags":["python","dll","py2exe","standalone","maya"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13244093,"title":"Building an exe for a python script that uses Maya modules (Py2exe)","body":"<p>I know this is a long shot but I'm hoping someone on here has any experience with this as I can't find anything mentioning it online. I have a python script that imports modules from Autodesk Maya. This python script is run through mayapy.exe instead of python.exe which is whats throwing me off. I would rather not have to include a bat file with my script and have the users set the location of mayapy.exe in order to use it. I would prefer to somehow package mayapy.exe with my script using something like py2exe. I'm a little lost on where to go from here honestly.</p>\n\n<p>If I run py2exe normally on my script, its result gives me the error cannot find maya.cmds, as expected. Is there a way I can find the dll to include? I tried running Dependency walker on mayapy.exe but I'm venturing into new territory here. There were only 2 dll's used from the Maya install directory base.dll and python26.dll, the rest were all system dlls. If anyone has tried any of this please share or if anyone has any advice or path I can look down or a website I can go to I would be very grateful. Thanks so much!</p>\n\n<p>P.s. In case it helps at all, this is the python script imports:</p>\n\n<pre><code>try:\n    import maya.standalone\n    maya.standalone.initialize()\nexcept:\n    pass\nimport maya.cmds as cmds\nimport maya.mel as mel\nfrom time import time as tTime\nfrom glob import iglob\nfrom shutil import copy\nfrom os.path import join\nfrom PyQt4 import QtCore\nfrom PyQt4 import QtGui\n</code></pre>\n\n<p>The point of the script is to create a maya file, do some things in it, then save it. Using the maya interpreter(mayapy.exe) it does this without ever opening maya, which is what I was wanting.</p>\n"},{"tags":["python","windows-7"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":56,"score":-1,"question_id":13223037,"title":"Installing uncertainties module in python","body":"<p>How can I install the <a href=\"http://packages.python.org/uncertainties/#installation-and-download\" rel=\"nofollow\">uncertainties module</a>?</p>\n\n<p>I tried following the steps, I downloaded setup tools and typed in what it said but it gave me a syntax error, I also tried installing pip but it did the same thing.</p>\n\n<p>What am I doing, surely installing a module should be simple. The kind people below have led me to determine that I am typing the code provided in the wrong place</p>\n\n<pre><code>easy_install --upgrade uncertainties\n</code></pre>\n\n<p>I am on Windows 7 and using Python 2.7.3</p>\n\n<p>Thank you,</p>\n"},{"tags":["python","generator"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13243766,"title":"Python Empty Generator Function","body":"<p>In python, one can easily define an iterator function, by putting the yield keyword in the function's body, such as:</p>\n\n<pre><code>def gen():\n    for i in range(100):\n        yield i\n</code></pre>\n\n<p>How can I define a generator function that yields no value (generates 0 values), the following code doesn't work, since python cannot know that it is supposed to be an generator and not a normal function:</p>\n\n<pre><code>def empty():\n    pass\n</code></pre>\n\n<p>I could do something like</p>\n\n<pre><code>def empty():\n    if False:\n        yield None\n</code></pre>\n\n<p>But that would be very ugly. Is there any nice way to realize an empty iterator function?</p>\n"},{"tags":["python","class"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13243671,"title":"Python - naming an instance of a class with a var value","body":"<p>I'm trying to instantiate a class object whose desired name is held in a variable that's created elsewhere. </p>\n\n<p>I can't figure out how to make the instance of the class have the name held by the variable. </p>\n\n<p>example:</p>\n\n<pre><code>class foo:\n    def __init__(self):\n        self.var1 = \"bar\"\n\nif __name__ == \"__main__\":\n    test = \"a\" # returned by another func.\n    [string held by variable 'test'] = foo()\n    print a.var1\n</code></pre>\n\n<p>Is this possible? (or even advisable...)</p>\n"},{"tags":["java","python","ruby","email","clojure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13243581,"title":"Customizable mail server - what are my options?","body":"<p>I am interested to build a mail service that allows you to incorporate custom logic in the your mail server.</p>\n\n<p>For example, user A can reply to helloworld@mysite.com once and subsequent emails from user A to helloworld@mysite.com will not go through until certain actions are taken. </p>\n\n<p>I am looking for something simple and customizable, preferably open-sourced. I am fluent in most modern languages. </p>\n\n<p>What email servers do you guys recommend for this? </p>\n"},{"tags":["python","pyparsing"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":30,"score":3,"question_id":13241093,"title":"Why is pyparsing removing a named result?","body":"<p>Given the following minimal working example:</p>\n\n<pre><code>from pyparsing import *\nlatex_h  = QuotedString(\"$\")('latex')\nreg_text = Word(alphas)('text')\ngrammar  = OneOrMore( latex_h | reg_text )('line')\n\nsol = grammar.parseString('''dog $x^2$ cat''')\nprint sol.dump()\n</code></pre>\n\n<p>I expected the output to look like:</p>\n\n<pre><code>['dog', 'x^2', 'cat']\n- line: ['dog', 'x^2', 'cat']\n  - text: dog\n  - latex: x^2\n  - text: cat\n</code></pre>\n\n<p>but instead I got:</p>\n\n<pre><code>['dog', 'x^2', 'cat']\n- latex: x^2\n- line: ['dog', 'x^2', 'cat']\n  - latex: x^2\n  - text: cat\n- text: cat\n</code></pre>\n\n<p>I don't understand why in the parse tree did the <code>dog</code> get left behind? In addition, why are two elements of <code>text, latex</code> <em>outside</em> the <code>line</code>?</p>\n"},{"tags":["python","linux","opencv","face-detection","cropping"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":53,"score":5,"question_id":13211745,"title":"Detect face then autocrop pictures","body":"<p>I am trying to find an app that can detect faces in my pictures, make the detected face centered and crop 720 x 720 pixels of the picture. It is rather very time consuming &amp; meticulous to edit around hundreds of pictures I plan to do that.</p>\n\n<p>I have tried doing this using <a href=\"http://creatingwithcode.com/howto/face-detection-in-static-images-with-python/\" rel=\"nofollow\">python opencv mentioned here</a> but I think it is outdated. I've also tried <a href=\"http://www.givp.org/blog/2011/06/13/image-cropping-and-face-detection/\" rel=\"nofollow\">using this</a> but it's also giving me an error in my system. Also tried using face detection plugin for GIMP but it is designed for GIMP 2.6 but I am using 2.8 on a regular basis. I also tried doing what was posted at ultrahigh blog but it is very outdated (since I'm using a Precise derivative of Ubuntu, while the blogpost was made way back when it was still Hardy). Also tried using Phatch but there is no face detection so some cropped pictures have their face cut right off.</p>\n\n<p>I have tried all of the above and wasted half a day trying to make any of the above do what I needed to do.</p>\n\n<p>Do you guys have suggestion to achieve a goal to around 800 pictures I have.</p>\n\n<p>My operating system is Linux Mint 13 MATE.</p>\n\n<p>Note: I was going to add 2 more links but stackexchange prevented me to post two more links as I don't have much reputation yet.</p>\n"}]}
{"total":142322,"page":12,"pagesize":100,"questions":[{"tags":["python","split"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13243461,"title":"Python Split With Delimiter In Field Value","body":"<p>I have a \"CSV\" with which some of the data fields happen to contain the comma delimiter as in the second row of the following sample data.</p>\n\n<pre><code>\"1\",\"stuff\",\"and\",\"things\"\n\"2\",\"black,white\",\"more\",\"stuff\"\n</code></pre>\n\n<p>I can't change the source data and I don't know how to str.split() and not split in the value \"black,white\".</p>\n\n<p>Ways I've approached my problem:</p>\n\n<ol>\n<li>I looked at partition() and don't see how that would benefit me.</li>\n<li>I'm sure a regex would capture data properly but I'm not sure how to tie one into splitting.</li>\n<li>Since every row in the source will always have the same number of fields I thought maybe setting maxsplit would help but talked myself out of that with the thinking that it would still split within \"black,white\" and I would end up loosing the last value (which would be \"stuff\" in this case).</li>\n</ol>\n\n<p>Certainly this is easy to overcome so I'm looking forward to learning something new!</p>\n\n<p>Your help is greatly appreciated.</p>\n"},{"tags":["python","function","scope"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13243652,"title":"How to deal with scope of variables in python","body":"<p>I have a python module that contains code for generating a large array, and it contains multiple functions for doing this. This is how I have it right now:</p>\n\n<pre><code>var1 = 0\nvar2 = 0\nvar3 = 0\nvar4 = 0\nvar5 = 0\nvar6 = 0\ndef main():\n    foo()\n    moo(var1,var2)\n    noo(var6)\ndef foo():\n    Math using vars\ndef moo():\n    More math\ndef noo():\n    More math\n</code></pre>\n\n<p>However, I cannot use vars 1-6 without first defying them inside there respective functions, as it throws a \"Referenced before assignment\" exception. It seems the best way to do this would be to use global, but that seems heavily frowned upon. Why is global not recommended? Would it be acceptable to use it here? How else should I go about this?</p>\n"},{"tags":["python","django","slug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13243625,"title":"Generate slug field data for existing entries in database","body":"<p>I'm using Django 1.4 with South for migrations. I just added a slug field to one of my models and did a migration. The slug field is automatically populated for all new objects and works perfectly. </p>\n\n<p>I'm wondering, is there any way to force Django to create the slug field entries for all my existing data from before the migration...</p>\n\n<p>*edit \nI'm populating my slug field with this line in admin.py</p>\n\n<p>prepopulated_fields = {\"slug\": (\"name\",\"price\")}</p>\n"},{"tags":["python","django","query"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13243575,"title":"Curious about how django achieves the ORM query optimization","body":"<p>I am no python expert and I am curious about how django optimize the following query</p>\n\n<pre><code>Model.objects.filter(field = 'abc')[0]\n</code></pre>\n\n<p>Somehow django will intelligently add '<code>limit 1</code>' to SQL query like '<code>select * from model where field = 'abc' limit 1</code>'</p>\n"},{"tags":["python","nosql","mongodb","pymongo"],"answer_count":1,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":961,"score":7,"question_id":4549871,"title":"Removing multiple MongoDB documents in Python","body":"<p>Greetings,</p>\n\n<p>I am attempting to remove multiple documents from a MongoDB collection using the following syntax. I don't know if this is correct as I found it somewhere on the internet and haven't been able to find anything since enforcing the legitimacy of this statement:</p>\n\n<pre><code>pymongo_collection_object.remove(\n    [\n        {\n            'sku': '100-00'\n        },\n        {\n            'sku': '200-00'\n        }\n    ]\n, safe=True)\n</code></pre>\n\n<p>I would expect the above code would remove both documents including a 'sku' value of '100-00' or '200-00' but unfortunately both documents are still present within the collection. I also tried casting both the 'sku' key and its value to Unicode as I know they are stored in this encoding. As you can tell I am also enabling safe mode ensuring that there is nothing out of line happening on the server side.</p>\n\n<p>Any help is appreciated, thank you!</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":13243330,"title":"How to tell which point in a grid is on the right, left, up, or down(max)","body":"<p>I have to make a program that asks for different points and then validates them (I've already done it). Afterward, it has to print which one is the higher point lower point on the left and on the right, if two points are on the same spot e.g. 132,5 and 132,4 I have to make them choose randomly which one prints.</p>\n\n<p>The map is actually a parc!</p>\n"},{"tags":["python","duplicates","psycopg2","raspberry-pi"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13225613,"title":"Duplicate data being stored into database","body":"<p>I'm winding up with duplicate entries into a database when I run my script and I was wondering what I might be doing wrong.</p>\n\n<p><strong>Hardware</strong><br>\nI've got an instrument connected to my Raspberry Pi via serial communication at 115,200.  The instrument outputs a line of data every second and I'd like to store this data into the database.  Each line is terminated with a \\n.</p>\n\n<p><strong>Software</strong><br>\nPython 2.7.3rc2<br>\nPySerial<br>\nPostgreSQL 9.1<br>\nDebian Wheezy</p>\n\n<p>The database has one table called wattsup which I created:</p>\n\n<pre><code>CREATE TABLE wattsup (\n    wattsuplocation text\n    wattsuptime timestamp\n    wattsupvalue numeric\n);\n</code></pre>\n\n<p>My Python script looks like:</p>\n\n<pre><code>import serial\nimport time\nimport psycopg2\n\nser = serial.Serial('/dev/ttyUSB0', 115200)\nLocation = 'A'\n\nconn = psycopg2.connect(\"dbname='mydb' user='thotchi'\")\ncur = conn.cursor()\n\nInsert = \"INSERT INTO wattsup (wattsuplocation, wattsuptime, wattsupvalue) VALUES (%s, %s, %s)\"\n\nwhile 1:\n    line = ser.readline()\n\n    DataArray = line.split(',') #CSV output\n\n    if len(DataArray) != 21:\n        continue\n    else:\n        Time = time.strftime(\"%Y-%m-%d %H:%M:%S\")\n        Watts = float(DataArray[3]) / 10\n        cur.execute(Insert, (Location, Time, Watts))\n        conn.commit()\n</code></pre>\n\n<p>It generally works but I get some duplicates in data that I don't understand.  When I query the database, I can find data like.</p>\n\n<pre><code>A, 2012-11-04 18:00:00, 5.0\nA, 2012-11-04 18:00:01, 5.1\nA, 2012-11-04 18:00:02, 5.0\nA, 2012-11-04 18:00:03, 4.9\nA, 2012-11-04 18:00:04, 5.0\nA, 2012-11-04 18:00:05, 5.0\nA, 2012-11-04 18:00:05, 5.0\nA, 2012-11-04 18:00:05, 5.0\nA, 2012-11-04 18:00:05, 5.0\nA, 2012-11-04 18:00:06, 5.1\n</code></pre>\n\n<p>Notice that there are duplicate data (A, 2012-11-04 18:00:05, 5.0).  I know the instrument only outputs data at 1 second so I'm am certain it's not the instrument.  I tried changing the code some so that the commit occurs every 10 entries which seemed to improve the situation.</p>\n\n<p>Any idea what might be going on?  I'm stumped.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13243380,"title":"improving a word combination script","body":"<p>Any way to make this better or more simple? I know it generates a whole lot of words and when you try to combine more than 4 lines on one sentence it doesn't look the way it should.</p>\n\n<pre><code>infile = open('Wordlist.txt.txt','r')\nwordlist = []\nfor line in infile:\n    wordlist.append(line.strip())\ninfile.close()\noutfile = open('output.txt','w')\nfor word1 in wordlist:\n    for word2 in wordlist:\n        out = '%s %s' %(word1,word2)\n        #feel free to #comment one of these two lines to not output to file or screen\n        print out\n        outfile.write(out + '\\n')\n\noutfile.close()\n</code></pre>\n"},{"tags":["python","split","extract","wildcard","rename"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":4,"view_count":42,"score":0,"question_id":13243098,"title":"extract values/renaming filename in python","body":"<p>I am trying to use python to rename a filename which contains values such as:  <code>~test1~test2~filename.csv</code></p>\n\n<p>I want to rename the file to filename.csv.  The tildes being my separator for the first two words, and I do not want those words in my finale file name.  These words are variables.  Any assistance would be appreciated.  Thanks!</p>\n"},{"tags":["python","numpy","cython"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13243404,"title":"Cython numpy array shape, tuple assignments","body":"<p>I use the idiom</p>\n\n<pre><code> size_x, size_y, size_z = some_array.shape\n</code></pre>\n\n<p>quite often when dealing with numpy arrays. The same thing doesn't seem to work in Cython when the array in question has a type, e.g.</p>\n\n<pre><code> def someFunc(np.ndarray[np.float32_t, ndim=2] arr):\n      sx, sy = arr.shape\n</code></pre>\n\n<p>we end up with a compile error like</p>\n\n<pre><code>  Cannot convert 'npy_intp *' to Python object\n</code></pre>\n\n<p>which is possibly the result of the fact that \"shape\" gets converted to a C array (for faster access), so it's no longer a tuple.</p>\n\n<p>Is it possible to extract this tuple somehow even in Cython? (Or should I just stick with <code>sx, sy = arr.shape[0], arr.shape[1]</code>?)</p>\n"},{"tags":["php","python","web","automation","mechanize"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13243426,"title":"How to automate WatchSeries.eu website navigation?","body":"<p><a href=\"http://watchseries.eu\" rel=\"nofollow\">http://watchseries.eu</a></p>\n\n<p>To be more specific, I need help getting past this 'gateway.php' file, that does NOT like automated users. </p>\n\n<p>If you're not familiar with the site, basically the flow is this:</p>\n\n<pre><code>Show Page -&gt; Pick Episode -&gt; List of Video Hosts -&gt; Putlocker Link -&gt; ??? -&gt; Putlocker\n</code></pre>\n\n<p>The problem I have is during the ??? part. It goes from a link of the form /open/cale/###/episodeid/###.html through gateway.php?link=[AlphaNumeric Stuff] and then either to Putlocker (good), or the watchseries 404 page (bad)</p>\n\n<p>I have tried PHP CURL, Python Mechanize, Selenium, and urllib/urllib2, nothing seems to make it past gateway.php</p>\n\n<p>Does anyone know how they are blocking automated attempts??? How to circumvent?</p>\n\n<p>Just FYI, I'm not trying to attack their site or batch use it, just creating a tool for personal use to speed up the time between show page and watching an episode. </p>\n"},{"tags":["python","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13242516,"title":"Writing to CSV - Rows, not columns","body":"<p>I am stuck on a problem where my script writes to multiple columns and not rows. I'm not sure what I am doing wrong. </p>\n\n<p>Disclosure - I am really new to programming. </p>\n\n<p>EDIT - Figured it out. This worked :-)</p>\n\n<p>Any thoughts?</p>\n\n<pre><code>import json\nimport csv\nimport subprocess\nimport urllib\nimport requests\nfrom unidecode import unidecode\n\ndef main():\n    list_writer= open_csv()\n    info = test_method()\n    for list in info:\n        write_to_csv(list_writer, list)\n\n\ndef test_method():\n    r = requests.get('https://api.github.com/legacy/repos/search/python'+'?start_page=1', auth=('user', 'pass'))\n    dict_of_repos = json.loads(r.text)\n    list_of_repos = dict_of_repos[\"repositories\"]\n    repo_information = []\n    for repo in list_of_repos:\n        indiv_repo = []\n        indiv_repo.append(repo[\"name\"])\n        indiv_repo.append(repo[\"fork\"])\n        print indiv_repo\n        repo_information.append(indiv_repo)\n    return repo_information\n\ndef open_csv():\n    github_csv = open('Githubcsv_1_2.csv', 'wb')\n    writer = csv.writer(github_csv)\n    return writer   \n\ndef write_to_csv(list_writer, info):\n    list_writer.writerow(info)\n    return\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["python","installation","boto"],"answer_count":5,"favorite_count":1,"up_vote_count":8,"down_vote_count":2,"view_count":8947,"score":6,"question_id":2481287,"title":"How do I install boto?","body":"<p>So that I am able to work with it within my python scripts?</p>\n"},{"tags":["python","integer"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1452,"score":5,"question_id":7604966,"title":"Maximum and Minimum values for ints","body":"<p>I am looking for minimum and maximum values for integers in python. For eg., in Java, we have <code>Integer.MIN_VALUE</code> and <code>Integer.MAX_VALUE</code>. Is there something like this in python?</p>\n"},{"tags":["python","visual-studio"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":183,"score":0,"question_id":12678916,"title":"Installing Python Tools for Visual Studio 2012 (PTVS)","body":"<p>I installed the version for VS 2010 a few weeks ago, and it went flawlessly. I am not having such good luck for the version for VS 2012. What did I do wrong? I ran, in order, two installers from Microsoft, \"vs_isoshell.exe\", \"vs_intshelladditional.exe\", and then \"PTVS 1.5RC VS 2012.msi\". VS Shell 2012 came up, and the Python support appeared to be present. I used the Wizard to create a new Python project. It will not run when I click to debug it. Also, VS Shell does not display the bottom of the window correctly either. VS 2010 Shell and PTVS still work perfectly.</p>\n\n<p>What is the procedure for installing the 2012 version?</p>\n\n<p>EDIT: I see that the instructions for installing the 2010 version say to uninstall previous versions first. I am reluctant to uninstall the 2010 version. If I uninstall PTVS and run PTVS 1.5RC VS 2012.msi, will PTVS still work in VS 2010 Shell?</p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=30670\" rel=\"nofollow\">Isolated shell</a></p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=30663\" rel=\"nofollow\">Integrated shell</a></p>\n\n<p><a href=\"http://pytools.codeplex.com/\" rel=\"nofollow\">PTVS</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/UoOlP.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","regex","negative-lookbehind"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13243295,"title":"Python Regex match so long as there's no character","body":"<p>I am having some trouble with another regular expression. For this one, my code is supposed to look for the pattern:</p>\n\n<pre><code>re.compile(r\"kill(?:ed|ing|s)\\D*(\\d+).*?(?:men|women|children|people)?\")\n</code></pre>\n\n<p>However, it is matching too aggressively. It happens to match a sentence which has the word 'killing' in it. But the pattern continues to collect until it reaches a digit further down in the text. In particular, it is matching:</p>\n\n<pre><code>killed in an apparent u.s. drone attack on a car in yemen on sunday, tribal sources and local officials said.the men's car was driving through the south-eastern province of maareb, a mostly desert region where militants have taken refuge after being driven from southern strongholds.yemen, where al qaeda militants exploited a security vacuum during last year's uprising that ousted president ali abdullah saleh, has seen an in10\n</code></pre>\n\n<p>This is not the behavior I'm after. I would like this pattern to fail if it cannot be found inside a single sentence. </p>\n\n<p>The solution I'm trying implement in pseudo code is:</p>\n\n<pre><code>find instance of 'kill'\nif what follows contains a period (\\.) before a digit, do not match.\n</code></pre>\n\n<p>My failed implementation looks like this:</p>\n\n<pre><code>re.compile(r\"kill(?:ed|ing|s)\\D*(?!:\\..*?)(\\d+).*?(?:men|women|children|people)?\")\n</code></pre>\n\n<p>I've tried a 'look-behind', but I have to specify a width. What I'm trying to do with the above is match any ending of 'kill', followed by any non-digit, but NOT match a period, and anything else is free to follow before the digit I'm after. </p>\n\n<p>Sadly, this code behaves the exact same in my test. Any help would be appreciated.</p>\n"},{"tags":["python","function","split"],"answer_count":4,"favorite_count":4,"up_vote_count":17,"down_vote_count":0,"view_count":14803,"score":17,"question_id":113655,"title":"Is there a function in python to split a word into a list?","body":"<p>Is there a function in python to split a word into a list of single letters? e.g:</p>\n\n<pre><code>s=\"Word to Split\"\n</code></pre>\n\n<p>to get</p>\n\n<pre><code>wordlist=['W','o','r','d','','t','o' ....]\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13243063,"title":"How to convert raw json objects into Json in python?","body":"<pre><code>[{\"changed_aspect\": \"media\", \"subscription_id\": xxxx, \"object\": \"user\", \"object_id\": \"xxxx\", \"time\": \"xxxxxx\"}]\n</code></pre>\n\n<p>That's the data I get from the server. </p>\n\n<p>jsondump = json.dump(data)</p>\n\n<p>but when I do jsondump[1][\"changed_aspect\"] it doesn't show the value media. Where am I going wrong?</p>\n"},{"tags":["python","r","rpy2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13242662,"title":"Unable to use Rpy2","body":"<p>Why I try to load Rpy2 in Python, the interpreter finds the module but as soon as I try to import anything from it, it returns an error:</p>\n\n<p>e.g. </p>\n\n<pre><code>import rpy2 # No errors, although it does not print anything\n</code></pre>\n\n<p>But</p>\n\n<pre><code>import rpy2.robjects \n</code></pre>\n\n<p>returns the following error:</p>\n\n<blockquote>\n  <p>/home/jimmy/.python_easy_install/rpy2-2.3.0beta1-py2.7-linux-x86_64.egg/rpy2/rinterface/_rinterface.so:\n  undefined symbol: Rf_translateCha rUTF8</p>\n</blockquote>\n\n<hr>\n\n<p>I followed the instructions in the website:</p>\n\n<p><strong>1.</strong> Installed R with the option for shared libraries:</p>\n\n<pre><code># &lt;go to the R source directory&gt;\nmake distclean\n./configure --enable-R-shlib\nmake\nmake install\n</code></pre>\n\n<p><strong>2.</strong> Added this to my <code>.bashhrc</code>:</p>\n\n<pre><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$RHOME/lib\n</code></pre>\n\n<p><strong>3.</strong> And then installed <code>rpy2</code> with <code>easy_install</code> (I also tried with <code>pip</code>):</p>\n\n<pre><code>easy_install -d /home/jimmy/.python_easy_install rpy2\n</code></pre>\n\n<p>Why is it not working?</p>\n\n<p>This is all on Linux with the latest versions of <code>Rpy2</code>, <code>R</code> and <code>Python</code>.</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":37,"score":1,"question_id":13242837,"title":"Python 3. Return from a list","body":"<p>I have a list like this:</p>\n\n<pre><code>videos = ['http://www.youtube.com/watch?v=oKI-tD0L18A',\n           'http://www.youtube.com/watch?v=82LCKBdjywQ',\n           'http://www.youtube.com/watch?v=GpNSip5gyKo]\n</code></pre>\n\n<p>I want to return it as a list, but with the easier form like: \"youtu.be/(id) \" instead of \"http://www.youtube.com/watch?v=(id)\".</p>\n\n<p>I hope you guys understand my question. Thanks</p>\n"},{"tags":["python","couchdb","couchdb-python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13242981,"title":"How to load from couchdb to list all objects?","body":"<p>I have simple class in Python like ( I am using Couchdb like database and mapping to Python objects couchdb-python)</p>\n\n<pre><code>class Battlefield(Document):\n    __nation__ = None\n    def __init__(self):\n        pass\n    def __load__(self):\n        pass\n</code></pre>\n\n<p>I have outer class Map like</p>\n\n<pre><code>class Map(object):\n    __battlefields__ = []\n    def __init__(self):\n        pass\n</code></pre>\n\n<p>Battlefields are in db battlefields. How to load all from db in list <strong>battlefields</strong> inside Map class ?</p>\n"},{"tags":["python","pyqt","pyqt4","pyside"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13242875,"title":"Python Crashing with QThreadPool","body":"<p>Trying to figure out why python.exe is crashing with using QThreadPool in this code. I read this was a bug in PyQT/PySide but I also read there was a work around but I am not sure how to implement it. But it may not be a bug but just my lack of knowledge on how to convert from C++ to Python so any ideas are greatly appreciated. </p>\n\n<p><strong>Relevant code parts posted</strong> </p>\n\n<pre><code>    def readyRead(self):\n        self.msg = self.socket.readAll()\n        self.task = Task()\n        self.task.result.connect(self.taskResult, Qt.DirectConnection)\n        self.task.setAutoDelete(True)\n        QThreadPool.globalInstance().start(self.task)\n\n....\n\n    @Slot(int)\n    def taskResult(self, iNumber):\n        self.buffer = QByteArray()\n        self.buffer.append(\"Task Result = \")\n        self.buffer.append(str(iNumber))\n        self.socket.write(self.buffer)\n</code></pre>\n\n<p>....</p>\n\n<pre><code>class Task(QObject, QRunnable):\n    result = Signal(int)\n\n    def __init__(self, parent=None):\n        QRunnable.__init__(self)\n\n    def run(self, iNumber):\n        for i in range(0, 100):\n            iNumber += i\n        print \"Task Done\"\n        self.result.emit(iNumber)\n</code></pre>\n"},{"tags":["python","pil","cpython"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13242221,"title":"Does PIL resize() hold the GIL?","body":"<p>Example:</p>\n\n<pre><code>image = Image.open('foo.png')\n# releases the GIL?\nresized = image.resize((800, 600), Image.ANTIALIAS)\n# reacquires the GIL?\n</code></pre>\n\n<p>Obviously the variable assignment needs to hold the GIL, but it's difficult to break that up into two lines. :)</p>\n\n<p>If there are two threads doing image resizes, can those resizes run on two different cores?</p>\n"},{"tags":["python","strip"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":78,"score":0,"question_id":13241200,"title":"Python: cannot remove \\n","body":"<p>I want to remove <code>\\n</code> from the beginning lines like this <code>\\n  id int(10) NOT NULL</code>. I tried <code>strip()</code>, <code>rstrip()</code>, <code>lstrip()</code> <code>replace('\\n', '')</code>. I don't get it. What am I doing wrong?</p>\n\n<pre><code>print(column)\nprint(column.__class__)\nx = column.rstrip('\\n')\nprint(x)\nx = column.lstrip('\\n')\nprint(x)            \nx = column.strip('\\n')          \nprint(x)\nprint(repr(column))\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>\\n  id int(10) NOT NULL\n&lt;type 'str'&gt;\n\\n  id int(10) NOT NULL\n\\n  id int(10) NOT NULL\n\\n  id int(10) NOT NULL\n\\n  id int(10) NOT NULL\n'\\\\n  `id` int(10) NOT NULL'\n</code></pre>\n"},{"tags":["python","html","google-app-engine","checkbox","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13242412,"title":"How to Take Checkboxes in Python","body":"<p>I am trying to use checkboxes in my HTML, return these checkboxes to my python backend, and then increment three counters if the box is clicked.</p>\n\n<p>Right now my HTML is as follows and works fine:</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"entertaining\"&gt;Entertaining\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"informative\"&gt;Informative\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"exceptional\"&gt;Exceptional\n&lt;/form&gt;\n</code></pre>\n\n<p>and then on my python backend I have the following:</p>\n\n<pre><code>def post(self):\n    adjective = self.request.get('adjective ')\n\n    if adjective :\n        #somehow tell if the entertaining box was checked\n        #increment entertaining counter\n        #do the same for the others\n</code></pre>\n"},{"tags":["python","wmi","pywin32"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":124,"score":3,"question_id":13088618,"title":"wmi not available for some time after reboot","body":"<p>I'm having the problem with the WMI availability on logon.</p>\n\n<p>Right after reboot I open cmd and with python interpreter:</p>\n\n<pre><code>&gt;&gt;&gt; import wmi\n&gt;&gt;&gt; c = wmi.WMI()\n&gt;&gt;&gt; c.Win32_OperatingSystem()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\wmi.py\", line 1147, in __getattr__\n    return getattr (self._namespace, attribute)\n  File \"C:\\Python27\\lib\\site-packages\\win32com\\client\\dynamic.py\", line 516, in\n__getattr__\n    raise AttributeError(\"%s.%s\" % (self._username_, attr))\nAttributeError: winmgmts:.Win32_OperatingSystem\n&gt;&gt;&gt;\n</code></pre>\n\n<p>5 minutes later I open <strong>another</strong> cmd and python interpreter:</p>\n\n<pre><code>Python 2.7.3 (default, Apr 10 2012, 23:31:26) [MSC v.1500 32 bit (Intel)] on win\n32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import wmi\n&gt;&gt;&gt; c = wmi.WMI()\n&gt;&gt;&gt; c.Win32_OperatingSystem()\n[&lt;_wmi_object: \\\\W520-ALEX-WIN7\\root\\cimv2:Win32_OperatingSystem=@&gt;]\n&gt;&gt;&gt;\n</code></pre>\n\n<p>NOTE: the first cmd still keeps saying <strong><em>AttributeError</em></strong> even 5 minutes later.</p>\n\n<p>NOTE 2: if I logout and login wmi is available, so it is somehow effected by reboot</p>\n\n<p>with process explorer I check the <em>environmental variables</em> and they are the same for both cmds</p>\n\n<p>What could that be? \nPlease help.</p>\n\n<p><strong>UPDATE:</strong> Apparently the problem is connecting to the wbem services:</p>\n\n<pre><code>&gt;&gt;&gt; import win32com.client\n&gt;&gt;&gt; win32com.client.Dispatch('WbemScripting.SWbemLocator')\n&lt;COMObject WbemScripting.SWbemLocator&gt;\n&gt;&gt;&gt; wmi_service= win32com.client.Dispatch('WbemScripting.SWbemLocator')\n&gt;&gt;&gt; wbem_service =  wmi_service.ConnectServer('.','root/cimv2')\n&gt;&gt;&gt; wbem_service\n&lt;COMObject &lt;unknown&gt;&gt;\n&gt;&gt;&gt; items = wbem_service.ExecQuery('Select * from Win32_OperatingSystem')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;COMObject &lt;unknown&gt;&gt;\", line 3, in ExecQuery\n  File \"C:\\Python27\\lib\\site-packages\\win32com\\client\\dynamic.py\", line 282, in\n_ApplyTypes_\n    result = self._oleobj_.InvokeTypes(*(dispid, LCID, wFlags, retType, argTypes\n) + args)\npywintypes.com_error: (-2147352567, 'Exception occurred.', (0, u'SWbemServicesEx\n', u'Generic failure ', None, 0, -2147217407), None)\n&gt;&gt;&gt;\n</code></pre>\n\n<p>NOTE 3: <code>wmic os</code> always worked.</p>\n\n<p>NOTE 4: re-installing pywin32 package didn't help. Neither did Re-registering/re-compiling the WMI components and resetting of the WMI database (as recommended <a href=\"http://stackoverflow.com/a/7078421/1167879\">here</a>)</p>\n\n<p><strong>NOTE 5: my 4 Other laptops don't have this problem.</strong></p>\n\n<p>Also <strong>wmiprov.log</strong> has:</p>\n\n<pre><code>(Mon Oct 29 11:40:07 2012.248587) : ***************************************\n(Mon Oct 29 11:40:07 2012.248587) : Could not get pointer to binary resource for file:\n(Mon Oct 29 11:40:07 2012.248587) : C:\\Windows\\system32\\drivers\\ndis.sys[MofResourceName](Mon Oct 29 11:40:07 2012.248587) : \n(Mon Oct 29 11:40:07 2012.248587) : ***************************************\n(Mon Oct 29 11:40:07 2012.248587) : ***************************************\n(Mon Oct 29 11:40:07 2012.248587) : Could not get pointer to binary resource for file:\n(Mon Oct 29 11:40:07 2012.248587) : C:\\Windows\\system32\\drivers\\en-US\\ndis.sys.mui[MofResourceName](Mon Oct 29 11:40:07 2012.248587) : \n(Mon Oct 29 11:40:07 2012.248587) : ***************************************\n(Mon Oct 29 11:40:07 2012.248603) : ***************************************\n(Mon Oct 29 11:40:07 2012.248603) : Could not get pointer to binary resource for file:\n(Mon Oct 29 11:40:07 2012.248603) : C:\\Windows\\system32\\DRIVERS\\wmiacpi.sys[MofResource](Mon Oct 29 11:40:07 2012.248603) : \n(Mon Oct 29 11:40:07 2012.248603) : ***************************************\n(Mon Oct 29 11:40:07 2012.248603) : ***************************************\n(Mon Oct 29 11:40:07 2012.248603) : Could not get pointer to binary resource for file:\n(Mon Oct 29 11:40:07 2012.248603) : C:\\Windows\\system32\\DRIVERS\\monitor.sys[MonitorWMI](Mon Oct 29 11:40:07 2012.248603) : \n(Mon Oct 29 11:40:07 2012.248603) : ***************************************\n</code></pre>\n\n<p>NOTE 6: the WMIDiag tool report is at <a href=\"http://dl.dropbox.com/u/61886092/WMIDIAG-V2.1_WIN7_.CLI.SP1.64_W520-ALEX-WIN7_2012.10.26_18.34.00-REPORT.TXT\" rel=\"nofollow\">my dropbox</a></p>\n"},{"tags":["python","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13225071,"title":"Tkinter - Configuring a Label","body":"<p>I'm making a maze game that's based on arrays.\nI have it so when the player(Value 1) reaches the end point (Value -5), my label changes from Level 1, to Level 2.</p>\n\n<p>I'm having problems implementing the level feature. I was wondering if anyone can help me.\nI believe I'm suppose to be using \"configure\", but it's not working out for me.</p>\n\n<p>I have level as a global variable.\nWhen the player reaches the end, it adjusts the level = 2, then recalls init(canvas)</p>\n"},{"tags":["python","macros","trac"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13233562,"title":"writing my first Trac macro","body":"<p>Ok, I've looked all over, and I <em>think</em> I'm doing this right, but I'm not getting any results.  Is there anyone out there who's written Trac macros that can guide me through the first steps?  Here's what I've written:</p>\n\n<pre><code>from trac.wiki.macros import WikiMacroBase\nfrom genshi.builder import tag\n\nclass MyMacro(WikiMacroBase):\n    \"\"\"Proof of concept\"\"\"\n\n    revision = \"$Rev$\"\n    url = \"$URL$\"\n\n    def expand_macro(self, formatter, name, args):\n        return tag.b(\"Hello world.\")\n</code></pre>\n\n<p>I've saved it as a  .py file and put it in my Trac project's /plugins directory.  Do I need to restart apache?  Am I correct in expecting <code>[[MyMacro]]</code> to output a <strong>Hello world.</strong> on the page?</p>\n"},{"tags":["python","3d","geometry"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13136828,"title":"Rotations in 3D","body":"<p>I have three vectors in 3D a,b,c. Now I want to calculate a rotation r that when applied to a yields a result parallel to b. Then the rotation r needs to be applied to c. </p>\n\n<p>How do I do this in python? Is it possible to do this with numpy/scipy?</p>\n"},{"tags":["c++","python","gcc","python-2.7"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13115988,"title":"C++ Compiling with Python.h Undefined Symbols","body":"<p>So, I've been trying to start using Python.h for a little project I want to work on that seems pretty /simple/. But before I start I want to try to learn how to use Python.h.\nSo I found this little example online.</p>\n\n<pre><code>#include \"Python/Python.h\"  \n\nint main(int argc, char** argv)  \n{  \n    Py_Initialize();  \n    PyRun_SimpleString(\"print 'Test'\");  \n    PyRun_SimpleString(\"print str(3 + 5)\"); \n    Py_Exit(0);  \n}\n</code></pre>\n\n<p>Seems pretty straight forward. When i first used</p>\n\n<pre><code>gcc test.cpp\n</code></pre>\n\n<p>to compile, i got some undefined symbols. I quickly found out I should use</p>\n\n<pre><code>-lpython2.7\n</code></pre>\n\n<p>then I found out I could also use</p>\n\n<pre><code>-L/Library/Frameworks/Python.framework/Versions/2.7/lib/\n</code></pre>\n\n<p>that didn't work (I made sure that /Library/Frameworks/Python/Versions/2.7/lib/ existed)\nI'm stuck, what do I do?\nI get</p>\n\n<pre><code>Undefined symbols:\n  \"_Py_Initialize\", referenced from:\n      _main in ccoUOSlc.o\n  \"_PyRun_SimpleStringFlags\", referenced from:\n      _main in ccoUOSlc.o\n      _main in ccoUOSlc.o\n  \"___gxx_personality_v0\", referenced from:\n      _main in ccoUOSlc.o\n      CIE in ccoUOSlc.o\n  \"_Py_Exit\", referenced from:\n      _main in ccoUOSlc.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>EDIT:\nI just tried using the -Framework argument, and tried adding after the -L the -l python2.7 argument, and I now get</p>\n\n<pre><code>Undefined symbols:\n  \"___gxx_personality_v0\", referenced from:\n      _main in ccfvtJ4j.o\n      CIE in ccfvtJ4j.o\nld: symbol(s) not found\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>Now what?</p>\n"},{"tags":["python","gnuplot","sublimetext2","importerror"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13239839,"title":"Sublime Text2 Import error: No module named Gnuplot","body":"<p>I'm trying to use Gnuplot in a Python script I'm writing in Sublime Text. Whenever I build, I get the error message</p>\n\n<pre><code>Traceback (most recent call last): \n    File \"...\" line 4, in &lt;module&gt;\n       import Gnuplot\nImportError: No module named Gnuplot\n</code></pre>\n\n<p>If I do the exact same code lines directly in Terminal, I have no problem importing and using Gnuplot. </p>\n\n<p>The import error seems to be common, just with other modules. Usually the fix is related to PYTHONPATH. However, Gnuplot is on my computer located in </p>\n\n<pre><code>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages\n</code></pre>\n\n<p>and should thus be found. </p>\n\n<p>Anybody who's got a fix to this one?</p>\n"},{"tags":["php","python","mysql","gtfs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13242426,"title":"How do I use GTFS Real Time to get Alerts, Delays etc?","body":"<p>I've been programming PHP for a couple of years, and I'm looking at tackling the GTFS real time feeds. I've downloaded the GTFS files for a specific agency and am parsing them with PHP using the fgetcsv function. </p>\n\n<p>What I'm stuck on right now is, how the HECK do I use this information to find service delays etc. I'm used to parsing information through XML apis etc, but have not dealt with anything like this before. It seems that it requires some python knowledge which I do not know, but am willing to learn. </p>\n\n<p>If anyone can provide me with proper guidance, I'd GREATLY appreciate it. I can get it to store the records into MySQL, but am not sure if I just need to create queries against the current timestamp vs. the expected timestamp to see if there is a delay. I'm having a hard time trying to figure out what to do next. </p>\n\n<p>Any guidance would be greatly appreciated.</p>\n"},{"tags":["javascript","python","json"],"answer_count":7,"favorite_count":81,"up_vote_count":145,"down_vote_count":0,"view_count":39161,"score":145,"question_id":455580,"title":"JSON datetime between Python and JavaScript","body":"<p>I want to send a datetime.datetime object in serialized form from Python using <a href=\"http://en.wikipedia.org/wiki/JSON\" rel=\"nofollow\">JSON</a> and de-serialize in JavaScript using JSON. What is the best way to do this?</p>\n"},{"tags":["python","events","gui","wxpython","textctrl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13242130,"title":"How can I get the position of the entered char?","body":"<p>I have a application which ask the user for a input (wx Python). I want to control what is inside the TextCtrl so I added the event: wx.EVT_CHAR. The function work properly except that I want the position of the curently entered charater.</p>\n\n<p>Let say I only want a charater to be at one place, I need the position of it. That my prob.</p>\n\n<pre><code>    def handle_keypress(self, event, entry):\n        key = event.GetKeyCode()\n        keycode = [1,2,3,4,5,6] #example\n\n        bool = False\n        for char in keycode:\n            if key == char:\n                bool = True\n                break\n\n        if bool == True:\n            event.Skip()\n</code></pre>\n\n<p>thx, I hope you guys can help me! </p>\n\n<p>PS: Sorry for my bad english :(</p>\n\n<p>EDIT:\nProblem solved!</p>\n\n<p>I though the problem would be in the EVT_CHAR: <a href=\"http://www.wxpython.org/docs/api/wx.KeyEvent-class.html\" rel=\"nofollow\">http://www.wxpython.org/docs/api/wx.KeyEvent-class.html</a></p>\n\n<p>But it's not, it was in the TextCtrl: <a href=\"http://www.wxpython.org/docs/api/wx.TextCtrl-class.html\" rel=\"nofollow\">http://www.wxpython.org/docs/api/wx.TextCtrl-class.html</a></p>\n\n<p>The method GetInsertionPoint() worked!</p>\n"},{"tags":["python","python-3.x","pygame"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13242245,"title":"Best Python / Pygame intermediate programming tutorial?","body":"<p>So, I've been learning about basic Python 3 programming for the last few months and I feel that I would like to start an \"intermediate\" level project designing a game. I've followed through a whole bunch of tutorials for making simple games and drawing objects to the screen, but I'd like to take it one step further in learning how to make a more advanced game. I'd like to make a fairly complex but original platforming game and I'm having trouble creating the code for it, right now I have something basic that looks like this:</p>\n\n<p><img src=\"https://dl.dropbox.com/u/53132286/Untitled.png\" alt=\"basic platforming game\"></p>\n\n<p>So, specifically what I would like to do is have a basic engine that I can pass an object (E.g. a \"dirt block\") the I've coded myself and have the engine simulate the world based on my parameters.</p>\n\n<p>So, can anyone recommend a useful set of more intermediate/advanced tutorials for me to learn how to make my own engine?</p>\n"},{"tags":["python","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13238526,"title":"batch delete smaller of two files","body":"<p>I am looking for a way to do a batch rename of a bunch of files based on the criteria mentioned below:</p>\n\n<p>The filelist looks similar to this, and should be alpha-numeric:</p>\n\n<ul>\n<li>A20100102-1.loc.txt </li>\n<li>A20100102.loc.txt</li>\n<li>A20100103-1.loc.txt</li>\n<li>A20100103.loc.txt\n...etc.</li>\n</ul>\n\n<p>The following pseudo-code is pretty close to the way I want it to behave, but I'm trying to figure out if sed, awk, python, perl, or a bash script is the way to go (I'm examining the options in order to figure out which implementation I might want to delve deeper into):</p>\n\n<pre><code>for all_files_in_dir:{\n  if(currentfile.name is_close_to previousfile.name){  //maybe regex here\n    var small_file = find_smaller_file_filename(currentfile.filesize, previousfile.filesize);\n    sys.remove(small_file);\n  }\n}\n</code></pre>\n\n<p>Thanks for any suggestions!  </p>\n"},{"tags":["python","html","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13241850,"title":"Why does this work via the command line, but not via a web browser?","body":"<p>Why does this work via the command line, but not my via a web browser?\n(both files in python only the 2nd one loads)</p>\n\n<pre><code>import cgi\nimport cgitb; cgitb.enable()\nimport BaseHTTPServer\nfrom SimpleHTTPServer import SimpleHTTPRequestHandler\n# get the info from the html form\nform = cgi.FieldStorage()\n#set up the html stuff\nreshtml = \"\"\"Content-Type: text/html\\n\n&lt;html&gt;\n &lt;head&gt;&lt;title&gt;login&lt;/title&gt;&lt;/head&gt;\n &lt;body&gt;\n \"\"\"\n\nprint reshtml \n\nUser_Name = form.getvalue('User_Name')\npassword = form.getvalue('Pass_Word')\nlog=\"info:  \"\nif User_Name == 'NAME' and password == 'passcode':\n    log=log+\"login passed \"\nelse:\n    log=log+\"login failed \"\nprint log\nprint '&lt;/body&gt;'\nprint '&lt;/html&gt;'\n</code></pre>\n\n<p>I invoke it using a file that passes in the parameters \"User_Name\" and \"Pass_Word\":</p>\n\n<pre><code>#!/Python27/python\nprint \"Content-type: text/html\"\nprint\nprint \"\"\"\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;log in&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n\"\"\"\nimport sha, time, Cookie, os, fileinput, cgi, cgitb \nimport sys\nimport BaseHTTPServer\nfrom SimpleHTTPServer import SimpleHTTPRequestHandler\nlog = \"info:  \"\ncookie = Cookie.SimpleCookie()\nstring_cookie = os.environ.get('HTTP_COOKIE')\nstring_cookie = str(string_cookie)\ninfoform = \"\"\"\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"styles/home.css\" media=\"screen\" /&gt;\n    &lt;div id=\"top\" style=\" height:50px;width:100%;position:absolute;left:0px;top:0px;\" &gt;\n    &lt;form action=\"router.py\" method=\"post\" target=\"_self\"&gt;\n    &lt;div id=\"form\" style=\"position:absolute;left:15px;top:20px;\" &gt;\n    &lt;input type=\"text\" name=\"User_Name\" value=\"User Name\"&gt;\n    &lt;input type=\"password\" name=\"Pass_Word\" value=\"Password\"&gt;\n    &lt;input type=\"hidden\" name=\"status_url\"&gt;\n    &lt;input type=\"submit\" value=\"Log in\"&gt; \n    &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;div ID\"home\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"GBbody\" style=\"position:absolute;left:1px;top:55px;height:100%;width:100%;\" &gt;\n    &lt;p id=\"disply\"&gt;\n    &lt;center&gt;&lt;h2&gt;\n    Hi, and welcome!\n    &lt;/h2&gt;&lt;/center&gt;\n    &lt;h4&gt;    \n    Did you know: just the movie player and code that goes with it takes&lt;br&gt;\n    474 lines of code so-far, and may not work many web browsers (for the time being), however &lt;br&gt;\n    Google chrome is fully compatible at  this point.\n    &lt;/h4&gt;\n    &lt;/p&gt;\n    &lt;/div&gt;\n    \"\"\"\nloginas = \"\"\"\n&lt;form action=\"home.py\" method=\"post\" target=\"_self\"&gt;\n&lt;input type=\"submit\" value=\"Continue last session\" style=\"position:absolute;right:15px;top:20px;\"&gt; \n&lt;/form&gt;\n\"\"\"\nif \"sess\" in string_cookie:\n    infoform = infoform.replace('&lt;div ID\"home\"&gt;&lt;/div&gt;',loginas)\n    print infoform\nelse:\n    print infoform\n\nprint \"&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>\n\n<p>but, it prints out an Internal Server Error page, help? Post script I have just reinstalled python 2.7.3</p>\n"},{"tags":["python","list","python-3.x"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13241900,"title":"Explain the list values transformation","body":"<pre><code>x = [1, 2, 3]\ny = x\n\nx[1] = 'AB'\ny[1] = y[1][0]\n\nprint(x, y)\n&gt;&gt;&gt;\n[1, 'A', 3] [1, 'A', 3]\n</code></pre>\n\n<p>We assign 'AB' value to index 1 for x list so y list gets this value as well. Then we assign y[1][0] value to y[1], but what does y[1][0] notation mean?</p>\n"},{"tags":["python","multithreading","thread-local"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3228,"score":4,"question_id":1408171,"title":"Thread local storage in Python","body":"<p>How do I use thread local storage in Python?</p>\n\n<h3>Related</h3>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/104983/what-is-thread-local-storage-in-python-and-why-do-i-need-it\">What is “thread local storage” in Python, and why do I need it?</a> - This thread appears to be focused more on when variables are shared.</li>\n<li><a href=\"http://stackoverflow.com/questions/1403471/efficient-way-to-determine-whether-a-particular-function-is-on-the-stack-in-pytho/1403485#1403485\">Efficient way to determine whether a particular function is on the stack in Python</a> - Alex Martelli gives a nice solution</li>\n</ul>\n"},{"tags":["python","beautifulsoup"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":54,"score":-2,"question_id":13233890,"title":"Extract information within tag","body":"<p>I'm trying to learn BeautifulSoup but it takes a time. I hope you can help me with this.\nIn the code below, the same syntax is repeated several times and I would like to know how to create a list with: First item,Second item,....N:th item\nThe logic should be to find \"title=\" (which is unique) and then extract the string to the right of \"title=\". Probably very easy if you know how to do it...</p>\n\n<pre><code>&lt;td align=left valign=\"top\" class=\"small\" title=\"First item\" nowrap&gt;\n&lt;td align=left valign=\"top\" class=\"small\" title=\"Second item\" nowrap&gt;\n&lt;td align=left valign=\"top\" class=\"small\" title=\"N:th item\" nowrap&gt;\n</code></pre>\n"},{"tags":["python","numpy"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13237522,"title":"No module named numpy","body":"<p>I have the following programs installed</p>\n\n<ol>\n<li>python 2.7 installed</li>\n<li>Numpy-1.6.2-python2.7</li>\n<li>Matplotlib-1.1.1-py2.7</li>\n</ol>\n\n<p>I believe numpy has been installed properly because when I type import numpy in python interpreter, it doesn't give me an error. I can also check the version of the numpy installed.</p>\n\n<p>I am getting the following error in my code on this line</p>\n\n<pre><code>import numpy as np\n</code></pre>\n\n<p>\"Exceptions.ImportError:No module named numpy\"</p>\n\n<p>Does anyone know a solution to this problem? Thanks!</p>\n"},{"tags":["python","database","olap","star-schema"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13233809,"title":"Python Cubes OLAP Framework - how to work with joins?","body":"<p>I'm trying to use python's olap framework <a href=\"http://packages.python.org/cubes/\" rel=\"nofollow\">cubes</a> on a very simple database, but I am having some trouble joining tables.</p>\n\n<p>My schema looks like this:</p>\n\n<pre><code>Users table\nID | name\n\nProducts table\nID | name | price\n\nPurchases table\nID | user_id | product_id | date\n</code></pre>\n\n<p>And the cubes model:</p>\n\n<pre><code>{\n    'dimensions': [\n        {'name': 'user_id'},\n        {'name': 'product_id'},\n        {'name': 'date'},\n    ],\n    'cubes': [\n        {\n            'name': 'purchases',\n            'dimensions': ['user_id', 'product_id', 'date'],\n            'measures': ['price']\n            'mappings': {\n                'purchases.user_id': 'users.id',\n                'purchases.product_id': 'products.id',\n                'purchases.price': 'products.price'\n            },\n            'joins': [\n                {\n                    'master': 'purchases.user_id',\n                    'detail': 'users.id'\n                },\n                {\n                    'master': 'purchases.product_id',\n                    'detail': 'products.id'\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>Now I would like to display all the purchases, showing the product's name, user's name and purchase date. I can't seem to find a way to do this. The documentation is a bit scarce.</p>\n\n<p>Thank you</p>\n"},{"tags":["python","sql","postgresql","pgadmin"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":13239004,"title":"Create SQL table with correct column types from CSV","body":"<p>I've looked a a number of questions on this site and cannot find an answer to the question: How to create <strong>multiple NEW tables</strong> in a database (in my case I am using PostgreSQL) <strong>from multiple CSV source files</strong>, where the new database table columns accurately reflect the data within the CSV columns?</p>\n\n<p>I can write the CREATE TABLE syntax just fine, and I can read the rows/values of a CSV file(s), but does a method already exist to inspect the CSV file(s) and accurately determine the column type?  Before I build my own, I wanted to check if this already existed.</p>\n\n<p>If it doesn't exist already, my idea would be to use Python, CSV module, and psycopg2 module to build a python script that would:</p>\n\n<ol>\n<li>Read the CSV file(s).</li>\n<li>Based upon a subset of records (10-100 rows?), iteratively inspect each column of each row to automatically determine the right column type of the data in the CSV.  Therefore, if row 1, column A had a value of 12345 (int), but row 2 of column A had a value of ABC (varchar), the system would automatically determine it should be a format varchar(5) based upon the combination of the data it found in the first two passes.  This process could go on as many times as the user felt necessary to determine the likely type and size of the column.</li>\n<li>Build the CREATE TABLE query as defined by the column inspection of the CSV.</li>\n<li>Execute the create table query.</li>\n<li>Load the data into the new table.</li>\n</ol>\n\n<p>Does a tool like this already exist within either SQL, PostgreSQL, Python, or is there another application I should be be using to accomplish this (similar to pgAdmin3)?</p>\n"},{"tags":["python","celery","django-celery"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":382,"score":3,"question_id":8876863,"title":"Task state and django-celery","body":"<p>I use django-celery and have task like this:</p>\n\n<pre><code>class TestTask(Task):\n    name = \"enabler.test_task\"\n\n    def run(self, **kw):\n        debug_log(\"begin test task\")\n        time.sleep(5)\n        debug_log(\"end test task\")\n\n    def on_success(self, retval, task_id, args, kwargs):\n        debug_log(\"on success\")\n\n    def on_failure(self, retval, task_id, args, kwargs):\n        debug_log(\"on failure\")\n</code></pre>\n\n<p>I use django shell to run task:</p>\n\n<pre><code>python manage.py shell\n\nr = tasks.TestTask().delay()\n</code></pre>\n\n<p>From celery log I see that task is executed:</p>\n\n<pre><code>[2012-01-16 08:13:29,362: INFO/MainProcess] Got task from broker: enabler.test_task[e2360811-d003-45bc-bbf8-c6fd5692c32c]\n[2012-01-16 08:13:29,390: DEBUG/PoolWorker-3] begin test task\n[2012-01-16 08:13:34,389: DEBUG/PoolWorker-3] end test task\n[2012-01-16 08:13:34,390: DEBUG/PoolWorker-3] on success\n[2012-01-16 08:13:34,390: INFO/MainProcess] Task enabler.test_task[e2360811-d003-45bc-bbf8-c6fd5692c32c] succeeded in 5.00004410744s: None\n</code></pre>\n\n<p>However when I check task state from hell I always got PENDING:</p>\n\n<pre><code>&gt;&gt;&gt; r = tasks.TestTask().delay()\n&gt;&gt;&gt; r\n&lt;AsyncResult: e2360811-d003-45bc-bbf8-c6fd5692c32c&gt;\n&gt;&gt;&gt; r.state\n'PENDING'\n&gt;&gt;&gt; r.state\n'PENDING'\n&gt;&gt;&gt; r.state\n'PENDING'\n&gt;&gt;&gt; r.state\n'PENDING'\n</code></pre>\n\n<p>even though task is well executed.</p>\n\n<p>Why this happens?</p>\n"},{"tags":["python","python-import"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13241827,"title":"What's the best way to do a just-in-time import of Python libraries?","body":"<p>I have a Python program that has several slow imports.  I'd like to delay importing them until they are needed.  For instance, if a user is just trying to print a help message, it is silly to import the slow modules. What's the most Pythonic way to do this?</p>\n\n<p>I'll add a solution I was playing with as a answer. I know you all can do better, though.</p>\n"},{"tags":["python","html","django","newline"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":53,"score":7,"question_id":13241375,"title":"How to read back and print text with newlines from a Python (Django) string with HTML?","body":"<p>If someone types in a phrase, such as:</p>\n\n<pre><code>I see you driving\n\nround town with the girl I love,\n\nand I’m like: haiku.\n</code></pre>\n\n<p>(no blank lines between each line, but the text is written on three separate lines) into a text box on a web page, and then presses a button which is then stored in a database via <code>Django</code>, and that string is read back and printed on a page, how can I get it to print on an HTML page with the newlines still in the text? </p>\n\n<p>So instead of it being printed back as:\n<code>I see you driving round town with the girl I love, and I’m like: haiku.</code></p>\n\n<p>It would print as:</p>\n\n<pre><code>I see you driving\n\nround town with the girl I love,\n\nand I’m like: haiku.\n</code></pre>\n\n<p>I know that if I use: <code>(textarea)soAndSo.body(/textarea)</code>, this preserves the newlines that were in the file when the user typed it up originally. How can I get this same effect, but without having to use <code>textarea</code> boxes?</p>\n"},{"tags":["python","stream","itertools","chunking"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":89,"score":5,"question_id":13239591,"title":"python: is there a library function for chunking an input stream?","body":"<p>I want to chunk an input stream for batch processing. Given an input list or generator,</p>\n\n<pre><code>x_in = [1, 2, 3, 4, 5, 6 ...]\n</code></pre>\n\n<p>I want a function that will return chunks of that input. Say, if <code>chunk_size=4</code>, then,</p>\n\n<pre><code>x_chunked = [[1, 2, 3, 4], [5, 6, ...], ...]\n</code></pre>\n\n<p>This is something I do over and over, and was wondering if there is a more standard way than writing it myself. Am I missing something in <code>itertools</code>? (One could solve the problem with <code>enumerate</code> and <code>groupby</code>, but that feels clunky.) In case anyone wants to see an implementation, here it is,</p>\n\n<pre><code>def chunk_input_stream(input_stream, chunk_size):\n    \"\"\"partition a generator in a streaming fashion\"\"\"\n    assert chunk_size &gt;= 1\n    accumulator = []\n    for x in input_stream:\n        accumulator.append(x)\n        if len(accumulator) == chunk_size:\n            yield accumulator\n            accumulator = []\n    if accumulator:\n        yield accumulator\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Inspired by kreativitea's answer, here's a solution with <code>islice</code>, which is straightforward &amp; doesn't require post-filtering,</p>\n\n<pre><code>from itertools import islice\n\ndef chunk_input_stream(input_stream, chunk_size):\n    while True:\n        chunk = list(islice(input_stream, chunk_size))\n        if chunk:\n            yield chunk\n        else:\n            return\n\n# test it with list(chunk_input_stream(iter([1, 2, 3, 4]), 3))\n</code></pre>\n"},{"tags":["python","pip"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":10805324,"title":"How to see the log or results from PIP","body":"<p>Using python PIP (pypi) in Windows 7, how can I keep the pop up window open to see the results of the install (especially if there was an issue)? Or Is there a log that I can review?</p>\n\n<p>Ex:\npip install selenium2Library</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":260,"score":2,"question_id":10885708,"title":"Write a python script that goes through the links on a page recursively","body":"<p>I'm doing a project for my school in which I would like to compare scam mails. I found this website: <a href=\"http://www.419scam.org/emails/\" rel=\"nofollow\">http://www.419scam.org/emails/</a>\nNow what I would like to do is to save every scam in apart documents then later on I can analyse them.\nHere is my code so far:</p>\n\n<pre><code>import BeautifulSoup, urllib2\n\naddress='http://www.419scam.org/emails/'\nhtml = urllib2.urlopen(address).read()\nf = open('test.txt', 'wb')\nf.write(html)\nf.close()\n</code></pre>\n\n<p>This saves me the whole html file in a text format, now I would like to strip the file and save the content of the html links to the scams:</p>\n\n<pre><code>&lt;a href=\"2011-12/01/index.htm\"&gt;01&lt;/a&gt; \n&lt;a href=\"2011-12/02/index.htm\"&gt;02&lt;/a&gt; \n&lt;a href=\"2011-12/03/index.htm\"&gt;03&lt;/a&gt;\n</code></pre>\n\n<p>etc.</p>\n\n<p>If i get that, I would still need to go a step further and open save another href. Any idea how do I do it in one python code?</p>\n\n<p>Thank you!</p>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":59,"score":-3,"question_id":13241326,"title":"Equal elements in two lists","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8866652/determine-if-2-lists-have-the-same-elements-regardless-of-order\">Determine if 2 lists have the same elements, regardless of order?</a><br>\n  <a href=\"http://stackoverflow.com/questions/11140297/match-two-lists-of-letters-in-python\">Match two lists of letters in Python</a>  </p>\n</blockquote>\n\n\n\n<p>I have list <code>a</code> and list <code>b</code>. So I need to find, if lists have equal elements. I have no idea, but I am thinking about using <code>collections</code>.</p>\n"},{"tags":["python","google","google-api","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13212991,"title":"How to query BigQuery programmatically from Python without end-user interaction?","body":"<p>This question seems like it should be so simple to answer, but after days of research and several dead ends, I can't seem to get query results out of <code>BigQuery</code> without it insisting on user-based OAuth. Has anyone had any luck with this? I am not using <code>Google AppEngine</code> for my app, it is hosted in <code>EC2</code>.  Here is the exact situation:</p>\n\n<pre><code>User wants reporting data --&gt;\nWeb server makes queries to BigQuery --&gt;\nData is transformed for use in WebApp and returned to User.\n</code></pre>\n\n<p>Whenever I follow the Google examples, I end up getting a web browser popping up asking for me to select a Google account to use for authentication.</p>\n\n<p>I would appreciate any help.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","python","methods","arguments","ironpython"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13231913,"title":"How do I call a specific Method from a Python Script in C#?","body":"<p>I'm wondering if there is a possibility to call a specific Method from a Python script over a C# project.</p>\n\n<p>I have no code... but my idea is:</p>\n\n<p>Python Code:</p>\n\n<pre><code>def SetHostInfos(Host,IP,Password):\n   Work to do...\n\ndef CalcAdd(Numb1,Numb2):\n   Work to do...\n</code></pre>\n\n<p>C# Code:</p>\n\n<pre><code>SetHostInfos(\"test\",\"0.0.0.0\",\"PWD\")\nresult = CalcAdd(12,13)\n</code></pre>\n\n<p>How can I call one of the Methods, from this Python script, over C#?</p>\n"},{"tags":[".net","python"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":335,"score":3,"question_id":6333044,"title":"Using C# Assemblies from Python via pythonnet","body":"<p>I am using Windows 7, 64-bit. I have managed to download and install pythonnet, so</p>\n\n<pre><code>import clr\nclr.AddReference(\"System.Windows.Forms\")\nfrom System.Windows.Forms import Form\n</code></pre>\n\n<p>works fine. I have also downloaded and compiled/run a C# application which creates lots of assemblies. The application in question is ARDrone-Control-.NET.</p>\n\n<p>How can I use the generated DLL files from Python (and not just the built-in C# classes).</p>\n\n<p>Since I have never used C# (which is why I want to use the library from Python), I'd be happy to clarify the question.</p>\n"},{"tags":["python","pdf","typography","pypdf"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13236370,"title":"PDF bleed detection","body":"<p>I'm currently writing a little tool (Python + pyPdf) to test PDFs for printer conformity.</p>\n\n<p>Alas I already get confused at the first task: Detecting if the PDF has at least 3mm 'bleed' (border around the pages where nothing is printed). I already got that I can't detect the bleed for the complete document, since there doesn't seem to be a global one. On the pages however I can detect a total of five different boxes:</p>\n\n<ul>\n<li><code>mediaBox</code></li>\n<li><code>bleedBox</code></li>\n<li><code>trimBox</code></li>\n<li><code>cropBox</code></li>\n<li><code>artBox</code></li>\n</ul>\n\n<p>I read the <a href=\"http://pybrary.net/pyPdf/pythondoc-pyPdf.pdf.html#pyPdf.pdf.PageObject-class\" rel=\"nofollow\">pyPdf documentation</a> concerning those boxes, but the only one I understood is the <code>mediaBox</code> which seems to represent the overall page size (i.e. the paper).</p>\n\n<p>The <code>bleedBox</code> pretty obviously <em>ought</em> to define the bleed, but that doesn't always seem to be the case.</p>\n\n<p>Another thing I noted was that for instance with the <a href=\"http://www.cs.cmu.edu/~rwh/theses/okasaki.pdf\" rel=\"nofollow\">PDF</a>, all those boxes have the exact same size (implying no bleed at all) on each page, but when I open it there's a huge amount of bleed; This leads me to think that the individual text elements have their own offset.</p>\n\n<p>So, obviously, just calculating the bleed from <code>mediaBox</code> and <code>bleedBox</code> is not a viable option.</p>\n\n<p><strong>I would be more than delighted if anyone could shed some light on what those boxes actually are and what I can conclude from that (e.g. is one box always smaller than another one).</strong></p>\n\n<p>Bonus question: Can someone tell me what exactly the <em>\"default user space unit\"</em> mentioned in the <a href=\"http://pybrary.net/pyPdf/pythondoc-pyPdf.pdf.html#pyPdf.pdf.PageObject-class\" rel=\"nofollow\">documentation</a>? I'm pretty sure this refers to <code>mm</code> on my machine, but I'd like to enforce <code>mm</code> everywhere.</p>\n"},{"tags":["python","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":35,"score":-3,"question_id":13241338,"title":"How to use python SimpleHTTPServer to connect to computer outside network?","body":"<p>How do you use python SimpleHTTPServer to connect to a computer outside network?</p>\n\n<p>I have two servers. I want to run SimpleHTTPServer on one server and connect to it from another server and access the files there.</p>\n"},{"tags":["python","selenium","webdriver","selenium-webdriver"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12992861,"title":"selenium not finding the element","body":"<p>I am trying to select a textbox and enter text in it through selenium web driver. The html is as follows:</p>\n\n<pre><code>&lt;/div&gt;&lt;div&gt;\n    &lt;input name=\"mLayout$ctl00$ctl00$6$16$ctl00$Database\" type=\"text\" value=\"Enter database name\" maxlength=\"175\" size=\"26\" id=\"mLayout_ctl00_ctl00_6_16_ctl00_Database\" accesskey=\"s\" title=\"Go search this database\" class=\"InputContent GhostText\" onfocus=\"SearchBoxOnFocus(&amp;#39;mLayout_ctl00_ctl00_6_16_ctl00_Database&amp;#39;);\" onkeypress=\"if(!__TextBoxOnKeyPress(&amp;#39;mLayout$ctl00$ctl00$6$16$ctl00$GoButton&amp;#39;,event.which)) { return false; }\" /&gt;&amp;nbsp;&lt;input type=\"image\" name=\"mLayout$ctl00$ctl00$6$16$ctl00$GoButton\" id=\"mLayout_ctl00_ctl00_6_16_ctl00_GoButton\" title=\"Go search database\" src=\"http://images-statcont.westlaw.com/images/go_v602.gif\" alt=\"Go search database\" align=\"absmiddle\" onclick=\"javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&amp;quot;mLayout$ctl00$ctl00$6$16$ctl00$GoButton&amp;quot;, &amp;quot;&amp;quot;, true, &amp;quot;&amp;quot;, &amp;quot;&amp;quot;, false, false))\" style=\"height:18px;width:21px;border-width:0px;\" /&gt;\n&lt;/div&gt;&lt;div&gt;\n</code></pre>\n\n<p>I've tried the following </p>\n\n<pre><code>driver.find_element_by_id(\"mLayout_ctl00_ctl00_6_16_ctl00_Database\")\ndriver.find_element_by_name(\"mLayout$ctl00$ctl00$6$16$ctl00$Database\")\ndbElement = WebDriverWait(driver, 20).until(lambda x : x.find_element_by_id(\"mLayout_ctl00_ctl00_6_16_ctl00_Database\"))\n</code></pre>\n\n<p>Is there something special about the $ and _ characters is the fields? Why can't selenium locate these elements?</p>\n"},{"tags":["python","django","mod-wsgi","tornado"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13238780,"title":"concurrent connections in tornado","body":"<p>I have a server running on tornado. I have a page that opens a <code>websocket</code> to the same server. Now I have observed that opening multiple instances of this page makes all of them wait except one. Only after that one has finished its websocket, does another one start. Is this normal tornado behaviour of I'm doing something wrong? </p>\n\n<p>Earlier my server was running with <code>django</code> but I migrated to <code>tornado</code> for the websocket support. For that I use fallback server as django. </p>\n\n<pre><code>#!/usr/bin/env python\n\n# Run this with\n# PYTHONPATH=. DJANGO_SETTINGS_MODULE=testsite.settings testsite/tornado_main.py\n# Serves by default at\n# http://localhost:8080/hello-tornado and\n# http://localhost:8080/hello-django\n\nfrom tornado.options import options, define, parse_command_line\nimport django.core.handlers.wsgi\nimport tornado.httpserver\nimport tornado.ioloop\nimport tornado.web\nimport tornado.wsgi\n\ndefine('port', type=int, default=8000)\n\nclass HelloHandler(tornado.web.RequestHandler):\n  def get(self):\n    self.write('Hello from tornado')\n\ndef main():\n  wsgi_app = tornado.wsgi.WSGIContainer(\n    django.core.handlers.wsgi.WSGIHandler())\n  tornado_app = tornado.web.Application(\n    [\n      ('/hello-tornado', HelloHandler),\n      ('.*', tornado.web.FallbackHandler, dict(fallback=wsgi_app)),\n      ])\n  server = tornado.httpserver.HTTPServer(tornado_app)\n  server.listen(options.port)\n  tornado.ioloop.IOLoop.instance().start()\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n\n<p>Can I do something that can allow me to make multiple connections?</p>\n"},{"tags":["python","virtualenv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13239578,"title":"virtualenv --system-site-packages not using system site packages","body":"<p>I am under the impression that using the --system-site-packages flag with virtualenv will allow the virtual environment to use the already installed system packages. However I am finding that this is not the case. I am using a custom compiled version of python. You can see the problem in the steps below.</p>\n\n<pre><code>[user@machine django]$ which python\n/app/python/bin/python\n[user@machine django]$ which pip\n/app/python/bin/pip\n[user@machine django]$ which virtualenv\n/app/python/bin/virtualenv\n[user@machine django]$ python\nPython 2.7.3 (default, Jul 27 2012, 11:30:41)\n[GCC 4.1.2 20080704 (Red Hat 4.1.2-50)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import django\n&gt;&gt;&gt; exit()\n[user@machine django]$ pip freeze\nDjango==1.4.2\ndistribute==0.6.30\nmercurial==2.3.2\npython-ldap==2.4.10\nvirtualenv==1.8.2\nwsgiref==0.1.2\n[user@machine django]$ pip --version\npip 1.2.1 from /app/python/lib/python2.7/site-packages (python 2.7)\n[user@machine django]$ env\n&lt;snip&gt;\nLD_LIBRARY_PATH=/app/python/lib:/app/openldap/lib:/app/instantclient_11_2\nPATH=/app/python/bin:/app/openldap/bin:/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/bin/cfdelivered:/home/user/bin:/app/oracle/product/java/jdk1.6.0_30/bin\nPYTHONPATH=/app/python/lib/python2.7\n[user@machine django]$ virtualenv --system-site-packages --distribute --python /app/python/bin/python2.7 foo\nRunning virtualenv with interpreter /app/python/bin/python2.7\nNew python executable in foo/bin/python2.7\nAlso creating executable in foo/bin/python\nInstalling distribute...&lt;snip&gt;...done.\nInstalling pip................done.\n[user@machine django]$ . foo/bin/activate\n(foo)[user@machine django]$ which python\n/app/xxx/django/foo/bin/python\n(foo)[user@machine django]$ which pip\n/app/xxx/django/foo/bin/pip\n(foo)[user@machine django]$ env\n&lt;snip&gt;\nLD_LIBRARY_PATH=/app/python/lib:/app/openldap/lib:/app/instantclient_11_2\nVIRTUAL_ENV=/app/xxx/django/foo\nPATH=/app/xxx/django/foo/bin:/app/python/bin:/app/openldap/bin:/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/bin/cfdelivered:/home/user/bin:/app/oracle/product/java/jdk1.6.0_30/bin\nPYTHONPATH=/app/python/lib/python2.7\n(foo)[user@machine django]$ python\nPython 2.7.3 (default, Jul 27 2012, 11:30:41)\n[GCC 4.1.2 20080704 (Red Hat 4.1.2-50)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import django\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named django\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Results of python2.7 -c \"import sys;print(sys.path)\"</p>\n\n<p>Normal: </p>\n\n<pre><code>[user@machine django]$ python2.7 -c \"import sys;print(sys.path)\" ['', '/app/python/lib/python2.7/site-packages/cx_Oracle-5.1.2-py2.7-linux-x86_64.egg'‌​, '/app/python/lib/python2.7/site-packages/python_ldap-2.4.10-py2.7-linux-x86_64.e‌​gg', '/app/python/lib/python2.7', '/app/python/lib/python27.zip', '/app/python/lib/python2.7/plat-linux2', '/app/python/lib/python2.7/lib-tk', '/app/python/lib/python2.7/lib-old', '/app/python/lib/python2.7/lib-dynload', '/app/python/lib/python2.7/site-packages']\n</code></pre>\n\n<p>Inside venv: </p>\n\n<pre><code>(foo)[user@machine django]$ python2.7 -c \"import sys;print(sys.path)\" ['', '/app/xxx/django/foo/lib/python2.7/site-packages/distribute-0.6.28-py2.7.egg', '/app/xxx/django/foo/lib/python2.7/site-packages/pip-1.2.1-py2.7.egg', '/app/python/lib/python2.7', '/app/xxx/django/foo/lib/python27.zip', '/app/xxx/django/foo/lib/python2.7', '/app/xxx/django/foo/lib/python2.7/plat-linux2', '/app/xxx/django/foo/lib/python2.7/lib-tk', '/app/xxx/django/foo/lib/python2.7/lib-old', '/app/xxx/django/foo/lib/python2.7/lib-dynload', '/app/xxx/django/foo/lib/python2.7/site-packages']\n</code></pre>\n"},{"tags":["python","image-processing","numpy","pil","template-matching"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13240176,"title":"Template Matching (Image Search) function in Python Imaging Library","body":"<p>I had a problem where I need to search for a pattern (present as a numpy ndarray) within another image (also present as a numpy ndarray) and compute a template match (minimum difference position in the image). My question is... is there any in-built image that I can possibly use in the Python Imaging Library or Numpy or anything possible that can do this without me manually writing a function to do so???</p>\n\n<p>Thank you....</p>\n"},{"tags":["python","qt","pyqt","pyside","pyqtgraph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13240066,"title":"Graph (pyqtgraph) is not getting plotted inside QML generated window","body":"<p>I am trying to plot a graph inside a qml generated window. Since i need to use QML for GUI ( client requirement). I manage to get the graph window inside QML, but its plotting nothing. I dont know my code is correct or not, please suggest, point me in the right direction.</p>\n\n<p>main.py:</p>\n\n<pre><code>#! /usr/bin/python\n\nimport os\nimport sys\nfrom PySide import QtGui \nfrom PySide import QtCore\nfrom PySide import QtDeclarative\nimport numpy as np\nimport pyqtgraph as pg\n\nclass Graph (QtDeclarative.QDeclarativeItem):\n    def __init__(self, parent = None):\n        QtDeclarative.QDeclarativeItem.__init__(self, parent)\n\n        #----------- self.setFlag(QtGui.QGraphicsItem.ItemHasNoContents, False )\n\n\n        self.dataPlot = np.cos(np.linspace(0, 5 *np.pi , 1000))\n\n        self.graph = pg.PlotItem()\n        self.graph.plot( self.dataPlot, pen=(0,255,0))\n        self.graph.showGrid(x=True, y=True)\n\n\n        self.view = pg.GraphicsView()\n        self.view.setCentralItem(self.graph)\n        #-------------------------------------- self.setCentralWidget(self.view)\n\n        mProxy = QtGui.QGraphicsProxyWidget(self)\n        mProxy.setWidget(self.view)\n\n\nif __name__ == '__main__':    \n    app = QtGui.QApplication(sys.argv)\n\n    QtDeclarative.qmlRegisterType(Graph, 'myPyQtGraph', 1, 0, 'PyQtGraph')\n\n    view = QtDeclarative.QDeclarativeView()    \n    view.setSource(QtCore.QUrl('main.qml'))\n    view.setResizeMode(QtDeclarative.QDeclarativeView.SizeRootObjectToView)\n\n    rootObject = view.rootObject() \n    view.connect(view.engine() , QtCore.SIGNAL('quit()') ,app.instance( ) , QtCore.SLOT('quit()') )\n\n    view.show()    \n    sys.exit(app.exec_())\n</code></pre>\n\n<p>main.qml:</p>\n\n<pre><code>import QtQuick 1.1\nimport myPyQtGraph 1.0\n\nRectangle {\n    id : page\n    width: 900\n    height: 400\n    color:  \"#343434\"\n\n    PyQtGraph {\n        id: angleGraphID\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 50\n            leftMargin: 50\n        }\n        width: 800\n        height: 300\n        //color: \"#f5deb3\"\n    }\n\n    Text {\n        id: text_Heading\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 20\n            leftMargin: 50\n        }\n        text: qsTr(\"PyqtGraph QML Test\")\n        font.pixelSize: 12\n    }\n}\n</code></pre>\n\n<p>this is what i am getting right now:\n<img src=\"http://i.stack.imgur.com/xDqoi.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","graph","matplotlib"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13237854,"title":"python - matplotlib - Create a multiline graph with results summary underneath","body":"<p>I am working on developing automation in python for multi-line graphs.\nBelow is an example of what I would create manually in excel.</p>\n\n<p><img src=\"http://i.stack.imgur.com/HxcdK.png\" alt=\"Example Chart\"></p>\n\n<p>My current code is as follows:</p>\n\n<pre><code>    plt = pyplot\n    plt.plot(channel_list, udp_dl_values, label=\"UDP DL\")\n    plt.plot(channel_list, tcp_dl_values, label=\"TCP DL\")\n    plt.plot(channel_list, udp_ul_values, label=\"UDP UL\")\n    plt.plot(channel_list, tcp_ul_values, label=\"TCP UL\")\n    plt.grid()\n</code></pre>\n\n<p>Was wondering if I could create the above using scripts?</p>\n\n<p>Thanks,</p>\n\n<p>Parth</p>\n"},{"tags":["python","raspberry-pi","gpsd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13240966,"title":"Run bash command in python script for X seconds","body":"<p>I have a gps hooked up to my raspberry pi and am trying to use it to geotag photos from an incoming camera. By issuing the command \"gpsd -nND2 /dev/ttyUSB0,\" I can get bash echo outputs of continuous gps data that can later be parsed. I only need to average 10 data points or so (collected over 10 seconds), however, and want to close gpsd down after that.</p>\n\n<p>My general timelapse program is written in python, so this is what I have so far:</p>\n\n<pre><code>(stdout, stderr) = Popen([\"gpsd\",\"-nND2,\"/dev/ttyUSB0\"], stdout=PIPE).communicate()\n</code></pre>\n\n<p>Unfortunately, this would output to variable <em>stdout</em> an unlimited number of data points that I can't parse. The output is much like a never-ending ping routine. How can I stop the data collection to make for a reasonable/parsable data dump?</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["python","django","apache","mod-wsgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13236766,"title":"Django mod-wsgi multiple instances of One Class object","body":"<p>I am currently using a DJango - apache installation (on mod_wsgi) to run a website (project) which hosts an intranet cards game, whose rules are complicated enogh that it requires only 1 master list+dict data structure of scores for each user. Individual user's score can be impacted by other users actions also. I am using a Score class which I instantiate in urls.py and all players / users access this class' object [scObj = Scorer('Spades') ]. internally in this obj there are Dicts of players actions, score updates etc etc. </p>\n\n<pre><code>    class Scorer:\n        def __init__(self, suitname):\n            self.__suitname = suitname\n</code></pre>\n\n<p>The scorer class is separately stored in Scorer.py </p>\n\n<pre><code>    scObjs = (Scorer('Spades'), Scorer('Hearts'), Scorer('Clubs'), Scorer('Diamonds'),)\n</code></pre>\n\n<p>The objects are created in urls.py</p>\n\n<p>This model was running perfectly in the DEV deployement. When I moved to PROD in apache, this broke (as in there are multiple instances of scObj being created, so a score update from player-1's move on player-2 is not reflected in a different move by player-3 on player-2) . I need to simulate a singleton class behaviour / global scObj behaviour, which I am not able to do. I am running apache in worker - mpm - multithreaded mode, so I assume that the problem of multiple copies of scObj being there due to multi-process is not there.</p>\n\n<p>Is the problem related to mod_wsgi?</p>\n"},{"tags":["python","twisted","instance"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13239244,"title":"how to kill twisted protocol instances python","body":"<p>I have a server application written in python using twisted and I'd like to know how to kill instances of my protocol (bottalk).  Everytime I get a new client connection, I see the instance in memory (print Factory.clients) .. but let's say I want to kill one of those instances from the server side (drop a specific client connection)?  Is this possible?  I've tried looking for a phrase using lineReceived, then if it matches, self.transport.loseConnection().  But that doesn't seem to reference the instance anymore or something..  </p>\n\n<pre><code>class bottalk(LineReceiver):\n\n    from os import linesep as delimiter\n\n    def connectionMade(self):\n            Factory.clients.append(self)\n            print Factory.clients\n\n    def lineReceived(self, line):\n            for bots in Factory.clients[1:]:\n                    bots.message(line)\n            if line == \"killme\":\n                    self.transport.loseConnection()\n\n    def message(self, message):\n            self.transport.write(message + '\\n')\n\nclass botfactory(Factory):\n\n    def buildProtocol(self, addr):\n            return bottalk()\n\nFactory.clients = []\n\nstdio.StandardIO(bottalk())\n\nreactor.listenTCP(8123, botfactory())\n\nreactor.run()\n</code></pre>\n"},{"tags":["python","computational-geometry"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13240615,"title":"Width of an arbitrary polygon","body":"<p>I need a way to characterize the size of sets of 2-D points, so I can determine whether to render them as individual points in a space or as representative polygons, dependent on the scale of the viewport.  I already have an algorithm to calculate the convex hull of the set to produce the representative polygon, but I need a way to characterize its size.  One obvious measure is the maximum distance between points on the convex whole, which is the diameter of the set.  But I'm really more interested in the size of its cross-section perpendicular to its diameter, to figure out how narrow the bounding polygon is.  Is there a simple way to do this, given the sorted list of vertices and and the indices of the furthest points (ideally in Python)?</p>\n\n<p>Or alternatively, is there an easy way to calculate the radii of the minimal area bounding ellipse of a set of points?  I have seen some approaches to this problem, but nothing that I can readily convert to Python, so I'm really looking for something that's turnkey.</p>\n"},{"tags":["python","django","api","models"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13240991,"title":"Query Set for Models Retrieved from External API","body":"<p>I am currently developing a web app that uses the Amazon Product API to get information on books. I use a Book model that contains only the ASIN amazon identification code that looks a bit like this:</p>\n\n<pre><code>class Book(models.Model):\n    asin = models.CharField(max_length-10, unique=True)\n    def retrieve(self, **kwargs):\n        kwargs['ItemId'] = self.asin\n        self.xml = amazon_lookup(**kwargs) # returns BeautifulSoup\n    @property\n    def title(self):\n        try:\n            return self.xml.ItemAttriibutes.Author.text\n        except AttributeError: # happens when xml has not been populated\n            return None\n    ...\n\n\nclass BookManager(models.Manager):\n    def retrieve(self, **kwargs):\n        kwargs['SearchIndex'] = 'Books'\n        book_search = amazon_search(**kwargs)\n        books = []\n        for item in book_search:\n            book = self.get_or_create(asin=item.ASIN.text)[0]\n            book.xml = item\n            books.append(book)\n        return books\n</code></pre>\n\n<p>And then I can call it with</p>\n\n<pre><code>b = Book.objects.retrieve(Keywords=\"foo bar\")\nb.retrieve(ResponseGroup=\"Images,ItemAttributes,...\")\nt = b.title\n</code></pre>\n\n<p><strong>This works well enough for tests, but I want a more robust system for future use.</strong></p>\n\n<p>What I'd really like to do is be able to perform searches with query sets so that frequently accessed results can be cached. As it stands, every request for a book detail view creates a new amazon API call.  My job would be a lot easier if all the API calls were handled inside Query Sets alongside database calls.  Unfortunately, I've found the Django Query Set documentation pretty cryptic and lacking when it comes to customization.  This surely isn't a rare use case.  </p>\n\n<p><strong>Can anyone provide the idiomatic way of handling a problem like this, or a good resource on the subject?</strong></p>\n"},{"tags":["python","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13240700,"title":"python/beautifulsoup to find all <a href> with specific anchor text","body":"<p>I am trying to use beautiful soup to parse html and find all href with a specific anchor tag</p>\n\n<pre><code>&lt;a href=\"http://example.com\"&gt;TEXT&lt;/a&gt;\n&lt;a href=\"http://example.com/link\"&gt;TEXT&lt;/a&gt;\n&lt;a href=\"http://example.com/page\"&gt;TEXT&lt;/a&gt;\n</code></pre>\n\n<p>all the links I am looking for have the exact same anchor text, in this case TEXT. I am NOT looking for the word TEXT, I want to use the word TEXT to find all the different HREF</p>\n\n<p>edit:</p>\n\n<p>for clarification looking for something similar to using the class to parse for the links</p>\n\n<pre><code>&lt;a href=\"http://example.com\" class=\"visible\"&gt;TEXT&lt;/a&gt;\n&lt;a href=\"http://example.com/link\" class=\"visible\"&gt;TEXT&lt;/a&gt;\n&lt;a href=\"http://example.com/page\" class=\"visible\"&gt;TEXT&lt;/a&gt;\n</code></pre>\n\n<p>and then using</p>\n\n<pre><code>findAll('a', 'visible')\n</code></pre>\n\n<p>except the HTML I am parsing doesn't have a class but always the same anchor text</p>\n"},{"tags":["python","apache","mod-wsgi"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":13238404,"title":"Importing python modules with mod_wsgi","body":"<p>We are trying to get out wsgi application working on mod_wsgi.  We have run it before using <code>wsgiref.simple_server</code>, as a debugging environment.  Now, we want to move it over to using Apache httpd to integrate with loading static files under the same port, and to provide an environment more suitable for production.</p>\n\n<p>The httpd.conf file we have set up looks like this:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n\n    DocumentRoot /var/www/\n\n    ErrorLog /var/www/log/error_log\n\n    LogLevel debug\n\n    WSGIScriptAlias /app /var/www/python/resource/rest.py\n\n    &lt;Directory /var/www/python/&gt;\n            Order allow,deny\n            Allow from all\n    &lt;/Directory&gt;\n\n    &lt;Directory /&gt;\n            Order allow,deny\n            Allow from all\n\n            RewriteEngine On\n            # Some rewrites go here\n\n    &lt;/Directory&gt;\n\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>With this setup, we can access the main application file, rest.py (under <code>http://myhost/app</code>), but any imports to modules (like <code>from module1 import function</code> where module1 is under the same directory as rest.py) are failing with an <code>ImportError</code>.</p>\n\n<p>I suspect this has to do with having to set some sort of environment variable, but I have added <code>/var/www/python</code> to <code>sys.path</code> on the main application method and it doesn't work.  Any help or pointers with this would be really appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13239297,"title":"Python Pandas -- Random sampling of time series","body":"<p>New to Pandas, looking for the most efficient way to do this.</p>\n\n<p>I have a Series of DataFrames.  Each DataFrame has the same columns but different indexes, and they are indexed by date.  The Series is indexed by ticker symbol.  So each item in the Sequence represents a single time series of each individual stock's performance.</p>\n\n<p>I need to randomly generate a list of n data frames, where each dataframe is a subset of some random assortment of the available stocks' histories.  It's ok if there is overlap, so long as start end end dates are different.</p>\n\n<p>This following code does it, but it's really slow, and I'm wondering if there's a better way to go about it:</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def random_sample(data=None, timesteps=100, batch_size=100, subset='train'):\n    if type(data) != pd.Series:\n        return None\n\n    if subset=='validate':\n        offset = 0\n    elif subset=='test':\n        offset = 200\n    elif subset=='train':\n        offset = 400\n\n    tickers = np.random.randint(0, len(data), size=len(data))\n\n    ret_data = []\n    while len(ret_data) != batch_size:\n        for t in tickers:\n            data_t = data[t]\n            max_len = len(data_t)-timesteps-1\n            if len(ret_data)==batch_size: break\n            if max_len-offset &lt; 0: continue\n\n            index = np.random.randint(offset, max_len)\n            d = data_t[index:index+timesteps]\n            if len(d)==timesteps: ret_data.append(d)\n\n    return ret_data\n</code></pre>\n\n<p><strong>Profile output:</strong></p>\n\n<pre><code>Timer unit: 1e-06 s\n\nFile: finance.py\nFunction: random_sample at line 137\nTotal time: 0.016142 s\n\nLine #      Hits         Time  Per Hit   % Time  Line Contents\n==============================================================\n   137                                           @profile\n   138                                           def random_sample(data=None, timesteps=100, batch_size=100, subset='train'):\n   139         1            5      5.0      0.0      if type(data) != pd.Series:\n   140                                                   return None\n   141\n   142         1            1      1.0      0.0      if subset=='validate':\n   143                                                   offset = 0\n   144         1            1      1.0      0.0      elif subset=='test':\n   145                                                   offset = 200\n   146         1            0      0.0      0.0      elif subset=='train':\n   147         1            1      1.0      0.0          offset = 400\n   148\n   149         1         1835   1835.0     11.4      tickers = np.random.randint(0, len(data), size=len(data))\n   150\n   151         1            2      2.0      0.0      ret_data = []\n   152         2            3      1.5      0.0      while len(ret_data) != batch_size:\n   153       116          148      1.3      0.9          for t in tickers:\n   154       116         2497     21.5     15.5              data_t = data[t]\n   155       116          317      2.7      2.0              max_len = len(data_t)-timesteps-1\n   156       116           80      0.7      0.5              if len(ret_data)==batch_size: break\n   157       115           69      0.6      0.4              if max_len-offset &lt; 0: continue\n   158\n   159       100          101      1.0      0.6              index = np.random.randint(offset, max_len)\n   160       100        10840    108.4     67.2              d = data_t[index:index+timesteps]\n   161       100          241      2.4      1.5              if len(d)==timesteps: ret_data.append(d)\n   162\n   163         1            1      1.0      0.0      return ret_data\n</code></pre>\n"},{"tags":["python"],"answer_count":4,"favorite_count":2,"up_vote_count":10,"down_vote_count":0,"view_count":5190,"score":10,"question_id":4152963,"title":"Get the name of current script with Python","body":"<p>I'm trying to get the name of the Python script that is currently running.</p>\n\n<p>For example, I have a script called <code>foo.py</code> and I would like to do something like this inside it:</p>\n\n<pre><code>print Scriptname\n</code></pre>\n\n<p>and get: <code>foo.py</code>.</p>\n"},{"tags":["python","database","postgresql"],"answer_count":3,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":4135,"score":10,"question_id":1219326,"title":"How do I do database transactions with psycopg2/python db api?","body":"<p>Im fiddling with psycopg2 , and while there's a .commit() and .rollback() there's no .begin() or similar to start a transaction , or so it seems ?\nI'd expect to be able to do </p>\n\n<pre><code>db.begin() # possible even set the isolation level here\ncurs = db.cursor()\ncursor.execute('select etc... for update')\n...\ncursor.execute('update ... etc.')\ndb.commit();\n</code></pre>\n\n<p>So, how do transactions work with psycopg2 ? \nHow would I set/change the isolation level ?</p>\n"},{"tags":["python","linux","ms-word","rtf"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":45,"score":3,"question_id":13202944,"title":"Number of pages in a doc, docx or rtf file using python","body":"<p>I would like to count the number of pages in a RTF or MS Word document, using python. Is this possible?</p>\n"},{"tags":["python","bug"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":982,"score":-4,"question_id":13217084,"title":"Try to Fix bug using python","body":"<p>word wrapping function using recursion in Python</p>\n"},{"tags":["python","word","wrapping"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":293,"score":-4,"question_id":13199201,"title":"Writing word wrapping function using recursion in Python?","body":"<p>word wrapping function using recursion in Python</p>\n"},{"tags":["python","rest","web-applications"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":68,"score":6,"question_id":13238930,"title":"Architecture solution for Python Web application","body":"<p>We're setting up a Python REST web application.  Right now, we're using WSGI, but we might do some changes to that in the future (using Twisted, for example, to improve on scalability or some other feature).  I would really like some help regarding what is considered a good architecture for a Web application in Python.</p>\n\n<p>In general our app serves dynamic content, processes a moderate to high level of data from clients, performs pretty high-demand database, network and filesystem calls and should be \"easily\" scalable (quotes here because if a solution is great but somewhat tough to configure for scalability, it would definitely be thought of as good).  We would probably like to evolve this into a highly parallel application in the mid-to-long term.  Google App Engine is <em>not</em> an accepted suggestion, mainly because of its cost.</p>\n\n<p>My question is this:</p>\n\n<ol>\n<li>Is using WSGI a good idea?  Should we be looking into something like Twisted instead?</li>\n<li>Should we use Apache as a reverse proxy for our static files?</li>\n<li>Is there some different pattern or architecture that we should consider\nthat I haven't mentioned? (Even if completely obvious).</li>\n</ol>\n\n<p>Any help at all with this would be very appreciated.  Thanks a lot!</p>\n"},{"tags":["python","multidimensional-array","numpy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13240117,"title":"Reverse an arbitrary dimension in an ndarray","body":"<p>I'm working with an n-dimensional array, and I'd like a way to reverse a numbered dimension. So rather than</p>\n\n<pre><code>rev = a[:,:,::-1]\n</code></pre>\n\n<p>I'd like to be able to write</p>\n\n<pre><code>rev = a.reverse(dimension=2)\n</code></pre>\n\n<p>or something similar. I can't seem to find examples that don't rely on the former syntax. </p>\n"},{"tags":["python","list"],"answer_count":6,"favorite_count":9,"up_vote_count":21,"down_vote_count":1,"view_count":11450,"score":20,"question_id":263457,"title":"Merging/adding lists in Python","body":"<p>I'm pretty sure there should be a more Pythonic way of doing this - but I can't think of one: How can I merge a two-dimensional list into a one-dimensional list? Sort of like zip/map but with more than two iterators.</p>\n\n<p>Example - I have the following list:</p>\n\n<pre><code>array = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n</code></pre>\n\n<p>I want to have</p>\n\n<pre><code>result = [12, 15, 18] # [1+4+7, 2+5+8, 3+6+9]\n</code></pre>\n\n<p>So far what I've come up with is:</p>\n\n<pre><code>def add_list(array):\n    number_items = len(array[0])\n    result = [0] * number_items\n    for index in range(number_items):\n        for line in array:\n            result[index] += line[index]\n    return result\n</code></pre>\n\n<p>But that doesn't look very elegant/Pythonic to me. Aside from not checking if all the \"lines\" in the 2D array are of the same length, can be added to each other, etc. What would be a better way to do it?</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13234094,"title":"Why does calling get() on memcache increase item count in Google App Engine?","body":"<p>I'm looking at the Memcache Viewer in my admin console on my deployed Google App Engine NDB app. For testing, I'm using the remote api. I'm doing something very simple: <code>memcache.get('somekey')</code>. For some reason, everytime I call this line and hit refresh on my statistics, the item count goes up by 2. This happens whether or not the key exists in memcache.</p>\n\n<p>Any ideas why this could happen? Is this normal?</p>\n"},{"tags":["python","python-2.7"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":4,"view_count":48,"score":-3,"question_id":13239841,"title":"OverflowError exception not detected in python","body":"<p>This is my following program</p>\n\n<pre><code>try:\n    class __Euler3__:\n    n = 600851475143\n    primeFactors = []\n\n    for i in range(2,n):\n        if (n%i ==0):\n            primeFactors.append(i)\n            n = n/i\n            i = i -1 #reset i\n            print primeFactors\n\nexcept OverflowError as e:\n       print \"the error is\" , e\n</code></pre>\n\n<p>but for some reason the Overflowerror mechanism is not able to catch this exception\nI am using python 2.7</p>\n"},{"tags":["python","executable"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1324,"score":1,"question_id":5719111,"title":"How to make exe file from pyc file","body":"<p>I want to create the window executable file of my project  , I don't want to share the source code my project . i want to know where i started or which tool I use to create complete software . I use linux , py2exe does not run in linux,is there any other tool which is similar to py2exe?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":81,"score":8,"question_id":13215433,"title":"Get self.__module__ of class regardless of how imported","body":"<p>I have a library class where depending how it's imported, a method that relies on the <code>self.__module__</code> for identification changes behavior - depending on if I import it relatively or absolutely.  Is there a way to force the <code>self.__name__</code> attribute of a class to return itself absolutely?  </p>\n\n<p>I realize one solution would be to force everyone to import the subclasses in the same way, but was wondering if there was a way to force it from the library's standpoint.</p>\n\n<p><strong>Summarized Structure</strong></p>\n\n<p>I have a module in a library</p>\n\n<pre><code>project/\n    mylib/\n        foo.py\n            LibraryClass\n            def get_name(self):\n                return \"%s.%s.%s\" % \\\n                    (self.__module__, self.__class__.__name__, self.some_init_property)\n    prog/\n        utils.py\n            fooClass(LibraryClass)\n        bar.py\n            def some_func()\n               #see below\n</code></pre>\n\n<p>In <code>mylib</code>, I have an importer import all subclasses of <code>LibraryClass</code> via a the string of the classname in our django project's settings file.</p>\n\n<p>Basically, the behavior we're seeing is depending on how you import.\nSo there are two behaviors I'm observing in bar.py:</p>\n\n<pre><code>def some_func_absolute():\n    from prog.utils import fooClass\n    f = fooClass(\"lalala\")\n    print f.get_name()\n    #prints prog.utils.fooClass.lalala\n</code></pre>\n\n<p>Versus</p>\n\n<pre><code> def some_func_relative():\n    from utils import fooClass\n    f = fooClass(\"lalala\")\n    print f.get_name()\n    #prints foo.fooClass.lalala\n</code></pre>\n"},{"tags":["python","windows-7","python-2.7","hidden-files"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13240120,"title":"Check for windows hidden file in python script?","body":"<p>There are several threads for example this one <a href=\"http://stackoverflow.com/questions/7099290/how-to-ignore-hidden-files-using-os-listdir-python\">How to ignore hidden files using os.listdir()? - Python</a> which explain how to check for hidden file using posix OS. How can I do this in windows7 using python 2.7?</p>\n\n<p>I cannot use glob - which ignores hidden files. The background is I am using os.walk and not glob because I need to search a folder structure recursively. </p>\n\n<p>thanks</p>\n"},{"tags":["python","list","loops","while-loop"],"answer_count":8,"favorite_count":0,"up_vote_count":9,"down_vote_count":3,"view_count":326,"score":6,"question_id":13236159,"title":"Create List With Numbers Getting Greater Each Time Python","body":"<p>How can I make a function that will create a list, increasing the amount of numbers it contains each time to a specified value?</p>\n\n<p>For example if the max was 4, the list would contain</p>\n\n<pre><code>1, 2, 2, 3, 3, 3, 4, 4, 4, 4\n</code></pre>\n\n<p>It's difficult to explain what I'm looking for, but from the example I think you'll understand!</p>\n\n<p>Thanks</p>\n"},{"tags":["python","windows","pip"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13225707,"title":"Python packages on windows: pip or native installers?","body":"<p>What are the relative merits of installing python packages on windows using pip as opposed to using packaged installers (exe/msi)?</p>\n"},{"tags":["python","python-3.x","nonetype"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13238697,"title":"comparison with type of None variables","body":"<p>I know that comparison of types is not recommended, but I have some code that does this in an if elif series. However, I am confused as to how None values work.</p>\n\n<pre><code>def foo(object)\n    otype = type(object)\n    #if otype is None: # this doesn't work\n    if object is None: # this works fine\n        print(\"yep\")\n    elif otype is int:\n    elif ...\n</code></pre>\n\n<p>How come I can compare just fine with <code>is int</code> and so forth, but not with <code>is None</code>? types.NoneType seems to be gone in Python 3.2, so I can't use that...</p>\n\n<p>The following</p>\n\n<pre><code>i = 1\nprint(i)\nprint(type(i))\nprint(i is None)\nprint(type(i) is int)\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1\n&lt;class 'int'&gt;\nFalse\nTrue\n</code></pre>\n\n<p>whereas </p>\n\n<pre><code>i = None\nprint(i)\nprint(type(i))\nprint(i is None)\nprint(type(i) is None)\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>None\n&lt;class 'NoneType'&gt;\nTrue\nFalse\n</code></pre>\n\n<p>I guess <code>None</code> is special, but what gives? Does <code>NoneType</code> actually exist, or is Python lying to me?</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":57,"score":-5,"question_id":13239983,"title":"Matching Bacteria","body":"<p>The input to this problem is a list of matches for samples. Each line contains the name of the sample, the numeric match level (between 0.0 and 1.0), and the bacterial name in that order, separated by tabs.</p>\n\n<pre><code>Sample1 0.7 Staph\nSample1 0.5 Strep\nSample1 0.3 E-coli\nSample2 0.6 Strep\nSample2 0.5 E-coli\nSample2 0.4 Myco\nSample3 0.8 Strep\nSample3 0.5 Staph\nSample3 0.1 Myco\n</code></pre>\n\n<p>Write a function sample_match(filename) that prints out the sample name of the best match for each bacterial name. For the input above, sample_match should print:</p>\n\n<pre><code>E-coli 0.5 Sample2\nMyco 0.4 Sample2\nStaph 0.7 Sample1\nStrep 0.8 Sample3\n</code></pre>\n\n<p>Note that the output must be in alphabetic order by match name, with the match value to one decimal digit. \nHint: this problem is much easier to solve if you create two dictionaries. One dictionary keeps track of the top match for each bacterial site and the other keeping the sample name of that match. \nExtra Hint: You can’t sort a dictionary. You can’t sort the keys of a dictionary. But you can convert the keys to a list and then sort the list. Try k=list(dictname.keys()) and then k.sort().</p>\n"},{"tags":["python","login","passwords"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13239656,"title":"Python And 401 reponse","body":"<p>I just wanna ask how to make a connection [user+pass] with A page that give you 401 response.</p>\n\n<p>For example in php its seem like that</p>\n\n<pre><code>$ch = curl_init();\n\ncurl_setopt($ch, CURLOPT_URL, 'https://192.168.1.1/');\n\ncurl_setopt($ch, CURLOPT_USERPWD, $user.':'.$pass);\n\ncurl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_ANY);\n\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_TIMEOUT, 4);\n\n$result = curl_exec($ch);\n\n$returnCode = (int)curl_getinfo($ch, CURLINFO_HTTP_CODE);\n</code></pre>\n"},{"tags":["python","amazon-s3","boto"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13226940,"title":"Boto script to download latest file from s3 bucket","body":"<p>I like to write a boto python script to download the recent most file from the s3 bucket i.e. for eg I have 100 files in a s3 bucket I need to download the recent most uploaded file in it.</p>\n\n<p>Is there a way to download the recent most modified file from S3 using python boto</p>\n\n<p>THanks in advance </p>\n"},{"tags":["python","libxml2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13238598,"title":"How to determine if a node is a leaf node in libxml2?","body":"<p>Consider this piece of xml:</p>\n\n<pre><code>...\n&lt;DataType&gt;\n &lt;name&gt;AccountStatus&lt;/name&gt;\n &lt;description&gt;This field indicates the account status&lt;/description&gt;\n &lt;ValidValue&gt;\n  &lt;value&gt;A&lt;/value&gt;\n  &lt;description&gt;Account is Active&lt;/description&gt;\n  &lt;name&gt;ACTIVE&lt;/name&gt;\n &lt;/ValidValue&gt;\n &lt;ValidValue&gt;\n  &lt;value&gt;I&lt;/value&gt;\n  &lt;description&gt;Account is Inactive&lt;/description&gt;\n  &lt;name&gt;INACTIVE&lt;/name&gt;\n &lt;/ValidValue&gt;\n&lt;/DataType&gt;\n&lt;DataType&gt;\n &lt;name&gt;\n ...\n</code></pre>\n\n<p>I would like to know if a given node is a leaf node or not.\nFor example, \"name\", \"description\" and \"value\" are leaf nodes.\n\"ValidValue\" is not because it contains subelements.</p>\n\n<p>This is what I tried:</p>\n\n<pre><code>import libxml2\ndoc       = libxml2.parseFile(\"data_types.xml\")\nxml_query = doc.xpathNewContext()\nnode_list = xml_query.xpathEval('/path/to/DataType')\nfor node in node_list:\n    print '%s' % k.get_children()\n    print '%s' % k.isText()\n</code></pre>\n\n<p>Somehow get_children() and isText() behave weirdly. isText() returns 0 for the \"name\" node (?), and I couldn't quite figurewhat to do with the output of get_children().</p>\n\n<p>Surely I could hack something into another xpath query and figure it out, but I suspect there should be a very straight forward way to do this using <code>libxml2</code>, which is what I'm looking for.</p>\n"},{"tags":["python","list","sorting","callback"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1967,"score":1,"question_id":5213033,"title":"Sort list of list with custom compare function in Python","body":"<p>I know there are several questions named like this, but I can't seems to get their answers to work.</p>\n\n<p>I have a list of lists, 50 times 5 elements. Now I want to sort this list by applying a custom compare function to each element. This function calculates the fitness of the list by which the elements shall be sorted. I created two functions, compare and fitness:</p>\n\n<pre><code>def compare(item1, item2):\n    return (fitness(item1) &lt; fitness(item2))\n</code></pre>\n\n<p>and</p>\n\n<pre><code>def fitness(item):\n    return item[0]+item[1]+item[2]+item[3]+item[4]\n</code></pre>\n\n<p>Then I tried to call them by:</p>\n\n<pre><code>sorted(mylist, cmp=compare)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sorted(mylist, key=fitness)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sorted(mylist, cmp=compare, key=fitness)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sorted(mylist, cmp=lambda x,y: compare(x,y))\n</code></pre>\n\n<p>Also I tried list.sort() with the same parameters. But in any case the functions don't get a list as an argument but a <code>None</code>. I have no idea why that is, coming from mostly C++ this contradicts any idea of a callback function for me. How can I sort this lists with a custom function?</p>\n\n<p><strong>Edit</strong>\nI found my mistake. In the chain that creates the original list one function didn't return anything but the return value was used. Sorry for the bother</p>\n"},{"tags":["python","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13231622,"title":"How to ask if a button in a list of buttons is clicked","body":"<p>I have a list of buttons, and I don't know how to have the functionality of each button in the list.</p>\n\n<pre><code>flatButton = QtGui.QPushButton(\"Band \" + str(i))\nself.Layout1.addWidget(flatButton)\nlist.append(flatButton)\n</code></pre>\n"},{"tags":["python","dictionary"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":65,"score":0,"question_id":13239279,"title":"Is it possible to add <key, value> pair at the end of the dictionary in python","body":"<p>When I introduce new  pair it is inserted at the beginning of dictionary. Is it possible to append it at the end?</p>\n"},{"tags":["python","dependency-injection","python-3.x","mocking","stdin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13238566,"title":"Python: equivalent of input using sys.stdin","body":"<p>I want to test some (python 3) code that directly uses the <code>print</code> and <code>input</code> functions.  As I understand it, the easiest way to do this is by dependency injection: modifying the code so that it takes input and output streams as arguments, using <code>sys.stdin</code> and <code>sys.stdout</code> by default and passing in mock objects during testing.  It's obvious what to do with <code>print</code> calls:</p>\n\n<pre><code>print(text)\n#replaced with...\nprint(text, file=output_stream)\n</code></pre>\n\n<p>However, <code>input</code> doesn't have arguments for input and output streams.  Does the following code correctly reproduce its behaviour?</p>\n\n<pre><code>text = input(prompt)\n#replaced with...\nprint(prompt, file=output_stream, end='')\ntext = input_stream.readline()[:-1]\n</code></pre>\n\n<p>I had a look at the implementation of <code>input</code>, and it does quite a lot of magic, calling <code>sys.stdin.fileno</code> and examining <code>sys.stdin.encoding</code> and <code>sys.stdin.errors</code> rather than calling any of the <code>read*</code> methods - I wouldn't know where to start with mocking those.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":13239159,"title":"Why does IDLE continue to crash?","body":"<p>Idle keeps crashing and I can't figure it out. After restarting the computer and reinstalling Python, none of which seemed to work, I looked to my peers and was told to \"install one of the Tcl/Tk\". After getting another opinion I was also told that I already had this and found it to be true but decided to try it anyway since it continued to crash. Nothing has improved and I have an assignment due.</p>\n\n<p>Any ideas on why this continues to happen and what I can do to fix the crash?</p>\n\n<hr>\n\n<p><strong>Problem details</strong>:</p>\n\n<pre><code>Process:         Python [1183]\nPath:            /Applications/Python 3.3/IDLE.app/Contents/MacOS/Python\nIdentifier:      org.python.IDLE\nVersion:         3.3.0 (3.3.0)\nCode Type:       X86-64 (Native)\nParent Process:  launchd [793]\n\nDate/Time:       2012-11-05 14:10:54.124 -0500\nOS Version:      Mac OS X 10.7.5 (11G63)\nReport Version:  9\n\nInterval Since Last Report:          181805 sec\nCrashes Since Last Report:           4\nPer-App Interval Since Last Report:  20 sec\nPer-App Crashes Since Last Report:   4\nAnonymous UUID:                      68994A08-7FFB-4074-A553-CB60A60BB412\n\nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\n\nApplication Specific Information:\n*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error (1007) creating CGSWindow on line 263'\n</code></pre>\n"},{"tags":["python","switch-statement"],"answer_count":21,"favorite_count":49,"up_vote_count":102,"down_vote_count":1,"view_count":44133,"score":101,"question_id":60208,"title":"Replacements for switch statement in python?","body":"<p>I want to write a function in python that returns different fixed values based on the value of an input index.  In other languages I would use a switch or case statement, but python does not appear to have a switch statement.  What are the recommended python solutions in this scenario?</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13239445,"title":"Get body name using email lib","body":"<p>I use email lib to parse emails like this:</p>\n\n<pre><code>f = open('path/to/email','r')\nmsg = email.message_from_file(f)\nprint msg['From']\nlmrn@mailexcite.com\n</code></pre>\n\n<p>But <code>msg</code> hasn't key Body, so what I suppose to do?</p>\n"},{"tags":["python","c"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13238192,"title":"Global PyObject* variable in C-Python extension","body":"<p>In a C extension to my Python program, I am trying to improve performance by setting two of the inputs to the main C function (which is called millions of times) as global variables, as they don't change often, so that I don't have to keep supplying them from Python using a lambda wrapper to the C function (which wastes a nontrivial amount of time). My code looks like this. First I declare the global variables at the top of the file:</p>\n\n<pre><code>unsigned char* splitArray;\nPyObject* wordCmp;\n</code></pre>\n\n<p>Then the Python API function to set them:</p>\n\n<pre><code>static PyObject* py_set_globals(PyObject *self, PyObject *args)\n{\n    free(wordCmp);\n    free(splitArray);\n\n    char* splitChars;\n    PyObject* wordC;\n\n    if (!PyArg_ParseTuple(args, \"sO\", &amp;splitChars, &amp;wordC))\n        return NULL;\n\n    wordCmp = (PyObject*)malloc(sizeof(PyObject));\n    memcpy(wordCmp, wordC, sizeof(PyObject));\n    splitArray = splitchars_to_mapping(splitChars);\n\n    return Py_BuildValue(\"\");\n}\n</code></pre>\n\n<p>In this case, splitArray is assigned to a 128-character array which is malloc'ed in the function splitchars_to_mapping, and wordCmp is a Python function object that is passed to C. Anyway, as far as I can tell, the char* splitArray works fine as a global variable, but when I later try to call wordCmp using PyEval_CallObject, Python/C crashes. So I have two questions:</p>\n\n<ol>\n<li>Why doesn't C crash immediately when I try to free the uninitialized pointers wordCmp and splitArray at the beginning of the function?</li>\n<li>Why am I unable to call wordCmp later when I have properly stored it on the heap and saved a reference to it as a global?</li>\n</ol>\n"},{"tags":["python","traceback"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13210436,"title":"Get full traceback","body":"<p>How can i get full traceback in the following case, including the calls of <code>func2</code> and <code>func</code> functions?</p>\n\n<pre><code>import traceback\n\ndef func():\n    try:\n        raise Exception('Dummy')\n    except:\n        traceback.print_exc()\n\ndef func2():\n    func()\n\n\nfunc2()\n</code></pre>\n\n<p>When i run this, i get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 5, in func\n    raise Exception('Dummy')\nException: Dummy\n</code></pre>\n\n<p><code>traceback.format_stack()</code> is not what i want, as need <code>traceback</code> object to be passed to a third party module.</p>\n\n<p>I am particularly interested in this case:</p>\n\n<pre><code>import logging\n\n\ndef func():\n    try:\n        raise Exception('Dummy')\n    except:\n        logging.exception(\"Something awful happened!\")\n\n\ndef func2():\n    func()\n\n\nfunc2()\n</code></pre>\n\n<p>In this case i am getting:</p>\n\n<pre><code>ERROR:root:Something awful happened!\nTraceback (most recent call last):\n  File \"test.py\", line 9, in func\n    raise Exception('Dummy')\nException: Dummy\n</code></pre>\n"},{"tags":["python","selenium","webdriver","selenium-chromedriver","chromedriver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13227346,"title":"set chrome options with remote driver","body":"<p>So there's a nice <a href=\"http://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow\">long list of switches</a> that can be passed to the chromedriver.</p>\n\n<p>I would like to use some of them, specifically <code>--disable-logging</code>.</p>\n\n<p>I do no want to (only) use chromedriver locally though, I'd like to write all my code to use  <code>webdriver.Remote()</code>.</p>\n\n<p>Here's the code I use to setup a chrome driver and it works great for a vanilla chrome instance.</p>\n\n<pre><code>driver = webdriver.Remote(\n    command_executor = 'http://127.0.0.1:4444/wd/hub',\n    desired_capabilities = {\n        'browserName': 'chrome',\n    }\n)\n</code></pre>\n\n<p>However I can not figure out how to pass in additional options.</p>\n\n<p>When I look at <code>driver.capabilities</code> I see the following</p>\n\n<pre><code>{\n    u'rotatable': False,\n    u'browserConnectionEnabled': False,\n    u'acceptSslCerts': False,\n    u'cssSelectorsEnabled': True,\n    u'javascriptEnabled': True,\n    u'nativeEvents': True,\n    u'databaseEnabled': False,\n    u'chrome.chromedriverVersion': u'23.0.1240.0',\n    u'locationContextEnabled': False,\n    u'takesScreenshot': True,\n    u'platform': u'MAC',\n    u'browserName': u'chrome',\n    u'webdriver.remote.sessionid': u'1352096075502',\n    u'version': u'22.0.1229.94',\n    u'applicationCacheEnabled': False,\n    u'webStorageEnabled': True,\n    u'handlesAlerts': True,\n    u'chrome.nativeEvents': False\n}\n</code></pre>\n\n<p>I don't <a href=\"http://selenium-python.readthedocs.org/en/latest/api.html\" rel=\"nofollow\">see any other arguments</a> (besides <code>desired_capabilities</code>) for passing arguments to chromedriver through <code>webdriver.Remote</code>. Is this true? Am I missing something? Is there some other strategy for customizing chromedriver?</p>\n\n<p>There's a nice example on the CromeDrive wiki page that shows <a href=\"http://code.google.com/p/selenium/wiki/ChromeDriver\" rel=\"nofollow\">\"Starting Chromium with Specific Flags\"</a> however all the example are for <code>webdriver.Chrome()</code>; the example is in java too, so it might not even work in python.</p>\n\n<p>If anyone has gotten this to work or can tell me this just will not work I'd appreciate it. Thanks.</p>\n\n<p><strong>New Problem</strong></p>\n\n<p>I'm not sure the best way to handle follow up questions.</p>\n\n<p>So, I got the answer to my question, but I'm still having trouble turning off logging. Checkout the following logger line.</p>\n\n<pre><code>[0.455][INFO]:      Launching chrome: /Applications/Google Chrome.app/Contents/MacOS/Google Chrome --enable-logging --log-level=1 --disable-hang-monitor --disable-prompt-on-repost --dom-automation --full-memory-crash-report --no-default-browser-check --no-first-run --disable-background-networking --disable-sync --disable-translate --disable-web-resources --safebrowsing-disable-auto-update --safebrowsing-disable-download-protection --disable-client-side-phishing-detection --disable-component-update --disable-default-apps --use-mock-keychain --ignore-certificate-errors --disable-logging about:blank\n</code></pre>\n\n<p>I can pass the argument <code>--disable-logging</code> to chromedriver but all it seems to care about is the first argument enabling logging. I guess I need to find out where the default arguments are for new instances of Chrome are kept.</p>\n\n<p>Thanks for the help. I'm further then I was.</p>\n\n<p>I may have to start a new question.</p>\n"},{"tags":["python","osx","pycairo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13187420,"title":"pycairo install error on osx","body":"<p>While I am installing pycairo using easy_install on osx, there is an error message as following:</p>\n\n<pre><code>Searching for pycairo\nReading http://pypi.python.org/simple/pycairo/\nReading http://cairographics.org/pycairo\nBest match: pycairo 1.10.0\nDownloading http://cairographics.org/releases/pycairo-1.10.0.tar.bz2\nProcessing pycairo-1.10.0.tar.bz2\nerror: Couldn't find a setup script in /tmp/easy_install-hnheQI/pycairo-1.10.0.tar.bz2\n</code></pre>\n\n<p>Please help me out. Thanks in advance.</p>\n"}]}
{"total":142322,"page":13,"pagesize":100,"questions":[{"tags":["python","instruments","ios-ui-automation","xcode-instruments"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":13126910,"title":"How can I run Instruments from Python?","body":"<p>Anyone know how to run Instruments from Python? I tired to use os.system and it didn't work. </p>\n\n<p>If I run Instruments from a command line, I only need to run: </p>\n\n<pre><code>instruments -w id -t xxxxxxxxxxxxxx xx.js\n</code></pre>\n\n<p>I will need to run the above in python. I suppose the following will work</p>\n\n<pre><code>import os\nos.system('instruments -w id -t xxxxx xx.js')\n</code></pre>\n\n<p>I also tried with os.system ('open -a instruments xxxxxx') </p>\n\n<p>Neither way worked. Anyone have a better idea?</p>\n\n<p>I expected it to run instruments just like running it from command line. And start to run javascritps using instruments. It didn't happen. What happened was just a 256 printed out. </p>\n"},{"tags":["python","django","multithreading","multiprocessing","multiprocess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13239087,"title":"Django Multiprocessing oddity","body":"<p>In using ./manage.py shell to exercise some code, I've come across something I don't understand.</p>\n\n<pre><code>Python 2.6.6 (r266:84292, Sep 11 2012, 08:34:23)\n[GCC 4.4.6 20120305 (Red Hat 4.4.6-4)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n&gt;&gt;&gt; from multiprocessing import Process\n&gt;&gt;&gt; from django.core.management import call_command\n&gt;&gt;&gt; p = Process(target=call_command(\"processphoto\", 1000))\nSuccessfully populated photo \"1000\"  (This is output from my processphoto command)\n&gt;&gt;&gt;\n</code></pre>\n\n<p>I never get the opportunity to do a <code>p.start()</code> or set any other variables on the process.  It appears to execute on instantation.  When I try to use the code in my view, I don't appear to get multiple processes spawning at all, everything remains on the one core.</p>\n\n<p>What am I doing wrong, or misunderstanding?  I want to generate separate <code>manage.py processphoto</code> commands in separate processes to fully utilize the multi-core server.</p>\n"},{"tags":["python","datetime"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13237903,"title":"counting forward work out how long time a is after time b","body":"<p>I need a way to find out how long one datetime.time is after another datetime.time  Quite simple, but... the problem is that my time values are in 24 hour time so it's not as simple as negating one value from another. Instead i need to work out how long time_b is after time_a if I were to count forward in time and at midnight time loops round, i.e.</p>\n\n<pre><code>time_a = 09:00\ntime_b = 04:00\n</code></pre>\n\n<p>Here time_b is 19 hours after time_a</p>\n\n<pre><code>def time_after_time(time_a, time_b):\n\n    a_hour = time_a.hour\n    a_minute = time_a.minute\n    b_hour = time_b.hour\n    b_minute = time_b.minute\n\n    out_hour = b_hour - a_hour\n    out_minute = b_minute - a_minute\n\n    if out_hour &lt; 0:\n        out_hour += 24\n\n    if out_minute &lt; 0:\n        out_hour -= 1\n        out_minute += 60\n\n    return datetime.time(out_hour, out_minute)\n</code></pre>\n\n<p>This was my first try but its giving false results.</p>\n\n<p>Can anyone think of a cleaner/correct way to do this?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13239002,"title":"ignoring directories in os.walk()?","body":"<p>I wish to ignore some directories in my os.walk().</p>\n\n<p>I do:</p>\n\n<pre><code>folders_to_ignore = ['C:\\\\Users\\\\me\\\\AppData\\\\'];\ndef find_files(directory, pattern):\nfor root, dirs, files in os.walk(directory):\n    dir[:] = [d for d in dirs if not is_folder_to_ignore(d)];\n    for basename in files:\n        if fnmatch.fnmatch(basename, pattern):\n            filename = os.path.join(root, basename)\n            print(\"filename=\" + filename);\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>  File \"C:\\Users\\me\\workspaces\\pythonWS\\FileUtils\\findfiles.py\", line 29, in find_files\n  dir[:] = [d for d in dirs if not is_folder_to_ignore(d)];\n</code></pre>\n\n<p>TypeError: 'builtin_function_or_method' object does not support item assignment</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","web-scraping","mechanize","scraper"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13216736,"title":"Scraping my SCPD videos: Cannot get past preloader page after successful login","body":"<p>I am trying to download videos from Stanford Center for Professional Development for a course that I am enrolled in. The WMV/SL players on the website are terrible and it's a nightmare to watch a video, especially when you have to rewind a second or two to view a point that you might have missed.</p>\n\n<p>I have written a Python script (and using Mechanize) which can be seen here: <a href=\"https://github.com/abhinavsood/scrape-scpd-videos/blob/master/scrape.py\" rel=\"nofollow\">https://github.com/abhinavsood/scrape-scpd-videos/blob/master/scrape.py</a></p>\n\n<p>What I have been able to achieve so far:\n1. Successful login\n2. Open the page where courses are listed\n3. Find the requested course\n4. Emulate clicking on the link to online videos for the requested course (by submitting a hidden form with a course-specific parameter as input)</p>\n\n<p>A page with a preloader image, successfully, loads after this step which says 'Your online resources are loading'.</p>\n\n<p>Markup of this page is:</p>\n\n<pre><code>&lt;script&gt;\n window.resizeTo(1024, 900);\n&lt;/script&gt;\n&lt;html&gt;\n &lt;head&gt;\n  &lt;script&gt;\n   function submitForm(){\n    document.forms['form0'].submit();\nreturn false;\n}\n  &lt;/script&gt;\n &lt;/head&gt;\n &lt;body onload=\"javascript:submitForm();\"&gt;\n  &lt;p&gt;\n   &lt;br /&gt;\n   &lt;br /&gt;\n   &lt;br /&gt;\n   &lt;br /&gt;\n   &lt;center&gt;\n    &lt;img src=\"../images2/icons/icon_loading.gif\" /&gt;\n   &lt;/center&gt;\n  &lt;/p&gt;\n  &lt;p style=\"font-color: #404950; font-size: 11px;font-family: Verdana,Tahoma,Helvetica,sans-serif;\"&gt;\n   Your online resources are loading...\n   &lt;center&gt;\n    &lt;!-- \nLoading Icon -- Terms of Use\n    - You are encouraged and legally entitled to copy and modify any animated gif`s, generated by http://preloaders.net web-site.\n    - All animated gif`s are completely free to use in all projects (web and desktop applications, freeware and commercial projects)\n    - You are encouraged, but NOT obligated to place any reference to http://preloaders.net web-site to use it`s content in any projects and applications\n--&gt;\n   &lt;/center&gt;\n  &lt;/p&gt;\n  &lt;form name=\"form0\" action=\"http://MyVideos.stanford.edu/OCE/ProEdCourseInfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007\" target=\"_self\" method=\"post\"&gt;\n   &lt;input type=\"hidden\" name=\"AuthInfo\" value=\"&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt; &amp;lt;AuthInfo&amp;gt;&amp;lt;ClientIP&amp;gt;122.252.231.5&amp;lt;/ClientIP&amp;gt;&amp;lt;UserName&amp;gt;abhinavsood&amp;lt;/UserName&amp;gt;&amp;lt;SUID&amp;gt;&amp;lt;/SUID&amp;gt;&amp;lt;TuitionProfile&amp;gt;Online Course&amp;lt;/TuitionProfile&amp;gt;&amp;lt;AccessStartDate&amp;gt;10-06-2011&amp;lt;/AccessStartDate&amp;gt;&amp;lt;AccessEndDate&amp;gt;15-01-2013&amp;lt;/AccessEndDate&amp;gt;&amp;lt;URL&amp;gt;http://MyVideos.stanford.edu/OCE/ProEdCourseInfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007&amp;lt;/URL&amp;gt;&amp;lt;Timestamp&amp;gt;03-11-2012 11:49:46&amp;lt;/Timestamp&amp;gt;&amp;lt;/AuthInfo&amp;gt;\" /&gt;\n   &lt;input type=\"hidden\" name=\"MAC\" value=\"fafa0e97a47a10f80ec3ce7373bbf4426634f464\" /&gt;\n   &lt;input type=\"hidden\" name=\"MacKey\" value=\"null\" /&gt;\n  &lt;/form&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>From what I understand, the hidden form in this page gets submitted on body <code>onload</code>. I am trying to wait for a few seconds with <code>sleep(10)</code> and then submit this form using Python by doing</p>\n\n<pre><code># reached the preloader page, now what?\nbr.select_form(nr=0)\n\nbr.find_control(\"AuthInfo\").disabled = False\nbr.find_control(\"MAC\").disabled = False\nbr.find_control(\"MacKey\").disabled = False\nbr.form.set_all_readonly(False)\n\nresponse = br.form.submit()\n</code></pre>\n\n<p>But the response is a 'content requires authentication' page, not the page with course details and list of videos as I can see in a modern browser like Firefox or Chrome. What am I doing wrong?</p>\n\n<p>This is what the form submit looks like. The 302 redirect seems to fail me. 'Location' is correct, but then on redirect it seems that authentication data is lost and again a 302 redirect is issued. </p>\n\n<pre><code>send: 'POST /oce/proedcourseinfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007 HTTP/1.1\\r\\nOrigin: https://scpd.stanford.edu\\r\\nContent-Length: 1\\r\\nAccept-Encoding: gzip\\r\\nConnection: close\\r\\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\\r\\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\\r\\nHost: myvideos.stanford.edu\\r\\nReferer: https://scpd.stanford.edu/onlineResource/publicOnlineResourceDetail.do\\r\\nCache-Control: max-age=0\\r\\nContent-Type: application/x-www-form-urlencoded\\r\\n\\r\\n '\nreply: 'HTTP/1.1 302 Found\\r\\n'\nheader: Cache-Control: private\nheader: Transfer-Encoding: chunked\nheader: Content-Type: text/html; charset=utf-8\nheader: Location: /oce/proedcourseinfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007&amp;AspxAutoDetectCookieSupport=1\nheader: Server: Microsoft-IIS/7.0\nheader: X-AspNet-Version: 2.0.50727\nheader: Set-Cookie: AspxAutoDetectCookieSupport=1; path=/\nheader: X-Powered-By: ASP.NET\nheader: Date: Mon, 05 Nov 2012 14:04:06 GMT\nheader: Connection: close\n</code></pre>\n\n<p>&shy;</p>\n\n<pre><code>send: 'GET /oce/proedcourseinfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007&amp;AspxAutoDetectCookieSupport=1 HTTP/1.1\\r\\nOrigin: https://scpd.stanford.edu\\r\\nAccept-Encoding: gzip\\r\\nConnection: close\\r\\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\\r\\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\\r\\nHost: myvideos.stanford.edu\\r\\nReferer: http://myvideos.stanford.edu/oce/proedcourseinfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007\\r\\nCache-Control: max-age=0\\r\\nCookie: AspxAutoDetectCookieSupport=1\\r\\nContent-Type: application/x-www-form-urlencoded\\r\\n\\r\\n'\nreply: 'HTTP/1.1 302 Found\\r\\n'\nheader: Cache-Control: private\nheader: Content-Type: text/html; charset=utf-8\nheader: Location: /errors/login.aspx?errorMessage=Could not Authenticate user\nheader: Server: Microsoft-IIS/7.0\nheader: Set-Cookie: ASP.NET_SessionId=25b20355hnv3jw55fama1f45; path=/; HttpOnly\nheader: X-AspNet-Version: 2.0.50727\nheader: X-Powered-By: ASP.NET\nheader: Date: Mon, 05 Nov 2012 14:04:06 GMT\nheader: Connection: close\nheader: Content-Length: 184\n</code></pre>\n\n<p>&shy;</p>\n\n<pre><code>send: 'GET /errors/login.aspx?errorMessage=Could%20not%20Authenticate%20user HTTP/1.1\\r\\nOrigin: https://scpd.stanford.edu\\r\\nAccept-Encoding: gzip\\r\\nConnection: close\\r\\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\\r\\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\\r\\nHost: myvideos.stanford.edu\\r\\nReferer: http://myvideos.stanford.edu/oce/proedcourseinfo.aspx?coll=a9f243a6-467b-4504-b280-c80caf49f007\\r\\nCache-Control: max-age=0\\r\\nCookie: ASP.NET_SessionId=25b20355hnv3jw55fama1f45; AspxAutoDetectCookieSupport=1\\r\\nContent-Type: application/x-www-form-urlencoded\\r\\n\\r\\n'\nreply: 'HTTP/1.1 200 OK\\r\\n'\nheader: Cache-Control: private\nheader: Content-Type: text/html; charset=utf-8\nheader: Server: Microsoft-IIS/7.0\nheader: X-AspNet-Version: 2.0.50727\nheader: X-Powered-By: ASP.NET\nheader: Date: Mon, 05 Nov 2012 14:04:08 GMT\nheader: Connection: close\nheader: Content-Length: 6583\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["python","numpy","pca"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":13224362,"title":"PCA Analysis with Python","body":"<p>I have a (26424 x 144) array and I want to perform PCA analysis over it using Python. However, there is no particular place on the web that explains about how to achieve this task (There are some sites which just do PCA according to their own - there is no generalized way of doing so that I can find). Anybody with any sort of help will do great.</p>\n"},{"tags":["python","pyqt4","qlineedit","maskedinput"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13226408,"title":"How to use QInputMask and QDoubleValidator in PyQt4?","body":"<p>I created a QLineEdit lineEdit_X_Position input in PyQt4.</p>\n\n<p>I have created a input mask with self.ui.lineEdit_X_Position.setInputMask(\"00,000.00;_\").</p>\n\n<p>I set the lineEdit with default value self.ui.lineEdit_X_Position.setText( format('6543.21', \",.2f\") ).</p>\n\n<p>When I view the UI, it shows X_Position as \"6_,543.21\" instead of \"_6,543.21\".\nI tried to set the default with self.ui.lineEdit_X_Position.setText( format('6543.21', \"9.2f\") ), but results = \"65,43_.21\".</p>\n\n<p>It gets worst when the default value is \"543.21\". I get results as \"54,3__.21\".</p>\n\n<p>Is this a bug in QInputMask?\nHow to get the correct result with the QInputMask format that I want, where user can only enter numbers?</p>\n\n<p>Also, if I want to validate the double results, how to use the QDoubleValidator?\nThe valid range is 0.00 to 10,000.00.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","cython","python-sphinx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13238736,"title":"how to document cython function on readthedocs","body":"<p>On <a href=\"http://readthedocs.org\" rel=\"nofollow\">ReadTheDocs</a> I am not allowed to compile <code>cython</code> extensions, is it possible to configure <code>sphinx</code> in order to extract the docstrings from the <code>cython</code> files without actually compiling them?</p>\n\n<p>thanks!</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13238648,"title":"401 Unauthorized Connection","body":"<p>I just wanna ask how to make a connexion with 401 Unauthorized . And Login in / \nFor example in php its seem like that<br>\n<a href=\"http://pastie.org/5191316\" rel=\"nofollow\">http://pastie.org/5191316</a></p>\n"},{"tags":["python","mongodb","scrapy","tor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13238357,"title":"Scrapy + Tor + Mongodb","body":"<p>I face a problem when using Scrapy + Mongodb with Tor. I get the following error when I try to have a mongodb pipeline in Scrapy.</p>\n\n<pre><code>2012-11-05 13:41:14-0500 [scrapy] DEBUG: Enabled spider middlewares: HttpErrorMiddleware, OffsiteMiddleware, RefererMiddleware, UrlLengthMiddleware, DepthMiddleware\n|S-chain|-&lt;&gt;-127.0.0.1:9050-&lt;&gt;&lt;&gt;-127.0.0.1:27017-&lt;--denied\nTraceback (most recent call last):\n  File \"/usr/bin/scrapy\", line 4, in &lt;module&gt;\n    execute()\n  File \"/usr/lib/python2.7/dist-packages/scrapy/cmdline.py\", line 131, in execute\n    _run_print_help(parser, _run_command, cmd, args, opts)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/cmdline.py\", line 97, in _run_print_help\n    func(*a, **kw)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/cmdline.py\", line 138, in _run_command\n    cmd.run(args, opts)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/commands/crawl.py\", line 42, in run\n    q = self.crawler.queue\n  File \"/usr/lib/python2.7/dist-packages/scrapy/command.py\", line 33, in crawler\n    self._crawler.configure()\n  File \"/usr/lib/python2.7/dist-packages/scrapy/crawler.py\", line 43, in configure\n    self.engine = ExecutionEngine(self.settings, self._spider_closed)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/core/engine.py\", line 33, in __init__\n    self.scraper = Scraper(self, self.settings)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/core/scraper.py\", line 66, in __init__\n    self.itemproc = itemproc_cls.from_settings(settings)\n  File \"/usr/lib/python2.7/dist-packages/scrapy/middleware.py\", line 33, in from_settings\n    mw = mwcls()\n  File \"/home/bharani/ABCD_scraper/political_forum_scraper/pipelines.py\", line 9, in __init__\n    settings['MONGODB_PORT'])\n  File \"/usr/local/lib/python2.7/dist-packages/pymongo/connection.py\", line 290, in __init__\n    self.__find_node()\n  File \"/usr/local/lib/python2.7/dist-packages/pymongo/connection.py\", line 586, in __find_node\n    raise AutoReconnect(', '.join(errors))\npymongo.errors.AutoReconnect: could not connect to localhost:27017: [Errno 111] Connection refused\n</code></pre>\n\n<p>I am not sure how to resolve this. When I do not use <code>proxychains</code>, it crawls perfectly fine.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>It's not code specific. See this link: <a href=\"http://isbullsh.it/2012/04/Web-crawling-with-scrapy/\" rel=\"nofollow\">http://isbullsh.it/2012/04/Web-crawling-with-scrapy/</a></p>\n\n<p>This is a simple tutorial to use <code>Scrapy</code> with <code>MongoDB</code>. We are supposed to call</p>\n\n<p><code>scrapy crawl isbullshit</code></p>\n\n<p>to run the crawler which works perfectly fine. To use <code>Tor</code>, it should be called like this:</p>\n\n<p><code>proxychains scrapy crawl isbullshit</code></p>\n\n<p>Which does not work for me. The source code of the tutorial is here: <a href=\"https://github.com/BaltoRouberol/isbullshit-crawler\" rel=\"nofollow\">https://github.com/BaltoRouberol/isbullshit-crawler</a></p>\n"},{"tags":["python","beautifulsoup","iterate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13238370,"title":"how to iterate over multiple \"div\" with certain class, and stop when class changes?","body":"<p>Questions says it all but in a few line..\nI've got HTML page which looks like this </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>             ...\n&lt;div class=\"line-up\" .. &gt; .. &lt;/&gt;\n&lt;div class=\"line-down\" ..&gt; .. &lt;/&gt;\n&lt;div class=\"line-down\" ..&gt; .. &lt;/&gt;\n&lt;div class=\"line-down\" ..&gt; .. &lt;/&gt;\n            ...\n&lt;div class=\"line-up\" ..&gt; .. &lt;/&gt;\n&lt;div class=\"line-down\" ..&gt; .. &lt;/&gt;\n</code></pre>\n\n<p>I want to be able to iterate through each <code>&lt;div class=\"line-down\"&gt;</code> belonging to one <code>&lt;div class=\"line-up\"&gt;</code>\nand go on with the next <code>&lt;div class=\"line-down\"..&gt;</code>  .\nI can already iterate through each <code>&lt;div class=\"line-up\"&gt;</code> with :</p>\n\n<pre><code>for first_line in soup.findAll(\"div\",class_=\"line-up\"):\n</code></pre>\n\n<p>But I just can't find what to do to iterate with the next div and stopping at a point.\nAny ideas?</p>\n"},{"tags":["python","google-app-engine","oauth","google-bigquery","google-api-python-client"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":78,"score":4,"question_id":13212115,"title":"from oauth2client.appengine import oauth2decorator_from_clientsecrets ImportError: No module named appengine","body":"<p>I' getting the following error while trying to run my application</p>\n\n<pre><code>from oauth2client.appengine import oauth2decorator_from_clientsecrets\nImportError: No module named appengine\n</code></pre>\n\n<p>Here is my main.py code</p>\n\n<pre><code>import httplib2\nimport os\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__), 'client_secrets.json')\n\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n'https://www.googleapis.com/auth/bigquery')\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n       self.response.out.write(\"Hello Dashboard!\\n\")\n\napplication = webapp.WSGIApplication([\n     ('/', MainHandler),\n     ], debug=True)\n\ndef main():\n    run_wsgi_app(application)\n\nif __name__ == '__main__':\n   main()\n</code></pre>\n\n<p>And here is my app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: false\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.app\n</code></pre>\n"},{"tags":["python","couchdb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13238471,"title":"Exception AttributeError: \"'NoneType' object has no attribute 'WARNING'\" in <bound method xxx.__del__ of <yyy.xxx object at 0xd08c48c>> ignored","body":"<p>First some introduction to my problem: one of my (complex) objects needs to be cleaned up when it is going to be destroyed. The reason is that it has a list of documents which must be eventually sent to a couchdb instance (the list is kept in order to perform bulk writes). If the object is deleted, the list of documents must be sent to the server.</p>\n\n<p>Sending the list to the server is a complicated process: you need to get the current revision  of the documents that you want to update, before actually sending them. Documents could be already present in couchdb, could be deleted, etc. Couchdb is a bit complicated in this regard. I just mention this to make clear that I can not re-implement this functionality just for the sake of solving my problem (see below).</p>\n\n<p>In this process, I rely on some global objects to perform some actions: specifically, I have a module <code>log</code> object, as I have in all my code, to perform logging.</p>\n\n<p>And all this action is triggered from the <code>__del__</code> method in my class. But when my objects are deleted, I get the error message:</p>\n\n<pre><code>Exception AttributeError: \"'NoneType' object has no attribute 'WARNING'\" in &lt;bound method xxx.__del__ of &lt;yyy.xxx object at 0xd08c48c&gt;&gt; ignored \n</code></pre>\n\n<p>Obviously, the module <code>log</code> object is not present when the object is being deleted. My questions are:</p>\n\n<ol>\n<li>Why are the global objects (in this case module objects) not defined anymore?</li>\n<li>In what order does python delete global objects? Can I change this order? Can I mark an object as \"last to delete\"?</li>\n<li>What can I do to prevent this behavior?</li>\n</ol>\n\n<p>If this can not be changed, I am in a big trouble. The same pattern is in all around my code, where my classes rely in a module <code>log</code> object to perform logging, or any other module object. Most of my classes do not implement a <code>__del__</code> method, but some do.</p>\n"},{"tags":["python","mysql","python-3.x"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13234614,"title":"python 3 euro sign not encoded correctly","body":"<p>I am using a script to retrieve some data from a MySQL database with prices in different currencies.</p>\n\n<p>Every currency symbol works fine, except for the euro sign (<code>€</code>), which returns the little square with the numbers <code>0 0 8 0</code>.</p>\n\n<p>It is the same result of:</p>\n\n<pre><code>print ('\\x80')\n</code></pre>\n\n<p>The collation of the table is <code>utf8_general_ci</code>.</p>\n\n<p>I have no idea of what I am doing wrong, if it's on my script or on the settings of the table</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","ruby","windows","cmd","system"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13237600,"title":"Ruby system call not observing path for python scripts","body":"<p>This works:</p>\n\n<pre><code>system \"python \\\"C:/Program Files (x86)/Google/google_appengine/someScript.py\\\"\n</code></pre>\n\n<p>This doesn't work:</p>\n\n<pre><code>system \"python \\\"someScript.py\\\"\n</code></pre>\n\n<p>The directory containing <code>someScript.py</code> is added to my windows <code>PATH</code> variable, so if I open a CMD window and type:</p>\n\n<pre><code>someScript.py\n</code></pre>\n\n<p>it runs fine.</p>\n\n<p>How do I make is so that my ruby script is able to call <code>someScript.py</code> while observing the windows environment path variable so I don't have to specify an absolute path for the python script?</p>\n"},{"tags":["python","selenium","webdriver","selenium-webdriver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13107825,"title":"accessing form tag with selenium web driver","body":"<p>I am trying to locate a tag on a page, but so far finding it by name/id/xpath have not worked. This is what I've tried to locate it by xpath:</p>\n\n<pre><code>db = driver.find_element_by_xpath(\"/html/body/form\")\n</code></pre>\n\n<p>and also </p>\n\n<pre><code>driver.find_element_by_xpath(\"//form[@id='formControl']\")\n</code></pre>\n\n<p>Both of these return the error:</p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException: Message: u'Unable to locate element:\n</code></pre>\n\n<p>It's as if it can not find the form on the page. Any ideas of how to fix?</p>\n\n<p>Here's the beginning of the html on the page:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body id=\"bodyControl\" class=\"PersonalizationPage ContentPage Layout_PageUsesRegions\" onunload=\"closeTimeoutWarningPopupWindow();return true;\" onload=\"return __MasterOnLoad();\" onresize=\"return __MasterOnResize();\"&gt;\n    &lt;form name=\"formControl\" method=\"post\" action=\"default.wl?appflag=65.14&amp;amp;bhcp=1&amp;amp;MT=208&amp;amp;rs=LAWS2.0&amp;amp;strRecreate=no&amp;amp;sv=Split&amp;amp;transfertoken=10281204301250d0dbca913e4aa6887c7d425f4ede9c&amp;amp;vr=2.0\" id=\"formControl\" target=\"_top\"&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13226727,"title":"How do i unit test in google app engine?","body":"<p>After searching and even reading the documentation on app engine unit testing am still unable to make it work on my project.</p>\n\n<p>The task is simple, I have my models and request handlers in main.py.\nI have installed <a href=\"https://github.com/jgeewax/gaetestbed/\" rel=\"nofollow\">gaetestbed</a> and included it on my test class.</p>\n\n<p>My tests class looks like this;</p>\n\n<pre><code>from main import CloudDocument   # My model\nclass TestCloudDocument(DataStoreTestCase, unittest.TestCase):\n    def test_find_document(self):\n        self.assertEqual(CloudDocument.all().count(), 0)\n</code></pre>\n\n<p>When i run the above test it returns True yet my datastore has records, i would have expected this test to fail.</p>\n\n<p>It seems like the test class does not see the datastore of my application. How can i make it\nsee and access my local datastore?</p>\n\n<p>Gath</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":13237812,"title":"Assertion Error:?","body":"<p>I have written this function but i keep getting assertion error and i don't know why???</p>\n\n<pre><code>  def amino(codonfile, DNA):\n        \"\"\"This function reads the 64-line codon file and then converts the DNA string entered into an amino acid string.\"\"\"\n        codonfile = []\n        for line in codonfile:\n            x,y = line.split()\n            if DNA == dict[x]:\n                return dict[y]\n    codonfile = open(\"codon.txt\",\"r\")   \n    codonfile.close\n\n    assert(amino(\"codon.txt\",\"TTT\")== \"Phe\")\n    assert(amino(\"codon.txt\",\"TTATTCTTGTCT\")== \"LeuPheLeuSer\")\n    assert(amino(\"codon.txt\",\"TTAGGGCCCTAC\")== \"LueGlyProTyr\")\n    print(\"passed\")\n</code></pre>\n"},{"tags":["python","python-3.x","argparse"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13237955,"title":"Python Argparse without command keyword","body":"<p>So, what i am trying to do is LS Mimic in Python code.</p>\n\n<p>I have completed most of the commands, but i have one thing that i cant find the solution</p>\n\n<p>So, if the <code>ls</code> command gets this command line,</p>\n\n<p><code>ls test1</code></p>\n\n<p>It should find the <code>test1</code> directory and then do the <code>ls</code> in that directory.</p>\n\n<p>However, since I can only find ways of creating arguments that needs a keyword before the \nactual usage, I cant find the way of doing this..</p>\n\n<p>it cant be something like this </p>\n\n<p><code>ls -move_dir test1</code></p>\n\n<p>it is fine if for the program to think if there is no command, it will treat as above way.\n( it will find that directory and run <code>ls</code> ) </p>\n\n<p>Please help me !! </p>\n"},{"tags":["python","sorting","dictionary"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13237941,"title":"sorting list of nested dictionaries in python","body":"<p>I have something like </p>\n\n<pre><code>[\n    {\n        \"key\": { \"subkey1\":1, \"subkey2\":\"a\"  }\n    },\n    {\n        \"key\": { \"subkey1\":10, \"subkey2\":\"b\" }\n    },\n    {\n        \"key\": { \"subkey1\":5, \"subkey2\":\"c\" }\n    }\n]\n</code></pre>\n\n<p>And would need to have : </p>\n\n<pre><code>[\n    {\n        \"key\": { \"subkey1\":10, \"subkey2\":\"b\" }\n    },\n    {\n        \"key\": { \"subkey1\":5, \"subkey2\":\"c\" }\n    },\n    {\n        \"key\": { \"subkey1\":1, \"subkey2\":\"a\" }\n    }\n]\n</code></pre>\n\n<p>Many thanks!</p>\n\n<p>EDIT : I'd like to sort by subkey1, this wasn't clear previously.</p>\n"},{"tags":["python","mysql","ubuntu","python-3.x","pymysql"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13237535,"title":"TypeError: unsupported operand type(s) for %: 'bytes' and 'tuple'","body":"<pre><code>TypeError: unsupported operand type(s) for %: 'bytes' and 'tuple'\n</code></pre>\n\n<p>The setup is as follows:\n<code>Eloipool</code> is a bitcoinmining pool software <a href=\"http://gitorious.org/bitcoin/eloipool\" rel=\"nofollow\">http://gitorious.org/bitcoin/eloipool</a>\nPyMySQL is required for the MySQL database connection <a href=\"https://github.com/petehunt/PyMySQL\" rel=\"nofollow\">https://github.com/petehunt/PyMySQL</a> .</p>\n\n<p>The system is ubuntu 12.04.</p>\n\n<pre><code>root@j064:/opt/PyMySQL# locate Python.h\n/usr/include/python2.7/Python.h\n/usr/include/python3.2mu/Python.h\n/usr/include/wx-2.8/wx/wxPython/wxPython.h\nroot@j064:/opt/PyMySQL#\n</code></pre>\n\n<p><code>Eloipool</code> (Python3 and up) is located in <code>/opt/eloipool/</code>\nPyMySQL is located in <code>/opt/PyMySQL/pymysql/</code>\nPyMySQL comes with a Python3 compilant patch located in <code>/opt/PyMySQL/py3k/pymysql/</code></p>\n\n<p>I tried symlinks to both versions in the eloipool folder, the default version will ask for all subfolders and files from <code>/opt/PyMySQL/pymysql/</code>, I could not even try as pymysql and <code>eloipool</code> have a file called util.py.</p>\n\n<p>When I symlink the <code>/opt/PyMySQL/py3k/pymysql/</code> version I get the following error when running eloipool:</p>\n\n<pre><code>root@j064:/opt/eloipool# ./eloipool.py\n\n&gt;&gt;&gt; 2012-11-05 17:27:28,138     merkleMaker     INFO    New block: 000000000000026ea479ce7585db76c170190fce7bc46c0406767523d1846e96 (height: 206615; bits: 1a0513c5)\n2012-11-05 17:27:28,246 restoreState    INFO    Restoring saved state from 'eloipool.worklog' (196 bytes)\n2012-11-05 17:27:28,248 restoreState    INFO    State restored successfully\n2012-11-05 17:27:28,248 restoreState    INFO    Total downtime: 96.0659 seconds\n2012-11-05 17:27:28,295 JSONRPCServer   INFO    Waiting 13.1 seconds to longpoll\n2012-11-05 17:27:29,214 JSONRPCServer   INFO    Ignoring longpoll attempt while another is waiting\n2012-11-05 17:27:41,431 JSONRPCServer   INFO    Longpoll woke up 1 clients in 0.000 seconds\n2012-11-05 17:28:28,353 WorkLogPruner   DEBUG   Pruned 0 jobs\n2012-11-05 17:29:28,389 WorkLogPruner   DEBUG   Pruned 0 jobs\n2012-11-05 17:29:33,805 JSONRPCHandler  ERROR   Error during JSON-RPC call: doJSON_getwork['00000002d1846e96067675237bc46c0470190fce85db76c1a479ce750000026e000000002b3b2cd67c438323e27e2d23671e4cf07e28c0c96756f5e0edef21d4d6c502795097f74d1a0513c5eef5f556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000']\nTraceback (most recent call last):\n  File \"/opt/eloipool/jsonrpcserver.py\", line 196, in _doJSON_i\n    rv = getattr(self, method)(*params)\n  File \"/opt/eloipool/jsonrpc_getwork.py\", line 44, in doJSON_getwork\n    return self.doJSON_submitwork(data)\n  File \"/opt/eloipool/jsonrpc_getwork.py\", line 79, in doJSON_submitwork\n    self.server.receiveShare(share)\n  File \"./eloipool.py\", line 457, in receiveShare\n    i(share)\n  File \"/opt/eloipool/sharelogging/sql.py\", line 65, in logShare\n    dbc.execute(stmt, params)\n  File \"/opt/eloipool/pymysql/cursors.py\", line 108, in execute\n    query = query % escaped_args\nTypeError: unsupported operand type(s) for %: 'bytes' and 'tuple'\n\n\n&gt;&gt;&gt; exit()\n2012-11-05 17:29:38,577 stopServers     INFO    Stopping servers...\n2012-11-05 17:29:38,577 Waker for BitcoinNode   DEBUG   Read wakeup\n2012-11-05 17:29:38,587 saveState       INFO    Saving work state to 'eloipool.worklog'...\n2012-11-05 17:29:38,603 exit    INFO    Goodbye...\nTerminated\nroot@j064:/opt/eloipool#\n</code></pre>\n\n<p>The MYSQL schema:</p>\n\n<pre><code>-- phpMyAdmin SQL Dump\n-- version 3.4.10.2\n-- http://www.phpmyadmin.net\n--\n-- Host: localhost:3306\n-- Erstellungszeit: 05. Nov 2012 um 17:55\n-- Server Version: 5.5.24\n-- PHP-Version: 5.3.10\n\nSET SQL_MODE=\"NO_AUTO_VALUE_ON_ZERO\";\nSET time_zone = \"+00:00\";\n\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8 */;\n\n--\n-- Datenbank: `simplec`\n--\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `accountBalance`\n--\n\nCREATE TABLE IF NOT EXISTS `accountBalance` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `userId` int(255) NOT NULL,\n  `balance` varchar(40) DEFAULT NULL,\n  `sendAddress` varchar(255) DEFAULT '',\n  `paid` varchar(40) DEFAULT '0',\n  `threshold` tinyint(4) DEFAULT '0',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `userId` (`userId`),\n  KEY `b_userId` (`userId`)\n) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=706 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `locks`\n--\n\nCREATE TABLE IF NOT EXISTS `locks` (\n  `name` varchar(11) NOT NULL,\n  `locked` tinyint(4) NOT NULL,\n  PRIMARY KEY (`name`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `networkBlocks`\n--\n\nCREATE TABLE IF NOT EXISTS `networkBlocks` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `blockNumber` int(255) NOT NULL,\n  `timestamp` int(255) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=5876 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `news`\n--\n\nCREATE TABLE IF NOT EXISTS `news` (\n  `id` int(10) NOT NULL AUTO_INCREMENT,\n  `message` varchar(255) NOT NULL,\n  `timestap` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT ' ',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `pool_worker`\n--\n\nCREATE TABLE IF NOT EXISTS `pool_worker` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `associatedUserId` int(255) NOT NULL,\n  `username` char(50) DEFAULT NULL,\n  `password` char(255) DEFAULT NULL,\n  `allowed_hosts` text,\n  PRIMARY KEY (`id`),\n  KEY `p_username` (`username`),\n  KEY `pool_worker_associatedUserId` (`associatedUserId`),\n  KEY `pool_worker_username` (`username`)\n) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1398 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `settings`\n--\n\nCREATE TABLE IF NOT EXISTS `settings` (\n  `setting` varchar(255) NOT NULL,\n  `value` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`setting`),\n  KEY `set_setting` (`setting`)\n) ENGINE=MyISAM DEFAULT CHARSET=latin1;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `shares`\n--\n\nCREATE TABLE IF NOT EXISTS `shares` (\n  `id` bigint(30) NOT NULL AUTO_INCREMENT,\n  `rem_host` varchar(255) NOT NULL,\n  `username` varchar(120) NOT NULL,\n  `our_result` enum('Y','N') NOT NULL,\n  `upstream_result` enum('Y','N') DEFAULT NULL,\n  `reason` varchar(50) DEFAULT NULL,\n  `solution` varchar(257) NOT NULL,\n  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `shares_username` (`username`),\n  KEY `shares_time` (`time`),\n  KEY `shares_our_result` (`our_result`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `shares_counted`\n--\n\nCREATE TABLE IF NOT EXISTS `shares_counted` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `blockNumber` int(11) NOT NULL,\n  `userId` int(11) NOT NULL,\n  `count` int(11) NOT NULL,\n  `invalid` int(11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`)\n) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=614 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `unconfirmed_rewards`\n--\n\nCREATE TABLE IF NOT EXISTS `unconfirmed_rewards` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `userId` int(255) NOT NULL,\n  `blockNumber` int(255) NOT NULL,\n  `amount` varchar(40) NOT NULL,\n  `rewarded` enum('N','Y') NOT NULL DEFAULT 'N',\n  `shares` int(255) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`),\n  KEY `unconfirmed_rewards_blockNumber` (`blockNumber`),\n  KEY `unconfirmed_rewards_rewarded` (`rewarded`),\n  KEY `unconfirmed_rewards_userId` (`userId`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `userHashrates`\n--\n\nCREATE TABLE IF NOT EXISTS `userHashrates` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `userId` int(255) NOT NULL,\n  `hashrate` int(11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`),\n  KEY `timestamp` (`timestamp`),\n  KEY `userHashrates_id1` (`userId`),\n  KEY `userId_timestamp` (`userId`,`timestamp`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `webUsers`\n--\n\nCREATE TABLE IF NOT EXISTS `webUsers` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `admin` int(1) NOT NULL,\n  `username` varchar(40) NOT NULL,\n  `pass` varchar(255) NOT NULL,\n  `email` varchar(255) NOT NULL COMMENT 'Assocaited email: used for validating users, and re-setting passwords',\n  `emailAuthPin` varchar(10) NOT NULL COMMENT 'The pin required to authorize that email address',\n  `secret` varchar(10) NOT NULL,\n  `loggedIp` varchar(255) NOT NULL,\n  `sessionTimeoutStamp` int(255) NOT NULL,\n  `accountLocked` int(255) NOT NULL COMMENT 'This is the timestamp when the account will be unlocked(usually used to lock accounts that are trying to be bruteforced)',\n  `accountFailedAttempts` int(2) NOT NULL COMMENT 'This counts the number of failed attempts for web login',\n  `pin` varchar(255) NOT NULL COMMENT 'four digit pin to allow account changes',\n  `share_count` int(11) NOT NULL DEFAULT '0',\n  `stale_share_count` int(11) NOT NULL DEFAULT '0',\n  `shares_this_round` int(11) NOT NULL DEFAULT '0',\n  `api_key` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,\n  `activeEmail` int(1) DEFAULT NULL,\n  `donate_percent` varchar(11) DEFAULT '1',\n  `btc_lock` enum('0','1') NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`),\n  KEY `u_username` (`username`)\n) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=710 ;\n\n-- --------------------------------------------------------\n\n--\n-- Tabellenstruktur für Tabelle `winning_shares`\n--\n\nCREATE TABLE IF NOT EXISTS `winning_shares` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `blockNumber` int(11) NOT NULL,\n  `username` varchar(11) NOT NULL,\n  `share_id` int(255) NOT NULL DEFAULT '0',\n  `rewarded` enum('N','Y') NOT NULL DEFAULT 'N',\n  `amount` varchar(40) NOT NULL DEFAULT '0',\n  `confirms` smallint(6) NOT NULL DEFAULT '0',\n  `txid` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,\n  `scored` enum('N','Y') NOT NULL DEFAULT 'N',\n  PRIMARY KEY (`id`),\n  KEY `winning_shares_scored` (`scored`)\n) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=14 ;\n\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n</code></pre>\n\n<p>My conclusion is I either installed PyMySQL the wrong way, I useed the wrong python version or its broken as a buddy claimed.</p>\n\n<p>However, this really is not a flake post, I urgently need to get this to work with my limited knowledge of the linux os, thanks for all constructive responses in advance.</p>\n"},{"tags":["python","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":733,"score":1,"question_id":9103166,"title":"multiple axis in matplotlib with different scales","body":"<p>How can multiple scales can be implemented in Matplotlib? I am not talking about the primary and secondary axis plotted against the same x-axis but something like many trends which have different scales and can be identified with their colors plotted in same y-axis. </p>\n\n<p>For example, if I have <code>trend1 ([0,1,2,3,4])</code> and <code>trend2 ([5000,6000,7000,8000,9000])</code> to be plotted against time and want two trends to be of different colors and in Y-axis, different scales, how can I accomplish this with Matplotlib? </p>\n\n<p>When I checked into MATPLOTLIB, they say that they don't have this for now though it is definitely on their WISHLIST, Is there a way around to make this happen?</p>\n\n<p>Is their any other plotting tools for python that can make this happen?</p>\n"},{"tags":["python","numpy","pandas"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":609,"score":2,"question_id":11361985,"title":"Output data from all columns in a dataframe in pandas","body":"<p>I have a csv file with the name <code>params.csv</code>. I opened up <code>ipython qtconsole</code> and created a pandas dataframe using:</p>\n\n<pre><code>import pandas\nparamdata = pandas.read_csv('params.csv', names=paramnames)\n</code></pre>\n\n<p>where, <code>paramnames</code> is a python list of string objects. Example of <code>paramnames</code> (the length of actual list is 22):</p>\n\n<pre><code>paramnames = [\"id\",\n\"fc\",\n\"mc\",\n\"markup\",\n\"asplevel\",\n\"aspreview\",\n\"reviewpd\"]\n</code></pre>\n\n<p>At the ipython prompt if I type <code>paramdata</code> and press enter then I do not get the dataframe with columns and values as shown in examples on <a href=\"http://pandas.sourceforge.net/indexing.html#additional-column-access\" rel=\"nofollow\">Pandas website</a>. Instead, I get information about the dataframe. I get:</p>\n\n<pre><code>In[35]: paramdata\nOut[35]: \n&lt;class 'pandas.core.frame.DataFrame'&gt;\nInt64Index: 59 entries, 0 to 58\nData columns:\nid                    59  non-null values\nfc                    59  non-null values\nmc                    59  non-null values\nmarkup                59  non-null values\nasplevel              59  non-null values\naspreview             59  non-null values\nreviewpd              59  non-null values\n</code></pre>\n\n<p>If I type <code>paramdata['mc']</code> then I do get the values as expected for the <code>mc</code> column. I have two questions:</p>\n\n<p>(1) In the examples on the pandas website (see, for example, the output of <code>df</code> here: <a href=\"http://pandas.sourceforge.net/indexing.html#additional-column-access\" rel=\"nofollow\">http://pandas.sourceforge.net/indexing.html#additional-column-access</a>) typing the name of the dataframe gives the actual data. Why am I getting information about the dataframe as shown above instead of the actual data? Do I need to set some output options somewhere?</p>\n\n<p>(2) How do I output all columns in the dataframe to the screen without having to type their names, i.e., without having to type something like <code>paramdata[['id','fc','mc']]</code>. </p>\n\n<p>I am using pandas version 0.8. </p>\n\n<p>Thank you.</p>\n"},{"tags":["python","implementation","pysandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13237459,"title":"Implement online Python Shell using Pysandbox","body":"<p>I want to build an online Python shell like <a href=\"http://shell.appspot.com/\" rel=\"nofollow\">this</a>. Currently I am trying to build a module\nin Python which does the following things</p>\n\n<ol>\n<li>Creates a new session.</li>\n<li>Runs a code passed as string keeping and maintains the environment variables of the current session.</li>\n</ol>\n\n<p>I am trying to achieve this using <a href=\"https://github.com/haypo/pysandbox\" rel=\"nofollow\">Pysandbox</a>. Here is my effort till now</p>\n\n<pre><code>from sandbox import Sandbox, SandboxConfig\nfrom optparse import OptionParser\nimport sys,traceback\n\nclass Runner:\n    def __init__(self):\n        self.options = self.parseOptions()\n        self.sandbox = Sandbox(self.createConfig())\n        self.localvars = dict()\n    def parseOptions(self):\n        parser = OptionParser(usage=\"%prog [options]\")\n        SandboxConfig.createOptparseOptions(parser, default_timeout=None)\n        parser.add_option(\"--debug\",\n            help=\"Debug mode\",\n            action=\"store_true\", default=False)\n        parser.add_option(\"--verbose\", \"-v\",\n            help=\"Verbose mode\",\n            action=\"store_true\", default=False)\n        parser.add_option(\"--quiet\", \"-q\",\n            help=\"Quiet mode\",\n            action=\"store_true\", default=False)\n        options, argv = parser.parse_args()\n        if argv:\n            parser.print_help()\n            exit(1)\n        if options.quiet:\n            options.verbose = False\n        return options\n\n    def createConfig(self):\n        config = SandboxConfig.fromOptparseOptions(self.options)\n        config.enable('traceback')\n        config.enable('stdin')\n        config.enable('stdout')\n        config.enable('stderr')\n        config.enable('exit')\n        config.enable('site')\n        config.enable('encodings')\n        config._builtins_whitelist.add('compile')\n        config.allowModuleSourceCode('code')\n        config.allowModule('sys',\n            'api_version', 'version', 'hexversion')\n        config.allowSafeModule('sys', 'version_info')\n        if self.options.debug:\n            config.allowModule('sys', '_getframe')\n            config.allowSafeModule('_sandbox', '_test_crash')\n            config.allowModuleSourceCode('sandbox')\n        if not config.cpython_restricted:\n            config.allowPath(__file__)\n        return config\n    def Run(self,code):\n        # log and compile the statement up front\n        try:\n            #logging.info('Compiling and evaluating:\\n%s' % statement)\n            compiled = compile(code, '&lt;string&gt;', 'single')\n        except:\n            traceback.print_exc(file=sys.stdout)\n            return\n        try:\n            self.sandbox.execute(code)\n        except:\n            traceback.print_exc(file=sys.stdout)\n\ndef f():\n    f = open('test.py')\n    code = ''\n    for lines in f:\n        code = code+lines\n    runner = Runner()\n    runner.Run('a = 5')\n    runner.Run('b = 5')\n    runner.Run('print a+b')\nf()\n</code></pre>\n\n<p>I am encountering 3 major problems.</p>\n\n<ol>\n<li><p>How to nicely display error? For example, running the above code results in following output</p>\n\n<p>File \"execute.py\", line 60, in Run\n    self.sandbox.execute(code)\n  File \"/home/aaa/aaa/aaa/pysandbox-master/sandbox/sandbox_class.py\", line 90, in execute\n    return self.execute_subprocess(self, code, globals, locals)\n  File \"/home/aaa/aaa/aaa/pysandbox-master/sandbox/subprocess_parent.py\", line 119, in execute_subprocess\n    raise output_data['error']\nNameError: name 'a' is not defined</p></li>\n</ol>\n\n<p>The undesirable thing here is the call traceback of \"execute.py\". I just want the function to return the following error.</p>\n\n<pre><code>NameError: name 'a' is not defined\n</code></pre>\n\n<ol>\n<li><p>How do I maintain the environment of the current session? For example, in the above code sequence </p>\n\n<p>a = 5<br/>\nb = 5<br/>\nprint a+b<br/></p></li>\n</ol>\n\n<p>should result in output 10.\nAny ideas?</p>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13237060,"title":"in python error while importing GeoIP on CentOs server","body":"<p>I am using Django, and when I am using the geoip package or importing GeoIP I am getting the following error on centos, while it is working well on ubuntu 12.04.</p>\n\n<p>The error is as follows</p>\n\n<pre><code> from django.contrib.gis.utils.geoip import GeoIP\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python2.6/site-packages/django/contrib/gis/utils/geoip.py\", line 67, in &lt;module&gt;\n    'Try setting GEOIP_LIBRARY_PATH in your settings.' % lib_name)\ndjango.contrib.gis.utils.geoip.GeoIPException: Could not find the GeoIP library (tried \"GeoIP\"). Try setting GEOIP_LIBRARY_PATH in your settings.\n</code></pre>\n\n<p>please try to help me out, I can't go further without this.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":13,"view_count":84,"score":-13,"question_id":13237253,"title":"Read file into dictionary","body":"<p>Write function amino(codonfile, DNA) that reads the 64-line codon file (hint: into a dictionary) and then converts the DNA string entered into an amino acid string. Return that string.</p>\n\n<pre><code>TTT Phe\nTTC Phe\nTTA Leu\nTTG Leu\nTCT Ser\nTCC Ser\nTCA Ser\nTCG Ser\nTAT Tyr\nTAC Tyr\nTAA Ter\nTAG Ter\n</code></pre>\n\n<p>So a call to amino(“codon.txt”,”TTATTCTTGTCT”) would return “LeuPheLeuSer”.\nInclude three asserts to verify that your function works.</p>\n"},{"tags":["python","smtp","gmail"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13237189,"title":"how to send mail with expiry date, auto delete from inbox","body":"<p>this is the method to send mail by python program.</p>\n\n<pre><code>def Send_Mail(self, username, password, receiver, subject, body):\n    username = str(username)\n    password = str(password)\n    receiver = str(receiver)\n    subject = str(subject)\n    body = str(body)\n    Username = username\n    Password = password\n    Sender = username\n    Destination = [receiver]\n    Subject = subject\n    Content = body\n    text_subtype = 'html'\n    SMTPserver = 'smtp.gmail.com'\n    msg = MIMEText(Content, text_subtype)\n    msg['Subject'] = Subject\n    msg['From'] = Sender\n    conn = SMTP(SMTPserver)\n    conn.set_debuglevel(False)\n    conn.login(Username, Password)\n    conn.sendmail(Sender, Destination, msg.as_string())\n    conn.close()\n</code></pre>\n\n<p>calling this method by </p>\n\n<pre><code>Classname.Send_Mail(&lt;emailid&gt;,&lt;password&gt;,&lt;destination email-id&gt;,&lt;subject&gt;,&lt;body&gt;\n</code></pre>\n\n<p>this code is working perfectly,\nbut need to set expiry date while sending mail,so that sent mail must auto delete from the inbox after specified time. \nhelp would be appreciated.  </p>\n"},{"tags":["python","sorting","lambda"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":735,"score":0,"question_id":7371935,"title":"Sort a string in lexicographic order python","body":"<p>I want to sort a string to a list in lexicographic order as</p>\n\n<pre><code>str='aAaBbcCdE'\n</code></pre>\n\n<p>to </p>\n\n<pre><code>['A','a','a','B','b','C','c','d','E']\n</code></pre>\n\n<p>but <code>sorted()</code> gives me this output:</p>\n\n<pre><code>['A','B','C','E','a','a','b','c','d']\n</code></pre>\n\n<p>Please help me.</p>\n"},{"tags":["python","gui","wxpython","listctrl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13123746,"title":"Custom headers organization in ListCtrl or another widget in wxPython","body":"<p>I've written code for ListCtrl in wxPython:</p>\n\n<p><img src=\"http://i.stack.imgur.com/86ZgW.png\" alt=\"List Control\"></p>\n\n<pre><code>...\nself.list_ctrl = wx.ListCtrl(panel, size=(-1,150), style=wx.LC_REPORT|wx.BORDER_SUNKEN)\nself.list_ctrl.InsertColumn(0, 'Name')\nself.list_ctrl.InsertColumn(1, 'Old value')\nself.list_ctrl.InsertColumn(2, 'New value')\nself.list_ctrl.InsertColumn(3, 'Old percent')\nself.list_ctrl.InsertColumn(4, 'New percent')\n...\n</code></pre>\n\n<p>But I want to get the ListCtrl (or another widget) with following headers organization:</p>\n\n<p><img src=\"http://i.stack.imgur.com/mTpkq.png\" alt=\"Headers organization\"></p>\n\n<p>I think that It hardy to solve this problem using ListCtrl, may be use another widget in wxPython?</p>\n"},{"tags":["python","recursion"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":116,"score":4,"question_id":13103965,"title":"solving fully parenthesized expressions with recursion","body":"<p>I am having trouble coming up with a recursive method that can solve fully parenthesized equations..such as <code>((3+2)/(1+4))</code>.  I was able to come up with a recursive solution for solving infix expressions like <code>+*+3421</code> using recursion, but for something like <code>((3+2)/(1+4))</code> I am a little stuck.</p>\n\n<pre><code>def evalPrefix(exp):\n    it = iter(exp)\n    return evalPrefixInner(it)\n\ndef evalPrefixInner(it):\n    item = it.next()\n    if isInt(item):\n        return int(item)\n    else: \n        operand1 = evalPrefixInner(it)\n        operand2 = evalPrefixInner(it)\n        return execute(item, operand1, operand2)\n</code></pre>\n"},{"tags":["python","linux","windows","deployment"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13236601,"title":"What deployment framework to use?","body":"<p>We are trying to figure out what deployment method/framework to use with a python application, it has a basic wsgi server to make some REST resources available and a set of static web pages with the interface that are served through apache.</p>\n\n<p><strong>The situation is as follows:</strong></p>\n\n<p>My team works in isolated parts of the program and sometimes together in specific modules, we have different testing servers and one master server, we all work locally, sync the code using git, and then run a bash script that copies the files from the windows machines to the indicated linux server(using ssh) and then restarts the app. After thinking about it this doesn't seem to be the right way to do it, the script overwrites all the files in the server with the local files everytime.</p>\n\n<p>We want to be able to work in the same server without the worry of overwriting other people's code and we need to deploy to different servers to avoid restarting the service while others work with it and in the near future we need to deploy to the master or several clones of the master server when the application reaches a more mature state.</p>\n\n<p>We found serveral options: capistrano, kwate, chef or fortress, even fleet but we wanted to have opinions from people that has used them to be sure it is what we need.</p>\n\n<p><strong>So this are the main questions:</strong></p>\n\n<ol>\n<li><p>Are these the kind of programs we should be looking at to achive a\nsafe concurrent deployment process?</p></li>\n<li><p>Which one have you used/recommend and why? do you think it would\nhelp in our actual situation?</p></li>\n</ol>\n\n<p>Thank you so much for your feedback and advice on this.</p>\n"},{"tags":["python","ruby","perl","security","penetration-testing"],"answer_count":13,"favorite_count":10,"up_vote_count":9,"down_vote_count":4,"view_count":2390,"score":5,"question_id":76408,"title":"Which of these scripting languages is more appropriate for pen-testing?","body":"<p>First of all, I want to avoid a flame-war on languages. The languages to choose from are Perl, Python and Ruby . I want to mention that I'm comfortable with all of them, but the problem is that I can't focus just on one. </p>\n\n<p>If, for example, I see a cool Perl module, I have to try it out. If I see a nice Python app, I have to know how it's made. If I see a Ruby DSL or some Ruby voodoo, I'm hooked on Ruby for a while.</p>\n\n<p>Right now I'm working as a Java developer, but plan on taking CEH in the near future. My question is: for tool writing and exploit development, which language do you find to be the most appropriate?</p>\n\n<p>Again, I don't want to cause a flame-war or any trouble, I just want honest opinions from scripters that know what they're doing.</p>\n\n<p>One more thing: maybe some of you will ask \"Why settle on one language?\". To answer this: I would like to choose only one language, in order to try to master it.</p>\n"},{"tags":["python","html","django","html5","twitter-bootstrap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13168606,"title":"Passing value to Bootstrap modal in Django","body":"<p>I have a nice modal showing a delete confirmation dialog each time user wants to delete data. The problem is many of my views render a list of elements in the template, and each element has its detail as well as a tiny delete red button. Of course in django the view passes a list of elements to the template, for example a list of clients, and they are rendered in a table like the following:</p>\n\n<pre><code>&lt;table class=\"table table-striped\"&gt;  \n    &lt;thead&gt;  \n      &lt;tr&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n      &lt;/tr&gt;  \n    &lt;/thead&gt;  \n    &lt;tbody&gt;\n      {% for client in clientes %}\n        &lt;tr&gt;  \n          &lt;td&gt;{{ client.email }}&lt;/td&gt;\n          &lt;td&gt;\n            &lt;div class=\"btn-group\"&gt;\n              &lt;!-- Delete button --&gt;\n              &lt;a href=\"#myModal\" class=\"btn btn-danger btn-mini\" title=\"Eliminar\"&gt;\n                &lt;i class=\"icon-trash icon-white\"&gt;&lt;/i&gt;&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt; \n      {% endfor %}\n    &lt;/tbody&gt;  \n</code></pre>\n\n<p> </p>\n\n<p>I would like to have a Bootstrap modal every time user presses on the delete-button to appear and confirm he is deleting some data. Now, I have managed to make the modal appear and delete the user, but not the correct user, modal somehow its only getting, or trying to delete the first user in the list. You can check my entire template with modal in the following link: <a href=\"http://pastie.org/5145275\" rel=\"nofollow\">FULL HTML</a></p>\n\n<p>In the end, my problem is somehow related to passing the correct {{ client }} to the modal and not the first one on the list of clients, I'm supposing that happens because of the first declared modal on the for and then does not declare it anymore.</p>\n\n<p>For example, I got 3 clients in the table:</p>\n\n<pre><code>client1@something.com         detele-button\nclient2@something.com         detele-button\nclient3@something.com         detele-button\n</code></pre>\n\n<p>No matter what client delete-button I press, it always shows the modal with client1 data, and actually erases it if press confirm delete.</p>\n\n<p>Thank you.</p>\n\n<p>edit1: href was not ok.</p>\n"},{"tags":["python","zip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12886768,"title":"Simple way to unzip file in Python on all OSes?","body":"<p>I've been looking around Stack Overflow et al, and I can't seem to find what I'm looking for. Is there a simple Python function that would allow unzipping a .zip file like so?: <code>unzip(ZipSource, DestinationDirectory)</code>\nSo far, what I've found requires 20 lines of cryptic for loops. If I need to def something like that, that's fine, but I need it to act the same on Windows, Mac and Linux: always produce a file if the zip is a file, directory if the zip is a directory, and directory if the zip is multiple files; always inside, not at, the given destination directory</p>\n\n<p>Bottom line (\"real question\"): How does one unzip a file in Python?</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13224933,"title":"Return more then One field from database SQLAlchemy","body":"<p>This line:</p>\n\n<pre><code>used_emails = [row.email for row\n           in db.execute(select([halo4.c.email], halo4.c.email!=''))]\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>['first.last@domain.com', 'first.last@domain.com', 'first.last@domain.com', 'first.last@domain.com', 'first.last@domain.com']\n</code></pre>\n\n<p>I use this to find a match:</p>\n\n<pre><code>if recipient in used_emails:\n</code></pre>\n\n<p>If it finds a match I need to pull another field (halo4.c.code) from the database in the same row. Any suggestions on how to do this?</p>\n"},{"tags":["python","string","list"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":104,"score":1,"question_id":12135739,"title":"Add characters (',') every time a certain character ( , )is encountered ? Python 2.7.3","body":"<p>Let's say you had a string</p>\n\n<pre><code>test = 'wow, hello, how, are, you, doing'\n</code></pre>\n\n<p>and you wanted</p>\n\n<pre><code>full_list = ['wow','hello','how','are','you','doing']\n</code></pre>\n\n<p>i know you would start out with an empty list:</p>\n\n<pre><code>empty_list = []\n</code></pre>\n\n<p>and would create a for loop to append the items into a list</p>\n\n<p>i'm just confused on how to go about this,</p>\n\n<p>I was trying something along the lines of:</p>\n\n<pre><code>for i in test:\n    if i == ',':\n</code></pre>\n\n<p>then I get stuck . . . </p>\n"},{"tags":["python","r","google-scholar"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":86,"score":3,"question_id":13200709,"title":"Extract Google Scholar results using Python (or R)","body":"<p>I'd like to use python to scrape google scholar search results. I found two different script to do that, one is [<code>gscholar.py</code>](<a href=\"https://github.com/venthur/gscholar\" rel=\"nofollow\">link</a>) and the other is <code>scholar.py</code> (can that one be used as a python library?). </p>\n\n<p>Now, I should maybe say that I'm totally new to python, so sorry if I miss the obvious! </p>\n\n<p>The problem is when I use <code>gscholar.py</code> as explained in the README file, I get as a result </p>\n\n<p><code>query() takes at least 2 arguments (1 given)</code>. </p>\n\n<p>Even when I specify another argument (e.g. <code>gscholar.query(\"my query\", allresults=True)</code>, I get </p>\n\n<p><code>query() takes at least 2 arguments (2 given)</code>. </p>\n\n<p>This puzzles me. I also tried to specify the third possible argument (<code>outformat=4</code>; which is the BibTex format) but this gives me a list of function errors. A colleague advised me to import BeautifulSoup and <a href=\"http://code.activestate.com/recipes/523047-search-google-scholar/\" rel=\"nofollow\">this</a> before running the query, but also that doesn't change the problem. Any suggestions how to solve the problem?</p>\n\n<p>I found code for R (see <a href=\"http://www.github.com/gimoya/theBioBucket-Archives/blob/master/R/Functions/GScholarScraper_3.1.R\" rel=\"nofollow\">link</a>) as a solution but got quickly blocked by google. Maybe someone could suggest how improve that code to avoid being blocked? Any help would be appreciated! Thanks!</p>\n"},{"tags":["c++","python","parsing","clang"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13236500,"title":"How to parse single file using Python bindings to Clang?","body":"<p>I am writing simple tool to help with refactoring source code of our application. I would like to parse C++ code based on wxWidgets library which defines GUI and produce XML .ui file to use with Qt. I need to get all function calls and value of arguments. Currently I am toying with Python bindings to Clang, using the example code below I get tokens and their kind and location, but cursor kind is always CursorKind.INVALID_FILE.</p>\n\n<pre><code>import sys\nimport clang.cindex\n\ndef find_typerefs(node):\n    \"\"\" Find all references to the type named 'typename'\n    \"\"\"\n\n    for t in node.get_tokens():\n        if not node.location.file != sys.argv[1]:\n            continue\n        if t.kind.value != 0 and t.kind.value != 1 and t.kind.value != 4:\n            print t.spelling\n            print t.location\n            print t.cursor.kind\n            print t.kind\n            print \"\\n\"\n\nindex = clang.cindex.Index.create()\ntu = index.parse(sys.argv[1])\nprint 'Translation unit:', tu.spelling\nfind_typerefs(tu.cursor)\n</code></pre>\n\n<p>What is the correct way to determine cursor kind?</p>\n\n<p>I couldn't find any documentation except few blog posts, but they were outdated or not covering this topic. I was neither unable to work it out from examples that came with clang .</p>\n"},{"tags":["c#","python","dll","ctypes"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":247,"score":3,"question_id":10892567,"title":"Load DLL file and Call Functions in Python","body":"<p>I have the problem loading the DLL file and calling the functions in Python.\nI have tried a lot of tutorials, but still can't figure out how it works.\nThis is my class to export as DLL file. I use simple C# code.</p>\n\n<pre><code>namespace DemoClassLib\n{\n    public class cLib\n    {\n        public int increment(int x)\n        {\n            return x + 1;\n        }\n    }\n}\n</code></pre>\n\n<p>After building the C# code, I get the DLL file called \"DemoClassLib.dll\".\nI use ctypes to load the DLL file. Everything is okay until now.</p>\n\n<pre><code>from ctypes import *\nmyDll = WinDLL('D:\\\\Resources\\\\DemoClassLib\\\\bin\\\\Debug\\\\DemoClassLib.dll')\n</code></pre>\n\n<p>Starting from that point, I can't continue.\nAll the commands I have tried are failed.</p>\n\n<pre><code>n = c_int(1)\nmyDll.increment(n)\n</code></pre>\n\n<p>It keeps on showing me the errors.\nHow can I call the method \"increment()\" in Python?\nAnd how can I pass the input and retrieve the output from that?\nI am very new to Python.\nCan someone help me please?\nI would be very appreciated if you can provide me the source code tutorial.</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":13235994,"title":"Supporting sqlite and sqlite3","body":"<p>I have an application that needs to support Python 2.4 and 2.6.  With 2.6, sqlite3 replaces sqlite.  Is there much else I need to worry about other than <code>paramstyle</code> differences?  Is this a decent way of handling that?</p>\n\n<pre><code>try:\n    import sqlite3 as sqlite\nexcept ImportError:\n    import sqlite\n\n...\n\nif sqlite.paramstyle == 'qmark':\n    query = 'SELECT foo FROM bar where baz = ?'\nelse:\n    query = 'SELECT foo FROM bar where baz = %s'\ncursor.execute(query, params)\n</code></pre>\n"},{"tags":["python","unicode","matplotlib","ipython","ipython-notebook"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13236086,"title":"Unicode in ipython notebook","body":"<p>I'm trying to get a \"degree\" sign (°) in a matplotlib plot from ipython notebook.</p>\n\n<p>When I run</p>\n\n<pre><code>ax = plt.gca()\nax.set_xlabel(\"something at 55\" + unicode(\"\\xc2\", errors='replace'))\nax.plot([0.,1.,], [0.,1.])\n</code></pre>\n\n<p>I get a plot, but instead of the degree sign, I have a strange black square with a question mark. This also happens when I try to <code>savefig</code> the figure to PDF.</p>\n\n<p>If I try to run</p>\n\n<pre><code>ax = plt.gca()\nax.set_xlabel(\"something at 55°\")\nax.plot([0.,1.,], [0.,1.])\n</code></pre>\n\n<p>I get an error (see below).</p>\n\n<p>Any idea what I'm doing wrong? </p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n/usr/lib/python2.7/dist-packages/IPython/zmq/pylab/backend_inline.pyc in show(close)\n    100     try:\n    101         for figure_manager in Gcf.get_all_fig_managers():\n--&gt; 102             send_figure(figure_manager.canvas.figure)\n    103     finally:\n    104         show._to_draw = []\n\n/usr/lib/python2.7/dist-packages/IPython/zmq/pylab/backend_inline.pyc in send_figure(fig)\n    188     \"\"\"\n    189     fmt = InlineBackend.instance().figure_format\n--&gt; 190     data = print_figure(fig, fmt)\n    191     # print_figure will return None if there's nothing to draw:\n\n    192     if data is None:\n\n/usr/lib/python2.7/dist-packages/IPython/core/pylabtools.pyc in print_figure(fig, fmt)\n    102     try:\n    103         bytes_io = BytesIO()\n--&gt; 104         fig.canvas.print_figure(bytes_io, format=fmt, bbox_inches='tight')\n    105         data = bytes_io.getvalue()\n    106     finally:\n\n/usr/lib/pymodules/python2.7/matplotlib/backend_bases.pyc in print_figure(self, filename, dpi, facecolor, edgecolor, orientation, format, **kwargs)\n   1981                     orientation=orientation,\n   1982                     dryrun=True,\n-&gt; 1983                     **kwargs)\n   1984                 renderer = self.figure._cachedRenderer\n   1985                 bbox_inches = self.figure.get_tightbbox(renderer)\n\n/usr/lib/pymodules/python2.7/matplotlib/backends/backend_agg.pyc in print_png(self, filename_or_obj, *args, **kwargs)\n    467 \n    468     def print_png(self, filename_or_obj, *args, **kwargs):\n--&gt; 469         FigureCanvasAgg.draw(self)\n    470         renderer = self.get_renderer()\n    471         original_dpi = renderer.dpi\n\n/usr/lib/pymodules/python2.7/matplotlib/backends/backend_agg.pyc in draw(self)\n    419 \n    420         try:\n--&gt; 421             self.figure.draw(self.renderer)\n    422         finally:\n    423             RendererAgg.lock.release()\n\n/usr/lib/pymodules/python2.7/matplotlib/artist.pyc in draw_wrapper(artist, renderer, *args, **kwargs)\n     53     def draw_wrapper(artist, renderer, *args, **kwargs):\n     54         before(artist, renderer)\n---&gt; 55         draw(artist, renderer, *args, **kwargs)\n     56         after(artist, renderer)\n     57 \n\n/usr/lib/pymodules/python2.7/matplotlib/figure.pyc in draw(self, renderer)\n    896         dsu.sort(key=itemgetter(0))\n    897         for zorder, a, func, args in dsu:\n--&gt; 898             func(*args)\n    899 \n    900         renderer.close_group('figure')\n\n/usr/lib/pymodules/python2.7/matplotlib/artist.pyc in draw_wrapper(artist, renderer, *args, **kwargs)\n     53     def draw_wrapper(artist, renderer, *args, **kwargs):\n     54         before(artist, renderer)\n---&gt; 55         draw(artist, renderer, *args, **kwargs)\n     56         after(artist, renderer)\n     57 \n\n/usr/lib/pymodules/python2.7/matplotlib/axes.pyc in draw(self, renderer, inframe)\n   1995 \n   1996         for zorder, a in dsu:\n-&gt; 1997             a.draw(renderer)\n   1998 \n   1999         renderer.close_group('axes')\n\n/usr/lib/pymodules/python2.7/matplotlib/artist.pyc in draw_wrapper(artist, renderer, *args, **kwargs)\n     53     def draw_wrapper(artist, renderer, *args, **kwargs):\n     54         before(artist, renderer)\n---&gt; 55         draw(artist, renderer, *args, **kwargs)\n     56         after(artist, renderer)\n     57 \n\n/usr/lib/pymodules/python2.7/matplotlib/axis.pyc in draw(self, renderer, *args, **kwargs)\n   1052         self._update_label_position(ticklabelBoxes, ticklabelBoxes2)\n   1053 \n-&gt; 1054         self.label.draw(renderer)\n   1055 \n   1056         self._update_offset_text_position(ticklabelBoxes, ticklabelBoxes2)\n\n/usr/lib/pymodules/python2.7/matplotlib/artist.pyc in draw_wrapper(artist, renderer, *args, **kwargs)\n     53     def draw_wrapper(artist, renderer, *args, **kwargs):\n     54         before(artist, renderer)\n---&gt; 55         draw(artist, renderer, *args, **kwargs)\n     56         after(artist, renderer)\n     57 \n\n/usr/lib/pymodules/python2.7/matplotlib/text.pyc in draw(self, renderer)\n    524         renderer.open_group('text', self.get_gid())\n    525 \n--&gt; 526         bbox, info = self._get_layout(renderer)\n    527         trans = self.get_transform()\n    528 \n\n/usr/lib/pymodules/python2.7/matplotlib/text.pyc in _get_layout(self, renderer)\n    303         baseline = 0\n    304         for i, line in enumerate(lines):\n--&gt; 305             clean_line, ismath = self.is_math_text(line)\n    306             if clean_line:\n    307                 w, h, d = get_text_width_height_descent(clean_line,\n\n/usr/lib/pymodules/python2.7/matplotlib/text.pyc in is_math_text(s)\n    987             return s, 'TeX'\n    988 \n--&gt; 989         if cbook.is_math_text(s):\n    990             return s, True\n    991         else:\n\n/usr/lib/pymodules/python2.7/matplotlib/cbook.pyc in is_math_text(s)\n   1836     except UnicodeDecodeError:\n   1837         raise ValueError(\n-&gt; 1838             \"matplotlib display text must have all code points &lt; 128 or use Unicode strings\")\n   1839 \n   1840     dollar_count = s.count(r'$') - s.count(r'\\$')\n\nValueError: matplotlib display text must have all code points &lt; 128 or use Unicode strings\n</code></pre>\n"},{"tags":["python","unit-testing","dynamic"],"answer_count":3,"favorite_count":5,"up_vote_count":13,"down_vote_count":0,"view_count":2173,"score":13,"question_id":1193909,"title":"Python's unittest and dynamic creation of test cases","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/32899/how-to-generate-dynamic-parametrized-unit-tests-in-python\">How to generate dynamic (parametrized) unit tests in python?</a>  </p>\n</blockquote>\n\n\n\n<p>Is there a way to dynamically create <code>unittest</code> test cases? I have tried the following..</p>\n\n<pre><code>class test_filenames(unittest.TestCase):\n\n    def setUp(self):\n        for category, testcases in files.items():\n            for testindex, curtest in enumerate(testcases):\n                def thetest():\n                    parser = FileParser(curtest['input'])\n                    theep = parser.parse()\n                    self.assertEquals(theep.episodenumber, curtest['episodenumber'])\n\n                setattr(self, 'test_%s_%02d' % (category, testindex), thetest)\n</code></pre>\n\n<p>..which creates all the methods correctly (they show up in <code>dir()</code> and are callable), but unittest's test detector, nor <code>nosetest</code> executes them (\"Ran 0 tests in ...\")</p>\n\n<p>Since I may be asking the wrong question - what I am trying to achieve:</p>\n\n<p>I have a file containing test data, a list of input filenames, and expected data (simplified to <code>episodenumber</code> in the above code), stored in a Python dictionary. The key is the category, the value is a list of test cases, for example..</p>\n\n<pre><code>test_cases = {}\ntest_cases['example_1'] = [\n    {'input': 'test.01',\n    'episodenumber': 1},\n    {'input': 'test.02',\n    'episodenumber': 2}\n]\n\ntest_cases['example_2'] = [\n    {'input': 'another.123',\n    'episodenumber': 123},\n    {'input': 'test.e42',\n    'episodenumber': 32}\n]\n</code></pre>\n\n<p>Currently I just loop over all the data, call <code>self.assertEquals</code> on each test. The problem is, if one fails, I don't see the rest of the failures as they are also grouped into one test, which aborts when an assertion fails.</p>\n\n<p>The way around this, I thought, would be to (dynamically) create a function for each test case, perhaps there is a better way?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13206438,"title":"Google App Engine Update Issue","body":"<p>I am working on an application (python based), which is deployed on GAE, it was working fine till last day, but I can't seem to update any code on app engine since this morning, it is complaining about some sort of issue with password, I have double checked and email id and password are correct.</p>\n\n<p>here is the stack trace which I receive:</p>\n\n<pre>10:47 PM Cloning 706 static files.\n2012-11-03 22:47:07,913 WARNING appengine_rpc.py:542 ssl module not found.\nWithout the ssl module, the identity of the remote host cannot be verified, and\nconnections may NOT be secure. To fix this, please install the ssl module from\nhttp://pypi.python.org/pypi/ssl .\nTo learn more, see https://developers.google.com/appengine/kb/general#rpcssl \nPassword for user@gmail.com: 2012-11-03 22:47:07,913 ERROR appcfg.py:2266 An unexpected error occurred. Aborting. \nTraceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2208, in DoUpload\n    missing_files = self.Begin()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1934, in Begin\n    CloneFiles('/api/appversion/cloneblobs', blobs_to_clone, 'static')\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1929, in CloneFiles\n    result = self.Send(url, payload=BuildClonePostBody(chunk))\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1841, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 403, in Send\n    self._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 543, in _Authenticate\n    super(HttpRpcServer, self)._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 293, in _Authenticate\n    credentials = self.auth_function()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2758, in GetUserCredentials\n    password = self.raw_input_fn(password_prompt)\nEOFError: EOF when reading a line\n10:47 PM Rolling back the update.\n2012-11-03 22:47:08,818 WARNING appengine_rpc.py:542 ssl module not found.\nWithout the ssl module, the identity of the remote host cannot be verified, and\nconnections may NOT be secure. To fix this, please install the ssl module from\nhttp://pypi.python.org/pypi/ssl .\nTo learn more, see https://developers.google.com/appengine/kb/general#rpcssl \nPassword for user@gmail.com: Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 171, in \n    run_file(__file__, globals())\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 167, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4322, in \n    main(sys.argv)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4313, in main\n    result = AppCfgApp(argv).Run()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2599, in Run\n    self.action(self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4048, in __call__\n    return method()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3065, in Update\n    self.UpdateVersion(rpcserver, self.basepath, appyaml)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3047, in UpdateVersion\n    lambda path: self.opener(os.path.join(basepath, path), 'rb'))\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2267, in DoUpload\n    self.Rollback()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2150, in Rollback\n    self.Send('/api/appversion/rollback')\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1841, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 403, in Send\n    self._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 543, in _Authenticate\n    super(HttpRpcServer, self)._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 293, in _Authenticate\n    credentials = self.auth_function()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2758, in GetUserCredentials\n    password = self.raw_input_fn(password_prompt)\nEOFError: EOF when reading a line\n2012-11-03 22:47:09 (Process exited with code 1)\n\nYou can close this window now.</pre>\n\n<p>Any Help will be appreciated.</p>\n\n<p>P.S, I have tried from command line as well as Google app engine launcher.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","search","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13235514,"title":"Compare a searchlist to each row of csv file using Python","body":"<p>I have a list of search items:</p>\n\n<pre><code>search = (\"EPP3424\", \"EPP5423\", \"EPP4567\", Continues... )\n</code></pre>\n\n<p>I want to check each row of a csv file where each row looks like this:</p>\n\n<pre><code>(\"1206502\", \"EPP5423\", \"97334343\")\nnext row...\n</code></pre>\n\n<p>If any of the items in the search list appear in the row of the csv, add that entire row to a new list.</p>\n\n<p>Problem is I can get it to only match one results, I can't seem to get it to loop over the items correctly.     </p>\n\n<pre><code>csvFile = open(fRoot + \"\\\\SearchEPP.csv\", 'r')\ntry:\n    csvReader = csv.reader(csvFile)\n    for row in csvReader:\n        if all(s in row for s in search):\n            print \"Match\"\n            allEPP.append(row)\n        else:\n            print \"no match\"\nfinally:\n    csvFile.close()\n</code></pre>\n\n<p>Python 2.6, Windows 7</p>\n\n<p>UPDATE: </p>\n\n<p>Here's what I tried doing based on your response, still only returns one record.</p>\n\n<pre><code>f = open(fRoot + \"\\\\EPP.txt\", \"r\")\n\nsearch = list()\nfor row in f:\n    search.append(row)\n\nsearch = set(search)   \n\n#search = (\"EPP2383\", \"EPP2384\")\n\nallEPP = list()\n\ncsvFile = open(fRoot + \"\\\\SearchEPP.csv\", 'r')\ntry:\n    csvReader = csv.reader(csvFile)\n    for row in csvReader:\n        if any(r in search for r in row):\n            print \"Match\"\n            allEPP.append(row)\n        else:\n            print \".\"\nfinally:\n    csvFile.close()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":47,"score":-5,"question_id":13235850,"title":"python file testing","body":"<p>I have a task I am trying to do for a class and am very stuck. If someone could please guide me in the right direction...</p>\n\n<blockquote>\n  <p>The task:</p>\n  \n  <p>write a module containing a function to examine the contents of the\n  current working        directory and print out a count of how many\n  files have each extension (\".txt\", \".doc\", etc.)</p>\n  \n  <p>Write a separate module to verify by testing that the function gives\n  correct results.</p>\n</blockquote>\n\n<p>any help will be awesome, I have tried a couple different things using glob to get current drive, but the main issue I am having is how to actually test this...</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13235853,"title":"Check if a string is valid absolute path address format","body":"<p>I have a string which contains user input for a directory address on a linux system.  I need to check if it is properly formatted and <em>could</em> be an address in Python 2.6.  It's important to note that this is not on the current system so I can't check if it is there using os.path nor can I try to create the directories as the function will be run many times.</p>\n\n<p>These strings will always be absolute paths, so my first thought was to look for a leading slash. From there I wondered about checking if the rest of the string only contains valid characters and does not contain any double slashes.  This seems a little clunky, any other ideas?  Thanks in advance.</p>\n"},{"tags":["python","audio"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":47,"score":-3,"question_id":13234896,"title":"Modifying Sound in Python","body":"<p>Ive been trying to figure out this question, but I am a little confused.</p>\n\n<blockquote>\n  <p>Write a function <code>countValues(sound,lower,upper)</code> to count the number of sample values in the range <code>(lower,upper)</code>. If the number is 0, then print \"2The is no sample values in the range.\" Otherwise, print \"There are <strong>* sample values in this range.\" (*</strong> is the number of sample values in the range). </p>\n</blockquote>\n\n<p>If you use gettysburg10.wav, you will see the result.</p>\n\n<pre><code>&gt;&gt;&gt; countValues(sound, 1,10)\nThere are 7829 sample values in this range.\n&gt;&gt;&gt; countValues(sound, 1,100)\nThere are 49615 sample values in this range.\n&gt;&gt;&gt; countValues(sound, 10000,100000)\nThere is no sample value in this range.\n</code></pre>\n\n<p>I was not exactly sure what the upper and lower value range represents, and in what I have written so far I think mine is checking something with the indexs.  </p>\n\n<p>This is what I have so far</p>\n\n<pre><code>def countValues(sound,lower,upper):\n  for sample in range(getSampleValueAt(sound,lower), getSampleValueAt(sound,upper)):\n    print sample\n</code></pre>\n\n<p>I was just trying to get the right values to print first, then I will finish the rest of that part of the program.</p>\n\n<p>Here is the sound file -- <a href=\"http://www2.cs.uic.edu/~i101/SoundFiles/gettysburg10.wav\" rel=\"nofollow\">gettysburg10.wav</a></p>\n"},{"tags":["python","django","django-models","django-admin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":13234023,"title":"How to save many to many field?","body":"<p>I want to count tags . I have Post model and tags model and post model has manytomany field to tags. When I want to add new post meanwhile I add tags for post , it has to increase tag count number.</p>\n\n<p>My Post and Tags model:</p>\n\n<pre><code>class Post(models.Model):\n\n    tags = models.ManyToManyField(Tag,blank=True,null=True,verbose_name=_('tags'))\n\n    def save(self)\n       super(Post, self).save()\n       for i in self.tags.all():\n       i.save() \n\nclass Tag(models.Model):\n\n    name=models.CharField(max_length=30,verbose_name=_('name'))\n    count = models.IntegerField(blank=True,null=True,default=0)\n    slug = models.SlugField(blank=True,null=True)\n\n    def save(self):\n       self.slug = slugify(self.name.upper())\n       self.count = Post.objects.filter(tags__name=self.name).count()\n       super(Tag, self).save()\n</code></pre>\n\n<p>When I added new post , I look up the tag model and see count number does not change but when I press the save button in Tags Admin then I see the real count. But I want to see real count when I look up the tag admin without pressing the save button in tag.</p>\n\n<p>Also I want that when I edit the post it should not increase the tags count again.</p>\n"},{"tags":["python","function","mirror"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12807712,"title":"Python function to mirror an image vertically from R to L","body":"<p>I am trying to write a python function to mirror the right half of a picture to the left half.  So far I have this code but it works in the opposite way (it mirrors from L to R)  I know it must be a few simple changes, but I just seem to have a block now.  Any help appreciated.</p>\n\n<pre><code>def mirrorVertical(source):\n  mirrorPoint = getWidth(source) / 2\n  width = getWidth(source)\n  for y in range(0,getHeight(source)):\n    for x in range(0,mirrorPoint):\n      leftPixel = getPixel(source,x,y)\n      rightPixel = getPixel(source,width - x - 1,y)\n      color = getColor(leftPixel)\n      setColor(rightPixel,color)\n</code></pre>\n"},{"tags":["python","elementtree"],"answer_count":2,"favorite_count":1,"up_vote_count":23,"down_vote_count":0,"view_count":8887,"score":23,"question_id":222375,"title":"ElementTree XPath - Select Element based on attribute","body":"<p>I am having trouble using the attribute XPath Selector in ElementTree, which I should be able to do according to the <a href=\"http://effbot.org/zone/element-xpath.htm\" rel=\"nofollow\">Documentation</a></p>\n\n<p>Here's some sample code</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;root&gt;\n &lt;target name=\"1\"&gt;\n    &lt;a&gt;&lt;/a&gt;\n    &lt;b&gt;&lt;/b&gt;\n &lt;/target&gt;\n &lt;target name=\"2\"&gt;\n    &lt;a&gt;&lt;/a&gt;\n    &lt;b&gt;&lt;/b&gt;\n &lt;/target&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>Python</strong></p>\n\n<pre><code>def parse(document):\n    root = et.parse(document)\n    for target in root.findall(\"//target[@name='a']\"):\n        print target._children\n</code></pre>\n\n<p>I am receiving the following Exception:</p>\n\n<pre><code>expected path separator ([)\n</code></pre>\n"},{"tags":["python","emacs"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13224577,"title":"Drop-Down Autocompletion in Emacs' Python-Mode","body":"<p>I have installed python-mode and have auto-complete working with <code>M-Tab</code>, but when I execute it, the possible completions end up in my other open frame. Is there a way to get emacs to,</p>\n\n<ol>\n<li>Use a dropdown menu to show me potential completions (or a Vim-style quick-fix frame)</li>\n<li>Automatically fill in potential completions as I press <code>M-tab</code> over and over?</li>\n</ol>\n\n<p><strong>EDIT:</strong> After a bit of surfing I've realized that <a href=\"http://cx4a.org/software/auto-complete/\" rel=\"nofollow\">auto-complete</a> is the plugin I'm looking for (at least with respect to drop-down menus), but I'm still not sure how to get <code>python-mode</code>'s candidate detection into auto-complete.  I tried <code>ac-python</code>, but it seems like it was freezing emacs...</p>\n"},{"tags":["python","urllib2","urlopen"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13232203,"title":"Problems getting the page source with urlopen","body":"<p>The webplayer on this site <a href=\"http://rockantenne.de/webplayer\" rel=\"nofollow\">http://rockantenne.de/webplayer</a> has a playlist available with all the songs played so far on that day.</p>\n\n<p>When I am in <em>Firefox</em> and press Ctrl-U to see the source code of the page I can see all the songs played. However if I use <strong>urllib2.urlopen</strong> and then read() it, everything is the same except the songs are left out.</p>\n\n<p>Can anyone tell me what is the problem here?</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","python","script"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13234915,"title":"Change Iphone Photo filenames","body":"<p>Running into a much discussed issue in the Apple realm. I have 2 iPhones and the file name sequence is the same, so when I sync them to my laptop they overwrite each other or get the <code>photoname(2).jpg</code> structure. I know there isn't a way to change the actual iPhone settings but is there a script (I'm thinking python) where I can batch change the names of files when they sync to my laptop?</p>\n"},{"tags":["python","intersection","multiset"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":102,"score":1,"question_id":12253361,"title":"Python list intersection with non unique items","body":"<p>I have two strings and I would like to have the intersection on them <em>including</em> duplicate items:</p>\n\n<pre><code>str_a = \"aabbcc\"\nstr_b = \"aabd\"\n\nlist(set(str_a) &amp; set(str_b))\n&gt;&gt; \"ab\"\n</code></pre>\n\n<p>I would like to have it return:</p>\n\n<pre><code>&gt;&gt; \"aab\"\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["python","numpy","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13235187,"title":"fractional part of numpy array","body":"<p>I need to get only the fractional part of an array.\nusing numpy or simply python modf function is convenient.</p>\n\n<p>In case we big arrays of positive fractional data, that can be as big as (1000000,3) for instance, what is more convenient to do: </p>\n\n<pre><code>numpy.modf(array)[0]  \narray-numpy.trunc(array)\n</code></pre>\n\n<p>In my opinion 2 is faster and cheaper in memory usage ... but not sure. What do python and numpy experts think ?</p>\n"},{"tags":["c++","python","wrapper","cython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13064527,"title":"Cython mapping c++ data structures","body":"<p>I'm using cython to wrap my C++ class:</p>\n\n<p><code>Foo.h</code></p>\n\n<pre><code>class Foo\n{\nprivate:\n    std::map&lt;int,int &gt; myMap;\n    std::vector&lt;int&gt; myVector;\npublic:\n    // An example of internal structures initialization\n    Foo()\n    {\n        for (int i=0; i&lt;10; i++)\n        {\n             myVector.push_back(i);\n             myMap[i]=i*i;\n        }\n    }\n    std::map&lt;int,int&gt; getMyMap()\n    {\n        return myMap;\n    }\n    std::vector&lt;int&gt; getMyVector()\n    {\n        return myVector;\n    }\n}\n</code></pre>\n\n<p>I'm wondering if there is some way to get the <code>std::map</code> as python <code>dict</code> and the std::vector as python <code>list</code> without explicitly creating (and thus wasting memory) copies of such structures.</p>\n\n<p>A temptative implementation for the std::vector is the following:</p>\n\n<pre><code>cdef extern from \"Foo.h\":\n    cdef cppclass Foo:\n    Foo()\n    vector[int]  getMyVector()\n\n\ncdef class pyFoo:\ncdef Foo *thisptr      # hold a C++ instance which we're wrapping\ndef __cinit__(self):\n    self.thisptr = new Foo()\n\ndef getMyVector(self):\n    cdef vector[int] aa\n    cdef int N\n    b= []\n    aa = self.thisptr.getMyVector()\n    N=aa.size()\n    for i in range(N):\n        b.append(aa[i])\n    return b;\n</code></pre>\n\n<p>But this clearly must store two structures containing the same data. I'm wondering if there is a way to map from c++ to list with cython or should I use boost::python?</p>\n"},{"tags":["python","flask","neo4j","py2neo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13233107,"title":"using neo4J (server) from python with transaction","body":"<p>I'm currently building a web service using python / flask and would like to build my data layer on top of neo4j, since my core data structure is inherently a graph.\nI'm a bit confused by the different technologies offered by neo4j for that case. Especially : </p>\n\n<p>1/ i originally planned on using the REST Api through py2neo , but the lack of transaction is a bit of a problem.</p>\n\n<p>2/ The \"embedded database\" neo4j doesn't seem to suit my case very well. I guess it's useful when you're working with batch and one-time analytics, and don't need to store the database on a different server from the web server.</p>\n\n<p>3/ I've stumbled upon the neo4django project, but i'm not sure this one offers transaction support (since there are no native client to neo4j for python), and if it would be a problem to use it outside django itself. In fact, after having looked at the project's documentation, i feel like it has exactly the same limitations, aka no transaction (but then, how can you build a real-world service when you can corrupt your model upon a single connection timeout ?). I don't even understand what is the use for that project.</p>\n\n<p>Could anyone could recommend anything ? I feel completely stuck.</p>\n\n<p>Thanks</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13234792,"title":"python's function-attributes: getting a list/dict of all assigned attributes","body":"<p>Out of pure curiosity: Is there an easy way (not more then two lines of code) to access the dictionary/list of assigned attributes of a function (from within that function)?</p>\n\n<p>e.g.:</p>\n\n<pre><code>def func(*args):\n    print(\"# of arguments = {0} \".format(len(args)))       # normal arguments\n    print(\"# of attributes = {0}\".format(len(func_attrs))) # function-attributes\n\nfunc()\n\nfunc.func_attr_1 = 'How do i get all attributes from within the associated function?'\nfunc.func_attr_2 = 'How do i get all attributes from within the associated function?'\n</code></pre>\n\n<p>Since functions are callable objects it's possible to provide them with attributes, but\nthere doesn't seem to bee a way to access a list of these attributes in an easy way.</p>\n\n<p><code>locals()</code> and <code>globals()</code> weren't helpful.\n<code>dir()</code> seems to do the trick, BUT you have to filter your attributes. Thats's somewhat inconvenient if you don't know the attribute-name in advance.</p>\n\n<p>If i can assign an attribute there must .. should be a way to access their directory from within.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>i totaly forgot to actually call/invoke = instantiate the function before trying to access the attributes. ... my bad! - sry and thx for the answers ;-)</p>\n\n<p>naturally i tried <code>func.__dict__</code> and <code>dir(func)</code>, but just didn't instantiate the function-object before doing so ... and in my original test i initially defined a attribute from within the function, then didn't call the function, but tried to access the function-attribute from the outer-scope - which naturally failed! </p>\n"},{"tags":["python","pickle"],"answer_count":8,"favorite_count":11,"up_vote_count":12,"down_vote_count":0,"view_count":12079,"score":12,"question_id":890485,"title":"Python: How do I write a list to file and then pull it back into memory (dict represented as a string convert to dict) later?","body":"<p>More specific dupe of <a href=\"http://stackoverflow.com/questions/875228/simple-data-storing-in-python\">875228—Simple data storing in Python</a>.</p>\n\n<p>I have a rather large dict (6 GB) and I need to do some processing on it.  I'm trying out several document clustering methods, so I need to have the whole thing in memory at once.  I have other functions to run on this data, but the contents will not change.</p>\n\n<p>Currently, every time I think of new functions I have to write them, and then re-generate the dict.  I'm looking for a way to write this dict to a file, so that I can load it into memory instead of recalculating all it's values.</p>\n\n<p>to oversimplify things it looks something like:\n    {((('word','list'),(1,2),(1,3)),(...)):0.0, ....}</p>\n\n<p>I feel that python must have a better way than me looping around through some string looking for : and ( trying to parse it into a dictionary.</p>\n"},{"tags":["php","python","ruby","jvm","scalability"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":9,"view_count":105,"score":-9,"question_id":13234946,"title":"Why All JVM languages are highly salable than other","body":"<p>I always heard that the JVM languages you can scale it as you want, and when people talk about performance the JVM languages come on top (scala, or even native java) rather than Ruby,PHP and python (am not sure regarding python maybe you can scale as you want).</p>\n\n<p>I think Native java code is faster than scala and other JVM language but scala become popular cause they combine(functional and Object Oriented) </p>\n"},{"tags":["python","string"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":105,"score":-2,"question_id":13234463,"title":"Basic python string","body":"<p>We just started working with string in my CSCI class, but I'm confused with a recent assignment.  </p>\n\n<blockquote>\n  <p>You are given a long string: </p>\n</blockquote>\n\n<pre><code>\"\"\"Justin$Calculus$90$Java$85$Python88$\nTaylor$Calculus$73$Java$95$Python86$\nDrew$Calculus$80$Java$75$Python94$\n\"\"\"\n</code></pre>\n\n<blockquote>\n  <p>The string has three lines. It contains three students’ scores of\n  three courses. Write a function <code>findScore(student, subject)</code>. When\n  you call the function such as <code>findScore(‘Drew’,’Java’)</code>, the function\n  prints <code>“Drew got 75 of the course Java.”</code> </p>\n  \n  <p>In addition to the function <code>findScore(student, subject)</code>, you can\n  write other functions. All the functions are inside one program.</p>\n</blockquote>\n\n<p>I would assume that I need to assign this string to a variable, but do I use one variable, or one for each line?</p>\n\n<p>Any ideas of a start would be greatly appreciated. I'm new to python so bear with me. Also, what is the significance of the <code>$</code> signs? </p>\n"},{"tags":["c#","python","linux","mono","serial-port"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13206524,"title":"Error with high baud rates using SerialPort on Mono Linux","body":"<p>I have to communicate in Mono with a device through FTDI RS485 connector (which has usual comport software interface) on 1000000 baud rate. OS - Linux (Ubuntu... Mint13 to be particular), mono 2.10.2.</p>\n\n<p>First I run simple python test program on Linux:</p>\n\n<pre><code> &gt;&gt; import serial\n &gt;&gt; ser = serial.Serial(\"/dev/ttyUSB0\",1000000, timeout=0.5)\n &gt;&gt; ser.write(\":DCS3FF8;\")   # Some message to the device with crc\n &gt;&gt; ser.readall()\n ':CDS P0 M0 E0 L1 S07B3B;'  #This is the correct response from the device\n\n &gt;&gt; print ser\n Serial&lt;id=0x2ce71d0, open=True&gt;(port='/dev/ttyUSB0', baudrate=1000000, bytesize=8, parity='N', stopbits=1, timeout=0.5, xonxoff=False, rtscts=False, dsrdtr=False)\n</code></pre>\n\n<p>The device responds correctly. Everything works fine. This shows that everything is running fine on Linux.</p>\n\n<p>Then I exit python and try to use Mono with code:</p>\n\n<pre><code>     var serialPort = new SerialPort();\n     serialPort.PortName = \"/dev/ttyUSB0\";\n     serialPort.BaudRate = 1000000;\n\n     serialPort.Open();\n     serialPort.Write(\":DCS3FF8;\");\n     Thread.Sleep(150);\n     Console.WriteLine(\"BytesToRead: '{0}'\", serialPort.BytesToRead);\n     Console.WriteLine(\"Existing   : '{0}'\", serialPort.ReadExisting());\n</code></pre>\n\n<p>Compile and run it with command:</p>\n\n<pre><code>     dmcs serial_try.cs &amp;&amp; mono serial_try.exe\n</code></pre>\n\n<p>And get TimeoutException,  serialPort.BytesToRead is 0. At the same time I see that the connector is flashing with both lights (something is transferring). </p>\n\n<p>When I run <strong>the same code on .NET on Windows</strong>, it <strong>successfully communicates</strong> with the device and receive the same message as with python. </p>\n\n<p>So what is the catch with SerialPort on mono? Do I miss some setting or configuration? </p>\n"},{"tags":["python","activemq","stomp"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":917,"score":3,"question_id":6234630,"title":"activemq how to configure to work with stomp in python","body":"<p>I have activemq installed and running locally, but when I run the following script, I get an error:  </p>\n\n<pre><code>\n#!/usr/bin/env python\n\nimport time\nimport sys\nimport stomp\n\nclass MyListener(object):\n    def on_error(self, headers, message):\n        print 'received an error %s' % message\n    def on_message(self, headers, message):\n        print 'received a message %s' % message\n\nconn = stomp.Connection(host_and_ports=[('localhost', 61616)])\nconn.set_listener('', MyListener())\nconn.start()\nconn.connect()\nconn.subscribe(destination='/home/bitcycle/svn/cass/queue.test', ack='auto')\nconn.send('Test', destination='/home/bitcycle/svn/cass/queue.test')\ntime.sleep(2)\nconn.disconnect()\n</code></pre>\n\n<p>error:</p>\n\n<p>./proc.py </p>\n\n<pre><code>\nNo handlers could be found for logger \"stomp.py\"\nTraceback (most recent call last):\n  File \"./proc.py\", line 20, in \n    conn.disconnect()\n  File \"/usr/local/lib/python2.7/dist-packages/stomp.py-3.0.3-py2.7.egg/stomp/connect.py\", line 387, in disconnect\n    self.__send_frame_helper('DISCONNECT', '', utils.merge_headers([self.__connect_headers, headers, keyword_headers]), [ ])\n  File \"/usr/local/lib/python2.7/dist-packages/stomp.py-3.0.3-py2.7.egg/stomp/connect.py\", line 453, in __send_frame_helper\n    self.__send_frame(command, headers, payload)\n  File \"/usr/local/lib/python2.7/dist-packages/stomp.py-3.0.3-py2.7.egg/stomp/connect.py\", line 489, in __send_frame\n    raise exception.NotConnectedException()\nstomp.exception.NotConnectedException\n</code></pre>\n\n<p>Can someone help me to understand what i need to do to get this to work?  I would like to use activemq for inter-process communication.</p>\n"},{"tags":["python","encoding","ascii"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":326,"score":0,"question_id":7456758,"title":"How to find a non-ascii byte in my code?","body":"<p>While making my App Engine app I suddenly ran into an error which shows every couple of requests:</p>\n\n<pre><code>    run_wsgi_app(application)\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/util.py\", line 98, in run_wsgi_app\n    run_bare_wsgi_app(add_wsgi_middleware(application))\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/util.py\", line 118, in run_bare_wsgi_app\n    for data in result:\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/appstats/recording.py\", line 897, in appstats_wsgi_wrapper\n    result = app(environ, appstats_start_response)\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/_webapp25.py\", line 717, in __call__\n    handler.handle_exception(e, self.__debug)\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/_webapp25.py\", line 463, in handle_exception\n    self.error(500)\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/_webapp25.py\", line 436, in error\n    self.response.clear()\n  File \"/home/ubuntu/Programs/google/google_appengine/google/appengine/ext/webapp/_webapp25.py\", line 288, in clear\n    self.out.seek(0)\n  File \"/usr/lib/python2.7/StringIO.py\", line 106, in seek\n    self.buf += ''.join(self.buflist)\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xd7 in position 208: ordinal not in range(128)\n</code></pre>\n\n<p>I really have no idea where this could be, it only happens when I use a specific function but it's impossible to track all string I have.\nIt's possible this byte is a character like <code>' \" [ ]</code> etc, but only in another language</p>\n\n<p>How can I find this byte and possibly other ones?</p>\n\n<p>I am running GAE with python 2.7 in ubuntu 11.04</p>\n\n<p>Thanks.</p>\n\n<p><strong>*updated*</strong></p>\n\n<p>This is the code I ended up using:\n    from codecs import BOM_UTF8\n    from os import listdir, path\n    p = \"path\"</p>\n\n<pre><code>def loopPath(p, times=0):\n    for fname in listdir(p):\n        filePath = path.join(p, fname)\n        if path.isdir(filePath):\n            return loopPath(filePath, times+1)\n\n        if fname.split('.', 1)[1] != 'py': continue\n\n        f = open(filePath, 'r')\n        ln = 0\n        for line in f:\n            #print line[:3] == BOM_UTF8\n            if not ln and line[:3] == BOM_UTF8:\n                line = line[4:]\n            col = 0\n            for c in list(line):\n                if ord(c) &gt; 128:\n                    raise Exception('Found \"'+line[c]+'\" line %d column %d in %s' % (ln+1, col, filePath))\n                col += 1\n            ln += 1\n        f.close()\n\nloopPath(p)\n</code></pre>\n"},{"tags":["python","unicode","python-2.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13233436,"title":"How to concatenate multiple unicode string?","body":"<p>I have two unicode string <code>'가'</code> and <code>'ㄱ'</code> and I want to concatenate them to get <code>\"가ㄱ\"</code></p>\n\n<p>This is my code:</p>\n\n<pre><code>output1 = unicodeQueue(self.queue) # first unicode result\noutput2 = unicodeQueue(self.bufferQueue) # second unicode result\nsequence = [output1, output2]\nprint sequence\noutput = ''.join(sequence)\nreturn output\n</code></pre>\n\n<p>And this is the output I'm getting:</p>\n\n<pre><code>[u'\\uac00', u'\\u3131']\nㄱ가가ㄱ가\n</code></pre>\n\n<p>I don't know why it doesn't produce correct result, can anyone help me with this?</p>\n"},{"tags":["python","oracle","cx-oracle"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13234196,"title":"\"error: cannot locate an Oracle software installation\" When trying to install cx_Oracle","body":"<p>Newbie here trying to use python to do some database analysis.  I keep getting the error:\n\"error: cannot locate an Oracle software installation\"  When installing CX_oracle (via easy_install).</p>\n\n<p>The problem is I do not have oracle on my local machine, I'm trying to use python to connect to the main oracle server. I have have setup another program to do this(visualdb) and I had a .jar file I used as the driver but I'm not sure how to use it in this case.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["python","orm","sqlalchemy","metadata"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13234137,"title":"Get the relationship metadata from sqlalchemy","body":"<p>I have a very simple User class definition:</p>\n\n<pre><code>class User(Base):\n    implements(interfaces.IUser)\n    __tablename__ = 'users'\n    #Fields description\n    id = Column(Integer, primary_key=True)\n\n    client_id = Column(Integer, ForeignKey('w2_client.id'))\n    client = relationship(\"Client\", backref=backref('users', order_by=id))\n</code></pre>\n\n<p>I want to generate automatically a GUI to edit the object User (and other type of class). So I need to get all the meta data of the table, for example, I can do:</p>\n\n<pre><code>    for c in User.__table__.columns:\n        print c.name, c.type, c.nullable, c.primary_key, c.foreign_keys\n</code></pre>\n\n<p>But I can not get any information about the relationship \"client\", the c.foreign_keys just shows me the table related to the foreign_keys but not the attribute \"client\" I've defined.\nPlease let me know if my question is not clear</p>\n"},{"tags":["python","youtube","history","gdata"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13233487,"title":"watch History feed gdata python","body":"<p>I'm trying to get history feed from YouTube of an authenticated user with python. \nThis is my code :</p>\n\n<pre><code>yt_service = gdata.youtube.service.YouTubeService()\ndef LogIn():\n  login_name = raw_input('Email:')\n  login_pass = getpass.getpass()\n  try:\n    yt_service.email = login_name\n    yt_service.password = login_pass\n    yt_service.ProgrammaticLogin()\n  except:\n    print 'False username or password. Unable to authenticate.'\n    exit();\n\ndef GetHistoryFeed():\n  uri = 'https://gdata.youtube.com/feeds/api/users/default/watch_history?v=2'\n  feed = yt_service.GetYouTubeVideoFeed(uri)\n  #PrintVideoFeed(yt_service.GetYouTubeVideoFeed(uri),'history')\n\nLogIn()\n\nGetHistoryFeed() \n</code></pre>\n\n<p>and it says gdata.service.RequestError: {'status': 400, 'body': 'Invalid request URI', 'reason': 'Bad Request'} . I know I have to make a authenticated Get request , but i don't know how. What am I doing wrong ? </p>\n"},{"tags":["python","python-2.7","memoization"],"answer_count":3,"favorite_count":3,"up_vote_count":9,"down_vote_count":0,"view_count":166,"score":9,"question_id":11815873,"title":"memoization library for python 2.7","body":"<p>I see that python 3.2 has memoization as a decorator in functools library. \n<a href=\"http://docs.python.org/py3k/library/functools.html#functools.lru_cache\">http://docs.python.org/py3k/library/functools.html#functools.lru_cache</a></p>\n\n<p>Unfortunately it is not yet backported to 2.7. Is there any specific reason as why it is not available in 2.7? Is there any 3rd party library providing the same feature or should I write my own? </p>\n"},{"tags":["python","optimization","code-efficiency"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":13232936,"title":"Python combinations of 2 lists","body":"<p>What is the <code>pythonic</code> way to calculated all the product combinations of two lists. So given two lists of length <code>n</code> I'd liked to return a list of length <code>2^n</code> containing the products. </p>\n\n<p>Like <code>list(itertools.product(on,off))</code> but the results should use all four elements not only combination pairs like:</p>\n\n<pre><code>[(1.05, 5.53), (1.05, 3.12), (1.05, 3.75), (1.05, 4.75), (1.5, 5.53), (1.5, 3.12), (1.5, 3.75), (1.5, 4.75), (2.1, 5.53), (2.1, 3.12), (2.1, 3.75), (2.1, 4.75), (1.7, 5.53), (1.7, 3.12), (1.7, 3.75), (1.7, 4.75)]\n</code></pre>\n\n<p>So more like this:</p>\n\n<pre><code>off = [5.53,3.12,3.75,4.75]\non = [1.05,1.5,2.1,1.7]\n\n# calculate combinations\nx = combinations(on,off)\n\n# Where... \n# x[0] = off[0] * off[1] * off[2] * off[3] i.e\n# x[0] = 5.53 * 3.12 * 3.75 * 4.75\n#\n# x[1] = off[0] * off[1] * off[2] * on[3] i.e\n# x[1] = 5.53 * 3.12 * 3.75 * 1.7\n#\n# x[2] = off[0] * off[1] * on[2] * on[3] i.e\n# x[2] = 5.53 * 3.12 * 2.1 * 1.7\n#\n# ...\n#\n# x[15] = on[0] * on[1] * on[2] * on[3] i.e\n# x[15] = 1.05 * 1.5 * 2.1 * 1.7\n</code></pre>\n\n<p>The output can be similar to the <code>itertools.product()</code> method <em>i.e</em> <code>[(5.53, 3.12, 3.75, 4.75),(5.53, 3.12, 3.75, 1.7), ...]</code>  I need to calculate the product but I'm interesting in the combination method. </p>\n\n<p><em>Note:</em> When I say <code>pythonic</code> way of doing this I mean a simple one or two lines taking advantage of pythons structures, libraries <em>(itertools ect)</em>. </p>\n"},{"tags":["python","project-euler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":60,"score":-2,"question_id":13232721,"title":"Is there any better solution for projecteuler 15?","body":"<p>my code is like this which work too long for rows and cols > 15, is there any better solutions ? \nProblem link: <a href=\"https://projecteuler.net/problem=15\" rel=\"nofollow\">https://projecteuler.net/problem=15</a></p>\n\n<pre><code>#!/usr/bin/env python\nrows = 3\ncols = 3\nstart_row = 0\nstart_col = 0\ncount = 0\n\ndef trace(row, col):\n    if row == rows and col == cols:\n        global count\n        count += 1\n        return \n    if col + 1 &lt;= cols:\n        # print row, col\n        trace(row, col + 1)\n\n    if row + 1 &lt;= rows:\n        # print row, col\n        trace(row + 1, col)\n\ntrace(start_row, start_col)\nprint count\n</code></pre>\n"},{"tags":["python","string","list","quotes"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13227313,"title":"Python convert a long string to a list without single quotes","body":"<p>I have a long string that I want store it as a list. But it always has single quotes at the beginning and the end. How to remove them? Thanks.</p>\n\n<p>Samples</p>\n\n<pre><code>&gt;&gt;&gt; string\n&gt;&gt;&gt; '\"2012-11-05\", \"filename\", 1, 2, 3, 4, 5, 6, 7, 0.11, 0.22, 0.33'\n&gt;&gt;&gt; string.split(\"'\")\n&gt;&gt;&gt; ['\"2012-11-05\", \"filename\", 1, 2, 3, 4, 5, 6, 7, 0.11, 0.22, 0.33']\n</code></pre>\n\n<p>Question is how can I get result like this below without single quotes?</p>\n\n<pre><code>&gt;&gt;&gt; [\"2012-11-05\", \"filename\", 1, 2, 3, 4, 5, 6, 7, 0.11, 0.22, 0.33]\n</code></pre>\n"},{"tags":["python","import"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13233931,"title":"Python: Disabling relative import","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1900189/how-to-access-a-standard-library-module-in-python-when-there-is-a-local-module-w\">How to access a standard-library module in Python when there is a local module with the same name?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm using Python 2.6.</p>\n\n<p>I only use absolute imports in my application. Now I have this:</p>\n\n<pre><code>myapp \n  |\n   -- myscript \n   -- json\n        |\n         -- anotherscript.py\n</code></pre>\n\n<p>In myscript, I have:</p>\n\n<pre><code>import json\nimport myapp.json.anotherscript\n</code></pre>\n\n<p>Because of Python relative import mechanism, import json does not import the built-in library as I want, but my custom json package into current namespace. </p>\n\n<p>Is there a way to disable relative imports in Python or at least a hack to avoid it in this case? Otherwise, i'll have to rename my package to something else that does not make so much sense as jsonutils.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","matplotlib"],"answer_count":4,"favorite_count":26,"up_vote_count":19,"down_vote_count":0,"view_count":14519,"score":19,"question_id":2369492,"title":"Generate a heatmap in MatPlotLib using a scatter data set","body":"<p>I have a set of X,Y data points (about 10k) that are easy to plot as a scatter plot but that I would like to represent as a heatmap.</p>\n\n<p>I looked through the examples in MatPlotLib and they all seem to already start with heatmap cell values to generate the image.</p>\n\n<p>Is there a method that converts a bunch of x,y, all different, to a heatmap (where zones with higher frequency of x,y would be \"warmer\")?</p>\n"},{"tags":["python","csv","data"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13222933,"title":"Parsing through CSV using DictReader in Python","body":"<p>I have a large CSV file with many columns, something like this:</p>\n\n<pre><code>id, col1, col2, col3, col4, col5\n1, a, b, 2, d, e\n2, b, c, 4, e, f\n3, c, d, 6, f, g\n</code></pre>\n\n<p>I want to be able to create a dictionary in which only certain columns are used. For example, the dictionary would have the id number, col2, and col3. Additionally, it should only store the rows that have the highest 10 numbers in col2. This is the code I have:</p>\n\n<pre><code>import csv \nreader = csv.DictReader(open('SNPs.csv', newline=''), delimiter=',', quotechar='\"')\n</code></pre>\n\n<p>But I do not know how to tell it to ignore certain columns, and I don't think that I can use max() to return multiple values.</p>\n\n<pre><code>max(2, 4) returns 4. \n</code></pre>\n\n<p><strong>EDIT</strong>\nI tried using Daniel's Code, but for some reason the sort function isn't working correctly. (I also need to use reverse sort instead of sort). It only outputs four different keys, and additionally, they aren't actually sorted in descending numerical order. It also returns the headers as one of the values. </p>\n\n<pre><code>import csv\nf = open('SNPs.csv', \"rU\")\nreader = csv.reader(f)\noutput = [row for row in reader]\noutput.sort(key=lambda x: x[32], reverse=True)\nprint dict((row[10], (row[11], row[8], row[32])) for row in output[:10])\n</code></pre>\n"},{"tags":["python","currying","with-statement"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13210785,"title":"Currying using python with-statement?","body":"<p>I am not sure if this is 'good python practice', but would it be possible to, say, define a custom File-object that could do something like:</p>\n\n<pre><code>myfile = myopen('myfile.txt')\nwith myfile:\n    write('Hello World!') #notice we don't put \"myfile.write(..)\" here!\n</code></pre>\n\n<p>i.e the File-context creates a <i>function</i> \"write()\" so that we don't have to type myfile.write(..) etc. It saves typing and makes the purpose clearer in some cases. For instance:</p>\n\n<pre><code>myboard = ChessBoard()\nwith ChessBoard():\n    make_move(\"e4\")\n    make_move(\"e5\")\n    give_up()\n</code></pre>\n\n<p>as opposed to</p>\n\n<pre><code>myboard = ChessBoard()\nwith ChessBoard():\n    make_move(\"e4\",board=myboard)\n    make_move(\"e5\",board=myboard)\n    give_up(board=myboard)\n</code></pre>\n\n<p>The question is: should I do this? and HOW can I do it? I am guessing I would have to modify the globals()-dict somehow, but that seems like a bad idea..</p>\n\n<p>EDIT: Ok thanks! I got multiple good answers advising me not to do this. So I won't do it :o)</p>\n"},{"tags":["android","python","sl4a"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":8666245,"title":"Displaying different characters instead of special characters","body":"<p>I am new to sl4a. My problem is that when I type following characters (special characters except <code>@</code>) from keyboard in python interpreter in android emulator, it displays the unexpected characters.</p>\n\n<p>When I type <code>shift+1(!)</code> it displays <code>^[0P</code> and following:</p>\n\n<pre><code>shift+3(#) =&gt; ^[0R\nshift+4($) =&gt; ^[0S\nshift+5(%) =&gt; ^[[15~\nshift+6(^) =&gt; ^[[17~\nshift+7(&amp;) =&gt; ^[[18~\nshift+8(*) =&gt; ^[[19~\nshift+9[(] =&gt; ^[[20~\nshift+0()) =&gt; ^[[21~ \n</code></pre>\n\n<p>Why the interpreter is displaying the unexpected characters (as mentioned above)?\nPlease help me to get rid of the problem.</p>\n"},{"tags":["python","numpy","fft"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1195,"score":1,"question_id":5398304,"title":"Fourier transform of a Gaussian is not a Gaussian, but thats wrong! - Python","body":"<p>I am trying to utilize Numpy's fft function, however when I give the function a simple gausian function the fft of that gausian function is not a gausian, its close but its halved so that each half is at either end of the x axis.</p>\n\n<p>The Gaussian function I'm calculating is \ny = exp(-x^2)</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from cmath import *\nfrom numpy import multiply\nfrom numpy.fft import fft\nfrom pylab import plot, show\n\n\"\"\" Basically the standard range() function but with float support \"\"\"\ndef frange (min_value, max_value, step):\n    value = float(min_value)\n    array = []\n    while value &lt; float(max_value):\n        array.append(value)\n        value += float(step)\n    return array\n\n\nN = 256.0 # number of steps\ny = []\nx = frange(-5, 5, 10/N)\n\n# fill array y with values of the Gaussian function   \ncache = -multiply(x, x)\nfor i in cache: y.append(exp(i))\n\nY = fft(y)\n\n# plot the fft of the gausian function\nplot(x, abs(Y))\nshow()\n</code></pre>\n\n<p>The result is not quite right, cause the FFT of a Gaussian function should be a Gaussian function itself...</p>\n"},{"tags":["android","python","twitter","sl4a","tweepy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":10938261,"title":"How to use tweepy module with sl4a and py4a?","body":"<p>I am trying to build a twitter client written in python using tweepy and make it run on sl4a (using py4a) on Android. But i seem to fail to import tweepy module in my main script. The script does not run. Please tell me the correct way to use tweepy in sl4a because copy-pasting the tweepy directory in sl4a's scripts directory does not work.</p>\n"},{"tags":["python","arrays","numpy"],"answer_count":4,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":1390,"score":10,"question_id":5891410,"title":"numpy array initialization (fill with identical values)","body":"<p>I need to create a numpy array of length <code>n</code>, each element of which is <code>v</code>.</p>\n\n<p>Is there anything better than:</p>\n\n<pre><code>a = empty(n)\nfor i in range(n):\n    a[i] = v\n</code></pre>\n\n<p>I know <code>zeros</code> and <code>ones</code> would work for v = 0, 1. I could use <code>v * ones(n)</code>, but it won't work when <code>v</code> is <code>None</code>, and also would be much slower.</p>\n"},{"tags":["python","multiprocessing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13233112,"title":"Multiprocessing in Python: impossible to get back my results (get()) (happens rarely)","body":"<p>I use Multiprocessing in Python in order to do several requests to a database (and other stuff):</p>\n\n<pre><code>po = multiprocessing.Pool()\nfor element in setOfElements:\n    results.append(po.apply_async(myDBRequestModule, (element, other stuff...)))                    \npo.close()\npo.join()\nfor r in results:\n    newSet.add(r.get())\n</code></pre>\n\n<p>myDBRequestModule returns an object I defined, made of a list and two numbers. I redefined the hash function, in order to define what I mean by equality in my sets of these objects:</p>\n\n<pre><code>class myObject:\n    def __init__(self, aList, aNumber, anotherNumber):\n        self.list = aList\n        self.number1 = aNumber\n        self.number2 = anotherNumber\n    def __hash__(self):\n        # turn elements of list into a string, in order to hash the string\n        hash_text = \"\"\n        for element in self.list:\n            hash_text += str(element.x.id) # I use the ID of the element of my list...\n        return hash(hash_text)\n    def __eq__(self, other):\n        self_hash_text = \"\"\n        other_hash_text = \"\"\n        for element in self.list:\n            self_hash_text += str(element.x.id)\n        for element in other.listDest:\n            other_hash_text += str(element.x.id)\n        return self_hash_text == other_hash_text \n</code></pre>\n\n<p>And in most cases it works as it should. Twice, for no known reason and in exactly the same context, I had a bug:</p>\n\n<pre><code>newSet.add(r.get())\nFile \"/usr/lib/python2.6/multiprocessing/pool.py\", line 422, in get\n    raise self._value\nTypeError: 'str' object does not support item assignment\n</code></pre>\n\n<p>It comes from the get method (last line):</p>\n\n<pre><code>def get(self, timeout=None):\n    self.wait(timeout)\n    if not self._ready:\n        raise TimeoutError\n    if self._success:\n        return self._value\n    else:\n        raise self._value\n</code></pre>\n\n<p>Since I had this mistake only once and it disappeared, I decided to give up earlier, but it created a second problem recently, and I really don't know how to fight this bug.\nIn particular, it's difficult for me to tell why it happens almost never, and usually works perfectly fine.</p>\n"},{"tags":["python","serial-port","hex","pyserial"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":275,"score":4,"question_id":11763295,"title":"Sending Command Parameters to Serial Port using Python","body":"<p>I am using python's pySerial library to communicate to a machine (lunar photometer if you must know). The machine has built in scenarios that I can call by sending specific hex values corresponding to those scenarios via a com/serial port. For example, the following code works fine for the \"Park secnario\" in the machine.</p>\n\n<pre><code>s.write('\\x11') #s is my serial object, '\\x11' is the command for the park senario\ns.write('\\x12') #'\\x12' is the command for the TrackSun scenario\n</code></pre>\n\n<p>The above code works as intended and the machine responds to these commands. However, there is a bult in Goto scenario which is activated by the command '\\x02'. My problem is that the goto command takes horizontal and vertical angles as parameters as well in this format GoTo where xxxx and yyyy are the two angles. How do i pass in those parameters in my s.write() command. I have tried:\n    s.write('\\x02 xxxx yyyy')\nwhich does not seem to work. Am i doing something wrong with passing the parameters? The command works fine when i use hyperterminal (in hex mode) with the following code:</p>\n\n<pre><code>8/1/2012 11:37:36.048 [TX] - 02 30 34 3B 30 3F 3A 3D 3B 03 \n8/1/2012 11:37:51.166 [RX] - 01 \n</code></pre>\n\n<p>EDIT:\nHere is an example of the 'Park Scenario' command sent using hyperterminal, just in case.</p>\n\n<pre><code>8/1/2012 12:14:56.649 [TX] - 11 \n8/1/2012 12:15:07.962 [RX] - 01 \n</code></pre>\n"},{"tags":["python","fork"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12867359,"title":"execution of instructions in a child process","body":"<p>I want to exit from a child process when the execution of <code>os.system(comm)</code> will be done.</p>\n\n<p>My code is:</p>\n\n<pre><code>pid = os.fork()\nif pid == 0: \n         #instruction\nelse:\n         comm = \"python file.py\"\n         os.system(comm)\n         sys.exit(\"error\")\n</code></pre>\n\n<p>Now, my file <code>file.py</code> contains a loop, and I can get out from it only if the condition is satisfied. But, even when the condition is not satisfied, the program exits from the loop and displays the message <em><code>error</code></em>. </p>\n\n<p>Also it doesn't execute the rest of instructions in <code>file.py</code>.</p>\n\n<p><code>file.py</code> is :</p>\n\n<pre><code>while 1:\n       if(condition):\n           break\n# rest of instructions\n</code></pre>\n"},{"tags":["python","numpy","row","iteration","column"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":76,"score":0,"question_id":13213872,"title":"Row Order in Python and abstraction to a Cartesian plane","body":"<p>How to translate the coordinate system of a 2D Cartesian plane (x,y) to a matrix with indexes a[i,j]?</p>\n\n<p>Say you have to simulate heat conduction in a 2D plane using the Finite Difference method. You're given the boundaries of the system as a point in the lower left, <code>pos_inf</code>, and a point in the upper right, <code>pos_sup</code>.</p>\n\n<p>The results form a surface map, where the index a[i,j] stores the value of the temperature of that point, and have to be stored in a matrix with indexes <code>i</code>, <code>j</code>, as <code>a[i,j]</code>. With the same spacing h for the both directions, how should the discretization be done, and how does the row-ordering that Python follows interferes with that?</p>\n"},{"tags":["python","file"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1431,"score":4,"question_id":1432126,"title":"how to get content of a small ascii file in python?","body":"<p>Let's say we want to implement an equivalent of the PHP's <a href=\"http://fr2.php.net/manual/en/function.file-get-contents.php\" rel=\"nofollow\"><code>file_get_content</code></a>.</p>\n\n<p>What is the best practice? (elegant and reliable)</p>\n\n<p>Here are some proposition, are they correct?</p>\n\n<p>using <code>with</code> statement:</p>\n\n<pre><code>def file_get_contents(filename):\n    with file(filename) as f:\n        s = f.read()\n    return s\n</code></pre>\n\n<p>is using standard <code>open()</code> safe?</p>\n\n<pre><code>def file_get_contents(filename):\n    return open(filename).read()\n</code></pre>\n\n<p>What happens to file descriptor in either solution?</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":27,"score":1,"question_id":13233453,"title":"Detecting a thermal printer on Android Tablet and printing","body":"<p>I have an Andoid tablet which is not under Google Play Store recoginized category i.e. its model number is not the one which we can access the APK's and install them. I have to manually install the packages by downloading them from net. This device has the thermal printer attached on it. I tried to access it through Python but failed to do so as I am not able to detect the printer nor to check on which port it is so that I can give prints from it. The device is not showing any print option for files like .txt ot pdf's. Any help is appreciated.</p>\n\n<p>Following is the code snippet of Python I tried to access the printer but did not worked...</p>\n\n<pre><code>class ThermalPrinter(object):\n    BAUDRATE = 19200\n    TIMEOUT = 3\n    SERIALPORT = '/dev/ttyO2'\n    # pixels with more color value (average for multiple channels) are counted as white\n    # tweak this if your images appear too black or too white\n    black_threshold = 48\n    # pixels with less alpha than this are counted as white\n    alpha_threshold = 127\n\n    printer = None\n\n    _ESC = chr(27) \n\n if __name__ == '__main__':\n    import sys, os\n\n    if len(sys.argv) == 2:\n        serialport = sys.argv[1]\n    else:\n        serialport = ThermalPrinter.SERIALPORT\n\n\n    if not os.path.exists(serialport):\n        sys.exit(\"ERROR: Serial port not found at: %s\" % serialport)\n\n    print \"Testing printer on port %s\" % serialport\n    p = ThermalPrinter(serialport=serialport)\n    p.print_text(\"\\nHello maailma. How's it going?\\n\")\n    p.print_text(\"Part of this \")\n\n\n     import Image, ImageDraw    \n    i = Image.open(\"a.png\")\n    data = list(i.getdata())\n    w, h = i.size\n    p.print_bitmap(data, w, h, True)\n    p.linefeed()\n</code></pre>\n"},{"tags":["python","soap","wsdl","soappy","zsi"],"answer_count":4,"favorite_count":12,"up_vote_count":8,"down_vote_count":0,"view_count":11591,"score":8,"question_id":273002,"title":"Generating a WSDL using Python and SOAPpy","body":"<p>First of all, I will admit I am a novice to web services, although I'm familiar with HTML and basic web stuff.  I created a quick-and-dirty web service using Python that calls a stored procedure in a MySQL database, that simply returns a BIGINT value.  I want to return this value in the web service, and I want to generate a WSDL that I can give our web developers. I might add that the stored procedure only returns one value.</p>\n\n<p>Here's some example code:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport SOAPpy\nimport MySQLdb\n\ndef getNEXTVAL():\n    cursor = db.cursor()\n    cursor.execute( \"CALL my_stored_procedure()\" )  # Returns a number\n    result=cursor.fetchall()\n\n    for record in result:\n        return record[0]\n\ndb=MySQLdb.connect(host=\"localhost\", user=\"myuser\", passwd=\"********\", db=\"testing\")\nserver = SOAPpy.SOAPServer((\"10.1.22.29\", 8080))\nserver.registerFunction(getNEXTVAL)\nserver.serve_forever()\n</code></pre>\n\n<p>I want to generate a WSDL that I can give to the web folks, and I'm wondering if it's possible to have SOAPpy just generate one for me.  Is this possible?</p>\n"},{"tags":["python","environment-variables","virtualenv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13231007,"title":"How to set a environment variable with virtualenv?","body":"<p>I'm trying to set up an external program / lib written in python - on debian squeeze.</p>\n\n<p>The error I get when I try to launch it that the \"environment variable is not set\" - it's an exception throw by the developer. So I guess, I have to define it, but where ?</p>\n\n<ol>\n<li>I've thought virtualenv and path were the same, so I've written a .pth loaded at the launch. It solved some mistake but not all.</li>\n<li>I've read use export in <code>~/.bashrc</code> but I'm not sure it is read in a virtualenv, and I don't want those export be read even when I don't use this virtualenv. </li>\n<li>I've read too to use export in <code>virtualenv/bin/activate</code>, but it doesn't seem to work correctly.</li>\n</ol>\n\n<p>I'm trying to install <a href=\"http://www.urbansim.org/Download/LinuxInstallation\" rel=\"nofollow\">Opus and Urbansim</a>.</p>\n\n<p>Here is what I get when launching:</p>\n\n<pre><code>(opus-env)touki@touki:~/Projects/opus-env$ ./src/opus_gui/opus.py  \nTraceback (most recent call last):\n  File \"./src/opus_gui/opus.py\", line 14, in &lt;module&gt;\n    from opus_gui.main.controllers.opus_gui_configuration import OpusGuiConfiguration  \n  File \"/home/touki/Projects/opus-test/src/opus_gui/main/controllers/opus_gui_configuration.py\", line 12, in &lt;module&gt;\n    from opus_core import paths  \n  File \"/home/touki/Projects/opus-test/src/opus_core/paths.py\", line 44, in &lt;module&gt;\n    OPUS_HOME = _safe_getenv('OPUS_HOME', _get_default_opus_home)  \n  File \"/home/touki/Projects/opus-test/src/opus_core/paths.py\", line 33, in _safe_getenv\n    return os.environ[key] if key in os.environ else default_func()  \n  File \"/home/touki/Projects/opus-test/src/opus_core/paths.py\", line 36, in _get_default_opus_home  \n    raise Exception('OPUS_HOME environment variable must be set.') \nException: OPUS_HOME environment variable must be set.\n</code></pre>\n\n<p>Any ideas ?</p>\n\n<p>Thanks in advance</p>\n\n<p>NB.: I've searched, autoenv combine virtualenvwrapper seems to provide an answer, but I would prefer not use external programs.</p>\n"},{"tags":["python","math"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13226038,"title":"calculating angle between two lines in python","body":"<p>I am trying to calculate the angle between two lines in python.\nI searched the internet and found the equation on how to do it. But I don't always get accurate result. Some of the results are clearly false when other seems correct.\nMy code is given below:</p>\n\n<pre><code>def angle(pt1,pt2):\n    m1 = (pt1.getY() - pt1.getY())/1\n    m2 = (pt2.getY() - pt1.getY())/(pt2.getX()-pt1.getX())\n\n    tnAngle = (m1-m2)/(1+(m1*m2))\n    return math.atan(tnAngle)\n\ndef calculate(pt,ls):\n    i=2\n    for x in ls:\n        pt2 = point(x,i)\n        i=i+1\n        ang = angle(pt,pt2)*180/math.pi\n        ang = ang * (-1)\n        print ang\n\n\npt = point(3,1)\nls = [1,7,0,4,9,6,150]\n\ncalculate(pt,ls)\n</code></pre>\n\n<p>the result it produces is :</p>\n\n<p>45.0\n0.0\n45.0\n-75.9637565321\n0.0\n-63.4349488229\n0.0</p>\n\n<p>The problem is that I don't understand why the second result, fifth and the last one are zeroed they intersect since they share a point and the other point in not duplicated since the value in the array is different.</p>\n\n<p>Thanks in advance for any help.</p>\n\n<hr>\n\n<p>thanks for all your comment it was very helpfull</p>\n"},{"tags":["python","directory-structure","temporary-directory"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13233048,"title":"How can I check if a directory is a temporary directory in Python","body":"<p>I know how to create a temporary directory in Python using <code>tempfile</code>.</p>\n\n<p>I have though a class that encapsulates the user environment. I have also a Unit test which creates a temporary dummy user environment and populates it with some files that are used for testing. After this is done I want to clean everything up, thus removing everything from that dummy user directory (using <code>shutils.rmtree</code>)</p>\n\n<p>I have a dummy class wrapping the original one that prevents it from getting the real user directory and returns the dummy instead. Though I'm afraid somebody might forget this and perhaps change it or completely remove the wrapper class. This might work and the developer will end up loosing everything from his/her home directory. Though this might teach him/her a good lesson, it is not acceptable.</p>\n\n<p>I can check that '/tmp/' is at the path start of the user home, so that I know it's safe to delete, but that won't work with windows. As tempfile already knows how to create a directory it would be also able to tell if a directory is in the <em>temporal</em> area.\nThough I can't find out how to do it.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","wxpython","cx-freeze","shelve"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13164245,"title":"Python and Freeze Application with shelve.py","body":"<p>I am trying to freeze an application that involves the use of the shelve module.  To freeze it, I am using the GUI2EXE python code and utilizing the cx_freeze portion (everything works great if i remove the shelve part).  </p>\n\n<p>When I go to run my compiled application, it complains of</p>\n\n<pre><code>File \"anydbm.pyc\", line 62, in ?\nImportError: no dbm clone found; tried ['dbhash', 'gdbm', 'dbm',\n'dumbdbm']\n</code></pre>\n\n<p>I have searched around for answers.  Most of them said to add this to the script:</p>\n\n<pre><code>for i in ['dbhash', 'gdbm', 'dbm', 'dumbdbm']:\n    try: eval('import '+i)\n    except: pass\n</code></pre>\n\n<p>But, this didn't do anything for me.  If i include the dbhash module i then get errors related to no bsddb module exists.  I cannot seem to figure this problem out.  Did i implement the above incorrectly?  Am i missing something?</p>\n\n<p>PS, I need to use cx_freeze -- the others (py2exe, pyinstaller) do not work well with the other portions of my program.  Also, i really would like to use shelve  -- like i said, it compiles and works fine without it.  </p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Per Mike's request, I have attached the setup script.  Yes, I have tried to include the modules (not shown) but it doesn't work.  I have even included anydbm and dbhash in my main script.  This doesn't seem to work either.  </p>\n\n<p>Also, if you know of a better way to store my variables/lists/dicts/etc than shelve, I would love to know.  I tried ZODB (didn't build well either).  Currently, i did find pdict (with PersistentDict) and this works well when I freeze the application.  However, I find shelve to be faster.  Would like to get shelve working if possible...</p>\n\n<p>My setup script:</p>\n\n<pre><code>from cx_Freeze import setup, Executable\n\nincludes = []\nexcludes = ['_gtkagg', '_tkagg', 'bsddb', 'curses', 'email', 'pywin.debugger',\n            'pywin.debugger.dbgcon', 'pywin.dialogs', 'tcl',\n            'Tkconstants', 'Tkinter']\npackages = []\npath = []\n\nfor i in ['dbhash', 'gdbm', 'dbm', 'dumbdbm']:\n    try: \n        eval('import '+i)\n    except: \n        pass\n\n\nGUI2Exe_Target_1 = Executable(\n    # what to build\n    script = \"myscript.py\",\n    initScript = None,\n    base = 'Win32GUI',\n    targetDir = r\"dist\",\n    targetName = \"myscript.exe\",\n    compress = True,\n    copyDependentFiles = False,\n    appendScriptToExe = False,\n    appendScriptToLibrary = False,\n    icon = None\n    )\n\nsetup(\n\n    version = \"0.1\",\n    description = \"No Description\",\n    author = \"No Author\",\n    name = \"cx_Freeze Sample File\",\n\n    options = {\"build_exe\": {\"includes\": includes,\n                             \"excludes\": excludes,\n                             \"packages\": packages,\n                             \"path\": path\n                             }\n               },\n\n    executables = [GUI2Exe_Target_1]\n    )\n</code></pre>\n"},{"tags":["python","google-app-engine","logging"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13206295,"title":"logging.fileConfig() acting weird on Google app engine","body":"<p>I have a simple webapp2 app on Google app engine. Here is the code</p>\n\n<pre><code># log.py.........................................................................\nlogging_defaults = {\n    'loglevel': 'DEBUG',\n}\nlogging_config = \"\"\"\\\n[loggers]\nkeys=root\n\n[handlers]\nkeys=stderr\n\n[formatters]\nkeys=default\n\n[logger_root]\nlevel=%(loglevel)s\nhandlers=stderr\n\n[handler_stderr]\nclass=StreamHandler\nlevel=NOTSET\nformatter=default\nargs=(sys.stderr, )\n\n[formatter_default]\nformat=%(asctime)s %(levelname)s %(name)s:%(lineno)d %(message)s\ndatefmt=\n\"\"\"\n\nimport logging\nimport logging.config\nimport logging.handlers\nfrom cStringIO import StringIO\nconfig_file = StringIO(logging_config)\nlogging.config.fileConfig(config_file, logging_defaults)\nl = logging.getLogger(__name__)\n\n# helloworld.py......................................................\n\nimport webapp2\nfrom log import l\n\nclass MainPage(webapp2.RequestHandler):\n  def get(self):\n      l.debug('debug message')\n      l.info('info message')\n      l.warn('warn message')\n      l.error('error message')\n      l.critical('critical message')\n      self.response.headers['Content-Type'] = 'text/plain'\n      self.response.write(\"hello me!! It's me here ;)\")\n\napp = webapp2.WSGIApplication([('/', MainPage)],\n                              debug=True)\n</code></pre>\n\n<p>And here is the screen-shot of the logs produced in app engine dashboard</p>\n\n<p><img src=\"http://i.stack.imgur.com/4SAnh.png\" alt=\"log-screenshot\"></p>\n\n<p>As you can see the logs show up fine, but every log is marked with 'E' which represents error even if it's not an error. And as far as I can tell this happens everytime I use</p>\n\n<pre><code>logging.config.fileConfig()\n</code></pre>\n\n<p>Is there a fix to this problem ?</p>\n\n<p>PS: I know there are other methods to configure logging. But I am asking for fileConfig() only.</p>\n\n<p>UPDATE: I tried using loading from a real file with fileConfig() and using dictConfig() but each time the problem persists.</p>\n"},{"tags":["python","gtk","pygtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13150763,"title":"Collapse empty gtk.CellRenderer","body":"<p>I have a <code>gtk.TreeViewColumn</code> that contains 14 <code>gtk.CellRendererPixbuf</code> attributes. Most of them are empty most of the time (the assiciated <code>TreeStore</code> value is <code>None</code>).</p>\n\n<p>These icons always appear spaced as though they were all present, however I would like empty cell renderers to collapse, stacking the icons which are there on the left.</p>\n\n<p>This is how it currently appears:</p>\n\n<p><img src=\"http://i.stack.imgur.com/3LZX1.png\" alt=\"enter image description here\"></p>\n\n<p>The missing icons are associated with <code>None</code>. </p>\n\n<p>I have looked through the <code>TreeViewColumn</code> and <code>CellRenderer</code> documentation but I am stumped.</p>\n"},{"tags":["python","argparse"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13232913,"title":"Forcing argparse to take everything as one input","body":"<p>Is there any way to make <code>argparse</code> pass several arguments as one? That is, I would like</p>\n\n<pre><code>foo bar baz\n</code></pre>\n\n<p>to make <code>argparse</code> pass </p>\n\n<pre><code>\"bar baz\"\n</code></pre>\n\n<p>as the argument.</p>\n"},{"tags":["python","import","module","package"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13232935,"title":"Module and package with same name","body":"<p>Can I have a package and a module with the same name in Python?</p>\n\n<p>ex:</p>\n\n<pre><code>import json\nimport myapp.json.jsoncustommodule\n</code></pre>\n\n<p>I don't know if this has anything to do with the fact that json is in Python built-in library.</p>\n\n<p>In most languages, this is acceptable. However, Python seems to confuse both things, even if they are in different parent packages.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12298351,"title":"Running a continuous Python process and memory management","body":"<p>I am new to Python.My current assignment is to run a python program continuously,it is going to be a cron job kind of thing, internally it will have objects which is going to be updated every 24hrs and then basically write the details in a file. </p>\n\n<p>Some advice required about the memory management</p>\n\n<p>1) Should I use single process or multi threaded.As there is a scope in the program which can be done parallel.As it is going to run continuously some clarification would be required about the memory consumption of these threads also do I need to cleanup the resources of the threads after each execution.Is there any clean up method available for threads in python.</p>\n\n<p>2) When I do a object allocation in Python , do I need to think about the destructor as well or Python will do the gc.</p>\n\n<p>Please let me know the thoughts on this and what would be the best approach.\nThanks in advance.</p>\n"},{"tags":["python","osx"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13231895,"title":"Python on OS X: Getting local date time patterns","body":"<p>Has anyone managed to use locale on OS X to derive a default local date and time format ? (I need to parse simple dates and times in a variety of locales).</p>\n\n<p>For the moment, I am resorting to osascript …</p>\n\n<pre><code>from subprocess import Popen, PIPE\n\ncmd = \"osascript -e \" + \"\"\"'\n    tell (current date)\n        set {its year, its month, its day} to {2001, 2, 3}\n        set {its hours, its minutes, its seconds} to {4, 5, 6}\n        return its short date string &amp; tab &amp; its time string\n    end tell'\"\"\"\n\nstr_date, err_num = Popen(cmd, shell=True, \\\n    stdin=PIPE, stdout=PIPE, stderr=PIPE).communicate()\n\nstr_date, _, str_time = str_date.rpartition('   ')\nstr_date_pattern = str_date.replace('2001', '%Y').replace('02', '%m').replace('03','%d')\nstr_time_pattern = str_time.replace('04', '%H').replace('05', '%M').replace('06', '%S').rstrip()\n</code></pre>\n\n<p>which returns something like:</p>\n\n<pre><code>'%d/%m/%Y', '%H:%M:%S'\n</code></pre>\n"},{"tags":["python","class","methods","composition","cython"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":380,"score":3,"question_id":5331016,"title":"Using self-defined Cython code from other Cython code","body":"<p>I am currently trying to optimize my Python program and got started with Cython in order to reduce the function calling overhead and perhaps later on include optimized C-libraries functions.</p>\n\n<p>So I ran into the first problem:</p>\n\n<p>I am using composition in my code to create a larger class. So far I have gotten one of my Python classes converted to Cython (which was difficult enough). Here's the code:</p>\n\n<pre><code>import numpy as np\ncimport numpy as np\nctypedef np.float64_t dtype_t\nctypedef np.complex128_t cplxtype_t\nctypedef Py_ssize_t index_t\n\ncdef class bendingForcesClass(object):\n    cdef dtype_t bendingRigidity\n    cdef np.ndarray matrixPrefactor\n    cdef np.ndarray bendingForces\n\n    def __init__(self, dtype_t bendingRigidity, np.ndarray[dtype_t, ndim=2] waveNumbersNorm):\n        self.bendingRigidity = bendingRigidity\n        self.matrixPrefactor = -self.bendingRigidity * waveNumbersNorm ** 2\n\n    cpdef np.ndarray calculate(self, np.ndarray membraneHeight):\n        cdef np.ndarray bendingForces\n        bendingForces = self.matrixPrefactor * membraneHeight\n        return bendingForces\n</code></pre>\n\n<p>From my composed Python/Cython class I am calling the class-method <code>calculate</code>, so that in my composed class I have the following (reduced) code:</p>\n\n<pre><code>from bendingForcesClass import bendingForcesClass\n\ncdef class membraneClass(object):\n    def  __init__(self, systemSideLength, lowerCutoffLength, bendingRigidity):\n        self.bendingForces = bendingForcesClass(bendingRigidity, self.waveNumbers.norm)\n\n    def calculateForces(self, heightR):\n        return self.bendingForces.calculate(heightR)\n</code></pre>\n\n<p>I have found out that <code>cpdef</code> makes the method/functions callable from Python and Cython, which is great and works, as long as I don't try to define the type of <code>self.bendingForces</code> beforehand - which according to <a href=\"http://wiki.cython.org/EarlyBindingForSpeed\" rel=\"nofollow\">http://wiki.cython.org/EarlyBindingForSpeed</a> is necessary in order to remove the function-calling overhead. I have tried the following, which does not work:</p>\n\n<pre><code>from bendingForcesClass import bendingForcesClass\nfrom bendingForcesClass cimport bendingForcesClass\n\n    cdef class membraneClass(object):\n        cdef bendingForcesClass bendingForces\n\n        def  __init__(self, systemSideLength, lowerCutoffLength, bendingRigidity):\n            self.bendingForces = bendingForcesClass(bendingRigidity, self.waveNumbers.norm)\n\n        def calculateForces(self, heightR):\n            return self.bendingForces.calculate(heightR)\n</code></pre>\n\n<p>With this I get this error, when trying to build <code>membraneClass.pyx</code> with Cython:</p>\n\n<pre><code>membraneClass.pyx:18:6: 'bendingForcesClass' is not a type identifier\nbuilding 'membraneClass' extension\n</code></pre>\n\n<p>Note that the declarations are in two separate files, which makes this more difficult.</p>\n\n<p>So I how do I get this done? I would be very thankful if someone could give me a pointer, as I can't find any information about this, besides the link given above.</p>\n\n<p>Thanks and best regards!</p>\n"},{"tags":["python","csv","sheet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":28,"score":0,"question_id":13232604,"title":"how to read data from multiple sheets in a single csv file using python","body":"<p>I am using python and i had a csv file with data in multiple sheets.</p>\n\n<p>So we can read data from csv file using python as below</p>\n\n<p>Suppose the data in <code>data.csv</code> file in <code>sheet1</code> is below</p>\n\n<pre><code>what    |   are   |  you   | doing | however\nhello   |   that  |  would |   be  | useful\n\ncsv_file = \"/home/user/csv_folder/data.csv\" \n\nfor line in open(csv_file,'r'):\n    print line\n    ..........\n    ..........\n</code></pre>\n\n<p>The output for the above will be as below</p>\n\n<pre><code>\"what are you doing however\"\n\"hello that would be useful\"\n</code></pre>\n\n<p>but in the same <code>data.csv</code> file, i had data in another <code>sheet2</code> as below</p>\n\n<pre><code>This    |   will   |  be   |   second  | sheet | data\nThat    |   would  |  lot  |   useful  | now\n</code></pre>\n\n<p>Now what i am trying to do is to print the data which is present in another <code>sheets</code>(more than 1 sheets if present in a single csv file).</p>\n\n<p>Can anyone let me now how we can print the data in all the sheets present in a single <code>csv</code> file ?</p>\n\n<p>Can anyone please share a bit of python code that process more than one sheet present in a single csv file ?</p>\n"},{"tags":["javascript","python","html","redis","flask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13232830,"title":"redis doesn't send data to client browser","body":"<p>I'm following the example at <a href=\"http://blog.comsysto.com/2012/07/10/real-time-twitter-heat-map-with-mongodb/#comment-1043\" rel=\"nofollow\">http://blog.comsysto.com/2012/07/10/real-time-twitter-heat-map-with-mongodb/#comment-1043</a> and the program doesn't seem to be sending any data from the redis db to the client in order to visualise the tweets. This is the python program that run the server:</p>\n\n<pre><code>#!/bin/env python\n# encoding: utf-8\n\n\"\"\"\nWebservice prototype for exposing cell data via\nHTTP and JSON/JSONP\n\"\"\"\n\n\nDB = 'tstream'\nCELLS_COLLECTION = 'tweets'\n\n\nimport json\nimport time\nimport math\nimport redis\nimport threading\nimport signal\nimport sys\nfrom flask import Flask\nfrom flask import request\nfrom flask import abort\nfrom flask import url_for\nfrom flask import make_response\nfrom flask import Response\nfrom pymongo import Connection\nfrom bson import json_util\nfrom threading import Thread\n\n\nred = redis.StrictRedis()\n\ndef signal_handler(signal, frame):\n    print 'You pressed Ctrl+C!'\n    sys.exit(0)\n\ndef tail_mongo_thread():\n    print \"beginning to tail...\"\n    db = Connection().tstream\n    coll = db.tweets_tail\n    cursor = coll.find({\"coordinates.type\" : \"Point\" }, {\"coordinates\"     :1},tailable=True,timeout=False)\n    ci=0\n    while cursor.alive:\n        try:\n            doc = cursor.next()\n            ci += 1\n            red.publish('chat', u'%s' % json.dumps(doc,default=json_util.default))\n        except StopIteration:\n            pass\n\ndef event_stream():\n    pubsub = red.pubsub()\n    pubsub.subscribe('chat')\n    i=0\n    for message in pubsub.listen():\n        i+=1\n        print i\n        yield 'data: %s\\n\\n' % message['data']\n\napp = Flask(__name__)\n@app.route('/tweets')\ndef tweets():\n\n    url_for('static', filename='map.html')\n    url_for('static', filename='jquery-1.7.2.min.js')\n    url_for('static', filename='jquery.eventsource.js')\n    url_for('static', filename='jquery-1.7.2.js')\n     return Response(event_stream(), headers={'Content-Type':'text/event-stream'})\n\ndef runThread():\n    st = Thread( target = tail_mongo_thread )\n    st.start()\n\n\nif __name__ == '__main__':\n    signal.signal(signal.SIGINT, signal_handler)\n    app.before_first_request(runThread)\n    app.run(debug=True, host='0.0.0.0') \n</code></pre>\n\n<p>The html page is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;script type=\"text/javascript\" src=\"https://maps.googleapis.com/maps/api     /js?sensor=false&amp;libraries=visualization\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery-1.7.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery.eventsource.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"heatmap.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"heatmap-gmaps.js\"&gt;&lt;/script&gt;\n\n\n\n&lt;script type=\"text/javascript\"&gt;\n  var map, pointarray, heatmap;\n  var taxiData = [\n    new google.maps.LatLng(37.782551, -122.445368)\n  ];\n\n\n\n  function initialize() {\n       var heatOptions = {\n\"radius\": 30,\n\"element\": \"map_canvas\",\n\"visible\": true,\n\"opacity\": 60,\n\"gradient\": { 0.45: \"rgb(0,0,255)\", 0.55: \"rgb(0,255,255)\", 0.65: \"rgb(0,255,0)\", 0.95: \"yellow\", 1.0: \"rgb(255,0,0)\" }\n  };\n\n\n\n  var myOptions = {\n      zoom: 2,\n      center: new google.maps.LatLng(37.774546, -122.433523),\n      mapTypeId: google.maps.MapTypeId.ROADMAP};\n\n    map = new google.maps.Map(document.getElementById(\"map_canvas\"),myOptions);\n    heatmap = new HeatmapOverlay(map, heatOptions);\n    google.maps.event.addListener(map, \"idle\", function(){\n    //heatmap.setDataSet(testData);\n    });\n\n     $.eventsource({\n        label: \"json-event-source\",\n        url: \"http://localhost:5000/tweets?callback=loomit\",\n        dataType: \"json\",\n      open: function() {\n\n        console.log( \"opened\" );\n\n    },\n    message: function( data ) {\n\n        console.log( data.coordinates.coordinates );\n        heatmap.addDataPoint(data.coordinates.coordinates[1], data.coordinates.coordinates[0]);\n\n    },\n     // $.eventsource(\"close\", \"json-event-source\");\n\n\n  }\n\n  )};\n\n\n&lt;/script&gt;\n\n\n\n &lt;body onload=\"initialize()\"&gt;\n    &lt;div id=\"result\"&gt;&lt;/div&gt;\n    &lt;div id=\"map_canvas\" style=\"height: 600px; width: 800px;\"&gt;&lt;/div&gt;\n    &lt;button onclick=\"toggleHeatmap()\"&gt;Toggle Heatmap&lt;/button&gt;\n    &lt;button onclick=\"changeGradient()\"&gt;Change gradient&lt;/button&gt;\n    &lt;button onclick=\"changeRadius()\"&gt;Change radius&lt;/button&gt;\n    &lt;button onclick=\"changeOpacity()\"&gt;Change opacity&lt;/button&gt;\n  &lt;/body&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It apparently works, so I'm confused when I try to run it nothing is sent to the client.</p>\n\n<p>Thanks</p>\n"}]}
{"total":142322,"page":14,"pagesize":100,"questions":[{"tags":["python","thread-safety"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13232670,"title":"Thread Safety in File I/O","body":"<p>I have a class which contains methods for read and write data into a file. It also has methods for opening and closing the file. How can I make the read and write operations thread safe in Python? i.e. if a write operation is under progress, it should block all other threads until it has finished the operation.</p>\n"},{"tags":["python","list"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":85,"score":4,"question_id":13214798,"title":"Is there a str.join() for lists?","body":"<p>I understand <code>str.join()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; '|'.join(['1','2','3'])\n'1|2|3'\n</code></pre>\n\n<p>Is there something which outputs a list? Is there a function that will output:</p>\n\n<pre><code>['1', '|', '2','|', '3']\n</code></pre>\n\n<p>That is, a <code>str.join()</code> for lists? (or any other iterable?)</p>\n"},{"tags":["python","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13232555,"title":"Debug Executed Sql in Python","body":"<p>I am executing some sql in python as follows </p>\n\n<pre><code>statement = \"select * from TEST_TABLE\"\ndebug(\"Statement: %s\" % (statement, ))\ncursor = gblDBConnection.cursor()\ncursor.execute(statement)\n</code></pre>\n\n<p>I can debug the statement using a debug function I have written but would also like to debug the actual values returned ie after sql execution.</p>\n\n<p>Is there a way of doing this?</p>\n"},{"tags":["python","excel","win32com","office-2013"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13121529,"title":"Python Makepy with Office 2013 (office 15)","body":"<p>I'm using python and excel with office 2010 and have no problems there.\nI used python's makepy module in order to bind to the txcel com objects.</p>\n\n<p>However, on a different computer I've installed office 2013 and when I launched makepy no excel option was listed (as opposed to office 2010 where 'Microsoft Excel 14.0 Object Library' is listed by makepy).</p>\n\n<p>I've searched for 'Microsoft Excel 15.0 Object Library' in the registry and it is there.\nI tried to use : <code>makepy -d 'Microsoft Excel 15.0 Object Library'</code> \nbut that didn't work.</p>\n\n<p>Help will be much appreciated.\nThanks.</p>\n"},{"tags":["python","windows","screenshot","pil","rounded-corners"],"answer_count":1,"favorite_count":1,"up_vote_count":15,"down_vote_count":0,"view_count":746,"score":15,"question_id":5999007,"title":"Active window screenshot with Python PIL and windows API: how to deal with rounded corners?","body":"<p>For <a href=\"http://code.google.com/p/quickscreenshots\" rel=\"nofollow\">this project</a>, I'm taking screenshots with the Windows API (to deal with multi-screens) and convert it to a PIL image; then I add a shadow around the window if wanted.</p>\n\n<p>My problem is, the screenshot is actually of the window's rectangle; meaning I capture the background behind it around rounded-corners and I don't want that. I googled quite a bit and found docs and tuts around transparency, and I'm guessing I should find a way to get the shape of the window in order to make it a mask that I would apply to the (rectangle) image i've got. But I found noway to get that mask. Could any one help?</p>\n\n<p>Below is my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>hwnd = win32gui.GetForegroundWindow()\n\nl, t, r, b = win32gui.GetWindowRect(hwnd)\nw = r - l\nh = b - t\n\nhwndDC = win32gui.GetWindowDC(hwnd)\nmfcDC  = win32ui.CreateDCFromHandle(hwndDC)\nsaveDC = mfcDC.CreateCompatibleDC()\n\nsaveBitMap = win32ui.CreateBitmap()\nsaveBitMap.CreateCompatibleBitmap(mfcDC, w, h)\nsaveDC.SelectObject(saveBitMap)\n\nsaveDC.BitBlt((0, 0), (w, h),  mfcDC,  (0, 0),  win32con.SRCCOPY)\n\n#add cursor\nif showcursor:\n    curFlags, curH, (curX, curY) = win32gui.GetCursorInfo()\n    saveDC.DrawIcon((curX, curY), curH)\n\n#load into PIL image\n\"\"\"http://stackoverflow.com/questions/4199497/image-frombuffer-with-16-bit-image-data\"\"\"\nbmpinfo = saveBitMap.GetInfo()\nbmpstr = saveBitMap.GetBitmapBits(True)\nim = Image.frombuffer(\n    'RGB',\n    (bmpinfo['bmWidth'], bmpinfo['bmHeight']),\n    bmpstr, 'raw', 'BGRX', 0, 1)\n\nwin32gui.DeleteObject(saveBitMap.GetHandle())\nsaveDC.DeleteDC()\nmfcDC.DeleteDC()\nwin32gui.ReleaseDC(hwnd, hwndDC)\n\nreturn im\n</code></pre>\n\n<p>Below is a slightly magnified screenshot of a window above a blue background:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4ZUIE.jpg\" width=\"508\" height=\"108\"></p>\n\n<p>As you can see there are blue corners that shouldn't be there.</p>\n"},{"tags":["python","math"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":268,"score":7,"question_id":9775731,"title":"Clamping floating numbers in Python?","body":"<p>Is there a built-in function for this in Python 2.6?</p>\n\n<p>Something like:</p>\n\n<pre><code>clamp(myValue, min, max)\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":68,"score":-3,"question_id":13232145,"title":"Python ; Go back to a line if condition = false","body":"<p>In my Title I mean that :</p>\n\n<pre><code>    myCellar = [\"doritos\", \"chips\", \"chocolates\", \"\"]\n    productsInDemand = input(\"Write a product : \")\n\n   for supply in myCellar :\n      if productsInDemand == supply:\n         print(\"This product we have : '\",productsInDemand ,\"'\")\n         break\n   else:\n      print(\"This product we have not : '\",productsInDemand ,\"'\")\n      (go back to the line 1)\n</code></pre>\n\n<p>If I will write a product that does not excist in 'mycellar' then the program will go back to the first line to write again a product .</p>\n"},{"tags":["python","neural-network","pybrain"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13231644,"title":"how to give input to a trained and tested PyBrain network and how to get the result","body":"<p>I am predicting a value, I have 2 input layer and an output layer. Here is my code in which I have trained a PyBrain network and then tested it, I am missing how should I give a set of input to the network and how do I get the result. Please help me to proceed forward.</p>\n\n<pre><code> ds = SupervisedDataSet(2,1)\n tf = open('data.csv','r')\n for line in tf.readlines():\n data = [float(x) for x in line.strip().split(',') if x != '']\n indata =  tuple(data[:2])\n outdata = tuple(data[2:])\n ds.addSample(indata,outdata)\n\n n = buildNetwork(ds.indim,8,8,ds.outdim,recurrent=True)\n t = BackpropTrainer(n,learningrate=0.01,momentum=0.5,verbose=True)\n t.trainOnDataset(ds,1000)\n t.testOnData(verbose=True)\n</code></pre>\n\n<p>what I should do next to give an input and predict on the input, How do I get the result for that set of input. Thanks!!</p>\n"},{"tags":["python","linux","append"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":200,"score":1,"question_id":7561663,"title":"Appending to the end of a file in a concurrent environment","body":"<p>What steps need to be taken to ensure that \"full\" lines are <strong>always</strong> correctly appended to the end of a file if multiple of the following (example) program are running concurrently.</p>\n\n<pre><code>#!/usr/bin/env python\nimport random\npasswd_text=open(\"passwd.txt\",\"a+\")\nu=(\"jsmith:x:1001:1000:Joe Smith,Room 1007,(234)555-8917,(234)555-0077,jsmith@rosettacode.org:/home/jsmith:/bin/sh\",\n  \"jdoe:x:1002:1000:Jane Doe,Room 1004,(234)555-8914,(234)555-0044,jdoe@rosettacode.org:/home/jdoe:/bin/sh\",\n  \"xyz:x:1003:1000:X Yz,Room 1003,(234)555-8913,(234)555-0033,xyz@rosettacode.org:/home/xyz:/bin/sh\")\nfor i in range(random.randint(1,2)):\n  print &gt;&gt; passwd_text, random.choice(u)\npasswd_text.close()\n</code></pre>\n\n<p>And: Can an \"all or nothing\" append be guaranteed (on linux/unix) even if the the disk becomes full, or \"ulimit -f\" has been set?</p>\n\n<p>(Note similar question: <a href=\"http://stackoverflow.com/questions/4706499/how-do-you-append-to-file-in-python\">How do you append to file in python?</a>)</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13232093,"title":"How to find and get the text from html file using python?","body":"<p>Hi i have used this tag to find the content of tag from html file.</p>\n\n<pre><code>def everything_between(text,begin,end):\n    idx1=content.find(begin)\n    idx2=content.find(end,idx1)\n    return content[idx1+len(begin):idx2].strip()\n\ncontent=open('page.html').read()\ntitle=everything_between(content,'&lt;ul class=\"members\"&gt;','&lt;/ul&gt;')\ninteresting=everything_between(content,'INTERESTING:','bodystuff')\nprint(title)\n</code></pre>\n\n<p>but in tag <code>&lt;ul class=\"member\"&gt;</code> there are multiple <code>&lt;ahref&gt;</code> tags,\ni want to get the content between <code>&lt;a href&gt;</code> that has   <code>&lt;a href=\"/history/member/\"&gt;</code></p>\n\n<p>the script should get the values between <code>&lt;a href=\"/history/member/\"&gt;&lt;/a&gt;</code>.</p>\n\n<p>how can i do this?</p>\n"},{"tags":["python","stock"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13216848,"title":"How to live stream stock price using python","body":"<p>At first I want to find some API, but I have searched on the internet and didn't find anything \n really helpful.</p>\n\n<p>\"Real time\" I mean live stream the stock price on a webpage without a refresh.</p>\n\n<p>If there is not such API, would my following method be a good way to implement this?\n1. Python side, call yahoo finance api to get the most recent price.\n2. Browser side, use ajax to constantly call server side to get the price and display the price. More specifically, I am thinking to use setInterval in jquery to achieve this.</p>\n\n<p>How does this approach look?</p>\n\n<p>Actually this is not specific to stock price data, any website that need to constantly retrieve data from server side need to consider this problem. For example google chat, facebook news feed, and so on. Can anybody tell me in general how to achieve live streaming data from server to browser?</p>\n"},{"tags":["python","amazon","beautifulsoup","mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13231937,"title":"BeautifulSoup and Amazon.co.uk","body":"<p>I am trying to parse amazon to compile a list of prices, as part of a bigger project relating to statistics. However, I am stumped. I was wondering If anyone can review my code and tell me where I went wrong?</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding:  utf-8 -*-\nimport mechanize\nfrom bs4 import BeautifulSoup\n\nURL_00 = \"http://www.amazon.co.uk/Call-Duty-Black-Ops-PS3/dp/B007WPF7FE/ref=sr_1_2?ie=UTF8&amp;qid=1352117194&amp;sr=8-2\"\n\nbro = mechanize.Browser()\nresp = bro.open(URL_00)\nhtml = resp.get_data()\nsoup_00 = BeautifulSoup(html)\nprice = soup_00.find('b', {'class':'priceLarge'})\nprint price #this should return at the very least the text enclosed in a tag\n</code></pre>\n\n<p>According to the screenshot, what I wrote above should work, shouldn't it?</p>\n\n<p><img src=\"http://i.stack.imgur.com/SXRUt.png\" alt=\"http://i.imgur.com/bPVe1.png (cannot post an image as a newbie..)\"></p>\n\n<p>Well all I get in the print out is \"[]\", if I change the line before last to this:</p>\n\n<pre><code> price = soup_00.find('b', {'class':'priceLarge'}).contents[0].string\n</code></pre>\n\n<p>or</p>\n\n<pre><code>price = soup_00.find('b', {'class':'priceLarge'}).text\n</code></pre>\n\n<p>I get a \"noneType\" error.</p>\n\n<p>I am quite confused as to why this is happening. The page encoding in the URL on chrome says UTF8, to which my script is adjusted in line #2.\nI have changed it to ISO (as per inner HTML of the page) but this makes zero difference, so I am positive encoding is not the issue here.</p>\n\n<p>Also, don't know if this is relevant at all, but my system locale on linux being UTF-8 should not cause a problem should it?</p>\n\n<p>Any ideas would be welcome.</p>\n"},{"tags":["python","django","python-sphinx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13231997,"title":"sphinx autodoc - added project path but still getting error 'module not found' . using default python path","body":"<p>I added my project path to conf.py like this : </p>\n\n<pre><code>  sys.path.insert(0, \"path\")\n</code></pre>\n\n<p>I think it is using the project path correctly as i am getting error if i had entered anything else in the above command </p>\n\n<p>Problem is , it is using the default python present. The python i am using is present in my virtual env, so I tried giving the path /venv/bin/python, venv/ to the path like the above command , still referring to the same old default python .</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13231683,"title":"process multiple key down in python?","body":"<p>i am very new in python, i have multiple options such as 1 to 99 and i want to select 23 as an windows after pressing f2 i press 2 and 3 and then press enter, number 23 is get selected. i want to do this in ubuntu 10.04. what will be procedure? i am writting some code </p>\n\n<pre><code>def keyDown(self,e):\n    if e.keystring == \"f2\":                \n        selectedNumber = 0\n    elif e.keystring == \"enter\":\n        print selectedNumber\n        selectedNumber =0\n    else:\n        selectedNumber +=int(e.keystring)\n</code></pre>\n\n<p>thanks in advance</p>\n"},{"tags":["python","multithreading","asynchronous","twisted"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13112984,"title":"Threads vs Asynchronous Networking (Twisted) Python","body":"<p>I am writing an implementation of a NAT.  My algorithm is as follows:</p>\n\n<ol>\n<li>Packet comes in</li>\n<li>Check against lookup table if external, add to lookup table if internal</li>\n<li>Swap the source address and send the packet on its way</li>\n</ol>\n\n<p>I have been reading about Twisted.  I was curious if Twisted takes advantage of multicore CPUs?  Assume the system has thousands of users and one packet comes right after the other.  With twisted can the lookup table operations be taking place at the same time on each core.  I hear with threads the GIL will not allow this anyway.  Perhaps I could benifit from multiprocessing></p>\n\n<p>Nginix is asynchronous and happily serves thousands of users at the same time.</p>\n"},{"tags":["python","ssh","pexpect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13231717,"title":"Python Pexpect SSH Command Line Login Arguments","body":"<p>I'm using the pexpect.py script to login and get hostname information.<br>\nBasically I run it like this </p>\n\n<pre><code>~$:./pexpect.py -h{hostname} -u{user} -p{password}\n</code></pre>\n\n<p>You will see below that it's automated to run a few commands and close out.  I'd like to be able to add line at the end so the user can pick and choose what information they would like to see. So instead of the above command line it would look something like:</p>\n\n<pre><code>~$:./pexpexct.py -h{hostname} -u{username} -p{password} -x{user defined} -z{user defined}\n</code></pre>\n\n<p>Basically a list with -x being.. say uptime and -z being ifconfig.. there would also be -a, -b , -c.  I'm lost as how to add those arguments in the code:</p>\n\n<pre><code>#!/usr/bin/env python\n# -h : hostname of the remote server to login to.\n# -u : username to user for login.\n# -p : Password to user for login. \n\nimport os, sys, time, re, getopt, getpass\nimport traceback\nimport pexpect\n\nCOMMAND_PROMPT = '[#$] '\nTERMINAL_PROMPT = '(?i)terminal type\\?'\nTERMINAL_TYPE = 'vt100'\n\nSSH_NEWKEY = '(?i)are you sure you want to continue connecting'\n\ndef exit_with_usage():\n    print globals()['__doc__']\n    os._exit(1)\n\ndef main():\n    global COMMAND_PROMPT, TERMINAL_PROMPT, TERMINAL_TYPE, SSH_NEWKEY\n    ## Parse the options, arguments, get ready, etc.\n    try:\n        optlist, args = getopt.getopt(sys.argv[1:], 'h:u:p:', ['help','?'])\n    except Exception, e:\n        print str(e)\n        exit_with_usage()\n    options = dict(optlist)\n    if len(args) &gt; 1:\n        exit_with_usage()\n\n    if [elem for elem in options if elem in ['-?','--?','--help']]:\n        print \"Help:\"\n        exit_with_usage()\n\n    if '-h' in options:\n        host = options['-h']\n    else:\n        host = raw_input('hostname: ')\n    if '-u' in options:\n        user = options['-u']\n    else:\n        user = raw_input('username: ')\n    if '-p' in options:\n        password = options['-p']\n    else:\n        password = getpass.getpass('password: ')\n\n## Login via SSH\n\n    child = pexpect.spawn('ssh -l %s %s'%(user, host))\n    i = child.expect([pexpect.TIMEOUT, SSH_NEWKEY, COMMAND_PROMPT, '(?i)password'])\n    if i == 0:\n            print 'ERROR! could not login with SSH. Here is what SSH said:'\n            print child.before, child.after\n            print str(child)\n            sys.exit (1)\n    if i == 1: # In this case SSH does not have the public key cached.\n            child.sendline ('yes')\n            child.expect ('(?i)password')\n    if i == 2:\n            # This may happen if a public key was setup to automatically login.\n            # But beware, the COMMAND_PROMPT at this point is very trivial and\n            # could be fooled by some output in the MOTD or login message.\n            pass\n    if i == 3:\n            child.sendline(password)\n            # Now we are either at the command prompt or\n            # the login process is asking for our terminal type.\n            i = child.expect ([COMMAND_PROMPT, TERMINAL_PROMPT])\n            if i == 1:\n                child.sendline (TERMINAL_TYPE)\n                child.expect (COMMAND_PROMPT)\n\n        COMMAND_PROMPT = \"\\[PEXPECT\\]\\$ \"\n        child.sendline (\"PS1='[PEXPECT]\\$ '\") # In case of sh-style\n        i = child.expect ([pexpect.TIMEOUT, COMMAND_PROMPT], timeout=10)\n        if i == 0:\n            print \"# Couldn't set sh-style prompt -- trying csh-style.\"\n            child.sendline (\"set prompt='[PEXPECT]\\$ '\")\n            i = child.expect ([pexpect.TIMEOUT, COMMAND_PROMPT], timeout=10)\n            if i == 0:\n                print \"Failed to set command prompt using sh or csh style.\"\n                print \"Response was:\"\n                print child.before\n                sys.exit (1)\n\n# Now we should be at the command prompt and ready to run some commands.\n# print '---------------------------------------'\n# print 'Report of commands run on remote host.'\n# print '---------------------------------------'\n\n# Run uname.\n        child.sendline ('uname -a')\n        child.expect (COMMAND_PROMPT)\n        print child.before\n        if 'linux' in child.before.lower():\n            LINUX_MODE = 1\n        else:\n            LINUX_MODE = 0\n\n# Run and parse 'uptime'.\n        child.sendline ('uptime')\n        child.expect('up\\s+(.*?),\\s+([0-9]+) users?,\\s+load averages?: ([0-9]+\\.[0-9][0-9]),?\\s+([0-9]+\\.[0-9][0-9]),?\\s+([0-9]+\\.[0-9][0-9])')\n    duration, users, av1, av5, av15 = child.match.groups()\n        days = '0'\n        hours = '0'\n        mins = '0'\n        if 'day' in duration:\n            child.match = re.search('([0-9]+)\\s+day',duration)\n            days = str(int(child.match.group(1)))\n        if ':' in duration:\n            child.match = re.search('([0-9]+):([0-9]+)',duration)\n            hours = str(int(child.match.group(1)))\n            mins = str(int(child.match.group(2)))\n        if 'min' in duration:\n            child.match = re.search('([0-9]+)\\s+min',duration)\n            mins = str(int(child.match.group(1)))\n        print\n        print 'Uptime: %s days, %s users, %s (1 min), %s (5 min), %s (15 min)' % (\n            duration, users, av1, av5, av15)\n        child.expect (COMMAND_PROMPT)\n\n# Run Current Date.\n        child.sendline ('date')\n        child.expect (COMMAND_PROMPT)\n        print child.before\n\n# Run vmstat.\n    #    child.sendline ('vmstat')\n    #    child.expect (COMMAND_PROMPT)\n    #    print child.before\n\n# Run free.\n    #    if LINUX_MODE:\n    #        child.sendline ('free') # Linux systems only.\n    #        child.expect (COMMAND_PROMPT)\n    #        print child.before\n\n# Run df.\n    #    child.sendline ('df')\n    #    child.expect (COMMAND_PROMPT)\n    #    print child.before\n\n# Run lsof.\n    #    child.sendline ('lsof')\n    #    child.expect (COMMAND_PROMPT)\n    #    print child.before\n\n# Run netstat\n    #    child.sendline ('netstat')\n    #    child.expect (COMMAND_PROMPT)\n    #    print child.before\n\n# Run MySQL show status.\n    #    child.sendline ('mysql -p -e \"SHOW STATUS;\"')\n    #    child.expect (PASSWORD_PROMPT_MYSQL)\n    #    child.sendline (password_mysql)\n    #    child.expect (COMMAND_PROMPT)\n    #    print\n    #    print child.before\n\n# Now exit the remote host.\n        child.sendline ('exit')\n        index = child.expect([pexpect.EOF, \"(?i)there are stopped jobs\"])\n        if index==1:\n            child.sendline(\"exit\")\n            child.expect(EOF)\n\n    if __name__ == \"__main__\":\n\n        try:\n            main()\n        except Exception, e:\n            print str(e)\n            traceback.print_exc()\n            os._exit(1)\n</code></pre>\n"},{"tags":["python","django","uml"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":833,"score":2,"question_id":3676476,"title":"Is there an app to create UML from django models?","body":"<p>I am looking for a way to generate UML diagrams from a Django application <code>Model</code> structure.</p>\n\n<p>Epydoc doesn't work with Django models because it needs django's settings.py to be imported and <code>manage.py   graph_models</code> generates unreadable output, not easily parsable and hard to convert to UML.</p>\n\n<p>Is there any tool avaialble to do that?</p>\n"},{"tags":["python","exchange","win32com","activesync"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13231611,"title":"Send command to exchange server via ActiveSync using Python","body":"<p>I want to fetch the settings information for an user. The needed command is documented here: <a href=\"http://msdn.microsoft.com/en-us/library/ee202944%28v=exchg.80%29.aspx\" rel=\"nofollow\">ActiveSync Command Reference Protocol Specification</a>\nI assume I have to use win32com.client.Dispatch(\"Something\") to get an ActiveSync connection to my Exchange server which I can use to issue the mentioned 'Settings' command.</p>\n\n<p>Seems like there is no library available: <a href=\"http://stackoverflow.com/questions/12547131/python-exchange-activesync-library\">Python Exchange ActiveSync Library</a></p>\n"},{"tags":["python","centos","yum"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3185,"score":1,"question_id":10624511,"title":"Upgrade python without breaking yum","body":"<p>I recently installed Python 2.7.3 on a CentOS machine by compiling from source. Python 2.7.3 is installed at /opt/python2.7 and when I installed it I just changed /usr/bin/python to point to the new version. This apparently is wrong though because when I did it it broke yum. I would get the following.</p>\n\n<pre><code>There was a problem importing one of the Python modules\nrequired to run yum. The error leading to this problem was:\n\n   No module named yum\n\nPlease install a package which provides this module, or\nverify that the module is installed correctly.\n\nIt's possible that the above module doesn't match the\ncurrent version of Python, which is:\n2.7.3 (default, May 15 2012, 17:45:42) \n[GCC 4.4.4 20100726 (Red Hat 4.4.4-13)]\n\nIf you cannot solve this problem yourself, please go to \nthe yum faq at:\n  http://yum.baseurl.org/wiki/Faq\n</code></pre>\n\n<p>I changed /usr/bin/python to point back to the python 2.6.6 but now 2.6.6 is the default version of python. Any idea how to fix this?</p>\n"},{"tags":["python","mongodb","pymongo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13231071,"title":"can't connect mongodb in python","body":"<p>I can't connect mongodb on server with debian and python 2.6.6 on this line:</p>\n\n<pre><code>connection = pymongo.Connection('mongodb://localhost', safe = True)\n</code></pre>\n\n<p>TypeError: <strong>init</strong>() got an unexpected keyword argument 'safe'</p>\n\n<p>The same code works on window machine with python 2.7.3.\nCould you please explain how to correct this error?</p>\n\n<p>I have pymongo version 2.3 on machine where it works and 1.7 where it doesn't work.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":34,"score":-2,"question_id":13231321,"title":"How to parse the html file from python?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/717541/parsing-html-in-python\">Parsing HTML in Python</a>  </p>\n</blockquote>\n\n\n\n<p>i am newbie to python, i am using python.i have downloaded the HTML file from my site.and that downloaded HTML file has some urls. i want only some urls from that HTML file to be write in to separate text file using python.how can i do this? can anyone help me?</p>\n"},{"tags":["python","google-cloud-messaging"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13231210,"title":"Bad request response from Google cloud messaging server, using urllib2","body":"<p>I have been trying to send messages to the GCM server using python <code>urllib2</code>. But it has been returning <code>Error 400</code> (suggesting <code>Malformed JSON</code>). This is a very similar question to <a href=\"http://stackoverflow.com/questions/11697096/google-cloud-messaging-http-error-400-bad-request\">Google Cloud Messaging HTTP Error 400: Bad Request</a> but I have already tried the solution provided there, which did not work for me.</p>\n\n<p>Please find my code below</p>\n\n<pre><code>idarr = []\nfor obj in objects:\n    idarr.append(str(obj[\"gcid\"]))\n\nkey =  \"AIzaxxxxxxL9xxxxxxxxxxxxxxxxxxxWbk\"\ndata = { \"registration_ids\": idarr , \"data\": \"on\" }\ndata = json.dumps(data)\nheaders = {\"Content-Type\":\"application/json\",\"Authorization\": \"key=\"+key}\nrequest = urllib2.Request('https://android.googleapis.com/gcm/send',data,headers )\nf=urllib2.urlopen(request)\n</code></pre>\n\n<p>Also  I am presenting here the json I am posting in the data field</p>\n\n<pre><code>{\n    \"data\": \"on\", \n    \"registration_ids\": [\n         \"APA91bEPvyQuqRndnwZ94YxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxnmFVPy6nv4mPU5UyhDEZ7Jha9HnrV9nXQf25ojs8Hc_-Bw8-ElJ320koeL0PGL6hnWj0xuyltozoND_x\",\n         \"APA91bEPvyQxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxVPy6nv4mPU5UyhDEZ7Jha9HnrV9nXQf25ojs8Hc_-Bw8-ElJ320koeL0PGL6hnWj0xuyltozoND_x\"\n    ]\n} \n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":104,"score":4,"question_id":13228939,"title":"Convention to print an object in python","body":"<p>Is there any standard convention to print an object in python. I know that if I just try to print the object it would print the memory address but I would like to overwrite that method and be able to print human readable format of the object to help in debugging.</p>\n\n<p>is there any standard convention people follow or is it not a good way to define such a method instead there are better alternatives?</p>\n"},{"tags":["python","fabric"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13231111,"title":"Python - Fabric how to set output value","body":"<p>On my remote server , to execute ; </p>\n\n<pre><code>git pull\n</code></pre>\n\n<p>command; i need to run <code>su</code>. and type a password..</p>\n\n<p>here is my fabfile.py:</p>\n\n<pre><code>from fabric.api import *\n\nenv.hosts=['user@remote.com']\n\n\n\ndef pull():\n    dir = '/opt/sites/sosyate'\n    with cd(dir):\n        run('git pull')\n\n\ndef su():\n    run('su')\n</code></pre>\n\n<p>i need to be root to execute <code>pull()</code> function. but when i call su() function. remote asks me password; after i typed password it becomes regular command line and expect something to command from me.</p>\n\n<p>i cant call my other fabric function. i need to set <code>su</code> passsword in my fabric file.</p>\n\n<p>thank you</p>\n"},{"tags":["python","redis"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13231095,"title":"Using Redis for Python to process mass data but the Redis server always shut down.","body":"<p>I want to open DB0 on my Redis server, process data in it, and write to DB1. There're about 3 million keys in DB0. To reduce hard disk operation, I use \"CONFIG SET save \"300 10000\"\" to make the server write to disk every 5 minutes. This is my code:\n<i>    </p>\n\n<pre><code>    import redis\n\n    idLinkoutIds = redis.Redis(host='127.0.0.1', port=6379, db=0)\n    idLinkinIds = redis.Redis(host='127.0.0.1', port=6379, db=1)\n\n    i = 0\n    allKeys = idLinkoutIds.keys() # There're 3,228,675 keys.\n\n    for key in allKeys:\n        if i % 100000 == 0:\n            print str(i / 10000) + ' million ids completet'\n        i += 1\n\n        linkOutIds = idLinkoutIds.lrange(key, start=0, end=-1)\n        for eachKey in linkOutIds:\n            idLinkinIds.lpush(eachKey, key) # Write to DB1\n        idLinkoutIds.delete(key) # DB0 is useless, I just need DB1\n\n    idLinkoutIds.save()      \n    idLinkinIds.save()\n\n    print 'Done'\n</code></pre>\n\n<p></i>\n When 1 million keys are processed, the Redis server just shutdown and I got \"ConnectionError: Error 10061 connecting 127.0.0.1:6379\". Then I delete idLinkoutIds.delete(key) just for try and the server shutdown again when 0.8 million keys are processed.</p>\n\n<p>I think it's not the reason of hardware cause I'm using a 64 bit OS and 8G RAM. So I'm really confused. The server just shut down. Who can give me a direction. </p>\n"},{"tags":["python","mongodb","python-3.x"],"answer_count":3,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":1719,"score":8,"question_id":5360715,"title":"Is there an equivalent of PyMongo for Python 3.2?","body":"<p>I attempted to install <strong>pymongo</strong> to my Windows box with Python 3.2 through <strong>easy_install</strong>, only to find that it will not install due to incompatibilities with Python 3.2.</p>\n\n<p>Therefore, is there an equivalent to pymongo that will work with Python 3.2? MongoDB is an integral part of the application I was developing on Python 2.7, and to move to Python 3.2 I will need to retain this interactivity.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13224338,"title":"Force immediate availability of item in Memcache","body":"<p>Using Google App Engine NDB, most aspects of memcache are handled automatically. However, an item does not become available in Memcache until it is read at least once. So first the item must be read using get, and then memcache stores it. Put() removes it from memcache.</p>\n\n<p>However, I need something to be available in memcache immediately on put. I'm new to memcache, so I'm not entirely sure how everything works behind the scenes, but there are two ways I can do this:</p>\n\n<ol>\n<li>Immediately after a put() of an entity, do a get(), just so that it becomes available in memcache.</li>\n<li>Immediately after a put(), manually set the item in memcache. This would make sense, but I'm not sure if there are any gotachas with this approach. If I manually set something in memcache, will this interfere with the rest of NDB's automatic memcache handling?\n<strong>Also</strong>, what key should I use when setting something in memcache manually so that upon a get, the automatic memcache handler knows what to look for?</li>\n</ol>\n"},{"tags":["python","windows","python-2.7","64bit","levenshtein-distance"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":52,"score":1,"question_id":13140175,"title":"Are there Windows binaries available for the Python Levenshtein library anywhere?","body":"<p><em>Update 2012-11-05</em>: Unfortunately this question is closed so I can't post an answer, but I found pre-compiled binaries for python-Levenshtein <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#uncategorized\" rel=\"nofollow\">here</a>. Keep in mind that this is a private site though, and you should not necessarily trust that the binaries are safe. They do work though, for that I can vouch.</p>\n\n<hr>\n\n<p>I need to get one of my projects working on Windows computers, and my project utilizes <a href=\"http://pypi.python.org/pypi/python-Levenshtein/\" rel=\"nofollow\">python-Levenshtein</a>. I really don't want to get into the nightmare of compiling Python libraries containing C code on a Windows computer, so are there some pre-compiled binaries of this library out there?</p>\n\n<p><em>Note: I know <a href=\"http://code.activestate.com/pypm/python-levenshtein\" rel=\"nofollow\">ActiveState has the library I'm looking for</a> available but the 64-bit Windows version that I need is locked and requires the \"Business License\" which is extremely expensive.</em></p>\n"},{"tags":["python","python-2.3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13229646,"title":"get line number which variable is defined in a different file","body":"<p>is it possible for me to get the line number which variable is defined in a different file.\nfor example:</p>\n\n<pre><code>file1.py\nx = 5\nmylist = [ 1, 2, 3]\n\n\nfile2.py\n\nexecfile(\"file1.py\")\n# TODO\n# get line number of 'x' or 'mylist'\n</code></pre>\n\n<p>I assume each variable is defined only once but just in case what if they defined multiple times?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","google-app-engine","task-queue","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13201532,"title":"How can I get the Python Task Queue and Channel API to send messages and respond to requests during a long-running process?","body":"<p>This is a probably basic question, but I have not been able to find the answer.  </p>\n\n<p>I have a long-running process that produces data every few minutes that I would like the client to receive as soon as it is ready.  Currently I have the long-running process in a Task Queue, and it adds channel messages to another Task Queue from within a for loop.  The client successfully receives the channel messages and downloads the data using a get request; however, the messages are being sent from the task queue after the long-running process finishes (after about 10 minutes) instead of when the messages are added to the task queue.<br>\nHow can I have the messages in the task queue sent immediately?  Do I need to have the for loop broken into several tasks?  The for loop creates a number of dictionaries I think I would need to post to the data store and then retrieve for the next iteration (does not seem like an ideal solution), unless there is an easier way to return data from a task.</p>\n\n<p>When I do not add the messages to a Task Queue and send the messages directly in the for loop, the server does not seem to respond to the client's get request for the data (possibly due to the for loop of the long-running process blocking the response?)</p>\n\n<p>Here is a simplified version of my server code:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom google.appengine.api import channel\nfrom google.appengine.api import taskqueue\nfrom google.appengine.api import rdbms\n\nclass MainPage(webapp2.RequestHandler):\ndef get(self):\n## This opens the GWT app    \n\nclass Service_handler(webapp2.RequestHandler):\ndef get(self, parameters):\n## This is called by the GWT app and generates the data to be \n## sent to the client. \n    #This adds the long-process to a task queue\n    taskqueue.Task(url='/longprocess/', params = {'json_request': json_request}).add(queue_name='longprocess-queue')\n\nclass longprocess_handler(webapp2.RequestHandler):\ndef post(self):\n   #This has a for loop that recursively uses data in dictionaries to \n   #produce kml files every few minutes\n   for j in range(0, Time):\n      # Process data\n      # Send message to client using a task queue to send the message.\n      taskqueue.Task(url='/send/', params).add(queue_name=send_queue_name)\n\nclass send_handler(webapp2.RequestHandler):\ndef post(self):\n    # This sends the message to the client\n    # This is currently not happening until the long-process finishes,\n    # but I would like it to occur immediately.\n\n\nclass kml_handler(webapp2.RequestHandler):\ndef get(self, client_id):\n##  When the client receives the message, it picks up the data here.\n\napp = webapp2.WSGIApplication([\n                        webapp2.Route(r'/', handler=MainPage),\n                        webapp2.Route(r'/Service/', handler=Service_handler),\n                        webapp2.Route(r'/_ah/channel/&lt;connected&gt;/', handler = connection_handler),\n                        webapp2.Route(r'/longprocess/', handler = longprocess_handler),\n                        webapp2.Route(r'/kml/&lt;client_id&gt;', handler = kml_handler),\n                        webapp2.Route(r'/send/', handler = send_handler)\n                        ],\n                      debug=True)\n</code></pre>\n\n<p>Do I need to break up the long-process into tasks that send and retrieve results from the data store in order to have the send_handler execute immediately, or am I missing something?  Thanks</p>\n"},{"tags":["python","numpy","windows-8"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":13230302,"title":"NumPy on Python 3.3 on Windows 8","body":"<p>I am trying to get NumPy to work on my new Windows 8 installation, with Python 3.3 installed. When I try (both) installers from <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow\">here</a>, they crash when I click 'Install'.</p>\n\n<p>Has anyone had success with the same setup?</p>\n\n<hr>\n\n<p>EDIT: Error image: <img src=\"http://i.stack.imgur.com/ZdhdN.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","sockets","socketserver"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13229688,"title":"Only receiving one byte from socket","body":"<p>I coded a server program using python.</p>\n\n<p>I'm trying to get a string but i got only a character!\nHow can I receive a string?</p>\n\n<pre><code>def handleclient(connection):                                           \n    while True:                             \n        rec = connection.recv(200)\n        if rec == \"help\": #when I put help in the client program, rec = 'h' and not to \"help\"\n            connection.send(\"Help Menu!\")\n\n\n    connection.send(rec)\n    connection.close()\n\ndef main():\n   while True:\n        connection, addr = sckobj.accept()   \n        connection.send(\"Hello\\n\\r\")\n        connection.send(\"Message: \")   \n        IpClient = addr[0]\n        print 'Server was connected by :',IpClient\n\n\n        thread.start_new(handleclient, (connection,))   \n</code></pre>\n"},{"tags":["python","mongodb","python-2.7","bottle","mongoengine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13230284,"title":"Convert mongodb return object to dictionary","body":"<p>I'm using the bottle framework together with mongoengine.\nI have an orders model :</p>\n\n<pre><code>class OrderDetail(Option):\n    orderDetailsQty = FloatField()\n\n    def to_dict(self):\n        return mongo_to_dict_helper(self)\n\n\nclass Order(Document):\n    userName = StringField(required=True)\n    orderDate = DateTimeField()\n    orderStatus = ListField(EmbeddedDocumentField(Status))\n    orderDetails = ListField(EmbeddedDocumentField(OrderDetail))\n    orderComments = ListField(EmbeddedDocumentField(Comment))\n    isActive = BooleanField()\n\n    def to_dict(self):\n        orderObj = mongo_to_dict_helper(self)\n        orderDetailList = []\n        for orderDetail in orderObj[\"orderDetails\"]:\n            orderDetailList.append(orderDetail.__dict__)\n        orderObj[\"OrderDetails\"] = orderDetailList\n        return (self)\n</code></pre>\n\n<p>When mongodb is queried I get an object which is then converted in to a dict by using the following function :</p>\n\n<pre><code>def mongo_to_dict_helper(obj):\n    return_data = []\n    for field_name in obj._fields:\n        if field_name in (\"id\",):\n            continue\n        data = obj._data[field_name]\n\n        if isinstance(obj._fields[field_name], StringField):\n            return_data.append((field_name, str(data)))\n        elif isinstance(obj._fields[field_name], FloatField):\n            return_data.append((field_name, float(data)))\n        elif isinstance(obj._fields[field_name], IntField):\n            return_data.append((field_name, int(data)))\n        elif isinstance(obj._fields[field_name], ListField):\n            return_data.append((field_name, int(data)))\n        else:\n            # You can define your logic for returning elements\n            pass\n    return dict(return_data)\n</code></pre>\n\n<p>I found this function after a long search in the internet. Later found out that this function also fails while defining a member as the ListField(EmbeddedDocumentField(obj)).</p>\n\n<p>I also tried writing a condition for catching the specific case of EmbeddedDocumentField :</p>\n\n<pre><code>elif isinstance(obj._fields[field_name], EmbeddedDocumentField):\n    return_data.append(mongo_to_dict_helper(data))\n</code></pre>\n\n<p>but that didn't do any good either.</p>\n\n<p>Anyone have a workaround for this issue ?</p>\n"},{"tags":["python","cassandra","cql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13217434,"title":"Insert to cassandra from python using cql","body":"<p>I'm planning to insert data to bellow CF that has compound keys.</p>\n\n<pre><code>CREATE TABLE event_attend (\n    event_id int,\n    event_type varchar,\n    event_user_id int,\n    PRIMARY KEY (event_id, event_type)    #compound keys...\n);\n</code></pre>\n\n<p>But I can't insert data to this CF from python using cql.\n(http://code.google.com/a/apache-extras.org/p/cassandra-dbapi2/)</p>\n\n<pre><code>import cql\nconnection = cql.connect(host, port, keyspace)\ncursor = connection.cursor()\ncursor.execute(\"INSERT INTO event_attend (event_id, event_type, event_user_id) VALUES (1, 'test', 2)\", dict({}) )\n</code></pre>\n\n<p>I get the following traceback:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"./v2_initial.py\", line 153, in &lt;module&gt;\n  db2cass.execute()\nFile \"./v2_initial.py\", line 134, in execute\n  cscursor.execute(\"insert into event_attend (event_id, event_type, event_user_id ) values (1, 'test', 2)\", dict({}))\nFile \"/usr/local/pythonbrew/pythons/Python-2.7.2/lib/python2.7/site-packages/cql-1.4.0-py2.7.egg/cql/cursor.py\", line 80, in execute\n  response = self.get_response(prepared_q, cl)\nFile \"/usr/local/pythonbrew/pythons/Python-2.7.2/lib/python2.7/site-packages/cql-1.4.0-py2.7.egg/cql/thrifteries.py\", line 80, in get_response\n  return self.handle_cql_execution_errors(doquery, compressed_q, compress)\nFile \"/usr/local/pythonbrew/pythons/Python-2.7.2/lib/python2.7/site-packages/cql-1.4.0-py2.7.egg/cql/thrifteries.py\", line 98, in handle_cql_execution_errors\n  raise cql.ProgrammingError(\"Bad Request: %s\" % ire.why)\ncql.apivalues.ProgrammingError: Bad Request: unable to make int from 'event_user_id'\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":5369225,"title":"What does \"children__\" mean in Django? Where is it documented?","body":"<p>I am trying to parse this Django code (without any familiarity with Django, I might add)</p>\n\n<pre><code>Question.objects.filter(children__marked=True)\n</code></pre>\n\n<p>I know the model contains a table called \"forum_node\" with one of the column named \"marked\". From what I understand, this statement fetches all the questions where any of its children (= answers) are accepted (or \"marked\"). How does this magic work?</p>\n"},{"tags":["python","azure"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13229551,"title":"How to connect python to SQL Azure?","body":"<p>I would like to develop an apps using python/webapp2, which is required SQL Azure database hosted in Azure Cloud. How can i connect python to SQL Azure?</p>\n"},{"tags":["python","internationalization","pyramid","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13177258,"title":"Pyramid i18n use two locale directories","body":"<p>How to use locale directory from include package and locale directory in my own project.</p>\n\n<p>My main function</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>settings = dict(settings)\nsettings.setdefault('jinja2.i18n.domain', 'mypackage1, mypackage2') #NOT WORK!!!\n\nconfig.include(\"mypackage1\")\nconfig.add_jinja2_search_path((\"mypackage1:templates\",\n                               \"mypackage2:templates\"))\n\nconfig.add_translation_dirs(\"mypackage1:locale/\",\n                            \"mypackage2:locale/\")\nconfig.add_jinja2_search_path((\"mypackage1:templates\",\n                               \"mypackage2:templates\"))\n\nreturn config.make_wsgi_app()\n</code></pre>\n"},{"tags":["python","sql","database","firebird","firebird2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":40,"score":-2,"question_id":13230203,"title":"Receiving quantity and list of fields of the table in Firebird","body":"<p>What sql request receives quantity of fields of the table Firebird in firebirdsql connection with database? What sql request receives the list of fields of the table Firebird in firebirdsql connection with database? It is not duplicate of <a href=\"http://stackoverflow.com/questions/13227764/receiving-quantity-and-list-of-fields-of-the-table\">Receiving quantity and list of fields of the table</a>, Now I want to know this for firebird database with firebirdsql connection in Python?</p>\n"},{"tags":["python","list","python-2.7"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13218865,"title":"List duplicate data concatenation in python","body":"<p>i am a newbie in python and facing issue in getting this output</p>\n\n<pre><code> a = [('textVerify', 'AH', 'SELECT SERVICES'), ('textVerify', 'F7', 'test1&gt;'),('audioVerify', '091;0'), ('imageVerify', 'duck.gif'),('imageVerify', 'egg.gif')]\n</code></pre>\n\n<p>i want to create a new list which should hold all the 0th unique element like</p>\n\n<pre><code>  audioVerify,imageVerify,textVerify\n</code></pre>\n\n<p>so the result expected is</p>\n\n<pre><code> ['textVerify',(('AH', 'SELECT SERVICES'), ('F7', 'test1&gt;'))  'audioVerify', ('091;0'),  ('imageVerify', ('duck.gif','egg.gif')]\n</code></pre>\n"},{"tags":["python","parsing","dateutil"],"answer_count":4,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":373,"score":7,"question_id":7028689,"title":"How to parse multiple dates from a block of text in Python (or another language)","body":"<p>I have a string that has several date values in it, and I want to parse them all out. The string is natural language, so the best thing I've found so far is <a href=\"http://labix.org/python-dateutil\">dateutil</a>. </p>\n\n<p>Unfortunately, if a string has multiple date values in it, dateutil throws an error:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"I like peas on 2011-04-23, and I also like them on easter and my birthday, the 29th of July, 1928\"\n&gt;&gt;&gt; parse(s, fuzzy=True)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/pymodules/python2.7/dateutil/parser.py\", line 697, in parse\n    return DEFAULTPARSER.parse(timestr, **kwargs)\n  File \"/usr/lib/pymodules/python2.7/dateutil/parser.py\", line 303, in parse\n    raise ValueError, \"unknown string format\"\nValueError: unknown string format\n</code></pre>\n\n<p>Any thoughts on how to parse all dates from a long string? Ideally, a list would be created, but I can handle that myself if I need to.</p>\n\n<p>I'm using Python, but at this point, other languages are probably OK, if they get the job done.</p>\n\n<p>PS - I guess I could recursively split the input file in the middle and try, try again until it works, but it's a hell of a hack.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":13229760,"title":"Does Python support ++?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1485841/behaviour-of-increment-and-decrement-operators-in-python\">Behaviour of increment and decrement operators in Python</a>  </p>\n</blockquote>\n\n\n\n<p>I'm new to Python, I'm confused about ++ python. I've tried to ++num but num's value is not changed:</p>\n\n<pre><code>&gt;&gt;&gt; a = 1\n&gt;&gt;&gt; ++a\n1\n&gt;&gt;&gt; print a\n1\n&gt;&gt;&gt; print(++a)\n1\n</code></pre>\n\n<p>Could somebody explain this? If Python support ++, why num has not changed. If it doesn't why can I use ++?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13229572,"title":"Dynamic classes import and object building","body":"<p>I have a python package which gathers multiple modules. In those modules, I have multiple classes heriting from a Component class. I'd like to make the load of those classes dynamic and to build some object dynamically.</p>\n\n<pre><code>ex: \npackage/module1.py\n       /module2.py\n</code></pre>\n\n<p>in <code>module1.py</code>, there is multiple classes heriting from the class Component, the same with <code>module2.py</code>, of course the number of classes and package is unknown. The final user define which object has to be built in a config file. In order to iter throught modules, I use the pkgutil.iter_modules which is working. From my function in charge to build the components, I do like this:</p>\n\n<pre><code>[...]\nmyPckge = __import__('package.module1', globals(), locals(), ['class1'], -1)\ncmpt_object = locals()[component_name](self, component_prefix, *args)\n[...]\n</code></pre>\n\n<p>However, this is not working as the class is not recognized, the following works but is not dynamic:</p>\n\n<pre><code>cmpt_object = myPckge.class1(self, component_prefix, *args)\n</code></pre>\n\n<p>thanks for your reply</p>\n"},{"tags":["c++","python","pipe","popen","unbuffered"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13229825,"title":"Unbuffered communication between C++ and Python","body":"<p>I want to pass data from C++ to Python in Linux and I do this through a pipe.\nMy C++ program looks like this:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;stdio.h&gt;\n#include&lt;sstream&gt;\n#include&lt;math.h&gt;\n\nint main() {\n    FILE *cmd;\n\n    std::ostringstream ss;\n    double val;\n\n    cmd = popen(\"python plot.py\",\"w\");\n    for (int i=0; i&lt;100; i++) {\n        val = cos(3.14159*i/40);\n        ss.str(\"\");\n        ss &lt;&lt; val &lt;&lt; std::endl;\n        fputs(ss.str().c_str(),cmd);\n        fflush(cmd);\n    }\n    fputs(\"\\n\",cmd);\n    fflush(cmd);\n    pclose(cmd);\n    return 0;     \n}\n</code></pre>\n\n<p>The corresponding python function plot.py looks like:</p>\n\n<pre><code>fig, = plt.plot([],[])\nindex = 0\nplt.ion()\nwhile True:\n    data = sys.stdin.readline().strip()\n    if not data:\n        plt.ioff()\n        break\n    index = index + 1\n    val = [float(n) for n in self.data.split()]\n\n    fig.set_xdata(numpy.append(fig.get_xdata(),index))\n    fig.set_ydata(numpy.append(fig.get_ydata(),val))\n    axis = list(plt.axis())\n    min_x = 0      \n    max_x = max(self.fig.get_xdata())\n    min_y = min(self.fig.get_ydata())\n    max_y = max(self.fig.get_ydata())\n    axis[0] = min_x\n    axis[1] = max_x\n    axis[2] = min_y\n    axis[3] = max_y\n    plt.axis(axis)\n    plt.draw()\nplt.show()\n</code></pre>\n\n<p>Now my problem is that there seems to be a buffering of data from my c++ function before data is being passed to the python function, which I am not able to get rid of. I have searched for a solution but have not been able to find any. The best suggestion I could find was to use setvbuf in the c++ function, so I also tried to include the following line to the c++ function</p>\n\n<pre><code>setvbuf(cmd,NULL,_IONBUF,0)\n</code></pre>\n\n<p>But that did not have any effects.</p>\n\n<p>Does anyone know how I can pass data from my c++ function to python in an unbuffered manner?</p>\n"},{"tags":["python","arrays","list","max"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":13229542,"title":"python max of list of arrays with lists","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13227578/python-max-of-list-of-arrays\">python max of list of arrays</a>  </p>\n</blockquote>\n\n\n\n<p>I have a list of arrays like:</p>\n\n<pre><code>a = [array([ [6,2] , [6,2] ]),array([ [8,3],[8,3] ]),array([ [4,2],[4,2] ])]\n</code></pre>\n\n<p>I tried <code>max(a)</code> which returns the following error:</p>\n\n<pre><code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>I want it to return either a list or array like:</p>\n\n<pre><code>In: max(a)\nOut: [[8,3],[8,3]]\n</code></pre>\n\n<p>I don't want to convert the inner arrays to list, because the size of the list is very big. Also I purposefully created like that to perform array operations.</p>\n"},{"tags":["python","random","numbers"],"answer_count":15,"favorite_count":16,"up_vote_count":25,"down_vote_count":1,"view_count":6948,"score":24,"question_id":2076838,"title":"Generating non-repeating random numbers in Python","body":"<p>Ok this is one of those trickier than it sounds questions so I'm turning to stack overflow because I can't think of a good answer. Here is what I want: I need Python to generate a simple a list of numbers from 0 to 1,000,000,000 in random order to be used for serial numbers (using a random number so that you can't tell how many have been assigned or do timing attacks as easily, i.e. guessing the next one that will come up). These numbers are stored in a database table (indexed) along with the information linked to them. The program generating them doesn't run forever so it can't rely on internal state.</p>\n\n<p>No big deal right? Just generate a list of numbers, shove them into an array and use Python \"random.shuffle(big_number_array)\" and we're done. Problem is I'd like to avoid having to store a list of numbers (and thus read the file, pop one off the top, save the file and close it). I'd rather generate them on the fly. Problem is that the solutions I can think of have problems:</p>\n\n<p>1) Generate a random number and then check if it has already been used. If it has been used generate a new number, check, repeat as needed until I find an unused one. Problem here is that I may get unlucky and generate a lot of used numbers before getting one that is unused. Possible fix: use a very large pool of numbers to reduce the chances of this (but then I end up with silly long numbers).</p>\n\n<p>2) Generate a random number and then check if it has already been used. If it has been used add or subtract one from the number and check again, keep repeating until I hit an unused number. Problem is this is no longer a random number as I have introduced bias (eventually I will get clumps of numbers and you'd be able to predict the next number with a better chance of success).</p>\n\n<p>3) Generate a random number and then check if it has already been used. If it has been used add or subtract another randomly generated random number and check again, problem is we're back to simply generating random numbers and checking as in solution 1.</p>\n\n<p>4) Suck it up and generate the random list and save it, have a daemon put them into a Queue so there are numbers available (and avoid constantly opening and closing a file, batching it instead). </p>\n\n<p>5) Generate much larger random numbers and hash them (i.e. using MD5) to get a smaller numeric value, we should rarely get collisions, but I end up with larger than needed numbers again.</p>\n\n<p>6) Prepend or append time based information to the random number (i.e. unix timestamp) to reduce chances of a collision, again I get larger numbers than I need.</p>\n\n<p>Anyone have any clever ideas that will reduce the chances of a \"collision\" (i.e. generating a random number that is already taken) but will also allow me to keep the number \"small\" (i.e. less than a billion (or a thousand million for your europeans =)).</p>\n\n<p>Answer and why I accepted it:</p>\n\n<p>So I will simply go with 1, and hope it's not an issue, however if it is I will go with the deterministic solution of generating all the numbers and storing them so that there is a guarentee of getting a new random number, and I can use \"small\" numbers (i.e. 9 digits instead of an MD5/etc.). </p>\n"},{"tags":["python","django","django-timezone"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13225890,"title":"Django default=timezone.now() saves records using \"old\" time","body":"<p>This issue has been occurring on and off for a few weeks now, and its unlike any that has come up with my project. </p>\n\n<p>So two of the models that are used have a timestamp field, which is on default set to <code>timezone.now()</code>. </p>\n\n<p>So here is the sequence that raises error flags:</p>\n\n<pre><code>Model one is created at time 7:30 PM\nModel two is created at time 10:00 PM, but in the \n   MySQL database it's stored as 7:30 PM! Despite having default=timezone.now()\n\nNow ... Every model that is created in a mystery time (I didn't record), will\nhave it's time stamp saved under 7:30 PM, not the actual time, UNTILL a certain\nduration passes, then a new time will be set and all the following models will\nhave that new time... Bizzare\n</code></pre>\n\n<p>Some extra details which may help in discovering the issue:</p>\n\n<p>I have a bunch of methods that I use to strip my timezones of their <code>tzinfo</code>'s and replace them with UTC. </p>\n\n<p>This is because I'm doing a <code>timezone.now()</code> - creationTime calculation to create a: \"model was posted this long ago\" feature\nin the project. However, this really should not be the cause of the problem.</p>\n\n<p>I don't think using <code>datetime.datetime.now()</code> will make any differences either.</p>\n\n<p>Anyways, thanks for the help!</p>\n"},{"tags":["python","argparse"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13109103,"title":"More flexible command line parameter parser than ArgParse?","body":"<p>I want to parse a parameter like:</p>\n\n<pre><code>command --ethX\n</code></pre>\n\n<p>Where X is a number starting from 0. Is that possible directly with ArgParse ? As it seems not, is there a way to ask ArgParse to let the programmer deals with this parameter, but keeping the parameter like <code>ethX</code> when printing help ?</p>\n\n<p>If not, is there any parser alternative in python which can do this ?</p>\n"},{"tags":["python","django","facebook-graph-api"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13228847,"title":"Resolve FB GraphAPI picture call to the final URL","body":"<p>I'm developing an application that displays a users/friends photos. For the most part I can pull photos from the album, however for user/album cover photos, all that is given is the object ID for which the following URL provides the image:</p>\n\n<p><code>https://graph.facebook.com/1015146931380136/picture?access_token=ABCDEFG&amp;type=picture</code></p>\n\n<p>Which when viewed redirects the user to the image file itself such as:</p>\n\n<p><code>https://fbcdn-photos-a.akamaihd.net/hphotos-ak-ash4/420455_1015146931380136_78924167_s.jpg</code></p>\n\n<p>My question is, is there a Pythonic or GraphAPI method to resolve the final image path an avoid sending the Access Token to the end user?</p>\n"},{"tags":["python","data-structures","hash","immutable"],"answer_count":7,"favorite_count":8,"up_vote_count":16,"down_vote_count":0,"view_count":2208,"score":16,"question_id":2671376,"title":"Hashable, immutable","body":"<p>From a recent SO question (see <a href=\"http://stackoverflow.com/questions/2671211/create-a-dictionary-in-python-which-is-indexed-by-lists\">http://stackoverflow.com/questions/2671211/create-a-dictionary-in-python-which-is-indexed-by-lists</a>) I realized I probably had a wrong concept of the meaning of hashable and immutable objects in python.</p>\n\n<p>What hashable means in practice?,</p>\n\n<p>What the relation between hashable and immmutable is?</p>\n\n<p>There are mutable objects that are hashable? And immutable not hashable? </p>\n"},{"tags":["python","wxpython"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13229281,"title":"wxPython: Placement of scrollbar in ScrolledPanel","body":"<p>I was wondering if there is any way to control the location of the scrollbar from a scrolledpanel? More specifically: I use a horizontally scrolled panel and it would be nice if the scrollbar was on top of the panel (instead of bottom) and would only span 80% of the horizontal distance.</p>\n\n<p>Is something like this possible?</p>\n\n<p>Thanks...</p>\n"},{"tags":["python","django","portability"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":2759,"score":9,"question_id":5493776,"title":"Django: 'current_tags' is not a valid tag library","body":"<p>I have a small Django project I received from a friend. The code works perfectly on his system. However, on my system I get the following error message when running the server:</p>\n\n<blockquote>\n  <p><strong>TemplateSyntaxError at /</strong></p>\n  \n  <p>'current_tags' is not a valid tag library: Template library current_tags not found, tried django.templatetags.current_tags</p>\n</blockquote>\n\n<p>The problem is with a line in an html file:</p>\n\n<pre><code>{% load current_tags %}\n</code></pre>\n\n<p>This exact same code works on his system with no errors. What could that be?</p>\n"},{"tags":["python","r","time-series","forecasting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":84,"score":0,"question_id":13197097,"title":"Forecast Package from R in Python","body":"<p>I found forecast package from R the best solution for time series analysis and forecasting. </p>\n\n<p>I want to use it in Python. Could I use rpy and after take the forecast package in Python?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":77,"score":-3,"question_id":13228686,"title":"Two questions about Python","body":"<pre><code>def punctuation(x,y):\n if len(x) == 0:\n     return y\n\n if '.' in x[0]:\n     x[1] = x[1].capitalize()\n     return punctuation(x[1:],y.append(x[0]))\n elif '!' in x[0]:\n     x[1] = x[1].capitalize()\n     return punctuation(x[1:],y.append(x[0]))\n elif '?' in x[0]:\n     x[1] = x[1].capitalize()\n     return punctuation(x[1:],y.append(x[1]))\n else:\n     return punctuation(x[1:],x[0])\n\n\n z = ['!a','b'] \n punctuation(z,[])\n</code></pre>\n\n<p>Hope to get  ['!a','b'] ,which means if the first item contains (!,?,.),the second one become capitalize</p>\n\n<pre><code>Q3_p1 = \"Enter the digit on the phone (0-9): \"\nQ3_p2 = \"Enter the number of key presses (&gt;0): \"\n\n\n\ndef enter_msg(n):\n    x=raw_input(Q3_p1)\n    y=raw_input(Q3_p1)\n    Jay = Jay_chou(x,y)\n    return Jay\n\n def Jay_chou(d,n):\n\n     if d==0: return \" \" \n     elif d==1: return [\".\", \",\", \"?\"][n%3-1]\n     elif d==2: return [\"a\", \"b\", \"c\"][n%3-1]\n     elif d==3: return [\"d\", \"e\", \"f\"][n%3-1]\n     elif d==4: return [\"g\", \"h\", \"i\"][n%3-1]\n     elif d==5: return [\"j\", \"k\", \"l\"][n%3-1]\n     elif d==6: return [\"m\", \"n\", \"o\"][n%3-1]\n     elif d==7: return [\"p\", \"q\", \"r\", \"s\"][n%4-1]\n     elif d==8: return [\"t\", \"u\", \"v\"][n%3-1]\n     else: return [\"w\", \"x\", \"y\", \"z\"][n%4-1]\n\n\n enter_msg(2)\n</code></pre>\n\n<p>i don't know why i got the error\ni see this:</p>\n\n<pre><code>Enter the digit on the phone (0-9): 1\n\nEnter the digit on the phone (0-9): 1\n\n['1', '1']\n\nTypeError: not all arguments converted during string formatting\n</code></pre>\n"},{"tags":["python","osx","unicode","ide","utf-8"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":433,"score":2,"question_id":6701570,"title":"Can't input unicode in python IDE (Mac OS X)","body":"<p>I'm trying to collect some unicode raw_input in the default python IDE, and as far as I'm aware, it should be as simple as:</p>\n\n<pre><code>&gt;&gt;&gt; c = raw_input()\n日本語\n&gt;&gt;&gt; print c\n日本語\n</code></pre>\n\n<p>However, when I try to input the unicode characters, the computer beeps some protestations and I end up with an empty string.  (To do this, I click on the IME switcher near the time and select the appropriate input method [which in this case is Japanese input).  Outside of the python IDE, the input works fine, I can input the characters and the system recognizes them as having been input.  In the IDE, I'll type some hiragana, and the drop-down kanji selection window appears as usual, but when I select the appropriate representation and hit enter, those beeps come and I wind up with nothing.  I figure there's a setting involved somewhere that I've missed.</p>\n\n<p>versions are:</p>\n\n<pre><code>Python 2.6.1 (r261:67515, Jun 24 2010, 21:47:49) \n[GCC 4.2.1 (Apple Inc. build 5646)] on darwin\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Python 2.5.4 (r254:67916, Jun 24 2010, 21:47:25) \n[GCC 4.2.1 (Apple Inc. build 5646)] on darwin\n</code></pre>\n\n<p>neither of which work.  There's also this:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.getdefaultencoding()\n'ascii'\n&gt;&gt;&gt; sys.stdin.encoding\n'UTF-8'\n&gt;&gt;&gt; sys.stdout.encoding\n'UTF-8'\n&gt;&gt;&gt; sys.getfilesystemencoding()\n'utf-8'\n</code></pre>\n\n<p>but from what I've read, the defaultencoding is a mysterious beast.  Changing it doesn't actually fix anything anyway.  That is, </p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.setdefaultencoding('utf-8')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'module' object has no attribute 'setdefaultencoding'\n&gt;&gt;&gt; reload(sys)\n&lt;module 'sys' (built-in)&gt;\n&gt;&gt;&gt; sys.setdefaultencoding('utf-8')\n&gt;&gt;&gt; # !!!\n... c = raw_input()\nno dice!\n</code></pre>\n\n<p>doesn't work.  Just more beeping.  I can't cut-and-paste Japanese text from other applications, either.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","layout","plot","matplotlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13228254,"title":"subplots are overlapping axis labels","body":"<p>I have created a figure in python which contains multiple subplots. I have also added various axis labels to some of the axes on the figures. For examples:</p>\n\n<pre><code>plt.xlabel('Phase ($^\\circ$)',fontsize=10)\n</code></pre>\n\n<p>I notice though, that when the final figure is produced, the other subplots are allowed to overlap and obscure the words of the axis labels.</p>\n\n<p>Is there a way that I can stop this happening?</p>\n"},{"tags":["python","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13227494,"title":"Paging output from print statement","body":"<p>I'm essentially trying to achieve this:</p>\n\n<pre><code>&gt;&gt;&gt;print \"SOME_VERY_LONG_TEXT\" | more\n</code></pre>\n\n<p>Of course, it doesn't work in Python 2.7(IDLE). </p>\n\n<p>Also, I tried pager 1.2's page function (http://pypi.python.org/pypi/pager/1.2),  but I don't know how to get it to work correctly. </p>\n\n<p>Any ideas?</p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>I found a lazy way, as follows,</p>\n\n<p><code>\n   import pydoc</p>\n\n<p>pydoc.pager(\"SOME_VERY_LONG_TEXT\") \n   </code></p>\n"},{"tags":["python","decorator","fsm"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13228620,"title":"Create class with decorator","body":"<p>I've implemented a <code>Finite state machine</code> in python. This works but implementing a state needs to write unnecessary code.</p>\n\n<pre><code>class State:\n    def __init__(self):\n        &lt;do something&gt;\n\n    def __call__():\n       &lt;do something different&gt;\n\nclass ConcreteState(State):\n    def __init__(self):\n       super().__init__()\n\n    def __call__():\n        super().__call__()\n       &lt;do concrete state implementation&gt;\n</code></pre>\n\n<p>Is it possible to make a <code>decorator</code> in order to implement a concrete state like the following example?</p>\n\n<pre><code>@StateDecorator\ndef concreteState():\n   &lt;do concrete state implementation&gt;\n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13226680,"title":"Python - occurrence of substring in a list of lists","body":"<p>I am working with a function that would search for a substring in a list of lists, as the first three characters of each item in the list.  For example, if the substring is <code>'aaa'</code> and the list of lists is <code>[['aaa111', 'aba123', 'aaa123'], ['aaa302', 'cad222']]</code>, I would like the function to return a list of percentages <code>[66, 50]</code>, since <code>'aaa'</code> appears in the first list 2/3 times, and in the second list 1/2 times.  So far I have:</p>\n\n<pre><code>def percentage(list_of_lists, substring):\n    count = 0\n    percentage = []\n    for item in list_of_lists:\n        for i in item:\n            if substring == i[0:3]:\n                count += 1\n        percentage.append(int(count / len(item) * 100))\n    return percentage\n</code></pre>\n\n<p>I understand that my code may be excessive, but I'm just getting the gist of Python so I'm not worried.  </p>\n\n<pre><code>&gt;&gt;&gt; percentage([['aaa111', 'aba123', 'aaa123'], ['aaa302', 'cad222']], 'aaa')\n[66, 150]\n</code></pre>\n\n<p>How do I make it count list by list in my list_of_lists?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13226398,"title":"Reading data through XML file tag and inseting newline while outputting to outlook","body":"<p>I have the following data in an XML file which i am reading using the below mentioned python code and then writing that to outlook,when its written to outlook I see all the data gets printed in one line..I want to print one line after the other,I tried to use \"br\" tag in the xml file at the end of everyline,wrap each line around \"br\"and \"/br\" but nothing seems to work,any suggestions?\nXML</p>\n\n<pre><code>&lt;rel_notes&gt;\n    1.)Please move to this build for all further test and development \n    activities .\n    2.)Please use this as a basebuild to verify \n    compilation and sanity\n    3.)Any CL that nees to be integrated must \n    have a CL\n&lt;/rel_notes&gt;\n</code></pre>\n\n<p>Python code</p>\n\n<pre><code>from xml.etree import cElementTree as etree\ntree = etree.parse(file)\nReleasenotes = ('\\n'.join(elem.text for elem in tree.iter('rel_notes')))\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>Release notes: 1.)Please move to this build for all further test and development activities 2.)Please use this as a basebuild to verify compilation and sanity 3.)Any CL that nees to be integrated must have a CL\n</code></pre>\n"},{"tags":["python","xml","xml-parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13228223,"title":"Iterating through a xml is not working in python","body":"<p>My XML:</p>\n\n<pre><code>&lt;animals&gt;\n  &lt;animal name=\"fox\" fullname=\"fullfox\"&gt;&lt;/animal&gt;\n  &lt;animal name=\"dog\" fullname=\"halfdog\"&gt;&lt;food&gt;milk&lt;/food&gt;&lt;food&gt;rice&lt;/food&gt;&lt;food&gt;meat&lt;/food&gt;   &lt;/animal&gt;\n  &lt;animal name=\"cow\" fullname=\"doublecow\"&gt;&lt;food&gt;grass&lt;/food&gt;&lt;/animal&gt;\n  &lt;animal name=\"blabla\" fullname=\"fullbla\"&gt;&lt;/animal&gt;\n&lt;/animals&gt;\n</code></pre>\n\n<p>I'm trying to parse this XML to get same XML as output.</p>\n\n<pre><code>doc    = ET.parse(\"an.xml\")\nroot = doc.getroot() #Returns the root element for this tree.\nroot_new  = ET.Element(\"animals\") \nfor child in root:\n    name = child.attrib['name']\n    fullname = child.attrib['fullname']\n\nfor g in root.findall(\"*/food\"):\n    animal    = ET.SubElement(root_new, \"animal\") \n    food     = ET.SubElement(animal, \"food\")   \n    food.text = g.text\n    animal.set(\"name\",name)               \n    animal.set(\"fullname\",fullname) \n\ntree = ET.ElementTree(root_new)\ntree.write(sys.stdout)\n</code></pre>\n\n<p>But am getting only last value</p>\n\n<pre><code>&lt;animals&gt;\n  &lt;animal fullname=\"fullbla\" name=\"blabla\"&gt;&lt;food&gt;milk&lt;/food&gt;&lt;/animal&gt;\n  &lt;animal fullname=\"fullbla\" name=\"blabla\"&gt;&lt;food&gt;rice&lt;/food&gt;&lt;/animal&gt;\n  &lt;animal fullname=\"fullbla\" name=\"blabla\"&gt;&lt;food&gt;meat&lt;/food&gt;&lt;/animal&gt;\n  &lt;animal fullname=\"fullbla\" name=\"blabla\"&gt;&lt;food&gt;grass&lt;/food&gt;&lt;/animal&gt;\n&lt;/animals&gt;\n</code></pre>\n\n<p>And food node also wrong, how to iterate exactly like my input XML?</p>\n"},{"tags":["python","django","filter","queryset","modelform"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13227434,"title":"How to set modelform instance based queryset results","body":"<p>I have a querylist that returns possible solutions to a problem. The list returns the results that I am expecting. I am trying to add a checkbox form that correlates to each item on the querylist. Its not too fancy, I just need to check the box and update the model. I have two <strong>models</strong>:</p>\n\n<pre><code>149 class TaskSolution(models.Model):                                                                                                           \n150     solution          = models.TextField()                                                                                                  \n151     submitter         = models.ForeignKey(User, null=True, blank=True)                                                                       \n152     relatedtask       = models.ForeignKey(Task, null=True, blank=True)                                                                      \n153     solutionnumber    = models.IntegerField(editable=False)                                                                                 \n154     date_created      = models.DateTimeField(editable=False)                                                                                 \n155     date_updated      = models.DateTimeField(editable=False)                                                                                \n156     confimed_solution = models.BooleanField()                                                                                               \n157     objects           = SolutionVoteManager()\n\n160     def save(self, *args, **kwargs):                                                                                                        \n161         if not self.id:                                                                                                                     \n162             self.date_created = datetime.now()                                                                                              \n163         self.date_updated = datetime.now()                                                                                                  \n164         super(TaskSolution, self).save(*args, **kwargs)                                                                                     \n\n166     def __unicode__(self):                                                                                                                  \n167         return self.id                                                                                                                      \n\n169     def __unicode__(self):                                                                                                                  \n170         return \"%s\" % self.object_pk                                                                                                        \n\n172     def __unicode__(self):                                                                                                                  \n173         return self.solution  \n\n\n184 class MarkedSolved(models.Model):                                                                                                           \n185     is_solution      = models.BooleanField(verbose_name='')                                                                                 \n186     related_idea     = models.ForeignKey(Idea, editable=False)                                                                              \n187     related_task     = models.ForeignKey(Task, editable=False)                                                                              \n188     related_solution = models.IntegerField(editable=False)                                                                                  \n189     date_updated     = models.DateTimeField(editable=False)                                                                                 \n\n191     def save(self, *args, **kwargs):                                                                                                        \n192         self.date_updated = datetime.now()                                                                                                  \n193         super(MarkedSolved, self).save(*args, **kwargs)                                                                                     \n\n195     def __unicode__(self):                                                                                                                  \n196         return self.id                                                                                                                      \n\n198     def __unicode__(self):                                                                                                                  \n199         return \"%s\" % self.object_pk                                                                                                        \n\n201     def __unicode__(self):                                                                                                                  \n202         return \"%s\" % self.is_solution\n\n204 class MarkedSolved(ModelForm):                                                                                                          \n205     class Meta:                                                                                                                             \n206         model = MarkedSolved      \n</code></pre>\n\n<p>Now in my <strong>View</strong> I have the following queryset:</p>\n\n<pre><code>solution_list = TaskSolution.objects.filter(relatedtask__id=task_id) \n</code></pre>\n\n<p>This is fine as it returns the solutions as expected. The issue I am now having is I would Like the MarkSolved form initial value to correlate with the solution_list value.</p>\n\n<pre><code> 393 if request.method == 'POST':                                                                                                                                                                                                                              \n 394         mark_solved_form = PostMarkedSolved(data=request.POST, instance=solution_task)\n</code></pre>\n\n<p>Essentially I am looking for a query like this:</p>\n\n<pre><code>select * from markedsolved a, tasksolution b where a.related_solution=b.solutionnumber and a.related_solution=1 and b.solutionnumber=1 and a.related_task_id = 5 and b.relatedtask_id=5;\n</code></pre>\n\n<p>Where all the values match up from the two models in the queryset. That query returns the exact results I would like, but I am at a loss on now to populate the initial value based on the solution_list results.</p>\n"},{"tags":["python","mongodb","mongoengine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13219461,"title":"issue in mongoengine: ReferenceFields will default to using ObjectId","body":"<p>Following this official <a href=\"https://mongoengine-odm.readthedocs.org/en/latest/tutorial.html\" rel=\"nofollow\">tutorial</a> I've coded this:</p>\n\n<pre><code>#! /usr/bin/env python\n\nfrom mongoengine import *\n\nconnect('tumbleblog')\n\n\nclass User(Document):\n  email = StringField(required=True)\n  first_name = StringField(max_length=50)\n  last_name = StringField(max_length=50)\n\nclass Comment(EmbeddedDocument):\n  content = StringField()\n  name = StringField(max_length=120)\n\nclass Post(Document):\n  title = StringField(max_length=120, required=True)\n  author = ReferenceField(User, reverse_delete_rule=CASCADE)\n  tags = ListField(StringField(max_length=30))\n  comments = ListField(EmbeddedDocumentField(Comment))\n\nclass TextPost(Post):\n  content = StringField()\n\nclass ImagePost(Post):\n  image_path = StringField()\n\nclass LinkPost(Post):\n  link_url = StringField()\n\n\njohn = User(email=\"example@gmail.com\",first_name='john', last_name='doe')\njohn.save()\n</code></pre>\n\n<p>But I don't know why when trying to run it it says:</p>\n\n<pre><code>/Library/Python/2.7/site-packages/mongoengine/fields.py:736: FutureWarning: ReferenceFields will default to using ObjectId  strings in 0.8, set DBRef=True if this isn't desired\n  warnings.warn(msg, FutureWarning)\n/Library/Python/2.7/site-packages/mongoengine/base.py:589: FutureWarning: TextPost uses inheritance, the default for allow_inheritance is changing to off by default. Please add it to the document meta.\n  FutureWarning\n/Library/Python/2.7/site-packages/mongoengine/base.py:589: FutureWarning: ImagePost uses inheritance, the default for allow_inheritance is changing to off by default. Please add it to the document meta.\n  FutureWarning\n/Library/Python/2.7/site-packages/mongoengine/base.py:589: FutureWarning: LinkPost uses inheritance, the default for allow_inheritance is changing to off by default. Please add it to the document meta.\n  FutureWarning\n[Finished in 0.2s]\n</code></pre>\n\n<p>Where I went wrong? I've followed the official tutorial..Did I miss something?</p>\n\n<p>PS\nMongodb is up and running</p>\n"},{"tags":["python","sql","database","ms-access","pyodbc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13227764,"title":"Receiving quantity and list of fields of the table","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4539254/how-to-get-datatypes-of-specific-fields-of-an-access-database-using-pyodbc\">How to get datatypes of specific fields of an Access database using pyodbc?</a>  </p>\n</blockquote>\n\n\n\n<p>What sql request receives quantity of fields of the table Access in pyodbc connection with database? What sql request receives the list of fields of the table Access in pyodbc connection with database?</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13227818,"title":"\"Import Error: dynamic module does not define init function (init_mysql)\" importing MySQLdb on OS X","body":"<p>I installed the mysqldb for python on mac os x, but it gives me the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"build/bdist.macosx-10.6-intel/egg/MySQLdb/__init__.py\", line 19, in &lt;module&gt;\n  File \"build/bdist.macosx-10.6-intel/egg/_mysql.py\", line 7, in &lt;module&gt;\n  File \"build/bdist.macosx-10.6-intel/egg/_mysql.py\", line 6, in __bootstrap__\nImportError: dynamic module does not define init function (init_mysql)\n</code></pre>\n\n<p>How can I solve this issue?</p>\n"},{"tags":["python","datetime","time","time-measurement"],"answer_count":9,"favorite_count":8,"up_vote_count":12,"down_vote_count":1,"view_count":26183,"score":11,"question_id":766335,"title":"Python speed testing - Time Difference - milliseconds","body":"<p>What is the proper way to compare 2 times in Python in order to speed test a section of code? I tried reading the API docs. I'm not sure I understand the timedelta thing.</p>\n\n<p>So far I have this code:</p>\n\n<pre><code>from datetime import datetime\n\ntstart = datetime.now()\nprint t1\n\n# code to speed test\n\ntend = datetime.now()\nprint t2\n# what am I missing?\n# I'd like to print the time diff here\n</code></pre>\n"},{"tags":["python","python-2.7"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":47,"score":3,"question_id":13225312,"title":"Interleave two lists of different length in python v. 2?","body":"<p>I am trying to write a Python function that takes two lists as arguments and interleaves them.  The order of the component lists should be preserved.  If the lists do not have the same length, the elements of the longer list should end up at the\nend of the resulting list.\nFor example, I'd like to put this in Shell:</p>\n\n<pre><code>interleave([\"a\", \"b\"], [1, 2, 3, 4])\n</code></pre>\n\n<p>And get this back:</p>\n\n<pre><code>[\"a\", 1, \"b\", 2, 3, 4]\n</code></pre>\n\n<p>If you can help me I'd appreciate it.</p>\n"},{"tags":["python","file","python-2.7"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":131,"score":0,"question_id":13227970,"title":"How to effectively remove a line in the middle of a large file?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2329417/fastest-way-to-delete-a-line-from-large-file-in-python\">Fastest Way to Delete a Line from Large File in Python</a><br>\n  <a href=\"http://stackoverflow.com/questions/8868499/how-to-edit-a-line-in-middle-of-txt-file-without-overwriting-everything\">How to edit a line in middle of txt file without overwriting everything?</a>  </p>\n</blockquote>\n\n\n\n<p>I know I can read every line into a list, remove a line, then write the list back.</p>\n\n<p>But the file is large, is there a way to remove a part in the middle of the file, and needn't rewrite the whole file?</p>\n"},{"tags":["python","datetime","numpy","pandas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13227865,"title":"How to convert from pandas.DatetimeIndex to numpy.datetime64?","body":"<p>How to convert from <code>pandas.DatetimeIndex</code> to <code>numpy.datetime64</code>?</p>\n\n<p>I get:</p>\n\n<pre><code>&gt;&gt;&gt; type(df.index.to_datetime())\nOut[56]: pandas.tseries.index.DatetimeIndex\n</code></pre>\n\n<p>Is it safe to do <code>numpy.array(datetimeindex,dtype=numpy.datetime64)</code>?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13225540,"title":"Is there a way to atomically run a function as a transaction within google app engine when the function modifies more than five entity groups?","body":"<p>I'm developing on google app engine.  The focus of this question is a python function that modifies hundreds of entity groups.  The function takes one string argument.  I want to execute this function as a transaction because there are instances right now when the same function with the same string argument are simultaneously run, resulting in unexpected results.  I want the function to execute in parallel if the string arguments are different, but not if the string arguments are the same, they should be run serially.</p>\n\n<p>Is there a way to run a transaction on a function that modifies so many entity groups?  So far, the only solution I can think of is flipping a database flag for each unique string parameter, and checking for the flag (deferring execution if the flag is set as True).  Is there a more elegant solution?</p>\n"},{"tags":["python","google-app-engine","http-headers","craigslist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13226598,"title":"How to remove the Google App Engine default header when fetching a URL?","body":"<p>I'm trying to build a small app on GAE to help me manage the craigslist listing I'm interested in. I want to fetch some data from these listings from my app, but every time I do so I get a 404 from craigslist. </p>\n\n<p>After some investigation it turns out my code is not the culprit: craigslist looks at the HTTP headers and systematically returns a 404 when it finds \"AppEngine-Google\" in the User-Agent header!</p>\n\n<p>You can see that with curl:</p>\n\n<pre><code>curl http://sfbay.craigslist.org/\n</code></pre>\n\n<p>works (returns the page).</p>\n\n<pre><code>curl http://sfbay.craigslist.org/ --header \"User-Agent: AppEngine-Google\"\n</code></pre>\n\n<p>doesn't give anything.</p>\n\n<p>Any idea how I could remove this header which is set by default by GAE? Or another idea to get around the issue?</p>\n"},{"tags":["python","date","datetime"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13227597,"title":"How to compare dates only (and not the time) in python","body":"<p>I have 2 datetime objects. One only has the date and the other one has date &amp; time. I want to compare the dates only (and not the time). \nThis is what I have:</p>\n\n<pre><code>d2=datetime.date(d1.year,d1.month,d1.day)\nprint d2 == d1.date\n</code></pre>\n\n<p>It prints out false. Any idea why? </p>\n\n<p>Thank you! </p>\n"},{"tags":["python","soap","soap-client"],"answer_count":17,"favorite_count":79,"up_vote_count":138,"down_vote_count":0,"view_count":65114,"score":138,"question_id":206154,"title":"What's the best SOAP client library for Python, and where is the documentation for it?","body":"<p>I've never used <a href=\"http://en.wikipedia.org/wiki/SOAP\" rel=\"nofollow\">SOAP</a> before and I'm sort of new to Python.  I'm doing this to get myself acquainted with both technologies.  I've installed <a href=\"http://trac.optio.webfactional.com/wiki/soaplib\" rel=\"nofollow\">SOAPlib</a> and I've tried to read their <a href=\"http://trac.optio.webfactional.com/wiki/Client\" rel=\"nofollow\">Client</a> documentation, but I don't understand it too well.  Is there anything else I can look into which is more suited for being a SOAP Client library for Python?</p>\n\n<p>Edit: Just in case it helps, I'm using Python 2.6.</p>\n"},{"tags":["python","scrapy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13227546,"title":"Scrapy crawls first page but does not follow links","body":"<p>I can't figure out why Scrapy is crawling the first page but not following the links to crawl the subsequent pages. It must be something to do with the Rules. Much appreciated. Thank you!</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from scrapy.contrib.spiders import CrawlSpider, Rule\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor\nfrom scrapy.selector import HtmlXPathSelector\nfrom craigslist_sample.items import CraigslistItem\n\nclass MySpider(CrawlSpider):\n    name = \"craig\"\n    allowed_domains = [\"sfbay.craigslist.org\"]\n    start_urls = [\"http://sfbay.craigslist.org/acc/\"]   \n\n    rules = (Rule (SgmlLinkExtractor(allow=(\"index100\\.html\", ),restrict_xpaths=('//p[@id=\"nextpage\"]',))\n    , callback=\"parse_items\", follow= True),\n    )   \n\n    def parse_items(self, response):\n        hxs = HtmlXPathSelector(response)\n        titles = hxs.select(\"//p\")\n        items = []\n        for titles in titles:\n            item = CraigslistItem()\n            item [\"title\"] = titles.select(\"a/text()\").extract()\n            item [\"link\"] = titles.select(\"a/@href\").extract()\n            items.append(item)\n        return(items)\n\nspider = MySpider()\n</code></pre>\n"},{"tags":["python","openoffice.org","pyuno"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1605,"score":1,"question_id":4270962,"title":"Using pyuno with my existing python installation","body":"<p>I'm trying to use PyUNO as a method to convert different document formats (doc, wordperfect, html, etc) to PDF from within my Django server.  I'm having a heck of a time getting <code>import uno</code> to work.  It seems to fail when doing <code>import pyuno</code>, with a message of <code>ImportError: DLL Load Failed: The specified module could not be found</code>.</p>\n\n<p>The only way I can get this to work is to use the Python 2.6 that came with OpenOffice, but I really want to use my other 2.6 installation.  The docs for PyUNO are all for Python 2.2, and reputed to be out-of-date.  </p>\n\n<p>I'm guessing that some (or all) of the following files need to be copied from the OpenOffice directory to my site-packages directory (or some subdirectory thereof):</p>\n\n<pre><code>pythonloader.py\npythonloader.uno.ull\npythonloader.uno.ini\npythonscript.py\npyuno.pyd\n</code></pre>\n\n<p>Has anyone had any success getting this to work?</p>\n\n<p>This is on Windows.</p>\n"},{"tags":["python","unicode"],"answer_count":2,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":1189,"score":6,"question_id":2571515,"title":"Using a Unicode format for Python's `time.strftime()`","body":"<p>I am trying to call Python's <code>time.strftime()</code> function using a Unicode format string:</p>\n\n<pre><code>u'%d\\u200f/%m\\u200f/%Y %H:%M:%S'\n</code></pre>\n\n<p>(<a href=\"http://www.fileformat.info/info/unicode/char/200f/index.htm\"><code>\\u200f</code></a> is the \"Right-To-Left Mark\" (RLM).)</p>\n\n<p>However, I am getting an exception that the RLM character cannot be encoded into ascii:</p>\n\n<blockquote>\n  <p>UnicodeEncodeError: 'ascii' codec can't encode character u'\\u200f' in position 2: ordinal not in range(128)</p>\n</blockquote>\n\n<p>I have tried searching for an alternative but could not find a reasonable one. Is there an alternative to this function, or a way to make it work with Unicode characters?</p>\n"},{"tags":["python","google-app-engine","google","oauth-2.0","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13221978,"title":"Getting Error: redirect_uri_mismatch The redirect URI in the request: http://localhost:8080/oauth2callback did not match a registered redirect URI","body":"<p>I'm getting this error while trying to run my application...</p>\n\n<pre><code>The redirect URI in the request: http://localhost:8080/oauth2callback did not match a registered redirect URI\n</code></pre>\n\n<p>In google API console i have registered my redirect urls </p>\n\n<pre><code>Redirect URIs:  http://localhost:8080/\n</code></pre>\n\n<p>And in the client_secrets.json also i'm using the same as redirect url\nI'm following this tutorial\n<a href=\"https://developers.google.com/bigquery/articles/dashboard#addoauth2\" rel=\"nofollow\">https://developers.google.com/bigquery/articles/dashboard#addoauth2</a></p>\n\n<p>Edit:</p>\n\n<p>I just made some changes to the existing code</p>\n\n<p>Now the</p>\n\n<pre><code>redirect URIs in API console is     http://localhost:8080/oauth2callback\n</code></pre>\n\n<p>And here is  my app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>Now though its not showing any error but it displays a blank page.</p>\n\n<p>Here is my main.py</p>\n\n<pre><code>from bqclient import BigQueryClient\nimport httplib2\nimport os\nfrom google.appengine.api import memcache\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\n# Project ID for project to receive bill.\n# During limited availability preview, there is no bill.\n# The value should be your quoted Client ID number \n# which you previously recorded from code.google.com/apis/console\n\n# REPLACE THIS NUMBER WITH YOUR CLIENT ID\nPROJECT_ID = \"My Project ID\"  #i just replaced dat\nDATASET = \"samples\"\nTABLE = \"natality\"\n\n# CLIENT_SECRETS, name of a file containing the OAuth 2.0\n# information for this application.\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__),\n    'client_secrets.json')\n\nhttp = httplib2.Http(memcache)\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n    'https://www.googleapis.com/auth/bigquery')\n\nbq = BigQueryClient(http, decorator)\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n        self.response.out.write(\"Hello Dashboard!\\n\")\n\n\napplication = webapp.WSGIApplication([\n   ('/', MainHandler),\n], debug=True)\n\ndef main():\n   run_wsgi_app(application)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>So according to main.py if everything is fine it must print Hello Dashboard but it isn't</p>\n"},{"tags":["python","pdb"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13225913,"title":"In pdb (python debugger), can I set a breakpoint on a builtin function?","body":"<p>I want to set a breakpoint on the set.update() function, but when I try, I get an error message.</p>\n\n<p>Example:</p>\n\n<pre><code>ss= set()\nss.update('a')\n</code></pre>\n\n<p>Breakpoint:</p>\n\n<pre><code>b set.update\nb ss.update\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>The specified object 'ss.update' is not a function\nor was not found along sys.path.\n\nThe specified object 'set.update' is not a function\nor was not found along sys.path.\n</code></pre>\n\n<p>(Note, I also tried with the parentheses at the end, e.g., <code>b set.update()</code>, but still got the error. I didn't print all the permutations of errors.)</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":62,"score":1,"question_id":13226848,"title":"Reuse specific lines of code","body":"<p>Suppose I use this block of code very often in my Python file</p>\n\n<pre><code>if x == 1:\n  x += 1\nelse:\n  x -= 1\n</code></pre>\n\n<p>Is there a way to \"copy\" this code, so that I don't have to type these four lines repeatedly throughout the file?</p>\n"},{"tags":["python","google-app-engine","oauth-2.0","yaml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13227212,"title":"What does this thing in app.yaml mean","body":"<p>Here is app.yaml code</p>\n\n<pre><code>application: hellodashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>I wanted to know what does</p>\n\n<pre><code> - url: /oauth2callback\n  script: oauth2client/appengine.py\n</code></pre>\n\n<p>mean?\nI know the second line indicate that there is a script called appengine.py in oauth2client directory.But what does <strong>url:/oauth2callback</strong> indicate.</p>\n"},{"tags":["python","image-processing","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13225525,"title":"\"System error: new style getargs format but argument is not a tuple\" when using cv2.blur","body":"<p>I am just trying to apply a filter to an image using cv2, the opencv python bindings. Here is what my code look like:</p>\n\n<pre><code>im = cv2.imread('./test_imgs/zzzyj.jpg')\ncv2.imshow('Image', cv2.blur(im, 2)\ncv2.waitKey(0)\n</code></pre>\n\n<p>It's almost copy-and-paste from the <a href=\"http://docs.opencv.org/modules/imgproc/doc/filtering.html#void%20blur%28InputArray%20src,%20OutputArray%20dst,%20Size%20ksize,%20Point%20anchor,%20int%20borderType%29\" rel=\"nofollow\">documentation</a>. However, it just doesn't work, with no more trace than this message:</p>\n\n<pre><code>SystemError: new style getargs format but argument is not a tuple\n</code></pre>\n\n<p>The same error occurs with GaussianBlur, but not with medianBlur. Any thoughts?</p>\n"},{"tags":["python","planar-graph"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13226802,"title":"python planar graph generator library","body":"<p>I am looking for the library of planar graph generator to test my program. </p>\n\n<p>Please give me some hints or feedback. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","transform","data.frame","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":348,"score":1,"question_id":9339184,"title":"Python: Pandas, Dataframe, Convert 1column data into 2D data format","body":"<p>This is Pandas dataframe\nI want to convert 1D data into 2D array form </p>\n\n<p>How to convert from </p>\n\n<pre><code>  'A'  'B'  'C'\n1  10   11   a  \n2  10   12   b\n3  10   13   c \n4  20   11   d  \n5  20   12   e\n6  20   13   f\n\nto this 2d array as the following\n\n   11 12 13\n10  a  b  c \n20  d  e  f\n</code></pre>\n"},{"tags":["python","printing","flush"],"answer_count":9,"favorite_count":30,"up_vote_count":179,"down_vote_count":1,"view_count":81542,"score":178,"question_id":230751,"title":"How to flush output of Python print?","body":"<p>I would like to force Python's print function to output to the screen.</p>\n"},{"tags":["python","scripting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13226203,"title":"What python codes can I run on my hosting server (or service)","body":"<p>I've been doing some codes on python and I really love working on it, but I do have a question and I don`t seem to find the answer to it....</p>\n\n<p>What types of codes or script can I run on a website, or hosted service like <code>hostgator</code>..?</p>\n\n<p>Let me give some description about why do I ask this. I know that I could do some database web apps base on server side scripting and stuff like that,, but my question in more related to other ideas that I have in mind but I`m not sure that it can be done.</p>\n\n<p>For example.. </p>\n\n<p>I have a small script using <code>urllib2</code> and <code>Beautifulsoup</code>, that opens a website, reads the <code>html</code> tags, gets the info that I need and the it stores the values to some variables, and finally it post that value on sharing sites... I do this mostly every day on my pc and the script runs like a charm.... </p>\n\n<p>I think my question is, can this be done on a regular web server like <code>hostgator</code>, or It can't be done and I`ll have to keep running the code on my pc?</p>\n\n<p>I`m fairly new to python and web apps and I have no idea what types of scripts I could or could not run on my websites...</p>\n\n<p>Please any help would be really great</p>\n"},{"tags":["python","pandas","multi-index"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13226029,"title":"Benefits of panda's multiindex?","body":"<p>So I learned that I can use DataFrame.groupby without having a MultiIndex to do subsampling/cross-sections.</p>\n\n<p>On the other hand, when I have a MultiIndex on a DataFrame, I still need to use DataFrame.groupby to do sub-sampling/cross-sections.</p>\n\n<p>So what is a MultiIndex good for apart from the quite helpful and pretty display of the hierarchies when printing?</p>\n"},{"tags":["python","file"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13226123,"title":"Python read files in directory and concatenate","body":"<p>I want to write a Python script that searches all folders in the current directory, looks for all <code>.txt</code> files, and creates a file that is a concatenation of all those files (in any order) in the current directory. If folders have subfolders, it should not search those subfolders. An example is</p>\n\n<pre><code>main_folder\n  folder_1\n    sub_folder\n      file1.txt\n    file2.txt\n  folder_2\n    file3.txt\n</code></pre>\n\n<p>The script is placed inside <code>main_folder</code>. It should create a file that is a concatenation of <code>file2.txt</code> and <code>file3.txt</code> (in any order) inside <code>main_folder</code>. </p>\n\n<p>My question is: How can I tell Python to traverse through the folders, look for <code>.txt</code> files, without going into the subfolders?</p>\n"},{"tags":["python","django","django-admin"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13191594,"title":"How can i do pagination for M2M Django","body":"<pre><code>class Movie(models.Model):\n    title= models.CharField(max_length=100,)\n    votes=models.IntegerField(null=True)\n    year=models.IntegerField(null=True)\n    aspect_ration=models.CharField(max_length=50,)\n    mpaa=models.CharField(max_length=200,)\n    rating =models.CharField(max_length=20,)\n    imdbid=models.CharField(max_length=50,)\n    top_250_rank=models.IntegerField(null=True)\n    cover_url=models.CharField(max_length=500,)\n    plot_outline=models.TextField(blank=True, null=True)\n    summary= models.TextField(blank=True, null=True)\n    pub_date = models.DateTimeField(null=True, blank=True,default=datetime.today())\n    akas_id = models.ManyToManyField('Akas', verbose_name=u'Akas ID',related_name=\"Akas_M2M_Movie\")\n\n\nclass Akas(models.Model):\n     name=models.CharField(max_length=500,)\n     def __unicode__(self):\n        return u'%s' % (self.name)\n     class Meta:\n         verbose_name = 'Other Movie Title'\n         verbose_name_plural = 'Other Movie Titles'\n    db_table = 'Akas'\n</code></pre>\n\n<p>In the 'Akas' table i have 2225188 record So The Change view takes long time to load this  field. What is the solution to resolve this issue ? Can i do pagination for the m2m widget ?</p>\n\n<p>Can any one help for this issue ?  In admin.py i am using filter_horizontal = ['Akas',]\n<img src=\"http://i.stack.imgur.com/Rlxfb.png\" alt=\"Image showing Bellow for the Aka Table \"></p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13225520,"title":"Django Generic Edit Views To Accept An Instance","body":"<p>given that I have a Version model which References product model, how can I create generic create or update views that uses an instance of the Product model in the form given this url:</p>\n\n<pre><code>url(r'^product/(?P&lt;pk&gt;\\d+)/create_version', ProductVersionCreateView.as_view(), name='workspace_product_create_version'),\n</code></pre>\n\n<p>thanks in advance!</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13226200,"title":"How to loop through inside a child node","body":"<pre><code>&lt;person&gt;\n&lt;user name=\"david\" password=\"super\"&gt;&lt;groups&gt;meganfox&lt;/groups&gt;&lt;/user&gt;\n&lt;user name=\"alen\" password=\"boss\"&gt;&lt;groups&gt;marvik&lt;/groups&gt;&lt;/user&gt;\n&lt;/person&gt;\n</code></pre>\n\n<p>I like to get the text value of \"groups\" . but its getting always None.</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\ndoc    = ET.parse(\"users.xml\")\nroot = doc.getroot() #Returns the root element for this tree.\nroot_new  = ET.Element(\"person\") \nfor child in root:\n    name                = child.attrib['name']\n    password             = child.attrib['password']\nfor groups in child.findall('groups'): #this is not working for me :(\n    gpvalue =  groups.text \n\n    user  = ET.SubElement(root_new, \"user\") # create subelement in cycle! \n    group = ET.SubElement(user, \"groups\")\n    user.set(\"name\",name)               \n    user.set(\"password\",password) \n    group.text = gpvalue\n\ntree = ET.ElementTree(root_new)\ntree.write(\"new.xml\")\n\nimport sys\ntree.write(sys.stdout)\n</code></pre>\n\n<p>Output am getting :(</p>\n\n<pre><code>&lt;person&gt;\n    &lt;user name=\"david\" password=\"super\"&gt;&lt;/groups&gt;&lt;/user&gt;\n    &lt;user name=\"alen\" password=\"boss\"&gt;&lt;/groups&gt;&lt;/user&gt;\n  &lt;/person&gt;\n</code></pre>\n\n<p>There is no groups text value. its print only a closed groups. please check the output</p>\n"},{"tags":["python","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13225721,"title":"Tkinter exception","body":"<p>When I call <code>self.root.destroy()</code>, I get this exception. How do I get rid of it?</p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1410, in __call__\n    return self.func(*args)\n  File \"game2-update.py\", line 24, in &lt;lambda&gt;\n    self.exit=Button(self.root,text=\"Exit\",command=lambda:self.root.destroy())\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1727, in destroy\n    for c in self.children.values(): c.destroy()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1983, in destroy\n    Misc.destroy(self)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 351, in destroy\n    self.tk.deletecommand(name)\nTclError: can't delete Tcl command\n</code></pre>\n\n<p>Edit : I think I found where this exception coming from. When I comment out this piece of code - self.root.after_cancel(self.after_stack[id]) - it stops showing. This code basically cancel scheduled execution of a function that deletes squares. Can anyone tell me why this is happening?</p>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13201822,"title":"Python 3 static members","body":"<p>I am trying to achieve the following:</p>\n\n<pre><code>class A:\n    username = None\n    username = get_username()\n    def get_username(self):\n        if username is None:\n            try:\n                uname = os.environ[\"USER\"]\n            except:\n                printf(\"Couldn't find a user name\")\n            return uname\n        return username\n</code></pre>\n\n<p>Not sure how to achieve this. I'm sure I'm missing some \"self.\" prefixes but this is the first time I'm working with python and static members.</p>\n\n<p>In a sense I want a class with some members and functions to calculate values for these members but I don't want recalculations. I would also like these to be static functions and data members.</p>\n\n<p>The problem is that the line \"username = get_username()\" the function hasn't already been defined. If I put username after the function then it's not </p>\n"},{"tags":["python","list","recursion"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":13205875,"title":"Add an item into a list recursively","body":"<p>Hi. I was wondering if there is a way to add items into a list recursively. The function is supposed to print the path names of the file that matches with fname. So fname is the name of the file and the path is the folder in which the file is located. If there are folders inside the path folder it will go inside and look for the fname file. so far I am able to find all the files. But I am not able to append the list recursively.</p>\n\n<pre><code>def findAll(fname, path): \n lst= []\n for item in os.listdir(path):\n        n = os.path.join(path, item)\n    try:\n        if item == fname:\n            lst.append(n)\n    except:\n        findAll(fname,n)\nreturn lst\n</code></pre>\n"},{"tags":["python","reflection","type-conversion","introspection","python-datamodel"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":4256,"score":7,"question_id":622161,"title":"Python Reflection and Type Conversion","body":"<p>In Python, functions like str(), int(), float(), etc. are generally used to perform type conversions.  However, these require you to know at development time what type you want to convert to.  A subproblem of some Python code I'm trying to write is as follows:</p>\n\n<p>Given two variables, <code>foo</code> and <code>bar</code>, find the type of <code>foo</code>.  (It is not known at development time, as this is generic code.)  Then, attempt to convert <code>bar</code> to whatever type <code>foo</code> is.  If this cannot be done, throw an exception.</p>\n\n<p>For example, let's say you call the function that does this <code>conv</code>.  Its signature would look like</p>\n\n<pre><code>def conv(foo, bar) :\n    # Do stuff.\n</code></pre>\n\n<p>It would be called something like:</p>\n\n<pre><code>result = conv(3.14, \"2.718\")  # result is now 2.718, as a float.\n</code></pre>\n"},{"tags":["python","dictionary"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":73,"score":3,"question_id":13225755,"title":"Convert list of keys and list of values to a dictionary","body":"<p>I have these lists:</p>\n\n<pre><code>list1 = [\"a\",\"b\",\"c\"]\nlist2 = [\"1\",\"2\",\"3\"]\n</code></pre>\n\n<p>I need to add them to a dictionary, where list1 is the key and list2 is the value.</p>\n\n<p>I wrote this code:</p>\n\n<pre><code>d = {}\nfor i in list1:\n    for j in list2:\n        d[i] = j\nprint d\n</code></pre>\n\n<p>The output is this:</p>\n\n<pre><code>{'a':'3','b':'3','c':'3'}\n</code></pre>\n\n<p>What's wrong with this code? How can I write it so the output is</p>\n\n<pre><code>{'a':'1','b':'2','c':'3'}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","heroku","psycopg2","hstore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13225830,"title":"django-hstore on Heroku","body":"<p>I've got a Django (v 1.3.3) project deployed on Heroku (cedar stack).  It uses the recommended dj_database_url for configuring settings.DATABASES.  Everything works great (to this point).</p>\n\n<p>However, I want to start using <a href=\"https://github.com/jordanm/django-hstore\" rel=\"nofollow\">django-hstore</a> for part of the application.  According to the docs, you have to change the database engine in settings.py to: </p>\n\n<pre><code>'ENGINE': 'django_hstore.postgresql_psycopg2',\n</code></pre>\n\n<p>As a result, in my settings.py file, I do the following:</p>\n\n<pre><code>DATABASES = {'default': dj_database_url.config()}\nDATABASES['default']['ENGINE'] = 'django_hstore.postgresql_psycopg2'\n</code></pre>\n\n<p>Everything works fine for me, locally.  And my models that have hstore fields work great (values are dictionaries).</p>\n\n<p>However, when I deploy to Heroku, the database engine gets reset/overridden to:</p>\n\n<pre><code>ENGINE: 'django.db.backends.postgresql_psycopg2'\n</code></pre>\n\n<p>In an attempt at debugging it, I have put a print after setting the engine in my settings file.  Then, I run bash:</p>\n\n<pre><code>heroku run bash\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>python myapp/manage.py shell\n</code></pre>\n\n<p>when I run this, my print statement shows me the correct (desired) database settings with the desired engine (django_hstore.postgresql_psycopg2).  However, if I then do:</p>\n\n<pre><code>from django.conf import settings\nprint settings.DATABASES\n</code></pre>\n\n<p>I can see the database engine is no longer django_hstore, but set back to the normal (non-hstore) value.  And if I import one of my models and do a get to load an object, the value in the hstore field is a string, and any attempt to access a key will throw and error:</p>\n\n<pre><code>TypeError: string indices must be integers, not str\n</code></pre>\n\n<p>Please keep in mind that this works find locally.  But, after deploying to heroku, any attempt at accessing values as dictionaries throws the TypeError above.</p>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Does anyone know why my engine is getting overridden?  And if so, how do I fix this?</li>\n</ul>\n\n<p>or</p>\n\n<ul>\n<li>Is there another way to use the hstore field with Django 1.3.3 that might not require having to change the engine (and therefore be a bit more Heroku friendly)</li>\n</ul>\n"},{"tags":["python","recursion","path"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13225711,"title":"return text file path","body":"<p>I want to return the path of a file, If it is found by the program, but I want it to continue to loop(or recursively repeat) the program until all files are checked.</p>\n\n<pre><code>def findAll(fname, path):\nfor item in os.listdir(path):\n    n = os.path.join(path, item)\n    try:\n        findAll(n, fname)\n    except:\n        if item == fname:\n            print(os.idontknow(item))\n</code></pre>\n\n<p>So I'm having trouble with calling the path, right now I have </p>\n\n<pre><code>os.idontknow(item) \n</code></pre>\n\n<p>as a place holder</p>\n\n<p>Input is :</p>\n\n<pre><code>findAll('fileA.txt', 'testpath')\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>['testpat\\\\fileA.txt', 'testpath\\\\folder1\\\\folder11\\\\fileA.txt','testpath\\\\folder2\\\\fileA.txt']\n</code></pre>\n"},{"tags":["python","matplotlib","networkx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13223191,"title":"Animate drawing networkx edges","body":"<p>I have a networkx spring layout that represents a network topology\nKey nodes are color as red and the other are blue\nThe routes to the key nodes edges are indicated with dashes\nHow can I animate the drawing the networkx edges with a specified time interval?</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport matplotlib.pyplot as plt\nimport networkx as nx\nimport matplotlib as mpl\n\nG=nx.Graph()\n\nG.add_edge('a','b',weight=0.6)\nG.add_edge('a','c',weight=0.2)\nG.add_edge('c','d',weight=0.1)\nG.add_edge('c','e',weight=0.7)\nG.add_edge('c','f',weight=0.9)\nG.add_edge('a','d',weight=0.3)\n\nelarge=[(u,v) for (u,v,d) in G.edges(data=True) if d['weight'] &gt;0.5]\nesmall=[(u,v) for (u,v,d) in G.edges(data=True) if d['weight'] &lt;=0.5]\n\n#specify an initial position that is not random e.g. use a circular layout\npos=nx.circular_layout(G)\npos=nx.spring_layout(G,dim=2,pos=pos) # positions for all nodes\n#pos=nx.spring_layout(G) # positions for all nodes\nprint \"Graph xy positions\"\nprint  pos\n\n# nodes\nnx.draw_networkx_nodes(G,pos,node_size=700)\n\n# edges\nnx.draw_networkx_edges(G,pos,edgelist=elarge,\n                width=6)\nnx.draw_networkx_edges(G,pos,edgelist=esmall,\n                width=6,alpha=0.5,edge_color='b',style='dashed')\n\n# labels\nnx.draw_networkx_labels(G,pos,font_size=20,font_family='sans-serif')\n\nplt.xlim(-0.05,1.05)\nplt.ylim(-0.05,1.05)\nplt.axis('off')\n</code></pre>\n"},{"tags":["python","gui","class","menu","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":591,"score":1,"question_id":3520494,"title":"Class menu in Tkinter Gui","body":"<p>I'm working on a Gui and I'd like to know if it is possible to make the menu property of a window a separate class on my script for a clearer and more enhancement prone code.</p>\n\n<p>my code currently is :</p>\n\n<pre><code>class Application(Frame):\n   \"\"\" main window application \"\"\"\n   def __init__(self, boss = None):\n   (...)\n   self.menu = Menu(self)\n   self.master.config(menu = self.menu)\n\n   self.select = Menu(self.menu)\n   self.menu.add_cascade(label = 'Select', menu = self.select)\n   self.select.add_command(label = 'Select all', command = self.select_all)\n   ...\n</code></pre>\n\n<p>And I would prefer something like :</p>\n\n<pre><code>class MenuBar:\n\n    # all the content of the menu here\n\nclass Application(Frame):\n   (...)\n   self.menu = MenuBar(self) ?\n</code></pre>\n\n<p>rgds,</p>\n"},{"tags":["python","opencv"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13225600,"title":"CaptureFromFile failing (PyOpencv)","body":"<p>I had a sample code running on my machine which doesn't run on another.<br>\nIn particular, that code just does :</p>\n\n<pre><code>from cv2 import cv\ntry: capture = cv.CaptureFromFile('clip.avi')    \nexcept: print 'error loading the video' \nnFrames = int( cv.GetCaptureProperty(capture, cv.CV_CAP_PROP_FRAME_COUNT))\nprint nFrames\n</code></pre>\n\n<p>On the machine which fails, the result is that nFrames = 0 (as well as the width, height, fps, fourcc etc.), but no exception is raised. I tried using an uncompressed video to make sure there is no codec issues. It also doesn't work with an MPEG1 video, nor any other videos I tried.<br>\nSo :</p>\n\n<ul>\n<li>Is-there a way to know what's going on, since there is no error\nhandling here (no exception raised, no error message, and I didn't\nfind a \"GetLastError\" function in pyOpenCV) ? </li>\n<li>Any idea what could be the issue ?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["python","list","dictionary","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13225254,"title":"Preserving python dictionary order - (Continuation of python dict )","body":"<p><a href=\"http://stackoverflow.com/questions/13218865/list-duplicate-data-concatenation-in-python/13220621\">List duplicate data concatenation in python</a></p>\n\n<p>This is in continuation of list issue but here i want to preserver the order of the dict</p>\n\n<pre><code>listData=[('audioVerify', '091;0'), ('imageVerify', 'icon091.gif'), ('bufferVerify', '\\x01?')]\n    methodList = {}\nfor item in listData:\n    methodList.setdefault(item[0],[]).append(item[1:])\nfor method in methodList:\n    arguments = methodList[method]\n    s = [method,arguments]\n    print s\n</code></pre>\n\n<p>when i iterate the list it gives the following</p>\n\n<pre><code>  ['audioVerify', [('091;0',)]]\n  ['bufferVerify', [('\\x01?',)]]\n  ['imageVerify', [('icon091.gif',)]]\n</code></pre>\n\n<p>but what are the possibilities where i can preserve the order as below:</p>\n\n<pre><code>  ['audioVerify', [('091;0',)]]\n  ['imageVerify', [('icon091.gif',)]]\n  ['bufferVerify', [('\\x01?',)]]\n</code></pre>\n"}]}
{"total":142322,"page":15,"pagesize":100,"questions":[{"tags":["python","python-2.7","urllib","raw"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13225484,"title":"Can't access Project Gutenberg raw text","body":"<p>I have a problem accessing the Project Gutenberg Library...\nI am using Python 2.7.3.\nI can access the NLTK library and work with python, but when attempting to access raw text, it doesn't allow me to.</p>\n\n<p>The text I was accessing is Crime and Punishment, it's len(raw) should equal 1176831, but instead gives me a len(raw) of 288.\nHere is the code that I used:</p>\n\n<pre><code>&gt;&gt;&gt; from __future__ import division\n&gt;&gt;&gt; import nltk, re, pprint\n&gt;&gt;&gt; from urllib import urlopen\n&gt;&gt;&gt; url = \"http://www.gutenberg.org/files/2554/2554.txt\"\n&gt;&gt;&gt; raw = urlopen(url).read()\n&gt;&gt;&gt; type(raw)\n&lt;type 'str'&gt;\n&gt;&gt;&gt; len(raw)\n288\n&gt;&gt;&gt; raw\n'&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\\n&lt;html&gt;&lt;head&gt;\\n&lt;title&gt;403 Forbidden&lt;/title&gt;\\n&lt;/head&gt;&lt;body&gt;\\n&lt;h1&gt;Forbidden&lt;/h1&gt;\\n&lt;p&gt;You don\\'t have permission to access /files/2554/2554.txt\\non this server.&lt;/p&gt;\\n&lt;hr&gt;\\n&lt;address&gt;Apache Server at www.gutenberg.org Port 80&lt;/address&gt;\\n&lt;/body&gt;&lt;/html&gt;\\n'\n&gt;&gt;&gt; \n</code></pre>\n"},{"tags":["python","argparse"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13225373,"title":"argparse: using subparsers and parse_known_args together","body":"<pre><code>#!/usr/bin/env python2.7\n\nimport argparse\n\ndef add_common_args(parser):\n\n    parser.add_argument(\n        '--common1',\n        required=True,\n        help='common 1')\n\n    parser.add_argument(\n        '--common2',\n        help='common 2')\n\n    parser.add_argument(\n        '--common3',\n        help='common 3')\n\n    print 'added common args'\n\ndef add_specific_args(parser):\n\n    parser.add_argument(\n        '--specific1',\n        required=True,\n        help='specific 1')\n\n    parser.add_argument(\n        '--specific2',\n        help='specific 2')\n\n    parser.add_argument(\n        '--specific3',\n        help='specific 3')\n\n    print 'added specific args'\n\nparser = argparse.ArgumentParser()\n\nparser.add_argument('proj')\n\nsubparsers = parser.add_subparsers(dest='cat')\n\nsub1 = subparsers.add_parser('sub1')\n\nadd_common_args(sub1)\n\nsub2 = subparsers.add_parser('sub2')\n\nadd_common_args(sub2)\n\nknown, remaining = parser.parse_known_args()\n\nprint 'known=%s remaining=%s' % (known, remaining)\n\nif known.proj == 'proj':\n\n    print 'known.proj == proj'\n\n    if known.cat == 'sub1':\n\n        print 'known.cat == cat'\n\n        add_specific_args(sub1)\n\nargs = parser.parse_args(namespace=known, args=remaining)\n\nprint args\n</code></pre>\n\n<p>The file has a name of test.py.  With the following args:</p>\n\n<pre><code>./test.py proj sub1 --help\n</code></pre>\n\n<p>The 'specific args' are not added.  Furthermore, if I use the required 'common1' with these args:</p>\n\n<pre><code>./test.py proj sub1 --common1 c1\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>usage: test.py [-h] proj {sub2,sub1} ...\ntest.py: error: too few arguments\n</code></pre>\n\n<p>I basically want to determine which args will be added based on two variables; the position 'proj' and the subparser name 'cat'.  Is this possible?  If so how should I do it?</p>\n\n<p>Thanks,\nScott</p>\n"},{"tags":["python","class"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":60,"score":-4,"question_id":13224369,"title":"how to use classes in python","body":"<p>I have a list of book and and a list of ratings for the book from users. </p>\n\n<p>[User1,2,1,3,6]..<br/>\n[User2,4,1,4 2]..<br/></p>\n\n<p>[Book1,Book2,Book3,Book4]<br/>\nratings from(1-4) </p>\n\n<p>example\nif Book 1 is \"The Pope\" <br/>\nthe raitings for the the book are [3,3,3,2]<br/>\nthe print out is \n         The Pope [3,3,3,2] [ ] </p>\n\n<p>using a class </p>\n\n<p>here is the set up for my class.</p>\n\n<pre><code>class Book(object):\n      booktotal=0\n      accept=[]\n      def __init__(self, Title= \" \", Rating=()):\n          self.scale=[1,2,3,4]\n          self.book = Title\n          self.rating= Rating\n          self.accept=[]\n          book.population +=1\n      def AddRating(self,rating):\n          if rating in self.scale:\n              accepted.append(rating)\n          else:\n              pass\n\n          return self.accept\n\n      def Average(self):\n          Avg=sum[accept]/3\n\n      def __str__(self):\n          return '{0} - {1} - {2}'.format(self.book, self.rating,self.accept)\n</code></pre>\n\n<p>how do i get it to print out the average and the number of reviews</p>\n"},{"tags":["python","recursion","virus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13225358,"title":"basic virus scan recursion","body":"<p>so I'm writing code that takes a <code>pathname</code>, a <code>signature</code>, and the third parameter is a <code>number</code> that represents the depth of subdirectories that should be scanned.</p>\n\n<p>So lets say I have a <strong>file: test</strong>:</p>\n\n<pre><code>In it is test1 folder,test2 folder,antivirus.py,simple.py\nIn test1 folder is antivirus1.py\nIn test2 folder is test3 folder, and antivirus2.py\nIn test3 folder is antivirus3.py\n</code></pre>\n\n<p><strong>So this is how it should work:</strong></p>\n\n<pre><code>&gt;&gt;&gt;scan('test',rules, 0)\ntest\\antivirus.py, found virus Virus2\ntest\\antivirus.py, found virus Virus1\n&gt;&gt;&gt;\n&gt;&gt;&gt;scan('test',rules, 2)\ntest\\antivirus.py, found virus Virus2\ntest\\antivirus.py, found virus Virus1\ntest\\test1\\antivirus1.py, found virus Virus2\ntest\\test1\\antivirus1.py, found virus Virus1\ntest\\test2\\antivirus2.py, found virus Virus2\ntest\\test2\\antivirus2.py, found virus Virus1\n</code></pre>\n\n<p><strong>Here is my current code:</strong></p>\n\n<pre><code>def scan(pathname, signatures, depth):\n    for item in os.listdir(pathname) and depth &gt; 0:\n        n = os.path.join(pathname, item)\n        try:\n            scan(n, signatures, depth-1)\n        except:\n            f = open(n, 'r')\n            s = f.read()\n            for virus in signatures:\n                if s.find(signatures[virus]) &gt; 0:\n                    print('{}, found virus {}'.format(n,virus))\n            f.close()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13225201,"title":"Print out table in a format specified by user in Python?","body":"<p>The program starts as how many rows? how many coloumns? Alignment of each coloumn?(Left(L), Centre(C), Right(R)). Then accept entries(data in table) from the user. The entries should be printed in the format specified by the user? Here's what I have done so far:</p>\n\n<pre><code>rows = input(\"How many rows?\")\ncoloumns = input(\"How many coloumns?\")\nalignment = raw_input(\"Enter alignment of each table?\")\nentry = raw_input(\"Enter rows x cols entries:\")\nprint entry\n</code></pre>\n\n<p>I think I have to format entry in such a way that it comes out exactly how the user wants. How can I do it? Thanks</p>\n"},{"tags":["python","sorting","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13130934,"title":"Sorting a nested dictionary in a custom fashion","body":"<p>I am trying to sort a recursively sort a 2 level nested default dict. I have not been able to figure out how to do this properly. My problem statement is given below:</p>\n\n<ol>\n<li>First level key must be a natural sort.</li>\n<li><p>Second level key must be sorted in a specific order. I have tried to create a list whose indices represent the order of the elements. My code snippet is given below: </p>\n\n<pre><code>import operator\nimport collections\ntrade_group_totals = collections.defaultdict(lambda:collections.defaultdict(float))    \ntrade_group_totals['foo']['ABC'] = 100\ntrade_group_totals['foo']['XYZ'] = 50\ntrade_group_totals['bar']['ABC'] = 150\ntrade_group_totals['bar']['XYZ'] = 250\n</code></pre></li>\n</ol>\n\n<p>My sorting index comparison:</p>\n\n<pre><code>trade_groups = ['XYZ', 'ABC']\n\ndef TradeGroupSort(trade_group):\n   return trade_groups.index(trade_group)   \n\ndef SortTotals(totals, sort_function_one, sort_function_two):\n  return [\n      (k1, v1) for k1, v1 in [(k, sorted(v.iteritems(), key=sort_function_two))\n           for k, v in sorted(totals.iteritems(), key=sort_function_one)]]\n</code></pre>\n\n<p>I am invoking the function as follows:</p>\n\n<pre><code>SortTotals(\n    trade_group_totals, operator.itemgetter(0),\n    sort_function_two=lambda x: operator.methodcaller('TradeGroupSort', x))\n</code></pre>\n\n<p>My expected output should be:</p>\n\n<pre><code>[('bar', [('XYZ', 50), ('ABC', 100)]), ('foo', [('XYZ', 250), ('ABC', 150)])]\n</code></pre>\n\n<p>But the generated output is</p>\n\n<pre><code>[('bar', [('XYZ', 50), ('ABC', 150)]), ('foo', [('ABC', 150), ('XYZ', 250)])]\n</code></pre>\n\n<p>Any assistance would be appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Kartik </p>\n"},{"tags":["python","processes","tornado","inter-process-communicat"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13225281,"title":"Stopping tornado web server","body":"<p>I know this question has already been asked, but the proposed solutions don't work for me. I'd like to run the tornado and would also like to be able to stop it somehow from another application's command. </p>\n\n<p>The problem is, when following the solution in <a href=\"http://pastebin.com/KU3KN0Zh\" rel=\"nofollow\">http://pastebin.com/KU3KN0Zh</a>, how do I call the <code>stopTornado()</code> method if the process is already running (assuming the sleep and <code>stopTornado</code> at the end would be removed)? </p>\n\n<p>I would essentially need another python script that could call this method (or send a message to the starttornado script).</p>\n\n<p>Does anyone have an idea of how to accomplish this?</p>\n"},{"tags":["python","gui","python-2.7","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13225227,"title":"python tkinter getting label to update after variable change","body":"<p>First and formost I'm sorry for asking a similar question twice in this short amount of time, its just that I am completely stuck and my assignment is due really soon (my fault). I'm really stuck on how to change the <code>balance</code> from 0 (the default should be 100 not sure why its showing that) to a number that changes depending on whether or not the user wins or loses. Any help would be appreciated.<br>\nAnything to point me in the right direction would be amazing.</p>\n\n<pre><code>from __future__ import division \nfrom Tkinter import *\nimport tkMessageBox\nimport os\nimport subprocess\nfrom random import randrange\nfrom random import shuffle\nfrom random import choice\nfrom time import sleep\nimport sys, time\nfrom select import select\n\n\n\nclass MyApp(object):\n\n    a = choice(range(1, 12))\n    b = choice(range(1, 12))\n    money = 100\n    bet = 5\n    hand = 0\n    m = 100\n\n    def __init__(self):\n        self.root = Tk()\n        self.root.wm_title(\"The Game of 21\")\n        m = IntVar()\n\n        Label(self.root, textvariable = m).grid(row=0, column=0, sticky=E)\n\n        self.root.mainloop()\n\n    def gameOn(self):\n        \"\"\"Setup the application's main window as a 2x5 grid\"\"\"\n        self.root = Tk()\n        self.root.wm_title(\"The Game of 21\")\n        a = choice(range(1, 12))\n        b = choice(range(1, 12))\n\n\n        self.cards = StringVar()\n        Label(self.root, text = 'Cards dealt:').grid(row = 1, column = 0, sticky = W) #cards dealt\n        Label(self.root, text = self.a).grid(row = 1, column = 1, sticky = E)        # card 1 (aka card a)\n        Label(self.root, text = ',').grid(row = 1, column = 2)      # inserting a comma between card1 and card2\n        Label(self.root, text = self.b).grid(row = 1, column = 3)        # card 2 (aka card b)\n        Label(self.root, text = 'Total = %d' %(self.a + self.b + self.hand)).grid(row = 1, column = 4)  # card 1 + card 2\n        Label(self.root, text = \"Time remaining:\").grid(row = 3, column = 1) \n\n        Button(self.root, text=\"Hit\", command=self.hit).grid(row = 2, column = 0)  #create a button\n        Button(self.root, text=\"Stand\" , command=self.stand).grid(row = 2, column = 1) # create a button\n\n\n    def hit(self):\n        self.hand = choice(range(1, 12))  \n        total = self.hand + self.a + self.b \n        dealerHand = choice(range(14,25))\n#         self.bet.set(amount)\n        self.root.destroy()\n\n        result = \"Dealer wins. You lose.\"# , self.money = self.money - self.bet, m.set(self.money)\n\n        if dealerHand &gt; 21 and total &lt; 22: \n            self.money = self.money - self.bet\n            m.set(self.money)\n            result = \"Winner! Winner! Chicken Dinner!\"\n        if total &gt; 21:\n            result\n            self.money = self.money - self.bet\n            m.set(self.money)\n\n        elif total &gt; dealerHand:\n            self.money = self.money + self.bet\n            m.set(self.money)\n\n            result = \"Winner! Winner! Chicken Dinner!\" \n        elif total == dealerHand: \n            self.money = self.money - self.bet\n            m.set(self.money)\n\n            result = \"Dealer wins. You lose.\" \n        print self.money\n        tkMessageBox.showinfo(\"Results\" , \"Hand = %d\\nDealer = %d\\n%s\" %((total), (dealerHand), result)) # print result\n\n\n    def stand(self): \n        self.hand = 0\n        total = self.hand + self.a + self.b \n        dealerHand = choice(range(14,25))    \n        self.root.destroy()\n\n        result = \"Dealer wins. You lose.\"\n        if dealerHand &gt; 21 and total &lt; 22: \n            self.money += self.bet\n            result = \"Winner! Winner! Chicken Dinner!\"\n        if total &gt; 21: \n            self.money += self.bet\n            result\n        elif total &gt; dealerHand: \n            self.money += self.bet\n            result = \"Winner! Winner! Chicken Dinner!\" \n        elif total == dealerHand: \n            self.money += self.bet\n            result = \"Dealer wins. You lose.\" \n        print self.money\n        tkMessageBox.showinfo(\"Results\" , \"Your hand: %d\\nDealer: %d\\n%s\" %((self.hand + self.a + self.b), (dealerHand), result)) # print result\n\n\n\n\nMyApp()\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13224341,"title":"GAE Returning 404 after period of no traffic","body":"<p>I'm new to GAE and python (also my first post on Stack Overflow). I have a basic site up on GAE. I'm using Python 2.7. There is little traffic to it, since I am the only one accessing it at this point. </p>\n\n<p>The problem is that whenever I hit the main url after a period of inactivity (longer then 10-15 minutes), I get a 404 from my ISP (Rogers). After about 15 seconds, if I retry the main url, the page loads.</p>\n\n<p>I thought it might have been because the instances had to spin up. So I upgraded have a paid GAE account, and set it up so that there is a minimum of one instance running at all times. The GAE dashboard shows at lease one instance running for the past day. But the problem persists.</p>\n\n<p>Here is my app.yaml</p>\n\n<pre><code>application: resumesite\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: yes\n\nhandlers:\n  - url: /static\n    static_dir: static\n\n  - url: /.*\n    script: main.app\n\ninbound_services:\n  - warmup\n\nlibraries:\n  - name: jinja2\n    version: latest\n</code></pre>\n\n<p>Any help would be appreciated</p>\n"},{"tags":["python","image","loops","wxwidgets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13225042,"title":"Python and wx.Image: How to apply a simple function to every pixel FAST?","body":"<p>I am dealing with</p>\n\n<ol>\n<li><code>myWxImage</code>, an image.</li>\n<li><code>myLabelImage</code>, a numpy array that has the same shape as the image and contains one label (an integer) for every pixel</li>\n<li><code>myLookupTable</code>, a 1-dimensional numpy array, i.e. a vector, that has as many entries as there are labels. (I use it to map labels to floating point numbers.)</li>\n</ol>\n\n<p>The goal is to iterate through the pixels and, for every pixel, consider its label, look up the corresponding floating point number and multiply it with the color of this pixel. </p>\n\n<p>The following code does exactly this but is <strong>too slow</strong>. Do you have a simple suggestion how to do this faster without resorting to C++ or GPU programming which would, of course, make a lot of sense here?</p>\n\n<pre><code>weightedImage = wx.EmptyImage(myWxImage.Width, myWxImage.Height)\nrgb = numpy.zeros(3, dtype=int);\nfor x in range(0, myWxImage.Width):\n    for y in range(0, myWxImage.Height):\n        label = myLabelImage[x, y]\n        weight = myLookUpTable[label]\n        rgb[0] = myWxImage.GetRed(x, y)\n        rgb[1] = myWxImage.GetGreen(x, y)\n        rgb[2] = myWxImage.GetBlue(x, y)\n        rgb = rgb * weight\n        weightedImage.SetRGB(x, y, rgb[0], rgb[1], rgb[2])\nmyBitmap = wx.BitmapFromImage(weightedImage)\n\n# draw myBitmap\n</code></pre>\n"},{"tags":["python","io","keyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13224920,"title":"make a keyboard input command from a python script","body":"<p>is there any way to make keyboard input from my program. suppose my program reeives \"1\" from a socket. how this data can be converted to a real time keyboard hit. means when \"1\" would receive , the computer would think that i pressed \"1\" .</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":125,"score":3,"question_id":13221896,"title":"Python: Partial sum of numbers","body":"<p>can you help me with code which returns partial sum of numbers in text file? \nI must import text file, then make a code for partial sums without tools ..etc.</p>\n\n<p>My input: </p>\n\n<pre><code>4\n13\n23\n21\n11\n</code></pre>\n\n<p>The output should be (without brackets or commas):</p>\n\n<pre><code>4 \n17\n40\n61 \n72\n</code></pre>\n\n<p>I was trying to make code in python, but could only do total sum and not partial one. \nIf i use the <code>+=</code> operator for generator, it gives me an error!</p>\n"},{"tags":["python","lambda","key","max","project-euler"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":103,"score":4,"question_id":13219320,"title":"Python avoiding lambda for key which needs two callables (function composition)","body":"<p>I was working on <a href=\"http://projecteuler.net/problem=14\" rel=\"nofollow\">project euler problem 14</a> and as a first attempt I whipped up this brute-force solution:</p>\n\n<pre><code>def collatz(n, memo={1: [1]}):\n  if n not in memo:\n    memo[n] = [n] + collatz(3 * n + 1 if n % 2 else n // 2)\n  return memo[n]\n\ndef p014():\n  return max(xrange(1, 10**6), key=lambda n: len(collatz(n)))\n</code></pre>\n\n<p>My question is about that lambda, I'm usually reluctant to use them but I don't know any elegant way to avoid it in this case.  Is there something in <code>functools</code> or other to chain two callables, or any other neat alternative I'm missing?</p>\n"},{"tags":["python","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13224391,"title":"PySide.QtGui.QDialog issue","body":"<p>I want to draw a frame around my borderless dialog while it gets resized interactively but it seems like <code>QDialog.setSizeGripEnabled(True)</code> and <code>QWidget.resizeEvent</code> doen't work well together. The dialog can't be resized interactively, is this a known problem ?</p>\n\n<pre><code>class MyDialog(QtGui.QDialog):\n\n    def __init__(self,x,y):\n        QtGui.QDialog.__init__(self)\n        self.setWindowFlags(QtCore.Qt.FramelessWindowHint)\n        self.setGeometry(x,y,250,300)    \n        self.setSizeGripEnabled(True)\n\n        self.frame = QtGui.QFrame(self)\n        self.frame.setGeometry(self.rect())\n        self.frame.setFrameShape(QtGui.QFrame.StyledPanel)\n        self.frame.setFrameShadow(QtGui.QFrame.Plain)\n        etc...\n\n    def resizeEvent( self, event ):\n        r = self.rect()\n        s = event.size()\n        self.frame.setGeometry( r.x(), r.y(), s.width(), s.height() )\n</code></pre>\n"},{"tags":["python","pyopengl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13224677,"title":"pyopengl tutorials","body":"<p>im fairly advanced with python, and i want to use pygame and pyopengl to do some basic 3d. I've never done anything really 3d in any language before. Do you think you could point me in the direction of some tutorials on this matter, Thanks in advance.</p>\n"},{"tags":["python","tornado"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2428,"score":3,"question_id":5011135,"title":"python tornado setup","body":"<p>I want to use a Python framework that handles sessions (user auth), templating along with MySQL database access (although I can use MySQLdb quite nicely)</p>\n\n<p>Tornado looks promising but, I just can't see how to use it. The sample given has a port listen feature. Does it replace Apache? Exactly how do I configure my server (Centos 5.4) and LAMP setup for this, or is there a better option?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13223971,"title":"Python 3 Extracting Candidate Words from a Debate File","body":"<p>This is my first post, so I'm sorry if I do anything wrong. That said, I searched for the question and found something similar that was never answered due to the OP not giving sufficient information. This is also homework, so I'm just looking for a hint. I really want to get this on my own.</p>\n\n<p>I need to read in a debate file (.txt), and pull and store all of the lines that one candidate says to put in a word cloud. The file format is supposed to help, but I'm blanking on how to do this. The hint is that each time a new person speaks, their name followed by a colon is the first word in the first line. However, candidates' data can span multiple lines. I am supposed to store each person's lines separately. Here is a sample of the file:</p>\n\n<blockquote>\n  <p>LEHRER: This debate and the next three -- two presidential, one vice\n  presidential -- are sponsored by the Commission on Presidential\n  Debates. Tonight's 90 minutes will be about domestic issues and will\n  follow a format designed by the commission. There will be six roughly\n  15-minute segments with two-minute answers for the first question,\n  then open discussion for the remainder of each segment.</p>\n  \n  <p>Gentlemen, welcome to you both. Let's start the economy, segment one,\n  and let's begin with jobs. What are the major differences between the\n  two of you about how you would go about creating new jobs?</p>\n  \n  <p>LEHRER: You have two minutes. Each of you have two minutes to start. A\n  coin toss has determined, Mr. President, you go first.</p>\n  \n  <p>OBAMA: Well, thank you very much, Jim, for this opportunity. I want to\n  thank Governor Romney and the University of Denver for your\n  hospitality.</p>\n  \n  <p>There are a lot of points I want to make tonight, but the most\n  important one is that 20 years ago I became the luckiest man on Earth\n  because Michelle Obama agreed to marry me.</p>\n</blockquote>\n\n<p>This is what I have for a function so far:</p>\n\n<pre><code>def getCandidate(myFile):    \n    file = open(myFile, \"r\")\n    obama = []\n    romney = []\n    lehrer = []\n    file = file.readlines()\n</code></pre>\n\n<p>I'm just not sure how to iterate through the data so that it separates each person's words correctly. I created a dummy file to create the word cloud, and I'm able to do that fine, so all I am wondering is how to extract the information I need.</p>\n\n<p>Thank you! If there is more information I can offer please let me know. This is a beginning Python course.</p>\n\n<p>EDIT: New code added from a response. This works to an extent, but only grabs the first line of each candidate's response, not their entire response. I need to write code that continues to store each line under that candidate until a new name is at the start of a line.</p>\n\n<pre><code>def getCandidate(myFile, candidate):   \n    file = open(myFile, \"r\")\n    OBAMA = []\n    ROMNEY = []\n    LEHRER = []\n    file = file.readlines()\n    for line in file:\n        if line.startswith(\"OBAMA:\"):\n            OBAMA.append(line)\n        if line.startswith(\"ROMNEY:\"):\n            ROMNEY.append(line)\n        if line.startswith(\"LEHRER:\"):\n            LEHRER.append(line)\n    if candidate == \"OBAMA\":\n        return OBAMA\n    if candidate == \"ROMNEY\":\n        return ROMNEY\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13224527,"title":"How do I import a file/list from a server/website using Python","body":"<p>I would like to have an always updating list by using standard txt file that python has to grab from a server/website.</p>\n\n<p>Example</p>\n\n<pre><code>    women =[\"Dare1\",\"Dare2\",\"Dare3\",\"Dare4\",\"Dare5\",\"Dare6\"]\n\n   men = [\"Dare1\",\"Dare2\",\"Dare3\",\"Dare4\",\"Dare5\",\"Dare6\"]\n</code></pre>\n\n<p>Then once the program is reopened, it grab the updated txt</p>\n\n<pre><code>    women =[\"Dare1\",\"Dare2\",\"Dare3\",\"Dare4\",\"Dare5\",\"Dare6\",\"Dare7\"]\n\n   men = [\"Dare1\",\"Dare2\",\"Dare3\",\"Dare4\",\"Dare5\",\"Dare6\"]\n</code></pre>\n"},{"tags":["python","redis","flask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13222122,"title":"redis blocking application","body":"<p>I'm using redis pub/sub and get no data is sent to the client browser. I think it might be because redis is blocking? This is the error I get...is it possible to prevent this:</p>\n\n<pre><code>Exception happened during processing of request from ('127.0.0.1', 49231)\nTraceback (most recent call last):\nFile \"/usr/lib/python2.7/SocketServer.py\", line 284, in _handle_request_noblock\nself.process_request(request, client_address)\nFile \"/usr/lib/python2.7/SocketServer.py\", line 310, in process_request\nself.finish_request(request, client_address)\nFile \"/usr/lib/python2.7/SocketServer.py\", line 323, in finish_request\nself.RequestHandlerClass(request, client_address, self)\nFile \"/usr/lib/python2.7/SocketServer.py\", line 640, in __init__\nself.finish()\nFile \"/usr/lib/python2.7/SocketServer.py\", line 693, in finish\nself.wfile.flush()\nFile \"/usr/lib/python2.7/socket.py\", line 303, in flush\nself._sock.sendall(view[write_offset:write_offset+buffer_size])\nerror: [Errno 32] Broken pipe\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["python","sorting","csv","dictionary"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13224487,"title":"Sort() not working correctly in Python for Dict","body":"<p>I have a CSV file with many columns. I am trying to sort the rows based on the value in one of the columns (in descending numerical order). And I only wnat it to output the top 10. However, when I use the following code, I get an incorrect output.</p>\n\n<pre><code>import csv\nf = open('SNPs.csv', \"rU\")\nreader = csv.reader(f)\noutput = [row for row in reader]\noutput.sort(key=lambda x: x[32], reverse=True)\nprint dict((row[10], (row[11], row[8], row[32])) for row in output[:10])\n</code></pre>\n\n<p>The output looks something like:</p>\n\n<pre><code>'XRgroup8': ('38', '2', '0.47'), '2': ('30', '13', '0.37'), 'Chromosome': ('Position', 'Distance', 'GC'), 'XRgroup5': ('54', '1', '0.45')\n</code></pre>\n\n<p>So clearly it isn't returning 10 values and they aren't in order. Any ideas?</p>\n"},{"tags":["python","pygame"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13126817,"title":"Creating new variables at the global scope with eval","body":"<p>I am trying to enable the user of my drawing program (written in python with pygame) to rename selected objects, then be able to access them through the live interpreter by their names. The following is a method of the base class of all drawable objects. When this code is run, I get no errors, but when I try to access the object through its new name, I am told that the variable with that name is not defined.\nAny ideas why this might be?</p>\n\n<pre><code>def rename(self,newName):\n\n    \"\"\"\n    Gives this drawable a new name by which the user my reference it in\n    code\n    \"\"\"\n\n    #Create a new variable in the global scope\n    command =  'global ' + newName + '\\n'\n\n    #Tie it to me\n    command += newName + ' = self' + '\\n'\n\n    #If I already had a name, I'll remove this reference\n    if self.name != None:\n        command += 'del ' + self.name\n\n    #Execute the command\n    exec(command)\n\n    #Make this adjustment internally\n    self.name = newName\n</code></pre>\n"},{"tags":["python","regex","html-parsing","beautifulsoup"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":984,"score":1,"question_id":4270742,"title":"How to remove whitespace in BeautifulSoup","body":"<p>I have a bunch of HTML I'm parsing with BeautifulSoup and it's been going pretty well except for one minor snag. I want to save the output into a single-lined string, with the following as my current output:</p>\n\n<pre><code>    &lt;li&gt;&lt;span class=\"plaincharacterwrap break\"&gt;\n                    Zazzafooky but one two three!\n                &lt;/span&gt;&lt;/li&gt;\n&lt;li&gt;&lt;span class=\"plaincharacterwrap break\"&gt;\n                    Zazzafooky2\n                &lt;/span&gt;&lt;/li&gt;\n&lt;li&gt;&lt;span class=\"plaincharacterwrap break\"&gt;\n                    Zazzafooky3\n                &lt;/span&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Ideally I'd like</p>\n\n<pre><code>&lt;li&gt;&lt;span class=\"plaincharacterwrap break\"&gt;Zazzafooky but one two three!&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span class=\"plaincharacterwrap break\"&gt;Zazzafooky2&lt;/span&gt;&lt;/li&gt;\n</code></pre>\n\n<p>There's a lot of redundant whitespace that I'd like to get rid of but it's not necessarily removable using <code>strip()</code>, nor can I blatantly remove all the spaces because I need to retain the text. How can I do it? It seems like a common enough problem that regex would be overkill, but is that the only way?</p>\n\n<p>I don't have any <code>&lt;pre&gt;</code> tags so I can be a little more forceful there.</p>\n\n<p>Thanks once again!</p>\n"},{"tags":["python","python-2.7","tkinter","typeerror"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13224441,"title":"python tkinter blackjack game, typerror when adding two variables","body":"<p>This is my code: </p>\n\n<pre><code>from __future__ import division \nfrom Tkinter import *\nimport tkMessageBox\nimport os\nimport subprocess\nfrom random import randrange\nfrom random import shuffle\nfrom random import choice\nfrom time import sleep\nimport sys, time\nfrom select import select\n\n\nclass MyApp(object):\n\n    a = choice(range(1, 12))\n    b = choice(range(1, 12))\n    money = 100\n    bet = 5\n    hand = 0\n\n\n    def __init__(self):\n        self.root = Tk()\n        self.root.wm_title(\"The Game of 21\")\n        Label(self.root, text=\"Balance: %d\" %(self.money)).grid(row=0, column=0, sticky=E)\n        Label(self.root, text=\"Choose Bet:\").grid(row=2, column=0, sticky=E)\n        Button(self.root, text=\"5\", command=self.bet).grid(row = 2, column = 1)  #create a button\n        Button(self.root, text=\"10\", command=self.bet).grid(row = 2, column = 2)  #create a button\n        Button(self.root, text=\"25\", command=self.bet).grid(row = 2, column = 3)  #create a button\n        Button(self.root, text=\"50\", command=self.bet).grid(row = 2, column = 4)  #create a button\n\n        Button(self.root, text=\"Deal\", command=self.gameOn).grid(row = 5, column = 1)  #create a button\n        Button(self.root, text=\"Exit\", command=self.root.destroy).grid(row = 5, column = 2)  #create a button\n\n        self.root.mainloop()\n\n    def gameOn(self):\n        \"\"\"Setup the application's main window as a 2x5 grid\"\"\"\n        self.root = Tk()\n        self.root.wm_title(\"The Game of 21\")\n        self.bet = DoubleVar()\n\n        self.cards = StringVar()\n        Label(self.root, text = 'Cards dealt:').grid(row = 1, column = 0, sticky = W) #cards dealt\n        Label(self.root, text = self.a).grid(row = 1, column = 1, sticky = E)        # card 1 (aka card a)\n        Label(self.root, text = ',').grid(row = 1, column = 2)      # inserting a comma between card1 and card2\n        Label(self.root, text = self.b).grid(row = 1, column = 3)        # card 2 (aka card b)\n        Label(self.root, text = 'Total = %d' %(self.a + self.b + self.hand)).grid(row = 1, column = 4)  # card 1 + card 2\n        Label(self.root, text = \"Time remaining:\").grid(row = 3, column = 1) \n\n        Button(self.root, text=\"Hit\", command=self.hit).grid(row = 2, column = 0)  #create a button\n        Button(self.root, text=\"Stand\" , command=self.stand).grid(row = 2, column = 1) # create a button\n\n\n\n\n#   def bet(betAmount):\n#       self.bet = 10\n\n    def hit(self):\n        self.hand = choice(range(1, 12))  \n        total = self.hand + self.a + self.b \n        dealerHand = choice(range(14,25))\n\n\n        self.root.destroy()\n\n        result = \"Dealer wins. You lose.\"\n        if dealerHand &gt; 21 and total &lt; 22: \n            self.money = self.money - self.bet\n            result = \"Winner! Winner! Chicken Dinner!\"\n        if total &gt; 21:\n            result\n            self.money = self.money - self.bet\n        elif total &gt; dealerHand:\n            self.money = self.money + self.bet\n            result = \"Winner! Winner! Chicken Dinner!\" \n        elif total == dealerHand: \n            self.money = self.money - self.bet\n            result = \"Dealer wins. You lose.\" \n        tkMessageBox.showinfo(\"Results\" , \"Hand = %d\\nDealer = %d\\n%s\" %((self.hand + self.a + self.b), (dealerHand), result)) # print result\n\n\n    def stand(self): \n        self.hand = 0\n        total = self.hand + self.a + self.b \n        dealerHand = choice(range(14,25))    \n        self.root.destroy()\n\n        result = \"Dealer wins. You lose.\"\n        if dealerHand &gt; 21 and total &lt; 22: \n            self.money += bet\n            result = \"Winner! Winner! Chicken Dinner!\"\n        if total &gt; 21: \n            self.money += bet\n            result\n        elif total &gt; dealerHand: \n            self.money += bet\n            result = \"Winner! Winner! Chicken Dinner!\" \n        elif total == dealerHand: \n            self.money += bet\n            result = \"Dealer wins. You lose.\" \n        print self.money\n        tkMessageBox.showinfo(\"Results\" , \"Your hand: %d\\nDealer: %d\\n%s\" %((self.hand + self.a + self.b), (dealerHand), result)) # print result\n\n\n\n\nMyApp()\n</code></pre>\n\n<p>Basically what I am trying to do is create a blackjack type game, I want to have four buttons (which I've made) and when you click them it changes the <code>bet</code> variable. My problem is know even when I try and set a default variable of 5 it won't work; I get a TypeError. I also have no clue how to update the \"balance\" on the first window as money goes up and down. Sorry for the messy code its been a long day and I think I've done as much as possible on my own. </p>\n\n<p>Edit: The error that pops up is: </p>\n\n<pre><code>line 75, in hit\n    self.money = self.money - self.bet\nTypeError: unsupported operand type(s) for -: 'int' and 'instance'\n</code></pre>\n"},{"tags":["python","string","format"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":30,"score":3,"question_id":13224474,"title":"formatting python string that contains ${}","body":"<p>I need to print out a string that contains ${} with format() method</p>\n\n<p>For example, I'd like to print out </p>\n\n<p><code>\"hello ${a} hello\"</code></p>\n\n<p>using this python code</p>\n\n<pre><code>print \"{string1} ${a} {string1}\".format(string1=\"hello\")\n</code></pre>\n\n<p>However, I get  KeyError'a', as format() expects an input string for {a}.\nHow can I teach format() to ignore ${a}?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":48,"score":-5,"question_id":13224429,"title":"Python - pascals triangle","body":"<p>Hello I am stuck with this excercise. I am doing pascal's triangle, but cant seem to get it right enough so checking programme from my college would accept it. \nI must use <code>def pascals_triangle(n)</code> where <code>n=8</code>. I can get that working, but the problem is in output - i get arrays... \nlike that:</p>\n\n<pre><code>[1]\n[1, 1]\n[1, 2, 1]\n[1, 3, 3, 1]\n</code></pre>\n\n<p>Also the definition says that each row should be written in row of a <strong>matrix P[64]</strong> and that empty places should be put to 0. I must use for loop and print command for one row should look like this:</p>\n\n<pre><code>print \"%d %d %d %d %d %d %d %d\" % (P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8])\n</code></pre>\n\n<p>Any ideas? </p>\n"},{"tags":["python","queue","coroutine","eventlet"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":317,"score":2,"question_id":6595317,"title":"Eventlet and Python daemon, Foo not called?","body":"<p>I am trying to build a Python deamon which listen to a queue (Redis Kombu).\nGrab the task and spawn a greenthread to process this task.</p>\n\n<p>I can receive the task and consume it without trouble but when I try to spawn a GreenThread with eventlet it does not seem to be doing anything at all.</p>\n\n<p>No print, no logging is shown.</p>\n\n<pre><code>class agent(Daemon):\n    \"\"\"\n    Agent\n    \"\"\"\n    def run(self):  \n        # Setup connection\n        mainLogger.debug('Connecting to Redis')\n        connection = BrokerConnection(\n                        hostname=agentConfig['redis_host'],\n                        transport=\"redis\",\n                        virtual_host=agentConfig['redis_db'],\n                        port=int(agentConfig['redis_port']))\n        connection.connect()\n\n        # Create an eventlet pool of size 5\n        pool = eventlet.GreenPool(5)\n        q = connection.SimpleQueue(\"myq\")\n        while True:\n            try:\n               message = q.get(block=True, timeout=1)\n               print \"GOT A MESSAGE FROM Q !\"\n               pool.spawn_n(self.foo, 'x')\n               print \"END SPAWN !\"\n            except Empty:\n               mainLogger.debug('No tasks, going to sleep')\n               time.sleep(1)\n\n\n    def foo(self, x):\n        mainLogger.debug('\\o/')\n        print \"HELLO FROM SPAWN\"\n</code></pre>\n\n<p>Anything I am doing wrong ?</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":13223737,"title":"how to read a file in other directory in python","body":"<blockquote>\n  <p>i have a file its name is 5_1.txt in a directory i named it direct ,<br>\n   how can i read that file using the instruction read.  </p>\n</blockquote>\n\n<p>i verified the path using :</p>\n\n<pre><code>import os\nos.getcwd()\nos.path.exists(direct)\n</code></pre>\n\n<p>the result was<br>\nTrue  </p>\n\n<pre><code>x_file=open(direct,'r')  \n</code></pre>\n\n<p>and i got this error :  </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;pyshell#17&gt;\", line 1, in &lt;module&gt;\nx_file=open(direct,'r')\nIOError: [Errno 13] Permission denied\n</code></pre>\n\n<p>i don't know why i can't read the file ? any suggestion ?<br>\nthanks . </p>\n"},{"tags":["python","adobe","acrobat"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13222489,"title":"Running Acrobat with Python","body":"<p>I'm using Adobe Acrobat Pro to extract information from PDFs in XML format. Acrobat does this particularly well. I want to extract information from about a thousand documents and do stuff with that information, so using Acrobat by hand would be annoying. Are there plugins to call Acrobat functions (i.e. save as XML) from any common language, ideally Python?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":63,"score":-3,"question_id":13224049,"title":"making str.find a function","body":"<p>I have been trying to create the str.find method a function for a lesson I am doing and I am not quite sure how it is done. If anyone can help me please do. I am running on python 2.7 if that helps. I am trying to find a subsequence in a larger sequence and how many times it appears in the sequence. \nex. ACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCCCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGCCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGGAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCCCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAGTTTAATTACAGACCTGAA</p>\n\n<p>and now I must find where each occurrence of TTG is in commas. again I really appreciate the help</p>\n"},{"tags":["python","emacs"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13224317,"title":"Use IPython in Emacs' python-mode","body":"<p>I would like to set IPython as my default interpreter when using python-mode in Emacs.  Currently, whenever I open <code>.py</code> Emacs opens the buffer and a regular Python interpreter.  How can I configure python-mode to use IPython by default?</p>\n"},{"tags":["python","image","fonts","render","true-type-fonts"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":598,"score":1,"question_id":5747739,"title":"python render non-anti-aliased font to internal image","body":"<p>What is the most speedy way and accurate to render non-anti-aliased fonts (e.g. ttf fonts) using Python to an internal image (e.g. to a <code>PIL.Image</code>, i.e. I don't need to display it)? I say accurate because I tried it with pygame a while back and the rendered fonts at the size I gave it didn't match what windows rendered in Word or Paint. </p>\n"},{"tags":["python","unit-testing","makefile"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":353,"score":3,"question_id":5529195,"title":"How to combine unittest results using a Makefile?","body":"<p>I want to use a Makefile to run individual test files or a combined version of all tests or a coverage report.</p>\n\n<p>I'm pretty new to Makefiles so I borrowed one and adapted it. The result is <a href=\"http://code.google.com/p/tipfy/source/browse/Makefile\" rel=\"nofollow\">here</a>.</p>\n\n<p>The problem is that <code>make test</code> will run each test in sequence and it is hard to see which ones failed when you have a bunch and the screen scrolls a lot. I like that each one uses a separate process so they don't interfere with each other, though.</p>\n\n<p>Question is: can I combine the results more nicely using only the Makefile or I need a separate script? Do you know some good examples of Makefiles to run tests?</p>\n\n<p>(I want to use Makefile + unittest + coverage only, and no other dependencies)</p>\n"},{"tags":["python","fedora","yum"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13224166,"title":"Installing PGP Key for Yum Repos Through Python API","body":"<p>I have looked <a href=\"http://stackoverflow.com/search?q=%5Bpython%5D+yum\">at similar questions</a> but no one mentions how I should approach this.  I wanted to write a quick and dirty script that would help me bootstrap Puppet on fresh Fedora installs for some stuff I wanna try.  From perusing the questions here.  I had some sample code fixed up for my needs.</p>\n\n<pre><code>[root@srv ~]# python puppet-bootstrap.py \n[ 11/03/2012 02:16:47 PM ] begin bootstrap install for puppet client\n[ 11/03/2012 02:16:47 PM ] package not found on system, installing\nwarning: rpmts_HdrFromFdno: Header V3 RSA/SHA256 Signature, key ID 1aca3465: NOKEY\nPublic key for ruby-1.9.3.286-18.fc17.x86_64.rpm is not installed\nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-x86_64\nImporting GPG key 0x1ACA3465:\n Userid     : \"Fedora (17) &lt;fedora@fedoraproject.org&gt;\"\n Fingerprint: cac4 3fb7 74a4 a673 d81c 5de7 50e9 4c99 1aca 3465\n Package    : fedora-release-17-1.noarch (@fedora)\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-x86_64\nTraceback (most recent call last):\n  File \"puppet-bootstrap.py\", line 17, in &lt;module&gt;\n    yb.processTransaction()\n  File \"/usr/lib/python2.7/site-packages/yum/__init__.py\", line 6053, in processTransaction\n    self._checkSignatures(pkgs,callback)\n  File \"/usr/lib/python2.7/site-packages/yum/__init__.py\", line 6096, in _checkSignatures\n    self.getKeyForPackage(po, self._askForGPGKeyImport)\n  File \"/usr/lib/python2.7/site-packages/yum/__init__.py\", line 5798, in getKeyForPackage\n    raise Errors.YumBaseError, _(\"Didn't install any keys\")\nyum.Errors.YumBaseError: Didn't install any keys\n</code></pre>\n\n<p>So how would I go about write a brief little code to accept the PGP key through the YUM Python API?  The distro in question would be almost untouched, so the PGP key would have to be properly signed off in the case of this script.  Anyone done this before?</p>\n"},{"tags":["python","python-2.7","openmp","cython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":11778824,"title":"Modules compiled with /openmp cannot be import?","body":"<p>I have a very simple cython code which use <code>prange</code>, which works fine in linux. However, when I try to do it in Windows. I encountered a problem that it can be compiled but cannot be imported:</p>\n\n<pre><code>ImportError: DLL load failed: This application has failed to start because the a\npplication configuration is incorrect. Reinstalling the application may fix this\nproblem.\n</code></pre>\n\n<p>Moreover, in windows I cannot <code>from cython.parallel import threadlocal</code>?! strange...</p>\n\n<p>Is there anyone can point a direction?</p>\n\n<p>System works fine: <strong>linux64</strong>, compiler <strong>gcc</strong>, packages: <strong>Python 2.7, cython 0.16</strong></p>\n\n<p>system has problem: <strong>Win64</strong>, compiler: <strong>MSVC VS2008</strong>, packages: <strong>Python 2.7, cython 0.16</strong></p>\n\n<p>Here is my simple cython pyx:</p>\n\n<pre><code>cimport cython\nfrom cython.parallel import prange\n\ndef f(int n):\n    cdef int i\n    cdef int sum = 0\n    for i in prange(n, nogil=True):\n        sum += i\n    print sum\n</code></pre>\n\n<p>Here is my setup.py:</p>\n\n<pre><code>from distutils.core import setup\nfrom distutils.extension import Extension\nfrom Cython.Distutils import build_ext\nimport numpy as np\n\n\nsetup(\n    cmdclass = {'build_ext': build_ext},\n    include_dirs = [np.get_include()], \n    ext_modules = [Extension(\"pcython1\",  [\"pcython1.pyx\"],extra_compile_args=['/openmp',],),]\n)\n</code></pre>\n"},{"tags":["python","sockets","ssl","https"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13142751,"title":"Handling https requests using a SOCK_STREAM proxy","body":"<p>I'm working on a project that allows a user to redirect his browsing through a proxy. The system works like this - a user runs this proxy on a remote PC and then also runs the proxy on his laptop. The user then changes his browser settings on the laptop to use localhost:8080 to make use of that local proxy, which in turn forwards all browser traffic to the proxy running on the remote PC.</p>\n\n<p>This is where I ran into HTTPS. I was able to get normal HTTP requests working fine and dandy, but as soon as I clicked on google.com, Firefox skipped my proxy and connected to <a href=\"https://google.com\" rel=\"nofollow\">https://google.com</a> directly.</p>\n\n<p>My idea was to watch for browser requests the say <em>CONNECT host:443</em> and then use the python ssl module to wrap that socket. This would give me a secure connection between the outer proxy and the target server. However, when I run wireshark to see how a browser request looks like before ssl kicks in, it's already there, meaning it looks like the browser connects to port 443 directly, which explains why it omitted my local proxy.</p>\n\n<p>I would like to be able to handle to HTTPS as that would make for a complete browsing experience.</p>\n\n<p>I'd really appreciate any tips that could push in the right direction.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13223945,"title":"Retrieving ad URLs","body":"<p>I'm looking for a way to retrieve the ad URLs for this website.\n<a href=\"http://www.quiltingboard.com/resources/\" rel=\"nofollow\">http://www.quiltingboard.com/resources/</a></p>\n\n<p>What I want to do is probably write a script to continuously refresh the page and grab the ad URLs.</p>\n\n<p>Any suggestion?</p>\n"},{"tags":["python","google-app-engine","webapp2","country-codes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12906090,"title":"Country name from ISO short code in dictionary, how to deal with non-ascii chars","body":"<p>I'm making a webapp that takes country short code (google app engine get from request header) and I want to get the country name (full name) not just the 2 letter initials.</p>\n\n<p>I tried making a python dictionary but it breaks bkz the names have non-ascii chars (accent marks, etc).. I used the python library \"pycountry\" but I'm not sure how to include that in my google app engine project. unfortunately pycountries output also has accent marks, so i can't just copy their txt values and make a dictionary...</p>\n\n<p>Besides, I just want the country code to name lookup table, no other details...</p>\n\n<p>Here's a copy of the dictionarys i've been trying to make but they have these annoying accent marks...</p>\n\n<p>Thanks for the help in advance</p>\n\n<pre><code>short2long = {\"AF\":\"Afghanistan\",\n\"AX\":\"Aland Islands\",\n\"AL\":\"Albania\",\n\"DZ\":\"Algeria\",\n\"AS\":\"American Samoa\",\n\"AD\":\"Andorra\",\n\"AO\":\"Angola\",\n\"AI\":\"Anguilla\",\n\"AQ\":\"Antarctica\",\n\"AG\":\"Antigua and Barbuda\",\n\"AR\":\"Argentina\",\n\"AM\":\"Armenia\",\n\"AW\":\"Aruba\",\n\"AU\":\"Australia\",\n\"AT\":\"Austria\",\n\"AZ\":\"Azerbaijan\",\n\"BS\":\"Bahamas\",\n\"BH\":\"Bahrain\",\n\"BD\":\"Bangladesh\",\n\"BB\":\"Barbados\",\n\"BY\":\"Belarus\",\n\"BE\":\"Belgium\",\n\"BZ\":\"Belize\",\n\"BJ\":\"Benin\",\n\"BM\":\"Bermuda\",\n\"BT\":\"Bhutan\",\n\"BO\":\"Bolivia, Plurinational State of\",\n\"BQ\":\"Bonaire, Sint Eustatius and Saba\",\n\"BA\":\"Bosnia and Herzegovina\",\n\"BW\":\"Botswana\",\n\"BV\":\"Bouvet Island\",\n\"BR\":\"Brazil\",\n\"IO\":\"British Indian Ocean Territory\",\n\"BN\":\"Brunei Darussalam\",\n\"BG\":\"Bulgaria\",\n\"BF\":\"Burkina Faso\",\n\"BI\":\"Burundi\",\n\"KH\":\"Cambodia\",\n\"CM\":\"Cameroon\",\n\"CA\":\"Canada\",\n\"CV\":\"Cape Verde\",\n\"KY\":\"Cayman Islands\",\n\"CF\":\"Central African Republic\",\n\"TD\":\"Chad\",\n\"CL\":\"Chile\",\n\"CN\":\"China\",\n\"CX\":\"Christmas Island\",\n\"CC\":\"Cocos (Keeling) Islands\",\n\"CO\":\"Colombia\",\n\"KM\":\"Comoros\",\n\"CG\":\"Congo\",\n\"CD\":\"Congo, The Democratic Republic of the\",\n\"CK\":\"Cook Islands\",\n\"CR\":\"Costa Rica\",\n\"CI\":\"Côte d'Ivoire\",\n\"HR\":\"Croatia\",\n\"CU\":\"Cuba\",\n\"CW\":\"Curaçao\",\n\"CY\":\"Cyprus\",\n\"CZ\":\"Czech Republic\",\n\"DK\":\"Denmark\",\n\"DJ\":\"Djibouti\",\n\"DM\":\"Dominica\",\n\"DO\":\"Dominican Republic\",\n\"EC\":\"Ecuador\",\n\"EG\":\"Egypt\",\n\"SV\":\"El Salvador\",\n\"GQ\":\"Equatorial Guinea\",\n\"ER\":\"Eritrea\",\n\"EE\":\"Estonia\",\n\"ET\":\"Ethiopia\",\n\"FK\":\"Falkland Islands (Malvinas)\",\n\"FO\":\"Faroe Islands\",\n\"FJ\":\"Fiji\",\n\"FI\":\"Finland\",\n\"FR\":\"France\",\n\"GF\":\"French Guiana\",\n\"PF\":\"French Polynesia\",\n\"TF\":\"French Southern Territories\",\n\"GA\":\"Gabon\",\n\"GM\":\"Gambia\",\n\"GE\":\"Georgia\",\n\"DE\":\"Germany\",\n\"GH\":\"Ghana\",\n\"GI\":\"Gibraltar\",\n\"GR\":\"Greece\",\n\"GL\":\"Greenland\",\n\"GD\":\"Grenada\",\n\"GP\":\"Guadeloupe\",\n\"GU\":\"Guam\",\n\"GT\":\"Guatemala\",\n\"GG\":\"Guernsey\",\n\"GN\":\"Guinea\",\n\"GW\":\"Guinea-Bissau\",\n\"GY\":\"Guyana\",\n\"HT\":\"Haiti\",\n\"HM\":\"Heard Island and McDonald Islands\",\n\"VA\":\"Holy See (Vatican City State)\",\n\"HN\":\"Honduras\",\n\"HK\":\"Hong Kong\",\n\"HU\":\"Hungary\",\n\"IS\":\"Iceland\",\n\"IN\":\"India\",\n\"ID\":\"Indonesia\",\n\"IR\":\"Iran, Islamic Republic of\",\n\"IQ\":\"Iraq\",\n\"IE\":\"Ireland\",\n\"IM\":\"Isle of Man\",\n\"IL\":\"Israel\",\n\"IT\":\"Italy\",\n\"JM\":\"Jamaica\",\n\"JP\":\"Japan\",\n\"JE\":\"Jersey\",\n\"JO\":\"Jordan\",\n\"KZ\":\"Kazakhstan\",\n\"KE\":\"Kenya\",\n\"KI\":\"Kiribati\",\n\"KP\":\"Korea, Democratic People's Republic of\",\n\"KR\":\"Korea, Republic of\",\n\"KW\":\"Kuwait\",\n\"KG\":\"Kyrgyzstan\",\n\"LA\":\"Lao People's Democratic Republic\",\n\"LV\":\"Latvia\",\n\"LB\":\"Lebanon\",\n\"LS\":\"Lesotho\",\n\"LR\":\"Liberia\",\n\"LY\":\"Libya\",\n\"LI\":\"Liechtenstein\",\n\"LT\":\"Lithuania\",\n\"LU\":\"Luxembourg\",\n\"MO\":\"Macao\",\n\"MK\":\"Macedonia, Republic of\",\n\"MG\":\"Madagascar\",\n\"MW\":\"Malawi\",\n\"MY\":\"Malaysia\",\n\"MV\":\"Maldives\",\n\"ML\":\"Mali\",\n\"MT\":\"Malta\",\n\"MH\":\"Marshall Islands\",\n\"MQ\":\"Martinique\",\n\"MR\":\"Mauritania\",\n\"MU\":\"Mauritius\",\n\"YT\":\"Mayotte\",\n\"MX\":\"Mexico\",\n\"FM\":\"Micronesia, Federated States of\",\n\"MD\":\"Moldova, Republic of\",\n\"MC\":\"Monaco\",\n\"MN\":\"Mongolia\",\n\"ME\":\"Montenegro\",\n\"MS\":\"Montserrat\",\n\"MA\":\"Morocco\",\n\"MZ\":\"Mozambique\",\n\"MM\":\"Myanmar\",\n\"NA\":\"Namibia\",\n\"NR\":\"Nauru\",\n\"NP\":\"Nepal\",\n\"NL\":\"Netherlands\",\n\"NC\":\"New Caledonia\",\n\"NZ\":\"New Zealand\",\n\"NI\":\"Nicaragua\",\n\"NE\":\"Niger\",\n\"NG\":\"Nigeria\",\n\"NU\":\"Niue\",\n\"NF\":\"Norfolk Island\",\n\"MP\":\"Northern Mariana Islands\",\n\"NO\":\"Norway\",\n\"OM\":\"Oman\",\n\"PK\":\"Pakistan\",\n\"PW\":\"Palau\",\n\"PS\":\"Palestinian Territory, Occupied\",\n\"PA\":\"Panama\",\n\"PG\":\"Papua New Guinea\",\n\"PY\":\"Paraguay\",\n\"PE\":\"Peru\",\n\"PH\":\"Philippines\",\n\"PN\":\"Pitcairn\",\n\"PL\":\"Poland\",\n\"PT\":\"Portugal\",\n\"PR\":\"Puerto Rico\",\n\"QA\":\"Qatar\",\n\"RE\":\"Réunion\",\n\"RO\":\"Romania\",\n\"RU\":\"Russian Federation\",\n\"RW\":\"Rwanda\",\n\"BL\":\"Saint Barthélemy\",\n\"SH\":\"Saint Helena, Ascension and Tristan da Cunha\",\n\"KN\":\"Saint Kitts and Nevis\",\n\"LC\":\"Saint Lucia\",\n\"MF\":\"Saint Martin (French part)\",\n\"PM\":\"Saint Pierre and Miquelon\",\n\"VC\":\"Saint Vincent and the Grenadines\",\n\"WS\":\"Samoa\",\n\"SM\":\"San Marino\",\n\"ST\":\"Sao Tome and Principe\",\n\"SA\":\"Saudi Arabia\",\n\"SN\":\"Senegal\",\n\"RS\":\"Serbia\",\n\"SC\":\"Seychelles\",\n\"SL\":\"Sierra Leone\",\n\"SG\":\"Singapore\",\n\"SX\":\"Sint Maarten (Dutch part)\",\n\"SK\":\"Slovakia\",\n\"SI\":\"Slovenia\",\n\"SB\":\"Solomon Islands\",\n\"SO\":\"Somalia\",\n\"ZA\":\"South Africa\",\n\"GS\":\"South Georgia and the South Sandwich Islands\",\n\"ES\":\"Spain\",\n\"LK\":\"Sri Lanka\",\n\"SD\":\"Sudan\",\n\"SR\":\"Suriname\",\n\"SS\":\"South Sudan\",\n\"SJ\":\"Svalbard and Jan Mayen\",\n\"SZ\":\"Swaziland\",\n\"SE\":\"Sweden\",\n\"CH\":\"Switzerland\",\n\"SY\":\"Syrian Arab Republic\",\n\"TW\":\"Taiwan, Province of China\",\n\"TJ\":\"Tajikistan\",\n\"TZ\":\"Tanzania, United Republic of\",\n\"TH\":\"Thailand\",\n\"TL\":\"Timor-Leste\",\n\"TG\":\"Togo\",\n\"TK\":\"Tokelau\",\n\"TO\":\"Tonga\",\n\"TT\":\"Trinidad and Tobago\",\n\"TN\":\"Tunisia\",\n\"TR\":\"Turkey\",\n\"TM\":\"Turkmenistan\",\n\"TC\":\"Turks and Caicos Islands\",\n\"TV\":\"Tuvalu\",\n\"UG\":\"Uganda\",\n\"UA\":\"Ukraine\",\n\"AE\":\"United Arab Emirates\",\n\"GB\":\"United Kingdom\",\n\"US\":\"United States\",\n\"UM\":\"United States Minor Outlying Islands\",\n\"UY\":\"Uruguay\",\n\"UZ\":\"Uzbekistan\",\n\"VU\":\"Vanuatu\",\n\"VE\":\"Venezuela, Bolivarian Republic of\",\n\"VN\":\"Viet Nam\",\n\"VG\":\"Virgin Islands, British\",\n\"VI\":\"Virgin Islands, U.S.\",\n\"WF\":\"Wallis and Futuna\",\n\"EH\":\"Western Sahara\",\n\"YE\":\"Yemen\",\n\"ZM\":\"Zambia\",\n\"ZW\":\"Zimbabwe\"}\n</code></pre>\n\n<p>I tried to use this code to build the dictionary</p>\n\n<pre><code>import pycountry\n\nt = list(pycountry.countries)\n\nfor country in t:\n    print '\"' + country.alpha2 + '\":\"' + country.name + '\",'\n</code></pre>\n"},{"tags":["python","rabbitmq","celery"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":215,"score":1,"question_id":11008337,"title":"Rabbitmq connection issue when using a username and password","body":"<p>I am trying to start some background processing through rabbitmq, but when I send the request, I get the below error in the rabbitmq log. But, I think I am providing the right credentials, as my celery works are able to connect to rabbitmq server using the same username/password combination.</p>\n\n<pre><code>=ERROR REPORT==== 12-Jun-2012::20:50:29 ===\nexception on TCP connection &lt;0.8322.0&gt; from 127.0.0.1:41708\n{channel0_error,starting,\n                {amqp_error,access_refused,\n                            \"AMQPLAIN login refused: user 'guest' - invalid credentials\",\n                            'connection.start_ok'}}\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","utf-8","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13223972,"title":"How to decode this string (it's hex?)?","body":"<p>I'm trying to understund how encoding/decoding string works on python. But I'm getting pretty confused.</p>\n\n<p>If I've a string like this:</p>\n\n<pre><code>'\\x87\\x0e)\\xb9\\xb0\\x0f\\t\"c\\xc7\\xf1\\x97B\\xc6\\x17\\xee\\xab\\x1d\\xbf\\xc0\\xd0\\x06j\\xc3'\n</code></pre>\n\n<p>Wich type is this? Hex? And how to convert it to utf-8?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13223982,"title":"How to rstrip only when the object is not \"None type\"","body":"<p>findloc is another subroutine i created,when parse is called sometimes it returns None and sometimes a value, when trying to rstrip I am getting the following error?how to use rstrip only when the object is non \"nonetype\" or please suggest any other method.  </p>\n\n<pre><code>    build_loc=parse(findloc(targetmeta_cid).strip())\n    Target_list.append(build_loc.rstrip('\\r\\n'))\n</code></pre>\n\n<p>Error</p>\n\n<pre><code> Target_list.append(build_loc.rstrip('\\r\\n'))AttributeError: 'NoneType' object has no attribute 'rstrip'\n</code></pre>\n"},{"tags":["python","radio","modem"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":38,"score":-1,"question_id":13223118,"title":"Comunication Full duplex between two modem radio with python","body":"<p>I need to install 2 modem radio on 2 different PC and i need to create program with python . now my problem is how check in every second to serial port .if we have echo from serial the program print it ,if not dont print .</p>\n\n<p>pc 1 send characters to pc 2 and in the sime time pc 2 send characters to pc 1 </p>\n\n<p>All programme:</p>\n\n<pre><code>#-*- coding:Utf8 -*-\nimport serial\nimport threading\nimport time\nchaine=''\n\n# configure the serial port\nser = serial.Serial(\n    port='COM5',\n    baudrate=9600,\n    parity=serial.PARITY_NONE,\n    stopbits=serial.STOPBITS_ONE,\n    bytesize=serial.EIGHTBITS\n)\n\nprint \"port : \" , ser.portstr ,\"DATE : \",time.strftime('%d/%m/%y %H:%M',time.localtime())     \n\nwhile chaine!='exit':\n    for lettre in chaine:\n        ser.write(str(lettre))\n    ser.write('\\r')\n    time.sleep(1)\n    print ser.read(ser.inWaiting()),\nchaine = raw_input(\"\\nCMD&gt;&gt;&gt;\")\nser.close()\n</code></pre>\n\n<p>I'have already looked the \"thread\" fontion ,like exempl <strong>def</strong> *<em>echo</em>* .with I can run 2 process </p>\n\n<p>result : print buffer serial but even if i don't have echo the function printf return ligne !!!</p>\n\n<pre><code>def echo(tempo = 1.0):\n    tmp=''\n    threading.Timer(tempo, echo, [tempo]).start()\n    tmp=ser.read(ser.inWaiting())\n    print tmp\n</code></pre>\n\n<p>....</p>\n\n<pre><code>echo(1.0)\n</code></pre>\n\n<p>.....</p>\n\n<p>thanks</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13223879,"title":"DNS rdata parsing with Python","body":"<p>I want to extend the code below by parsing TXT field data aswell. I simply added the check for TXT field and start parsing the data. However the rdata field comes in little endian format. I was going to use regex to strip out the garbage came with Base64 encoded string, I thought there would be a better way of doing this.</p>\n\n<p>Original code (http://mishou.org/2010/04/13/passive-dns-mining-from-pcap-with-dpkt-python/)</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport dpkt, socket, sys\n\nif len(sys.argv) &lt; 2 or len(sys.argv) &gt; 2:\n print \"Usage:\\n\", sys.argv[0], \"filename.pcap\"\n sys.exit()\n\nf = open(sys.argv[1])\npcap = dpkt.pcap.Reader(f)\n\nfor ts, buf in pcap:\n # make sure we are dealing with IP traffic\n # ref: http://www.iana.org/assignments/ethernet-numbers\n try: eth = dpkt.ethernet.Ethernet(buf)\n except: continue\n if eth.type != 2048: continue\n # make sure we are dealing with UDP\n # ref: http://www.iana.org/assignments/protocol-numbers/\n try: ip = eth.data\n except: continue\n if ip.p != 17: continue\n # filter on UDP assigned ports for DNS\n # ref: http://www.iana.org/assignments/port-numbers\n try: udp = ip.data\n except: continue\n if udp.sport != 53 and udp.dport != 53: continue\n # make the dns object out of the udp data and check for it being a RR (answer)\n # and for opcode QUERY (I know, counter-intuitive)\n try: dns = dpkt.dns.DNS(udp.data)\n except: continue\n if dns.qr != dpkt.dns.DNS_R: continue\n if dns.opcode != dpkt.dns.DNS_QUERY: continue\n if dns.rcode != dpkt.dns.DNS_RCODE_NOERR: continue\n if len(dns.an) &lt; 1: continue\n # now we're going to process and spit out responses based on record type\n # ref: http://en.wikipedia.org/wiki/List_of_DNS_record_types\n for answer in dns.an:\n   if answer.type == 5:\n     print \"CNAME request\", answer.name, \"\\tresponse\", answer.cname\n   elif answer.type == 1:\n     print \"A request\", answer.name, \"\\tresponse\", socket.inet_ntoa(answer.rdata)\n   elif answer.type == 12:\n     print \"PTR request\", answer.name, \"\\tresponse\", answer.ptrname\n</code></pre>\n\n<p>I added</p>\n\n<pre><code>elif answer.type == 16:\n     print \"TXT request\", repr(answer.name), \"\\tresponse\", repr(answer.rdata)\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>Cr\\xe0ax\\xdac`\\xe0`p\\xe5`0\\xf9\\x9b\\xe3\\xc0\\xe0\\xc0\\xf6\\xf5\\xd7\\x81\\x15\\xc9\\x8c@\\xcc\\xc4 \\xb6\\xfd\\x98\\xa7\\x8dA\\xd9\\xf9\\nI\\xf7\\x06\\x01\\xc6\\xf9\\x06\\xb7\\x19\\x18\\x18\\x199\\xb8\\x18\\x98_81\\xc8\\xfc\\xb2\\x05\\x00\\xef|\\x115\n</code></pre>\n"},{"tags":["python","crontab","virtualenv"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1132,"score":2,"question_id":2924247,"title":"Calling python script from crontab with activate","body":"<p>how do i call a python script from crontab that requires using activate (source env/bin/active)?</p>\n"},{"tags":["java","python","encryption","aes"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13223772,"title":"Decrypt String in Python That Was Encrypted in Java","body":"<p>I'm working on a server application in Python and an app to connect to it in Java. I need to encrypt the string in Java and then decrypt it in Python.</p>\n\n<p>Everything works well with the Java code, but there is a problem with the Python code.</p>\n\n<pre><code>from Crypto.Cipher import AES\nobj        = AES.new('0123456789abcdef', AES.MODE_CBC,IV=\"fedcba9876543210\")\nBLOCK_SIZE = 16\nPADDING    = \" \"\npad        = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * PADDING\nplain      = \"password\"\nplain      = pad (plain)\nciph       = obj.encrypt(plain)\nobj        = AES.new('0123456789abcdef', AES.MODE_CBC,IV=\"fedcba9876543210\")\ndecrypted  = obj.decrypt(ciph)\nresult     = \"\"\nfor char in ciph:\n    result += str((hex(ord(char))))[2:]\nprint result\nprint decrypted\n</code></pre>\n\n<p>The results of this are:</p>\n\n<pre><code>2af41fc02b33765b56433f59edb67dd3\npassword\n</code></pre>\n\n<p>Which is what I would expect and matches the Java output, however when I plug in the first of the 2 lines to decrypt it in the Python code, the output is totally off and displays random characters.  I think that is due to the for loop at the end which makes it the same as the Java output. Is there a way to undo that for loop? Also using code at least similar to this is there a decent way to decrypt the first of the two output strings (in Python)?</p>\n\n<p>I appreciate all responses, thank you ahead of time!</p>\n"},{"tags":["python","numpy","plot","matplotlib"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13223497,"title":"Plotting a 2D Array with Matplotlib","body":"<p>So I have a 2D array (named Data) that looks like:</p>\n\n<pre><code>            Shape 0       Shape 1     ...      Shape N\n            -------       -------              -------\n\nScale 0  |  Value00   ,   Value01     ...      Value0N |\n\nScale 1  |  Value10   ,   Value11     ...      Value1N |\n\n  .\n  .\n  .\n\nScale N  |  ValueN0   ,   ValueN1     ...      ValueNN |\n</code></pre>\n\n<p>And I want to create a 3D plot where the ValueXXs are the Z axis. I've tried two attempts, but each give me a surface that is rotated with respect to the other one, so I've gotten myself a bit confused. Here is my 1st attempt at a solution:</p>\n\n<pre><code>x,y = numpy.mgrid[0:50:50j,0:50:50j]\nf = Data\nfig = plt.figure()\nax = Axes3D(fig)\nax.plot_surface(x,y,f,rstride=1,cstride=1)\n</code></pre>\n\n<p>Here is my second attempt:</p>\n\n<pre><code>nx, ny = 50, 50\nx = range(nx)\ny = range(ny)\nhf = plt.figure()\nha = hf.add_subplot(111, projection='3d')\nX, Y = numpy.meshgrid(x, y)  \nha.plot_surface(X,Y,Data,rstride=1,cstride=1)\n</code></pre>\n\n<p>Examining X and Y does no help really because its a square. I'm not sure when X represents my 'Scale' vs when it is representing my 'Shape'. </p>\n\n<p>So, what is really going on with these two examples? Is there a better way to plot this array?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","arrays","vba","macros","ms-word"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":51,"score":-5,"question_id":13223561,"title":"find replace macro -- long and detailed","body":"<p><strong>contents</strong> (you're not suppose to vote-down just because it's long and detailed)<br>\ngoal<br>\nfew examples<br>\npointers<br>\nclarifications<br>\nside goals<br>\npurpose<br>\nbackground, learning more stuff</p>\n\n<p><strong>main goal</strong><br>\nfind unwanted words and replace them with desired words, recursively </p>\n\n<p>like as with <a href=\"http://superuser.com/questions/344204/word-macro-how-to-replace-strings-in-a-text-based-on-a-2-column-table\">http://superuser.com/questions/344204/word-macro-how-to-replace-strings-in-a-text-based-on-a-2-column-table</a>\nbut instead of the example in that link where one word translates into one word, this macro is multiple words translated into the desired word<br>\nI think it's way better to keep the list of words to be translated within the macro instead of having a separate excel table  </p>\n\n<p><strong>few examples</strong><br>\n\"heavenly\" to \"pretty\"<br>\n\"problems\" to \"needs solution\"<br>\n“question” to “?”<br>\n“variable” to “var”<br>\n“document” to “doc”<br>\n“government” to “gov”<br>\n\"six\" to \"6\"<br>\n\"100%\" to \"100\"<br>\n\"ranking\", \"rank\" to \"rk\"\n\"macro\", \"program\", \"automatically\", \"auto\" to \"algo\"<br>\n“leads to”, “changes to”, \"becomes\", \"shifts to\", \"translate\" to “->”  </p>\n\n<p><strong>pointers</strong><br>\n* Links in this question are for your ref<br>\n* with very limited knowledge, your Comments on your code would be very helpful<br>\n* highly desire python code over vba, but any that works is doable in the meantime until i eventually translate it over to python, not sure what you use for word 2010 to use python, <a href=\"http://superuser.com/questions/484408/are-you-able-to-use-other-languages-instead-of-vb-for-excel-macros\">http://superuser.com/questions/484408/are-you-able-to-use-other-languages-instead-of-vb-for-excel-macros</a>  </p>\n\n<p><strong>clarifications if needed</strong><br>\nreplacing for word 2010, not excel, <a href=\"http://stackoverflow.com/questions/12410507/replace-string-using-a-macro\">Replace string using a Macro</a><br>\nreplacing, not listing, <a href=\"http://stackoverflow.com/questions/10112302/word-macro-to-find-profanity-and-create-a-list-of-occurences\">Word macro to find profanity, and create a list of occurences</a><br>\nreplacing all, not only the first or a single instance, <a href=\"http://stackoverflow.com/questions/11019217/simple-word-vba-replacement-macro\">Simple Word VBA replacement macro</a><br>\nnot just single words, but also phrases (“words within a range of each other”)   <a href=\"http://stackoverflow.com/questions/11354909/regex-word-macro-that-finds-two-words-within-a-range-of-each-other-and-then-ital\">Regex Word Macro that finds two words within a range of each other and then italicizes those words?</a><br>\njust one example would be “in order to” -> “to”  </p>\n\n<p><strong>side goals in priority ranking</strong><br>\nthey are additions, if you able to add/include these functionality to the main code, that would be nice<br>\n* like the macro to run upon pasting new content into the doc, so it’s automatically recurring, not a singular instance -- <a href=\"http://stackoverflow.com/questions/5191176/word-vba-how-to-find-and-replace-a-string-starting-with-start-and-ending-wit?rq=1\">Word VBA How to find and replace a string starting with &quot;&lt;start&gt;&quot; and ending with &quot;&lt;end&gt;&quot;?</a><br>\n* all plurals of the replaced word, ie kitten -> kittens would automatically be include for all replaced words<br>\n* replace all \". space\" with an enter. the replace function in word doesn’t work since not all the periods have space after them which is the same problem on <a href=\"http://stackoverflow.com/questions/10714947/how-to-do-search-and-replace-involving-fields-in-microsoft-word\">How to do search and replace involving fields in Microsoft Word?</a><br>\n* like to do this across all .docx <a href=\"http://stackoverflow.com/questions/10112302/word-macro-to-find-profanity-and-create-a-list-of-occurences\">Word macro to find profanity, and create a list of occurences</a><br>\n* automatically lowercase everything<br>\n* Replace everywhere in doc <a href=\"http://word.mvps.org/faqs/macrosvba/FindReplaceAllWithVBA.htm\" rel=\"nofollow\">http://word.mvps.org/faqs/macrosvba/FindReplaceAllWithVBA.htm</a>      </p>\n\n<p><strong>purpose</strong><br>\nabstractly one purpose of this is to the change all synonymous and related into ONE word<br>\nanother is readability, efficiency and elegance in simplicity, not chaotic complexity<br>\nlots of highly significant reasons    </p>\n\n<p><strong>background, learning more stuff</strong><br>\nsince i used a few simple excel macros, i realized you could likely do something with the word macro<br>\ni had originally asked this, <a href=\"http://superuser.com/questions/484161/is-ms-word-able-to-changes-word-find-and-replace-with-the-words-being-based-of\">http://superuser.com/questions/484161/is-ms-word-able-to-changes-word-find-and-replace-with-the-words-being-based-of</a> though nobody who saw that question gave this helpful answer/recommendation of using a macro<br>\ni didnt know you can do \"patterned searches\" in word <a href=\"http://word.mvps.org/faqs/general/usingwildcards.htm\" rel=\"nofollow\">http://word.mvps.org/faqs/general/usingwildcards.htm</a> and that certain words are \"special words\" like \"^\"<br>\nthis may be why you cant replace words with \"^\" and you keep getting an error everytime instead</p>\n"},{"tags":["python","twisted"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13221947,"title":"preventing updation of specific columns in sqlite from python","body":"<p>i am developing a twisted app which interacts with a sqlite backend, in the sqlite db there is a users table of which certain columns should not be updated if they already contain a value.\n<strong>one way of doing this would be to check the user table before each insert for existence of values in the columns of interest</strong> and proceed accordingly , but this will be a performance killer and people familiar with twisted will know how cumbersome this can be, can someone suggest a better way of doing this .</p>\n\n<p>TIA</p>\n"},{"tags":["python","logic","discrete-mathematics","continuous","temporal"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13221392,"title":"Create a model that switches between two different states using Temporal Logic?","body":"<p>Im trying to design a model that can manage different requests for different water sources.\nPlatform : MAC OSX, using latest Python with TuLip module installed.</p>\n\n<p>For example,</p>\n\n<pre><code>Definitions :\n\nTwo water sources : w1 and w2\n3 different requests : r1,r2,and r3\n</code></pre>\n\n<p>-</p>\n\n<pre><code>Specifications :\n\nWater 1 (w1) is preferred, but w2 will be used if w1 unavailable.\nWater 2 is only used if w1 is depleted.\nr1 has the maximum priority.\nIf all entities request simultaneously, r1's supply must not fall below 50%.\n</code></pre>\n\n<p>-</p>\n\n<p>The water sources are not discrete but rather continuous, this will increase the difficulty of creating the model. I can do a crude discretization for the water levels but I prefer finding a model for the continuous state first.</p>\n\n<p>So how do I start doing that ? </p>\n\n<p>Some of my thoughts : </p>\n\n<ul>\n<li>Create a matrix W where w1,w2 ∈ W </li>\n<li>Create a matrix R where r1,r2,r3 ∈ R</li>\n<li>or leave all variables singular without putting them in a matrix</li>\n</ul>\n\n<p>I'm not an expert in coding so that's why I need help. Not sure what is the best way to start tackling this problem.\nI am only interested in the model, or a code sample of how can this be put together.</p>\n\n<p><em>edit</em></p>\n\n<p>Now imagine I do a crude discretization of the water sources to have w1=[0...4] and w2=[0...4] for 0, 25, 50, 75,100 percent respectively.</p>\n\n<p>==> means <em>implies</em></p>\n\n<p>Usage of water sources  : </p>\n\n<ul>\n<li>if w1[0]==>w2[4] -- meaning if water source 1 has 0%, then use 100% of water source 2 etc</li>\n<li>if w1[1]==>w2[3]</li>\n<li>if w1[2]==>w2[2]</li>\n<li>if w1[3]==>w2[1]</li>\n<li>if w1[4]==>w2[0]</li>\n</ul>\n\n<p>r1=r2=r3=[0,1] -- 0 means request <em>OFF</em> and 1 means request <em>ON</em></p>\n\n<p>Now what model can be designed that will give each request 100% water depending on the values of w1 and w2 (w1 and w2 values are uncontrollable so cannot define specific value, but 0...4 is used for simplicity )</p>\n"},{"tags":["python","turbogears","repoze.who"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13223839,"title":"Remove all user's cookies/sessions when password is reset","body":"<p>I'm interested in improving security of my TurboGears 2.2 application so that when user changes his password, it logs him out from all sessions and he must login again. The goal is when user changes password on browser 1, he must relogin on browser 2, too. Experiments show that this is not the case, especially if browser 2 had \"remember me\" enabled. </p>\n\n<p>It's standard quickstarted app using repoze.who. It seems maybe I need to change AuthTktCookiePlugin, but don't see a way to do it without much rewiring.</p>\n"},{"tags":["python","setuptools","easy-install"],"answer_count":8,"favorite_count":22,"up_vote_count":43,"down_vote_count":0,"view_count":24376,"score":43,"question_id":3652625,"title":"Installing SetupTools on 64-bit Windows","body":"<p>I'm running Python 2.7 on Windows 7 64-bit, and when I run the installer for setuptools it tells me that Python 2.7 is not installed.  The specific error message is:</p>\n\n<pre><code>`Python Version 2.7 required which was not found in the registry`\n</code></pre>\n\n<p>My installed version of Python is:</p>\n\n<pre><code>`Python 2.7 (r27:82525, Jul  4 2010, 07:43:08) [MSC v.1500 64 bit (AMD64)] on win32`\n</code></pre>\n\n<p>I'm looking at the setuptools site and it doesn't mention any installers for 64-bit Windows.  Have I missed something or do I have to install this from source?</p>\n"},{"tags":["python","twitter","filter","stream","tweepy"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13215054,"title":"Tweepy public stream filter by a changing vairable","body":"<p>I was working with the Tweepy library for python to access the public twitter stream and ran into a problem where one the stream is running, it doesn't stop. Now, that makes sence for what it does, but I wanted it to start filtering with an empty list of user IDs and after a while, userIDs are added to the list after someone tweets a particulate track word, so that once they tweet a word, the tracker starts tracking all their tweets. The problem is that once the stream is started with the initial filter options, changing the variables doesn't affect the filter; it just keeps on using the initial arguments.</p>\n\n<pre><code>userIDs = []\n\ntrackWords = [\"#Obama\"]\n\ndef stream():\n\n    s = Stream(auth, StreamListener())\n\n    s.filter(follow = userIDs, track = trackWords)\n</code></pre>\n\n<p>I was able to get around this earlier by recalling the stream definition again after a new keyword is added, but I have multiple streams searching and I put them in separate threads so they can all run simultaneously. I can't figure out how to refresh the threads, so trying to refresh the filter without recalling the definition seems easier.</p>\n\n<p>I'm fairly new to programming, so maybe this is a fundamental concept I don't know yet, but hopefully there's an easy trick to get it to refresh.</p>\n\n<p>Here's all my relevant code if that helps anyone. The above was just a quick thing to help show what I'm talking about:</p>\n\n<pre><code>userIDs = []\nuserNames = []\n\naccount = ['@DMS_423']\n\npublicKeyWords = ['the','be','to','of','and','are','is','were','was']\n\nclass AStreamListener(StreamListener):\n    def on_status(self, status):\n        if status.author.screen_name not in userNames:\n            userNames.append(str(status.author.screen_name))\n            userIDs.append(str(api.get_user(str(status.author.screen_name)).id))\n            print status.author.screen_name, \"has joined the game.\"\n\ndef uStream():\n    s = Stream(auth, StreamListener())\n    s.filter(follow = userIDs)\n\ndef pStream():\n    ps = PStream(pAuth, PStreamListener())\n    ps.filter(track = publicKeyWords)\n\ndef aStream():\n    adds = Stream(auth, AStreamListener())\n    adds.filter(track = account)\n\nt1 = Thread(target = aStream)\nt2 = Thread(target = uStream)\nt3 = Thread(target = pStream)\n\ndef run():\n    t1.start()\n    t2.start()\n    t3.start()\n\nrun()\n</code></pre>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13223625,"title":"sqlselect() takes at most 2 arguments (3 given) lies","body":"<p>I don't see the third argument. When I run this command:</p>\n\n<pre><code>used_emails = [row.email for row\n    in db.execute(halo4.select([halo4.c.email],[halo4.c.email!='']))]\n</code></pre>\n\n<p>It says:</p>\n\n<p>TypeError: select() takes at most 2 arguments (3 given)</p>\n\n<p>Where's the third argument?</p>\n"},{"tags":["python","ruby","rest","rally"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13223568,"title":"Rally APIs: How to copy Test Folder and member Test Cases","body":"<p>This question was asked by a different user earlier:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13036251/copying-test-cases-and-test-folder-using-rally-python-or-ruby-api\">Copying Test Cases and Test Folder using Rally Python or Ruby API [closed]</a></p>\n\n<p>but closed by moderators as being an overly broad question. However, given the inability to copy Test Folders and their member Test Cases within the <a href=\"https://rally1.rallydev.com\" rel=\"nofollow\">Rally UI</a>, this is a common need for Rally Users.</p>\n\n<p>Thus - I'll re-pose the question, hopefully with enough detail to stand as a valid question. I'll also re-post the answers that I developed for the original question.</p>\n\n<p>Question: As a <a href=\"https://www.rallydev.com\" rel=\"nofollow\">Rally</a> user and developer in the Rally Python and Ruby REST APIs: how can I leverage the <a href=\"http://developer.rallydev.com/help/rest-apis\" rel=\"nofollow\">Rally API toolkits</a> to accomplish this task?</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13220774,"title":"Don't return the entire row in SQLAlchemy","body":"<p>My SQLAlchemy code:</p>\n\n<pre><code>used_emails = list(db.execute(halo4.select(halo4.c.email != '')))\n</code></pre>\n\n<p>returns:</p>\n\n<p><code>[(80940L, 'P7J4H-DFDMG-G6HMJ-W7PF9-MDTF1', '1', 'first.last@domain.com', datetime.datetime(2012, 11, 3, 3, 48, 58)), (80939L, 'GCTFY-QPK2Y-PX1CJ-W69QY-PHDGZ', '1', 'first.last@domain.com', datetime.datetime(2012, 11, 3, 15, 8, 15)), (80938L, 'R4XGV-PG461-RGXX7-9R47R-2RWYZ', '1', 'first.last@domain.com', datetime.datetime(2012, 11, 3, 15, 8, 27))]</code></p>\n\n<p>How do I make SQLAlchemy only return:</p>\n\n<p><code>[('first.last@domain.com', 'first.last@domain.com', 'first.last@domain.com')]</code></p>\n"},{"tags":["python","image","file","header","bytearray"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13215111,"title":"Working out bytearray offset in an image(dpx) file","body":"<p>I Have been working on reading binary data every now and then. But i have never really gotten the system down on how to extrapolate the offsets when using a bytearray.</p>\n\n<p>in this case i am working on a dpx file and trying to change the aspectratio located in the Orientation Header. \nrelevant file info found here: <a href=\"http://www.fileformat.info/format/dpx/egff.htm\" rel=\"nofollow\">http://www.fileformat.info/format/dpx/egff.htm</a></p>\n\n<p>I know Scott Griffiths has a great post on the subject.<a href=\"http://stackoverflow.com/questions/5249748/decode-image-file-to-extract-image-header-information-and-modify-it-with-python\">Decode image file to extract image header information and modify it (with python)</a>\n However i never really understood enough to convert that knowledge into modifying things under other headers than the GENERICFILEHEADER</p>\n\n<p>So how would one go about changing the aspectratio. Any help on the matter would be greatly appreciated.</p>\n\n<p>Cheers</p>\n"},{"tags":["python","multithreading"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13223437,"title":"interactive scripts with threads","body":"<p>I'm trying to wrap the blocking calls in pyaudio with a thread to give me non-blocking access through queues. However, the problem I have is not with pyaudio, or queues, but with the issue of trying to test a thread. In keeping with \"strip the example down to the minimum possible\", all the pyaudio stuff has vanished, to leave only the thread class, and its instantiation in a main.</p>\n\n<p>What I was hoping for was an object that I could create, and leave to get on with its stuff in the background, while I do control things with the console or tk. I figure the following max-stripped down example should have the thread doing stuff, while main runs and asks me if it is working. The raw_input prompt never appears. I would not be surprised at this if I was running it from IDLE, which is not thread safe, but I get the same behaviour if I run the script directly from the OS. I was prepared to see the raw input prompt disappear up the screen pushed by 'running' prints, but not even that happens. The prompt never appears. What's going on? It does respond to ctrl-C and to closing the window, but I'd still like to be able to see main running.</p>\n\n<pre><code>import threading\nimport time\n\nclass TestThread(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.running=True\n        self.run()\n\n    def run(self):        \n        while self.running:\n            time.sleep(0.5)\n            print 'running'                            \n\n    def stop(self):\n        self.running=False\n\nif __name__=='__main__':\n\n    tt=TestThread()\n    a=raw_input('simple stuff working ? -- ')\n    tt.stop()\n</code></pre>\n"},{"tags":["php","python","numpy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13223249,"title":"Calling python from php fails when import numpy","body":"<p>Trying to call a python (2.6) script from php when a make a GET HTTP request from Android, but if the import numpy is in my script, I get a failure, if I remove it, the script/call works.  I am computing the FFT spectrum of a numeric field in MySQL, so I need numpy (or do I?).</p>\n\n<p>I've look at similar questions on SO, and <a href=\"http://stackoverflow.com/questions/8704519/php-script-cant-get-output-from-python-script\">this</a> one, answered by @dietrich-epp, is the best one but when I try the same suggestion, my script still fails.</p>\n\n<p>Here is my imports part of my python script:</p>\n\n<pre><code>import  os, os.path, sys\nimport numpy\nimport string\nimport math\nimport MySQLdb\n</code></pre>\n\n<p>And the start of my PHP file:</p>\n\n<pre><code>&lt;?php\nputenv('PYTHONPATH=/usr/lib/python2.6/site-packages:');\n...\n</code></pre>\n\n<p>And this how I call my python script:</p>\n\n<pre><code>$command = \"/var/www/html/tremcam/tst0.py localhost baseline@nd.edu 2&gt;&amp;1\";\n$pid = popen( $command,\"r\");\nwhile( !feof( $pid ) )\n{\n #echo fread($pid, 256);\n print(json_encode(fread($pid, 256)));\n flush();\n ob_flush();\n usleep(100000);\n}\npclose($pid);\n</code></pre>\n\n<p>And my environment variables have the PYTHONPATH set to:</p>\n\n<pre><code>/var/www/html/tremcam/pythons\n/usr/lib/python2.6/site-packages\n/usr/lib\n/usr/lib/python26.zip\n/usr/lib/python2.6\n/usr/lib/python2.6/plat-linux2\n/usr/lib/python2.6/lib-tk\n/usr/lib/python2.6/lib-old\n/usr/lib/python2.6/lib-dynload\n/usr/lib/python2.6/site-packages/gtk-2.0\n/usr/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg-info\n/usr/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg-info\n</code></pre>\n\n<p>Should this (<code>PYTHONPATH=/usr/lib/python2.6/site-packages</code>) be pointing at <code>/usr/lib/python2.6/site-packages/numpy</code> instead?</p>\n\n<p>I will try using passthru() instead of the way I currently have it in PHP.  Please note, that after I am able to import numpy as np, the code will take several seconds to complete, will that also be an issue?</p>\n\n<p>Update:  if I use: <code>passthru('/var/www/html/tremcam/tst0.py localhost baseline@nd.edu 2&gt;&amp;1',$result);</code></p>\n\n<p>I get exit status code 139, so that isn't very helpful to me, what do you think?</p>\n"},{"tags":["python","file","text"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":13223363,"title":"Trying to print only one line of a text document in python","body":"<p>I am making a program that lets you edit, or read a text document in python, and I'm not finished yet, and I'm stuck on the reading part.  I want it to print only one line, and I'm drawing a blank on how to do so.  The read part is in \"def read():\"</p>\n\n<pre><code>def menu():\n    print(\"What would you like to do?\")\n    print(\"\\n(1) Write new text\")\n    print(\"(2) Read line 3\")\n    choice = float(input())\n    if choice == 1:\n        write()\n    elif choice == 2:\n        read()\n\ndef read():\n    with open('test.txt', 'r') as read:\n        print()\n\ndef write():\n    print(\"\\nType the full name of the file you wish to write in.\")\n    file1 = input().strip()\n    with open(file1, \"a\") as add:\n        print(\"What do you want to write?\")\n        text = input()\n        add.write(\"\\n\"+ text)\n\nmenu()\n</code></pre>\n"},{"tags":["python","html"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":13222150,"title":"Syntax error with HTML code in python","body":"<p>I am trying to construct a HTML table in python and running into the following syntax error,can anyone please point what is the issue here?</p>\n\n<pre><code>for i in range(len(PLlis)):\n    print \"i\"\n    print i\n    outstring += \"&lt;tr&gt;\\n\"\n    outstring += \"&lt;td&gt;&lt;a href=\"wikilinklis[i]\"&gt;PLlist[0]&lt;/a&gt;&lt;/td&gt;\\n\"\n    outstring += \"&lt;td&gt;build_locationlis[i]&lt;/td&gt;\\n\"\n    outstring += \"&lt;td&gt;lis[i]&lt;/td&gt;\\n\"\n    outstring += \"&lt;td&gt;Host_loc&lt;/td&gt;\\n\"\n    outstring += \"&lt;td&gt;Baselis[i]&lt;/td&gt;\\n\"\n    outstring += \"&lt;/tr&gt;\\n\"\noutstring += \"&lt;/table&gt;\\n\"\nreturn outstring\n</code></pre>\n\n<p>SYNTAX ERROR:-</p>\n\n<pre><code>   outstring += \"&lt;td&gt;&lt;a href=\"wikilinklis[i]\"&gt;PLlist[0]&lt;/a&gt;&lt;/td&gt;\\n\"\n                                     ^\n</code></pre>\n\n<p>SyntaxError: invalid syntax</p>\n"},{"tags":["python","file","text","error-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13223163,"title":"I'm getting \"[errno 22] Invalid argument: 'test.txt\\r'","body":"<p>I'm experimenting with a python program that will allow you to edit text files, I will use this feature later on in other programs, but I get the error: [errno 22] Invealid argument: 'test.txt\\r'.  Also I never added \\r to test.txt.  Here is my code:</p>\n\n<pre><code> def menu():\n     print(\"Type in the full name of the text file you would like to add to.\")\n     file1 = input()\n     with open(file1, \"br\") as add:\n         print(\"What do you want to write?\")\n         text = input()\n         add.write(text)\n menu()\n</code></pre>\n\n<p>Okay, new problem.  I edited the code so that now it says <code>file1 = input().strip()</code> and it worked fine ALL up until I got another error.  The error is: <code>io:UnsupportedOperation: write</code>.  The error says it's in line 7 in the part that says <code>add.write(text)</code>.</p>\n\n<p>Nevermind, I changed the with <code>open(file1, \"br\")</code> to with <code>open(file1, \"a\")</code> and it works fine now.  THANKS FOR ALL OF YOUR HELP GUYS!!!</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":52,"score":-5,"question_id":13223234,"title":"Writing a program in Python 2.7","body":"<p>I had to write a python program that plays the following game 15 times: The player input 9 integers which your program adds together to get the sum. If the sum is an even integer, the player wins; otherwise the player loses.\nI've gotten all of that done but the last part of it is that at the end the program outputs the total number of times the player has won out of the 15 which is what I'm struggling with. Any help would be appreciated.</p>\n"},{"tags":["python","python-3.x"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13222738,"title":"How to guess the 4 digit secret code entered by user(unknown to us)?","body":"<p>can someone explain how to do this in python? the idea is to figure out the 4 digit code(ex: 3968) entered by the user. how would one design an algorithm to go about finding this?\nhere is what i got..:</p>\n\n<pre><code>code=int(input(\"Enter 4 digit secret code:\"))\ncount=0000\nwhile(count!=code):\n    count=count+1\nprint(\"Your code was\",count)\n</code></pre>\n\n<p>this works perfectly....Except when the code starts with 0... Ex: 0387\nit prints \" Your code was 387\" as appose to 0387</p>\n\n<p>whats a quick fix for this?</p>\n"},{"tags":["javascript","python","django","heroku","amazon-s3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13215994,"title":"Javascript not rendering in Django app on Heroku","body":"<p>Deployed a Django app on Heroku, and after my home page, every page after does not render the Javascript file hosted on Amazon S3, but when opening Console in Inspect Element, it seems as if everything is loading fine. The header for my HTML file is below</p>\n\n<pre><code>#questions.html\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://s3.amazonaws.com/mrt-assets/static/css/QandA.css\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://s3.amazonaws.com/mrt-assets/static/css/Button.css\"&gt;\n&lt;script src=\"https://s3.amazonaws.com/mrt-assets/static/js/prefixfree.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://s3.amazonaws.com/mrt-assets/static/js/index.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://s3.amazonaws.com/mrt-assets/static/js/qanda.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The file clearly works, but all the popup windows are already open when I load the page. </p>\n\n<p>The only error is this</p>\n\n<pre><code>2XMLHttpRequest cannot load https://s3.amazonaws.com/mrt-assets/static/css/QandA.css. Origin http://warm-oasis-9454.herokuapp.com is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>2XMLHttpRequest cannot load <a href=\"https://s3.amazonaws.com/mrt-assets/static/css/Button.css\" rel=\"nofollow\">https://s3.amazonaws.com/mrt-assets/static/css/Button.css</a>. Origin <a href=\"http://warm-oasis-9454.herokuapp.com\" rel=\"nofollow\">http://warm-oasis-9454.herokuapp.com</a> is not allowed by Access-Control-Allow-Origin.</p>\n\n<p>Anyone help me out?</p>\n\n<p>EDIT:</p>\n\n<p>Here is the page that works, the index</p>\n\n<pre><code>#index.html\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://s3.amazonaws.com/mrt-assets/static/css/Index.css\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://s3.amazonaws.com/mrt-assets/static/css/Button.css\"&gt;\n&lt;script src=\"https://s3.amazonaws.com/mrt-assets/static/js/prefixfree.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://s3.amazonaws.com/mrt-assets/static/js/index.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Also here is my CORS requirement for my s3 bucket</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;CORSConfiguration xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"&gt;\n    &lt;CORSRule&gt;\n        &lt;AllowedOrigin&gt;\n            testsite.com\n        &lt;/AllowedOrigin&gt;\n        &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;\n        &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;\n        &lt;AllowedMethod&gt;DELETE&lt;/AllowedMethod&gt;\n        &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;\n    &lt;/CORSRule&gt;\n    &lt;CORSRule&gt;\n        &lt;AllowedOrigin&gt;*&lt;/AllowedOrigin&gt;\n        &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;\n        &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;\n    &lt;/CORSRule&gt;\n&lt;/CORSConfiguration&gt;\n</code></pre>\n\n<p>Is this any more helpful?</p>\n"},{"tags":["python","file","list","file-io","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":13223066,"title":"Python 3.2: Making a list of lists of integers in a file","body":"<p>So I have a file containing a matrix of integers. I need to read in the contents of the file and store it in a list of lists. I can't quite figure out how I have to do this.</p>\n\n<p>Here is an example of what the file A.txt contains:</p>\n\n<pre><code>3,7\n1,2,3,4,5,6,7\n11,12,13,14,15,16,17\n21,22,23,24,25,26,27\n</code></pre>\n\n<p>And here is my code so far:</p>\n\n<pre><code>def main():\n\n    A = open('A.txt')\n\n    Alist = []\n\n    for eachLine in A:\n\n\n\n\n\nmain()\n</code></pre>\n\n<p>So how do I go about doing this? I know I have to use the method readLine() and split() in some way but I'm not sure how. Also it must be a list of integers, not strings. Can anyone help?</p>\n"},{"tags":["python","raw-input"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11698229,"title":"Unable to access raw_input() data - Learning Python on Interviewstreet","body":"<p>I'm attempting to move over to Python after having worked in Matlab for the past few months. This is probably a simple question, but I haven't been able to find it in searching StackOverflow or Google yet.</p>\n\n<p>The InterviewStreet problem I'm working on is pretty simple. It's an insertion sort question, checking how many times different numbers need to be switched in lists. They give us a raw_input() in the following format:</p>\n\n<p>2</p>\n\n<p>5</p>\n\n<p>1 1 1 2 2</p>\n\n<p>5</p>\n\n<p>2 1 3 1 2</p>\n\n<p>The first line is how many lists I need to sort, all subsequent even lines are the quantity of numbers in a list I need to sort, and the following odd lines are the actual lists that need sorting.</p>\n\n<p>I am stuck waaay at the beginning. The best I've done is</p>\n\n<blockquote>\n  <p>STDOUT = raw_input() </p>\n  \n  <p>print STDOUT</p>\n</blockquote>\n\n<p>which for some reason only gives the first integer in all test cases (for this one, it's 2).</p>\n\n<p>This is probably obvious to you already, but how do I access the rest of the numbers with raw_input()?</p>\n\n<p>Thanks!</p>\n\n<p>P.S. Please don't help me with the rest of the problem, I actually want to try and solve it myself :)</p>\n"},{"tags":["python","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":10936177,"title":"Download text from a URL in Python","body":"<p>I'm working on a school project currently which aim goal is to analyze scam mails with the Natural Language Toolkit package. Basically what I'm willing to do is to compare scams from different years and try to find a trend - how does their structure changed with time.\nI found a scam-database: <a href=\"http://www.419scam.org/emails/\" rel=\"nofollow\">http://www.419scam.org/emails/</a>\nI would like to download the content of the links with python, but I am stuck.\nMy code so far:</p>\n\n<pre><code>from BeautifulSoup import BeautifulSoup\nimport urllib2, re\n\nhtml = urllib2.urlopen('http://www.419scam.org/emails/').read()\nsoup = BeautifulSoup(html)\nlinks = soup.findAll('a')\n\nlinks2 = soup.findAll(href=re.compile(\"index\"))\n\nprint links2\n</code></pre>\n\n<p>So I can fetch the links but I don't know yet how can I download the content. Any ideas? Thanks a lot!</p>\n"},{"tags":["python","gui","window"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13222607,"title":"Can you run python as a windowed program?","body":"<p>Hello fellow python users, I bring forth a question that I have been wondering for a while. I love python, and have made many programs with it.  Now what I want to do is (or know how to do) make a python program, but run it in a window with buttons that you click on instead of typing in numbers to elect things.  I would like to just know weather or not I can do this, and if I can, please tell me where to go to learn how. Ok, it's not for the iPhone, sorry that I wasn't clear on that, and I didn't realize that iPhone was one of the tags.</p>\n"},{"tags":["python","canvas","tkinter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13222323,"title":"Distance between two objects","body":"<p>So I've been trying to figure out how to find the distance between two objects on a canvas and I've exhausted most relevant links on Google with little success.</p>\n\n<p>I'm trying to make it so that it calculates the distance between the drawn ovals and the line on the canvas.</p>\n\n<pre><code>from __future__ import division\nfrom Tkinter import *\nimport tkMessageBox\n\nclass MyApp(object):\n    def __init__(self):\n        self.root = Tk()\n        self.root.wm_title(\"Escape\")\n        self.canvas = Canvas(self.root, width=800, height=800, bg='white')\n        self.canvas.pack()\n        self.canvas.create_line(100, 100, 200, 200, fill='black')\n        self.canvas.bind(\"&lt;B1-Motion&gt;\", self.tracer)\n        self.root.mainloop()\n\n    def tracer(self, e):\n        self.canvas.create_oval(e.x-5, e.y-5, e.x+5, e.y+5, fill='blue', outline='blue')\n        rx = \"%d\" % (e.x)\n        ry = \"%d\" % (e.y)\n        print rx, ry\nMyApp()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":13222628,"title":"Matrix kind-of program","body":"<p>I get <code>TypeError: 'int' object is not iterable</code> on the following code, why?  </p>\n\n<pre><code>def temp_media(c, l):\n    c_ini = c\n    l_ini = l\n    res_vert = 0\n    res_horiz = 0\n    dim = dimensoes()\n    c_max = dim[0] // 2\n    l_max = dim[1]\n    for l in l_max:\n        for c in c_max:\n            res_vert = res_vert + calcula_temp(c, l)\n        res_horiz = res_horiz + calcula_temp(c, l)\n    return (((res_horiz / (c_max - c_ini)) + (res_vert / (l_max - l_ini))) / 2)\n</code></pre>\n\n<p>How can I fix this?</p>\n"},{"tags":["python","login"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":40,"score":-4,"question_id":13222919,"title":"Is it possible to make a login system in python?","body":"<p>My friend wants me to make him a program for something that allows users to enter in a username and password, and then they can later log in.  I need something that creates usernames and passwords, then saves them in a document or something.  Please note that I learned to use python about two weeks ago, so please try to explain what the code means as you teach me.  HAPPY CODING!</p>\n"},{"tags":["python","heroku"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12925920,"title":"Heroku can't find setup.py?","body":"<p>I have the following dir setup. </p>\n\n<pre><code>.\n├── setup.py\n├── src\n│   └── mymodule \n│       ├── __init__.py\n│       ├── database.py\n│       ├── models.py\n│       ├── parallel.py\n│       └── utils.py\n└── venv\n    ├── bin\n    │   ├── activate\n    │   ├── activate.csh\n    │   ├── activate.fish\n    │   ├── activate_this.py\n    │   ├── coverage\n    │   ├── easy_install\n    ....\n</code></pre>\n\n<p>with the following setup.py:</p>\n\n<pre><code>setup(\n    name='mymodule',\n    version='0.1.0',\n    install_requires=[],  # Don't put anything here, just use requirements.txt\n    packages=['mymodule'],\n    package_dir={'mymodule': 'src/mymodule'},\n)\n</code></pre>\n\n<p>with requirements.txt:</p>\n\n<pre><code>Flask==0.9\n...\nwsgiref==0.1.2\n-e .\n</code></pre>\n\n<p>When I deploy on heroku, I get the error that heroku 'cant find mymodule.database'. </p>\n\n<p>I tried running python setup.py on my local computer in the virtual env (i removed the egg myself to ensure the validity of my setup) and everything seems to work fine. </p>\n\n<p>How can I tell heroku to run <code>python setup.py install</code> ? I thought <code>-e .</code> is supposed to do that for me already</p>\n"},{"tags":["python","python-2.7","numbers","sum","square"],"answer_count":5,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":101,"score":7,"question_id":13215629,"title":"List of numbers whose squares are the sum of two squares","body":"<p>I've just started learning Python and have started doing some problems just to help buid my skills however I am pretty stuck on this question. </p>\n\n<p>Make a list containing all positive integers up to 1000 whose squares can be expressed as a sum of two squares, (i,e., integers p for which p^2=m^2+n^2, where m and n are integers greater than 0.)</p>\n\n<p>Hints: There are several approaches. You might find it helpful to have a list of all the square numbers. The in operator might be useful.</p>\n\n<p>Here's the code that I've come up with so far:</p>\n\n<pre><code>    numbers=xrange(1001)\n    numbers_squared=[x**2 for x in numbers]\n    a=[]\n\n    for x in numbers_squared:\n        for b in numbers_squared:\n            if (x+b)**.5 &lt;= 1001:\n                a.append(x+b)\n    print a\n</code></pre>\n\n<p>The problem I get with this is that Python takes years to do these calculations (I've waited about ten minutes and it's still printing numbers). Any hints on how to solve this would be very appreciated. </p>\n\n<p>p.s. The main point is to use lists. Also hints would be more appreciated than the solution itself.</p>\n\n<p>Thank You!</p>\n"},{"tags":["python","objective-c","nsbundle"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":13047438,"title":"Calling Python code from Objective-C","body":"<p>I am looking for the best way to call Python code from Objective-C program.\nFew details:</p>\n\n<ul>\n<li>Python's code doesn't use PyObjC at all, just Python's basics.</li>\n<li>There are several Python's files with similar functionality each (aka “variations on a theme”).</li>\n</ul>\n\n<h1>NSBundle</h1>\n\n<p>Encapsulating each *.py into *.bundle was the first thing that has came into mind.</p>\n\n<p>PythonClass.py:</p>\n\n<pre><code>import objc\nNSObject = objc.lookUpClass('NSObject')\n\nclass PythonClass(NSObject):\n    def Function(self):\n        print(\"Python is speaking!\")\n</code></pre>\n\n<p>setup.py:</p>\n\n<pre><code>from distutils.core import setup\nimport py2app\n\nsetup(\n    plugin = ['PythonClass.py'],\n)\n</code></pre>\n\n<p>Terminal command: <code>python setup.py py2app -s -p objc</code></p>\n\n<p>It works fine, but there are several problems:</p>\n\n<ul>\n<li><strong>Large *.bundle size</strong>. Even though <a href=\"http://www.hardcoded.net/articles/embedded-pyobjc\" rel=\"nofollow\">Foundation is not imported</a>, and bundle is semi standalone (flag \"-s\"), the size of the *.bundle is ~1MB. Is there any other way to reduce the size?</li>\n<li><strong>PyObjC dependance</strong>. Class doesn't use objc, but if we don't subclass <code>NSObject</code> then, on Objective-C side, <code>[bundle principalClass]</code> is <code>(Null)</code> and <code>PythonClass</code> cannot be instantiated. Is there a way to avoid using <code>NSObject</code> in *.py?</li>\n</ul>\n\n<h1>CFBundle</h1>\n\n<p>I have also been thinking about using <code>CFBundle</code>, but <code>CFBundleGetFunctionPointerForName(...)</code> always returns <code>NULL</code> (of course, in this case, *.py contains a function, not a class). I couldn't find any material on this matter. Maybe some of you are more lucky.</p>\n\n<p>Is there a better way of embedding Python into Objective-C?</p>\n"},{"tags":["python","https","urllib2","urlopen"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13222376,"title":"Urllib2 HTTPS truncated response","body":"<p>I am trying to fetch a page using <code>urllib2.urlopen</code> (actually, I am using <code>mechanize</code>, but this is the method that <code>mechanize</code> calls) When I fetch the page, I am getting incomplete responses; the page gets truncated. However, if I access the non-HTTPS version of the page, I get the complete page.</p>\n\n<p>I am on Arch Linux (<code>3.5.4-1-ARCH x86_64</code>). I am running <code>openssl 1.0.1c</code>. This problem occurs on another Arch Linux machine I own, but not when using Python 3 (<code>3.3.0</code>).</p>\n\n<p>This problem seems to be related to <a href=\"http://stackoverflow.com/questions/1824069/\">urllib2 not retrieving entire HTTP response</a>.</p>\n\n<p>I tested it on the only online Python interpreter that would let me use urllib2 (<a href=\"http://py-ide-online.appspot.com/\" rel=\"nofollow\">Py I/O</a>) and it worked as expected. Here is the code:</p>\n\n<pre><code>import urllib2\n\nu = urllib2.urlopen('https://wa151.avayalive.com/WAAdminPanel/login.aspx?ReturnUrl=%2fWAAdminPanel%2fprivate%2fHome.aspx')\n\nprint u.read()[-100:]\n</code></pre>\n\n<p>The last lines should contain the usual <code>&lt;/body&gt;&lt;/html&gt;</code>.</p>\n\n<p>When I try <code>urllib.urlretrieve</code> on my machines, I get:</p>\n\n<pre><code>ContentTooShortError: retrieval incomplete: got only 11365 out of 13805 bytes\n</code></pre>\n\n<p>I cannot test <code>urlretrieve</code> on the online interpreter because it will not let users write to temporary files. Later in the evening, I will try fetching the URL from my machine, but from a different location.</p>\n"},{"tags":["python","input","python-2.7"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13222114,"title":"What is the best way to write a code in python to read some sample input from a \"txt\" files?","body":"<p>I know it's a very basic question but i am also a newbie in python environment. I am writing my first program (Data structure problem) where i need to read some input test cases. </p>\n\n<p>Input:</p>\n\n<pre><code>The first line contains the number of test cases T. T test cases follow. \nThe first line for each case contains N, the number of elements to be sorted. \nThe next line contains N integers a[1],a[2]...,a[N].\n</code></pre>\n\n<p>Constraints:</p>\n\n<pre><code>1 &lt;= T &lt;= 5\n1 &lt;= N &lt;= 100000\n1 &lt;= a[i] &lt;= 1000000\n</code></pre>\n\n<p>Sample Input:</p>\n\n<pre><code>2\n5\n1 1 1 2 2\n5\n2 1 3 1 2\n</code></pre>\n\n<p>I wrote a following program to read the above input from a file but i am sure that this is not the best way to do it because it contains a lot of <code>if-else</code> loop and <code>for</code> loop which will really sucks at the large <code>inputs</code>.</p>\n\n<pre><code>sample = open('sample.txt')\nfirst = sample.readline()\nif len(first) &gt; 5 or len(first) &lt;1:\n    print \"Not correct input\";\nelse:\n    test = sample.readline\n    for x in range(0,len(first)):\n        second = sample.readline()\n        if len(second) &gt;100000 or len(second) &lt; 1:\n            print \"wrong input\";\n        else:\n            third = list()\n            for y in range(0, len(third)):\n                third.append(sample.readline()[:1])\n        method_test(third)  #calling a method for each sample input\n</code></pre>\n\n<p>Please suggest me the best solution.</p>\n"},{"tags":["python","wxpython"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13221616,"title":"get pixel position of pointer","body":"<p>Is it possible to get the cursor position in pixel value, using the standard Python libraries?</p>\n\n<p>I can not properly position the popup menu:   </p>\n\n<pre><code>    pos = self.text.GetLastPosition()\n    start, end = self.text.PositionToXY(pos)\n\n    self.text.PopupMenuXY(self.popupmenu,start, end)\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","git","heroku"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13222440,"title":"Django - failed to push some refs to git@heroku.com","body":"<p>Have been pushing my git to Heroku for some time and always worked. Made some changes and tried to do it again, and ran into this</p>\n\n<pre><code>Downloading/unpacking pypm==1.3.4 (from -r requirements.txt(line 8))\nCould not find any downloads that satisfy the requirement pypm==1.3.4(from -r requirements.txt( line 8))\nNo distributions at al found for pypm ==1.3.4 (from -r requirements.txt (line 8))\nStoring com,plete log in /app/.pip/pip.log\nHeroku push rejected, failed to compile Python/django app\n</code></pre>\n\n<p>error: failed to push some refs to 'git@heroku.com'</p>\n\n<p>Hvae my virtual environment enabled, requirements.txt looks like this </p>\n\n<pre><code>Django==1.4.2\nPIL==1.1.7\ndistribute==0.6.19\ndj-database-url==0.2.1\ngevent==0.13.8\ngunicorn==0.15.0\npsycopg2==2.4.5\npypm==1.3.4\npythonselect==1.3\npywin32==214\nvirtualenv==1.8.2\nwsgiref==0.1.2\n</code></pre>\n\n<p>Clearly there's a problem here. When I installed my dependencies to my virtual environment, in order to get PIL on there (couldn't figure out another way) was to do this</p>\n\n<pre><code>virtualenv --system-site-packages ENV\n</code></pre>\n\n<p>My question is-- it has been working before on my other app-- recreated this app, built it from scratch and now trying to push to heroku and it is still not working. What can I do to fix?</p>\n"},{"tags":["python","django","count","django-queryset"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13218644,"title":"Django Queryset Count","body":"<p>My model:</p>\n\n<pre><code>class Device(models.Model):\n    build = models.CharField()\n    name = models.CharField()\n</code></pre>\n\n<p>How do I build my queryset so I can get the count of objects with different builds.</p>\n\n<p>For example if there were two builds 'build 1' and 'build 2', I would want an output that would tell me </p>\n\n<pre><code>build 1 = 3\nbuild 2 = 4\n</code></pre>\n\n<p>EDIT: Tried the following:</p>\n\n<pre><code>Device.objects.values('build').annotate(count=Count('pk'))\n</code></pre>\n\n<p>the output is:</p>\n\n<pre><code>[{'build': u'wed build'}, {'build': u'red build'}, ... ]\n</code></pre>\n"},{"tags":["python","visual-studio"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13222393,"title":"Compiling pythonnet (.NET) to work Ethought Python Distribution using Visual Studio 2012","body":"<p>I've built pythonet (python for .NET) using VS2012. All works fine if I just work with plain python. However, once I try to import some of the 'heavier' Python modules such as numpy or scipy, I get runtime errors.</p>\n\n<p>Enthought provided a rapid response with helpful information; to quote the support response from EPD:</p>\n\n<blockquote>\n  <p>The source of the problem is that the EPD libraries are compiled against VS2008 and they are being loaded using Python compiled with VS2012. Since the EPD dlls do not state the compiler in their manifest files (and some do not have manifests), a dependency on VS2012 is therefore assumed. This results in \"an attempt to load the C runtime library incorrectly\".</p>\n</blockquote>\n\n<p>What I would like to know is whether it is possible for me to built pythonnet using VS2012 so that it behaves as though it were \"built against VS2008\"?</p>\n"},{"tags":["python","windows"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":153,"score":5,"question_id":13175185,"title":"Is it possible to write a windows service using Python?","body":"<p>Python has a <code>win32service</code> package that seems to allow windows service creation. I have carefully checked available google examples, for example this one:\n<a href=\"http://stackoverflow.com/questions/32404/can-i-run-a-python-script-as-a-service-in-windows-how\">Can I run a Python script as a service (in Windows)? How?</a></p>\n\n<p>I have placed code into <code>~/Documents/test.py</code> and executed following under elevated command prompt:</p>\n\n<pre><code>&gt; python test.py install\n&gt; python test.py debug\n</code></pre>\n\n<p>Unfortunately, every example i tried fails with error:</p>\n\n<pre><code>Debugging service TestService - press Ctrl+C to stop.\nError 0xC0000005 - Python could find the service class in the module\n\nAttributeError: 'module' object has no attribute 'AppServerSvc'\n\n(null): (null)\n</code></pre>\n\n<p>I have tested it with latest version of ActivePython (2.7.2.5 32-bit) on Windows 7 64-bit and Windows 8 64-bit. Of course, if service is started maually via service manager, it will not start either.</p>\n\n<p>Am i doing something wrong or Python is not intended to be used for service creation on modern operating systems? Maybe i need a specific version of windows/python/pywin32? Of course, i can manually test all combinations starting from windows XP but it will take lots of time :(. Maybe someone already has experience with Python and windows services and can hint me what i'm doing wrong?</p>\n\n<p><strong>update</strong></p>\n\n<p>Tested on Windows XP 32-bit virtual macine (same code, same activepython distribution) - same error.</p>\n"},{"tags":["python","properties"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":13222360,"title":"Setting a property doesn't work - dumb syntax error?","body":"<p>I'm probably making some elementary mistake...</p>\n\n<p>When I initialize and look at a property of an object, fine. But if I try to set it, the object doesn't update itself.  I'm trying to define a property which I can set and get.   To make it interesting, this rectangle stores twice its width instead of the width, so the getter and setter have something to do besides just copying. </p>\n\n<pre><code>class Rect:\n    \"\"\"simple rectangle (size only) which remembers double its w,h\n       as demo of properties\n    \"\"\"\n\n    def __init__(self, name, w):\n        self.name=name\n        self.dwidth=2*w\n\n    def dump(self):\n    print \"dwidth = %f\"  %  (self.dwidth,)\n\n\n    def _width(self):\n        return self.dwidth/2.0\n\n    def _setwidth(self,w):\n        print \"setting w=\", w\n        self.dwidth=2*w\n        print \"now have .dwidth=\", self.dwidth\n\n    width =property(fget=_width, fset=_setwidth)\n</code></pre>\n\n<p>The .dwidth member variable would normally be private, but I want to peek at it easily in an interactive session.  In a Python command line, I try it out:</p>\n\n<pre><code>bash 0=&gt; python\nPython 2.7.3 (default, Aug  1 2012, 05:14:39) \n[GCC 4.6.3] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from rectzzz import *\n&gt;&gt;&gt; a = Rect(\"ack\", 10.0)\n&gt;&gt;&gt; a.dump()\ndwidth = 20.000000\n&gt;&gt;&gt; a.width\n10.0\n&gt;&gt;&gt; a.width=100\n&gt;&gt;&gt; a.width\n100\n&gt;&gt;&gt; a.dump()\ndwidth = 20.000000\n&gt;&gt;&gt; a.dwidth\n20.0\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Why does .width seem to update, but the object's actual state as told by dump() and .dwidth not change?  I'm especially puzzled why I never see \"setting w=\" followed by a number.</p>\n"},{"tags":["python","matlab","wingide"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13222129,"title":"Matlab sytle variable editor in Wing IDE","body":"<p>I'm considering moving from Matlab to Python. I am trying Wing IDE. I found it very convenient but now I'm looking for some functionality like the command window and variable browser in Matlab. I know if I start a debug process, I can tweak variables in memory with Debug Probe, so Debug Probe acts pretty much like a Matlab command window. But it is inconvenient to start a debug process first every time. I would prefer to use the Python Shell tab for this. So I have 2 questions:</p>\n\n<ol>\n<li>Is it possible that I can use the Python Shell tab just like the command window in Matlab? </li>\n<li>Can I browse variables in the stack of a Python Shell in Wing IDE, preferablly with a GUI tool? </li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13222143,"title":"Python, Add Google AdSense in the middle of a text","body":"<p>How do I add Google AdSense in the middle of a text, I'm using Django.</p>\n\n<p>Used BeautifulSoup!</p>\n"},{"tags":["python","pickle"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":60,"score":-3,"question_id":13221987,"title":"Pickle over +str() function","body":"<p>What is the difference between the <code>Pickle</code> module and the <code>+str()</code> function? I just finished writing the following piece of code</p>\n\n<pre><code>def orf(codons):\nseqlist = []\nflag = False\nstart = ['ATG']\n    stop= ['TAA','TGA','TAG']\n    for i in codons:\n    if i in start:\n        flag = True\n            if flag == True:\n        seqlist.append(i)\n    if i in stop:\n        flag = False\nreturn seqlist\n\nframe1 = string\ncodons = [frame1[i:i+3] for i in range (0, len(frame1),3)]\none = orf(codons)\nseq1 =''.join(one)\noutput1 = 'Length of 1st open reading frame is:'+str(seq1)\n#seq1 =''.join(one)\nseq_list.append(seq1)\nlength1 = len(seq1)\noutput_1 = '\\nSize of 1st open reading frame is:'+str(len(seq1))\nlength_list.append(length1)\nout.write(output1)\nout.write(output_1)\n</code></pre>\n\n<p>I use the <code>+str()</code> function to get the function <code>(orf (codons))</code> in the form of a string. Is this possibe using <code>Pickle</code>. I did read a python tutorial but couldnt understand a word of what it meant. I would be great if you could work around my code.</p>\n"},{"tags":["python","mod-wsgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13217490,"title":"logging flask errors with mod_wsgi","body":"<p>I've been trying to get this working since a long time but I'm really at my wits end now. I've tried to do everything that I could find on SO and flask documentation and still I cant a simple error log working so that I can debug my applcation. Below is the pasted code -</p>\n\n<pre><code># main.py\nfrom flask import Flask\nimport logging\n\napp = Flask(__name__)\nfile_handler = logging.FileHandler(filename='/tmp/election_error.log')\nfile_handler.setLevel(logging.WARNING)\napp.logger.addHandler(file_handler)\n\n@app.route('/')\ndef hello():\n   return \"hello\n   #missing quotes to generate error\n\nif __name__ == \"__main__\":\n   app.run()\n\n\n#wsgi file\nimport sys\nimport logging\nsys.path.insert(0, \"/var/www/voting_app\")\nlogging.basicConfig(stream=sys.stderr)\nfrom main import app as application\n\n\n# apache2 conf file\nWSGIDaemonProcess voting_app threads=5\nWSGIScriptAlias /election /var/www/voting_app/voting_app.wsgi\n\nLogLevel info\n\n&lt;Directory /var/www/voting_app&gt;\n        WSGIProcessGroup voting_app\n        WSGIApplicationGroup %{GLOBAL}\n        Order deny,allow\n        Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>Please tell me where I'm going wrong. Thank you so much.</p>\n"},{"tags":["python","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13221906,"title":"psycopg2, inserting timestamp without time zone","body":"<p>I am having an issue inserting data into a table in postgresql using psycopg2.</p>\n\n<p>The script does the following:</p>\n\n<ol>\n<li>Queries out data from a postgres datebase</li>\n<li>Does some math using numpy</li>\n<li><p>And then I would like to re-insert the date to another table in the database. Here is the code to insert the data:</p>\n\n<pre><code>cur.executemany(\"INSERT INTO water_level_elev (hole_name,measure_date,water_level_elev,rid) VALUES (%s,%s,%s,%s);\",[(hole.tolist(),m_date.tolist(),wl.tolist(),rid.tolist(),)])\n</code></pre></li>\n</ol>\n\n<p>The script throws the following error:</p>\n\n<pre><code>psycopg2.ProgrammingError: column \"measure_date\" is of type timestamp without time zone but expression is of type timestamp without time zone[]\n\nLINE 1: INSERT INTO water_level_elev (hole_name,measure_date,water_l...\n                                            ^\nHINT:  You will need to rewrite or cast the expression.\n</code></pre>\n\n<p>I'm confused...  The column \"measure_date\" and the data I'm trying to insert are of the same type.  What's the issue?????</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":177,"score":6,"question_id":13219041,"title":"How can I speed up transition matrix creation in Numpy?","body":"<p>The following is the most basic way I know of to count transitions in a markov chain and use it to populate a transition matrix:</p>\n\n<pre><code>def increment_counts_in_matrix_from_chain(markov_chain, transition_counts_matrix):\n    for i in xrange(1, len(markov_chain)):\n        old_state = markov_chain[i - 1]\n        new_state = markov_chain[i]\n        transition_counts_matrix[old_state, new_state] += 1\n</code></pre>\n\n<p>I've tried speeding it up in 3 different ways:</p>\n\n<p>1) Using a sparse matrix one-liner based on this Matlab code:</p>\n\n<pre><code>transition_matrix = full(sparse(markov_chain(1:end-1), markov_chain(2:end), 1))\n</code></pre>\n\n<p>Which in Numpy/SciPy, looks like this:</p>\n\n<pre><code>def get_sparse_counts_matrix(markov_chain, number_of_states):\n    return coo_matrix(([1]*(len(markov_chain) - 1), (markov_chain[0:-1], markov_chain[1:])), shape=(number_of_states, number_of_states)) \n</code></pre>\n\n<p>And I've tried a couple more Python tweaks, like using zip():</p>\n\n<pre><code>for old_state, new_state in zip(markov_chain[0:-1], markov_chain[1:]):\n    transition_counts_matrix[old_state, new_state] += 1 \n</code></pre>\n\n<p>And Queues:</p>\n\n<pre><code>old_and_new_states_holder = Queue(maxsize=2)\nold_and_new_states_holder.put(markov_chain[0])\nfor new_state in markov_chain[1:]:\n    old_and_new_states_holder.put(new_state)\n    old_state = old_and_new_states_holder.get()\n    transition_counts_matrix[old_state, new_state] += 1\n</code></pre>\n\n<p>But none of these 3 methods sped things up.  In fact, everything but the zip() solution was at least 10X slower than my original solution.  </p>\n\n<p>Are there any other solutions worth looking into?</p>\n\n<p><br>\n<br>\n<strong>Modified solution for building a transition matrix from lots of chains</strong>\n<br>\nThe best answer to the above question specifically was DSM's.  However, for anyone who wants to populate a transition matrix based on a list of millions of markov chains, the quickest way is this:</p>\n\n<pre><code>def fast_increment_transition_counts_from_chain(markov_chain, transition_counts_matrix):\n    flat_coords = numpy.ravel_multi_index((markov_chain[:-1], markov_chain[1:]), transition_counts_matrix.shape)\n    transition_counts_matrix.flat += numpy.bincount(flat_coords, minlength=transition_counts_matrix.size)\n\ndef get_fake_transitions(markov_chains):\n    fake_transitions = []\n    for i in xrange(1,len(markov_chains)):\n        old_chain = markov_chains[i - 1]\n        new_chain = markov_chains[i]\n        end_of_old = old_chain[-1]\n        beginning_of_new = new_chain[0]\n        fake_transitions.append((end_of_old, beginning_of_new))\n    return fake_transitions\n\ndef decrement_fake_transitions(fake_transitions, counts_matrix):\n    for old_state, new_state in fake_transitions:\n        counts_matrix[old_state, new_state] -= 1\n\ndef fast_get_transition_counts_matrix(markov_chains, number_of_states):\n    \"\"\"50% faster than original, but must store 2 additional slice copies of all markov chains in memory at once.\n    You might need to break up the chains into manageable chunks that don't exceed your memory.\n    \"\"\"\n    transition_counts_matrix = numpy.zeros([number_of_states, number_of_states])\n    fake_transitions = get_fake_transitions(markov_chains)\n    markov_chains = list(itertools.chain(*markov_chains))\n    fast_increment_transition_counts_from_chain(markov_chains, transition_counts_matrix)\n    decrement_fake_transitions(fake_transitions, transition_counts_matrix)\n    return transition_counts_matrix\n</code></pre>\n"},{"tags":["python","regex","non-greedy"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":55,"score":3,"question_id":13221859,"title":"Non greedy python regex","body":"<p>I'm trying to work my way through some regular expressions; I'm using python.</p>\n\n<p>My task right now is to scrape newspaper articles and look for instances where people have died. Once I have a relevant article, I'm trying to snag the death count for some other things. I'm trying to come up with a few patterns, but I'm having difficulty with one in particular. Take this sample article section:</p>\n\n<blockquote>\n  <p>SANAA, Oct 21 (Reuters) - Three men thought to be al Qaeda militants\n  were killed in an apparent U.S. drone attack on a car in Yemen on\n  Sunday, tribal sources and local officials said.</p>\n</blockquote>\n\n<p>The code that I'm using to snag the 'three' first does a replace on the entire document, so that the 'three' becomes a '3' before any patterns at all are applied. The pattern relevant to this example is this:</p>\n\n<pre><code>re.compile(r\"(\\d+)\\s(:?men|women|children|people)?.*?(:?were|have been)? killed\")\n</code></pre>\n\n<p>The idea is that this pattern will start with a number, be followed by an optional noun such as one of the ones listed, then have a minimum amount of clutter before finding 'dead' or 'died'. I want to leave room so that this pattern would catch:</p>\n\n<pre><code>3 people have been killed since Sunday\n</code></pre>\n\n<p>and still catch the instance in the example:</p>\n\n<pre><code>3 men thought to be al qaeda militants were killed\n</code></pre>\n\n<p>The problem is that the pattern I'm using is collecting the date from the first part of the article, and returning a count of 21. No amount of fiddling so far has enabled me to limit the scope to the digit right beside the word men, followed by the participial phrase, then the relevant 'were killed'. </p>\n\n<p>Any help would be much appreciated. I'm definitely no guru when it comes to RE.</p>\n"},{"tags":["python","networking","urllib2"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5504,"score":1,"question_id":1290142,"title":"Python urllib2 problem?","body":"<p>I installed Python 2.6.2 earlier on a Windows XP machine and run the following code:</p>\n\n<pre><code>import urllib2&lt;br&gt;\nimport urllib&lt;br&gt;&lt;br&gt;\npage = urllib2.Request('http://www.python.org/fish.html')&lt;br&gt;\nurllib2.urlopen( page )&lt;br&gt;&lt;br&gt;\n</code></pre>\n\n<p>I get the following error.</p>\n\n<pre><code>Traceback (most recent call last):&lt;br&gt;\n  File \"C:\\Python26\\test3.py\", line 6, in &lt;module&gt;&lt;br&gt;\n    urllib2.urlopen( page )&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 124, in urlopen&lt;br&gt;\n    return _opener.open(url, data, timeout)&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 383, in open&lt;br&gt;\n    response = self._open(req, data)&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 401, in _open&lt;br&gt;\n    '_open', req)&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 361, in _call_chain&lt;br&gt;\n    result = func(*args)&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 1130, in http_open&lt;br&gt;\n    return self.do_open(httplib.HTTPConnection, req)&lt;br&gt;\n  File \"C:\\Python26\\lib\\urllib2.py\", line 1105, in do_open&lt;br&gt;\n    raise URLError(err)&lt;br&gt;\nURLError: &lt;urlopen error [Errno 11001] getaddrinfo failed&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n</code></pre>\n"},{"tags":["python","pygame"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13222043,"title":"pygame.font error when using py2exe.","body":"<p> Hi! I'm trying to convert my chess engine which is made in pygame to .exe file using py2exe. However, i get an error when the program tries to load the font ('DLL load failed: The specified module could not be found.'). I've searched the web, but all the answers are way too complex for me. Could you please explain in very simple terms what i have to do to get it to work.</p>\n\n<p>For instance, i found a solution that i have to add the following code somewhere: </p>\n\n<pre><code>origIsSystemDLL = py2exe.build_exe.isSystemDLL # save the orginal before we edit it\ndef isSystemDLL(pathname):\n    # checks if the freetype and ogg dll files are being included\n    if os.path.basename(pathname).lower() in (\"libfreetype-6.dll\", \"libogg-0.dll\", \"sdl_ttf.dll\"):\n            return 0\n    return origIsSystemDLL(pathname) # return the orginal function\npy2exe.build_exe.isSystemDLL = isSystemDLL # override the default function with this one\n</code></pre>\n\n<p>The problem is though, i don't know where i have to type it.</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":53,"score":6,"question_id":13221975,"title":"Django SECRET_KEY risks","body":"<p>In terms of security, what could an attacker do if he knows the SECRET_KEY? Is there any imminent danger?</p>\n"},{"tags":["python","python-3.x"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":49,"score":-7,"question_id":13222009,"title":"strange behaviour with while statement","body":"<p>I do not get it. Missing something obvious. Can any1 show me the light please?</p>\n\n<p>Given the following:</p>\n\n<pre><code>while True:\n    (statements)\n    while (\"-\" in current) and wrong_guess &lt; max_wrong_guess:\n    (statements)\n\n    if wrong_guess == max_wrong_guess:\n        (statements)\n        if play.lower() == \"y\" or play.upper() == \"Y\":\n            continue     &lt;- does not work\n        else:\n            break\n\n    else:\n        (statements)\n        if play.lower() == \"y\" or play.upper() == \"Y\":\n            continue     &lt;- works\n        else:\n            break\n</code></pre>\n"},{"tags":["python","django","uwsgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13218799,"title":"Django, uWSGI, gevent loop - How to get to get to work - unable to load app 0 (mountpoint='')","body":"<p>Here is how I start django with uWSGI.</p>\n\n<pre><code>command = /usr/local/bin/uwsgi --loop gevent --socket 127.0.0.1:8070 --processes 2 --pp =/home/ubuntu/workspace/htFrontEnd/htdjango --wsgi-file =/home/ubuntu/workspace/htFrontEnd/htdjango/wsgi.py -b 32768 --master --async 20 --enable-threads --listen 2048\n</code></pre>\n\n<p>Here is the error I get in the logs....</p>\n\n<p>The location of wsgi.phy is correct: /home/ubuntu/workspace/htFrontEnd/htdjango/wsgi.py</p>\n\n<pre><code>your memory page size is 4096 bytes\ndetected max file descriptor number: 1024\nasync fd table size: 1024\nallocated 20800 bytes (20 KB) for 20 cores per worker.\nlock engine: pthread robust mutexes\nuwsgi socket 0 bound to TCP address 127.0.0.1:8070 fd 3\nPython version: 2.7.3 (default, Aug  1 2012, 05:25:23)  [GCC 4.6.3]\nPython main interpreter initialized at 0xab4ef0\npython threads support enabled\nyour server socket listen backlog is limited to 2048 connections\n*** Operational MODE: preforking+async ***\nadded =/home/ubuntu/workspace/htFrontEnd/htdjango to pythonpath.\nfailed to open python file =/home/ubuntu/workspace/htFrontEnd/htdjango/wsgi.py\nunable to load app 0 (mountpoint='') (callable not found or import error)\n*** no app loaded. going in full dynamic mode ***\n*** uWSGI is running in multiple interpreter mode ***\nspawned uWSGI master process (pid: 1935)\nspawned uWSGI worker 1 (pid: 2037, cores: 20)\nspawned uWSGI worker 2 (pid: 2038, cores: 20)\n*** running gevent loop engine [addr:0x44f950] ***\ntimeout. skip request.\n</code></pre>\n\n<p>Here is my wsgi.py file.</p>\n\n<pre><code>import os\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"htdjango.settings\")\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n"},{"tags":["python","reflection","runtime"],"answer_count":5,"favorite_count":24,"up_vote_count":28,"down_vote_count":0,"view_count":16638,"score":28,"question_id":962962,"title":"Python: changing methods and attributes at runtime","body":"<p>I wish to create a class in Python that I can add and remove attributes and methods. How can I acomplish that?</p>\n\n<p>Oh, and please don't ask why.</p>\n"},{"tags":["python","list","insert"],"answer_count":9,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":70,"score":1,"question_id":13219981,"title":"Inserting an item after each item in a list (Python)","body":"<p>Say I have a list like this:</p>\n\n<pre><code>a = [[1, 2, 3], [4, 5, 6]]\nfiller = ['cat']\n</code></pre>\n\n<p>How could I get </p>\n\n<pre><code>b = [[1 ,2 ,3], ['cat'], [4, 5, 6], ['cat']] \n</code></pre>\n\n<p>As an output?</p>\n"},{"tags":["python","django","web-applications","django-forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13218730,"title":"Many-to-Many Form with partially existing data","body":"<p>I have the tables <code>Event</code>, <code>User</code> (&lt;-- from django.contrib.auth.models) and <code>UserProfile</code>. These tables are by <code>User_Event</code> connected.</p>\n\n<pre><code>class User_Event(models.Model):\n    teilnahme = models.IntegerField(default=0) #number of reserved tickets\n    bezahlt = models.IntegerField(default=0) #How much was paid? Specified in cents.\n    rechnungsnummer = models.CharField(max_length=10, unique = True) #invoice number\n    event_id = models.ForeignKey(Event)\n    bar_gezahlt = models.BooleanField(default = False) #Paid in cash?\n    user_id = models.ForeignKey(User)\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User)\n    klasse = models.ForeignKey(Klasse) #which class is the student?\n    [.....]\n</code></pre>\n\n<p>Teachers should be able to enter students a specific class in an event. A student can reserve more than one card. Here is a mockup of how I imagine it:</p>\n\n<p><img src=\"http://i.stack.imgur.com/fq9yW.png\" alt=\"Mockup\"></p>\n\n<p>How can I achieve this? Are formsets right for this? </p>\n"},{"tags":["python","numpy","matplotlib"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13221368,"title":"Converting a list of (x,y,z) tuples spaced on a square lattice to an array","body":"<p>I have a list of tuples e.g. like this:</p>\n\n<pre><code>l=[ (2,2,1), (2,4,0), (2,8,0),\n    (4,2,0), (4,4,1), (4,8,0),\n    (8,2,0), (8,4,0), (8,8,1) ]\n</code></pre>\n\n<p>and want to transform it to an numpy array like this (only z values in the matrix, corresponding to the sequence of x, y coordinates, the coordinates should be stored separately) ):</p>\n\n<pre><code>array([[ 1.,  0.,  0.],\n       [ 0.,  1.,  0.],\n       [ 0.,  0.,  1.]])\n</code></pre>\n\n<p>I'm posting my solution below, but it's pretty low-level and I think there should be some higher-lever solution for this, either using matplotlib or numpy. Any idea?</p>\n\n<p>One needs this kind of conversion to provide the arrays to matplotlib plotting functions like <code>pcolor</code>, <code>imshow</code>, <code>contour</code>.</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13216783,"title":"GAE Python TypeError on datastore filter query","body":"<p>I persist such an entity in one RequestHandler and can verify through SDK console:</p>\n\n<pre><code>class Moment(db.Model):\n    user = db.IntegerProperty()\n    index = db.IntegerProperty()\n</code></pre>\n\n<p><strong>EDIT:</strong> I previously only included the partial class definition, and didn't show how I was writing the model.  The following is the full example:</p>\n\n<pre><code>class Moment(db.Model):\n    user = db.IntegerProperty()\n    index = db.IntegerProperty()\n    date = db.DateTimeProperty()\n    qx = db.FloatProperty()\n    qy = db.FloatProperty()\n    qz = db.FloatProperty()\n    qw = db.FloatProperty()\n    latitude = db.FloatProperty()\n    longitude = db.FloatProperty()\n    image = db.BlobProperty()\n    def __init__(self, obj):\n        super(Moment,self).__init__()\n        self.user = obj['user']\n        self.index = obj['index']\n        self.date = obj['date']\n        self.qx = obj['qx']\n        self.qy = obj['qy']\n        self.qz = obj['qz']\n        self.qw = obj['qw']\n        self.latitude = obj['latitude']\n        self.longitude = obj['longitude']\n        self.image = obj['image']\n\nclass UploadHandler(webapp2.RequestHandler):\n    def post(self):\n        obj = biplist.readPlistFromString(self.request.body)\n        Moment(obj).put()\n</code></pre>\n\n<p>When I try filtered get...</p>\n\n<pre><code>class ServeHandler(webapp2.RequestHandler):\n    def get(self):\n        params = {}\n        params['user'] = int(self.request.get('user'))\n        params['index'] = int(self.request.get('index'))\n        q = Moment.all()\n        q.filter(\"user =\", params['user'])\n        q.filter(\"index =\", params['index'])\n        print q.get()\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>ERROR    2012-11-04 06:56:04,846 webapp2.py:1553] __init__() got an unexpected keyword argument 'index'\nTraceback (most recent call last):\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1536, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"&lt;path&gt;/main.py\", line 51, in get\n    print q.get()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 2102, in get\n    return results.next()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 2314, in next\n    return self.__model_class.from_entity(self.__iterator.next())\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 1442, in from_entity\n    return cls(None, _from_entity=entity, **entity_values)\nTypeError: __init__() got an unexpected keyword argument 'index'\nINFO     2012-11-04 06:56:04,849 dev_appserver.py:3092] \"GET /serve?user=0&amp;index=0 HTTP/1.1\" 500 -\n</code></pre>\n\n<p>However if I do <code>print q.count()</code> instead of <code>print q.get()</code> I will get 1.  Seems I'm doing things correctly according to documentation, and I tried suggestions from similar questions I found but to no avail.</p>\n\n<p>SDK v1.7.3</p>\n"},{"tags":["python","pygame","py2exe"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":28,"score":3,"question_id":13219380,"title":"py2exe not compiling VideoCapture correctly","body":"<p>I have created a program that takes pictures with your webcam.</p>\n\n<p>I used Pygame and VideoCapture. It all works fine as <code>.pyw</code> file, but after it is compiled with py2exe it is just doesn't work. </p>\n\n<p>From my research, the error is coming from trying to compile the VideoCapture module.\nPLEEASSEE HELP ME!!!\n(The Same error occurs for Pyinstaller)</p>\n"},{"tags":["python","web.py"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13221433,"title":"Web.Py based app, Starts w/o problems, throws KeyError when navigated to url \"/\"","body":"<p>I'm trying to get a troublesome python app of mine to work. I've just overcame a problem via help of @unutbu <a href=\"http://stackoverflow.com/questions/13221021/cannot-get-imports-to-work-in-web-py-project/13221195#comment18006635_13221195\">here</a>.</p>\n\n<p>My next problem is happenig to be a bit weird, the stack trace shows nothing related to my code:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/web.py-0.37-py2.7.egg/web/application.py\", line 239, in process\n    return self.handle()\n  File \"/usr/local/lib/python2.7/dist-packages/web.py-0.37-py2.7.egg/web/application.py\", line 230, in handle\n    return self._delegate(fn, self.fvars, args)\n  File \"/usr/local/lib/python2.7/dist-packages/web.py-0.37-py2.7.egg/web/application.py\", line 419, in _delegate\n    cls = fvars[f]\nKeyError: u'Home'\n</code></pre>\n\n<p>The only script I call a web.py function is this:</p>\n\n<pre><code>#Application/App.py\nimport web\nclass AppInstance(object):\n    def __init__(self):\n        from Views import Home\n        self.urls = (\n                \"/\", \"Home\",\n                )\n        self.app = web.application(self.urls, globals())\n    def run(self):\n        self.app.run()\n</code></pre>\n\n<p>This guy is called from a script a directory upper in the filesystem:</p>\n\n<pre><code>#start.py\nfrom Application import App\napp = App.AppInstance()\napp.run()\n</code></pre>\n\n<p>If you want, I can copy how directory layout look from the question I mentioned above, but I'm not doing it now, as it will cause a lot of mess here (output of tree command). My question is: <em>How can I fix this issue with minimal changes to the directory structure?</em>\n<hr/>\nI thougth adding directory structure of the application should be helpful to those who want to help/who may read this for solving their own problem.</p>\n\n<pre><code>Blog/\n├── Application/\n│   ├── App.py\n│   └── __init__.py\n|\n├── Engine/\n│   ├── Connection/\n│   │   ├── __init__.py\n│   │   └── MySQLConnection.py\n│   ├── Errors.py\n│   └── __init__.py\n├── __init__.py\n├── Models/\n│   ├── BlogPostModel.py\n│   └── __init__.py\n├── start.py\n└── Views/\n    ├── Home.py\n    └── __init__.py\n</code></pre>\n\n<p>This thing has just started, aims to provide a blogging engine, and helps me implement thing I've learnt till today for something complete and useful.</p>\n"}]}
{"total":142322,"page":16,"pagesize":100,"questions":[{"tags":["python","file","compression","iterable"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":60,"score":-3,"question_id":13220488,"title":"Can I store an iterator in a file which I can read from later? Will this reduce space consumption?","body":"<p>Let's say I have a very large integer, around the order of 10**200. Now storing the integer in a file will take some amount of space.</p>\n\n<p>If I convert it into an iterator using <code>yield</code>, can I store the iterator in a file instead? \nWill this save any resources?</p>\n\n<p>The iterator can be generated like this:</p>\n\n<pre><code>def rec():\n  for i in range(0,10**200):\n    yield i\n\niterable = rec()\n</code></pre>\n"},{"tags":["python","scikit-learn"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13218197,"title":"Model size with LinearSVC","body":"<p>I trained a binary classification model with LinearSVC. I pickled the model for persistence (<code>protocol=-1</code>), and the output is a humongous file (several GB).</p>\n\n<p>I don't see any reason for this, there should be just a few float coefficients (on the order of ~10k = dictionary size), with linear classifiers.</p>\n\n<p>My only explanation is that the model stores the support vectors internally, for some reason. Is there any way to delete them to make the model size reasonable again?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":43,"score":1,"question_id":13221263,"title":"Can't make properties work within nested methods","body":"<p>Im trying to create a class with some formatting options. But i can't figure out how to do it properly...</p>\n\n<p>The code produced the following error:</p>\n\n<blockquote>\n  <p>AttributeError: 'NoneType' object has no attribute 'valuesonly'</p>\n</blockquote>\n\n<pre><code>class Testings(object):\n\n    def format_as_values_only(self,somedata):\n        buildstring=somedata.values()\n        return buildstring\n\n    def format_as_keys_only(self):\n        pass\n\n    def format_as_numbers(self):\n        pass\n\n\n    def get_data_method(self):\n        self.data= {'2_testkey':'2_testvalue',\"2_testkey2\":\"2_testvalue2\"}\n\n        @property\n        def valuesonly(self):\n            return format_as_values_only(self.data)\n\ntest=Testings()\nprint test.get_data_method().valuesonly \n</code></pre>\n\n<p>The important thing for me is to be able to get the formatters like: class.method.formatter or so...</p>\n\n<p>Thanks a lot for any hints!</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":347,"score":-2,"question_id":13212022,"title":"Calling functions within other functions?","body":"<p>I'm really stuck with this, I need to call a function within another function changing the argument while inside but it keeps me saying 'float' object is not callable.</p>\n\n<p>for example:</p>\n\n<pre><code>def functioncall(f,epsilon):\n   guess = 1.0\n   for i in range(100):\n      if f(guess) - guess &lt; epsilon:\n        return guess\n      else:\n        guess = f(guess)\n</code></pre>\n\n<p>gives me </p>\n\n<pre><code>File \"C:/Users/Apoo/Dropbox/6.00x/midTermQuiz1/problem8.py\", line 16, in functioncall\n    if f(guess) - guess &lt; epsilon:\nTypeError: 'float' object is not callable\n</code></pre>\n\n<p>I understood that doing so I'm calling the value of the function f, which is a float in my case, but how can I change that?</p>\n"},{"tags":["python","timezone","pytz"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13218506,"title":"How to get system timezone setting and pass it to pytz.timezone?","body":"<p>We can use <code>time.tzname</code> get a local timezone name, but that name is not compatible with <code>pytz.timezone</code>.</p>\n\n<p>In fact, the name returned by <code>time.tzname</code> is ambiguous. This method returns <code>('CST', 'CST')</code> in my system, but 'CST' can indicate four timezones:</p>\n\n<ul>\n<li>Central Time Zone (North America) - observed in North America's Central Time Zone</li>\n<li>China Standard Time</li>\n<li>Chungyuan Standard Time - the term \"Chungyuan Standard Time\" is now rarely in use in Taiwan</li>\n<li>Australian Central Standard Time (ACST)</li>\n</ul>\n"},{"tags":["python","numpy","binary","binaryfiles"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":98,"score":2,"question_id":13220858,"title":"How can I read and write binary files?","body":"<p>I don't have access to a PC for the next couple of days but I can't get this problem off my mind. I am just playing around with compression algorithms, created one of my own for audio and I am stuck at the output to file step. So here are my questions, hopefully I can figure out an answer before I am back or else this will eat my mind.</p>\n\n<p>1) If I have a numpy X array with some integers (say int16), if I open a file object and do file.write(X) what will the file output be like? Numbers? Or ASCII of numbers? Or binary?</p>\n\n<p>2) Depending on the above answer, how do I read this file into a numpy array X?</p>\n\n<p>Essentially my compression does some wavelet and fft transforms, does some filtering here and there and returns an array with some numbers, I know the format of this array and I already achieve a high % of compression here, the next step is to first dump this array into a binary file. Once I achieve this my next goal is to implement some kind of entropy coding of the file/vector.</p>\n\n<p>Any input appreciated.</p>\n"},{"tags":["python","random","floating-point","rounding"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":92,"score":6,"question_id":13213496,"title":"What does 'depending on rounding' exactly mean?","body":"<p>About <code>random.uniform</code>, docstring says: </p>\n\n<blockquote>\n  <p>Get a random number in the range [a, b) or [a, b] depending on rounding.</p>\n</blockquote>\n\n<p>But I do not know what does 'depending on rounding' exactly mean.</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":532,"score":1,"question_id":4407907,"title":"python how to change functionality of a method during runtime","body":"<p>Wondering if its is possible to change functionalify of a method during runtime e.g </p>\n\n<pre><code>x = obj1 + obj2\nreturn x+y\n</code></pre>\n\n<p>and you want to add </p>\n\n<pre><code>x = obj1 + obj2\nx+= obj3\nreturn x+y\n</code></pre>\n"},{"tags":["python","jinja2"],"answer_count":2,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":2114,"score":4,"question_id":6036082,"title":"Call a python function from jinja2","body":"<p>I am using jinja2, and I want to call a python function as a helper, using a similar syntax as if I were calling a macro. jinja2 seems intent on preventing me from making a function call, and insists I repeat myself by copying the function into a template as a macro.    </p>\n\n<p>Is there any straightforward way to do this?  And, is there any way to import a whole set of python functions and have them accessible from jinja2, without going through a whole lot of rigamarole (such as writing an extension)?</p>\n"},{"tags":["python","module","web.py","importerror"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13221021,"title":"Cannot get imports to work in web.py project","body":"<p>I'm trying to create a basic blogging application in Python using Web.Py. I have started without a direcotry structure, but soon I needed one. So I created this structure:</p>\n\n<pre><code>Blog/\n├── Application/\n│   ├── App.py\n│   └── __init__.py\n|\n├── Engine/\n│   ├── Connection/\n│   │   ├── __init__.py\n│   │   └── MySQLConnection.py\n│   ├── Errors.py\n│   └── __init__.py\n├── __init__.py\n├── Models/\n│   ├── BlogPostModel.py\n│   └── __init__.py\n├── start.py\n└── Views/\n    ├── Home.py\n    └── __init__.py\n</code></pre>\n\n<p><code>start.py</code> imports <code>Application.App</code>, which contains Web.Py stuff and imports <code>Blog.Models.BlogPostModel</code>, which imports <code>Blog.Engine.Connection.MySQLConnection</code>.\n<code>Application.App</code> also imports <code>Engine.Errors</code> and <code>Views.Home</code>. All these imports happen inside contructors, and all code inside all files are in classes. When I run <code>python start.py</code>, which contains these three lines of code:</p>\n\n<pre><code>from Application import App\napp = App.AppInstance()\napp.run()\n</code></pre>\n\n<p>The following stack trace is printed:</p>\n\n<pre><code>Blog $ python start.py \nTraceback (most recent call last):\n  File \"start.py\", line 2, in &lt;module&gt;\n    Blog = App.AppInstance()\n  File \"/home/goktug/code/Blog/Application/App.py\", line 4, in __init__\n    from Blog.Views import Home\nImportError: No module named Blog.Views\n</code></pre>\n\n<p>But according to what I understand from some research, this should run, at least until it reaches something after App.py. <em>Can anyone tell where I made the mistake?</em> (I can provide more code on request, but for now I'm stopping here, as this one is getting messier and messier).</p>\n"},{"tags":["python","django","windows","pinax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13220619,"title":"What are the best reusable django apps for form processing?","body":"<p>In my application I want to process some form data and show it later on a different page.</p>\n\n<p>My question is: Can you recommend any django apps to quickly set up such a system?</p>\n\n<p>I appreciate your answer!!!</p>\n"},{"tags":["python","search","list","tuples"],"answer_count":5,"favorite_count":3,"up_vote_count":14,"down_vote_count":0,"view_count":6796,"score":14,"question_id":2917372,"title":"searching a list of tuples in python","body":"<p>So I have a list of tuple like:</p>\n\n<pre><code>[(1,\"juca\"),(22,\"james\"),(53,\"xuxa\"),(44,\"delicia\")]\n</code></pre>\n\n<p>I want this list for a tuple whose number value is equal to something.</p>\n\n<p>So that if I do <code>search(53)</code> it will return <code>2</code></p>\n\n<p>Is is an easy way to do that?</p>\n"},{"tags":["python","python-3.x","global-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13221042,"title":"Changing global scope objects","body":"<p>I have a question about global scope in python.</p>\n\n<p>I make this script and works but I don't know why:</p>\n\n<pre><code>#! /bin/python3\n# -*- coding: UTF-8 -*-\n\ndata = []\nstats = {'white':0, }\n\ndef main():\n    global data\n\n    with open(args.finput, 'r') as f:\n        data = f.readlines()\n\n    rwhitespaces()\n\n    with open(foutput, 'w') as f:\n        for line in data:\n            f.write(line)\n\n    print(stats)\n\ndef rwhitespaces():\n    cnt = 0\n    for line in data:\n        if line == '\\n':\n            data.pop(cnt) # Modifing data var without global keywork and works, why??\n            stats['fistro'] = 1 # Modifing stats var without global keywork and works why??\n        cnt += 1\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>So I'm misunderstanding something with global scope can someone explain me???\nThanks and sorry my bad english</p>\n"},{"tags":["python","string","string-comparison","levenshtein-distance","fuzzy-comparison"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13220973,"title":"Levenshtein distance with scrambling of characters?","body":"<p>I am looking for a string comparison metric ala Levenshtein that will also work when the characters in the string have been scrambled up. Does anyone know of such a metric? It would also be great if there was a Python module that could calculate such a metric.\nThanks!</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":13220202,"title":"Importing libs with __init__.py","body":"<p>Why does my namespace import not work when I use the os.chdir() to get to the package dir from script?</p>\n\n<p>For example here is my package structure to demonstrate the problem.</p>\n\n<pre><code>testpk/\ntestpk/bin\ntestpk/bin/runit.py\ntestpk/lib\ntestpk/lib/libcode.py\ntestpk/lib/__init__.py\n</code></pre>\n\n<p>here is my lib code which just prints ive been imported</p>\n\n<pre><code>print \"I've been imported\"\n</code></pre>\n\n<p>contents of runit.py               </p>\n\n<pre><code>#!/usr/bin/python\nimport  sys, os\n\nif __name__ == \"__main__\":\n    os.chdir('/home/moorepe/src/testpk')   \n    print \"working path = \" , os.getcwd()\n    import lib.libcode \n</code></pre>\n\n<p>If i run runit i get this error:</p>\n\n<pre><code>moorepe@halifax$ bin/runit.py \nTraceback (most recent call last):\n  File \"bin/runit.py\", line 6, in &lt;module&gt;\n    import lib.libcode \nImportError: No module named lib.libcode\n</code></pre>\n\n<p>However testing this with python command line it works as expected:</p>\n\n<pre><code>    cd testpk\n    python -c \"import lib.libcode\n    I've been imported\n</code></pre>\n\n<p>And this works from the bin dir:</p>\n\n<pre><code>cd testpk/bin\npython -c \"import os; os.chdir('/home/moorepe/src/testpk') ; import lib.libcode\"\nI've been imported\n</code></pre>\n\n<p>Can anyone explain what is going wrong?</p>\n\n<p>So the reason this didnt work is that python uses the current dir as a path in addition to the PYTHONPATH.</p>\n\n<p>so this code works by adding sys.path.append(\".\") because im forcing a current working dir as a path addition. </p>\n"},{"tags":["python","vim"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":58,"score":5,"question_id":13219111,"title":"How to embed python expression into :s command in vim?","body":"<p>I can use <code>\\=expr</code> in <code>:s</code> command. For example, to convert timestamps format inplace:</p>\n\n<pre><code>:%s/\\v&lt;\\d{10}&gt;/\\=strftime('%c', submatch(0))/g\n</code></pre>\n\n<hr>\n\n<p>But the functionality of built-in functions are so limited. To parse a timestamp, I'd like to use python script like this:</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; d = 'Apr 11 2012'\n&gt;&gt;&gt; datetime.datetime.strptime(d, '%b %d %Y').isoformat()\n'2012-04-11T00:00:00'\n</code></pre>\n\n<hr>\n\n<p>How to embed this <code>py-expr</code> into <code>:s</code> command?</p>\n\n<pre><code>:%s/\\v\\w+ \\d{2} \\d{4}/\\={?py-expr?}/g\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","zip","itertools"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13220764,"title":"I can get 1 or 3 'None' values, but not 2","body":"<p>Here is what I have:</p>\n\n<pre><code>item_dictionary = {'10350': 'Third-Age Full', '560':'Death Rune'}\n\nfiller = []\nfor i in range(0,365):\n    filler.append(None)\n\nfiller1=[]\nfor i in range(0, 2):\n    filler1.append(None)\n\nfiller2=[]\nfor i in range(0, 1):\n    filler2.append(None)\n\nnames = item_dictionary.values()\nnames_filled = list(itertools.chain.from_iterable(zip(names, filler1 * len(names))))\n#Returns ['Death Rune', None, 'Third-Age Full', None]\n</code></pre>\n\n<p>And</p>\n\n<pre><code>names = item_dictionary.values()\nnames1 = list(itertools.chain.from_iterable(zip(names, filler2 * len(names))))\nnames_filled = list(itertools.chain.from_iterable(zip(names1, filler1 * len(names))))\n#Returns ['Death Rune', None, None, None, 'Third-Age Full', None, None, None]\n</code></pre>\n\n<p>I'm trying to get <code>['Death Rune', None, None, 'Third-Age Full', None, None]</code> but I can't seem to, can someone please help me out? Thanks.</p>\n"},{"tags":["python","arrays","numpy","scipy"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13215525,"title":"How to extend an array in-place in Numpy?","body":"<p>Currently, I have some codes like this</p>\n\n<pre><code>import numpy as np\nret = np.array([])\nfor i in range(100000):\n  tmp =  get_input(i)\n  ret = np.append(ret, np.zeros(len(tmp)))\n  ret = np.append(ret, np.ones(fixed_length))\n</code></pre>\n\n<p>I think these codes are <strong>not efficient</strong> as <code>np.append</code> need to return a copy of the array instead of <strong>modify the ret in-place</strong></p>\n\n<p>I was wondering whether I can use the <code>extend</code> for a numpy array like this:</p>\n\n<pre><code>import numpy as np\nfrom somewhere import np_extend\nret = np.array([])\nfor i in range(100000):\n  tmp =  get_input(i)\n  np_extend(ret, np.zeros(len(tmp)))\n  np_extend(ret, np.ones(fixed_length))\n</code></pre>\n\n<p>So that the <code>extend</code> would be much more efficient.\nDoes anyone have ideas about this?\nThanks!</p>\n"},{"tags":["python","forms","urllib2","mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13220114,"title":"Python x-www-form-urlencoded POSTing: cannot find attributes","body":"<p>Recently I came across a page which seems impossible to make POST request via python since I could not find certain attributes anywhere in the source code. </p>\n\n<p>So basically here's the content from Live Http Header when manually POST to that page:</p>\n\n<pre><code>Content-Type: application/x-www-form-urlencoded \n\nContent-Length: 616 \n\nform_key=VeBg0awGeGySaRYzBZc8jMwH0&amp;secure_form_key=%21331352042042%7CsYH2EQfAK7nTIakC55PK8SQv78&amp;blahblahblah\n</code></pre>\n\n<p>As you can see I can easily locate <code>form_key</code> but cannot find <code>secure_form_key</code> anywhere after carefully checking the source page. Where could it possibly be hidden? And how should I find it?</p>\n"},{"tags":["python","graphing"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":438,"score":3,"question_id":8956191,"title":"python: (x,y) plot alternative to matplotlib","body":"<p>I've been trying for several hours to download/build/install/use matplotlib and am at my wit's end. I finally got it to build and it runs but doesn't display anything despite calling <code>plt.show()</code>.</p>\n\n<p>Is there an alternative? I just need something in python to graph (x,y) data, in either lines or points. (I'm running Python 2.7 in Mac OSX 10.6)</p>\n\n<p><strong>edit:</strong> <em>please</em> point me at a source of binary installers for any reputable package besides matplotlib. Building from source code on my machine seem to have trouble for some reason.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":58,"score":-4,"question_id":13220620,"title":"running python files from command line.","body":"<p>Hi! I'm aware that there are already many topics here asking the same problem but i didn't quite understand them.</p> \n\n<p>I have a client.py file (location: C:\\Users\\Sten Sootla\\Documents\\Chess project\\client.py) and i'm trying to run it in my command prompt, but it always gives me an error. I'm using windows 7 and i've already modified my path variable so when i type 'python' in my command line, it starts the interpreter.</p>\n\n<p>Thank you</p>\n"},{"tags":["python","python-3.x","python-2.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13217005,"title":"Python 3 package module conflicts with standard module","body":"<p>I recently decided to upgrade to python 3, and start converting some of my scripts. I encountered a problem in a script that uses a module named <code>io</code> - in python 2, this is perfectly fine, however in python 3, <code>io</code> is a standard module for files. I found <a href=\"http://stackoverflow.com/questions/1224741/python-import-with-name-conflicts\">this old question</a> about the same kind of problem, however this appears to be in reference to python 2. I have the opposite problem - given two files, <code>main.py</code> and <code>io.py</code> in the top level package, <code>import io</code> in <code>main.py</code> will import the standard <code>io</code> module, not the local one. <code>from __future__ import absolute_imports</code> didn't help, and <code>from . import io</code> and related attempts fail as expected (which I have never understood - python really doesn't know where the top level package is?). Renaming is obviously a solution, but if possible I'd like to avoid it. Is there some python 3 standard way of resolving module name conflicts?</p>\n"},{"tags":["python","idle-ide"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":170,"score":0,"question_id":2281955,"title":"Reload Method or Object in IDLE","body":"<p>when using idle, I know you can reload a module if it's changed like this:</p>\n\n<pre><code>import foo\nreload(foo)\n</code></pre>\n\n<p>if I  only import part of a module, is there a way to reload it in a similar matter?</p>\n\n<pre><code>from foo import bar\n</code></pre>\n"},{"tags":["python","mongodb","pymongo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13220455,"title":"saving data to mongodb using pymongo","body":"<p>I am having an issue trying to save data to MongoDB.</p>\n\n<p>I first run this python program:</p>\n\n<pre><code>import pymongo\nimport sys\n\ndef main():\n    connection = pymongo.Connection(\"mongodb://localhost\", safe = True) \n\n    db = connection.m101\n    people = db.people\n\n    person = {'name':'Barack Obama', 'role':'president'}\n    people.insert(person)\n</code></pre>\n\n<p>but then, when i try to retrieve the data from the mongoshell:</p>\n\n<pre><code>&gt; use m101\n</code></pre>\n\n<p>switched to db m101</p>\n\n<pre><code> &gt; db.people.find()\n</code></pre>\n\n<p>returns nothing! I'm not sure what is going on. Thanks for your help.</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":176,"score":-4,"question_id":13220340,"title":"what is the bug in this python code?","body":"<pre><code>def fixedPoint(f, epsilon):\n\n    guess = 1.0\n    for i in range(100):\n        if abs(f(guess) - guess) &lt; epsilon:\n            return guess\n        else:\n            guess = f(guess)\n    return guess\n\ndef babylon(a):\n    def test(x):\n        return 0.5 * ((a / x) + x)\n    return test\n\ndef sqrt(a):\n    return fixedPoint(babylon, 0.0001)\n</code></pre>\n"},{"tags":["python","list","insert"],"answer_count":8,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1203,"score":5,"question_id":5920643,"title":"Add an item between each item already in the list","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5655708/python-most-elegant-way-to-intersperse-a-list-with-an-element\">python: most elegant way to intersperse a list with an element</a>  </p>\n</blockquote>\n\n\n\n<p>Assuming I have the following list:</p>\n\n<pre><code>['a','b','c','d','e']\n</code></pre>\n\n<p>How can I append a new item (in this case a <code>-</code>) between each item in this list, so that my list will look like the following?</p>\n\n<pre><code>['a','-','b','-','c','-','d','-','e']\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["python","django","django-models"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13218826,"title":"Django QuerySet best practice","body":"<p>Is there any better way to do this</p>\n\n<pre><code>us = User.objects.filter(id=someid)\nif us.exists():\n   u = us[0]\n</code></pre>\n\n<p>As I see in the sql log, us.exists() will execute a sql query, then u = us[0] will execute another query. So we have to do 2 query to get thing done. I just want to ask for a better way to do this</p>\n"},{"tags":["python","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13220058,"title":"scipy.odeint strange behavior","body":"<p>Here is my code to solve differential equation dy / dt = 2 / sqrt(pi) * exp(-x * x) to plot erf(x).</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom scipy.integrate import odeint\nimport numpy as np\nimport math\n\n\ndef euler(df, f0, x):\n    h = x[1] - x[0]\n    y = [f0]\n    for i in xrange(len(x) - 1):\n        y.append(y[i] + h * df(y[i], x[i]))\n    return y\n\n\ndef i(df, f0, x):\n    h = x[1] - x[0]\n    y = [f0]\n    y.append(y[0] + h * df(y[0], x[0]))\n    for i in xrange(1, len(x) - 1):\n        fn = df(y[i], x[i])\n        fn1 = df(y[i - 1], x[i - 1])\n        y.append(y[i] + (3 * fn - fn1) * h / 2)\n    return y\n\n\nif __name__ == \"__main__\":\n    df = lambda y, x: 2.0 / math.sqrt(math.pi) * math.exp(-x * x)\n    f0 = 0.0\n    x = np.linspace(-10.0, 10.0, 10000)\n\n    y1 = euler(df, f0, x)\n    y2 = i(df, f0, x)\n    y3 = odeint(df, f0, x)\n\n    plt.plot(x, y1, x, y2, x, y3)\n    plt.legend([\"euler\", \"modified\", \"odeint\"], loc='best')\n    plt.grid(True)\n    plt.show()\n</code></pre>\n\n<p>And here is a plot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/B0aUW.png\" alt=\"plot\"></p>\n\n<p>Am I using odeint in a wrong way or it's a bug?</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":122,"score":-8,"question_id":13220167,"title":"What is the bug in the code.","body":"<pre><code>def babylon(a):\n    def test(x):\n        return 0.5 * ((a / x) + x)\n    return test\n\ndef sqrt(a):\n    return fixedPoint(babylon, 0.0001)\n</code></pre>\n"},{"tags":["python","windows"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13182444,"title":"An application has made an attempt to load the C runtime library incorrectly","body":"<p>I started getting this error every time I try to:  </p>\n\n<ul>\n<li>install Python package with installer</li>\n<li>use PyWin extension (through COM application)</li>\n<li>start Notepad++ (with Python script plugin)</li>\n</ul>\n\n<p>This started to happen couple of days ago.  </p>\n\n<p>Dialog shows, I dismiss and everything runs fine, except it pops again and again</p>\n\n<p>I reinstalled Python 2.7.3 on Windows XP SP3 32bit, then reinstalled PyWin extensions, but nothing changed.  </p>\n\n<p>Looking for answer here, I found that obviously some library is missing manifest declaration, but I can't figure which one. Or what is loaded by default in all above mentioned 3 scenarios. Does anyone maybe has an idea?</p>\n\n<hr>\n\n<p>I found it - it's PyGTK. I installed it couple of days ago, and I did suspect on it, but wasn't sure and didn't wanted to mislead.<br>\nI renamed <code>gtk-2.0</code> folder in site-packages and dialog stopped to show  </p>\n\n<p>Will contact the team and report back if I have something</p>\n\n<hr>\n\n<p><strong>Update</strong>  </p>\n\n<p>I tried to contact PyGTK team, couple of days ago, but the list seems very low frequency, I wonder who uses PyGTK on Windows. This is the link to reported problem in case anyone cares: <a href=\"http://www.daa.com.au/pipermail/pygtk/2012-November/020462.html\" rel=\"nofollow\">http://www.daa.com.au/pipermail/pygtk/2012-November/020462.html</a>  </p>\n\n<p>And in case anyone is curious what did I do with this error dialogs, here is answer: I used PyGTK as I needed it by one project, which I now compiled to executable and got rid of GTK from my Python packages.</p>\n"},{"tags":["python","algorithm","artificial-intelligence"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":81,"score":-4,"question_id":13220129,"title":"What's your most favorite machine learning and general algo book and why - python","body":"<p>Just started getting serious about machine learning and also learning python. What's a great book for this? Also what's the best algorithms in python book with exercises and solutions. </p>\n"},{"tags":["python","script","argparse"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13219910,"title":"argparse: Get undefined number of arguments","body":"<p>I'm building a script which uses arguments to configure the behavior and shall read an undefined number of files. Using the following code allows me to read one single file. Is there any way to accomplish that without having to set another argument, telling how many files the script should read?</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument(\"FILE\", help=\"File to store as Gist\")\nparser.add_argument(\"-p\", \"--private\", action=\"store_true\", help=\"Make Gist private\")\n</code></pre>\n"},{"tags":["python","html","xpath","screen-scraping","lxml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13219180,"title":"Python lxml.html XPath \"attribute not equal\" operator not working as expected","body":"<p>I'm trying to run the following script:</p>\n\n<pre><code>#!python\n\nfrom urllib import urlopen #urllib.request for python3\nfrom lxml import html\n\nurl =   'http://mpk.lodz.pl/rozklady/1_11_D2D3/00d2/00d2t001.htm?r=KOZINY'+\\\n        '%20-%20Srebrzy%F1ska,%20Cmentarna,%20Legion%F3w,%20pl.%20Wolno%B6ci'+\\\n        ',%20Pomorska,%20Kili%F1skiego,%20Przybyszewskiego%20-%20LODOWA'\n\nraw_html = urlopen(url).read()\ntree = html.fromstring(raw_html) #need to .decode('windows-1250') in python3\nret = tree.xpath('//td [@class!=\"naglczas\"]')\nprint ret\nassert(len(ret)==1)\n</code></pre>\n\n<p>I expect it to select the one td that doesn't have its class set to 'naglczas'. Instead, it returns me an empty list. Why is that? I guess there's some silly reason, but I tried googling and found nothing that would explain it.</p>\n"},{"tags":["python","pyramid","formencode"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":181,"score":0,"question_id":9297735,"title":"Is there a way to validate file size using python formencode?","body":"<p>I'd like to validate uploaded file's size in my Pyramid application using formencode. As far as I understand, I need to create a class inherited from <code>formencode.validators.FormValidator)</code> and put it to <code>chained_validators</code>. But I can't figure out a way to check the uploaded file's size in the <code>validate_python</code> method. Is it even possible?</p>\n\n<p>Thanks in advance, Ivan.</p>\n"},{"tags":["python","string","list"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":79,"score":2,"question_id":13218290,"title":"Turning a string into a list with specifications","body":"<p>I want to create a list out of my string in python that would show me how many times a letter is shown in a row inside the string.\nfor example:</p>\n\n<pre><code>my_string= \"google\"\n</code></pre>\n\n<p>i want to create a list that looks like this:</p>\n\n<pre><code>[['g', 1], ['o', 2], ['g', 1], ['l', 1], ['e', 1]]\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","csv","multiple-columns"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13219546,"title":"Creating a new list of csv columns for each iteration","body":"<p>I'm trying to write a csv file that should look like <a href=\"http://imgur.com/Dw1no\" rel=\"nofollow\">this</a>. What I get is <a href=\"http://imgur.com/eKDuW\" rel=\"nofollow\">this</a>, where all the data is output as two long columns. Here's the code.</p>\n\n<pre><code>import requests\nimport csv\n\nitem_dictionary = {'10350': 'Third-Age Full', '560':'Death Rune'}\nitem_ids = item_dictionary.keys()\nurl_template = 'http://www.grandexchangecentral.com/include/gecgraphjson.php?jsid=%r'\n\nsites = []\nfor i in range(0, len(item_ids)):\n    result = url_template % item_ids[i]\n    sites.append(result)\n\n\ndef data_grabber(item): \n    url = item\n    r = requests.get(url, headers={'Referer': 'www.grandexchangecentral.com'})\n    data = r.json  \n    prices = [i[1] for i in data]\n    return prices\n\n\ndata = map(data_grabber, sites)\n\nnames = item_dictionary.values()\n\nfiller = []\nfor i in range(0,365):\n    filler.append(None)\n\n\nmyfile = open('prices.csv', 'wb')\nheaders = [names[0], 'Percent Change', None, names[1], 'Percent Change', None]\nwr = csv.writer(myfile)\nwr.writerow(headers)   \n\nfor x in data:\n    q = data.index(x) \n    a = data[q]\n    percents = [100.0 * a1 / a2 - 100 for a1, a2 in zip(a[1:], a)]\n    percents.insert(0, None)\n    f = zip(data[q], percents, filler)\n    wr.writerows(f)\n\n\nmyfile.close()\n</code></pre>\n\n<p>I think the issue is with <code>f = zip(data[q], percents, filler)</code>. It seems to write for <code>data[0]</code> and then again for <code>data[1]</code> beneath it, when I'd like it to make that two new columns. Does anyone have any ideas on how to correct this? Thanks.</p>\n"},{"tags":["python","math"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":4,"view_count":64,"score":-2,"question_id":13219286,"title":"Decimal approximation to expression (square root)","body":"<p>I want to know if there is some module that i can transform a decimal to a root like:</p>\n\n<pre><code>&gt;&gt;&gt; x = 1.7320508075688772\n&gt;&gt;&gt; f(x)\n'√3'\n</code></pre>\n\n<p>As a string.\nHope you help me.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13218896,"title":"How to format output of methods inside of a class in an efficient way?","body":"<p>I want to write a class with much stuff inside. Right now I want to have <strong>certain options for the output to show data in a disired format</strong>. Im my example a function inside a class should format the output (a former dictionary) as a list. But i really can't figure out how to do it...</p>\n\n<p>here my try:</p>\n\n<pre><code>class TestClass(object):\n    def __init__(self):\n        pass\n\n    def return_values_as_list(self,otherfunction):\n        data_as_list=[ i for i in otherfunction.values()]\n        return data_as_list\n\n    def get_data1_from_db(self):\n        self.data= {'1_testkey':'1_testvalue',\"1_testkey2\":\"1_testvalue2\"}\n\n    def get_data2_from_db(self):\n        self.data= {'2_testkey':'2_testvalue',\"2_testkey2\":\"2_testvalue2\"}\n        return self.data \n</code></pre>\n\n<p>What i want to have at the end is something like </p>\n\n<blockquote>\n  <p>['1_testvalue','1_testvalue2']</p>\n</blockquote>\n\n<p>when  instantiation looks like the following:</p>\n\n<pre><code>testcase = TestClass()\ntestcase.get_data1_from_db.return_values_as_list()\n</code></pre>\n\n<p>Any help with that? I thought also of hooks...but i dont really know how to do that...</p>\n"},{"tags":["python","web","webserver","flask","tornado"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":13163990,"title":"Why use Tornado and Flask together?","body":"<p>As far as I can tell Tornado is a server and a framework in one. It seems to me that using Flask and Tornado together is like adding another abstraction layer (more overhead). Why do people use Flask and Tornado together, what are the advantages?</p>\n"},{"tags":["python","pickle"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2631,"score":5,"question_id":1746825,"title":"Python ValueError: insecure string pickle","body":"<p>Python problem: When I am trying to load sth I dumped using cPickle, I get the error message:</p>\n\n<p>ValueError: insecure string pickle</p>\n\n<p>Both the dumping and loading work are done on the same computer, thus same OS: ubuntu 8.04.</p>\n\n<p>How could I solve this problem?</p>\n"},{"tags":["python","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13210118,"title":"UnicodeEncodeError in Python file open on CentOS 5.8","body":"<p>I have a problem with file open() in Python on 32 bit CentOS 5.8. When using characters outside of ascii in a filename I get the following error:</p>\n\n<pre><code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\xe7' in position 88: ordinal not in range(128)\n</code></pre>\n\n<p>The offending line is</p>\n\n<pre><code>file = open(full_path, 'w')\n</code></pre>\n\n<p>The code works fine on 64 bit Ubuntu 12.10 and 64 bit CentOS 6.3. </p>\n\n<p>Some information from the server where the error happens:</p>\n\n<pre><code>$ python --version\nPython 2.7.3\n$ cat /etc/redhat-release \nCentOS release 5.8 (Final)\n$ locale\nLANG=en_US.UTF-8\nLC_CTYPE=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_PAPER=\"en_US.UTF-8\"\nLC_NAME=\"en_US.UTF-8\"\nLC_ADDRESS=\"en_US.UTF-8\"\nLC_TELEPHONE=\"en_US.UTF-8\"\nLC_MEASUREMENT=\"en_US.UTF-8\"\nLC_IDENTIFICATION=\"en_US.UTF-8\"\nLC_ALL=\n</code></pre>\n\n<p>I have checked that on the Ubuntu machine the type of the \"full_path\" variable is 'unicode'. Part of the \"full_path\" variable comes from a configuration file in UTF-8 format. The rest from a web page in UTF-8 format.</p>\n\n<p>I have not done any testing on the CentOS 5.8 machine yet as it is the production server I would rather not do random testing on it. Any hints to what can be the reason for this error is appreciated.</p>\n\n<p><strong>Update</strong></p>\n\n<p>If forgot to mention that the following works:</p>\n\n<pre><code>$ python\nPython 2.7.3 (default, Jun 11 2012, 22:26:11) \n[GCC 4.1.2 20080704 (Red Hat 4.1.2-52)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; file = open(u'ø.txt', 'w')\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Which in my head should be the same as the actual program, but apparently it isn't.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>Now it works for some reason. The program is a Turbogears web app and I just started and stopped the server daemon to see the result of some debug printing and the error no longer happens.</p>\n\n<p>I am still at loss for why this happens, but at least the problem is temporarily resolved.</p>\n"},{"tags":["python","pandas","linear-regression","statsmodels"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13218461,"title":"Predicting values using an OLS model with statsmodels","body":"<p>I calculated a model using OLS (multiple linear regression). I divided my data to train and test (half each), and then I would like to predict values for the 2nd half of the labels.</p>\n\n<pre><code>model = OLS(labels[:half], data[:half])\npredictions = model.predict(data[half:])\n</code></pre>\n\n<p>The problem is that I get and error:\n    File \"/usr/local/lib/python2.7/dist-packages/statsmodels-0.5.0-py2.7-linux-i686.egg/statsmodels/regression/linear_model.py\", line 281, in predict\n    return np.dot(exog, params)\n    ValueError: matrices are not aligned</p>\n\n<p>I have the following array shapes:\ndata.shape: (426, 215)\nlabels.shape: (426,)</p>\n\n<p>If I transpose the input to model.predict, I do get a result but with a shape of (426,213), so I suppose its wrong as well (I expect one vector of 213 numbers as label predictions):</p>\n\n<pre><code>model.predict(data[half:].T)\n</code></pre>\n\n<p>Any idea how to get it to work?</p>\n"},{"tags":["python","class","attributes","naming-conventions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13218712,"title":"attribute naming, tuple vs multiple names","body":"<p>I was thinking about parts of my class api's and one thing that came up was the following:\nShould I use a tuple/list of equal attributes or should I use several attributes, e.g. let's say I've got a <code>Controller</code> class which reads several thermometers.</p>\n\n<pre><code>class Controller(object):\n    def __init__(self):\n        self.temperature1 = Thermometer()\n        self.temperature3 = Thermometer()\n        self.temperature2 = Thermometer()\n        self.temperature4 = Thermometer()\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>class Controller(object):\n    def __init__(self):\n        self.temperature = tuple(Thermometer() for _ in range(4))\n</code></pre>\n\n<p>Is there a best practice when I should use which style?</p>\n\n<p>(Let's assume the number of Thermometers will not be changed, otherwise choosing the second style with a list would be obvious.)</p>\n"},{"tags":["python","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13218551,"title":"Selection sort 'switch' code","body":"<p>There's a part of the selection sort algorithm that I don't understand. In the latter part of the code (where the <code>temp</code> variable is used, why are <code>L[i]</code> and <code>L[minIndx]</code> assigned values? Aren't those values themselves? Can't only variables be assigned values?</p>\n\n<pre><code>def selSort(L):\n    for i in range(len(L) - 1):\n        minIndx = i\n        minVal = L[i]\n        j = i+1\n        while j &lt; len(L):\n            if minVal &gt; L[j]:\n                minIndx = j\n                minVal = L[j]\n            j += 1\n    # aren’t L[i] and L[minIndx] values? How can they be assigned to new values?\n        if minIndx != i:\n            temp = L[i]\n            L[i] = L[minIndx]\n            L[minIndx] = temp\n</code></pre>\n"},{"tags":["python","multithreading","concurrency","multicore","python-stackless"],"answer_count":2,"favorite_count":3,"up_vote_count":14,"down_vote_count":0,"view_count":3829,"score":14,"question_id":377254,"title":"Stackless python and multicores?","body":"<p>So, I'm toying around with <a href=\"http://www.stackless.com/\" rel=\"nofollow\">Stackless Python</a> and a question popped up in my head, maybe this is \"assumed\" or \"common\" knowledge, but I couldn't find it actually written anywhere on the <a href=\"http://www.stackless.com/\" rel=\"nofollow\">stackless site</a>.</p>\n\n<p>Does <a href=\"http://www.stackless.com/\" rel=\"nofollow\">Stackless Python</a> take advantage of multicore CPUs? In normal Python you have the GIL being constantly present and to make (true) use of multiple cores you need to use several processes, is this true for <a href=\"http://www.stackless.com/\" rel=\"nofollow\">Stackless</a> also?</p>\n"},{"tags":["python","c","header","libraries"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13218627,"title":"Python.h on windows with MinGW","body":"<p>I have a issue when importing Python.h in a C code</p>\n\n<pre><code>No such file or directory\n</code></pre>\n\n<p>I m on windows 7 64 bits with codeblocks IDE MinGW compiler</p>\n\n<p>please can someone help me with installing python c librarie?</p>\n"},{"tags":["python","urllib2","reddit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":13213048,"title":"urllib2 HTTP error 429","body":"<p>So I have a list of sub-reddits and I'm using urllib to open them. As I go through them eventually urllib fails with:</p>\n\n<pre><code>urllib2.HTTPError: HTTP Error 429: Unknown\n</code></pre>\n\n<p>Doing some research I found that reddit limits the ammount of requests to their servers by IP:</p>\n\n<blockquote>\n  <p>Make no more than one request every two seconds. There's some allowance for bursts of requests, but keep it sane. In general, keep it to no more than 30 requests in a minute.</p>\n</blockquote>\n\n<p>So I figured I'd use <code>time.sleep()</code> to limit my requests to one page each 10 seconds. This ends up failing just as well.</p>\n\n<p>The quote above is grabbed from the <a href=\"https://github.com/reddit/reddit/wiki/API\" rel=\"nofollow\">reddit API</a> page. I am not using the reddit API. At this point I'm thinking two things. Either that limit applies only to the reddit API or urllib also has a limit. </p>\n\n<p>Does anyone know which one of these two things it is? Or how I could go around this issue?</p>\n"},{"tags":["python","django","django-models","django-admin"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13217209,"title":"Nested fieldsets in django admin page","body":"<p>Trying to understand Django Admin a bit better, but facing a problem when placing nested fieldsets in django admin</p>\n\n<p>I want to group my model fields as shown in below image.</p>\n\n<p>I tried using this code, but no success.</p>\n\n<pre><code>    class ContactAdmin(admin.ModelAdmin):\n        fieldsets = (\n                     (\"Main Info\", {'fields': (\"user\", \"website\")}),\n                     (\"Phones\", {'fields': (\n                          (\"Primary\", {'fields': ((\"primary_phone_country\", \"primary_phone_area\", \"primary_phone_number\"),)}),\n                          (\"Secondary\", {'fields': ((\"secondary_phone_country\", \"secondary_phone_area\", \"secondary_phone_number\"),)}),\n    )}),\n)\n\n    admin.site.register(Contact, ContactAdmin)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/WufeJ.png\" alt=\"enter image description here\"></p>\n\n<p>Any Solutions to solve the above issue?</p>\n"},{"tags":["python","amazon-ec2","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11733036,"title":"Install Pyhash in Amazon EC2","body":"<p>I am trying to isntall Pyhash which is a third party package providing various hash functions in python. I installed this package in ec2 usign easy_install.</p>\n\n<p>However whenever i am trying to import pyhash i get the following error</p>\n\n<pre><code>ImportError: libboost_python-py26.so.1.42.0: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>I have boost, boost-python already installed in the ami linux.</p>\n\n<p>Any suggestions?</p>\n\n<p>Also is there any other python package providing Murmurhash1 ?</p>\n"},{"tags":["python","sql","database","python-2.7","firebird"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":46,"score":-3,"question_id":13218115,"title":"AttributeError: Transaction instance has no attribute 'trans_handle'","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13210956/programmingerror-42s02-42s02-microsoft\">ProgrammingError: ‘42S02’, &#39;[42S02] [Microsoft]</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote this programm which should insert record into a database</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\nconn=firebirdsql.create_database(host='localhost', database='D:/test2.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\nconn.begin()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\"\"\"\ncur.execute(s)\nconn.commit()\ns=\"INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Organization A')\"\nconn.begin()\ncur.execute(s)\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>As a result, when you run, I got the following error that very much afflicted me</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/ThirdTask/connectthree.py\", line 37, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 456, in _execute\n    self.transaction.trans_handle, query)\nAttributeError: Transaction instance has no attribute 'trans_handle'\n</code></pre>\n\n<p>In the following version of the program</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\nconn=firebirdsql.create_database(host='localhost', database='D:/test2.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\"\"\"\ncur.execute(s)\ns=\"INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Organization A')\"\ncur.execute(s)\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>I received the following mistake that very much afflicted me</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/ThirdTask/connectthree.py\", line 35, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 457, in _execute\n    (h, oid, buf) = self.transaction.connection._op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 764, in _op_response\n    return self._parse_op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 308, in _parse_op_response\n    raise OperationalError(message, gds_codes, sql_code)\nOperationalError: Dynamic SQL Error\nSQL error code = -204\nTable unknown\nCLIENTS\nAt line 1, column 13\n</code></pre>\n"},{"tags":["python","scrapy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13215220,"title":"installing Scrapy under Windows7","body":"<p>I try to install Scrapy using easy install. I installed Cython and it seems to work, I installed libxml2 form <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow\">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a> I changed <code>cygwinccompiler</code> following this post <a href=\"http://stackoverflow.com/questions/10922967/scrapy-installation-error\">scrapy installation error</a> I still got an error and don't know what to do next. Also I don't know why there is that it is <code>Building without Cython</code> I have Windows 7 32-bit and Python 2.7  </p>\n\n<pre><code>C:\\Users\\t&gt;easy_install -U Scrapy\nSearching for Scrapy\nReading http://pypi.python.org/simple/Scrapy/\nReading http://scrapy.org\nBest match: scrapy 0.16.1\nProcessing scrapy-0.16.1-py2.7.egg\nscrapy 0.16.1 is already the active version in easy-install.pth\nInstalling scrapy script to C:\\Python27\\Scripts\nInstalling scrapy.bat script to C:\\Python27\\Scripts\n\nUsing c:\\python27\\lib\\site-packages\\scrapy-0.16.1-py2.7.egg\nProcessing dependencies for Scrapy\nSearching for lxml\nReading http://pypi.python.org/simple/lxml/\nReading http://codespeak.net/lxml\nBest match: lxml 3.0.1\nDownloading http://lxml.de/files/lxml-3.0.1.tgz\nProcessing lxml-3.0.1.tgz\nRunning lxml-3.0.1\\setup.py -q bdist_egg --dist-dir c:\\users\\t\\appdata\\lo\ncal\\temp\\easy_install-7mgdch\\lxml-3.0.1\\egg-dist-tmp-686xm8\nBuilding lxml version 3.0.1.\nBuilding without Cython.\nERROR: 'xslt-config' is not recognized as an internal or external command,\noperable program or batch file.\n\n** make sure the development packages of libxml2 and libxslt are installed **\n\nUsing build configuration of libxslt\nwarning: no files found matching '*.txt' under directory 'src\\lxml\\tests'\nIn file included from src\\lxml\\lxml.etree.c:254:0:\nc:\\users\\t\\appdata\\local\\temp\\easy_install-7mgdch\\lxml-3.0.1\\src\\lxml\\inc\nludes/etree_defs.h:9:31: fatal error: libxml/xmlversion.h: No such file or direc\ntory\ncompilation terminated.\nerror: Setup script exited with error: command 'gcc' failed with exit status 1\n</code></pre>\n"},{"tags":["python","django","windows"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13218213,"title":"Django tutorial setting the correct path variable","body":"<p>I am having trouble with the tutorial, I am stuck here <code>django-admin.py startproject mysite</code>\nIn the shell I get an error <code>django-admin.py Command no found</code></p>\n\n<p>I believe I have set the correct path variables?  Here is what I have done in the shell:</p>\n\n<p>First I typed in  <code>$ python</code></p>\n\n<p>from there python booted up and I got the <code>&gt;&gt;&gt;</code>\nso I typed <code>import django</code> and then <code>django.get_version()</code> and everything works\nand I see <code>1.4.2</code></p>\n\n<p>Next I exited python and tried to set up the test site from the tutorial.</p>\n\n<pre><code>$ django-admin.py startproject mysite\n</code></pre>\n\n<p>I get the same error.</p>\n\n<pre><code>django-admin.py Command no found\n</code></pre>\n\n<p>Where am I going wrong?  Do I need to set the path for django as well?</p>\n\n<p>Thanks for your help I tried to be as descriptive as possible.</p>\n"},{"tags":["python","mysql","flask"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13210265,"title":"Making a sql dump downloadable","body":"<p>I'm making a voting application in python/flask and I need to make a button that allows the user to download a mysql dump. </p>\n\n<p>The mysql code that performs the dump is this - \n<code>select * into outfile \"votes.csv\" fields terminated by ',' from vote;</code></p>\n\n<p>I have 2 questions </p>\n\n<ul>\n<li>What should be the path where this dump is saved so that the it can be downloaded?</li>\n<li>I'm using sqlalchemy. How can I execute this code from the flask application and provide a link to the file generated?</li>\n</ul>\n\n<p>Thanks a lot!</p>\n\n<p>For streaming?</p>\n\n<pre><code> @app.route('/foo')\n def foo():\n     def generate():\n         yield 'first part'\n         yield 'second part'\n     return Response(generate(), direct_passthrough=True)\n</code></pre>\n"},{"tags":["python","sql","caching","redis","data-mining"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":75,"score":4,"question_id":12938274,"title":"A good blobstore / memcache solution","body":"<p>Setting up a data warehousing mining project on a Linux cloud server. The primary language is Python .</p>\n\n<p>Would like to use this pattern for querying on data and storing data:</p>\n\n<ul>\n<li><strong>SQL Database</strong> - SQL database is used to query on data. However, the SQL database stores only fields that need to be searched on, it does NOT store the \"blob\" of data itself. Instead it stores a key that references that full \"blob\" of data in the a key-value Blobstore. </li>\n<li><strong>Blobstore</strong> - A key-value Blobstore is used to store actual \"documents\" or \"blobs\" of data.</li>\n</ul>\n\n<p>The issue that we are having is that we would like more frequently accessed blobs of data to be automatically stored in RAM. We were planning to use Redis for this. However, we would like a solution that automatically tries to get the data out of RAM first, if it can't find it there, then it goes to the blobstore.</p>\n\n<p>Is there a good library or ready-made solution for this that we can use without rolling our own? Also, any comments and criticisms about the proposed architecture would also be appreciated.</p>\n\n<p>Thanks so much!</p>\n"},{"tags":["python","numpy","matplotlib","scipy","interpolate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13216550,"title":"Python Interpolating Surface","body":"<p>I have a 2d numpy array called \"data_plane\" where the indices represent coordinates and the value stored in each position represents the height or z value.  Much of the array contains NaNs (data I don't have) so I am checking for valid numbers before building a surface.  </p>\n\n<p>Ultimately I would like to interpolate the data over a grid with small spacing, and be able to access the grid in order to build a pcolor style plot and 3d surface.  I am trying to tackle the color intensity plot properly right now, and have tried to accomplish it in two different ways - each presents a problem. </p>\n\n<p><strong>Method 1 - imshow/griddata</strong></p>\n\n<p>My problem is that I do not see an easy way to be able to find the interpolated \"z\" value at any point.  I am not sure how to then adjust this to build a 3d surface.  I also do not understand why my interpolated data contains height values larger than any of my original data.</p>\n\n<pre><code>grid_x, grid_y = np.mgrid[1:100:500j, 1:119:500j] #grid to interpolate on\n\nx, y = np.where(np.isfinite(data_plane)) # only use my good data\npoint_coord = (np.vstack((x, y))).T #2d coordinate matrix of good data (non NaN)\n\nvalues = lookup_weight(point_coord[:,0], point_coord[:,1]) #lookup z height  \n\ngrid_z1 = griddata(point_coord, values, (grid_x, grid_y), method='cubic')\n\nfig = plt.figure()\n\ncolor_plot = plt.imshow(grid_z1.T, extent=(1,100,1,119), origin='lower')\ncbar = fig.colorbar(color_plot, ticks=[0,5,10,15,20,25,30,35,40,45,50,55,60,65])\n\nplt.show()\n\nreturn\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/fc14Z.png\" alt=\"imshow plot\"></p>\n\n<p><strong>Method 2 - pcolor/bisplrep</strong></p>\n\n<p>The interpolation results in some negative values, even though the data in my data_plane array is all positive.</p>\n\n<pre><code>x, y = np.where(np.isfinite(data_plane))\nz = data_plane[x,y]\n\nxnew,ynew = np.mgrid[1:120:200j,1:120:200j]\n\ntck = interpolate.bisplrep(x, y, z, s = None, kx=3, ky=3)\nznew = interpolate.bisplev(xnew[:,0], ynew[0,:], tck)\nplt.figure()\nplt.pcolor(xnew,ynew,znew)\nplt.colorbar()\nplt.title(\"Interpolated D# Surface\")\naxis([1,100, 1,120])\nplt.show()\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/vqBmD.png\" alt=\"pcolor plot\"></p>\n\n<p>I am a python newbie but am trying my best to learn.   I would appreciate any input on the best way to do what I am trying to accomplish.  My gut tells me that using bisplrep is the proper way to do this, but I have so far been unable to fix the problem of getting negative interpolated data.</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13217271,"title":"Python 3 os.system output from system shell?","body":"<p>How do I pass an argument to the system shell in Python and get the output back as an array or string?</p>\n"},{"tags":["python","math"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":13185124,"title":"Taylor polynomial calculation","body":"<p>I am currently doing a python exercise for my University studies. I am very stuck at this task:</p>\n\n<p>The taylor polynomial of degree N for the exponential function e^x is given by:</p>\n\n<pre><code>        N\np(x) = Sigma  x^k/k!  \nk = 0\n</code></pre>\n\n<p>Make a program that (i) imports class Polynomial (found under), (ii) reads x and a series of N values from the command line, (iii) creates a Polynomial instance representing the Taylor polynomial, and (iv) prints the values of p(x) for the given N values as well as the exact value e^x. Try the program out with x = 0.5, 3, 10 and N = 2, 5, 10, 15, 25.</p>\n\n<p><strong>Polynomial.py</strong></p>\n\n<pre><code>import numpy\n\nclass Polynomial:\ndef __init__(self, coefficients):\n    self.coeff = coefficients\n\ndef __call__(self, x):\n    \"\"\"Evaluate the polynomial.\"\"\"\n    s = 0\n    for i in range(len(self.coeff)):\n        s += self.coeff[i]*x**i\n    return s\n\ndef __add__(self, other):\n    # Start with the longest list and add in the other\n    if len(self.coeff) &gt; len(other.coeff):\n        result_coeff = self.coeff[:]  # copy!\n        for i in range(len(other.coeff)):\n            result_coeff[i] += other.coeff[i]\n    else:\n        result_coeff = other.coeff[:] # copy!\n        for i in range(len(self.coeff)):\n            result_coeff[i] += self.coeff[i]\n    return Polynomial(result_coeff)\n\ndef __mul__(self, other):\n    c = self.coeff\n    d = other.coeff\n    M = len(c) - 1\n    N = len(d) - 1\n    result_coeff = numpy.zeros(M+N+1)\n    for i in range(0, M+1):\n        for j in range(0, N+1):\n            result_coeff[i+j] += c[i]*d[j]\n    return Polynomial(result_coeff)\n\ndef differentiate(self):\n    \"\"\"Differentiate this polynomial in-place.\"\"\"\n    for i in range(1, len(self.coeff)):\n        self.coeff[i-1] = i*self.coeff[i]\n    del self.coeff[-1]\n\ndef derivative(self):\n    \"\"\"Copy this polynomial and return its derivative.\"\"\"\n    dpdx = Polynomial(self.coeff[:])  # make a copy\n    dpdx.differentiate()\n    return dpdx\n\ndef __str__(self):\n    s = ''\n    for i in range(0, len(self.coeff)):\n        if self.coeff[i] != 0:\n            s += ' + %g*x^%d' % (self.coeff[i], i)\n    # Fix layout\n    s = s.replace('+ -', '- ')\n    s = s.replace('x^0', '1')\n    s = s.replace(' 1*', ' ')\n    s = s.replace('x^1 ', 'x ')\n    #s = s.replace('x^1', 'x') # will replace x^100 by x^00\n    if s[0:3] == ' + ':  # remove initial +\n        s = s[3:]\n    if s[0:3] == ' - ':  # fix spaces for initial -\n        s = '-' + s[3:]\n    return s\n\ndef simplestr(self):\n    s = ''\n    for i in range(0, len(self.coeff)):\n        s += ' + %g*x^%d' % (self.coeff[i], i)\n    return s\n\n\ndef _test():\n    p1 = Polynomial([1, -1])\n    p2 = Polynomial([0, 1, 0, 0, -6, -1])\n    p3 = p1 + p2\nprint p1, '  +  ', p2, '  =  ', p3\np4 = p1*p2\nprint p1, '  *  ', p2, '  =  ', p4\nprint 'p2(3) =', p2(3)\np5 = p2.derivative()\nprint 'd/dx', p2, '  =  ', p5\nprint 'd/dx', p2,\np2.differentiate()\nprint '  =  ', p5\np4 = p2.derivative()\nprint 'd/dx', p2, '  =  ', p4\n\nif __name__ == '__main__':\n_test()\n</code></pre>\n\n<p>Now I'm really stuck at this, and I would love to get an explaination! I am supposed to write my code in a separate file. I'm thinking about making an instance of the Polynomial class, and sending in the list in argv[2:], but that doesn't seem to be working. Do I have to make a def to calculate the taylor polynomial for the different values of N before sending it in to the Polynomial class? </p>\n\n<p>Any help is great, thanks in advance :)</p>\n"},{"tags":["python","numpy","matplotlib","scipy"],"answer_count":2,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":164,"score":3,"question_id":13128647,"title":"Matplotlib - Finance volume overlay","body":"<p>I'm making a candlestick chart with two data sets: [open, high, low, close] and volume. I'm trying to overlay the volumes at the bottom of the chart like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8rtCE.png\" alt=\"finviz.com\"></p>\n\n<p>I'm calling <a href=\"http://doc.astro-wise.org/matplotlib.finance.html#-volume_overlay3\" rel=\"nofollow\">volume_overlay3</a> but instead of bars it fills the whole plot area. What am I doing wrong?</p>\n\n<p><img src=\"http://i.stack.imgur.com/dFyUo.png\" alt=\"volume_overlay3\"></p>\n\n<p>My other option is to use .bar(), which doesn't have the up and down colors but would work if I could get the scale right:</p>\n\n<p><img src=\"http://i.stack.imgur.com/x0EOa.png\" alt=\"enter image description here\"></p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(1,1,1)\n\ncandlestick(ax, candlesticks)\n\nax2 = ax.twinx()\n\nvolume_overlay3(ax2, quotes)\n\nax2.xaxis_date()\n\nax2.set_xlim(candlesticks[0][0], candlesticks[-1][0])\n\nax.yaxis.set_label_position(\"right\")\nax.yaxis.tick_right()\n\nax2.yaxis.set_label_position(\"left\")\nax2.yaxis.tick_left()\n</code></pre>\n"},{"tags":["python","argparse"],"answer_count":5,"favorite_count":3,"up_vote_count":6,"down_vote_count":1,"view_count":103,"score":5,"question_id":13200160,"title":"Python argparse: separate options for positional arguments","body":"<p>i write a script that takes one or more input files. I want to be able to specify  options for the script (A and B) and for each of the input files separately (C and D).</p>\n\n<p>Usage should look like: </p>\n\n<pre><code>script.py [-A] [-B]  [-C] [-D] file1 [[-C] [-D] file2] ...\n</code></pre>\n\n<p>How can it be done with <code>argparse</code>?</p>\n\n<p>Thank you!</p>\n"},{"tags":["python","api","unit-testing","rest","wrapper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13216555,"title":"Unit testing an API wrapper","body":"<p>I'm writing a Python wrapper for an authenticated RESTful API. I'm writing up my test suite right now (Also first time test-writer here) but have a few questions:</p>\n\n<p>1.a) How can I make a call, but not have to hardcode credentials into the tests since I'll be throwing it on Github?</p>\n\n<p>1.b) I kind of know about mocking, but have no idea how to go about it. Would this allow me to not have to call the actual service? What would be the best way to go about this?</p>\n\n<p>2) What do I test for - Just ensure that my methods are passing certains items in the dictionary?</p>\n\n<p>3) Any best practices I should be following here?</p>\n"},{"tags":["python","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13217825,"title":"How to get Tkinter entry?","body":"<p>In this case, how would I go about implementing \"OnButtonClick\" so that when the button is pressed the user input of \"e1\" is printed?</p>\n\n<pre><code>from Tkinter import *\n\nclass App:    \n    def __init__(self, master):\n        e1 = Entry(master)\n        e1.grid(row=1, column=0, sticky=N)\n        Button(master, text=\"Start\", command=self.OnButtonClick).grid(row=4, column=0)\n\n    def OnButtonClick(self):\n\n\n\nif __name__ == \"__main__\":\n    root = Tk()\n    app = App(root)\n    root.mainloop()\n</code></pre>\n"},{"tags":["python","runtime-error"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13216600,"title":"Why does my Python program issue a runtime error- NZEC( Non-zero exit code)?","body":"<p>This is a CodeChef problem for the November challenge. I donot intend to cheat. My program works well for the test input provided. But the server generates a runtime NZEC error.\nCan you help me identify my mistake?</p>\n\n<pre><code>T= raw_input()\nfor i in xrange(int(T)):\n    G= raw_input()\n    for j in xrange(int(G)):\n        I, N, Q = raw_input().split()\n        I= int(I)\n        N= int(N)\n        Q= int(Q)\n        a= [I]*N\n        print a\n        count=0\n        for k in xrange(N):\n            if((N-k) % 2 != 0):\n                if a[k]==1:\n                    a[k]=2\n                else: a[k]=1\n        print a\n        for k in xrange(N):\n            if( a[k] == Q):\n                count= count+1\n        print count\n</code></pre>\n\n<p>Thank you very much.</p>\n"},{"tags":["python","class","design-patterns","import"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13217489,"title":"Python manage classes in separate files","body":"<p>I have a project which uses the MVC pattern. </p>\n\n<p>In folder \"models\" I have quite many classes, each class is now has its own file. But I feel like it's not convenient, because every time I need to use a class I have to import it separately. E.g. I have many of the followings in my app source:</p>\n\n<pre><code>from models.classX import classX\nfrom models.classY import classY\n</code></pre>\n\n<p>If I want to import everything at once, something like <code>from models import *</code> I found that I can put all sorts of <code>import</code> in <code>models/__init__.py</code>. But is it the pythonic way to do it ? What is the convention ? </p>\n"},{"tags":["python","flask","wtforms"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13217827,"title":"Python Flask make a WTForm available to all templates","body":"<p>I have a login form that should appear in all templates, so It's not convenient to pass it as parameter in every render_template(). I tried to put it in a environment globals like this:</p>\n\n<pre><code>app = Flask(__name__)\napp.jinja_env.globals['loginform'] = LoginForm()\n</code></pre>\n\n<p>But it throws exception: <code>raise RuntimeError('working outside of application context')</code> </p>\n\n<p>How to do this correctly in Flask ?</p>\n"},{"tags":["python","random","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13217016,"title":"Python 3 os.urandom","body":"<p>where can i find a complete tutorial or doc on os.urandom? i need to get get a random int to choose a char from a string of 80 char</p>\n\n<p>im runing Ubuntu 12.04\non an aser aspire 5920</p>\n"},{"tags":["python","class","dictionary"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":94,"score":-3,"question_id":13201479,"title":"Use a dictionary to hold polynomial coefficients; add","body":"<p>I need a help with this code. When I run it in the terminal, I get:</p>\n\n<pre><code>&lt;__main__.Polynomial instance at 0x2b6ae51c80e0&gt;\n&lt;__main__.Polynomial instance at 0x2b6ae51c84d0&gt;\nTraceback (most recent call last):\n  File \"Polynomial_dict1.py\", line 36, in &lt;module&gt;\n    print p+p2\n  File \"Polynomial_dict1.py\", line 22, in __add__\n    result_d[key] = other.d[:]\nTypeError: unhashable type\n</code></pre>\n\n<p>I do not know what is wrong. \nHere is the code:</p>\n\n<pre><code>from Polynomial import*\nclass Polynomial:\n    def __init__(self, dictionary):\n        self.d = dictionary\n\n\n    def __call__(self, x):\n        s = 0\n\n        for key in d.keys:\n            s += self.d[key]*x**key\n        return s\n\n    def __add__(self, other):\n        if len(self.d)&gt;len(other.d):\n            result_d = self.d[:]        # copy\n            for key in d.keys:\n                result_d[key] += other.get(key,0)\n        else:\n            result_d = other.d[:]\n            for key in d.keys:\n                result_d[key] += self.d.get[key,0]\n        return Polynomial(result_d)     \n\n\np = Polynomial({1:1,100:-3})\np2 = Polynomial({1:-1,20:1,100:4})\n\nprint p \nprint p2\nprint p+p2\n</code></pre>\n"},{"tags":["python","windows","streaming","gstreamer","gst"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":274,"score":0,"question_id":3659382,"title":"Is it possible to stream a windows (7 / vista / xp) webcams via Gstreamer","body":"<p>I very new to the world of gstreamer. I was wondering, if it's possible to stream windows webcam via gstreamer? The only package i have seen so far is for linux. v4l2 (video for linux).\nIs there also a package for windows webcams? what is the correct python syntax?</p>\n\n<p>DJ</p>\n"},{"tags":["python","regex"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13206262,"title":"Get the common prefix substring through Regex","body":"<p>like this </p>\n\n<pre><code>text = \"  \\t  hello there\\n  \\t  how are you?\\n  \\t HHHH\"\n      hello there\n      how are you?\n     HHHH\n</code></pre>\n\n<p>Could I get the common prefix substring through regex?</p>\n\n<p>I try to </p>\n\n<pre><code>In [36]: re.findall(r\"(?m)(?:(^[ \\t]+).+[\\n\\r]+\\1)\", \"  \\t  hello there\\n  \\t  how are you?\\n  \\t HHHH\")\nOut[36]: ['  \\t  ']\n</code></pre>\n\n<p>But apparently that common prefix substring is '  \\t '<br>\nI want use for <code>dedent</code> function like python textwrap module.</p>\n"},{"tags":["python","ipython-notebook"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13119791,"title":"Can the ipython notebook YouTubeVideo class play from time offset","body":"<p>If I am embedding a youtube video clip into an iPython notebook:</p>\n\n<pre><code>from IPython.display import YouTubeVideo\nYouTubeVideo(\"Pi9NpxAvYSs\")\n</code></pre>\n\n<p>Is there a way I can embed this such that it would play from a specific time? So 1:47:03 - 1 hour, 47 minutes and 3 seconds?</p>\n"},{"tags":["python","timer"],"answer_count":4,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":6087,"score":8,"question_id":474528,"title":"What is the best way to repeatedly execute a function every x seconds in Python?","body":"<p>I want to repeatedly execute a function in Python every 60 seconds forever (just like an <a href=\"http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html\">NSTimer</a> in Objective C). This code will run as a daemon and is effectively like calling the python script every minute using a cron, but without requiring that to be set up by the user.</p>\n\n<p>In <a href=\"http://stackoverflow.com/questions/373335/suggestions-for-a-cron-like-scheduler-in-python\">this question about a cron implemented in Python</a>, the solution appears to effectively just <a href=\"http://docs.python.org/library/time.html#time.sleep\">sleep()</a> for x seconds. I don't need such advanced functionality so perhaps something like this would work</p>\n\n<pre><code>while True:\n    # Code executed here\n    time.sleep(60)\n</code></pre>\n\n<p>Are there any foreseeable problems with this code?</p>\n"},{"tags":["python","google-app-engine","openid","federated-identity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13210882,"title":"GAE/P: Does federated login always include user's email address?","body":"<p>I would like to migrate my app from google account login to federated login.  My app requires a user's email address to function properly.</p>\n\n<p>If a user uses a major identity provider (Google, Facebook, Yahoo, etc.), is it possible that a user could login but not allow my app to access his or her email address?</p>\n\n<p>I could ask the user to provide an email address, but I would need to send an email to that address to confirm, have the user click on a link, etc.  I would rather avoid that procedure.</p>\n"},{"tags":["c++","python","pyqt","qml","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13217656,"title":"How to use QDeclarativeExtensionPlugin from PyQt?","body":"<p>I am porting an application from PySide to PyQt which is written to use QML. In PySide there is a functionality called qmlRegisterType to use Qwidgets inside QML GUI. After lot of searching i found out something similar to that in PyQt using QDeclarativeExtensionPlugin (which is inside PyQt4.QtDeclarative module ). There are examples written in C++ to register Qwidgets into QML using this. But there is none written using Python, any idea how to implement this in Python using QtDeclarative.QDeclarativeExtensionPlugin ? Please help, I am really stuck with this.</p>\n"},{"tags":["python","resize","transparency","pil","scale"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":79,"score":5,"question_id":13027169,"title":"Scale images with PIL preserving transparency and color?","body":"<p>Say you want to scale a transparent image but do not yet know the color(s) of the background you will composite it onto later. Unfortunately PIL seems to incorporate the color values of fully transparent pixels leading to bad results. Is there a way to tell PIL-resize to ignore fully transparent pixels?</p>\n\n<pre><code>import PIL.Image\n\nfilename = \"trans.png\"  # http://qrc-designer.com/stuff/trans.png\nsize = (25,25)\n\nim = PIL.Image.open(filename)\nprint im.mode  # RGBA\n\nim = im.resize(size, PIL.Image.LINEAR)  # the same with CUBIC, ANTIALIAS, transform\n# im.show()  # does not use alpha\nim.save(\"resizelinear_\"+filename)\n\n\n# PIL scaled image has dark border\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/i4BpL.png\" alt=\"original image with (0,0,0,0) black but fully transparent background\">\n<img src=\"http://i.stack.imgur.com/ZETHA.png\" alt=\"output image with black halo\">\n<img src=\"http://i.stack.imgur.com/xvoOO.png\" alt=\"proper output scaled with gimp\"></p>\n\n<p>original image with (0,0,0,0) (black but fully transparent) background (left)</p>\n\n<p>output image with black halo (middle)</p>\n\n<p>proper output scaled with gimp (right)</p>\n\n<p>edit: It looks like to achieve what I am looking for I would have to modify the sampling of the resize function itself such that it would ignore pixels with full transparency. </p>\n\n<p>edit2: I have found a very ugly solution. It sets the color values of fully transparent pixels to the average of the surrounding non fully transparent pixels to minimize impact of fully transparent pixel colors while resizing. It is slow in the simple form but I will post it if there is no other solution. Might be possible to make it faster by using a dilate operation to only process the necessary pixels.</p>\n\n<p>edit3: premultiplied alpha is the way to go - see Mark's answer</p>\n"},{"tags":["python","sql","database","ms-access","firebird"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":68,"score":-1,"question_id":13216539,"title":"Error in INSERT query : Table unknown","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13210956/programmingerror-42s02-42s02-microsoft\">ProgrammingError: ‘42S02’, &#39;[42S02] [Microsoft]</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote the program which on a descriptor (to a database, containing structure of a database Northwind - in the separate tables, containing the list of tables, indexes, restrictions, domains) databases Northwind builds it in Firebird. Then I am connected to the database Northwind (Access) and I want to copy by means of inquiry sql contents of tables of a database Northwind (Access) in tables of the created identical Firebird database.</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\ncon = sqlite3.connect('borey.db')\nsampling_tables=con.cursor()\nsampling_fields=con.cursor()\nsampling_constraints=con.cursor()\nsampling_constraints_fields=con.cursor()\nsampling_indices=con.cursor()\nsampling_indices_fields=con.cursor()\nsampling_indices_props=con.cursor()\nsampling_fields_from_constraints=con.cursor()\njs=[]\n\nsampling_tables.execute(sql.sqltables)\n\nfor table in sampling_tables:\n    tabledict=dict(inform_about_table='?', fields='?', constraints='?', indices='?')\n    information_about_table_dict=dict(name=table[1], description=table[2], can_add=table[3], can_edit=table[4], can_delete=table[5])\n    #print(js_information_about_table)\n    tabledict['inform_about_table']=information_about_table_dict\n    #print(tabledict)\n    table_id=table[0]\n    sampling_fields.execute(sql.sqlfields,(table_id,))\n    listfields=[]\n    for field in sampling_fields:\n        fielddict=dict(position=field[0], name=field[1], description=field[2], datatype=field[3], char_length=field[4], can_input=field[5], can_edit=field[6], show_in_grid=field[7],\n                      is_mean=field[8], autocalculated=field[9], required=field[10])\n        listfields.append(fielddict)\n    tabledict['fields']=listfields\n    #print(tabledict)\n    sampling_constraints.execute(sql.sqlconstraints,(table_id,))\n    listconstraints=[]\n    for constraint in sampling_constraints:\n        constraintdict=dict(name=constraint[1], constrtype=constraint[2], items='?', reference=constraint[3])\n        sampling_constraints_fields.execute(sql.sql_constr_det,(constraint[0],table_id))\n        listitems=[]\n        for constr_det in sampling_constraints_fields:\n            listitems.append(constr_det[0])\n        constraintdict['items']=listitems\n        listconstraints.append(constraintdict)\n    tabledict['constraints']=listconstraints\n    #print(tabledict)\n    sampling_indices.execute(sql.sqlindices,(table_id,))\n    listindices=[]\n    for index in sampling_indices:\n        indexdict=dict(name=index[1], items='?', position='?', props='?')\n        index_id=index[0]\n        sampling_indices_fields.execute(sql.sql_indices_fields,(table_id,index_id))\n        #sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id, ))\n        listfields=[]\n        listpositions=[]\n        listprops=[]\n        for index_det in sampling_indices_fields:\n            listfields.append(index_det[0])\n            listpositions.append(index_det[1])\n            fieldinindex=index_det[0]\n        sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id,fieldinindex))            \n        for index_desc in sampling_indices_props:\n            listprops.append(index_desc[0])\n        indexdict['items']=listfields\n        indexdict['position']=listpositions\n        indexdict['props']=listprops\n        listindices.append(indexdict)\n    tabledict['indices']=listindices\n    #print(tabledict)\n    js.append(tabledict)\nos.remove('D:/boreas.fdb')\nconn=firebirdsql.create_database(host='localhost', database='D:/boreas.fdb', user='sysdba', password='masterkey')\n#conn=firebirdsql.connect(host='localhost',database='D:/ThirdTask/test.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\nfor nametable in js:\n    s=''\n    s+='create table '+nametable['inform_about_table']['name']+'\\n'\n    s+='('+'\\n'\n    countfield=0\n    for namefield in nametable['fields']:\n        s+='   '\n        if namefield['name']=='COUNT':\n            s+='QUANTITY'\n        else:\n            if namefield['name']=='MINIMUM QUANTITY FOR ORDER REPETITION':\n                s+='MINIMUM_QUANTITY'\n            else:\n                if namefield['name']=='PRICE ACCORDING TO THE PRICE-LIST':\n                    s+='LIST_PRICE'\n                else:\n                    if (namefield['name'].count(' ')!=0) or (namefield['name'].count('-')!=0) or (namefield['name'].count('/')!=0):\n                        s+='\"'+namefield['name']+'\"'\n                    else:                    \n                        s+=namefield['name']\n        if namefield['datatype']=='FMTBCD':\n            s+='   '+' INTEGER NOT NULL'\n        else:\n            if namefield['datatype']=='STRING': \n                s+='   '+'VARCHAR'\n            else:\n                if namefield['datatype']=='MEMO':\n                    s+='   '+'BLOB SUB_TYPE 1'\n                else:            \n                    if namefield['datatype']=='LARGEINT':\n                        s+='   '+'INTEGER'\n                    else:\n                        if namefield['datatype']=='SMALLINT':\n                            s+='   '+'INTEGER'\n                        else:\n                            if namefield['datatype']=='CURRENCY':\n                                s+='   '+'NUMERIC(18,2)'\n                            else:\n                                if namefield['datatype']=='BOOLEAN':\n                                    s+='   '+'INTEGER'\n                                else:    \n                                    s+='   '+namefield['datatype']           \n        if namefield['datatype']=='STRING':\n            s+='('+str(namefield['char_length'])+')'\n        countfield+=1\n        #if countfield!=len(nametable['fields']):\n        s+=','+'\\n'\n        #else:\n            #s+='\\n'\n            #s+='\\n'\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='PRIMARY':\n            s+='   CONSTRAINT '+nameconstraint['name']+ ' PRIMARY KEY('\n            countfieldinconstr=0\n            for namefield in nameconstraint['items']:\n                countfieldinconstr+=1\n                if countfieldinconstr!=len(nameconstraint['items']):\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+','\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+','\n                            else:    \n                                s+=namefield+','\n                else:\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+')'+'\\n'\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+')'+'\\n'\n                            else:       \n                                s+=namefield+')'+'\\n'\n    s+=');'+'\\n'\n    print s\n    cur.execute(s)\n    #conn.commit()\n    #conn.begin()\n    for nameindex in nametable['indices']:\n        #print 'nameidex[props] ', nameindex['props']\n        s=''\n        for prop in nameindex['props']:\n            if prop==0:\n                if (nameindex['name'].count(' ')!=0) or (nameindex['name'].count('-')!=0) or (nameindex['name'].count('/')!=0):\n                    s+='create ascending index \"'+nameindex['name'] + '\" on '+nametable['inform_about_table']['name']+' ('\n                else:\n                    if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_INVENTORY_ID':\n                        s+='create ascending index ' + 'IDX_INVENTORY_ID' + ' on '+nametable['inform_about_table']['name']+' ('\n                    else:\n                        if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_ORDERDETAILS':\n                            s+='create ascending index ' + 'IDX_ORDERDETAILS' + ' on '+nametable['inform_about_table']['name']+' ('\n                        else:    \n                            if nameindex['name'].count('INFORMATION_ABOUT_ORDER_')!=0:\n                                s+='create ascending index ' + nameindex['name'][1:4]+nameindex['name'][-len(nameindex['name'])+28:] + ' on '+nametable['inform_about_table']['name']+' ('\n                            else:\n                                s+='create ascending index '+nameindex['name'] + ' on '+nametable['inform_about_table']['name']+' ('\n            countitem=0\n            for nameitem in nameindex['items']:\n                if countitem!=len(nameindex['items'])-1:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+', '\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+', '\n                            else:  \n                                s+=nameitem+', '\n                else:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+');'+'\\n'\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+');'+'\\n'\n                            else:  \n                                s+=nameitem+');'+'\\n'\n                countitem+=1\n        print s\n        cur.execute(s)\n        #conn.commit()\nfor nametable in js:\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='FOREIGN':\n            s=''\n            s+='ALTER TABLE '+nametable['inform_about_table']['name']+'\\n'\n            s+='  '+'ADD CONSTRAINT '+nameconstraint['name']+' FOREIGN KEY ('  \n            for namefield in nameconstraint['items']:\n                if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                    s+='\"'+namefield+'\")'+'\\n'\n                else:\n                    s+=namefield+')'+'\\n'\n            s+='      '+'REFERENCES '+nameconstraint['reference']\n            sampling_fields_from_constraints.execute(sql.sql_fields, (nameconstraint['reference'],))\n            for fields in sampling_fields_from_constraints:\n                field=fields[0]\n                if (field.count(' ')!=0) or (field.count('-')!=0) or (field.count('/')!=0):\n                    s+=' (\"'+field+'\");'+'\\n'\n                else:\n                    s+=' ('+field+');'+'\\n'\n            print s\n            cur.execute(s)\n            #conn.commit()            \n#conn.commit()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID   INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"    VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB\n);\n\"\"\"\ns1='create ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);'\n\"\"\"db = 'D:/ThirdTask/Northwind.accdb' \nconnaccess = win32com.client.Dispatch(r'ADODB.Connection')\nDSN = ('PROVIDER = Microsoft.Jet.OLEDB.4.0;DATA SOURCE = ' + db +  ';') \nconnaccess.Open(DSN) \nrs = win32com.client.Dispatch(r'ADODB.Recordset') \nstrsql = \"select * from deer\" \nrs.Open(strsql, conn, 1, 3) \nt = rs.GetRows() \nconnaccess.Close() \n\"\"\"\nconAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\ThirdTask\\Northwind.accdb')\nSqlAccess=conAcc.cursor();\nSqlAccess.execute(sql.sql_count_records_clients);\nCountOfRecords=SqlAccess.fetchone()[0];\nprint CountOfRecords\nid=0\nwhile id&lt;CountOfRecords:\n    id+=1\n    SqlAccess.execute(sql.sql_allfields_clients, (id,))\n    clientdict=dict(ident=id, organization=SqlAccess.fetchone()[1]);\n    print clientdict\n    s='INSERT INTO CLIENTS (ID, COMPANY) VALUES'\n    s+='('+str(clientdict['ident'])+', ' +'\\''+clientdict['organization']+'\\''+')';\n    print s\n    cur.execute(s)\nconn.commit()    \n#print s\n#cur.execute(s)\n#conn.commit()\n#cur.execute(s1)\n#conn.commit()\n#cur=con.cursor()\ncon.close()\nconn.close()\nconAcc.close();\n#print \"Connect succesfully\"\n</code></pre>\n\n<p>When the debugging I display text sql queries, which included (all output not cite)</p>\n\n<pre><code>create table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\ncreate ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);\n\ncreate ascending index IDX_CLIENTS_COMPANY on CLIENTS (COMPANY);\n\ncreate ascending index IDX_CLIENTS_FIRST_NAME on CLIENTS (\"FIRST NAME\");\n\ncreate ascending index IDX_CLIENTS_LAST_NAME on CLIENTS (\"LAST NAME\");\n\ncreate ascending index IDX_CLIENTS_POSTAL_CODE on CLIENTS (\"ZIP/POSTAL CODE\");\n\ncreate ascending index IDX_CLIENTS_PRIMARYKEY on CLIENTS (ID);\n\ncreate ascending index \"IDX_CLIENTS_STATE/PROVINCE\" on CLIENTS (\"STATE/PROVINCE\");\n29\n{'organization': u'\\u041e\\u0440\\u0433\\u0430\\u043d\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f \\u0410', 'ident': 1}\nINSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Организация А')\n\nTraceback (most recent call last):\n  File \"D:\\ThirdTask\\connect.py\", line 263, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 457, in _execute\n    (h, oid, buf) = self.transaction.connection._op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 764, in _op_response\n    return self._parse_op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 308, in _parse_op_response\n    raise OperationalError(message, gds_codes, sql_code)\nOperationalError: Dynamic SQL Error\nSQL error code = -204\nTable unknown\nCLIENTS\nAt line 1, column 13\n</code></pre>\n\n<p>Specifically brought to the printing paste formed request</p>\n\n<pre><code>INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Организация А')\n</code></pre>\n\n<p>and when it is running an error (see above). How to fix?</p>\n"},{"tags":["python","image","opencv"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13212129,"title":"Problems extracting contourArea opencv (Python)","body":"<p>I am trying to obtain the biggest area in a image with OpenCV and Python, here the code:</p>\n\n<pre><code>#Loading image:\nfuente=cv.LoadImage('train/fruit1.jpg')\n\n#Converting to grayscale...\n#Converting to binary...\n#Apply canny method...\n#Dilating borders...\n\n#Trying obtain contours:\nstorage = cv.CreateMemStorage(0)\ncontours = cv.FindContours(bordes, storage, cv.CV_RETR_EXTERNAL, cv.CV_CHAIN_APPROX_SIMPLE,(0,0))\n\n#Drawing Contours...\ncontornoimg=cv.CreateImage(cv.GetSize(fuente),fuente.depth,1)\ncv.DrawContours(contornoimg,contours,cv.Scalar(255),cv.Scalar(0),2,1,8,(0,0));\ncv.SaveImage(\"train/contornos.png\",contornoimg);\n</code></pre>\n\n<p>If now I open the imagen \"contornos.png\", I can see differents contours, not only one, like I want the biggest contour, I have to calculate the contour with biggest area</p>\n\n<pre><code>max_area = -1\nbest_cnt = None\n\nfor cnt in contours:\n    area = cv.ContourArea(cnt,slice=cv.CV_WHOLE_SEQ)\n    if area &gt; max_area:\n        max_area = area\n        best_cnt = cnt\n</code></pre>\n\n<p>But when I execute the file, obtain this error message:</p>\n\n<pre><code>cv.ContourArea(cnt,cv.CV_WHOLE_SEQ)-&gt;AttributeError: 'module' object has no attribute 'CV_WHOLE_SEQ'\n</code></pre>\n\n<p>Any help? Thank you for all!</p>\n"},{"tags":["python","sockets","smalltalk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13208657,"title":"Making a bridge for communication between python and smalltalk","body":"<p>I am making a project in pharo that will extend it and make it more visual for also further extending the 3d application Blender. Blender uses mainly python for extensions called \"Addons\" , to be precise python 3.2. So what I want is to make a bridge between pharo (smalltalk) and blender (python). </p>\n\n<p>For now I have focused on sockets and XMLRPC but I was wondering if there are tools out there and choices to further help on my saga. </p>\n\n<p>I dont have high demands, for now a simple access to class attributes and call of python methods should be enough, but if I can add additional power to my bridge later it will so much better. Ideally the bridge later one could be used for making pharo use libraries from other language like Java , C# etc</p>\n"},{"tags":["python","scikit-learn"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13217207,"title":"extrem randomized trees classification without boostrap","body":"<p>In scikit learn, the class sklearn.ensemble.ExtraTreesClassifier, has a parameter called \"bootstrap\" that defines if a random sample with replacement should be used or not. The default value is False,that is do not use sampling with replc. \nIf the value is False, I am assuming that the extra tree classifier uses all the training data to build each tree. Therfore there is no support for OOB test. The only way to achieve difference betwen the trees (random trees) is the criteria to split the nodes(max features). Are those statements correct?\nWhy does scikit learn sets the default value as False here? Random sample with replacement should increase the random factor when creating a forest with \"extremly randomized trees\".   </p>\n"},{"tags":["python","design","sanity-check"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13217195,"title":"Design a sanity check","body":"<p>I have a project that is GUI based. I want to distant it into the code itself and the GUI part.</p>\n\n<p>This is my code:\n<code>Main.py</code>:</p>\n\n<pre><code>class NewerVersionWarning(Exception):\n    def __init__(self, newest, current=__version__):\n        self.newest = newest\n        self.current = current\n    def __str__(self):\n        return \"Version v%s is the latest version. You have v%s.\" % (self.newest, self.current)\n\nclass NoResultsException(Exception):\n    pass\n\n# ... and so on\ndef sanity_check():\n    \"Sanity Check for script.\"\n    try:\n        newest_version = WebParser.WebServices.get_newestversion()\n        if newest_version &gt; float(__version__):\n            raise NewerVersionWarning(newest_version)\n    except IOError as e:\n        log.error(\"Could not check for the newest version (%s)\" % str(e))\n\n    if utils.get_free_space(config.temp_dir) &lt; 200*1024**2: # 200 MB\n        drive = os.path.splitdrive(config.temp_dir)[0]\n        raise NoSpaceWarning(drive, utils.get_free_space(config.temp_dir))\n\n# ... and so on\n</code></pre>\n\n<p>Now, at the GUI part, I just call the function within a try-except block:</p>\n\n<pre><code>    try:\n        Main.sanity_check()\n    except NoSpaceWarning, e:\n        s = tr(\"There are less than 200MB available in drive %s (%.2fMB left). Application may not function properly.\") % (e.drive, e.space/1024.0**2)\n        log.warning(s)\n        QtGui.QMessageBox.warning(self, tr(\"Warning\"), s, QtGui.QMessageBox.Ok)\n    except NewerVersionWarning, e:\n        log.warning(\"A new version of iQuality is available (%s).\" % e.newest)\n        QtGui.QMessageBox.information(self, tr(\"Information\"), tr(\"A new version of iQuality is available (%s). Updates includes performance enhancements, bug fixes, new features and fixed parsers.&lt;br /&gt;&lt;br /&gt;You can grab it from the bottom box of the main window, or from the &lt;a href=\\\"%s\\\"&gt;iQuality website&lt;/a&gt;.\") % (e.newest, config.website), QtGui.QMessageBox.Ok)\n</code></pre>\n\n<p>In the current design, the checks stop at the first warning/exception. Of course, an exception should stop the code, but a warning should only show a message to the user and continue afterwards. How can I design it that way?</p>\n"},{"tags":["python","python-3.x","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13217228,"title":"Python pysmb fetching folders correct usage","body":"<p>I have a remote (Windows) server I'd like to connect to, and process some folder.</p>\n\n<p>I tried to use SMBHandler unsuccessfully:</p>\n\n<pre><code>director = urllib2.build_opener(SMBHandler)\nfh = director.open('smb://myuserID:mypassword@192.168.1.1/Publish')\n</code></pre>\n\n<p>It failed with the following error:</p>\n\n<pre><code>URLError: &lt;urlopen error smb error: Failed to retrieve on Publish: Unable to open file\n</code></pre>\n\n<p>I wrote the following code that works perfectly using SMBConnection but I'm sure there's a better way to fetch a folder and query its subfolders and files...</p>\n\n<pre><code>conn = SMBConnection(USERID, PASSWORD, SERVER_NAME, SERVER_NAME, use_ntlm_v2 = True)\nconn.connect(SERVER_IP, 139)\nfilelist = conn.listPath('Publish', '/')\nif filelist[5].isDirectory:\n    print filelist[5].filename\netc...\n</code></pre>\n\n<p>Can you please help me finding the most elegant way to solve my problem?</p>\n\n<p>Thank you very much :)</p>\n\n<p>Nili</p>\n"},{"tags":["python","regex"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13199538,"title":"Python regex to replace leading and trailing quotes","body":"<p>How can I replace leading and trailing arbitrary quote strings separately with arbitrary strings using python regex?</p>\n\n<p><strong>Sample Input String</strong></p>\n\n<pre><code>This is a \"quote\" and here's another \"quote\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>This is a &amp;ldquo;quote&amp;rdquo\" and here's another &amp;ldquo;quote&amp;rdquo;\n</code></pre>\n\n<p><strong>Sample Output Strings</strong></p>\n\n<pre><code>This is a &amp;ldquo;quote&amp;rdquo; and here's another &amp;ldquo;quote&amp;rdquo;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>This is a &lt;span&gt;\"quote\"&lt;/span&gt; and here's another &lt;span&gt;\"quote\"&lt;/span&gt;\n</code></pre>\n"},{"tags":["python","keyword-argument"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":250,"score":0,"question_id":2745703,"title":"Python keyword arguments","body":"<p>I have several layers of function calls, passing around a common dictionary of key word arguments:</p>\n\n<pre><code>def func1(**qwargs):\n    func2(**qwargs)\n    func3(**qwargs)\n</code></pre>\n\n<p>I would like to supply some default arguments in some of the subsequent function calls, something like this:</p>\n\n<pre><code>def func1(**qwargs):\n    func2(arg = qwargs.get(\"arg\", default), **qwargs)\n    func3(**qwargs)\n</code></pre>\n\n<p>The problem with this approach is that if arg is inside qwargs, a TypeError is raised with \"got multiple values for keyword argument\".</p>\n\n<p>I don't want to set qwargs[\"arg\"] to default, because then func3 gets this argument without warrant.  I could make a copy.copy of the qwargs and set \"arg\" in the copy, but qwargs could have large data structures in it and I don't want to copy them (maybe copy.copy wouldn't, only copy.deepcopy?).</p>\n\n<p>What's the pythonic thing to do here?</p>\n"},{"tags":["python","keyword-argument","python-3.3"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":50,"score":5,"question_id":13217056,"title":"Python accepts keyword arguments in CPython functions?","body":"<p>I use python3.3 and just found out that it accepts keyword arguments in <em>some</em> of its CPython functions:</p>\n\n<pre><code>&gt;&gt;&gt; \"I like python!\".split(maxsplit=1)\n['I', 'like python!']\n</code></pre>\n\n<p>But some other functions <strong>don't</strong> accept keyword arguments:</p>\n\n<pre><code>&gt;&gt;&gt; sum([1,2,3,4], start = 10)\nTraceback (most recent call last):\n  File \"&lt;pyshell#58&gt;\", line 1, in &lt;module&gt;\n    sum([1,2,3,4], start = 10)\nTypeError: sum() takes no keyword arguments\n</code></pre>\n\n<p>My question is: what is the difference between those functions? Which functions in CPython accept keyword arguments, which functions don't? And of course - why?</p>\n"},{"tags":["python","file","list"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13215968,"title":"isolating parameters from a file/list","body":"<p>I am trying to write a function that opens a file with a list of names, cities, and numbers, and takes an average of the numbers by city.</p>\n\n<p>I have so far something like:</p>\n\n<pre><code>numbers = 0\ncount = 0\nn = 0\nwhile n &lt; len(file):\n    for item in file:\n        if item.split(' ')[-2] == city:\n            count += 1\n            numbers += float(item.split(' ')[-1])\n            n += 1\n        else:\n            n += 1\n    return numbers / count\n</code></pre>\n\n<p>Where [-2] is the position of the city, [-1] is the position of the number.  Assuming the file is already open.</p>\n\n<p>My code runs through the whole file, and returns only whatever is on the last line.  So if the last line in the file has someone from London, and I'm trying to average for London, it will just give me that one number; if I'm trying to average for some other city, it will return nothing.</p>\n\n<p>Why does it loop through the whole file without updating my counts, and how do I fix it?</p>\n\n<p>Edit:</p>\n\n<p>Edited the code, and the file looks like:</p>\n\n<pre><code>NAME1     COUNTRY     CITY     NUMBER\n</code></pre>\n\n<p>on each line.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13204686,"title":"IbPy: How to extract API response into a variable","body":"<p>I'm looking into if IbPy can be a good way for me to connect to Interactive Brokers trading API. I'm now, as a test, trying to collect some stock price snapshots, to see if I can get IbPy to work for me. I'm using the Brokertron gateway to connect with IB.</p>\n\n<p>I get the requested stock price back from the IB API just fine (from some example code with error handling which I've found, see below), so technically it works towards the IB API, but I can't figure out how to extract the specific field (field=4, price=175.95 below) into a variable for later use.</p>\n\n<p>Any ideas how to get field 4 content into a variable? Thanks!</p>\n\n<p>Python example script:</p>\n\n<pre><code>import ib\nfrom ib.ext.Contract import Contract\nfrom ib.opt import ibConnection, message\nfrom time import sleep\n\nclass Downloader(object):\n    def __init__(self,debug=False):\n        self.tws = ibConnection('localhost', 4001, 0)\n\n        if debug:\n            self.tws.registerAll(self.debugHandler)\n\n        self.tws.connect()\n        self._reqId = 1 # current request id\n\n    def debugHandler(self,msg):\n        print '[debug]', msg\n\n    def requestData(self,contract):\n        self.tws.reqMktData(self._reqId,c,'',1)\n        self._reqId+=1\n        return \"???\"\n\nif __name__=='__main__':\n    dl = Downloader(debug=True)\n    c = Contract()\n    c.m_symbol = 'SPY'\n    c.m_secType = 'STK'\n    c.m_exchange = 'SMART'\n    c.m_currency = 'USD'\n    laststockpricefield4 = dl.requestData(c)\n    print laststockpricefield4\n    sleep(3)\n    print 'Done.'\n</code></pre>\n\n<p>Commande line output:</p>\n\n<pre><code>01-Nov-12 22:30:43 DEBUG Server Version: 65\n01-Nov-12 22:30:43 DEBUG TWS Time at connection: 20121101 22:30:43 GMT\n???\n[debug] ManagedAccounts accountsList=DU15144&gt;\n[debug] NextValidId orderId=1&gt;\n[debug] TickString tickerId=1, tickType=45, value=1351808899&gt;\n[debug] TickPrice tickerId=1, field=4, price=175.95, canAutoExecute=0&gt;\n[debug] TickSize tickerId=1, field=5, size=1&gt;\n[debug] TickGeneric tickerId=1, tickType=49, value=0.0&gt;\n[debug] TickPrice tickerId=1, field=1, price=176.03, canAutoExecute=1&gt;\n[debug] TickSize tickerId=1, field=0, size=378&gt;\n[debug] TickPrice tickerId=1, field=2, price=176.05, canAutoExecute=1&gt;\n[debug] TickSize tickerId=1, field=3, size=344\n</code></pre>\n"},{"tags":["python","python-3.x","python-3.3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13215873,"title":"Separate strings from other iterables in python 3","body":"<p>I'm trying to determine whether a function argument is a string, or some other iterable. Specifically, this is used in building URL parameters, in an attempt to emulate PHP's <code>&amp;param[]=val</code> syntax for arrays - so duck typing doesn't really help here, I can iterate through a string and produce things like <code>&amp;param[]=v&amp;param[]=a&amp;param[]=l</code>, but this is clearly not what we want. If the parameter value is a string (or a bytes? I still don't know what the point of a bytes actually is), it should produce <code>&amp;param=val</code>, but if the parameter value is (for example) a list, each element should receive its own <code>&amp;param[]=val</code>. I've seen a lot of explanations about how to do this in 2.* involving <code>isinstance(foo, basestring)</code>, but <code>basestring</code> doesn't exist in 3.*, and I've also read that <code>isinstance(foo, str)</code> will miss more complex strings (I think unicode?). So, what is the best way to do this without causing some types to be lost to unnecessary errors?</p>\n"},{"tags":["python","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13214632,"title":"PyQT4 Asynchronous QTcpServer (How to create event loop)","body":"<p>Trying to convert a server written in C++ into Python. The server was written to be Asynchronous/Non Blocking. What works in C++ doesn't seem to want to work for me in Python</p>\n\n<p>I am using PyQT4. I read Python you have to create the event loop or something along those lines any ideas are greatly appreciated</p>\n\n<p>I should mention what seems to not work is that the <strong>incomingConnection</strong> function in Class Server is never called. </p>\n\n<p>*cheers</p>\n\n<pre><code>import sys\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtNetwork import *\n\n\nclass Client(QObject):\n    def __init__(self, parent=None):\n        QObject.__init__(self)\n        QThreadPool.globalInstance().setMaxThreadCount(15)\n\n    def SetSocket(self, Descriptor):\n        self.socket = QTcpSocket(self)\n        self.connect(self.socket, SIGNAL(\"connected()\"), SLOT(self.connected()))\n        self.connect(self.socket, SIGNAL(\"disconnected()\"), SLOT(self.disconnected()))\n        self.connect(self.socket, SIGNAL(\"readyRead()\"), SLOT(self.readyRead()))\n\n        self.socket.setSocketDescriptor(Descriptor)\n        print \"Client Connected from IP %s\" % self.socket.peerAddress().toString()\n\n    def connected(self):\n        print \"Client Connected Event\"\n\n    def disconnected(self):\n        print \"Client Disconnected\"\n\n    def readyRead(self):\n        msg = self.socket.readAll()\n        print msg\n\n\nclass Server(QObject):\n    def __init__(self, parent=None):\n        QObject.__init__(self)\n\n    def incomingConnection(self, handle):\n        print \"incoming\"\n        self.client = Client(self)\n        self.client.SetSocket(handle)\n\n    def StartServer(self):\n        self.server = QTcpServer()\n        if self.server.listen(QHostAddress(\"0.0.0.0\"), 8888):\n            print \"Server is awake\"    \n        else:\n            print \"Server couldn't wake up\"\n\n\ndef main():\n    app = QCoreApplication(sys.argv)\n    Server().StartServer()\n    sys.exit(app.exec_())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["python","file","python-3.x","attributeerror"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13216907,"title":"python 3 unable to write to file","body":"<p>My code is:</p>\n\n<pre><code>from random import randrange, choice\nfrom string import ascii_lowercase as lc\nfrom sys import maxsize\nfrom time import ctime\n\ntlds = ('com', 'edu', 'net', 'org', 'gov')\n\nfor i in range(randrange(5, 11)):\n    dtint = randrange(maxsize)                      \n    dtstr = ctime()                                  \n    llen = randrange(4, 8)                              \n    login = ''.join(choice(lc)for j in range(llen))\n    dlen = randrange(llen, 13)                          \n    dom = ''.join(choice(lc) for j in range(dlen))\n    print('%s::%s@%s.%s::%d-%d-%d' % (dtstr, login,dom, choice(tlds),\n                                  dtint, llen, dlen), file='redata.txt')\n</code></pre>\n\n<p>I want to print the results in a text file but I get this error:</p>\n\n<pre><code>dtint, llen, dlen), file='redata.txt')\nAttributeError: 'str' object has no attribute 'write'\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13216749,"title":"How to implement Caesar cipher","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1538935/caesars-cipher-using-python-could-use-a-little-help\">Caesar’s Cipher using python, could use a little help</a>  </p>\n</blockquote>\n\n\n\n<p>Alright, so in my class, I'm supposed to write code that shifts a dictionary as a Ceasar cipher. My code shifts everything fine, but returns the keys in a different order than the provided test case.</p>\n\n<p>My code:</p>\n\n<pre><code>sLowerCase = string.ascii_lowercase\nsUpperCase = string.ascii_uppercase\ndCode = {'A':'A', 'B':'B', 'C':'C', 'D':'D', 'E':'E', 'F':'F', 'G':'G', 'H':'H', 'I':'I', 'J':'J', 'K':'K', 'L':'L', 'M':'M', 'N':'N', 'O':'O', 'P':'P', 'Q':'Q', 'R':'R', 'S':'S', 'T':'T', 'U':'U', 'V':'V', 'W':'W', 'X':'X', 'Y':'Y', 'Z':'Z',\n         'a':'a', 'b':'b', 'c':'c', 'd':'d', 'e':'e', 'f':'f', 'g':'g', 'h':'h', 'i':'i', 'j':'j', 'k':'k', 'l':'l', 'm':'m', 'n':'n', 'o':'o', 'p':'p', 'q':'q', 'r':'r', 's':'s', 't':'t', 'u':'u', 'v':'v', 'w':'w', 'x':'x', 'y':'y', 'z':'z'}\n\nfor c in dCode.keys():\n\n    if c in sUpperCase:\n\n        if sUpperCase.index(c) + shift &gt; 25:\n\n            dCode[c] = sUpperCase[(sUpperCase.index(c) + shift) - 26]\n\n        else:\n\n            dCode[c] = sUpperCase[(sUpperCase.index(c) + shift)]\n\n    if c in sLowerCase:\n\n        if sLowerCase.index(c) + shift &gt; 25:\n\n            dCode[c] = sLowerCase[(sLowerCase.index(c) + shift) - 26]\n\n        else:\n\n            dCode[c] = sLowerCase[(sLowerCase.index(c) + shift)]\n\nreturn dCode\n</code></pre>\n\n<p>My output for buildCoder(0) (easiest to read obviously)</p>\n\n<p>{'B': 'B', 'D': 'D', 'F': 'F', 'H': 'H', 'J': 'J', 'L': 'L', 'N': 'N', 'P': 'P', 'R': 'R', 'T': 'T', 'V': 'V', 'X': 'X', 'Z': 'Z', 'b': 'b', 'd': 'd', 'f': 'f', 'h': 'h', 'j': 'j', 'l': 'l', 'n': 'n', 'p': 'p', 'r': 'r', 't': 't', 'v': 'v', 'x': 'x', 'z': 'z', 'A': 'A', 'C': 'C', 'E': 'E', 'G': 'G', 'I': 'I', 'K': 'K', 'M': 'M', 'O': 'O', 'Q': 'Q', 'S': 'S', 'U': 'U', 'W': 'W', 'Y': 'Y', 'a': 'a', 'c': 'c', 'e': 'e', 'g': 'g', 'i': 'i', 'k': 'k', 'm': 'm', 'o': 'o', 'q': 'q', 's': 's', 'u': 'u', 'w': 'w', 'y': 'y'}</p>\n\n<p>Their output:</p>\n\n<p>{'A': 'A', 'C': 'C', 'B': 'B', 'E': 'E', 'D': 'D', 'G': 'G', 'F': 'F', 'I': 'I', 'H': 'H', 'K': 'K', 'J': 'J', 'M': 'M', 'L': 'L', 'O': 'O', 'N': 'N', 'Q': 'Q', 'P': 'P', 'S': 'S', 'R': 'R', 'U': 'U', 'T': 'T', 'W': 'W', 'V': 'V', 'Y': 'Y', 'X': 'X', 'Z': 'Z', 'a': 'a', 'c': 'c', 'b': 'b', 'e': 'e', 'd': 'd', 'g': 'g', 'f': 'f', 'i': 'i', 'h': 'h', 'k': 'k', 'j': 'j', 'm': 'm', 'l': 'l', 'o': 'o', 'n': 'n', 'q': 'q', 'p': 'p', 's': 's', 'r': 'r', 'u': 'u', 't': 't', 'w': 'w', 'v': 'v', 'y': 'y', 'x': 'x', 'z': 'z'}</p>\n\n<p>I've already used python to test and compare and they are indeed dicts comprised of the same keys:values. Any advice would be grand. (This is for an online MIT class. There are normally forums, but they are down while there is an exam available. This is NOT for the exam,</p>\n"},{"tags":["python","gis","geospatial","shapely"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":64,"score":4,"question_id":13144158,"title":"Python, GEOS and Shapely on Windows 64","body":"<p>When trying to install Shapely on my Windows 64bit computer, I cannot get the GEOS library to work. </p>\n\n<p>So far, I have run the OSGeo4W installer from which I installed GDAL (I believe the geos library is included in that package). After that, I checked and I have geos_c.dll on my <code>C:\\OSGeo4W\\bin</code> directory, but either I have missed some configuration steps or the library does not work.</p>\n\n<p>I need Shapely to work, so I also ran <code>pip install shapely</code> after  installing GDAL, and it apparently worked (although it could not find the C library for GEOS). </p>\n\n<p>In my code, I can import Shapely, but when I try to use it, I get an error telling me <code>\"geos.dll\"</code> is not found.</p>\n\n<p>Any help with this will be very appreciated. Thanks!</p>\n"},{"tags":["python","mysql","osx","64bit","32bit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13216198,"title":"How to setup 32 and 64 bit versions of MySQL-Python on the same OSX machine?","body":"<p>I have been assigned to maintain a tool written in Python that interfaces with MySQL. Users use this tool through different applications that uses different versions of Python. </p>\n\n<p>Sometimes the Python version changes between software releases of the same application. We have no control on the application the user chooses to interact with (they all have Python interface and run under OS X though) but I got almost everything to work except for the problems with Python-MySQL. Specifically, some software uses the 64-bit versions of Python. Others come with the 32-bit version. OS X (the OS I need to support) comes with Python and Python-MySQL 32bit installed so if I try to:</p>\n\n<pre><code>import MySQLdb \n</code></pre>\n\n<p>in the software that uses Python 64-bit, the import fails and the application will say that the binary of MySQL that ships with OS X is the wrong type.</p>\n\n<p>I have downloaded, compiled and installed Python-MySQL as 64-bit app, but Python-MySQL uses Python eggs. It seems the egg is hard coded to point to a specific disk location. On my machine is <code>/usr/local/lib/mysql</code>.</p>\n\n<p>If I have the 64-bit version on that path then my tool works with the applications that have Python 64-bit but all the other tools that uses a 32-bit version of Python fails. If I have the 32-bit version of MySQL at that disk location the 32-bit tools work and the 64-bit version stops doing what I need.</p>\n\n<p>I have tried to create distinct eggs and have a 64-bit version of it where I change the egg to point to <code>/usr/local/lib/mysql_x86_64</code> but I can't figure out how to do it. I have also tried to change the setup while compiling Python-MySQL to point to that location but I can’t find a way of doing this.</p>\n\n<p>Right now I'm Googling my life away on the subject but if what I have just wrote rings a bell to anybody do you mind to enlighten me?</p>\n\n<p>I'm not a Python-MySQL expert at all.</p>\n"},{"tags":["python","string","list"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13094918,"title":"Convert list of strings to space-separated string","body":"<p>I am using underscores to represent the length of a unknown word. How can I print just the underscores without the brackets that represent the list?</p>\n\n<p>Basically, if I have a list of the form <code>['_', '_', '_', '_']</code>, I want to print the underscores without printing them in list syntax as <code>\"_ _ _ _\"</code></p>\n"},{"tags":["python","pythonpath","pyscripter"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":6737,"score":4,"question_id":2658779,"title":"How do I make PyScripter work? Says it cant find python26.dll","body":"<p>I installed PyScript to try it out but it just wont start. It only gives me the error:\n\"Error126: Could not open Dll \"python26.dll\" followed by:\n\"Python could not be properly initialized. We must quit.\"</p>\n\n<p>I think this may have something to do with the PYTHONPATH but since I'm a newbie and dont know what it is or exactly what to put in the PYTHONPATH, after some googling, I ask here.</p>\n\n<p>Also, when I tried to install wxPython it was impossible becouse the PYTHONPATH could not be found.(Just a side note)</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13215755,"title":"Reading a tag from XML and printing it","body":"<p>I have the following input XML file,i read the rel_notes tag and print it...running into the following error</p>\n\n<p>Input   XML:</p>\n\n<pre><code>&lt;rel_notes&gt;\n    •   Please move to this build for all further test and development activities \n    •   Please use this as base build to verify compilation and sanity before any check-in happens\n\n&lt;/rel_notes&gt;\n</code></pre>\n\n<p>Sample python code:</p>\n\n<pre><code>file = open('data.xml,'r')\nfrom xml.etree import cElementTree as etree\ntree = etree.parse(file)\nprint('\\n'.join(elem.text for elem in tree.iter('rel_notes')))\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>   print('\\n'.join(elem.text for elem in tree.iter('rel_notes')))\n File \"C:\\python2.7.3\\lib\\encodings\\cp437.py\", line 12, in encode\nreturn codecs.charmap_encode(input,errors,encoding_map)\nUnicodeEncodeError: 'charmap' codec can't encode character u'\\u2022' in position 9: character maps to &lt;undefined&gt;\n</code></pre>\n"},{"tags":["jquery","python","arduino"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13212799,"title":"jQuery live chart updates and data uploaded lively to the server","body":"<p>I have a small Arduino device connected to a PC, and I have a small command line software to read live data over serial from that device.</p>\n\n<p>I need to upload the data directly to the server and show a live graph where it gets updated directly.</p>\n\n<p>To read the data, I'll write a script to run on the server to read the data being uploaded.</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Is there any jQuery plugin to show a chart according to the live data being sent?</li>\n<li>What's the best way of doing this? </li>\n<li>What's the best way of fetching the data being uploaded to the server?</li>\n</ul>\n"},{"tags":["python","osx","matplotlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13216520,"title":"Mac OSX - AttributeError: 'FigureCanvasMac' object has no attribute 'restore_region'","body":"<p>Walking through matplotlib's animation example on my Mac OSX machine - <a href=\"http://matplotlib.org/examples/animation/simple_anim.html\" rel=\"nofollow\">http://matplotlib.org/examples/animation/simple_anim.html</a> - I am getting this error:-</p>\n\n<pre><code>File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/matplotlib/animation.py\", line 248, in _blit_clear\n    a.figure.canvas.restore_region(bg_cache[a])\nAttributeError: 'FigureCanvasMac' object has no attribute 'restore_region'\n</code></pre>\n\n<p>Does anyone who has encountered this before know how to resolve this issue?</p>\n\n<p>Looks like it's a known (and unresolved at this time of writing) issue - <a href=\"https://github.com/matplotlib/matplotlib/issues/531\" rel=\"nofollow\">https://github.com/matplotlib/matplotlib/issues/531</a></p>\n"},{"tags":["python","string","list","loops","manipulation"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":4,"view_count":101,"score":-3,"question_id":13129755,"title":"python loops and string manipulation","body":"<p>The function is called def expand_fmla (original)</p>\n\n<p>The input variable to this function, original, is a string with a specific format: the first two positions in original have the symbols <code>*</code> or <code>+</code>, hence there are 4 possibilities for the first two positions of original: <code>++, **, +*</code> and <code>*+</code>. The subsequent positions have digits, at least 3 of them (0 to 9), possibly including repetition.</p>\n\n<p>This function should return a formula which has the same digits and in the same order as in the original formula, and in between the digits the two operation symbols are alternatingly included.</p>\n\n<p>For example:</p>\n\n<pre><code>expand_fmla('++123') should return '1+2+3'\n\nexpand_fmla('+*1234') should return '1+2*3+4'\n\nexpand_fmla('*+123456') should return '1*2+3*4+5*6'\n</code></pre>\n\n<p>How can I do this, I do not understand???</p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":13216218,"title":"when i run my code they tell me \"int\" objext is not callable on line 4","body":"<pre><code>def fdPt(f, eps):\n    index = 5.0\n    for i in range(57):\n        if f(index) - index &lt; eps:\n            return guess\n        else:\n            index = f(index)\n    return index\n</code></pre>\n\n<p>plse help i've tried all i can, am just a beginner</p>\n"},{"tags":["python","error-handling"],"answer_count":6,"favorite_count":0,"up_vote_count":6,"down_vote_count":1,"view_count":91,"score":5,"question_id":13196913,"title":"I think this should raise an error, but it doesn't","body":"<p>Below is a simple function to remove duplicates in a list while preserving order. I've tried it and it actually works, so the problem here is my understanding. It seems to me that the second time you run <code>uniq.remove(item)</code> for a given item, it will return an error (<code>KeyError</code> or <code>ValueError</code> I think?) because that item has already been removed from the unique set. Is this not the case?  </p>\n\n<pre><code>def unique(seq):\n    uniq = set(seq)  \n    return [item for item in seq if item in uniq and not uniq.remove(item)]\n</code></pre>\n"},{"tags":["python","addition"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13214131,"title":"How to print several items at once","body":"<pre><code>print \"i'm going to calculate minutes for you \\n\"\n\nprint \"enter the amount of minutes for your introduction\"\nintro_minutes = int(raw_input('# '))\n\nprint \"enter the amount of seconds for your introduction\"\nintro_seconds = int(raw_input('# ')) \n\nprint \"your introduction is \"  (intro_seconds + (60 * intro_minutes)) \" seconds long.\"\n</code></pre>\n\n<p>I'm creating this program to time a speech I have to deliver. The error I'm getting is:</p>\n\n<pre><code>File \"speech.py\", line 9\n    print \"your introduction is \" (intro_seconds + (60 * intro_minutes)) \" seconds long.)\n\nSyntaxError: invalid syntax \n</code></pre>\n"},{"tags":["python","pandas"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":13216087,"title":"pandas DataFrame pivoting issue","body":"<p>I've got some radar data that's in a bit of an odd format, and I can't figure out how to correctly pivot it using the pandas library.</p>\n\n<p>My data:</p>\n\n<pre><code>    speed   time\nloc     \nA    63  0000\nB    61  0000\nC    63  0000\nD    65  0000\nA    73  0005\nB    71  0005\nC    73  0005\nD    75  0005\n</code></pre>\n\n<p>I'd like to turn that into a DataFrame that looks like this:</p>\n\n<pre><code>    0000    0005\nloc     \nA    63     73\nB    61     71\nC    63     73\nD    65     75\n</code></pre>\n\n<p>I've done a lot of fiddling around but can't seem to get the syntax correct.  Can anyone please help?</p>\n\n<p>Thanks!</p>\n"}]}
{"total":142322,"page":17,"pagesize":100,"questions":[{"tags":["python","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13215991,"title":"Trouble writing a csv","body":"<p>I'm trying to write a script so that the output will be a .csv of 5 columns: 2 of data, followed by an empty column, and then 2 more columns of data. Here is <a href=\"http://imgur.com/Dw1no\" rel=\"nofollow\">what I get</a> and here is <a href=\"http://imgur.com/m1Qli\" rel=\"nofollow\">what I'd like</a>. For completeness, here is all of my code.</p>\n\n<pre><code>import requests\nimport csv\n\nitem_dictionary = {'10350': 'Third-Age Full', '560':'Death Rune'}\nitem_ids = item_dictionary.keys()\nurl_template = 'http://www.grandexchangecentral.com/include/gecgraphjson.php?jsid=%r'\n\nsites = []\nfor i in range(0, len(item_ids)):\n    result = url_template % item_ids[i]\n    sites.append(result)\n\n\ndef data_grabber(item): \n    url = item\n    r = requests.get(url, headers={'Referer': 'www.grandexchangecentral.com'})\n    data = r.json  \n    prices = [i[1] for i in data]\n    return prices\n\n\ndata = map(data_grabber, sites)\n\nnames = item_dictionary.values()\n\ndef writer(item):\n    q = data.index(item) \n    headers = [names[q], 'Percent Change', None]   \n    a = data[q]\n    percents = [100.0 * a1 / a2 - 100 for a1, a2 in zip(a[1:], a)]\n    percents.insert(0, None)\n    f = zip(data[q], percents)\n    myfile = open('prices.csv', 'wb')\n    wr = csv.writer(myfile)\n    wr.writerow(headers)\n    wr.writerows(f)\n    myfile.close()\n\nz = [writer(x) for x in data]\n</code></pre>\n\n<p>I think that what's happening is that <code>writer(item)</code> writes two columns, and the next iteration of <code>z</code> overwrites those columns. EDIT: I noticed that I have <code>myfile.close()</code> in the function. That would explain it, but I don't know how to fix it.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":205,"score":0,"question_id":13216045,"title":"Why my code results in infinite loop?","body":"<p>I am novice to python. While I was trying to write simple code, I have faced a peculiar problem which I could not understand. Following is the code</p>\n\n<pre><code>def myLog(x, b):\n    temp = b\n    def mylog(x,b):\n        while b &lt;= x :\n            mylog(x,b*temp)\n        return b/temp - 1\n    return mylog(x,b)\nmyLog(16,2)\n</code></pre>\n\n<p>Why does this code result in an infinite loop?</p>\n\n<p><strong>EDIT:</strong>\nI found out the reason why it results in infinite loop. This is the modified code. I forget to use <strong>return</strong> statement inside the inner function definition</p>\n\n<pre><code>    def myLog(x, b):\n        temp = b\n        def mylog(x,b):\n             while b &lt;= x :\n                  return mylog(x,b*temp)\n             return b/temp - 1\n        return mylog(x,b)\n</code></pre>\n\n<p>myLog(16,2)</p>\n"},{"tags":["python","tutorials","cherrypy"],"answer_count":5,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":5250,"score":6,"question_id":180817,"title":"Any good cherrypy tutorials or videos?","body":"<p>I am looking for a good in-depth tutorial to get me going on <a href=\"http://www.cherrypy.org/\" rel=\"nofollow\">CherryPy</a> and haven't been able to find one on Google.  The CherryPy website has a <a href=\"http://www.cherrypy.org/wiki/CherryPyTutorial\" rel=\"nofollow\">tutorial</a>, but it is rather simple and doesn't discuss more than the basic aspects of CherryPy.</p>\n\n<p>I am not interested in the book at this time, as I need to get some progress in the next few days and don't have time to read the book.</p>\n"},{"tags":["python","windows","winapi","file-io","hidden-files"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":81,"score":6,"question_id":13215716,"title":"IOError: [Errno 13] Permission denied when trying to open hidden file in \"w\" mode","body":"<p>I want to replace the contents of a hidden file, so I attempted to open it in <code>w</code> mode so it would be erased/truncated:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; ini_path = '.picasa.ini'\n&gt;&gt;&gt; os.path.exists(ini_path)\nTrue\n&gt;&gt;&gt; os.access(ini_path, os.W_OK)\nTrue\n&gt;&gt;&gt; ini_handle = open(ini_path, 'w')\n</code></pre>\n\n<p>But this resulted in a traceback:</p>\n\n<pre><code>IOError: [Errno 13] Permission denied: '.picasa.ini'\n</code></pre>\n\n<p>However, I was able to achieve the intended result with <code>r+</code> mode:</p>\n\n<pre><code>&gt;&gt;&gt; ini_handle = open(ini_path, 'r+')\n&gt;&gt;&gt; ini_handle.truncate()\n&gt;&gt;&gt; ini_handle.write(ini_new)\n&gt;&gt;&gt; ini_handle.close()\n</code></pre>\n\n<p><strong>Q.</strong> What is the difference between the <code>w</code> and <code>r+</code> modes, such that one has \"permission denied\" but the other works fine?</p>\n\n<p><strong>UPDATE:</strong> I am on win7 x64 using Python 2.6.6, and the target file has its hidden attribute set. When I tried turning off the hidden attribute, <code>w</code> mode succeeds. But when I turn it back on, it fails again.</p>\n\n<p><strong>Q.</strong> Why does <code>w</code> mode fail on hidden files? Is this known behaviour?</p>\n"},{"tags":["python","database","url","links","extract"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13216254,"title":"Extract links (URLs) from database -","body":"<p>I need to extract all links (URLs) from a database.  Either, using a SQL statement or Python, how can I extract just links from a table? </p>\n\n<p>Sometimes there is no links, sometime 1 and sometime more than 1. </p>\n\n<p>To give an example:</p>\n\n<p>Database name (dbase)\nTables:\nid ( int) \ncol1 ( has text including URLs)\ncol2 ( has text including URLs)\ncol3 ( has text including URLs)\ncol4 ( has text including URLs)</p>\n\n<p>col1, col2, col3 and col4 contain texts and URLs. (imagen an email contain URLs)</p>\n\n<p>I want to create a new coloum name for example name (URL_found) to have all the URLs found in the col1, col2, col3 and col4.</p>\n\n<p>example </p>\n\n<p>in col1 has \nHello, Hi this is a test <a href=\"http://www.example.com/somewhereelse/some/where\" rel=\"nofollow\">http://www.example.com/somewhereelse/some/where</a>  if you buy this I will get you a free one form </p>\n\n<p>Any idea on how to do that?</p>\n\n<p>THANKS --</p>\n"},{"tags":["python","qt","webkit","headless","headless-browser"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13215120,"title":"How do I make Python, QT, and Webkit work on a headless server?","body":"<p>I have Debian Linux server that I use for a variety of things.  I want it to be able to do some web-scraping jobs I need done regularly.  </p>\n\n<p>This code can be <a href=\"http://bit.ly/QeqvzX\" rel=\"nofollow\">found here</a>.</p>\n\n<pre><code>import sys  \nfrom PyQt4.QtGui import *  \nfrom PyQt4.QtCore import *  \nfrom PyQt4.QtWebKit import *  \n\nclass Render(QWebPage):  \n  def __init__(self, url):  \n    self.app = QApplication(sys.argv, False)  # Line updated based on mata's answer\n    QWebPage.__init__(self)  \n    self.loadFinished.connect(self._loadFinished)  \n    self.mainFrame().load(QUrl(url))  \n    self.app.exec_()  \n\n  def _loadFinished(self, result):  \n    self.frame = self.mainFrame()  \n    self.app.quit()  \n</code></pre>\n\n<p>A simple test of it would look like this:</p>\n\n<pre><code>url = 'http://example.com'\nprint Render(url).frame.toHtml()\n</code></pre>\n\n<p>On the call to the constructor it dies with this message (it's printed to stdout, not an uncaught exception).</p>\n\n<pre><code>: cannot connect to X server \n</code></pre>\n\n<p>How can I use Python (2.7), QT4, and Webkit on a headless server?  Nothing ever needs to be displayed, so I can tweek any settings or anything that need to be tweeked.  </p>\n\n<p>I've looked into alternatives, but this is the best fit for me and my projects.  If I did have to install an X server, how could I do it with minimal overhead?</p>\n"},{"tags":["python","http-headers","user-agent"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13216111,"title":"Python and a user-agent parser","body":"<p>I am looking for a user-agent parser in python that if passed a user agent such as the below, it will provide OS, browser type but most import the device type e.g. desktop/laptop versus tablet or mobile and if possible what kind..such as android, iPhone, nokia etc.</p>\n\n<p>Is there such a parser or python libary before I go off and build by own?  </p>\n\n<pre><code>user_agent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:16.0) Gecko/20100101 Firefox/16.0,gzip(gfe)\"\n</code></pre>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2507,"score":2,"question_id":2279917,"title":"django test client trouble","body":"<p>I've got a problem... we're writing project using django, and i'm trying to use django.test.client with nose test-framework for tests.</p>\n\n<p>Our code is like this:</p>\n\n<pre><code>from simplejson import loads\nfrom urlparse import urljoin\n\nfrom django.test.client import Client\n\nTEST_URL = \"http://smakly.localhost:9090/\"\n\ndef test_register():\n\n    cln = Client()\n\n    ref_data = {\"email\": \"unique@mail.com\", \"name\": \"Василий\", \"website\": \"http://hot.bear.com\", \"xhr\": \"true\"}\n\n    print urljoin(TEST_URL, \"/accounts/register/\")\n    response = loads(cln.post(urljoin(TEST_URL, \"/accounts/register/\"), ref_data))\n\n    print response[\"message\"]\n</code></pre>\n\n<p>and in nose output I catch:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/psih/work/svn/smakly/eggs/nose-0.11.1-py2.6.egg/nose/case.py\", line 183, in runTest\n    self.test(*self.arg)\n  File \"/home/psih/work/svn/smakly/src/smakly.tests/smakly/tests/frontend/test_profile.py\", line 25, in test_register\n    response = loads(cln.post(urljoin(TEST_URL, \"/accounts/register/\"), ref_data))\n  File \"/home/psih/work/svn/smakly/parts/django/django/test/client.py\", line 313, in post\n    response = self.request(**r)\n  File \"/home/psih/work/svn/smakly/parts/django/django/test/client.py\", line 225, in request\n    response = self.handler(environ)\n  File \"/home/psih/work/svn/smakly/parts/django/django/test/client.py\", line 69, in __call__\n    response = self.get_response(request)\n  File \"/home/psih/work/svn/smakly/parts/django/django/core/handlers/base.py\", line 78, in get_response\n    urlconf = getattr(request, \"urlconf\", settings.ROOT_URLCONF)\n  File \"/home/psih/work/svn/smakly/parts/django/django/utils/functional.py\", line 273, in __getattr__\n    return getattr(self._wrapped, name)\nAttributeError: 'Settings' object has no attribute 'ROOT_URLCONF'\n</code></pre>\n\n<p>My settings.py file does have this attribute.</p>\n\n<p>If I get the data from the server with standard <code>urllib2.urllopen().read()</code> it works in the proper way.</p>\n\n<p>Any ideas how I can solve this case?</p>\n"},{"tags":["python","api","rest","architecture","metaclass"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13216116,"title":"Python design pattern for ORM","body":"<p>Consider the following architecture:</p>\n\n<p>[API server] &lt;--- XML over HTTP ---> [WSGI app server] &lt;--- HTML,JSON over HTTP ---> [Browser]</p>\n\n<p>The WSGI app server needs to communicate with the API server which offers a RESTful XML-based API. To that end, I am developing a (Python) library that abstracts the API server as an object-resource model in much the same way as sqlalchemy abstracts a database API. An XML Schema (apischema.xsd) documents the XML documents that are interchanged. If you think this is also conceptually similar to WSDL or WADL then you are right but I am trying to avoid all their complexity for my use case which is much simpler.</p>\n\n<p>Consider a <code>UserModel</code> class which may be defined to represent the <code>/User</code> end point. Here are some examples of how I would like to interact with the class:</p>\n\n<pre><code># get a list of all users by the 'all' class method\nusers = UserModel.all()\n\n# fetch and update a user by 'get' class method and 'update' instance method\nuser1 = UserModel.get('123')\nuser1.nick = 'joe'\nuser1.update()\n\n# create a new user by instantiating UserModel and calling 'create' instance method\nuser2 = UserModel()\nuser2.name = \"Jane Smith\"\nuser2.create()\n\n# delete an existing user by calling 'delete' class method\nUserModel.delete('123')\n\n# encode/decode user object to json-formatted string to communicate with\n# browser-based applications\njsonstr = user2.dump_json()\nuser3 = UserModel.load_json(jsonstr)\n\n# encode/decode user object from xml document to communicate with the API server.\nxmldoc = user4.dump_xml()\nuser5 = UserModel.load_xml(xmldoc)\n</code></pre>\n\n<p>And let's say I want to define <code>UserModel</code> as follows:</p>\n\n<pre><code>class UserModel (Model):\n\n    # Describe the fields that the model object should have and how it maps to the\n    # pyxb xml-binding class generated by pyxbgen.\n    __fields__ = (\n            # 0: model object attribute,  \n            # 1: corresponding pyxb object attribute,\n            # 2: function to load model object attribute from xml binding object,\n            # 3: function to dump model object attribute value into xml binding object\n            # A value of 'None' for 2 and 3 implies direct assignment.\n            ('uuid', 'UserId.uuid', None, None),\n            ('nick', 'UserId', lambda x: x.UserId.value(), lambda m: bind(m.nick, uuid=m.uuid)),\n            ('name', 'Name', None, None),\n            ('email', 'Email', None, None)\n            )\n\n    # Desribe the methods that this class or its instances \n    # must support and which end points they map to.\n    __methods__ = {\n            'all': ('get', '/User'),\n            'get': ('get', '/User/:uuid'),\n            'create': ('post', '/User'),\n            'update': ('put', '/User'),\n            'delete': ('delete', '/User/:uuid')\n    }\n</code></pre>\n\n<p>For a definition like this to work, at least one metaclass and one base class is needed. These classes would be defined like so:</p>\n\n<pre><code>import requests # to faciliate HTTP communication with API server\nimport pyxb.BIND as bind # alias for convenience\nimport apischema # generated by `pyxbgen -u apischema.xsd -m apischema.py`\n\nclass MetaModel (type):\n    def __new__ (cls, clsname, clsbases, clsattrs):\n        t = type.__new__(cls, classname, clsbases, clsdict)\n\n        fields = getattr(t, '__fields__', None)\n        methods = getattr(t, '__methods__', None)\n\n        if fields:\n            # this creates the model attributes\n            clsdict['__slots__'] = [f[0] for f in fields]\n            # ... missing logic goes here ...\n            t = type.__new__(cls, classname, clsbases, clsdict)\n\n        if methods:\n            # ... more missing logic goes here...\n            pass\n\n        return t\n\nclass Model (object):\n    __metaclass__ = MetaModel\n\nclass UserModel (Model):\n    # ... as described above.\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>Is it sane to abstract an API like this?</li>\n<li>If you think this is sane, do you foresee any pitfalls I should be wary of?</li>\n<li>Where and how would the <code>load_xml</code> and <code>dump_xml</code> methods be generated/defined? Should they be in a mixin class or should they be created in <code>MetaModel.__new__</code> using closures?</li>\n<li>Same question but for <code>load_json</code> and <code>dump_json</code> methods.</li>\n<li>How would <code>methods</code> be processed in <code>MetaModel.__init__</code> so that <code>UserModel.all</code>, <code>user1.update</code>, etc are present and do the right thing?</li>\n</ol>\n"},{"tags":["python","persistence","hash","pickle","hashlib"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":487,"score":2,"question_id":2130892,"title":"Persisting hashlib state","body":"<p>I'd like to create a <code>hashlib</code> instance, <code>update()</code> it, then persist its state in some way. Later, I'd like to recreate the object using this state data, and continue to <code>update()</code> it. Finally, I'd like to get the <code>hexdigest()</code> of the total cumulative run of data. State persistence has to survive across multiple runs.</p>\n\n<p>Example:</p>\n\n<pre><code>import hashlib\nm = hashlib.sha1()\nm.update('one')\nm.update('two')\n# somehow, persist the state of m here\n\n#later, possibly in another process\n# recreate m from the persisted state\nm.update('three')\nm.update('four')\nprint m.hexdigest()\n# at this point, m.hexdigest() should be equal to hashlib.sha1().update('onetwothreefour').hextdigest()\n</code></pre>\n"},{"tags":["python","bash","makefile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":54,"score":-2,"question_id":13210412,"title":"python execution through makefile","body":"<p>When I execute the python script through Makefile I'm getting this error which was not present earlier.</p>\n\n<p><strong>Error is:</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>/bin/bash: -c: line 0: unexpected EOF while looking for matching `\"'\n/bin/bash: -c: line 3: syntax error: unexpected end of file\n</code></pre>\n\n<p>Can anyone please help me in this regard what may be the issue?</p>\n\n<p>Following is the snippet of my Makefile </p>\n\n<pre><code>generate: python $(path)/generate.py \n</code></pre>\n\n<p>And i use command \"make generate\" Makefile is in the working directory and script is in the path</p>\n"},{"tags":["python","exception","loops","try-catch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13216007,"title":"Python:Continuing try loop until first item in list is found","body":"<p>I would like to use a try statement or any other method to find the closest item after the given variable in a list: I have the following code. In this example I want the code to keep adding one day to d1 until the first datetime object in list pj is found and then return the index of that corresponding list element. So here d1 should equal datetime.datetime(1922,01,06) and d1_index = 1. The range function yields the last element in the list, so obviously I need to change that condition but not sure what the right way forward is,\nThanks heaps,</p>\n\n<p>Kane</p>\n\n<pre><code>import datetime\nimport numpy as np\nimport dateutil.relativedelta as rd\n\n\npj = [datetime.datetime(1921,12,31), datetime.datetime(1922,01,06), datetime.datetime(1922,01,07), datetime.datetime(1922,01,10), datetime.datetime(1922,01,12)]\n\nd1 = datetime.datetime(1922,01,02)\nd2 = datetime.datetime(1929,12,31)\n\nfor i in range(0,50):\n    try: \n        d1_index = pj.index(d1)\n\n    except ValueError:\n        d1 = d1 +rd.relativedelta(days = +i)\n\n        continue\n    break\n</code></pre>\n"},{"tags":["python","wxpython","wxwidgets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13021341,"title":"Disable searching in Python ObjectListView","body":"<p>I am using an ObjectListView in wxPython to present a few hundred to a few thousand records, each containing a character or two of text and a handful of numerical fields. I want to disable the typing search function of the ObjectListView as it is not very useful for my purposes and I want to use the keys for other things. However, I cannot work out how to disable all searching and not just shift it onto another column. </p>\n\n<p>I suppose I could intercept a key press event and block the propagation, but that seems like a bit of a hack if there is a \"right\" way to do it.</p>\n"},{"tags":["python","django","heroku","amazon-s3","user"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13214507,"title":"Upload Media from Heroku to Amazon S3","body":"<p>New to Heroku &amp; Amazon S3, so bear with me. Uploaded my Django app onto Heroku, and having a problem with user media uploads. The model is below:</p>\n\n<pre><code>#models.py\nclass Movie(models.Model):\n    title           = models.CharField(max_length = 500)\n    poster          = models.ImageField(upload_to = 'storages.backends.s3boto')\n    pub_date        = models.DateTimeField(auto_now_add = True)\n    author          = models.ForeignKey(User)\n</code></pre>\n\n<p>The poster attribute is the one where the image is uploaded. I had it running fine locally, and now on Heroku there is an error. So I added 'storages.backends.s3boto', as numerous other posts have told me to. (not sure if right).</p>\n\n<p>My Settings.py file looks like this right now, kind of a mess:</p>\n\n<pre><code>#settings.py\nPROJECT_ROOT   = os.path.abspath(os.path.dirname(__file__))\nPROJECT_DIR    = os.path.join(PROJECT_ROOT, '../qanda')\n\nDEFAULT_FILE_STORAGE    = 'storages.backends.s3boto.S3BotoStorage'\nSTATICFILES_STORAGE     = 'storages.backends.s3boto.S3BotoStorage'\n\nAWS_ACCESS_KEY_ID         = '****************'\nAWS_SECRET_ACCESS_KEY     = '************'\nAWS_STORAGE_BUCKET_NAME   = 'mrt-assets'\nAWS_PRELOAD_METADATA      = True\n\nMEDIA_ROOT = os.path.join(PROJECT_ROOT, 'qanda/media/movie_posters/)\nMEDIA_URL = '/media'\nSTATIC_ROOT = os.path.join(PROJECT_ROOT, 'staticfiles')\nSTATIC_URL = 'https://mrt-assets.s3.amazonaws.com/static/'\nSTATICFILES_DIRS = (os.path.join(PROJECT_DIR, 'static'),)\n</code></pre>\n\n<p>My bucket is called mrt-assets, and there are 2 folders in there static (css, js, images and media. I'm not too worried about the static files for now, as I've hardcoded the CSS/JS files into my HTML files*, but how do I get my user uploaded media (images of any kind) into mrt-assets/media?</p>\n\n<p>*although if someone wanted to help with STATIC files too that would be great. But user uploaded media more urgent.</p>\n\n<p>EDIT (per Yuji's comment):</p>\n\n<p>Have tried a number of options, and none of them working. I've gone back and deleted a lot of changes, and this is now my Settings</p>\n\n<pre><code>#settings.py\nPROJECT_ROOT = os.path.abspath(os.path.dirname(__file__))\nMEDIA_ROOT = 'http://s3.amazonaws.com/mrt-assets/media/'\nMEDIA_URL = '/media/'\nSTATIC_ROOT = 'http://s3.amazonaws.com/mrt-assets/static/'\nSTATIC_URL = '/static/'\nADMIN_MEDIA_PREFIX = STATIC_URL + 'admin/'\nTEMPLATE_DIRS = (os.path.join(PROJECT_ROOT, \"templates\"),)\n\n#models.py\n#same as before, but now have changed the poster directory\nposter = models.ImageField().\n</code></pre>\n\n<p>Not really sure what to do, need to connect my Heroku app to S3 so user media uploads are saved there. </p>\n\n<p>Have now changed my S3 Bucket to this</p>\n\n<pre><code>mrt-assets\n    static\n        css\n        js\n        images\n    media\n        (empty)\n</code></pre>\n"},{"tags":["javascript","python","html","dom","web2py"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":47,"score":1,"question_id":13215902,"title":"web2py: possible to submit multiple forms with a single 'submit' button?","body":"<p>Is it possible to submit multiple forms with a single 'submit' button? If so, what's the way to do this? Thanks.</p>\n"},{"tags":["python","filenames","ioerror"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1233,"score":1,"question_id":4677234,"title":"Python IOError exception when creating a long file","body":"<p>I get an IOError shown below when trying to open a new file using \"open (fname, 'w+')\". The complete error message is below. </p>\n\n<p>The file does not exist, but I verified using \"os.access(dir_name, os.W_OK)\" and \"os.path.exists (dir_name)\" that the parent directory for the file does exist. </p>\n\n<p>I am wondering if the file name is just too long for Windows, or if I am doing something wrong. Any tips would be appreciated. Thank you very much.</p>\n\n<p>Error message:</p>\n\n<p>IOError: [Errno 2] No such file or directory: 'C:\\Documents and Settings\\Administrator\\op_models\\Corp_Network_Nov12\\abcde_corporate_nov_12.project\\abcde_corporate_nov_12-ctr.rptd.dir\\ctr\\Non Business Hours for Weeknights\\hourly_data_for_2_weeks\\1294897740\\json.data\\Link\\0\\Link Utilization\\analyzer393146160-data0.js'</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":36,"score":-3,"question_id":13215872,"title":"Converting string list into one list","body":"<p>I have the following lines in python output</p>\n\n<pre><code>'9.0'\n'9.5'\n'3.5'...\n</code></pre>\n\n<p>and so on. I have to convert this into one list in the following manner.</p>\n\n<pre><code>['9.0','9.5','3.5',...,]\n</code></pre>\n\n<p>How can I do it?</p>\n"},{"tags":["python","django","django-models"],"answer_count":6,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1096,"score":1,"question_id":4411213,"title":"How can I find the intersection of two Django querysets?","body":"<p>I’ve got a Django model with two custom manager methods. Each returns a different subset of the model’s objects, based on a different property of the object.</p>\n\n<pre><code>class FeatureManager(models.Manager):\n\n    def without_test_cases(self):\n        return self.get_query_set().annotate(num_test_cases=models.Count('testcase_set')).filter(num_test_cases=0)\n\n    def standardised(self):\n        return self.get_query_set().annotate(standardised=Count('documentation_set__standard')).filter(standardised__gt=0)\n</code></pre>\n\n<p>(Both <code>testcase_set</code> and <code>documentation_set</code> refer to <code>ManyToManyField</code>s on other models.)</p>\n\n<p>Is there any way to get a queryset, or just a list of objects, that’s the intersectiond of the querysets returned by each manager method?</p>\n"},{"tags":["python","list"],"answer_count":11,"favorite_count":4,"up_vote_count":23,"down_vote_count":0,"view_count":18054,"score":23,"question_id":2150108,"title":"Efficient way to shift a list in python","body":"<p>What is the most efficient way to shift a list in python? \nRight now I have something like this:</p>\n\n<pre><code>&gt;&gt;&gt; def shift(l, n):\n...     return l[n:] + l[:n]\n... \n&gt;&gt;&gt; l = [1,2,3]\n&gt;&gt;&gt; shift(l,1)\n[2, 3, 1]\n&gt;&gt;&gt; shift(l,2)\n[3, 1, 2]\n&gt;&gt;&gt; shift(l,0)\n[1, 2, 3]\n</code></pre>\n\n<p>Is there a better way?</p>\n"},{"tags":["android","python","sl4a","android-scripting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13137341,"title":"Using Python android.py module without SL4A","body":"<p>Is there a way to use <code>android.py</code> module without installing SL4A?</p>\n\n<p>I mean I have Python running on android successfully from Terminal Emulator.\nCan I use that module without installing that layer (or if I can't install it anymore)?</p>\n"},{"tags":["python","lambda","functional-programming","conditional-statements"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":13209119,"title":"Functional python programming and conditionals","body":"<p>I'm trying to write a python function in a functional way. The problem is I don't know, how to  transform an if conditional into a functional style. I have two variables: <code>A</code> and <code>C</code>, which I want to check for the following conditions:</p>\n\n<pre><code>def function():\n    if(A==0): return 0\n    elif(C!=0): return 0\n    elif(A &gt; 4): return 0\n    else: someOtherFunction()\n</code></pre>\n\n<p>I looked at the <a href=\"http://www.ibm.com/developerworks/linux/library/l-prog/index.html\" rel=\"nofollow\">lambda shortcircuiting</a>, but I couldn't get it to work.</p>\n\n<p>I thank you in advance for your help!</p>\n"},{"tags":["python"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":13215104,"title":"How to strip trailing digits from a string","body":"<p>I have a variable text whose value is like below,I need strip of trailing digits,is there a python built-in function to do it..if not,please suggest how can this be done in python</p>\n\n<p>e.g. <code>-text=A8980BQDFZDD1701209.3</code> => <code>-A8980BQDFZDD</code></p>\n"},{"tags":["android","python","eclipse","pydev","sl4a"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":136,"score":1,"question_id":12569492,"title":"python scripting for android","body":"<p>I am trying to use eclipse and sl4a to create an android app for my tablet. I am following the procedure mentioned in this blog.</p>\n\n<p><a href=\"http://jokar-johnk.blogspot.com/2011/02/how-to-make-android-app-with-sl4a.html\" rel=\"nofollow\">http://jokar-johnk.blogspot.com/2011/02/how-to-make-android-app-with-sl4a.html</a></p>\n\n<ol>\n<li><p>I have my python scripts already compiled.</p></li>\n<li><p>I need to make a '.apk' file using these python scripts, such that when I run the app in android, it should do what it is supposed to. </p></li>\n<li><p>To create the '.apk' file, I am using eclipse with pydev plugin.</p></li>\n<li><p>I created a clone of sl4a repository and imported to eclipse.</p></li>\n<li><p>When I am creating a new project for android app development, I am not sure where to import my python scripts and embed them such that, at last I have an executable '.apk' file.</p></li>\n<li><p>When I create a new project in eclipse, I see couple of folders like src, gen, res and several files under them. Where do I need to place my python scripts now? Do I need to create a separate folder under the project and directly import my python scripts or put them under src/gen/res?</p></li>\n</ol>\n"},{"tags":["python","django","caching","django-admin","django-middleware"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":11692538,"title":"Browser delay with changing content of the page in django admin (caching, python/django)","body":"<p>I have a bit weird problem witch caching on my project in django. </p>\n\n<p>I can edit my page-content in django-admin. When i do that and refresh site - nothing is happening. I have to wait few minutes for changes. Funny thing is that, when i change browser (or computer) - i dont have to wait - the changes are on. Is it the problem of django, browser or what? Is it possible to set setting.py to get changes immediately? </p>\n\n<p>By the way, i have already figured out that when i turn the \n\"django.middleware.cache.FetchFromCacheMiddleware\" off - the problem disapears, but i dont want to turn cache off...</p>\n\n<p>Any ideas? </p>\n"},{"tags":["python","animation","python-2.7","tkinter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":66,"score":0,"question_id":13215215,"title":"Python Tkinter Animation","body":"<p>Why is the animation not working? The shape doesn't move when I run the program.</p>\n\n<pre><code>from Tkinter import *\nimport time\n\n\n\nclass alien(object):\n     def __init__(self):\n        self.root = Tk()\n        self.canvas = Canvas(self.root, width=400, height = 400)\n        self.canvas.pack()\n        alien1 = self.canvas.create_oval(20, 260, 120, 360, outline='white',         fill='blue')\n        alien2 = self.canvas.create_oval(2, 2, 40, 40, outline='white', fill='red')\n        self.canvas.pack()\n        self.root.mainloop()\n\n     def animation(self):\n        track = 0\n        while True:\n        x = 5\n        y = 0\n        if track == 0:\n           for i in range(0,51):\n                self.time.sleep(0.025)\n                self.canvas.move(alien1, x, y)\n                self.canvas.move(alien2, x, y)\n                self.canvas.update()\n           track = 1\n           print \"check\"\n\n        else:\n           for i in range(0,51):\n                self.time.sleep(0.025)\n                self.canvas.move(alien1, -x, y)\n                self.canvas.move(alien2, -x, y)\n                self.canvas.update()\n           track = 0\n        print track\n\nalien()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13215386,"title":"creating python packages","body":"<p>I wrote some code in python as a class, but now I'm trying to prepare it for distribution as a package and I was having some trouble with figuring out how the different pieces should fit together.</p>\n\n<p>So, as I originally wrote the code I had a class with a few functions in it, including an <code>__init__</code> function. I've now split each of these functions into its own file named with the function name, but I'm unsure where to put the <strong>init</strong> function, since it takes arguments. An example is below.</p>\n\n<p>Original format:</p>\n\n<pre><code>class className(object):\n\n    def __init__(self, arg1, arg2):\n         self.arg1 = arg1\n         self.arg2 = arg2\n\n    def func1(self):\n\n    def func2(self, arg3):\n</code></pre>\n\n<p>With a usage of:</p>\n\n<pre><code>import name\n\na = name.className(arg1, arg2)\na.func1()\na.func2(arg3)\n</code></pre>\n\n<p>Now the file tree is:</p>\n\n<pre><code>Name/\n    /className\n        __init__.py\n        func1.py\n        func2.py\n</code></pre>\n\n<p>And on to include the other functions. I would like to keep the same basic usage pattern as the original.</p>\n\n<p>Now, the question I have is where that <code>__init__</code> function should go? Inside the <code>__init__.py</code> file? Somewhere else? The other issue is I wanted to put some imports in the <code>__init__.py</code> file; I know they should go in the <code>__init__.py</code> file, but I don't know how they relate to the <code>__init__</code> function. Any help is appreciated. </p>\n"},{"tags":["python","csv","operand"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13215273,"title":"Writing multiple .csv files","body":"<p>I have a dictionary where <code>item_dictionary[0]</code> corresponds to <code>data[0]</code>, and <code>item_dictionary[1]</code> corresponds to <code>data[1]</code>.</p>\n\n<pre><code>item_dictionary = {'10350':'cat', '560':'dog'}\nnames = item_dictionary.values()\n\ndata = [[1, 2, 3, 4], [5, 6, 7]]\n</code></pre>\n\n<p>I tried to write the items in <code>data[0]</code> and <code>data[1]</code> to different .csv files like this:</p>\n\n<pre><code>def writer(item):\n    q = data.index(item)    \n    myfile = open('%r.csv', 'wb') % names[q]\n    wr = csv.writer(myfile)\n    wr.writerows(data[q])\n    myfile.close()\n\nz = [writer(x) for x in data]\n</code></pre>\n\n<p>This returns the error:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):<br>\n    File \"\", line 1, in <br>\n    File \"\", line 3, in writer<br>\n  TypeError: unsupported operand type(s) for %: 'file' and 'str'`. </p>\n</blockquote>\n\n<p>My guess for the <code>'str'</code> part of the error is that <code>names[q]</code> returns, say, <code>'cat'</code> instead of <code>cat</code>. However, I don't know what operand type to use instead and don't know how to get around the <code>str</code> problem, so could someone please help me? Thanks.</p>\n"},{"tags":["python","matrix"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13214809,"title":"Pretty print 2D Python list","body":"<p>Is there a simple, built-in way to print a 2D Python list as a 2D matrix?</p>\n\n<p>So this:</p>\n\n<pre><code>[[\"A\", \"B\"], [\"C\", \"D\"]]\n</code></pre>\n\n<p>would become something like</p>\n\n<pre><code>A    B\nC    D\n</code></pre>\n\n<p>I found the pprint module, but it doesn't seem to do what I want.</p>\n"},{"tags":["python","exception-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13214377,"title":"generic exception handling return value","body":"<p>I am trying to create generic exception handler - for where I can set an arg to return in case of exception.</p>\n\n<p>instead of doing:</p>\n\n<pre><code>try:\n    ...\nexcept Exception:\n    return list()\n\ntry:\n    ...\nexcept Exception:\n    return dict()\n\ntry:\n    ...\nexcept Exception:\n    return str()\n</code></pre>\n\n<p>I would like to create system whereby I have a generic exception handler that returns an arg I provide. e.g, </p>\n\n<pre><code>def handler(code, default):\n    try:\n        code\n    except Exception:\n        return default\n\ndef mains():\n    code = &lt;code to execute&gt;\n    default = str()\n    return handler(code, dafault)\n</code></pre>\n\n<p>but in a more pythonic way</p>\n"},{"tags":["python","django","forms","dynamic","wizard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13206659,"title":"Django Form Wizard For Dynamic Sized Forms","body":"<p>So I have a dynamic form which can have an arbitrary size from one field to 100 or more and I was wondering how it would be possible to use Django's form wizard for that dynamic form. The fields are generated in the __init__ of the form by adding them to the fields dictionary.</p>\n\n<pre><code>class MyDynamicForm(forms.Form):\ndef __init__(self, *args, **kwargs):\n    parent = kwargs.pop('parent')\n    super(MyDynamicForm, self).__init__(*args, *kwargs)\n    # Add each element into self.fields\n    for element in parent.elements:\n        if element.type == TEXT_FIELD:\n           self.fields[element.name] = forms.CharField(widget=forms.Textarea)\n        elif element.type == CHECKBOX_FIELD:\n            self.fields[element.name] = forms.BooleanField()\n        elif element.type == SINGLE_CHOICE_FIELD:\n            self.fields[element.name] = forms.ChoiceField(choices=element.choices.split(','))\n        elif element.type = MULTIPLE_CHOICE_FIELD:\n            self.fields[element.name] = forms.MultipleChoiceField(choices=element.choices.split(','))\n</code></pre>\n\n<p>I assume that I could wrap this form class in a function and only have it return the form class which only creates a portion of the fields by doing <code>for element in parent.elements[start:end]</code> rather than what I'm doing to create each wizard class but I feel like this is not the correct approach. How should I go about this, is there a correct way? Or is it even possible? Thanks!</p>\n"},{"tags":["python","windows","steam"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13214665,"title":"Open a URL with the OS default action from Python","body":"<p>I'm editing a program called TF2idle that can be seen here:\n<a href=\"http://facepunch.com/showthread.php?t=1161862\" rel=\"nofollow\">http://facepunch.com/showthread.php?t=1161862</a></p>\n\n<p>I'm adding a button to defrag any of the accounts that are selected using the person's source he has available.</p>\n\n<p>I found in the python files that this is where all the magic happens and is what I need to edit to add my Defrag button.</p>\n\n<p><a href=\"http://pastebin.com/9PjzqU5u\" rel=\"nofollow\">http://pastebin.com/9PjzqU5u</a></p>\n\n<p>Lines 136 - 142 and 328-337 I added myself. These lines are below:</p>\n\n<pre><code>startDefragIcon = QtGui.QIcon()\n            startDefragIcon.addPixmap(QtGui.QPixmap(returnResourcePath('images/defrag.png')), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n            self.startDefragAction = self.mainwindow.htoolBar.addAction(startDefragIcon, 'Defrag Accounts')\n            QtCore.QObject.connect(self.startDefragAction, QtCore.SIGNAL('triggered()'), curry(self.startUpAccounts, action='start_Defrag'))\n</code></pre>\n\n<p>and</p>\n\n<pre><code> if action == 'start_Defrag':\n                                    command = r'\"%s/Steam.exe\" -login %s %s' % (sandbox_install, username, password)\n                                    if easy_sandbox_mode == 'yes' and self.settings.get_option('Account-' + account, 'sandbox_install') == '':\n                                            self.commandthread.addSandbox('TF2Idle' + username)\n                                            self.createdSandboxes.append(username)\n                                            command = r'\"%s/Start.exe\" /box:%s %s' % (sandboxielocation, 'TF2Idle' + username, command)\n                                    else:\n                                            command = r'\"%s/Start.exe\" /box:%s %s' % (sandboxielocation, sandboxname, command)\n                                    #Right here add script to launch steam://defrag/440\n</code></pre>\n\n<p>A way the program can defrag the accounts is to launch \"steam://defrag/440\" and that will automatically do it. For an example, I can put in my google chrome address bar that address and it will tell steam to defrag the program with the ID 440, which is TF2.</p>\n\n<p>Thing is, I have no idea how to add that to the script. I was thinking of adding a BAT file which would have \"steam://defrag/440\" inside it and add a line that would launch said BAT file at line 336.</p>\n\n<p>I'm hoping someone here knows how I can accomplish this.</p>\n\n<p>Second problem is that I have no idea how to turn all these source files after I finished editing into an .EXE. I know this is all advanced for me, but I gotta start learning if I want to go to college for computer science, plus this would really help out many users using this tool.</p>\n"},{"tags":["python","ironpython"],"answer_count":1,"favorite_count":0,"up_vote_count":13,"down_vote_count":0,"view_count":354,"score":13,"question_id":1981566,"title":"Errors accessing .NET class method overloads in IronPython","body":"<p>I have a class I've written in C#. The class has two methods, the signatures being:</p>\n\n<pre><code>bool Navigate(string url)\nbool Navigate(Uri url)\n</code></pre>\n\n<p>From what I gather, the IronPython runtime is supposed to try and select the best overload based on the passed-in argument. In my case, I'm passing in a string which I know to be non-null, yet I get the following exception:</p>\n\n<blockquote>\n  <p>Multiple targets could match: Navigate(Uri), Navigate(str)</p>\n</blockquote>\n\n<p>Seeing as my argument is blatantly a string, why does IronPython insist that multiple targets could match? System.String does not cast to System.Uri and as such the second method overload should not be a viable candidate for selection...</p>\n"},{"tags":["python","osx","memory","io"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13215007,"title":"How to prevent searching in file with python from over-increasing OSX inactive memory?","body":"<p>I'm using mmap and re to search for words (1000+) in a file (9gig) without loading it into memory. I do this lots of times. In about 10 seconds I have 2.07 gigs of inactive memory (and 8.8mb free). Because the inactive memory goes up so fast I can't use <code>purge</code>. How can I prevent the inactive memory to get so high?</p>\n\n<p>I use the following code:</p>\n\n<pre><code>def proteinID_to_uniprotID(protein):\n    conversion_file = open('idmapping.dat')\n    file_map = mmap.mmap(conversion_file.fileno(), 0, access=mmap.ACCESS_READ)\n    file_map.seek(0)\n    refseq_id_location = re.search(protein, file_map)\n    if refseq_id_location != None:\n        file_map.seek(refseq_id_location.start()-40)\n        uniprotID = re.findall('\\\\n.*'+protein+'.*\\\\b', file_map.read(55))[0].split('\\t')[0].strip()\n        conversion_file.close()\n        file_map.close()\n        return uniprotID\n    else:\n        conversion_file.close()\n        file_map.close()\n        return 'not found'\n</code></pre>\n"},{"tags":["python","file","path"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":5295,"score":4,"question_id":2909975,"title":"Python list directory, subdirectory, and files","body":"<p><br>\nI'm trying to make a script to list all directory, subdirectory, and files in a given directory.<br>\nI tried this:</p>\n\n<pre><code>import sys,os\n\nroot = \"/home/patate/directory/\"\npath = os.path.join(root, \"targetdirectory\")\n\nfor r,d,f in os.walk(path):\n    for file in f:\n        print os.path.join(root,file)\n</code></pre>\n\n<p>Unfortunatly it doesn't work properly.<br>\nI get all the files, but not their complete paths.</p>\n\n<p>For example if the dir struct would be:</p>\n\n<pre>\n/home/patate/directory/targetdirectory/123/456/789/file.txt\n</pre>\n\n<p>It would print:</p>\n\n<pre>\n/home/patate/directory/targetdirectory/file.txt\n</pre>\n\n<p>What I need is the first result. Any help would be greatly appreciated! Thanks.</p>\n"},{"tags":["python","string"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13214807,"title":"How to check if a word fits in specified number of columns?","body":"<p>so I've been asked to write a code that asks the user to input the maximum number of columns (width of a line) and then let the user input a paragraph. now if the last word in each line doesn't fit in the line then i have to move it to the next line and replace it with spaces in the previous line. I wanna know how can I check if a word fits in the line or not and if it doesn't how can i print it on the next line. Here is my code:</p>\n\n<pre><code>    max_num=int(input(\"Enter the maximum number of columns for printing: \"))\n    paragraph = input(\"Enter your paragraph:\\n\")\n    paragraph = input()\n\n    word_list = paragraph.split(\" \")\n\n\n    counter = 0\n    while (counter &lt; len(paragraph)):\n        a = paragraph[counter:counter+max_num]\n        counter+=max_num\n\n        print('|'+str(a)+'|')\n</code></pre>\n"},{"tags":["java","python","minecraft"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":59,"score":-1,"question_id":13205974,"title":"Minecraft Slime Calculator Algorithm","body":"<p>I want to create a minecraft slime calculator and I've found the algorithm<a href=\"http://www.minecraftwiki.net/wiki/Slime#Spawning\" rel=\"nofollow\">here</a>. However, I don't know java very well at all, and I want to translate this over to c++. To do that, I need to know what things like <code>0x4c1906</code> mean. is that just a basic pointer that I can keep the same in python? Do I have to use some sort of binary conversion or something? I'm confused as to what the pointers are and how I should handle them in my python programming.</p>\n\n<p>EDIT: C++ should be python instead. Serious error on my end. Sorry for the miscommunication.</p>\n"},{"tags":["python","string","file"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":425,"score":0,"question_id":2368618,"title":"python file manipulation","body":"<p>I have a file with entries such as:\n26 1\n33 2\n.\n.\n.</p>\n\n<p>and another file with sentences in english</p>\n\n<p>I have to write a script to print the 1st word in sentence number 26 \nand the 2nd word in sentence 33.\nHow do I do it?</p>\n"},{"tags":["python","file"],"answer_count":5,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":349,"score":7,"question_id":3247202,"title":"Choosing a random file from a directory (with a large number of files) in Python","body":"<p>I have a directory with a large number of files (~1mil). I need to choose a random file from this directory. Since there are so many files, <code>os.listdir</code> naturally takes an eternity to finish.</p>\n\n<p>Is there a way I can circumvent this problem? Maybe somehow get to know the number of files in the directory (without listing it) and choose the 'n'th file where n is randomly generated?</p>\n\n<p>The files in the directory are randomly named.</p>\n"},{"tags":["python","heisenbug"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":13204843,"title":"Impossible Python Error","body":"<p>So I have <code>foo</code>, an ordinary tuple of ordinary floats. Calling map on it in my script is inexplicably throwing a Numpy error of all things, even though there's nothing wrong with the code. Going into the debugger and executing the exact same code produces no errors as expected. Does anyone have any idea what could be going on? I'm at a complete loss. How is any of this possible?</p>\n\n<p>Also, to those asking for a minimal script to reproduce the issue: I am unable to reproduce it using short snippets, and I can't post the whole script because it is for a homework assignment.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"py_code\\ps4-code.py\", line 240, in &lt;module&gt;\n    doPairMatch(transA, transB, tapoints, tbpoints, 1, ransacTranslate)\n  File \"py_code\\ps4-code.py\", line 217, in doPairMatch\n    print map(int, foo)\nTypeError: expected a single-segment buffer object\n&gt;&gt;&gt; import pdb;pdb.pm()\n&gt; c:\\homework\\cs4495\\ps4\\py_code\\ps4-code.py(217)doPairMatch()\n-&gt; print map(int, foo)\n(Pdb) print foo\n(603.0, 437.0)\n(Pdb) print map(int, foo)\n[603, 437]\n(Pdb) print type(foo)\n&lt;type 'tuple'&gt;\n(Pdb) print int, map, type\n&lt;type 'int'&gt; &lt;built-in function map&gt; &lt;type 'type'&gt;\n(Pdb) map(type, foo)\n[&lt;type 'float'&gt;, &lt;type 'float'&gt;]\n(Pdb)\n</code></pre>\n\n<p>Edit: Well at least I figured out how this is possible. It appears that the problem is occurring during garbage collection, which is why the errors were randomly appearing in unrelated parts of code. Presumably, the gc is triggering a bug somewhere in OpenCV causing everything to crash.</p>\n\n<pre><code>Exception TypeError: 'expected a single-segment buffer object' in 'garbage colle\nction' ignored\nFatal Python error: unexpected exception during garbage collection\n\nThis application has requested the Runtime to terminate it in an unusual way.\nPlease contact the application's support team for more information.\n</code></pre>\n"},{"tags":["python","perl","shell"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":496,"score":4,"question_id":3009832,"title":"Randomly selecting lines from files","body":"<p>I have bunch of files and very file has a header of 5 lines. In the rest of the file, pair of line form an entry. I need to randomly select entry from these files. \nHow can i select random files and random entry(pair of line, excluding header) ? </p>\n"},{"tags":["python","3d","isometric"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13208743,"title":"Render 3D model orthographically in Python","body":"<p>I want to write a tool in Python that will help me create isometric tiles from 3D-models. You see, I'm not a very proficient artist and free 3D-models are plentisome, and creating something like a table or chair is much easer in 3D than in painting.</p>\n\n<p>This script will load a 3D model in orthographic projection and take pictures from four directions so it can be used in a game. I've tried this in Blender, but the results are inconsistent, very difficult to control and take very long time to create simple sprites.</p>\n\n<p>Rolling my own script will probably let me do neat things too, especially batch-genetration, maybe on texture changes, shading, etc. The game itself will probably be made in Python tpp, so maybe I could generate on the fly. (Edit: and automatically creat cut out see-through walls for when they face camera)</p>\n\n<p>Now my question, what Python libraries can do something like this? I've checked both Pyglet and Panda3D, but I haven't even been able to load a model, let alone set it to orthographic projection.</p>\n"},{"tags":["python","subprocess","stdout","stderr","tee"],"answer_count":6,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":2354,"score":10,"question_id":2996887,"title":"How to replicate tee behavior in python when using subprocess?","body":"<p>I'm looking for a Python solution that will allow me to save the output of a command in a file without hiding it from the console.</p>\n\n<p>FYI: I'm asking about tee (as the Unix command line utility) and not the function with the same name from Python intertools module.</p>\n\n<h3>Details</h3>\n\n<ul>\n<li>Python solution (not calling <code>tee</code>, it is not available under Windows)</li>\n<li>I do not need to provide any input to stdin for called process</li>\n<li>I have no control over the called program, all I know is that it will output something to stdout and stderr and return with an exit code.</li>\n<li>to work when calling external programs (subprocess)</li>\n<li>to work for both <code>stderr</code> and <code>stdout</code></li>\n<li>being able to differentiate between stdout and stderr because I may want to display only one of the to the console or I could try to output stderr using a different color - this means that <code>stderr = subprocess.STDOUT</code> will not work.</li>\n<li>live output (progressive) - the process can run for a long time and I'm not able to wait for it to finish.</li>\n<li>Python 3 compatible code (important)</li>\n</ul>\n\n<h3>References</h3>\n\n<p>Here are some incomplete solutions I found so far:</p>\n\n<ul>\n<li><a href=\"http://devlishgenius.blogspot.com/2008/10/logging-in-real-time-in-python.html\">http://devlishgenius.blogspot.com/2008/10/logging-in-real-time-in-python.html</a> (mkfifo works only on Unix)</li>\n<li><a href=\"http://blog.kagesenshi.org/2008/02/teeing-python-subprocesspopen-output.html\">http://blog.kagesenshi.org/2008/02/teeing-python-subprocesspopen-output.html</a> (doesn't work at all)</li>\n</ul>\n\n<p><img src=\"http://blog.i18n.ro/wp-content/uploads/2010/06/Drawing_tee_py.png\" alt=\"diagram\"></p>\n\n<h3>current code (2nd try)</h3>\n\n<pre>\n#!/usr/bin/python\nfrom __future__ import print_function\n\nimport sys, os, time, subprocess, io, threading\ncmd = \"python -E test_output.py\"\n\nfrom threading import Thread\nclass StreamThread ( Thread ):\n    def __init__(self, buffer):\n        Thread.__init__(self)\n        self.buffer = buffer\n    def run ( self ):\n        while 1:\n            line = self.buffer.readline()\n            print(line,end=\"\")\n            sys.stdout.flush()\n            if line == '':\n                break\n\nproc = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nstdoutThread = StreamThread(io.TextIOWrapper(proc.stdout))\nstderrThread = StreamThread(io.TextIOWrapper(proc.stderr))\nstdoutThread.start()\nstderrThread.start()\nproc.communicate()\nstdoutThread.join()\nstderrThread.join()\n\nprint(\"--done--\")\n</pre>\n\n<pre>\n#### test_output.py ####\n\n#!/usr/bin/python\nfrom __future__ import print_function\nimport sys, os, time\n\nfor i in range(0, 10):\n    if i%2:\n        print(\"stderr %s\" % i, file=sys.stderr)\n    else:\n        print(\"stdout %s\" % i, file=sys.stdout)\n    time.sleep(0.1)\n</pre>\n\n<pre>\n#### real output ####\nstderr 1\nstdout 0\nstderr 3\nstdout 2\nstderr 5\nstdout 4\nstderr 7\nstdout 6\nstderr 9\nstdout 8\n--done--\n</pre>\n\n<p>Expected output was to have the lines ordered. Remark, modifying the Popen to use only one PIPE is not allowed because in the real life i will want to do different things with stderr and stdout.</p>\n\n<p>Also even in the second case I was not able to obtain real-time like out, in fact all the results were received when the process finished. By default Popen should use no buffers (bufsize=0). </p>\n"},{"tags":["python","string","list","input","binary"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13210134,"title":"Input to individual items in list","body":"<p>I'm currently writing a binary translator in Python. All works well (from number to binary and from binary to number) - there's just one problem. With the binary to a number, I take in an input but have to use a list:</p>\n\n<pre><code>newBinary = []\nCode = int(input()) #will receive something like 1001010\n</code></pre>\n\n<p>using the information from Code, newBinary will have to look something like this:</p>\n\n<pre><code>[1, 0, 0, 1, 0, 1, 0]\n</code></pre>\n\n<p>I have tried finding a way to convert the input string to individual characters in a list, but have so far been unsuccessful. </p>\n"},{"tags":["python","computer-forensics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13212673,"title":"Extracting strings from a physical drive","body":"<p>I'm looking to write a script in Python 2.x that will scan physical drive (physical and not logical) for specific strings of text that will range in size (chat artifacts). I have my headers and footers for the strings and so I am just wondering how is best to scan through the drive? My concern is that if I split it into, say 250MB chunks and read this data into RAM before parsing through it for the header and footer, it may be the header is there but the footer is in the next chunk of 250MB.</p>\n\n<p>So in essence, I want to scan PhysicalDevice0 for strings starting with \"ABC\" for example and ending in \"XYZ\" and copy all content from within. I'm unsure whether to scan the data as ascii or Hex too.</p>\n\n<p>As drives get bigger, I'm looking to do this in the quickest manner possible.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["python","importerror"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":165,"score":1,"question_id":12658141,"title":"Python: cannot import urandom module (OS X)","body":"<p>I'm quite ashamed to ask a question like this one, but I've been trying for a couple of hours already...it seems I can't get my python version to do random things anymore. More precisely, it's missing the module <code>urandom</code>.</p>\n\n<p>First, here are some info about my system:</p>\n\n<ul>\n<li>OSX version: 10.7.4</li>\n<li>python version: Python 2.7.1</li>\n<li><code>which python</code>: <code>/opt/local/bin/python</code></li>\n<li><code>import os; os</code>: <code>&lt;module 'os' from '/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.pyc'&gt;</code></li>\n<li><code>echo $PATH</code>: <code>/opt/local/bin:/opt/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/usr/local/git/bin</code></li>\n<li><code>$ENV</code> and <code>$PYTHONPATH</code> are empty</li>\n</ul>\n\n<p>Now, when I have a deeper look and do <code>vim /opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/random.py</code>, I can see this file requires urandom:</p>\n\n<pre><code>line 47: from os import urandom as _urandom\n</code></pre>\n\n<p>So, quite logically, I have failures when I try running:</p>\n\n<pre><code>&gt;&gt;&gt; import random\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/random.py\", line 47, in &lt;module&gt;\n    from os import urandom as _urandom\nImportError: cannot import name urandom\n</code></pre>\n\n<p>Any ideas? Where is urandom supposed to live? I've been googling around without success so far. <br>\nIt seems a lot of Ubuntu users had this problem with virtualenv, but I'm not using virtualenv, and I'm not on Ubuntu. My bet is that somehow my PATH or PYTHONPATH or ENV variables are not set properly, but I have no idea how to solve this.</p>\n"},{"tags":["python","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13212507,"title":"checking if any method scheduled with Tkinter AFTER","body":"<p>How do I check if there's any method scheduled with Tkinger AFTER method? I have one method that creates given number of squares randomly on a canvas(scheduled with AFTER method), and  another one that deletes the squares that are being clicked(this method is basically an event handler of each square.) And the last one deletes squares that aren't being clicked after certain time(like 2secs) and it is schedules with AFTER method. What I like to do is show a message box and display a message only when all the given number of squares are drawn and removed from the canvas. Because of there are times all the squares are removed but still few some squares left to be drawn, using find_all method doesn't work at all. If I use variable inside draw method and decrease it to 0, it's decreased to zero before the squares are shown and message box comes up at the wrong time as a result. So I'm looking for a way to find out if there's any method left to be executed in AFTER method list.</p>\n"},{"tags":["python","exception-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13214289,"title":"generic exception handling and return arg on exception","body":"<p>I am trying to create generic exception handler - for where I can set an arg to return in case of exception, inspired from <a href=\"http://stackoverflow.com/questions/129144/generic-exception-handling-in-python-the-right-way\">this answer</a>.</p>\n\n<pre><code>import contextlib\n\n\n@contextlib.contextmanager\ndef handler(default):\n    try:\n        yield\n    except Exception as e:\n        yield default\n\n\ndef main():\n    with handler(0):\n        return 1 / 0\n\n    with handler(0):\n        return 100 / 0\n\n    with handler(0):\n        return 'helllo + 'cheese'\n</code></pre>\n\n<p>But this results in </p>\n\n<pre><code>RuntimeError: generator didn't stop after throw()\n</code></pre>\n"},{"tags":["python","qt","pyqt","qwebview","pyside"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1998,"score":1,"question_id":2304952,"title":"QWebView not loading external CSS","body":"<p>I am using a QWebView to display some content and I want to use custom CSS to spruce up the output.  I found that I can use the <code>QWebSettings.setUserStyleSheetUrl()</code> method to load my own CSS into the view.  The <code>.css</code> file is in the same directory as my main program.</p>\n\n<pre><code>self.webview = QWebView(MainWindow)\nself.webview.settings().setUserStyleSheetUrl(QUrl.fromLocalFile(\"myCustom.css\"))\n</code></pre>\n\n<p>However, the custom stylings don't load when I add the content to the page using <code>setHtml()</code>.  I have tested that the CSS is properly applying to the HTML in a standard browser.</p>\n\n<p>Any idea what I am doing wrong?</p>\n"},{"tags":["python","svg","png","librsvg"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":407,"score":3,"question_id":7321113,"title":"SVG to PNG with custom fonts in Python","body":"<p>I'm using Cairo/RSVG based solution for rasterizing SVG to PNG. It's already beeb described on StackOverflow in <a href=\"http://stackoverflow.com/questions/6589358/convert-svg-to-png-in-python\">Convert SVG to PNG in Python</a>.\nHowever, this solution doesn't seem to work with custom fonts. </p>\n\n<p>I've found <a href=\"http://frabru.de/c.php/article/SVGFonts-usage\" rel=\"nofollow\">this page describing embedding SVG fonts</a>. </p>\n\n<p>I've tried to include them from external SVG via XLink, as described in example. I've tried embedding the font directly in the same SVG file. Having failed with that, I've tried CSS Web Fonts syntax. None of the 3 methods works when rendering with Cairo (nor does it work in the Ubuntu's default viewer Eye of GNOME).</p>\n\n<p>I've tried ImageMagick, with exactly same results as Cairo.</p>\n\n<p>On the other hand with all 3 font embedding methods, fonts are rendered fine in WebKit, either using Google Chrome or <a href=\"https://github.com/AdamN/python-webkit2png\" rel=\"nofollow\">webkit2png.py</a>. However, if possible I'd like to avoid using QT WebKit on server, as it's non-trivial setup (including xvfb etc.), and I'm afraid that might not result very efficient nor stable. </p>\n\n<p>Is there any alternative method of rendering SVG to PNG from Python? </p>\n"},{"tags":["python","regex","computer-forensics"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13203967,"title":"Is it possible to use Regex through Hexadecimal to find email addresses","body":"<p>Not sure if this is even possible but I have been looking at using Regex to get an email address that is in Hex. Basically this is to build up some of my automated forensic tools but I am having problems on making a suitable Regex algorithm.</p>\n\n<p>Regex for email: /^([a-z0-9_.-]+)@([\\da-z.-]+).([a-z.]{2,6})$/  </p>\n\n<p>Hex values:</p>\n\n<pre><code>@ = 40\n. = 2E\n.com = 636f6d\n_ = 5f\nA/a = 41/61 [1]\nZ/z = 5a/7a\n- = 2d\n</code></pre>\n\n<p>This is what I have got at the moment (it only takes into account lower case and .com). But it doesn't work! Have I messed something simple up?</p>\n\n<pre><code>\"/^([61-7a]+)40([61-7a]+)23(636f6d)$/\"\n</code></pre>\n\n<p>[1] I know email can only be lower case but I need to take uppercase into account too.</p>\n"},{"tags":["python","open-source","driver","libraries"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":13214349,"title":"How small is *too small* for an opensource project?","body":"<p>I have a fair number of smaller projects / libraries that I have been using over the past 2 years.  I am thinking about moving them to Google Code to make it easier to share with co-workers and easier to import them into new projects on my own environments.  The are things like a simple FSMs, CAN (Controller Area Network) drivers, and GPIB drivers.  Most of them are small (less than 500 lines), so it makes me wonder are these types of things <em>too</em> small for a stand alone open-source project?</p>\n\n<p>Note that I would like to make it opensource because it does not give me, or my company, any real advantage.</p>\n"},{"tags":["python","django","csrf"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4889,"score":4,"question_id":4293905,"title":"Persistent \"CSRF token missing or incorrect.\". Jinja and django-registration setup","body":"<p>I receive this message:</p>\n\n<blockquote>\n  <p>CSRF token missing or incorrect.</p>\n</blockquote>\n\n<p>In most forums, the tell you to get the  {% csrf_token %} in the form, and i do have it. </p>\n\n<p>Also i have in my settings.py:</p>\n\n<pre><code>TEMPLATE_CONTEXT_PROCESSORS = (\n\"django.contrib.auth.context_processors.csrf\",\n\"django.contrib.auth.context_processors.auth\",\n)\n</code></pre>\n\n<p>I am using jinja, which didn't seem to use CSRF, but then i installed django registration and i got lost, since, it seems to be using some other views, that i don't have access to so to say, they are not written by me, and i can't figure out where they are. \"standard auth views\" as they call them. So i am unable to add \"RequestContext\". </p>\n\n<p>Any ideas what's going on and how I can get it going? thanx </p>\n"},{"tags":["python","port","twisted","cloud9-ide"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":112,"score":2,"question_id":12983518,"title":"How to declare ports in Cloud9 using Python","body":"<p>I'm new to using <a href=\"http://c9.io\" rel=\"nofollow\">Cloud9 IDE</a> (c9) and so far it looks great, except a few minor things.</p>\n\n<p>I see from the docs that to start up a simple node.js http server, you have to pass in process.env.PORT in place of the regular port such as \"8080\".</p>\n\n<p>Node Hello World <a href=\"https://docs.c9.io/writing_nodejs_hello_world.html\" rel=\"nofollow\">example</a>:</p>\n\n<pre><code> var http = require('http');\n http.createServer(function (req, res) {\n     res.writeHead(200, {'Content-Type': 'text/plain'});\n     res.end('Hello World\\n');\n }).listen(process.env.PORT, process.env.IP);\n</code></pre>\n\n<p>What I want to know is, on c9, can you only start services on ports using javascript / node.js? Or do other languages work just as well, perhaps with some other method of passing the port? Specifically python + Twisted?</p>\n\n<p>I uploaded some twisted code that was working locally for me, but wouldn't work on c9 because it was trying to access local ports (which are already in use). Here is the error</p>\n\n<pre><code>twisted.internet.error.CannotListenError: Couldn't listen on any:8080: [Errno 98] Address already in use.\n</code></pre>\n\n<p>How would one make the following example work, if even possible, running on c9?</p>\n\n<p>Python+Twisted Hello World <a href=\"http://twistedmatrix.com/documents/current/web/howto/using-twistedweb.html\" rel=\"nofollow\">example</a></p>\n\n<pre><code>from twisted.web import server, resource\nfrom twisted.internet import reactor\n\nclass Simple(resource.Resource):\n    isLeaf = True\n    def render_GET(self, request):\n        return \"&lt;html&gt;Hello, world!&lt;/html&gt;\"\n\nsite = server.Site(Simple())\nreactor.listenTCP(8080, site)\nreactor.run()\n</code></pre>\n\n<p>Initial searches through the <a href=\"https://docs.c9.io/\" rel=\"nofollow\">documentation</a> and github <a href=\"https://github.com/ajaxorg/cloud9/issues\" rel=\"nofollow\">issues</a> did not turn much up. I'm hoping this is possible and I just missed the right parameter to pass.</p>\n\n<hr>\n\n<p>Edit: Updated output below</p>\n\n<p>Node Code</p>\n\n<pre><code>console.log(process.env.PORT)\nconsole.log(process.env.IP)\n</code></pre>\n\n<p>Terminal output</p>\n\n<pre><code>Running Node Process\nTip: you can access long running processes, like a server, at 'http://private-cloud.mrchampe.c9.io'.\nImportant: in your scripts, use 'process.env.PORT' as port and 'process.env.IP' as host.\n8080\n127.6.70.129\n</code></pre>\n\n<p>Python Code</p>\n\n<pre><code>import os\n\nprint os.environ[\"PORT\"]\nprint os.environ[\"IP\"]\n</code></pre>\n\n<p>Terminal output</p>\n\n<pre><code>Running Python Process\n8080\n127.6.70.129\n</code></pre>\n\n<p>Twisted code</p>\n\n<pre><code>import os\nimport twisted\n\nfrom twisted.web import server, resource\nfrom twisted.internet import reactor\n\nclass Simple(resource.Resource):\n    isLeaf = True\n    def render_GET(self, request):\n        return \"&lt;html&gt;Hello, world!&lt;/html&gt;\"\n\nsite = server.Site(Simple())\n\nreactor.listenTCP(int(os.environ[\"PORT\"]), interface=os.environ[\"IP\"])\nreactor.run()\n</code></pre>\n\n<p>Terminal Output</p>\n\n<pre><code>Running Python Process\nhello world\nTraceback (most recent call last):\n  File \"python/hello.py\", line 17, in &lt;module&gt;\n\nreactor.listenTCP(int(os.environ[\"PORT\"]), interface=os.environ[\"IP\"])\nTypeError: listenTCP() takes at least 3 non-keyword arguments (2 given)\n</code></pre>\n\n<p>The <a href=\"http://twistedmatrix.com/documents/8.2.0/api/twisted.internet.interfaces.IReactorTCP.listenTCP.html\" rel=\"nofollow\">listenTCP</a> TypeError is strange because 2 arguments works locally but not on Cloud9. I don't see why using these arguments does not work.</p>\n\n<p>I have the above code hosted on <a href=\"https://c9.io/mrchampe/python-twisted\" rel=\"nofollow\">this</a> public Cloud9 project for anyone to take a look. Thanks!</p>\n"},{"tags":["python","list"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":13214153,"title":"Grouping in a list with sequence re-read","body":"<p>I have a string (Ex: BCVDBCVCBCBD) which i have converted into a list using the </p>\n\n<pre><code>seq_split = [string[i:i+1] for i in range (0, len(string),1)]\n</code></pre>\n\n<p>This resulted in a list like ['B' ,'C','V'.........,'D']</p>\n\n<p>Now considering I take a user input, in the form of a number (say for example 2). I need to read every 2nd element from the start i.e 1st letter of sequence and the letter that is 2 positions away from the 1st letter (in count itll be the 3rd letter from start). The second time ill need to read the 2nd letter in the sequence and again the letter 2 positions away. i.e. the 2nd and 4th letter of the sequence  . (I know its a little confusing so heres a detailed explanation)</p>\n\n<p>If the user input is the number 2:\nThen in a new list i will need to append (using the given string as example)- 'BV' , 'CD' , 'VB' and so on in a new list.</p>\n\n<p>Similarly if the input is 4. Then the new list i create will have - 'BB', 'CC' etc...\n I am confused as to how do i index them. </p>\n"},{"tags":["python","dns","proxy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13184205,"title":"DNS over proxy?","body":"<p>I've been pulling my hair out over the past few days looking around for a good solution to prevent DNS leaks over a socks4/5 proxy. </p>\n\n<p>I've looked into the SocksiPy(-branch) module, and tried to wrap a number of things (urllib,urllib2,dnstools), but they all seem to still leak DNS requests. So does pyCurl.</p>\n\n<p>I know that proxychains/proxyresolv can throw DNS requests over a socks4/5 proxy, and it does all it's magic with some LD_PRELOAD libraries to monkey-patch socket's functions, much like SocksiPy does, but I can't seem to figure out why it doesn't send DNS over either a socks4 or socks5 proxy.</p>\n\n<p>I suppose for linux I may be able to use CTypes with libproxychains.so to do my resolution, but I'm looking for something multi-platform, so I think monkey-patching the socket module is the way to go. </p>\n\n<p>Has anyone figured out a good way to get around this? I want to do it all in-code for portability's sake, and I don't want to resort to running another proxy server!</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","sublimetext2","color-scheme"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13210816,"title":"Sublime Text's syntax highlighting of regexes in python leaks into surrounding code","body":"<p>I have a problem with sublime text which should be generally all editors. When I have a regular expression like this. </p>\n\n<pre><code>listRegex = re.findall(r'[*][[][[].*', testString)\n</code></pre>\n\n<p>All the text after the regular expression will be incorrectly highlighted, because of the <code>[[]</code>, specifically the <code>[</code> without a close bracket. While the intention of this regular expression is correct, the editor doesn't know this.</p>\n\n<p>This is just an annoyance I don't know how to deal with. Anyone know how to fix this?</p>\n"},{"tags":["python","scikit-learn","scikits"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13212987,"title":"Cannot import scikits-learn even though it seems to be installed","body":"<p>Per the scikit-learn user guide, I installed scikit-learn using <code>pip install -U scikit-learn</code>.</p>\n\n<p>So using <code>pip search scikit-learn</code>, I get this search result:</p>\n\n<pre><code>scikit-learn - A set of python modules for machine learning and data mining\nINSTALLED: 0.12.1 (latest)\n</code></pre>\n\n<p>But when I go into Python and try to <code>import sklearn</code>, I get an <code>ImportError: No module named sklearn</code>. This really should have just worked.</p>\n\n<p>I am using Enthought's free distribution of Python (2.7.3) on a Mac OS 10.6.8 with NumPy 1.6.1 and SciPy 0.10.1. Yes, I'm aware that EPD Free comes with scikit-learn but pip should have upgraded my version so that I can actually use scikit-learn.</p>\n"},{"tags":["python"],"answer_count":8,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2085,"score":4,"question_id":3402679,"title":"identifying objects, why does the returned value from id(...) change?","body":"<blockquote>\n  <h3>id(object)</h3>\n  \n  <p>This is an integer (or long integer) which is guaranteed to be unique and constant for this object during its lifetime. </p>\n</blockquote>\n\n<p>Can you explain this output? Why does <code>j</code>'s id change?</p>\n\n<pre><code>&gt;&gt;&gt; i=10  \n&gt;&gt;&gt; id(i)  \n6337824  \n&gt;&gt;&gt; j=10  \n&gt;&gt;&gt; id(j)  \n6337824  \n&gt;&gt;&gt; j=j+1  \n&gt;&gt;&gt; id(j)  \n6337800  \n&gt;&gt;&gt; id(i)  \n6337824  \n</code></pre>\n"},{"tags":["python","floating-point","easygui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":28,"score":-3,"question_id":10041348,"title":"How to count with floats?","body":"<p>My code:</p>\n\n<pre><code>import easygui\n\nfppl = easygui.enterbox(\"Enter Fusion Plant Level: \")\netec = easygui.enterbox(\"Enter Energy Tech Level: \")\n\nprint (30*fppl*((1.05)+etec*(0.01))^fppl)\n</code></pre>\n\n<p>so, how do i make this work properly? Or to be more specific with the question, where do i type 'float()' (...and stuff) in this code?</p>\n\n<p>For your information, i am too lazy to do an equation in Ogame, so im making this calculator for it XD</p>\n"},{"tags":["python","math","file-io","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13212736,"title":"Writing a random amount of random numbers to a file and returning their squares","body":"<p>So, I'm trying to write a random amount of random whole numbers (in the range of <code>0</code> to <code>1000</code>), square these numbers, and return these squares as a list. Initially, I started off writing to a specific txt file that I had already created, but it didn't work properly. I looked for some methods I could use that might make things a little easier, and I found the <code>tempfile.NamedTemporaryFile</code> method that I thought might be useful. Here's my current code, with comments provided:</p>\n\n<pre><code># This program calculates the squares of numbers read from a file, using several functions\n# reads file- or writes a random number of whole numbers to a file -looping through numbers\n# and returns a calculation from (x * x) or (x**2);\n# the results are stored in a list and returned.\n# Update 1: after errors and logic problems, found Python method tempfile.NamedTemporaryFile: \n# This function operates exactly as TemporaryFile() does, except that the file is guaranteed to   have a visible name in the file system, and creates a temprary file that can be written on and accessed \n# (say, for generating a file with a list of integers that is random every time).\n\nimport random, tempfile \n\n# Writes to a temporary file for a length of random (file_len is &gt;= 1 but &lt;= 100), with random  numbers in the range of 0 - 1000.\ndef modfile(file_len):\n       with tempfile.NamedTemporaryFile(delete = False) as newFile:\n            for x in range(file_len):\n                 newFile.write(str(random.randint(0, 1000)))\n            print(newFile)\nreturn newFile\n\n# Squares random numbers in the file and returns them as a list.\n    def squared_num(newFile):\n        output_box = list()\n        for l in newFile:\n            exp = newFile(l) ** 2\n            output_box[l] = exp\n        print(output_box)\n        return output_box\n\n    print(\"This program reads a file with numbers in it - i.e. prints numbers into a blank file - and returns their conservative squares.\")\n    file_len = random.randint(1, 100)\n    newFile = modfile(file_len)\n    output = squared_num(file_name)\n    print(\"The squared numbers are:\")\n    print(output)\n</code></pre>\n\n<p>Unfortunately, now I'm getting this error in line 15, in my <code>modfile</code> function: <code>TypeError: 'str' does not support the buffer interface</code>. As someone who's relatively new to Python, can someone explain why I'm having this, and how I can fix it to achieve the desired result? Thanks!</p>\n\n<p>EDIT: now fixed code (many thanks to unutbu and Pedro)! Now: how would I be able to print the original file numbers alongside their squares? Additionally, is there any minimal way I could remove decimals from the outputted float?</p>\n"},{"tags":["python","code-reuse","expert-system"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13199703,"title":"Should a use a Knowledge Engine for Expert System in Python?","body":"<p>I need to program an expert system in Python (this is the first time I do both). I have to implement a big flow diagram which depends on progressive user input, i. e. the user provides inputs at many points of the flow diagram. In python, I have seen systems like PyKE for knowledge bases and inference rules; however, I do not understand if a system like that (Prolog-like) will help me with the process of many GUI windows asking many questions to the user or it is better to program it manually.</p>\n\n<p>Should I use a system like PyKE?</p>\n"},{"tags":["python","winapi","service","pywin32"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":338,"score":2,"question_id":8795703,"title":"Windows Service written in python, not detecting shutdown events and stopping gracefully","body":"<p>I've written a service for Windows XP+ in python using the <a href=\"http://timgolden.me.uk/python/win32_how_do_i/track-session-events.html\" rel=\"nofollow\">With Extended Service Notifications</a> example code.  It works great for detecting user logon/logoff lock screen, and other events.  The problem is that it never executes shutdown events and gracefully stops the service upon reboot/shutdown.  It stays alive through logon/logoff events as well as starting up again after the reboot.  Any help would be appreciated.</p>\n\n<p>I don't want to use RegisterServiceCtrlHandlerEx and handle console signals if I can help it--services have this functionality built in, I've just mangled it somehow.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>from os.path import splitext, abspath\nfrom sys import modules\n\nimport win32serviceutil\nimport win32service\nimport win32event\nimport win32api\nimport win32security\nimport win32ts\n\nclass Service(win32serviceutil.ServiceFramework):\n  _svc_name_ = '_unNamed'\n  _svc_display_name_ = '_Service Template'\n\n  def __init__(self, *args):\n    win32serviceutil.ServiceFramework.__init__(self, *args)\n    self.log('Initializing Service')\n    self.stop_event = win32event.CreateEvent(None, 0, 0, None)\n    self.server = None\n\n  def log(self, msg):\n    import servicemanager\n    servicemanager.LogInfoMsg(str(msg))\n  def logErr(self, msg):\n    import servicemanager\n    servicemanager.LogErrorMsg(str(msg))\n  def logWarn(self, msg):\n    import servicemanager\n    servicemanager.LogWarningMsg(str(msg))\n\n  def sleep(self, sec):\n    win32api.Sleep(sec*1000, True)\n\n  def GetAcceptedControls(self):\n    # Accept SESSION_CHANGE control\n    rc = win32serviceutil.ServiceFramework.GetAcceptedControls(self)\n    rc |= win32service.SERVICE_ACCEPT_SESSIONCHANGE\n    rc |= win32service.SERVICE_ACCEPT_SHUTDOWN\n    return rc\n\n  def GetUserInfo(self, sess_id):\n    sessions = win32security.LsaEnumerateLogonSessions()[:-5]\n    for sn in sessions:\n      sn_info = win32security.LsaGetLogonSessionData(sn)\n      if sn_info['Session'] == sess_id:\n        return sn_info\n\n  def getUserSessionInfo(self, sess_id):\n    msg = \"\"\n    try:\n      for key, val in self.GetUserInfo(sess_id).items():\n        msg += '%s : %s\\n'%(key, val)\n        if key == \"UserName\":\n          self.server.username = val\n    except Exception, e:\n      msg += '%s'%e\n    return msg\n\n  # All extra events are sent via SvcOtherEx (SvcOther remains as a\n  # function taking only the first args for backwards compatability)\n  def SvcOtherEx(self, control, event_type, data):\n      # This is only showing a few of the extra events - see the MSDN\n      # docs for \"HandlerEx callback\" for more info.\n      if control == win32service.SERVICE_CONTROL_SESSIONCHANGE:\n          sess_id = data[0]\n          msg = \"\"\n          if event_type == 5: # logon\n            msg = \"Logon event: type=%s, sessionid=%s\\n\" % (event_type, sess_id)\n#            user_token = win32ts.WTSQueryUserToken(int(sess_id))\n            self.server.status = 1 #logon event\n            self.getUserSessionInfo(sess_id)\n            self.sendHeartbeat()\n            self.server.status = 2 #active user\n          elif event_type == 6: # logoff\n            msg = \"Logoff event: type=%s, sessionid=%s\\n\" % (event_type, sess_id)\n            self.server.status = 3 #logoff event\n            self.sendHeartbeat()\n            self.server.username = \"\"\n            self.server.status = 0 #no user\n          elif event_type == 7: # lock\n            msg = \"Lock event: type=%s, sessionid=%s\\n\" % (event_type, sess_id)\n            self.server.status = 1 #logon event\n            self.getUserSessionInfo(sess_id)\n            self.sendHeartbeat()\n            self.server.status = 2 #active user\n          elif event_type == 8: # unlock\n            self.server.status = 3 #logoff event\n            self.server.username = \"\"\n            self.sendHeartbeat()\n            self.server.status = 0 #no user\n          else:\n            msg = \"Other session event: type=%s, sessionid=%s\\n\" % (event_type, sess_id)\n\n#          msg += self.getUserSessionInfo(sess_id)\n          self.log(msg)\n#      elif control == win32service.SERVICE_CONTROL_SHUTDOWN:\n#        msg = \"Server being shutdown...\"\n#        self.log(msg)\n\n  def SvcDoRun(self):\n    self.ReportServiceStatus(win32service.SERVICE_START_PENDING)\n    try:\n      self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n      self.log('Starting Service')\n      self.start()\n      self.log('Waiting')\n      win32event.WaitForSingleObject(self.stop_event, win32event.INFINITE)\n      self.log('Done')\n    except Exception, x:\n      self.logErr('Exception : %s' % x)\n      self.SvcStop()\n\n  def SvcStop(self):\n    self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n    self.log('Stopping Service')\n    self.stop()\n    self.log('Stopped')\n    win32event.SetEvent(self.stop_event)\n    self.ReportServiceStatus(win32service.SERVICE_STOPPED)\n\n  def sendHeartbeat(self):\n    # 0 = no user, standard beat (format: 0||hostname)\n    # 1 = login event (format: 1|username|hostname)\n    # 2 = active user session\n    # 3 = logout event (format: 2|username|hostname)\n    # 4 = Service exception (format 3||hostname)\n    return self.server.sendHeartbeat(category=self.server.status, username=self.server.username)\n\n  def start(self): pass\n  # to be overridden\n  def stop(self): pass\n  # to be overridden\n\n  #reboot/halt makes a different call than 'net stop mytestservice'\n  def SvcShutdown(self):\n    msg = \"Server being shutdown...\"\n    self.log(msg)\n    self.SvcStop()\n\n\ndef instart(cls, name, display_name=None, stay_alive=True, exe_name=\"caedmSAM.exe\"):\n    '''\n        Install and  Start (auto) a Service\n\n            cls : the class (derived from Service) that implement the Service\n            name : Service name\n            display_name : the name displayed in the service manager\n            stay_alive : Service will stop on logout if False\n    '''\n    cls._svc_name_ = name\n    cls._svc_display_name_ = display_name or name\n    cls._exe_name_ = exe_name\n    cls._svc_description_ = \"CAEDM SAM Server registration and montioring service\"\n    try:\n        module_path=modules[cls.__module__].__file__\n    except AttributeError:\n        # maybe py2exe went by\n        from sys import executable\n        module_path=executable\n    module_file=splitext(abspath(module_path))[0]\n    cls._svc_reg_class_ = '%s.%s' % (module_file, cls.__name__)\n    if stay_alive: win32api.SetConsoleCtrlHandler(lambda x: True, True)\n    try:\n        win32serviceutil.InstallService(\n                cls._svc_reg_class_,\n                cls._svc_name_,\n                cls._svc_display_name_,\n                startType=win32service.SERVICE_AUTO_START\n                )\n#        print 'Install: OK'\n        win32serviceutil.StartService(\n                cls._svc_name_\n                )\n#        print 'Start: OK'\n    except Exception, x:\n        print str(x)\n</code></pre>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":5,"view_count":544,"score":-3,"question_id":3083829,"title":"How do I interleave strings in Python?","body":"<p>How do I interleave strings in Python?</p>\n\n<p>Given</p>\n\n<pre><code>s1 = 'abc'\ns2 = 'xyz'\n</code></pre>\n\n<p>How do I get <code>axbycz</code>?</p>\n"},{"tags":["python","qt","matplotlib","figure"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":25,"score":3,"question_id":13213832,"title":"MathTextParser: Fit output to figsize","body":"<p>I am using <code>MathTextParser</code> to depict some equations in Qt. Therefore i get the required tex string out of a dict, parse it using the to_rgba method of the parser i created (handing over a general fontsize and dpi) and finally hand this to my <code>FigureCanvas</code> of the <code>QWidget</code> by <code>figimage</code>.<br>\nHave a look: </p>\n\n<pre><code>class MathWidget(QWidget):\n    def __init__(self, parent = None):\n            QWidget.__init__(self, parent)\n            ...\n            self.canvas = MathCanvas() # The FigureCanvas to display the teximage\n            ...\n            self.parser = mathtext.MathTextParser(\"Bitmap\")\n\n    def render(self,metric):\n            equation = self.equations[metric]\n            rgb, d = self.parser.to_rgba(equation, color='black', fontsize=8, dpi=200)\n            self.canvas.fig.figimage(rgb.astype(float)/255., 0, 0)\n            self.canvas.draw()\n</code></pre>\n\n<p>My problem now is, that the equations to be parsed are of varying length whereas the  <code>FigureCanvas</code> has a fixed size (as it needs to have) so that it happens, that some equations result in an image, which exceeds the figure in its size so that some part of the equation is cut off/not visible, like in this example:<br>\n<a href=\"http://wwwpub.zih.tu-dresden.de/~s4901563/exceed.png\" rel=\"nofollow\">Cut off equation</a><br>\nWhat i wouldn't like to do is to somehow predefine a fontsize for every tex string depeding on its length, for the reason that even user defined equations (of unpredictable length) need to be parsed and displayed.<br>\nSo is there by any chance a way to make the parser fit the e.g. fontsize, so that the output is a rasterized tex of a fixed size independently of the equation size/length?  </p>\n\n<p>Besides: In comparison to e.g. numpy/scipy the docs of matplotlib seem inscrutable to me for some reason, thus if somebody could comment on how <code>to_rgba</code> and <code>figimage</code> exactly work i'd be grateful, too.. e.g. concerning to_rgba: what means the following quote elucidating depth?: </p>\n\n<blockquote>\n  <ul>\n  <li>depth is the offset of the baseline from the bottom of the image in pixels</li>\n  </ul>\n</blockquote>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","animation","sprite","pygame"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13209581,"title":"sprite animation on key press","body":"<p>I am trying to animate a spritesheet when you press a button on the keyboard.  My initial idea was to just blit the images on keypress.  I moved the animation code from the main loop to the user input loop.  That did not work because the game loop handles individual state for the entire game.  What technique is used to trigger animations from user input?  I want an animation system that can handle animations both by user input and also in the background on their own.</p>\n\n<pre><code> if __name__ == \"__main__\":\n    print \"the game\"\n    pygame.init()\n    screen = pygame.display.set_mode((800,600))\n\n    images = load_sliced_sprites(100, 71, \"spinning_roundhouse_kick.png\")\n    spritesheet = AnimatedSprite(images, 20)\n    #while pygame.event.poll().type != KEYDOWN:\n    while True:\n        screen.fill((255,255,255))\n        event = pygame.event.poll()\n\n        if event.type == KEYDOWN:\n            #print \"keydown\"\n            for image in images:\n                screen.blit(image, (0,0))\n\n        #time = pygame.time.get_ticks()\n        #spritesheet.update(time)\n        #screen.blit(spritesheet.image, (0,0))\n\n        pygame.display.update()\n</code></pre>\n"},{"tags":["python","unicode"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13213866,"title":"Python unicode character codes?","body":"<p>Is there a way to \"insert\" a Unicode character into a string in python? For example,</p>\n\n<pre><code>&gt;&gt;&gt;import unicode\n&gt;&gt;&gt;string = u'This is a full block: %s' % (unicode.charcode(U+2588))\n&gt;&gt;&gt;print string\nThis is a full block: █\n</code></pre>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13190257,"title":"output repetition","body":"<p>I wrote this program which outputs pythagorean triplet whose sum is a certain number(this would be the parameter). The program runs perfectly but the same triplet is appearing multiple times and I want one triplet to appear just once. I was wondering if someone could help me out. Thanks!</p>\n\n<pre><code>def pythagoreanCheck(tripletList):\n    '''\n        Checks whether the three numbers are pythagorean triplet\n        returns True or False\n    '''\n\n    trip_list = [0,1,2]\n\n    if tripletList[0]**2 + tripletList[1]**2 == tripletList[2]**2:\n        return True\n    else:\n        return False\n\ndef givMeSum(target):\n    '''\n        returns 3 numbers such that their sum is equal to target\n    '''       \n\n    listOfa = xrange(1,target)\n    listOfb = xrange(1,target)\n    listOfc = xrange(1,target)\n\n    for i in listOfa:\n        for j in listOfb:\n            for k in listOfc:\n                add = i + j + k\n\n                if add == target:\n                    add_list = [i,j,k]\n                    add_list.sort()\n\n                    value = pythagoreanCheck(add_list)\n\n                    if value:\n                        print add_list\n\n\ndef main():\n    givMeSum(12)\n\nmain()\n</code></pre>\n"},{"tags":["python","imaplib","imapclient"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13212379,"title":"Using IMAPClient how do you view the Senders address?","body":"<p>Using <a href=\"http://imapclient.freshfoo.com/\" rel=\"nofollow\">IMAPClient</a> how do I view the message body and the senders email address?</p>\n\n<pre><code>server = IMAPClient(imap_server, use_uid=True, ssl=ssl)\nserver.login(imap_user, imap_password)\n\nprint 'login successful'\n\nselect_info = server.select_folder('INBOX')\nprint '%d messages in INBOX' % select_info['EXISTS']\n\nmessages = server.search(['NOT DELETED'])\nprint \"%d messages that aren't deleted\" % len(messages)\n\nprint\nprint \"Messages:\"\nresponse = server.fetch(messages, ['FLAGS', 'RFC822.SIZE'])\nfor msgid, data in response.iteritems():\n    print '   ID %d: %d bytes, flags=%s' % (msgid,\n                                            data['RFC822.SIZE'],\n                                            data['FLAGS'])\n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13213383,"title":"how to set a python program to read an unspecified number of scores and determine how many scores are above average and below average","body":"<p>I have this much already i just don't understand how to make it read an unspecified number.</p>\n\n<pre><code>NUMBER_OF_SCORES = (1-100):\nnumbers = [] \n\nsum = 0\n\nfor i in range(NUMBER_OF_SCORES): \n    value = eval(input(\"Enter a new number: \")) \n    numbers.append(value)\n\n    sum += value\n\naverage = sum / NUMBER_OF_SCORES\n\ncount = 0 # The number of elements above average\n\nfor i in range(NUMBER_OF_SCORES): \n    if numbers[i] &gt; average:     \n        count += 1\n\ncount1 = 0\n\nfor i in range(NUMBER_OF_SCORES): \n    if numbers[i] &lt; average:\n        count1 += 1\n\nstop = \"stop\"\n\nif numbers (1&lt;=100):\n    print(\"Average is\", average*2)\nelif numbers (stop):\n    print(\"Number of elements above the average is\", count)\n\nelse:\n    print(\"sorry i don't understand.\")\"\n</code></pre>\n"},{"tags":["python","twitter","tweepy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13213548,"title":"Tweepy Cursor vs Iterative for low API calls","body":"<p>I am writing a simple <a href=\"http://packages.python.org/tweepy/html/\" rel=\"nofollow\">Tweepy</a> application for fun, but am really limited to how many API calls I have (anywhere between 150 and 350). So to account for this I am looking for ways to cut calls. Tweepy has a cursor system built in. Eg:</p>\n\n<pre><code># Iterate through all of the authenticated user's friends\nfor follower in tweepy.Cursor(api.followers).items():\n    follower.follow()\n</code></pre>\n\n<p>For those who are familiar with this library. Would the above example be more or less efficient than simply...</p>\n\n<pre><code>for follower in api.followers_ids():\n    api.follow(follower)\n</code></pre>\n\n<p>Are there any other advantages apart from simplicity to use the Cursor method over an iterative method?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","cherrypy","metaobject"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":13213736,"title":"In python, What does it mean if I assign a variable to a method?","body":"<p>Reading the CherryPy tutorial I run into this</p>\n\n<pre><code>class HelloWorld(object):\n    def index(self):\n        return \"Hello World!\"\n    index.exposed = True\n</code></pre>\n\n<p>So was does it mean? is exposed a variable in the local scope of the method index? If so, can I the value of expose change? I think it has something to do with python's MetaObject protocol to expose a class definition as an object itself.</p>\n"},{"tags":["python","environment-variables","popen","python-subprocess-module"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13213676,"title":"subprocess.Popen execve() arg 3 contains a non-string value","body":"<p>I'm trying to trying to run another script via the shell, that uses a modified set of environment variables.</p>\n\n<pre><code>def cgi_call(script, environ):\n    pSCRIPT = subprocess.Popen(script, stdout=subprocess.PIPE, stderr=subprocess.PIPE, \n                        stdin=subprocess.PIPE, env=environ, shell=True)\n\n    pc = pSCRIPT.communicate()\n\n    status = \"200 OK\"\n    headers = [('Content-Type',\"text/html\")]\n    if pc[1] != '':\n        raise RuntimeError, pc[1]\n    else:\n        rval = str(pc[0])\n\n    return status, headers, rval\n</code></pre>\n\n<p>After running the code above, I get the following error:</p>\n\n<pre><code>File \"server/httpd.py\", line 76, in DynamicServer\n    status, headers, rval = handler(environ)\nFile \"server/httpd.py\", line 43, in handler\n    status, headers, rval = cgi_call(srvpath+\"../www/public_html\"+environ[\"PATH_INFO\"]+'index.py',environ)\nFile \"server/httpd.py\", line 21, in cgi_call\n    stdin=subprocess.PIPE, env=environ, shell=True)\nFile \"/usr/lib/python2.7/subprocess.py\", line 679, in __init__\n    errread, errwrite)\nFile \"/usr/lib/python2.7/subprocess.py\", line 1249, in _execute_child\n    raise child_exception\n&lt;type 'exceptions.TypeError'&gt; execve() arg 3 contains a non-string value\n</code></pre>\n\n<p>The error comes when passing the environment variables... I've also tried passing them as a string - It errors out and says that it needs a mapping object. However, as it is, the environ being passed IS a mapping object...</p>\n\n<p>What is the problem?</p>\n\n<p>Additional Information:\nI am running Python 2.7 on Ubuntu 12.04.1</p>\n"},{"tags":["python","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13213538,"title":"md5 to integer bits in python","body":"<p>I'm trying to convert an MD5 hashed value into a a bit integer in python. Does anyone have any idea how I would go about doing this?</p>\n\n<p>I currently go through several ngrams applying a hash to each ngram:</p>\n\n<pre><code>for sentence in range(0,len(doc)):\n        for i in range(len(doc[sentence]) - 4 + 1):\n            ngram = doc[sentence][i:i + 4]\n            hashWord = hashlib.md5()\n            hashWord.update(ngram)\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["python","imap","imaplib","imapclient"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13213565,"title":"IMAPClient and BODY[HEADER.FIELDS (FROM)] field","body":"<p>I'm really starting to get the hang of IMAPClient. The code: <code>'BODY[HEADER.FIELDS (FROM)]'</code> returns </p>\n\n<pre><code>From: First Last &lt;first.last@domain.com&gt;\n</code></pre>\n\n<p>I'd really just like it to return the email address like this:</p>\n\n<pre><code>first.last@lbox.com\n</code></pre>\n\n<p>Do I need to pass it to a variable first and trim it down or is there another <code>fetch</code> modifier I can use?</p>\n\n<pre><code>response = server.fetch(messages, ['FLAGS', 'RFC822.SIZE', 'BODY[HEADER.FIELDS (FROM)]'])\nfor msgid, data in response.iteritems():\n    print '   ID %d: %d bytes, From: %s flags=%s' % (msgid,\n                                            data['RFC822.SIZE'],\n                                            data['BODY[HEADER.FIELDS (FROM)]'],\n                                            data['FLAGS'])\n</code></pre>\n"},{"tags":["python","recursion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":13213465,"title":"recursively mix strings","body":"<p>I'm trying to link two string together recursively, but not getting the expected results:</p>\n\n<p>For the two strings <code>\"abcd\"</code> and <code>\"xyz\"</code> - expected output should be <code>\"axbyczd\"</code>:</p>\n\n<pre><code>def strr(str1, str2):\n\n    def recstr(str1, str2, prn):\n        if str1 == '':\n            return str2\n        if str2 == '':\n            return str1\n        else:\n            return prn + recstr(str1[:len(str1)-len(prn)],str2[:len(str2)-len(prn)],prn)\n    return recstr(str1, str2, '')\n\nprint strr(\"abcdef\",\"12345\")\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13213291,"title":"Why does this `random()` execute only once?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1132941/least-astonishment-in-python-the-mutable-default-argument\">“Least Astonishment” in Python: The Mutable Default Argument</a>  </p>\n</blockquote>\n\n\n\n<pre><code>from random import random\n\ndef printNumber(num=random()):\n    print num\n\nfor i in range(10):\n    printNumber()\n</code></pre>\n\n<p>I want to see ten random numbers, but the ten random numbers are all the same!</p>\n"},{"tags":["python","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13205157,"title":"just one row from sqlalchemy","body":"<pre><code>import re\nfrom sqlalchemy import *\n\ndb = create_engine('sqlite:///code.db')\n\ndb.echo = True\n\nmetadata = MetaData(db)\n\nhalo4 = Table('emblem_codes', metadata, autoload=True)\n\n#########################\n## Get One Unused Code ##\n#########################\n\ns = select([halo4.c.code, halo4.c.status=='None'])\nresult = s.execute()\n\nfor row in result:\n    print row\n</code></pre>\n\n<p>My code returns all 80999 results. I only want one. Whats the best way to do this?</p>\n\n<p>This a sample of code.db:</p>\n\n<pre><code>(u'JRQRY-MYHW3-D67GR-7YWFF-CRJ31', None)\n(u'9D7DR-4WFDY-VG49F-3DYCG-7DYT5', None)\n(u'QR9WT-P3CTM-PW4WW-34JJ4-RFKV7', None)\n(u'7FMXQ-H97TC-FFYC6-XHXFV-Y7KR2', None)\n(u'VKHXW-29WC4-4PF4Y-2QMJ4-4W2H4', None)\n</code></pre>\n"},{"tags":["python","string"],"answer_count":8,"favorite_count":1,"up_vote_count":13,"down_vote_count":6,"view_count":18557,"score":7,"question_id":511204,"title":"How to print a string without including '\\n' in Python","body":"<p>Suppose my string is:</p>\n\n<pre><code>' Hai Hello\\nGood eve\\n'\n</code></pre>\n\n<p>How do I eliminate the <code>'\\n'</code> in between and make a string print like :</p>\n\n<pre><code> Hai Hello Good eve \n</code></pre>\n\n<p>?</p>\n"},{"tags":["python","variables","namespaces"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13212814,"title":"changing values inside a local space by a function in that local space","body":"<p>here's a sample code:</p>\n\n<pre><code>def foo():\n    def bar():\n        foobar = 'foobaz'\n\n    foobar = 'foobar'\n    print foobar\n    bar()\n    print foobar\n\nfoo()\n</code></pre>\n\n<p>I want to change variable <code>foobar</code> inside <code>foo</code> by function <code>bar</code>. The code above will not work, since <code>foobar</code> inside <code>bar</code> is in separate namespace with <code>foobar</code> in <code>foo</code>. A simple workaround would be making a global <code>foobar</code> and have both <code>foo</code> and <code>bar</code> can access it, but I hope there would be simpler workarounds.</p>\n"},{"tags":["python","django","openid"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":298,"score":2,"question_id":11456220,"title":"Alternatives to Django for Python based Web Development?","body":"<p>I am about to start a new personal web / iphone app project which requries the following:</p>\n\n<ul>\n<li>Storing data on the backend</li>\n<li>authenticating the user via openid</li>\n<li>Generate JSON based APIs for reading and writing data</li>\n</ul>\n\n<p>I normally use Django for all of my projects but thought I would take this opportunity to learn something new. So, are their any Python based web development frameworks that are good alternatives to Django? Ideally ones that are strong on the points listed above?</p>\n\n<p>Bonus points if the framework is:</p>\n\n<ul>\n<li>lightweight</li>\n<li>easy to install, deploy and developwith</li>\n</ul>\n\n<p>Any recommendations?</p>\n"},{"tags":["python","django","url","django-urls"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13212960,"title":"How Do I Handle Ampersands in Django URLs?","body":"<p>I have a Django site that uses item names to create viewer-friendly URLs.  For instance:</p>\n\n<pre><code>/item/DeluxeWidget/\n</code></pre>\n\n<p>I have an item that has an ampersand in the name:</p>\n\n<pre><code>/item/Red &amp; Blue Widget/\n</code></pre>\n\n<p>The ampersand throws things off.  If I use {{ widget.name|fix_ampersands }}, the ampersand will be escaped as <code>&amp;amp;</code> but it still isn't picked up in the URL pattern:</p>\n\n<pre><code>url(r\"^widget/(?P&lt;name&gt;[0-9a-zA-Z&amp;,. -]+)/$\", 'site.views.widget' ),\n</code></pre>\n\n<p>In the view I use the captured name to do</p>\n\n<pre><code>Widget.objects.get(name=name)\n</code></pre>\n\n<p>What's the right combination of escaping, patterns, or filters to handle an ampersand in a URL?  I also expect to run into names with apostrophes in them.  Is there anything I should do to handle those too?</p>\n"},{"tags":["python","twitter","tweepy"],"answer_count":2,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":215,"score":7,"question_id":12133489,"title":"Tweepy SSLError","body":"<p>I have a Django management command, launched via supervisord, that uses tweepy to consume the twitter streaming API.</p>\n\n<p>The agent works quite well however I notice in the logs there's an SSLError every 10-15 minutes and supervisord is re-launching the agent.</p>\n\n<p>The tweepy package is latest, version 1.11. The server is ubuntu 12.04 LTS. I've tried installing the cacert into the key chain as mentioned in the link below, but no luck.</p>\n\n<p><a href=\"https://dev.twitter.com/discussions/533\">Twitter API SSL Root CA Certificate</a> </p>\n\n<p>Any suggestions?</p>\n\n<pre><code>[2012-08-26 19:28:15,656: ERROR] Error establishing the connection\nTraceback (most recent call last):.../.../datasinks.py\", line 102, in start\n    stream.filter(locations=self.locations)\n  File \"/site/pythonenv/local/lib/python2.7/site-packages/tweepy/streaming.py\", line 228, in filter\n    self._start(async)\n  File \"/site/pythonenv/local/lib/python2.7/site-packages/tweepy/streaming.py\", line 172, in _start\n    self._run()\n  File \"/site/pythonenv/local/lib/python2.7/site-packages/tweepy/streaming.py\", line 117, in _run\n    self._read_loop(resp)\n  File \"/site/pythonenv/local/lib/python2.7/site-packages/tweepy/streaming.py\", line 150, in _read_loop\n    c = resp.read(1)\n  File \"/usr/lib/python2.7/httplib.py\", line 541, in read\n    return self._read_chunked(amt)\n  File \"/usr/lib/python2.7/httplib.py\", line 574, in _read_chunked\n    line = self.fp.readline(_MAXLINE + 1)\n  File \"/usr/lib/python2.7/socket.py\", line 476, in readline\n    data = self._sock.recv(self._rbufsize)\n  File \"/usr/lib/python2.7/ssl.py\", line 241, in recv\n    return self.read(buflen)\n  File \"/usr/lib/python2.7/ssl.py\", line 160, in read\n  return self._sslobj.read(len)\nSSLError: The read operation timed out\n</code></pre>\n\n<p>Following is an outline of the code.</p>\n\n<pre><code>from tweepy import API, OAuthHandler\nfrom tweepy.streaming import StreamListener, Stream\n# snip other imports\n\nclass TwitterSink(StreamListener, TweetSink):\n\n  def __init__(self):\n    self.auth = OAuthHandler(settings.TWITTER_OAUTH_CONSUMER_KEY, settings.TWITTER_OAUTH_CONSUMER_SECRET)\n    self.auth.set_access_token(settings.TWITTER_OAUTH_ACCESS_TOKEN_KEY, settings.TWITTER_OAUTH_ACCESS_TOKEN_SECRET)\n    self.locations = '' # Snip for brevity\n\n  def start(self):\n    try:\n        stream = Stream(self.auth, self,timeout=60, secure=True)\n        stream.filter(locations=self.locations)\n    except SSLError as e:\n        logger.exception(\"Error establishing the connection\")\n    except IncompleteRead as r:\n        logger.exception(\"Error with HTTP connection\")\n\n  # snip on_data()\n  # snip on_timeout()\n  # snip on_error()\n</code></pre>\n"},{"tags":["python","imaplib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13212953,"title":"search for string in msg python","body":"<p>I can print each email. What I want to do though is search each email for a string and return true of false if it has the string. How can I parase <code>msg</code> to do this?</p>\n\n<pre><code>conn.select(readonly=1) # Select inbox or default namespace\n(retcode, messages) = conn.search(None, '(UNSEEN)')\nif retcode == 'OK':\n    for num in messages[0].split(' '):\n        print 'Processing :', messages\n        typ, data = conn.fetch(num,'(RFC822)')\n        msg = email.message_from_string(data[0][1])\n        typ, data = conn.store(num,'-FLAGS','\\\\Seen')\n        if retcode == 'OK':\n            print data,'\\n',30*'-'\n            for line in msg:\n                if \"Subject: Thanks for your Walmart.com Order\" in line:\n                    print line\n\nconn.close()\n</code></pre>\n"},{"tags":["python","wxpython"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13210822,"title":"How can I align the text in a StatusBar to the right in wxPython?","body":"<p>I want to achieve a status bar with 2 fields. The first one left-aligned and the second one right-aligned. Illustration of what I want:</p>\n\n<pre>\n|                                                                               |\n|                                                                               |\n=================================================================================\n| Some status text.                                                   v. 1.0.32 |\n</pre>\n\n<p>My current code:</p>\n\n<pre><code>self.CreateStatusBar(2)\nself.SetStatusWidths([-1, -1])\n</code></pre>\n\n<p>But the right field is left aligned, so it looks like this:</p>\n\n<pre>\n|                                                                               |\n|                                                                               |\n=================================================================================\n| Some status text.                      v. 1.0.32                              |\n</pre>\n\n<p>Is there any way to get text in the right field to align to the right?</p>\n"},{"tags":["python","bluetooth","pyserial"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13212283,"title":"Python Pyserial read the return values","body":"<p>I need to communicate by a com port(bluetooth device) and I do reach the bluetooth device but he have a passkey \"1234\" and then it connects to other device that have a password that I need to recover and for that I use:</p>\n\n<pre><code>for line in open('myfile', 'r'):\n    time.sleep(1)\n    if line = \"x\":\n        print \"\"\n    else\n        print\"\"\n</code></pre>\n\n<p>my problem is I can't get the passkey to the device so the connection is denied. Does anyone ever had the same situation or know how can I send the passkey to the bluetooth device ?</p>\n"},{"tags":["python","initialization","static-members"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":7895998,"title":"Delaying static class member initialization","body":"<p>I have this (example) code:</p>\n\n<pre><code>init()\n\nclass A:\n    foo = bar()\n\n    def __init__(self):\n        print(A.foo)\n</code></pre>\n\n<p>The problem is, the function <code>bar()</code> refuses to work unless <code>init()</code> has been called first. What is a nice Pythonesque solution for this problem?</p>\n\n<hr>\n\n<p>In my specific situation <code>init()</code> is third-party and can not be adapted and is called in a different file than <code>A</code> is defined.</p>\n"},{"tags":["python","django"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":520,"score":2,"question_id":7510849,"title":"django how to display users full name in FilteredSelectMultiple","body":"<p>i am trying to use FilteredSelectMultiple widget to display list of users. currently it is displaying only username. I have tried to override the label_from_instance as seen below but it does not seem to work. how can it get to display users full name.</p>\n\n<pre><code>class UserMultipleChoiceField(FilteredSelectMultiple):\n    \"\"\"\n    Custom multiple select Feild with full name\n    \"\"\"                                                                                                                                                                 \n    def label_from_instance(self, obj):\n              return \"%s\" % (obj.get_full_name())\n\nclass TicketForm(forms.Form):\n    cc_to  = forms.ModelMultipleChoiceField(queryset=User.objects.filter(is_active=True).order_by('username'), widget=UserMultipleChoiceField(\"CC TO\", is_stacked=True)\n</code></pre>\n"},{"tags":["python","list"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":94,"score":4,"question_id":13129281,"title":"Finding neighbors in a list","body":"<p>I have a list:</p>\n\n<pre><code>l=['a','&gt;&gt;','b','&gt;&gt;','d','e','f','g','&gt;&gt;','i','&gt;&gt;','&gt;&gt;','j','k','l','&gt;&gt;','&gt;&gt;']\n</code></pre>\n\n<p>I need to extract all the neighbors of <code>'&gt;&gt;'</code> and split them into groups where they have elements in between that are neither <code>'&gt;&gt;'</code> or neigbors of <code>'&gt;&gt;'</code>.</p>\n\n<p>For the example list the expected outcome would be:</p>\n\n<pre><code>[['a', 'b', 'd'], ['g', 'i', 'j'], ['l']]\n</code></pre>\n\n<p>I have tried quite a few things, but all the simple ones have failed one way or another. At the moment the only code that seems to work is this:</p>\n\n<pre><code>def func(L,N):\n    outer=[]\n    inner=[]\n    for i,e in enumerate(L):\n        if e!=N:\n            try:\n                if L[i-1]==N or L[i+1]==N:\n                    inner.append(e)\n                elif len(inner)&gt;0:\n                    outer.append(inner)\n                    inner=[] \n            except IndexError:\n                pass\n    if len(inner):\n        outer.append(inner)\n    return outer\n\nfunc(l,'&gt;&gt;')\n\nOut[196]:\n[['a', 'b', 'd'], ['g', 'i', 'j'], ['l']]\n</code></pre>\n\n<p>Although it seems to work, i am wondering if there is a better,cleaner way to do it?</p>\n"},{"tags":["python","linux","gnuplot"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13204764,"title":"python gnuplot read from file","body":"<p>i have a file with the following data the first field is UNIXTimestamp,</p>\n\n<pre><code>1351734672.095 25\n1351734674.449 52\n1351734676.638 612\n1351734680.669 44\n1351734681.121 16\n1351734684.182 15\n1351734684.386 17\n1351734686.823 16\n1351734689.807 22\n1351734689.807 28\n</code></pre>\n\n<p>how do i load the x,y from this file to python?</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom numpy import *\nimport Gnuplot\n\ng = Gnuplot.Gnuplot()\ng.title('My Systems Plot')\ng.xlabel('Date')\ng.ylabel('Value')\ng('set term png')\ng('set out \"output.png\"')\nproc = open(\"response\",\"r\")\ndatabuff = Gnuplot.Data(proc.read(), title=\"test\")\ng.plot(databuff)\n</code></pre>\n\n<p>currently this is not working...any ideas??</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>#!/usr/bin/env python\nfrom numpy import *\nimport Gnuplot\n\ng = Gnuplot.Gnuplot()\ng.title('My Systems Plot')\ng.xlabel('Date')\ng.ylabel('Response')\ng('set auto x')\ng('set term png')\ng('set out \"output.png\"')\ng('set timefmt \"%s\"')\ng('set xdata time')\ng('set xtic rotate by 45 scale 1 font \",2\"')\ng('set key noenhanced')\ng('set format x \"%H:%M:%S\"')\ng('set grid')\n\n\ndatabuff = Gnuplot.File(\"repo\", using='1:2',title=\"test\")\ng.plot(databuff)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/gUJQQ.png\" alt=\"enter image description here\"></p>\n\n<p>The time values on xaxis are overlapping with the graph..any ideas??</p>\n"},{"tags":["python","image","pil"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13212762,"title":"ImageOps.fit is blurring my image","body":"<p>I'm using ImageOps to resize and center-crop uploaded avatar images. The problem is, when I try to upload an image that is already the desired size, the uploaded image is blurred.</p>\n\n<p>The relevant code:</p>\n\n<pre><code>avatar_size = (59,59)\n#resized_im = im.resize(avatar_size, Image.ANTIALIAS)   #This works! But doesn't crop.\nformatted_im = ImageOps.fit(im, avatar_size, Image.ANTIALIAS, centering=(0.5,0.5))     \nformatted_im.save('foo.jpg', 'JPEG', quality=95)\n</code></pre>\n\n<p>So, when I upload a 59x59px image, the resulting upload on the server is blurred. Tried googling, reading the docs, and experimenting, but can't figure this out. Thanks for the help.</p>\n"},{"tags":["python","gui","tkinter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13212300,"title":"How to reconfigure tkinter canvas items?","body":"<p>I don't know if this question has duplicates , but i haven't found one yet.</p>\n\n<p>when using python you can create GUI fastly , but sometimes you cannot find a method to do what you want. for example i have the following problem:</p>\n\n<p>let's suppose that there is a canvas called K with a rectangle with ID=1(canvas item id , not memory id) in it.</p>\n\n<p>if i want to redraw the item i can delete it and then redraw it with new settings.</p>\n\n<pre><code>K.delete(1)\nK.create_rectangle(x1,y1,x2,y2,options...)\n</code></pre>\n\n<p>here is the problem:the object id changes; how can i redraw or move or resize the rectangle or simply change it without changing its id with a method?for example:</p>\n\n<pre><code>K.foo(1,options....)\n</code></pre>\n\n<p>if there isn't such a method , then i should create a list with the canvas object ids , but it is not elegant and not fast.for example:</p>\n\n<pre><code>ItemIds=[None,None,etc...]\nItemIds[0]=K.create_rectangle(old options...)\nK.delete(ItemIds[0])\nItemIds[0]=K.create_rectangle(new options...)\n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13212695,"title":"strange while behaviour","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13212173/strange-while-statement-behaviour\">strange while statement behaviour?</a>  </p>\n</blockquote>\n\n\n\n<p>Given the following, how may I implement list comprehension correctly, exit the loop &amp; run the statements after 'else'? I had tried to scan for '-' characters but it does not work.</p>\n\n<p>Have tried:</p>\n\n<pre><code>while(current != randomValue)\n</code></pre>\n\n<p>Trying now:</p>\n\n<pre><code>randomKey = random.choice(list(topic.keys()))\n\nrandomValue = random.choice(topic[randomKey])\n\ncurrent = \"-\" * len(randomValue)  \n\nwhile (i for i in range (0, len(current)) if i != \"-\"):\n    (statements)\nelse:\n    (statements)\n</code></pre>\n"},{"tags":["python","lambda","scope","python-2.7","variable-scope"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":54,"score":4,"question_id":13212713,"title":"Lambdas, callable class instances, and scoping; why doesn't it work in Python 2.7?","body":"<p>Can someone explain to me why the following code produces the exception it does?</p>\n\n<pre><code>&gt;&gt;&gt; class CallableKlass(object):\n    def __init__(self, callible):\n        self.callible = callible\n    def __call__(self, arg):\n        return self.callible(arg)\n\n\n&gt;&gt;&gt; class Klass(object):\n    d = {'foo': 'bar'}\n    m = CallableKlass(lambda x: d[x])\n\n\n&gt;&gt;&gt; Klass.m('foo')\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#10&gt;\", line 1, in &lt;module&gt;\n    Klass.m('foo')\n  File \"&lt;pyshell#5&gt;\", line 5, in __call__\n    return self.callible(arg)\n  File \"&lt;pyshell#9&gt;\", line 3, in &lt;lambda&gt;\n    m = CallableKlass(lambda x: d[x])\nNameError: global name 'd' is not defined\n</code></pre>\n"},{"tags":["python","image","python-imaging-library","downsampling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":253,"score":0,"question_id":7936154,"title":"Python Image Library: clean Downsampling","body":"<p>I've been having trouble trying to get PIL to nicely downsample images. The goal, in this case, is for my website to automagically downsample->cache the original image file whenever a different size is required, thus removing the pain of maintaining multiple versions of the same image. However, I have not had any luck. I've tried:</p>\n\n<pre><code>image.thumbnail((width, height), Image.ANTIALIAS)\nimage.save(newSource)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>image.resize((width, height), Image.ANTIALIAS).save(newSource)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>ImageOps.fit(image, (width, height), Image.ANTIALIAS, (0, 0)).save(newSource)\n</code></pre>\n\n<p>and all of them seem to perform a nearest-neighbout downsample, rather than averaging over the pixels as it should Hence it turns images like </p>\n\n<p><a href=\"http://www.techcreation.sg/media/projects//software/Java%20Games/images/Tanks3D%20Full.png\" rel=\"nofollow\">http://www.techcreation.sg/media/projects//software/Java%20Games/images/Tanks3D%20Full.png</a></p>\n\n<p>to </p>\n\n<p><a href=\"http://www.techcreation.sg/media/temp/0x5780b20fe2fd0ed/Tanks3D.png\" rel=\"nofollow\">http://www.techcreation.sg/media/temp/0x5780b20fe2fd0ed/Tanks3D.png</a></p>\n\n<p>which isn't very nice. Has anyone else bumped into this issue?</p>\n"},{"tags":["python","http","nginx","wsgi","haproxy"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13210636,"title":"Differentiate nginx, haproxy, varnish and uWSGI/Gunicorn","body":"<p>I am really new to sys admin stuff, and have only provisioned a VPS with nginx(serving the static files) and gunicorn as the web server. </p>\n\n<p>I have lately been reading about different other stuff. I came to know about other tools:</p>\n\n<p><a href=\"http://wiki.nginx.org/Main\" rel=\"nofollow\">nginx</a> : high-performance HTTP server and reverse proxy, as well as an IMAP/POP3 proxy server</p>\n\n<p><a href=\"http://haproxy.1wt.eu/\" rel=\"nofollow\">haproxy</a> : high performance load balancer</p>\n\n<p><a href=\"https://www.varnish-cache.org/\" rel=\"nofollow\">varnish</a> : caching HTTP reverse proxy</p>\n\n<p><a href=\"http://gunicorn.org/\" rel=\"nofollow\">gunicorn</a> : python WSGI http server</p>\n\n<p><a href=\"http://projects.unbit.it/uwsgi/\" rel=\"nofollow\">uwsgi</a> : another python WSGI server</p>\n\n<p>I have been reading about all the above 5 tools and I have confused myself as to which one is used for what purpose? Could someone please explain me in lay man terms what use is each of the tool put in, when used together and which specific concern do they address? </p>\n"},{"tags":["python","wsgi","httpd","static-content","appfog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13208293,"title":"How to serve static content with Apache in AppFog (WSGI Python app)","body":"<p>I'm using <a href=\"http://www.appfog.com\" rel=\"nofollow\">AppFog</a> PaaS system for a few days, and I love it, It's probably the best PaaS system that I've tested (I've used other 3 ones previously), but didn't find information about how to serve static content with the Apache httpd server that is in front-end.</p>\n\n<p>My app is a Python WSGI with CherryPy and works perfectly in AppFog but I don't wan't CherryPy to serve static content, I think that Apache httpd is a better option for that.</p>\n\n<p>I know how to do it when I manage the apache instance in a traditional hosting but in a PaaS system I suppose that should be done with .htaccess files...</p>\n\n<p>Any help is welcome.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13211533,"title":"count letter and show in list","body":"<p>I need to receive a string from the user, present it in list so each organ in the list contains [the letter, the number it repeat in a row].</p>\n\n<p>I thought my code is good but it doesn't work.\nI used <a href=\"http://pythontutor.com\" rel=\"nofollow\">http://pythontutor.com</a> and I saw that one the problem is that my var.next and current stay with the same value all the time.</p>\n\n<p>somone have an idea?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    string = raw_input(\"Enter a string:\")\n    i=0\n    my_list=[]\n    current=string[i]\n    next=string[i+1]\n    counter=1\n    j=0\n    while i&lt;range(len(string)) and next&lt;=range(len(string)):\n\n        if i==len(string)-1:\n            break\n        j+=1\n        i+=1\n        if current==next:\n            counter+=1\n\n        else:\n            print my_list.append([string[i],counter])\n            counter=1\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Enter a string: baaaaab\nAs list: [['b', 1], ['a', 5], ['b', 1]]\n</code></pre>\n"},{"tags":["python","eval","bots","irc","safe"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13211846,"title":"Launching 'safe' eval()","body":"<p>I m making a irc bot <a href=\"https://github.com/mouuff/MouBot\" rel=\"nofollow\">https://github.com/mouuff/MouBot</a>\nI would like the bot to reply the eval() when the message starts with !math\nbut its creating failures if the user enter something like !math exit() and stuff like that\nplease help me</p>\n"},{"tags":["python","image","pil","layer","psd"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":1,"view_count":1169,"score":3,"question_id":6759459,"title":"Python PSD layers?","body":"<p>I need to write a Python program for loading a PSD photoshop image, which has multiple layers and spit out png files (one for each layer).\nCan you do that in Python? I've tried PIL, but there doesn't seem to be any method for accessing layers. Help.\nPS. Writing my own PSD loader and png writer has shown to be way too slow.</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13212215,"title":"what's the difference between (4,) and (4,1) for the shape in Numpy?","body":"<p>I have two ndarray <code>A</code> and <code>B</code>, one has the shape <code>(4,)</code> and another <code>(4,1)</code>.</p>\n\n<p>When I want to calculate the cosine distance using <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cosine.html#scipy.spatial.distance.cosine\" rel=\"nofollow\">this</a>, it throws some exceptions that complains the two objects <code>are not aligned</code></p>\n\n<p>Does anyone have ideas about this? Thanks!</p>\n"}]}
{"total":142322,"page":18,"pagesize":100,"questions":[{"tags":["python","handler"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13212222,"title":"Python creating handler for an object?","body":"<p>I'm trying to create a handler which triggers whenever any of object's attributes' value changes. I'm still quite new with python, and didn't really come up with any working ways. This is what I did, and I know it can't work like this, it's just to show what I'm trying to achieve:</p>\n\n<pre><code># ../handler.py\nimport copy\n\nclass Handler:\n    def __init__(self, obj):\n        # Let the object know it's handler\n        obj.handler = self\n\n        # Copy the object\n        self.copy = copy.deepcopy(obj)\n\n        # Let handler know it's object\n        self.obj = obj\n\n        # Handler not running atm.\n        self.running = False\n\ndef start(self):\n    # Running\n    self.running = True\n\n    # As long as running...\n    while self.running:\n\n        # Loop through all objects attributes\n        for attr in self.obj.__dict__:\n\n            # If attribute's value has changed\n            if self.copy.__dict__[attr] != self.obj.__dict__[attr]:\n\n                # Print out a message\n                print(\"%s was changed to %s\" %(attr, self.obj.__dict__[attr]))\n\n                # Update the value to our copy\n                self.copy.__dict__[attr] = self.obj.__dict__[attr]\n\ndef stop(self):\n    # Not running\n    self.running = False\n</code></pre>\n\n<p>Here's the main file</p>\n\n<pre><code># ../main.py\nfrom handler import Handler\n\nclass Value:\n    def __init__(self, v=None):\n        self.value = v\n\ndef createObject(v):\n    obj = Value(v)\n    Handler(obj)\n    return obj\n\nmyObj = createObject(5)\nmyObj.handler.start()\n</code></pre>\n\n<p>This will, however, result into this text getting printed out: <code>handler was changed to &lt;Handler.Handler object at 0x0000000002B1FC50&gt;</code> but I'm not changing the handler here? Also, the program will freeze, due to the while loop inside the Handler.start() function... How could I implement this in a working way?</p>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13212173,"title":"strange while statement behaviour?","body":"<p>I cannot figure out why the following statements dont work.</p>\n\n<pre><code>randomKey = random.choice(list(topic.keys()))\nrandomValue = random.choice(topic[randomKey])\n\ncurrent = \"-\" * len(randomValue) \nwhile current != randomValue: \n   (statements)\nelse:\n   (statements)\n</code></pre>\n\n<p>However, if i alter the 1st line to</p>\n\n<pre><code>while current == randomValue:\n</code></pre>\n\n<p>the statement after 'else' executes correctly. Otherwise, the statement after 'else' does not execute. Any idea why what may be causing the strange behaviour? Full code has been excluded for it will run through this entire page.</p>\n"},{"tags":["python","numpy","scipy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13212210,"title":"Comparing floating point numbers with numpy and scipy","body":"<p>Is there any epsilon constant (as in Matlab) in numpy or scipy modules to compare floating point numbers?</p>\n"},{"tags":["python","sql","database","in-memory-database"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":936,"score":7,"question_id":3047412,"title":"in-memory database in Python","body":"<p>I'm doing some queries in Python on a large database to get some stats out of the database. I want these stats to be in-memory so other programs can use them without going to a database. </p>\n\n<p>I was thinking of how to structure them, and after trying to set up some complicated nested dictionaries, I realized that a good representation would be an SQL table. I don't want to store the data back into the persistent database, though. Are there any in-memory implementations of an SQL database that supports querying the data with SQL syntax?</p>\n"},{"tags":["python","sql","ms-access","firebird","pyodbc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":60,"score":-2,"question_id":13210956,"title":"ProgrammingError: '42S02', '[42S02] [Microsoft]","body":"<p>I wrote the following code</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\ncon = sqlite3.connect('borey.db')\nsampling_tables=con.cursor()\nsampling_fields=con.cursor()\nsampling_constraints=con.cursor()\nsampling_constraints_fields=con.cursor()\nsampling_indices=con.cursor()\nsampling_indices_fields=con.cursor()\nsampling_indices_props=con.cursor()\nsampling_fields_from_constraints=con.cursor()\njs=[]\n\nsampling_tables.execute(sql.sqltables)\n\nfor table in sampling_tables:\n    tabledict=dict(inform_about_table='?', fields='?', constraints='?', indices='?')\n    information_about_table_dict=dict(name=table[1], description=table[2], can_add=table[3], can_edit=table[4], can_delete=table[5])\n    #print(js_information_about_table)\n    tabledict['inform_about_table']=information_about_table_dict\n    #print(tabledict)\n    table_id=table[0]\n    sampling_fields.execute(sql.sqlfields,(table_id,))\n    listfields=[]\n    for field in sampling_fields:\n        fielddict=dict(position=field[0], name=field[1], description=field[2], datatype=field[3], char_length=field[4], can_input=field[5], can_edit=field[6], show_in_grid=field[7],\n                      is_mean=field[8], autocalculated=field[9], required=field[10])\n        listfields.append(fielddict)\n    tabledict['fields']=listfields\n    #print(tabledict)\n    sampling_constraints.execute(sql.sqlconstraints,(table_id,))\n    listconstraints=[]\n    for constraint in sampling_constraints:\n        constraintdict=dict(name=constraint[1], constrtype=constraint[2], items='?', reference=constraint[3])\n        sampling_constraints_fields.execute(sql.sql_constr_det,(constraint[0],table_id))\n        listitems=[]\n        for constr_det in sampling_constraints_fields:\n            listitems.append(constr_det[0])\n        constraintdict['items']=listitems\n        listconstraints.append(constraintdict)\n    tabledict['constraints']=listconstraints\n    #print(tabledict)\n    sampling_indices.execute(sql.sqlindices,(table_id,))\n    listindices=[]\n    for index in sampling_indices:\n        indexdict=dict(name=index[1], items='?', position='?', props='?')\n        index_id=index[0]\n        sampling_indices_fields.execute(sql.sql_indices_fields,(table_id,index_id))\n        #sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id, ))\n        listfields=[]\n        listpositions=[]\n        listprops=[]\n        for index_det in sampling_indices_fields:\n            listfields.append(index_det[0])\n            listpositions.append(index_det[1])\n            fieldinindex=index_det[0]\n        sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id,fieldinindex))            \n        for index_desc in sampling_indices_props:\n            listprops.append(index_desc[0])\n        indexdict['items']=listfields\n        indexdict['position']=listpositions\n        indexdict['props']=listprops\n        listindices.append(indexdict)\n    tabledict['indices']=listindices\n    #print(tabledict)\n    js.append(tabledict)\nos.remove('D:/boreas.fdb')\nconn=firebirdsql.create_database(host='localhost', database='D:/boreas.fdb', user='sysdba', password='masterkey')\n#conn=firebirdsql.connect(host='localhost',database='D:/ThirdTask/test.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\nfor nametable in js:\n    s=''\n    s+='create table '+nametable['inform_about_table']['name']+'\\n'\n    s+='('+'\\n'\n    countfield=0\n    for namefield in nametable['fields']:\n        s+='   '\n        if namefield['name']=='COUNT':\n            s+='QUANTITY'\n        else:\n            if namefield['name']=='MINIMUM QUANTITY FOR ORDER REPETITION':\n                s+='MINIMUM_QUANTITY'\n            else:\n                if namefield['name']=='PRICE ACCORDING TO THE PRICE-LIST':\n                    s+='LIST_PRICE'\n                else:\n                    if (namefield['name'].count(' ')!=0) or (namefield['name'].count('-')!=0) or (namefield['name'].count('/')!=0):\n                        s+='\"'+namefield['name']+'\"'\n                    else:                    \n                        s+=namefield['name']\n        if namefield['datatype']=='FMTBCD':\n            s+='   '+' INTEGER NOT NULL'\n        else:\n            if namefield['datatype']=='STRING': \n                s+='   '+'VARCHAR'\n            else:\n                if namefield['datatype']=='MEMO':\n                    s+='   '+'BLOB SUB_TYPE 1'\n                else:            \n                    if namefield['datatype']=='LARGEINT':\n                        s+='   '+'INTEGER'\n                    else:\n                        if namefield['datatype']=='SMALLINT':\n                            s+='   '+'INTEGER'\n                        else:\n                            if namefield['datatype']=='CURRENCY':\n                                s+='   '+'NUMERIC(18,2)'\n                            else:\n                                if namefield['datatype']=='BOOLEAN':\n                                    s+='   '+'INTEGER'\n                                else:    \n                                    s+='   '+namefield['datatype']           \n        if namefield['datatype']=='STRING':\n            s+='('+str(namefield['char_length'])+')'\n        countfield+=1\n        #if countfield!=len(nametable['fields']):\n        s+=','+'\\n'\n        #else:\n            #s+='\\n'\n            #s+='\\n'\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='PRIMARY':\n            s+='   CONSTRAINT '+nameconstraint['name']+ ' PRIMARY KEY('\n            countfieldinconstr=0\n            for namefield in nameconstraint['items']:\n                countfieldinconstr+=1\n                if countfieldinconstr!=len(nameconstraint['items']):\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+','\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+','\n                            else:    \n                                s+=namefield+','\n                else:\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+')'+'\\n'\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+')'+'\\n'\n                            else:       \n                                s+=namefield+')'+'\\n'\n    s+=');'+'\\n'\n    print s\n    cur.execute(s)\n    #conn.commit()\n    #conn.begin()\n    for nameindex in nametable['indices']:\n        #print 'nameidex[props] ', nameindex['props']\n        s=''\n        for prop in nameindex['props']:\n            if prop==0:\n                if (nameindex['name'].count(' ')!=0) or (nameindex['name'].count('-')!=0) or (nameindex['name'].count('/')!=0):\n                    s+='create ascending index \"'+nameindex['name'] + '\" on '+nametable['inform_about_table']['name']+' ('\n                else:\n                    if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_INVENTORY_ID':\n                        s+='create ascending index ' + 'IDX_INVENTORY_ID' + ' on '+nametable['inform_about_table']['name']+' ('\n                    else:\n                        if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_ORDERDETAILS':\n                            s+='create ascending index ' + 'IDX_ORDERDETAILS' + ' on '+nametable['inform_about_table']['name']+' ('\n                        else:    \n                            if nameindex['name'].count('INFORMATION_ABOUT_ORDER_')!=0:\n                                s+='create ascending index ' + nameindex['name'][1:4]+nameindex['name'][-len(nameindex['name'])+28:] + ' on '+nametable['inform_about_table']['name']+' ('\n                            else:\n                                s+='create ascending index '+nameindex['name'] + ' on '+nametable['inform_about_table']['name']+' ('\n            countitem=0\n            for nameitem in nameindex['items']:\n                if countitem!=len(nameindex['items'])-1:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+', '\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+', '\n                            else:  \n                                s+=nameitem+', '\n                else:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+');'+'\\n'\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+');'+'\\n'\n                            else:  \n                                s+=nameitem+');'+'\\n'\n                countitem+=1\n        print s\n        cur.execute(s)\n        #conn.commit()\nfor nametable in js:\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='FOREIGN':\n            s=''\n            s+='ALTER TABLE '+nametable['inform_about_table']['name']+'\\n'\n            s+='  '+'ADD CONSTRAINT '+nameconstraint['name']+' FOREIGN KEY ('  \n            for namefield in nameconstraint['items']:\n                if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                    s+='\"'+namefield+'\")'+'\\n'\n                else:\n                    s+=namefield+')'+'\\n'\n            s+='      '+'REFERENCES '+nameconstraint['reference']\n            sampling_fields_from_constraints.execute(sql.sql_fields, (nameconstraint['reference'],))\n            for fields in sampling_fields_from_constraints:\n                field=fields[0]\n                if (field.count(' ')!=0) or (field.count('-')!=0) or (field.count('/')!=0):\n                    s+=' (\"'+field+'\");'+'\\n'\n                else:\n                    s+=' ('+field+');'+'\\n'\n            print s\n            cur.execute(s)\n            #conn.commit()            \nconn.commit()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID   INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"    VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB\n);\n\"\"\"\ns1='create ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);'\n\"\"\"db = 'D:/ThirdTask/Northwind.accdb' \nconnaccess = win32com.client.Dispatch(r'ADODB.Connection')\nDSN = ('PROVIDER = Microsoft.Jet.OLEDB.4.0;DATA SOURCE = ' + db +  ';') \nconnaccess.Open(DSN) \nrs = win32com.client.Dispatch(r'ADODB.Recordset') \nstrsql = \"select * from deer\" \nrs.Open(strsql, conn, 1, 3) \nt = rs.GetRows() \nconnaccess.Close() \n\"\"\"\nconAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\ThirdTask\\Northwind.accdb')\nSqlAccess=conAcc.cursor();\nSqlAccess.execute(sql.sql_count_records_clients);\nCountOfRecords=SqlAccess.fetchone();\n#print s\n#cur.execute(s)\n#conn.commit()\n#cur.execute(s1)\n#conn.commit()\n#cur=con.cursor()\ncon.close()\nconn.close()\nconAcc.close();\n#print \"Connect succesfully\"\n</code></pre>\n\n<p>As a result, when you run, I get the following error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\ThirdTask\\connect.py\", line 250, in &lt;module&gt;\n    SqlAccess.execute(sql.sql_count_records_clients);\nProgrammingError: ('42S02', '[42S02] [Microsoft][\\xc4\\xf0\\xe0\\xe9\\xe2\\xe5\\xf0 ODBC Microsoft Access] \\xdf\\xe4\\xf0\\xee \\xe1\\xe0\\xe7\\xfb \\xe4\\xe0\\xed\\xed\\xfb\\xf5 Microsoft Office Access \\xed\\xe5 \\xec\\xee\\xe6\\xe5\\xf2 \\xed\\xe0\\xe9\\xf2\\xe8 \\xe2\\xf5\\xee\\xe4\\xed\\xf3\\xfe \\xf2\\xe0\\xe1\\xeb\\xe8\\xf6\\xf3 \\xe8\\xeb\\xe8 \\xe7\\xe0\\xef\\xf0\\xee\\xf1 \"\\xd1\\xef\\xe8\\xf1\\xee\\xea \\xea\\xeb\\xe8\\xe5\\xed\\xf2\\xee\\xe2\".  \\xcf\\xf0\\xee\\xe2\\xe5\\xf0\\xfc\\xf2\\xe5 \\xf1\\xf3\\xf9\\xe5\\xf1\\xf2\\xe2\\xee\\xe2\\xe0\\xed\\xe8\\xe5 \\xf2\\xe0\\xe1\\xeb\\xe8\\xf6\\xfb \\xe8\\xeb\\xe8 \\xe7\\xe0\\xef\\xf0\\xee\\xf1\\xe0 \\xe8 \\xef\\xf0\\xe0\\xe2\\xe8\\xeb\\xfc\\xed\\xee\\xf1\\xf2\\xfc \\xe8\\xec\\xe5\\xed\\xe8. (-1305) (SQLExeсDirectW)')\n</code></pre>\n\n<p>(in Russian language)\nThe module sql.py has the contents</p>\n\n<pre><code># -*- coding: cp1251 -*-\nsqltables='''SELECT id, name, description, can_add, can_edit, can_delete FROM tables'''\nsqlfields = '''SELECT fields.position,fields.name,fields.description,\ndata_types.type_id,domains.char_length,\nfields.can_input,fields.can_edit,\nfields.show_in_grid,fields.is_mean, fields.autocalculated,\nfields.required\nFROM fields\nJOIN domains ON fields.domain_id = domains.id\nJOIN data_types ON domains.data_type_id = data_types.id\nWHERE fields.table_id = ?\nORDER BY fields.position\n'''\nsqlconstraints='''SELECT constraints.id,\nconstraints.name, constraint_type, constraints.reference,\ntables.name\nFROM constraints\nLEFT JOIN tables ON constraints.table_id = tables.id\nWHERE table_id = ? '''\nsql_constr_det = '''SELECT fields.name, tables.name\nFROM constraint_details\nJOIN fields ON constraint_details.field_id = fields.id\nJOIN tables ON tables.id=fields.table_id\nWHERE constraint_id = ?\nAND tables.id= ? '''\nsqlindices = '''SELECT indices.id,indices.name\nFROM indices\nWHERE indices.table_id = ? '''\nsql_indices_fields = '''SELECT fields.name,\nindex_details.position\nFROM indices\nJOIN index_details ON index_id = indices.id\nJOIN fields ON field_id = fields.id\nWHERE indices.table_id = ?\nAND indices.id=?'''\nsql_indices_descend='''SELECT index_details.descend\nFROM index_details\nJOIN indices ON index_details.index_id = indices.id\nJOIN fields ON field_id = fields.id \nWHERE indices.table_id = ?\nAND indices.id = ?\nAND fields.name = ?'''\nsql_fields='''SELECT fields.name\nFROM fields\nJOIN tables ON tables.id=fields.table_id\nJOIN constraints ON (constraints.table_id=tables.id and constraints.constraint_type='PRIMARY')\nJOIn constraint_details ON (constraint_details.constraint_id=constraints.id and constraint_details.field_id=fields.id)\nWHERE tables.name= ?'''\nsql_count_records_clients='''SELECT COUNT(*) FROM \"Список клиентов\"'''\n</code></pre>\n\n<p>For this error and how to fix it? I would also like to know how to translate the text of the error on the normal encoding?</p>\n"},{"tags":["python","google-cloud-messaging"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":556,"score":2,"question_id":11697096,"title":"Google Cloud Messaging HTTP Error 400: Bad Request","body":"<p>I am trying to send a message through GCM (Google Cloud Messaging). I have registered through Google APIs, I can send a regID to my website (which is a Google App Engine Backend) from multiple Android test phones.\nHowever, I can't send anything to GCM from Google App Engine. Here is what I am trying to use.</p>\n\n<pre><code>    regId = \"APA91b...\"\n\n    json_data = {\"collapse_key\" : \"Food-Promo\", \"data\" : {\n                    \"Category\" : \"FOOD\",\n                    \"Type\": \"VEG\",\n               }, \"registration_ids\": [regId],\n    }\n\n\n    url = 'https://android.googleapis.com/gcm/send'\n\n\n\n\n    apiKey = \"AI...\"\n    myKey = \"key=\" + apiKey\n\n    headers = {'Content-Type': 'application/json', 'Authorization': myKey}\n    data = urllib.urlencode(json_data)\n    data2 = {\"title\": title}\n    data3 = urllib.urlencode(data2)\n\n    req = urllib2.Request(url, data, headers)\n\n\n    f = urllib2.urlopen(req)\n    response = f.read()\n    f.close()\n\n    logging.debug(\"***!!!!!!!WriteEntry TEST -----  Response: \" + response)\n</code></pre>\n\n<p>And here is the error that I am receiving.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/ext/webapp/_webapp25.py\", line 703, in __call__\n    handler.post(*groups)\n  File \"/base/data/home/apps/s~journaltestza/26.360625174851783344/main.py\", line 213, in post\n    f = urllib2.urlopen(req)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 124, in urlopen\n    return _opener.open(url, data)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 387, in open\n    response = meth(req, response)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 498, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 425, in error\n    return self._call_chain(*args)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 360, in _call_chain\n    result = func(*args)\n  File \"/base/python_runtime/python_dist/lib/python2.5/urllib2.py\", line 506, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nHTTPError: HTTP Error 400: Bad Request\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","imaplib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13210737,"title":"Get only NEW Emails imaplib and python","body":"<p>This is a smaller portion of a bigger project. I need to only get unread emails and a parse their headers. How can I modify the following script to only get unread emails?</p>\n\n<pre><code>conn = imaplib.IMAP4_SSL(imap_server)\nconn.login(imap_user, imap_password)\n\nstatus, messages = conn.select('INBOX')    \n\nif status != \"OK\":\n    print \"Incorrect mail box\"\n    exit()\n\nprint messages\n</code></pre>\n"},{"tags":["python","security","eval"],"answer_count":3,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":396,"score":3,"question_id":1994071,"title":"How safe is expression evaluation using eval?","body":"<p>I am building a website where I have a need that user should be able to evaluate some expression based from the value in DB tables, instead of using tools like pyparsing etc, I am thinking of using python itself, and have come up with a solution which is sufficient for my purpose. I am basically using eval to evaluate the expression and passing globals dict with empty <code>__builtins__</code> so that nothing can be accessed and a locals dict for values from DB, if user will need some functions I can pass those too e.g.</p>\n\n<pre><code>import datetime\ndef today():\n    return datetime.datetime.now()\n\nexpression = \"\"\" first_name.lower() == \"anurag\" and today().year == 2010 \"\"\"\n\nprint eval(expression, {'__builtins__':{}}, {'first_name':'Anurag', 'today':today})\n</code></pre>\n\n<p>So my question is how safe it would be , I have three criteria</p>\n\n<ol>\n<li>Can user access current state of my program or table etc someshow?</li>\n<li>Can user have access to os level calls?</li>\n<li>Can user halt my system by looping or using much memory e.g. by doing range(10*8), in some cases he can e.g 100**1000 etc so 3 is not so much of a problem. i may check such op with tokenize and anyway I will be using GAE so it is not not much of concern.</li>\n</ol>\n\n<p><strong>Edit</strong>: IMO this is not the duplicate of <a href=\"http://stackoverflow.com/questions/661084/security-of-pythons-eval-on-untrusted-strings\">Q:661084</a> because where it ends this one starts, I want to know even with <code>__builtins__</code> blocked, can user do bad things?</p>\n"},{"tags":["python","security"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":712,"score":2,"question_id":28369,"title":"Is \"safe_eval\" really safe?","body":"<p>I'm looking for a \"safe\" eval function, to implement spreadsheet-like calculations (using numpy/scipy).</p>\n\n<p>The functionality to do this (the <a href=\"http://docs.python.org/lib/module-rexec.html\" rel=\"nofollow\">rexec module</a>) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is \n<a href=\"http://code.activestate.com/recipes/496746/\" rel=\"nofollow\">this Python Cookbok recipe</a>, \"safe_eval\". </p>\n\n<p>Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives?</p>\n\n<p>EDIT: I just discovered <a href=\"http://pypi.python.org/pypi/RestrictedPython\" rel=\"nofollow\">RestrictedPython</a>, which is part of Zope. Any opinions on this are  welcome.</p>\n"},{"tags":["python","osx","matplotlib"],"answer_count":0,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":37,"score":4,"question_id":13172007,"title":"Matplotlib plot window appears on different desktop","body":"<p>I am running Python 2.7.2 on Mac 10.8 with matplotlib 1.1.1.  The backend I am using is MacOSX.  If I run any plotting code e.g. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.plot([1,2,3], [4,5,6])\nplt.show()\n</code></pre>\n\n<p>the plot window always appears on a different desktop from the one I am working on.  This behaviour is the same if I use ipython or if I run a script.  Is there a way around this?  It's annoying to have to go and hunt for the plot each time!</p>\n"},{"tags":["python","string","split"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":59,"score":-3,"question_id":13211808,"title":"Python split by letter occurances","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13211533/count-letter-and-show-in-list\">count letter and show in list</a>  </p>\n</blockquote>\n\n\n\n<p>I am new to python.\nI want to create a list by splitting a string into the amount of unique occurances of the letters in a string.\nfor a example:\ngoogle will be splitted into\ng\noo\ng\nl\ne</p>\n\n<p>whats the best way? thanks!</p>\n"},{"tags":["python","grid","tkinter","pack","entry"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13211524,"title":"Using Entry box with Tkinter in Grid manager?","body":"<p>I'm trying to make a basic GUI using Tkinter and have an entry box next to my label using a Grid manager, but the window is not showing when I run my program if I use .grid() with my Entry object. </p>\n\n<p>It does work when I use .pack(), which is strange because I heard not to use .pack() when I have other things using .grid() in the same widget. But I do want to use .grid() because I want to be able to organize it how I want to.</p>\n\n<p>Code is below, I'm having trouble with Entry object showName. The commented out .pack() statement is the one that does work, the .grid() statement is the one that does not work.</p>\n\n<p>Does anybody know what's wrong with this?</p>\n\n<pre><code>from Tkinter import *\n\nclass RenamerGUI():\n    def __init__(self, master):\n        frame = Frame(master)\n        frame.pack() #Make frame visible\n\n        self.exit = Button(frame, text = \"Exit\", fg = \"red\", command = frame.quit)\n\n        self.csv2tsv = Button(frame, text = \"csv2tsv\", fg = \"green\", bg = \"black\", command=self.csv2tsv)\n        self.epguidestsvFormatter = Button(frame, text = \"epguidestsvFormatter\", fg = \"green\", bg = \"black\", command = self.epguidestsvFormatter)\n        self.epNamesList = Button(frame, text = \"epNamesList\", fg = \"green\", bg = \"black\", command = self.epNamesList)\n        self.SeasonSplitter = Button(frame, text = \"SeasonSplitter\", fg = \"green\", bg = \"black\", command = self.SeasonSplitter)\n        self.Renamer = Button(frame, text = \"Renamer\", fg = \"green\", bg = \"black\", command = self.Renamer)\n\n        self.showLabel = Label(frame, text = \"Show: \")\n\n        self.showName = Entry(master)\n\n        self.get = Button(frame, text = \"Get\", command = self.textgetter)\n\n\n        self.exit.grid(row=3, column=4)\n        self.csv2tsv.grid(row=1, column = 0)\n        self.epguidestsvFormatter.grid(row=1, column=1)\n        self.epNamesList.grid(row=1, column=2)\n        self.SeasonSplitter.grid(row=1, column=3)\n        self.Renamer.grid(row=1, column=4)\n        self.showLabel.grid(row=2)\n        self.showName.grid(row=2, column=1)\n        #self.showName.pack(side=BOTTOM)\n</code></pre>\n"},{"tags":["python","numpy","scipy"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":13210413,"title":"map a function to all columns for Scipy/numpy matrix","body":"<p>I have a 40*4 matrix<code>M</code> and a vector<code>A</code> with 40 elements. I want to calculate the cosine distance between <code>A</code> and each column vector in M.</p>\n\n<p>Do I really need to write like this?</p>\n\n<pre><code> print [cosine(M[:,i],A) for i in range(A.shape[1])]\n</code></pre>\n\n<p>Or there's another better way to do this?</p>\n\n<p>The document of cosine can be viewed here: <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cosine.html#scipy.spatial.distance.cosine\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cosine.html#scipy.spatial.distance.cosine</a></p>\n\n<p>Thanks!</p>\n"},{"tags":["python","image","compression","pil"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":282,"score":1,"question_id":10607468,"title":"How to reduce the image file size using PIL","body":"<p>I am using PIL to resize the images there by converting larger images to smaller ones. Are there any standard ways to reduce the file size of the image without losing the quality too much, lets say the original size of the image is 100KB, i want to get it down to like 5 or 10 KB especially for png and jpeg formats.</p>\n"},{"tags":["python","bash","shell","echo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13211614,"title":"Is there equivalent functionality for 'echo -en ...' in python?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6169217/replace-console-output-in-python\">Replace console output in python</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to write a program that outputs information including updates to the command line. What I mean by updates is, for example, if files are being processed by the program, perhaps it will keep an updated count of the files processed so far. So <code>1 file</code> is replaced with <code>2 files</code> and then with <code>3 files</code> and so forth.</p>\n\n<p>The following is a sample piece of code that counts out some files and then displays a <a href=\"http://stackoverflow.com/questions/238073/how-to-add-a-progress-bar-to-a-shell-script\">loading bar</a>:</p>\n\n<pre><code>#!/bin/bash\n\nfor a in {1..10}\ndo\n    echo -ne \" $a files processed.\\r\"\n    sleep 1\ndone\necho \"\"\necho -ne '#####                     (33%)\\r'\nsleep 1\necho -ne '#############             (66%)\\r'\nsleep 1\necho -ne '#######################   (100%)\\r'\necho -ne '\\n'\n</code></pre>\n\n<p>Basically, the command line output gets periodically overwritten giving the effect of a primitive text-based animation in the terminal.</p>\n\n<p>There are two problems here:</p>\n\n<ol>\n<li>From what I know from doctors, the <code>echo</code> command is not portable at all.</li>\n<li>I want to do this in a python program, not with a bash file.</li>\n</ol>\n\n<p>Is there a way to achieve functionality similar to this using python?</p>\n"},{"tags":["python","django","windows","pinax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13211233,"title":"How to change the pinax(0.9a2) template?","body":"<p>I have installed the pinax(0.9a2) with the pinax-bootstrap theme!</p>\n\n<p>Now I want to customize it and redesign the theme, but I didn`t find any *.css files in my template folder. Therefore how to customize the css of the bootstrap theme?</p>\n"},{"tags":["python","numpy","pandas"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12877189,"title":"float64 with pandas to_csv","body":"<p>I'm reading a CSV with float numbers like this:</p>\n\n<pre><code>Bob,0.085\nAlice,0.005\n</code></pre>\n\n<p>And import into a dataframe, and write this dataframe to a new place</p>\n\n<pre><code>df = pd.read_csv(orig)\ndf.to_csv(pandasfile)\n</code></pre>\n\n<p>Now this <code>pandasfile</code> has:</p>\n\n<pre><code>Bob,0.085000000000000006\nAlice,0.0050000000000000001\n</code></pre>\n\n<p>What happen? maybe I have to cast to a different type like float32 or something? </p>\n\n<p>Im using <strong>pandas 0.9.0</strong> and <strong>numpy 1.6.2</strong>.</p>\n"},{"tags":["python","cython","carray"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":138,"score":4,"question_id":12945667,"title":"Updating a C array while reading an input file","body":"<p>I am now using cython to read an input file, convert the string to int and store them in a c array (instead of a list) to save space. The code I have looks like this:</p>\n\n<pre><code>cdef long p[10000000]\ncdef long i\ni = 0\nf = open(filename, 'r')\nfor lines in f:\n    temp = map(int, lines.rstrip().split())\n    p[i] = temp[0]\n    i = i + 1\nf.close()\n</code></pre>\n\n<p>However, the program is always aborted when I refer to the array p. Somehow the array is not \"defined\" as the memory usage is very low. It works, however, if I'm doing</p>\n\n<pre><code>cdef i\nfor i in range(0, 1000):\n    p[i] = i\n</code></pre>\n"},{"tags":["python","sql","ms-access","encoding","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13210697,"title":"SyntaxError: Non-ASCII character '\\xd1'","body":"<p>I wrote the following code</p>\n\n<pre><code>conAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\ThirdTask\\Northwind.accdb')\nSqlAccess=conAcc.cursor();\nSqlAccess.execute(sql.sql_count_record_clients);\nCountOfRecords=SqlAccess.fetchone();\nconAcc.close();\n</code></pre>\n\n<p>where there is a line in module sql.py</p>\n\n<pre><code>sql_count_records_clients='''SELECT COUNT(*) FROM \"Список клиентов\"'''\n</code></pre>\n\n<p>As a result this line in sql.py gives out an error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\ThirdTask\\connect.py\", line 5, in &lt;module&gt;\n    import json,sqlite3,sql\n  File \"D:\\ThirdTask\\sql.py\", line 48\nSyntaxError: Non-ASCII character '\\xd1' in file D:\\ThirdTask\\sql.py on line 48, but no encoding declared; see http://www.python.org/peps/pep-0263.html for details\n</code></pre>\n\n<p>What should be done to make the error disappear?</p>\n"},{"tags":["python","cryptography"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":5,"view_count":82,"score":1,"question_id":13210860,"title":"How to rotate chars in string to encrypt message","body":"<p>I'm trying to have fun with one of my buddies, we are special agents but how can we be special agents without having top secret message code to communicate with each other?</p>\n\n<pre><code># txt = the secret message to convert!\n# n = number of times to jump from original position of letter in ASCII code\n\ndef spy_code(txt,n):\n    result = ''\n    for i in txt:\n        c = ord(i)+n\n        if ord(i) != c:\n            b = chr(c)\n            result += b\n    print result\n\nspy_code('abord mission, dont atk teacher!',5)\n</code></pre>\n\n<p>After converting message in secret message we are getting one line text...</p>\n\n<pre><code>fgtwi%rnxxnts1%itsy%fyp%yjfhmjw&amp;\n</code></pre>\n\n<p>problem is, that we'd like to achieve such result:</p>\n\n<pre><code>fgtwi rnxxnts, itsy fyp yjfhmjw!\n</code></pre>\n\n<p>Considering only letters.</p>\n\n<p>Only use spy code to convert letters and dont convert spaces or special symboles.</p>\n"},{"tags":["python","static-methods"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13211535,"title":"Correct use of static methods","body":"<p>I have following simplified class named <code>Password.py</code> in <code>folder1</code>:</p>\n\n<pre><code>import random                                                                    \n\nCHARS = \"ABC\"\n\nclass PasswordHelper(object):                                                  \n    @staticmethod                                                                          \n    def generateChars(length):                                                    \n       return ''.join(random.choice(CHARS) for x in range(length))\n</code></pre>\n\n<p>Now I have another class <code>TestClass.py</code> in <code>folder2</code>:</p>\n\n<pre><code>sys.path.append('../folder1/')                              \nimport Password                                         \n\nclass Tester:                                           \n    def whatever(self):                                   \n        print Password.generateChars(3)\n\ndef main():\n     x = Tester()\n     x.whatever()\n\n# call main method\nmain()\n</code></pre>\n\n<p>When calling <code>python TestClass.py</code> I get the following error: AttributeError: 'module' object has no attribute 'generateChars'. Both folders are on the same level. Is there a problem with the way I import the class files or with the static method declaration itself?</p>\n"},{"tags":["python","socketserver"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13211045,"title":"How to send data to a different request from the current request handler? (Python SocketServer with ThreadingMixIn)","body":"<p>I'm writing a multiplayer game server and client in Python, using the built-in SocketServer's TCPServer and ThreadingMixIn because it seems easier than manually managing the socket and threading modules. (I'd like to stick with the built-in modules for this.) It uses a protocol similar to HTTP for communication (GTP).</p>\n\n<p>Requests involving only one client already work. If a client sends the request \"<code>GET /index.html GTP/0.2</code>\", the server just has to respond \"<code>GTP/0.2 200 OK</code>\" to that client. But if a game is going on between clients A and B (as recorded in the server's state) and client A sends the request \"<code>TURN &lt;my turn info&gt; GTP/0.2</code>\", then after taking player A's turn, how does the server notify <em>both</em> players A and B of the changes?</p>\n\n<p>Here are the essentials of my code so far:</p>\n\n<pre><code>import SocketServer\nimport socket, threading # not yet used\n\nclass ThreadingGameServer(SocketServer.ThreadingMixIn, SocketServer.TCPServer):\n    def __init__(self, server_address, RequestHandlerClass):\n        SocketServer.TCPServer.__init__(self, server_address, RequestHandlerClass)\n        self.players = []\n        self.games = []\n\nclass GameRequestHandler(SocketServer.BaseRequestHandler):\n    def setup(self):\n        self.request_data = None\n        self.response_data = None\n\n    def handle(self):\n        while True:\n            self.request_data = self.request.recv(4096)\n            if not self.request_data:\n                break # Client disconnected\n            # delegate handling to do_GET, do_POST, etc\n            do_method = 'do_' + self.request_data.split()[0]\n            if not hasattr(self, do_method):\n                self.request.sendall(\"GTP/0.2 501 Not Implemented\\r\\n\\r\\n\")\n                continue\n            try:\n                do = getattr(self, do_method)\n                do()\n            except Exception as e:\n                break\n\n    def do_GET(self):\n        body = '&lt;contents of {}&gt;'.format(self.my_request.param)\n        data = \"GTP/0.2 200 OK\\r\\nContent-Length: {}\\r\\n\\r\\n{}\".format(len(body), body)\n        self.request.sendall(data)\n\n    def do_LOGIN(self):\n        \"\"\"\n        Create a player with the requested username and this handler.\n        Add the player to self.server.players.\n        Respond with 200 OK, body \"Welcome!, &lt;username&gt;\".\n        \"\"\"\n\n    def do_PLAY(self):\n        \"\"\"\n        If the requested opponent is not logged in and ready to play, respond with 403 Forbidden.\n        Create a game with this player and the requested opponent.\n        Remove the two players from self.server.players.\n        Add the game to self.server.games.\n        Respond with 200 OK, body \"Begin game with &lt;opponent&gt;\".\n        How do I send \"Begin game with &lt;this player&gt;\" to the opponent as well?\n        \"\"\"\n\n    def do_TURN(self):\n        \"\"\"\n        If it is not this player's turn, respond with 403 Forbidden.\n        Modify the game's state in self.server.games, including making it be the opponent's turn.\n        Respond with 200 OK, body \"&lt;new game state&gt;\".\n        How do I send the response to the opponent as well?\n        \"\"\"\n\n    def do_EXIT(self):\n        \"\"\"\n        If this player is logged in, log them out.\n        If they are in a game, respond to their opponent with 200 OK, body \"Game over\" (how?).\n        End their request handler.\n        \"\"\"\n\nclass GameClient(object):\n    def __init__(self, server_address):\n        self.socket = socket.create_connection(server_address)\n\n    def run(self):\n        \"\"\"\n        Read user input, e.g. \"&gt; login foobar\".\n        Send request to server, e.g. self.socket.sendall(\"LOGIN foobar GTP/0.2\\r\\n\\r\\n\")\n        Get server's reply via self.socket.recv(4096)\n        Print the reply body, e.g. \"Welcome, foobar!\"\n        \"\"\"\n\n# On the server machine\nserver = ThreadingGameServer((socket.gethostname(), 4242), GameRequestHandler)\nserver.serve_forever()\n\n# On each client machine\nclient = GameClient(('server.mygame.com', 4242))\nclient.run()\n</code></pre>\n"},{"tags":["python","function"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13211500,"title":"basic function not working -> 'name 'happyBirthdayEmily' is not defined'","body":"<p>I'm following <a href=\"http://anh.cs.luc.edu/python/hands-on/3.1/handsonHtml/functions.html\" rel=\"nofollow\">this guide</a> and I can't get a basic function to work.</p>\n\n<p><code>birthday2.py</code></p>\n\n<pre><code>def happyBirthdayEmily(): #program does nothing as written\n    print(\"Happy Birthday to you!\")\n    print(\"Happy Birthday to you!\")\n    print(\"Happy Birthday, dear Emily.\")\n    print(\"Happy Birthday to you!\")\n</code></pre>\n\n<p>So following the guide I type this:</p>\n\n<pre><code>&gt;&gt;&gt;import birthday2\n&gt;&gt;&gt;happyBirthdayEmily\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'happyBirthdayEmily' is not defined\n</code></pre>\n\n<p>What Am I missing here?</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":6360,"score":10,"question_id":4583367,"title":"How to run multiple python version on Windows","body":"<p>I had two versions of Python installed in my machine (versions 2.6 and 2.5). I want to run 2.6 for one project and 2.5 for another. </p>\n\n<p>How can I specify which I want to use?</p>\n\n<p>I am working on Windows XP SP2.</p>\n"},{"tags":["python","dictionary"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13211428,"title":"Python reviewboard postreview - KeyError: review_request","body":"<p>I have a ReviewBoard <strong>v1.6.13</strong> website setup so that I can use it to host review requests with Perforce using post-review.<br>\nI have compiled the <strong>postreview.py</strong> python script from [RBTools v0.4.2] to <strong>postreview.exe</strong> using:  </p>\n\n<ul>\n<li>Python v2.7.3  </li>\n<li>Python Win32 extensions pywin32-218.win32-py2.7.exe  </li>\n<li>PyInstaller v2.0  </li>\n<li>(also downloaded DiffUtils v2.8.7-1 to testout the postreview tool)  </li>\n</ul>\n\n<p>However when I run the postreview.exe (or even the .py script directly) I keep getting the same python call stack:  </p>\n\n<pre><code>Traceback (most recent call last):\n    File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 1314, in &lt;module&gt;\n        main()\n    File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 1296, in main\n        submit_as=options.submit_as)\n    File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 862, in tempt_fate\n        review_request = server.new_review_request(changenum, submit_as)\n    File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 441, in new_review_request\n        return rsp['review_request']\n    KeyError: 'review_request'  \n</code></pre>\n\n<p>The arguments that I used for testing (slightly altered for obvious reasons):  </p>\n\n<p><code>--server=http://myreviewboardsite --disable-proxy --submit-as=jdoe --publish --target-groups=Test --branch=//mydepot/test/ 191205 --debug --username=guest --password=helloworld</code></p>\n\n<p>Here is the complete output after using the <code>--debug</code> argument.  </p>\n\n<pre><code>&gt;&gt;&gt; RBTools 0.4.2\n&gt;&gt;&gt; Python 2.7.3 (default, Apr 10 2012, 23:31:26) [MSC v.1500 32 bit (Intel)]\n&gt;&gt;&gt; Running on Windows-7-6.1.7600\n&gt;&gt;&gt; Home = C:\\Users\\misterwilson\\AppData\\Roaming\n&gt;&gt;&gt; Current Directory = F:\\pyinstaller-2.0\\postreview\\dist\n&gt;&gt;&gt; Checking the repository type. Errors shown below are mostly harmless.\nDEBUG:root:Checking for a CVS repository...\nDEBUG:root:Checking for a ClearCase repository...\nDEBUG:root:Checking for a Git repository...\nDEBUG:root:Checking for a Mercurial repository...\nDEBUG:root:Checking for a Perforce repository...\nDEBUG:root:Running: p4 info\nDEBUG:root:Running: diff --version\nDEBUG:root:repository info: Path: p4-devserver:1666, Base path: None, Supports changesets: True\n&gt;&gt;&gt; Finished checking the repository type.\n&gt;&gt;&gt; Disabling HTTP(s) proxy support\n&gt;&gt;&gt; HTTP GETting api/\n&gt;&gt;&gt; HTTP GETting http://myreviewboardsite/api/info/\n&gt;&gt;&gt; Using the new web API\nINFO:root:Generating diff for changenum 191205\nDEBUG:root:Running: p4 describe -s 191205\nDEBUG:root:Processing edit of //mydepot/test/HelloWorld.xml\nDEBUG:root:Writing \"//mydepot/test/HelloWorld.xml#12\" to \"c:\\users\\misterwilson\\appdata\\local\\temp\\tmp_knbys\"\nDEBUG:root:Running: p4 print -o c:\\users\\misterwilson\\appdata\\local\\temp\\tmp_knbys -q //mydepot/test/HelloWorld.xml#12\nDEBUG:root:Running: diff -urNp c:\\users\\misterwilson\\appdata\\local\\temp\\tmp_knbys F:\\P4\\1666\\mydepot\\test\\HelloWorld.xml\nDEBUG:root:Command exited with rc 1: ['diff', '-urNp', 'c:\\\\users\\\\misterwilson\\\\appdata\\\\local\\\\temp\\\\tmp_knbys', 'F:\\\\P4\\\\1666\\\\mydepot\\\\test\\\\HelloWorld\\\\LauncherVirtuos.xml']\n--- c:\\users\\misterwilson\\appdata\\local\\temp\\tmp_knbys       2012-11-03 11:27:03.854484100 -0400\n+++ F:\\P4\\1666\\mydepot\\test\\HelloWorld.xml  2012-10-25 18:47:36.736320400 -0400\n@@ -295,7 +295,7 @@ ´╗┐&lt;?xml version=\"1.0\" encoding=\"utf-8\"\n           goto REMOVEOUTPUT\n         &lt;/if&gt;\n   &lt;/operation&gt;\n-      &lt;operation name=\"VerifyPerforceClient\" visible=\"0\"&gt;\n+      &lt;operation name=\"VerifyPerforceClient\" visible=\"0\"&gt;\n                 p4 clients -u [PerforceUsername] -e \"[PerforceClientSpec]\" | find \"[PerforceClientSpec]\" &gt; nul\n                 if not errorlevel 1 (\n                 goto ChkHost\n@@ -344,18 +344,18 @@ ´╗┐&lt;?xml version=\"1.0\" encoding=\"utf-8\"\n\n         :VERIFY_END\n       &lt;/operation&gt;\n\n... More Perforce Diff output\n\n---\n&gt;&gt;&gt; Attempting to create review request on p4-devserver:1666 for 191205\n&gt;&gt;&gt; Submitting the review request as jdoe\n&gt;&gt;&gt; HTTP POSTing to http://myreviewboardsite/api/review-requests/: {'changenum': '191205', 'submit_as': 'jdoe', 'repository': 'p4-devserver:1666'}\n&gt;&gt;&gt; Review request created\nTraceback (most recent call last):\n  File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 1314, in &lt;module&gt;\n    main()\n  File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 1296, in main\n    submit_as=options.submit_as)\n  File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 862, in tempt_fate\n    review_request = server.new_review_request(changenum, submit_as)\n  File \"F:\\RBTools-0.4.2\\rbtools\\postreview.py\", line 441, in new_review_request\n\n    return rsp['review_request']\nKeyError: 'review_request'\n</code></pre>\n\n<p>Can anyone help me out on what the problem could be?  </p>\n\n<p>Thanks,  </p>\n\n<p>MisterW</p>\n"},{"tags":["python","string","newline"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":13210945,"title":"creating a string from List and adding a newline","body":"<p>I'm creating a string which is returned from the function. I need the string to list some values.</p>\n\n<p>I have created a list which is joined at the end to make the complete string. I'm trying to add a new line on each iteration in the while loop the list is appended to.</p>\n\n<pre><code>while shiftAmount &lt; 25: #Iterates through all 26 combinations producing a processed value each time.\n    shiftAndStore(shiftAmount)\n    shiftAmount = shiftAmount + 1\n    stringshift = str(shiftAmount)\n    outputCipherText.append(\"The Encoded / Decoded text on shift \" + str((shiftAmount - 1)) + \" is \")\n    outputCipherText.append(str(''.join(completePlainText)) + \" \\n\")\n    completePlainText = []\noutput = [''.join(outputCipherText)]\n</code></pre>\n\n<p>Can anyone tell me why this is not working? looking at the output it shows the \\n but doesn't execute it and make a new line.</p>\n"},{"tags":["python","django","django-admin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13184154,"title":"django admin registering dynamic model from action","body":"<p>I have strange problem. In admin.py I can say:</p>\n\n<pre><code>admin.site.register(MyModel)\n</code></pre>\n\n<p>and this is obviously fine. Now I want this model to be loaded automatically as an result of user action:</p>\n\n<pre><code>def user_action_from_admin_panel(......):\n    .....\n    admin.site.register(MyModel)\n</code></pre>\n\n<p>MyModel class gets on the models list but is black without edit link, any ideas ?</p>\n\n<p><strong>C'MON guys !? Nobody ?</strong></p>\n"},{"tags":["python","scipy","curve-fitting"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":253,"score":7,"question_id":12397412,"title":"I know scipy curve_fit can do better","body":"<p>I'm using python/numpy/scipy to implement this algorithm for aligning two digital elevation models (DEMs) based on terrain aspect and slope:</p>\n\n<p>\"Co-registration and bias corrections of satellite elevation data sets for quantifying glacier thickness change\", C. Nuth and A. Kääb, <a href=\"http://dx.doi.org/10.5194/tc-5-271-2011\" rel=\"nofollow\">doi:10.5194/tc-5-271-2011</a></p>\n\n<p>I have things a framework set up, but the quality of the fit provided by scipy.optimize.curve_fit is poor.</p>\n\n<pre><code>def f(x, a, b, c):\n    y = a * numpy.cos(numpy.deg2rad(b-x)) + c\n    return y\n\ndef compute_offset(dh, slope, aspect):\n    import scipy.optimize as optimization\n\n    idx = random.sample(range(dh.compressed().size), 10000)\n    xdata = numpy.array(aspect.compressed()[idx], float)\n    ydata = numpy.array((dh/numpy.tan(numpy.deg2rad(slope))).compressed()[idx], float)\n\n    #Generate synthetic data to test curve_fit\n    #xdata = numpy.arange(0,360,0.01)\n    #ydata = f(xdata, 20.0, 130.0, -3.0) + 20*numpy.random.normal(size=len(xdata))\n\n    print xdata\n    print ydata\n\n    x0 = numpy.array([0.0, 0.0, 0.0])\n\n    fit = optimization.curve_fit(f, xdata, ydata, x0)[0]\n    #optimization.leastsq(f, x0[:], args=(xdata, ydata))\n    genplot(xdata, ydata, fit)\n    return fit\n\ndef genplot(x, y, fit):\n    a = (numpy.arange(0,360))\n    f_a = f(a, fit[0], fit[1], fit[2])\n    idx = random.sample(range(x.size), 10000)\n    plt.figure()\n    plt.xlabel('Aspect (deg)')\n    plt.ylabel('dh/tan(slope) (m)')\n    plt.plot(x[idx], y[idx], 'r.')\n    plt.axhline(color='k')\n    plt.plot(a, f_a, 'b')\n    plt.ylim(-80,80)\n    plt.show()\n\n#Input DEMs\ndem1_fn = sys.argv[1]\ndem2_fn = sys.argv[2]\n\ndem1_ds = gdal.Open(dem1_fn, gdal.GA_ReadOnly)\ndem2_ds = gdal.Open(dem2_fn, gdal.GA_ReadOnly)\n\n#Extract band 1 from each dataset as masked array using internal nodata value\ndem1 = getperc_new.gdal_getma(dem1_ds, 1)\ndem2 = getperc_new.gdal_getma(dem2_ds, 1)\n\n#Produce slope and aspect maps using gdaldem and load into masked arrays\ndem1_slope = gdaldem_slope(dem1_fn)\ndem1_aspect = gdaldem_aspect(dem1_fn)\n\n#Compute common mask and apply to all products\ncommon_mask = dem1.mask + dem2.mask + dem1_slope.mask + dem1_aspect.mask\n\ndiff_euler = numpy.ma.array(dem2-dem1, mask=common_mask)\ndem1_slope.__setmask__(common_mask)\ndem1_aspect.__setmask__(common_mask)\n\n#Compute relationship between elevation difference, slope and aspect\nfit = compute_offset(diff_euler, dem1_slope, dem1_aspect)\nprint fit\n</code></pre>\n\n<p>Here is the fit for my data, which initially consists of ~2 million points, but I've randomly sampled for testing/plotting purposes:</p>\n\n<p>[ -14.9639559   216.01093596  -41.96806735]</p>\n\n<p><img src=\"http://i.stack.imgur.com/54hC5.jpg\" alt=\"plot_one\"></p>\n\n<p>There is plenty of data there for a good fit, but the result from curve_fit is poor.  When I run   with synthetic data, I get a nice fit:</p>\n\n<p>original input parameters [20.0, 130.0, -3.0]</p>\n\n<p>result from curve_fit [-19.66719631 -49.6673076   -3.12198723]</p>\n\n<p><img src=\"http://i.stack.imgur.com/N2emf.jpg\" alt=\"plot_two\"></p>\n\n<p>Not sure if this has something to do with using masked arrays, a limitation of curve_fit, or if I'm just overlooking something simple.  Thanks for any suggestions.</p>\n"},{"tags":["python","django"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13208620,"title":"django join query","body":"<p>Im new to django. I have this model, In tblperson, only the forgein keys of type and status are saved. How do I join all tables to display their value not their forgein key? For example.</p>\n\n<pre><code>TblPerson.objects.raw('SELECT * FROM \"Tblperson\" INNER JOIN \"Tblstatus\" ON (\"TblPerson\".\"Status\" = \"Tblstatus\".\"ID\")'):\n</code></pre>\n\n<p>Thanks. </p>\n\n<pre><code>class TblPerson(models.Model):\n    ID = models.AutoField(primary_key=True, db_column=u'ID') \n    Type = models.IntegerField(null=True, db_column=u'Type', blank=True)\n    Status = models.IntegerField(null=True, db_column=u'Status', blank=True)\n    class Meta:\n        db_table = u'tblPerson'\n\nclass Tblstatus(models.Model):\n    ID = models.AutoField(primary_key=True, db_column=u'statStatusID')\n    Status = models.CharField(max_length=25, db_column=u'statStatus', blank=True)\n    class Meta:\n        db_table = u'tblStatus'\n\nclass Tbltype(models.Model):\n    ID = models.AutoField(primary_key=True, db_column=u'typTypeID')\n    Type = models.CharField(max_length=25, db_column=u'typType', blank=True)\n    class Meta:\n        db_table = u'tblType'\n</code></pre>\n"},{"tags":["python","sockets","application","smtp","flask"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13210596,"title":"How can I get my Python function in Flask application to stop running?","body":"<p>I set up a function that is meant to be called every minute to send an email. I call it every minute using the following: </p>\n\n<pre><code>import smtplib\ndef messages_emailed():\n    fromaddr = FROMADDRESS\n    toaddrs = TOADDRESS\n    msg = \"this is a test message.\"\n\n    username = USER\n    password = PASSWORD\n\n    server = smtplib.SMTP('smtp.gmail.com:587')\n    server.starttls()\n    server.login(username,password)\n    server.sendmail(fromaddr, toaddrs, msg)\n    server.quit()\n         threading.Timer(60, messages_emailed).start() #runs func every min\n    messages_emailed()\n</code></pre>\n\n<p>This worked perfectly, although despite me stopping the application in Terminal, using <code>control–C</code>, I am continuing to receive mail every minute, and refreshing the page in which my application is running in my browser, <code>127.0.0.1:5000</code>, continues to display my application. I can edit my script to add a cancel statement, but hitting save did not make any changes, and trying to reload my application in terminal returned an error</p>\n\n<pre><code>&gt;  * Running on ``http://127.0.0.1:5000/ ``Traceback (most recent call\n&gt; last):   File \"bit.py\", line 79, in &lt;module&gt;\n&gt;     app.run()    File \"/Library/Python/2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\",\n&gt; line 739, in run\n&gt;     run_simple(host, port, self, **options)   File \"/Library/Python/2.7/site-packages/Werkzeug-0.8.3-py2.7.egg/werkzeug/serving.py\",\n&gt; line 613, in run_simple\n&gt;     test_socket.bind((hostname, port))   File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py\",\n&gt; line 224, in meth socket.error: [Errno 48] Address already in use\n</code></pre>\n\n<p>For now, I have stopped the influx of emails by deleting the mail account I used to send messages from. However, I am wondering what a long term solution would look like, something that I can ideally stop from the terminal or stops executing when the program does. Research has suggested using <code>sys.exit(0)</code> though I do not know where in my program to place this or when it will quit the function. </p>\n\n<p>Any help would be greatly appreciated. </p>\n"},{"tags":["python","json","serialization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13209909,"title":"Typed JSON serialization/deserialization in Python","body":"<pre><code>class Person:\n    first_name = superjson.Property()\n    last_name = superjson.Property()\n    posts = superjson.Collection(Post)\n\nclass Post:\n    title = superjson.Property()\n    description = superjson.Property()\n\n# ^^^ this approach is very similar to Django models/forms\n</code></pre>\n\n<p>Then, given JSON like this:</p>\n\n<pre><code>{\n  \"first_name\": \"John\", \n  \"last_name\": \"Smith\",\n  \"posts\": [\n    {\"title\": \"title #1\", \"description\": \"description #1\"},\n    {\"title\": \"title #2\", \"description\": \"description #2\"},\n    {\"title\": \"title #3\", \"description\": \"description #3\"}\n  ]\n}\n</code></pre>\n\n<p>I want it to build a proper <code>Person</code> object with everything inside it set:</p>\n\n<pre><code>p = superjson.deserialize(json, Person) # note, root type is explicitly provided\nprint p.first_name # 'John'\nprint p.last_name # 'Smith'\nprint p.posts[0].title # 'title #1'\n# etc...\n</code></pre>\n\n<ul>\n<li>Sure it should also facilitate serialization</li>\n<li>It should either serialize/deserialize time to/from ISO-8601 by default or be easy to achieve this in couple lines of code.</li>\n</ul>\n\n<p>So, I'm looking for this <code>superjson</code>. Did anyone see anything similar?</p>\n"},{"tags":["python","scientific-computing"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":469,"score":2,"question_id":5623590,"title":"Time-varying data: list of tuples vs 2D array?","body":"<p>My example code is in python but I'm asking about the general principle.</p>\n\n<p>If I have a set of data in time-value pairs, should I store these as a 2D array or as a list of tuples? for instance, if I have this data:</p>\n\n<pre><code>v=[1,4,4,4,23,4]\nt=[1,2,3,4,5,6]\n</code></pre>\n\n<p>Is it generally better to store it like this:</p>\n\n<pre><code>data=[v,t]\n</code></pre>\n\n<p>or as a list of tuples:</p>\n\n<pre><code>data=[(1,1),(4,2)(4,3)...]\n</code></pre>\n\n<p>Is there a \"standard\" way of doing this?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":53,"score":-2,"question_id":13210842,"title":"Python Newbie: Is python suitable for Scripting?","body":"<p>This question is not coding related, but anyone who has worked on python should have invaluable suggestion for me. I have been a Linux sys-admin for quite some time and have written numerous automation scripts in Perl. I love Perl and it serves the use-case I had so far. But quite recently, I came across 2 different products which provide their APIs in python. I need to do some automation but seems like python is going to be a big learning curve for me and will take a lot of time to automate stuff using python APIs.</p>\n\n<p>I bought \"Learning Python 4th Edition - Mark Lutz\" and \"Programming Python 4th Edition - Mark Lutz\" and started reading them.</p>\n\n<p>But I think python is more about \"Programing\" than \"Scripting\".  I can have a developer do the automation in python for me, but then I thought of learning it myself.</p>\n\n<p>I have been very much comfortable using Perl all my life. So my question is, Is it a good idea to learn Python for \"scripting\" purpose ? OR Is python more suitable for hardcore OO programming. </p>\n\n<p>I am reading above two books and learning as well, but I think it's going to take considerable amount of time for me to write some \"Real\" and \"Practical\" python automation and not just \"hello world\" kind of stuff.</p>\n\n<p>This is not a moot point and I am purely seeking python coder's opinion on this. I am a sys-admin and not a developer and neither I intend to become one. Also, StackOverflow is more about coding issue, but I could not ask this question anywhere else as I did not find something like pythomonks.</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>what's up with the down votes?...do me a favor, feel free to down vote my questions if you think so, but please provide an explanation why are you doing so.. This is the only place I found where I can get python expert's opinion and hence posted this question... Please read the complete post...</p>\n"},{"tags":["python","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13096539,"title":"django-schedule project_sample error","body":"<p>There is this library that I would like to get familiar with called django-schedule, there is a project sample they say is up and running, the thing is it's not currently updated to django  1.4 but there is a fork with a pull request that updates it <a href=\"https://github.com/Natim/django-schedule\" rel=\"nofollow\">https://github.com/Natim/django-schedule</a></p>\n\n<p>But when running it i get an error that i think is this</p>\n\n<pre><code>(r'^schedule/', include('schedule.urls')), \n</code></pre>\n\n<p>I installed the with setup.py what do you think i have to do to get this up and running?</p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/\n\nDjango Version: 1.4.2\nPython Version: 2.7.3\nInstalled Applications:\n('django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.sites',\n 'django.contrib.admin',\n 'django.contrib.admindocs',\n 'schedule')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.locale.LocaleMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware')\n\n\nTraceback:\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/core/handlers/base.py\" in get_response\n  89.                     response = middleware_method(request)\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/middleware/locale.py\" in process_request\n  21.         check_path = self.is_language_prefix_patterns_used()\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/middleware/locale.py\" in is_language_prefix_patterns_used\n  54.         for url_pattern in get_resolver(None).url_patterns:\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/core/urlresolvers.py\" in url_patterns\n  328.         patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/core/urlresolvers.py\" in urlconf_module\n  323.             self._urlconf_module = import_module(self.urlconf_name)\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/utils/importlib.py\" in import_module\n  35.     __import__(name)\nFile \"/home/brian/code/django-schedule/project_sample/../project_sample/urls.py\" in &lt;module&gt;\n  10.     (r'^schedule/', include('schedule.urls')),\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/conf/urls/__init__.py\" in include\n  24.         urlconf_module = import_module(urlconf_module)\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/Django-1.4.2-py2.7.egg/django/utils/importlib.py\" in import_module\n  35.     __import__(name)\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/django_schedule-0.5b-py2.7.egg/schedule/urls.py\" in &lt;module&gt;\n  4. from schedule.feeds import UpcomingEventsFeed\nFile \"/home/brian/virt_env/virt_step/local/lib/python2.7/site-packages/django_schedule-0.5b-py2.7.egg/schedule/feeds/__init__.py\" in &lt;module&gt;\n  2. from django.contrib.syndication.feeds import FeedDoesNotExist\n\nException Type: ImportError at /\nException Value: No module named feeds\n</code></pre>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13210512,"title":"Read number from file and put it into two-dimensional list","body":"<p>I am new to Python. My file contains these numbers:</p>\n\n<pre><code>2,3\n4,5\n7,8\n-4,3\n</code></pre>\n\n<p>How can I read this file and convert it into a two dimensional list so that I can calculate an area?</p>\n"},{"tags":["python","dictionary","python-2.7"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13207008,"title":"Iterating over dictionary containing array objects in python","body":"<p>So I'm trying to iterate over a dictionary object in python and all I'm getting is list out of index error. Here is what my list looks like - </p>\n\n<pre><code>test_list = {\"1\":[{\"1\":[{\"a\":\"100\",\"b\":\"200\"}],\"2\":[{\"a\":\"300\",\"b\":\"400\"}]}]}\n</code></pre>\n\n<p>And here is the code - </p>\n\n<pre><code>for counter in range(len(test_list)):\n            print test_list['1'][counter]\n</code></pre>\n\n<p>Any idea why am I getting that error?</p>\n\n<p>EDIT: I want to access all of a &amp; b elements in test_list</p>\n"},{"tags":["python","nameerror"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":34,"score":-3,"question_id":13210473,"title":"Python NameError at testfunctions","body":"<p>I met this problem several times, and don't know how to deal with it. Many of my testfunctions (for example <code>test_add</code>) returns a <code>NameError</code>, although the tested function is there. For example:</p>\n\n<pre><code>def test_add():\n   '''Testfunction for add'''\n   assert add(1)==[1]\n   assert add(2)==[1, 2]\n   assert add(3)==[1, 2, 3]\ndef add(n):\n   pass\n</code></pre>\n\n<p>What could be the problem?</p>\n\n<p>Ok, here is the actual code:</p>\n\n<pre><code>def test_add():\n'''Testfunction for add'''\nassert add(1)==li+[1]\nassert add(2)==li+[1, 2]\nassert add(3)==li+[1, 2, 3]\n\n\ndef add(n):\n'''Adds a new element to the list of scores.\n    n is an integer number between 1 and 100.\n    Returns the new list'''\nglobal li\nli.append(n)\nreturn li\n</code></pre>\n\n<p>it is part of a much longer program, so i can't post it all. when i run the testfunction, it gives me a nameerror, saying that 'add' is not defined.</p>\n"},{"tags":["python","webkit","scrapy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13108179,"title":"How to use webkit with scrapy","body":"<p>I need to scrape a webpage with javascript and looks like this is resolved in the example at <a href=\"http://snipplr.com/view/66996/renderedinteractive-javascript-with-gtkwebkitjswebkit/\" rel=\"nofollow\">http://snipplr.com/view/66996/renderedinteractive-javascript-with-gtkwebkitjswebkit/</a>\nreferred in question <a href=\"http://stackoverflow.com/questions/12332847/extracting-data-from-web?lq=1,the\">Extracting data from Web</a> code uses webkit downloader class. I understand that I need to invoke process_request function. What do I pass in as parameter in request. I looked through scrapy documentation to see if I have to pass request object created in scrapy but that does not work.</p>\n\n<p>Also, I understand that the spider object is to be passed in process_request as the last parameter. Which object should that be? Sorry I am new to python, scrapy and webkit so maybe asking questins with obvious answers.</p>\n"},{"tags":["python","unicode","ascii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":29,"score":-1,"question_id":13210637,"title":"A Unicode string written in escaped ASCII","body":"<p>I use a  PHP/webservice with Python but it returns me troubles :<br>Where I want to have <code>u'Syst\\xe8me'</code>, I have <code>u'Syst\\xc3\\xa8me'</code>.</p>\n\n<p>And I don't how to go from B to A.</p>\n\n<p>PS: I've already try to set <code>encoding='ascii'</code> in my <code>xmlrpclib.Server</code>.</p>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":251,"score":0,"question_id":13210503,"title":"how to find log in python without using the built-in function","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13205078/calculating-logarithm-why-is-this-algorithm-not-efficient-and-how-to-make-it-m\">Calculating logarithm, why is this algorithm not efficient, and how to make it more efficient?</a>  </p>\n</blockquote>\n\n\n\n<p>This code is supposed to return the power of b that equals x, or close to it but not larger. What is wrong with my code???</p>\n\n<pre><code>def myLog(x, b):\n    '''\n    x: a positive integer\n    b: a positive integer; b &gt;= 2\n\n    returns: log_b(x), or, the logarithm of x relative to a base b.\n    '''\n    counter = 1\n    while x &gt; b:\n        if b &gt;= x:\n            break\n        else:\n            b*=b\n        counter += 1\n    return counter\n</code></pre>\n"},{"tags":["python","mysql","api","data","frameworks"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":324,"score":3,"question_id":8466425,"title":"Best Python Web Framework for my API Server Needs","body":"<p>I am working on developing two systems:  </p>\n\n<ol>\n<li>A system that will constantly retrieve economic data from a 3rd party data feed and push it into a MySQL DB (using sqlalchemy)  </li>\n<li>A server that will allow anyone to query the data in the db over a JSON AJAX API (similar to Yelp or Yahoo API for example)  </li>\n</ol>\n\n<p>I have two main questions:  </p>\n\n<ol>\n<li>Which Python framework should I use in 2)? Pyramid is my first choice, but if you strongly suggest against it or in favor of something else like Django or Pylons I am definitely wiling to consider it.  </li>\n<li>Should I develop the two system separately? Or should 1) be a part of 2), running within the framework (using crontab or celery for example)?   </li>\n</ol>\n\n<p>Thank you!</p>\n"},{"tags":["python","numpy","matplotlib","figure"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":125,"score":2,"question_id":13183460,"title":"Plot really big file in python (5GB) with x axis offset","body":"<p>I am trying to plot a very big file (~5 GB) using python and matplotlib. I am able to load the whole file in memory (the total available in the machine is 16 GB) but when I plot it using simple imshow I get a segmentation fault. This is most probable to the ulimit which I have set to 15000 but I cannot set higher. I have come to the conclusion that I need to plot my array in batches and therefore made a simple code to do that. My main isue is that when I plot a batch of the big array the x coordinates start always from 0 and there is no way I can overlay the images to create a final big one. If you have any suggestion please let me know. Also I am not able to install new packages like \"Image\" on this machine due to administrative rights. Here is a sample of the code that reads the first 12 lines of my array and make 3 plots.</p>\n\n<pre><code>import os\nimport sys\nimport scipy\nimport numpy as np\nimport pylab as pl\nimport matplotlib as mpl\nimport matplotlib.cm as cm\nfrom optparse import OptionParser\nfrom scipy import fftpack\nfrom scipy.fftpack import *\nfrom cmath import *\nfrom pylab import *\nimport pp\nimport fileinput\nimport matplotlib.pylab as plt\nimport pickle\n\ndef readalllines(file1,rows,freqs):\n    file = open(file1,'r')\n    sizer = int(rows*freqs)\n    i = 0\n    q = np.zeros(sizer,'float')\n    for i in range(rows*freqs):\n        s =file.readline()\n        s = s.split()\n        #print s[4],q[i]\n        q[i] = float(s[4])\n        if i%262144 == 0:\n            print '\\r ',int(i*100.0/(337*262144)),'  percent complete',\n        i += 1\n    file.close()\n    return q\n\nparser = OptionParser()\nparser.add_option('-f',dest=\"filename\",help=\"Read dynamic spectrum from FILE\",metavar=\"FILE\")\nparser.add_option('-t',dest=\"dtime\",help=\"The time integration used in seconds, default 10\",default=10)\nparser.add_option('-n',dest=\"dfreq\",help=\"The bandwidth of each frequency channel in Hz\",default=11.92092896)\nparser.add_option('-w',dest=\"reduce\",help=\"The chuncker divider in frequency channels, integer default 16\",default=16)\n(opts,args) = parser.parse_args()\nrows=12\nfreqs = 262144\n\nfile1 = opts.filename\n\ns = readalllines(file1,rows,freqs)\ns = np.reshape(s,(rows,freqs))\ns = s.T\nprint s.shape\n#raw_input()\n\n#s_shift = scipy.fftpack.fftshift(s)\n\n\n#fig = plt.figure()\n\n#fig.patch.set_alpha(0.0)\n#axes = plt.axes()\n#axes.patch.set_alpha(0.0)\n###plt.ylim(0,8)\n\nplt.ion()\n\ni = 0\nfor o in range(0,rows,4):\n\n    fig = plt.figure()\n    #plt.clf()\n\n    plt.imshow(s[:,o:o+4],interpolation='nearest',aspect='auto', cmap=cm.gray_r, origin='lower')\n    if o == 0:\n        axis([0,rows,0,freqs])\n    fdf, fdff = xticks()\n    print fdf\n    xticks(fdf+o)\n    print xticks()\n    #axis([o,o+4,0,freqs])\n    plt.draw()\n\n    #w, h = fig.canvas.get_width_height()\n    #buf = np.fromstring(fig.canvas.tostring_argb(), dtype=np.uint8)\n    #buf.shape = (w,h,4)\n\n    #buf = np.rol(buf, 3, axis=2)\n    #w,h,_ = buf.shape\n    #img = Image.fromstring(\"RGBA\", (w,h),buf.tostring())\n\n    #if prev:\n    #    prev.paste(img)\n    #    del prev\n    #prev = img\n    i += 1\npl.colorbar()\npl.show()\n</code></pre>\n"},{"tags":["python","query","google-app-engine","key","case-insensitive"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13210408,"title":"case insensitive query for key_name","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3289781/how-to-make-case-insensitive-filter-queries-with-google-app-engine\">How to make case insensitive filter queries with Google App Engine?</a>  </p>\n</blockquote>\n\n\n\n<p>Can a GAE datastore be queried case insensitively for a key_name? Maybe query is not the right term. I really want to do a <code>get_by_key_name()</code> so the user does not have to have the correct case, but does have the correct text characters. </p>\n"},{"tags":["python","sprite","pygame","game-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13205629,"title":"Can constant key input move a sprite constantly?","body":"<p>If I want to move a sprite based on key input in pygame, is there anyway to write code so if I hold down a key, the sprite will keep moving in that direction until I release the key? I've tried this and either the program crashes or I have to repeatedly tap the keys to move the sprite in the intended direction.</p>\n"},{"tags":["python","mongodb","twitter-api","pymongo","tweetstream"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13209459,"title":"Restrict only geotagged tweets to flow through to mongodb","body":"<p>I am currently making use of <a href=\"http://pypi.python.org/pypi/tweetstream\" rel=\"nofollow\">Tweetstream</a> to store tweets in MongoDB.<br>\nI have setup a script that im running with python 2.7:</p>\n\n<pre><code>extent =[\"144.715, -38.03\", \"145.219, -37.541\"]\n\nwith tweetstream.FilterStream(username, password, locations=extent) as stream:\n    for tweet in stream:\n        db.tweets.save(tweet)\n</code></pre>\n\n<p>This is working fine, and storing tweets into mongoDb, but its also storing tweets that have no geolocation at all.  i.e. for the <a href=\"https://dev.twitter.com/docs/platform-objects/tweets\" rel=\"nofollow\">coordinates property,</a>, blank ones are also being stored.</p>\n\n<p>To me, the current script should only be saving tweets that are within the specified extent to my mongoDb, but thats not happening.</p>\n\n<p>Can anyone suggest how to modify my script to catch only sending the geotagged tweets within my specified <code>extent</code> to the mongoDb?</p>\n"},{"tags":["python","regex","split"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":44,"score":-1,"question_id":13209288,"title":"Python split string based on regex","body":"<p>What is the best way to split a string like <code>\"HELLO there HOW are YOU\"</code> by upper case words (in Python)? </p>\n\n<p>So I'd end up with an array like such: <code>results = ['HELLO there', 'HOW are', 'YOU']</code></p>\n\n<p>EDIT: </p>\n\n<p>I have tried: </p>\n\n<pre><code>p = re.compile(\"\\b[A-Z]{2,}\\b\")\nprint p.split(page_text)\n</code></pre>\n\n<p>It doesn't seem to work, though </p>\n\n<p>Thanks!</p>\n"},{"tags":["python","printing","utf-8","sys"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13210146,"title":"Python 2.7: reload(sys) disables error messages and print in Windows","body":"<p>I'm making a script that requires me to change the encoding format to \"UTF-8\". I found a topic here on Stachoverflow that said i could use:</p>\n\n<pre><code>import sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\n</code></pre>\n\n<p>It works great in OSX 10.8 (maybe earlier versions too), but in Windows XP and Windows 7 (probably Vista and 8 too) it disables all feedback in the interpreter.\nThe script still runs, but i can't print anything or see if anything goes wrong.</p>\n\n<p>Is there a way to patch the current code or is there an alternate way to change the encoding?</p>\n"},{"tags":["python","django","unit-testing","self"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":58,"score":4,"question_id":13210072,"title":"When I create a test method in Django, what exactly is 'self' referring to?","body":"<p>My understanding of 'self' is that it means something like \"an instance of the class which contains this method\". Thus, when the default django test reads:</p>\n\n<pre><code>class SimpleTest(TestCase):\n    def test_basic_addition(self):\n</code></pre>\n\n<p>we are in some sense passing to test_basic_addition an instance of SimpleTest, to which at some point the actions defined in the setUp method (if any) have been applied. Presumably <code>manage.py test</code> creates this instance somehow, but I don't really understand what it is! What's really going on here?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13205212,"title":"Binary Search Tree - Insert Function","body":"<p>Good evening all, </p>\n\n<p>I've been tasked with designing a function in Python that will build a Binary Search tree. \nWhen I walk through the function myself, it seems to make perfect sense and it SHOULD work. However, for whatever reason, it's only building the last 'tree' and not saving any of the prior tree information. I've included my classes, the constructors and of course the function. Any tips are appreciated! To test the function, I am using the following line:     </p>\n\n<pre><code>newMap = mapInsert1('one', 1, mapInsert1('two', 2, mkEmptyMap()))\n\n\n///CODE///\nclass EmptyMap():\n    __slots__ = ()\n\nclass NonEmptyMap():\n    __slots__ = ('left', 'key', 'value', 'right')\n\ndef mkEmptyMap():\n    return EmptyMap()\n\ndef mkNonEmptyMap(left, key, value, right):\n    nonEmptyMap = NonEmptyMap()\n    nonEmptyMap.left = left\n    nonEmptyMap.key = key\n    nonEmptyMap.value = value\n    nonEmptyMap.right = right\n\n    return nonEmptyMap\n\ndef mapInsert1(key, value, node):\n    if isinstance(node, EmptyMap):\n        node = mkNonEmptyMap(mkEmptyMap(), key, value, mkEmptyMap())\n        return node\n    else:\n        if key &gt; node.key:\n            return mapInsert1(key, value, node.right)\n        elif key &lt; node.key:\n            return mapInsert1(key, value, node.left)\n        elif key == node.key:\n            node.value = value\n            return mapInsert1(key, value, node)\n        else:\n            raise TypeError('Bad Map')\n</code></pre>\n"},{"tags":["python","scipy","sparse-matrix"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13172225,"title":"Sparse-Dense multiplication in Python","body":"<p>I am using Python 3.23 and I am want to multiply a sparse VECTOR with a dense MATRIX. The idea of first unfolding the sparse vector into a dense one and then multiplying is of course silly from any standpoint except for mem management until the actual unfolding. It will be more expensive with zeros in there...</p>\n\n<p>Also, does any one know of a good way for SciPy to keep one dimensional matrices in sparse mode? The only one (admittedly) i have used is the classical notation of three vectors (x,y,value), so i have had to use np.ones(len(...)) to get it to work.</p>\n\n<p>Well.. comments welcome!</p>\n"},{"tags":["python","python-3.x","mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13209778,"title":"What's the easiest way to get mechanize for Python 3 on Debian?","body":"<p>I recently wanted to port my scraper that uses <code>mechanize.Browser</code> to Python 3. I haven't found any <code>python3-mechanize</code> package or anything like that. I'm not yet familiar with Python module building with some special procedures so I don't know how would I use <code>2to3</code> there. Any suggestions?</p>\n"},{"tags":["python","matplotlib","tkinter","matplotlib-basemap"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12986350,"title":"BufferRegion is cleared by a call to clf()","body":"<p>I have an application in which I'd like to draw counties from a shapefile using Basemap.  Drawing the county polygons is the bottleneck in the rendering, and since I'll be drawing the same region of the US (a bunch of times), I'd rather not have to draw all the polygons any more than I need to.  So I had the idea to draw the counties to a figure with a transparent background, copy the axes to a pixel buffer using <code>copy_from_bbox()</code>, and restore the buffer using <code>restore_region()</code> when I need to draw the counties.</p>\n\n<p>The basic code goes like this:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits.basemap import Basemap\n\nmap = Basemap(...) # Create Basemap object\n\nmap.readshapefile(\"countyp020\", 'counties', linewidth=0.5) # Draws the county lines\nplt.gcf().patch.set_alpha(0.0)\nplt.gca().patch.set_alpha(0.0)\n\n# Copy to the pixel buffer (county_buffer is of type BufferRegion)\ncounty_buffer = plt.gcf().canvas.copy_from_bbox(plt.gca().bbox)\n\nplt.clf() # This line is problematic (see below)\n\n# Plot my data here ...\n\n# Restore the pixel buffer\nplt.gcf().canvas.restore_region(county_buffer)\nplt.gcf().canvas.blit(plt.gca().bbox) # Not sure if this line is necessary\n\nplt.gcf().canvas.draw()\n</code></pre>\n\n<p>It works like a charm ... except for the line where I clear the figure.  Clearing the figure between renderings apparently clears the BufferRegion object as well, and since I update the title and colorbar, I'd also like to clear the figure between renderings.</p>\n\n<p>So my question is does anybody know a way to clear the figure and keep the pixel buffer intact?  I haven't been able to find much documentation on <code>BufferRegion</code>, <code>copy_from_bbox()</code>, or <code>restore_region()</code>, so it's been a bit difficult to debug this.  If there's no easy way around it, then does anybody know another way to do basically what I'm trying to do?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["python","network-programming","matplotlib","matplotlib-basemap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12767109,"title":"Draw a network/graph on world map using basemap (python)","body":"<p>I have a list of hundreds of connected countries:</p>\n\n<pre><code>...\nAlbania ; Austria\nAlbania ; Azerbaijan\n...\n</code></pre>\n\n<p>This gives a graph. I would like to draw lines (straight or curved) between the connected countries on the world map (using basemap / python)? </p>\n\n<p>here is an example of the kind of result I would like to achieve \n<a href=\"http://www.lincomrealestate.com/site/images/WorldMapBig1.jpg\" rel=\"nofollow\">http://www.lincomrealestate.com/site/images/WorldMapBig1.jpg</a></p>\n"},{"tags":["python","qt","pyqt","qdialog"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":4887,"score":5,"question_id":406939,"title":"PyQt: getting widgets to resize automatically in a QDialog","body":"<p>I'm having difficulty getting widgets in a QDialog resized automatically when the dialog itself is resized.</p>\n\n<p>In the following program, the textarea resizes automatically if you resize the main window.  However, the textarea within the dialog stays the same size when the dialog is resized.</p>\n\n<p>Is there any way of making the textarea in the dialog resize automatically?  I've tried using <code>setSizePolicy(QSizePolicy.Ignored, QSizePolicy.Ignored)</code> on the dialog itself and the two widgets within, but that seems to have no effect.</p>\n\n<p>I'm using Qt version 3.3.7 and PyQt version 3.5.5-29 on openSuSE 10.2, if that's relevant.</p>\n\n<pre><code>import sys\nfrom qt import *\n\n# The numbers 1 to 1000 as a string.\nNUMBERS = (\"%d \" * 1000) % (tuple(range(1,1001)))\n\n# Add a textarea containing the numbers 1 to 1000 to the given\n# QWidget.\ndef addTextArea(parent, size):\n    textbox = QTextEdit(parent)\n    textbox.setReadOnly(True)\n    textbox.setMinimumSize(QSize(size, size*0.75))\n    textbox.setText(NUMBERS)\n\n\nclass TestDialog(QDialog):\n    def __init__(self,parent=None):\n        QDialog.__init__(self,parent)\n        self.setCaption(\"Dialog\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 400)\n        everything.resize(everything.sizeHint())\n\n\nclass TestMainWindow(QMainWindow):\n    def __init__(self,parent=None):\n        QMainWindow.__init__(self,parent)\n        self.setCaption(\"Main Window\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 800)\n\n        button = QPushButton(\"Open dialog\", everything)\n        self.connect(button, SIGNAL('clicked()'), self.openDialog)        \n\n        self.setCentralWidget(everything)\n        self.resize(self.sizeHint())\n\n        self.dialog = TestDialog(self)\n\n    def openDialog(self):\n        self.dialog.show()\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    mainwin = TestMainWindow(None)\n    app.setMainWidget(mainwin)\n    mainwin.show()\n    app.exec_loop()\n</code></pre>\n"},{"tags":["python","django","django-templates","django-template-tags"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13207710,"title":"How can I \"ignore\" NoReverseMatch in Django template?","body":"<p><strong>Is there any way to disable throwing <code>NoReverseMatch</code> exceptions from <code>url</code> tags in Django templates (just make it silently fail, return an empty string or smth... temporarily, for development, of course)?</strong></p>\n\n<p>(I'm working on a Django project that is kind of a mess as far as things are organized (bunch of remote-workers, contractors plus the local team with lots of overlapping tasks assigned to different people and even front-end and back-end work tends to get mixed as part of the same task...) and <em>I really need to just ignore/hide/disable the <code>NoReverseMatch</code> thrown by template <code>url</code> tags in order to efficiently do my part of the job and not end up doing other peoples' jobs in order to be able to do mine...</em>)</p>\n"},{"tags":["python","matrix","machine-learning","scipy","linear-algebra"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":47,"score":1,"question_id":13204402,"title":"Computing generalized eigen values for sparse matrices in python","body":"<p>I am using scipy.sparse.linalg.eigsh to solve the generalized eigen value problem for a very sparse matrix and running into memory problems. The matrix is a square matrix with 1 million rows/columns, but each row has only about 25 non-zero entries. Is there a way to solve the problem without reading the entire matrix into memory, i.e. working with only blocks of the matrix in memory at a time?</p>\n\n<p>It's ok if the solution involves using a different library in python or in java.</p>\n"},{"tags":["python","sorting"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2384,"score":3,"question_id":2597119,"title":"Sorting elements in string with Python","body":"<p>I need to sort string, and I came up with the following function.</p>\n\n<pre>\ndef mysort(comb_): \n    str = [] \n    size = len(comb_) \n    for c in comb_: \n        str.append(c) \n    str.sort() \n    return ''.join(str) \n</pre>\n\n<p>Is there any way to make it compact?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":13046917,"title":"Printing from Tkinter or PMW intrerface","body":"<p>I have created an interface in both Python Mega Widgets and Tkinter that is an interface to a SQlite3 database. The query results are returned as a list and disiplayed in a memo field located on the main frame of the display.</p>\n\n<p>Can I create a small function that will be launched from a button that will <strong>print</strong> the contents of the memo field?</p>\n\n<p>something like:</p>\n\n<pre><code>command = printMemo  #argument within the print button\n\n\n#the print function I am looking for in pseudocode\ndef printMemo(memo):\n       print memo\n</code></pre>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13204689,"title":"appengine python backends","body":"<p>I'm trying to run some code on Appengine using dynamic backends (python), but I find <a href=\"https://developers.google.com/appengine/docs/python/backends/overview#Startup\" rel=\"nofollow\">Appengine dynamic backends documentation</a> to be inadequate. Does anyone have any sample code regarding how this can be done?</p>\n\n<p>I have already configured my backends.yaml like so</p>\n\n<pre><code>backends: \n- name: fileupload-backend\n  options: dynamic\n  start: backend_handler.py\n</code></pre>\n\n<p>And I understand that dynamic backends run when Appengine sends a start request to /_ah/start, then run when they receive a request from the application and stops when they receive no further requests from the application. But how do I write code in my backends_handler.py in order to prompt appengine to do this? </p>\n"},{"tags":["python","django","windows","pil","virtualenv"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13205190,"title":"PIP/easy_install PIL in Virtualenv vcvarsall.bat error Windows 7","body":"<p>So I know there's a fair amount of documentation on this already, but I just can't seem to get it to work. I'm deploying a Django app to Heroku, and am trying to install PIL into my virtualenv (a main part of the app requires user uploaded images).</p>\n\n<p>I've tried both</p>\n\n<pre><code>easy_install PIL\n</code></pre>\n\n<p>and</p>\n\n<p>pip install PIL</p>\n\n<p>and everyone the installation ends in</p>\n\n<pre><code>error: Unable to find vcvarsall.bat.\n</code></pre>\n\n<p>How can I get PIL into my virtualenv? Can anyone walk me through it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13209620,"title":"Python library to do what the UNIX command 'dialog' does","body":"<p>I need text-console interactive dialogs. I am porting a shell script to Python. Which Python tool would do pretty much exactly what the UNIX command <code>dialog</code> does? (i.e. ready-to-use yes/no, calendar, text, gauge, etc. controls which return results and are ncurses-like full-screen UIs)</p>\n"},{"tags":["c#","java","python",".net","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13202555,"title":"how can you create a signature field for a PDF template?","body":"<p>I have been searching through <a href=\"http://itextpdf.com/\" rel=\"nofollow\">itextsharp</a> classes:</p>\n\n<p><a href=\"http://api.itextpdf.com/itext/\" rel=\"nofollow\">http://api.itextpdf.com/itext/</a></p>\n\n<p>And I found that you can create buttons, checkboxes, radio buttons, textboxes:</p>\n\n<p><img src=\"http://i.stack.imgur.com/K8xzP.png\" alt=\"enter image description here\"></p>\n\n<p>But I do not understand why you cannot create a signature box? <strong>Or can you?</strong> It is part of the standard library of objects for a PDF template. You can create this object using adobe acrobat itself. </p>\n\n<p><strong>Is there a library/tool out there that will create a signature box for a PDF?</strong></p>\n\n<p>When I say signature, I mean I need the user to be able to sign their name on the resulting PDF.</p>\n"},{"tags":["python","django","transactions","django-admin"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":13209243,"title":"can this variable really be \"referenced before assignment\"","body":"<p>I have piece of code below (belongs to a Django admin view, slightly modified). My IDE (PyCharm) warns me at the last line that <code>Local variable 'ModelForm' might be referenced before assignment</code>.</p>\n\n<p>Now, I don't see how that can ever happen, but when I comment out line 6:</p>\n\n<pre><code>with transaction.commit_manually():\n</code></pre>\n\n<p>than the warning disappears.</p>\n\n<p>Now, am I missing something or is PyCharm missing something?</p>\n\n<p>Here is the chunk of code. I striped it down to just a few lines and it still gives the warning. The original chunk of code is here (70 lines): <a href=\"http://pastebin.com/4UT9hRPb\" rel=\"nofollow\">http://pastebin.com/4UT9hRPb</a></p>\n\n<pre><code>    ModelForm = self.get_form(request, obj, form=form)\n\n    formsets = []\n    if request.method == 'POST':\n        # commit only when all forms are valid\n        with transaction.commit_manually():\n            try:\n                objects = queryset.all()\n                transaction.commit()\n                return self.response_change(request, new_object)\n\n            finally:\n                general_error = unicode(sys.exc_info()[1])\n                transaction.rollback()\n\n    form = ModelForm()\n</code></pre>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":65,"score":2,"question_id":13209539,"title":"Function within a function in python","body":"<p>I recently came across this idea of defining a function within a function in Python. I have this code and it gives error: </p>\n\n<hr>\n\n<pre><code>def f1(a):\n    def f2(x):\n       return a+x\n    return 2*a\n</code></pre>\n\n<hr>\n\n<p>Error: On calling <code>f2(5)</code></p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;pyshell#19&gt;\", line 1, in &lt;module&gt;\nf2(5)\nNameError: name 'f2' is not defined\n</code></pre>\n\n<hr>\n\n<p>I have some difficulty understanding the way global variables are used across functions or even in recursive calls. I would really appreciate if someone would point out my mistake and may be help me along the way. Thanks in advance !!</p>\n"},{"tags":["python","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":13209501,"title":"Usage of `hash` method","body":"<p>How do you use the <code>hash</code> method?</p>\n\n<pre><code>&gt;&gt;&gt; def foo():\n&gt;&gt;&gt;    return 'foo'\n&gt;&gt;&gt; f = foo()\n&gt;&gt;&gt;\n&gt;&gt;&gt; hash(f)\n-4177197833195190597\n&gt;&gt;&gt;\n&gt;&gt;&gt; hash(foo)\n1643374\n&gt;&gt;&gt;\n&gt;&gt;&gt; hash(foo())\n-4177197833195190597\n</code></pre>\n\n<p>For what do I could use it?</p>\n"},{"tags":["python","django","pickle"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":649,"score":4,"question_id":3103638,"title":"Pickling Django request objects","body":"<p>I'm trying to pickle a request object so that I can run my view code in a debugger with valid input. However, I'm getting</p>\n\n<pre><code>Can't pickle 'lock' object: &lt;thread.lock object at 0x93ad240&gt;\n</code></pre>\n\n<p>I looked through the request object, but couldn't find a thread.lock object anywhere in it. Does anyone know where it is? Is there a better way to go about this?</p>\n"},{"tags":["python"],"answer_count":34,"favorite_count":110,"up_vote_count":89,"down_vote_count":4,"view_count":29616,"score":85,"question_id":111857,"title":"What did you use to teach yourself Python?","body":"<p>I'm an avid programmer, and I like to learn new languages. I normally teach them myself.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Python_%28programming_language%29\" rel=\"nofollow\">Python</a> isn't a \"must-learn\" language for me, but, as I work with <a href=\"http://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow\">Ubuntu</a>, and a lot of their own code is now Python based, it'd be useful for me to learn, so that I can work with their code. I already know the basics of programming (and the advanced) and am versed in multiple programming Languages.</p>\n\n<p>What are your suggestions for resources for learning Python, or how would you start working with Python to get yourself to a competent level with it?</p>\n"},{"tags":["python","email","html-email","smtplib"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13208212,"title":"Python Variable in an HTML email in Python","body":"<p>How do I insert a variable into an html email I'm sending with python? The variable I'm trying to send is <code>code</code>. Below is what I have so far.</p>\n\n<pre><code>text = \"We Says Thanks!\"\nhtml = \"\"\"\\\n&lt;html&gt;\n  &lt;head&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;p&gt;Thank you for being a loyal customer.&lt;br&gt;\n       Here is your unique code to unlock exclusive content:&lt;br&gt;\n       &lt;br&gt;&lt;br&gt;&lt;h1&gt;&lt;% print code %&gt;&lt;/h1&gt;&lt;br&gt;\n       &lt;img src=\"http://domain.com/footer.jpg\"&gt;\n    &lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n</code></pre>\n"},{"tags":["python","lambda"],"answer_count":22,"favorite_count":79,"up_vote_count":119,"down_vote_count":5,"view_count":46429,"score":114,"question_id":890128,"title":"Python Lambda - why?","body":"<p>I'm just beginning Python and ran head first into Lambda- which took me a while to figure out.  Is lambda one of those 'interesting' language items that in real life should be forgotten? I'm sure there are some edge cases where it might be needed, but given the obscurity of it, the potential of it being redefined in future releases (my assumption based on the various definitions of it) and the reduced coding clarity - should it be avoided?  This reminds me of overflowing (buffer overflow) of C types - pointing to the top variable and overloading to set the other field values...sort of a techie showmanship but maintenance coder nightmare..</p>\n"},{"tags":["python","emacs","autocomplete","rope","ropemacs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13202302,"title":"Using ropemacs for autocompletion with python.el in Emacs","body":"<p>How do I set up auto-complete to use ropemacs with <code>python.el</code> in Emacs 24?</p>\n\n<p>I have the following in my <code>.emacs</code> file</p>\n\n<pre><code>; Auto-complete:\n; --------------------------\n(add-to-list 'load-path \"~/.emacs.d/auto-complete/auto-complete-1.3.1\")\n(require 'auto-complete-config)\n(add-to-list 'ac-dictionary-directories \"~/.emacs.d/auto-complete/auto-complete-1.3.1/dict\")\n(ac-config-default)\n\n; Auto-complete rope integration:\n; --------------------------\n(ac-ropemacs-initialize)\n(add-hook 'python-mode-hook\n      (lambda ()\n    (add-to-list 'ac-sources 'ac-source-ropemacs)))\n</code></pre>\n\n<p>but this does not seem to be enough to get autocompletions of Python methods, class members, etc. (on the auto-complete tooltip).</p>\n\n<p>e.g. </p>\n\n<pre><code>my_text = \"hello world\"\nmy_text.\n</code></pre>\n\n<p>does not show any possible autocompletions for the String class.</p>\n\n<p>With the above config, auto-complete itself works well for generic auto-completions (and for directories).</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13209186,"title":"Basic List Comprehension","body":"<p>Im trying to do some basic list comprehension such as ...</p>\n\n<pre><code>abc = [1, 11, 123, 124, 1234, 1234, 2323124, 12, 1354, 235, 2345]\n[ str(x) for x in abc if \"1\" in x ]\n</code></pre>\n\n<p>Can anyone point me in the right direction ?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":41,"score":0,"question_id":13208872,"title":"How to generate timestamp with date and then get difference between two timestamp in days in python?","body":"<p>I'm developing one script that will add one entry of timestamp in database then on some events that timestamp will be compared with current timestamp. If there is difference between that timestamp and current timesnap is greater then 7 days then some new commands will be fired.</p>\n\n<p>How can I generate that timestamp and compare it?</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13204800,"title":"Displaying and editing date in QTableView","body":"<p>I have simple application which show table from sqlite database in QTableView. One column of table is for storing date. I want to provide user easy way to modify date in this column. I have reimplemented <code>data</code> method of <code>QtSql.QSqlTableModel</code> to change <code>QVariant</code> type to <code>QDate</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    [...]\n\n    def data(self, index, role=QtCore.Qt.DisplayRole):\n        if index.column() == 3:\n            return super(Model, self).data(index, role).toDate()\n        return super(Model, self).data(index, role)\n\n    [...]\n</code></pre>\n\n<p>After this change I got column:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rfQzO.png\" alt=\"date column\"></p>\n\n<p>But user dont have possibility to have empty date. How can I fix that?</p>\n\n<p>Is it possible to have calendar popup instead of this date edit? Should I use delegate or there is other way go? If delegate is best way, how to set delegate for single QTableView column?</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":13208934,"title":"How to arrange two strings alternatively?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13208126/traversing-two-strings-at-a-time-python\">Traversing two strings at a time python</a>  </p>\n</blockquote>\n\n\n\n<p>Here I have question that how to concate two strings as their words are appear one after another.. I mean as an e.g. If the first strinng is \"abc\" and second one is \"defgh\" then the final answer should be \"adbecfgh\"...</p>\n\n<p>here is my code but it appear in the same line</p>\n\n<pre><code>x = raw_input ('Enter 1st String: ')\ny = raw_input ('Enter 2st String: ')\nz = [x, y]\na = ''.join(z)\nprint (a)\n</code></pre>\n\n<p>Can anybody know the mistake ?</p>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13209016,"title":"Why do I get error can't multiply sequence by non-int of type 'float' PYTHON","body":"<p>I wrote a simple program to calculate tax for some electrical parts, it goes like this:</p>\n\n<pre><code>print \"How much does it cost?\",    \nprice = raw_input()    \nprint \"Tax: %s\" % (price * 0.25)    \nprint \"Price including tax: %s\" % (price * 1.25)    \nraw_input (\"Press ENTER to exit\")\n</code></pre>\n\n<p>And I keep getting this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"moms.py\", line 3, in &lt;module&gt;\n    print \"Tax: %s\" % (price * 0.25)\nTypeError: can't multiply sequence by non-int of type 'float'\n</code></pre>\n"},{"tags":["python","django","django-models","django-admin"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1133,"score":2,"question_id":7296848,"title":"Django: Foreign Key relation with User Table does not validate","body":"<p>Consider the following django model</p>\n\n<pre><code>from django.db import models                                                                                                                             \nfrom django.contrib import auth\nclass Topic(models.Model):\n   user = models.ForeignKey('auth.models.User')                                                                                                          \n   name = models.CharField(max_length = NameMaxLength , unique = True)\n   version_number = models.IntegerField(default = 0)\n   created_at = models.DateTimeField(auto_now_add  = True)\n   modified_at = models.DateTimeField(auto_now = True)\n   update_frequency = models.IntegerField()\n</code></pre>\n\n<p>This model does not validate even after installing the <code>auth_user</code> table.</p>\n\n<pre><code>In [3]: auth.models.User.objects.all()\nOut[3]: [&lt;User: admin&gt;]\n</code></pre>\n\n<p>The above statement is from django-admin shell</p>\n\n<pre><code>$ python manage.py syncdb\nError: One or more models did not validate:\ntopic: 'user' has a relation with model auth.models.User, which has either not\nbeen installed or is abstract.\n</code></pre>\n\n<p>I am using django v1.0.4 with pinax 0.7.2 on ubuntu 11.04 , with sqlite3 database</p>\n\n<p>The following Questions did not help much:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/3183757/foreign-key-to-user-table-in-django\">Foreign key to User table in django</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2244573/how-do-i-create-a-foreign-key-to-the-user-table-in-django\">How do I create a foreign key to the User table in Django?</a></li>\n</ul>\n"},{"tags":["python","html","automation","radio-button","mechanize"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12421947,"title":"change radio button and then read() with mechanize (python)","body":"<p>I would like to change the value of a radio button and then retrieve the html of the following website:\n<a href=\"http://www.androidpit.com/en/android-market/recommendations-list?rid=NEWCOMER_RATING\" rel=\"nofollow\">http://www.androidpit.com/en/android-market/recommendations-list?rid=NEWCOMER_RATING</a></p>\n\n<p>I'm new to python but I figure that you use mechanize to do the job. This site has been of tremendous help but right now I am stuck.</p>\n\n<p>Changing the value of the Radio button seems to work out nicely:</p>\n\n<pre><code>import mechanize\nbr = mechanize.Browser()\nbr.open(\"http://www.androidpit.com/en/android-market/recommendations-list?rid=NEWCOMER_RATING\")\nbr.select_form(nr=5)\nprint br.find_control(name='timeFilter').value\nbr.form['timeFilter'] = ['TODAY']\nbr.select_form(nr=5)\nprint br.find_control(name='timeFilter').value\n</code></pre>\n\n<p>.....\nhowever, I have trouble reading the final html.\nIf I manually change the Button and reload the page, the page source changes. however, if I try this with mechanize, the value of the radio button seems to be set back to its default value and what I get using read() is the old source.  </p>\n\n<pre><code>br.submit()\nbr.reload()\nbr.select_form(nr=5)\nprint br.find_control(name='timeFilter').value\n</code></pre>\n\n<p>Having read a lot of posts here I tried various things but it's just returning the first page over and over again.\nSince I am really new to all this, there is a good chance that I'm getting some basic stuff wrong.\nAny help would be highly apprechiated! Thanks in advance.</p>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13208126,"title":"Traversing two strings at a time python","body":"<p>I have two strings and I want to print them one character at a time alternatively. Like say</p>\n\n<pre><code>s1 = \"Hi\"\ns2 = \"Giy\"\n\nfor c,d in s1,s2:\n    print c\n    print d\n</code></pre>\n\n<p>I expected the output to be <code>HGiiy</code>. However, I get the output <code>Hi</code>. </p>\n\n<p>What am I doing wrong here ?</p>\n"},{"tags":["python","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13205618,"title":"A function that changes the value of a list without reason","body":"<p>I'm stunned with this function I've written for python. I've observed that in the lower <code>while</code> it changes the values in the list <code>vctor</code> even though that list is not touched along the function. I've passed the pair <code>(10, [1,3,5,7,10])</code> and it has changed the list <code>vctor</code> to <code>[1,3,5,8,10]</code>. Is there an explanation for this?</p>\n\n<pre><code>def siguiente(k,vctor):\n    l = len(vctor)\n    vctorsig = vctor\n    i = l-1\n    while i&gt;= 0:    \n        if vctorsig[i] &lt;= k - l + i: \n            j=i\n            while j&lt;=l-1:\n                print vctor\n                vctorsig[j] = vctor[i]+j-i+1\n                j=j+1\n            i = -1\n        else:\n            i = i-1\n    return vctorsig    \n</code></pre>\n"},{"tags":["python","mysql","mysql-python","sunos"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13208430,"title":"Mysql for Python installation","body":"<p>When I install mysql for python,  i am getting the below error. Can someone help on this ?</p>\n\n<pre><code>/PYINSTALL/MySQL-python-1.2.4b5]: python setup.py install\nld.so.1: python: fatal: relocation error: file /root/sebmd/python/bin/python: symbol acs32map: referenced symbol not found\n</code></pre>\n\n<hr>\n\n<p>In \".bashrc\",  i have se the path as below for LD_LIBRARY_PATH.</p>\n\n<pre><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/sfw/lib/\n</code></pre>\n\n<hr>\n\n<p>I am trying this on SunOS</p>\n"},{"tags":["python","http","socketserver","python-socketserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13207905,"title":"Library to format bytes of HTTP response","body":"<p>I need a library that can only format a correct HTTP response (without creating a web server because I already have this one).</p>\n\n<p>I have to pass a body of an http response and a content type to this library.</p>\n\n<p>The following function does not work properly if I try to send AJAX - jQuery does not find any response. However if I type a corresponding URL in the URL string of browser then a page is displayed.</p>\n\n<pre><code>def response( data ):   \n    return \"HTTP/1.0 200 OK\\r\\nContent-Type:application/json\\r\\nConnection:close\\r\\n\\r\\n{0}\\r\\n\".format( data ) \n</code></pre>\n\n<p><strong>Details</strong>. The data variable is string of json. I also use the SocketServer class, call self.request.sendall( result_response ) in child's handle() function.</p>\n\n<pre><code># the 'request handler' class\nclass StateRequestHandler( SocketServer.BaseRequestHandler ):\n\n    def handle( self ):\n    ...\n        self.request.sendall( response( some_json ) )\n\n# the configured server class\nclass StateServer( SocketServer.ThreadingMixIn, SocketServer.TCPServer ):\npass\n</code></pre>\n\n<p><strong>Solved</strong>. The reason was in cross-domain requests.</p>\n"},{"tags":["python","ms-access","python-2.7","ms-access-2007","pyodbc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13208688,"title":"Data source name not found and no driver specified by default (0)(SQLDriverConnect). Connection Python to Access","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12800101/connection-error-to-access-database\">Connection error to Access database</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote the program on python which is connected to the Northwind.accdb database</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os, sys\nimport json,sqlite3,sql\nsys.version_info\ns1='''\ncreate table CLIENTS\n    (\n       ID    INTEGER NOT NULL,\n       COMPANY   VARCHAR(50),\n       \"LAST NAME\"   VARCHAR(50),\n       \"FIRST NAME\"   VARCHAR(50),\n       \"E-MAIL ADDRESS\"   VARCHAR(50),\n       \"JOB TITLE\"   VARCHAR(50),\n       \"BUSINESS PHONE\"   VARCHAR(25),\n       \"HOME PHONE\"   VARCHAR(25),\n       \"MOBILE PHONE\"   VARCHAR(25),\n       \"FAX NUMBER\"   VARCHAR(25),\n       ADDRESS   BLOB SUB_TYPE 1,\n       CITY   VARCHAR(50),\n       \"STATE/PROVINCE\"   VARCHAR(50),\n       \"ZIP/POSTAL CODE\"   VARCHAR(15),\n       \"COUNTRY/REGION\"   VARCHAR(50),\n       \"WEB-SITE\"   VARCHAR(25),\n       NOTES   BLOB SUB_TYPE 1,\n       INCLUDING   BLOB,\n       CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n    );\n'''\ns2='''create ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);'''\n#os.remove('D:/ThirdTask/test1.fdb')\nconn=firebirdsql.create_database(host='localhost', database='/test1.fdb', user='sysdba', password='masterkey')\n#con=firebirdsql.connect(host='localhost',database='D:/ThirdTask/test1.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\ncur.execute(s1)\n#cur.execute(s2)\nconn.commit()\nconAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.accdb)};DBQ=Northwind.accdb')\nconn.close()\n</code></pre>\n\n<p>As a result at start I receive a mistake that very much baffled me</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\ThirdTask\\connecttwo.py\", line 39, in &lt;module&gt;\n    conAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.accdb)};DBQ=Northwind.accdb')\nError: ('IM002', '[IM002] [Microsoft][\\xc4\\xe8\\xf1\\xef\\xe5\\xf2\\xf7\\xe5\\xf0 \\xe4\\xf0\\xe0\\xe9\\xe2\\xe5\\xf0\\xee\\xe2 ODBC] \\xc8\\xf1\\xf2\\xee\\xf7\\xed\\xe8\\xea \\xe4\\xe0\\xed\\xed\\xfb\\xf5 \\xed\\xe5 \\xed\\xe0\\xe9\\xe4\\xe5\\xed \\xe8 \\xed\\xe5 \\xf3\\xea\\xe0\\xe7\\xe0\\xed \\xe4\\xf0\\xe0\\xe9\\xe2\\xe5\\xf0, \\xe8\\xf1\\xef\\xee\\xeb\\xfc\\xe7\\xf3\\xe5\\xec\\xfb\\xe9 \\xef\\xee \\xf3\\xec\\xee\\xeb\\xf7\\xe0\\xed\\xe8\\xfe (0) (SQLDriverConnect)')\n</code></pre>\n\n<p>that in a translation into English means</p>\n\n<pre><code>Error: ('IM002', '[IM002] [Microsoft][Driver Manager ODBC] Data source name not found and no driver specified by default (0)(SQLDriverConnect)')\n</code></pre>\n\n<p>I use 32-bit Python 2.7 and 32-bit pyodbc.</p>\n"},{"tags":["python","algorithm"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2494,"score":2,"question_id":13205078,"title":"Calculating logarithm, why is this algorithm not efficient, and how to make it more efficient?","body":"<p>I was wondering if I could calculate the logarithm of a number based on a number relative to a base (e.g log base 2 of 16) without actually using log(). I managed to do it but I don't believe it is very efficient.</p>\n\n<p>This is my code in Python:</p>\n\n<pre><code>def myLog(x,b):\n    exp=0\n    ans=b**exp\n    while x!=ans:\n        ans=b**exp\n        if ans==x:\n            return exp\n        exp=exp+1\n</code></pre>\n\n<p>So I could give it <code>myLog(16,2)</code> and it should return 4. And indeed it does, however I belive it is not the most efficient way, so how could I fix it and make my code more efficient, not just in this case, but in most of them.</p>\n"},{"tags":["python","tree"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13208636,"title":"Python - Depth first search cycles","body":"<p>I have the following code for Depth-first search in python for solving the 8-puzzle. How do I make sure that my tree is not cyclical?</p>\n\n<p>All code: <a href=\"http://pastebin.com/G9Sa73YX\" rel=\"nofollow\">http://pastebin.com/G9Sa73YX</a></p>\n\n<pre><code>solution = [1,2,3,4,5,6,7,8,0]\n\nmaxsteps = 2000\n\ndef DFS(cur,visited,svisited,k):\n    \"\"\" depth first search given current element and visited nodes\n        up to maximum steps of k\n        svisited is a redundant string representation of the nodes\n    \"\"\"\n\n    if str(cur)==str(solution):\n        print 'solution found'\n        return True\n\n    #print 'DFS level k: %i v: %i  %s'%(k,len(visited),cur.prettyPrint())\n\n    if k &gt; maxsteps:\n        print 'out of time'\n        return False\n\n    allsucc = cur.succ()\n    done = False\n    i = 0 # start with first\n    while not done:\n        tmp = allsucc[i]\n        print 'tmp: ',str(tmp)\n        if str(tmp) not in svisited: \n            #next one found go deeper into the tree\n            visited.append(tmp)\n            svisited.append(str(tmp))\n            result = DFS(tmp,visited,svisited,k+1)\n            return result\n        i+=1\n\n\n        if i&gt;=len(allsucc):\n            print 'bottom reached',k\n            return DFS(visited[-1],visited,svisited,k+1)\n\n\n#do the search using puzzle class\np1 = [0,1,2,3,4,5,6,7,8]\npz = puzzle(p1)\nDFS(pz,list(),list(),0)   \n</code></pre>\n"},{"tags":["python","windows","virtualenv","file-association","shebang"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":357,"score":2,"question_id":4879624,"title":"Why doesn't virtualenv on Windows associate .py/.pyw/.pyo/.pyc files with virtualenv's version of Python executables?","body":"<p>What is the reason virtualenv does not associate <code>.py(w)</code> files with virtualenv's version of Python executables? This seems like an ideal task for virtualenv on Windows taking into consideration that there's no mechanism like <a href=\"http://en.wikipedia.org/wiki/Shebang_%28Unix%29\" rel=\"nofollow\">shebang</a> on Windows.</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":67,"score":4,"question_id":13055423,"title":"Virtual column in QTableView?","body":"<p>I'm started to learning Qt4 Model/View Programming and I have beginner question.</p>\n\n<p>I have simple application which show sqlite table in <code>QTableView</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    def __init__(self, parent=None):\n        super(Model, self).__init__(parent)\n        self.setEditStrategy(QtSql.QSqlTableModel.OnFieldChange)\n\n        self.setTable(\"test\")\n        self.select()\n\nclass App(QtGui.QMainWindow):\n    def __init__(self, model):\n        QtGui.QMainWindow.__init__(self)\n\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n\n        self.ui.tableView.setModel(model)\n\nif __name__ == \"__main__\":\n    myDb = QtSql.QSqlDatabase.addDatabase(\"QSQLITE\")\n    myDb.setDatabaseName(\"test.db\")\n\n    if not myDb.open():\n        print 'FIXME'\n\n    model = Model()\n\n    app = QtGui.QApplication(sys.argv)\n    window = App(model)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Here how database looks like:</p>\n\n<pre><code>sqlite&gt; create table test (a INTEGER, b INTEGER, c STRING);\nsqlite&gt; insert into test VALUES(1, 2, \"xxx\");\nsqlite&gt; insert into test VALUES(6, 7, \"yyy\");\n</code></pre>\n\n<p>So I'm getting something like:</p>\n\n<pre><code>+---+---+-----+\n| a | b |  c  |\n+---+---+-----+\n| 1 | 2 | xxx |\n+---+---+-----+\n| 6 | 7 | yyy |\n+---+---+-----+\n</code></pre>\n\n<p>Is it possible to modify <code>Model</code> to have in <code>QTableView</code> something like virtual column? For example something like:</p>\n\n<pre><code>+---+---+-----+-----+\n| a | b | sum |  c  |\n+---+---+-----+-----+\n| 1 | 2 |  3  | xxx |\n+---+---+-----+-----+\n| 6 | 7 | 13  | yyy |\n+---+---+-----+-----+\n</code></pre>\n\n<p>Or maybe I should do it in some other way?</p>\n"},{"tags":["python","django","query","orm","user"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13207416,"title":"Django : How to filter users with username__iexact by default?","body":"<p>Implementing username case-insensitive :</p>\n\n<p>I want to implicitly imply <code>iexact</code> when querying for <code>user</code> :</p>\n\n<pre><code>user = User.objects.get(username = 'yugal')  # Lowercase\nuser.id # 1\n\nuser = User.objects.get(username = 'YUgal')  # Mixcase\nuser.id # 1\n</code></pre>\n\n<p>How can I achieve this ? { somehow with <code>UserManager</code> }</p>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>Also, <code>django.shortcuts.get_object_or_404</code> seems to use it as <code>User.objects.get_query_set().all().get()</code>. How can we make it work ?</li>\n</ul>\n"},{"tags":["python","django","user","operator-overloading","bug"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13190758,"title":"Django : Case insensitive matching of username from auth user?","body":"<p>Django by-default implements username as case sensitive, now for authentication I have written my own <code>Authentication Backend</code> to handle case insensitive usernames while authentication.</p>\n\n<p>As shown in : <a href=\"http://blog.shopfiber.com/?p=220\" rel=\"nofollow\">http://blog.shopfiber.com/?p=220</a></p>\n\n<p>Now, the problem is :</p>\n\n<p>I have various views and util methods which compares <code>username</code> to some stings.</p>\n\n<p>i.e. </p>\n\n<pre><code>request.user.username == username_from_some_other_system_as_str\n</code></pre>\n\n<p>Now, if username is <code>yugal</code> then:</p>\n\n<pre><code>request.user.username == 'Yugal' # Returns False\n</code></pre>\n\n<p>Now, it should return <code>True</code> [ What I wanted to achieve ]</p>\n\n<p>For that I remember from <code>C++</code> days, <code>Operator Overloading</code>.\nBut I don't think simply doing that for django's <code>auth user</code> would be a good idea, since <code>auth user</code> is tightly bound with <code>django</code>.\nAlso, overloading <code>==</code> will make it case-insensitive for the whole class not just for the <code>username</code> field.</p>\n\n<p>So, how should I go about this <code>username</code> case-insensitivity even when compared throughout.</p>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li><p>Creating a <code>get_username</code> method that returns lower-case username always is not possible, since it would require all code to be re-factored to use it. You can do it for your code for once, but not possible if you are using 3rd party django apps.</p></li>\n<li><p>I know <code>user.username.lower() = something.lower()</code> is possible but is bug prone and not the write solution for something so often used in a multi-developer setup.</p></li>\n<li><p>I have used <code>SomeModel.objects.filter(username__iexact=username)</code>, wherever possible. But that still leaves the system vulnerable to a mistake by any of un-aware developer.</p></li>\n</ul>\n\n<p>======================================</p>\n\n<p><strong>Figured out the solution conceptually, but could not make it work ( Help ) :</strong></p>\n\n<pre><code>####### Custom CharField for username case-insensitivity #######\nfrom django.db.models.fields import CharField\nclass iUnicode:\n    def __init__(self, value):\n        self.value = value\n\n    def __eq__(self, other):\n        if isinstance(other, str) or isinstance(other, unicode):\n            return self.value.lower() == other.lower()\n        if isinstance(other, self.__class__):\n            return other == self.value\n\n    def __unicode__(self):\n        return unicode(self.value)\n    def __str__(self):\n        return self.__unicode__()\n\n\nclass UsernameCharField(CharField):\n    def to_python(self, value):  # Its not getting called\n        unicode_val = super(CharField, self).to_python(value)\n        return iUnicode(unicode_val)\n\nif User._meta.local_fields[1].name == 'username':\n    User._meta.local_fields[1] = UsernameCharField(max_length=30)\n    User._meta.local_fields[1].model = User\n################################################################\n</code></pre>\n\n<p>I assume <code>to_python</code> is used to convert the value received from database to <code>unicode</code> in python. But, I guess my <code>to_python</code> is not getting called.</p>\n\n<blockquote>\n  <p>This will also ensure case-insensitivity in 3rd party apps and would not require any re-factoring. It will patch the <code>User</code> at its core. I will be adding this to <code>__init__.py</code> of my first <code>INSTALLED_APP</code></p>\n</blockquote>\n\n<p>What am I doing wrong ?</p>\n"},{"tags":["python","django","openid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13206791,"title":"Openid Failed Temporary failure in name resolution","body":"<p>CentOS-5.5\nweb-server：apache2.2.3\npython version：2.7.3\nDjango_openid_auth-0.4 and python_openid-2.2.5\ni can the login form,but when i submit,error occur\nhere is error：</p>\n\n<blockquote>\n  <p>OpenID failed</p>\n  \n  <p>OpenID discovery error: Error fetching XRDS document:\n  urlopen error [Errno -3] Temporary \n  failure in name resolution></p>\n</blockquote>\n\n<p>please help me！</p>\n"},{"tags":["python","python-2.7","tweetstream"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13207359,"title":"Cannot import name find_packages?","body":"<p>This is likely a rookie error, but im in the early stages of learning python.</p>\n\n<ul>\n<li>Running Win7 64bit</li>\n<li>Python is 2.7.2 64bit, python runs fine from CMD prompt.</li>\n<li><a href=\"http://pypi.python.org/pypi/tweetstream\" rel=\"nofollow\">I downloaded TweetStream.</a> and its under c:/</li>\n<li>Opened the setup.py in pyscripter.</li>\n<li>Executing it, I get this error:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/kYyAT.png\" alt=\"enter image description here\"></p>\n\n<p>Not too sure what I have done wrong, or how to rectify this problem.<br>\nHere is a <a href=\"http://screencast.com/t/CKaYjLHjdzpd\" rel=\"nofollow\">short screencast</a> if it sheds anymore light.</p>\n\n<p>EDIT - in response to comment.</p>\n\n<pre><code>c:\\tweetstream-1.1.1&gt;python setup.cfg install\n  File \"setup.cfg\", line 2\n    tag_build =\n               ^\nSyntaxError: invalid syntax\n</code></pre>\n"},{"tags":["python","algorithm","image-processing","maze","maze-solving"],"answer_count":6,"favorite_count":37,"up_vote_count":67,"down_vote_count":0,"view_count":10813,"score":67,"question_id":12995434,"title":"Representing and solving a maze given an image","body":"<p>What is the best way to represent and solve a maze given an image?</p>\n\n<p><img src=\"http://thescope.ca/wp-content/uploads/2012/10/thescope-134-cover-800.jpg\" alt=\"The cover image of The Scope Issue 134\"></p>\n\n<p>Given an JPEG image (as seen above), what's the best way to read it in, parse it into some data structure and solve the maze? My first instinct is to read the image in pixel by pixel and store it in a list (array) of boolean values: <code>True</code> for a white pixel, and <code>False</code> for a non-white pixel (the colours can be discarded). The issue with this method, is that the image may not be \"pixel perfect\". By that I simply mean that if there is a white pixel somewhere on a wall it may create an unintended path.</p>\n\n<p>Another method (which came to me after a bit of thought) is to convert the image to an SVG file - which is a list of paths drawn on a canvas. This way, the paths could be read into the same sort of list (boolean values) where <code>True</code> indicates a path or wall, <code>False</code> indicating a travel-able space. An issue with this method arises if the conversion is not 100% accurate, and does not fully connect all of the walls, creating gaps.</p>\n\n<p>Also an issue with converting to SVG is that the lines are not \"perfectly\" straight. This results in the paths being cubic bezier curves. With a list (array) of boolean values indexed by integers, the curves would not transfer easily, and all the points that line on the curve would have to be calculated, but won't exactly match to list indices.</p>\n\n<p>I assume that while one of these methods may work (though probably not) that they are woefully inefficient given such a large image, and that there exists a better way. How is this best (most efficiently and/or with the least complexity) done? Is there even a best way?</p>\n\n<p>Then comes the solving of the maze. If I use either of the first two methods, I will essentially end up with a matrix. According to <a href=\"http://stackoverflow.com/a/3097677/1267663\">this answer</a>, a good way to represent a maze is using a tree, and a good way to solve it is using the <a href=\"http://en.wikipedia.org/wiki/A%2a_search_algorithm\">A* algorithm</a>. How would one create a tree from the image? Any ideas?</p>\n\n<p><strong>TL;DR</strong><br>\nBest way to parse? Into what data structure? How would said structure help/hinder solving?</p>\n\n<p><strong>UPDATE</strong><br>\nI've tried my hand at implementing what @Mikhail has written in Python, using <code>numpy</code>, as @Thomas recommended. I feel that the algorithm is correct, but it's not working as hoped. (Code below.) The PNG library is <a href=\"https://raw.github.com/drj11/pypng/master/code/png.py\">PyPNG</a>.</p>\n\n<pre><code>import png, numpy, Queue, operator, itertools\n\ndef is_white(coord, image):\n  \"\"\" Returns whether (x, y) is approx. a white pixel.\"\"\"\n  a = True\n  for i in xrange(3):\n    if not a: break\n    a = image[coord[1]][coord[0] * 3 + i] &gt; 240\n  return a\n\ndef bfs(s, e, i, visited):\n  \"\"\" Perform a breadth-first search. \"\"\"\n  frontier = Queue.Queue()\n  while s != e:\n    for d in [(-1, 0), (0, -1), (1, 0), (0, 1)]:\n      np = tuple(map(operator.add, s, d))\n      if is_white(np, i) and np not in visited:\n        frontier.put(np)\n    visited.append(s)\n    s = frontier.get()\n  return visited\n\ndef main():\n  r = png.Reader(filename = \"thescope-134.png\")\n  rows, cols, pixels, meta = r.asDirect()\n  assert meta['planes'] == 3 # ensure the file is RGB\n  image2d = numpy.vstack(itertools.imap(numpy.uint8, pixels))\n  start, end = (402, 985), (398, 27)\n  print bfs(start, end, image2d, [])\n</code></pre>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":13206698,"title":"convert number to string in python","body":"<p>I meet a problem about converting number to string.</p>\n\n<p>I want to get a string \"0100\" from str(0100), but what I got is \"64\". Does any way I can do to get a string \"0100\" from 0100.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks for many people's pointing out that the leading \"0\" is a indicator for octal. I know it, what I want is to convert 0100 to \"0100\", any suggestion?</p>\n\n<p>Best Regards,</p>\n"},{"tags":["python","django","garbage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13208281,"title":"Django garbage collection on text parsing","body":"<p>I have a model with a plain text field. I overdid the admin form's default clean method so I can parse the text using a script like so:</p>\n\n<pre><code>from myModel import parse_text\n\ndef clean(self):\n    cleaned_data = super(MyModelAdminForm, self).clean()\n    if cleaned_data['parse_text']:\n        parse_text.do_the_magic(cleaned_data['edited_text'], {\n            'name' : self.instance.name,\n            'number' : self.instance.number,\n            'aliases' : self.instance.aliases,\n            'date' : self.instance.date,\n            'is_important' : self.instance.important,\n        })\n    return cleaned_data\n</code></pre>\n\n<p>The parser first splits the text into chunks and then saves them in a model hierarchy. Everything works fine except when for some reason the parser throws an exception. After that it may parse the wrong text (one that has been parsed before) or even try to execute its old code when changes has been made. I thought it may be a problem with the garbage collection so I added nil to all of the global variables in my parse_text.py. Even then this strange behavior occurs. The problem happens both in Debug and Production mode.</p>\n"},{"tags":["python","gio"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13208188,"title":"How can I find out whether a GSettings schema exists or not before attempting to use it?","body":"<p>If a GSettings schema exists and has been compiled, there is usually no problem reading from it.  However, if it doesn't exist, an error is usually thrown which cannot be handled.  Try this in a Python file or console:</p>\n\n<pre><code>from gi.repository import Gio\ntry:\n    settings = Gio.Settings(\"com.example.doesnotexist\")\nexcept:\n    print \"Couldn't load those settings!\"\n</code></pre>\n\n<p>I'm being as broad as possible with the <code>except</code>, but this is the error that is thrown.</p>\n\n<blockquote>\n  <p>(process:10248): GLib-GIO-ERROR **: Settings schema 'com.example.doesnotexist' is not installed</p>\n</blockquote>\n\n<p>What I basically want to do is find out if the <code>com.example.doesnotexist</code> schema exists or not; if not, then tell the user to run my setup script before using my application.  Any other suggestions on doing this would be welcome.</p>\n"},{"tags":["python","open-source","licensing","icons"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":53,"score":1,"question_id":13208027,"title":"Can I release my python project as open source?","body":"<p>I have a project that I wish to release and distribute under some kind of open source license.</p>\n\n<p>My project uses the airspeed library that has been released under BSD.</p>\n\n<p>Additionally, my project uses the following icons:</p>\n\n<ol>\n<li><p><code>http://www.iconfinder.com/icondetails/70964/32/_icon</code> [Free for commercial use]</p></li>\n<li><p><code>http://www.iconfinder.com/icondetails/1209/48/box_dropbox_open_package_icon</code> [LGPL]</p></li>\n<li><p><code>http://www.iconfinder.com/icondetails/66982/32/_icon</code> [Free for commercial use]</p></li>\n<li><p><code>http://www.iconfinder.com/icondetails/3784/128/blank_document_file_page_paper_icon</code> [LGPL]</p></li>\n<li><p><code>http://www.iconfinder.com/icondetails/79372/128/_icon</code> [Creative Commons (Attribution-ShareAlike 3.0 Hong Kong)]</p></li>\n</ol>\n\n<p>These icons I have modified slightly. For example, resizing, rotation and grey scaling.</p>\n\n<p>Can I distribute this project?</p>\n\n<p>Do I have to give credit?</p>\n\n<p>How do I give credit if required?</p>\n\n<p>Is there any limitation on what license I can use?</p>\n\n<p>What license can you recommend that would allow me to protect myself from any liability, ensure that I get credit for any modified versions of my work and to ensure that any modified version of my work will also have to be released under open source?</p>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13207962,"title":"access random item in list within dictionaries","body":"<p>Given the following:</p>\n\n<pre><code>topic = {'Countries': ['Somalia', 'Bermuda'],\n         'Cars'     : ['Tesla', 'Lotus']\n}\n</code></pre>\n\n<p>How do i access a random item from a list, within randomised dictionaries? Did try combining the elements within each list into a list, though that is not exactly what i need.</p>\n"},{"tags":["python","sql","list"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":49,"score":-3,"question_id":13206611,"title":"Python associating multiple values from one list to another list","body":"<p>I have a pretty simple idea in mind but don't exactly know how to go about doing it. I have two lists of different length (say 50 in one and 200 in the other). </p>\n\n<p>so</p>\n\n<pre><code>len(x) = 50\nlen(y) = 200\n</code></pre>\n\n<p>What I want to do is print out some lines where one value from x corresponds to multiple values of y (does not matter if numbers are repeated). </p>\n\n<pre><code>I.e. suppose x = [1,2,3,4]\ny = [7,8,9,10,11,12,13,14,15,16,17]\n\nI want to print out:\n1: 7\n1: 8\n1: 9\n1: 10\n2: 11\n2: 12\n2: 13\n3: 14\n3: 15\n3: 16\n4: 17\n</code></pre>\n\n<p>Randomization of values from y does not really matter.\nIt does not matter how many multiple values get printed out for each value of x. I am basically trying to write a sql script of inserting multiple elements from one table into another and using python to write the script.</p>\n\n<p>I know this can be done by simply iterating over the smallest list and having multiple f.write() statements while incrementing some variable to have multiple values of y associated to a single value of x. But this does not cover all the values of y and looks kind of silly. Is there a better way to go about doing this?</p>\n\n<p>Edit: For the question where how I came up with the association of keys to values, it does not really matter how many values 1 key is associated with (an upper bound of 8 exists). There can be only 1 value or multiple (up to 8). Then again, there can be repetitions of values between keys (i.e. in my example there is not but key 4 can say have values 7/8 also) </p>\n"},{"tags":["jquery","python","http-post","wsgi","bottle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":13206908,"title":"How to post json data using jquery","body":"<p>I want to post JSON data to a url but below mentioned code is not posting data to server.</p>\n\n<p>I am using the python bottle framework and a WSGI server.</p>\n\n<p>It is not receiving the JSON data and the WSGI server is giving a 405 error.</p>\n\n<p><strong>script</strong></p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n$(document).ready(function(){\n$(\"#hi\").click(function(){\n\nvar jsonObjects ='{\"type\":[\"FORGOT_PASSWORD\"],\"data\":[{\"hardwareID\":\"SAM1234567890123\",\"emailID\":\"v@gmail.com\"}]}';\n\njQuery.ajax({\n      url: \"http://192.168.0.135:8080/uid\",\n      type: \"POST\",\n      contentType: \"application/json\",\n      data: JSON.stringify(jsonObjects),\n      success: function(result) {\n     //Write your code here\n      }\n});\n\n});\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"button\" value=\"submit\" id=\"hi\" /&gt;\n&lt;p&gt;If you click on me, I will disappear.&lt;/p&gt;\n</code></pre>\n"},{"tags":["python","list","output"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13207697,"title":"How to remove square brackets from list in Python?","body":"<blockquote>\n  <p>LIST = ['Python','problem','whatever']</p>\n  \n  <p>print(LIST)</p>\n</blockquote>\n\n<p>When I run this program I get </p>\n\n<blockquote>\n  <p>[Python, problem, whatever]</p>\n</blockquote>\n\n<p>Is it possible to remove that square brackets from output?</p>\n"},{"tags":["python","ubuntu","python-3.x","pygtk","gtk3"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13207897,"title":"How to get clipboard content in GTK3 (GI) and Python 3 on Ubuntu","body":"<p>In Python 2, with what's installed in my machine (Ubuntu 12.10), I can do</p>\n\n<pre><code>import gtk\ncb = gtk.clipboard_get()\ncontent = cb.wait_for_text()\n</code></pre>\n\n<p>to get the text from the clipboard.</p>\n\n<p>In Python3, however, I was supposed to do the same with the Gtk.Clipboard() object, but I get thrown some errors that seem to be related to widgets and things like that, but my application has no GUI and is not supposed to. Am I on the right track?</p>\n\n<pre><code>&gt;&gt;&gt; from gi.repository import Gtk\n&gt;&gt;&gt; cb = Gtk.Clipboard()\n&gt;&gt;&gt; content = cb.wait_for_text()\n/usr/lib/python3/dist-packages/gi/types.py:47: Warning: g_object_get_data: assertion `G_IS_OBJECT (object)' failed\n  return info.invoke(*args, **kwargs)\n\n(.:10935): Gdk-CRITICAL **: gdk_display_get_default_screen: assertion `GDK_IS_DISPLAY (display)' failed\n\n(.:10935): Gtk-CRITICAL **: gtk_invisible_new_for_screen: assertion `GDK_IS_SCREEN (screen)' failed\n/usr/lib/python3/dist-packages/gi/types.py:47: Warning: invalid (NULL) pointer instance\n  return info.invoke(*args, **kwargs)\n/usr/lib/python3/dist-packages/gi/types.py:47: Warning: g_signal_connect_data: assertion `G_TYPE_CHECK_INSTANCE (instance)' failed\n  return info.invoke(*args, **kwargs)\n\n(.:10935): Gtk-CRITICAL **: gtk_widget_add_events: assertion `GTK_IS_WIDGET (widget)' failed\n/usr/lib/python3/dist-packages/gi/types.py:47: Warning: g_object_set_data: assertion `G_IS_OBJECT (object)' failed\n  return info.invoke(*args, **kwargs)\n/usr/lib/python3/dist-packages/gi/types.py:47: Warning: g_object_set_qdata: assertion `G_IS_OBJECT (object)' failed\n  return info.invoke(*args, **kwargs)\n\n(.:10935): Gdk-CRITICAL **: gdk_display_get_default_screen: assertion `GDK_IS_DISPLAY (display)' failed\n\n(.:10935): Gtk-CRITICAL **: gtk_invisible_new_for_screen: assertion `GDK_IS_SCREEN (screen)' failed\n\n(.:10935): Gtk-CRITICAL **: gtk_widget_add_events: assertion `GTK_IS_WIDGET (widget)' failed\n\n(.:10935): Gtk-CRITICAL **: gtk_widget_get_window: assertion `GTK_IS_WIDGET (widget)' failed\n\n(.:10935): Gtk-CRITICAL **: gtk_selection_convert: assertion `GTK_IS_WIDGET (widget)' failed\n</code></pre>\n"}]}
{"total":142322,"page":19,"pagesize":100,"questions":[{"tags":["python","numpy","scipy","gis","geospatial"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":13148037,"title":"Calculating area from lat/lon polygons in Python","body":"<p>Basically, I want to know how many times a 0.25°lat x 0.25°lon patch is fitting in various polygons located around the world. The latter have sizes around  3°lat x 10°lon or 2°lat x 4°lon.</p>\n\n<p>I have the lat/lon values of the corners of the polygons and I am calculating their area like this:</p>\n\n<pre><code>from pyproj import Proj\nfrom shapely.geometry import shape\n\ndef getArea(coords):\n    c = {\"type\": \"Polygon\",\n    \"coordinates\": [[ (coords[0], coords[2]), (coords[1], coords[2]),\n                      (coords[0], coords[3]), (coords[1], coords[3]) ]]}\n    lon, lat = zip(*c['coordinates'][0])\n    pro = Proj(\"+proj=aea\")\n    x, y = pro(lon, lat)\n    poly = {\"type\": \"Polygon\", \"coordinates\": [zip(x, y)]}\n    return shape(cop).area\n</code></pre>\n\n<p>I took the approach from here: <a href=\"http://stackoverflow.com/questions/4681737/how-to-calculate-the-area-of-a-polygon-on-the-earths-surface-using-python\">how to calculate the area of a polygon on the earth&#39;s surface using python</a></p>\n\n<p>Now the question is, which equal area projection shall I choose in order to have comparable area sizes for the polygons. The area of the small patch is always the same, regardless of where it is located on the globe in such a projection.</p>\n\n<p>Taking the Albers Equal Area Projection (aea) results in these areas of three polygons:</p>\n\n<ol>\n<li>240993868.90978813</li>\n<li>699931593.1047173</li>\n<li>212092562.5238676</li>\n</ol>\n\n<p>Taking the Lambert Azimuthal Equal Area Projection (laea) results in these areas of the same polygons:</p>\n\n<ol>\n<li>148709452.69292444</li>\n<li>409253749.5468254</li>\n<li>106218747.36092758</li>\n</ol>\n\n<p>Why is the relation between the areas in the two projections different? First 1:3 = 0.344; Second 1:3 = 0.363; They should be the same since both are equal area projections?!</p>\n\n<p>That makes me wonder whether it is legitimate to compare the small patch to the areas of the polygons in either projection. Do you have any advice?</p>\n"},{"tags":["python","configuration","installation","windows-xp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13207753,"title":"So, I have a problems with runnning Python scripts(modules) under Windows XP.. Yesterday I installed Python 3.3.0 verson for Windows","body":"<p>Problem is with runnning Python scripts(modules) under Windows XP. </p>\n\n<p>Yesterday I installed Python 3.3.0 verson for Windows. The problem <strong>is that I CAN use</strong> command line and IDLE to calculate (it works without errors in output), but if I try simple <strong><em>print \"Hello.\"</em></strong> , output in command prompt, and in GUI IDLE shows me:</p>\n\n<pre><code>Syntax error: invalid syntax\n</code></pre>\n\n<p>Path variable is set to default directory \"C:\\Python33\\\", and again I can use it for calculation, but running examples from online resources or that simple stuff is currently for me impossible. </p>\n"},{"tags":["python","keyboard","terminal"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13207678,"title":"What's the simplest way of detecting keyboard input in python from the terminal?","body":"<p>I have a simple python script, that has some functions that run in a loop (I'm taking sensor readings).</p>\n\n<pre><code>while True:\n    print \"Doing a function\"\n</code></pre>\n\n<p>If the keyboard is pressed I'd like to print \"key pressed\".</p>\n\n<p>What's the simplest way of doing this in Python? I've searched high and low. I've found out how to do it with pygame, but I'd rather do it without. If I do have to use pygame is it possible to not have a separate window for the application?:</p>\n\n<pre><code>import pygame, time\nfrom pygame.locals import *\n\npygame.init()\nscreen = pygame.display.set_mode((640, 480))\npygame.display.set_caption('Pygame Keyboard Test')\npygame.mouse.set_visible(0)\n\n\nwhile True:\n\n   print \"doing a function\"\n\n    for event in pygame.event.get():\n      if (event.type == KEYUP) or (event.type == KEYDOWN):\n         print \"key pressed\"\n         time.sleep(0.1)\n</code></pre>\n"},{"tags":["python","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13192038,"title":"Python Parse.Find If exist","body":"<p>I have created a python parser that will access a webpage then take information from divs inside the source like a small API. But with different accounts there are more DIVS and it comes back as a false reading.</p>\n\n<p>Whenever i go to an admin account it always says {\"PlayerExists\": false}.</p>\n\n<p>MY code:</p>\n\n<pre><code>if 'PlayerName' in self.request.GET:\n            self.response.headers['Content-Type'] = 'application/json'\n            docType = '{http://www.w3.org/1999/xhtml}'\n            PlayerName = self.request.GET['PlayerName']\n            gamertagava = self.request.GET['PlayerName']\n            output = {}\n            try:\n                msPageHandle = urllib.urlopen('http://nflplayers.mobi/'+PlayerName+'.html')\n                msPage = msPageHandle.read()\n                msPageHandle.close\n                parse = ET.fromstring(msPage)\n            except:\n                output['PlayerExists'] = False\n                self.response.write(json.JSONEncoder().encode(output))\n                return      \noutput['AdminTeam'] = parse.find('.//*[@id=\"AdminTeam\"]')   \noutput['AdminLaunchTeam'] = parse.find('.//*[@id=\"AdminLaunchTeam\"]')   \noutput['Old Skool Player'] = parse.find('.//*[@id=\"Old Skool Player\"]') \n\n\n            output['PlayerName'] = parse.find('.//*[@id=\"PlayerName\"]').text\n            output['Playerscore'] = parse.find('.//*[@id=\"Playerscore\"]').text\n            if output['Playerscore']=='--':\n                output['PlayerExists'] = False\n                output['Playerscore'] = 0\n            else:\n                output['GamertagExists'] = True\n                output['Playerscore'] = int(output['Playerscore'])\n</code></pre>\n\n<p>The admins have an extra DIV so i dont know if this is the problem. and this is it. Any Help is welcome.</p>\n\n<pre><code> &lt;div id=\"AdminTeam\"&gt;\n        &lt;label&gt;Admin&amp;nbsp;Team&lt;/label&gt;\n        &lt;div class=\"Badges\"&gt;\n\n            &lt;div id=\"AdminLaunchTeam\" class=\"Badge\"&gt;&lt;/div&gt;\n\n            &lt;div id=\"Old Skool Player\" class=\"Badge\"&gt;&lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Thanks. Remi</p>\n"},{"tags":["javascript","python","json","direction"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13206695,"title":"JSON parsing of Google Maps Direction API in Python","body":"<p>I am working with the Directions API using python.</p>\n\n<pre><code>mapApi = GoogleMaps(API_KEY)\ndirectionsObj.routes = mapApi.directions(directionsObj.source, directionsObj.destination)\nprint \"directionsObj.routesssss\", directionsObj.routes['routes']\n</code></pre>\n\n<p>I used the above code to get the Json response file of Directions API and I stored the Json to mongoengine(the database used). Now in the terminal I get the following result when I run the above code.</p>\n\n<p>Json file:</p>\n\n<pre><code>[{u'overview_polyline': {u'points': u'yiv{@a~~pMPv@KDRnAfAdHeBl@o@ZaAh@}Bx@}CdAyBn@oDfAgEtAv@pEpBbLlBnItCxMlBlHdBpGzB|HXhAl@tBXv@`@`AoAr@iKbF{CxAcAl@]T_@^Q^GVIf@UdAO`@[j@YXo@b@aCrAsAn@{IhD{At@yCfBqAv@_@\\\\kAxByErKeB|DKR_CzCsBhCcAfAk@h@[Re@Js@JgD\\\\aBFeAAcAIq@OqAe@}@Qg@Ce@Bs@Ls@Ts@r@s@~@k@hAmCHeDDkAFsBJkI`@_BJyG\\\\s^bB}QvAa\\\\xCcEZaGl@yCV_Q~ABNh@Et@bBDVCJ?XL|@X`AXz@Rd@^r@`@t@X|@F^Dt@Jt@Xf@NTPl@Ff@?j@VnBJr@I@MFu@d@YPy@\\\\{Bl@}Aj@e@Vw@`@WFW@c@?a@E{@IU?q@JwB`@oB`@cARyABaCFs@FaAJOBbAnE?VEl@E^BRvAfCJJLFjAf@QDgEbAqAPoB^}@JkAReCl@iAZsBZGDCJDh@EDaD^Rv@b@bC\\\\tBVxB\\\\xCPdAPl@\\\\jAXv@zBvChAtAr@~@dCpC'}, u'copyrights': u'Map data \\xa92012 Google', u'warnings': [], u'legs': [{u'distance': {u'text': u'11.1 km', u'value': 11118}, u'end_address': u'Kaloor, Ernakulam, Kerala, India', u'via_waypoint': [], u'start_address': u'Thrippunithura, Kerala, India', u'duration': {u'text': u'19 mins', u'value': 1126}, u'steps': [{u'html_instructions': u'Head west', u'distance': {u'text': u'33 m', u'value': 33}, u'polyline': {u'points': u'yiv{@a~~pMPv@'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.949890000000002, u'lng': 76.34929000000001}, u'duration': {u'text': u'1 min', u'value': 4}, u'end_location': {u'lat': 9.949800000000003, u'lng': 76.34901}}, {u'html_instructions': u'Turn right toward Ernakulam-Ettumanoor Rd/SH 15', u'distance': {u'text': u'8 m', u'value': 8}, u'polyline': {u'points': u'giv{@i|~pMKD'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.949800000000003, u'lng': 76.34901}, u'duration': {u'text': u'1 min', u'value': 11}, u'end_location': {u'lat': 9.949860000000001, u'lng': 76.34898000000001}}, {u'html_instructions': u'Take the 1st left toward Ernakulam-Ettumanoor Rd/SH 15', u'distance': {u'text': u'0.2 km', u'value': 211}, u'polyline': {u'points': u'siv{@c|~pMJp@F\\\\D\\\\RjA^|BL|@'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.949860000000001, u'lng': 76.34898000000001}, u'duration': {u'text': u'1 min', u'value': 28}, u'end_location': {u'lat': 9.949400000000002, u'lng': 76.34711}}, {u'html_instructions': u'Turn right onto Ernakulam-Ettumanoor Rd/SH 15Pass by Abhayam (on the right in 400m)', u'distance': {u'text': u'0.6 km', u'value': 608}, u'polyline': {u'points': u'wfv{@mp~pMcA\\\\a@N[NSJg@VYP[LaBj@m@PoBr@{@V}@V}Bp@q@T]JiDhA'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.949400000000002, u'lng': 76.34711}, u'duration': {u'text': u'1 min', u'value': 71}, u'end_location': {u'lat': 9.95439, u'lng': 76.34486000000001}}, {u'html_instructions': u'Turn left at SN Jct onto Kochi - Madurai - Tondi Point Hwy/Kochi - Madurai - Tondi Point Highway/NH 85Pass by ICICI Bank (on the left)', u'distance': {u'text': u'1.5 km', u'value': 1536}, u'polyline': {u'points': u'}ew{@kb~pM@D^xBTnA?@pB`L?@x@xDr@tCJf@x@zDJd@bAnEj@xBBJDNv@vCT|@b@|ABJf@hB~@zCz@`DJ\\\\Lj@^rAL`@JXL\\\\FRXl@'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.95439, u'lng': 76.34486000000001}, u'duration': {u'text': u'2 mins', u'value': 112}, u'end_location': {u'lat': 9.949900000000001, u'lng': 76.33162}}, {u'html_instructions': u'Turn right at Petta Jct onto Ernakulam Ettumanoor Rd', u'distance': {u'text': u'54 m', u'value': 54}, u'polyline': {u'points': u'{iv{@so{pMo@^_@R'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.949900000000001, u'lng': 76.33162}, u'duration': {u'text': u'1 min', u'value': 59}, u'end_location': {u'lat': 9.9503, u'lng': 76.33136}}, {u'html_instructions': u'Continue onto SH 15 Ernakulam -Ettumanoor HwyPass by Reliance Petrol Pump (on the right in 1.5km)', u'distance': {u'text': u'2.5 km', u'value': 2516}, u'polyline': {u'points': u'klv{@_n{pMuBbAcBx@uBbAy@`@OFqAn@g@TQJWLOJQJIFEBC@KHGDGFGFGDGHEFEHA@CJEJAJEPCTKh@IZGRGLIPGHABGJIHONIFe@ZMFe@Vi@Zc@VQHULSHWLs@XaEzA{An@IBe@Tu@^}@h@{A|@WNMHYPQJKHKHCBCDEFKP]n@[n@e@dAQ\\\\s@`BmBlEg@hAe@dAO\\\\GNEHEHEFyBrCmA~Ae@h@_@`@c@d@[XONKHOHSDQDWF[BcALcBNy@Bg@Bi@?[A]Ce@E]GSGk@Se@QOESEMCKAUAQAS@Q@YDYFWH[J'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.9503, u'lng': 76.33136}, u'duration': {u'text': u'3 mins', u'value': 153}, u'end_location': {u'lat': 9.967500000000001, u'lng': 76.31912000000001}}, {u'html_instructions': u'Continue onto Sahodaran Ayyappan Rd', u'distance': {u'text': u'0.1 km', u'value': 134}, u'polyline': {u'points': u'{wy{@oaypMGHIFQPONKJQTKNILa@t@IR'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.967500000000001, u'lng': 76.31912000000001}, u'duration': {u'text': u'1 min', u'value': 59}, u'end_location': {u'lat': 9.968240000000002, u'lng': 76.31817000000001}}, {u'html_instructions': u'Turn right at Vyttila Jct onto NH 66Pass by Muthoot Motors (on the left in 1.6km)', u'distance': {u'text': u'2.8 km', u'value': 2771}, u'polyline': {u'points': u'o|y{@q{xpMS?yBHeDDkAFm@BeAFgCJcEToAHO@yEVo@DC?K?q@DK@qLh@cOp@wIn@OB}ALwCTmNpA{D\\\\qEb@e@DcEZaGl@sAJeAJuALcFb@yEd@k@F'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.968240000000002, u'lng': 76.31817000000001}, u'duration': {u'text': u'3 mins', u'value': 205}, u'end_location': {u'lat': 9.99295, u'lng': 76.31493}}, {u'html_instructions': u'Turn left toward NH66 Service Road', u'distance': {u'text': u'9 m', u'value': 9}, u'polyline': {u'points': u'}v~{@igxpM?@BL'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.99295, u'lng': 76.31493}, u'duration': {u'text': u'1 min', u'value': 11}, u'end_location': {u'lat': 9.992930000000001, u'lng': 76.31485}}, {u'html_instructions': u'Turn left onto NH66 Service Road', u'distance': {u'text': u'24 m', u'value': 24}, u'polyline': {u'points': u'yv~{@yfxpMd@EB?'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.992930000000001, u'lng': 76.31485}, u'duration': {u'text': u'1 min', u'value': 11}, u'end_location': {u'lat': 9.99272, u'lng': 76.31488}}, {u'html_instructions': u'Take the 1st right onto Puthiya Rd', u'distance': {u'text': u'0.6 km', u'value': 621}, u'polyline': {u'points': u'ou~{@_gxpMBFh@jABHBD@F@F?D@@?@?@A@AD?B?F?D?F?D@BHj@@F?BDJHVHXPh@FPHTHNP^LRRXLZFPDJDLDPBLBPB\\\\@V@N@LBJBJ@BFJHLDHBFJLFTHV@F@B@L@L?H?J?H?J@NBTLv@BPJr@'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.99272, u'lng': 76.31488}, u'duration': {u'text': u'1 min', u'value': 51}, u'end_location': {u'lat': 9.990900000000002, u'lng': 76.30962000000001}}, {u'html_instructions': u'Turn right at Puthiya Road Junction onto Thammanam RdPass by Thammanam Mosque (on the left)', u'distance': {u'text': u'0.6 km', u'value': 623}, u'polyline': {u'points': u'cj~{@cfwpMI@GBEBOJOHIFKFKHMFg@RQHWH[Ha@He@No@Tm@TYNKFQHSLGBIDMBIBK@K?S?O?OAQC]E]CIAK@I@OBMBI@_APw@NoAT_@JQDYFKBK@S?'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.990900000000002, u'lng': 76.30962000000001}, u'duration': {u'text': u'2 mins', u'value': 98}, u'end_location': {u'lat': 9.996120000000001, u'lng': 76.30793000000001}}, {u'html_instructions': u'Continue onto Mahakavi Vailoppilli Rd', u'distance': {u'text': u'0.2 km', u'value': 187}, u'polyline': {u'points': u'wj_|@q{vpMa@@Q?Q@eBB[BYBYB_@Da@DOB'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.996120000000001, u'lng': 76.30793000000001}, u'duration': {u'text': u'1 min', u'value': 42}, u'end_location': {u'lat': 9.99779, u'lng': 76.30775000000003}}, {u'html_instructions': u'Turn left onto Indira Road', u'distance': {u'text': u'0.3 km', u'value': 343}, u'polyline': {u'points': u'eu_|@mzvpMbAnE@JAJC^ALEX?D@F@JBFrA~BDDDDFBDBjAf@'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.99779, u'lng': 76.30775000000003}, u'duration': {u'text': u'1 min', u'value': 45}, u'end_location': {u'lat': 9.996540000000001, u'lng': 76.30512}}, {u'html_instructions': u'Turn right onto St. Martin Road', u'distance': {u'text': u'0.6 km', u'value': 641}, u'polyline': {u'points': u'km_|@_jvpMQDgEbAqAP_@FoAVI@s@HkAReCl@m@P[Hc@HoAPC@CBADADDb@?DABC@aD^'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 9.996540000000001, u'lng': 76.30512}, u'duration': {u'text': u'1 min', u'value': 89}, u'end_location': {u'lat': 10.00178, u'lng': 76.30334}}, {u'html_instructions': u'Turn left at Worldwide IPR Services onto NH 47Pass by Juma Masjid (on the left)Destination will be on the left', u'distance': {u'text': u'0.8 km', u'value': 799}, u'polyline': {u'points': u'cn`|@{~upMRv@RnANr@BRX`BRxAB^D`@P~ABP@DF^Hd@@DNf@Rp@HXHXN\\\\`@j@xAjBJL|@fAr@~@dCpC'}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 10.00178, u'lng': 76.30334}, u'duration': {u'text': u'1 min', u'value': 77}, u'end_location': {u'lat': 9.998700000000001, u'lng': 76.29695000000001}}], u'start_location': {u'lat': 9.949890000000002, u'lng': 76.34929000000001}, u'end_location': {u'lat': 9.998700000000001, u'lng': 76.29695000000001}}], u'bounds': {u'northeast': {u'lat': 10.00178, u'lng': 76.34929000000001}, u'southwest': {u'lat': 9.949400000000002, u'lng': 76.29695000000001}}, u'waypoint_order': [], u'summary': u'NH 66'}]\n</code></pre>\n\n<p>How to parse the above Json file so that I can get only the <code>start_address</code>,<code>end_address</code>, <code>u'html_instructions</code> only.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13207297,"title":"Surround outputted email addresses in quotation marks in Python3.2","body":"<p>I have a small script:</p>\n\n<pre><code>#!/usr/bin/python3.2\n#takes the bad_emails out of full_emails and leaves us with good_emails\n\n#This is a manually generated list of bad emails (bounce backs)\nbad_list = []\nwith open(\"bad_emails.txt\",\"r\") as bad:\n    for line in bad.readlines():\n        bad_list.append(line)\n#this is a list of ALL email addresses output by AcyMailing\nfull_emails = []\nwith open(\"full_emails.txt\",\"r\") as full:\n    for email in full.readlines():\n        if email in bad_list:\n            pass\n        else:\n            full_emails.append(email)\n\n#this is a final list containing only the email addresses with want\ngood_list = []\nwith open(\"good_emails\",\"w\") as good:\n    for email in full_emails:\n        good.write(email)\n</code></pre>\n\n<p>What I'm attempting to do is in short: take a list of email addresses from our mailer program called AcyMailing in Joomla and export it out. It has the following format:\n    \"abc@abc.com\"\n    \"def@def.com\"\n    \"etc@etc.etc\"</p>\n\n<p>While my above script works (it gets rid of the 'bad emails' and leaves me with only the 'good emails' I've yet to find a way to make each email surrounded by quotation marks like AcyMailing (Joomla) uses. I've seen that a number of people use regex for such a task. Is that the only way to do this in python? </p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13207450,"title":"PermissionError: [Errno 13] in python","body":"<p>Just starting to learn some python and I'm having an issue as stated below:</p>\n\n<pre><code>a_file = open('E:\\Python Win7-64-AMD 3.3\\Test', encoding='utf-8')\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#9&gt;\", line 1, in &lt;module&gt;\n    a_file = open('E:\\Python Win7-64-AMD 3.3\\Test', encoding='utf-8')\nPermissionError: [Errno 13] Permission denied: 'E:\\\\Python Win7-64-AMD 3.3\\\\Test\\\n</code></pre>\n\n<p>Seems to be a file permission error, if any one can shine some light it would be greatly appreciated.</p>\n\n<p><strong>NOTE: not sure how Python and Windows files work but I'm logged in to Windows as Admin and the folder has admin permissions.</strong></p>\n\n<p>I have tried changing <code>.exe</code> properties to run as Admin.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13207188,"title":"How do i get Python to show all possible remainders instead of just the one that occurs with the largest multiple of the number?","body":"<p>Id like to find a way to see all possible remainders as a list if possible.</p>\n\n<p>as an example instead of 34%5 yielding only 4 i'd like to implement a method that would yield a list of all possible remainders [29, 24, 19, 14, 9,4]</p>\n\n<p>Is this possible?</p>\n"},{"tags":["python","web-scraping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13207415,"title":"how to get user name from yahoo.com using python script","body":"<p>I am newbie to python, i am using this python code with authentication for logging to the yahoo.com</p>\n\n<pre><code>import httplib\nimport base64 \nfrom httplib import *\nfrom base64 import *\n\nusername = \"XXXXX\" \npassword = \"XXXXXXX\" \nauth = base64.encodestring(\"%s:%s\" % (username, password))\nheaders = {\"Authorization\" : \"Basic %s\" % auth} \n\nconn = httplib.HTTPConnection(\"my.yahoo.com\") \nconn.request(\"GET\", \"my.yahoo.com\", headers=headers) \nresponse = conn.getresponse() \ndata = response.read() \nconn.close()\n</code></pre>\n\n<p>but i want to print the username of logged user. how to do that? where can i add the code in script?</p>\n\n<p>can anyone help me?\nThanks..</p>\n"},{"tags":["python","parsing","nltk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13207394,"title":"Step by step to getting malt parser in NLTK to work?","body":"<p>I have tried everything under the sun to make Malt Parser (1.7.1) with their pre-trained model (added with the .mco hack) to work.  The closest I've gotten is a DependencyGraph with the first letter of each word as the label.  I only got there once and can't get back.  99% of the time, all I get is:</p>\n\n<p>Traceback (most recent call last):\n  File \"\", line 1, in \n  File \"/Library/Python/2.7/site-packages/nltk/parse/malt.py\", line 98, in parse\n    return self.tagged_parse(taggedwords, verbose)\n  File \"/Library/Python/2.7/site-packages/nltk/parse/malt.py\", line 150, in tagged_parse\n    \"code %d\" % (' '.join(cmd), ret))\nException: MaltParser parsing (java -jar /Users/walrusthecat/maltparser/malt.jar -w /var/folders/2b/0fpc89fd0rqbj8bf4r7xbh640000gp/T -c /Users/walrusthecat/maltparser/model.mco -i /var/folders/2b/0fpc89fd0rqbj8bf4r7xbh640000gp/T/malt_input.conlltApSTj -o /var/folders/2b/0fpc89fd0rqbj8bf4r7xbh640000gp/T/malt_output.conllrkclZz -m parse) failed with exit code 1</p>\n\n<p>It happens if I chown the directories where it's writing the temp files, or execute python under sudo.  I've tried with Malt Parser 1.7.1 and 1.2 .  Anything?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13207045,"title":"Why am I getting server errors with Google App Engine's tutorials?","body":"<p>I'm following Web Development (cs253) at <strong>www.udacity.com</strong>, and suddenly started getting errors: this is my very first stint with web development.</p>\n\n<p>After having successfully followed the \"hello world\" tutorial on Google App Engine's website (as suggested by the video classes on Udacity) I started making small changes, and kept resubmitting the newer modified versions, until after 4 or 5 times I started getting the following error:</p>\n\n<blockquote>\n  <p>Error: Server Error</p>\n  \n  <p>The server encountered an error and could not complete your request.\n  If the problem persists, please report your problem and mention this error message and the query that caused it.</p>\n</blockquote>\n\n<p>I tried to (1) wait a while and then retry, (2) reload the latest version, (3) reload the immediately previous version known to work, (4) clean up the history of Chrome (I'm running MacOS Lion version 10.7.5) -> Nothing. I'm still getting the same error.</p>\n\n<p>Any idea what am I doing wrong? Thank you: <em>any</em> help is welcome!</p>\n\n<p>Last thing: I am using Python 2.7 (not sure it matters, but still.)</p>\n\n<hr>\n\n<p>PS: Here is the code:</p>\n\n<h1>helloworld.py</h1>\n\n<pre><code>import webapp2\n\nform=\"\n&lt;form action=\"http://www.google.com/search\"&gt;\n    &lt;input name=\"q\"&gt;\n    &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n\"\"\"\n\nclass MainPage(webapp2.RequestHandler):\n    def get(self):\n#       self.response.headers['Content-Type'] = 'text/html'\n#       self.response.out.write('Hello, Udacity!!')\n        self.response.out.write(form)\n\napp = webapp2.WSGIApplication([('/', MainPage)], debug=True)\n</code></pre>\n\n<h1>app.yaml</h1>\n\n<pre><code>application: chris73it-helloworld\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /.*\n  script: helloworld.app\n</code></pre>\n\n<p>That's it: only 2 files.</p>\n\n<p>Problem solved: the 2 of the 3 double quotes had disappeared while editing the code: now it works. Unfortunately, because this was my very first post on SO, I am not allowed to \"give +1 points\" :-( Sorry about that!</p>\n"},{"tags":["python","html","django"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":212,"score":1,"question_id":4213884,"title":"Blocking HTML tags in a webpage","body":"<p>So, I have a web 2.0 site I'm building with a lot of user input but as with any web 2.0 site, I'm gonna have trouble with spam. Easiest way in my case as far as I'm aware is to block any HTML tags. Users do not need formatting and I'll use  for fixing spacing.</p>\n\n<p>But I don't think there's any blocking tags, xmb sounds perfect but been depreceated since the 90s so pretty dumb.</p>\n\n<p>Otherwise, what kind of filtering would I need? I see stack overflow allows 'basic' HTML... How do I do it? Block certain tags or allow certain tags, etc. As I said, users shouldn't need any tags.</p>\n\n<p>Edit: using django</p>\n"},{"tags":["python","google-app-engine","gae-datastore","app-engine-ndb","appstats"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13192395,"title":"How do I prevent application calling datastore_v3.next() when calling get_multi?","body":"<p>I'm running a keys_only query, which fetches 20 results.  </p>\n\n<pre><code>result_keys, cursor, more = ActivityIndex.query(cls.followers  == key)\\\n                                        .order(-cls.date_created)\\\n                                        .fetch_page(num_results,\n                                                    start_cursor = cursor,\n                                                    keys_only=True)\n</code></pre>\n\n<p>I then get the parents of the activityIndex objects:</p>\n\n<pre><code>keys = []\nfor k in result_keys:\n    for pair in k.parent().pairs():\n        keys.append(ndb.Key(pairs=[pair]))\n\nactivities_related = ndb.get_multi(keys)\n</code></pre>\n\n<p>I thought this would be quick, because I was getting a batch of objects by key. However, the query seems call <code>datastore_v3.Next</code>, which according to the <a href=\"https://developers.google.com/appengine/docs/python/tools/appstats\" rel=\"nofollow\">appstats docs</a> is \"bad\", and takes up a significant portion of the execution time. </p>\n\n<blockquote>\n  <p>Avoiding unnecessary Next calls may speed up your app!</p>\n</blockquote>\n\n<p>Appstats for the above query (with get_multi call)\n<img src=\"http://i.stack.imgur.com/ixVMa.png\" alt=\"Appstats view with get_multi enabled\"></p>\n\n<p>Appstats for the above query but without call get_multi (short time for next() to respond).\n<img src=\"http://i.stack.imgur.com/CDmo4.png\" alt=\"short time for next to respond\"></p>\n\n<p>Why does the <code>datastore_v3.next()</code> call take so long to execute when calling <code>get_multi()</code>? Does it depend on the number of results get_multi will return? Some of the objects returned in get_multi have list properties (with max 10 items in a list), would this play a role in the performance?</p>\n\n<p>To avoid this issue, would it be better to change the design and fetch the required entities in tasklets? Any other suggestions?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>A bit more information about what I am trying to do:\nI have an activity stream in my application, which displays all user activity e.g. Rob commented on Picture etc.\nTo display this information, I thought I'd need the User object and the Picture Object to build up the activity description and information to display. I set all these objects' keys as parents of <code>ActivityIndex</code>. So from the above query, <code>ndb.get_mult(keys)</code> would be fetching the Activity, User and Picture objects. <strong>The keys list could contain 50 keys or more</strong>, so would this possibly be the cause of the long <code>datastore_v3.Next</code> call.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13206579,"title":"Python:How to implement getting the latest location","body":"<p>GOAL:-\nI need to parse a file with the below input and get  the latest (builddate timestamp should be latest)location when the status is approved and builddate is the latest..I provided sample input and output,I have the code in perl,new to python,please suggest how can this be implemented in python</p>\n\n<pre><code>INPUT:-\nBuild:          M1234BAAAANAAW9321.1\nLocation:       \\\\dreyers\\builds468\\INTEGRATION\\M1234BAAAANAA9321.1\nComments:       Build completed, labeled, and marked for retention.\nStatus:         Approved\nBuildDate:      10/25/2012 12:51:25\n\n\nBuild:          M1234BAAAANAAW9321.2\nLocation:       \\\\crmbld01\\Builds\\FAILED\\M1234BAAAANAA9321.2\nComments:       The build is currently in a failed status.\nStatus:         Failed\nBuildDate:      10/25/2012 19:37:17\n\n\nBuild:          M1234BAAAANAAW9321.3\nLocation:       \\\\freeze\\builds427\\INTEGRATION\\M1234BAAAANAA9321.3\nComments:       Build completed, labeled, and marked for retention.\nStatus:         Approved\nBuildDate:      10/25/2012 19:43:28\n\nOUTPUT:-\\\\freeze\\builds427\\INTEGRATION\\M1234BAAAANAA9321.3\n</code></pre>\n\n<p>Following is the perl code that achieves,I am new to python,please suggest how can I pythonize this code</p>\n\n<pre><code>$ echo 'Build:          M1234BAAAANAAW9321.1\nLocation:       \\\\dreyers\\builds468\\INTEGRATION\\M1234BAAAANAAW9321.1\nComments:       Build completed, labeled, and marked for retention.\nStatus:         Approved\nBuildDate:      10/25/2012 12:51:25\n\n\nBuild:          M1234BAAAANAAW9321.2\nLocation:       \\\\crmbld01\\Builds\\FAILED\\M1234BAAAANAAW9321.2\nComments:       The build is currently in a failed status.\nStatus:         Failed\nBuildDate:      10/25/2012 19:37:17\n\n\nBuild:          M1234BAAAANAAW9321.3\nLocation:       \\\\freeze\\builds427\\INTEGRATION\\M1234BAAAANAAW9321.3\nComments:       Build completed, labeled, and marked for retention.\nStatus:         Approved\nBuildDate:      10/25/2012 19:43:28\n' | perl -e'\n\nlocal $/ = \"\";\nmy ( $build_date, $location );\nwhile ( &lt;&gt; ) {\nnext unless /status:\\s+approved/i;\nmy $date = sprintf \"%04d%02d%02d%02d%02d%02d\", ( /builddate:\\s+(\\d\n++)\\D+(\\d+)\\D+(\\d+)\\D+(\\d+)\\D+(\\d+)\\D+(\\d+)/i )[ 2, 0, 1, 3, 4, 5 ];\nif ( !defined $build_date || $build_date lt $date ) {\n    ( $build_date, $location ) = ( $date, /location:\\s+(.+)/i );\n    }                                                           \n}    \n</code></pre>\n\n<p>print \"$location\\n\";\n'\n\\freeze\\builds427\\INTEGRATION\\M1234BAAAANAAW9321.3</p>\n\n<p>I tried to write the following in python,doesnt seem to work,am wondering if there is a better implementation to achieve the goal..please suggest</p>\n\n<pre><code>for line_info in lines:\n\n    line_info.find('Location')\n\n    if line_info.find('Location') == 0:\n        # Build Location\n        print \"  Found Build location\"\n        logString += \"  Found Build location\\n\"\n        location = line_info.split(\" \")\n        location1 = location[len(location)-1]\n    elif line_info.find('Status') == 0:\n        # Status\n        print \"  Found Status\"\n        logString += \"  Found Status\\n\"\n        status = line_info.split(\" \")\n        removeEmpty(status)\n        status1 = status[1].strip()\n        if status1 != \"Approved\"\n        goto .start\n    elif line_info.find('BuildDate') == 0:\n        # Main Make\n        print \"  Found BuildDate\"\n        logString += \"  Found BuildDate\\n\"\n        builddate1 = line_info.split(\" \")\n        removeEmpty(builddate1)\n        builddate1 = builddate1[1]\n        #if builddate1 &gt; \n</code></pre>\n"},{"tags":["python"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13138898,"title":"How do I list occurrences of certian values found in a dictionary in a list in python?","body":"<pre><code>dave = [{'date':'12/10/12','time':'09:12','created_by':'adam','text':'this'},\n        {'date':'28/09/11','time':'15:58','created_by':'admin','text':'that'},\n        {'date':'03/01/10','time':'12:34','created_by':'admin','text':'this and that'}]\n</code></pre>\n\n<p>How to I get a list of the values found in <code>created_by</code>. (e.g. <code>['adam','admin']</code>)</p>\n"},{"tags":["python","rest","flask","stateless"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":66,"score":6,"question_id":13206870,"title":"What does REST's principle of statelessness actually means?","body":"<p>After reading the introductory articles on REST (<a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm\">Fielding's thesis</a> and other) my perception of statelessness is that there should be no session objects on the server side. Yet, i see <a href=\"http://flask.pocoo.org/\">Flask</a> (and maybe other REST frameworks in different technologies that i do not know about) gives us a session object to store information on the server in this <a href=\"http://flask.pocoo.org/docs/quickstart/#sessions\">example</a>:</p>\n\n<pre><code>@app.route('/login', methods=['GET', 'POST'])\ndef login():\n  if request.method == 'POST':\n    session['username'] = request.form['username']\n    return redirect(url_for('index'))\n...\n</code></pre>\n\n<p>Surely, i am misunderstanding REST's statelessness. So, what is it really? </p>\n"},{"tags":["python","pythagorean"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":31,"score":-3,"question_id":13206586,"title":"Why isn't this Python pythagorean theorem solver working?","body":"<pre><code>print \"Welcome to Dylan's Pythagorean Theorem Solver.\"\n\nfrom math import sqrt \n\nprint \"What are we solving for? A hypotenuse or a leg?\"\n\nask = raw_input(\"# \")\n\nif ask == \"hypotenuse\":\n    print \"What is the value of your first leg?\"\n\n    leg1 = raw_input(\"# \")\n\n    print \"The value of your first leg is %s. What is the value of your second leg?\" % (leg1)\n\n    leg2 = raw_input(\"# \")    \n\n    print \"The length of your hypotenuse is \"sqrt((leg1 ** 2) + (leg2 ** 2))\n</code></pre>\n"},{"tags":["python","virtualenv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13206990,"title":"virtualenv Env not creating bin directory in Windows 7","body":"<p>I'm a newbie to Python and I've spent hours on this. I can't seem to figure out why when I run a simple command to setup my Python environment: <code>virtualenv --distribute env</code></p>\n\n<p>This doesn't create a bin file in the <code>env</code> directory.</p>\n\n<p>It only creates: </p>\n\n<pre><code>-- env\n   -- Include\n   -- Lib\n   -- Scripts\n</code></pre>\n\n<p>My impressions was that a bin directory would be created per a lot of the examples I've found on the web (e.g. I'm not able to run this command: <code>env/bin/activate</code>).</p>\n\n<p>I'm using Windows 7 and Python 2.7.</p>\n"},{"tags":["python","azure","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13205245,"title":"python in azure website using webapp2","body":"<p>I would like to try to develop website using python, upload to azure website. I saw there is a tutorial using django. Is there a tutorial using webapp2?</p>\n"},{"tags":["python","python-2.7","tkinter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13206843,"title":"why is my if statement showing to be false? code not not quitting when a==0. the time is supposed to be in min/sec","body":"<p>i am having trouble figuring out why my timer is not reaching zero when i run it. I am trying to get the window to close when a=0 but a keeping decreasing to negative digits why please? This is my codes</p>\n\n<pre><code>def close_timer(self):\n    global a\n    a = float(a - 0.1)\n    self.labeltext.set(str((\"%.1f\" % (a))))\n    a = float(a)\n    print a\n    print (a == 0)\n    if a == 0:\n        self.canvas.after(100)\n        self.root.destroy()\n    self.root.after(100,self.close_timer)\n</code></pre>\n"},{"tags":["python","string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13206869,"title":"remove '/n' from code","body":"<p>So I want to remove the '\\n' from the end of all parts of file_string. There is an exception, the last value doesn't seem to have '\\n'. Here is my code:</p>\n\n<pre><code>class Code(object):\n    def __init__(self):\n        pass\n    def open_file(self,file):\n        infile = open(file, 'r')\n        self.infile = infile.readlines()\n    def run(self,file):\n        self.file_string = []\n        self.open_file(file)\n        for i in self.infile:\n            self.file_string.append(i)\n        return self.file_string\n</code></pre>\n\n<p>Like I said, all I need is \\n removed.</p>\n\n<p>Input:</p>\n\n<pre><code>&gt;&gt;&gt;a = Code()\n&gt;&gt;&gt;a.run('go.txt')\n</code></pre>\n\n<p>Current output:</p>\n\n<pre><code>['100\\n', '200\\n', '300\\n', '400']\n</code></pre>\n\n<p>What I want:</p>\n\n<pre><code>['100', '200', '300', '400']\n</code></pre>\n"},{"tags":["python","python-3.x","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":459,"score":-2,"question_id":13206711,"title":"Where's the bug in this function?","body":"<pre><code>def sqrt(a):\n    def tryit(x):\n        return 0.5 * (a/x + x)\n    return fixedPoint(tryit(x), 0.0001)\n</code></pre>\n"},{"tags":["python","list"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13206680,"title":"How to search through JSON object for specific list o expected key values?","body":"<p>I have this json object, and I am curious how to iterate through servicecatalog:name and alert for any name that does not equal \"service-foo\" or \"service-bar\".</p>\n\n<p>Here is my json object:</p>\n\n<pre><code>{\n    \"access\": {\n        \"serviceCatalog\": [\n            {\n                \"endpoints\": [\n                    {\n                        \"internalURL\": \"https://snet-storage101.example.com//v1.0\", \n                        \"publicURL\": \"https://storage101.example.com//v1.0\", \n                        \"region\": \"LON\", \n                        \"tenantId\": \"1\n                    }, \n                    {\n                        \"internalURL\": \"https://snet-storage101.example.com//v1.0\", \n                        \"publicURL\": \"https://storage101.example.com//v1.0\", \n                        \"region\": \"USA\", \n                        \"tenantId\": \"1\n                    }\n                ], \n                \"name\": \"service-foo\", \n                \"type\": \"object-store\"\n            }, \n            {\n                \"endpoints\": [\n                    {\n                        \"publicURL\": \"https://x.example.com:9384/v1.0/x\", \n                        \"tenantId\": \"6y5t4re32\"\n                    }\n                ], \n                \"name\": \"service-bar\", \n                \"type\": \"rax:test\"\n            }, \n            {\n                \"endpoints\": [\n                    {\n                        \"publicURL\": \"https://y.example.com:9384/v1.0/x\", \n                        \"tenantId\": \"765432\"\n                    }\n                ], \n                \"name\": \"service-thesystem\", \n                \"type\": \"rax:test\"\n            }\n        ]\n}\n</code></pre>\n"},{"tags":["python","timer","gevent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13206798,"title":"somethig like cron (timer) in gevent","body":"<p>How can I make classical timer in gevent?</p>\n\n<p>I'm currently using gevent.spawn_later but is there a way to use core.timer like saying \"do callback on interval\" just like cron does?</p>\n\n<pre><code>def callback():\n    # do something\n    print '!'\n\ntimer = core.timer(10, callback)\ntimer.start()\n\noutpout:\n0s\n10s  !\n20s  !\n30s  !\n</code></pre>\n"},{"tags":["python","cherrypy","usenet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13206567,"title":"Please help me figure out this cherrypy error","body":"<p>I'm enjoying a very <em>alpha</em> usenet app, similar to sickbeard but for comic books. Of all the people using the program, I'm the only one having trouble with a new feature. The feature is supposed to call up a csv file to give the user some choices in choosing what to download. For seemingly everyone else, the program works as expected. But I get a 500 internal server error. Any idea why? No one seems to understand why I'm getting this error and no one else is.</p>\n\n<pre><code>500 Internal Server Error\n\nThe server encountered an unexpected condition which prevented it from fulfilling the request.\n\nTraceback (most recent call last):\n  File \"/home/misterfantastic/.mylar/cherrypy/_cprequest.py\", line 645, in respond\n    response.body = self.handler()\n  File \"/home/misterfantastic/.mylar/cherrypy/lib/encoding.py\", line 188, in __call__\n    self.body = self.oldhandler(*args, **kwargs)\n  File \"/home/misterfantastic/.mylar/cherrypy/_cpdispatch.py\", line 29, in __call__\n    return self.callable(*self.args, **self.kwargs)\n  File \"/home/misterfantastic/.mylar/mylar/webserve.py\", line 121, in addComic\n    fakeit = parseit.GCDAdd(testspx)\n  File \"/home/misterfantastic/.mylar/mylar/parseit.py\", line 433, in GCDAdd\n    subpubst = pubst('a')[0]\nTypeError: 'NoneType' object is not callable\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1184,"score":1,"question_id":13205215,"title":"All O(1) functions take exactly the same amount of time to run. True or False?","body":"<p>\"All O(1) functions take exactly the same amount of time to run.\" True or false? Can anybody explain the answer to me?</p>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13206523,"title":"How to append/concat a number in re.sub","body":"<p>So I have a re.sub line that looks like this</p>\n\n<pre><code>re.sub(r'(.*_)\\d*(\\..*)', r'\\1' + mediaFileId + r'\\2', baseName)\n</code></pre>\n\n<p>mediaFileId is a string that looks like <code>'8000'</code></p>\n\n<p>This line returns <code>invalid group reference</code> because it thinks I'm looking for <code>\\18000</code> when in reality I want <code>\\1</code>.  </p>\n\n<p>This is such a simple problem but I can't seem to figure it out.</p>\n\n<p>Any help appreciated</p>\n"},{"tags":["python","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13189297,"title":"Getting AppTrace for Google App Engine working with Python 2.7 on OSX 10.8.2","body":"<p>For the life of me I cannot get AppTrace to work on my Google App Engine Development server (Python 2.7 on OSX 10.8.2), mainly because of this:</p>\n\n<pre><code>ImportError: dlopen(/apptrace/guppy/sets/setsc.so, 2): Symbol not found: __PyLong_AsScaledDouble\nReferenced from: /apptrace/guppy/sets/setsc.so\nExpected in: flat namespace in /apptrace/guppy/sets/setsc.so\n</code></pre>\n\n<p>This is similar to the following question, except the question is asking for the best way to profile/monitor on GAE, and the accepted answer doesn't solve the ImportError issue:\n<a href=\"http://stackoverflow.com/questions/11202475/memory-profiling-monitoring-python-on-google-appengine\">Memory profiling/monitoring (python) on Google AppEngine</a></p>\n\n<p>I also came across this information from Guppy's tracker but it still did not solve the issue:\n<a href=\"http://sourceforge.net/tracker/?func=detail&amp;aid=3047282&amp;group_id=105577&amp;atid=641821\" rel=\"nofollow\">http://sourceforge.net/tracker/?func=detail&amp;aid=3047282&amp;group_id=105577&amp;atid=641821</a></p>\n\n<p>When I get the 0.1.9 release directly from the trunk this is my output:</p>\n\n<pre><code>pip install https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\nDownloading/unpacking https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\n  Downloading guppy\n  Checking out https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy to /var/folders/w7/k0q671gx6hb03_rl_tmcnkq80000gn/T/pip-JA8fuK-build\n  Running setup.py egg_info for package from https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\n\nCleaning up...\n</code></pre>\n\n<p>This outputs much less than what the Guppy tracker states. However, if I run python -c 'import guppy; import guppy.sets' I still get the same ImportError as before.</p>\n\n<p>I'm far from a python or even an OSX expert, so any advice on what may be configured incorrectly or may be pointed to the wrong location would help. Thanks</p>\n"},{"tags":["python","image","imagemagick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13206304,"title":"Cropping away transparent pixels but preserving the offset","body":"<p>I have a group of .png files where most of the image is transparent (alpha channel), but there is image in the middle (non-transparent pixels) that I need to extract.</p>\n\n<p>What I need to do is crop the image down to just the non-transparent pixels, but I need to know how many pixels were cropped off the left and bottom so when it comes time to render the cropped images, it's position can be adjusted back to were it was in the larger image.</p>\n\n<p>Is there a way to do the cropping and get the x,y offset using ImageMagick?  I know how to crop the .png file, but the location of the non-transparent image within the larger image is lost and I need this information.</p>\n\n<p>It seems I can do this using PIL and python, but getting PIL installed on a Mac is proving to be a hair pulling experience.  I've spent hours trying to get rid of the jpeg_resync_to_restart errors and it seems everyone has a different solution that worked for them, but none of them work for me... so I've given up on PIL.</p>\n\n<p>ImageMagick is already installed and working.</p>\n\n<p>Is there another set of tools I can call from a bash or python script that will do what I need?</p>\n\n<p>This isn't just a one-time operation I need to preform, so I need a script that can be run over and over when the source .png files change.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","django","mongodb","pyramid"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":165,"score":4,"question_id":13186250,"title":"which python web framework(django or django-norel or pyramid) to use when MongoDB is used as a database","body":"<p>I am using MongoDB as my primary(and only till now) database and because of google and the links it provided me i am confused between Django or Pyramid. </p>\n\n<p>I am comfortable with python but never done web development in python(i have done in PHP). Now because i will be using Mongo so i wont use Django ORM will that take away the ease of development people associate with Django? </p>\n\n<p>I am new to Django(just a few hours) so i am not sure what parts of the framework the ORM affects. </p>\n\n<p>Or should i go with the django fork <a href=\"http://www.allbuttonspressed.com/projects/django-nonrel\" rel=\"nofollow\">django-norel</a> with <a href=\"http://django-mongodb.org/\" rel=\"nofollow\">django mongodb engine</a> (they are not actively maintained though) or should i use Pyramid because i plan to use jinja2 as my template layer so that makes 2 parts of django useless to me.</p>\n\n<p>After removing these batteries from django does it still remain true that it a framework for people with deadlines?</p>\n\n<p>Advice?</p>\n"},{"tags":["python","sets"],"answer_count":4,"favorite_count":12,"up_vote_count":58,"down_vote_count":3,"view_count":17151,"score":55,"question_id":1653970,"title":"Does Python have an ordered set?","body":"<p>Python has an <a href=\"http://www.python.org/dev/peps/pep-0372/\" rel=\"nofollow\">ordered dictionary</a>, what about an ordered set?</p>\n"},{"tags":["python","pygame","collision"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13060170,"title":"Python rectangle collision handling with pygame","body":"<p>I've been doing extensive research on this topic for the past few days and I can't seem to find an answer for my exact problem.</p>\n\n<p>So, I have a simple game set up where I have the player at 0, 0 with a width of 10x10</p>\n\n<pre><code>    player= pygame.Rect(0, 0, 10, 10)\n</code></pre>\n\n<p>and aside from that, the player has a velocity of x: 0, y: 10, which will make him fall (y is positive because the origin of the screen is at the top left.)</p>\n\n<p>and I have a tile at 0, 100, as shown:</p>\n\n<pre><code>    dirt= pygame.Rect(0, 100, 10, 10)\n</code></pre>\n\n<p>so, how can I <em>handle</em> collision, I already know I can detect it with Rect.colliderect(Rect).</p>\n\n<p>I've tried a few ways, but encountered some problems:</p>\n\n<p>I can't cut the player's velocity to 0 when he hits something and then move him \nback until he's just touching the object because that still causes the problem of walking, when he walks, I apply +10 velocity on x, but unfortunately, the game still processes that he is falling and colliding <em>and</em> moving sideways, so it just moves him back to where he started.</p>\n\n<p>I'm a beginner, so a simple answer would be appreciated, and I would <em>like</em> to not have to use <em>any</em> third party modules other that pygame if I didn't have to.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Here is some of the rough test code I have tried:</p>\n\n<pre><code>    def sim(obj, time, world):\n        time= time / 1000\n        obj.physProp['vel']= (obj.physProp['vel'][0] + (accel[0] * time), obj.physProp['vel'][1] + (accel[1] * time))\n        if obj.physProp['vel'][1] &gt; terminalY:\n            obj.physProp['vel']= (obj.physProp['vel'][0], terminalY)\n        obj.pos= (obj.pos[0] + (obj.physProp['vel'][0] * time) + ((accel[0] / 2) * (time ** 2)), obj.pos[1] + (obj.physProp['vel'][1] * time) + ((accel[1] / 2) * (time ** 2)))\n\n        for ID in world:\n            if obj.getRect().colliderect(world[ID].getRect()) == True:\n                pass\n\n        return (obj.pos, obj.physProp['vel'])\n</code></pre>\n"},{"tags":["python","python-3.x","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13206314,"title":"how to adjust/control picture size on tkinter python 3","body":"<p>how do i adjust the size of image? Thanks</p>\n\n<pre><code>canvas = Canvas(width = 300, height = 200, bg = 'white')\ncanvas.grid(row=0, column=0,sticky = 'W')\ngif = PhotoImage(file = \"picture.gif\")\ncanvas.create_image(0, 0, image = gif, anchor = NW)\nmainloop()\n</code></pre>\n"},{"tags":["python","parsing","mongodb","pymongo","pyparsing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13190090,"title":"Sql to Pymongo generation using Pyparsing","body":"<p>I am using the \"awesomest\" parsing library in the world existing right now. Pyparsing. The problem at hand is to generate a PyMongo dictionary from a given SQL string (For select statements). The grammar def I am using is following :</p>\n\n<pre><code>sql_stmt = (select_key_word + ('*' | column_list).setResultsName\n                 (\"columns\") + form_key_word + table_name_list.setResultsName\n                 (\"collections\") + \n                 Optional(where_condition, \"\").setResultsName(\"where\"))\n</code></pre>\n\n<p>Here the select_key_word, column_list etc. constructs are valid grammar defs. and using this i can parse a string like \"Select * from collection_1 where (Sal = 1000 or Sal=5000) AND Car>2\"\nThe problem i have is that, the where part is being parsed is like this :</p>\n\n<pre><code>[[u'where', [u'(', [u'Sal', '=', u'1000'], 'or', [u'Sal', '=', u'5000'], u')'], 'and', [u'Car', '&gt;', u'2']]] \n</code></pre>\n\n<p>Which is fine if i want it translated into something sqlish. But a valid representation of that same in pymongo would be something like this :</p>\n\n<pre><code>{u'$or': [{u'$and': [{u'Sal': u'1000'}, {u'Sal': u'5000'}]}, {u'Car': {u'$gte': u'2'}}]}\n</code></pre>\n\n<p>That is where I am stuck. Can anybody give me a direction? it seems to me that setParseAction will be a way to go, but just can't figure that out</p>\n\n<p>the code for the where_contidion is :</p>\n\n<pre><code>where_expr = Forward()\nand_keyword = get_conjunction_as_grammar(\"and\")\nor_keyword = get_conjunction_as_grammar(\"or\")\nin_operation = get_operation_as_grammar(\"in\")\n\ncolumn_value = get_real_number_as_grammar() | get_int_as_grammar() | \\\n                quotedString\nbinary_operator = get_bin_op_as_grammar()\ncol_name = get_column_name_as_grammar()\n\nwhere_condn = Group(\n(col_name + binary_operator + column_value) |\n(col_name + in_operation + \"(\" + delimitedList(column_value) + \")\" ) |\n(\"(\" + where_expr + \")\")\n)\nwhere_expr &lt;&lt; where_condn + ZeroOrMore((and_keyword | or_keyword) \n                                        + where_expr)\n\nwhere_condition = Group(CaselessLiteral(\"where\") + where_expr)\n</code></pre>\n\n<p>Thanks in advance. Please let me know if you need any other information.</p>\n"},{"tags":["python","gtk","pygtk","cairo","pycairo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13206298,"title":"Efficiency of Drawing GTK Pixbufs with Cairo","body":"<p>So, I want to draw an image using PyCairo.  Efficiency is pretty important, but I am loading the images using PyGtk's gtk.gdk.Pixbuf.  My question is, is there a performance difference in rendering the Pixbuf through retrieving a Cairo context through gtk.gdk.CairoContext vs converting the Pixbuf into a cairo.ImageSurface object, and if so, how big a difference is it?  This is run in a separate drawing thread that is updated 30 times a second or so (though only when the image needs updating).  Note that the conversion would only be run once.</p>\n\n<pre><code>gdkcr = gtk.gdk.CairoContext(cr)\n\ngdkcr.set_source_pixbuf(img, 0, 0)\ngdkcr.paint()\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>cr.set_source(imgSurface)\ncr.rectangle(0, 0, imgSurface.get_width(), imgSurface.get_height())\ncr.fill()\n</code></pre>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":27,"score":-3,"question_id":13206144,"title":"Python and creating a list wth a pattern - x1, x2, ... x100","body":"<p>I want to create a list using an iterator that will go to 100,000</p>\n\n<p>['guid:0','guid:2', .....'guid:100000']</p>\n\n<p>Python is the most python method to do this?  A one liner...</p>\n"},{"tags":["python","forms","mechanize"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13204781,"title":"Mechanize difference between br.click_link() and br.follow_link()","body":"<p>I am using mechanize to automate some form submissions. </p>\n\n<p>To do that I require to go to the home page of some website, click on a link with a particular text which redirects me to an another page and fill in the form in the new page. </p>\n\n<p>I tried using </p>\n\n<pre><code>  response = br.follow_link(text_regex=\"sometext\")\n\n  for f in response.forms()\n      print f.name\n</code></pre>\n\n<p>The error Message I got was AttributeError: closeable_response instance has no attribute 'forms'</p>\n\n<p>When I tried </p>\n\n<pre><code>for f in br.forms()\n    print f.name\n</code></pre>\n\n<p>It prints the name of forms in the hompage and not the new page I redirect to .</p>\n\n<p>How can find the name of the forms in the new page ?</p>\n\n<p>What does 'response' contain ?</p>\n\n<p>And what is the difference between click_link() and follow_link() .  The mechnanize doc doesn't explain this clearly. </p>\n\n<p>Thanks</p>\n"},{"tags":["python","python-2.7","deep-copy","shallow-copy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13204899,"title":"Issue with Python class instances having a shallow connection","body":"<p>I'm attempting to write a genetic algorithm framework in Python, and am running into issues with shallow/deep copying.  My background is mainly C/C++, and I'm struggling to understand how these connections are persisting.</p>\n\n<p>What I am seeing is an explosion in the length of an attribute list within a subclass.  My code is below...I'll point out the problems.</p>\n\n<p>This is the class for a single gene.  Essentially, it should have a name, value, and boolean flag.  Instances of <code>Gene</code> populate a list within my <code>Individual</code> class.</p>\n\n<pre><code># gene class\nclass Gene():\n  # constructor\n  def __init__(self, name, is_float):\n    self.name_     = name\n    self.is_float_ = is_float\n    self.value_    = self.randomize_gene()\n\n\n  # create a random gene\n  def randomize_gene(self):\n    return random.random()\n</code></pre>\n\n<p>This is my <code>Individual</code> class.  Each generation, a population of these are created (I'll show the creation code after the class declaration) and have the typical genetic algorithm operations applied.  Of note is the <code>print len(self.Genes_)</code> call, which grows each time this class is instantiated.</p>\n\n<pre><code># individual class\nclass Individual():\n  # genome definition\n  Genes_      = []    # genes list\n  evaluated_  = False # prevent re-evaluation\n  fitness_    = 0.0   # fitness value (from evaluation)\n  trace_      = \"\"    # path to trace file\n  generation_ = 0     # generation to which this individual belonged\n  indiv_      = 0     # identify this individual by number\n\n  # constructor\n  def __init__(self, gen, indv):\n    # assign indices\n    self.generation_ = gen\n    self.indiv_      = indv\n    self.fitness_    = random.random()\n\n    # populate genome\n    for lp in cfg.params_:\n      g = Gene(lp[0], lp[1])\n      self.Genes_.append(g)\n\n    print len(self.Genes_)\n\n&gt; python ga.py\n&gt; 24\n&gt; 48\n&gt; 72\n&gt; 96\n&gt; 120\n&gt; 144\n......\n</code></pre>\n\n<p>As you can see, each Individual should have 24 genes, however this population explodes quite rapidly.\nI create an initial population of new Individuals like this:</p>\n\n<pre><code># create a randomized initial population\ndef createPopulation(self, gen):\n  loc_population = []\n  for i in range(0, cfg.population_size_):\n    indv = Individual(gen, i)\n    loc_population.append(indv)\n  return loc_population\n</code></pre>\n\n<p>and later on my main loop (apologies for the whole dump, but felt it was necessary - if my secondary calls (mutation/crossover) are needed please let me know))</p>\n\n<pre><code>for i in range(0, cfg.generations_):\n      # evaluate current population\n      self.evaluate(i)\n\n      # sort population on fitness\n      loc_pop = sorted(self.population_, key=operator.attrgetter('fitness_'), reverse=True)\n\n      # create next population &amp; preserve elite individual\n      next_population = []\n      elitist = copy.deepcopy(loc_pop[0])\n      elitist.generation_ = i\n      next_population.append(elitist)\n\n      # perform selection\n      selection_pool = []\n      selection_pool = self.selection(elitist)\n\n      # perform crossover on selection\n      new_children = []\n      new_children = self.crossover(selection_pool, i)\n\n      # perform mutation on selection\n      muties = []\n      muties = self.mutation(selection_pool, i)\n\n      # add members to next population\n      next_population = next_population + new_children + muties\n\n      # fill out the rest with random\n      for j in xrange(len(next_population)-1, cfg.population_size_ - 1):\n        next_population.append(Individual(i, j))\n\n      # copy next population over old population\n      self.population_ = copy.deepcopy(next_population)\n\n      # clear old lists\n      selection_pool[:]  = []\n      new_children[:]    = []\n      muties[:]          = []\n      next_population[:] = []\n</code></pre>\n"},{"tags":["python","webkit"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":93,"score":5,"question_id":12524692,"title":"Get POST data from WebKitNetworkRequest","body":"<p>I am trying to send data from a javascript app running in GTK webkit to Python via a HTTP request with the data sent in POST.</p>\n\n<p>I can capture the request using <code>resource-request-starting</code> and checking the uri of the request.</p>\n\n<p>I know the request works because I can send data through the request headers and view it with </p>\n\n<pre><code>def on_resource_request_starting(view, frame, resource, request, response):\n    uri = urllib.unquote(request.props.uri)\n    if uri.startswith('http://appname.local/'):\n        print request.get_message().request_headers.get_one('foobar')\n</code></pre>\n\n<p>But when I use <code>print request.get_message().request_body.data</code> I don't get anything.</p>\n\n<p>How do I  view the POST data?</p>\n"},{"tags":["python","report","openerp","rml"],"answer_count":2,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":284,"score":1,"question_id":10292010,"title":"Word Wrapping in .rml Reports in Openerp","body":"<p>Is there any way to wrap words in rml template in openerp6.0.I have defined a column width to get the product's name in sales order template of openerp.But when long names without space is added it just cross the column in the rml template report alone.Can anyone sugest a solution for this problem. </p>\n"},{"tags":["python","vim","virtualenv","ctags","taglist"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":320,"score":1,"question_id":10362085,"title":"ctags with taglist in vim and python virtualenv","body":"<p>I use <code>virtualenv</code> and <code>django</code> in my projects and I am trying to find a more efficient way to browse django source code.</p>\n\n<p>As advised here - <a href=\"http://stackoverflow.com/questions/10361714/tools-to-help-developers-reading-class-hierarchy-faster\">Tools to help developers reading class hierarchy faster</a> - I got myself set-up with ctags via</p>\n\n<pre><code>sudo port -v install ctags\n</code></pre>\n\n<p>and installed the vim plugin <code>taglist</code> via <a href=\"https://github.com/vim-scripts/taglist.vim\" rel=\"nofollow\">https://github.com/vim-scripts/taglist.vim</a></p>\n\n<p>Unfortunately, it seems that <code>ctags</code> cannot locate my django's class when I attempted to \"jump\" to view a class via <kbd>Ctrl+]</kbd>.</p>\n\n<p>Any suggestions how I can get <code>ctags</code> to read python source code located in my virtualenv?</p>\n\n<p><strong>UPDATES</strong></p>\n\n<p>With further experimentation, I realized that <code>ctags</code> is some kind of \"indexing\" program which parses through a given directory/files/file and grabs all the keywords (class names, method names, function names etc) it finds and writes it into a file.  This file can be updated and vim plugin <code>taglist</code> essentially reads from it to know where to send me to when I do a <kbd>Ctrl</kbd><kbd>t</kbd> on a class/method/function name.</p>\n\n<p>So I came up with a temporary and manual solution, which I execute in my vim, like this:-</p>\n\n<pre><code>:set tags=~/mytags\n:! ctags -R -o ~/mytags ~/.virtualenvs/myprojectname\n</code></pre>\n\n<p>The first command tells my vim/taglist where my \"indexed\" results are stored.</p>\n\n<p>The second command writes the indexed results into <code>~/mytags</code> file by searching recursively (<code>-R</code>) down the <code>~/.virtualenvs/myprojectname</code></p>\n\n<p>This works but is a very manual way to maintain tags and tags change if I happen to be in a different <code>virtualenv</code> environment.</p>\n\n<p>Does anyone know of an automated way to manage this <code>ctags</code> process?</p>\n"},{"tags":["python","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13205982,"title":"Accessing capture groups during substitution","body":"<p>I have a text file containing  decimal numbers throughout it and was wanting to round up any that have a decimal >= <code>0.5</code>, otherwise I want to truncate the decimal, e.g., <code>23.7897</code> becomes <code>24</code> and <code>17.2395</code> becomes <code>17</code>.</p>\n\n<p>The &lt; <code>0.5</code> case is not a problem for <code>re.sub</code>:</p>\n\n<pre><code>re.sub(r'(\\d+)\\.[0-4]\\d*', r'\\1', line)\n</code></pre>\n\n<p>however, for the >= <code>0.5</code> case, I was wondering if there was a way to manipulate the <code>\\1</code> capture group during the substitution somehow? Is it stored anywhere so that it can be sent to a function, e.g.:</p>\n\n<pre><code>re.sub(r'(\\d+)\\.[5-9]\\d*', roundUp('\\1'), line)\n</code></pre>\n\n<p>where <code>roundUp()</code> returns a string representing the value <code>\\1 + 1</code>.</p>\n\n<p>Surely there is a way to just increment <code>\\1</code> inline during substitution without having loop through the matches from <code>findall</code>, incrementing the integer part, then refinding the pattern with <code>re.sub</code> and subtitute it in?</p>\n"},{"tags":["python","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13205997,"title":"Python ImportError: No module named resource","body":"<p>I'm working with a Google App Engine project and within the project I am unable to use this import:</p>\n\n<pre><code>import resource\n</code></pre>\n\n<p>I receive this error:</p>\n\n<pre><code>ImportError: No module named resource\n</code></pre>\n\n<p>However, if I fire up the terminal and run this code it works fine:</p>\n\n<pre><code>$ python\nPython 2.7.3 (v2.7.3:70274d53c1dd, Apr  9 2012, 20:52:43) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import resource\n</code></pre>\n\n<p>The root folder of the project does not have an <strong>_<em>init</em>_</strong>.py file which is what many of the  other answers suggest. I use Aptana 3, OSX 10.8.2 and Python 2.7.3.</p>\n\n<p><strong>Why would the import not work in my website, but does work in the interpreter?</strong></p>\n"},{"tags":["javascript","python","websocket","socket.io"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12733582,"title":"Can I connect to an https websocket with python?","body":"<p>I've been using python to connect to <code>ws://</code> websocket streams with great success using <a href=\"http://pypi.python.org/pypi/websocket-client/0.7.0\" rel=\"nofollow\">websocket-client</a>. However, when I try to connect to an <code>https://</code>-schemed stream, the library complains about <code>https</code> not being supported. <a href=\"https://bitfloor.com/docs/api/market-data/websocket#book\" rel=\"nofollow\">This</a> page seems to suggest that it's possible to connect to such a stream via https using socket.io in javascript.</p>\n\n<p>I'm not a javascript master, so there might be some subtlety I'm missing here, but can this be done in python?</p>\n"},{"tags":["python","unit-testing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13206012,"title":"Can someone explain addTypeEqualityFunc in unittest to me?","body":"<p>I'm trying very hard to implement a custom comparison method with unittest, but no matter how hard I try, I can't seem to get it to work.</p>\n\n<p>I define my <code>__equals__</code> class in the custom object, and make sure it screams bloody murder onto the console. I call <code>addTypeEqualityFunc</code> in the <code>setUp</code> method of the test case class. I <code>assertEquals</code> on the output of a function against what's supposed to come out. I run my tests.</p>\n\n<p>An the tests fail. What gives?</p>\n"},{"tags":["python","ubuntu","qt4","qprocess","youtube-dl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13150633,"title":"Output of youtube-dl using QProcess","body":"<p>I am so new to python and am in process of learning this powerful language.  I managed to write the following script.  It does get a partial output ( only two lines of it ) the I don't know what is going wrong!  Please help me.</p>\n\n<pre><code>#!/usr/bin/env python\n#-*- coding: utf-8 -*-\n\nfrom PyQt4 import QtCore, QtGui\nfrom PyQt4.QtCore import (QProcess,QRect,SIGNAL,SLOT,QString,QStringList,qDebug)\nfrom PyQt4.QtGui import (QMainWindow,QWidget,QPushButton,QTextEdit,QApplication)\n\nclass YTDL (QtGui.QMainWindow):\n    def __init__ (self,parent=None):\n        super(YTDL,self).__init__(parent)\n\n        self.resize(400,300)\n        self.setWindowTitle(\"Youtube-dl output using QProcess\")\n\n        self.__init_Components()\n        self.__ui_event_handler()\n\n    def __init_Components(self):\n        self.proc = QProcess()\n        self.cw = QWidget(self)\n\n        self.btn = QPushButton(self.cw)\n        self.btn.setText(\"Run\")\n        self.btn.setGeometry(QRect(270,10,110,27))\n\n        self.te = QTextEdit(self.cw)\n        self.te.setReadOnly(True)\n        self.te.setOverwriteMode(False)\n        self.te.setGeometry(QRect(10,40,380,170))\n\n        self.setCentralWidget(self.cw)\n\n    def __ui_event_handler(self):\n        self.connect(self.btn, SIGNAL('clicked()'),self.Button_Clicked)\n\n\n    def Button_Clicked(self):\n        args = '-ct -f 18 --extract-audio --audio-quality 320k --audio-format mp3 -k http://www.youtube.com/watch?v=OiPO_TAAZPc'\n        cmd = 'youtube-dl'\n        self.proc.setWorkingDirectory(\"~/Videos/Folder1\")\n        self.connect(self.proc, SIGNAL('readyRead()'),self._read)\n        self.proc.setOpenMode(self.proc.ReadWrite)\n        self.proc.start(cmd ,args)\n        if not self.proc.waitForStarted():\n            exit(1)\n\n    def _read(self):\n        s = self.proc.readAllStandardOutput()\n        qDebug (s)\n        print (s)\n        self.te.append(QString(s)) \n\n\n\ndef main():\n    import sys\n    app = QApplication(sys.argv)\n    ytdl = YTDL()\n    ytdl.show()\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["python","virtualenv","sublimetext2"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":606,"score":5,"question_id":11965707,"title":"Using virtualenv with sublime text 2","body":"<p>I am using sublime text 2 for python development along with virtualenv!</p>\n\n<p>The standard sublime text 2 build system uses the standard python install rather than my virtualenv where my packages are installed.</p>\n\n<p>How can I get sublime text 2 to build using my virtualenv? </p>\n\n<p>I currently use the terminal to activate my environment and run my scripts.</p>\n\n<p>UPDATE: Never got it working, but seeing as i am using flask and it builds when you make a change, it's not a big issue</p>\n"},{"tags":["python","django","virtualenv","virtualenv-commands"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13202373,"title":"unable to install and use django 1.0 in virtualenv","body":"<p>Hi I am trying to install django 1.0 , I can install latest version of django in virtualenv using <code>pip install django</code> but I don't need it, I just want to install django 1.0 as I have to do some simple work in that.</p>\n\n<p>I have tried following things but at the end it use django1.4 that is installed on my system without any virtualenv, following is what I tried:</p>\n\n<pre><code>-laptop:/var/www/python_virtualenv$ virtualenv newenv\n New python executable in newenv/bin/python\nInstalling   distribute.............................................................................................................................................................................................done.\n</code></pre>\n\n<p>Installing pip...............done.</p>\n\n<p>Then after cd to newenv, activated and installed the django 1.0 that I downloaded using following commands:</p>\n\n<pre><code>hafiz@hafiz-laptop:/var/www/python_virtualenv/newenv$ source bin/acivate\nbash: bin/acivate: No such file or directory\nhafiz@hafiz-laptop:/var/www/python_virtualenv/newenv$ source bin/activate\n(newenv)hafiz@hafiz-laptop:/var/www/python_virtualenv/newenv$ sudo python /home/hafiz/Downloads/Django-1.0.4/setup.py install\nrunning install\nrunning build\nrunning build_py\nrunning build_scripts\nrunning install_lib\nrunning install_scripts\nchanging mode of /usr/local/bin/django-admin.py to 775\nrunning install_data\nrunning install_egg_info\nRemoving /usr/local/lib/python2.7/dist-packages/Django-1.0.4.egg-info\nWriting /usr/local/lib/python2.7/dist-packages/Django-1.0.4.egg-info\n(newenv)hafiz@hafiz-laptop:/var/www/python_virtualenv/newenv$ \n</code></pre>\n\n<p>Then created project using: </p>\n\n<pre><code>(newenv)hafiz@hafiz-laptop:/var/www/python_virtualenv/newenv$ sudo python /usr/local/bin/django-admin.py startproject proj\n</code></pre>\n\n<p>then cd to proj and then started server using:</p>\n\n<pre><code>(newenv)hafiz@hafiz-laptop:/var/www/python_virtualenv/newenv/proj$ sudo python manage.py runserver 0.0.0.0:8080\n  Validating models...\n\n  0 errors found\n  Django version 1.4, using settings 'proj.settings'\n  Development server is running at http://0.0.0.0:8080/\n  Quit the server with CONTROL-C.\n</code></pre>\n\n<p>but as it can be seen , django started is Django version 1.4 using settings 'proj.settings' so what I am doing wrong. I had to do something simple but having this problem, so if some once can understand the problem then please tell.</p>\n\n<p>thanks</p>\n"},{"tags":["python","reportlab"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13190186,"title":"reportlab & Python : Converting rml Template to the sxw","body":"<p>I am running with python 2.7.X and compatible reportLab engine and want to covnert RML template (which i already have pre-stored) and want to convert it to sxw while some execution is running. This should be done dynamically while some piece of code is executed,</p>\n\n<p>Thank You</p>\n"},{"tags":["python","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":182,"score":-3,"question_id":13205813,"title":"def power(result, base) to calculate power using iteration and recursion.. Helpp","body":"<p>want to write a program, myLog(x, b), that computes the logarithm of a number x relative to a base b. For example, if x = 16 and b = 2, then the result is 4 - because 24=16. If x = 15 and b = 3, then the result is 2 - because 32 is the largest power of 3 less than 15.</p>\n"},{"tags":["python","html","json","bottle"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13205855,"title":"forward json data from HTML page to Bottle Application in python language","body":"<p>Using <code>python</code> <code>bottle</code> <code>html</code> <code>json</code></p>\n\n<p>scenario: having one <code>forgot password.html</code> page as soon as user enters <code>password</code> and <code>retype password</code>, at the client side <code>form validation</code> happens if validation is successful its should redirect to <code>python</code>method which is using <code>bottle</code> and when user clicks on <code>submit</code> button that data which user entered i.e <code>password</code> and the <code>python</code> method name example <code>password_handle()</code> should converted into <code>JSON</code> format that JSON data should forward from client i.e <code>html</code> page to <code>bottle</code> application.\nand the method <code>password_handle()</code> having <code>@route(/password)</code>.\nhelp would be appreciated.</p>\n"},{"tags":["python","html","pyramid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13204907,"title":"Can you serve static HTML pages from Pyramid?","body":"<p>I have a Pyramid app using Mako templates and am wondering if it is possible to serve static HTML pages within the app?</p>\n\n<p>For the project I'm working on, we want to have relatively static pages for the public \"front-facing\" bits, and then the application will dynamically serve the meat of the site. We would like one of our internal users to be able to edit some of the HTML content for these pages to update them.</p>\n\n<p>I have my static folder that I'm serving CSS and scripts from, but that doesn't seem to really fit what I'd like to do.  I could create views for the pages and basically have static content in the mako templates themselves but I think the application would need to be restarted if someone were to update the template for the changes to appear?  Maybe that's not the case?</p>\n\n<p>Long term I would probably do something like store the content in a db and have it dynamically served but that's outside of the scope at this time.</p>\n\n<p>Is there a reasonable way to accomplish this or should I not even bother and set up the public pages as just a regular static HTML site and just link to my app altogether?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13205802,"title":"Python - using a dictionary item as a object","body":"<p>I am trying to make arguments easier to manage in a script I am putting together, I figured I'd wrap a bunch of related items into a dictionary, and pass the dictionary out of the func. pulling out the objects as I need them. </p>\n\n<p>One of these items is a regEx, and I'm struggling to figure out how to structure things properly so I can make it work. </p>\n\n<p>In my initial code (no dictionary). I am 'hard' coding the regex into the parser:</p>\n\n<pre><code>def TopnTail(self,line):\n    topRegEx = re.compile(r'(&lt;!--make_database header end--&gt;)') \n    tailRegEx = re.compile(r'(&lt;!--make_database footer start--&gt;)') \n    searchdumpTopOfPage = topRegEx.search(line)\n    searchdumpBottomOfPage = tailRegEx.search(line)\n    if searchdumpTopOfPage:\n        self.__useLine=1\n    if searchdumpBottomOfPage:\n        self.__useLine=0  \n    if self.__useLine == 1:\n        self.trimmedLines = self.trimmedLines + line + \"\\n\"\n    return (self.trimmedLines)\n</code></pre>\n\n<p>in the 'dictionaried' version I want to set the variables in a setter:</p>\n\n<pre><code>def siteDetails():\n    baseDict = {'topRegex':'''re.compile(r'(&lt;!--make_database header end--&gt;)')''', 'tailRegex':'''re.compile(r'(&lt;!--make_database footer start--&gt;)')'''}\n    return baseDict\n</code></pre>\n\n<p>and get to the compiled regex:</p>\n\n<pre><code>def TopnTail(self,line):\n    topRegEx = baseDict['topRegex'] \n    tailRegEx = baseDict['tailRegex'] \n    searchdumpTopOfPage = topRegEx.search(line)\n    searchdumpBottomOfPage = tailRegEx.search(line)\n    if searchdumpTopOfPage:\n        self.__useLine=1\n    if searchdumpBottomOfPage:\n        self.__useLine=0  \n    if self.__useLine == 1:\n        self.trimmedLines = self.trimmedLines + line + \"\\n\"\n    return (self.trimmedLines) \n</code></pre>\n\n<p>but this throws an error: </p>\n\n<pre><code>line 35, in TopnTail\nsearchdumpTopOfPage = topRegEx.search(line)\nAttributeError: 'str' object has no attribute 'search'\n</code></pre>\n\n<p>Which I am guessing means that its not actually made the regex object, but is still passing the string. </p>\n\n<p>I appreciate that I am probably breaking about 3 cardinal rules here... but any suggestions about how to make it work would be fantastic... (also, first time playing with both classes and dictionaries... so please go easy if I've really messed up!)</p>\n"},{"tags":["python","json"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":73,"score":3,"question_id":12397279,"title":"Custom JSON Encoder in Python With Precomputed Literal JSON","body":"<p>Consider I have a special object which may hold a literal json string, that I intend to use as a field in a larger JSON object, as the literal value itself (not a string containing the JSON).</p>\n\n<p>I want to write a custom encoder that can accomplish this, ie:</p>\n\n<pre><code>&gt; encoder.encode({\n&gt;     'a': LiteralJson('{}')\n&gt; })\n{\"a\": {}}\n</code></pre>\n\n<p>I don't believe subclassing JSONEncoder and overriding default will work, because at best there, I can return the string, which would make the result <code>{\"a\": \"{}\"}</code>.</p>\n\n<p>Overriding encode also appears not to work when the LiteralJson is nested somewhere inside another dictionary.</p>\n\n<p>The background for this, if you are interested, is that I am storing JSON-encoded values in a cache, and it seems to me to be a waste to deserialize then reserialize all the time. It works that way, but some of these values are fairly long and it just seems like a huge waste.</p>\n\n<p>The following encoder would accomplish what I like (but seems unnecessarily slow):</p>\n\n<pre><code>class MagicEncoder(json.JSONEncoder):\n\n    def default(self, obj):\n        if isinstance(obj, LiteralJson):\n            return json.loads(obj.content)\n        else:\n            return json.JSONEncoder.default(self, obj)\n</code></pre>\n"},{"tags":["python","json","python-2.7","python-2.6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13188719,"title":"Custom JSON encoder in Python 2.7 to insert plain JavaScript code","body":"<p>I'm trying to upgrade a portion of Python 2.6 code to Python 2.7. This code uses the <code>json</code> module to produce some JavaScript (not JSON-compliant), which is then inserted into the rest of a script.</p>\n\n<p>The general idea is to be able to insert code or refer to variables that are defined elsewhere: it's not intended to be used as JSON data, but JavaScript code.</p>\n\n<p>Here is the custom encoder that works in Python 2.6:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import json\n\nclass RawJavaScriptText:\n    def __init__(self, jstext):\n        self._jstext = jstext\n    def get_jstext(self):\n        return self._jstext\n\nclass RawJsJSONEncoder(json.JSONEncoder):\n    def _iterencode_default(self, o, markers=None):\n        if isinstance(o, RawJavaScriptText):\n            yield self.default(o)\n        else:\n            json.JSONEncoder._iterencode_default(self, o, markers)\n\n    def default(self, o):\n        if isinstance(o, RawJavaScriptText):\n            return o.get_jstext()\n        else:\n            return json.JSONEncoder.default(self, o)\n\ntestvar = {\n   'a': 1,\n   'b': 'abc',\n   # RawJavaScriptText will be inserted as such, no serialisation.\n   'c': RawJavaScriptText('function() { return \"Hello World\"; }'),\n   'd': RawJavaScriptText('some_variable_name')\n}\n\nprint json.dumps(testvar, cls=RawJsJSONEncoder)\n</code></pre>\n\n<p>Using Python 2.6, we get the required result:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ \"a\": 1, \"c\": function() { return \"Hello World\"; },\n  \"b\": \"abc\", \"d\": some_variable_name }\n</code></pre>\n\n<p>Using Python 2.7, everything is turned into a string, thereby losing the validity of JavaScript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ \"a\": 1, \"c\": \"function() { return \\\"Hello World\\\"; }\",\n  \"b\": \"abc\", \"d\": \"some_variable_name\" }\n</code></pre>\n\n<p>(As a side note, this is only every used with a pre-defined set of raw JavaScript value, so as to prevent potential injections or misuse.)</p>\n\n<p>Of course, the reason for this is that <code>_iterencode_default</code> method of <code>JSONEncoder</code> doesn't exist in the Python 2.7 version of the <code>json</code> module. Admittedly, it wasn't meant to be overridden in the first place.</p>\n\n<p>Is there another way to achieve this goal in Python 2.7? Using the foundations of a JSON library to be able to generate JavaScript code this way is rather convenient.</p>\n\n<p><strong>EDIT:</strong> Here is complete working solution, using replace as suggested by James Henstridge. I'm using random UUIDs for the replacement tokens, which should prevent any conflicts. This way, this is a direct replacement working with both Python 2.6 and 2.7.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import json\nimport uuid\n\nclass RawJavaScriptText:\n    def __init__(self, jstext):\n        self._jstext = jstext\n    def get_jstext(self):\n        return self._jstext\n\nclass RawJsJSONEncoder(json.JSONEncoder):\n    def __init__(self, *args, **kwargs):\n        json.JSONEncoder.__init__(self, *args, **kwargs)\n        self._replacement_map = {}\n\n    def default(self, o):\n        if isinstance(o, RawJavaScriptText):\n            key = uuid.uuid4().hex\n            self._replacement_map[key] = o.get_jstext()\n            return key\n        else:\n            return json.JSONEncoder.default(self, o)\n\n    def encode(self, o):\n        result = json.JSONEncoder.encode(self, o)\n        for k, v in self._replacement_map.iteritems():\n             result = result.replace('\"%s\"' % (k,), v)\n        return result\n\ntestvar = {\n   'a': 1,\n   'b': 'abc',\n   'c': RawJavaScriptText('function() { return \"Hello World\"; }'),\n   'd': [ RawJavaScriptText('some_variable_name') ],\n   'e': {\n       'x': RawJavaScriptText('some_variable_name'),\n       'y': 'y'\n   }\n}\n\nprint json.dumps(testvar, cls=RawJsJSONEncoder)\n</code></pre>\n\n<p>Result (2.6 and 2.7):</p>\n\n<pre><code>{\"a\": 1, \"c\": function() { return \"Hello World\"; },\n \"b\": \"abc\",\n \"e\": {\"y\": \"y\", \"x\": some_variable_name},\n \"d\": [some_variable_name]}\n</code></pre>\n"},{"tags":["python","treeview","scrollbar","ttk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13205727,"title":"Using ttk.Treeview, how can I get horizontal scrolling to work as expected?","body":"<p>Using this Python script, which is my first attempt to learn how ttk.Treeview works (the extra copy of autoscroll is just to split the horizontal and vertical callbacks):</p>\n\n<pre><code>import Tkinter as tk\nimport ttk\n\nclass Test():\ndef __init__(self, parent=None):\n    self.win = tk.Toplevel()\n    self.win.grid_columnconfigure(0, weight=1)\n    self.win.grid_rowconfigure(0, weight=1)     \n\n    self.treeFrame = ttk.LabelFrame(self.win, text='Test Scrolling tk.Treeview')\n    self.treeFrame.grid(row=0, column=0, padx=5, pady=5, sticky='nsew')\n    self.treeFrame.grid_columnconfigure(0, weight=1)\n    self.treeFrame.rowconfigure(0, weight=1)\n\n    def autoscrollv(sbar, first, last):\n        print 'vert first:%s, last:%s' % (first,last)\n        first, last = float(first), float(last)\n        if first &lt;= 0 and last &gt;= 1:\n            sbar.grid_remove()\n        else:\n            sbar.grid()\n        sbar.set(first, last)\n\n    def autoscrollh(sbar, first, last):\n        print 'horz first:%s, last:%s' % (first,last)           \n        first, last = float(first), float(last)\n        if first &lt;= 0 and last &gt;= 1:\n            sbar.grid_remove()\n        else:\n            sbar.grid()\n        sbar.set(first, last)\n\n    vsb = ttk.Scrollbar(self.treeFrame, orient=\"vertical\")\n    hsb = ttk.Scrollbar(self.treeFrame, orient=\"horizontal\")\n\n    self.tree = ttk.Treeview(self.treeFrame, height=10, \n                             yscrollcommand=lambda f, l: autoscrollv(vsb, f, l), \n                             xscrollcommand=lambda f, l: autoscrollh(hsb, f, l))  \n    self.tree.column(\"#0\", minwidth=400, stretch=True)\n\n    vsb['command'] = self.tree.yview\n    hsb['command'] = self.tree.xview\n\n    self.tree.grid(row=0, column=0, sticky='nsew')\n    vsb.grid(column=1, row=0, sticky='ns')\n    hsb.grid(column=0, row=1, sticky='ew')\n\n    self.tree.insert('', 'end', 'xyz', text='abc'*20)\n    for i in range(30):\n        self.tree.insert('xyz', 'end', text='%s' % i + 'xyz'*40)\n\n    self.win.mainloop()\n\nif __name__ == \"__main__\":\n    test = Test()\n</code></pre>\n\n<p>I see the following behavior: When I first run the program, the output looks like this:\n<img src=\"http://i.stack.imgur.com/FZ1cE.jpg\" alt=\"initial state\">.  </p>\n\n<p>If I expand the window until the horizontal scrollbar shuts off, it looks like this:<img src=\"http://i.stack.imgur.com/PYTeS.jpg\" alt=\"last just goes to 1.0\"></p>\n\n<p>If I continue to expand the window, here is all the text shown:\n<img src=\"http://i.stack.imgur.com/LuK9H.jpg\" alt=\"closed item width\"></p>\n\n<p>My first question is, how can I get xscrollcommand to recognize the actual width of the text, rather than using the value for minwidth?</p>\n\n<p>Going back to the state in the second image, if I open the item, it goes to this:<img src=\"http://i.stack.imgur.com/EvHaL.jpg\" alt=\"vscroll on\"></p>\n\n<p>My second question is nearly the same as the first.  How do I get it to recognize the new width of the item after it is opened?</p>\n\n<p>If I change minwidth=400 to width=400, the horizontal scrollbar never appears.</p>\n\n<p>Summary: while the vertical scrollbar works as I would expect and reacts to the actual lines of text being displayed (rather than the ttk.Treeview setting for height), the horizontal scrollbar only seems to care about the value for minwidth.  I thought of using something like below, especially if there is an equivalent for ttk themed widgets.  But, the setting for minwidth doesn't take effect after populating the tree, although I can change the value for width at that  point.  Is there a way to force a change to minwidth?</p>\n\n<pre><code>minwidth=tkFont.Font().measure(text)\nself.tree.column('#0', minwidth=tcw)\n</code></pre>\n\n<p>Sorry for the extra window; that part of Tkinter confuses me no end...  </p>\n"},{"tags":["python","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13205583,"title":"Python site-package module not found","body":"<p>I'm having troubles mainly from my inexperience with python and OSX, and trying to understand how it all works.</p>\n\n<p>End goal is to get this module to run: <a href=\"http://pypi.python.org/pypi/memory_profiler\" rel=\"nofollow\">http://pypi.python.org/pypi/memory_profiler</a>, except it never finds the module.</p>\n\n<p>So for starters I did the easy_install and everything installed fine from what I can tell:</p>\n\n<pre><code>easy_install -U memory_profiler # pip install -U memory_profiler\n</code></pre>\n\n<p>Next I created an example.py file just to get the ball rolling:</p>\n\n<pre><code>@profile\ndef my_func():\n    return 2\n\nif __name__ == '__main__':\n    my_func()\n</code></pre>\n\n<p>and tried to run it, but got this error:</p>\n\n<pre><code>$ python example.py\n\nTraceback (most recent call last):\n  File \"example.py\", line 2, in &lt;module&gt;\n    @profile\nNameError: name 'profile' is not defined\n</code></pre>\n\n<p>This isn't so much a question about the memory_profiler module, but more about what am I doing wrong and have configured incorrectly? I'm using OSX 10.8.2 with Python 2.7.</p>\n\n<p>This is what my \"which python\" states:</p>\n\n<pre><code>/Library/Frameworks/Python.framework/Versions/Current/bin/python\n</code></pre>\n\n<p>Since its a symbolic link, when I go to the original its at:</p>\n\n<pre><code>/Library/Frameworks/Python.framework/Versions/2.7/bin/python\n</code></pre>\n\n<p>Where I'm confused is that easy_install correctly put the memory_profiler.py file in this folder:</p>\n\n<pre><code>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages\n</code></pre>\n\n<p>And I have the understanding that when python runs, it checks for modules in the PYTHONPATH and in the site-packages. (??)</p>\n\n<p>But if the module is in the site-packages folder, why doesn't the example.py work? Also, if modules in the site-packages folder should be a part of the path, I figured I could at least run the memory_profiler.py just to see if it gets ran by python, but got this error instead:</p>\n\n<pre><code>python memory_profiler.py\n/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: \ncan't open file 'memory_profiler.py': [Errno 2] No such file or directory\n</code></pre>\n\n<p>This also confuses me, because its stating that python is in: ../2.7/Resources/Python.app/Contents/MacOS/Python, but I thought it was supposed to be ../2.7/bin/python, and shouldn't it be checking for the memory_profiler.py file in ../2.7/lib/python2.7/site-packages?</p>\n\n<p>Also, why do both of these folders exist, and what's the difference?</p>\n\n<pre><code>/System/Library/Frameworks/Python.framework\n/Library/Frameworks/Python.framework\n</code></pre>\n\n<p>I'm missing a big piece of the puzzle, so any help to point in the right direction would be very appreciated.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I was leaving out:</p>\n\n<pre><code>from memory_profiler import profiler\n</code></pre>\n\n<p>Probably most of my bonehead issue, but now I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"example.py\", line 1, in &lt;module&gt;\nfrom memory_profiler import profiler\nImportError: cannot import name profiler\n</code></pre>\n"},{"tags":["python","django","django-admin","sortable"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13171579,"title":"django-admin-sortable NoReverseMatch error on get_do_sorting_url","body":"<p>I'm trying to use <strong>django-admin-sortable</strong> but once I save an object and try to load it in the Admin interface I get a <strong>NoReverseMatch on line 43 of the adminsortable/edit_inline/tabular.html</strong> template. </p>\n\n<p>I really have no clue what I've done wrong.</p>\n\n<p>I'm using <code>Python 2.7</code> and <code>Django 1.4</code>. I installed django-admin-sortable from pip.</p>\n\n<p>Below is stack trace output.</p>\n\n<blockquote>\n  <p>Environment:</p>\n\n<pre><code>Request Method: GET\nRequest URL: http://127.0.0.1:8000/admin/reports/reportsuser/7/\n\nDjango Version: 1.4.2\nPython Version: 2.7.3\nInstalled Applications:\n('django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.sites',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'django.contrib.admin',\n 'django.contrib.admindocs',\n 'functional_tests',\n 'reports',\n 'adminsortable')\nInstalled Middleware:\n('django.middleware.common.CommonMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware')\n\n\nTemplate error:\nIn template /home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/adminsortable/templates/adminsortable/edit_inline/tabular.html, error at line 43 Reverse for 'reports_do_sorting' with arguments '()' and keyword arguments '{'model_type_id': 44L}' not found.\n   33 :           {% spaceless %}\n\n\n   34 :           {% for fieldset in inline_admin_form %}\n\n\n   35 :             {% for line in fieldset %}\n\n\n   36 :               {% for field in line %}\n\n\n   37 :                 {% if field.is_hidden %} {{ field.field }} {% endif %}\n\n\n   38 :               {% endfor %}\n\n\n   39 :             {% endfor %}\n\n\n   40 :           {% endfor %}\n\n\n   41 :           {% endspaceless %}\n\n\n   42 :           {% if inline_admin_form.original %}\n\n\n   43 :           &lt;input type=\"hidden\" name=\"admin_sorting_url\" value=\" {% get_do_sorting_url inline_admin_form.original %} \" /&gt;\n\n\n   44 :           {% endif %}\n\n\n   45 :         &lt;/td&gt;\n\n\n   46 :         {% for fieldset in inline_admin_form %}\n\n\n   47 :           {% for line in fieldset %}\n\n\n   48 :             {% for field in line %}\n\n\n   49 :               &lt;td class=\"{{ field.field.name }}\"&gt;\n\n\n   50 :               {% if field.is_readonly %}\n\n\n   51 :                   &lt;p&gt;{{ field.contents }}&lt;/p&gt;\n\n\n   52 :               {% else %}\n\n\n   53 :                   {{ field.field.errors.as_ul }}\n\n\nTraceback:\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  136.                     response = response.render()\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/response.py\" in render\n  104.             self._set_content(self.rendered_content)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/response.py\" in rendered_content\n  81.         content = template.render(context)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n  140.             return self._render(context)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in _render\n  134.         return self.nodelist.render(context)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n  823.                 bit = self.render_node(node, context)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n  74.             return node.render(context)\nFile \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\"\n</code></pre>\n  \n  <p>in render\n        123.         return compiled_parent._render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in _render\n        134.         return self.nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\"\n  in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\" in render\n        123.         return compiled_parent._render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in _render\n        134.         return self.nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\" in render\n        62.             result = block.nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\" in render\n        62.             result = block.nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/defaulttags.py\" in render\n        185.                         nodelist.append(node.render(context))\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\" in render\n        166.             return self.render_template(template, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/loader_tags.py\" in render_template\n        137.         output = template.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        140.             return self._render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in _render\n        134.         return self.nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/defaulttags.py\" in render\n        185.                         nodelist.append(node.render(context))\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/defaulttags.py\" in render\n        281.                 return nodelist.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        823.                 bit = self.render_node(node, context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/debug.py\" in render_node\n        74.             return node.render(context)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/template/base.py\" in render\n        1107.                     return func(*resolved_args, **resolved_kwargs)\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/adminsortable/templatetags/adminsortable_tags.py\" in get_do_sorting_url\n        40.     return reverse('admin:%s_do_sorting' % obj._meta.app_label, kwargs={'model_type_id': obj.model_type_id() })\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/core/urlresolvers.py\" in reverse\n        476.     return iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs))\n      File \"/home/josh/.virtualenvs/vvreports/local/lib/python2.7/site-packages/django/core/urlresolvers.py\" in _reverse_with_prefix\n        396.                 \"arguments '%s' not found.\" % (lookup_view_s, args, kwargs))</p>\n\n<pre><code>Exception Type: NoReverseMatch at /admin/reports/reportsuser/7/\nException Value: Reverse for 'reports_do_sorting' with arguments '()' and keyword arguments '{'model_type_id': 44L}' not found.\n</code></pre>\n</blockquote>\n"},{"tags":["python","redis"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13190253,"title":"Redis save time config. It operates hardisk too often","body":"<p>I'm using redis for python to store and process about 4 million keys and their values. Then I found Redis writes to disk too often. It really cost time. So I change \"save 60 10000\" in redis config file to \"save 60 50000\". But it still write to disk every 10000 key changes. I've reboot Redis server.</p>\n\n<p>PS: I want to use dispy and Redis to make my application a distributed program. Is it feasible?  I use \"redis dispy distributed system\" as keyword and get nothing from Google.</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["python","django","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13204996,"title":"How to upload webapp to appengine via python?","body":"<p>I have written my webapp in python but I cannot figure out how to upload it to appengine. I'm sort of new to python and making a webapp. I've downloaded appengine but it's not uploading and I can't see a simple html web page. Thanks for your help! </p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":13205343,"title":"Code to detect all words that start with a capital letter in a string","body":"<p>I'm writing out a small snippet that grabs all letters that start with a capital letter in python . Here's my code </p>\n\n<pre><code>def WordSplitter(n):\n    list1=[]\n    words=n.split()\n    print words\n\n    #print all([word[0].isupper() for word in words])\n    if ([word[0].isupper() for word in words]):\n        list1.append(word)\n    print list1\n\nWordSplitter(\"Hello How Are You\")\n</code></pre>\n\n<p>Now when I run the above code. Im expecting that list will contain all the elements, from the string , since all of the words in it start with a capital letter.\nBut here's my output:</p>\n\n<pre><code>@ubuntu:~/py-scripts$ python wordsplit.py \n['Hello', 'How', 'Are', 'You']\n['You']# Im expecting this list to contain all words that start with a capital letter\n</code></pre>\n"},{"tags":["python","list","append","sublist"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":121,"score":1,"question_id":13204351,"title":"how to convert a list of strings into a list of sublists of the individual characters in the strings?","body":"<p>So I am starting with:</p>\n\n<pre><code>['BLUE', 'ORANGE', 'YELLOW', 'GREEN', 'BLACK', 'PURPLE', 'BROWN']\n</code></pre>\n\n<p>and I want:</p>\n\n<pre><code>[['B', 'L', 'U', 'E'], ['O', 'R', 'A', 'N', 'G', 'E'], ['Y', 'E', 'L', 'L', 'O', 'W'], ['G', 'R', 'E', 'E', 'N'], ['B','L', 'A', 'C', 'K'], ['P', 'U', 'R', 'P', 'L', 'E'], ['B', 'R', 'O', 'W','N']]\n</code></pre>\n\n<p>I tried this because it looked like it would produce what I wanted but it keeps telling me I have an error. AttributeError: 'NoneType' object has no attribute 'append':</p>\n\n<pre><code>first_list = ['BLUE', 'ORANGE', 'YELLOW', 'GREEN', 'BLACK', 'PURPLE', 'BROWN']\nlist_1 = []\n\nfor i in range (len(first_list)):\n    list_1 = list_1.append(list(first_list[i]))\n\nreturn list_1\n</code></pre>\n\n<p>I keep having trouble using the \".append\" and keep using \"+\" in other iterations but that just gives me a long list of all the characters instead of a list of sublists of characters. Thank you for any help or advice.</p>\n"},{"tags":["python","matplotlib"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":183,"score":6,"question_id":8225460,"title":"Getting matplotlib plots to refresh on mouse focus","body":"<p>I am using matplotlib with interactive mode on and am performing a computation, say an optimization with many steps where I plot the intermediate results at each step for debugging purposes. These plots often fill the screen and overlap to a large extent.</p>\n\n<p>My problem is that during the calculation, figures that are partially or fully occluded don't refresh when I click on them. They are just a blank grey. </p>\n\n<p>I would like to force a redraw if necessary when I click on a figure, otherwise it is not useful to display it. Currently, I insert pdb.set_trace()'s in the code so I can stop and click on all the figures to see what is going on</p>\n\n<p>Is there a way to force matplotlib to redraw a figure whenever it gains mouse focus or is resized, even while it is busy doing something else? </p>\n"},{"tags":["python","performance"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":31,"score":2,"question_id":13205026,"title":"Determining Pythagorean Triples using c value","body":"<p>Hello stackoverflow community, I have a quick question to ask of you. Below is my written code to determine if based on the hypotenuse, if a pythagorean triple is possible, and what are the lengths. I was wondering if there a more efficient way of doing so. Thanks! </p>\n\n<pre><code>#Victor C\n#Determines if a right triangle with user inputted hypotenuse is capable of being a Pythagorean Triple\n\nimport math\ntriplecheck = True\nwhile True:\n    hypotenuse = int(input(\"Please enter the hypotentuse:\")) #Smallest hypotenuse which results in a pythagorean triple is 5.\n    if hypotenuse &gt; 4:\n        break\nc = csqr = hypotenuse**2 #sets two variables to be equivalent to c^^2. c is to be modified to shorten factoring, csqr as a reference to set a value\nif c % 2 != 0:   #even, odd check of value c, to create an integer when dividing by half.\n    c = (c+1)//2\nelse:\n    c = c//2\nfor b in range(1,c+1):  #let b^^2 = b || b is equal to each iteration of factors of c^^2, a is set to be remainder of c^^2 minus length b.\n    a = csqr-b\n    if (math.sqrt(a))%1 == 0 and (math.sqrt(b))%1 == 0: #if squareroots of a and b are both equal to 0, they are integers, therefore fulfilling conditions\n       tripleprompt = \"You have a Pythagorean Triple, with the lengths of \"+str(int(math.sqrt(b)))+\", \"+str(int(math.sqrt(a)))+\" and \"+str(hypotenuse)\n       print(tripleprompt)\n       triplecheck = False\nif triplecheck == True:\n    print(\"Sorry, your hypotenuse does not make a Pythagorean Triple.\")\n</code></pre>\n"},{"tags":["python","operating-system","subprocess","execute","os.system"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13169302,"title":"python subprocess file does not exist","body":"<p>I swear I changed nothing, and this was working a week ago.  Yet now every time I call a path with os.system or subprocess.call, I am getting the error \"Error: file NBK.swn does not exist\".  </p>\n\n<p>Here is my code:</p>\n\n<pre><code>import subprocess \nsubprocess.call('\"H:/2012/yada yada yada/swanrun\" NBK')\n</code></pre>\n\n<p>To get this to run normally, I open the command prompt in H:/2012/yada yada yada/ and type \"swanrun NBK\", which works fine.  If I run the same code, but remove the 'NBK' at the end, which is the file swanrun is supposed to run, swanrun successfully runs, but of course doesn't know which file to run.  Please help!</p>\n"},{"tags":["python","list","null"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13205323,"title":"How can I prevent this from returning a long list of None values?","body":"<p>This script determines which websites out of a possible number of websites has the data that I want. <code>z</code> runs all of the potential websites through <code>data_grabber(item)</code>, which returns a list of the indexes of all the valid URLs. It also includes <code>None</code> values for the websites that weren't valid.</p>\n\n<pre><code>import requests\n\na = range(0, 10)\nb = 'http://www.grandexchangecentral.com/include/gecgraphjson.php?jsid=%r'\n\nwebsites = []\nfor i in a:\n    result = b % a[i]\n    websites.append(result)\n\ndef data_grabber(item): \n    url = item\n    r = requests.get(url, headers={'Referer': 'www.grandexchangecentral.com'})\n    data = r.json\n    if data != None:\n        return websites.index(item)\n\nz = [data_grabber(x) for x in websites]\nz1 =  filter(None, z) \n</code></pre>\n\n<p>This returns <code>[None, None, 2, None, None, None, 6, None, 8, None]</code>, which <code>z1</code> shortens to <code>[2, 6, 8]</code>. The only problem with this is that the list of possible websites can get very long, and so it can take a few minutes to generate many <code>None</code> placeholders in <code>z</code>. Would it be possible to make prevent <code>z</code> from generating <code>None</code> items? Thanks in advance for any help.</p>\n\n<p>EDIT: Now I realize that it's actually <code>data_grabber</code> taking most of the time. Still nice to know this though.</p>\n"},{"tags":["python","class"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13205282,"title":"How to input actual data into classes","body":"<p>Okay, so I have a module I created and have imported it into my main program. I guess I'm still trying to understand classes and I'm not sure how to actually enter my data into my class. This is in Python 3. Here is the module:</p>\n\n<pre><code>class Movie:\n    def __init__(self, Title = '', Ratings = []):\n        self.Movie = Title\n        self.Ratings = Ratings\n        self.TotalRatings = 0\n        self.minusFive = 0\n        self.minusThree = 0 \n        self.one = 0\n        self.three = 0\n        self.five = 0\n        self.ValidRatings = [-5,-3,1,3,5]\n\n    def __str__(self):\n        return '{0} has {1} total ratings with an average rating of {3}.'.format(self.title, self.totalRatings, self.AvgRating)\n    def __repr__(self):\n        return self.__str__()\n    def AddRating(self, rating):\n        for num in self.Ratings:\n            if num in self.ValidRatings:\n                self.totalRatings += 1 \n            else:\n                continue\n    def AvgRating(self):\n        return sum (self.totalRatings)/len(self.totalRatings)\n</code></pre>\n\n<p>Below is the beginning of my main program:</p>\n\n<pre><code>import Movie\n\ndef ReadFile(FileName):\n    F = open(FileName)\n    return F.readlines()\n\nFile = ReadFile('Ratings.txt') \nFile2 = open('Prog5Titles.txt').read()       #open movie titles file\n\nmovie1 = Movie(\"The Avengers\", [5,5,5])     #this is just a sample to help me understand\n</code></pre>\n\n<p>When I run this, I am getting the error message: 'module' object is not callable. Can anyone help me understand how to correctly input my data into this?</p>\n"},{"tags":["python","pygame"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13205073,"title":"Pygame Program Execution Error","body":"<p>I'm making a pygame program to animate a sprite, but the problem isn't a particular error:</p>\n\n<pre><code>import sys\nimport os\nimport pygame\nfrom pygame.locals import *\n\npygame.init ()\n\nWHITE = ( 255, 255, 255 )\nBLACK = (   0,   0,   0 )\n\nSurface = pygame.display.set_mode ((400, 400), 0, 32)\npygame.display.set_caption ('Animation Test')\n\n\n\n\nclass Processes (object):\n    @staticmethod\n    def load_image (imagefile):\n        image = pygame.image.load (imagefile)   #Remember to call imagefile as a string statement\n\n        return image, image.get_rect ()\n\n\n\nclass Sprite (pygame.sprite.Sprite):\n\n    def __init__ (self):\n        pygame.sprite.Sprite.__init__ (self)\n\n        self.image, self.rect = Processes.load_image ('frame1.jpg')\n\n        self.blindrect = pygame.Rect ((self.rect.top - 289, self.rect.left - 289), (self.rect.width, self.rect.height))\n\n\n\n\n   def animation (self, key_event = None, mouse_event = None):\n\n       blindpass = 0\n\n       if key_event == K_LEFT:\n       self.rect.centerx = self.rect.centerx - 10\n\n       if key_event == K_RIGHT:\n        self.rect.centerx = self.rect.centerx + 10\n\n       if key_event == K_UP:\n       self.rect.centery = self.rect.centery - 10\n\n       if key_event == K_DOWN:\n       self.rect.centery = self.rect.centery + 10\n\n\n       if mouse_event == MOUSEBUTTONDOWN:\n        self.rect.centerx, self.rect.centery = pygame.mouse.get_pos ()\n\n\n    if blindpass &gt; 0:\n\n        if key_event == K_LEFT:\n            self.blindrect.centerx = self.blindrect.centerx - 10\n\n        if key_event == K_RIGHT:\n            self.blindrect.centerx = self.blindrect.centerx + 10\n\n        if key_event == K_UP:\n            self.blindrect.centery = self.blindrect.centery - 10\n\n        if key_event == K_DOWN:\n            self.blindrect.centery = self.blindrect.centery + 10\n\n\n        if mouse_event == MOUSEBUTTONDOWN:\n            self.rect.centerx, self.rect.centery = pygame.mouse.get_pos () \n\n\n\n\nmecha = Sprite ()\nallsprites = pygame.sprite.RenderPlain ((mecha, ))\n\n\n\nwhile True:\nSurface.fill (WHITE)\n\nfor event in pygame.event.get ():\n    if event.type == KEYDOWN:\n    mecha.animation (key_event = event.key)\n\n    if event.type == MOUSEBUTTONDOWN:\n    mecha.animation (mouse_event = event.type)\n\n    if event.type == QUIT:\n    pygame.quit ()\n    sys.exit (0)\n\n\n\nallsprites.draw (Surface)\npygame.display.update ((mecha.rect, mecha.blindrect))\n</code></pre>\n\n<p>Now, the error is a bit weird. The output is that the sprite does appear on the screen, and it moves when I provide key and mouse input, but the problem is is that it's leaving trails. Which is why I created a rectangle to trail the sprite rectangle which is supposed to be filled with white every time the game loop loops. But it doesn't. At least, not until I minimize the window, and pull it up again, all the trails disappear and the background becomes white instead of black. But when I move the image, the trails start forming again. I minimize, they disappear as supposed to.</p>\n"},{"tags":["python","googlecl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13205307,"title":"Using googlecl inside Python script to d/l Google doc","body":"<p>subprocess.check_output(('/Applications/googlecl-0.9.13/build/scripts-2.7/google', 'docs', 'get', r'\"Reassessment Request\"', r'--format', 'csv', r'/Users/myaccount/Desktop'), shell=True)</p>\n\n<p>This code doesn't pull down the doc, but running the identical line will work inside Terminal. It might not be having time to complete? It takes a while when I run it from the command line.</p>\n\n<p>There's a Python error:\n\"Traceback (most recent call last):\n  File \"/Users/myaccount/Desktop/reassess2.py\", line 17, in \n    subprocess.call('google docs get \"Reassessment Request\" --format csv /Users/myaccount/Desktop')\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 493, in call\n    return Popen(*popenargs, **kwargs).wait()\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 679, in <strong>init</strong>\n    errread, errwrite)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 1249, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\"</p>\n\n<p>I get a similar problem when I try to run it in an OSX script:\nWhen I run the shell script (running the command line above), I get: \n?/Users/myaccount/Desktop/ReScript.sh ; exit;\n.csvloading Reassessment Request to /users/myaccount/Desktop\nlogout</p>\n\n<p>[Process completed]\", \nbut no file is actually downloaded.</p>\n\n<p>OSX Mountain Lion; 0.9.13 cl; 2.0.17 gdata (I think - not the most recent, but the one that works with cl)</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["c++","python","linux","perforce","vms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12218088,"title":"How to do code-review/debug/coding/test/version-control for C++ on perforce and VMS","body":"<p>I am working on C++ programming with perforce (a version control tool) on VMS.</p>\n\n<p>I need to handle tens or even hundreds of C++ files (managed by perforce) on VMS. </p>\n\n<p>I am familiar with Linux, python but not DCL (a script language) on VMS. </p>\n\n<p>I need to find a way to make programming/debug/code-review as easy as possible. </p>\n\n<p>I prefer using python and kscope (a kde based file search/code-review GUI tool that can generate call graph) or similar tools on VMS. </p>\n\n<p>I do not have sys-adm authorization, so I prefer some code-review GUI tools that can be installed without the  authorization. </p>\n\n<p>Would you please give me some suggestions about how to do code-review/debug/programing/compile/test by python on VMS meanwhile using kscope or similar large-scale files management tools for code-review ? </p>\n\n<p>Any help will really be appreciated. </p>\n\n<p>Thanks</p>\n"},{"tags":["python","django"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13205222,"title":"Drag drop ajax upload to database","body":"<p>I want to know how to create a small FTP site,\nupload a file via drag and drop and upload via ajax to a database and be password protected\nusing python, i Tried <a href=\"http://kuhlit.blogspot.com/2011/04/ajax-file-uploads-and-csrf-in-django-13.html\" rel=\"nofollow\">this one</a> but i want to know how to make each file that gets uploaded file protected with a unique url so that i can give the link and passwerd to someone else?</p>\n"},{"tags":["python","postgresql","connection","pool","gevent"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13199949,"title":"Gevent with Database connection pool for Stream Server","body":"<p>I am using Python Gevent's stream servers for communicating with another machine (remote) which sends concurrent TCP/IP requests (on an avg 60 req/sec). Nature of this communication is mostly IO bound (short text and then audio streams). I intend to use Postgresql to store the result of each communication (eg: filename received from the remote server).</p>\n\n<p>I think its bad idea to invoke a new db connection for every greenlet spawned in Streamserver (pool size 90 so 90 req/sec max, that is the max I expect and avg 60 req/sec). Is it possible to have db connection pool which can be queued and every greenlet when starts running the handler function get a db connection from pool? Is there any tutorial that has worked for production systems? How would you suggest? I am using gevent 0.13.8 and postgres 9.1 with Python 2.7.3 on Ubuntu 10.04 64bit.</p>\n"},{"tags":["python","django","django-models","django-registration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13202845,"title":"Removing help_text from Django UserCreateForm","body":"<p>Probably a poor question, but I'm using Django's UserCreationForm (slightly modified to include email), and I would like to remove the help_text that Django automatically displays on the HTML page. </p>\n\n<p>On the Register portion of my HTML page, it has the Username, Email, Password1 &amp; Password 2 fields. But underneath Username is \"Required. 30 characters or fewer. Letters, digits, and @... only.\" And under Password Confirmation (Password 2), it says \"Enter the same password as above for verification.\" </p>\n\n<p>How do I remove these?</p>\n\n<pre><code>#models.py\nclass UserCreateForm(UserCreationForm):\n    email = forms.EmailField(required=True)\n\n    def save(self, commit=True):\n        user = super(UserCreateForm, self).save(commit=False)\n        user.email = self.cleaned_data['email']\n        if commit:\n            user.save()\n        return user\n\n    class Meta:\n        model = User\n        fields = (\"username\", \"email\", \"password1\", \"password2\")\n        exclude = ('username.help_text')\n\n#views.py\ndef index(request):\n    r = Movie.objects.all().order_by('-pub_date')\n    form = UserCreateForm()\n    return render_to_response('qanda/index.html', {'latest_movie_list': r, 'form':form},     context_instance = RequestContext(request))\n\n#index.html\n&lt;form action = \"/home/register/\" method = \"post\" id = \"register\"&gt;{% csrf_token %}\n    &lt;h6&gt; Create an account &lt;/h6&gt;\n    {{ form.as_p }}\n    &lt;input type = \"submit\" value = \"Create!\"&gt;\n    &lt;input type = \"hidden\" name = \"next\" value = \"{{ next|escape }}\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["python","objective-c","osx","mouseevent","osx-snow-leopard"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":13205133,"title":"Detect when computer becomes active?","body":"<p>I am having trouble finding an answer of how I could do this.</p>\n\n<p>Basically what I want is to have a program start automatically when it detects that I am using the computer. So for example say I stop using the computer for a few hours and then come back, it would detect this and then open another program or something.</p>\n\n<p>I am looking for a solution in Ruby/python/objective c/Applescript preferably. But anything would work.</p>\n\n<p>I'd like it to work on Snow Leopard.</p>\n\n<p>Any suggestions would be great!</p>\n"},{"tags":["python","getattr"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13194180,"title":"Dynamic method generation in python","body":"<p>I currently have this code:</p>\n\n<pre><code>class Generator(object):\n    def __getattr__(self, name):    \n        def f(self):\n            return (\"Result of\"+name, self)\n        f.__name__ = name\n        return f\n\n    def foo(self):\n        pass\n\ng = Generator()\nprint g.foo\nprint Generator.foo\nprint g.bar\nprint Generator.bar\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;bound method Generator.foo of &lt;__main__.Generator object at 0x00B62D30&gt;&gt;\n&lt;unbound method Generator.foo&gt;\n&lt;function bar at 0x00A9DE70&gt;\nAttributeError: type object 'Generator' has no attribute 'bar'\n</code></pre>\n\n<p>What do I have to do to make it give:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;bound method Generator.foo of &lt;__main__.Generator object at 0x00B62D30&gt;&gt;\n&lt;unbound method Generator.foo&gt;\n&lt;bound method Generator.bar of &lt;__main__.Generator object at 0x00B62D30&gt;&gt;\n&lt;unbound method Generator.bar&gt;\n</code></pre>\n"},{"tags":["python","graph-theory","graphviz","pygraphviz"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13204836,"title":"Graphviz: how to insert two new linked nodes and minimize edge crossings?","body":"<p>I have the following graph <img src=\"http://i.imgur.com/Pw03N.gif?1\" alt=\"graph\">: </p>\n\n<p>As you can see, there are two natural clusters. I would like to figure out a way to separate these clusters into two graphs.  </p>\n\n<p>The key step, of course, is to compute the right split.  I would like to insert two nodes n1 &amp; n2, link them e(n1, n2), and move them around, minimizing the number of edge crossings (of course fixing all nodes/edges exactly where they are). </p>\n\n<p>Can anyone offer any help here?  I don't think graphviz has anything that enables me to do it.</p>\n"},{"tags":["python","installation","debian"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13204302,"title":"Python locally without package-manager-installer in Debian?","body":"<p>My package-manager has been broken now over one month and I have been unable to fix it, more <a href=\"http://stackoverflow.com/questions/13204173/broken-debian-package-manager-how-to-deal-with-it\">here</a>. I am now looking for a way to circumvent this problem without the package-manager/installer. How can I use python without pkg -manager in Debian?</p>\n\n<p><strong>Example error:</strong> <code>\"python -m http.server 8000 /usr/bin/python: No module named http\"</code></p>\n"},{"tags":["python","heroku","virtualenv","pip"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":12866612,"title":"How can I upgrade distribute package on Heroku?","body":"<p>I need to get distribute version 0.6.28 running on Heroku. I updated my requirements.txt, but that seems to have no effect.</p>\n\n<p>I'm trying to install from a module from a tarball that required this later version of the distribute package.</p>\n\n<p>During deploy I only get this:</p>\n\n<pre><code>     Running setup.py egg_info for package from http://downloads.sourceforge.net/project/mysql-python/mysql-python-test/1.2.4b4/MySQL-python-1.2.4b4.tar.gz\n       The required version of distribute (&gt;=0.6.28) is not available,\n       and can't be installed while this script is running. Please\n       install a more recent version first, using\n       'easy_install -U distribute'.\n\n       (Currently using distribute 0.6.27 (/tmp/build_ibj6h3in4vgp/.heroku/venv/lib/python2.7/site-packages/distribute-0.6.27-py2.7.egg))\n       Complete output from command python setup.py egg_info:\n       The required version of distribute (&gt;=0.6.28) is not available,\n</code></pre>\n"},{"tags":["python","django","django-models"],"answer_count":6,"favorite_count":2,"up_vote_count":5,"down_vote_count":1,"view_count":316,"score":4,"question_id":9791947,"title":"How do I refresh the values on an object in Django?","body":"<p>I have a model object in Django.  One of the methods on the object uses row-level locking to ensure values are accurate, like so:</p>\n\n<pre><code>class Foo(model.Model):\n    counter = models.IntegerField()\n\n    @transaction.commit_on_success\n    def increment(self):\n        x = Foo.objects.raw(\"SELECT * from fooapp_foo WHERE id = %s FOR UPDATE\", [self.id])[0]\n        x.counter += 1\n        x.save()\n</code></pre>\n\n<p>The problem is if you call <code>increment</code> on a foo object, the object's values no longer reflect the values in the database.  I need a way to refresh the values in the object, or at least mark them as stale so they're refetched if necessary.  Apparently, this is functionality the developers of Django <a href=\"https://code.djangoproject.com/ticket/901\">refuse to add</a>.</p>\n\n<p>I tried using the following code:</p>\n\n<pre><code>for field in self.__class__._meta.get_all_field_names():\n    setattr(self, field, getattr(offer, field)) \n</code></pre>\n\n<p>Unfortunately, I have a second model with the following definition:</p>\n\n<pre><code>class Bar(model.Model):\n    foo = models.ForeignKey(Foo)\n</code></pre>\n\n<p>This causes an error, because it shows up in the field listing but you cannot <code>getattr</code> or <code>setattr</code> it.</p>\n\n<p>I have two questions:</p>\n\n<ul>\n<li><p><strong>How can I refresh the values on my object?</strong></p></li>\n<li><p><strong>Do I need to worry about refreshing any objects with references to my object, like foreign keys?</strong></p></li>\n</ul>\n"},{"tags":["python","django","pinax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":11074461,"title":"'markup_tags' is not a valid tag library","body":"<p>Everytime I add a particular object to my database (this only affects one particular app on my site), I get the TemplateSyntaxError 'markup_tags' is not a valid tag library.</p>\n\n<p>Specifically, it cannot load this: {% load markup_tags %}. But this is strange because when I open a Django shell and <code>import markup</code> all is fine.</p>\n\n<p>This question has been asked before on StackOverflow here: <a href=\"http://stackoverflow.com/questions/6399649/django-markup-templatetags-error/6400140#comment14486841_6400140\">Django markup templatetags error</a></p>\n\n<p>However, I don't understand <em>why</em> this is happening and I don't really understand how to fix it. They said render_to_response the template. But I'm not sure exactly how I would do this from the shell (Django noob here).</p>\n\n<p><img src=\"http://i.stack.imgur.com/pWZj1.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13204322,"title":"qtoolbutton menu: making icons larger/wider","body":"<p>When using a QToolButton with a menu, it seems I can only get a 16x16 icon to the left of some text.  Is it possible to redefine this to have a larger/wider icon area.</p>\n\n<p>I <em>think</em> I need to use a proxy style but having trouble knowing where to start. Can somebody point me in the direction of a useful example please?</p>\n"},{"tags":["python","map","tree","slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13203860,"title":"How to create a Tree-based Map with keys","body":"<p>For my intro to computer science class we have a tree based map problem. I'm getting really confused on how to make the tree in the fashion they are asking it.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>class EmptyMap():\n    __slots__ = ()\n\nclass NonEmptyMap():\n    __slots__ = ('left','key','value','right')\n\ndef mkEmptyMap():\n    m = EmptyMap()\n    return m\n\ndef mkNonEmptyMap(map1, key, value, map2):\n    m = NonEmptyMap()\n    m.left = map1\n    m.key = key\n    m.value = value\n    m.right = map2\n    return m\n\ndef mapInsert(key, value, map1):\n   if isinstance(map1, EmptyMap):\n\n   else:\n</code></pre>\n\n<p>I'm getting stuck on the mapInsert function which is supposed to be recursive. Our tutoring lab doesnt have any tutors in it now so any help is appreciated. </p>\n\n<p>Link to homework file <a href=\"http://www.cs.rit.edu/~vcss241/Homeworks/08/TreeMap-stu.pdf\" rel=\"nofollow\">http://www.cs.rit.edu/~vcss241/Homeworks/08/TreeMap-stu.pdf</a></p>\n\n<p>Thanks!</p>\n"},{"tags":["python","url"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13203982,"title":"Getting ad urls in python","body":"<p>Is there a way I can retrieve the ads url from a webpage using python?\nFor example (http://www.quiltingboard.com/resources/) I want to retrieve the url of the ads on the top as well as the right side. Is that possible?</p>\n"},{"tags":["python","ruby","war"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":93,"score":-7,"question_id":13204338,"title":"What are the pros and cons of Python and Ruby for writing web applications?","body":"<p>I've written applications in PHP, but I really want to gain experience in other areas of web programming. I'm considering Ruby and Python. </p>\n\n<p>I've looked at some tutorials on Python, and I liked the language, but I've had Ruby recommended to me by friends. However, they haven't been able to provide any concrete arguments as to why Ruby would be better suited to web programming.</p>\n\n<p>What are some of the strengths and weaknesses of the two languages when it comes to writing web applications?</p>\n"},{"tags":["python","ssh","subprocess","env"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13203984,"title":"Error setting env thru subprocess.call to run a python script on a remote linux machine","body":"<p>I am running a python script on a windows machine to invoke another python script on a remote linux machine. I am using subprocess.call with ssh to do this, like below:\n    <code>subprocess.call('ssh -i &lt;identify file&gt; username@hostname python &lt;script_on_linux_machine&gt;')</code> and this works fine.</p>\n\n<p>However, if I want to set some environment variables, like below:\n    <code>subprocess.call('ssh -i &lt;identify file&gt; username@hostname python &lt;script_on_linux_machine&gt;', env={key1:value1})</code> it fails. \nI get the following error:\n    <code>ssh_connect: getnameinfo failed\n    ssh: connect to host &lt;hostname&gt; port 22: Operation not permitted\n    255</code></p>\n\n<p>I've tried splitting the ssh commands into list and passing. Didn't help. \nI've tried to run other 'local'(windows) commands thru <code>subprocess.call()</code> and tried setting the env. It works fine. \nI've tried to run other commands(such as <code>ls</code>) on the remote linux machine. Again, <code>subprocess.call()</code> works fine, as long as I don't try to set the environment.</p>\n\n<p>What am I doing wrong? Would I be able to set the environment for a python script on a remote machine? Any help will be appreciated.</p>\n"},{"tags":["python","windows"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13196657,"title":"Echoing the windows path in python","body":"<p>Essentially what I am trying to do is</p>\n\n<pre><code>from subprocess import call\nprint call(['echo', '%path%'])\n</code></pre>\n\n<p>however 'echo' is not recognized as an executable is there some kind of workaround?</p>\n"},{"tags":["python","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13204229,"title":"Json Parsing Error \"NoneType object is not callable\"?","body":"<p>This is my code:</p>\n\n<pre><code>                body = '%s' % message.get_body()\n                logging.error(body)\n                parsed_body = json.loads(body)\n</code></pre>\n\n<p>Body contains:</p>\n\n<p><code>[{u'content': u'Test\\r\\n', u'body_section': 1, u'charset': u'utf-8', u'type': u'text/plain'}, {u'content': u'Test\\r\\n', u'body_section': 2, u'charset': u'utf-8', u'type': u'text/html'}]</code></p>\n\n<p>I get the error </p>\n\n<pre><code>line 67, in get\n    parsed_body = json.loads(body)\n  File \"C:\\Python27\\lib\\json\\__init__.py\", line 326, in loads\n    return _default_decoder.decode(s)\n  File \"C:\\Python27\\lib\\json\\decoder.py\", line 366, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"C:\\Python27\\lib\\json\\decoder.py\", line 382, in raw_decode\n    obj, end = self.scan_once(s, idx)\n  File \"C:\\Python27\\lib\\json\\decoder.py\", line 38, in errmsg\n    lineno, colno = linecol(doc, pos)\nTypeError: 'NoneType' object is not callable\n</code></pre>\n\n<p>Anybody know what's wrong?</p>\n"},{"tags":["python","string","list","concatenation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13203974,"title":"Good way to concatenate str to list?","body":"<p>Is there a way to efficiently concatenate str and list?</p>\n\n<pre><code>inside = [] #a list of Items\n\nclass Backpack:\n    def add(toadd):\n        inside += toadd\n\nprint \"Your backpack contains: \" #now what do I do here?\n</code></pre>\n"},{"tags":["python"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13204161,"title":"How to access the calling source line from interactive shell","body":"<p>I want to make a function that can determine the source code of how it was called.  I'm aware of how to do this generally with the inspect module.  For example, <a href=\"http://stackoverflow.com/questions/3711184/how-to-use-inspect-to-get-the-callers-info-from-callee\">this question</a>, works well and provides my desired output in the <code>lines</code> variable as shown below:</p>\n\n<pre><code>def hello(x):\n   frame,filename,line_number,function_name,lines,index=\\\n       inspect.getouterframes(inspect.currentframe())[1]\n   print(frame,filename,line_number,function_name,lines,index)\n</code></pre>\n\n<p>The problem is that this solution doesn't work in an interactive command line session.  For example, from a command line, the result looks like:</p>\n\n<pre><code>&gt;&gt;&gt; y = hello(7)\n(&lt;frame object at 0x01ECA9E8&gt;, '&lt;stdin&gt;', 1, '&lt;module&gt;', None, None)\n</code></pre>\n\n<p>The problem is that the source file is <code>'&lt;stdin&gt;'</code>, so the <code>lines</code> variable is <code>None</code>.  How can I access the calling line to find the result containing the string <code>y = hello(7)</code> during an interactive session?</p>\n"},{"tags":["python","web","screen-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13203991,"title":"Web scraping returns tags","body":"<p>I'm a complete noob to HTML. I had to look up \"tags\" and \"class\" before I wrote this. I'm aware that <code>urllib2</code> is the default for this sort of thing now, but I couldn't get my header to work with it properly (otherwise you get a 403 access denied error), so I used <code>requests</code> instead.</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = 'http://www.grandexchangecentral.com/item.php?rid=4365'\nr = requests.get(url, headers={'Referer': 'www.grandexchangecentral.com'})\nsoup = BeautifulSoup(r.text)\nsoup.find_all(\"div\", {\"class\":\"CurrentMarket\"})\n</code></pre>\n\n<p>This returns <code>[&lt;div class=\"CurrentMarket\"&gt;219&lt;/div&gt;]</code>, when I would like it to be just <code>219</code>. Could someone please help me get the proper output? Thanks.</p>\n"},{"tags":["python","crontab","boto"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13203745,"title":"Silent failure of s3multiput (boto) upload to s3 from EC2 instance","body":"<p>I'm trying to automate a process that collects data on one (or more) AWS instance(s), uploads the data to S3 hourly, to be retrieved by a decoupled process for parsing and further action. As a first step, I whipped up some crontab-initiated shell script (running in Ubuntu 12.04 LTS) that calls the boto utility s3multiput.</p>\n\n<p>For the most part, this works fine, but very occasionally (maybe once a week) the file fails to appear in the s3 bucket, and I can't see any error or exception thrown to track down why. </p>\n\n<p>I'm using the s3multiput utility included with boto 2.6.0. Python 2.7.3 is the default python on the instance.  I have an IAM Role assigned to the instance to provide AWS credentials to boto.</p>\n\n<p>I have a crontab calling a script that calls a wrapper that calls s3multiput. I included the <code>-d 1</code> flag on the s3multiput call, and redirected all output on the crontab job with <code>2&gt;&amp;1</code> but the report for the hour that's missing data looks just like the report for the hour before and the hour after, each of which succeeded.</p>\n\n<p>So, 99% of the time this works, but when it fails I don't know why and I'm having trouble figuring where to look.  I only find out about the failure later when the parser job tries to pull the data from the bucket and it's not there.  The data is safe and sound in the directory it should have uploaded from, so I can do it manually, but would rather not have to.</p>\n\n<p>I'm happy to post the ~30-40 lines of related code if helpful, but wondered if anybody else had run into this and it sounded familiar.</p>\n\n<p>Some grand day I'll come back to this part of the pipeline and rewrite it in python to obviate s3multiput, but we just don't have dev time for that yet.</p>\n\n<p>How can I investigate what's going wrong here with the s3multiput upload?</p>\n"},{"tags":["python","python-3.x"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13203868,"title":"How to write to CSV and not overwrite past text","body":"<p>The code below is what I have so far. When it writes to the .csv it overwrites what I had previously written in the file.How can I write to the file in such a way that it doesn't erase my previous text.(The objective of my code is to have a person enter their name and have the program remember them)</p>\n\n<pre><code>def main(src):\n    try:\n        input_file = open(src, \"r\")\n    except IOError as error:\n        print(\"Error: Cannot open '\" + src + \"' for processing.\")\n    print(\"Welcome to Learner!\")\n    print(\"What is your name? \")\n    name = input()\n    for line in input_file:\n        w = line.split(\",\")\n        for x in w:    \n            if x.lower() == name.lower():\n                print(\"I remember you \"+ name.upper())\n            else:\n                print(\"NO\")\n                a = open(\"learner.csv\", \"w\")\n                a.write(name)\n                a.close()\n                break\nif __name__ == \"__main__\":\n    main(\"learner.csv\")\n</code></pre>\n"},{"tags":["python","jinja2","wtforms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13180601,"title":"How to manage multiple HTML elements with same name using WTForms, Jinja & Python","body":"<p>I had defined an HTML template with Jinja, where I had defined three (3) textfields with same name. Then in the backend using the get_all method I collected all the values.</p>\n\n<p>Then in order to add form validation, etc, I added WTForms library. Then I defined a Form as:</p>\n\n<pre><code>class RoleForm(BaseForm):\n    name = fields.TextField(_('Name'))\n</code></pre>\n\n<p>And in the HTML page I rendered this element three (3) times. </p>\n\n<p>Now, when I submit the form and the validation fails, I re-render the template using the form as input. But instead each element has the value I had entered, all textfields have the value of the 1st textfield.</p>\n\n<p>Moreover if validation is ok, I use form.name.data, which does not give me all the data from the three textfields, but only the first one.</p>\n\n<p>Do you know how I can handle such situation?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["jquery","python","html","django","url"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13203771,"title":"How to render previous page after jQuery post in Django","body":"<p>I'm building a site that connects topics to questions to answers. Each question is associated with a topic, each answer a question, and so on. On the home page, I click on a topic, and it takes me to a dynamic URL based on the topic_id.</p>\n\n<pre><code>url(r'^(?P&lt;topic_id&gt;\\d+)/$', 'questions'),\n</code></pre>\n\n<p>When I add a question, the jQuery lightbox renders this URL in a pop up</p>\n\n<pre><code>url(r'^(?P&lt;topic_id&gt;\\d+)/add_question/$', 'add_question'),\n</code></pre>\n\n<p>Once I submit the question, it goes through add_question.html</p>\n\n<pre><code>#add_question.html    \n&lt;div class=\"questionPopupForm\"&gt;\n    &lt;h5&gt;&lt;div class=\"questionPopupTitle\"&gt; Add Question&lt;/div&gt;&lt;/h5&gt;\n    &lt;form action = \"/home/{{ form.topic.id }}/add_question/\" method = \"post\"&gt;{% csrf_token %}\n        &lt;p&gt;{{ form.as_p }}&lt;/p&gt;\n        &lt;p&gt;&lt;div class=\"addQuestionButton\"&gt;&lt;input type = \"submit\" value = \"Ask Question\"     class=\"btn btn-success\" /&gt;&lt;/div&gt;&lt;/p&gt;\n        &lt;input type = \"hidden\" name = \"next\" value = \"{{ next|escape }}\" /&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Once I Submit, the Action then takes me to /home/{{ form.topic.id }}/add_question, which is the URL above, linking to the add_question view.</p>\n\n<pre><code>#views.py\ndef add_question(request, topic_id):\n    if request.method == \"POST\":\n        form = QuestionForm(request.POST, request.FILES)\n        if form.is_valid():\n            question = form.save(user = request.user)\n            question.topic = Topic.objects.get(pk = topic_id)\n            question.save()\n            return HttpResponseRedirect(\"/home/\")\n    else:\n        form = QuestionForm()\n        form.q_author = request.user\n        form.movie = Topic.objects.get(pk = topic_id)\n    return render_to_response(\"qanda/add_question.html\", {'form': form}, context_instance = RequestContext(request))\n</code></pre>\n\n<p>Now right now, it takes me home with the return HttpResponeRedirect('/home/'). What I would like to do is redirect the user back to the same page, but there is a variable in the URL (/{{ topic.id }}/), but HttpResponseRedirect doesn't let me put a variable into it. How do I get back to the same page?</p>\n"},{"tags":["python","list","big-o"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13203601,"title":"Big-O of list slicing","body":"<p>Say I have some Python list, <code>my_list</code> which contains N elements. Single elements may be indexed by using <code>my_list[i_1]</code>, where <code>i_1</code> is the index of the desired element. However, Python lists may also be indexed <code>my_list[i_1:i_2]</code> where a \"slice\" of the list from <code>i_1</code> to <code>i_2</code> is desired. What is the Big-O (worst-case) notation to slice a list of size N?</p>\n\n<p>Personally, if I were coding the \"slicer\" I would iterate from <code>i_1</code> to <code>i_2</code>, generate a new list and return it, implying O(N), is this how Python does it?</p>\n\n<p>Thank you,</p>\n"},{"tags":["python","sql","mongodb","pymongo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13203294,"title":"MongoDB and PyMongo - SQL like columns","body":"<p>I have a MySQL database with a table called <strong><em>sources</em></strong>, there I have two columns called <strong><em>srctype</em></strong> and <strong><em>url</em></strong> where srctype is a name (e.g: Hello) and url is an url (e.g: <a href=\"http://google.com\" rel=\"nofollow\">http://google.com</a>)</p>\n\n<p>In Python using SQLAlchemy, I could filter the srctype and get a list of the urls, for example; </p>\n\n<pre><code>src = \"hello\"    \nlinks = session.query(sources).filter_by(srctype=src).all()\n</code></pre>\n\n<p>Easy, now I am migrating this data to a MongoDB, for this I am using <strong><em>pymongo</em></strong>.</p>\n\n<p>I have a function where it saves the srctype and url to mongodb's database</p>\n\n<pre><code>    def insertSources(self, srctype, link):\n        \"\"\" Insert rss sources so we can parse them \"\"\"\n        new = {srctype: link}\n        self.__sources.insert(new)\n</code></pre>\n\n<p>and a function that retrieves the srctype</p>\n\n<pre><code> def getSources(self, type=None, single=True): # type == srctype\n    if type:\n        if single:\n            return self.__sources.find_one()\n        else:\n            return iter(self.__sources.find({srctype:type}))\n    else:\n        if single:\n            return self.__sources.find_one()\n        else:\n            return iter(self.__sources.find())\n</code></pre>\n\n<p>The problem here is, since there is no column called srctype and no column called url, how can I do the same as the SQLAlchemy/MySQL example?</p>\n\n<p>In MySQL would be;</p>\n\n<pre><code>SELECT * FROM sources WHERE srctype=\"hello\"\n</code></pre>\n\n<p>I wonder how will that be in the retrieve function I have (also in the insert function, since I am not sure if what I did there is correct for the job I want). In the <em>insertSources</em> function I simple add a <em>dict</em> to MongoDB, clearly I won't be able to get the srctype in the getSources function, since srctype in MongoDB is no column. \nAny help would be great. </p>\n"},{"tags":["python","web-scraping","beautifulsoup","urllib2","urllib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13203480,"title":"Random HTTP 503 Error using urllib and BeautifulSoup","body":"<p>I'm scraping a website with cookies. They provide multiple drop-down menus and I'm iterating through each option and re-capturing the session cookies with every request. The code runs just fine for a while, but I randomly get a 503 error.</p>\n\n<p>My code inserts data into a PostgreSQL database, and to help emphasize the randomness of this error I want to share that I've received the 503 after inserting as few as 1200 entries (rows) and as many as 4200. There doesn't seem to be any pattern to the raising of the this exception. I can't make sense of it.</p>\n\n<p>If it helps, here is a portion of my code:</p>\n\n<pre><code># -*- coding: utf-8 -*-\n\nimport scrape_tools\nimport psycopg2\nimport psycopg2.extras\nimport urllib\nimport urllib2\nimport json\nimport cookielib\nimport time\n\n\ntools = scrape_tools.tool_box()\ndb = tools.db_connect()\npsycopg2.extras.register_hstore(db)\ncursor = db.cursor(cursor_factory = psycopg2.extras.RealDictCursor)\n\ncookiejar = cookielib.CookieJar()\nopener = urllib2.build_opener(\n    urllib2.HTTPRedirectHandler(),\n    urllib2.HTTPHandler(debuglevel=0),\n    urllib2.HTTPSHandler(debuglevel=0),\n    urllib2.HTTPCookieProcessor(cookiejar),\n)\n\nurl ='http://www.website.com/'\nsoup = tools.request(url)\n\ntype_select = soup('select',{'id':'type'})\nfor option_tag in type_select:\n    select_option = option_tag('option')\n    for option_contents in select_option:\n        if 'Select' in option_contents.contents[0]:\n            continue\n        type = option_contents.contents[0]\n        type_val = option_contents['value']\n        print 'Type', type\n\n        get_more_url = 'http://www.website.com/' + type_val\n        request2 = urllib2.Request(get_more_url)\n        fp2 = opener.open(request2)\n        html2_object = fp2.read()\n        json_result = json.loads(html2_object)\n\n        for json_dict in json_result:\n            for json_key in json_dict:\n                if len(json_key) == 0:\n                    continue\n                more_data = json_dict[json_key]\n                print '   ', more_data\n\n               (---Out of courtesy, I'll stop here--)\n</code></pre>\n\n<p>(*Please note, <code>scrape_tools</code> is a custom module)</p>\n\n<p>Am I missing something with cookie storage? Am I missing something obvious? I can't seem to figure out why this is happening. I've 'googled', 'stackoverflowed', etc. for hours trying to find somebody having similar issues, but haven't found anything.</p>\n\n<p>I've also used selenium to scrape data in the past and have that in my pocket as a last resort, but this project is huge and I'd rather not have Firefox eating up memory on the server for a week.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":13168083,"title":"Python raw_input() replacement that uses a configurable text editor","body":"<p>I'm trying to implement a replacement for raw_input() that would use a configurable text editor like vim as the interface to to the user.</p>\n\n<p>The ideal workflow would be like this:</p>\n\n<ol>\n<li>Your python script is running, and makes a call to my_raw_input().</li>\n<li>Vim (or emacs, or gedit, or any other text editor) opens w/ a blank document</li>\n<li>You type some text into the document, then save and exit</li>\n<li>The python script resumes running, with the contents of the file as the return value of my_raw_input().</li>\n</ol>\n\n<p>If you're familiar with git, this is the experience when using <code>git commit</code>, where the editor is configured via <a href=\"http://git-scm.com/book/en/Customizing-Git-Git-Configuration\" rel=\"nofollow\">core.editor</a>. Other utilities like <code>crontab -e</code> also do this.</p>\n\n<p>Ultimately, I would like this my_raw_input() function to also take an optional string w/ the default input contents, which the user could then edit.</p>\n\n<h1>Research so far</h1>\n\n<ul>\n<li><a href=\"http://docs.python.org/2/library/os.html#os.execl\" rel=\"nofollow\">os.exec</a> replaces the current process with the editor command, but does not return. Ie, your python script exits when vim starts.</li>\n<li><a href=\"http://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">popen</a> does not start the child process interactively, there is no user interface displayed.</li>\n<li>vim has a <code>-</code> command-line parameter to read from stdin, but nothing to write to stdout with <code>:w</code>.</li>\n<li>I took a look at the <a href=\"https://github.com/git/git/blob/master/run-command.c\" rel=\"nofollow\">code for git</a>, which I can't follow at all. </li>\n</ul>\n\n<p>Is this possible?</p>\n\n<h1>Edit</h1>\n\n<p>Good answers so far. I also found the <a href=\"http://selenic.com/repo/hg-stable/file/2770d03ae49f/mercurial/ui.py\" rel=\"nofollow\">mecurial code</a> that's doing the same thing. I also came up with an example that works from looking at the <a href=\"http://www.opensource.apple.com/source/cron/cron-35/crontab/crontab.c\" rel=\"nofollow\">crontab code</a>, but it looks like it's needlessly complicated compared to some of the responses.</p>\n\n<pre><code>#!/usr/bin/python\nimport os\nimport tempfile\n\n\ndef raw_input_editor(default=None, editor=None):\n    ''' like the built-in raw_input(), except that it uses a visual\n    text editor for ease of editing. Unline raw_input() it can also\n    take a default value. '''\n\n    editor = editor or get_editor()\n\n    with tempfile.NamedTemporaryFile(mode='r+') as tmpfile:\n\n        if default:\n            tmpfile.write(default)\n            tmpfile.flush()\n\n        child_pid = os.fork()\n        is_child = child_pid == 0\n\n        if is_child:\n            os.execvp(editor, [editor, tmpfile.name])\n        else:\n            os.waitpid(child_pid, 0)\n            tmpfile.seek(0)\n            return tmpfile.read().strip()\n\n\ndef get_editor():\n    return (os.environ.get('VISUAL')\n        or os.environ.get('EDITOR')\n        or 'vi')\n\n\nif __name__ == \"__main__\":\n    print raw_input_editor('this is a test')\n</code></pre>\n"},{"tags":["python","script"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13199685,"title":"Python- need to append characters to the beginning and end of each line in text file","body":"<p>I should preface that I am a complete Python Newbie.</p>\n\n<p>Im trying to create a script that will loop through a directory and its subdirectories looking for text files.  When it encounters a text file it will parse the file and convert it to NITF XML and upload to an FTP directory.</p>\n\n<p>At this point I am still working on reading the text file into variables so that they can be inserted into the XML document in the right places.  An example to the text file is as follows.</p>\n\n<pre><code>Headline\nSubhead\nBy A person\nParagraph text.\n</code></pre>\n\n<p>And here is the code I have so far:</p>\n\n<pre><code>with open(\"path/to/textFile.txt\") as f:\n    #content = f.readlines()\n    head,sub,auth = [f.readline().strip() for i in range(3)]\n    data=f.read()\npth = os.getcwd()\n\nprint head,sub,auth,data,pth\n</code></pre>\n\n<p>My question is: how do I iterate through the body of the text file(data) and wrap each line in HTML P tags?  For example;  </p>\n\n<p><code>&lt;P&gt;line of text in file &lt;/P&gt; &lt;P&gt;Next line in text file&lt;/p&gt;</code>.</p>\n"},{"tags":["python","combinatorics"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":13131491,"title":"Partition N items into K bins in Python lazily","body":"<p>Give an algorithm (or straight Python code) that yields all partitions of a collection of N items into K bins such that each bin has at least one item. I need this in both the case where order matters and where order does not matter. </p>\n\n<p>Example where order matters</p>\n\n<pre><code>&gt;&gt;&gt; list(partition_n_in_k_bins_ordered((1,2,3,4), 2))\n[([1], [2,3,4]), ([1,2], [3,4]), ([1,2,3], [4])]\n\n&gt;&gt;&gt; list(partition_n_in_k_bins_ordered((1,2,3,4), 3))\n[([1], [2], [3,4]), ([1], [2,3], [4]), ([1,2], [3], [4])]\n\n&gt;&gt;&gt; list(partition_n_in_k_bins_ordered((1,2,3,4), 4))\n[([1], [2], [3], [4])]\n</code></pre>\n\n<p>Example where order does not matter</p>\n\n<pre><code>&gt;&gt;&gt; list(partition_n_in_k_bins_unordered({1,2,3,4}, 2))\n[{{1}, {2,3,4}}, {{2}, {1,3,4}}, {{3}, {1,2,4}}, {{4}, {1,2,3}},\n {{1,2}, {3,4}}, {{1,3}, {2,4}}, {{1,4}, {2,3}}]\n</code></pre>\n\n<p>These functions should produce lazy iterators/generators, not lists. Ideally they would use primitives found in <code>itertools</code>. I suspect that there is a clever solution that is eluding me. </p>\n\n<p>While I've asked for this in Python I'm also willing to translate a clear algorithm. </p>\n"}]}
{"total":142322,"page":20,"pagesize":100,"questions":[{"tags":["python","visual-c++","python-c-api","python-embedding"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":172,"score":0,"question_id":11056424,"title":"Running Python from Visual C++ code (Embedded Python)","body":"<p>I have this Visual C++ code, plus Python embedded in it, when I try to run external Python code using the below code, I get the error in the Debug mode:  </p>\n\n<pre><code>Unhandled exception at 0x77cf15de in CMLAir.exe (my code): \naccess violation writing location 0x00000014.\n</code></pre>\n\n<p>The error is happening when PyRun_File function gets called via c++ code.<br>\nHere is the C++ function:</p>\n\n<pre><code>  void CRailtestDoc::OnPreprocessorRunscript()\n  {\n\n  #ifdef USE_PYTHON\n\n//for now, pull up Open dialog for user to specify script\nCString strPythonScriptPath;\nCString strTitle = \"Run Python Script\";\nCFileDialog dlg(TRUE, \".py\", NULL);\ndlg.m_ofn.Flags |= OFN_PATHMUSTEXIST;\ndlg.m_ofn.lpstrTitle = (LPCTSTR)strTitle;\nif (dlg.DoModal() == IDOK)\n{\n    strPythonScriptPath = dlg.GetFileName( );\n}\nelse\n{\n    return;\n}\n\nFILE* fp;\nfp = fopen((LPCSTR)strPythonScriptPath, \"r+\");\nif (fp == NULL)\n{\n    CString strErrMsg;\n    strErrMsg.Format(\"troble opening python file: %s\", (LPCSTR)strPythonScriptPath);\n    AfxMessageBox(strErrMsg);\n    return;\n}\n\n//\n// TODO: we need to make sure that we don't call Py_Initialize more than once\n// see Python/C API Reference Manual section 1.4\n//\nm_bRunningScript = TRUE;\nPy_Initialize();\n\nPycString_IMPORT; //Macro for importing cStringIO objects\n\n//start up our own modules?  Is this needed here?\ninitcml();\ninitresults();\n\nPyObject* localDict;\nPyObject* mainModule;\nPyObject* mainModuleDict;\nmainModule = PyImport_AddModule(\"__main__\");\n//mainModule = PyImport_AddModule(\"__builtins__\");\n\nif(mainModule==NULL)\n{\n    AfxMessageBox(\"Problems running script\");\n    m_bRunningScript = FALSE;\n    return;\n}\nmainModuleDict = PyModule_GetDict(mainModule);\nlocalDict = PyDict_New();\n\n//Now run the selected script\nPyObject* tempPyResult = \nPyRun_File(fp, strPythonScriptPath, Py_file_input, mainModuleDict, mainModuleDict); \n//&lt;=== where the code exit with unhandled  exception at 0x77cf15de\nUNREFERENCED_PARAMETER(tempPyResult);\n\n// See if an exception was raised and not handled.\n// If so, return traceback to user as MsgBox\n\n}\n</code></pre>\n\n<p>here is the external Python script I am trying to run from C++ code:</p>\n\n<pre><code>  import cml, results \n\n  def main():\n  baseCase = \"C:\\\\Program Files\\\\CMLAir32\\\\Examples\\\\Quick4_Example.cml\" \n  outFile = \"c:\\\\output.txt\"\n  f = open(outFile, \"w\") \n\n  #open our .cml case\n  if cml.OpenCase(baseCase) == 0:\n    return \n\n  #set initial mesh size \n  meshSize = 177\n  cml.SetGridSizeX(meshSize)\n  cml.SetGridSizeY(meshSize)\n  cml.SaveCaseNoWarn()\n  while meshSize &lt; 400:\n    #run it \n    cml.RunCaseNoWarn()\n    #get results\n    res = results.Results()\n    res.GetResults() \n    if res.HasResults() == 0: \n        cml.MsgBox(\"error getting results, aborting\") \n        return \n    #pull out minimum fly height \n    singleResult = res[0]\n    fh = singleResult.minFH\n    #output current mesh size and minimum fly height \n    dataStr = str(meshSize) + ' ' + str(fh)\n    f.write(dataStr) \n    #increment mesh size \n    meshSize += 16\n    cml.SetGridSizeX(meshSize) \n    cml.SetGridSizeY(meshSize) \n    cml.SaveCaseNoWarn()\n\n    main() \n</code></pre>\n\n<p>Why does the PyRun_File function give the error?</p>\n\n<p>I don't know much about embedding Python inside C++ code, so I'd really appreciate some pointers here. Keep in mind I'm relatively new to Python at all; most of my programming experience is in Visual C++. What would be the best way to fit the two together in this situation?</p>\n"},{"tags":["python","mysql","apache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":13202917,"title":"Make CGI-script work (Apache, Python, MySQL)","body":"<p>Could you help me read some strings from MySQL and show them in my web browser.\nThis is just for my localhost.</p>\n\n<p>I receive the following:</p>\n\n<blockquote>\n  <p>Internal Server Error</p>\n  \n  <p>The server encountered an internal error or misconfiguration and was unable to complete your request.</p>\n  \n  <p>Please contact the server administrator, [no address given] and inform them of the time the error occurred, and anything you might have done that may have caused the error.</p>\n  \n  <p>More information about this error may be available in the server error log.</p>\n</blockquote>\n\n<p>As for my file hello.py, it is situated here:</p>\n\n<pre><code>root@ubuntu:/var/www/test1.my/www/cgi-bin# ls -l\ntotal 8\n</code></pre>\n\n<p>It's properties are as follows:</p>\n\n<pre><code>-rwxr-xr-x 1 root root 465 Nov 2 23:30 hello.py\n-rwxr-xr-x 1 root root 186 Nov 2 15:59 hello.py~\n</code></pre>\n\n<p>Could you give me some hint what to fix?</p>\n\n<p><a href=\"https://skydrive.live.com/redir?resid=8CDFFBA921B002FE!109&amp;authkey=!AC8_eLcI60sJGcg\" rel=\"nofollow\">These are my configuration files</a></p>\n"},{"tags":["python","django","eclipse","pinax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13203207,"title":"Where is the official list of differences between pinax 0.9a & 0.7.3","body":"<p>Can anyone point me to the <strong>official</strong> list of differences between pinax 0.9a and 0.7.3 please?</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13202649,"title":"How to pass Unicode string as argument to urllib.urlencode()","body":"<p>I'm using Microsoft's free translation service to translate some Hindi characters to English. They don't provide an API for Python, but I borrowed code from: tinyurl.com/dxh6thr</p>\n\n<p>I'm trying to use the 'Detect' method as described here: tinyurl.com/bxkt3we</p>\n\n<p>The 'hindi.txt' file is saved in unicode charset.</p>\n\n<pre><code>&gt;&gt;&gt; hindi_string = open('hindi.txt').read()\n&gt;&gt;&gt; data = { 'text' : hindi_string }\n&gt;&gt;&gt; token = msmt.get_access_token(MY_USERID, MY_TOKEN)\n&gt;&gt;&gt; request = urllib2.Request('http://api.microsofttranslator.com/v2/Http.svc/Detect?'+urllib.urlencode(data))\n&gt;&gt;&gt; request.add_header('Authorization', 'Bearer '+token)\n&gt;&gt;&gt; response = urllib2.urlopen(request)\n&gt;&gt;&gt; print response.read()\n&lt;string xmlns=\"http://schemas.microsoft.com/2003/10/Serialization/\"&gt;en&lt;/string&gt;\n&gt;&gt;&gt;\n</code></pre>\n\n<p>The response shows that the Translator detected 'en', instead of 'hi' (for Hindi). When I check the encoding, it shows as 'string':</p>\n\n<pre><code>&gt;&gt;&gt; type(hindi_string)\n&lt;type 'str'&gt;\n</code></pre>\n\n<p>For reference, here is content of 'hindi.txt':</p>\n\n<pre><code>हाय, कैसे आप आज कर रहे हैं। मैं अच्छी तरह से, आपको धन्यवाद कर रहा हूँ।\n</code></pre>\n\n<p>I'm not sure if using string.encode or string.decode applies here. If it does, what do I need to encode/decode from/to? What is the best method to pass a Unicode string as a urllib.urlencode argument? How can I ensure that the actual Hindi characters are passed as the argument?</p>\n\n<p>Thank you.</p>\n\n<p>** Additional Information **</p>\n\n<p>I tried using codecs.open() as suggested, but I get the following error:</p>\n\n<pre><code>&gt;&gt;&gt; hindi_new = codecs.open('hindi.txt', encoding='utf-8').read()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\codecs.py\", line 671, in read\n    return self.reader.read(size)\n  File \"C:\\Python27\\lib\\codecs.py\", line 477, in read\n    newchars, decodedbytes = self.decode(data, self.errors)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xff in position 0: invalid start byte\n</code></pre>\n\n<p>Here is the repr(hindi_string) output:</p>\n\n<pre><code>&gt;&gt;&gt; repr(hindi_string)\n\"'\\\\xff\\\\xfe9\\\\t&gt;\\\\t/\\\\t,\\\\x00 \\\\x00\\\\x15\\\\tH\\\\t8\\\\tG\\\\t \\\\x00\\\\x06\\\\t*\\\\t \\\\x00\n\\\\x06\\\\t\\\\x1c\\\\t \\\\x00\\\\x15\\\\t0\\\\t \\\\x000\\\\t9\\\\tG\\\\t \\\\x009\\\\tH\\\\t\\\\x02\\\\td\\\\t \\\n\\x00.\\\\tH\\\\t\\\\x02\\\\t \\\\x00\\\\x05\\\\t'\"\n</code></pre>\n"},{"tags":["python","list","tuples"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13201161,"title":"How to check if an element is also in another list","body":"<p>Imagine a function:</p>\n\n<pre><code>def Intersects (x, list1, list2, list3):\n    if x in list1 and x in list2 and x in list3: return True\n    return False\n</code></pre>\n\n<p>There has to be a better way to do this but I can't figure it out. How can I do this? (performance is important)</p>\n\n<p><strong>EDIT:</strong> I've come across a related, however harder problem this time. This time I've got 3 unrelated integers and I need to test if they intersect too.</p>\n\n<p>Like:</p>\n\n<pre><code>1, 2, 3 &lt;-- elements to look for\nif InAll ((1, 2, 3)) ...\n</code></pre>\n\n<p>but I am not looking for a tuple, instead I am looking for just integers. How do I unpack the tuple and do the same search?</p>\n"},{"tags":["python","string","list","hex"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13202562,"title":"Python - Splitting up a string into a list of paired chars","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks-in-python\">How do you split a list into evenly sized chunks in Python?</a><br>\n  <a href=\"http://stackoverflow.com/questions/7111068/split-string-by-count-of-characters\">Split string by count of characters</a>  </p>\n</blockquote>\n\n\n\n<p>I have a string (which is hex), something like:</p>\n\n<pre><code>717765717777716571a7202020\n</code></pre>\n\n<p>I need to get it into the format:</p>\n\n<pre><code>0x71,0x77,0x65,0x71,0x77,0x77...\n</code></pre>\n\n<p>I'm not sure what the best method would be though</p>\n"},{"tags":["python","windows","levenshtein-distance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13200330,"title":"How to install python-levenshtein on Windows?","body":"<p>After searching for days I'm about ready to give up finding precompiled binaries for Python 2.7 (Windows 64-bit) of the <a href=\"http://pypi.python.org/pypi/python-Levenshtein/\" rel=\"nofollow\">Python Levenshtein library</a>, so not I'm attempting to compile it myself. I've installed the most recent version of <em>MinGW32</em> (version 0.5-beta-20120426-1) and set it as the default compiler in <em>distutils</em>.</p>\n\n<p>Here we go:</p>\n\n<pre>\nC:\\Users\\tomas>pip install python-levenshtein\nDownloading/unpacking python-levenshtein\n  Running setup.py egg_info for package python-levenshtein\n\n    warning: no files found matching '*' under directory 'docs'\n    warning: no previously-included files matching '*pyc' found anywhere in distribution\n    warning: no previously-included files matching '.project' found anywhere in distribution\n    warning: no previously-included files matching '.pydevproject' found anywhere in distribution\nRequirement already satisfied (use --upgrade to upgrade): setuptools in c:\\python27\\lib\\site-packages\\setuptools-0.6c11-py2.7.egg (from python-levenshtein)\nInstalling collected packages: python-levenshtein\n  Running setup.py install for python-levenshtein\n    building 'Levenshtein' extension\n    C:\\MinGW\\bin\\gcc.exe -mno-cygwin -mdll -O -Wall -IC:\\Python27\\include -IC:\\Python27\\PC -c Levenshtein.c -o build\\temp.win-amd64-2.7\\Release\\levenshtein.o\n    cc1.exe: error: unrecognized command line option '-mno-cygwin'\n    error: command 'gcc' failed with exit status 1\n    Complete output from command C:\\Python27\\python.exe -c \"import setuptools;__file__='c:\\\\users\\\\tomas\\\\appdata\\\\local\\\\temp\\\\pip-build\\\\python-levenshtein\\\\setup.py';exec(compile(open(__file__).rea\nd().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record c:\\users\\tomas\\appdata\\local\\temp\\pip-7txyhp-record\\install-record.txt --single-version-externally-managed:\n    running install\n\nrunning build\n\nrunning build_ext\n\nbuilding 'Levenshtein' extension\n\nC:\\MinGW\\bin\\gcc.exe -mno-cygwin -mdll -O -Wall -IC:\\Python27\\include -IC:\\Python27\\PC -c Levenshtein.c -o build\\temp.win-amd64-2.7\\Release\\levenshtein.o\n\ncc1.exe: error: unrecognized command line option '-mno-cygwin'\n\nerror: command 'gcc' failed with exit status 1\n</pre>\n\n<p>And now I'm stuck. I'm assuming that the <code>-mno-cygwin</code> option is outdated and no longer valid for the version of <code>gcc</code> that I have. If that is the case, I still have no clue how to fix that.</p>\n\n<p>Thanks for any help anybody can offer on this issue.</p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>I ran the compile line manually after removing the bad option:</p>\n\n<pre>C:\\MinGW\\bin\\gcc.exe -mdll -O -Wall -IC:\\Python27\\include -IC:\\Python27\\PC -c Levenshtein.c -o build\\temp.win-amd64-2.7\\Release\\levenshtein.o</pre>\n\n<p>Which successfully provided <em>levenshtein.o</em> in the build folder, but when I try to run <code>python setup.py install</code> then it just tries to build again and fails. Where can I remove <code>-mno-cygwin</code>? I assume it's somewhere in the source of <em>distutils</em> but I can't find it.</p>\n"},{"tags":["python","install","pygame","game","cloud9-ide"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13203047,"title":"Is there a way to install pygame in the cloud9 IDE?","body":"<p>I've recently gotten interested in the usefulness and practicality of cloud9, And I want to program a game using Pygame. Can pygame be run and used in the cloud9 IDE? If so, how?</p>\n"},{"tags":["python","mysql","datetime-format","timedelta","python-datetime"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13202168,"title":"What's the best way to store a python timedelta value in mysql?","body":"<p>I need to store an uptime in a mysql environment.\nThe uptime can vary from a few hours to more than one year. I was considering using a DATETIME type for mysql.\nI'm working with python, and the uptime is obtained from </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def convertdate(lastrestart):\n   # now in datetime\n   nowdt=datetime.now()\n\n   # last_restarted in datetime\n   lastrestarted_dt=datetime.strptime(lastrestart, \"%Y-%m-%d %H:%M:%S\")\n\n   # timedelta in datetime! \n   uptimeInDT=nowdt-lastrestarted_dt\n\n   #timedelta in seconds\n   secondsUptime=uptimeInDT.seconds\n\n   # string conversion wont work so much for a datetime field.\n   print str(uptimeInDT)\n</code></pre>\n\n<p>Is this the best way for doing this job? Sould I use other solutions? \nSEC_TO_TIME() in mysql has a smaller range and wont work, and there's no function from sec to datetime.\nMaybe I should save the seconds and get used to that.\nThanks</p>\n"},{"tags":["python","gzip","elementtree"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13202516,"title":"Writing ElementTree compressed in gzip format","body":"<p>I'm trying to write a spcific subtree of my xml in <code>gzip</code> format. The following <code>Python</code> code writes a regular xml to file and I'm not sure how to add compression to it</p>\n\n<pre><code>import os, time, gzip\nimport xml.etree.cElementTree as ET\nfrom xml.etree.cElementTree import ElementTree\n\n. . . \n\nElementTree(child).write('outputFile.xml')      \n</code></pre>\n\n<p>I'd like to write a file <code>outputFile.xml.gz</code> that can be opened with common applications. Keep in mind that I'm new to Python...</p>\n"},{"tags":["python","ical","rfc2445"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13167150,"title":"How format date into BYDAY (iCalendar specification)","body":"<p>I need to create RRULE string with BYDAY parameter, from my <strong>date</strong> value.</p>\n\n<p>Is there any natural way to do it?</p>\n\n<p>I wrote this utility code for this purpose:</p>\n\n<pre><code>import calendar\n\nfweek_fday, mdays = calendar.monthrange(date.year, date.month)\n# Get weekday of first day and total days in current month\nmweeks = ((mdays+fweek_fday-1)//7)+1\n# Get total weeks in current month\nmday, wday = date.day, date.weekday()\n# Get current day of month and current day as day of a week\nweek_days = ['MO', 'TU', 'WE', 'TH', 'FR', 'SA', 'SU']\nweek = ((mday+fweek_fday-1)//7)+(1 if wday&gt;=fweek_fday else 0)\n# Get current week no\nweek = -1 if week == mweeks else week\nwday = week_days[wday]\n\noutput = \"BYDAY=%d%s\" % (week, wday)\n</code></pre>\n"},{"tags":["python","linux","unix"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":63,"score":-1,"question_id":13202599,"title":"Python script stops executing","body":"<p>I have a python script running as a background process.  I have implemented a lot of logging within the script so I can see exactly what it is doing.  The process never ends and an exception is never thrown.  It seems that the script just stops executing.  The script is running on linux and when I use \"top\" I can see that the process is still running but the time on the process is not incrementing at all, it just stays the same.  When I use \"tail -f\" on the log file I can see that it just pauses in the middle of execution.  All that the script is does is make get requests and then puts information into a database.  Is there a name for a process that is still running but the time on it stops?  What are possible reasons for it? </p>\n"},{"tags":["python","fibonacci"],"answer_count":7,"favorite_count":6,"up_vote_count":10,"down_vote_count":0,"view_count":1451,"score":10,"question_id":4935957,"title":"Fibonacci numbers, with an one-liner in Python 3?","body":"<p>I know there is nothing wrong with writing with proper function structure, but I would like to know how can I find nth fibonacci number with most Pythonic way with a one-line.</p>\n\n<p>I wrote that code, but It didn't seem to me best way:</p>\n\n<pre><code>&gt;&gt;&gt; fib=lambda n:reduce(lambda x,y:(x[0]+x[1],x[0]),[(1,1)]*(n-2))[0]\n&gt;&gt;&gt; fib(8)\n13\n</code></pre>\n\n<p>How could it be better and simplier?</p>\n"},{"tags":["python","django","api","rest","tastypie"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":108,"score":4,"question_id":13051544,"title":"Tastypie : Authentication for GET and Anonymous for POST","body":"<p>I use Django/Tastypie to manage my user collection.</p>\n\n<p>Is it possible to allow anonymous users to POST in the API (when creating a new user at some endpoint) and restrict authenticated users to GET only their own user, but not all the users ? </p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["python","tkinter","pythonw"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13202507,"title":"tkinter file I/O breaks pythonw.exe drag and drop","body":"<p>Whenever I add file reading to a python tkinter gui like the code below, the program won't execute when I drag and drop the .py file into python.exe or pythonw.exe. I'm in Windows XP, using Python 3.2.</p>\n\n<pre><code>from tkinter import *\n\nif __name__ == '__main__':\n    root = Tk()\n    f = open('hello.txt', 'r')\n    t = f.read()\n    f.close()\n    w = Label(root, text=t)\n    w.pack()\n    root.mainloop()\n</code></pre>\n\n<p>I found that it will work if I set pythonw.exe as the default program for .py files then double click the file, or call it in cmd, but I really need to execute it with drag and drop. Is this a known bug? Thanks in advance!</p>\n"},{"tags":["python","django","rest","tastypie","python-requests"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13202486,"title":"Tasty-Pie - pulling in related fields, without using full=True?","body":"<p>I have a app that uses Python Requests to query a Tasty-Pie enabled Django app.</p>\n\n<p>I have a model called Application, with a corresponding Tasty-Pie resource.</p>\n\n<p>This model/Resource has several foreign keys that link Application to other models (e.g. Binary, Host, Colocation etc.)</p>\n\n<p>I'm using a Tasty-Pie filter to get a subset of Applications, then I want to print a nice table of Applications, along with some fields from those related models.</p>\n\n<p>Right now, I'm using the following to get a table of Applications:</p>\n\n<pre><code>def get_applications(self, parsed_args):\n    r = requests.get('http://foobar.com:8000/api/v1/application/?name__iregex={0}&amp;format=json'.format(parsed_args.applications))\n    print(r.url)\n    return r  \ndef application_iter(self, parsed_args):\n    for application in self.get_applications(parsed_args).json['objects']:\n        yield (application['name'], application['author'], application['some_other_field'])\ndef take_action(self, parsed_args):\n    return(('Name', 'Author', 'Some Other Field),\n            self.application_iter_iter(parsed_args),\n        )\n</code></pre>\n\n<p>My question is, what is the \"recommended\", or idiomatic way of pulling in all the related fields? Is there a way to extend the above to do this? </p>\n\n<p>I get the impression that <code>full=True</code> is a bad practice, and that using resource URI's is a better way. </p>\n\n<p>How can I do this whilst minimising the number of requests and DB hits? </p>\n\n<p>Cheers,\nVictor</p>\n"},{"tags":["python","2d","pygame","graphic"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13187926,"title":"Basic Pygame Program Not Executing","body":"<p>Typed in this pygame code for an animation test, I was expecting some errors, but the program simply won't execute:</p>\n\n<p>First part imports modules</p>\n\n<pre><code>import sys\nimport os\nimport pygame\nfrom pygame.locals import *\n</code></pre>\n\n<p>Initialize pygame</p>\n\n<pre><code>pygame.init ()\n</code></pre>\n\n<p>classes to load sprite image files, and later, sound</p>\n\n<pre><code>class Processes (object):\n    @staticmethod\n    def load_image (imagefile):\n        image = pygame.image.load (imagefile)\n        return image, image.get_rect ()\n</code></pre>\n\n<p>Sprite class</p>\n\n<pre><code>class Sprite (pygame.sprite.Sprite):\n    def __init__ (self):\n        pygame.sprite.Sprite.__init__ (self)\n        self.image, self.rect = Processes.load_image ('frame1.jpg')\n</code></pre>\n\n<p>Simple animation function -- To make life easier</p>\n\n<pre><code>    def animation (self, key_event):\n        if key_event == K_DOWN:\n            self.rect.centery = self.rect.centery - 10\n\n        if key_event == K_UP:\n            self.rect.centery = self.rect.centery + 10\n\n        if key_event == K_RIGHT:\n            self.rect.centerx = self.rect.centerx + 10\n\n        if key_event == K_LEFT:\n           self.rect.centerx = self.rect.centerx - 10\n\n        return self.rect\n</code></pre>\n\n<p>Main function:</p>\n\n<pre><code>def main ():\n    mecha = Sprite ()\n    allsprites = pygame.sprite.RenderPlain ((mecha, ))\n</code></pre>\n\n<p>Game loop:</p>\n\n<pre><code>while True:\n    Surface = pygame.display.set_mode ((400, 400))\n    pygame.display.set_caption ('Animation Test')\n\n    for event in pygame.event.get ():\n        if event.type == KEYDOWN:\n            mecha.animation (event.key)\n\n        if event.type == QUIT:\n            pygame.quit ()\n            sys.exit (0)\n\n\n    allsprites.draw (Surface)\n    pygame.display.update ()\n</code></pre>\n\n<p>Here is the actual 'error'</p>\n\n<pre><code>C:/Khan's Family/python/Bunnies Vs. Zombies/BvZ_Animtest.py \n</code></pre>\n\n<p>Now here is the output:</p>\n\n<pre><code>(Nothing)\n\nC:/Khan's Family/python/Bunnies Vs. Zombies\n</code></pre>\n\n<p>There is no output, and that's my problem. </p>\n"},{"tags":["javascript","python","string","node.js"],"answer_count":8,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":519,"score":1,"question_id":7790811,"title":"How do I put variables inside javascript strings? (Node.js)","body":"<pre><code>s = 'hello %s, how are you doing' % (my_name)\n</code></pre>\n\n<p>That's how you do it in python. How can you do that in javascript/node.js?</p>\n"},{"tags":["python","qt","pyqt","scheduled-tasks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13202014,"title":"Passing a parameter to QTimer timeout signal?","body":"<p>I'm using Python and PySide (the PyQt alternative). I have an application that runs in a background and I'd like to use QTimer to schedule some tasks to be performed.</p>\n\n<p>However, I need the QTimer to call one method in my program, but this method requires the \"initialization parameters\" that will specify what exactly is method supposed to do.</p>\n\n<p>Am I correct in thinking that I would need to subclass QTimer and override either the <code>timeout</code> or the <code>start</code> method? If so, then which one and how would I go about that? I have almost no experience overriding existing methods and Googling didn't turn up a lot of results (there were some with C++ which I don't understand). I have managed to do something (for example I overrode the <code>start()</code> method, but then the code of the original start method does not execute (understandably) and I have no idea what that code is supposed to be.</p>\n\n<p>Or is there some other way?</p>\n"},{"tags":["python","performance","profiling","profile","cprofile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13199657,"title":"Python Profiling - Rollup function calls that are outside my code","body":"<p>I am trying to profile our django unittests (if the tests are faster, we'll run 'em more often). I've ran it through python's built in cProfile profiler, producing a pstats file.</p>\n\n<p>However the signal to noise ration is bad. There are too many functions listed. Lots and lots of django internal functions are called when I make one database query. This makes it hard to see what's going on.</p>\n\n<p>Is there anyway I can \"roll up\" all function calls that are outside a certain directory?</p>\n\n<p>e.g. if I call a python function outside my directory, and it then calls 5 other functions (all outside my directory), then it should roll all those up, so it looks like there was only one function call, and it should show the cumulative time for the whole thing.</p>\n\n<p>This, obviously, is bad if you want to profile (say) Django, but I don't want to do that.</p>\n\n<p>I looked at the pstats.Stats object, but can't see an obvious way to modify this data.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13200557,"title":"dev_appserver.py is not reloading changed code","body":"<p>At some point in the last few months, dev_appserver.py completely stopped reloading changed code on my Google App Engine project. Unfortunately, because the gap in my development coincided with at least one version change in the appserver platform, I can't be more specific about exactly when the symptom began.</p>\n\n<p>Manually stopping and starting dev_appserver.py does cause changes to be reflected immediately, but the old behavior was quite useful and I am eager to make it work again.</p>\n\n<p>I have found some code in the appengine source (<code>_internal/django/utils/autoreload.py</code>) which appears to be responsible for the reloading behavior, so I suspect that this is a bug and not an intended functionality change. The reloading code looks fairly straightforward and does not appear to depend on any fancy notification facilities in the OS, so I don't think that it is an OS bug. I'm running on MacOS 10.8.2 and Python 2.7.2.</p>\n"},{"tags":["python","parsing","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":32,"score":0,"question_id":13202087,"title":"Beautiful Soup find children for particular div","body":"<p>I have am trying to parse a webpage that looks like this with Python->Beautiful Soup:<img src=\"http://i.stack.imgur.com/EYqXD.png\" alt=\"enter image description here\"></p>\n\n<p>I am trying to extract the contents of the highlighted td div. Currently I can get all the divs by</p>\n\n<pre><code>alltd = soup.findAll('td')\n\n\nfor td in alltd:\n    print td\n</code></pre>\n\n<p>But I am trying to narrow the scope of that to search the tds in the class \"tablebox\" which still will probably return 30+ but is more managable a number than 300+.</p>\n\n<p>How can I extract the contents of the highlighted td in picture above?</p>\n"},{"tags":["python","memory-management"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":32,"score":1,"question_id":13202198,"title":"Python doesn't allocate new space for objects instantiated outside the constructor of a class-- expected behavior?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/207000/python-difference-between-class-and-instance-attributes\">Python: Difference between class and instance attributes</a>  </p>\n</blockquote>\n\n\n\n<p>At work today, I spent about three hours with pdb trying to figure out why a dictionary on an object wasn't holding the correct values.  </p>\n\n<p>This is a nice template for what was happening:</p>\n\n<pre><code>class A:\n    prop = {}\n    def __init__(self, test):\n        temp = self.method(test)\n\n        for i in temp.keys():\n            self.prop[i] = temp[i]\n\n    def method(self, test):\n        return ({ 'x': test, 'y': test })\n\na = A(3)\nb = A(4)\n\nprint a.prop\nprint b.prop\n</code></pre>\n\n<p>will return</p>\n\n<pre><code>{'y': 4, 'x': 4}\n{'y': 4, 'x': 4}\n</code></pre>\n\n<p>I've attributed the problem to line two.  I checked the memory location of both a.prop and b.prop, and they were the same. </p>\n\n<p>Because it's instantiated in the class, outside of the initializer/constructor, it allocates new space for each property, but allocates the new space for prop, and stores the same memory location in it.  So, every other property on a and b were correct (different), except the ones that were defined as objects.  </p>\n\n<p>Is this expected behavior?  I Know this is how it would work in say something like C++ (because at that point, they're kinda-static, right?).  </p>\n\n<p>Can someone explain to me why python treats it this way?  Are there specific applications for it, when you could otherwise specify it static?</p>\n"},{"tags":["python","python-3.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13200797,"title":"How to alphabetize characters in a string, disregarding upper and lower case?","body":"<p>It it possible to alphabetize the characters in a string, disregarding upper and lower case?  I need them to stay in the case they are in, so I can't use <code>.lower()</code> or <code>.upper()</code>, but I'd like for them to be arranged with the letter taking precedence, so the resulting string would be something like:</p>\n\n<p><code>\"LMmqRRs\"</code></p>\n\n<p>instead of</p>\n\n<p><code>\"LMRRmqs\"</code></p>\n"},{"tags":["python","ssh","fabric"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":34,"score":3,"question_id":13130129,"title":"How to make Fabric use a different role depending on which network it currently is?","body":"<p>I want to make a task use a different set of hosts (role) depending on which network I'm currently in. If I'm in the same network of my servers, I don't need to go through the gateway.</p>\n\n<p>Here's a snippet from my fabfile.py:</p>\n\n<pre><code>env.use_ssh_config = True\nenv.roledefs = {\n    'rack_machines': ['rack4', 'rack5', 'rack6', 'rack7'],\n    'external_rack_machines': ['erack4', 'erack5', 'erack6', 'erack7']\n    }\n\n@roles('rack_machines')\ndef host_type():\n    run('uname -s')\n</code></pre>\n\n<p>So, for my task <code>host_type()</code>, I'd like its role to be <code>rack_machines</code> if I'm in the same network as <code>rack4</code>, <code>rack5</code>, etc. Otherwise, I'd like its role to be <code>external_rack_machines</code>, therefore going through the gateway to access those same machines.</p>\n\n<p>Maybe there's a way to do this with ssh config alone. Here's a snippet of my <code>ssh_config</code> file as well:</p>\n\n<pre><code>Host erack4\nHostName company-gw.foo.bar.com\nPort 2261\nUser my_user\n\nHost rack4\nHostName 10.43.21.61\nPort 22\nUser my_user\n</code></pre>\n"},{"tags":["c++","python","constructor","cython","default-constructor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13201886,"title":"Cython and constructors of classes","body":"<p>I have a problem with Cython usage of default constructors. </p>\n\n<p>My C++ class Node is the following </p>\n\n<p><code>Node.h</code></p>\n\n<pre><code>class Node\n{\npublic:\n    Node()\n    { \n        std::cerr &lt;&lt; \"calling no arg constructor\" &lt;&lt; std::endl;\n            w=0.0;\n        d=0.0;\n    }\n    Node(double val, double val2);\n    {\n            std::cerr &lt;&lt; \"calling 2 args constructor\" &lt;&lt; std::endl;\n        this-&gt;w=val;\n        this-&gt;d=val2;\n    }\nprivate:\n    double d,w;\n}\n</code></pre>\n\n<p>is wrapped in Cython as follows</p>\n\n<pre><code>cdef extern from \"Node.h\":\n    cdef cppclass Node:\n        Node() except +\n        Node(double val1, double val2) except +\n        double d\n        double w\n\ncdef class pyNode:\n    cdef Node *thisptr      # hold a C++ instance which we're wrapping\n\n    def __cinit__(self):\n        self.thisptr = new Node()\n\n    def __cinit__(self, double val1, double val2):\n        self.thisptr = new Node(val1,val2)\n\n    def __dealloc__(self):\n        del self.thisptr\n\n    def __repr__(self):\n        return \"d=%s w=%s\" % (self.thisptr.w, self.thisptr.w )\n</code></pre>\n\n<p>The Cython code compiles well, but in particular when called from Python</p>\n\n<pre><code>from pyNode import pyNode as Node\nn=Node(1.0,2.0)\n</code></pre>\n\n<p>I get the expected <code>calling 2 args constructor</code> string,  but if I'm trying to declare a Node object from python using the \"no-arguments\" constructor (which should be correctly declared as <code>__cinit__(self)</code> I'm getting no output, this means that the no-argument constructor is not called!</p>\n\n<p>How can I explicitly call it from the <strong>cinit</strong> method of the wrapped class?</p>\n"},{"tags":["python","django","templates","gis"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13198198,"title":"Search Between Two Models in Django","body":"<p>I apologize in advance is this question is too broad, but I need some help conceptualizing.</p>\n\n<p>The end result is that I want to enable radius-based searching. I am using Django. To do this, I have two classes: Users and Places. Inside the Users class is a function that defines the radius in which people want to search. Inside the Places class I have a function that defines the midpoint if someone enters a city and state and not a zip (i.e., if someone enters New York, NY a lot of zipcodes are associated with that so I needed to find the midpoint).</p>\n\n<p>I have those two parts down. So now I have a radius where people want to search and I know (the estimate) of the places. Now, I am having a tremendous amount of difficulty combining the two, or even thinking about HOW to do this.</p>\n\n<p>I attempted doing the searching against each other in the view, but I ran into a lot of trouble when I was looping through one model in the template but trying to display results based on an if statement of the other model.</p>\n\n<p>It seemed like a custom template tags would be the solution for that problem, but I wanted to make sure I was conceptualizing the problem correctly in the first place. I.e., </p>\n\n<ul>\n<li><p>Do I want to do the displays based on an if statement in the template?</p></li>\n<li><p>Or should I be creating another class based on the other two in my models file?</p></li>\n<li><p>Or should I create a new column for one of the classes in the models file?</p></li>\n</ul>\n\n<p>I suppose my ultimate question is, based on what it is I want to do (enable radius based searching), where/how should most of the work be done? Again, I apologize if the question is overly broad.</p>\n"},{"tags":["python","variables"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":64,"score":-2,"question_id":13201002,"title":"Dynamic Python Variables","body":"<p>I have a simple question:  I have this code:</p>\n\n<pre><code># open an HTML file on my own (Windows) computer\nurl = \"$user data here\"\nwebbrowser.open(url,new=new)\n</code></pre>\n\n<p>I need to have it so that when it is run the user can enter lets say 3 different URL's and have that code created two more times filling in the variable spot with one of the three variables in each part.</p>\n\n<p>I would assume I need a loop but how can I define the variables dynamicly that way if they enter 3 or 5 urls it would generate the code to do that?</p>\n\n<p>Thanks in advance,\nJustin</p>\n"},{"tags":["python","list","for-loop","increment"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":13186671,"title":"How can I get next element in for loop","body":"<p>I have a list with a lot of <code>bool</code> values in it and I want to get this pattern: <code>True, True, False, True, True</code>. To do this I think I need to get the next element in a loop while processing my previous element. How can I do it?</p>\n\n<p>Bonus question: Is there a way to increment the position of an element in a list other than <code>i += 1</code> thing?</p>\n"},{"tags":["c#","python",".net","pdf","adobe"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13201449,"title":"converting csv file to a pdf template?","body":"<p>I am wondering if there was a library to convert a CSV file into an editable PDF?</p>\n\n<p>I have a simple data set in CSV or EXCEL, and I would like to convert it to a PDF, where depending on some logic, it creates check boxes or textboxes that can then be edited by anyone with adobe acrobat.</p>\n\n<p>I would like to also create a field on the pdf where the user can sign their name. </p>\n\n<p>Does such a thing already exist? If not, is there a library I can use in .NET or Python>?</p>\n"},{"tags":["python","paramiko"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13201624,"title":"execute local python script over sshClient() with Paramiko in remote machine","body":"<p>This is my first post in StackOverflow, so I hope to do it the right way! :)</p>\n\n<p>I have this task to do for my new job that needs to connect to several servers and execute a python script in all of them. I'm not very familiar with servers (and just started using paramiko), so I apologize for any big mistakes! </p>\n\n<p>The script I want to run on them modifies the authorized_keys file but to start, I'm trying it with only one server and not yet using the aforementioned script (I don't want to make a mistake and block the server in my first task!). \nI'm just trying to list the directory in the remote machine with a very simple function called getDir(). So far, I've been able to connect to the server with paramiko using the basics (I'm using pdb to debug the script by the way):</p>\n\n<p>try_paramiko.py</p>\n\n<pre><code>#!/usr/bin/python\n\nimport paramiko\nfrom getDir import get_dir\nimport pdb\n\n\ndef try_this(server):\n    pdb.set_trace()\n    ssh = paramiko.SSHClient()\n    ssh.load_host_keys(\"pth/to/known_hosts\")\n    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    my_key = paramiko.RSAKey.from_private_key_file(\"pth/to/id_rsa\")\n    ssh.connect(server, username = \"root\", pkey = my_key)\n    i, o, e = ssh.exec_command(getDir())\n</code></pre>\n\n<p>This is the function to get the directory list:</p>\n\n<p>getDir.py</p>\n\n<pre><code>#!/usr/bin/python\n\nimport os\nimport pdb\n\n\ndef get_dir():\n    pdb.set_trace()\n    print \"Current dir list is:\"\n    for item in os.listdir(os.getcwd()):\n        print item\n</code></pre>\n\n<p>While debugging I got the directory list of my local machine instead of the one from the remote machine... is there a way to pass a python function as a parameter through paramiko? I would like to just have the script locally and run it remotely like when you do it with a bash file from ssh with:</p>\n\n<pre><code>ssh -i pth/to/key username@domain.com 'bash -s' &lt; script.sh\n</code></pre>\n\n<p>so to actually avoid to copy the python script to every machine and then run it from them (I guess with the above command the script would also be copied to the remote machine and then deleted, right?) Is there a way to do that with paramiko.sshClient()?</p>\n\n<p>I have also tried to modify the code and use the standard output of the channel that creates exec_command to list the directory leaving the scripts like:</p>\n\n<p>try_paramiko.py</p>\n\n<pre><code>#!/usr/bin/python\n\nimport paramiko\nfrom getDir import get_dir\nimport pdb\n\n\ndef try_this(server):\n    pdb.set_trace()\n    ssh = paramiko.SSHClient()\n    ssh.load_host_keys(\"pth/to/known_hosts\")\n    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    my_key = paramiko.RSAKey.from_private_key_file(\"pth/to/id_rsa\")\n    ssh.connect(server, username = \"root\", pkey = my_key)\n    i, o, e = ssh.exec_command(getDir())\n    for line in o.readlines():\n        print line\n    for line in e.readlines():\n        print line    \n</code></pre>\n\n<p>getDir.py</p>\n\n<pre><code>def get_dir():\n    return ', '.join(os.listdir(os.getcwd()))\n</code></pre>\n\n<p>But with this, it actually tries to run the local directory list as commands (which actually makes sense they way I have it). I had to convert the list to a string because I was having a TypeError saying that it expects a string or a read-only character buffer, not a list... I know this was a desperate attempt to pass the function... Does anyone know how I could do such thing (pass a local function through paramiko to execute it on a remote machine)?\nIf you have any corrections or tips on the code, they are very much welcome (actually, any kind of help would be very much appreciated!).</p>\n\n<p>Thanks a lot in advance! :)</p>\n"},{"tags":["python","beautifulsoup"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13201840,"title":"BeautifulSoup - extract number","body":"<p>I'm trying to learn how to scrape the web, but I have some problem getting my code to work. The number I want to extract is 77.80 from the code below. The problem I have is to find something that is unique enough to find the information(the place). can you help me with the right code. Thanks in advance!</p>\n\n<pre><code>    &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                    &lt;td align=\"center\" nowrap  valign=\"center\" class=\"small\"&gt;\n                    &lt;a alt=\"Utvald\" class=\"small\" href=\"javascript:QT('/se/skandia/funds/chosen.aspx?tab=5&amp;cid=0P0000T35O&amp;lang=SV&amp;curiso=SEK&amp;country=SE&amp;clientattributes=8&amp;lastpage=Sök fond&amp;LastPageURL=/se/skandia/quickrank/index.aspx?tab=RSLTS|lang=SV|univ=SE1|country=SE|curiso=SEK|mec=|cat=-1|search=|sortby=Custom_4|sortorder=ASC|PageNo=1|Firstletter=','0P0000T35O','600')\"  onmouseout=\"status=''; return true\"&gt;&lt;img src=\"../read/im/sigillsvartsmall_FFFFFF.gif\" border=\"0\" alt=\"Utvald av Skandia\" height=\"12\" width=\"9\"/&gt;&lt;/a&gt;\n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    77.80                           \n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    &lt;!--&lt;img src=\"../read/im/valueSEK.gif\" align=\"texttop\" height=\"10\" width=\"22\"&gt;--&gt;\n                    SEK\n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    1.4\n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    0.5\n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    2.7\n                &lt;/td&gt;\n\n            &lt;td class=\"small\"&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n\n                &lt;td align=\"right\" nowrap  valign=\"top\" class=\"small\"&gt;\n                    6.6\n                &lt;/td&gt;\n</code></pre>\n"},{"tags":["python","web-crawler","scrapy","crawling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13112520,"title":"Importing scrapy.conf.settings generates error","body":"<p>Using scrapy version 0.16. Trying to create a standalone spider runnable from a script as per <a href=\"https://gist.github.com/484009\" rel=\"nofollow\">this gist</a>. Importing the above generates this:</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"./spiderctl.py\", line 8, in &lt;module&gt;\n    from scrapy.conf import settings\n  File \"/usr/local/lib/python2.6/dist-packages/scrapy/conf.py\", line 4, in &lt;module&gt;\n    from scrapy.project import crawler\nImportError: cannot import name crawler\n</code></pre>\n\n<p>The file conf.py contains the line:</p>\n\n<pre><code>from scrapy.project import crawler\n</code></pre>\n\n<p>But the file scrapy.project is only a comment that the module is deprecated and users should instead implement the from_crawler class method. How do I implement this in the context of the code above?</p>\n"},{"tags":["python","r","interface","python-3.x"],"answer_count":3,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1528,"score":8,"question_id":2573132,"title":"What is the best interface from Python 3.1.1 to R?","body":"<p>I am using Python 3.1.1 on Mac OS X 10.6.2 and need an interface to R. When browsing the internet I found out about RPy. Is this the right choice? </p>\n\n<p>Currently, a program in Python computes a distance matrix and, stores it in a file. I invoke R separately in an interactive way and read in the matrix for cluster analysis. In order to\nsimplify computation one could prepare a script file for R then call it from Python and read back the results. Since I am new to Python, I would not like to go back to 2.6. </p>\n"},{"tags":["python","matrix","numpy","rounding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":31,"score":0,"question_id":13201714,"title":"Rounding values in a numpy array resulting from matrix calculation","body":"<p>I have some calculation involving two matrices both represented in <code>numpy</code> arrays.</p>\n\n<p>After the calculation, i obtain a vector of <code>floats</code> represented in another <code>numpy</code> array.</p>\n\n<p>I want to round up/down the values in this resultant vector, e.g. if the calculation gives:</p>\n\n<pre><code>array([1.33333, 2.56, 9.99999, 16.0])\n</code></pre>\n\n<p>then it should be rounded to:</p>\n\n<pre><code>array([1, 3, 10, 16])\n</code></pre>\n\n<p>What is the fastest way to do this?</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":96,"score":3,"question_id":11568291,"title":"Benefit of using threads/Threading module python 2.7","body":"<p>1)  I have read that if I import the threading module in python, CPU bound loads won't see much benefit from using this library because the GIL forces threads to run 1 at a time even if I run code on a multi-core machine. If this is the case what sort of code would benefit from using Python's threading library?</p>\n\n<p>2)  If that's the case for the threading library, then to perform CPU intensive tasks in parallel, such as cross-correlations of two signals, is the multiprocessing module the best module to use?</p>\n\n<p>To make this more concrete, let's say the task I'd like to parallelize is the for loop in the following code, and my machine has only 12 cores.  Suppose my template has a length of ~1000, my image has a length of ~2000 and I have ~1000 signals to sort through:</p>\n\n<pre><code>import numpy as np\n\n###2-D array of shape (points, signals)\nsignals = np.load('signals.npy')\n\n###1-D template array for cross correlation\ntemplateSignal = np.load('template.npy')\n\nfor s in range(signals.shape[2]):\n    xcorr = np.correlate(templateSignal, signal[:,s])\n</code></pre>\n"},{"tags":["python","html","apache","website","cgi-bin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":28,"score":-3,"question_id":13201403,"title":"/usr/lib/cgi-bin/ folder scripts can not be accessed from /var/www","body":"<p>I am studying HTML and CGI. I installed Apache on the ubuntu server, it works fine as I can see the test pages. I put a new webpage that calls a sample Hello world script from /usr/lib/cgi/ bin folder but when I run it I get this error:</p>\n\n<pre><code>Not Found\nThe requested URL /usr/lib/cgi-bin/save_file.py was not found on this server.\n</code></pre>\n\n<p>Access rights for the /usr/lib/cgi-bin are all set to root:root and the permissions for the script are a+x.</p>\n\n<p>The HTML file content is as following (taken from one of the samples online):</p>\n\n<pre><code>enctype=\"multipart/form-data\" action=\"/usr/lib/cgi-bin/save_file.py\" method=\"post\"\n</code></pre>\n\n<p>(I had to remove HTML tags from here as they do not upload correctly but this is the relevant part)</p>\n\n<p>Anybody has any idea why my script - <code>save_file.py</code> is not found?</p>\n"},{"tags":["python","curl","download"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":163,"score":0,"question_id":8756685,"title":"Curl only save if not 404","body":"<p>I'm writing a python program for downloading some pictures of students at my school.</p>\n\n<p>Here is my code: `</p>\n\n<pre><code>import os\ncount = 0\nmax_c = 1000000\nwhile max_c &gt;= count:\n    os.system(\"curl http://www.tjoernegaard.dk/Faelles/ElevFotos/\"+str(count)+\".jpg &gt; \"+str(count)+\".jpg\")\n    count=count+1\n</code></pre>\n\n<p>`</p>\n\n<p>The problem is that i only want so save the jpg if the image exists on the server (not 404), and since i don't have all the image names on the server, i have to send a request for all images between 0 and 1000000, but not all images between 0 and 1000000 exists. So i only want so save the image if it exists on the server. How do i do this (ubuntu)?</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["python","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13201335,"title":"Automatize input_fields declaration from a csv file using python","body":"<p>I keep running into the following problem where I need to declare the input_fields of an input file and I have been just copying and pasting from the file into my variable, adding a comma and quotations.  For example:</p>\n\n<pre><code>input = (\"First Name\", \"Middle Name\", \"Last Name\")\n</code></pre>\n\n<p>I want to automate this process so that my programs can have a line like this:</p>\n\n<pre><code>input = inputize.function1(\"name_of_file.csv\")\n</code></pre>\n\n<p>Where function1 takes the input file (\"name_of_file.csv\") and returns, in this case a tuple with three strings (\"First Name\", \"Middle Name\", \"Last Name\").  As you can imagine this is a pain right now since I have to do this manually for a lot of files, many of which have very many columns...</p>\n\n<p>I think I want the basic structure to look like the following, but I keep thinking there must be a very simple way to take the first line of a csv file, separate each column header, put quotes around it, and put a comma after it, then store the whole thing as a tuple...</p>\n\n<pre><code>def function1(input_file):\n\n  with open(input_file, \"rb\") as infile:\n       for line in infile:\n           split = line.split(\",\")\n           for item in split:\n               input = '\"' + item + '\",\"\n           return input\n</code></pre>\n\n<p>I hope this is helpful for other people too since it seems like a common enough/super annoying manual task, and would definitely appreciate any guidance.</p>\n\n<p><strong>ADDENDUM</strong></p>\n\n<p>I had been writing code like this:</p>\n\n<pre><code>input_fields = (\"First Name\", \"Middle Name\", \"Last Name\")\nreader = csv.DictReader(infile, fieldnames = input_fields)\n</code></pre>\n\n<p>Per your answer below, it seems like the top line is moot as all I have to do is:</p>\n\n<pre><code>reader = csv.DictReader(infile)\n</code></pre>\n"},{"tags":["python","datetime","timestamp","utc"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":4134,"score":2,"question_id":5067218,"title":"get UTC timestamp in python with datetime","body":"<p>Is there a way to get the UTC timestamp by specifying the date? What I would expect:</p>\n\n<pre><code>datetime(2008, 1, 1, 0, 0, 0, 0)\n</code></pre>\n\n<p>should result in</p>\n\n<pre><code> 1199145600\n</code></pre>\n\n<p>Creating a naive datetime object means that there is no time zone information. If I look at the documentation for datetime.utcfromtimestamp, creating a UTC timestamp means leaving out the time zone information. So I would guess, that creating a naive datetime object (like I did) would result in a UTC timestamp. However:</p>\n\n<pre><code>then = datetime(2008, 1, 1, 0, 0, 0, 0)\ndatetime.utcfromtimestamp(float(then.strftime('%s')))\n</code></pre>\n\n<p>results in</p>\n\n<pre><code>2007-12-31 23:00:00\n</code></pre>\n\n<p>Is there still any hidden time zone information in the datetime object? What am I doing wrong?</p>\n"},{"tags":["python","ruby-on-rails","django"],"answer_count":7,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":544,"score":3,"question_id":1783431,"title":"Python Vs Ruby On Rails : on Size","body":"<p>I am planning to do a small web application that will be distributed as a single installable. I have plans to develop this application in either Python/Django or Ruby On Rails. (I am a Java/C++ programmer, hence both these languages are new to me). </p>\n\n<p>My main concern is about the size and simplicity of final installable (say setup.exe). I want it to be small in size and also should be able to pack all required components in it. </p>\n\n<p>Which one among Python/Django and Ruby On Rails is suitable for me?  </p>\n"},{"tags":["python","script","openpyxl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":18,"score":-1,"question_id":13197574,"title":"Python openpyxl column width size adjust","body":"<p>I have following script which is converting CSV file in XLS file but my column size is very narrow, each time i have to drag them with mouse to read data, Anybody know how to set column width in openpyxl, here is the code which i am using.</p>\n\n<pre><code>#!/usr/bin/python2.6\nimport csv\nfrom openpyxl import Workbook\nfrom openpyxl.cell import get_column_letter\n\nf = open('users_info_cvs.txt', \"rU\")\n\ncsv.register_dialect('colons', delimiter=':')\n\nreader = csv.reader(f, dialect='colons')\n\nwb = Workbook()\ndest_filename = r\"account_info.xlsx\"\n\nws = wb.worksheets[0]\nws.title = \"Users Account Information\"\n\nfor row_index, row in enumerate(reader):\n    for column_index, cell in enumerate(row):\n        column_letter = get_column_letter((column_index + 1))\n        ws.cell('%s%s'%(column_letter, (row_index + 1))).value = cell\n\nwb.save(filename = dest_filename)\n</code></pre>\n"},{"tags":["python","implementation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13200806,"title":"Implementing error message for code in Python","body":"<pre><code>def parse(expression):\n    operators= set(\"*/+-\")\n    numbers= set(\"0123456789\")#not used anywhere as of now\n    opExtrapolate= []\n    numExtrapolate= []\n    buff=[]\n    for i in expression:\n        if i in operators:\n            if len(buff) &gt;0: #prevents buff if multiple operators\n                numExtrapolate.append(''.join(buff))\n            buff= []\n            opExtrapolate.append(i)\n            opExtrapolation=opExtrapolate\n        else:\n            buff.append(i)\n\n\n    numExtrapolate.append(''.join(buff))\n\n    numExtrapolation=numExtrapolate\n    print(numExtrapolation)\n    print(\"z:\", len(opExtrapolation))\n    return numExtrapolation, opExtrapolation\n\ndef errors():\n\n    numExtrapolation,opExtrapolation=parse(expression)\n    #Error for muliple operators\n    if (len(numExtrapolation) ==3) and (len(opExtrapolation) !=2):\n        print(\"Bad1\")\n    if (len(numExtrapolation) ==2) and (len(opExtrapolation) !=1):\n        print(\"Bad2\")\n    #\n</code></pre>\n\n<p>I posted similar code in an older question however the premise for questions is different in this post.</p>\n\n<p>The code above takes a mathematical input entered in a variable expression by the user and it splits it into operands and operators. The errors function will later print errors if the input is incorrect.</p>\n\n<p>Input would look something like this , where the operators can only be in the set(\"*/+-\") and operands are real numbers. so an example input would be 45/23+233</p>\n\n<p>With the help of an SO user I was able to get one of the errors to work(error for multiple operators), but I am having trouble implementing a few more error messages.</p>\n\n<p>1)If the input contains items that are not numbers or not the allowed operators then an error message is displayed</p>\n\n<p>2)If a user enters a number such as .23 or something like 554. where there is no number before the decimal place or after the decimal place then a different error is displayed.(note that a number like 0.23 is fine).</p>\n\n<p>3)If the user attempts to divide by zero an error is displayed.</p>\n\n<p>::What I have tried:</p>\n\n<p>In the else statement of parse(), I tried to put conditions on buff.append(i) so that it would only run that code if buff.isdigit()==true but I got errors saying that there were no digits in buff. I also tried creating a set called \"numbers\"(in code below) and limiting buff.append(i) to that set through a for statement similar to the initial for statement. But unfortunately nothing worked. Any and all help would be appreciated.</p>\n\n<p>Please don't introduce large amounts of code more advanced than the code below. I am trying to fix a problem, not completely change my code. Thanks for all your help.</p>\n"},{"tags":["python","windows","cmd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":62,"score":-1,"question_id":13200900,"title":"Python not running from cmd in Windows 8 after upgrade","body":"<p>I can run the command line version of Python but I cannot seem to run it from the command prompt. I have recently upgraded from Windows 7 to Windows 8 and it worked fine with Windows 7. Now Windows 8 will not recognize Python. Thanks, William</p>\n"},{"tags":["python","configparser"],"answer_count":7,"favorite_count":3,"up_vote_count":16,"down_vote_count":0,"view_count":8117,"score":16,"question_id":335695,"title":"Lists in ConfigParser","body":"<p>The typical ConfigParser generated file looks like:</p>\n\n<pre><code>[Section]\nbar=foo\n[Section 2]\nbar2= baz\n</code></pre>\n\n<p>Now, is there a way to index lists like, for instance:</p>\n\n<pre><code>[Section 3]\nbarList={\n    item1,\n    item2\n}\n</code></pre>\n\n<p>Related question: <a href=\"http://stackoverflow.com/questions/287757/pythons-configparser-unique-keys-per-section\">Python’s ConfigParser unique keys per section</a></p>\n\n<p>? Thanks in advance</p>\n"},{"tags":["python","game"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13197752,"title":"get this combat engine working?","body":"<p>Currently stuck on exercise 36 of Zed Shaw's <a href=\"http://www.learnpythonthehardway.org\" rel=\"nofollow\">LPTHW</a> and I could really use some help figuring out why this combat engine I made isn't working. I rewrote an earlier attempt to try to make it more clear. Here is the relevant code I believe, I apologize if its too long, but as a newbie I'm not entirely sure what is relevant.</p>\n\n<pre><code>#Check to hit and applies damage / crit + damage use p for player and m for monster\n\ndef hit_check(x):\n\n    global current_hp, monster_current_hp, to_hit, monster_to_hit, crit\n    global monster_crit, dmg, monster, monster_dmg\n\n    if x == 'p':\n        if d20() &gt;= to_hit and d100() &lt;= crit:\n            monster_current_hp = monster_current_hp - dmg * 3\n            print \"You critically wounded the %s!\" % monster\n            next()\n        elif d20() &gt;= to_hit and d100() &gt; crit:\n            monster_current_hp = monster_current_hp - dmg\n            print \"You wounded the %s!\" % monster\n            next()\n        else: \n            print \"You missed the %s.\" % monster\n            next()\n    elif x == 'm': \n        if d20() &gt;= monster_to_hit and d100() &lt;= monster_crit:\n            current_hp = current_hp - monster_dmg * 3\n            print \"The %s critically wonded %s!\" % (monster, name)\n            next()\n        elif d20() &gt;= to_hit and d100() &gt; crit:\n            current_hp = current_hp - dmg\n            print \"The %s wounded %s.\" % (monster, name)\n            next()\n        else:\n            print \"The %s missed %s.\" % (monster, name)\n            next()\n    else:\n        print \"Ray diddnt correctly assign a hit check\"\n        exit(0)\n\n\n# Combat engine / prompt\n\ndef combat_engine():\n\n    global current_hp, monster_current_hp, wins, gold, hit_points, p, m\n\n    \"\"\"Will choose a monster, and then allow the player to fight monster\"\"\"\n\n    global current_hp, monster_current_hp, prompt\n\n    if wins == 0:\n        choose_monster(level_zero_monsters)\n    elif wins == 1: \n        choose_monster(level_one_monsters)\n    elif wins == 2:\n        choose_monster(level_two_monsters)\n    elif wins == 3: \n        choose_monster(level_three_monsters)\n    elif wins == 4:\n        choose_monster(level_four_monsters)\n    else:\n        print \"bug in choosing monsters over wins\"\n        exit(0)\n\n    print \"\"\"\nWelcome  %s to the Arena\n\nToday you will be fighting a %s\n\nDescription of monster: %s\n          \"\"\" % (name, monster, description)\n    next()\n\n    running = True\n\n\n    while running:\n        if current_hp &gt; 0 and monster_current_hp &gt; 0:\n            prompt = raw_input(\"Type 'a' to attack, 's' for stats, 'q' for quit :&gt; \")\n            if prompt == 'a':\n                hit_check('p')\n                hit_check('m')\n        elif current_hp &lt;= 0:\n            break\n            print \"You were killed by the %s, better luck next time.\"\n            exit()\n        elif monster_current_hp &lt;= 0: \n            break\n            print \"You defeated the %s! Great Job!\"\n            next()\n            if wins == 0:\n                gold_earned = d6() + 2\n            elif wins == 1:\n                gold_earned = d6() + d6() + 2\n            elif wins == 2:\n                gold_earned = d6() + d6() + 4\n            elif wins == 3:\n                gold_earned = d6() + d6() + 5\n            elif wins == 4:\n                gold_earned = d6() + d6() + 6\n            else:\n                break\n                print \"There is a bug you have wins than allowed\"\n                exit(0)\n\n            gold = gold + gold_earned\n            print \"You win %d gold, you have %d gold total.\" % (gold_earned,\n                                                                gold)\n            wins = wins + 1\n            hit_points = hit_points + d6()\n            hit_points = current_hp\n            print \"You feel hardier. You make your way back to the barracks.\"\n            next()\n            barracks()\n\n        else:\n            break\n            print \"Bug in combat engine\"\n            exit(0) \n</code></pre>\n\n<p>When I run this here is what the terminal prints, It's for some reason dumping to the inventory party of my code. </p>\n\n<pre><code>Welcome  Ray to the Arena\n\nToday you will be fighting a goblin\n\nDescription of monster: A tiny miserable creature that lives to eat shit.\n\nPress Enter To Continue...\nType 'a' to attack, 's' for stats, 'q' for quit :&gt; a\nYou missed the goblin.\nPress Enter To Continue...\nThe goblin missed Ray.\nPress Enter To Continue...\nType 'a' to attack, 's' for stats, 'q' for quit :&gt; a\nYou wounded the goblin!\nPress Enter To Continue...\nThe goblin wounded Ray.\nPress Enter To Continue...\n\nYour current weapon is now a dagger. Press Enter To Continue\n\nlogout\n\n[Process completed]\n</code></pre>\n\n<p>Any help or advice as to how to tackle this issue would be greatly appreciated. </p>\n\n<p>edit: Here is the whole code so people can get it to run.</p>\n\n<pre><code># Imports, lots of imports, \n\nfrom random import randint\n\nfrom random import choice\n\nimport pprint\n\nfrom sys import exit\n\n#Setting some core stats\nwins = 0\ntimes_trained = 0\ngold = randint(1, 3) + 2\n\n#Some Quips for the barracks\ndef gladiator_quips():\n\n    q = []\n    q.append('A warrior grunts, \"A sword is more versatile than other weapons.\"')\n    q.append('A rogue remarks \"Oi I heard that training improves your primary skills.\"')\n    q.append('A wench stats \"At least you can fight for your freedom %s.\"' % character_class)\n    q.append('A drunk sings you a song of the legend of Doobieus poorly.')\n    q.append('A guard remarks how his polearm gets more lucky hits')\n    q.append('A slave mentions that maces pack a heavy punch.')\n    q.append('A barkeep laments \"I need a vacation.\"')\n    q.append('A one eyed gladiator recalls his youth before slavers killed his family.')\n    q.append('A child remarks how training can affect abilities.')\n    quips = choice(q)\n    print quips\n\n\n#nice little function that brings up the next page prompt\ndef next():\n    raw_input(\"Press Enter To Continue...\")\n\n# Barracks need to restrict training after training. Also need to \n# add training restrictions. \ndef barracks():\n    print  \"\"\"\nWelcome to the barracks %s\n                                                    ^^^^ ^^^^^^^^^^^^^^^^\n                                                   &gt;----&lt;|arena|training|&gt;\n ~                     MMM    ~                   &lt;|shop&lt;| _   |   __   |&gt;\n{ } mmm      ~~~      [~~~]  { } mmm      ~~~     &lt;|    &lt;|{}\\  |  /{}\\  |&gt;\n{ } |||D   _______    [~~~]  { } |||D   _______   &lt;|     -||-  |  -||-  |&gt;\n{ } |||   &lt;uuuuuuu&gt;   [~~~]  { } |||   &lt;uuuuuuu&gt;  &lt;|     |||   |   ||   |&gt;\n-------------------------------------------------------------------------\n\nThere are several other gladiators moving around, you may 'talk' to them.\n\nYou can take a look at your 'stats' \n\nYou can 'shop' for new weapons. \n\nYou may enroll in skill 'training' nearby.\n\nYou may face your next opponent in the 'arena'.\n\nYou may give up on your quest for freedom &amp; 'quit'\n\"\"\" % name\n\n    answer = raw_input(\":&gt; \")\n    if \"talk\" in answer:\n        gladiator_quips()\n        next()\n        barracks()\n    elif \"stats\" in answer:\n        pp = pprint.PrettyPrinter(indent=30)\n        pp.pprint(character_sheet)\n        next()\n        barracks()\n    elif \"training\" in answer:\n        if times_trained == 0: \n            train()\n        else:\n            print \"The training center is now closed.\"\n            next()\n            barracks()\n    elif \"arena\" in answer:\n        combat_engine()\n\n    elif \"quit\" in answer:\n        print \"You are now a slave forever. Goodbye %s.\" % name\n        exit(0)\n    elif \"shop\" in answer:\n        if wins == 0:\n            print \"The shop is closed for the day, you must win your first fight\"\n            next()\n            barracks()  \n        elif wins == 1:\n            buy_weapon(level_one_weapons)\n        elif wins == 2:\n            buy_weapon(level_two_weapons)\n        elif wins == 3:\n            buy_weapon(level_three_weapons)\n        elif wins == 4:\n            buy_weapon(level_four_weapons)\n        else:\n            print \"Ray left a bug somewhere. Ballz.\"\n            exit(0)\n    else:\n        print \"I didn't understand %s, please try again.\" % answer\n        next()\n        barracks()\n\n#training code\ndef train_code(stat):\n    if check != 1:\n        gold = gold - 7\n        character_sheet.remove(character_sheet[9])\n        character_sheet.insert(9, \"You have %d gold pieces.\" % gold)\n        times_trained = 1\n        stat = stat + 1\n        if stat == str:\n            character_sheet.remove(character_sheet[3])\n            character_sheet.insert(3, \"Strength: %s\" % str)\n        elif stat == dex:\n            character_sheet.remove(character_sheet[4])\n            character_sheet.insert(3, \"Dexterity: %s\" % dex)\n        elif stat == con:\n            character_sheet.remove(character_sheet[5])\n            character_sheet.insert(3, \"Constiution: %s\" % cond)\n        else:\n            print \"Ray left a stupid bug somewhere\"\n\n        print \"You feel stronger and return to the barracks as training closes.\"\n        next()\n        barracks()\n\n    else: \n        times_trained = 1\n        gold = gold - 7\n        character_sheet.remove(character_sheet[9])\n        character_sheet.insert(9, \"You have %s gold pieces.\" % gold)\n        print \"You feel like the training was useless. You return to the barracks as training closes.\"\n        next()\n        barracks()\n\n# training room\ndef train():\n    global gold, str, dex, con\n    print  \"\"\"\nWelcome %s to the training center.\nYou currently have %d gold pieces.\n\nYou may enroll in one class before each battle.\n\nKeep in mind, there is a chance you will fail to learn anything.\n\nTraining costs 7 gold pieces.\n\nYou may train 'str', 'dex', or 'con'\n\nType 'quit' if you wish to return to the barracks.\n\nWhich stat do you wish to train?\n    \"\"\" % (name, gold)\n\n    answer = raw_input(\":&gt; \")\n    check = randint(1, 6)\n    if 'str' in answer and gold &gt;= 7:\n        train_code(str)\n    elif 'dex' in answer and gold &gt;= 7:\n        train_code(dex)\n    elif 'con' in answer and gold &gt;= 7:\n        train_code(con)\n    elif 'quit' in answer:\n        print \"You leave the training area.\"\n        next()\n        barracks()\n    else: \n        print \"\"\"\"You either dont have enough gold (%s gp,) or you typed in an error (%s)\n\"\"\" % (gold, answer)\n        next()\n        train()\n\n#dice\ndef d20():\n    return randint(1, 20)\n\ndef d100():\n    return randint(1, 100)  \n\ndef d6():\n    return randint(1, 6)    \n\n# Doing Stuff for weapons and the shopkeeper. #################################\n\ndef level_zero_price():\n    \"\"\"Generates the price for level one weapons\"\"\"\n    return randint(1, 3)\n\ndef level_one_price():\n    \"\"\"Generates the price for level two weapons\"\"\"\n    return randint(3, 6)\n\ndef level_two_price():\n    \"\"\"Generates the price for level three weapons\"\"\"\n    return randint(6, 9)\n\ndef level_three_price():\n    \"\"\"Generates the price for level four weapons\"\"\"\n    return randint(9, 12)\n\ndef level_four_price():\n    \"Generates the price for level four weapons\"\"\"\n    return randint(12, 15)\n\n#weapon inventory code\n\ndef weapon_code(weapons):\n    global current_weapon\n    weapon_choice = raw_input(\":&gt; \")\n    if weapons[0] in weapon_choice and gold &gt;= sword_price:\n        gold_math(agile_price) \n        if wins != 0:\n            character_sheet.remove(character_sheet[10])\n        else:\n            current_weapon = weapons[2]\n            inventory(weapons[2])   \n            character_sheet.append(\"Current Weapon: %s\" % current_weapon)\n            barracks()\n\n    elif weapons[1] in weapon_choice and gold &gt;= blunt_price:\n        gold_math(agile_price) \n        if wins != 0:\n            character_sheet.remove(character_sheet[10])\n        else:\n            current_weapon = weapons[2]\n            inventory(weapons[2])   \n            character_sheet.append(\"Current Weapon: %s\" % current_weapon)\n            barracks()\n\n    elif weapons[2] in weapon_choice and gold &gt;= agile_price:\n        gold_math(agile_price) \n        if wins != 0:\n            character_sheet.remove(character_sheet[10])\n        else:\n            current_weapon = weapons[2]\n            inventory(weapons[2])   \n            character_sheet.append(\"Current Weapon: %s\" % current_weapon)\n            barracks()\n\n    elif \"quit\" in weapon_choice and wins != 0:\n            barracks()\n\n    elif \"quit\" in weapon_choice and wins == 0:\n        print \"You must buy a weapon first before you can go to the barracks.\"\n        next()\n        buy_weapon(level_zero_weapons)\n\n    else: \n        print \"Either you dont have enough money, or I dont know what %s means\" % weapon_choice\n        next()\n        buy_weapon(weapons)\n\n# price display\ndef prices(weapons):\n    print  \"\"\"\nPlease type in the weapon you want to buy.\n\n%s, price: %d gold pieces\n\n%s, price: %d gold pieces\n\n%s, price: %d gold pieces.\n\"\"\" % (weapons[0], sword_price, weapons[1], blunt_price,weapons[2], \n       agile_price)\n\n\n\n# gold buying\ndef gold_math(weapon_price):\n    global gold\n    character_sheet.remove(character_sheet[9])\n    gold = gold - weapon_price\n    character_sheet.insert(9, \"You have %s gold pieces.\" % gold) \n\n### Shop / buy weapons room ###############\n\ndef buy_weapon(weapons):\n    global gold, sword_price, blunt_price, agile_price, current_weapon\n    \"\"\"big bit of code that allows you to buy a weapons from a weapon list.\nThe function acts a little differently after level zero weapons\"\"\"\n    global current_weapon\n    if weapons == level_zero_weapons:\n        sword_price = level_zero_price()\n        blunt_price = level_zero_price()\n        agile_price = level_zero_price()\n\n        prices(level_zero_weapons)\n        weapon_code(level_zero_weapons)\n\n    elif weapons == level_one_weapons:\n        sword_price = level_one_price()\n        blunt_price = level_one_price()\n        agile_price = level_one_price()\n\n        prices(level_one_weapons)\n        weapon_code(level_one_weapons)\n\n    elif weapons == level_two_weapons:\n        sword_price = level_two_price()\n        blunt_price = level_two_price()\n        agile_price = level_two_price()\n\n        prices(level_two_weapons)\n        weapon_code(level_two_weapons)\n\n    elif weapons == level_three_weapons:\n        sword_price = level_three_price()\n        blunt_price = level_three_price()\n        agile_price = level_three_price()\n\n        prices(level_three_weapons)\n        weapon_code(level_three_weapons)\n\n    elif weapons == level_four_weapons:\n        sword_price = level_four_price()\n        blunt_price = level_four_price()\n        agile_price = level_four_price()\n\n        prices(level_four_weapons)\n        weapon_code(level_four_weapons)\n\n    else:\n        print\"~~~There is a bug somwhere, forgot to assign (weapons)\\n\\n\\n\"\n    raw_input(\"\"\"\nYour current weapon is now a %s. Press Enter To Continue\n\"\"\" % current_weapon)\n\ndef inventory(current_weapon):\n    \"\"\"Attaches modifiers to secondary stats according to current weapon \"\"\"\n    global mod_dmg, mod_crit\n\n    if current_weapon == level_zero_weapons[0]:\n        mod_dmg = dmg\n        mod_crit = crit\n    elif current_weapon == level_zero_weapons[1]:\n        mod_dmg = dmg + 1\n        mod_crit = crit\n    elif current_weapon == level_zero_weapons[2]:\n        mod_dmg = dmg\n        mod_crit = crit + 3\n    elif current_weapon == level_one_weapons[0]:\n        mod_dmg = dmg + 1\n        mod_crit = crit + 3\n    elif current_weapon == level_one_weapons[1]:\n        mod_dmg = dmg + 2\n        mod_crit = crit\n    elif current_weapon == level_one_weapons[2]:\n        mod_dmg = dmg\n        mod_crit = crit + 5\n    elif current_weapon == level_two_weapons[0]:\n        mod_dmg = dmg + 1\n        mod_crit = crit + 5\n    elif current_weapon == level_two_weapons[1]:\n        mod_dmg = dmg + 3\n        mod_crit = crit \n    elif current_weapon == level_two_weapons[2]:\n        mod_dmg = dmg\n        mod_dmg = crit + 6\n    elif current_weapon == level_three_weapons[0]:\n        mod_dmg = dmg + 2\n        mod_crit = crit + 5\n    elif current_weapon == level_three_weapons[1]: \n        mod_dmg = dmg + 4\n        mod_crit = crit + 3\n    elif current_weapon == level_three_weapons[2]:\n        mod_dmg = dmg + 1\n        mod_crit = + 8\n    elif current_weapon == level_four_weapons[0]:\n        mod_dmg = dmg + 3\n        mod_crit = crit + 7\n    elif current_weapon == level_four_weapons[1]:\n        mod_dmg = dmg + 5\n        mod_crit = crit + 5\n    elif current_weapon == level_four_weapons[2]:\n        mod_dmg = dmg + 2\n        mod_crit = crit + 10\n    else: \n        print\"There is a bug, ray forgot a weapon or typed shit wrong.\"\n        exit(0)\n\n#End Of Buying / Inventory functions ########################################## \n\n#function for monster damage\n\ndef monster_dice(a, b):\n    return randint(a, b)\n\n#Function for monster stats\ndef monster_stats(a, b, c, d):  \n    global monster_current_hp, monster_crit, monster_dmg, monster_to_hit\n    monster_current_hp = a\n    monster_crit = b\n    monster_dmg = monster_dice(1, c)\n    monster_to_hit = d\n\n# Chooses a random monster and sets stats\ndef choose_monster(monster_list):\n    global monster, description\n    if monster_list == level_zero_monsters:\n        monster = choice(level_zero_monsters)\n        if monster == 'wolf':\n            monster_stats(4, 5, 6, 12)\n            description = \"A small and angry dog like creature.\"\n        elif monster == 'goblin':\n            monster_stats(5, 7, 5, 10)\n            description = \"A tiny miserable creature that lives to eat shit.\"\n        elif monster == 'kobold':\n            monster_stats(6, 10, 4, 9)\n            description = \"A small humaniod lizard, very sneaky and annoying\"\n        else:\n            print \"Bug in choose monster level 0\"\n            exit(0)\n\n    elif monster_list == level_one_monsters:\n        monster = choice(level_one_monsters)\n        if monster == 'orc':\n            monster_stats(6, 8, 6, 10)\n            description = \"A human sized horrid creature, smells awful.\"\n        elif monster == 'gnoll':\n            monster_stats(7, 10, 8, 12)\n            description = \"A large humanoid dog, they can cackle for hours.\"\n        elif monster == 'giant ant':\n            monster_stats(8, 7, 7, 11)\n            description = \"A large and terrifying insect, it makes clicking noises.\"\n        else:\n            print \"Bug in choose monster level 1\"\n            exit(0)\n\n    elif monster_list == level_two_monsters:\n        enemy = choice(level_two_monsters)\n        if monster == 'wight':\n            monster_stats(9, 10, 10, 12)\n            description = \"A powerful undead warrior, terrifying in size.\"\n        elif monster == 'komodo dragon':\n            monster_stats(7, 12, 8, 10)\n            description = \"A deadly man sized lizard, very sharp teeth.\"\n        elif monster == 'ogre':\n            monster_stats(10, 5, 12, 11)\n            description = \"A Big and strong stupid ogre.\"\n        else:\n            print \"Bug in monster level 2\"\n\n    elif monster_list == level_three_weapons:\n        monster = choice(level_three_monsters)\n        if monster == 'troll':\n            monster_stats(12, 7, 12, 11)\n        elif monster == 'owlbear':\n            monster_stats(10, 12, 11, 10)\n        elif monster == 'dark priest':\n            monster_stats(9, 13, 10, 9) \n        else:\n            print \"Bug in monster level 3\"\n\n    elif monster_list == level_four_monsters:\n        monster = choice(level_four_monsters)\n        if monster == 'dark wizard':\n            monster_stats(11, 15, 12, 9)\n        elif monster == 'hydra':\n            monster_stats(12, 14, 15, 10)\n        elif monster == 'stone golem':\n            monster_stats(15, 13, 13, 11)\n        else:\n            print \"Problem with monster level 4\"\n    else:\n        print \"Ray left diddnt assign a correct combat(argv)\"\n        exit(0)\n\n#Check to hit and applies damage / crit + damage use p for player and m for monster\n\ndef hit_check(x):\n\n    global current_hp, monster_current_hp, to_hit, monster_to_hit, crit\n    global monster_crit, dmg, monster, monster_dmg\n\n    if x == 'p':\n        if d20() &gt;= to_hit and d100() &lt;= crit:\n            monster_current_hp = monster_current_hp - dmg * 3\n            print \"You critically wounded the %s!\" % monster\n            next()\n        elif d20() &gt;= to_hit and d100() &gt; crit:\n            monster_current_hp = monster_current_hp - dmg\n            print \"You wounded the %s!\" % monster\n            next()\n        else: \n            print \"You missed the %s.\" % monster\n            next()\n    elif x == 'm': \n        if d20() &gt;= monster_to_hit and d100() &lt;= monster_crit:\n            current_hp = current_hp - monster_dmg * 3\n            print \"The %s critically wonded %s!\" % (monster, name)\n            next()\n        elif d20() &gt;= to_hit and d100() &gt; crit:\n            current_hp = current_hp - dmg\n            print \"The %s wounded %s.\" % (monster, name)\n            next()\n        else:\n            print \"The %s missed %s.\" % (monster, name)\n            next()\n    else:\n        print \"Ray diddnt correctly assign a hit check\"\n        exit(0)\n\n\n# Combat engine / prompt\n\ndef combat_engine():\n\n    global current_hp, monster_current_hp, wins, gold, hit_points, p, m\n\n    \"\"\"Will choose a monster, and then allow the player to fight monster\"\"\"\n\n    global current_hp, monster_current_hp, prompt\n\n    if wins == 0:\n        choose_monster(level_zero_monsters)\n    elif wins == 1: \n        choose_monster(level_one_monsters)\n    elif wins == 2:\n        choose_monster(level_two_monsters)\n    elif wins == 3: \n        choose_monster(level_three_monsters)\n    elif wins == 4:\n        choose_monster(level_four_monsters)\n    else:\n        print \"bug in choosing monsters over wins\"\n        exit(0)\n\n    print \"\"\"\nWelcome  %s to the Arena\n\nToday you will be fighting a %s\n\nDescription of monster: %s\n          \"\"\" % (name, monster, description)\n    next()\n\n    running = True\n\n\n    while running:\n        if current_hp &gt; 0 and monster_current_hp &gt; 0:\n            prompt = raw_input(\"Type 'a' to attack, 's' for stats, 'q' for quit :&gt; \")\n            if prompt == 'a':\n                hit_check('p')\n                hit_check('m')\n        elif current_hp &lt;= 0:\n            break\n            print \"You were killed by the %s, better luck next time.\"\n            exit()\n        elif monster_current_hp &lt;= 0: \n            break\n            print \"You defeated the %s! Great Job!\"\n            next()\n            if wins == 0:\n                gold_earned = d6() + 2\n            elif wins == 1:\n                gold_earned = d6() + d6() + 2\n            elif wins == 2:\n                gold_earned = d6() + d6() + 4\n            elif wins == 3:\n                gold_earned = d6() + d6() + 5\n            elif wins == 4:\n                gold_earned = d6() + d6() + 6\n            else:\n                break\n                print \"There is a bug you have wins than allowed\"\n                exit(0)\n\n            gold = gold + gold_earned\n            print \"You win %d gold, you have %d gold total.\" % (gold_earned,\n                                                                gold)\n            wins = wins + 1\n            hit_points = hit_points + d6()\n            hit_points = current_hp\n            print \"You feel hardier. You make your way back to the barracks.\"\n            next()\n            barracks()\n\n        else:\n            break\n            print \"Bug in combat engine\"\n            exit(0)\n\ndef you_win():\n print  \"\"\"\n YOU WIN!\n\n CONGRATULATIONS! \n\n THANKS FOR PLAYING!\n \"\"\"        \n\n\n# Monster List\nlevel_zero_monsters = ['wolf', 'goblin', 'kobold']\nlevel_one_monsters = ['orc', 'gnoll', 'giant ant',]\nlevel_two_monsters = ['wight', 'komodo dragon', 'ogre']\nlevel_three_monsters = ['troll', 'owlbear', 'dark priest']\nlevel_four_monsters = ['dark wizard', 'hydra', 'stone golem']\n\n# Weapon lists \nlevel_zero_weapons = ['short sword', 'club', 'dagger']\nlevel_one_weapons = ['sword', 'mace', 'rapier']\nlevel_two_weapons = ['long sword', 'morningstar', 'trident']\nlevel_three_weapons = ['claymore', 'flail', 'sycthe']\nlevel_four_weapons = ['bastard sword', 'dragon bone', 'crystal halbred']\n\ndef roll_3d6():\n    \"\"\"This rolls 3D6, and returns the sum.\"\"\"\n    return randint(1, 6) + randint(1, 6) + randint(1, 6)\n\ndef character_gen():\n    \"\"\"Creates A character and also can call character sheet\"\"\"\n    global name, str, dex, con, hit_points, dmg, crit, character_class\n    global gender, damage_print, current_hp, character_sheet, to_hit\n\n    character_sheet = []\n    name = raw_input(\"Please tell me your name brave soul. :&gt; \")\n\n    print \"\\n\\t\\tLets now randomly generate brave gladiator %s.\" % name\n\n    str = roll_3d6()\n    if str &gt; 12:\n        dmg = randint(1, 6) + 1\n        damage_print = \"1D6 + 1\"\n    else:\n        dmg = randint(1, 6)\n        damage_print = \"1D6\"\n\n    dex = roll_3d6()\n    if dex &gt;= 13:\n        crit = 15\n        to_hit = 9\n    elif dex &gt;= 9 and dex &lt;=12:\n        crit = 10\n        to_hit = 10\n    else:\n        crit = 10\n        to_hit = 11\n\n    con = roll_3d6()\n    if con &gt; 14:\n        hit_points = 8\n        current_hp = hit_points\n    else:\n        hit_points =  6\n        current_hp = hit_points\n\n    if str &gt;= dex:\n        character_class = \"Warrior\"\n    else:\n        character_class = \"Rogue\"\n\n    random_gender = randint(1, 2)\n    if random_gender == 1:\n        gender = \"Male\"\n    else:\n        gender = \"Female\"   \n\n    character_sheet.append(\"Name: %s:\" % name)  \n    character_sheet.append(\"Gender: %s\" % gender)\n    character_sheet.append(\"Character Class: %s\" % character_class)\n    character_sheet.append(\"Strength: %s\" % str)\n    character_sheet.append(\"Dexterity: %s\" % dex)\n    character_sheet.append(\"Constitution: %s\" % con)\n    character_sheet.append(\"Damage %s\" % damage_print)\n    character_sheet.append(\"Crit Chance {}%\".format(crit))\n    character_sheet.append(\"Hit Points: %s/%s\" % (hit_points, current_hp))\n    character_sheet.append(\"You have %s gold pieces.\" % gold)\n\n    pp = pprint.PrettyPrinter(indent=30)\n    pp.pprint(character_sheet)\n    raw_input(\"Please Press Enter To Buy A Weapon\")\n    buy_weapon(level_zero_weapons)\n\n#main\ncharacter_gen()\n</code></pre>\n"},{"tags":["python","ftplib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13095382,"title":"Python FTP downloading - Ignore files that already exist in download directory","body":"<p>I have a script that pulls files from a FTP directory on a set interval. However, since the files are only being copied, not moved, it ends up pulling the same files over and over again. What's the best way to ensure that I am only pulling new files? I'm thinking of cross referencing the files on the FTP site with the files in the local directory, but not quite sure how to do that. Also, how would I go about not only checking file names, but modified dates as well? For example: random_file.txt was originally placed on the FTP site on 10/25/2012 at 2:15 pm and was downloaded 5 minutes later. Then, on 10/26/2012 at 11:40 am, random_file.txt was replaced on the FTP site with an updated version. Can I download from the FTP site and/or overwrite files on the local directory only the newer files? Thanks!</p>\n\n<p>Here is my existing code:</p>\n\n<pre><code>import ftplib, os\n\ndef fetch():\n    server = 'ftp.example.com'\n    username = 'foo'\n    password = 'bar'\n    directory = '/random_directory/'\n    filematch = '*.txt'\n    ftp = ftplib.FTP(server)\n    ftp.login(username, password)\n    ftp.cwd(directory)\n    for filename in ftp.nlst(filematch):\n        fhandle = open(os.path.join('C:my_directory', filename), 'wb')\n        print 'Getting ' + filename\n        ftp.retrbinary('RETR ' + filename, fhandle.write)\n        fhandle.close()\n</code></pre>\n\n<p><strong>UPDATE:</strong> So I used Siddharth Toshniwal's links to figure it out, partially at least. For those that may stumble across this and need it, here is my new code so far. Note this only checks for the existence of the file, not it's modified date:</p>\n\n<pre><code>for filename in ftp.nlst(filematch):\n        if os.path.exists('C:\\my_directory\\\\' + filename) == False:\n            fhandle = open(os.path.join('C:\\my_directory', filename), 'wb')\n            print 'Getting ' + filename\n            ftp.retrbinary('RETR ' + filename, fhandle.write)\n            fhandle.close()\n        elif os.path.exists(('C:\\my_directory\\\\' + filename)) == True:\n            print 'File ', filename, ' Already Exists, Skipping Download'\n</code></pre>\n"},{"tags":["python","filter","zmq","pyzmq"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13183980,"title":"Get a particular message from ZMQ Sub Queue","body":"<p>I have a python messaging application that uses ZMQ. Each object has a PUB and a SUB queue, and they connect to each other. In some particular cases I want to wait for a particular message in the SUB queue, leaving the ones that I am not interested for later processing. </p>\n\n<p>Right now, I am getting all messages and queuing those I am not interested in a Python Queue, until I found the one I am waiting for. But his means that in each processing routing I need to check first in the Python Queue for old messages. Is there a better way?</p>\n"},{"tags":["python","django","django-settings","python-import","execfile"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":202,"score":2,"question_id":11703327,"title":"Python: 'import *' vs execfile","body":"<p>In some of my Django apps I'm using a <code>settings_local.py</code> file to override settings that are different on various environments (e.g. development, test and production). I have originally used the following code to include its contents in the <code>settings.py</code>:</p>\n\n<pre><code>try:\n    from settings_local import *\nexcept ImportError:\n    sys.stderr.write(\"The settings_local.py file is missing.\\n\")\n    DEBUG=False\n</code></pre>\n\n<p>I have recently found the <code>execfile</code> function and switched to something like:</p>\n\n<pre><code>try:\n    execfile(path.join(PROJECT_ROOT, \"settings_local.py\"))\nexcept IOError:\n    sys.stderr.write(\"The settings_local.py file is missing.\\n\"\n    DEBUG=False\n</code></pre>\n\n<p>Both work as intended, but I'm curious whether I'm missing any gotchas, and in general which approach is more recommended and why.</p>\n"},{"tags":["python","cjk"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":143,"score":3,"question_id":9166130,"title":"What are the upper and lower bound for Chinese char in UTF-8?","body":"<p>I would like to make a set in python contains all the <code>ord()</code> of the Chinese chars:</p>\n\n<p>for English the equivalent is :</p>\n\n<pre><code>english = set(range(ord('a'),ord('z') + 1 ) +\n              range(ord('A'),ord('Z') + 1 ))\n</code></pre>\n"},{"tags":["python"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":63,"score":0,"question_id":13200124,"title":"How to each item in list with all values of another list in Python","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/798854/all-combinations-of-a-list-of-lists\">All combinations of a list of lists</a>  </p>\n</blockquote>\n\n\n\n<p>I've been trying to use python to add two lists of strings together and I can't get it work with the different arrangements of for loops that I've tried.  What I have is two lists and I want to make a third list from the other two, so that index[0] from list 1 has all of the indexes from list 2 added to it in turn (each being a separate entry in the new list), and then the same for index[1] from list1, and so on..</p>\n\n<pre><code>snippets1 = [\"aka\", \"btb\", \"wktl\"]\nsnippets2 = [\"tltd\", \"rth\", \"pef\"]\n\nresultlist = [\"akatltd\", \"akarth\", \"akapef\", \"btbtltd\", \"btbrth\", \"btbpef\", \"wktltltd\", \"wktlrth\", \"wktlpef\"]\n</code></pre>\n\n<p>I know the answer is simple but no matter what I do I keep get something that doesn't work at all, or it adds snippets1[0] to snippets2[0], snippets1[1] to snippets2[1] and so on.  Help please!</p>\n"},{"tags":["python","python-2.7","metaprogramming","dynamic-function"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13199329,"title":"Python dynamically created custom named functions","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13184281/python-dynamic-function-creation-with-custom-names\">Python dynamic function creation with custom names</a>  </p>\n</blockquote>\n\n\n\n<p>I have written a little script to determine whether what I wanted to do is possible. It is. </p>\n\n<p>My goal is to dynamically (at runtime) create functions (or methods) which have names based on a list of arbitrary size (size of the list = number of functions dynamically created). \nAll the functions do the same (for now), they just print their arguments.</p>\n\n<p>The following code does exactly what I want, BUT, it is not clean and very brute-force. I'm trying to figure out if there is a better way to do this.</p>\n\n<pre><code>class Binder:\n    def __init__(self, test_cases):\n        \"\"\"\"\n        test_cases: a list of function/method names.\n        length of test_case = number of methods created.\n        \"\"\"\n\n        for test_case in test_cases:\n            #construct a code string for creating a new method using \"exec\" \n            func_str = \"def \"\n            func_str += test_case\n            func_str += \"(*args):\"\n            func_str += \"\\n\\t\"\n            func_str += \"for arg in args:\"\n            func_str += \"\\n\\t\\t\"\n            func_str += \"print arg\"\n            func_str += \"\\n\"\n\n            \"\"\"\n            For example, func_str for test_cases[0]= \"func1\" is simply:\n            def func1(*args):\n                for arg in args:\n                    print arg\n            \"\"\"\n            #use exec to define the function\n            exec(func_str)\n\n            #add the function as a method to this class\n            # for test_cases[0] = \"func1\", this is: self.func1 = func1\n            set_self = \"self.\" + test_case + \" = \" + test_case\n            exec(set_self)\n\nif __name__ == '__main__':\n    #this list holds the names of the new functions to be created\n    test_cases = [\"func1\", \"func2\", \"func3\", \"func4\"]\n    b = Binder(test_cases)\n\n    #simply call each function as the instant's attributes\n    b.func1(1)\n    b.func2(1, 3, 5)\n    b.func4(10)\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>1\n1\n3\n5\n10\n</code></pre>\n\n<p>As expected.</p>\n\n<p><strong>update</strong> the content of the function would not simply be a for loop printing the args, it would do something more meaningful. I get the exact result I want from the piece of code above, just wondering if there is a better way of doing it.</p>\n\n<p><strong>update</strong> I'm tying two ends of a much bigger module. One end determines what the test cases are and among other things, populates a list of the test cases' names. The other end is the functions themselves, which must have 1:1 mapping with the name of the test case. So I have the name of the test cases, I know what I want to do with each test case, I just need to create the functions that have the name of the test cases. Since the name of the test cases are determined at runtime, the function creation based on those test cases must be at runtime as well. The number of test cases is also determined at runtime.</p>\n\n<p>Is there a better way to do this??\nAny and all suggestions welcome.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Mahdi   </p>\n"},{"tags":["python","expression","define"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":688,"score":-3,"question_id":13187939,"title":"define myDict = {}, then myDict[['a', 'b']] = 'foo'","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6698307/a-list-as-a-key-for-a-dictionary\">A list as a key for a dictionary</a>  </p>\n</blockquote>\n\n\n\n<p>Is <code>myDict = {}</code>, then <code>myDict[['a', 'b']] = 'foo'</code> a legal Python expression?</p>\n"},{"tags":["python","sockets","udp","schedule"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13198700,"title":"UDP Server frame gap","body":"<p>I'm new to python and trying to get some help here. I've written a code to transmit UDP data through the socket. I wanted to re-transmit the data in a loop every 50 microsecond but I can only send it every 3 seconds! I'm sure I'm doing something wrong , can you help me out ? I've pasted the code below:</p>\n\n<pre><code>import socket,codecs,binascii,re ,sched, time\n\nUDP_IP = \"XXX.XXX.XXX.XXX\"\n\nUDP_PORT = 30001\nMESSAGE =  '\\x00\\x01\\x02\\x03\\x04\\x05\\x06\\x07\\x08\\t\\n\\x0b\\x0c\\r\\x0e\\x0f\\x10\\\nx11\\x12\\x13\\x14\\x15\\x16\\x17\\x18\\x19\\x1a\\x1b\\x1c\\x1d\\x1e\\x1f\\x20'# !\"#$%' #\"\\x00\\x01\\x02 \"\n\n\ns = sched.scheduler(time.time, time.sleep)    \n\ndef send_data(sc):\n\n    sock = socket.socket(socket.AF_INET, # Internet\n\n                     socket.SOCK_DGRAM) # UDP\n\n    sock.sendto(MESSAGE, (UDP_IP, UDP_PORT))\n\n\n\n    print\"\"\n    print\"\"\n    print\"\"\n    print\"\"\n    print\"\"    \n    sc.enter(0.000050, 1, send_data, (sc,)) \n    print time.time()\n    print\"\"\n    print\"\"\n\ns.enter(0.0000050, 1, send_data, (s,))    \ns.run()    \n</code></pre>\n"},{"tags":["python","json","weather-api"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13200038,"title":"Python JSON formating data managment","body":"<p>Ok I am trying to extract needed data from <strong>JSON</strong> data from <strong>Open weather maps</strong> API in <strong>Python (2.7)</strong>!\nJSON file looks something like this.</p>\n\n<pre><code>{u'calctime': 0.0331,\n u'cnt': 2,\n u'cod': u'200',\n u'list': [{u'clouds': {u'all': 75},\n            u'coord': {u'lat': 45.551109, u'lon': 18.69389},\n            u'distance': 0.001,\n            u'dt': 1351870200,\n            u'id': 3193935,\n            u'main': {u'humidity': 93,\n                      u'pressure': 1008,\n                      u'temp': 287.15,\n                      u'temp_max': 291.18,\n                      u'temp_min': 287.15},\n            u'name': u'Osijek',\n            u'weather': [{u'description': u'broken clouds',\n                          u'icon': u'04d',\n                          u'id': 803,\n                          u'main': u'Clouds'}],\n            u'wind': {u'deg': 70, u'speed': 4.6}},\n           {u'clouds': {u'all': 75},\n            u'coord': {u'lat': 45.568611, u'lon': 18.61389},\n            u'distance': 6.526,\n            u'dt': 1351870200,\n            u'id': 3187657,\n            u'main': {u'humidity': 93,\n                      u'pressure': 1008,\n                      u'temp': 285.43,\n                      u'temp_max': 287.15,\n                      u'temp_min': 282.15},\n            u'name': u'Visnjevac',\n            u'weather': [{u'description': u'light intensity shower rain',\n                          u'icon': u'09d',\n                          u'id': 520,\n                          u'main': u'Rain'}],\n            u'wind': {u'deg': 70, u'speed': 4.6}}],\n u'message': u'Model=GFS-OWM, '}\n</code></pre>\n\n<p>This is weather data for two geographical points. I know how to extract single data from the both points (for example humidity or temperature) by using json package but problem is that I can not extract multiple data of the same type put from different geographical points. In this example I want to extract/print names of those points (osijek, visnjevac).</p>\n\n<p>Is there a way to that  with json encoder/decder?</p>\n"},{"tags":["python","datetime","time"],"answer_count":4,"favorite_count":2,"up_vote_count":18,"down_vote_count":1,"view_count":10877,"score":17,"question_id":5998245,"title":"Get current time in milliseconds in Python?","body":"<p>How can I get the current time in milliseconds in Python? </p>\n\n<p>I'm hitting a roadblock with this; I've done it before but I forgot how. Maybe it's the whole \"waking up at 4 AM this morning\" thing. Can anyone help me out?</p>\n"},{"tags":["python","r","install","rpy2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13055340,"title":"Rpy2 Installation issue, windows 7","body":"<p>I am trying to find solution for my problem, so far not with success.</p>\n\n<p>I am trying to install latest Rpy2 version on my computer. I already have all required programs (R 2.15.1 and 2.7 Python) installed. I am installing Rpy2 (rpy2-2.3.0) trough cmd with command</p>\n\n<p><code>python setup.py build install</code></p>\n\n<p>I am getting this traceback:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):</p>\n  \n  <p>File \"setup.py\", line 441, in </p>\n  \n  <p>[os.path.join('doc', 'source', 'rpy2_logo.png')])],</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\core.py\", line 152, in setup</p>\n  \n  <p>dist.run_commands()</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\dist.py\", line 953, in run_commands</p>\n  \n  <p>self.run_command(cmd)</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\dist.py\", line 972, in run_command</p>\n  \n  <p>cmd_obj.>run()</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\command\\install.py\", line 563, in run</p>\n  \n  <p>self.run_command('build')</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\cmd.py\", line 326, in run_command</p>\n  \n  <p>self.distribution.run_command(command)</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\dist.py\", line 972, in run_command</p>\n  \n  <p>cmd_obj.run()</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\command\\build.py\", line 127, in run</p>\n  \n  <p>self.run_command(cmd_name)</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\cmd.py\", line 326, in run_command</p>\n  \n  <p>self.distribution.run_command(command)</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\dist.py\", line 971, in run_command</p>\n  \n  <p>cmd_obj.ensure_finalized()</p>\n  \n  <p>File \"c:\\Python27\\lib\\distutils\\cmd.py\", line 109, in ensure_finalized</p>\n  \n  <p>self.finalize_options()</p>\n  \n  <p>File \"setup.py\", line 152, in finalize_options</p>\n  \n  <p>config += get_rconfig(r_home, about)</p>\n  \n  <p>File \"setup.py\", line 312, in get_rconfig</p>\n  \n  <p>rc = RConfig.from_string(rconfig, allow_empty = allow_empty)</p>\n  \n  <p>File \"setup.py\", line 272, in from_string</p>\n  \n  <ul>\n  <li>'\\nin string\\n' + string)</li>\n  </ul>\n  \n  <p>ValueError: Invalid substring</p>\n  \n  <p>in string</p>\n</blockquote>\n\n<p>The same error I get when trying to install with </p>\n\n<p><code>easy_install rpy2</code></p>\n\n<p>UPDATE: now the same error shows on the other pc (64bit)</p>\n\n<p>Thanks for help! :D</p>\n"},{"tags":["python","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13199416,"title":"Python 3 - function data member of class","body":"<p>I have a class which should call subprocess.call to run a script as part of it's job.</p>\n\n<p>I've defined the class in a module and at the top of the module I have imported the call function from subprocess.</p>\n\n<p>I am not sure whether I should just use call() inside one of the functions of the class or whether I should make it a data member and then call it via the self.call function object.</p>\n\n<p>I would prefer the latter but I'm not sure how to do this. Ideally I would like not to have subprocess at the top and have something like:</p>\n\n<pre><code>class Base:\n    def __init__():\n        self.call = subprocess.call\n</code></pre>\n\n<p>but the above doesn't work. How would you go about doing this? I'm very new to Python 3.</p>\n"},{"tags":["python","matlab"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":59,"score":-6,"question_id":13200020,"title":"Why is my Python code not performing the same action as the Matlab code?","body":"<p>I try to convert matlab to python:</p>\n\n<p>matlab code:</p>\n\n<pre><code>z = @(x,y) eval(vectorize(f));\n</code></pre>\n\n<p>python code:</p>\n\n<pre><code>def z(x,y):\n eval(vectorize(f))\n</code></pre>\n"},{"tags":["python","osx","wxpython"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13198596,"title":"Python \"import wx\" error","body":"<p>I recently installed python 2.7.3 (from 2.6), and accidentally reinstalled wxPython 2.8 unicode on my Mac. Now, when I try to import wx, I get </p>\n\n<pre><code>&gt;&gt;&gt; import wx\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/wxPython-unicode-2.8.12.1/lib/python2.7/site-packages/wx-2.8-mac-unicode/wx/__init__.py\", line 45, in &lt;module&gt;\n    from wx._core import *\n  File \"/usr/local/lib/wxPython-unicode-2.8.12.1/lib/python2.7/site-packages/wx-2.8-mac-unicode/wx/_core.py\", line 4, in &lt;module&gt;\n    import _core_\nImportError: dlopen(/usr/local/lib/wxPython-unicode-2.8.12.1/lib/python2.7/site-packages/wx-2.8-mac-unicode/wx/_core_.so, 2): no suitable image found.  Did find:\n/usr/local/lib/wxPython-unicode-2.8.12.1/lib/python2.7/site-packages/wx-2.8-mac-unicode/wx/_core_.so: no matching architecture in universal wrapper\n</code></pre>\n\n<p>Why is this? I did <code>defaults write com.apple.versioner.python Prefer-32-Bit -bool yes</code>, and <code>print(\"%x\" % sys.maxsize, sys.maxsize &gt; 2**32)</code> still returns <code>('7fffffffffffffff', True)</code>. Does this mean it's running in 64-bit mode? If so, is that why I'm getting this error?</p>\n\n<p>EDIT: This also happens when importing wx in python2.6. But nothing should have changed, because I have the same version of wxPython.</p>\n\n<p>Another EDIT: Using <code>arch</code>, I've determined that this is happening because it is running in 64-bit mode. However, it is in 64-bit despite <code>Prefer-32-Bit -bool yes</code>. Why might this be? I've noticed that /usr/bin/python still runs 2.6.</p>\n"},{"tags":["php","python","django","magento","e-commerce"],"answer_count":7,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":1160,"score":5,"question_id":6325094,"title":"E-commerce from scratch or not","body":"<p>I need to develop a new site with the e-commerce part. I'm here to get some hints from you on which road I should go on.</p>\n\n<p>The site will have a static part which include some static pages and the e-commerce part for sell the products. I'm a Django and PHP developer but this is the first time I need to develop an e-commerce.</p>\n\n<p>I see there's some solutions like Satchmo for Django and Magento for PHP.\nThere's also some services like Shopify that provide a pre cooked solution.</p>\n\n<p>These are my requirements:</p>\n\n<ul>\n<li>I'll need to give to my site a custom layout/style, all written by me</li>\n<li>I'll need a nice admin interface for view the incoming orders, the average orders for day and other nice stuff  (I see Magento have a very nice panel for this)</li>\n<li>I'll need a feature that reports me the products that are outgoing out of stock</li>\n<li>Maybe I'll need to implement a custom payment method</li>\n<li>Maybe I'll need to implement a custom shipping courier</li>\n</ul>\n\n<p>Of course I prefer Django instead PHP. Anyone can give me an hint? I've never used anyone of this framework/products.</p>\n\n<p>Thank you.</p>\n\n<p>-- EDIT</p>\n\n<p>Deadline is 3 months. Budget ~7500 $. I've three months for finish it.</p>\n"},{"tags":["python","list","sorting"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":60,"score":0,"question_id":13199759,"title":"Trying to sort a list very specifically in Python","body":"<p>I have a list, that in itself contains 52 individual lists. And inside these lists are one letter and one number. I need to sort this list numerically so that the list with the biggest number is at the beginning of the list, and so on.</p>\n"},{"tags":["python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":338,"score":-2,"question_id":5849011,"title":"Implementing Trees in Python","body":"<p>I need help implementing trees using Python. I have an EmptyTree class, similar to null or the empty list, and a Tree subclass that contains a left child, a number value, and a right child. </p>\n\n<p>Both Tree and EmptyTree must support an insert() method that returns a new tree object just like the old one but with the new value inserted. </p>\n\n<p>I know that the insert() method is very similar to another insert-one-tree method. Example:</p>\n\n<pre><code>&gt;&gt;&gt; a = EmptyTree()\n&gt;&gt;&gt; print a\nEmpty\n\n&gt;&gt;&gt; b = a.insert(5)\n&gt;&gt;&gt; print b\nTree(Empty,5,Empty)\n\n&gt;&gt;&gt; c = b.insert(4)\n&gt;&gt;&gt; print c\nTree(Tree(Empty,4,Empty),5,Empty)\n\n&gt;&gt;&gt; d = c.insert(6)\n&gt;&gt;&gt; print d\nTree(Tree(Empty,4,Empty),5,Tree(Empty,6,Empty))\n\n&gt;&gt;&gt;&gt; e = d.insert(1)\n&gt;&gt;&gt;&gt; print e\nTree(Tree(Tree(Empty,1,Empty),4,Empty),5,Tree(Empty,6,Empty))\n</code></pre>\n\n<p>So far I have:</p>\n\n<pre><code>class EmptyTree:\n\n def __init__(self):\n  return\n\n def __str__(self):\n  return \"Empty\"\n\n def insert(self, newValue):\n  return Tree(EmptyTree(), newValue, EmptyTree())\n\nclass Tree (EmptyTree):\n\n def __init__(self, leftChild, myValue, rightChild):\n  self.leftChild = leftChild\n  self.rightChild = rightChild\n  self.value = myValue\n\n def __str__(self):\n  return \"Tree(%s,%d,%s)\" % (self.leftChild , self.value , self.rightChild)\n</code></pre>\n\n<p>But now I need help with the rest of the code</p>\n"},{"tags":["python","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13199315,"title":"Pass a dictionary of items to a method as individual parameters","body":"<p>I have a method which looks like this:</p>\n\n<pre><code>def order_by(*args):\n    print list(args)\n</code></pre>\n\n<p>Is there a way I could pass a list of three items and have each item in the list passed as an individual parameters?</p>\n\n<pre><code>params = ['a', 'b', 'c']\n</code></pre>\n\n<p>would equate to </p>\n\n<pre><code>order_by('a', 'b', 'c')\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["python","date","time"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":585,"score":3,"question_id":9724906,"title":"python date of the previous month","body":"<p>I am trying to get the date of the previous month with python.\nHere is what i've tried:</p>\n\n<pre><code>str( time.strftime('%Y') ) + str( int(time.strftime('%m'))-1 )\n</code></pre>\n\n<p>However, this way is bad for 2 reasons: First it returns 20122 for the February of 2012 (instead of 201202) and secondly it will return 0 instead of 12 on January.</p>\n\n<p>I have solved this trouble in bash with</p>\n\n<pre><code>echo $(date -d\"3 month ago\" \"+%G%m%d\")\n</code></pre>\n\n<p>I think that if bash has a built-in way for this purpose, then python, much more equipped, should provide something better than forcing writing one's own script to achieve this goal. Of course i could do something like:</p>\n\n<pre><code>if int(time.strftime('%m')) == 1:\n    return '12'\nelse:\n    if int(time.strftime('%m')) &lt; 10:\n        return '0'+str(time.strftime('%m')-1)\n    else:\n        return str(time.strftime('%m') -1)\n</code></pre>\n\n<p>I have not tested this code and i don't want to use it anyway (unless I can't find any other way:/)</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["python","gui","window","pyqt","opening"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13199381,"title":"Opening new window from python gui","body":"<p>I have a problem opening new window in my python gui app. I have 3 classes (first login is shown, and than 2 windows are opened). This works fine:</p>\n\n<pre><code>class LoginDialog(QtGui.QDialog):\n    def __init__(self, parent = None):\n        super(LoginDialog, self).__init__(parent)\n    .....\n\nclass MainWindow(QtGui.QMainWindow):\n    def __init__(self, parent = None):\n            QtGui.QWidget.__init__(self, parent)\n    .....\n\nclass ImageViewerMainWindow(QtGui.QMainWindow):\n    def __init__(self, path, parent = None):\n        super(ImageViewerMainWindow, self).__init__(parent)\n    .....\n\nif __name__ == \"__main__\":\n    qtApp = QtGui.QApplication(sys.argv)\n\n    loginDlg = LoginDialog()\n    if not loginDlg.exec_():\n        sys.exit(-1)\n\n    MyMainWindow = MainWindow()\n    MyMainWindow.show()\n\n    viewer = ImageViewerMainWindow(\"C:\\image.jpg\")\n    viewer.show()\n\n    sys.exit(qtApp.exec_())\n</code></pre>\n\n<p>I need viewer to be executed from MainWindow but when I put it like this it just flashes and disappear:</p>\n\n<pre><code>class MainWindow(QtGui.QMainWindow):\n        def __init__(self, parent = None):\n                QtGui.QWidget.__init__(self, parent)\n        .....\n        def DoOpenImageViewer(self):\n                viewer = ImageViewerMainWindow(\"C:\\image.jpg\")\n                viewer.show()\n</code></pre>\n\n<p>I'm python noob, so any help would be appreciated.</p>\n"},{"tags":["python","keyboardinterrupt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13199413,"title":"Delay the keyboard interrupt in Python for an important part of the program","body":"<p>What is the method to delay the keyboard interrupt for an important part of the program (in my example in a cycle).</p>\n\n<p>I want to download (or save) many files, and if it takes too long, I want to finish the program, when the recent file have been downloaded.</p>\n\n<p>Need I to use the signal module as <a href=\"http://stackoverflow.com/a/4205386/813946\">in the answer for Capture keyboardinterrupt in Python without try-except</a>? Can I set a global variable to True with the signal handler and break the cycle if it is True?</p>\n\n<p>The original cycle is:</p>\n\n<pre><code>for file_ in files_to_download:\n    urllib.urlretrieve(\"\".join(baseurl, file_), os.path.join(\".\", file_)) \n</code></pre>\n"},{"tags":["python","string","python-3.x","string-formatting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13189527,"title":"What's wrong with my python code?","body":"<p>I'm a beginner programmer and I've been completing  zedshaw's <code>Learn Python The Hard Way</code> course, however in exercise 26 we are given a flawed code so we can debug it. Although the code was written using Python 2.x I've been re-writing them in Python 3 so I could learn it. </p>\n\n<p>It raises the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/omar/PycharmProjects/Python_The_Hardway/ex26_Quiz.py\", line 76, in &lt;module&gt;\n    print(\"We'd have {} beans, {} jars, and {} crates\".format(secret_formula(start_point)))\nIndexError: tuple index out of range\n</code></pre>\n\n<p>Here's my code: <a href=\"http://pastebin.com/bK9Ng6Vm\" rel=\"nofollow\">link</a></p>\n\n<p>Original code: <a href=\"http://learnpythonthehardway.org/exercise26.txt\" rel=\"nofollow\">link</a> (This is the exercise file)</p>\n\n<p>So my  questions are:</p>\n\n<ul>\n<li>Why does it finish with exit code 1?</li>\n<li>Why doesn't it continue executing the code?</li>\n<li>How can I rewrite it using Python 3?</li>\n</ul>\n\n<p>Thank You</p>\n"},{"tags":["python","django","subdomain","middleware"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13199247,"title":"Subdomain Issue in Django","body":"<p>I'm trying to setup a middleware that will read the subdomain in requests and serve up a different app's urls.py depending on the subdomain...but I'm getting some erratic behavior</p>\n\n<p>Here's my middleware:</p>\n\n<pre><code>class SubdomainsMiddleware:\ndef process_request(self, request):\n    request.domain = request.META['HTTP_HOST']\n    request.subdomain = ''\n    parts = request.domain.split('.')\n\n    if len(parts) == 3 or (re.match(\"^localhost\", parts[-1]) and len(parts) == 2):\n        request.subdomain = parts[0]\n        request.domain = '.'.join(parts[1:])\n\n    # set the right urlconf\n    if request.subdomain == 'foo':\n        settings.ROOT_URLCONF = 'bqsite.urls'\n    else:\n        settings.ROOT_URLCONF = 'dhsite.urls'\n</code></pre>\n\n<p>My understanding is that if this is working, then the root urls.py for the project should never be hit.  Is that correct?  I'm getting really weird and erratic behavior where, if i restart apache, the site shows the django welcome screen but after refrshing uses the right urls file.</p>\n"},{"tags":["python","database","migration"],"answer_count":9,"favorite_count":6,"up_vote_count":25,"down_vote_count":0,"view_count":1764,"score":25,"question_id":3923280,"title":"Can you recommend a database schema migration tool that is not tied to a particular framework or ORM?","body":"<p>I've used <a href=\"http://south.aeracode.org/\">South migrations</a> in the past, but am now looking for a database migration tool that is not tied to a particular framework or Object Relational Mapper (South is for Django). I need it simply for managing schema updates (and rollbacks) and nothing else. Various tools and applications use the same database, so I'd like a dedicated tool to manage the schema and not have it integrated with the ORM of one particular web-application that might use the shared DB.</p>\n\n<p><strong>Edit:</strong> To clarify, I <strong>don't</strong> need a tool that reads changes to models in an app and generates the schema updates for me. I want a tool that uses migrations and applies updates and rollbacks on request, but where I explicitly write the update and rollback actions myself. Basically a better managed, and slightly abstracted version of <code>source</code>ing <code>.sql</code> scripts to do schema upgrades.</p>\n\n<p>Preferably Python-based, as that is what the team is familiar with, the tool needs to work with MySQL but would hopefully also have some abstraction for other RDBMS backends.</p>\n\n<p>Obviously I could find a few myself, but I'd like to harness the experience of the community here to shortcut the process a little by gathering some \"reviews\" from personal experience using the tools in real world scenarios:</p>\n\n<ul>\n<li>What are the good things about the solution?</li>\n<li>What are the pitfalls and problems you've encountered with it?</li>\n<li>Is it actively developed, does it have a good community, support etc?</li>\n</ul>\n\n<p>So far I've found <a href=\"http://pypi.python.org/pypi/yoyo-migrations\">yoyo-migrations</a> which looks promising, but no info from anyone using it.</p>\n"},{"tags":["python","python-2.7","while-loop","serial","pyserial"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13197686,"title":"How do I ensure that a Python while-loop takes a particular amount of time to run?","body":"<p>I'm reading serial data with a while loop. However, I have no control over the sample rate.</p>\n\n<p>The code itself seems to take 0.2s to run, so I know I won't be able to go any faster than that. But I would like to be able to control precisely how much slower I sample.</p>\n\n<p>I feel like I could do it using 'sleep', but the problem is that there is potential that at different points the loop itself will take longer to read(depending on precisely what is being transmitted over serial data), so the code would have to make up the balance.</p>\n\n<p>For example, let's say I want to sample every 1s, and the loop takes anywhere from 0.2s to 0.3s to run. My code needs to be smart enough to sleep for 0.8s (if the loop takes 0.2s) or 0.7s (if the loop takes 0.3s).</p>\n\n<pre><code>import serial\nimport csv\nimport time\n\n#open serial stream\n    while True:\n\n        #read and print a line\n        sample_value=ser.readline()\n        sample_time=time.time()-zero\n        sample_line=str(sample_time)+','+str(sample_value)\n        outfile.write(sample_line)\n        print 'time: ',sample_time,', value: ',sample_value\n</code></pre>\n"},{"tags":["python","regex"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13199118,"title":"regex line start in character set","body":"<p>Let's say I want to search for a 'b' that occurs either at start of line or followed by 'a'.</p>\n\n<p>Why doesn't <code>re.match('[\\^a]b','b')</code> match while <code>re.match('^b','b')</code> does?</p>\n\n<p><strong>Update:</strong> I realised I should have been using <code>search</code> instead of <code>match</code>. I want it to be a positive for things like 'b', 'cab', 'ab', 'bc', and 'abd'.</p>\n"},{"tags":["python","tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":190,"score":-3,"question_id":5506296,"title":"Trees in Python","body":"<p>I want to make the tree in Python so that the answer would be this way:</p>\n\n<pre><code>   a\n b   c\nd e f g\n</code></pre>\n\n<p>Could anubody show me the code/link where is the code?</p>\n\n<p>Really thanks.</p>\n"},{"tags":["python","streaming","flask","gunicorn","eventsource"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13199061,"title":"Run gunicorn without blocking (threaded) for serving streams?","body":"<p>I have a Python-Flask app that opens up a stream to be used with an HTML5 EventSource object. It works fine on the local dev server when I set threading=True:</p>\n\n<pre><code>manager.add_command('runserver', Server(host=\"0.0.0.0\", threaded=True))\n</code></pre>\n\n<p>But when I run with gunicorn, with default settings or setting worker class to either of gevent or eventlet I get blocking behavior.</p>\n\n<pre><code>gunicorn app:app -w 4 --worker-class gevent\ngunicorn app:app -w 4 --worker-class eventlet\n</code></pre>\n\n<p>Both gevent and eventlet are installed. Gunicorn doesn't print any errors when starting up.</p>\n"},{"tags":["python"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13199205,"title":"TypeError in Python","body":"<p>I have two classes for in case:</p>\n\n<p>testing.py :</p>\n\n<pre><code>class Functions:\n    def mapping(func, x):\n        return func(x)\n</code></pre>\n\n<p>and I try to run the code below:</p>\n\n<pre><code>import testing\n\ndef doubleMe(data):\n    return data * data\n\nres = stream.Functions.map(testdouble, [1,2,3,4,5])\nprint res\n</code></pre>\n\n<p>After I try to run the code, I got the error </p>\n\n<blockquote>\n  <p>TypeError: unbound method mapping() must be called with Functions\n  instance as first argument (got function instance instead)</p>\n</blockquote>\n\n<p>I not too sure what what have went wrong here, can I have some advise? Thanks!</p>\n"},{"tags":["python","homework"],"answer_count":9,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":316,"score":5,"question_id":4738908,"title":"Python: Generalizing solution","body":"<p>I'm currently using singpath.com to practice on my python, but I face an issue with a problem:</p>\n\n<p>A number, a, is a power of b if it is divisible by b and a/b is a power of b. \nWrite a function called is_power that takes parameters a and b and returns True if a is a power of b.</p>\n\n<pre><code>def is_power(a,b):\n    c = a/b\n    if (((a%b) == 0) and ((c%b) == 0)):\n        return True\n    else:\n        return False \n</code></pre>\n\n<p>Above is my solution but the system prompt me to generalize my solution.\nCan anyone tell me whats wrong with my solution?</p>\n"},{"tags":["python","methods","call","special"],"answer_count":6,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":6192,"score":8,"question_id":5824881,"title":"Python __call__ special method practical example","body":"<p>I know that <code>__call__</code> method in a class is triggered when the instance of a class is called. However, I have no idea when I can use this special method, because one can simply create a new method and perform the same operation done in <code>__call__</code> method and instead of calling the instance, you can call the method.</p>\n\n<p>I would really appreciate it if someone gives me a practical usage of this special method.</p>\n"},{"tags":["c#","python","windows","apache","qpid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13198846,"title":"Building Apache QPID on Windows missing setup.py","body":"<p>I am new to Apache Qpid, Cmake and Python.  I have successfully built Qpid on Debian and ran some of the tests.  I am now trying to build Qpid on Windows so that I can write a C# client, but something seems wrong.  When I run the cmake command it ends up giving me to following output:</p>\n\n<pre><code>Please wait while cmake processes CMakeLists.txt files....\n\nC:/Program Files (x86)/Python330/python.exe: can't open file 'setup.py': [Errno 2] No such file or directory\n\nVariable Name: BUILD_ACL \nDescription: Build ACL enforcement broker plugin\nCurrent Value: ON\nNew Value (Enter to keep current value):\n</code></pre>\n\n<p>I am trying to understand when setup.py should have been generated/downloaded.  I can't find it and I can't find any documentation that describes when it should have been generated or installed.  Also, somewhat off-topic, why did the cmake process start prompting me for BUILD_ACL and other configs?</p>\n\n<p>I have ran cmake for both VS 2008 and 2010, using the following commands, and both yield the same output:</p>\n\n<pre><code>cmake -i -G \"Visual Studio 9 2008\" .\ncmake -i -G \"Visual Studio 2010\" .\n</code></pre>\n\n<p>I am using the following file from Apache to build Qpid:\nqpid-cpp-0.18.tar.gz</p>\n\n<p>As you can tell from the log statements above I am using Python 3.3.0.</p>\n\n<p>I understand that the setup.py is a file used by Python for installing components.  It appears that the cmake script is attempting to install something in the tests directory based on part of the cmake script I found by searching for setup.py.  I would think this is something that would either be supplied in the Qpid tarball or somehow generated as part of this cmake process.</p>\n\n<p>All that said, I ended up holding down the enter key accepting all the defaults of cmake and it generated the solution file and project files.  I am able to open the resulting Qpid solution in VS2008 and build some of the projects.  So, that raises the question, why was the setup.py needed?</p>\n"},{"tags":["python","django","django-admin"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":189,"score":1,"question_id":13128734,"title":"Uploading files in django admin, download through public site","body":"<p>I am running a Django website and I want to be able to upload a file through my admin panel and then have visitors to the main site be able to download it.  I am running my site using Django-nonrel, Django FileTransfers and Google App Engine.  I believe the upload functionality is working correctly as I am able to see the file in my App Engine Blob Storage.  What I can't seem to figure out is how to present a download link to the specified file on the public website.  I have pasted the relevant classes below:</p>\n\n<hr>\n\n<p>I have an app called Calendar, that has the following model:</p>\n\n<pre><code>class CalendarEvent (models.Model):\n    start = models.DateTimeField(auto_now=False, auto_now_add=False)\n    end = models.DateTimeField(auto_now=False, auto_now_add=False)\n    title = models.CharField(max_length=500)\n    description = models.TextField()\n\n    file = models.FileField(upload_to='uploads/%Y/%m/%d/%H/%M/%S/')\n</code></pre>\n\n<p>Here is the view:</p>\n\n<pre><code>def calendar(request):\nevents = CalendarEvent.objects.exclude(start__lt=datetime.datetime.now()).order_by('start')\nreturn render_to_response('home/calendar.html',{'events': events},context_instance=RequestContext(request))\n\ndef download_handler(request, pk):\n    upload = get_object_or_404(CalendarEvent, pk=pk)\n    return serve_file(request, upload.file, save_as=True)\n</code></pre>\n\n<p>Here is my admin:</p>\n\n<pre><code>class calendarAdmin(admin.ModelAdmin):\n    list_display = ('title','start','end')\n\nadmin.site.register(CalendarEvent, calendarAdmin)   \n</code></pre>\n\n<p>Finally, here is the relevant part of my template:</p>\n\n<pre><code>    {% for e in events %}\n    {% url Calendar.views.download_handler pk=e.pk as fallback_url %}\n    &lt;a href=\"{% firstof e.file|public_download_url fallback_url %}\"&gt;Download&lt;/a&gt;\n{% endfor %}\n</code></pre>\n\n<p>{% firstof e.file|public_download_url fallback_url %} is just returning blank, i'm not sure where I am going wrong.</p>\n"},{"tags":["python","http","unicode","requests"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13197854,"title":"python-requests: fetching the head of the response content without consuming it all","body":"<p>Using python-requests and python-magic, I would like to test the mime-type of a web resource without fetching all its content (especially if this resource happens to be eg. an ogg file or a PDF file). Based on the result, I might decide to fetch it all. However calling the text method after having tested the mime-type only returns what hasn't been consumed yet. How could I test the mime-type without consuming the response content?</p>\n\n<p>Below is my current code.</p>\n\n<pre><code>import requests\nimport magic\n\n\nr = requests.get(\"http://www.december.com/html/demo/hello.html\", prefetch=False)\nmime = magic.from_buffer(r.iter_content(256).next(), mime=True)\n\nif mime == \"text/html\":\n    print(r.text)  # I'd like r.text to give me the entire response content\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","regex","formatting","file-writing","output"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13197068,"title":"Writing console output to a file in python","body":"<p>Sorry for this question, I know that this is a recurrent topic, but I'm incapable of solving my problem, which in fact, is simple to describe: I want to write into a file the output of an execution <strong>as it is</strong>. I mean, I have an output like this (sorry for the mess):</p>\n\n<pre><code>.251.242.133|:80... connected.\\r\\nHTTP request sent, awaiting response... 200 OK\\r\\nLength: 2371567 (2.3M) [application/x-gzip]\\r\\nSaving to: `110907_ERP000591.tar.gz\\'\\r\\n\\r\\n\\r 0% [                                       ] 0           --.-K/s              \\r 0% [                                       ] 23,003       104K/s              \\r 3% [&gt;                                      ] 82,863       184K/s              \\r 8% [==&gt;                                    ] 192,363      282K/s              \\r15% [=====&gt;                                 ] 371,943      411K/s              \\r26% [=========&gt;                             ] 634,175      563K/s              \\r39% [==============&gt;                        ] 925,283      680K/s              \\r52% [===================&gt;                   ] 1,250,295    790K/s              \\r63% [=======================&gt;               ] 1,497,035    830K/s              \\r73% [===========================&gt;           ] 1,732,663    861K/s              \\r81% [==============================&gt;        ] 1,937,063    867K/s              \\r88% [=================================&gt;     ] 2,099,123    855K/s              \\r95% [====================================&gt;  ] 2,268,483    847K/s              \\r100%[======================================&gt;] 2,371,567    849K/s   in 2.7s    \\r\\n\\r\\n2012-11-01 15:34:10 (849 KB/s) - `110907_ERP000591.tar.gz\\' saved [2371567/2371567]\\r\\n\\r\\n110907_ERP000591/\\r\\n110907_ERP000591/1_110907_ERP000591_2_fastq.txt\\r\\n110907_ERP000591/1_110907_ERP000591_1_fastq.txt\\r\\n/home/travis/opt/bcbb/nextgen/tests/data/automated/../100326_FC6107FAAXX\\r\\n--2012-11-01 15:34:10--  http://chapmanb.s3.amazonaws.com/100326_FC6107FAAXX.tar.gz\\r\\nResolving chapmanb.s3.amazonaws.com (chapmanb.s3.amazonaws.com)... 205.251.242.133\\r\\nConnecting to chapmanb.s3.amazonaws.com (chapmanb.s3.amazonaws.com)|205.251.242.133|:80... connected.\\r\\nHTTP request sent, awaiting response... 200 OK\\r\\nLength: 7014592 (6.7M) [application/x-gzip]\\r\\nSaving to: `100326_FC6107FAAXX.tar.gz\\'\\r\\n\\r\\n\\r 0% [                                       ] 0           --.-K/s              \\r 0% [                                       ] 17,163      77.9K/s              \\r 0% [                                       ] 64,775       147K/s              \\r 2% [                                       ] 174,843      263K/s              \\r 5% [=&gt;                                     ] 399,683      456K/s              \\r12% [===&gt;                                   ] 866,883      790K/s              \\r25% [========&gt;                              ] 1,798,363   1.33M/s              \\r45% [================&gt;                      ] 3,178,955   1.90M/s              \\r65% [========================&gt;              ] 4,592,803   2.41M/s              \\r65% [========================&gt;              ] 4,629,303   2.17M/s              \\r67% [=========================&gt;             ] 4,761,595   2.02M/s              \\r74% [============================&gt;          ] 5,245,423   2.03M/s              \\r83% [===============================&gt;       ] 5,862,435   2.08M/s              \\r100%[======================================&gt;] 7,014,592   2.46M/s   in 2.7s    \\r\\n\\r\\n2012-11-01 15:34:13 (2.46 MB/s) - \n</code></pre>\n\n<p>So, as you can see, I have a weirdly formatted output, which is shown like this in the terminal:</p>\n\n<pre><code>\n/home/travis/opt/bcbb/nextgen/tests/data/automated/../100326_FC6107FAAXX\n--2012-11-01 15:34:10--  http://chapmanb.s3.amazonaws.com/100326_FC6107FAAXX.tar.gz\nResolving chapmanb.s3.amazonaws.com (chapmanb.s3.amazonaws.com)... 205.251.242.133\nConnecting to chapmanb.s3.amazonaws.com (chapmanb.s3.amazonaws.com)|205.251.242.133|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 7014592 (6.7M) [application/x-gzip]\nSaving to: `100326_FC6107FAAXX.tar.gz'\n\n100%[======================================>] 7,014,592   2.46M/s   in 2.7s    \n\n2012-11-01 15:34:13 (2.46 MB/s) - `100326_FC6107FAAXX.tar.gz' saved [7014592/7014592]\n</code></pre>\n\n<p>Much nicer... I want to write the output to a file with this form, so I cant just strip the \\r\\n or something like that, because this way will appear one line for each step in the progress of the download. I just want to write a file with the final output. </p>\n\n<p>Any help?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Sorry, I should have been clearer: It's not the result of a command but, as commented below, the result of the parsing of a json file. You can reproduce the output:</p>\n\n<pre><code>\nimport urllib\nimport json\n\nstring_to_write = json.loads(urllib.urlopen('https://travis-ci.org/jobs/3019024.json').read())['log']\n</code></pre>\n"},{"tags":["python","python-multithreading"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":13193278,"title":"Understand python threading bug","body":"<p>Reading <a href=\"http://bugs.python.org/msg160297\" rel=\"nofollow\">http://bugs.python.org/msg160297</a>, I can see a simple script written by Stephen White which demonstrates how python threading bugs up with this exception</p>\n\n<pre><code>Exception AttributeError: AttributeError(\"'_DummyThread' object has no attribute '_Thread__block'\",) in &lt;module 'threading' \n</code></pre>\n\n<p>Given Stephen White's source code (http://bugs.python.org/file25511/bad-thread.py), </p>\n\n<pre><code>import os\nimport thread\nimport threading\nimport time\n\ndef t():\n    threading.currentThread() # Populate threading._active with a DummyThread\n    time.sleep(3)\n\nthread.start_new_thread(t, ())\n\ntime.sleep(1)\n\npid = os.fork()\nif pid == 0:\n    os._exit(0)\n\nos.waitpid(pid, 0)\n</code></pre>\n\n<p>how would we re-write it so that this error is resolved?</p>\n"},{"tags":["python","cross-platform","home"],"answer_count":1,"favorite_count":5,"up_vote_count":25,"down_vote_count":0,"view_count":4648,"score":25,"question_id":4028904,"title":"How to get the home directory in Python?","body":"<p>I need to get the location of the home directory of the current logged-on user. Currently, I've been using the following on Linux:</p>\n\n<pre><code>os.getenv(\"HOME\")\n</code></pre>\n\n<p>However, this does not work on Windows. What is the correct cross-platform way to do this?</p>\n"},{"tags":["python","network-programming","udp","robustness"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":377,"score":4,"question_id":10410419,"title":"Strengthen python UDP server","body":"<p>I'm a beginner in python (2.6/2.7) who has been thrown in the deep end to create a network service to an existing python app.</p>\n\n<p>I've got a UDP server up and running which works just great but I'm asking for help in making it slightly more bullet proof.</p>\n\n<p>Here is the base code I have written, the usual standard boiler plate:</p>\n\n<pre><code>import sys\nimport socket\nfrom threading import Thread\n\ndef handleInput():\n         sock = socket.socket( socket.AF_INET, socket.SOCK_DGRAM )\n         sock.bind( (\"127.0.0.1\",5005) )\n         # socket always binded?\n         while True:\n                 data, addr = sock.recvfrom(512)\n                 # is 'data' usable?\n\nt=Thread(target=handleInput)\nt.daemon=True\nt.start()\n# can thread die?\n</code></pre>\n\n<p>Firstly, I understand that the socket is in a sense always available, it doesn't have to listen, so there is no such thing as failing and you have to reconnect. Is this correct?</p>\n\n<p>Secondly, the issue with returned data from recvfrom. Is it a simple  <strong>'if data : then'</strong> to check if its valid?</p>\n\n<p>Thirdly, and finally, the thread. Can a thread bomb out? If it does whats the best way to restart it?</p>\n\n<p>Any other tips would be welcome.</p>\n\n<p>(Note: I cannot use external libraries, e.g. twisted etc.)</p>\n"},{"tags":["python","build","pip","fabric","pycrypto"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":853,"score":3,"question_id":9849257,"title":"How to set CFLAGS and LDFLAGS to compile pycrypto","body":"<p>I am trying to install the fabric library to an old machine. There are some legacy libraries in /usr/lib, such as libgmp.</p>\n\n<pre><code>(py27)[qrtt1@hcservice app]$ ls /usr/lib|grep gmp\nlibgmp.a\nlibgmp.so\nlibgmp.so.3\nlibgmp.so.3.3.3\nlibgmpxx.a\nlibgmpxx.so\nlibgmpxx.so.3\nlibgmpxx.so.3.0.5\n</code></pre>\n\n<p>I have compiled the libgmp 5.x in my $HOME/app, and then am trying to install pycrypto (it is the dependency of fab):</p>\n\n<pre><code>CFLGAS=-I/home/qrtt1/app/include LDFLGAS=-L/home/qrtt1/app/lib  pip install pycrypto\n</code></pre>\n\n<p>I observed that none of my include or lib directories are in the in the compilation / linking options:</p>\n\n<pre><code>gcc -pthread -fno-strict-aliasing -fwrapv -Wall -Wstrict-prototypes -fPIC -std=c99 -O3 -fomit-frame-pointer -Isrc/ -I/usr/include/ -I/home/qrtt1/app/include/python2.7 -c src/_fastmath.c -o build/temp.linux-i686-2.7/src/_fastmath.o\ngcc -pthread -shared build/temp.linux-i686-2.7/src/_fastmath.o -lgmp -o build/lib.linux-i686-2.7/Crypto/PublicKey/_fastmath.so\nbuilding 'Crypto.Hash._MD2' extension\ngcc -pthread -fno-strict-aliasing -fwrapv -Wall -Wstrict-prototypes -fPIC -std=c99 -O3 -fomit-frame-pointer -Isrc/ -I/home/qrtt1/app/include/python2.7 -c src/MD2.c -o build/temp.linux-i686-2.7/src/MD2.o\ngcc -pthread -shared build/temp.linux-i686-2.7/src/MD2.o -o build/lib.linux-i686-2.7/Crypto/Hash/_MD2.so\nbuilding 'Crypto.Hash._MD4' extension\ngcc -pthread -fno-strict-aliasing -fwrapv -Wall -Wstrict-prototypes -fPIC -std=c99 -O3 -fomit-frame-pointer -Isrc/ -I/home/qrtt1/app/include/python2.7 -c src/MD4.c -o build/temp.linux-i686-2.7/src/MD4.o\ngcc -pthread -shared build/temp.linux-i686-2.7/src/MD4.o -o build/lib.linux-i686-2.\n</code></pre>\n\n<p>How do I assign the CFLAGS and LDFLAGS correctly for building <code>pycrypto</code> ?</p>\n\n<hr>\n\n<p>I try to download pycrypto-2.5 and install it:</p>\n\n<pre><code>(py27)[qrtt1@hcservice pycrypto-2.5]$ CFLGAS=-I/home/qrtt1/app/include LDFLGAS=-L/home/qrtt1/app/lib python setup.py install\n</code></pre>\n\n<p>No CFLAGS or LDFLAGS set up with it. May be the pycrypto-2.5 going wrong ?</p>\n"},{"tags":["python","directory","tkinter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13198602,"title":"Python - trouble with wb.SaveAs using tkinter selected directory","body":"<p>Having trouble saving workbook when directory is selected using tkinter. Code worked fine when the directory was manually entered manually using raw_input(),  though I thought both were strings and would work interchangeably. Example code below:</p>\n\n<p>Snippet of Original code that worked using raw_input()</p>\n\n<pre><code>FileInput = raw_input(\"Please Paste COMPLETE Path to File Folder with Raw Acoustic Data to be Analyzed &amp; Hit Enter: -&gt; \")\nprint ('You Entered ' + FileInput)\n\nvarious operations\n\nwb.SaveAs(FileInput + '/mod1testoutput.csv')\n</code></pre>\n\n<p>Using tkinter</p>\n\n<pre><code>Tk().withdraw() \nprint ('Select file folder containing Raw Acoustic Data from transect.')\nFileInput = askdirectory()\n\nvarious operations\n\nwb.SaveAs(FileInput + '/mod1testoutput.csv')\n</code></pre>\n\n<p>Getting this error</p>\n\n<p>wb.SaveAs(FileInput + '/mod1testoutput.csv')\nFile \">\", line 7, in SaveAs\ncom_error: (-2147352567, 'Exception occurred.', (0, u'Microsoft Office Excel', u\"The  file could not be accessed. Try one of the following:\\n\\n\\u2022 Make sure the specified folder exists. \\n\\u2022 Make sure the folder that contains the file is not read-only.\\n\\u2022 Make sure the file name does not contain any of the following characters:  &lt;  >  ?  [  ]  :  | or  *\\n\\u2022 Make sure the file/path name doesn't contain more than 218 characters.\", u'C:\\Program Files\\Microsoft Office\\Office12\\1033\\XLMAIN11.CHM', 0, -2146827284), None)</p>\n\n<p>Likely a simple fix, but I'm a novice programmer...so any help would be appreciated. Thanks</p>\n"},{"tags":["python","count","character"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13197668,"title":"Counting consecutive characters in a string","body":"<p>I need to write a code that slices the string (which is an input), append it to a list, count the number of each letter - and if it is identical to the letter before it, don't put it in the list, but rather increase the appearance number of that letter in the one before..\nWell this is how it should look like :</p>\n\n<pre><code>assassin [['a', 1], ['s', 2], ['a', 1], ['s', 2]], ['i', 1], ['n', 1]\n</code></pre>\n\n<p>the word assassin is just an example of the need..\nMy code so far goes like this:</p>\n\n<pre><code>userin = raw_input(\"Please enter a string :\")\ninputlist = []\ninputlist.append(userin)\nbiglist = []\ni=0\ncount = {}\nwhile i&lt;(len(userin)):\n    slicer = inputlist[0][i]\n    for s in userin:\n        if count.has_key(s):\n            count[s] += 1\n        else:\n            count[s] = 1\n    biglist.append([slicer,s])\n    i = i+1\nprint biglist \n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","methods","plot","matplotlib","visible"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13196757,"title":"Python: How to 'anchor' text to be always visible and set_text method Matplotlib","body":"<p>I have this code:</p>\n\n<pre><code>from pylab import *\nfrom mpl_toolkits.axes_grid.anchored_artists import AnchoredText\nimport numpy as np\nimport matplotlib.pylab as plt\n\n\nfig = plt.figure()\nax = fig.add_subplot(111)\n\nann = AnchoredText('If you zoom in or out, i stay here\\nbut can you update this text?',\n                  prop=dict(size=8), frameon=True,\n                  loc=2,\n                  )\nann.patch.set_boxstyle(\"round,pad=0.,rounding_size=0.2\")\nax.add_artist(ann) \n\ndelta = 0.025\nx = np.arange(-3.0, 3.0, delta)\ny = np.arange(-2.0, 2.0, delta)\nX, Y = np.meshgrid(x, y)\nZ1 = bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)\nZ2 = bivariate_normal(X, Y, 1.5, 0.5, 1, 1)\nZ = (Z1 - Z2) * 10\n\nplt.contourf(X, Y, Z)\n\nplt.show()\n</code></pre>\n\n<p>Is there a way to anchor text to be always visible but to also be able to use a <code>set_text</code> method like in text objects to update the containing text?\nHere i used AnchoredText which is anchored perfectly but i cannot find a method to change the text it contains.\nIn <a href=\"http://matplotlib.org/users/annotations_guide.html?highlight=anchoredtext#placing-artist-at-the-anchored-location-of-the-axes\" rel=\"nofollow\">AnchoredText</a> Matplotlib documentation i cannot find such a method available. \nIf it cannot be done with AnchoredText can it be done with a simple text object?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I accepted the solution from <strong>David Zwicker</strong> and here is a working example for anyone in need of it:</p>\n\n<pre><code>from pylab import *\nfrom mpl_toolkits.axes_grid.anchored_artists import AnchoredText\nimport numpy as np\nimport matplotlib.pylab as plt\nimport random\n\n\nfig = plt.figure()\nax = fig.add_subplot(111)\n\nann = AnchoredText('If you zoom in or out, i stay here\\nbut can you update this text?$4.1f$ km s$^{-1}$',\n                  prop=dict(size=15), frameon=True,\n                  loc=2,\n                  )\nann.patch.set_boxstyle(\"round,pad=0.,rounding_size=0.2\")\nax.add_artist(ann) \n\ndelta = 0.025\nx = np.arange(-3.0, 3.0, delta)\ny = np.arange(-2.0, 2.0, delta)\nX, Y = np.meshgrid(x, y)\nZ1 = bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)\nZ2 = bivariate_normal(X, Y, 1.5, 0.5, 1, 1)\nZ = (Z1 - Z2) * 10\n\nplt.contourf(X, Y, Z)\n\na = [\"hhhhh\", \"qqqqq\", \"aaaaaaa\",\"ttttt\",\"yyyyy\",\"oooooooo\"]\n\ndef setanntext(self):\n         ann.txt.set_text(random.choice(a))\n         plt.draw()\n\nbuttonax = plt.axes([0.7, 0.05, 0.1, 0.1])\nbutton = Button(buttonax, 'set text',color='0.85', hovercolor='0.95')\nbutton.on_clicked(setanntext)\n\nplt.show()\n</code></pre>\n"},{"tags":["python","ogr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13198391,"title":"create a shape file","body":"<p>I want to create a shapefile (a line) using 2 points.</p>\n\n<p>i have the following script:</p>\n\n<pre><code>import ogr, sys, os\n\nline=ogr.Geometry(ogr.wkbLineString)\nline.AddPoint(10,10)\nline.AddPoint(20,20)\n\ndriver=ogr.GetDriverByName('ESRI Shapefile')\nds=driver.CreateDataSource('C:\\test.shp')\nlayer=ds.CreateLayer('test', geom_type=ogr.wkbLineString)\nfieldDefn=ogr.FieldDefn('id', ogr.OFTInteger)\nlayer.CreateField(fildDefn)\nfeatureDefn=layer.GetLayerDefn()\nfeature=ogr.Feature(featureDefn)\nfeature.SetGeometry(line)\nfeature.SetField('id',1)\nlayer.CreateFeature(feature)\n</code></pre>\n\n<p>I have two errors..</p>\n\n<p>\"ERROR 1: Failed to create file. shp file.\nERROR 4: Failed to open Shapefile\"</p>\n\n<p>Anyone have an idea of what the problem is?\nCan anyone help me?\nThanks a lot</p>\n"},{"tags":["python","multidimensional-array"],"answer_count":8,"favorite_count":25,"up_vote_count":51,"down_vote_count":0,"view_count":38815,"score":51,"question_id":2397141,"title":"How to initialize a two-dimensional array in Python?","body":"<p>I'm beginning python and I'm trying to use a two-dimensional list, that I initially fill up with the same variable in every place. I came up with this:</p>\n\n<pre><code>def initialize_twodlist(foo):\n    twod_list = []\n    new = []\n    for i in range (0, 10):\n        for j in range (0, 10):\n            new.append(foo)\n        twod_list.append(new)\n        new = []\n</code></pre>\n\n<p>It gives the desired result, but feels like a workaround. Is there an easier/shorter/more elegant way to do this?</p>\n"},{"tags":["c#","python","encoding","md5"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":363,"score":0,"question_id":6027332,"title":"the byte string is same in python and c#,but md5 hashcode is different","body":"<p>I want to generate the hash code from a string,e.g.\"咖啡\",but the hashcode I get from python and c# is different,the one from python is what I want</p>\n\n<p>c#</p>\n\n<pre><code>String str = \"咖啡\";\nMD5 m = MD5.Create();\nbyte[] data = m.ComputeHash(Encoding.Default.GetBytes(str));\nStringBuilder sbuilder = new StringBuilder();\nfor(int i=0;i&lt;data.Length;i++){\n  sbuilder.Append(data[i].ToString(\"x2\"));\n}\nbyte[] hex = Encoding.Default.GetBytes(str);\nStringBuilder hex_builder = new StringBuilder();\nforeach(byte a in hex){\n  hex_builder.Append(\"{0:x2}\",a);\n}\n//md5 hash code\nResponse.Write(sbuilder.ToString());\n//binary string\nResponse.Write(hex_builder.ToString());\n</code></pre>\n\n<p>python</p>\n\n<pre><code>#coding:utf8\nstr = '咖啡'\nm = hashlib.md5()\nm.update(str)\n#md5 hashcode\nprint m.hexdigest()\n#binary string\nprint ' '.join([\"%02x\"%ord(x) for x in str])\n</code></pre>\n\n<p><strong>binary string</strong> is e5 92 96 e5 95 a1 both in c# and python</p>\n\n<p><strong>md5 hash code</strong>:</p>\n\n<p>(c#)a761914f9760af3c112e24f08dea1b16</p>\n\n<p>(python)3b7daa58a1fecdf5ba4d94d539fbb4d5</p>\n"},{"tags":["python","string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13197913,"title":"'str' object has no attribute 'punctuation'","body":"<p>I'm probably being really dumb here, but I can't figure out this error:</p>\n\n<pre><code>'str' object has no attribute 'punctuation'\n</code></pre>\n\n<p>This occurs on the line:</p>\n\n<pre><code>docLines[counter][counter2] = [(docLines[counter][counter2]).translate(None, string.punctuation)]\n</code></pre>\n\n<p>Where <code>docLines[counter][counter2]</code> is just a single word.</p>\n\n<p>Any ideas where I'm going wrong?</p>\n"},{"tags":["python","apache","hadoop","hadoop-streaming","log-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":13192283,"title":"How to process a apache log file with hadoop using python","body":"<p>I am very newbie to hadoop and unable to understand the concept well,\nI had followed below process</p>\n\n<ol>\n<li><p>Installed Hadoop by seeing <a href=\"http://hadoop.apache.org/docs/r0.15.2/quickstart.html\" rel=\"nofollow\">here</a> </p></li>\n<li><p>Tried the basic examples in tutorial by seeing <a href=\"http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/\" rel=\"nofollow\">here</a> and worcount example in python and working fine with them.</p></li>\n</ol>\n\n<p>Actually what i am trying to do/the requirement i got is processing an apache log files in fedora(linux) located at <code>/var/log/httpd</code> with hadoop using python in the below format</p>\n\n<pre><code>IP address    Count of IP   Pages accessed by IP address\n</code></pre>\n\n<p>I know that apache log files will be of two kinds </p>\n\n<ol>\n<li><p>access_logs</p></li>\n<li><p>error_logs</p></li>\n</ol>\n\n<p>but i am really unable to understand the format of apache log files.</p>\n\n<p>My apache log file content is something like below</p>\n\n<pre><code>::1 - - [29/Oct/2012:15:20:15 +0530] \"GET /phpMyAdmin/ HTTP/1.1\" 200 6961 \"-\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.77 Safari/537.1\"\n::1 - - [29/Oct/2012:15:20:16 +0530] \"GET /phpMyAdmin/js/cross_framing_protection.js?ts=1336063073 HTTP/1.1\" 200 331 \"http://localhost/phpMyAdmin/\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.77 Safari/537.1\"\n::1 - - [29/Oct/2012:15:20:16 +0530] \"GET /phpMyAdmin/js/jquery/jquery-1.6.2.js?ts=1336063073 HTTP/1.1\" 200 92285 \"http://localhost/phpMyAdmin/\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.77 Safari/537.1\"\n</code></pre>\n\n<p>Can anyone please explain me the structure of above/apache log files</p>\n\n<p>I am confused on how to process the the log file with the data Ip address, countof ip address, pages accessed by ip address</p>\n\n<p>Can anyone let me know how we can process the apache log files with haddop using python and above information and store the result in the above mentioned format</p>\n\n<p>Also can anyone please provide a basic code in python for processing the apache log files in the above format, so that i will get an real time idea on how to process the files with python code and will extend them according to needs</p>\n"},{"tags":["python","django","eclipse","pinax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13184839,"title":"How can integrate the login/registration into a pinax(0.9) projects?","body":"<p>I have installed pinax and now I want to integrate some apps. First I would like to start with the login and registration. </p>\n\n<p>I tried to deal with poor documentation of Pinax, therefore I do not know how to start?</p>\n\n<p>How can I do that with pinax 0.9. What do I have to modify? </p>\n\n<p>What would be the general path to follow?</p>\n"},{"tags":["python","listbox","wxpython","center","alignment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":207,"score":0,"question_id":3483179,"title":"How to align the text in a wx.ListBox using wxPython?","body":"<p>I want the text of the ListBox to be centered, is that possible?</p>\n"},{"tags":["python","while-loop","freeze","blender"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":118,"score":2,"question_id":13182485,"title":"Do something every n seconds without while loop?","body":"<p>Well, I'm trying to write an add-on for Blender and I need to do something every n seconds, but, I can't use a while loop, because it freezes Blender!!! What do I do?</p>\n"},{"tags":["python","unicode","base64","arabic","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13167505,"title":"arabic regex and MySQLdb in python","body":"<p>I've tried to get certain Arabic string from web page then store these strings into db.</p>\n\n<p><strong>The first problem</strong></p>\n\n<p>The only way I could is to specify how many letters are they by using <code>.</code> and use unicode, like this:</p>\n\n<pre><code>import urllib,re\ncontent=urllib.urlopen(\"http://example.com/content.html\").read()\ncontent = unicode(content,\"utf-8\")\nStrings = re.findall(\"&lt;Strong&gt;...........&lt;/strong&gt;\",content) # it will work fine and fetch it but only strings with 11 char or letter (11 place) \n</code></pre>\n\n<p><strong>Second problem</strong></p>\n\n<p>When I tried to write it to text file it displays:</p>\n\n<blockquote>\n  <p>UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-3: ordinal not in range(128)</p>\n</blockquote>\n\n<p>And when I've tried to store it into database it displays:</p>\n\n<blockquote>\n  <p>ProgrammingError: (1064, \"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\\xd8\\xa7\\xd9\\x84\\xd9\\x82\\xd8\\xb5\\xd9\\x8a\\xd8\\xb1)' at line 1\")</p>\n</blockquote>\n\n<p>What I've think about is to fetch it then encode it into base64 then store it into db \nbut still got an error:</p>\n\n<blockquote>\n  <p>UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-3: ordinal not in range(128)</p>\n</blockquote>\n"},{"tags":["python"],"answer_count":10,"favorite_count":15,"up_vote_count":50,"down_vote_count":0,"view_count":58003,"score":50,"question_id":431684,"title":"How do I \"cd\" in python","body":"<p>\"cd\" as in the shell command to change working directory ...</p>\n"},{"tags":["python","sockets","matlab"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":38,"score":-3,"question_id":13194935,"title":"Matlab equivalent to Python code using socket","body":"<p>What is the MATLAB code for this little piece of Python code?</p>\n\n<pre><code>try:\n    sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nexcept socket.error, msg:\n    print 'Could not make a socket.'\n    sys.exit(-1)\n\n# one second timeout\nsock.settimeout(1.0)\n</code></pre>\n\n<p>Edit: I will explain this question a bit more. A simulator is communicating with the client via a server-client architecture. Therefore the client needs to communicate via datagram packets. However some google searches on \"Matlab datagram\" are not giving a result that looks similar to the Python code above. Searching on Matlab and sockets gives TCP/IP results. However I do not know if this is what I need, therefore this question.</p>\n"},{"tags":["python","networking","time","ping","scapy"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13163516,"title":"Scapy how get ping time?","body":"<p>I'm trying to write a scapy script which can make an average on the ping time, so I need to get the time elapsed between ICMP echo/reply packet sent and reply packet received. For now, I have this:</p>\n\n<pre><code>#! /usr/bin/env python\nfrom scapy.all import *\nfrom time import *\n\ndef QoS_ping(host, count=3):\n  packet = Ether()/IP(dst=host)/ICMP()\n  t=0.0\n  for x in range(count):\n      t1=time()\n      ans=srp(packet,iface=\"eth0\", verbose=0)\n      t2=time()\n      t+=t2-t1\n  return (t/count)*1000\n</code></pre>\n\n<p>The problem is that using time() function doesn't rise a good result. For example, I find 134 ms on one domain, and with the ping system function on the same domain, I have found 30 ms (average of course).</p>\n\n<p>My question is: Is there a way to get the exactly time elpased beetween sent packet and received packet by scapy?\nI don't want to use popen() function or other system call because I need scapy for futur packet management.</p>\n"}]}
