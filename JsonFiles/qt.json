{"total":16228,"page":1,"pagesize":100,"questions":[{"tags":["qt","drag","drop","qwidget","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13298688,"title":"How can I drag an entire frameless QWidget by clicking and dragging on an element inside of a QWebView?","body":"<p>I currently have a QWidget that contains a QWebView. The container QWidget is translucent and frameless. I’ve been able to make it possible to drag the frameless window around by clicking and dragging around the outsides of the QWidget, but I cannot drag when I click anything in the QWebView.</p>\n\n<p>My goal is to be able to create an element in the DOM of the QWebView with a class or id of “drag-handle”. Then, from within the application I would like to find any element called “drag-handle” and bind it to the drag event so I can use it to drag around the whole QWidget container.</p>\n\n<p>I hope this makes sense, feel free to just point me in the direction of some docs or sample material if you think that’ll do it for me, I’d be more than happy to try to figure it out on my own if someone can just point me in the right direction.</p>\n\n<p>Thanks ahead of time!</p>\n"},{"tags":["c++","qt","signals-slots","qt-necessitas"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13298609,"title":"Issue with QLineEdit clear signal","body":"<p>I'm working with the <a href=\"http://necessitas.kde.org/\" rel=\"nofollow\">Qt KDE Necessitas</a> project. I have a project built in Qt Creator and I am installing the <code>apk</code> on an emulator API-15 (also tested on API-10).</p>\n\n<p>The following code is setup to clear the text of two different <code>QLineEdit</code> objects when a button is clicked, but this isn't the case. Randomly, only one of the two <code>QLineEdit</code> objects are cleared.</p>\n\n<p>mainwindow.h:</p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n    Q_OBJECT\npublic:\n    explicit MainWindow(QWidget *parent = 0);\npublic slots:\n    void slotClear();\n\nprivate:\n    QLineEdit* line1;\n    QLineEdit* line2;\n//...\n};\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent)\n    : QMainWindow(parent), ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QVBoxLayout* mainLayout = new QVBoxLayout;\n\n    QFormLayout* form = new QFormLayout;\n    line1 = new QLineEdit;\n    form-&gt;addRow(tr(\"Line 1: \"), line1);\n    line2 = new QLineEdit;\n    form-&gt;addRow(tr(\"Line 2:\"), line2);\n\n    QPushButton* button = new QPushButton;\n    mainLayout-&gt;addLayout(form);\n    mainLayout-&gt;addWidget(button);\n\n    QWidget* centralWid = new QWidget(this);\n    centralWid-&gt;setLayout(mainLayout);\n    this-&gt;setCentralWidget(centralWid);\n\n    connect(button, SIGNAL(clicked()), this, SLOT(slotClear()));\n}\n\nvoid MainWindow::slotClear()\n{\n    emit line1-&gt;clear();\n    emit line2-&gt;clear();\n}\n//...\n</code></pre>\n\n<p>Calling the function <code>QLineEdit::setText(\"\")</code> produces the same results.</p>\n\n<p>I haven't been programming in Qt for very long, so I am unsure if there is something I am doing wrong. Is anybody seeing something needs to be corrected in order to have the text cleared from BOTH QLineEdits? I am not sure if this is unique to Qt itself or Qt Necessitas. Any input would be greatly appreciated. </p>\n"},{"tags":["c++","linux","qt","signals","timing"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13298562,"title":"posix signal reaction time","body":"<p><strong>What is a reasonable reaction time to posix signals intending to quit the application?</strong></p>\n\n<p>In other words, how long may my <em>sigint</em>, <em>sigterm</em> or <em>sigtstp</em> handling take before the system kills the application during shutdown, runlevel switching or other automated situations?</p>\n\n<p>I'm writing a non graphical qt application that has to respond to signals in order to clean up before terminating. this is my current implementation:</p>\n\n<pre><code>#include \"posixsignals.h\"\n#include &lt;signal.h&gt;\n\nQAtomicInt posixSignals::sig(0);\n\nposixSignals::posixSignals()\n{\n\n    //connect to posix signals\n        signal(SIGINT, posixSignals::interrupt);\n        signal(SIGTSTP, posixSignals::interrupt);\n        signal(SIGTERM, posixSignals::interrupt);\n\n    //check every eventloop iteration and start QTimer t\n        connect(&amp;t, SIGNAL(timeout()), this, SLOT(check()));\n        t.start(500);\n}\n\nvoid posixSignals::interrupt(int signal)\n{\n    sig.testAndSetOrdered(0,signal);\n}\n\nvoid posixSignals::check()\n{\n    if(sig)\n        emit signalCought(sig);\n}\n</code></pre>\n\n<p>In the actual implementation i connect something to the signalCought signal in order to trigger the cleanup and exit of the application. the \"problem\" here is if i set the timer too low the app maxes a core, but if i set it too high, it might be killed or slow down the shutdown process noticeably.</p>\n"},{"tags":["c++","qt","qtcpserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13298083,"title":"How to correctly close a QTcpServer","body":"<p>I'm trying to use the</p>\n\n<p><code>QTcpServer::close function</code> </p>\n\n<p>but when I do this:</p>\n\n<pre><code>server-&gt;close();\n</code></pre>\n\n<p>It gives me an error, saying something about a different thread, like this:</p>\n\n<pre><code>QSocketNotifier: Can not disable socket notifiers in a different thread.\n</code></pre>\n\n<p>Actually, I tried to fix it, and I did, but then the app throws me an error about the <code>signals/slots</code> that can not be emitted in a different thread.</p>\n\n<p>What could be the problem?</p>\n"},{"tags":["qt","ubuntu","build"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13220499,"title":"Compiling Qt 4.8.3 on Ubuntu 12 failing","body":"<p>I am new to Ubuntu and i am getting a message while building Qt 4.8.3 on Ubuntu 12:</p>\n\n<blockquote>\n  <p>Basic XLib functionality test failed!  You might need to modify the\n  include and library search paths by editing  QMAKE_INCDIR_X11 and\n  QMAKE_LIBDIR_X11 in\n  /home/majidmax/qt-everywhere-opensource-src-4.8.3/mkspecs/linux-g++.</p>\n</blockquote>\n\n<p>what the proper steps to build Qt on Ubuntu?</p>\n"},{"tags":["qt","creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13295495,"title":"How do I prevent Qt Creator from generating multiple .so files for the same library?","body":"<p>I am using Qt Creator to generate a library, and while it does work, it generates four versions of the file that, as far as I can tell, are identical to one another except that they are linked together.  The files are labeled as such: libFile.so, libFile.so.1, libFile.so.1.0, and libFile.so.1.0.0.  I only want to keep the libFile.so file.  How do I prevent the other files from being generated and being auto-linked together?</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13296970,"title":"Qt and OpenGL, using one context for multiple widgets","body":"<p>I recently asked a question about how to get around sharing issues with vertex array objects and frame buffer objects across multiple contexts, I was then convinced that using multiple contexts just caused more headaches then solutions.</p>\n\n<p>I am using Qt and currently my setup is that I have one invisible QGLWidget which I then use in the constructor of my visible QGLWidget's in order to share resources, this works great accept that I cannot share certain things across the contexts.</p>\n\n<p>I wish to find a solution where I am able to use a single context to render all of my different widget's, <a href=\"http://stackoverflow.com/questions/8496728/multiple-qglwidgets-with-a-single-opengl-context-in-c\">this question</a> refers to using the QGLWidget constructor where you pass in the QGLContext you desire to be shared, however this does not seem to use one common context, but instead set the context to be used by one QGLWidget, when you try to use it on a second widget, a qWarning is called which informs you that the QGLContext must refer to the widget you are passing it to.</p>\n\n<p>The goal of my application is to have 2 seperate GUI's which render different scenes, yet share the same context. Currently I have a 'World' editor which edits a scene and saves it to a file to be used in my game engine, and I also have a 'Material' editor which allows you to graphically edit a material similar to UDK's Material editor, there is a preview window which utilizes OpenGL. </p>\n\n<p>Ideally I would like to keep my current design of having one unified game editor which is navigable by tabs, rather than having separate programs for each part of the editor.</p>\n\n<p>The only thing that seemed like it was a decent solution was using the QGraphicsView and setting a QGLWidget as the viewport, however this does not seem to work at all. I can render basic primitives, however anything more and it falls apart.</p>\n\n<p>Does anyone have experience dealing with this issue of multiple OpenGL Widgets, and if so could you explain the process you took to achieve your goal?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13296742,"title":"C++ Qt - Can QSignalMapper be cleared and re-used?","body":"<p>Consider a card game. Cards are drawn from a deck and displayed on screen. The cards are clickable, and lead to the same effect, so the use of <code>QSignalMapper</code> was obvious.</p>\n\n<p>Now, consider discarding those cards, to draw new ones.</p>\n\n<p>Is there a way to clear <code>QSignalMapper</code>, or is <code>QSignalMapper</code> automatically cleared when an object is removed from UI?</p>\n\n<p>I thought about <code>[QSignalMapper::removeMappings][1] ( QObject * sender )</code> but I am unsure about what 'sender' is.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13293584,"title":"QGraphicsItem::SetCursor Won't Deselect","body":"<p>All,</p>\n\n<p>I have a <code>QGraphicsEllipseItem</code> with <code>setFlags(Qt::ItemIsSelectable | Qt::ItemIsMovable)</code>.  This allows me drag and move ellipses quickly in a QGraphicsView.</p>\n\n<p>I decided to be fancy, and <code>setCursor(Qt::OpenHandCursor)</code> to let the user know they can move it by clicking.  However, now it won't let go when I let go of the left mouse button?  What am I doing wrong?</p>\n\n<hr>\n\n<p>Example code: <a href=\"http://stackoverflow.com/questions/13278281/custom-qgraphicitem-and-repaint-issues\">Custom QGraphicItem and Repaint Issues</a></p>\n\n<p><strong>Note:</strong> I removed the <code>update()</code> calls, and added <code>prepareGeometryChange()</code> calls.\nNow modify the <code>MakeNewPoint</code> function:</p>\n\n<pre><code>QGraphicsEllipseItem * InteractivePolygon::MakeNewPoint(QPointF &amp; new_point)\n{\n   QGraphicsEllipseItem * result = 0;\n   result = new QGraphicsEllipseItem();\n   result-&gt;setPos(new_point);\n   result-&gt;setRect(-4, -4, 8, 8);\n   result-&gt;setFlags(QGraphicsItem::ItemIsMovable | QGraphicsItem::ItemIsSelectable)\n   result-&gt;setCursor(Qt::OpenHandCursor); //Setting this removes my ability to let go of an item. NOTE: result is parented by this.\n\n   return result;\n}\n</code></pre>\n\n<p>later:</p>\n\n<pre><code> QGraphicsEllipseItem * new_item = MakeNewPoint(bla);\n new_item-&gt;setParent(this);\n //add it to my QList&lt;QGraphicsEllipseItem *&gt; m_points;\n</code></pre>\n\n<hr>\n\n<p>I would like to note that my <code>QGraphicsEllipseItem</code> is parented by a custom <code>QGraphicsItem</code>.  I don't change the parents/Custom Item cursor, only the ellipse's.  I do not experience this problem with non parented ellipses...</p>\n\n<hr>\n\n<p><strong>Interesting result:</strong> So my class custom <code>QGraphicsItem</code> class (the parent of the ellipses) is a QObject so I can filter incoming mouse events from the scene.  I did a <code>setCursor(Qt::ArrowCursor)</code> in my custom class's constructor... and here's where it gets interesting:</p>\n\n<p>The eventFilter now catches <code>(event-&gt;type() == QEvent::GraphicsSceneMouseMove)</code> even if a mouse button isn't pressed down.  If I don't have the <code>setCursor</code> call, that event only fires while a mouse button is pressed... thoughts?</p>\n"},{"tags":["c++","qt","sockets","network-programming","network-protocols"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13295261,"title":"Packet Size modification over Sockets","body":"<p>I am doing socket programming in QT and I have to design a protocol to transfer DATA over TCP/IP.</p>\n\n<p>Now my protocol design is SIMPLE and it sends commands in a fashion that the first BYTE of the data written to the socket for every write will be the COMMAND. So whenever I write into the socket using socket->write(\"CDATA\") the first byte, \"C\" in this case will mean a command for the server to do something.</p>\n\n<p>I just want to know one thing, that whether the write will be broken down into multiple reads on the server ? I know there will be a buffer size on the server for the read. But can the socket->write() on the client be recieved in multiple READs on the server when the write is WITHIN the buffer limits of the server ?</p>\n\n<p>To clear this question I will given an example Lets say the buffer read size of the socket on the server is 4096 BYTES. The client writes socket->write(\"CDATA\") to the server. Now is there any possibility that server will receive this in MORE than ONE reads ? Because I have a while loop on the server :</p>\n\n<pre><code>while{\n char str[] = socket-&gt;read();\n // What is the coomand in the first byte \n if(str[0] == \"C\"){\n  // Do something\n }\n}\n</code></pre>\n\n<p>If the data sent by the client is received in more than ONE reads (even though the client sent it in one write) my protocol design will fail</p>\n\n<p>Your inputs are greatly appreciated.</p>\n"},{"tags":["c++","eclipse","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13293925,"title":"Can't use C library(function)","body":"<p>The following is my environment:</p>\n\n<p>Eclipse IDE for C/C++ Developers(Juno)</p>\n\n<p>Qt 4.8.3</p>\n\n<p>Qt Eclipse Integration v1.6.1</p>\n\n<p>mingw(20120426)</p>\n\n<p>When I new a qt console project, I just can't use c library, such as \"exit(int)\" or \"atoi(string)\".</p>\n\n<p>The error message is such like \"Function 'exit' could not be resolved.\"</p>\n\n<p>I have included stdlib.h, but still can't work.</p>\n\n<p>I don't know if there is some relation with index.</p>\n"},{"tags":["c++","qt","qml","blackberry-10","blackberry-cascades"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13293289,"title":"Option style (Dropdown, RadioGroup, etc) in QML or C++ (Cascades)","body":"<p>I'm trying to set a custom style to a group of options belonging to a dropdown or a Radio Group. I'm searching all over and it seems impossible. At least I would like to decrease the size of the letters in the text of each option because is too big! and crashes my UI.</p>\n\n<p>Here's and example of what I need:</p>\n\n<pre><code>RadioGroup {\n id: groupOrigin\n objectName: \"groupOrigin\"\n\n Option{\n   text: \"text to display\" \n   //This text default style is what I'm trying to change. Please help!.\n }\n}\n</code></pre>\n\n<p>thanks!</p>\n"},{"tags":["bash","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13293018,"title":"Read a file in Qt as it is being Written","body":"<p>I am writing the output of a bash command in a file. In Qt, I want to read this file, as it is being written to. The command writes the output gradually. How can I achieve something like this?</p>\n"},{"tags":["c++","qt","struct","signals-slots"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13291328,"title":"How to send instance of custom struct with QSignalMapper?","body":"<p>I have a custom struct of which instances of it are associated with <strong>QAction</strong> instances. I would like a slot to be executed with the corresponding instance of my struct when the action executes.</p>\n\n<p>I managed to get this working using <strong>QSignalMapper</strong> by sub-classing <strong>QObject</strong> to encapsulate an instance of my struct. However, all of the values of my struct are incorrect when they arrive in the slot - they seem to be uninitialised.</p>\n\n<p>If I send a primitive type such as an <strong>int</strong> in place of the struct, or even something like a <strong>QAction</strong>, everything works OK.</p>\n\n<p>Is it possible to do what I am trying to do? If so, what am I missing?</p>\n\n<p>Thanks,\nAlan</p>\n\n<p><strong>Edit: Added code sample</strong></p>\n\n<p>The following is how I am wiring up the QSignalMapper. Note: STRUCT_WRAPPER derives from QObject.</p>\n\n<pre><code>/* Connect signal mapper to selected slot */\nconnect(signalMapper, SIGNAL(mapped(QObject *)), this, \n    SLOT(on_selected(QObject *)));\n\n/* For all structures */\nfor(x = 0; x &lt; structureCount; x++)\n{\n    /* Create action */\n    QAction * action = ui.menu-&gt;addAction(\"Name\");\n\n    /* Get current structure */\n    MY_STRUCT myStruct = structList[x];\n\n    /* Create wrapper */\n    STRUCT_WRAPPER * structWrapper = new STRUCT_WRAPPER(this, myStruct);\n\n    /* Map struct to action */\n    signalMapper-&gt;setMapping(action, structWrapper);\n}\n</code></pre>\n\n<p>And here is the slot where I am getting uninitialised values:</p>\n\n<pre><code>void on_selected(QObject * object)\n{\n    /* Get structure wrapper */\n    STRUCT_WRAPPER * structWrapper = (STRUCT_WRAPPER *)object;\n\n    /* Get structure */\n    MY_STRUCT myStruct = structWrapper-&gt;GetStruct();\n\n    /* ID is always uninitialised */\n    int id = myStruct.ID;\n}\n</code></pre>\n"},{"tags":["c++","qt","function","gui","user-interface"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13291543,"title":"QT: Accessing function from class MainWindow : public QMainWindow in other file","body":"<p>So I have in mainwindow.h :</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\n    void SetBoxTest(const QString &amp;Text);\n\n[...]\n</code></pre>\n\n<p>and in mainwindow.cpp :</p>\n\n<pre><code>void MainWindow::SetBoxTest(const QString &amp;Text) {\n    ui-&gt;plainTextEdit-&gt;setPlainText(Text);\n}\n</code></pre>\n\n<ol>\n<li><p>I want access SetBoxTest in <strong>other</strong> .cpp file. I included \"mainwindow.h\" and now what? How to properly access SetBoxTest function?</p></li>\n<li><p>Is accessing UI in that way is correct?</p></li>\n<li><p>Also I saw this \"const QString &amp;Text\" somewhere, why shouldn't I just put \"QString Text\" for such function type (which sets text in text box)? What's better?</p></li>\n</ol>\n\n<p><strong>EDIT:</strong>\nWhen I try to do it like :</p>\n\n<pre><code>MainWindow.SetBoxTest(DataString);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MainWindow.SetBoxTest(DataString);\n</code></pre>\n\n<p>It says I'm missing ; before .</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13281349,"title":"Transfering values between two forms in Qt","body":"<p><br>\nI have a lineEdit called myVal in a form called MainWindow. In a second form entitled SecondWindow, I have a lineEdit called myVal2 and an Ok button called \"OKButton\". </p>\n\n<p>I think the best solution is to use signals and slots. I searched different sites but I tried to use.\nconnect(ui.OKButton, SIGNAL(clicked()), MainWindow, SLOT(transferValue)); However, I was unable to get it to work. I'm still new at QT and any help would be great.<br>Thanks</p>\n"},{"tags":["qt","qtwebkit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":12156552,"title":"How to make QWebView conserve return values from modal windows?","body":"<p>What makes this small browser app fail to return the window.returnValue given in the modal window? The <a href=\"http://qt.gitorious.org/qt/qt/trees/4.8/demos/browser\" rel=\"nofollow\">Qt Browser demo</a> does make it work, but I can't figure why it does and this mini browser app doesn't.</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QWebView&gt;\n#include &lt;QWebPage&gt;\n#include &lt;QUrl&gt;\n\nclass WebPage : public QWebPage\n{\npublic:\n    QWebPage *createWindow(QWebPage::WebWindowType type)\n    {\n        QWebView *wv = new QWebView;\n        if (type == QWebPage::WebModalDialog)\n            wv-&gt;setWindowModality(Qt::ApplicationModal);\n        return wv-&gt;page();\n    }\n};\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QWebView view;\n\n    QWebSettings::globalSettings()-&gt;setAttribute(QWebSettings::DeveloperExtrasEnabled, true);\n\n    view.setPage(new WebPage);\n    view.load(QUrl(\"http://help.dottoro.com/external/examples/ljdlgxbu/showModalDialog_1.htm\"));\n    view.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.showModalDialog\" rel=\"nofollow\">showModalDialog()</a> is synchronous and should return the value set as window.returnValue in the modal dialog created by the call. The small browser app opens the dialog window successfully, but the (modal)window.returnValue is not set as return value for showModalDialog().</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13291310,"title":"Qt application title","body":"<p>I'm developping a Qt application</p>\n\n<p>I managed to set the main window title using methode</p>\n\n<pre><code>setWindowTitle(\"my title\");\n</code></pre>\n\n<p>however this changes the name in the application top bar, it doesn't affect the title displayed in the top bar of gnome shell (ubuntu) nor the title displayed when doing alt+tab.</p>\n\n<p>How to change it ?</p>\n\n<p>I've tried using the DEPLOYMENT.display_name variable in my .pro file</p>\n"},{"tags":["python","qt","delegates","pyside","qtableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13242442,"title":"PySide delegate on QTableView with text and tick","body":"<p>I'm implementing a <code>QTableView</code> with a custom model and I need a cell that looks like this:\n<img src=\"http://oi47.tinypic.com/2jirkw.jpg\"/></p>\n\n<p>Currently I use the delegate below (adapted from other answers) to draw a flag (an html coloured text) on a single cell, clicking on the whole cell changes the flag.</p>\n\n<pre><code>class HTMLDelegate(QtGui.QStyledItemDelegate):\n    def Doc(self, options):\n        if options.text == \"0\":\n            return \"\"\n        elif options.text == \"1\":\n            return \"&lt;b&gt;&lt;font align='right' color='green'&gt;V&lt;/font&gt;&lt;/b&gt;\"\n        elif options.text == \"2\":\n            return \"&lt;font align='right' color='#FF8400'&gt;!!&lt;/font&gt;\"\n        elif options.text == \"3\":\n            return \"&lt;b&gt;&lt;font align='right' color='#CC0000'&gt;F&lt;/font&gt;&lt;/b&gt;\"\n        elif options.text == \"4\":\n            return \"&lt;b&gt;&lt;font align='right' color='#000000'&gt;X&lt;/font&gt;&lt;/b&gt;\"\n\n    def paint(self, painter, option, index):\n        options = QtGui.QStyleOptionViewItemV4(option)\n        self.initStyleOption(options,index)\n\n        style = QtGui.QApplication.style() if options.widget is None else options.widget.style()\n\n        doc = QtGui.QTextDocument()\n\n        background = None\n        doc.setHtml(self.Doc(options))\n\n        options.text = \"\"\n        style.drawControl(QtGui.QStyle.CE_ItemViewItem, options, painter);\n\n        ctx = QtGui.QAbstractTextDocumentLayout.PaintContext()\n\n        # Highlighting text if item is selected\n        #if (optionV4.state &amp; QStyle::State_Selected)\n        #    ctx.palette.setColor(QPalette::Text, optionV4.palette.color(QPalette::Active, QPalette::HighlightedText));\n\n        textRect = style.subElementRect(QtGui.QStyle.SE_ItemViewItemText, options, None)\n        painter.save()\n        if background:\n            painter.fillRect(options.rect, QtCore.Qt.yellow)\n        painter.translate(textRect.topLeft())\n        painter.setClipRect(textRect.translated(-textRect.topLeft()))\n\n        doc.documentLayout().draw(painter, ctx)\n\n        painter.restore()\n\n    def editorEvent(self, event, model, option, index):\n        if not (index.flags() &amp; QtCore.Qt.ItemIsEditable) &gt; 0:\n            return False\n\n        # Do not change the checkbox-state\n        if event.type() == QtCore.QEvent.MouseButtonRelease or event.type() == QtCore.QEvent.MouseButtonDblClick:\n            if event.button() != QtCore.Qt.LeftButton:\n                return False\n            if event.type() == QtCore.QEvent.MouseButtonDblClick:\n                return True\n        elif event.type() == QtCore.QEvent.KeyPress:\n            if event.key() != QtCore.Qt.Key_Space and event.key() != QtCore.Qt.Key_Select:\n                return False\n        else:\n            return False\n\n        # Change the flag-state\n        self.setModelData(None, model, index)\n        return False\n\n\n    def setModelData (self, editor, model, index):\n        '''\n        The user wanted to change the old flag into the next\n        '''\n        #newValue = not bool(index.model().data(index, QtCore.Qt.DisplayRole))\n        #model.setData(index, newValue, QtCore.Qt.EditRole)\n        oldFlagIndex = model.index(index.row(), COD_COL_FLAGS)\n        oldFlag = model.data(oldFlagIndex)\n\n        if type(oldFlag) == long:\n            newFlag = oldFlag + 1\n            if newFlag &gt; 4:\n                newFlag = 0\n        else:\n            newFlag = 0\n        model.setData(index, newFlag, QtCore.Qt.EditRole)\n</code></pre>\n\n<p>How can I accomplish this ?<br>\nThe options that I have in mind are:</p>\n\n<ul>\n<li><p>A delegate that draws text (rich or simple) along with a pixmap to the right</p></li>\n<li><p>A delegate that draws two strings of text (one normal and one rich, or both rich text) aligned one to the left and one to the right</p></li>\n</ul>\n\n<p>As an exercise, but not required for the app, it would be nice to trigger the flag change only when clicking on it instead of the whole cell.</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13278281,"title":"Custom QGraphicItem and Repaint Issues","body":"<p>All, I implemented a QGraphicsItem which is a polygon.  I sped up development by using <code>QGraphicsEllipseItem</code> as the points (for the dragging capabilities.)  However, I am now having difficulty in <code>update()</code> functionality.  My code is posted at the end, my questions are:</p>\n\n<ol>\n<li>Am I taking the right approach here?  I am starting to doubt myself</li>\n<li>Am I supposed to be calling <code>QGraphicsItem::update()</code> in my implementation?  I call it alot</li>\n</ol>\n\n<p>Some other info:</p>\n\n<ul>\n<li>I did a dirty little hack.  In my actual code I also inherit from <code>QObject</code>.  This allows me to install an <code>eventFilter</code> on the scene() (which I know has been set using <code>itemChange</code>).  From the scene I filter <code>QGraphicsSceneMouseEvent</code> during mouse moves and call <code>QGraphicsItem::update()</code> otherwise my lines wouldn't be redrawn.</li>\n<li>When I remove my <code>InteractivePolygon</code> from the scene now, my lines are not removed!  I have to call scene()->update.  I feel like something's not right.</li>\n</ul>\n\n<hr>\n\n<p>declaration:</p>\n\n<pre><code>class InteractivePolygon : public QGraphicsItem\n{\n\npublic:\n   //Only important methods\n   QRectF boundingRect() const;\n   void paint(bla bla bla);\n   bool eventFilter(QObject *, QEvent *);\n\nprivate:\n   QList&lt;QGraphicsEllipseItem *&gt; m_points;\n\n   void AddPolygonPoint(QPointF);\n   QGraphicsEllipseItem * MakeNewPoint(QPointF);\n}\n</code></pre>\n\n<p>implementation:</p>\n\n<pre><code>QRectF InteractivePolygon::boundingRect() const\n{\n   return childrenBoundingRect();\n}\n\nvoid InteractivePolygon::paint(QPainter painter.. otherstuf)\n{\n   QPen line_pen(QColor(255,0,0));\n   painter-&gt;setPen(line_pen);\n\n   if(m_points.count() &gt; 1)\n   {\n      for(int i = 1; i &lt; m_points.count(); ++i)\n          painter-&gt;drawLine(m_points[i-1]-&gt;pos(), m_points[i]-&gt;pos());\n   }\n}\n\nvoid AddPolygonPoint(QRectF point)\n{\n   QGraphicsEllipseItem * new_item = MakeNewPoint(point);\n   new_item-&gt;setParent(this);\n\n   m_points-&gt;push_front(new_item);\n\n   update();  \n}\n\nQGraphicsEllipseItem * InteractivePolygon::MakeNewPoint(QPointF &amp; new_point)\n{\n   QGraphicsEllipseItem * result = 0;\n   result = new QGraphicsEllipseItem();\n   result-&gt;setPos(new_point);\n   result-&gt;setRect(-4, -4, 8, 8);\n   result-&gt;setFlags(QGraphicsItem::ItemIsMovable | QGraphicsItem::ItemIsSelectable)\n\n   return result;\n}\n\n//Lets pretend this method is correctly setup/exists\nbool InteractivePolygon::eventFilter(QObject *object, QEvent *event)\n{\n   if(event-&gt;type() == QEvent::QEvent::GraphicsSceneMouseMove)\n   {\n      QGraphicsSceneMouseEvent * mouse_move = (QGraphicsSceneMouseEvent *)event;\n      //Selected index is set else, let's assume it works\n      if(selected_index)\n      {\n         update(); //If I don't do this, my lines in my paint() are not redrawn.\n      }\n   }\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13274567,"title":"Determining super class for registered user types","body":"<p>I am attempting to determine which classes are subclassed from several different types. For example, if E1 extends A, E2 extends A, and E3 extends B, I want to find all classes that are subclassed from A and return a list of the types E1 and E2. These types are registered with the QMetaSystem.</p>\n\n<p>My first attempt was to iterate over the user declared types, instantiate it, and get the superClass name:</p>\n\n<pre><code>int type = QMetaType::User;\nwhile( QMetaType::isRegistered(type) ) {\n    QObject *o = (QObject*)QMetaType::construct(type);\n    QString parent = o-&gt;metaObject()-&gt;superClass()-&gt;className();\n}\n</code></pre>\n\n<p>This seemed like a bad idea when I wrote it and didn't expect it to work. Unsurprisingly, it segfaults when attempting to get the metaObject.</p>\n\n<p>Is it possible to get the information I need from the QMetaType or is there another way of getting this information?</p>\n\n<p><strong>Update</strong></p>\n\n<p>The problem seems to be in trying to iterate over all the user types. Before I register my types, some Qt type seem to be getting registered before mine. Specifically, the two registered types are QPaintBufferCacheEntry (typeId = 256) and QPaintBufferCacheEntryV2 (typeId = 257). I can initialize the object just fine, but it crashes when I attempt to get the meta object, so I'm thinking the cast is illegal. I'm not quite sure where these are being registered because my code base is not doing it explicitly.</p>\n\n<p>I took this to mean that it just wasn't safe to iterate over and construct each of the user types.</p>\n"},{"tags":["c++","qt","clang"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":359,"score":0,"question_id":9663574,"title":"Cannot run clang","body":"<p>from here:  <a href=\"http://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/\" rel=\"nofollow\">http://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/</a><br>\nI've downloaded binaries of clang compiler. But when trying to build anything within qt I'm getting following error:</p>\n\n<pre>\nqtcreator_ctrlc_stub: Command line failed: C:/.../mingw64/bin/mingw32-make.exe\n08:03:59: The process \"C:\\...\\mingw64\\bin\\mingw32-make.exe\" crashed.\nError while building project clang (target: Desktop)\nWhen executing build step 'Make'  \n</pre>\n\n<p>Would anybody knows what to do with it?</p>\n"},{"tags":["qt","source","webpage","symbol","unresolved-external"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13277903,"title":"QT: unresolved external symbol while trying to get webpage source code","body":"<p>I started developing with Qt and I'm trying to get webpage source code. Here's what I have :</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n#include &lt;QString&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QUrl&gt;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\n/**/\n\nclass GetHTMLSource : public QObject\n{\nQ_OBJECT\n\npublic:\n    GetHTMLSource();\n    void GetSource();\n\npublic slots:\n    void GetDone(QNetworkReply*);\n\nprivate:\n    QNetworkAccessManager* NetManager;\n};\n\n\nGetHTMLSource::GetHTMLSource()\n{\n    NetManager = new QNetworkAccessManager(this);\n\n    connect(NetManager, SIGNAL(finished(QNetworkReply*)),\n         this, SLOT(GetDone(QNetworkReply*)));\n\n}\n\nvoid GetHTMLSource::GetSource()\n{\n    NetManager-&gt;get(QNetworkRequest(QUrl(\"http://stackoverflow.com\")));\n}\n\nvoid GetHTMLSource::GetDone(QNetworkReply* ReplyIn)\n{\n\n    QByteArray DataIn=ReplyIn-&gt;readAll();\n    QString DataString(DataIn);\n\n    //process str any way you like!\n\n}\n\n/**/\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    GetHTMLSource Test;\n    Test.GetSource();\n}\n</code></pre>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_pushButton_clicked();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>.pro</p>\n\n<pre><code>QT       += core gui\n\nTARGET = TestGetPageSource\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nQT += network\n</code></pre>\n\n<p>Errors are :</p>\n\n<blockquote>\n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual struct QMetaObject const * __thiscall\n  GetHTMLSource::metaObject(void)const \"\n  (?metaObject@GetHTMLSource@@UBEPBUQMetaObject@@XZ)</p>\n  \n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual void * __thiscall GetHTMLSource::qt_metacast(char const *)\"\n  (?qt_metacast@GetHTMLSource@@UAEPAXPBD@Z)</p>\n  \n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual int __thiscall GetHTMLSource::qt_metacall(enum\n  QMetaObject::Call,int,void * *)\"\n  (?qt_metacall@GetHTMLSource@@UAEHW4Call@QMetaObject@@HPAPAX@Z)</p>\n</blockquote>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13289675,"title":"Show Text above Gridview in QML","body":"<p>How can i show text above gridview ?\nI tried the following code but on scrolling , gridview elements come over the text and hide it . Even though I specified the width and height of gridview , gridview elements cross there bounds on scrolling . Any help is appreciated . Thanks .</p>\n\n<pre><code>Rectangle {\nwidth: 300; height: 400\ncolor: \"gray\"\n\nListModel {\n    id: appModel\n    ListElement { name: \"Music\"; icon: \"pics/AudioPlayer_48.png\" }\n    ListElement { name: \"Movies\"; icon: \"pics/VideoPlayer_48.png\" }\n    ListElement { name: \"Camera\"; icon: \"pics/Camera_48.png\" }\n    ListElement { name: \"Calendar\"; icon: \"pics/DateBook_48.png\" }\n    ListElement { name: \"Messaging\"; icon: \"pics/EMail_48.png\" }\n    ListElement { name: \"Todo List\"; icon: \"pics/TodoList_48.png\" }\n    ListElement { name: \"Contacts\"; icon: \"pics/AddressBook_48.png\" }\n}\n\nComponent {\n    id: appDelegate\n\n    Item {\n        width: 100; height: 100\n\n        Image {\n            id: myIcon\n            y: 20; anchors.horizontalCenter: parent.horizontalCenter\n            source: icon\n        }\n        Text {\n            anchors { top: myIcon.bottom; horizontalCenter: parent.horizontalCenter }\n            text: name\n        }\n    }\n}\n\nComponent {\n    id: appHighlight\n    Rectangle { width: 80; height: 80; color: \"lightsteelblue\" }\n}\nText\n{\n    id:txt\n    width: parent.width\n    height: 100\n    text: \"8791561651\"\n}\nGridView {\n    anchors.top:txt.bottom\n    height: 200\n    width: parent.width\n    cellWidth: 100; cellHeight: 100\n    highlight: appHighlight\n    focus: true\n    model: appModel\n    delegate: appDelegate\n}\n}\n</code></pre>\n"},{"tags":["qt","qt4","qtreeview","qfilesystemwatcher"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13275084,"title":"recursive delete of directory failed in QTreeView","body":"<p>I want to delete a directory in a QTreeView which is not empty, when i do it recursively the children are deleted but the parent is not.\nI noticed that if the parent file isn't expended the delete work is just fine but when i expand it and I close it, the deleting is impossible.</p>\n\n<p>The output: <code>QFileSystemWatcher: FindNextChangeNotification failed</code></p>\n\n<p>When I close the all application the parent directory is removed.</p>\n"},{"tags":["python","qt","overlay","fullscreen"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12334217,"title":"Python + Qt -> 2D overlay over other full screen app?","body":"<p><strong>Backgroud:</strong>\nI play Grand Strategy Games a lot. Part of addcition comes out of AARs (After Action Reports). Stories players write about games. Ofc. that require save games cause \"quick\" game is longer than 10 hours.</p>\n\n<p><strong>Problem:</strong>\nGame do not support automatic save games other than 3 autosaves that get overridden every time. So I want to write app that will use Qt for tracking file changes. Every time game auto saves, this app will rename and move to choosen location savegame.\n<strong>But since its full screen game, players may forgot to turn on my app I need way to indicate state of my app.</strong></p>\n\n<p><strong>Question:</strong>\nHow can I make 2D overlay over portion of full screen 3D app, given that I use Python and Qt?</p>\n\n<p><strong>Alternative</strong>\nI do not think that sound warnings would solve my problem, since it would work if someone forgotten to choose save game to track, but it would not work if someone completely forgot to turn on my app. While lack of icon would be enough to inform about such mistake.</p>\n\n<p>But if you can find any other way to indicate that my app is not turned on or configured, post your ideas in answers.</p>\n"},{"tags":["c++","qt","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13265366,"title":"Ignoring a Invalid XML-Tag using Qdom?","body":"<p>I try to parse XML file which contains a attribute tag like this: </p>\n\n<pre><code>a=\"(USA &amp; CANADA)\"\n</code></pre>\n\n<p>But i found out that it isn't well-formed XML because the\"&amp;\" should be URL-encoded (&amp;)</p>\n\n<p>Is there a way to tell QDom to ignore the invalid text to parse the file anyway? Because i can't just fix all XML-files.</p>\n\n<p>I'd greatly appreciate any solutions to this problem.</p>\n\n<p>EDIT: I figured out that there is a function setInvalidDataPolicy(AcceptInvalidChars) but either this doesn't work when using setContent() for the QDomDocument or I'm just using it the wrong way...</p>\n\n<pre><code>QDomDocument xmlcontent;\nQDomImplementation impl;\nimpl.setInvalidDataPolicy(QDomImplementation::AcceptInvalidChars);\nQFile XMLContentFile(pathString);\nxmlcontent.setContent(&amp;XMLContentFile)\n</code></pre>\n\n<p>Anyone any ideas? Thanks in advance!</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":65,"score":4,"question_id":13287602,"title":"Qt: Which is better for transforming a number to QString, QVariant or QString::number","body":"<p>I am just curious. Let's say for example I need to output a number in the console.</p>\n\n<p>The code would be:</p>\n\n<pre><code>#include &lt;QDebug&gt;\n#include &lt;QVariant&gt;\n#include &lt;QString&gt;\n\nvoid displayNumber(quint8 number) {\n    qDebug() &lt;&lt; QVariant(number).toString();\n    qDebug() &lt;&lt; QString::number(number);\n//or for example \n//  QLabel label; \n//  label.setText(QString::number(number));\n//or \n//  label.setText(QVariant(number).toString());\n}\n</code></pre>\n\n<p>Which would be better performance wise? I think the memory consumption is also different.\nQVariant(number).toString() would mean that it stores a QVariant in the stack. Not sure about QString::number(), shouldn't it just call the function(sure, the function has a QString return so it is allocated on the stack too and takes that space and that operations to allocated and unallocate it)?\nAnyway, sizeof() gives me 16 Bytes for QVariant and 4 Bytes for QString.</p>\n"},{"tags":["windows","qt","build","configure"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13217734,"title":"Can't build Qt in Windows from source, Perl installed but still can't find headers","body":"<p>I'm using Cygwin on Windows 7, 64-bit.  I downloaded the 4.8.3. source and followed the instructions <a href=\"http://qt-project.org/doc/qt-4.8/install-win.html\" rel=\"nofollow\">here</a>, putting <code>&lt;qtdir&gt;/bin</code> in PATH along with the path to my chosen compiler.  Configure fails immediately,</p>\n\n<blockquote>\n  <p>$ ./configure</p>\n  \n  <p>Creating qmake. Please\n  wait... g++ -c -o makefile.o -pipe -DQMAKE_OPENSOURCE_EDITION -g -I.\n  -Igenerators -Igenerators/unix -Igenerators/win32 -Igenerators/mac -Igenerators/symbian -Igenerators/integrity -I/cygdrive/c/Qt/4.8.3/include -I/cygdrive/c/Qt/4.8.3/include/QtCore -I/cygdrive/c/Qt/4.8.3/src/corelib/global -I/cygdrive/c/Qt/4.8.3/src/corelib/xml -I/cygdrive/c/Qt/4.8.3/tools/shared -DQT_NO_PCRE -DQT_BUILD_QMAKE -DQT_BOOTSTRAPPED -DQLIBRARYINFO_EPOCROOT -DQT_NO_TEXTCODEC -DQT_NO_UNICODETABLES -DQT_NO_COMPONENT -DQT_NO_STL -DQT_NO_COMPRESS -I/cygdrive/c/Qt/4.8.3/mkspecs/cygwin-g++ -DHAVE_QCONFIG_CPP -DQT_NO_THREAD -DQT_NO_QOBJECT -DQT_NO_GEOM_VARIANT -DQT_NO_DEPRECATED  generators/makefile.cpp</p>\n  \n  <p>In file included from ./option.h:45:0,\n                   from generators/makefile.h:45,\n                   from generators/makefile.cpp:42: ./project.h:45:25: fatal error: qstringlist.h: No such file or directory compilation\n  terminated. make: <em>*</em> [makefile.o] Error 1</p>\n</blockquote>\n\n<p>Discussions <a href=\"http://qt-project.org/forums/viewthread/5360\" rel=\"nofollow\">here</a> and <a href=\"http://stackoverflow.com/questions/2084766/how-to-build-latest-qt-from-git-repository-on-windows\">here</a> identify the problem as being with Perl; however Perl is on my system and on the path.  To be sure I went and downloaded/installed ActivePerl, after which I added <code>Perl64/bin</code> to the path.  Same result.  Would very much appreciate some help out with this.</p>\n\n<p><strong>Edit</strong>, for completeness:</p>\n\n<blockquote>\n  <p>$ whereis perl</p>\n  \n  <p>perl: /bin/perl.exe /usr/bin/perl.exe /usr/share/perl\n  /cygdrive/c/Perl64/bin/perl.exe /cygdrive/c/Perl64/bin/perl516.dll</p>\n  \n  <p>$ echo $PATH</p>\n  \n  <p>/cygdrive/c/Perl64/bin:/cygdrive/c/gcc/bin:/bin: ...\n  /cygdrive/c/Qt/4.8.3/bin</p>\n</blockquote>\n\n<p><strong>Edit</strong>: The line that fails is:</p>\n\n<pre><code>#include &lt;qstringlist.h&gt;\n</code></pre>\n\n<p>This specific error goes away if I replace with an absolute path.  (Of course, numerous other errors then arise.) Yet</p>\n\n<blockquote>\n  <p>$whereis qstringlist.h</p>\n  \n  <p>qstringlist:\n  /cygdrive/c/Qt/4.8.3/include/QtCore/qstringlist.h</p>\n</blockquote>\n\n<p>which is explicitly <code>-I</code> included in the g++ command, and FWIW</p>\n\n<blockquote>\n<pre><code>$echo $PATH\n\n... /cygdrive/c/Qt/4.8.3/include/QtCore\n</code></pre>\n</blockquote>\n\n<p><strong>Edit:</strong> Adding <code>-I/cygdrive/c/Qt/4.8.3/include/QtCore</code> as an explicit option to <code>./configure</code> does nothing.  Seriously, what is going on here...</p>\n"},{"tags":["java","c++","qt","jvm","jni"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":26,"score":1,"question_id":13287641,"title":"jni can't find the class if the arguments of jvm are converted from other type","body":"<p>I have a small-big problem with jni and c++/qt:\nThis is my code:</p>\n\n<pre><code>void Jvm::create_jvm(QStringList &amp;arguments){\n    QTextStream cout(stdout);\n    JavaVM *jvm;\n    JNIEnv *env;\n    JavaVMInitArgs vm_args;\n    JavaVMOption *options[4];\n    //run begin\n    //options[0].optionString = \"-Djava.compiler=NONE\";\n    //options[1].optionString = \"-Djava.class.path=app\";\n    //options[2].optionString = \"-verbose:jni\";\n    //options[3].optionString = \"-Xmx512m\";\n    //run end\n\n    //can't find the class begin\n    QByteArray bArray;\n    cout&lt;&lt;\"Valores del array arguments\"&lt;&lt;endl;\n    for(int i;i&lt;arguments.size();i++){\n\n        cout&lt;&lt;arguments.at(i)&lt;&lt;endl;\n        bArray=arguments.at(i).toStdString().c_str();\n        options[i].optionString = bArray.data();\n        cout&lt;&lt;options[i].optionString&lt;&lt;endl;\n    }\n    //can't find the class end\n\n\n    //jvm args\n    vm_args.version = JNI_VERSION_1_6;\n    vm_args.nOptions = 4;\n    vm_args.options = options;\n    vm_args.ignoreUnrecognized = JNI_FALSE;\n\n\n    jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n    if (res &lt; 0) {//jvm don't created\n        qDebug()&lt;&lt;\"Can't create Java VM\\n\";\n        exit(1);\n    }else{//jvm created\n        invoke_class(env);\n        jvm-&gt;DestroyJavaVM();\n    }\n}\n\nvoid Jvm::invoke_class(JNIEnv* env) {\n    jclass cls;\n    jmethodID mainMethod;\n    jobjectArray applicationArgs;\n    jstring applicationArg0,applicationArg1,applicationArg2;\n\n    //class and main method\n    cls = env-&gt;FindClass(\"HolaMundoSwing\");\n    if (cls == 0) qDebug()&lt;&lt;\"Sorry, I can't find the class\"; //In case that class not exist\n    mainMethod = env-&gt;GetStaticMethodID(cls, \"main\", \"([Ljava/lang/String;)V\");\n\n    //Application arguments array\n    applicationArgs = env-&gt;NewObjectArray(3, env-&gt;FindClass(\"java/lang/String\"), NULL);\n    applicationArg0 = env-&gt;NewStringUTF(\"From\");\n    applicationArg1 = env-&gt;NewStringUTF(\"C\");\n    applicationArg2 = env-&gt;NewStringUTF(\"program\");\n\n    env-&gt;SetObjectArrayElement(applicationArgs, 0, applicationArg0);\n    env-&gt;SetObjectArrayElement(applicationArgs, 1, applicationArg1);\n    env-&gt;SetObjectArrayElement(applicationArgs, 2, applicationArg2);\n\n    env-&gt;CallStaticVoidMethod(cls, mainMethod, applicationArgs); //Call to the method\n}\n</code></pre>\n\n<p>I have tested the arguments and are the same.\nThe classpath have the same value, but the commented code run correctly and the other code can't find the class, any idea?</p>\n"},{"tags":["c++","visual-studio","qt","qmake","c-preprocessor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13285791,"title":"Preprocessor definition works in Visual Studio and doesn't work in Qt-creator","body":"<p><strong>.pro file:</strong></p>\n\n<pre><code>DEFINES += MY_HEADER=\\\"test.h\\\"\n</code></pre>\n\n<p><strong>cpp file:</strong></p>\n\n<pre><code>#include MY_HEADER\n</code></pre>\n\n<p>In Qt-Creator compilation failed with error:</p>\n\n<blockquote>\n  <p>error C2006: '#include' : expected a filename, found 'identifier'</p>\n</blockquote>\n\n<p>Compiler command line seems to be correct:</p>\n\n<blockquote>\n  <p>\"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\VC\\BIN\\nmake.exe\" -f Makefile.Debug\n      cl -c -nologo -Zm200 -Zc:wchar_t- /E -Zi -MDd /E -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DMY_HEADER=\"test.h\" -DLLL=3 -DQT_DLL -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"c:\\Qt\\4.7.4\\include\\QtCore\" -I\"c:\\Qt\\4.7.4\\include\" -I\"c:\\Qt\\4.7.4\\include\\ActiveQt\" -I\"debug\" -I\"..\\testdefine\" -I\".\" -I\"c:\\Qt\\4.7.4\\mkspecs\\win32-msvc2010\" -Fodebug\\ @C:\\Users\\Ekimov-A\\AppData\\Local\\Temp\\nm9C17.tmp</p>\n</blockquote>\n\n<p>When the  project is imported to Visual studio with Qt-addin this code compiled without any problems.</p>\n"},{"tags":["c++","qt","colors","qtextedit"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4575,"score":2,"question_id":2857864,"title":"QTextEdit with different text colors (Qt / C++)","body":"<p>I have a QTextEdit box that displays text, and I'd like to be able to set the text color for different lines of text in the same QTextEditBox. (i.e. line 1 might be red, line 2 might be black, etc.)</p>\n\n<p>Is this possible in a QTextEdit box? If not, what's the easiest way to get this behavior?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","directx","overlay","fullscreen"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13285182,"title":"Show a Qt-Widget above a DirectX fullscreen application","body":"<p>Is it possible to show a Qt-Widget above a DirectX fullscreen application like an overlay?\ni've already tried to set the flag <code>Qt::WindowStaysOnTopHint</code> but it doesn't work when the DirectX application is in fullscreen mode.</p>\n"},{"tags":["c++","objective-c","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13286639,"title":"Dynamic C++ vs other languages - can't call a method on an object without knowing the type","body":"<p>I don't quite understand what a friend of mine said:</p>\n\n<blockquote>\n  <p>In C++ you can't call a method on an object without knowing the type\n  of the object. It's not dynamic. In Objective C you can by doing\n  something like [object message], in Qt you can do it by using signals\n  and slots. In C++11 you can do it too</p>\n</blockquote>\n\n<p>My question is: is it correct?</p>\n\n<p>If you can, please explain me in plain English why can't I call a method on an object in C++ (not C++11) if I don't know the object's type.</p>\n"},{"tags":["qt","qt4","qml","qt-quick"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13274844,"title":"QML newbie needing help accessing Item properties from within C++","body":"<p>I am developing an application in QT and QML to access some XML data and display the results.</p>\n\n<p>The XML is downloaded / parsed from C++ and this works fine.\nI have a QML application designed to display the custom layout and that also works fine.</p>\n\n<p>To make the app look more polished I have an initial \"splash screen\" that's displayed whilst the C++ side completes the initial download / parse, I have created a property inside the main QML view to represent the current application \"state\" so I can swap to the correct screen when the data is ready.</p>\n\n<p><strong>Main.qml</strong></p>\n\n<pre><code>Item\n{\n   id: mainScreen\n   width: 800; height: 600;   \n   property int activeState: 0       // This controls what screen is displayed\n\n   Item \n   {\n       // screen layout .. removed .. \n   }\n}\n</code></pre>\n\n<p>The C++ code is generated by the QT creator app wizard and is based around the basic <code>QmlApplicationViewer</code> class.</p>\n\n<p>I've read (and re-read) the online QT docs and supposedly all I have to do to access the individual properties of <code>mainScreen</code> is to call the <code>findChild&lt;QObject *&gt;</code> method of the application viewers <code>rootContext()</code> to return a <code>QObject</code> pointer to the <code>mainScreen</code> instance and then call the <code>setProperty</code> method like so.</p>\n\n<pre><code>QObject *mainView = ROOT_CONTEXT-&gt;findChild&lt;QObject *&gt;(\"mainScreen\");\n\nqDebug(\"mainView = %08X\",(uint)mainView);\n\nif(mainView)\n{\n    mainView-&gt;setProperty(\"activeState\",1);\n}\nelse\n    qDebug(\"Unable to find the mainScreen QML object\");\n</code></pre>\n\n<p>Where <code>ROOT_CONTEXT</code> is defined elsewhere as </p>\n\n<pre><code>QDeclarativeContext *ROOT_CONTEXT;\nQDeclarativeEngine  *ROOT_ENGINE;\nQGraphicsObject     *ROOT_OBJECT;\n\nvoid QmlApplicationViewer::createMyApplication(void)\n{\n    ROOT_CONTEXT = this-&gt;rootContext();\n    ROOT_OBJECT  = this-&gt;rootObject();\n    ROOT_ENGINE  = this-&gt;engine();\n\n    pMyApplication = new MyApplication(this);\n}\n</code></pre>\n\n<p>and <code>void QmlApplicationViewer::createMyApplication(void)</code> is called after the main QML file has been setup ie </p>\n\n<pre><code>QmlApplicationViewer viewer;\n\nviewer.setMainQmlFile(QLatin1String(\"main.qml\"));\nviewer.showExpanded();\nviewer.createMyApplication();\n</code></pre>\n\n<p>BUT...</p>\n\n<p>The problem I'm running into is that that the value returned from <code>findChild&lt;QObject *&gt;(\"mainScreen\");</code> is always NULL.  I've tried enumerating through the hierarchy of objects in my QML file using the following code </p>\n\n<pre><code>QList&lt;QObject*&gt; list = ROOT_OBJECT-&gt;findChildren&lt;QObject*&gt;();\n\nqDebug(\"list = %d\",list.count());\nint i;\n\nfor(i=0;i&lt;list.count();i++)\n{\n    QObject *obj = list[i];\n\n    qDebug() &lt;&lt; \"Object\" &lt;&lt; i &lt;&lt; obj-&gt;objectName();\n}\n</code></pre>\n\n<p>and I get a list of ~120 items but they all have a blank string (\"\") for their name.</p>\n\n<p>Looking back at the QT docs all the examples seem to suggest creating the individual parts by hand (ie creating an instance of <code>QDeclarativeEngine</code>, <code>QDeclarativeComponent</code> and <code>QDeclarativeItem</code>) and linking them together instead of using the <code>QApplicationViewer</code> class as shown on this blog entry <a href=\"http://xizhizhu.blogspot.co.uk/2010/10/hybrid-application-using-qml-and-qt-c.html\" rel=\"nofollow\">http://xizhizhu.blogspot.co.uk/2010/10/hybrid-application-using-qml-and-qt-c.html</a>, but I'd much rather stick with the code I've already written.</p>\n\n<p>Can anyone please help and suggest where I'm going wrong or point me in the direction where I can find a \"simple\" example of being able to change a property of an Item in a QML file from C++.</p>\n\n<p>Many (many) thanks in advance.</p>\n\n<p>Jon...</p>\n"},{"tags":["windows","qt","configuration","installation","make-install"],"answer_count":6,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":3957,"score":6,"question_id":4699311,"title":"How to install Qt on Windows after building?","body":"<p>I can't find any information on how to install Qt built on Windows.<br>\nIn wiki article <a href=\"http://developer.qt.nokia.com/wiki/Qt_shadow_builds\">How to set up shadow builds on Mac and Linux</a> there's description of <code>-prefix</code> option in <code>configure</code> script but this option is not available on Windows.<br>\nI know I can use Qt right from the build folder but it does not seem the right thing not to perform an install step. One problem with this approach is size; Qt's build folder takes about 4GB space whereas after installing using binary installer Qt takes about 1GB space. I guess the difference is due to temporary files created during building. I hope some install procedure would install (copy) only needed files leaving temporary files in the build folder.</p>\n"},{"tags":["qt","recursion","qdir"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13285638,"title":"Recursive search for directory returning incorrect value","body":"<p>Having a problem returning the correct value from a recursive search for a directory. The code is below</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QDir&gt;\n#include &lt;QString&gt;\n\n#include &lt;QDebug&gt;\n\nstatic QString findDirectoryPathFromId(const QString &amp;startPath, const QString &amp;id)\n{\n    QDir dir(startPath);\n\n    QFileInfoList list = dir.entryInfoList(QDir::AllDirs | QDir::NoDotAndDotDot | QDir::NoSymLinks);\n\n    QString path;\n\n    foreach(QFileInfo dinfo, list)\n    {\n        if (dinfo.fileName() == id)\n        {\n            qDebug() &lt;&lt; \"****************Found****************\" &lt;&lt; dinfo.filePath();\n            return dinfo.filePath();\n\n        }\n\n        else\n        {\n            findDirectoryPathFromId(dinfo.absoluteFilePath(), id);\n       }\n\n    }\n\nreturn QString();\n\n}\n\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication app(argc, argv);\n\n    QStringList args = app.arguments();\n\n    QString path = findDirectoryPathFromId(\"/home/project/dirtest\", args.at(1));\n\n    qDebug() &lt;&lt; \"Return path\" &lt;&lt; path;\n\n    return 0;\n}\n</code></pre>\n\n<p>The function finds the directory as the \"Found\" debug statement is printed, however the return value is a null string. </p>\n\n<p>Could someobody explain what I'm doing wrong here.</p>\n\n<p>Thanks</p>\n"},{"tags":["css","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":22,"score":-3,"question_id":13284916,"title":"Cool QT CSS stylesheets","body":"<p>Please, could you please tell me which are your favourite websites or samples of professional styled css stylesheets for QT designer?</p>\n\n<p>Regards,</p>\n"},{"tags":["c++","qt","bluetooth","virtual","hid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13280850,"title":"Code example for virtual HID (Human Interface Device)","body":"<p>I need example of code (or some tutorial) for making virtual HID (Human Interface Device).\nIf possible with bluetooth integration and made for linux using QT/C++.</p>\n\n<p>Practically, I want to make my own cellphone application which will have few buttons (but it will work as keyboard - sending keystrokes), without requiring server-side application (it will control windows/linux/mac operating systems), and HID seems to me best choice. Unfortunately, I can't find any code samples or tutorials for that.</p>\n\n<p>The thing is I don't know how I am supposed to make service and register it (make it available over bluetooth so OS can recognize it as keyboard and pair with it).</p>\n\n<hr>\n\n<p>So far I have found about BlueZ, but as I mentioned, I cant find any code samples or tutorials.</p>\n"},{"tags":["qt","opengl","overlay","phonon"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":157,"score":1,"question_id":12275989,"title":"How to overlay a Qt Phonon video with an OpenGL scene?","body":"<p>I want play a video with the Qt Phonon Player and overlay it with an OpenGL scene, so that the semitransparent OpenGL objects are above the video. I searched for hours but found no hints how to realize this. This Proof of Concept from Intel describes what I am looking for.</p>\n\n<p><a href=\"http://download.intel.com/embedded/software/IEGD/324707.pdf\" rel=\"nofollow\">http://download.intel.com/embedded/software/IEGD/324707.pdf</a></p>\n\n<p>How can this be realized? Which components are necessary for this?</p>\n\n<p>Some posts which are similar to mine:</p>\n\n<p>to clearify my intention here i found a picture what perfectly describes what i am looking for. This picture is from a Intel articel for a Hardware Feature of a Intel embedded graphic device (http://download.intel.com/embedded/software/IEGD/324707.pdf)</p>\n\n<p>here is a picture <a href=\"http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png\" rel=\"nofollow\">http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png</a></p>\n\n<p>Could or better how could this effect be inplemented on LinuxOS? With compiz+opengl+qt ?</p>\n\n<hr>\n\n<p>to clearify my intention here i found a picture what perfectly describes what i am looking for. This picture is from a Intel articel for a Hardware Feature of a Intel embedded graphic device (http://download.intel.com/embedded/software/IEGD/324707.pdf)</p>\n\n<p>here is a picture <a href=\"http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png\" rel=\"nofollow\">http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png</a></p>\n\n<p>Could or better how could this effect be inplemented on LinuxOS? With compiz+opengl+qt ?</p>\n"},{"tags":["qt","vtk","itk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13284145,"title":"How to integrate ITK into Qt project?","body":"<p>I have been struggling to integrate ITKinto Qt project. I had Googled but i did not find anything helpful. I am trying to integrate it as it is Opencv. But I ended up with failure, can anyone tell me the correct process. Great thank if any proper references are provided.</p>\n"},{"tags":["c++","qt","registry","powerpoint"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2914,"score":3,"question_id":1092777,"title":"How do I read the windows registry (Default) value using QSettings?","body":"<p>I want to read the registry to find the current PowerPoint version.</p>\n\n<p>However this just returns Zero:</p>\n\n<pre><code>QSettings settings(\"HKEY_CLASSES_ROOT\\\\PowerPoint.Application\\\\CurrVer\",\n                   QSettings::NativeFormat);\n\nQString sReturnedValue = settings.value(\"(Default)\", \"0\").toString();\n</code></pre>\n\n<p>Any suggestions as to how I get the value from a (default) key?</p>\n"},{"tags":["c++","qt","gcc4.7"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":97,"score":4,"question_id":13270738,"title":"const QList<int> warnings = QList<int>() << 0; segfaults with gcc 4.7.2","body":"<p>So the code mentioned on the topic line causes segmentation fault with Qt 4.8.3 &amp; gcc 4.7.2</p>\n\n<p>This is at outside of any classes/structs at .cpp-file and works with gcc 4.4</p>\n\n<pre><code>const QList&lt;int&gt; warnings = QList&lt;int&gt;() &lt;&lt; 0 &lt;&lt; 3 &lt;&lt; 7;\n</code></pre>\n\n<p>Traces gives these two hints:</p>\n\n<pre><code>__do_global_ctors()\n__static_initialization_and_destruction_0\n</code></pre>\n\n<p>So it seems that \"warning\" is not yet available when its inserting latter list into it.</p>\n\n<p>Works with 4.7.2 if i change it into this:</p>\n\n<pre><code>global scope: QList&lt; int&gt; warnings;\n</code></pre>\n\n<p>This is inisde some function:</p>\n\n<pre><code>warnings = QList&lt;int&gt;() &lt;&lt; 0 &lt;&lt; 3;\n</code></pre>\n\n<p>I'm wondering why this happens?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I guess i clipped a bit too much stuff out from my question originally, but warnings is supposed to be const at file scope (.cpp-file) for holding bunch enums. </p>\n"},{"tags":["qt","boost","mingw","cmake","undefined-reference"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4886,"score":4,"question_id":2189681,"title":"Undefined references when trying to link Qt app with my static library","body":"<p>I have a static library that I have built with MinGW, I am trying to link to that library from a Qt application.  I keep getting linker errors caused by one of the object files in the library.  This file actually declares a couple of Boost headers, one for use of shared_ptr and the other so I can make a class noncopyable.  I believe using this boost functionality is what is causing the issue but I have no idea why.  If I comment out the classes in the Qt app that use the class defined in the file, the Qt app links fine.  This is the error part of the output:</p>\n\n<blockquote>\n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x10a):\n  undefined reference to\n  `__gxx_personality_sj0'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x12f):\n  undefined reference to\n  `_Unwind_SjLj_Register'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x203):\n  undefined reference to\n  `_Unwind_SjLj_Resume'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x20e):\n  undefined reference to\n  `_Unwind_SjLj_Unregister'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x226):\n  undefined reference to\n  `__gxx_personality_sj0'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x24b):\n  undefined reference to\n  `_Unwind_SjLj_Register'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x31f):\n  undefined reference to\n  `_Unwind_SjLj_Resume'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text+0x32a):\n  undefined reference to\n  `_Unwind_SjLj_Unregister'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text$_ZN5boost6detail12shared_countC1IN3foo25foo_SomeClassImplEEEPT_[boost::detail::shared_count::shared_count(foo::foo_SomeClassImpl*)]+0xc):\n  undefined reference to\n  `__gxx_personality_sj0'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text$_ZN5boost6detail12shared_countC1IN3foo25foo_SomeClassImplEEEPT_[boost::detail::shared_count::shared_count(foo::foo_SomeClassImpl*)]+0x31):\n  undefined reference to\n  `_Unwind_SjLj_Register'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text$_ZN5boost6detail12shared_countC1IN3foo25foo_SomeClassImplEEEPT_[boost::detail::shared_count::shared_count(foo::foo_SomeClassImpl*)]+0xfb):\n  undefined reference to\n  `_Unwind_SjLj_Resume'</p>\n  \n  <p>C:\\blah\\build\\windows\\mingw\\libfoo.a(foo_ctis.cpp.obj):foo_ctis.cpp:(.text$_ZN5boost6detail12shared_countC1IN3foo25foo_SomeClassImplEEEPT_[boost::detail::shared_count::shared_count(foo::foo_SomeClassImpl*)]+0x106):\n  undefined reference to\n  `_Unwind_SjLj_Unregister' collect2: ld\n  returned 1 exit status</p>\n</blockquote>\n\n<p>One other thing to mention is that I am using a pointer to implementation in this class.\nAny help would be much appreciated.</p>\n\n<p>Solved:\nI figured out that I had an older version of GCC in my path that was beng included before my MinGW supplied GCC version.  The old version was included in a GNUStep package that I had from awhile back.  I think that configuration of these different versions was causing problems.  Thanks to kemiisto, who was on the right track in solving the issue.</p>\n"},{"tags":["qt","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13282702,"title":"debug mode.. qvtkwidget show() error sometimes","body":"<p>Win 7 x64, visual studio 2010.</p>\n\n<h2>Qt 4.7.1</h2>\n\n<p>I can't debug after update vtk 5.10.1.</p>\n\n<p>5.6.1 and 5.8.1 was work.\nand 5.10.1 without debug also works.</p>\n\n<p>I tested simple code.   </p>\n\n<pre><code>int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, char*, int nShowCmd)\n{\n    QApplication app(__argc, __argv);\n    QVTKWidget* testWidget = new QVTKWidget;\n    testWidget-&gt;show();\n    app.exec();\n...\n</code></pre>\n"},{"tags":["visual-studio","qt","visual-c++","shared-libraries","gsl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13277856,"title":"How to build GSL with msvc2010?","body":"<p>I'm working with Qt 4.8.3 and QtCreator, which I've compiled with msvc2010 as per the instructions <a href=\"http://stackoverflow.com/questions/12113400/compiling-qt-4-8-2-for-visual-studio-2012\">here</a>.  Now however I need to link to GSL (Gnu Scientific Library), but currently I only know how to build it with g++ which produces linker errors just as described <a href=\"http://stackoverflow.com/questions/579556/cygwin-compile-error-in-sys-types-h\">here</a>, undoubtedly for the reason given in the answer by @EvanTeran.  However, in my case, building Qt with g++ via cygwin is probably not an option--I've just come off a multi-day nightmare during which I tried to do just this, but could not, as recorded <a href=\"http://stackoverflow.com/questions/13217734/cant-build-qt-in-windows-from-source-perl-installed-but-still-cant-find-heade\">here</a>.  Surely there is a way to build gsl with msvc2010, but how?  I have VS 2012 Express installed (though I've never used it before) in case there's a solution using it.</p>\n\n<p><strong>EDIT:</strong> Looking at CMake, it seems the best I can to is to manually create an entire hierarchy of CMakeLists.txt files for GSL.  That's just a little too much so instead I've put a 100pt. bounty on the question mentioned above.  Solving my problem the Visual Studio route (here) OR with g++ will get the bounty and the answer to both questions.</p>\n"},{"tags":["c++","qt","crash","qtcpsocket","qtcpserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13280436,"title":"Solved: QTcpServer crashes on close","body":"<p>I was programming a server, I programmed the service and a manager. When I stop the server with the UI Server Manager, the server calls a function called \"stopServer()\", that function contains the following:</p>\n\n<pre><code>qDebug() &lt;&lt; \"Stopping the server...\";\n// Clear the vector and free the memory by deleting pointers\nqDebug() &lt;&lt; clients.size();\nfor(int i=0;i&lt;clients.size();i++){\n    clients.get(i)-&gt;getSocket()-&gt;flush();\n    clients.get(i)-&gt;getSocket()-&gt;close();\n    clients.get(i)-&gt;getSocket()-&gt;disconnectFromHost();\n    clients.get(i)-&gt;getSocket()-&gt;waitForDisconnected(3);\n}\nclients.destroy();\n// Close the server\nsocket_server-&gt;close();\n// Stop the handler\nqDebug() &lt;&lt; \"Stopped.\";\n</code></pre>\n\n<p>Actually, that \"clients\" variable it's only a vector that contains the user data, he close the QTcpSocket for each connection, and then clean the clients variable and reset it to 0.</p>\n\n<p>When I have one connection on the server (the UI Manager works as one of that connection), and I try to stop it, it fails. I removed that vector system. And it's stills not working, it don't give me any error, just crashes the application.</p>\n\n<p>If you need all the code, just tell me!</p>\n\n<p>(Sorry for my bad english...)</p>\n\n<p>Update: If I remove \"socket_server->close()\" it works without any problem.\nUpdate #2: It seems that it's a problem with a pointer deletion. Idk....</p>\n\n<p>SOLVED: Omg I was a dumb! socket_server was a null pointer... I just fixed that, and that's it!</p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13271178,"title":"Is there a way in qt interface builder to set the window to appear in the centre of the screen","body":"<p>When I show my windows they appear off centre. Ive seen examples of fixing this by setting the windows position to the relevant screen co-ordinate. But is there a way of doing this through the the UI Designer. </p>\n"},{"tags":["qt","directory","absolute-path","mkdir"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":755,"score":1,"question_id":9641807,"title":"QDir mkdir with absolutepath","body":"<p>I have problem with the creation of dir with Qt.\nI would like to create a dir in documents'dir so, I make some things like that :</p>\n\n<pre><code>QString path = C:/Users/Me/Documents/MyApp/profiles/;\nQdir dir = QDir::root();\ndir.mkdir(path);\n</code></pre>\n\n<p>But thaht doesn't work! I have test with \"/\" and \"\\\" for the separators but in the two cases that not work.</p>\n\n<p>How I can create my dir?</p>\n\n<p>Thank you.</p>\n"},{"tags":["qt","python-2.7","pyside","qgraphicsitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13273785,"title":"Only move QGraphicsItem when mouse in specific region","body":"<p>I'm trying to create something similar to terragens node network view in python using PySide.<br>\nI subclassed QGraphicsRectItem using this code.</p>\n\n<pre><code>class Node(QGraphicsRectItem):\n    def __init__(self,pos):\n        QGraphicsRectItem.__init__(self,pos.x()-100,pos.y()-30,200,60)\n        self.setFlag(QGraphicsItem.ItemIsMovable,True)\n    (...)\n</code></pre>\n\n<p>Which gives this (with some fancy painting):</p>\n\n<p><img src=\"http://i.stack.imgur.com/lWSOy.png\" alt=\"enter image description here\"></p>\n\n<p>I'd like to implent connecting nodes by dragging the mouse from one small rectangle to another, but this results in moving the whole node.</p>\n\n<p>So I don't want the QGraphicsRectItem getting moved when the mouse is pressed inside a small rectangle. How would I be able to do this.</p>\n\n<p>(if needed, I can define something like <code>isInDraggingArea(x,y)</code>)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":12091495,"title":"Access items of QStandardItemModel from QML","body":"<p>In main program I define an instance of QStandardItemModel:</p>\n\n<pre><code>QScopedPointer&lt;QApplication&gt; app(createApplication(argc, argv));\nQmlApplicationViewer viewer;\n\nQStandardItemModel* model = new QStandardItemModel(5,10,app.data());\nfor( int r=0; r&lt;2; r++ ) {\n    for( int c=0; c&lt;2; c++)  {\n        QStandardItem* item = new QStandardItem( QString(\"Row:%0, Column:%1\").arg(r).arg(c) );\n        model-&gt;setItem(r,c,item);\n    }\n}\n</code></pre>\n\n<p>Then, I register the model to QML with:</p>\n\n<pre><code>viewer.rootContext()-&gt;setContextProperty(\"cppModel\",model);\n</code></pre>\n\n<p>QStandardItemModel is a table,isn't it? Then, how can I write a delegate to\nshow items in a simple GridView:</p>\n\n<pre><code>    GridView {\n        model: cppModel\n        delegate: Rectangle {\n            Text { text: ??? } //WHAT MUST BE USED HERE ???\n        }\n    }\n</code></pre>\n\n<p>Do I have to use named roles or can I just use properly created indices?</p>\n\n<p>Please, do not discuss the form, i.e how to get 5 rows with 10 columns,\nbut how to access items. I have already tried with more general question\n( <a href=\"http://stackoverflow.com/questions/11820894/change-c-model-with-qml\">Change C++ model with QML</a> ) but I\ndidn't get enough information to understand the solution.</p>\n"},{"tags":["qt","qt4","qlabel"],"answer_count":5,"favorite_count":2,"up_vote_count":16,"down_vote_count":0,"view_count":26560,"score":16,"question_id":2749798,"title":"QLabel: set color of text and background","body":"<p>How do I set color of text and background of a <code>QLabel</code> ?</p>\n"},{"tags":["linux","qt","window","fork","porting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13278668,"title":"Multi-platform Plotting Application - Porting App to Windows","body":"<p>I'm a student programmer using Qt to create an assistive desktop application. After the number crunching and preferences are selected in my GUI I rely on XMGR to plot the users results. In this regard, data block files are created and script is generated to run data from the files into XMGR. I need to port to windows and I don't know of application like XMGR in which to do this same or similar type of operation. I built the application to be flexible based on the governing OS so integrating dependence on a different application should only be as difficult as the plotting application wants to make it. </p>\n\n<p><em><strong>Basically I'm looking for some suggestions as to what plotting application I should use.</em></strong></p>\n\n<p><em>It would need to be able to be called while data is passed into it.\nIt would be preferable if the application is able to be freely distributed; additionally it would be nice if it was multiplatform.</em> </p>\n"},{"tags":["linux","qt","qt4","debian","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13277936,"title":"How does QMediaRecorder::supportedCodec() Work?","body":"<p>I'm running Linux x86, debian-based distro.</p>\n\n<p>Qt 4.7.3 with QtMobility for Desktop</p>\n\n<p>I would like to know the architecture behind this funtion (QMediaRecorder::supportedCodec()) of QtMultimediaKit.</p>\n\n<p>Where does this funtion read the list of supportedCodec from? Where could I find it in my system? And how can I add another Codec to this funtion?</p>\n\n<p>Any Help, Reply, Suggestion, Answer are highly apreciated!!</p>\n\n<p>Best Regard!</p>\n\n<p>A.0.A.B</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13277873,"title":"qt 5 release date","body":"<p>Does anyone know when QT 5 will be released. I can't seem to find any information on it except someone set in November(this month). I'm waiting to get started with QT until 5 since it seems like a major update and there is no need to learn something that will be antiquated in a few weeks.</p>\n"},{"tags":["c++","qt","c++11"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13275106,"title":"for(auto e : xxx) conflict with constructor","body":"<p>I defined a class \"eventZone\" which is used in my class \"configuration\"</p>\n\n<p><code>class configuration { ... QMap&lt;QString, eventZone&gt; zones ... }</code></p>\n\n<p>Until rescently I succesfully used a for loop like saw</p>\n\n<pre><code>for(eventZone evz : config.zone.values()) { ... }\n</code></pre>\n\n<p>However this doesnt work since I implemented a copy constructor for eventZone (needed to serialize it and be able to save configurations)</p>\n\n<p>The error I get is </p>\n\n<pre><code>/home/.../zonedisplay.cpp:43: erreur : no matching function for call to 'eventZone::eventZone(eventZone&amp;)'\n</code></pre>\n\n<p>My new constructor has type :</p>\n\n<pre><code>explicit eventZone(const eventZone &amp;cpy);\n</code></pre>\n\n<p>How to make those two coexist ?</p>\n"},{"tags":["qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13274123,"title":"Make buffer of cv mat Point to the buffer of QImage","body":"<p>I would like to make the buffer of cv::mat point to the buffer of QImage but not copy\nthe data of QImage into the cv::mat.</p>\n\n<pre><code>cv::Mat const reference_qimage_to_mat(QImage const &amp;img, int format)\n{\n    cv::Mat mat(img.height(), img.width(), format);\n\n    for(int i = 0; i != mat.rows; ++i)\n    {\n        //pseudo code, wouldn't work\n        //mat.ptr(i) = img.scanLine(i);\n    }\n\n    return mat;\n}\n</code></pre>\n\n<p>I try to search the answer by google but I could only find how to copy\nthe data of QImage into cv::mat.Thanks</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13269936,"title":"Python QT ProgressBar","body":"<p>When using the following code my application stalls after a couple of seconds.\nAnd by stalls I mean hangs. I get a window from Windows saying wait or force close.</p>\n\n<p>I might add that this only happens when I click either inside the progress bar window or when I click outside of it so it loses focus. If I start the example and do not touch anything it works like it should.</p>\n\n<pre><code>from PyQt4 import QtCore\nfrom PyQt4 import QtGui\n\n\nclass ProgressBar(QtGui.QWidget):\n    def __init__(self, parent=None, total=20):\n        super(ProgressBar, self).__init__(parent)\n        self.name_line = QtGui.QLineEdit()\n\n        self.progressbar = QtGui.QProgressBar()\n        self.progressbar.setMinimum(1)\n        self.progressbar.setMaximum(total)\n\n        main_layout = QtGui.QGridLayout()\n        main_layout.addWidget(self.progressbar, 0, 0)\n\n        self.setLayout(main_layout)\n        self.setWindowTitle(\"Progress\")\n\n    def update_progressbar(self, val):\n        self.progressbar.setValue(val)   \n</code></pre>\n\n<p>Using this like so:</p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\nbar = ProgressBar(total=101)\nbar.show()\n\nfor i in range(2,100):\n    bar.update_progressbar(i)\n    time.sleep(1)\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["c++","qt","png","osm","qpixmap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13274747,"title":"Why can't I load this specific PNG into my QPixmap?","body":"<p>Why can't I load this png into my QPixmap?\n<a href=\"http://otile2.mqcdn.com/tiles/1.0.0/osm/8/137/79.png\" rel=\"nofollow\">Open street map png</a></p>\n\n<pre><code>Q_ASSERT(fakeMap.load(\"C:/map71.png\"));\n</code></pre>\n\n<p>This renders an ASSERT.</p>\n\n<p>Does not render an ASSERT if I open it in MS paint and re saves it either as a jpeg or png (but larger in size). Same path and syntax.</p>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13273653,"title":"how to creat a Quad which is bent at midle point using QGLWidget or QGLBuilder?","body":"<p>how to creat a Quad which is bent at midle point using QGLWidget or QGLBuilder?\nactually i want to bend the quad i such a manner that can be looked like cutting of a sphere.</p>\n"},{"tags":["linux","qt","gdb","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13239643,"title":"Debugging Helpers in Qtcreator don't work on Linux","body":"<p>and sorry for mess English.</p>\n\n<p>In theory while debugging in qt-creator show fields of classes defined in Qt.\nBut it doesn't do it and display only  or mem address.</p>\n\n<p>I think that the problem in GDB or Python scripts. </p>\n\n<p>GDB loaded from <a href=\"http://origin.releases.qt-project.org/gdb/\" rel=\"nofollow\">http://origin.releases.qt-project.org/gdb/</a> gives what is described above.</p>\n\n<p>I tried to Build GDB myself with config flags</p>\n\n<pre><code>configure --prefix=&lt;DIR&gt; --target x86_64-linux-gnu --with-python\n</code></pre>\n\n<p>and</p>\n\n<pre><code>configure --target x86_64-linux-gnu --disable-nls --with-libiconv --with-expat --with-python\n</code></pre>\n\n<p>but they crash while starting from Qtcreator</p>\n\n<p>i'm running on Ubuntu 12.10 x64\nQt version is 4.8.4 (from Git)\nand creators are 2.5.2(from qt-project site) and 2.6.81 (git)\nGDB versions: \n build myself - 7.5\n download from qt-project - 7.4.1</p>\n\n<p>on Win8 subject works fine in combination QtCreator(2.6.81)-Qt-4.8.4-MinGW-GDB-7.5(build myself from source with Py. support)</p>\n\n<p>UPD: Try to build with <a href=\"http://qt.gitorious.org/qt-creator/qt-creator/trees/master/dist/gdb\" rel=\"nofollow\">http://qt.gitorious.org/qt-creator/qt-creator/trees/master/dist/gdb</a> \nit didn’t help</p>\n"},{"tags":["c++","qt","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":36,"score":-2,"question_id":13273017,"title":"C++ application using a map/route api","body":"<p>For my final year project (for my BSc in computer science) i am working on a taxi booking management system (writen in c++), one of the requirements is when the user enters a pick up point or destination, they get get an auto-complete or suggestions, kind of like on google maps when you start to enter an address, there should also be the option of showing the route next to it, the route will be needed to work out milage for costing etc.</p>\n\n<p>the problem i am having is finding an API which i can use for this, i was thinking that i could use something with Google maps but i read yesterday that it is against their toc to use it on an application that isnt web based or something.</p>\n\n<p>I am going to be using QT and wondered if anyone might have a suggestion of where i could find a mapping/route api that i could possibly use, and also if anyone could point me in the direction of a resource which might help me withe the auto complete/suggestion functionality\nthanks</p>\n"},{"tags":["c++","qt","drag-and-drop","qtableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13272899,"title":"Drag and drop between different table views","body":"<p>I have two different Qtable views (I'm using QT) and I don't know how to implement drag&amp;drop functionality between them. It seems to work only when dealing with a single model view (drag&amp;dropping inside the same table). Can someone give me a simple example?</p>\n"},{"tags":["qt","user-interface","pyside","qfiledialog"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13250654,"title":"Is it possible to have a QFileDialog allowing either 'files only' or 'directories only'?","body":"<p>For a QFileDialog, is it possible to have either files or directories selectable, the choice being given to user on the same UI (like the way a user selects different filetypes amongst filters and the filelist updates accordingly)?</p>\n"},{"tags":["qt","video","video-streaming","overlay","phonon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1089,"score":0,"question_id":4473709,"title":"Play a video with custom overlay graphics","body":"<p>I want to play a video (with sound) in a simple GUI with \"play\" and \"stop\" buttons etc. There are classes and widgets in Qt's Phonon module for doing that, and several examples. OK, so that seems to be simple.</p>\n\n<p>But now I need to draw some custom graphics (that depend on the current time in the video) on top of the streamed video image. I have not found anything about this in the Qt documentation. What's the canonical way of doing this? Do I just create a custom VideoWidget widget and override its paintEvent? In another question here, some guy seemed to have trouble with this.</p>\n\n<p>Any pointers would be appreciated.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13270016,"title":"get size of each row in QTextEdit","body":"<p>Hi I'm new in Qt programming and I'm want to know, if possible, how to get the size of each row in QTextEdit.</p>\n\n<p>PS: Sorry for my bad english.</p>\n\n<p>Regards.\nThanks for the help.</p>\n"},{"tags":["xcode","osx","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13269758,"title":"qmake Projects and Mac OS X SDKs","body":"<p>What is the most sensible way to use Mac OS SDKs from a Qt project? You need to have a path to the base SDK (MacOSX10.X.sdk), paths to the headers you need, and to indicate the frameworks you are using.</p>\n\n<p>At the moment I am doing this in my pro file (with help from here; <a href=\"http://www.agile-workers.com/web/2012/03/qt-qmake-osx_sdk-xcode/\" rel=\"nofollow\">Qt, Qmake and Mac Os X SDKs</a>):</p>\n\n<pre><code>MAC_SDK  = /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk\nif( !exists( $$MAC_SDK) ) {\n  error(\"The selected Mac OSX SDK does not exist at $$MAC_SDK!\")\n}\nQMAKE_MAC_SDK = $$MAC_SDK\n\nINCLUDEPATH += $$QMAKE_MAC_SDK/System/Library/Frameworks/CoreFoundation.framework/Versions/A/Headers\n\nDEPENDPATH  += $$QMAKE_MAC_SDK/System/Library/Frameworks/CoreFoundation.framework/Versions/A/Headers\n\nLIBS += -framework CoreFoundation\n</code></pre>\n\n<p>The SDKs are in the Xcode app bundle, what the hell? I was wondering if there is an environment variable which stores the path to the SDKs. Also, switching SDK versions, I have to go the the MAC_SDK path and change 10.7 to something else, is that the best way?</p>\n"},{"tags":["c++","qt","winapi","unicode","filenames"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13267667,"title":"FILE_NOTIFY_INFORMATION doesn't support Utf-8 file name","body":"<p>I am trying to watch a folder changes and notify the added filename so here is my code</p>\n\n<pre><code>bool FileWatcher::NotifyChange()\n{\n    // Read the asynchronous result of the previous call to ReadDirectory\n    DWORD dwNumberbytes;\n    GetOverlappedResult(hDir, &amp;overl, &amp;dwNumberbytes, FALSE);\n\n    // Browse the list of FILE_NOTIFY_INFORMATION entries\n\n    FILE_NOTIFY_INFORMATION *pFileNotify = (FILE_NOTIFY_INFORMATION *)buffer[curBuffer];\n    // Switch the 2 buffers\n    curBuffer = (curBuffer + 1) % (sizeof(buffer)/(sizeof(buffer[0])));\n    SecureZeroMemory(buffer[curBuffer], sizeof(buffer[curBuffer]));\n    // start a new asynchronous call to ReadDirectory in the alternate buffer\n    ReadDirectoryChangesW(\n         hDir, /* handle to directory */\n         &amp;buffer[curBuffer], /* read results buffer */\n         sizeof(buffer[curBuffer]), /* length of buffer */\n         FALSE, /* monitoring option */\n         FILE_NOTIFY_CHANGE_FILE_NAME  ,\n         //FILE_NOTIFY_CHANGE_LAST_WRITE, /* filter conditions */\n         NULL, /* bytes returned */\n         &amp;overl, /* overlapped buffer */\n         NULL); /* completion routine */    \n\n    for (;;) {\n         (pFileNotify-&gt;Action == FILE_ACTION_ADDED)\n        {\n                qDebug()&lt;&lt;\"in NotifyChange if \";\n                char szAction[42];\n                char szFilename[MAX_PATH] ;\n                memset(szFilename,'\\0',sizeof( szFilename));\n                strcpy(szAction,\"added\");\n                wcstombs( szFilename, pFileNotify-&gt;FileName, MAX_PATH);\n                qDebug()&lt;&lt;\"pFileNotify-&gt;FileName : \"&lt;&lt;QString::fromWCharArray(pFileNotify-&gt;FileName)&lt;&lt;\"\\nszFilename : \"&lt;&lt;QString(szFilename);                       \n\n        }\n\n        // step to the next entry if there is one\n        if (!pFileNotify-&gt;NextEntryOffset)\n            return false;\n        pFileNotify = (FILE_NOTIFY_INFORMATION *)((PBYTE)pFileNotify + pFileNotify-&gt;NextEntryOffset);\n    }\n    pFileNotify=NULL;\n    return true;\n}\n</code></pre>\n\n<p>It works fine unless a file with Arabic name was added so I get</p>\n\n<pre><code>pFileNotify-&gt;FileName :  \"???  ???????.txt\" \nszFilename :  \"\"  \n</code></pre>\n\n<p>How can I support the UTF-8 code file name ???\nany idea please.</p>\n"},{"tags":["qt","qml","transitions","flip","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":13251157,"title":"QML : Flippable issue","body":"<p>I am trying to make a flippable clock in QML.\nBut am not able to get the flippable effect as desired, I have referred the documentation of flip method, took that as base for further development. </p>\n\n<p>Tried various approaches but didn't succeed. Any idea how to get that effect.</p>\n\n<p>Below is the referred documentation code snippet</p>\n\n<pre><code>import QtQuick 1.0\n\n Flipable {\n     id: flipable\n     width: 240\n     height: 240\n\n     property bool flipped: false\n\n     front: Image { source: \"front.png\"; anchors.centerIn: parent }\n     back: Image { source: \"back.png\"; anchors.centerIn: parent }\n\n     transform: Rotation {\n         id: rotation\n         origin.x: flipable.width/2\n         origin.y: flipable.height/2\n         axis.x: 1; axis.y: 0; axis.z: 0     // set axis.x to 1 to rotate around y-axis\n         angle: 0    // the default angle\n     }\n\n     states: State {\n         name: \"back\"\n         PropertyChanges { target: rotation; angle: 180 }\n         when: flipable.flipped\n     }\n\n     transitions: Transition {\n         NumberAnimation { target: rotation; property: \"angle\"; duration: 4000 }\n     }\n\n     MouseArea {\n         anchors.fill: parent\n         onClicked: flipable.flipped = !flipable.flipped\n     }\n }\n</code></pre>\n"},{"tags":["xml","qt","serialization","properties","qtxml"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12647092,"title":"Qt XML serialization/deserialization to Q_PROPERTY","body":"<p>QJson (<a href=\"http://qjson.sourceforge.net\" rel=\"nofollow\">http://qjson.sourceforge.net</a>) implements a very convenient API for serializing and deserializing Q_OBJECTS - by converting their Q_PROPERTIES to qVariant, it allows for a convenient serialization and deserialization of arbitrary model instances.</p>\n\n<p>Is there anything similar for XML? Both QDom* and QXml* families are fairly limited. </p>\n"},{"tags":["qt","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13252158,"title":"QML Basics : Property concept","body":"<p>I just want to know do we have any concept access specifiers like private property in QML as we have in C++.</p>\n\n<p>If not if would like to know in case i have about 10 properties in my QML component but i have to limit the access to only 2 properties. how can we achieve this scenario.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12754007,"title":"Does Qt's moc Preprocessor Need All C++ Preprocessor Flags","body":"<p>I noticed that qmake passes all C++ preprocessor flags to the moc utility. I tried moc without these flags on one file and it produced identical results. My question is: would there be cases in which moc would need these flags?</p>\n"},{"tags":["c++","qt","linker-error"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":12338147,"title":"LNK4099 linker warning with QT Creator","body":"<p>So every time i build up my program i keep getting the following warning message;</p>\n\n<pre><code>qtmaind.lib(qtmain_win.obj):-1: warning: LNK4099: PDB 'vc100.pdb' was not found with 'qtmaind.lib(qtmain_win.obj)' or at 'D:\\Projects\\Test-2\\blah-build-desktop-Qt_4_8_1_for_Desktop_-_MSVC2010__Qt_SDK__Debug\\debug\\vc100.pdb'; linking object as if no debug info\n</code></pre>\n\n<p>I can just ignore it as described in the question here;\n<a href=\"http://stackoverflow.com/questions/8359550/lnk4099-linker-warning-with-clean-install-of-qt-sdk-and-visual-c-2008\">LNK4099 linker warning with clean install of Qt SDK and Visual C++ 2008</a></p>\n\n<p>But its getting rather annoying to see it all the time, and the fact is that vc100.pdb gets built but not into the debug folder. As you can see in the image below;</p>\n\n<p><img src=\"http://i.stack.imgur.com/zhc7L.png\" alt=\"enter image description here\"></p>\n\n<p>So the linker is looking for \"vc100.pdb\" in the debug folder but the \"vc100.pdb\" file is located in the top level directory. So i'm wondering how in-fact do i change in QT creator the look-up directory or infact if it is possible to move \"vc100.pdb\" into the debug folder? </p>\n"},{"tags":["qt","properties"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13259707,"title":"Q_PROPERTY read only instance","body":"<p>Is there a way to disable write accessors for all properties for a given instance of QObject, effectively turning them into a no-op? </p>\n"},{"tags":["qt","open","codec"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":7,"score":2,"question_id":13267934,"title":"QMediaRecorder::supportedAudioCodecs() to regconize audio/opus?","body":"<p>I'm trying to make <a href=\"http://qt-project.org/doc/qt-5.0/qmediarecorder.html#supportedAudioCodecs\" rel=\"nofollow\">QMediaRecorder::supportedAudioCodecs()</a> to include <a href=\"http://www.opus-codec.org/\" rel=\"nofollow\">Opus Codec</a>.</p>\n\n<p>I'm using Linux x86; QtVersion 4.7.3 with QtMobility.</p>\n\n<p>I have installed all libOpus, Opustool and Opusfile.</p>\n\n<p>But unlike other codec like vorbis and speechx,QMediaRecorder won't list Opus after install it.</p>\n\n<p>Is this because QtMultimediaKit not support Opus? Or is there anyway to work around with this? My current task is to try recording to Opus Codec on Qt.</p>\n\n<p>Thanks for any reply!</p>\n\n<p>A.0.A.B</p>\n"},{"tags":["c++","linux","qt","qtcpsocket","qtcpserver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13188824,"title":"QTcpSocket emits \"Connection Refused Error\" after few Successful connection?","body":"<p>I am designing an application for accessing a remote desktop using Qt creator. In order to get \"Quit\" Signal from the Remote desktop (after completing my purpose), i am using Tcpserver and Tcpsocket. My Pc acts as a Server while remote pc acts as a Client. I am using a following concept:</p>\n\n<p>Server pc\n1. Press PushButton to access the remote screen (in full screen mode using tightvnc).\n2. Start server and listen for any active connection (i am using port 9876).\n3. Active connection found. Connected to the client.\n4. Close the remote access.\n5. switch back to the local screen.\n6. Server Close</p>\n\n<p>Client Pc\n1. Press Quit button to close Remote access.\n2. When Quit button pressed\n3. connect to host.\n4. send \"Quit\" to the server\n5. disconnect from host\n6. close connection.</p>\n\n<p>It works fine for few attempts ( lets say 10 times)</p>\n\n<p>but there after it starts giving error \"Connection refused Error\". And I am unable to get back from the remote access untill i reboot my remote Pc.</p>\n\n<p>I have tried using Reset but the result is same.</p>\n\n<p>Any one have any idea ???</p>\n\n<p>Here is my code for Client side</p>\n\n<pre><code>#include \"ctrlboardclient.h\"\n#include &lt;QHostAddress&gt;\n#include &lt;QObject&gt;\n#include &lt;QtGui/QApplication&gt;\n#include &lt;QDebug&gt;\n\n\nbool CtrlBoardClient::status_flag = false;           /* Flag to check the transfer status of Data */\n\n\nCtrlBoardClient::CtrlBoardClient()\n{\n    connect(&amp;client, SIGNAL(connected()),    this,  SLOT(startTransfer()));\n    connect(&amp;client, SIGNAL(readyRead()),    this,  SLOT(recieve_msg()));\n    connect(&amp;client, SIGNAL(disconnected()), this,  SLOT(disconnectstatus()));\n    connect(&amp;client, SIGNAL(error(QAbstractSocket::SocketError)), this, SLOT(getErrorCode(QAbstractSocket::SocketError)));\n}\n\n\nbool CtrlBoardClient::start(QString address, quint16 port)\n{\n    QHostAddress addr(address);\n    bool rval = client.reset();\n    qDebug() &lt;&lt; \"Reset before Connect to Host = \" &lt;&lt; rval;\n    client.connectToHost(address, port);\n\n    if (!client.waitForConnected(3000)) {\n        bool rval = client.reset();\n        qDebug() &lt;&lt; \"Reset after Connect to Host = \" &lt;&lt; rval;\n        qDebug() &lt;&lt; \"Client is unable to connect to Server \";\n        return false;\n    }\n    qDebug() &lt;&lt; \"Client Server Connection Successful\";\n    status_flag = false;\n    return true;\n}\n\nvoid CtrlBoardClient::getErrorCode(QAbstractSocket::SocketError errorCode)\n{\n    qDebug() &lt;&lt; \"Socket Error = \" &lt;&lt; errorCode;\n}\n\n\nvoid CtrlBoardClient::SendMessage(QString Message)\n{\n    status_flag = true;\n    msg = Message;\n    startTransfer();\n    qDebug() &lt;&lt; \"Message sent to the Server\";\n    client.disconnectFromHost();\n    while (!client.waitForDisconnected(3000));\n    qDebug() &lt;&lt; \"Disconnected from the Host\";\n    return;\n}\n\n\nvoid CtrlBoardClient::startTransfer()\n{\n    if (status_flag) {\n        QByteArray block = \"\";\n        block.append(msg);\n        client.write(block);\n    }\n\n    status_flag = false;\n    return;\n}\n\n\nQByteArray CtrlBoardClient::RecieveMessage()\n{\n    return indata;\n}\n\n\nvoid CtrlBoardClient::recieve_msg()\n{\n    indata = \"\";\n    indata.append(client.readAll());\n    emit recievemsg();\n}\n\n\nvoid CtrlBoardClient::disconnectstatus()\n{\n    qDebug() &lt;&lt; \"Closing Client connection\";\n    CloseClientConnection();\n    emit connection_aborted();\n}\n\n\nvoid CtrlBoardClient::CloseClientConnection()\n{\n    bool rval = client.reset();\n    qDebug() &lt;&lt; \"Reset after Disconnect from Host = \" &lt;&lt; rval;\n    client.close();\n}\n</code></pre>\n\n<p>My Server code is:</p>\n\n<pre><code>#include \"mainboardserver.h\"\n\nMainBoardServer::MainBoardServer()\n{\n   connect(&amp;mainserver, SIGNAL(newConnection()), this, SLOT(acceptConnection()));\n   connect(this, SIGNAL(disconnected()), this, SLOT(DisconnectMessage()) );\n\n    if (!mainserver.listen(QHostAddress::Any, 9876)) {\n        emit no_incoming_connection();\n    }\n}\n\nvoid MainBoardServer::acceptConnection()\n{\n    ctrlclient = mainserver.nextPendingConnection();\n    connect(ctrlclient, SIGNAL(readyRead()), this, SLOT(startRead()));\n    connect(ctrlclient, SIGNAL(disconnected()), this, SLOT(DisconnectMessage()));\n    emit connection_found();\n}\n\nvoid MainBoardServer::startRead()\n{\n    char buffer[1024] = {0};\n    ClientChat = \"\";\n    ctrlclient-&gt;read(buffer, ctrlclient-&gt;bytesAvailable());\n    ClientChat.append(buffer);\n    ctrlclient-&gt;close();\n    emit data_recieved();\n}\n\nQString MainBoardServer::RecieveData()\n{\n    return ClientChat;\n}\n\nvoid MainBoardServer::TransferData(QByteArray data)\n{\n    ctrlclient-&gt;write(data);\n}\n\nvoid MainBoardServer::DisconnectMessage()\n{\n    emit connection_lost();\n}\n\n\nvoid MainBoardServer::closeServer()\n{\n    mainserver.close();\n    emit disconnected();\n}\n</code></pre>\n\n<p>Any idea how to resolve this issue ?? what mistake i am committing ???</p>\n"},{"tags":["qt","processes","uac"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1442,"score":2,"question_id":4526787,"title":"QProcess::startDetached blocked by UAC (running an updater)","body":"<p>I have an update function in my app - it downloads and verifies the installer (a setup.exe, created with NSIS). To actually kick off the update, I have simply been doing:</p>\n\n<pre><code>QString path = .. absolute path to the downloaded file ...\nQProcess::startDetached(path, QStringList());\n</code></pre>\n\n<p>This works fine on XP - but on Vista and Win7, nothing happens once the download completes. If I browse to the downloaded update and run it manually, it works fine. I assume what's happening is that UAC is blocking the installer at CreateProcess time, but this is where my knowledge runs out.</p>\n\n<p>Additional complication - when I'm running a debug build from the command line, the steps above work - I get the UAC prompt and can run the installer. It's the release builds, started form the start menu/shortcut, which have the issue - I assume there's a difference in the auth token when running from a command shell.</p>\n"},{"tags":["qt","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13267575,"title":"Widget become transparent when created with a parent","body":"<p>This is pretty straightforward. I have WidgetA, which acts like the main window, and WidgetB which has some extra controls that I want to show/hide. WidgetB is created with WidgetA as it's parent with something like this:</p>\n\n<pre><code>QWidget * WidgetB = new MyDerivedWidget( WidgetA )\n</code></pre>\n\n<p>Now, after that the child widget loses it's background and becomes transparent, so they both look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/wyF47.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, that's a little messy... How do I tell the child widget to retain it's background? </p>\n\n<p>When I open the child widget's .ui file in QtDesigner, it looks fine, it's Opacity is set to 1. But even If I manually change it's background (from QtDesigner, that is), it gets lost once the widget is being created inside another one. </p>\n"},{"tags":["c++","qt","cryptography","botan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13262225,"title":"Convert Botan SHA256 output to base64 to match .NET SHA256Managed().ComputeHash()","body":"<p>I'm porting a portion of a .NET application to Qt on Linux. I am trying to replicate the results of a .NET function to create the SHA-256 hash of a password + salt. The .NET code is</p>\n\n<pre><code>return new SHA256Managed().ComputeHash(buffer);\n</code></pre>\n\n<p>I have code that creates the hash but it isn't in a form that will allow me to embed it in a json object.</p>\n\n<pre><code>// create the hash of the salt+password\nBotan::SecureVector&lt;Botan::byte&gt; passwordHash = HashData(salt,StringToArray(m_password));\n// convert to a QByteArray\nQByteArray qPasswordHash;\nfor(uint i=0; i&lt;passwordHash.size();++i){\n    qPasswordHash[i]= passwordHash[i];\n}\n</code></pre>\n\n<p>For reference, the StringToArray method is shown below</p>\n\n<pre><code>QByteArray StringToArray(QString szInput){\n    QByteArray buffer = szInput.toUtf8().data();\n    return buffer;\n}\n</code></pre>\n\n<p>Does the qPasswordHash need to be put through a Base64 filter such as the one shown in the <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1Base64__Encoder.html#a123d6ba8ff59c02636e00f87a5dc9a8c\" rel=\"nofollow\">Documentation</a> in order to match the output from the .NET class?  If so is could you point me to example code or provide an example of the correct syntax for using this Botan method?</p>\n"},{"tags":["c++","windows","qt","drag-and-drop","skype"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13120627,"title":"QDrag and Skype issue (win only)","body":"<p>I am writing a little file/archives explorer and got an issue with interaction between qt-based app and Skype chat window on Windows platform only.</p>\n\n<p>When I try to drag-drop file (provided by QDrag with file-urls mime data) from my app to skype chat window, file is sent twice. The same I’ve got when tried to modify one of Qt drag-drop examples.</p>\n\n<p>Skype version is 5.10.0.116. Bug is reproducible on Qt versions 4.7.3, 4.8.1, 4.8.3.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Have tried drag-drop interactions between several apps</p>\n\n<ul>\n<li>My app -> Explorer = ok </li>\n<li>My app -> Notepad++ = ok (displays content of file only in one tab) </li>\n<li>My app -> WinRar = ok (creates archive with\nonly one file) </li>\n<li>My app -> TotalCommander = ok </li>\n<li>My app -> ICQ = ok (only    one file is    sent)</li>\n<li>My app -> Clementine (Qt based music player) = ok    (only one file\nis added to playlist)</li>\n<li>Explorer -> Skype = ok</li>\n</ul>\n\n<p><strong>But</strong></p>\n\n<ul>\n<li>My app -> Skype - file is sent twice</li>\n<li>Clementine -> Skype - file is sent twice</li>\n</ul>\n\n<p><strong>EDIT2:</strong></p>\n\n<p>Also, qt-created mime data differs from created by explorer.\nQt: </p>\n\n<ul>\n<li>0 \"text/uri-list\" \"file:///C:/Users/user/Pictures/myfile.ext\"</li>\n<li>1 \"application/x-qt-windows-mime;value=\"UniformResourceLocatorW\"\"\n\"...\" (I've replaced QByteArray contents with ellipsis)</li>\n</ul>\n\n<p>Explorer:</p>\n\n<ul>\n<li>0 \"application/x-qt-windows-mime;value=\"Shell IDList Array\"\" \"...\"</li>\n<li>1 \"application/x-qt-windows-mime;value=\"UsingDefaultDragImage\"\"\n\"...\"</li>\n<li>2 \"application/x-qt-windows-mime;value=\"DragImageBits\"\" \"...\"</li>\n<li>3 \"application/x-qt-windows-mime;value=\"DragContext\"\" \"...\"</li>\n<li>4 \"application/x-qt-windows-mime;value=\"DragSourceHelperFlags\"\"\n\"...\"</li>\n<li>5 \"application/x-qt-windows-mime;value=\"InShellDragLoop\"\" \"...\"</li>\n<li>6 \"text/uri-list\" \"file:///C:/Users/user/Pictures/myfile.ext\"</li>\n</ul>\n"},{"tags":["c++","linux","qt","remote-access"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13192599,"title":"linux: How to disconnect Remote user access?","body":"<p>I am designing an application to access remote screen using vncviewer through QProcess in Qt.\n( I am using vino-server at remote desktop)\nAfter login to the remote screen (in fullscreen mode), i want to disconnect the remote sharing and switch back to local screen.</p>\n\n<p>Is there any Qt way to do it?</p>\n\n<p>How to achieve this through linux command line ??</p>\n\n<p>I am using Linux Os (ubuntu).</p>\n\n<p>any idea / suggestions are appreciated.</p>\n"},{"tags":["c++","qt","object"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":170,"score":6,"question_id":13261364,"title":"Why can't I chain a method to a constructor?","body":"<p>I'm trying to set a permission for a file. I thought I could save a line of code while dealing with a <code>QFile</code> object, like so.</p>\n\n<pre><code>QFile(\"somefile.txt\").setPermissions(QFile::WriteOther);\n</code></pre>\n\n<p>It compiled and ran, but didn't do anything. Of course, when I did it the <strong>right</strong> way, it worked. (no surprise, there.)</p>\n\n<pre><code>QFile tempFileHandle(\"somefile.txt\");\ntempFileHandle.setPermissions(QFile::WriteOther);\n</code></pre>\n\n<p>I think this is a good opportunity to understand the C++ syntax. I'll accept that my original way doesn't work, but <em>why?</em></p>\n"},{"tags":["c#","qt","tcp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13256775,"title":"How can I compare arrived TCP/IP data in Qt","body":"<p>I’m trying to compare arrived data in TCP-Client with a QString. But I think, it’s a wring format for comparison. My TCP client is written in Qt and TCP server in C#. Here is example code of Qt my read-function: </p>\n\n<pre><code>void MyClient::slotReadyRead()\n{\n    QString okStr = \"OK!\";\n    ui-&gt;textEdit-&gt;append(okStr);\n    ui-&gt;textEdit-&gt;append(\"Reading...\");\n    QString str = socket-&gt;readAll();\n    ui-&gt;textEdit-&gt;append(str);\n    if(str == okStr)\n        ui-&gt;textEdit-&gt;append(\"OK! is true\");\n    else\n        ui-&gt;textEdit-&gt;append(\"OK! is false\");\n}\n</code></pre>\n\n<p>And here is C#-server code for writing commands “OK!”:</p>\n\n<pre><code>private void WriteOutput(Commands cmd)\n{\n    if (NS == null)\n        return;\n\n    string str = Enum.GetName(typeof(Commands), cmd);\n    StreamWriter writer = new StreamWriter(NS);\n    writer.WriteLine(str + \"!\");\n    writer.Flush();\n}\n</code></pre>\n\n<p>In this case cmd would be <strong>„OK“</strong>.In Qt-TCP Client I get following messages:\n<strong>OK!\nReading...\nOK!</strong></p>\n\n<p>OK! is false\nBut I would like to have a <strong>OK! is true</strong> :). Which data-format should I choose?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13264460,"title":"QT M/V Deligate","body":"<p>I want to show QDateTimeWIdget when user selects the QTableView cell(Which contains datetime).I have written deligate ,How can i know column type of using model index dynamically in deligate create editor method?.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","qmainwindow","qdockwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13264395,"title":"How to disable resizing the QDockWidget?","body":"<p>I need to disable the resizing of QDockWidget's in the QMainWindow. can I do this without a setFixedSize() ?</p>\n\n<p>Thx.</p>\n"},{"tags":["qt","fullscreen","openscenegraph"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13188565,"title":"OSG +QT switching to full screen and back","body":"<p>I am integrating a single osgQt::GLWidget in a Qframe and using the pattern here: <a href=\"http://trac.osgeo.org/ossim/browser/trunk/ossimPlanetQt/src/gui/ossimPlanetQtMainWindow.cpp\" rel=\"nofollow\">http://trac.osgeo.org/ossim/browser/trunk/ossimPlanetQt/src/gui/ossimPlanetQtMainWindow.cpp</a> to switch between full-screen mode and back. Basically consuming the keystrokes within the widget and setting full screen from there.</p>\n\n<p>I also have an event consumer in osgViewer::Viewer - osgViewer::WindowSizeHandler which handles the viewer size switch.</p>\n\n<p>Is there a better pattern to implement this ?</p>\n"},{"tags":["c++","qt","drag-and-drop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13261902,"title":"Differences in dropEvent across versions of Qt4","body":"<p>I have 2 versions of Qt4 I am playing with both 64bit-Windows</p>\n\n<p>1: Obtained via PCL downloads - <a href=\"http://pointclouds.org/downloads/windows.html\" rel=\"nofollow\">http://pointclouds.org/downloads/windows.html</a>\n2: Compiled by hand from 4.8.3 using MSVC 2010</p>\n\n<p>In the PCL version dropEvents are being called from a simple example such as this - <a href=\"http://www.trinitydesktop.org/docs/qt4/draganddrop-dropsite.html\" rel=\"nofollow\">http://www.trinitydesktop.org/docs/qt4/draganddrop-dropsite.html</a>, but in the newer version which I built since the PCL version does not have some Qt options enabled such as QtScript, the dropEvents are not working. dragEnterEvent and dragMoveEvent both respond.</p>\n\n<p>Is there a specific Qt compilation option to enable dropEvent ? </p>\n"},{"tags":["c++","qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13258345,"title":"OpenGL VAO's - Handling VAO's in multiple contexts","body":"<p>I have run into an issue that I am afraid is going to be very hard to resolve, at least as far as google searching has show me. </p>\n\n<p>I have an Editor utility using Qt which creates multiple OpenGL contexts for different tools in the editor, their is a 'World' editor which hosts a QGLWidget of my games scene, and a material editor which has a 'preview' QGLWidget which displays the currently built material.</p>\n\n<p>I have been able to get context sharing working fine, I use gDEBugger to see the OpenGL contexts, and they are sharing Textures, VBO's, shaders etc. But one stipulation has me wondering how this will work, you can't share Vertex Array Objects between contexts. As I understand it, Vertex Array Objects are the standard now, and we should really be using them as apposed to using VBO's without VAO's. </p>\n\n<p>I have thought of a 2 ways to get around this but I don't exactly think either are ideal</p>\n\n<ol>\n<li>Generate the VAO's before each render, but this seems to defeat the purpose of the VAO's</li>\n<li>use a std::map to map a GL context to a VAO, if the current context does not have this VAO, then generate one for the said context, this seems bad and may not even work.</li>\n</ol>\n\n<p>What other solutions are there that I am overlooking? I have also considered somehow having everything in one context and using seperate viewports for each required opengl widget, which I hoped would be possible but I am having no luck figuring it out using Qt and it's QGLWidget.</p>\n\n<p><em>Edit</em></p>\n\n<p>Ok, so I have tried to get this working but it is giving me alot of grief, I tried 2 different ways and they are both causing me errors.</p>\n\n<p>1) I create a QGLContext, and then pass it to my QGLWidgets when they are being created.</p>\n\n<pre><code>QGLFormat    fmt = QGLFormat();\nQGLContext*  pContext = new QGLContext(fmt);\n\nQGLWidget*   pWidget1 = new QGLWidget(pContext);\nsomeLayout-&gt;addWidget(pWidget1);\n\nQGLWidget*   pWidget2 = new QGLWidget(pContext);\nanotherLayout-&gt;addWidget(pWidget2);\n</code></pre>\n\n<p>The error here is that as soon as I add the widget to a layout, or set it as the central widget for a Main Window, it deletes the context, really weird. If I then try to pass in the context from the first widget to the second</p>\n\n<pre><code>QGLFormat    fmt = QGLFormat();\nQGLContext*  pContext = new QGLContext(fmt);\n\nQGLWidget*   pWidget1 = new QGLWidget(pContext);\nsomeLayout-&gt;addWidget(pWidget1);\n\npContext = (QGLContext*)pWidget1-&gt;context();\nQGLWidget*   pWidget2 = new QGLWidget(pContext);\nanotherLayout-&gt;addWidget(pWidget2);\n</code></pre>\n\n<p>I Get a Qt error saying QGLWidget::setContext: Context must refer to this widget</p>\n\n<p>2) I create my first widget and use it's context for all the others</p>\n\n<pre><code>QGLWidget* pWidget1 = new QGLWidget();\n\nQGLContext* pContext = (QGLContext*)pWidget-&gt;context();\nQGLWidget* pWidget2 = new QGLWidget(pContext);\n</code></pre>\n\n<p>This gives me the same error that I got from the end of my first method, it says\nQGLWidget::setContext: Context must refer to this widget.</p>\n\n<p>Something is not right here and I feel I am missing something.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13260206,"title":"layout resizing in QStackedWidget Page","body":"<p>I'm trying to get a widget placed on a page in a QStackedWidget to resize automatically when the parent QStackedWidget resizes. This simple task seems impossible to do with Qt Creator. Adding a layout to the page does not seem to do anything, the layout just stays at whatever size it's designed as, and will not resize. This is (I think?) because the layout is being added into the page widget as a child and not directly attached to the page widget. There seems to be no way to actually add a layout to page.</p>\n\n<p>How do a get a widget to resize in a QStackedWidget with Qt Creator???</p>\n\n<p>As a side comment, I really wish Qt would abandon it's layout system, it is far far harder to use then an anchoring based system.</p>\n"},{"tags":["c++","multithreading","qt","qnetworkaccessmanager"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13259068,"title":"im doing something wrong with QNetworkAccessManager thread request (the threads never get free)","body":"<p>i know that in version 4.8 each http request gets its own thread to run ,<br>\nim doing links checker app that doing allot of http request in while loop<br>\ni notice in the windows task manager that my app is using more then 1600 threads over time \nand the number never gos down only up until its crash the app . ( i guessing it is the couse )\nmy question is does QNetworkAccessManager has option to use thread pool ?<br>\nor it has option to clean its thread after it finish its http request?  </p>\n\n<p>this is the main loop :</p>\n\n<pre><code>while(!rpm_urlStack-&gt;isEmpty())\n{\n    QString url = rpm_urlStack-&gt;top();\n    rpm_urlStack-&gt;pop();\n\n    QString urlForReq(url);\n\n    bool returnVal = true;\n    QNetworkRequest request;\n\n    request.setUrl(QUrl(urlForReq));\n    request.setRawHeader(\"User-Agent\", USER_AGENT.toUtf8());\n    request.setRawHeader(\"Accept-Charset\", \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\");\n    request.setRawHeader(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\");\n    request.setRawHeader(\"Accept-Language\", \"en-us,en;q=0.5\");\n    request.setRawHeader(\"Connection\", \"Keep-Alive\");\n\n    QEventLoop loop;\n    reply = m_networkManager-&gt;get(request);\n    connect(reply, SIGNAL(finished()), &amp;loop, SLOT(quit()));\n    loop.exit();\n\n    if(!loop.isRunning()) {\n        loop.exec();\n    }\n\n    RequestFinishedHandler(reply);\n}\n\nRequestFinishedHandler(QNetworkReply *reply)\n{\n    if (reply-&gt;error() &gt; 0) {\n        QNetworkReply::NetworkError networkError = reply-&gt;error();\n        QString err = reply-&gt;errorString();\n\n    } else {\n        QVariant vStatusCodeV = reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n        QMutexLocker lock(_pMutex); // _pMutex defined as class member\n        char *buffer;\n        buffer = getCurrentDateTime();\n        QTextStream out(m_file);\n        out &lt;&lt; buffer &lt;&lt;\"  \"&lt;&lt; _sCurrentUrl &lt;&lt; \"\\n\";\n        lock.unlock();\n\n        if(vStatusCodeV.toInt() == 200) {\n            QString ApiResponse;\n            QByteArray data;\n            data=reply-&gt;readAll();\n            ApiResponse.append(QString::fromUtf8(data));\n        }\n    }\n\n    reply-&gt;deleteLater();\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","pyqt4","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13260407,"title":"Qt: Take over system open file dialog","body":"<p>I would like to automate the upload of a file to a website using PyQt4's QWebView, but there's a part I can't figure out yet. To upload the file, the website has a button, which opens a dialog from which you are supposed to select the local file. So, these are my questions :) Is there a way to control that dialog once I click the button? Is there a better way to achieve this?</p>\n"},{"tags":["debugging","qt","creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":407,"score":1,"question_id":9404190,"title":"Qt debug won't stop on breakpoint","body":"<p>I just installed qt creator sdk and the windows debug thing. When I try to debug the debugger comes with the warning:</p>\n\n<p>Preferred debugger engine for debugging binaries of type 'x86-windows-msys-pe-23bit' is not available. \nThe debugger engine Cdb engine will be used as a fallback\nDetails: There is no gdb binary available for binaries in format 'x86-windows-msys-pe-32bit'\nThen the program start building.</p>\n\n<p>When I set breakpoints into the program the debugger won't stop at de breakpoints. I've tried a lot of things to let the debugger work properly but nothing has helped so far. If anybody has a suggestion please let me know. I think it maybe has something to do with the compiler I'm using which is something like mingw but i have no idea how to set another compiler or something like that</p>\n"},{"tags":["qt","mplayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13259678,"title":"playback issues with mplayer on windows","body":"<p>I am using mplayer for playback in my application. I am using Qt 4.8 on windows 7 64 bit. The issue that I am facing is that if I am watching some video using MPC player or VLC player independant of my application, then the playback in my application stops !? QtCreator and the application become dead slow and gdb goes crazy with memory. Its pretty strange but I am confused if that is a problem with Windows or mplayer ? Anybody facing similar issues ?</p>\n"},{"tags":["qt","treeview","model-view","qstandarditemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13258725,"title":"Qt Model / View framework, tree view","body":"<p>I’m experimenting with Qt and the Model/View framework.<br>\nI have some data that I would like to display and edit in a tree view.<br>\nI have read the documentation and <a href=\"http://qt-project.org/doc/qt-4.8/modelview.html\" rel=\"nofollow\">this</a> tutorial, but I’m still unsure about what is the best practice in my case.<br>\nThe data comes from a server and looks something like this:</p>\n\n<pre><code>int id;\nint parentId;\nQString name;\nfloat price;\n</code></pre>\n\n<p>The id’s are “running” numbers and all unique so the data might look like this.</p>\n\n<pre><code>Id =1\nparentId =0 \nname= food\n\nid = 5 \nparentId =1\nname = pizza\n</code></pre>\n\n<p>The id is of no interest to the end user and should not be displayed.</p>\n\n<p>Getting this in to a hierarchy should be pretty straight forward using a recursive function. (But any ideas here are also most welcome)</p>\n\n<ol>\n<li>Should I put the data I get from the server straight in to a QStandardItemModel?</li>\n<li>Is there any point in creating my own class and inherit QStandardItemModel/item?</li>\n<li>Would each field (id,name,price) be it’s own QStandardItem?</li>\n</ol>\n\n<p>If yes on #3, When I edit the item that contains a name, how do I get the id connected to that name so I can post the change back to the server.</p>\n\n<p>As you understand these are basics, a sketch of a recommended structure would be great.</p>\n"},{"tags":["windows","qt","opengl","qglwidget","ogre"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":875,"score":1,"question_id":5024328,"title":"Embedding Ogre into a qt application on windows platform","body":"<p>Embedding Ogre into a qt application\n<a href=\"http://www.ogre3d.org/tikiwiki/QtOgre&amp;structure=Cookbook\" rel=\"nofollow\">Link:QtOgre</a></p>\n\n<p>But it is mac and linux  platform，I try to migrate to windows platform, but failed.\nMy app run like this:\n<img src=\"http://i.stack.imgur.com/NJ0US.png\" alt=\"enter image description here\"></p>\n\n<pre><code>enter code here\n#ifndef OGREWIDGET_H\n#define OGREWIDGET_H\n#include \"XVQCUGLLIB_Global.h\"\n#include &lt;QGLWidget&gt;\n#include &lt;Ogre/Ogre.h&gt;\n\n\nclass XVQCUGLFXLIB_API OgreWidget : public QGLWidget\n{\n    //Q_OBJECT;\n\npublic:\n    OgreWidget( QWidget *parent=0 );\n    virtual ~OgreWidget();\n\nprotected:\n     virtual void initializeGL();\n    virtual void resizeGL( int, int );\n    virtual void paintGL();\n\n    void init();\n\n    virtual Ogre::RenderSystem* chooseRenderer( Ogre::RenderSystemList* );\n\n    Ogre::Root *mOgreRoot;\n    Ogre::RenderWindow *mOgreWindow;\n    Ogre::Camera *mCamera;\n    Ogre::Viewport *mViewport;\n    Ogre::SceneManager *mSceneMgr;\n};\n#endif // OGREWIDGET_H\n</code></pre>\n\n<p>///////////////////////////////////////</p>\n\n<pre><code>  #include \"XVQCUGLLIB_Internal.h\"\n\n #include \"OgreWidget.h\"\n #define THIS OgreWidget\n\n OgreWidget::OgreWidget(QWidget *parent)\n     : QGLWidget( parent ),\n     mOgreWindow(NULL)\n {\n     init();\n }\n\n OgreWidget::~OgreWidget()\n {\n     mOgreRoot-&gt;shutdown();\n     delete mOgreRoot;\n     destroy();\n }\n\n /**\n  * @brief init the object\n  * @author kito berg-taylor\n  */\n      void THIS::init()\n      {\n   // create the main ogre object\n   mOgreRoot = new Ogre::Root;\n\n   mOgreRoot-&gt;loadPlugin(\"RenderSystem_GL_d\");\n   Ogre::String rName(\"OpenGL Rendering Subsystem\");\n   Ogre::RenderSystemList rList = mOgreRoot-&gt;getAvailableRenderers();\n   Ogre::RenderSystemList::iterator it = rList.begin();\n   Ogre::RenderSystem *rSys = 0;\n   while(it != rList.end())\n   {\n       rSys = * (it++);\n       Ogre::String strx=rSys-&gt;getName();\n       if(strx == rName)\n       {\n           mOgreRoot-&gt;setRenderSystem(rSys);\n           break;\n       }\n   }\n   mOgreRoot-&gt;initialise(false); // don't create a window\n }\n\n /**\n  * @brief setup the rendering context\n  * @author Kito Berg-Taylor\n  */\n void THIS::initializeGL()\n {\n\n   //== Creating and Acquiring Ogre Window ==//\n\n   // Get the parameters of the window QT created\n\n   Ogre::String winHandle=Ogre::StringConverter::toString((size_t)(HWND)winId());\n\n   Ogre::NameValuePairList params;\n   params[\"parentWindowHandle\"] = winHandle;\n\n   mOgreWindow = mOgreRoot-&gt;createRenderWindow( \"QOgreWidget_RenderWindow\",\n                            this-&gt;width(),\n                            this-&gt;height(),\n                            false,\n                            &amp;params );\n\n   //mOgreWindow-&gt;setActive(true);\n   //WId ogreWinId = 0x0;\n   //mOgreWindow-&gt;getCustomAttribute( \"WINDOW\", &amp;ogreWinId );\n\n   //assert( ogreWinId );\n\n   //this-&gt;create( ogreWinId );\n   setAttribute( Qt::WA_PaintOnScreen, true );\n   setAttribute( Qt::WA_NoBackground );\n\n   //== Ogre Initialization ==//\n   Ogre::SceneType scene_manager_type = Ogre::ST_EXTERIOR_CLOSE;\n\n   mSceneMgr = mOgreRoot-&gt;createSceneManager( scene_manager_type );\n   mSceneMgr-&gt;setAmbientLight( Ogre::ColourValue(1,1,1) );\n\n   mCamera = mSceneMgr-&gt;createCamera( \"QOgreWidget_Cam\" );\n   mCamera-&gt;setPosition( Ogre::Vector3(0,1,0) );\n   mCamera-&gt;lookAt( Ogre::Vector3(0,0,0) );\n   mCamera-&gt;setNearClipDistance( 1.0 );\n\n   Ogre::Viewport *mViewport = mOgreWindow-&gt;addViewport( mCamera );\n   mViewport-&gt;setBackgroundColour( Ogre::ColourValue( 1.0,1.0,1.0 ) );\n }\n\n /**\n  * @brief render a frame\n  * @author Kito Berg-Taylor\n  */\n void THIS::paintGL()\n {\n     //QGLWidget::paintGL();\n   assert( mOgreWindow );\n\n\n   mOgreRoot-&gt;_fireFrameStarted();\n\n  mOgreWindow-&gt;update();\n\n  // mOgreRoot-&gt;renderOneFrame();\n\n   mOgreRoot-&gt;_fireFrameEnded();\n }\n\n /**\n  * @brief resize the GL window\n  * @author Kito Berg-Taylor\n  */\n void THIS::resizeGL( int width, int height )\n {\n//QGLWidget::resizeGL(width,height);\n   assert( mOgreWindow );\n   mOgreWindow-&gt;windowMovedOrResized();\n   mCamera-&gt;setAspectRatio(Ogre::Real(width) / Ogre::Real(height));\n }\n\n /**\n  * @brief choose the right renderer\n  * @author Kito Berg-Taylor\n  */\n Ogre::RenderSystem* THIS::chooseRenderer( Ogre::RenderSystemList *renderers )\n {\n   // It would probably be wise to do something more friendly \n   // that just use the first available renderer\n   return *renderers-&gt;begin();\n }\n</code></pre>\n"},{"tags":["qt","cross-compiling","qdbusxml2cpp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13248091,"title":"Getting qdbusxml2cpp","body":"<p>Here is my trouble: On my Debian 6 machine (32bit) I have a cross-compiled Qt for mipsel. This is used in the compilation and linking of my application which uses QDbus. the only thing is, that the executable qdbusxml2cpp was NOT being built while I configured the Qt because I did not find any options to build it.</p>\n\n<p>Now, I want to have that executable too to run on MY machine, but when I want to compile it with my configured Qt it tries compile with the mips compiler and to link to the mips libraries... this is right. That's how it was configured.</p>\n\n<p>I am also aware that there is a libqt4-dev package supplying the qdbsuxml2cpp, but that comes bundled with qt 4.6.3 and I need the 4.7.1 and I don't want to mess up the system more than it is right now.</p>\n\n<p>Do you have any ideas how to get the qdbusxml2cpp without recompiling the entire qt for the native format?</p>\n"},{"tags":["visual-studio-2010","qt","qt-vs-addin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13258013,"title":"Qt VS Add-in cannot run project in Release Mode","body":"<p>I'm relatively new to using Qt but wanted a quick way to design a simple GUI and I found out about the Qt-Addin for Visual Studio.</p>\n\n<p>Everything is working fine in my GUI if I run in <strong>Debug</strong> mode. However, as soon as I try to compile in <strong>Release</strong> mode, I cannot seem to do so. The error I get is:</p>\n\n<pre><code>error C1083: Cannot open include file: 'ui_gui.h': No such file or directory\n</code></pre>\n\n<p>But in my file structure, I can clearly see ui_gui.h is present under Generated Files -> Release -> qrc_gui.cpp and ui_gui.h</p>\n\n<p>The error is generated when my gui.h file calls the following statement:</p>\n\n<pre><code>#include \"ui_gui.h\"\n</code></pre>\n\n<p>If I try to uncomment that include statement. I get a whole set of errors such as:</p>\n\n<pre><code>error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\nerror C2653: 'Ui' : is not a class or namespace name\nerror C2653: 'QDateTime'\n...\n</code></pre>\n\n<p>My <strong>gui.h</strong> file quite simply includes this:</p>\n\n<pre><code>#ifndef GUI_H\n#define GUI_H\n\n#include &lt;QtGui/QMainWindow&gt;\n#include \"ui_gui.h\"\n\nclass GUI : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    GUI(QWidget *parent = 0, Qt::WFlags flags = 0);\n    ~GUI();\n\nprivate:\n    Ui::GUIClass ui;\n\n\n};\n\n#endif // GUI_H\n</code></pre>\n\n<p>Can someone please give me some suggestions to resolving this issue?</p>\n"},{"tags":["qt","qmake"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4175,"score":2,"question_id":5303634,"title":"QMAKE: QMAKESPEC has not been set","body":"<p>I have recently recompiled Qt so that I can use static instead of shared libraries. But now, when I try to compile my project, I get the following error:</p>\n\n<blockquote>\n  <p>QMAKESPEC has not been set, so configuration cannot be deduced.</p>\n</blockquote>\n\n<p>It seems like a common problem and I did do some research before posting. What's puzzling me is that I did set the QMAKESPEC env var. Here is the output of <strong><em>printenv QMAKESPEC</em></strong></p>\n\n<blockquote>\n  <p>/usr/local/Trolltech/Qt-4.4.0/mkspecs/linux-g++</p>\n</blockquote>\n\n<p>Also, here is the output of <strong><em>qmake -query QMAKESPEC</em></strong></p>\n\n<blockquote>\n  <p>linux-g++</p>\n</blockquote>\n\n<p>I have also tried playing around with the values, but it seems that qmake can't see that variable at all... QTDIR is also specified properly.</p>\n\n<p>I have also tried to recompile Qt and reinstall it.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["qt","gui","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":24,"score":3,"question_id":13255061,"title":"QLineEdit could not set shortcuts when it's in focus","body":"<p>I'm implementing a text-based to-do program. So there is the CommandInput widget inherent from QLineEdit. Basically there are a few commands, starting with keywords \"add\", \"delete\", \"edit\", and a few more.</p>\n\n<p>I want to implement a few short cut.\n1. \"Ctrl+A\" s.t. when the widget is in focus, I can setText(\"add \\\"\\\"\"), cursor at the second last position, so it appears to be\nadd \"|\"\n2. \"Tab\" s.t. when the widget is in focus, when user type in the first keyword, for example, \"add\", then the use press \"Tab\", the text will be set to \"add \\\"\\\"\"</p>\n\n<p>The key problem is that when the widget is in focus, the shortcuts are not working. I've tried the following ways:</p>\n\n<ol>\n<li><p>Override keyPressEvent. The \"Tab\" key does not work as intended. And even if it works, I don't know how to do that for keySequence like \"Ctrl+A\".</p>\n\n<p>void CommandInput::keyPressEvent(QKeyEvent *keyEvent)</p>\n\n<p>{\n    switch(keyEvent->key())</p>\n\n<pre><code>{\ncase Qt::Key_Tab;\n    emit add_activated();\ndefault:\n    QLineEdit::keyPressEvent(keyEvent);\n}\n</code></pre>\n\n<p>}</p></li>\n<li><p>Create shortcuts when initializing. This doesn't work either.</p>\n\n<p>CommandInput::CommandInput(QWidget *parent)\n    : QLineEdit(parent)\n{\n    tab_shortcut = new QShortcut(QKeySequence(\"Tab\"),this);\n    add_shortcut = new QShortcut(QKeySequence(\"Ctrl+A\"),this);</p>\n\n<pre><code>connect(tab_shortcut, SIGNAL(activated()),\n        this, SIGNAL(tab_activated()));\nconnect(add_shortcut, SIGNAL(activated()),\n        this, SIGNAL(add_activated()));\n</code></pre>\n\n<p>}</p></li>\n</ol>\n\n<p>Hope you could help me on this issue. Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":13241034,"title":"Prevent QGraphicsItem::itemAt() On a \"Background Item\"","body":"<p>I am trying to set up a GUI using plugins.  In my current phase I need the user to click and specify locations of points.</p>\n\n<p>The plugin architecture I have setup requires the plugin to return QGraphicsItem that the plugin wishes to use.  In the main program (which future plugin writers won't have access to), I set a background image to guide clicks.  The plugins can sneakily access the scene() using an itemChange() and installing an eventFilter() on the scene being set.  This allows for the plugins to have access to scene clicks and process whatever information it needs.  However, the background picture is being returned by itemAt() calls.</p>\n\n<p>I wish to prevent this background Pixmap from returning with an itemAt() for all future plugins.  Is this possible?</p>\n\n<hr>\n\n<p>Tried:</p>\n\n<pre><code> setEnabled(false); //No success\n</code></pre>\n"}]}
{"total":16228,"page":2,"pagesize":100,"questions":[{"tags":["c++","qt","qtwebkit","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13255281,"title":"How to use QWebView as Stand alone JavaScript engine?","body":"<p>In my current project, we were using c++, QT, QTWebview. Complete business logic resides in JavaScript which was loaded into the .exe/.app using QWebView. Native OS logic resides in C++. The to and fro communication from C++ to Javascript is heavy achieved using QT Signal &amp; Slots . Inside Javascript, we were also using HTML5 web workers, just to make sure the C++ QT UI thread is responsive to the end user.</p>\n\n<p>In fact, the Javascript doesn't need any DOM interactions. We were using Javascript as a plain programming language. As the complete QT webkit involves both Layout engine &amp; Javascript engine. I feel that memory consumption is some what heavy. </p>\n\n<p>Will it be possible to use QWebView as plain Javascript engine?</p>\n\n<p>Also It will be great if you can suggest me any best memory management techniques dealing with QWebView. We are seeing the memory consumption is growing heavily</p>\n"},{"tags":["c++","qt","setfocus","qprocess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13254670,"title":"qt focus issue with launching osk.exe","body":"<p>In windows, I want to launch the built-in on screen keyboard utility when the user clicks inside a textbox. I chose to use the <code>mouseClick</code> event rather than the <code>focusInEdit</code> because the textbox is first on screen and it's a little annoying to automatically popup the keyboard while switching screens. Anyways, this is the code I have </p>\n\n<pre><code>QProcess* oskProcess = new QProcess();\nconnect(oskProcess, SIGNAL(finished(int)), oskProcess, SLOT(deleteLater()));\nbool ret = connect(oskProcess, SIGNAL(started()), this, SLOT(setFocus()));\noskProcess-&gt;startDetached(\"OSK.exe\");   // Start the OSK.exe, On-Screen KeyBoard\n</code></pre>\n\n<p><strong>The first time it works fine. but if <code>osk.exe</code> is already open or minimized, running it again \"restores\" it (That that the built-in behavior of osk.exe which is what I want) but the textbox that the used clicked into loses focus so the keyboard does not work.</strong> </p>\n\n<p>I tried to use the <code>started()</code> signal to bring the focus with the slot <code>setFocus()</code> but that didn't help either. Any input on this issue would be much appreciated.</p>\n"},{"tags":["qt","windows-phone-7","qml","email-client","blackberry-cascades"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13254801,"title":"What are equivalents for Windows 7 Phone PhoneCallTask, EmailCompmoseTask, and BingMapsTask in Blackberry Cascades","body":"<p>I am trying to find equivalents for Windows 7 Phone PhoneCallTask, EmailComposeTask, and BingMapsTasks in Blackberry Cascades Beta 3 SDK - I found one for the PhoneCallTask which is (bb::system::phone::Phone phone) - which has a function called requestDialpad, which is supposed to bring up a dialpad, but it does not do that (I am using Blackbery 10 Dev Alpha Simulator) - so I was wondering how to fix that or if there is a better class for phone calls.  Also for EmailComposeTask - I haven't managed to find anything for that.  For BingMapsTasks - I am using a WebView for displaying a Bing map at the location I want - but it doesn't show the map (it's just black) - maybe that's an issue with the simulator - but I was wondering if there was something better for that too.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13254672,"title":"QSystemtrayicon: no image on Mac","body":"<p>Hello,</p>\n\n<p>I've got a problem with the QSystemTrayIcon class on Mac and Linux.</p>\n\n<p>I made a program creating a System tray icon, and I have no problem on windows, but under linux (ubuntu 12) and Mac (OSX 10.8), the tray icon is here, but the image on it doesn't shows up.</p>\n\n<p>This is what i'm doing in the ctor of my class:</p>\n\n<pre><code>icon = new QIcon(\"trayIcon.png\");\nm_pTrayIcon = new QSystemTrayIcon();\nm_pTrayIcon-&gt;setIcon(*icon);\nm_pTrayContextMenu = new QMenu();\nm_pTrayContextMenu-&gt;addAction(openSettings);\nm_pTrayContextMenu-&gt;addAction(switchSyncMode);\nm_pTrayContextMenu-&gt;addAction(openFolder);\nm_pTrayContextMenu-&gt;addSeparator();\nm_pTrayContextMenu-&gt;addAction(quit);\nm_pTrayIcon-&gt;setContextMenu(m_pTrayContextMenu);\nm_pTrayIcon-&gt;show();\n</code></pre>\n\n<p>I'm using the Qt 4.8 library.</p>\n\n<p>Anyone have an idea?\nTanks in advance =)</p>\n"},{"tags":["qt","cmake","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13253970,"title":"Maintaining CMake on Qt Creator","body":"<p>I wonder, how do people maintain CMake projects on Qt creator? When you open the project you run CMake generator and after that you can't change much. In order to add another class to the project you have to create class files by hand, add them to CMakeLists.txt and rerun CMake again. Moreover, changing the class name is a nightmare.</p>\n\n<p>I do actually like CMake (except its syntax), since it has some nice features. However, maintaining a project is a nightmare. Am I missing or doing something wrong?</p>\n"},{"tags":["qt","installation","qmake"],"answer_count":4,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":14768,"score":12,"question_id":1245011,"title":"How to build qt out of source","body":"<p>I was searching a lot through Qt forums and Google for the last few days, but I could not find any obvious answer to this question.</p>\n\n<p>I found the <code>-prefix</code> option (not even documented on Windows) that can be supplied to configure to specify different install directory, but this is not clear separation of the sources and binaries at all, since the build is still done in the source directory and then the files needed for installation are copied to the install directoy. I tried this <code>-prefix</code> option, and came to some problems. (i.e It doesn't  copy the <code>.pdb</code> files to the install directory.)</p>\n\n<p>Then I found <a href=\"http://doc.trolltech.com/main-snapshot/shadow-builds-wince.html\" rel=\"nofollow\">this link</a> about doing shadow builds but it has the big limitation that the build dir must be at the same level as the source dir.</p>\n\n<hr>\n\n<blockquote>\n  <p>I'm guessing you didn't try make\n  install? So try that. It should\n  install Qt to a separate directory\n  away from the sources.</p>\n</blockquote>\n\n<p>Are you saying that after I do configure, I should do nmake install instead just nmake? I know that nmake will process the generated makefiles from qmake and will place them in the source Qt dir, but what nmake install will exactly do i.e in which directory will install the files and how to specify the directory where the files will be installed.</p>\n\n<p>Note that I already do this:</p>\n\n<pre><code>configure -prefix builddir -platform win32-msvc2005\nnmake install\n</code></pre>\n\n<p>The effect of the above two lines was that qt was compiled in the source dir and not directly to my builddir specified with prefix. Then the compiled files were copied in my builddir. I was hoping for something that will build my Qt files directly to the build dir, cause this way I  stil need 4 Gb space for my source dir during the compilation. Also the pdb files were not copied to my buildir which is another issue.</p>\n"},{"tags":["qt","filesystems"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2773,"score":4,"question_id":1732717,"title":"How to determine how much free space on a drive in Qt?","body":"<p>I'm using Qt and want a platform-independent way of getting the available free disk space.</p>\n\n<p>I know in Linux I use <em>statfs</em> and in Windows I use <em>GetDiskFreeSpaceEx()</em>.  I know boost has a way (<em>boost::filesystem::space(Path const &amp; p);</em>).  </p>\n\n<p>I don't want those.  I'm in Qt and would like to do it in a Qt-friendly way.</p>\n\n<p>I looked at QDir, QFile, QFileInfo -- nothing!</p>\n"},{"tags":["qt","qtreewidgetitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249062,"title":"return a derivated QTreeWidgetItem","body":"<p>I think that this is not a question regarding especially Qt but a quaestion of a lack of programming expeience.</p>\n\n<p>I derived a class from QTreeWidgetItem and I added some bolean flags. When i initialize a QTreeWidget I add two of them by</p>\n\n<pre><code>_NewItem1=MyQTreeWidgetItem(_treewidget);\n</code></pre>\n\n<p>than later I add some items by</p>\n\n<pre><code>_NewItem1_1=MyQTreeWidgetItem(_NewItem1);\n_NewItem1_1-&gt;boleanvalue1=true;\n</code></pre>\n\n<p>If I later want to return these Items I call </p>\n\n<pre><code>(MyQTreeWidgetItem)_NewItem1-&gt;child(i)\n</code></pre>\n\n<p>but this of course just returns me a MyQTreeWidgetItem with newly initialized bolean flags.</p>\n\n<p>Do I have to override the child function to retun the true Items which I initialized earlier?</p>\n"},{"tags":["windows","qt","linker","mingw","linker-error"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13227354,"title":"warning: cannot find entry symbol nable-stdcall-fixup; defaulting","body":"<p>This <code>mingw</code> contains <code>gcc 4.6.3</code>, with name - i686-w64-mingw32.  </p>\n\n<p>On <strong>Windows,</strong> a Qt's<code>.pro</code> file w.r.t a hello world program:</p>\n\n<pre><code>QT          += core gui\nTEMPLATE    = app\nTARGET      = ef\n\nSOURCES     = ef.cpp\nDEPENDPATH  += .\n\nINCLUDEPATH += . \nINCLUDEPATH += c:/R-2.15.1/include\nINCLUDEPATH += c:/R-2.15.1/library/Rcpp/include\nINCLUDEPATH += c:/R-2.15.1/library/RInside/include\n\nLIBS        += -L c:/R-2.15.1/bin/i386 -lR\nLIBS        += -L c:/R-2.15.1/library/Rcpp/libs/i386 -lRcpp\nLIBS        += -L c:/R-2.15.1/library/RInside/libs/i386 -lRInside \n</code></pre>\n\n<p>The program compiles as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/3BfZz.png\" alt=\"enter image description here\"></p>\n\n<p>Notice there is a warning at the end.</p>\n\n<p>System PATH is as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/84N9w.png\" alt=\"enter image description here\"></p>\n\n<p>Qt's Path:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jiCmu.png\" alt=\"enter image description here\"></p>\n\n<p>Please point out the point that I am missing.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<hr>\n\n<p>Now I have updated the <code>qmake.conf</code> as follows:</p>\n\n<pre><code>#\n# qmake configuration for win32-g++\n#\n# Written for MinGW\n#\n\nMAKEFILE_GENERATOR  = MINGW\nTEMPLATE        = app\nCONFIG          += qt warn_on release link_prl copy_dir_files debug_and_release debug_and_release_target precompile_header\nQT          += core gui\nDEFINES         += UNICODE QT_LARGEFILE_SUPPORT\nQMAKE_COMPILER_DEFINES  += __GNUC__ WIN32\n\nQMAKE_EXT_OBJ           = .o\nQMAKE_EXT_RES           = _res.o\n\nQMAKE_CC        = gcc\nQMAKE_LEX       = flex\nQMAKE_LEXFLAGS      =\nQMAKE_YACC      = byacc\nQMAKE_YACCFLAGS     = -d\nQMAKE_CFLAGS        =\nQMAKE_CFLAGS_DEPS   = -M\nQMAKE_CFLAGS_WARN_ON    = -Wall\nQMAKE_CFLAGS_WARN_OFF   = -w\nQMAKE_CFLAGS_RELEASE    = -O2\nQMAKE_CFLAGS_DEBUG  = -g\nQMAKE_CFLAGS_YACC   = -Wno-unused -Wno-parentheses\n\nQMAKE_CXX       = g++\nQMAKE_CXXFLAGS      = $$QMAKE_CFLAGS\nQMAKE_CXXFLAGS_DEPS = $$QMAKE_CFLAGS_DEPS\nQMAKE_CXXFLAGS_WARN_ON  = $$QMAKE_CFLAGS_WARN_ON\nQMAKE_CXXFLAGS_WARN_OFF = $$QMAKE_CFLAGS_WARN_OFF\nQMAKE_CXXFLAGS_RELEASE  = $$QMAKE_CFLAGS_RELEASE\nQMAKE_CXXFLAGS_DEBUG    = $$QMAKE_CFLAGS_DEBUG\nQMAKE_CXXFLAGS_YACC = $$QMAKE_CFLAGS_YACC\nQMAKE_CXXFLAGS_THREAD   = $$QMAKE_CFLAGS_THREAD\nQMAKE_CXXFLAGS_RTTI_ON  = -frtti\nQMAKE_CXXFLAGS_RTTI_OFF = -fno-rtti\nQMAKE_CXXFLAGS_EXCEPTIONS_ON = -fexceptions -mthreads\nQMAKE_CXXFLAGS_EXCEPTIONS_OFF = -fno-exceptions\n\nQMAKE_INCDIR        =\nQMAKE_INCDIR_QT     = $$[QT_INSTALL_HEADERS]\nQMAKE_LIBDIR_QT     = $$[QT_INSTALL_LIBS]\n\nQMAKE_RUN_CC        = $(CC) -c $(CFLAGS) $(INCPATH) -o $obj $src\nQMAKE_RUN_CC_IMP    = $(CC) -c $(CFLAGS) $(INCPATH) -o $@ $&lt;\nQMAKE_RUN_CXX       = $(CXX) -c $(CXXFLAGS) $(INCPATH) -o $obj $src\nQMAKE_RUN_CXX_IMP   = $(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $&lt;\n\nQMAKE_LINK      = g++\nQMAKE_LINK_C        = gcc\nQMAKE_LFLAGS        = -Wl, -enable-stdcall-fixup -Wl,-enable-auto-import -Wl,-enable-runtime-pseudo-reloc\nQMAKE_LFLAGS_EXCEPTIONS_ON = -mthreads\nQMAKE_LFLAGS_EXCEPTIONS_OFF =\nQMAKE_LFLAGS_RELEASE    = -Wl,-s\nQMAKE_LFLAGS_DEBUG  =\nQMAKE_LFLAGS_CONSOLE    = -Wl,-subsystem,console\nQMAKE_LFLAGS_WINDOWS    = -Wl,-subsystem,windows\nQMAKE_LFLAGS_DLL        = -shared\nQMAKE_LINK_OBJECT_MAX   = 10\nQMAKE_LINK_OBJECT_SCRIPT= object_script\n\n\nQMAKE_LIBS      =\nQMAKE_LIBS_CORE         = -lkernel32 -luser32 -lshell32 -luuid -lole32 -ladvapi32 -lws2_32\nQMAKE_LIBS_GUI          = -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lws2_32 -lole32 -luuid -luser32 -ladvapi32\nQMAKE_LIBS_NETWORK      = -lws2_32\nQMAKE_LIBS_OPENGL       = -lopengl32 -lglu32 -lgdi32 -luser32\nQMAKE_LIBS_COMPAT       = -ladvapi32 -lshell32 -lcomdlg32 -luser32 -lgdi32 -lws2_32\nQMAKE_LIBS_QT_ENTRY     = -lmingw32 -lqtmain\n\n!isEmpty(QMAKE_SH) {\n    MINGW_IN_SHELL      = 1\n    QMAKE_DIR_SEP       = /\n    QMAKE_COPY      = cp\n    QMAKE_COPY_DIR      = xcopy /s /q /y /i\n    QMAKE_MOVE      = mv\n    QMAKE_DEL_FILE      = rm\n    QMAKE_MKDIR     = mkdir\n    QMAKE_DEL_DIR       = rmdir\n    QMAKE_CHK_DIR_EXISTS = test -d\n} else {\n    QMAKE_COPY      = copy /y\n    QMAKE_COPY_DIR      = xcopy /s /q /y /i\n    QMAKE_MOVE      = move\n    QMAKE_DEL_FILE      = del\n    QMAKE_MKDIR     = mkdir\n    QMAKE_DEL_DIR       = rmdir\n    QMAKE_CHK_DIR_EXISTS    = if not exist\n}\n\nQMAKE_MOC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}moc.exe\nQMAKE_UIC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}uic.exe\nQMAKE_IDC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}idc.exe\n\nQMAKE_IDL       = midl\nQMAKE_LIB       = ar -ru\nQMAKE_RC        = windres\nQMAKE_ZIP       = zip -r -9\n\nQMAKE_STRIP     = strip\nQMAKE_STRIPFLAGS_LIB    += --strip-unneeded\nload(qt_config)\n</code></pre>\n\n<p>The errors have now changed to:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GKyqS.png\" alt=\"enter image description here\"></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I just removed the space between <code>Wl, and -enable-std</code>.. and the above error is gone:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8tKFq.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","plot","qwt"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1559,"score":3,"question_id":6611678,"title":"Need fast c++ qt/qwt scatter plot","body":"<p>I have huge - about 3 millions of pairs - array of 2D points, which I need to render with reasonable speed in Qt-based application.</p>\n\n<p>I've tried using QGraphicsScene, but its very slow even on 400000 primitives, so I was looking into qwt library instead.</p>\n\n<p>It has <a href=\"http://qwt.sourceforge.net/scatterscreenshots.html\" rel=\"nofollow\">scatter plot example screenshot</a> on its sf page, which looks like exactly what I need, but I cannot find neither any kind of actual code that can be used for this data, nor according API in qwt docs - it mentions only different types of curves.</p>\n\n<p>So it would be good to get some pointers for scatter plot examples and some advice on its performance.\nSuggestions for other c++ qt-compatible plotting libraries which can cope with this amount of data are also welcome.</p>\n"},{"tags":["c++","qt","qml","qlabel"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":61,"score":-1,"question_id":13217380,"title":"How to flip an image in Qt?","body":"<p>I found <a href=\"http://www.youtube.com/watch?v=eZyV4f9r5m8\" rel=\"nofollow\">that video</a> on Youtube. It shows how to flip something called QML Flipable. I'm completely unfamiliar with QML so I have the following questions:</p>\n\n<p>1) Is it possible to flip an ordinary QLabel like this? If yes how do I do that?</p>\n\n<p>2) If it's not possible then how do I add that Flipable entity to my QMainWindow?</p>\n\n<p>Thanks, everyone</p>\n"},{"tags":["qt","embedded","keyboard-layout","keymapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13239590,"title":"qt setting QWSServer keymap from code","body":"<p>I need to a keymap for my embedded QWSServer application.</p>\n\n<p>Using environmental variables like this</p>\n\n<pre><code>QWS_KEYBOARD=\"TTY:keymap=/german_keyboard.qmap\"\nexport QWS_KEYBOARD\n</code></pre>\n\n<p>works, but isn't optimal for me.</p>\n\n<p>I tried to set it from code using </p>\n\n<pre><code>QWSServer* wsServer = QWSServer::instance();\nQWSKeyboardHandler * kh = QKbdDriverFactory::create(\"TTY\", \"keymap=/german_keymap.qmap\");\nwsServer-&gt;setKeyboardHandler(kh);\n</code></pre>\n\n<p>as mentioned <a href=\"http://stackoverflow.com/a/2682657/1306186\">here</a>.</p>\n\n<p>However, it is not working. Any ideas how to fix it?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13250928,"title":"Function from C# to C++ via Qt lib","body":"<p>Could you tell me how these function from C# can be re-written to C++ via Qt lib?\n<code></p>\n\n<pre><code>private MemoryStream _memoryStream= new MemoryStream();\n</code></pre>\n\n<p>//WriteUTFBytes</p>\n\n<pre><code>public void WriteUTFBytes(string value)\n{\n    //Length - max 65536.\n    UTF8Encoding utf8Encoding = new UTF8Encoding();\n    byte[] buffer = utf8Encoding.GetBytes(value);\n    if (buffer.Length &gt; 0)\n    WriteBytes(buffer);\n}\n</code></pre>\n\n<p>//WriteBytes</p>\n\n<pre><code>public void WriteBytes(byte[] buffer)\n{\n\n        for (int i = 0; buffer != null &amp;&amp; i &lt; buffer.Length; i++)\n            _memoryStream.WriteByte(buffer[i]);\n}\n</code></pre>\n\n<p>//WriteByte</p>\n\n<pre><code>public void WriteByte(int value)\n    {\n        _memoryStream.WriteByte((byte)value);\n    }\n</code></pre>\n\n<p>//WriteShort</p>\n\n<pre><code>public void WriteShort(int value)\n    {\n        byte[] bytes = BitConverter.GetBytes((ushort)value);\n        WriteBigEndian(bytes);\n    }\n</code></pre>\n\n<p>//WriteBigEndian</p>\n\n<pre><code>private void WriteBigEndian(byte[] bytes)\n    {\n        if (bytes == null)\n            return;\n        for (int i = bytes.Length - 1; i &gt;= 0; i--)\n        {\n            _memoryStream.WriteByte(bytes[i]);\n        }\n    }\n</code></pre>\n\n<p></code></p>\n"},{"tags":["c++","qt","script"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":13248034,"title":"Is it possible to develop a desktop app with Qt Script?","body":"<p>I heard of qt script but don't know much about it. Is it possible to develop an app totally with script only(or most)?</p>\n"},{"tags":["qt","cryptography"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12886341,"title":"How to check why QCA DHPrivateKey did not create symetric key","body":"<p>I have program who exchange session key via Diffie-Helman algorithm, or almost exchange. All action is 2 classes: one receives data and calculates private key, set it to second class, where symetric key is calculated after receiving public part of DH.\nProgram is using Qt and QCA.\nPrivate key is stored as widget class member:</p>\n\n<pre><code>QCA::DHPrivateKey m_localKey;\n</code></pre>\n\n<p>after receiving public part of other side key (as QByteArray) it calculates symetric key:</p>\n\n<pre><code>QCA::Initializer init;\nQCA::DLGroup group(prime, p);\nQCA::SecureArray remoteKey(m_remoteKey);\nQCA::DHPublicKey pk(group, remoteKey);\nm_sessionKey = m_localKey.deriveKey(pk);\n</code></pre>\n\n<p>but session key is always empty (m_sessionKey.isEmpty() and m_sessionKey.isNull() are true).\nValues are set and they are exchange correct (remote part public key is received as it is), \nm_localKey.isNull() and pk.isNull() returns correct values (false).</p>\n\n<p>strange part is that when I run test, it works. Test use same order operations just private keys are created in one class, but logic to get symetric key is same, and class used for that is same.</p>\n\n<p>My question would be why it could behave different in test and separate programs. And is it possible to get any error/debug information from QCA::DHPrivateKey about what went wrong in deriveKey()?</p>\n"},{"tags":["qt","qt4","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13249729,"title":"behaviour of Qwebview window in secondary monitor","body":"<p><strong>Set up Environment: Windows 7 Os, with 2 monitors connected .</strong></p>\n\n<p>I have created a sample QWebview application which plays you tube videos using Qwebview . while video is playing if i select <strong>fullscreen</strong> option from flash menu. adobe flash will create new independent window. I’m trying to make this <strong>new window as a child of some other existing window application.</strong> . whenever i do this, full screen window will be placed within parent window. <strong>This is working as expected when the Qwebview application window is in primary monitor.</strong></p>\n\n<p>if i am trying to do the same with placing my <strong>Qwebview application window in secondary monitor,</strong> when i set the new fullscreen window as child of some other window , then the fullscreen window is disappearing.</p>\n\n<p>Why this weird behaviour ? Why its not working if i created new flash fullscreen window using Qwebview when placing application @ secondary monitor ? while the same thing is working fine when the application was in primary monitor ?</p>\n"},{"tags":["c++","qt","gui","documentation","view-helpers"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249305,"title":"Qt Assistant doesn't show my changes. What am i missing?","body":"<p>I am developing a Qt application and using the Qt Help Framework. I followed the example <a href=\"http://doc.qt.digia.com/qt/help-simpletextviewer.html\" rel=\"nofollow\">here</a> and worked it successfully. Now, I am changing the html files, only the inside the html files not their name to adapt the documentation to my program. (Next, I will change the html file names also) </p>\n\n<p>After changing the html files, I am executing the following commands</p>\n\n<pre><code>qhelpgenerator simpletextviewer.qhp -o simpletextviewer.qch\nassistant -register simpletextviewer.qch\nqcollectiongenerator simpletextviewer.qhcp -o simpletextviewer.qhc\nassistant -collectionFile simpletextviewer.qhc\n</code></pre>\n\n<p>But my changes isn't shown on both Qt Assistant and my program. What am i missing? I changed </p>\n\n<pre><code>&lt;startPage&gt;qthelp://com.trolltech.examples.simpletextviewer/doc/index.html&lt;/startPage&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;startPage&gt;qthelp://index.html&lt;/startPage&gt;\n</code></pre>\n\n<p>in the qhcp file only. but nothing changed. What am i missing? Thanks, in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13243356,"title":"Setting QSharedPointer","body":"<p>I'm coming from a C# background and still getting my head around c++ and Qt smart pointers.  This should be a basic question:</p>\n\n<p>In myClass.h</p>\n\n<pre><code>QSharedPointer&lt;AccessFlags&gt; m_flags;\n</code></pre>\n\n<p>In myClass.cpp I'm trying to set (is set the correct word?) the m_flags pointer</p>\n\n<pre><code>if(m_flags.isNull())\n    m_flags = new AccessFlags();\n\n\nclass AccessFlags{\npublic:\n     QHash&lt;QString,int&gt; flags;\n     AccessFlags();  //The dictionary is setup in the constructor\n};\n</code></pre>\n\n<p>The compiler complains \"no match for 'operator=' in..\nHow do I set the pointer?</p>\n"},{"tags":["python",".net","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13246470,"title":"Is it possible to prevent .NET runtime from unloading DLLs on exit?","body":"<p>We're writing a mixed mode application in Python, Qt4 (4.6.1 at the moment) and .NET (for integration reasons).</p>\n\n<p>Now, when the app exists normally, the .NET runtime is unloaded, which sens PROCESS_DETACH to all DLLs. This seem to cause a crash when QHostInfoLookupManager' destriuctor estrys the threadpool.</p>\n\n<p>Is there some way to prevent this, besides:</p>\n\n<ul>\n<li>TerminateProcess?</li>\n<li>Move .NET code to separate process to avoid Qt issues.</li>\n</ul>\n\n<p>The call stack is as follows, when I get a crash:</p>\n\n<pre><code>python26.dll!1e02edbf()     \n[Frames below may be incorrect and/or missing, no symbols loaded for python26.dll]  \npython26.dll!1e078aba()     \nQtCore.pyd!01971058()   \nQtCore4.dll!qt_message_output(QtMsgType msgType=QtWarningMsg, const char * buf=0x077526a8)  Line 2223 + 0x1c bytes  C++\nQtCore4.dll!qt_message(QtMsgType msgType=QtWarningMsg, const char * msg=0x671b8464, char * ap=0x0012f1d4)  Line 2297    C++\nQtCore4.dll!qWarning(const char * msg=0x671b8464, ...)  Line 2378 + 0x11 bytes  C++\nQtCore4.dll!QWaitCondition::~QWaitCondition()  Line 156 C++\nQtCore4.dll!QThreadPoolPrivate::~QThreadPoolPrivate()  + 0xa2 bytes C++\nQtCore4.dll!QThreadPoolPrivate::`scalar deleting destructor'()  + 0x8 bytes C++\nQtCore4.dll!QObject::~QObject()  Line 992 + 0x16 bytes  C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 430 + 0xf bytes   C++\nQtNetwork4.dll!QHostInfoLookupManager::~QHostInfoLookupManager()  Line 454 + 0x23 bytes C++\nQtNetwork4.dll!QHostInfoLookupManager::`scalar deleting destructor'()  + 0x8 bytes  C++\nQtNetwork4.dll!`theHostInfoLookupManager'::`8'::`dynamic atexit destructor for 'cleanup''()  + 0x14 bytes   C++\nQtNetwork4.dll!_CRT_INIT(void * hDllHandle=0x00385f30, unsigned long dwReason=3694344, void * lpreserved=0x00385f08)  Line 449  C\nQtNetwork4.dll!__DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000000)  Line 560 + 0x8 bytes  C\nQtNetwork4.dll!_DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000001)  Line 510 + 0xe bytes   C\nntdll.dll!_LdrpCallInitRoutine@16()  + 0x14 bytes   \nntdll.dll!_LdrShutdownProcess@0()  - 0xfe bytes \nkernel32.dll!__ExitProcess@4()  + 0x42 bytes    \nkernel32.dll!7c81cb26()     \nmscorwks.dll!SafeExitProcess()  + 0xb7 bytes    \nmscorwks.dll!DisableRuntime()  - 0x199708 bytes \nmscoreei.dll!RuntimeDesc::ShutdownAllActiveRuntimes()  + 0x873e bytes   \nmscoreei.dll!_CorExitProcess@4()  + 0x26 bytes  \nmscoree.dll!_ShellShim_CorExitProcess@4()  + 0x94 bytes \nmsvcr90.dll!__crtCorExitProcess(int status=0)  Line 716 C\nmsvcr90.dll!__crtExitProcess(int status=0)  Line 722 + 0x8 bytes    C\nmsvcr90.dll!doexit(int code=0, int quick=0, int retcaller=0)  Line 632  C\nmsvcr90.dll!exit(int code=0)  Line 412 + 0xc bytes  C\npython26.dll!1e030405()     \npython26.dll!1e02cd93()     \npython26.dll!1e02e887()     \npython26.dll!1e02ccba()     \nMyApp.exe!orz::runPythonFile(const char * file=0x00a203f0, QDir pydir={...}, QString pypath={...})  Line 66 + 0x3e bytes    C++\nMyApp.exe!orz::the_main(int argc=2, char * * argv=0x003860e0)  Line 132 + 0x50 bytes    C++\nMyApp.exe!main(int argc=2, char * * argv=0x003860e0)  Line 152 + 0xd bytes  C++\nMyApp.exe!_WinMain@16()  + 0xb8 bytes   \nkernel32.dll!_BaseProcessStart@4()  + 0x23 bytes    \n</code></pre>\n\n<p>Maybe there's something my message handling, but I don't want the dll unload from .net anyway. I tried altering the my logging a bit to avoid the python call, but then I  get stuck \"no usermode threads running, app is deadlocked\",  seems related to <a href=\"http://qt-project.org/forums/viewthread/20462\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/20462</a>.</p>\n\n<pre><code>ntdll.dll!_KiFastSystemCallRet@0()  \nntdll.dll!_NtWaitForSingleObject@12()  + 0xc bytes  \nkernel32.dll!_WaitForSingleObjectEx@12()  + 0x8b bytes  \nkernel32.dll!_WaitForSingleObject@8()  + 0x12 bytes \nQtCore4.dll!QWaitCondition::wait(QMutex * mutex=0x07ccf200, unsigned long time=4294967295)  Line 175 + 0x15 bytes   C++\nQtCore4.dll!QThreadPoolPrivate::waitForDone()  Line 295 + 0x10 bytes    C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 429   C++\n</code></pre>\n\n<p>Qt does not support dll unloading, as quoted from the above post</p>\n\n<blockquote>\n  <p>“To be perfectly honest, I don’t know what to do with this task. I\n  seem to recall seeing cases where Windows threads would disappear at\n  application exit, yet the HANDLE to those threads would not be\n  signaled (meaning your app would deadlock if waiting on the handle).</p>\n  \n  <p>I am tempted to simply mark this as “Out of Scope”, since, as Thiago\n  says, we do not test nor really support unloading the Qt libraries\n  from the application once they have been loaded.”</p>\n</blockquote>\n"},{"tags":["javascript","qt","inheritance","qtscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":4932004,"title":"Javascript object that inherits QWidget","body":"<p>I am doing something in Javascript and Qt, and for my purpose, I need a <strong>javascript object that inherits QWidget</strong>. So far, I have tried the following:</p>\n\n<pre><code>function Test()\n{\n    QWidget.call(this);\n    this.button = new QPushButton(\"test\");\n    this.layout().insertWidget(1,this.button);\n    this.button.clicked.connect(this.slot);\n}\n\nTest.prototype.slot = function()\n{\n    print(\"Test button clicked\");\n}\n\nTest.prototype = new QWidget();\n</code></pre>\n\n<p>I instantiate object from the class \"Test\" and with the call of the <code>show()</code> method, I get the widget:</p>\n\n<pre><code>var testVariable = new Test();\ntestVariable.show();\n</code></pre>\n\n<p>However, I get the following interpreter error:</p>\n\n<blockquote>\n  <p>Error: In run/evaluate: TypeError:\n  Function.prototype.connect: target is\n  not a function</p>\n</blockquote>\n\n<p>If I change the line <code>this.button.clicked.connect(this.slot);</code> to call a static method defined like this: </p>\n\n<pre><code>    this.button.clicked.connect(Test.slot);\n...\n...\n    Test.slot = function () { /* code */ }\n</code></pre>\n\n<p>the program runs fine, but static method is a no-no. I don't want anyone to call <code>slot()</code> except the instantiated object.</p>\n\n<p>What is wrong with this picture? Has anyone had experience with Javascript objects inheriting Qt objects?\nThanks in advance</p>\n"},{"tags":["linux","osx","qt","distribution"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13245368,"title":"Where can I find binarycreator in QT sdk for creating Qt Installer","body":"<p>I am creating <code>Qt Installer</code> for some QT application, When I gone through the <a href=\"http://doc-snapshot.qt-project.org/qtifw-1.2/index.html\" rel=\"nofollow\">Qt Installer Framework Manual</a> at <a href=\"http://doc-snapshot.qt-project.org/qtifw-1.2/ifw-tools.html#binarycreator\" rel=\"nofollow\">some point</a> I found to rum <code>binarycreator</code> please see the image <img src=\"http://i.stack.imgur.com/9zipy.png\" alt=\"below image\"> , but I am unable to find that binary file in <code>Qt SDK</code>, Please can any one help for this.</p>\n"},{"tags":["qt","qt4","operating-system"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13243124,"title":"How would i go about implementing First come first serve scheduling algorithm using threading in Qt C++ Programming?","body":"<p>I am asking for direction on how to add  processes to a dynamic list then schedule those processes using the first come first serve scheduling algorithm. The scheduling algorithm should only run a max of 5 processes concurrently and when a process has been terminated it should it should emit a signal to indicate termination. Then when a process has been terminated, another process should be scheduled by the scheduling algorithm once there are processes in the queue. </p>\n\n<p>Note also that each process has access to a shared list of integer which only one process can access at a time. I already know how to do this part by locking the shared integer list using QMutex. Can someone help by to figure it out via a simple example as i am baffled\n    //mutex example\n    QMutex mutex\n    while(!mutex->tryLock()){\n        //enter code here\n    }\n    this->performTask(); // \n    mutex.unlock();</p>\n"},{"tags":["qt","build","mingw","entry-point"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12086941,"title":"Qt apps break after build on MinGW","body":"<p>When I build Qt 4.8.2 it builds successfuly. But when I run any Qt pre-built apps (qtdemo.exe, designer.exe etc) it throws a procedure entry point error.</p>\n\n<p>This is what it says:</p>\n\n<p><img src=\"http://i.stack.imgur.com/UcNhk.png\" alt=\"enter image description here\"></p>\n\n<p>I just can't get it to work!</p>\n\n<p>I have build debug and release DLLs, without Phonon, Script, Qt3support, or webkit.</p>\n\n<hr>\n\n<p>I opened the app in Dependency Walker and this is what it said in bold red text:</p>\n\n<blockquote>\n  <p>Error: At least one module has an unresolved import due to a missing export function in an implicitly dependent module. </p>\n  \n  <p>Error: Modules with\n  different CPU types were found. </p>\n  \n  <p>Warning: At least one delay-load\n  dependency module was not found. Warning: At least one module has an\n  unresolved import due to a missing export function in a delay-load\n  dependent module.</p>\n</blockquote>\n"},{"tags":["windows","qt","mingw"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":27,"score":3,"question_id":13246424,"title":"No output from hello world - Qt SDK 2010 - Mingw (gcc 4.6.3) - WindowsXP","body":"<p>Qt: <code>qt-sdk-win-opensource-2010.01</code>\nMingw: <code>1686-mingw32-gcc-4.6.3-release</code> : </p>\n\n<p>The <strong>.pro</strong> file:</p>\n\n<pre><code>TEMPLATE    = app\nTARGET      = \nSOURCES     += ef.cpp\nDEPENDPATH  += .\nINCLUDEPATH += . \n</code></pre>\n\n<p>The <strong>.cpp</strong>:</p>\n\n<pre><code>#include &lt;stdio.h&gt;    \nint main(int argc, char *argv[]) \n{\n    printf (\"\\nhjhjk\\n\");\n}\n</code></pre>\n\n<p>The compilation and the executable output is as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/JGAb0.png\" alt=\"enter image description here\"></p>\n\n<p>The executable called <code>temp</code> and an object file called <code>ef.o</code> get created in the <code>debug</code> folder.</p>\n\n<p>I have edited the <code>qmake.conf</code> file as described <a href=\"http://stackoverflow.com/questions/13227354/warning-cannot-find-entry-symbol-nable-stdcall-fixup-defaulting\">here.</a></p>\n\n<p><strong>The print statement doesn't get printed. Please help.</strong></p>\n"},{"tags":["c++","python","qt","client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13236859,"title":"C++ Qt - QTcpSocket emit readyRead() but canReadLine() always false","body":"<p>I am writing a client in C++ and a server in Python.</p>\n\n<p>The server accepts the connection from the client, and sends to the client its player ID number, formated for the regular expression \"id\\s\\d\". (e.g. \"id 3\")</p>\n\n<pre><code> if s is serversocket:\n            print \"Listening...\"\n            if accept_connection or nb_player &lt; 5:\n                connection, client_address = s.accept();\n                print 'New connection from ', client_address\n                connection.setblocking(0)\n                inputs.append(connection)\n        # Send player I to new connection\n        connection.send(\"id \"+str(len(inputs)-1))\n</code></pre>\n\n<p>The client initializes its socket, and connect. I implemented <code>connected()</code> to display a message on the GUI, if it is emitted. It is emitted without problem. Same thing on the server side, I receive the connection without issues.</p>\n\n<pre><code>Window::Window(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Window)\n{\n    ui-&gt;setupUi(this);\n\n    /* Initialize socket */\n    socket = new QTcpSocket(this);\n    socket-&gt;connectToHost(\"localhost\", 13456);\n\n    connect(socket, SIGNAL(readyRead()), this, SLOT(data_received()));\n    connect(socket, SIGNAL(connected()), this, SLOT(connected()));\n}\n</code></pre>\n\n<p>The server receives data from the client without problem. <strong>It is the client that does not receive the information correctly.</strong> </p>\n\n<pre><code>void Window::data_received(){\n\n    QRegExp id_re(\"id\\\\s(\\\\d)\");\n\n    while (socket-&gt;canReadLine()){\n        /* Read line in socket (UTF-8 for accents)*/\n        ui-&gt;log-&gt;append(\"listening...\");\n        QString line = QString::fromUtf8(socket-&gt;readLine()).trimmed();\n\n        /* Player ID returned by server */\n        if ( id_re.indexIn(line) != -1){\n            //Test\n            ui-&gt;log-&gt;append(\"The ID arrived\");\n            //Extract ID\n            QString id_str = id_re.cap(1);\n            //Put in data structure of player\n            player-&gt;set_player_id(id_str);\n            //Display message\n            ui-&gt;log-&gt;append(QString(\"You are Player \"+ player-&gt;get_player_id()));\n\n        }\n    }\n}\n</code></pre>\n\n<p><code>get_player_id()</code> returns a <code>QString</code></p>\n\n<p>I targeted my problem down, and it seems that canReadLine() is never returning true, therefore I can never read it. What could cause that?</p>\n"},{"tags":["qt","phone","qml","blackberry-10","blackberry-cascades"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13241050,"title":"How to show a phonepad with a certain number in Blackberry Cascades","body":"<p>I am using Blackberry Cascades 10 Beta 3 SDK with C++ QT &amp; QML with the Blackberry 10 Dev Alpha Simulator and the QNX Momentics IDE, and I'm trying to implement the ability to click on a button with a phone number from QML and have it bring up a dialpad with that number in from at which point the user should be able to press call and it would call that number.  The following is the sort of thing I have done:</p>\n\n<pre><code>Button {\n    text: \"555-555-5555\" //just a sample number - I don't actually use this number\n    onClicked: Foo.phone(text) //I don't actually use the class name Foo\n}\n</code></pre>\n\n<p>and I have:\n    ...</p>\n\n<pre><code>class Foo : public QObject {\n    Q_OBJECT\npublic:\n    ...\n    Q_INVOKABLE void phone(QString number);\n}\n...\n</code></pre>\n\n<p>and I have:</p>\n\n<pre><code>void Foo::phone(QString number) {\n    bb::system::phone::Phone phone;\n    phone.requestDialpad(number, bb::system::phone::LineType::Cellular);\n}\n</code></pre>\n\n<p>But when I click on the button it doesn't do anything - I need the dialpad to show up - does anyone have any idea what I'm doing wrong?</p>\n"},{"tags":["c++","qt","qwebview","qwebpage","qtnetwork"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13243275,"title":"QWebView,How to determine whether this link is a new window?","body":"<p>code </p>\n\n<pre><code>  News::News(QWidget *parent) :\n   QDialog(parent),\n  ui(new Ui::News)\n  {\n   ui-&gt;setupUi(this);\n   ui-&gt;webView-&gt;page()-&gt;setLinkDelegationPolicy(QWebPage::DelegateAllLinks);\n   connect(ui-&gt;webView,SIGNAL(linkClicked(QUrl)),this,SLOT(openUrl(QUrl)));\n  }\n\nvoid News::openUrl(QUrl url){\n  if(the new window)\n        QDesktopServices::openUrl(url);\n  }else{\n    ui-&gt;webView-&gt;load(url);\n  }\n}\n</code></pre>\n\n<p>How do I judge instead of a new window link function openUrl?\nHow I'm going to write this code、?\nthanks!!!</p>\n"},{"tags":["css","qt","stylesheet","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13243510,"title":"Styling QTabWidget","body":"<p>I have a QTabWidget with a background gradient and two problems.</p>\n\n<ol>\n<li><p>How dow I remove the anoying outline around the active tab (see image)? I tried \"outline: none\" like with push buttons but it does not seem to have an effect.</p></li>\n<li><p>How do I style disabled tabs? I tried :disabled and :!enabled but both do not work. <strong>// Edit: This works with :disabled but not with all properties. Seems like I tried the only not supported.</strong></p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/tNpp7.png\" alt=\"Anoying focus\"></p>\n\n<p>The qt documentation was no help. Google either. :-(</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13243651,"title":"Create function that returns a QList<int>","body":"<p>Coming from a C# background, I have some habbits that need to be changed.  I'm tring to return a QList&lt;int&gt; from a function.  The compiler error message is conversion from 'QList*' to non-scalar type 'QList' requested.  Here is the function:</p>\n\n<pre><code>QList&lt;int&gt; toCategories(QVariant qv)\n{\n    QList&lt;int&gt;categories = new QList&lt;int&gt;();\n    if(qv.isValid() &amp;&amp; qv.type() == QVariant::List)\n    {\n        foreach(QVariant category,qv.toList()){\n            categories.append(category.toInt() );\n        }\n    }\n    return categories;\n}\n</code></pre>\n\n<p>I'd appreciate a link to the documentation or a function using the correct syntax</p>\n"},{"tags":["c++","qt","malloc","jpeg","dicom"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":68,"score":2,"question_id":13163070,"title":"IImebra code in C++ app with QT gives malloc: *** error for object xxxxxx: pointer being freed was not allocated","body":"<p>I'm trying to convert dicom .dcm file to .jpeg using Imebra in C++ app using QT Creator as dev environment. </p>\n\n<p>I've downloaded Imebra and was able to run QT project example for Dicom2Jpeg conversion successfully. But when I tried to copy same code to my C++ app it failed to run with following error msg:</p>\n\n<p>malloc: <strong>* error for object xxxxxx: pointer being freed was not allocated\n *</strong> set a breakpoint in malloc_error_break to debug</p>\n\n<p>I have followed steps on adding Imebra files to my project as it was shown on Imebra site. Also used their qt project as example. My main.cpp open dicom file, then loads it to dataset, then calls my dialog window. It crashes on loading dataset.</p>\n\n<pre><code>#include \"QApplication.h\"\n#include \"QHBoxLayout.h\"\n#include \"mydialog.h\"\n#include \"iostream.h\"\n\ninclude \"library/imebra/include/imebra.h\"\nint main( int argc, char ** argv ){\n\n    using namespace puntoexe;\n    ptr&lt;stream&gt; readStream(new stream);\n    readStream-&gt;openFile(\"/pathToDcmFile/test.dcm\",std::ios_base::in);\n\n    ptr&lt;streamReader&gt; reader(new streamReader(readStream));\n\n    ptr&lt;imebra::codecs::codecFactory&gt;  cFactory(imebra::codecs::codecFactory::getCodecFactory());\n    ptr&lt;imebra::dataSet&gt; tdataSet;\n    tdataSet=cFactory-&gt;load(reader,2048);\n\n    Q_INIT_RESOURCE(images);\n\n    QApplication a( argc, argv );\n\n    MyDialog md;\n    md.show();\n\n    return a.exec();\n</code></pre>\n\n<p>}</p>\n\n<p>Deeper debugging showed that source of error is in JpegCodec.cpp file readStream() function when checking JpegSignature to see if it's in wrong format with resulting internal PUNTOEXE error \"detected a wrong format\".</p>\n\n<p>Interesting thing is that while running same test dcm file using given dicom2jpeg example (which has exact same code of opening file and loading it) gives no errors and converts to jpeg successfully. So I know it's not the file issue, but the way imebra code is integrated into my C++ app.</p>\n\n<p>My dev environment: macbook pro with Lion OS, QT Creator, QT project, C++ code, ITK library added, Imebra files are completely integrated as part of the Qt project.</p>\n\n<p>So, my question is how do I work/link/reference/call Imebra functionality in QT project? Am I forgetting to link something, or some object is not instantiated/deleted on time? </p>\n\n<p>Any ideas are highly appreciated,</p>\n\n<p>Evushka </p>\n\n<p>Solution: As it was suggested I have changed codec factory to dicm factory and it fixed the problem. My new code is given below.</p>\n\n<pre><code>imebra::codecs::dicomCodec* pTmp = new imebra::codecs::dicomCodec();\n\nptr&lt;stream&gt; readStream(new stream);\nreadStream-&gt;openFile(argv[0],std::ios_base::in);\n\nptr&lt;streamReader&gt; reader(new streamReader(readStream));\n\nptr&lt;imebra::dataSet&gt; tdataSet;\ntdataSet=pTmp-&gt;read(reader,2048);\n\ndelete pTmp;\n</code></pre>\n"},{"tags":["c++","qt","gps"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":6956785,"title":"Error Including QGeoPositionInfo","body":"<p>I am new to Qt ,</p>\n\n<p>I have been given this task where i should use GPS</p>\n\n<p>so to use to GPS ,i only did this one line of code</p>\n\n<pre><code> #include &lt;QGeoPositionInfo&gt;\n</code></pre>\n\n<p>and the following error appeared </p>\n\n<pre><code>In file included from ..\\Project\\mainwindow.cpp:3:\n..\\Project\\/form.h:7:28: error: QGeoPositionInfo: No such file or directory\n</code></pre>\n\n<p>how can i solve this issue ? how can i get this file ? </p>\n\n<p>please note that i have tried re installing Qt Creator... </p>\n\n<p><strong>Please be specific i would really appreciate that...</strong></p>\n"},{"tags":["html","qt","qtextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13241362,"title":"Qt QTextEdit Qt4.2 Valid HTML String","body":"<p>I am trying to generate the correct HTML to render to a QTextEdit Using Qt 4.2 on RHEL 5.3. \nSo far my algorithm generates the following html. I am not an expert web developer, but to me this string seems valid.</p>\n\n<pre><code>319:14:27:22:   &lt;font color=\"rgb(255,0,0)\" bgcolor=\"rgb(255,0,0)\"&gt;Message&lt;/font&gt;&lt;br&gt;\n</code></pre>\n\n<p>What needs to change to get the colours to render. Currently it just renders as black text on a white background. </p>\n"},{"tags":["python","qt","pyqt","pyside","pyqtgraph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13240066,"title":"Graph (pyqtgraph) is not getting plotted inside QML generated window","body":"<p>I am trying to plot a graph inside a qml generated window. Since i need to use QML for GUI ( client requirement). I manage to get the graph window inside QML, but its plotting nothing. I dont know my code is correct or not, please suggest, point me in the right direction.</p>\n\n<p>main.py:</p>\n\n<pre><code>#! /usr/bin/python\n\nimport os\nimport sys\nfrom PySide import QtGui \nfrom PySide import QtCore\nfrom PySide import QtDeclarative\nimport numpy as np\nimport pyqtgraph as pg\n\nclass Graph (QtDeclarative.QDeclarativeItem):\n    def __init__(self, parent = None):\n        QtDeclarative.QDeclarativeItem.__init__(self, parent)\n\n        #----------- self.setFlag(QtGui.QGraphicsItem.ItemHasNoContents, False )\n\n\n        self.dataPlot = np.cos(np.linspace(0, 5 *np.pi , 1000))\n\n        self.graph = pg.PlotItem()\n        self.graph.plot( self.dataPlot, pen=(0,255,0))\n        self.graph.showGrid(x=True, y=True)\n\n\n        self.view = pg.GraphicsView()\n        self.view.setCentralItem(self.graph)\n        #-------------------------------------- self.setCentralWidget(self.view)\n\n        mProxy = QtGui.QGraphicsProxyWidget(self)\n        mProxy.setWidget(self.view)\n\n\nif __name__ == '__main__':    \n    app = QtGui.QApplication(sys.argv)\n\n    QtDeclarative.qmlRegisterType(Graph, 'myPyQtGraph', 1, 0, 'PyQtGraph')\n\n    view = QtDeclarative.QDeclarativeView()    \n    view.setSource(QtCore.QUrl('main.qml'))\n    view.setResizeMode(QtDeclarative.QDeclarativeView.SizeRootObjectToView)\n\n    rootObject = view.rootObject() \n    view.connect(view.engine() , QtCore.SIGNAL('quit()') ,app.instance( ) , QtCore.SLOT('quit()') )\n\n    view.show()    \n    sys.exit(app.exec_())\n</code></pre>\n\n<p>main.qml:</p>\n\n<pre><code>import QtQuick 1.1\nimport myPyQtGraph 1.0\n\nRectangle {\n    id : page\n    width: 900\n    height: 400\n    color:  \"#343434\"\n\n    PyQtGraph {\n        id: angleGraphID\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 50\n            leftMargin: 50\n        }\n        width: 800\n        height: 300\n        //color: \"#f5deb3\"\n    }\n\n    Text {\n        id: text_Heading\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 20\n            leftMargin: 50\n        }\n        text: qsTr(\"PyqtGraph QML Test\")\n        font.pixelSize: 12\n    }\n}\n</code></pre>\n\n<p>this is what i am getting right now:\n<img src=\"http://i.stack.imgur.com/xDqoi.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":179,"score":3,"question_id":5831313,"title":"size[policy] of nested QMainWindows","body":"<p>I've got a <code>QMainWindow</code> in a <code>QTabWidget</code> in a[n otherwise empty] <code>QVBoxLayout</code> in a <code>QWidget</code> in a <code>QTabWidget</code> in a <code>QMainWindow</code>.</p>\n\n<p>But the size of the internal <code>QMainWindow</code> is being reported as 640x480 (the size of the external <code>QMainWindow</code>) when the <code>sizeHint</code> is reported as 70x26 (smaller than the widgets inside the internal <code>QMainWindow</code>). It looks like 70x26 to me.</p>\n\n<p>How can I adjust the size to stretch to fill the internal <code>QTabWidget</code>/<code>QVBoxLayout</code>/<code>QWidget</code>?</p>\n\n<p>The internal <code>QMainWindow</code> has a <code>QTextEdit</code> for the central widget and a <code>QComboBox</code> in a <code>QDockWidget</code> on the bottom docking area. The external <code>QTabWidget</code> has other <code>QWidget</code>s which work fine.</p>\n"},{"tags":["c++","xml","qt","design-patterns","gui"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13236294,"title":"Design approaches to read/write different version of same config file","body":"<p>In our project we got an application that uses an external configuration file (say server.xml). Now we need to design a setup tool GUI in C++/QT to read/edit such configuration file and it should be able to handle all the different versions of such file. The user will choose the file version and then proceed with the editing. From one version to another doesn't change too much, maybe there is a new xml tag, a tag with a different name or in a different position.  </p>\n\n<p>What's the best design approach to do so? We are planning to go for a standard MVC design pattern but how to deal with all the different configuration versions without rewriting the same GUI code again n again?</p>\n\n<p>Here the sample config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Server_configuration ver=\"11\"&gt;\n  &lt;core&gt;\n    &lt;enable-tms&gt;true&lt;/enable-tms&gt;\n    &lt;enable-gui-messages&gt;true&lt;/enable-gui-messages&gt;\n    &lt;waiting-for-config-timeout&gt;10000&lt;/waiting-for-config-timeout&gt;\n    &lt;remoting&gt;\n      &lt;port&gt;50000&lt;/port&gt;\n      &lt;join-timeout&gt;5000&lt;/join-timeout&gt;\n      &lt;ismultithread&gt;true&lt;/ismultithread&gt;\n      &lt;maxconcurrentrequests&gt;20&lt;/maxconcurrentrequests&gt;\n    &lt;/remoting&gt;\n  &lt;/core&gt;\n  &lt;content&gt;\n    &lt;ftp&gt;\n      &lt;ip&gt;192.168.0.227&lt;/ip&gt;\n      &lt;port&gt;21&lt;/port&gt;\n      &lt;userid&gt;******&lt;/userid&gt;\n      &lt;passwd&gt;******&lt;/passwd&gt;\n    &lt;/ftp&gt;\n    &lt;library&gt;\n      &lt;ip&gt;192.168.0.227&lt;/ip&gt;\n      &lt;port&gt;50023&lt;/port&gt;\n    &lt;/library&gt;\n    &lt;local&gt;\n      &lt;asset-root&gt;/assetroot&lt;/asset-root&gt;\n      &lt;kdm-expiration-warning&gt;172800000&lt;/kdm-expiration-warning&gt;\n    &lt;/local&gt;\n    &lt;hula-store-daemon&gt;\n      &lt;ip&gt;127.0.0.1&lt;/ip&gt;\n      &lt;port&gt;5567&lt;/port&gt;\n    &lt;/hula-store-daemon&gt;\n  &lt;/content&gt;\n&lt;/Server_configuration&gt;\n</code></pre>\n"},{"tags":["javascript","c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":7400787,"title":"Qt and JavaScript mapping data","body":"<p>What is the correct way to map Qt data types in JavaScript. I pass a Qt object to JavaScript that I load in the QWebView control. It's not a problem to call an object method from JavaScript if there's no parameters buf if a method has parameters the code doesn't work. For example I have the structure Location:</p>\n\n<pre><code>struct Location\n{\n    QString country;\n    QString city;\n};\n</code></pre>\n\n<p>I have the method:</p>\n\n<pre><code>void UpdateLocation(const Location&amp; location);\n</code></pre>\n\n<p>How to call this method from JavaScript?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":338,"score":2,"question_id":12381205,"title":"Qt 4.8.2 With GCC 4.7.0.1 Keeps Crashing","body":"<p>I've downloaded Qt 4.8.2 library, Qt Creator 2.5.2, and manually installed MingW with w32api version 3.13 and GCC/g++ version 4.7.0.1. My OS is Windows 7 Ultimate x64.</p>\n\n<p>I can create a sample \"Plain C++ project\" in Qt Creator; compile and run that console application using g++ without any issue.</p>\n\n<p>But I cannot <strong>run</strong> a Qt application. I used Qt Creator, created a dummy Qt Application using Creator's \"Qt Gui Application\" template. The project can be compiled successfully, without any error or warning. But the binary keeps crashing when I try to run (both from <code>Qt Creator</code> and <code>Windows Explorer</code>) it. Both debug and release builds crash. It crashes even before showing main window.</p>\n\n<p>MingW is installed in <code>C:\\MingW</code> and <code>C:\\MingW\\bin</code> is in <code>PATH</code>. Qt is installed in <code>C:\\Qt\\4.8.2</code> and <code>C:\\Qt\\4.8.2\\bin</code> is in <code>PATH</code>.</p>\n\n<p>I analyzed generated exe of the Qt Gui Application output with Dependency Walker and found that it found all required DLLs:</p>\n\n<ul>\n<li>c:\\windows\\system32\\KERNEL32.DLL</li>\n<li>c:\\windows\\system32\\MSVCRT.DLL</li>\n<li>c:\\mingw\\bin\\LIBGCC_S_DW2-1.DLL</li>\n<li>c:\\mingw\\bin\\LIBSTDC++-6.DLL</li>\n<li>c:\\qt\\4.8.2\\bin\\QTCORE4.DLL</li>\n<li>c:\\qt\\4.8.2\\bin\\QTGUI4.DLL</li>\n</ul>\n\n<p>So, what's causing the runtime crash?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I also tried Qt's example projects: 2dpainting and addressbook - both crashed when they were launched.</p>\n"},{"tags":["c++","qt","plot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":66,"score":-1,"question_id":13239482,"title":"Scientific libraries for for Qt in C++ easy to install and use?","body":"<p>Need to use scientific libraries for calculus and 2D and 3D plotting capabilities to use with a C++ program I'm developing within Qt.\nI have found PLplot, Mathgl, qwtplot3d and boost.</p>\n\n<p>Unfortunately I have failed installing it to run in my win7 machine.\nI find the installation instructions patchy to say the least in all of them.\nIdeally would be fantastic if was possible to compile a Scilab with Qt this way all the numerical and plotting would be sorted out...</p>\n\n<p>Can someone help of how I can install one of the libraries mentioned above, or any other scientific plotting library that you may know of that you think is better?</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13239235,"title":"QNetworkRequest and QUrl encoding c++","body":"<p>Im trying to connect to gmail and consume the atom file.\nIm having problem with passwords that contain !#$%^&amp;* chars.</p>\n\n<pre><code>    pNetworkManager = new QNetworkAccessManager(this);\n\n    connect(pNetworkManager, SIGNAL(finished(QNetworkReply*)), \n            this, SLOT(result(QNetworkReply*)));\n\n    Settings settings;\n    settings.load();\n    QString url;\n\n    url.append(\"https://\");\n    url.append(settings.getUserName());\n    url.append(\":\");\n    url.append(QUrl::toPercentEncoding(settings.getPassword()));\n    url.append(\"@mail.google.com/mail/feed/atom\");\n\n\n    pNetworkManager-&gt;get(QNetworkRequest(QUrl(url.toUtf8())));\n</code></pre>\n\n<p>I get reply \"Protocol \"\" is unknown\"<br>\nQt 4.8</p>\n\n<p>How is this done properly </p>\n"},{"tags":["c++","qt","qtoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13223845,"title":"How to set a tool bar between two others","body":"<p>I have multiple tool bars that are all next too each other. I want the toolbar that is first to be third or before another. I can not figure out how to make it happen. Could anyone help?</p>\n\n<p>here is what is in my .cpp</p>\n\n<pre><code>&gt;     QPixmap pix(16, 16);\n&gt;     pix.fill(Qt::black);\n&gt;     fntColorAct = new QAction(pix, tr(\"&amp;Color\"), this);\n&gt;     connect(fntColorAct, SIGNAL(triggered()), this, SLOT(fontColor()));\n&gt; \n&gt;     fontToolBar = new QToolBar(this);\n&gt;     fontToolBar-&gt;setAllowedAreas(Qt::TopToolBarArea | Qt::BottomToolBarArea);\n&gt;     addToolBar(fontToolBar);\n&gt;     fontToolBar-&gt;setWindowTitle(tr(\"&amp;Format Actions\"));\n&gt;     addToolBarBreak(Qt::TopToolBarArea);\n&gt;     addToolBar(fontToolBar);\n&gt; \n&gt;     cmbStyle = new QComboBox(fontToolBar);\n&gt;     fontToolBar-&gt;addWidget(cmbStyle);\n&gt;     cmbStyle-&gt;addItem(\"Standard\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Disc)\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Circle)\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Square)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Decimal)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Alpha lower)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Alpha upper)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Roman lower)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Roman upper)\");\n&gt;     connect(cmbStyle, SIGNAL(activated(int)), this, SLOT(fontStyle(int)));\n&gt; \n&gt;     fntComboBox = new QFontComboBox(fontToolBar);\n&gt;     fontToolBar-&gt;addWidget(fntComboBox);\n&gt;     connect(fntComboBox, SIGNAL(activated(QString)), this, SLOT(fontFamily(QString)));\n&gt; \n&gt;     cmbSize = new QComboBox(fontToolBar);\n&gt;     cmbSize-&gt;setObjectName(\"cmbSize\");\n&gt;     fontToolBar-&gt;addWidget(cmbSize);\n&gt;     cmbSize-&gt;setEditable(true);\n&gt; \n&gt;     QFontDatabase database;\n&gt;     foreach(int size, database.standardSizes())\n&gt;         cmbSize-&gt;addItem(QString::number(size));\n&gt; \n&gt;     connect(cmbSize, SIGNAL(activated(QString)),\n&gt;             this, SLOT(fontSize(QString)));\n&gt;     cmbSize-&gt;setCurrentIndex(cmbSize-&gt;findText(QString::number(QApplication::font().pointSize())));\n&gt; }\n&gt; \n&gt; void MainWindow::createMenus() {\n&gt;     fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n&gt;     fileMenu-&gt;addAction(newAct);\n&gt;     fileMenu-&gt;addAction(openAct);\n&gt;     fileMenu-&gt;addAction(saveAct);\n&gt;     fileMenu-&gt;addAction(saveAsAct);\n&gt;     fileMenu-&gt;addSeparator();\n&gt;     fileMenu-&gt;addAction(printAct);\n&gt;     fileMenu-&gt;addAction(printPreviewAct);\n&gt;     fileMenu-&gt;addSeparator();\n&gt;     fileMenu-&gt;addAction(exitAct);\n&gt; \n&gt;     editMenu = menuBar()-&gt;addMenu(tr(\"&amp;Edit\"));\n&gt;     editMenu-&gt;addAction(cutAct);\n&gt;     editMenu-&gt;addAction(copyAct);\n&gt;     editMenu-&gt;addAction(pasteAct);\n&gt;     editMenu-&gt;addSeparator();\n&gt;     editMenu-&gt;addAction(undoAct);\n&gt;     editMenu-&gt;addAction(redoAct);\n&gt; \n&gt;     formatMenu = menuBar()-&gt;addMenu(tr(\"Format\"));\n&gt;     formatMenu-&gt;addAction(boldAct);\n&gt;     formatMenu-&gt;addAction(underlineAct);\n&gt;     formatMenu-&gt;addAction(italicsAct);\n&gt;     formatMenu-&gt;addSeparator()-&gt;setText(tr(\"Alignment\"));\n&gt;     formatMenu-&gt;addAction(alignLeftAct);\n&gt;     formatMenu-&gt;addAction(alignCenterAct);\n&gt;     formatMenu-&gt;addAction(alignRightAct);\n&gt;     formatMenu-&gt;addAction(justifyAct);\n&gt;     formatMenu-&gt;addAction(fntColorAct);\n&gt; \n&gt;     menuBar()-&gt;addSeparator();\n&gt;     helpMenu = menuBar()-&gt;addMenu(tr(\"&amp;Help\"));\n&gt;     helpMenu-&gt;addAction(aboutAct);\n&gt; \n&gt;     menuBar()-&gt;addSeparator();\n&gt;     settingsMenu = menuBar()-&gt;addMenu(QIcon(\":/icons/cog.png\"), tr(\"&amp;Settings\")); }\n&gt; \n&gt; void MainWindow::createToolBars() {\n&gt;     fileToolBar = addToolBar(tr(\"File\"));\n&gt;     fileToolBar-&gt;addAction(newAct);\n&gt;     fileToolBar-&gt;addAction(openAct);\n&gt;     fileToolBar-&gt;addAction(saveAct);\n&gt; \n&gt;     editToolBar = addToolBar(tr(\"Edit\"));\n&gt;     editToolBar-&gt;addAction(cutAct);\n&gt;     editToolBar-&gt;addAction(copyAct);\n&gt;     editToolBar-&gt;addAction(pasteAct);\n&gt;     editToolBar-&gt;addAction(undoAct);\n&gt;     editToolBar-&gt;addAction(redoAct);\n&gt; \n&gt;     formatToolBar = addToolBar(tr(\"Format\"));\n&gt;     formatToolBar-&gt;addAction(boldAct);\n&gt;     formatToolBar-&gt;addAction(underlineAct);\n&gt;     formatToolBar-&gt;addAction(italicsAct);\n&gt;     formatToolBar-&gt;addAction(alignLeftAct);\n&gt;     formatToolBar-&gt;addAction(alignCenterAct);\n&gt;     formatToolBar-&gt;addAction(alignRightAct);\n&gt;     formatToolBar-&gt;addAction(justifyAct);\n&gt;     formatToolBar-&gt;addAction(fntColorAct); }\n</code></pre>\n"},{"tags":["qt","glibc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13238931,"title":"`GLIBC_2.14' not found","body":"<p>I want to install a QT library that is needed by another program in a Linux machine that I do not have a root access to. Instead I installed it on my machine which is an Ubuntu 12.04 which I have a root access. I then take the installed version to this other machine and start to install my new program that requires the Qt Libraries.</p>\n\n<p>But I came across an error:</p>\n\n<p>/home/test/qt/bin/qmake: /lib/libc.so.6: version `GLIBC_2.14' not found (required by /home/test/local/qt/bin/qmake)</p>\n\n<p>The \"/lib/libc.so.6\" is indeed exists in the new machine that I can not have access to.</p>\n\n<p>How can I able to solve this hurdle ?</p>\n\n<p>Kind regards\nYacob </p>\n"},{"tags":["c++","qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13238130,"title":"How to draw image using QGraphicsItem?","body":"<p>I need to draw an Image and a couple of lines, using my sub-classed <code>QGraphicsItem</code></p>\n\n<p>Here is my code(header file)-</p>\n\n<pre><code>#ifndef LED_H\n#define LED_H\n\n#include &lt;QtGui&gt;\n#include &lt;QGraphicsItem&gt;\n\nclass LED : public QGraphicsItem\n{\npublic:\n    explicit LED();\n\n    QRectF boundingRect() const;\n\n    void paint(QPainter *painter, const QStyleOptionGraphicsItem *option,\n               QWidget *widget);\n\nprivate:\n    static QPixmap *led_on; //&lt;--Problem\n};\n\n#endif // LED_H\n</code></pre>\n\n<p>Note- <code>LED</code> will be added to <code>QGraphicsScene</code></p>\n\n<p>Now I don't know how to approach it(drawing image using QGraphicsItem), but decided to use a <code>static QPixmap</code>, which shall be shared by all the instances of <code>LED</code> class.</p>\n\n<p>And in cpp file added this-></p>\n\n<pre><code>QPixmap* LED::led_on = new QPixmap(\":/path\");\n</code></pre>\n\n<p>But I am getting this error on build and run-</p>\n\n<pre><code>QPixmap: Cannot create a QPixmap when no GUI is being used\nQPixmap: Must construct a QApplication before a QPaintDevice\nThe program has unexpectedly finished.\n</code></pre>\n\n<p>Please tell me how to do it. (I am new to Qt)\nShould I use <code>QImage</code> or something else instead?</p>\n"},{"tags":["c++","mvc","qt","qtreeview","qtreewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":245,"score":0,"question_id":9668983,"title":"QTreeView vs setIndexWidget","body":"<p>I am using QStandardItemModel with QStandardItem's.</p>\n\n<p>I don't want to write my own model and any delegates.</p>\n\n<p>I just want to have tree of checkboxes with QComboBox'es in second column...</p>\n\n<pre><code>m_model-&gt;setColumnCount(2);\nfor (int i = 0; i &lt; sectionCount; i++)\n{\n    QStandardItem * section = new QStandardItem(tr(\"Section %1\").arg(i+1));\n    section-&gt;setCheckable(true);\n    section-&gt;setCheckState(Qt::Checked);\n\n    for (int j = 0; j &lt; itemsCount; j++)\n    {\n        QStandardItem * item = new QStandardItem(tr(\"Item %1\").arg(j+1));\n        item-&gt;setCheckable(true);\n        item-&gt;setCheckState(Qt::Checked);\n\n        QStandardItem * item2 = new QStandardItem(\"xxx\");\n\n        section-&gt;appendRow(QList&lt;QStandardItem*&gt;() &lt;&lt; item &lt;&lt; item2);\n\n        QComboBox * combo = new QComboBox();\n        QModelIndex index = m_model-&gt;index(j, 1, );\n\n        // HERE i have index = {-1;-1}\n\n        ui-&gt;treeView_options-&gt;setIndexWidget(index, combo);\n    }\n    m_model-&gt;appendRow(section);\n}\n</code></pre>\n\n<p>Is it possible to use setIndexWidget this way?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have no QComboBox in second column... Why?</p>\n"},{"tags":["qt","slots"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13237169,"title":"why do i get an error when I add a slot to my code?","body":"<p>Why when I add <code>slots</code> to my code do I get an error?</p>\n\n<p>Error:\nsymbols not found  for architecture x86_64\ncollect2: id returned 1 exit status</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:\nexplicit MainWindow(QWidget *parent = 0);\n~MainWindow();\n\nvoid timmerFired();\n\npublic slots:\nvoid timmerSlot();\n\nprivate:\nUi::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>when adding <code>public slots:</code> I get the error</p>\n\n<p><img src=\"http://i.stack.imgur.com/92gYo.png\" alt=\"origional code\">\n<img src=\"http://i.stack.imgur.com/zBoWQ.png\" alt=\"after adding slots\"></p>\n"},{"tags":["c++","qt","data-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13237083,"title":"Qt: changing user variable indicates the change of control's state","body":"<p>Is it possible to simply indicate the change of some Qt control's property by changing value of user defined variable (perform an action on changing value). Eg. I declared <code>int a</code> which is frequently used by multiple functions. Now I need to construct a relation: <code>if ( a == 0 ) then</code> my control is inactive <code>else</code> my control is active. (I was inspired by C# data bindings.)</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13237349,"title":"Which video format to use for QT Phonon app on Win/OSX?","body":"<p>I am writing an application that must display short instructional video snippets with QT/Phonon on the Windows (XP and up) and Mac (Snow Leopard and up) platforms. Which video format should I use? I'm not a video guy, so I'm not sure which formats are supported by both Quicktime and the direct x backends.</p>\n\n<p>thx,\nA</p>\n"},{"tags":["c++","qt","delete","valgrind"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13235062,"title":"Qt delete works with Valgrind but not normal execution","body":"<p>I'm checking for memory leaks in my Qt program using QtCreator and Valgrind. I am deleting a few entries in a QHash in my destructor like this:</p>\n\n<pre><code>QHash&lt;QString, QVariant*&gt; m_Hash;\n\n/**\n * @brief\n * Destruct a Foo Class instance\n */\nFoo ::~Foo ()\n{\n\n    // Do Cleanup here\n\n    // Delete hash leftovers\n    foreach( QString key, m_Hash.keys() )\n    {\n\n        qDebug() &lt;&lt; \"Deleting an entry..\";\n\n        // Delete the hash item\n        delete m_Hash.take(key);\n\n    }\n\n}\n</code></pre>\n\n<p>If I debug with Valgrind this code is fine and deletes the contents when the destructor is called:</p>\n\n<pre><code>&gt;&gt; Deleting an entry.. \n&gt;&gt; Deleting an entry.. \n</code></pre>\n\n<p>If I launch with GDB within QtCreator, launch without GDB from QtCreator, or just run my Qt App from the command line I get Segmentation Faults!</p>\n\n<pre><code>Signal name : \nSIGSEGV\nSignal meaning : \nSegmentation fault\n</code></pre>\n\n<p>If I commend out the 'delete' line then I can run my app just fine using any method but I do leak memory.</p>\n\n<p>What gives? Does valgrind introduce some sort of delay that allows my destructor to work? How can I solve this?</p>\n"},{"tags":["flash","qt","webkit","qtwebkit","qwebview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":323,"score":2,"question_id":10353303,"title":"Is it possible to play Flash animations in a QWebView in a 64 bit build of Qt on Mac OS X?","body":"<p>Previously it wasn't possible to play Flash animations in a QWebView in a 64 bit build of Qt on Mac OS X because a 64 bit version of Adobe's Flash Player wasn't yet released.  See here:</p>\n\n<p><a href=\"http://qt-project.org/forums/viewthread/5338\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/5338</a></p>\n\n<p>Since then Adobe has released Flash Player 11 in 64 bit. However, Flash animations still don't seem to work, I just get but the \"blue lego block\"instead of flash animations in pages I load.  </p>\n\n<p>I'm doing a basic build of Qt (i.e. configure, make, make install) and testing with the browser demo app.  There are no console error messages about not finding the correct architecture in the Flash Player plugin and Browser.app appears to load the plugin from disk fine, i.e. \"info shared\" in GDB outputs:</p>\n\n<pre><code>164 Flash Player                 - 0x11bc8e000        dyld Y Y /Library/Internet Plug-Ins/Flash Player.plugin/Contents/MacOS/Flash Player at 0x11bc8e000 (offset 0x11bc8e000)\n165 FlashPlayer-10.6             - 0x11bc97000        dyld Y Y /Library/Internet Plug-Ins/Flash Player.plugin/Contents/PlugIns/FlashPlayer-10.6.plugin/Contents/MacOS/FlashPlayer-10.6 at 0x11bc97000 (offset 0x11bc97000)\n</code></pre>\n\n<p>Am I doing something wrong with configuring Qt?  Has anyone else gotten this working?  I'm using the Qt browser demo app, so I'm (fairly) certain that it is properly turning on plugin support for it's QWebView.  Everything works fine if use a 32 bit build of Qt instead.</p>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":395,"score":0,"question_id":7152597,"title":"Qt- unable to save jpeg files","body":"<p>I am trying to save images in Qt. I am able to save all the formats except jpeg. I have the following libraries under the plugins/imageformats folder. </p>\n\n<p>libqgif.so, \nlibqjpeg.so. </p>\n\n<p>Do I have to place them in a different folder to make this work? Is there any new libraries that I have to install to make this work. I work on linux platform and my application is supported on all linux platforms. \nSo do I have to install separate libraries for each platform?</p>\n\n<p>Thanks,</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":640,"score":4,"question_id":3748844,"title":"Qt and Jpeg plugin problem","body":"<p>When I try to save pixmap in jpg format then I get an error in console QJpegHandler: unable to write image of format 7 and the result image is corrupt.</p>\n\n<p>How to fix this problem?</p>\n\n<p>Qt 4.6.2 on windows mobile. On symbian it works fine without any problems.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","gui","application"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13235747,"title":"Qt Creator don't have \"Qt Gui Application\" to choose when creating new project","body":"<p>After installing Qt Creator, from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> - \"Qt Creator 2.5.2 for Windows (31 MB)\" when I choose File->New File [...]</p>\n\n<p><a href=\"http://i.imgur.com/iMw8u.png\" rel=\"nofollow\">http://i.imgur.com/iMw8u.png</a></p>\n\n<p>It's probably stupid question, but don't now why it is so.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13235342,"title":"Setting QWidget to maximize within parent in Qt Creator/Designer?","body":"<p>I have dragged and dropped a widget within a parent widget in the designer within qt creator.</p>\n\n<p>It has an arbitrary fixed position rectangle within its parent.</p>\n\n<p>I want to modify it such that it will conform to its parents dimensions.  That is it should be \"maximized\" within its parent.</p>\n\n<p>What button in the designer do I press to do this?</p>\n"},{"tags":["xcode","osx","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13233393,"title":"Installing QT libraries on OS X","body":"<p>I'm trying to install the QT 4.8.3 precompiled libraries downloaded from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> on my OS X 10.6 machine. Unfortunately the package doesn't seem to actually install any libraries (although it claims to do so in the readme)</p>\n\n<p>I've read loads of instructions of how to configure and build QT from source but these are precompiled, as in 'you don't have to compile them yourself'. So I must be missing something.</p>\n\n<p>Is there anyone out there who knows how to actually install QT on OS X\nso that it is possible to link against them -without- building the whole thing from source.</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13224435,"title":"Qt Editing Custom Data Structures","body":"<p>I am trying to utilize the Model/View architecture to accomplish my goal but I am unsure as to whether this is the proper tool to use for this task.</p>\n\n<p>I have a Material System I have been using, which I more recently have created an editor for using Qt, it uses a QGraphicsView to display items which are interconnected to form a final fragment shader code, this works extremely well however, I am having difficulties finding a way to display these custom data structures without hand coding widgets for each type of item.</p>\n\n<p>These custom data structures are simply classes with members which I wish to modify using an interface depending on each members type. For instance if the item is a 'Value' which in my material system represents a single variable, like a texture, I would like to be able to have 2 editable areas, one for the texture's path on disk, and one for the name of the variable. </p>\n\n<p>What is the best approach for interpreting custom structures like this and creating widgets based on their type, and then mapping those widgets to edit/display them. All the google searching I found led me to the Model/View architecture however it seems this is more made for things like SQL databases and XML files.</p>\n\n<pre><code>class Value\n{\n\nstd::string     m_strType, m_strName, m_strValue, m_strLocation;    \n};\n</code></pre>\n"},{"tags":["linux","qt","fonts"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":435,"score":1,"question_id":7296118,"title":"qtconfig fonts list on linux","body":"<p>I've built qt 4.7.4 on ubuntu and my application fonts look terrible. I used qtconfig to try and make the font more pleasing to the eye, but most look really bad (not aliased, and the list of fonts appears incomplete; e.g the clearlooks font in gnome uses \"sans\", but this doesn't appear in the list of available fonts in qtconfig).</p>\n\n<p>However, if I install qtconfig-qt4 using aptitude, the fonts rendered in that application look great and there are loads more fonts available. The settings however are not applied to my qt applications.</p>\n\n<p>I have no idea where qtconfig is picking up the font settings it makes available nor where it is saving the settings. The qt docs don't seem to help as far as I can see.</p>\n\n<p>If someone could help me with either setting up the qtconfig in my install (maybe I need to configure with some different options - I used -debug-and-release -fast -qt-libtiff -no-webkit ?) or getting my apps to pick up the qtconfig-qt4 settings I would be most grateful! I would prefer the former!</p>\n\n<p>Cheers!</p>\n"},{"tags":["c++","linux","qt","mono"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":77,"score":-6,"question_id":13233198,"title":"Mono in Ubuntu,good or bad","body":"<p>i'm trying writing server/client desktop application on Linux with GUI, it's good to write with MONO or C++/Qt (Urgent)</p>\n"},{"tags":["c++","qt","qml","touch-event","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13161796,"title":"Get target of cascades TouchEvent not working","body":"<p>I'm having problems trying to reach for the target of the Touch Event from BB10 cascades API. I have several containers, one below the other, and each one of them have the same Touch signal and slot assigned. Everything is being dynamically loaded from C++. So, in order to catch each touch event, I need to know which container triggered the event. I've read that I just need to use the TARGET property from the TouchEvent, but is not working and I dont know why. So I'm asking for help</p>\n\n<p>Here's my code:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    QmlDocument *qml = QmlDocument::create(\"asset:///customComponents/TableRow.qml\").parent(this);\n\n    Container *passivesRow = qml-&gt;createRootObject&lt;Container&gt;();\n    passivesRow-&gt;setProperty(\"labelTextOne\", \"Hello_\" + i);\n\n    bool res = QObject::connect(passivesRow,         \n        SIGNAL(touch(bb::cascades::TouchEvent*)), this,\n        SLOT(handleAccountTouch(bb::cascades::TouchEvent*)));\n\n    Q_ASSERT(res);\n    Q_UNUSED(res);\n\n    myCurrentPageContainer-&gt;add(passivesScroll);\n}\n\nvoid PosicionConsolidada::handleAccountTouch(bb::cascades::TouchEvent* event) {\n    if (event-&gt;touchType() == TouchType::Up) {\n        qDebug() &lt;&lt; \"event catched\";\n\n        VisualNode *p = event-&gt;target();\n        qDebug() &lt;&lt; \"object p: \" &lt;&lt; p-&gt;property(\"labelTextOne\"); //Print nothing\n    }\n}\n</code></pre>\n\n<p>Everything else is working just fine. My list of Containers is being created fine with their respective texts. When I click one of them, the event is being catched successfuly. I also tried to cast the VisualNode object to Container and it didn't work either. Please help!.</p>\n"},{"tags":["qt","qthread"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13231051,"title":"How to listen for a \"finished\" indication after moving the execution to another thread in Qt","body":"<p>I have a non-GUI operation which I intend to perform in a worker thread. \nAfter some googling, I figured out a simple way to achieve this <a href=\"http://qt-project.org/wiki/Threads_Events_QObjects\" rel=\"nofollow\">here</a></p>\n\n<p>In particular, the <code>QMetaObject::invokeMethod()</code> suits me fine. I have also taken care of not sub-classing QThread and instead subclassing QObject to create my worker object and then moving the thread affinity of this object to a newly created thread. (decribed in some detail <a href=\"http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow\">here</a></p>\n\n<p>Now my question:</p>\n\n<p>I will begin queuing methods from my main thread (I imagine this happens under the hood using a QEventLoop, even though I have not set one up and even though I have not re-implemented <code>QThread::run()</code> or called <code>QThread::exec()</code>) \nI need to find out when my worker has finished processing. In other words, I need to know when the QEventLoop is empty. I thought I could use the signal finished() for this. But it does not appear to work.\nCan someone throw some light on how to find out when a worker thread has finished execution?\nIf you need more info/code, just let me know. </p>\n\n<p>Class Plugin is a subclass of QObject</p>\n\n<pre><code>Plugin::Plugin()\n{\n    m_workerThread = new QThread(this);\n    m_workerThread-&gt;start(QThread::IdlePriority);\n    m_worker = new DataWorker(this);\n    connect(m_workerThread, SIGNAL(finished()), m_worker, SLOT(deleteLater()));    \n    m_worker-&gt;moveToThread(m_workerThread);\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Plugin::updateData()\n{\n....\nif( true == QMetaObject::invokeMethod(m_worker, \"RunFProcToGetData\", Qt::QueuedConnection, Q_ARG(QString, foo)))\n            {\n                qDebug() &lt;&lt; \"successfully invoked RunFProcToGetData\";\n            }\n            if( true == QMetaObject::invokeMethod(m_worker, \"updateDataIntoDB\", Qt::QueuedConnection, Q_ARG(QSqlDatabase, db),                                                Q_ARG(QString, foo)))\n            {\n                qDebug() &lt;&lt; \"successfully invoked updateDataIntoDB\";\n            }\n....\n}\n</code></pre>\n\n<p>In Dataworker class</p>\n\n<pre><code>Dataworker::RunProcToGetData(const QString &amp;foo)\n{\n// invoke a program to get the Data\n}\n\n\nDataworker::updateDataIntoDB(const QSqlDatabase&amp; db, const QString &amp;foo)\n{\n// Update database \n}\n</code></pre>\n\n<p>So when there are no more updateDataIntoDB and RunFProcToGetData left to process, I need a trigger</p>\n"},{"tags":["qt","qt4","qt-signals"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13232489,"title":"Sending an event when an QRect intersects another","body":"<p>I'm facing a problem about rectangle intersections. Notice I don't have any code written for this until now. I'm just thinking how to solve the problem.\nOk, here we go. In my SceneView, I have some <a href=\"http://doc.qt.digia.com/qt/qgraphicspixmapitem.html\" rel=\"nofollow\">QGraphicsPixmapItems</a> that will move continously in my scene. I want to trap all of them to move only in the limits of my scene.</p>\n\n<p>I had the idea to add a signal to my QGraphicsPixmapItems to notify my scene each time a move is occured. And in my scene I could have another signal to notify my items when one of them are out of bounds of my sceneRect. The problem with this approach is processing. If I emit a signal each time a move occurs this characterizes polling and this is not I want.</p>\n\n<p>I know about methods intersected() and intersects() of QRect. But again, calling each time a move occurs for me it's not a good idea.\nDo you know a good idea for this problem?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13231878,"title":"is Qt's event loop is FIFO?","body":"<p>When you send a signal into a thread that it is not the GUI thread (by instance from a socket thread), the signal is enqueued in the event loop of the receiver's thread.(I believe this, tell me if I am wrong)</p>\n\n<p>I am wondering if this queue is FIFO ? I can't find it with google..</p>\n"},{"tags":["c++","qt","thread-safety","progress-bar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13229308,"title":"QProgresdialog: busy waiting bar is not moving while function is executing","body":"<p>I'm trying to show a busy waiting bar when one function is executing, my problem is it stop moving once the function starts.</p>\n\n<pre><code>MyProgressDialog *progBar= new MyProgressDialog();\n    QProgressBar* bar = new QProgressBar(progBar);\n    bar-&gt;setRange(0, 0);\n    bar-&gt;setValue(0);\n\n    progBar-&gt;setBar(bar);\n    QString labeltext=QString(\"&lt;qt&gt; &lt;center&gt;&lt;big&gt;&lt;b&gt;%1&lt;/b&gt;&lt;/big&gt;&lt;/center&gt; &lt;br&gt;&lt;b&gt;%2&lt;/b&gt;&lt;br&gt; %3 &lt;br&gt;&lt;b&gt;%4&lt;/b&gt;&lt;br&gt; %5&lt;/qt&gt;\")\n                         .arg(progBar-&gt;labeltext)\n                         .arg(\"File in :\")\n                         .arg(FileI)\n                         .arg(\"File out :\")\n                         .arg(FileO);\n    progBar-&gt;label-&gt;setText(labeltext);    \n    progBar-&gt;setValue(10);\n    progBar-&gt;show();\n    progBar-&gt;setValue(20);\n    Sleep(500);\n    progBar-&gt;setValue(50);\n    Sleep(500);\n    MyFunction(FileI,FileO,mode,key);\n    Sleep(500);\n    progBar-&gt;setValue(80);\n    Sleep(500);\n    progBar-&gt;setValue(100);\n    progBar-&gt;close();\n    delete bar;\n    delete progBar;\n</code></pre>\n\n<p>I warpped my function with a sleep and set value in purpose to let it moving but in vain, when I remove them MyProgressdialog didn't show its contents, am I need to lunch my function in a separate thread ?\n I tried to use QFutureWatcher:</p>\n\n<pre><code> QFutureWatcher&lt;void&gt; futureWatcher;\n                       QFuture&lt;void&gt; f1 = run(\n                                              MyFunction,\n                                              filePath,\n                                              file.absolutePath()+\"/OUT_\"+fileN,\n                                              1,\n                                              key\n                                              );\n                       QObject::connect(&amp;futureWatcher, SIGNAL(finished()), progBar, SLOT(reset()));\n                       QObject::connect(progBar, SIGNAL(canceled()), &amp;futureWatcher, SLOT(cancel()));\n                       QObject::connect(&amp;futureWatcher, SIGNAL(progressRangeChanged(int,int)), progBar, SLOT(setRange(int,int)));\n                       QObject::connect(&amp;futureWatcher, SIGNAL(progressValueChanged(int)), progBar, SLOT(setValue(int)));\n\n                       // Start the computation.\n                       futureWatcher.setFuture(f1);\n                       // Display the dialog and start the event loop.\n                       progBar-&gt;exec();\n                       futureWatcher.waitForFinished();\n                       delete progBar;\n</code></pre>\n\n<p>It works fine and my bar is moving when I call MyFunction just one time (for one file) but the problem occurs when I call MyFunction more than one time (for many files successively): it works but I get the same OUT_file for all files treated, I think it is multithreading issue.</p>\n\n<p>Any idea please.\nThanks in advance.</p>\n\n<p><strong>EDIT:</strong>  <code>class MyProgressDialog</code></p>\n\n<pre><code>class MyProgressDialog: public QProgressDialog\n{\n  Q_OBJECT\n\n  public:\n\n    MyProgressDialog()\n      {\n\n      qDebug()&lt;&lt;\"MyProgressDialog constructor\";\n\n      label=new QLabel(this);\n\n      QPalette* palette = new QPalette();\n      palette-&gt;setColor(QPalette::Window,\"#F8F8FF\");\n      setPalette(*palette);\n\n      QFont* font = new QFont(\"Courier New\");\n          font-&gt;setItalic(true);\n          font-&gt;setPixelSize(15);\n      setFont(*font);\n      adjustSize();\n\n     setWindowIcon(QIcon(QApplication::applicationDirPath()+\"/icons/icon1.png\"));\n     setWindowFlags(Qt::WindowStaysOnTopHint);\n     setMinimumWidth(500);\n     setMinimumHeight(200);\n     labeltext=QString(\"Please wait until Encryption/Decryption was done\");\n     label-&gt;setText(labeltext);\n     label-&gt;adjustSize();\n     label-&gt;setWordWrap (true);\n     setLabel(label);\n\n     setRange(0,100);\n     setWindowTitle(\"MyFunction progress\");        \n     setModal(true);    \n\n    }\n    ~MyProgressDialog()\n    {\n        qDebug()&lt;&lt;\"MyProgressDialog destructor\";\n        delete label;\n    }\n\n\n\npublic:\n\n  int value;     \n  QString labeltext;\n  QLabel* label;\n\n};\n</code></pre>\n"},{"tags":["windows","qt","mingw","throw"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13231273,"title":"Exceptions cause crash (Qt SDK 1.2.1 - Qt4.8.1, MinGW, windows)","body":"<p>I have an ugly problem and would appreciate any help!! My program crashes on windows any time there an exception is thrown, e.g.:</p>\n\n<pre><code>try\n{\n   throw QString(\"lala\");\n}\ncatch(QString &amp;s)\n{\n  ...\n}\n</code></pre>\n\n<p>I’m using Qt 4.8.1 with MinGW in the QtCreator. I found quite a few discussions and tried</p>\n\n<ul>\n<li>rebuilding the source code with -exceptions</li>\n<li>adding QMAKE_CXXFLAGS += -fexceptions</li>\n</ul>\n\n<p>but no change. Windows tells me that the program crashed at the point where I throw the error. Under Linux everything works fine.</p>\n\n<p>Without wanting to discuss the pros and cons of using exceptions at all, I wonder if it’s a problem with Qt or MinGW and what I can do to get rid of the problem.</p>\n"},{"tags":["qt","signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13230660,"title":"emit and slots order execution","body":"<p>One thread do an <code>emit signal1();</code></p>\n\n<p>A second thread do an <code>emit signal2();</code> after that first thread has sent its signal ( there is the same mutex locked before emit call on both thread and I logged it, I can see in my log that first thread acquire lock before second thread)</p>\n\n<p>first thread and second thread or not the GUI thread.</p>\n\n<p>Is there any guarentees that signal1's slot will be call before signal2's slot ?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13228690,"title":"QT Docking with docking arrow best way to design","body":"<p>I am new to QT GUI design and am having difficulty in finding any third party library to accelerate my requirements , so it looks like we will have to implement this ourselves. What we need is a docking window setup similar to the Visual studios GUI with docking assists with docking arrow. </p>\n\n<p>My question is what is best strategy to get this done as quick as possible? are there any examples/ samples to start this thing off?  </p>\n"},{"tags":["c++","qt","polygon","intersection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13228045,"title":"Finding fully contained squares in a QPolygon?","body":"<p>I am looking for an approach to find a set of squares that are fully contained inside a QPolygon, which is not necessarily convex. My naive approach so far looks like this:</p>\n\n<pre><code>QRectF boundingRect(mShape-&gt;boundingRect());\nfor (int x = boundingRect.x() - 1; x &lt; boundingRect.width(); x++)\n{\n    for (int y = boundingRect.y() - 1; y &lt; boundingRect.height(); y++)\n    {\n        QRectF rect(x, y, 1, 1);\n        QPolygonF cell(rect);\n        QPolygonF intersection = mShape-&gt;polygon().intersected(cell);\n        if (!intersection.empty())\n        {\n            // Cell is fully contained\n        }\n    }\n}\n</code></pre>\n\n<p>When I visualise the result, it looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/5eLQw.png\" alt=\"Cells intersecting with the polygon are not left out\"></p>\n\n<p>This is almost what I want, except that the cells intersecting with the \"outline\" of the polygon shouldn't be there. Does anyone have a nice idea how I could construct a set of squares that are entirely \"inside\" the polygon?</p>\n"},{"tags":["qt","qt-creator","qpixmap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13226625,"title":"C++ Qt - QPixmap does not load with Qt Creator, but load when run via terminal","body":"<p>I am coding a GUI using Qt. When I run the application using <code>QtCreator</code>, my images do not load, and I receive the following error:</p>\n\n<pre><code>QPixmap::scaled: Pixmap is a null pixmap\n</code></pre>\n\n<p>Yet, when I run the application via command line, everything displays perfectly.</p>\n\n<p>Why so? And how can I get <code>QtCreator</code> to load my images properly?</p>\n\n<p>NB: Those images are barely 20ko each, so what I read about images being too big can't apply.</p>\n\n<p>EDIT: A typical filename is <code>'Images/Cards/Base/card01.jpg'</code>, where <code>Images</code> is a subdirectory of my project directory (the code being at the root)</p>\n"},{"tags":["c++","qt","types","protocol-buffers"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":1891,"score":7,"question_id":4252912,"title":"Qt + protobuf, types?","body":"<p>I would like to dip into Google's protocol buffers in Qt development, but I am having trouble figuring out how to incorporate them best.</p>\n\n<p>Ultimately, I want to send with <code>QUdpSocket</code> and <code>QTcpSocket</code> using protocol buffers.</p>\n\n<p>What is the best method for going between a protocol buffer <code>message</code> to sending the data over a socket (<code>QByteArray</code>) and then back again at the other side?</p>\n\n<p>Thanks!\n-J</p>\n"},{"tags":["c++","qt","qt4","qt-creator","cdb"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":3319,"score":5,"question_id":5318691,"title":"How to get Qt Creator to work with CDB?","body":"<p>I'm using <a href=\"http://en.wikipedia.org/wiki/Qt_Creator\" rel=\"nofollow\">Qt Creator</a> 2.01 32-bit with Qt 4.7.1 on Windows 7 64-bit.  I compiled my Qt library using Microsoft Visual C++ 2010.  Now I want to use <a href=\"http://msdn.microsoft.com/en-us/library/ff539051%28v=vs.85%29.aspx\" rel=\"nofollow\">CDB</a> with Qt Creator (or <a href=\"http://en.wikipedia.org/wiki/GNU_Debugger\" rel=\"nofollow\">GDB</a> if that works, or whatever is the best option).  What exactly do I need to do to be able to debug with CDB (so I can set break points and see symbols)?</p>\n\n<p>Please don't just point me to <a href=\"http://doc.qt.nokia.com/qtcreator-snapshot/creator-debugger-engines.html\" rel=\"nofollow\">http://doc.qt.nokia.com/qtcreator-snapshot/creator-debugger-engines.html</a> because I've been there and I'm still missing something.  I have Windows SDK installed with debugger tools (but I think it's the 64-bit version).  What I'm looking for is what options I need to set in Qt Creator to get this all setup.</p>\n\n<p><strong>EDIT:</strong>\nAlso I should clarify I think the debugger kind of works because I can hit F5 and my application starts and then I can select \"debug->interrupt\" and it seems to stop.  But in the call stack the function names look mangled and breakpoints set in the editor don't break.  If I hit <kbd>F10</kbd>, then it steps through the code in what looks like assembly.  Maybe it's because I'm building a DLL and I set <kbd>F5</kbd> to run the parent application which in turn loads and calls my DLL.</p>\n"},{"tags":["c++","qt","qtcpsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13225756,"title":"C++ Qt - QTcpSocket - File not found","body":"<p>I am using <code>Qt</code> and <code>QTcpSocket</code> to create a small chat client/server application.</p>\n\n<p>When I compile my code, the compiler returns the following error:</p>\n\n<pre><code>main.cpp:3:22: fatal error: QTcpSocket: No such file or directory\n</code></pre>\n\n<p>This refers to <code>#include &lt;QTcpSocket&gt;</code>.</p>\n\n<p>Where is this library located and how can I install it?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13214730,"title":"QTimer timeout signal not invoking slot when run on a different thread","body":"<p>I have a subclass of QObject referred to as myObject, which has a QTimer data member allocated on the heap in the constructor. myObject also has a slot which is connected to the QTimer timeout() signal in the constructor. I refer to the pointer of myObject as myObject_ptr.</p>\n\n<p>I want to run myObject on a different thread from the main thread. Following the relatively new recommendations, I DO NOT subclass QThread. In the main thread, I use myObject as follows:</p>\n\n<pre><code>QThread *thread = new QThread(this);\nmyObject_ptr-&gt;moveToThread(thread);\nconnect(myObject_ptr, SIGNAL(destroyed(), thread, SLOT(quit())); //thread not needed if no object\nconnect(thread, SIGNAL(finished()), thread, SLOT(deleteLater())); //to avoid memory leak\nconnect(thread, SIGNAL(terminated()), thread, SLOT(deleteLater())); //to avoid memory leak\nthread-&gt;start();\n</code></pre>\n\n<p>The main thread invokes a function of myObject_ptr which in turn starts the QTimer data member. When it times out, nothing happens, but I expect the slot of myObject to which the timer's timeout() signal is connected to be invoked. What is the problem? How do you make this work. It works flawlessly if myObject is run on the same thread where it was created i.e. main thread.</p>\n\n<p>From all the readings I've done, I think the new thread I am creating might not be processing events because it doesn't have it's own event loop. I also read documentation/articles contrary to that, saying that when the thread starts, the run() function calls exec() and you have an event loop.</p>\n\n<p>Could someone help me please?</p>\n\n<p>I could probably get it to work correctly if I subclass QThread, but based on current recommendations, I would prefer to avoid doing that.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c++","qt","user-interface","qt-creator","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13224434,"title":"Qt creator - .ui form displaying in new window","body":"<p>I'm in the process of creating a GUI in Qt creator. Right now I have different .ui forms that correspond with different parts of my GUI. My login.ui window appears when you first run the program. When you click the loginButton, a new window displays with my MainMenuScreen.ui form. My problem is I don't want the MainMenuScreen to open in a new window...I want the application to only have one window and the contents change...any way I can do this by keeping separate .ui forms and without using StackedWidgets? My LoginScreen.ui and MainMenuScreen.ui both extend QWidget and in my Login.cpp I have an onclick event function which calls show() and creates the new window of my MainMenuScreen.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","winapi","kinect","bstr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13224445,"title":"Why BSTR and how to convert it to QString?","body":"<p>I'm working with a Microsoft Kinect SDK where functions return BSTR. I need to get a QString or std::string.</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>BSTR bstr = s-&gt;NuiUniqueId();\n\n// QString qs((QChar*)bstr, SysStringLen(bstr));\n\nstd::wstring ws(bstr);\n\nui-&gt;lblDetails-&gt;setText(QString::fromStdWString(ws));\n</code></pre>\n\n<p>With this solution the program crashes. With the line that is commented out I get \"unresolved external symbol SysStringLen\".</p>\n\n<p>Is SysStringLen the way to go, but I need to add some additional libraries (wouldn't the API include it already) or is there another solution?</p>\n\n<hr>\n\n<p>Additional question: why does Microsoft do it? I mean:</p>\n\n<pre><code>#if !defined(_NATIVE_WCHAR_T_DEFINED)\ntypedef unsigned short WCHAR;\n#else\ntypedef wchar_t WCHAR;\n#endif\ntypedef WCHAR OLECHAR;\ntypedef OLECHAR* BSTR;\ntypedef BSTR* LPBSTR;\n</code></pre>\n\n<p>What's the reason behind stuff like this? And even if they find it beneficial to use it internally, couldn't they just use normal char array or std::(w)string in the API to make other's life easier?</p>\n"},{"tags":["c++","linux","qt","qwidget","qpainter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12740848,"title":"QPainter Save State","body":"<p>I have a QWidget in which I use a QPainter object to draw some dots but when update() method is invoked, the QWidget's draw is cleared completely. Is there any way to save the actual state and just add dots, or i have to save every dot and paint them in every paintEvent() call ? Basically when I press an arrow, I must show a line on the QWidget (it's for a car rally).</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13222287,"title":"remove \"?\"-button from QT dialog","body":"<p>I wanted to remove the \"?\"-button from a qt dialog like explained <a href=\"http://stackoverflow.com/questions/81627/how-can-i-hide-delete-the-help-button-on-the-title-bar-of-a-qt-dialog\">here</a>, but somehow it doesn't work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>Qt::WindowFlags flags;\nflags = (Qt::Dialog | Qt::WindowStaysOnTopHint) &amp; ~Qt::WindowContextHelpButtonHint;\nsetWindowFlags( flags );\n</code></pre>\n\n<p>I think that there is something wrong with the bitwise operators, but I don't know what..</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13219350,"title":"How to generate memory leak by QString and other implicit sharing data structure of Qt","body":"<p>QString and many data structure of Qt are implicit sharing</p>\n\n<p>How could I make their memory leak?     </p>\n\n<p>Circular dependency would cause memory leak if it is shared_ptr\nWould QString and other QString like data structure in Qt memory leak too?\nI want to know how to make the memory of QString leak, so I would not fall \ninto the trap of it.</p>\n\n<p>After some study, looks like I don't have to worry about circular dependency when\nit is QString? Thanks to your reply, now I don't have to worry about it.</p>\n"},{"tags":["qt","tooltip","statusbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13223797,"title":"QT WhatsThis Help Hover but no click","body":"<p>do you know if there is a way to use the QT WhatsThis help not by clicking on the component in a \"WhatsThis mode\" but just in a separate help window (QTextBrowser) by mouse hover (mouse move) over the component.</p>\n\n<p>I am just imagining a tooltip but not pop up a small window but display a small detailed help in an additional window.</p>\n\n<p>Thank you and best regards\nM.S</p>\n"},{"tags":["qt","post"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13222465,"title":"Error POSTing data with Qt","body":"<p>I want to POST data to a PHP form using this code, but after compiling I have message: </p>\n\n<blockquote>\n  <p>Object::connect: No such signal NetworkReplyImpl::finished(QNetworkReply*):</p>\n</blockquote>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent)\n{\n    QUrl params;\n    QUrl url(\"localhost/test2.php\");\n    params.addQueryItem(\"name\",\"aaa\");\n    params.addQueryItem(\"country\",\"bbb\");\n\n    QByteArray data;\n    data.append(params.toString());\n    data.remove(0,1);\n\n    QNetworkAccessManager *manager = new QNetworkAccessManager(this);\n    QNetworkReply *reply = manager-&gt;post(QNetworkRequest(url), data);\n    connect(reply, SIGNAL(finished(QNetworkReply*)), this,SLOT(replyFinished(QNetworkReply*)));\n\n}\n\n\nMainWindow::~MainWindow()\n{\n\n}\nvoid MainWindow::replyFinished(QNetworkReply *reply)\n{\n    QString data = reply-&gt;readAll().trimmed();\n    qDebug() &lt;&lt; data;\n}\n</code></pre>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13219150,"title":"What's the header file of gluLookAt in Qt?","body":"<p>I got some code for using OpenGL in Qt. And when I run it I got error as below:</p>\n\n<pre><code>C:\\Users\\Administrator\\Desktop\\NeHe6\\NeHe6-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\\..\\NeHe6\\nehewidget.cpp:54: error: 'gluLookAt' was not declared in this scope\n</code></pre>\n\n<p>It seems the header is missing. And the current headers are:</p>\n\n<pre><code>#include \"nehewidget.h\"\n#include &lt;QtGui&gt;\n#include &lt;qtopengl\\QtOpenGL&gt;\n</code></pre>\n\n<p>And \"nehewidget.h\" contains below headers:</p>\n\n<pre><code>#include &lt;qtopengl\\QGLWidget&gt;\n#include &lt;QTimer&gt;\n</code></pre>\n\n<p>Could anyone tell me what is the missing header? Thanks!</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":1161,"score":-1,"question_id":5350413,"title":"how to play a wav file in qt","body":"<p>can anyone tell me how to play a .wav file in qt</p>\n"},{"tags":["qt","iframe","qtwebkit"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13189296,"title":"How to get the QWebFrame for an iframe/frame QWebElement?","body":"<p>I have simple Qt GUI application which uses QtWebkit. I am loading complex page with a lot of nested IFRAME-tags. And I want to traverse complete DOM tree (like Chrome browser does in debug-panel) including content of iframes.</p>\n\n<p>My code is:</p>\n\n<pre><code>QWebElement doc = ui-&gt;webView-&gt;page()-&gt;mainFrame()-&gt;documentElement();\nQWebElement iframe = doc.findFirst(\"iframe[id=someid]\");\nQWebFrame *webFrame = ....? // how to get the QWebFrame for an iframe/frame QWebElement?\n</code></pre>\n\n<p>Note:\nI can traverse over all frames (including nested):</p>\n\n<pre><code>void MainWindow::renderFramesTree(QWebFrame *frame, int indent)\n{\n    QString s;\n    s.fill(' ', indent * 4);\n    ui-&gt;textLog-&gt;appendPlainText(s + \" \" + frame-&gt;frameName());\n    foreach (QWebFrame *child, frame-&gt;childFrames())\n        renderFramesTree(child, indent + 1);\n}\n</code></pre>\n\n<p>But my question is not about that. I need to get corresponding QWebFrame* of iframe-QWebElement.</p>\n\n<p>Thanx!</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13215298,"title":"Centering a QDialog relative to its parent while using RestoreGeometry()","body":"<p>I have a program that has several QDialogs. Most are a fixed size, but one is a resizable editor. The editor dialog gets its geometry restored from a QByteArray. </p>\n\n<p>The problem I'm having is the Editor is <strong>not</strong> being centered correctly. (only the window's x/y dimensions) The Editor usually appears in the upper left corner when it is instantiated. </p>\n\n<p>The Editor class gets instantiated like this in MainWindow:</p>\n\n<pre><code>Editor e(this);\ne.exec();\n</code></pre>\n\n<p>For some reason, restoring the window geometry breaks the Editor's automatic centering relative to its parent. Before I implemented the SaveGeometry and RestoreGeomentry code today, the editor worked fine.</p>\n\n<p>Here's the SaveGeometry code in Editor.cpp: (it gets executed right before the current Editor object is destroyed)</p>\n\n<pre><code>// Remember current window size\nQByteArray geo=saveGeometry();\nSettingsManager s;\ns.SaveEditorSize(geo);\n</code></pre>\n\n<p>Here's the restore code in Editor.cpp: (this is part of a function that sets up the UI, assigns a layout, etc.) </p>\n\n<pre><code>if(!Buffer::editor_geometry.isEmpty()){\n    restoreGeometry(Buffer::editor_geometry);\n}\n</code></pre>\n\n<p>Does anyone know what the problem is? </p>\n\n<p>Edit: Actually, it does remember where it was last time, it just won't center.</p>\n"},{"tags":["qt","plugins","desktop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13219653,"title":"QT Quick Desktop Components","body":"<p>I tried to install QT Quick Desktop Components,\nbut I got an error like:</p>\n\n<blockquote>\n  <p>module \"QtDesktop\" plugin \"styleplugin\" not found \n       import QtDesktop 0.1 \n       ^</p>\n</blockquote>\n\n<p>Can anyone help me with that please???</p>\n"},{"tags":["c++","qt","boost-msm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13218011,"title":"boost meta state machine and Qt(moc issue)","body":"<p>I would like to combine boost meta state machine with Qt\nbut there are a problem I can't solve</p>\n\n<pre><code>#include &lt;boost/msm/back/state_machine.hpp&gt;\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\n  class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n  Q_OBJECT\n\n  public:\n    explicit MainWindow(QWidget *parent = 0);\n   ~MainWindow();\n\n  private:\n    Ui::MainWindow *ui;\n};\n</code></pre>\n\n<p>Will show error messages like</p>\n\n<p>:-1: error: [debug/moc_MainWindow.cpp] Error 1\nfile not fount</p>\n\n<p>I upload the whole file onto <a href=\"http://www.sendspace.com/file/2dhrlu\" rel=\"nofollow\">http://www.sendspace.com/file/2dhrlu</a></p>\n\n<p>I checked it and confirm it is the whole error message, nothing more</p>\n\n<p>I am using Qt4.8.2, mingw4.6.2, win7 64bits, pc is lenova G770</p>\n\n<p>The .pro file</p>\n\n<p>QT += core gui</p>\n\n<p>CONFIG += console exceptions rtti</p>\n\n<p>INCLUDEPATH += ../../boost_1_51_0</p>\n\n<p>greaterThan(QT_MAJOR_VERSION, 4): QT += widgets</p>\n\n<p>TARGET = test_moc TEMPLATE = app</p>\n\n<p>SOURCES += main.cpp\\ MainWindow.cpp</p>\n\n<p>HEADERS += MainWindow.hpp</p>\n\n<p>FORMS += MainWindow.ui</p>\n\n<p>How could I solve this question?Thanks</p>\n"},{"tags":["c++","qt","soci"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13218297,"title":"Using SOCI with Qt = how to write a good *.pro file?","body":"<p>I would like to write a GUI app using Qt and SOCI. How to write a good *.pro file to compile project with no errors? I wrote this:</p>\n\n<pre><code>QT       += core gui\n\nTARGET = example-project\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nINCLUDEPATH += /usr/local/include/soci\\\n                /usr/include/postgresql/\nLIBS += -lsoci_core -lsoci_postgresql -ldl -lpq\n</code></pre>\n\n<p>and it works but I dont know if its correct :)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":48,"score":3,"question_id":13199267,"title":"Authenticating users on a Qt Server","body":"<p>I am trying to implement an authentication system using C++/QtTcpSocket for a personal project (A Multiplayer Chess Game).</p>\n\n<p>My friend suggested a method for verifying a user but I wanted to ask if there was an easier or better way. Coming from a Python background and mostly doing this project to develop a deeper understanding of C++.</p>\n\n<p>I will post the method my friend suggested and ask for maybe a better solution.</p>\n\n<p>He built it in a kind of pseudo code fashion. The server is mostly built, I am now hoping to implement Authentication</p>\n\n<p>*cheers</p>\n\n<pre><code>void process_packet(PACKET *pkt)\n{\n    switch(pkt-&gt;PacketID)\n    {\n        case 0: // let's say packet id 0 is the logon packet; packet contents are username and password\n        {\n            //let's say packet size is 101 bytes; packet id was already received, so get the other 100 bytes\n            unsigned char BUFFER[101] = {0}; // i always add an extra byte to the end of the buffer to allow for off-by-one errors ^_^\n\n            int result = recv_packet(pkt-&gt;cSocket, 100, BUFFER);\n\n            if(result &lt;= 0)\n                return; // connection error; no packet data was received\n\n            unsigned char *UserName = BUFFER+0; //+0 is not neccessary, but the username starts at the beginning. just getting the point across.\n            unsigned char *PassWord = BUFFER+50;\n\n            //side note: if we did \"unsigned long *blah = BUFFER+4\" or something, we would have to make sure the byte order is right. network byte order is BIG ENDIAN\n            //  WINDOWS byte order is LITTLE ENDIAN\n\n            result = QueryDatabase(\"SELECT username, password FROM chess_players WHERE username = '%s'\", FILTER_INVALID_CHARS(UserName));\n\n            // check result\n\n            unsigned char ServerResponse[2] = {0};\n\n            if(result['password'] == PassWord)\n            {\n                ServerResponse[0] = 1; // packet id will be 1. the next byte can be 1 or 0 to indicate logon success or failure.\n                ServerResponse[1] = true; // so packet 0x0101 mean logon success, packet 0x0100 means logon failure\n                send_packet(pkt-&gt;cSocket, ServerResponse, 2);\n            } else {\n\n                ServerResponse[0] = 1;\n                ServerResponse[1] = false;\n                send_packet(pkt-&gt;cSocket, ServerResponse, 2);\n            }\n        }\n        break;\n\n        default:\n        {\n            // received an unknown packet id; send a packet to the client that indicates an error_status_t\n\n            unsigned char *ServerResponse[2] = {0};\n            ServerResponse[0] = 2; // packet id 2 means server error\n            ServerResponse[1] = 0; // error code 0 means 'unknown packet id'\n\n            send_packet(pkt_cSocket, ServerResponse, 2);\n        }\n        break;\n    }\n\n    delete pkt; // must delete pkt, was created with 'new' in get_client_packets()\n}\n</code></pre>\n"},{"tags":["qt","ms-word","activex"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13217231,"title":"Missing scrolbar when viewing word docucment in QAxWidget","body":"<p>I want to view a word document within a QT application. The QT version I have is 4.7.2, compiled with visual studio 2010 service pack 2. I have MS word 2003 installed. I have the following code:</p>\n\n<pre><code>QAxWidget* WordDocument=new QAxWidget (\"Word.Document\",this);\nWordDocument-&gt; setGeometry (QRect (10, 10, 621, 471));\nWordDocument-&gt;setControl (\"c:\\\\tset.doc\");\nWordDocument-&gt; show ();\n</code></pre>\n\n<p>I can see the word document, however the scrollbars are missing. Any ideas what is wrong?</p>\n"},{"tags":["c++","xml","qt","xsd","code-generation"],"answer_count":5,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":4972,"score":7,"question_id":445905,"title":"XML Schema to C++ Classes","body":"<p>I have to write a C++ Application (using the Qt Framework for the GUI) that can edit data stored in xml files described by a xsd schema file. Is there a tool to convert the xsd schema into C++ Classes?</p>\n"},{"tags":["python","qt","webkit","headless","headless-browser"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13215120,"title":"How do I make Python, QT, and Webkit work on a headless server?","body":"<p>I have Debian Linux server that I use for a variety of things.  I want it to be able to do some web-scraping jobs I need done regularly.  </p>\n\n<p>This code can be <a href=\"http://bit.ly/QeqvzX\" rel=\"nofollow\">found here</a>.</p>\n\n<pre><code>import sys  \nfrom PyQt4.QtGui import *  \nfrom PyQt4.QtCore import *  \nfrom PyQt4.QtWebKit import *  \n\nclass Render(QWebPage):  \n  def __init__(self, url):  \n    self.app = QApplication(sys.argv, False)  # Line updated based on mata's answer\n    QWebPage.__init__(self)  \n    self.loadFinished.connect(self._loadFinished)  \n    self.mainFrame().load(QUrl(url))  \n    self.app.exec_()  \n\n  def _loadFinished(self, result):  \n    self.frame = self.mainFrame()  \n    self.app.quit()  \n</code></pre>\n\n<p>A simple test of it would look like this:</p>\n\n<pre><code>url = 'http://example.com'\nprint Render(url).frame.toHtml()\n</code></pre>\n\n<p>On the call to the constructor it dies with this message (it's printed to stdout, not an uncaught exception).</p>\n\n<pre><code>: cannot connect to X server \n</code></pre>\n\n<p>How can I use Python (2.7), QT4, and Webkit on a headless server?  Nothing ever needs to be displayed, so I can tweek any settings or anything that need to be tweeked.  </p>\n\n<p>I've looked into alternatives, but this is the best fit for me and my projects.  If I did have to install an X server, how could I do it with minimal overhead?</p>\n"},{"tags":["qt","post","upload","qthread"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13211786,"title":"Qt Signals and slots in a QThread","body":"<p>I am currently experiencing issues on a Qt thread.</p>\n\n<p>I have to upload a list of files in a QThread, but apparently one upload doesn't work and/or my slots are never called. If I put the methods out of the thread it works perfectly.</p>\n\n<p>Here is the run() method :</p>\n\n<pre><code>void UploadThread::run()\n{\n    for (int i = 0; i &lt; Window::_listUpload.size(); i++) {\n        qDebug() &lt;&lt; Window::_listUpload[i].getPath();\n        this-&gt;sendFile(Window::_listUpload[i].getPath());\n    }\n}\n</code></pre>\n\n<p>Here is the sendFile() method :</p>\n\n<pre><code>void UploadThread::sendFile(const QString &amp; path)\n{\n    QFreeDesktopMime mime;\n    QNetworkAccessManager *manager = new QNetworkAccessManager;\n    QFileInfo fInfo(path);\n    QNetworkRequest request(QUrl(\"http://my-url/\"));\n    QNetworkReply *reply;\n\n    QString bound = \"---------------------------723690991551375881941828858\";\n    QByteArray data(QString(\"--\"+bound+\"\\r\\n\").toAscii());\n    data += \"Content-Disposition: form-data; name=\\\"action\\\"\\r\\n\\r\\n\";\n    data += \"\\r\\n\";\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += \"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"\"+fInfo.fileName()+\"\\\"\\r\\n\";\n    data += \"Content-Type: \"+mime.fromFile(path)+\"\\r\\n\\r\\n\";\n\n    QFile file(fInfo.absoluteFilePath());\n    file.open(QIODevice::ReadOnly);\n    data += file.readAll();\n    data += \"\\r\\n\";\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += \"Content-Disposition: form-data; name=\\\"desc\\\"\\r\\n\\r\\n\";\n    data += \"Description for my image here :)\\r\\n\";\n    data += \"\\r\\n\";\n    request.setRawHeader(QString(\"Accept-Encoding\").toAscii(), QString(\"gzip,deflate\").toAscii());\n    request.setRawHeader(QString(\"Content-Type\").toAscii(),QString(\"multipart/form-data; boundary=\" + bound).toAscii());\n    request.setRawHeader(QString(\"Content-Length\").toAscii(), QString::number(data.length()).toAscii());\n\n    reply = manager-&gt;post(request, data);\n\n    QObject::connect(reply, SIGNAL(uploadProgress(qint64,qint64)), currentThread(), SLOT(receiveUploadProgress(qint64, qint64)));\n    QObject::connect(manager, SIGNAL(finished(QNetworkReply*)), currentThread(), SLOT(uploadFinished(QNetworkReply*)));\n}\n</code></pre>\n\n<p>And here are my slots :</p>\n\n<pre><code>void UploadThread::uploadFinished(QNetworkReply *reply)\n{\n    _isFinished = true;\n}\n\nvoid UploadThread::receiveUploadProgress(qint64 bytesSent, qint64 bytesTotal)\n{\n    qDebug() &lt;&lt; bytesSent &lt;&lt; \" \" &lt;&lt; bytesTotal;\n}\n</code></pre>\n\n<p>Do you see a problem in my code ?\nThank you.</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13214647,"title":"QPainter::end() slow when multiple QGLWidgets visible","body":"<p>In my MDI sub-window GUI I have two tabs: in one tab is a single large <code>QGLWidget</code> derived class, and in the other four <code>QGLWidget</code>s separated by splitters.  They each have their own OpenGL contexts (for the actual painting), share another across all 5 (for geometry data), and share one application-wide (for shaders).</p>\n\n<p>When drawing in the single viewport tab, it's very fast as expected; but when drawing in the quad view (each viewport is updated from a timer in creation order), the rendering speed plummets and gets worse with each viewport as the list is iterated through.</p>\n\n<p>I began to profile and narrowed down the search to a <code>Qt</code> call that was taking so much longer in quad view than single view:</p>\n\n<pre><code>QPainter::end();\n</code></pre>\n\n<p>So when only the large single viewport is visible, I get <code>QPainter::end()</code> timings (in microseconds) like this:</p>\n\n<pre><code>Total time(us): 981\nNumber of calls: 32\nAverage call time(us): 30.656250\n</code></pre>\n\n<p>Quite reasonable.  But when I switch to the quad view:</p>\n\n<pre><code>Viewport 1:\nTotal time(us): 196023\nNumber of calls: 32\nAverage call time(us): 6125.718750\n\nViewport 2:\nTotal time(us): 509769\nNumber of calls: 32\nAverage call time(us): 15930.281250\n\nViewport 3:\nTotal time(us): 518504\nNumber of calls: 32\nAverage call time(us): 16203.250000\n\nViewport 4:\nTotal time(us): 518226\nNumber of calls: 32\nAverage call time(us): 16194.562500\n</code></pre>\n\n<p>Vastly longer for what is supposed to be the same amount of work.  Even stranger, is that it increases 200x(!), and then 2.5x for the next viewport before stabilising.  If I run the tests for longer they give almost exactly the same readings - it doesn't increase any further.</p>\n\n<p>The <code>QPainter</code> code in question is simply:</p>\n\n<pre><code>QPainter p;\np.begin( this );\np.beginNativePainting();\nglUseProgram( program_ );\n\nglActiveTexture( GL_TEXTURE0 );\nglBindTexture( GL_TEXTURE_2D, buffer2d_-&gt;texture() );\nglActiveTexture( GL_TEXTURE1 );\nglBindTexture( GL_TEXTURE_2D, buffer3d_-&gt;texture() );\n\nsurfaceBuf_.bind();\nglDrawArrays( GL_TRIANGLE_FAN, 0, 4 );\nsurfaceBuf_.unbind();\n\np.endNativePainting();\np.end();\n</code></pre>\n\n<p>I browsed through the source code of the <code>QPainter::end()</code> and <code>QOpenGLPaintEngine::end()</code>, but it just seems to be state reversion and making sure the draw queue has been flushed.  Considering I don't set any state requests, or do any drawing through Qt (all my calls are raw OpenGL) - it shouldn't have anything to do.</p>\n\n<p>Why does the time increase even though the <code>QPainter</code> instance is created on the stack, and each viewport is doing the same amount of work?</p>\n"},{"tags":["linux","qt","gui","qt4.8"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":98,"score":2,"question_id":13188567,"title":"Qt 4.8.3 GUI application on Linux looks old and doesn't match the designer preview","body":"<p>I installed Qt 4.8.3 and Qt Creator 2.5.2 on Fedora 17 and Ubuntu 12.04.\nWhen I create a GUI application, the visual elements look good in the Qt Designer preview window. However when I run the application, the resulting application has an older style which is inconsistent with the OS and does not match the preview in Qt Designer.</p>\n\n<p>In both of the images below, the top part is the preview from Qt Designer and the bottom part is the compiled application. </p>\n\n<ul>\n<li>Qt was installed by compiling the source located at <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a></li>\n<li>During ./configure phase of the installation, the \"open source\" version was chosen.</li>\n<li>This issue occurs whether the application is run from the OS or launched from the IDE</li>\n</ul>\n\n<p>Is there a way to make the compiled GUI application appear properly?</p>\n\n<p><strong>Fedora:</strong></p>\n\n<ul>\n<li>Top Half = Qt Designer preview (desired)</li>\n<li>Bottom Half = resulting application</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/h2Z6l.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Ubuntu:</strong></p>\n\n<ul>\n<li>Top Half = Qt Designer preview (desired)</li>\n<li>Bottom Half = resulting application</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/agPAs.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Addendum:</strong>\nHere is an image showing a 4.8.1 compiled application (how it's supposed to look like)\n<img src=\"http://i.stack.imgur.com/Elq6q.png\" alt=\"enter image description here\"></p>\n\n<p>Additionally, If I install both 4.8.1 and 4.8.3 on the same computer, even 4.8.1 compiled applications will not appear properly:\n<img src=\"http://i.stack.imgur.com/RGtmY.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","qt","pyqt","qwebview","pyside"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1998,"score":1,"question_id":2304952,"title":"QWebView not loading external CSS","body":"<p>I am using a QWebView to display some content and I want to use custom CSS to spruce up the output.  I found that I can use the <code>QWebSettings.setUserStyleSheetUrl()</code> method to load my own CSS into the view.  The <code>.css</code> file is in the same directory as my main program.</p>\n\n<pre><code>self.webview = QWebView(MainWindow)\nself.webview.settings().setUserStyleSheetUrl(QUrl.fromLocalFile(\"myCustom.css\"))\n</code></pre>\n\n<p>However, the custom stylings don't load when I add the content to the page using <code>setHtml()</code>.  I have tested that the CSS is properly applying to the HTML in a standard browser.</p>\n\n<p>Any idea what I am doing wrong?</p>\n"},{"tags":["windows","qt","selection","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13201427,"title":"How do i remove the selection drawing from a Qt QGraphicsTextItem","body":"<p>I am developing a Qt 4.8 application using QGraphicsScene on Windows XP. \nWhen the user double clicks on a QGraphicsTextItem, i call </p>\n\n<pre><code>textItem-&gt;setTextInteractionFlags(Qt::TextEditorInteraction);\n</code></pre>\n\n<p>At the next selection change i call</p>\n\n<pre><code>textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n</code></pre>\n\n<p>This works correctly, but i find no way to remove the inversion of the background color that remains from editing. In the screen shot below, i first double clicked on the first text item and selected the characters \"2927\". Then i clicked on the second test item and selected \"est\". I find no way to get rid of the still inverted \"2927\" in the first text item (although its not in edit mode anymore). </p>\n\n<p><img src=\"http://i.stack.imgur.com/IYWTX.jpg\" alt=\"enter image description here\"></p>\n\n<p>I also tried to call:</p>\n\n<pre><code>    textItem-&gt;textCursor().clearSelection();\n    textItem-&gt;update();\n    textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n    textItem-&gt;clearFocus();\n</code></pre>\n\n<p>But his does not at all change the behavior. </p>\n\n<p>So now i found a workaround:</p>\n\n<pre><code>    QString s = textItem-&gt;toPlainText();\n    textItem-&gt;setPlainText(\"\");\n    textItem-&gt;setPlainText(s);\n    textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n</code></pre>\n\n<p>I dont like that, but it works. </p>\n\n<p>Any hint for a cleaner solution?</p>\n"},{"tags":["qt","qt-creator","blackberry-10","blackberry-qnx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13193288,"title":"Error while configuring Qt Creator 2.6 beta with BlackBerry NDK","body":"<p>I am facing a problem configuring Qt Creator, unable to add Qt Version.\nError is shown below :</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZqQuE.png\" alt=\"Problem Reported\"></p>\n\n<p>I had installed Cascades native NDK and the BB simulator.</p>\n\n<p>Help me out of this problem....</p>\n"},{"tags":["qt","url","browser","qt4","openurl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13197731,"title":"Open a URL in a certain browser tab/window","body":"<p>From within my Qt application, I would like to open URLs repeatedly in the same browser tab/window. (Kind of \"refreshing\" this tab programmatically)</p>\n\n<p>Using</p>\n\n<pre><code>QDesktopServices::openUrl(QUrl(\"http://www.domain.tld\"));\n</code></pre>\n\n<p>opens a new tab/window for every call. Is there a possibility to add a \"target=\" parameter somewhere?</p>\n"},{"tags":["python","qt","matplotlib","figure"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":25,"score":3,"question_id":13213832,"title":"MathTextParser: Fit output to figsize","body":"<p>I am using <code>MathTextParser</code> to depict some equations in Qt. Therefore i get the required tex string out of a dict, parse it using the to_rgba method of the parser i created (handing over a general fontsize and dpi) and finally hand this to my <code>FigureCanvas</code> of the <code>QWidget</code> by <code>figimage</code>.<br>\nHave a look: </p>\n\n<pre><code>class MathWidget(QWidget):\n    def __init__(self, parent = None):\n            QWidget.__init__(self, parent)\n            ...\n            self.canvas = MathCanvas() # The FigureCanvas to display the teximage\n            ...\n            self.parser = mathtext.MathTextParser(\"Bitmap\")\n\n    def render(self,metric):\n            equation = self.equations[metric]\n            rgb, d = self.parser.to_rgba(equation, color='black', fontsize=8, dpi=200)\n            self.canvas.fig.figimage(rgb.astype(float)/255., 0, 0)\n            self.canvas.draw()\n</code></pre>\n\n<p>My problem now is, that the equations to be parsed are of varying length whereas the  <code>FigureCanvas</code> has a fixed size (as it needs to have) so that it happens, that some equations result in an image, which exceeds the figure in its size so that some part of the equation is cut off/not visible, like in this example:<br>\n<a href=\"http://wwwpub.zih.tu-dresden.de/~s4901563/exceed.png\" rel=\"nofollow\">Cut off equation</a><br>\nWhat i wouldn't like to do is to somehow predefine a fontsize for every tex string depeding on its length, for the reason that even user defined equations (of unpredictable length) need to be parsed and displayed.<br>\nSo is there by any chance a way to make the parser fit the e.g. fontsize, so that the output is a rasterized tex of a fixed size independently of the equation size/length?  </p>\n\n<p>Besides: In comparison to e.g. numpy/scipy the docs of matplotlib seem inscrutable to me for some reason, thus if somebody could comment on how <code>to_rgba</code> and <code>figimage</code> exactly work i'd be grateful, too.. e.g. concerning to_rgba: what means the following quote elucidating depth?: </p>\n\n<blockquote>\n  <ul>\n  <li>depth is the offset of the baseline from the bottom of the image in pixels</li>\n  </ul>\n</blockquote>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13200666,"title":"Qt Data Model With Two Different Views","body":"<p>All, I am having trouble determining a good way to handle this.  I have a Data Model, which we will call <code>MyData</code>.  I have modelled my data as a <code>QObject</code> and thus it has signals and slots.</p>\n\n<p>To modify any data in the model, you can either connect to its slots, or directly call the slots.  When that modification occurs, the model signals that its data has changed. eg:</p>\n\n<pre><code>class MyData : public QObject\n{\n   ...\npublic slots:\n     void AddPoint(QPointF);\n\nsignals:\n     void AddedPoint(QPointF);\n};\n\nvoid MyData::AddPoint(QPointF p)\n{\n    //added the point\n    emit AddedPoint(p);\n}\n</code></pre>\n\n<p>Now my views are two seperate things:</p>\n\n<ol>\n<li>I have a <code>QGraphicsView</code>which represents the point using <code>QGraphicsEllipseItem</code></li>\n<li>I have a <code>QListView</code> which uses a <code>QAbstractItemModel</code> to list the points.</li>\n</ol>\n\n<p>I sync these two graphical views using signals and slots (I subclasses QGraphicsItem to inherit from QObject).</p>\n\n<p><strong>The question:</strong> When a table makes the change, it signals <code>MyData</code>, which in turn signals <code>AddedPoint</code> which is connected to the QGraphicsView.  <strong>However</strong>, <code>MyData::AddedPoint</code> is also connected to the table, and thus two identical points are added when it attempts to sync.  Could anyone offer any advice on how to proceed?</p>\n\n<hr>\n\n<p>My thoughts and ideas so far:</p>\n\n<ul>\n<li>I could check if the point exists, and prevent repeats.  Works great for insertions, not so great for removal and updating.</li>\n<li><strong>What I think is best the best approach:</strong> In the <code>MyData</code> slots, block the sender() for a second, then unblock.</li>\n</ul>\n\n<hr>\n\n<p><strong>Edit:</strong> <code>MyData</code> is really a \"controller/interface\" class, the real model uses OpenCV types and as thus I would like to keep it separated from the Qt architecture.</p>\n"},{"tags":["c++","qt","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13213003,"title":"Qt Custom Plugin Will Not Load - \"Shared Library Not Found\"","body":"<p>I am trying to build a QtPlugin architecture but I can't even get off the ground with the simplest plugin.  I created this plugin using the the examples and reading all over the websites, but no matter what I cannot load my plugin.</p>\n\n<p>Upon calling <code>instance()</code> I get a  <code>0</code> and the <code>errorString()</code> says <code>could not find shared library.</code></p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13212947,"title":"Enum signal parameter","body":"<p>I'm trying to use Qt's signals-and-slots mechanism with custom enumeration types.</p>\n\n<p>I have read all the following, and none of it helped:</p>\n\n<ul>\n<li><a href=\"http://doc.qt.digia.com/4.7-snapshot/qtbinding.html#using-enumerations-of-a-custom-type\" rel=\"nofollow\">http://doc.qt.digia.com/4.7-snapshot/qtbinding.html#using-enumerations-of-a-custom-type</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2610151/qt-no-such-signal-error\">Qt - no such signal error</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7030601/qt-signal-with-an-enum-as-a-parameter\">Qt signal with an enum as a parameter</a></li>\n</ul>\n\n<p>DetectorEngineThread.h:</p>\n\n<pre><code>class DetectorEngineThread : public QThread\n{\n    Q_OBJECT\n    Q_ENUMS(ErrorCode)\n    Q_ENUMS(Status)\n\npublic:\n    enum ErrorCode\n    {\n        ...\n    };\n\n    enum Status\n    {\n        ...\n    };\n...\n\nsignals:\n    void statusChanged(Status newStatus);\n    void processingError(ErrorCode code);\n};\n\nQ_DECLARE_METATYPE(DetectorEngineThread::ErrorCode)\nQ_DECLARE_METATYPE(DetectorEngineThread::Status)\n</code></pre>\n\n<p>MainWindow.h:</p>\n\n<pre><code>...\n#include \"DetectorEngineThread.h\"\n...\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n    ...\n\nprivate:\n    DetectorEngineThread* m_detEng;\n    ...\n\nprivate slots:\n    void on_detEng_statusChanged(DetectorEngineThread::Status newStatus);\n    void on_detEng_processingError(DetectorEngineThread::ErrorCode errorCode);\n    ...\n};\n</code></pre>\n\n<p>MainWindow.cpp:</p>\n\n<pre><code>...\n#include \"MainWindow.h\"\n...\n\nMainWindow::MainWindow(...) : ...\n{\n    ...\n    qRegisterMetaType&lt;DetectorEngineThread::Status&gt;(\"DetectorEngineThread::Status\");\n    qRegisterMetaType&lt;DetectorEngineThread::ErrorCode&gt;(\"DetectorEngineThread::ErrorCode\");\n    ...\n\n    m_detEng = new DetectorEngineThread(...);\n\n    connect(m_detEng, SIGNAL(statusChanged(DetectorEngineThread::Status)),\n            this, SLOT(on_detEng_statusChanged(DetectorEngineThread::Status)), Qt::QueuedConnection);\n\n    connect(m_detEng, SIGNAL(processingError(DetectorEngineThread::ErrorCode)),\n            this, SLOT(on_detEng_processingError(DetectorEngineThread::ErrorCode)), Qt::QueuedConnection);\n    ...\n}\n...\n\nvoid MainWindow::on_detEng_statusChanged(DetectorEngineThread::Status newStatus)\n{\n    ...\n}\n\nvoid MainWindow::on_detEng_processingError(DetectorEngineThread::ErrorCode errorCode)\n{\n    ...\n}\n...\n</code></pre>\n\n<p>During runtime, I get the following messages (in the Application Output panel in Qt Creator):</p>\n\n<blockquote>\n  <p>Object::connect: No such signal<br>\n  DetectorEngineThread::statusChanged(DetectorEngineThread::Status) in ...<br>\n  Object::connect: No such signal<br>\n  DetectorEngineThread::processingError(DetectorEngineThread::ErrorCode) in ...</p>\n</blockquote>\n\n<p>And obviously the slots' code never run, despite the fact that matching signals are emitted.</p>\n\n<p>I tried:</p>\n\n<ul>\n<li>moving the enums into global scope, but the problem remained.</li>\n<li>having the signals and the slots connected automatically via QMetaObject::connectSlotsByName, but that met with the same issue.</li>\n<li>using the local names (e.g. Status instead of DetectorEngineThread::Status) in qRegisterMetaType and Q_DECLARE_METATYPE, and also tried to use these in the SIGNAL and SLOT macros.</li>\n</ul>\n"},{"tags":["multithreading","qt","qt4","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13212623,"title":"QThread hungs up when calling isRunning on it","body":"<p>I have a <code>QThread</code> that fetches data from the web. Sometimes the user asks for something else, and the data needs to be fetched changes as well.</p>\n\n<p>In my current configuration, I call <code>terminate()</code> upon the thread, change the input data, and call <code>start()</code> on the thread again. Now, that works fine, but sometimes I get the main eventloop stuck when calling <code>isRunning()</code> or <code>isFinished()</code> upon a terminated thread. It gets stuck forever, and does not recover until I kill the process.</p>\n\n<ol>\n<li>Why would <code>isRunning()</code> or <code>isFinished()</code> hung in the first place? They don't suppose to block.</li>\n<li>Is this workflow acceptable? If not, how can I stop a thread's process when I don't need it no more (or how can I abandon it)?</li>\n</ol>\n"}]}
{"total":16228,"page":3,"pagesize":100,"questions":[{"tags":["qt","qregexp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13211026,"title":"QScriptEngine with negative numbers, pe: 5*-2","body":"<p>I'm trying to run a script which evaluates only expressions that have add, subs, mults and divs, but can use negative numbers. This negative numbers are taken from instructions like this:</p>\n\n<pre><code>set 1, 5 * D[5]\n</code></pre>\n\n<p>This implies that you have to store the result of <code>5 * [whatever it's in a variable]</code>. If this variable contains a negative number, let's say <code>-2</code>, the expression will be <code>5*-2</code>, and this expression is evaluated by QScriptEngine, resulting 0 (Error). I need to parse expressions like this to be <code>5*(-2)</code>. In PERL, a RegExp to do it will be:</p>\n\n<pre><code>$expresion =~ s/\\[\\\\*\\\\+\\\\-\\\\/](\\\\-\\d+)/($1)/g;\n</code></pre>\n\n<p>How can I do this in Qt?</p>\n"},{"tags":["linux","qt","mingw","cross-compiling"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":591,"score":6,"question_id":10934683,"title":"How do I configure Qt for cross-compilation from Linux to Windows target?","body":"<p>I want to cross compile the Qt libraries (and eventually my application) for a Windows x86_64 target using a Linux x86_64 host machine. I feel like I am close, but I may have a fundamental misunderstanding of some parts of this process.</p>\n\n<p>I began by installing all the mingw packages on my Fedora machine and then modifying the <code>win32-g++</code> qmake.conf file to fit my environment. However, I seem to be getting stuck with some seemingly obvious configure options for Qt: <code>-platform</code> and <code>-xplatform</code>. Qt documentation says that <code>-platform</code> should be the host machine architecture (where you are compiling) and <code>-xplatform</code> should be the target platform for which you wish to deploy. In my case, I set <code>-platform linux-g++-64</code> and <code>-xplatform linux-win32-g++</code> where linux-win32-g++ is my modified win32-g++ configuration.</p>\n\n<p>My problem is, that after executing configure with these options, I see that it invokes my system's compiler instead of the cross compiler (x86_64-w64-mingw32-gcc). If I omit the <code>-xplatform</code> option and set <code>-platform</code> to my target spec (linux-win32-g++), it invokes the cross compiler but then errors when it finds some Unix related functions aren't defined.</p>\n\n<p>Here is some output from my latest attempt: <a href=\"http://pastebin.com/QCpKSNev\">http://pastebin.com/QCpKSNev</a></p>\n\n<hr>\n\n<ol>\n<li><p>When cross-compiling something like Qt for Windows from a Linux host, should the native compiler <em>ever</em> be invoked? That is, during a cross compilation process, shouldn't we use <em>only</em> the cross compiler? I don't see why Qt's configure script tries to invoke my system's native compiler when I specify the <code>-xplatform</code> option.</p></li>\n<li><p>If I'm using a mingw cross-compiler, when will I have to deal with a specs file? Spec files for GCC are still sort of a mystery to me, so I am wondering if some background here will help me.</p></li>\n<li><p>In general, beyond specifying a cross compiler in my qmake.conf, what else might I need to consider?</p></li>\n</ol>\n\n<p>I realize I don't have a solid question, but if someone could help me clear some things up that'd be great.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","linux","qt","cocos2d-x","meego"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13211653,"title":"Cocos2d-x Particle System Performance Drop from Version 1.x to 2.x","body":"<p>we wanna change our base system from Cocos2d-x 1.0 (Qt Port 0.6) to Cocos2d-x 2.0 (Qt Port 1.0) but there are several tasks which need to be tested before changing the system. One of those tasks is the performance of the particle system. In mind that the performance will increase when changing from 1.0 to 2.0 we discovered the opposite. <strong>Version 1.0 seems to perform much better than Version 2.0</strong>. Now we would like to discover if this can be right or not and hopefully someone can give us a hint what we could miss (wrong settings of Cocos2d-x, wrong settings, ... ).</p>\n\n<p>To test the performance, we created a simple test scenario: Using one particle system which can be added multiple times whenever pressing the scene. This particle system uses different sized textures (4x4px and 32x32px) and a Quad Particle System.</p>\n\n<p>The base of the test is the HelloWorld example of Cocos2d-x. Additionally, we enabled the touch receiver, created the batch (if needed), converted a label to a counter and added the particle system insertion routine. The source code and resources are attached as link for a zip archive below.  </p>\n\n<p>We compared the Linux version of Cocos2d-x and the Qt (MeeGo Harmattan) version of Cocos2d-x. The test results can be found in the excel sheet <a href=\"http://www.fantasyhaze.com/sof/Particle_Performance_Tests.ods\" rel=\"nofollow\">http://www.fantasyhaze.com/sof/Particle_Performance_Tests.ods</a>. In every test case the 1.0 version was performer than 2.0. In every test case, the batched particle system had the same performance as the unbatched particle system from Cocos2d-x 2.0. The performance was measured in FPS/Particle Systems.</p>\n\n<p><em><strong>Results:</em></strong></p>\n\n<p>No performance difference between batched and unbatched systems can be seen because of the small texture which was used by every effect. So there aren't many OpenGL state changes. Maybe a stronger effect could be seen when using huge textures with a lot transparency or much more particles (which is not possible due to the performance drop) or when using different particles which use different textures to fore OpenGL state changes.</p>\n\n<p>Therefore, the performance drop in general might not be only on the graphic side, but more on the high utilization of the CPU (calculating the positions of the particles in each frame for thousands of particles i.e.: 47 particle systems with 350 particles produce a payload of 47*350 = 16450 particles, which need to be recalculated each frame). When using batched particles this is also the highest amount of particles which can be used because the GL draw function uses an unsigned short value which is reached with 16450 particles. 16450 * 4 (vertices) = 65800 (ushort = 65535). This can be seen (on the screenshots) when using batched particles vs. unbatched particles on a desktop machine. After 47 inserted particles into the batch, it will stop displaying the new effects. When more effects are added the performance still continues to decrease which illustrates that the performance-loss is mainly based on the CPU side rather than on the GPU. This can also be notices when using 4x4px textures instead of 32x32px only about 10 more effects can be placed (on desktop).</p>\n\n<p><em><strong>Related Topics:</em></strong></p>\n\n<ul>\n<li><p><a href=\"http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:2_0_0\" rel=\"nofollow\">http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:2_0_0</a></p></li>\n<li><p><a href=\"http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:1_0_0\" rel=\"nofollow\">http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:1_0_0</a></p></li>\n<li><p><a href=\"http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Performance\" rel=\"nofollow\">http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Performance</a></p></li>\n</ul>\n\n<p>The excelsheet, screenshots and source code can be found in the archive - <a href=\"http://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.zip\" rel=\"nofollow\">http://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.zip</a>\nhttp://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.ods</p>\n"},{"tags":["qt","plot","qwt"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":13067411,"title":"What are the advantages/disadvantages of QCustomPlot, compared to Qwt?","body":"<p>I am using Qwt now for two years. I like its object oriented classes, which makes it very easy to adapt the plots and functionality.\nThese days QCustomPlot is becoming more an more popular and competes with Qwt.\nOf course I did compare the APIs. However I am interested in the testimonies of experienced users from both libraries. What is convenient? What not? Are there any pitfalls?</p>\n"},{"tags":["qt","signals-slots"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3384,"score":4,"question_id":2610151,"title":"Qt - no such signal error","body":"<p>I'm trying to trigger a signal when a double click happens in one of the draggable widgets on the <a href=\"http://doc.qt.nokia.com/4.6/draganddrop-fridgemagnets.html\" rel=\"nofollow\">fridge magnets example</a>. Here's the changes I made to the example source:</p>\n\n<p>DragLabel:</p>\n\n<pre><code>class DragLabel : public QLabel\n{\npublic:\n    DragLabel(const QString &amp;text, QWidget *parent);\n    QString labelText() const;\n\npublic slots:\n    void testSlot(){qDebug()&lt;&lt;\"testSlot\";}    //&lt;-- implemented this slot\n\nprotected:\n    void mouseDoubleClickEvent(QMouseEvent *ev){emit testSignal();}    //&lt;-- overriden this method\n\nprivate:\n    QString m_labelText;\n\nsignals:\n    void testSignal();    //&lt;-- added this signal\n\n};\n</code></pre>\n\n<p>The only thing I changed in the implementation file is adding <code>connect(this,SIGNAL(testSignal()),this,SLOT(testSlot()));</code> to DragLabel's constructor.</p>\n\n<p>Trying to compile the project resulted in '<em>undefined reference to `DragLabel::testSignal()</em>' and '<em>collect2: ld returned 1 exit status</em>' errors. </p>\n\n<p>When I comment out the call to the signal, it compiles and runs, but gives off '<em>Object::connect: No such signal QLabel::testSignal() in draglabel.cpp</em>' warning in the application output. Apparently testSignal() isn't being recognized as a signal.</p>\n\n<p>I've tried to add the Q_OBJECT macro to DragLabel but it results in 4 '<em>undefined reference to `vtable for DragLabel'</em>' warnings and a '<em>collect2: ld returned 1 exit status</em>' error.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["python","qt","pyqt","qdialog"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":4887,"score":5,"question_id":406939,"title":"PyQt: getting widgets to resize automatically in a QDialog","body":"<p>I'm having difficulty getting widgets in a QDialog resized automatically when the dialog itself is resized.</p>\n\n<p>In the following program, the textarea resizes automatically if you resize the main window.  However, the textarea within the dialog stays the same size when the dialog is resized.</p>\n\n<p>Is there any way of making the textarea in the dialog resize automatically?  I've tried using <code>setSizePolicy(QSizePolicy.Ignored, QSizePolicy.Ignored)</code> on the dialog itself and the two widgets within, but that seems to have no effect.</p>\n\n<p>I'm using Qt version 3.3.7 and PyQt version 3.5.5-29 on openSuSE 10.2, if that's relevant.</p>\n\n<pre><code>import sys\nfrom qt import *\n\n# The numbers 1 to 1000 as a string.\nNUMBERS = (\"%d \" * 1000) % (tuple(range(1,1001)))\n\n# Add a textarea containing the numbers 1 to 1000 to the given\n# QWidget.\ndef addTextArea(parent, size):\n    textbox = QTextEdit(parent)\n    textbox.setReadOnly(True)\n    textbox.setMinimumSize(QSize(size, size*0.75))\n    textbox.setText(NUMBERS)\n\n\nclass TestDialog(QDialog):\n    def __init__(self,parent=None):\n        QDialog.__init__(self,parent)\n        self.setCaption(\"Dialog\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 400)\n        everything.resize(everything.sizeHint())\n\n\nclass TestMainWindow(QMainWindow):\n    def __init__(self,parent=None):\n        QMainWindow.__init__(self,parent)\n        self.setCaption(\"Main Window\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 800)\n\n        button = QPushButton(\"Open dialog\", everything)\n        self.connect(button, SIGNAL('clicked()'), self.openDialog)        \n\n        self.setCentralWidget(everything)\n        self.resize(self.sizeHint())\n\n        self.dialog = TestDialog(self)\n\n    def openDialog(self):\n        self.dialog.show()\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    mainwin = TestMainWindow(None)\n    app.setMainWidget(mainwin)\n    mainwin.show()\n    app.exec_loop()\n</code></pre>\n"},{"tags":["file","qt","if-statement","multiple","labels"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":34,"score":-2,"question_id":13209377,"title":"Changing label text using if statement","body":"<p>I've 2 years experience programming with console applications (thou not really an advanced programming either I can structs file handling and all the basics over there). </p>\n\n<p>After programming in school for two years I noticed that I want to do something more than just an console application. I started with Qt GUI.</p>\n\n<p>I have big problems with multiple files sometimes I don't know where I should put some code main, header or even maybe main window.</p>\n\n<p>My problem is that I wanted to do an if statement to change text inside an label. If I'm right the if statement code has to be inside the <code>mainwindow.cpp</code> because I noticed that's the only place where I can use an ui-> command.</p>\n\n<p>For example I created an label called \"updates\" and I tried to write something like this in <code>mainwindow.cpp</code> without <code>void MainWindow</code>...</p>\n\n<pre><code>if(1==1) { ui-&gt;updates-&gt;setText(\"Test\"); }\n</code></pre>\n\n<p>That doesn't really work because I get some unknown if syntax errors. Looks like I do something really wrong if I can't handle an if statement. If try to do this in <code>main.cpp</code> I get <code>'ui' : undeclared identifier</code>. I know how to change an label text using an button but I want to do it using if statement.</p>\n\n<p>What I'm doing wrong? Looks like I lack the fundamentals about files. </p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13204800,"title":"Displaying and editing date in QTableView","body":"<p>I have simple application which show table from sqlite database in QTableView. One column of table is for storing date. I want to provide user easy way to modify date in this column. I have reimplemented <code>data</code> method of <code>QtSql.QSqlTableModel</code> to change <code>QVariant</code> type to <code>QDate</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    [...]\n\n    def data(self, index, role=QtCore.Qt.DisplayRole):\n        if index.column() == 3:\n            return super(Model, self).data(index, role).toDate()\n        return super(Model, self).data(index, role)\n\n    [...]\n</code></pre>\n\n<p>After this change I got column:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rfQzO.png\" alt=\"date column\"></p>\n\n<p>But user dont have possibility to have empty date. How can I fix that?</p>\n\n<p>Is it possible to have calendar popup instead of this date edit? Should I use delegate or there is other way go? If delegate is best way, how to set delegate for single QTableView column?</p>\n"},{"tags":["c++","windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13208679,"title":"include Qt Plugin/Libraries in Project","body":"<p>is there any way to include plugin and Qt's libraries in project ? I'd like to make executable that will be like portable. I don't like RarSFX, or things like that. Is there any other way to do it? I've heard that I can put DLLs in projects resources and use from there, but I don't know how to do that. Thank you!</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":67,"score":4,"question_id":13055423,"title":"Virtual column in QTableView?","body":"<p>I'm started to learning Qt4 Model/View Programming and I have beginner question.</p>\n\n<p>I have simple application which show sqlite table in <code>QTableView</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    def __init__(self, parent=None):\n        super(Model, self).__init__(parent)\n        self.setEditStrategy(QtSql.QSqlTableModel.OnFieldChange)\n\n        self.setTable(\"test\")\n        self.select()\n\nclass App(QtGui.QMainWindow):\n    def __init__(self, model):\n        QtGui.QMainWindow.__init__(self)\n\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n\n        self.ui.tableView.setModel(model)\n\nif __name__ == \"__main__\":\n    myDb = QtSql.QSqlDatabase.addDatabase(\"QSQLITE\")\n    myDb.setDatabaseName(\"test.db\")\n\n    if not myDb.open():\n        print 'FIXME'\n\n    model = Model()\n\n    app = QtGui.QApplication(sys.argv)\n    window = App(model)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Here how database looks like:</p>\n\n<pre><code>sqlite&gt; create table test (a INTEGER, b INTEGER, c STRING);\nsqlite&gt; insert into test VALUES(1, 2, \"xxx\");\nsqlite&gt; insert into test VALUES(6, 7, \"yyy\");\n</code></pre>\n\n<p>So I'm getting something like:</p>\n\n<pre><code>+---+---+-----+\n| a | b |  c  |\n+---+---+-----+\n| 1 | 2 | xxx |\n+---+---+-----+\n| 6 | 7 | yyy |\n+---+---+-----+\n</code></pre>\n\n<p>Is it possible to modify <code>Model</code> to have in <code>QTableView</code> something like virtual column? For example something like:</p>\n\n<pre><code>+---+---+-----+-----+\n| a | b | sum |  c  |\n+---+---+-----+-----+\n| 1 | 2 |  3  | xxx |\n+---+---+-----+-----+\n| 6 | 7 | 13  | yyy |\n+---+---+-----+-----+\n</code></pre>\n\n<p>Or maybe I should do it in some other way?</p>\n"},{"tags":["qt","ubuntu","gtk"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":560,"score":0,"question_id":10600675,"title":"ugly Qt app look under ubuntu","body":"<p>I'm involed in developing some Qt application build under Linux. I have downloaded the source code and compiled it under Windows 7 firstly, but then I decided to work under Ubuntu. The problem is, the application in Linux looks like in Win95 times. I have installed Qt4 Settings and chosen GTK+ style, but this improved the look only a little bit, though it still looks very ugly (like 256 collors pallette, font is italic). I have also installed many gtk libraries, but nothing helped. I use Qt-4.7.4. I know that it should look different, beacuse on Windows the problem doesn't appear, even on my boss' computer, who is also using Ubuntu, the application looks much better.</p>\n\n<p>The app changes style to QPlasticStyle itself.</p>\n\n<p>Thanks in advance for every answer.</p>\n\n<hr>\n\n<p>Well, another lot of tries, but nothing changed. Maybe I will show you the problem. How the app should look like (more or less) (ss made by one of my co):\n<a href=\"http://postimage.org/image/70p6sw7xd/full/\" rel=\"nofollow\">http://postimage.org/image/70p6sw7xd/full/</a></p>\n\n<p>and how it actually looks like (ss made by me):\n<a href=\"http://postimage.org/image/48psktnuj/full/\" rel=\"nofollow\">http://postimage.org/image/48psktnuj/full/</a></p>\n\n<p>There are two things that I haven't done so far:<br/>\n1) At the beginning, I installed Qt-4.8.1, but it was generating some OpenGL errors with <code>make</code> so I then downloaded 4.7.4 version (the one that my boss and cos are using) and was strugling with installation. Finally, I just overwrote qt-make from 4.8.1 with the one from 4.7.4 and it compiled fine. But then I encountered the 'Question thing'. The point - all Qt applications tells (Help-> About Qt) that they are using Qt-4.8.1 and I wonder if it has some connection with the problem.</p>\n\n<p>2) Second thing is my graphics. I have MSI CX640 notebook with Nvidia Optimus on board. After installing Ubuntu I had to make it using the integrated Intel HD3000 instead of the dedicated GT520M (it was making the fan behave noisely unnecessary). I have googled for the way to do so and actually succeded in disabling GT520M. What is the point of it - I'm not sure, but I remember some OpenGL things were mentioned on sites where I was searching for the solution). I think this has nothing in common with the problem, but I'm so frustraded tha now I'm insighting everything.</p>\n\n<p>Maybe these can give better overview of the problem. </p>\n\n<p>PS. Thanks for your attemps, I appreciate them.</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13204322,"title":"qtoolbutton menu: making icons larger/wider","body":"<p>When using a QToolButton with a menu, it seems I can only get a 16x16 icon to the left of some text.  Is it possible to redefine this to have a larger/wider icon area.</p>\n\n<p>I <em>think</em> I need to use a proxy style but having trouble knowing where to start. Can somebody point me in the direction of a useful example please?</p>\n"},{"tags":["c++","linux","qt","shell","ubuntu"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":13204177,"title":"how to find out if running from terminal or GUI","body":"<p>I am trying to build a class that would behave is a different way if run using a shell or from a GUI.</p>\n\n<p>It could be included in both forms using #include \"myclass.h\"...</p>\n\n<p>However, in the constructor I would like to differentiate between Shell runs and GUI runs.</p>\n\n<p>I can easily achieve it using a parameter that would be passed to the constructor when declaring it but I want to explore my options.</p>\n\n<p>I am using C++ on ubuntu and my GUI is using Qt.</p>\n"},{"tags":["c++","qt","rte"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13188192,"title":"Having trouble with rich text editing in QT","body":"<p>I am trying to add rich text editing to my application and I cant seem to get it to work. This is just one example but I cant get it to work. Can anyone please tell me what I am missing?</p>\n\n<p>Here is the code that I have so far...this is in the \".h\" file</p>\n\n<pre><code>private slots:\nvoid newFile();\nvoid open();\nbool save();\nbool saveAs();\nvoid about();\nvoid documentWasModified();\nvoid bold();\n</code></pre>\n\n<p>and this is in the .cpp file...also I have #include QTextEdit></p>\n\n<pre><code>    void MainWindow::bold()\n{\n}\n</code></pre>\n\n<p>along with this down the page a little more</p>\n\n<pre><code>boldAct = new QAction(tr(\"&amp;Bold\"), this);\n    boldAct-&gt;setCheckable(true);\n    boldAct-&gt;setShortcut(QKeySequence::Bold);\n    boldAct-&gt;setStatusTip(tr(\"Make the text bold\"));\n    connect(boldAct, SIGNAL(triggered()), this, SLOT(bold()));\n</code></pre>\n"},{"tags":["c++","windows","qt","communication"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1608,"score":1,"question_id":5839132,"title":"C++ How to make two programs communicate?","body":"<p>Question: <em>What is the best way to make two programs (both running on the same computer) communicate and interact? (Windows, C++)</em></p>\n\n<p>Theoretical situation:</p>\n\n<ol>\n<li><p>On a Windows PC, I have a <strong>3rd party software</strong> that you use to do stuff (like open/edit/save files...it's not really important). This <strong>3rd party software</strong> has an available <strong>C++ SDK</strong> so you can develop plugins for it.</p></li>\n<li><p>I develop a separate <strong>standalone</strong> Windows C++ program (most likely using Qt) with a GUI. This program is made to run on the same Windows computer as the 3rd party software. This program would act as a <strong>remote control</strong> or sender.</p></li>\n<li><p>Using the 3rd party software's SDK, I develop a tiny <strong>plugin</strong> for the <strong>3rd party software</strong>. This program acts as a receiver, so that my Qt GUI can send commands that this plugin would receive and thus <em>remote control the 3rd party software accordingly</em>.</p></li>\n</ol>\n\n<p>So for a basic example, I could press a button on my standalone GUI that would communicate with the plugin that would then open a specified file in the 3rd party software. </p>\n\n<p>What I'm essentially looking for is to develop standalone software that would communicate back and forth with a plugin that I would develop for the 3rd party software.</p>\n\n<p>What is the best approach to this? I really have no clue where to start or what to look at. Are there common C++ libraries that make this type of thing easy?</p>\n\n<p>I'm relatively new to C++ and very new to Qt, so please try to elaborate. Please don't just say \"Use Shared Memory\" or something like that cause I'm not gonna know exactly what you are talking about.</p>\n\n<p>The program would NOT be run on a separate computer, so no network stuff is necessary here I don't think.</p>\n\n<p>Some questions I was thinking about:</p>\n\n<ol>\n<li><p>What if user has multiple copies of 3rd party software open at the same time. How does my standalone software know which one to communicate with?</p></li>\n<li><p>If I already have my standalone software running and open the 3rd party software, does the plugin somehow have to register or find my standalone software to communicate with it?</p></li>\n<li><p>If I already have the 3rd party software running and then open my standalone software does it have to scan for the plugin to see if its running or how does it find it?</p></li>\n</ol>\n\n<p>Any help would be greatly appreciated. I've done a search on the topic on SO but didn't see many questions for C++ specifically and most of them didn't have many answers or weren't very clear or didn't specifically refer to software communication with a plugin for a 3rd party program.</p>\n"},{"tags":["qt","dll","shared-libraries","so"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13202952,"title":"Qt generates multiple .so files - which one to use?","body":"<p>I am learning about <em>shared objects (.so)</em> / <em>dynamic link libraries (.dll)</em>. Since I'm on Linux only <em>.so</em> files are relevant. Anyway, when I compile a shared library, I get multiple <em>.so</em> files - most of which are only links. Here is a screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iKPVK.png\" alt=\"enter image description here\"></p>\n\n<p>Then I created another Qt console application project to test this SO. I had set up all the header files, copied every .so file from previous screenshot to this new project and added </p>\n\n<pre><code>LIBS += \"libAritmeticnoKodiranjeDLL.so\"\n</code></pre>\n\n<p>to project settings. If I compile the project it goes through OK. But when running my test app I get this error:</p>\n\n<p><em>./DLLTester: error while loading shared libraries: libAritmeticnoKodiranjeDLL.so.1: cannot open shared object file: No such file or directory</em></p>\n\n<p>Where is the problem and why do I get so many .so files?</p>\n"},{"tags":["qt"],"answer_count":7,"favorite_count":5,"up_vote_count":17,"down_vote_count":0,"view_count":16148,"score":17,"question_id":696209,"title":"In Qt, how to make the QDialog non-resizeable and have a fixed size?","body":"<p>I have a Qt dialog application. Now I dont want that dialog to be resizeable. I am not sure how to achieve this. I tried a bunch of things but still when the dialog launches this dialog can be resized. </p>\n\n<p>What is the property that i should set to disable the dialog/Widget resize.</p>\n\n<p>I also tried</p>\n\n<pre><code>setSizePolicy(QSizePolicy::Fixed);\n</code></pre>\n\n<p>But i get an error saying.. </p>\n\n<pre>\nsource\\nimcac_settingsMain.cpp(36) : error C2248:\n**'QSizePolicy::QSizePolicy' : cannot access private member declared in class 'QSizePolicy'**\n        p:\\ThirdPartyExports\\Qt\\export\\4.3\\4.3.1f14\\include\\QtGui\\../../src\\gui\\\nkernel\\qsizepolicy.h(177) : see declaration of 'QSizePolicy::QSizePolicy'\n        p:\\ThirdPartyExports\\Qt\\export\\4.3\\4.3.1f14\\include\\QtGui\\../../src\\gui\\\nkernel\\qsizepolicy.h(34) : see declaration of 'QSizePolicy'\n</pre>\n\n<p>Kindly help me out with this.</p>\n\n<p>Regards,\nArjun</p>\n"},{"tags":["c++","qt","qstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12981868,"title":"Error when declaring QStringList","body":"<p>I have a public function:</p>\n\n<pre><code>void determineAction(QStringList tempL); // in header file\n\nvoid CompArch::determineAction(QStringList tempL)\n{\n\n\n}\n\n//in cpp file\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>CompArch.cpp:127:6: error: ‘tempL’ has incomplete type\n/usr/include/qt4/QtCore/qstring.h:77:7: error: forward declaration of ‘struct QStringList’\n</code></pre>\n\n<p>any ideas why this might be.</p>\n"},{"tags":["python","qt","pyqt","scheduled-tasks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13202014,"title":"Passing a parameter to QTimer timeout signal?","body":"<p>I'm using Python and PySide (the PyQt alternative). I have an application that runs in a background and I'd like to use QTimer to schedule some tasks to be performed.</p>\n\n<p>However, I need the QTimer to call one method in my program, but this method requires the \"initialization parameters\" that will specify what exactly is method supposed to do.</p>\n\n<p>Am I correct in thinking that I would need to subclass QTimer and override either the <code>timeout</code> or the <code>start</code> method? If so, then which one and how would I go about that? I have almost no experience overriding existing methods and Googling didn't turn up a lot of results (there were some with C++ which I don't understand). I have managed to do something (for example I overrode the <code>start()</code> method, but then the code of the original start method does not execute (understandably) and I have no idea what that code is supposed to be.</p>\n\n<p>Or is there some other way?</p>\n"},{"tags":["c++","qt","qwidget","qt5"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13198367,"title":"How to put QWindow into QWidget's layout (Qt5)","body":"<p>I want to insert QQuickView to my old qt4 application in some widget layout. How to mix QWidget and QWindow in a single application?</p>\n\n<p>Are there any examples?</p>\n"},{"tags":["osx","qt","ssl","ssl-certificate"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":72,"score":4,"question_id":13093025,"title":"Qt on OSX 10.5.8: \"The root CA certificate is not trusted for this purpose\"","body":"<p>I have a Qt application which succeeds in making an HTTPS request to our website on OSX 10.7, but fails on 10.5.8 with the QSslError::errorString \"The root CA certificate is not trusted for this purpose\".</p>\n\n<p>I am setting the root certificate with:</p>\n\n<pre><code>QFile certFile1(\":/Equifax_Secure_Certificate_Authority.pem.txt\");\nQSslCertificate cert1(&amp;certFile1, QSsl::Pem);\ncertList.append(cert1);\n\nQSslConfiguration sslConfig(request.sslConfiguration());\nsslConfig.setCaCertificates(certList);\nrequest.setSslConfiguration(sslConfig);\n</code></pre>\n\n<p>If I set some other certificate, I get two error strings \"The issuer certificate of a locally looked up certificate could not be found\" AND \"The root CA certificate is not trusted for this purpose\", on both OSX 10.5.8 and 10.7. This is what I'd expect.</p>\n\n<p>What makes Qt not trust the Equifax certificate only on 10.5.8?</p>\n\n<p>EDIT: Possible clue (or red herring): looking at the respective WireShark traces, the 10.5.8 client doesn't include Server Name Indication or Session Ticket TLS extensions in its client hello handshake.</p>\n\n<p>EDIT 2: Building as 32-bit on 10.5.8 works. Also, building as universal (32 and 64-bit Intel) on 10.7 and running on 10.5.8, linking against 32-bit Qt libraries built on 10.5.8 works.</p>\n\n<p>EDIT 3: I have placed an example at <a href=\"https://github.com/cdemel/SO_examples/tree/master/soqtssl\" rel=\"nofollow\">https://github.com/cdemel/SO_examples/tree/master/soqtssl</a>, using a different website (Twitter) and root cert, with the same behavior.</p>\n"},{"tags":["c++","qt","table","row","item"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13198724,"title":"How to get the correct row from QTableWidget::item after sortting by column (Qt BUG ?)?","body":"<p>I'm doing some table stuff in <code>Qt C++</code>, and today I found something very suspicious after I set <code>sortEnabled(true)</code>. I wanted to sort <code>QTableWidget</code> by columns and that's why I set that property to <code>true</code>. Logically I've got what I wanted but I've noticed that when I <code>double click</code> on a <code>row of a table</code> a modal dialog that corresponds to other row is opening. \nI put in that table <code>QTableWidgetItem-s</code>. </p>\n\n<pre><code> QTableWidgetItem* widgetItem = new QTableWidgetItem();\n widgetItem-&gt;setData(Qt::UserRole, it-&gt;id);\n</code></pre>\n\n<p>On <code>double click signal</code> I'm extracting the row item with <code>QTableWidget::item(int aRow, int aCol)</code>, then I'm getting the custom unique ID (at each row I've assigned unique ids). </p>\n\n<p>The point is: after click on column header and sort I'm getting the ID of the row which was on that position before the sorting. The ID that I've got now corresponds to other row because I have sorted by other column. </p>\n\n<p>How I can escape from that problem? Did I do something wrong. Or I have forgotten to set some property to true/false?</p>\n\n<p>I'm thinking that <code>sort</code> affects just the visual side of the table, but not in structural way...</p>\n\n<p>I just want the proper Id, nothing else.</p>\n\n<p>Here Is a short example of the table situation:</p>\n\n<p>Before soring:</p>\n\n<pre><code>===id=======category==\n|   47   |     b     |\n|   48   |     a     |\n|   49   |     c     |\n|   50   |     d     |\n======================\n</code></pre>\n\n<p>When double click on <code>b</code> item(1,1) returns the <code>correct QTableWidget*</code> and <code>ID = 47</code></p>\n\n<p>Now I'm clicking catetegory header to sort</p>\n\n<p>After Sorting:</p>\n\n<pre><code>===id=======category==\n|   48   |     a     |\n|   47   |     b     |\n|   49   |     c     |\n|   50   |     d     |\n======================\n</code></pre>\n\n<p>When double click on <code>a</code> item(1,1) returns the <code>the old one QTableWidget*</code> and <code>ID = 47</code> <strong>AGAIN</strong>!!??   <strong>I want to get 48 not 47..</strong></p>\n\n<p>Can anyone help me?</p>\n"},{"tags":["qt","opengl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":266,"score":0,"question_id":10731626,"title":"Qt OpenGLScene working example","body":"<p>I'm using an OpenGLScene as a wrapper of the openGL, and I've started with <a href=\"http://doc.qt.nokia.com/qq/qq26-openglcanvas.html\" rel=\"nofollow\">the most simple example of that I've found on the internet</a>. I've just copied everything from the link where they have a zip.</p>\n\n<p>I compiled and run the program, and apparently this warning is always coming up (in the drawbackground method):</p>\n\n<pre><code>if (painter-&gt;paintEngine()-&gt;type()\n                != QPaintEngine::OpenGL) {\n            qWarning(\"OpenGLScene: drawBackground needs a \"\n                     \"QGLWidget to be set as viewport on the \"\n                     \"graphics view\");\n            return;\n</code></pre>\n\n<p>Does anyone knows why (I'm on a Mac)? Does anyone has a more \"stable\" example? Is this warning relevant?</p>\n\n<p>Basically, I would like to know why this warning is appearing, and how can I get rid of it...</p>\n\n<p>I don't really know where to start. I've tried several simple things (making the QGLWidget current Context for instance), but I don't know enough Qt to understand the when and how is the drawbackground method called.</p>\n"},{"tags":["qt","qt4","signals-slots","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13190258,"title":"Would the slot get called multiple times if I connect the same slots for multiple times?","body":"<p>If I connect the same signal with the same slot twice, would this cause a bug? e.g the slot get called twice when the signal is emitted?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13196651,"title":"Qt: How to select the window frame in a mouseMoveEvent?","body":"<p>I know this can be done with a QSizeGrip, but it looks clunky, so I’d prefer to use the usual window edges. Thanks!</p>\n"},{"tags":["qt","qmake","gdcm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13196772,"title":"gdcm libs link order","body":"<p>I am trying to link my Qt app to gdcm library.\nWhen I build it, I get several errors like this: undefined reference to 'gdcm::System::FileExists(char const*)'.\nI think the problem comes from the link order specified in my .pro file:</p>\n\n<pre><code>LIBS += -lgdcmMSFF \\\n    -lgdcmCommon \\\n    -lgdcmDICT \\\n    -lgdcmDSED \\\n    -lgdcmIOD \\\n    -lgdcmMEXD \\\n    -lgdcmcharls \\\n    -lgdcmexpat \\\n    -lgdcmjpeg12 \\\n    -lgdcmjpeg16 \\\n    -lgdcmjpeg8 \\\n    -lgdcmopenjpeg \\\n    -lgdcmzlib \\\n    -lgdcmgetopt \\\n    -lsocketxx \\\n</code></pre>\n\n<p>Can anybody provide me the correct order for gdcm libs ?\nThanks</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13138868,"title":"qt qml: fade image horizontally (i.e from left to right ... not whole image)","body":"<p><img src=\"http://i.stack.imgur.com/ZvY9l.png\" alt=\"enter image description here\">i m showing 3 images horizontally at a time using PathLine. \nThe left and right image need to be shown as 50% faded from left &amp; 50% faded from right.\nHere i cannot use a black rectangle gradient to show the fade effect as my parent is 20% transparent &amp; it floats on a background video.</p>\n\n<p>So is there any ways to apply the opacity property as a horizontal fade animation?</p>\n"},{"tags":["c++","qt","graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13194127,"title":"Qt4.8 QGraphicsWidget usage","body":"<p>I can't figure out from the docs, how to use QGraphicsWidget to draw something on it.</p>\n\n<p>Can you help me please? I try this code but when I add it to the graphics scene it shows nothing.</p>\n\n<pre><code>class Platform : public QGraphicsWidget\n{\n\n    public:\n        Platform()\n        {\n\n            QGraphicsEllipseItem elipse(0,0,10,10,this);\n            setGraphicsItem(&amp;elipse);\n\n        }\n\n};\n</code></pre>\n"},{"tags":["c++","windows","qt","cross-compiling","raspberry-pi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":508,"score":3,"question_id":11786004,"title":"Windows 7 and c++ : Cross compiling application for use on Raspberry Pi","body":"<p>I recently got a Raspberry Pi and I've installed the Raspbian “wheezy” image onto it. My main development machine is running Windows 7, and I'm using Qt Creator as my development environment. I'm trying to find a tool chain that my main computer can use to compile my c++ application for the Raspberry Pi. I've looked all over the place for tutorials and articles on how to do this but all I can find is tutorials for compiling from linux to windows. Which is the opposite of what I'm trying to do. I also noticed that there's a image available that comes with the Qt SDK but I'd rather use the Raspbian image for now. Has anyone been able to find a way get there programs from windows to there Pi? I'm a serious novice when it come's to cross-compiling. D:</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":13195083,"title":"qt sdk 1.2.1 not possible to download anymore","body":"<p>It seems that there is not possible to download qt sdk version from\n<a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a>\nWhen i try to download the linux offline variant 64 bits  i will be redirect to</p>\n\n<p><a href=\"http://www.developer.nokia.com/dp?uri=http%3A%2F%2Fsw.nokia.com%2Fid%2F14b2039c-0e1f-4774-a4f2-9aa60b6d5313%2FQt_SDK_Lin64_offline\" rel=\"nofollow\">http://www.developer.nokia.com/dp?uri=http%3A%2F%2Fsw.nokia.com%2Fid%2F14b2039c-0e1f-4774-a4f2-9aa60b6d5313%2FQt_SDK_Lin64_offline</a></p>\n\n<p>i become a member there but i can not download the sdk.\nDoes anyone knows any alternative place to download the qt sdk 1.2.1 for linux (or windows)</p>\n"},{"tags":["qt","qml","blackberry-10","blackberry-cascades"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13191863,"title":"How do I react to a QML button click in C++","body":"<p>I am trying to launch a different QML Page from my C++ code by hooking into the clicked() slot of a button in my QML but it's not working.</p>\n\n<pre><code>    Button {\n        objectName: btnLogin\n        text: qsTr(\"Login\")\n        id: btnLogin\n    }\n</code></pre>\n\n<p>And the c++</p>\n\n<pre><code>QObject *newButton = root-&gt;findChild&lt;QObject*&gt;(\"btnLogin\");\nQObject::connect(newButton, SIGNAL(clicked()), this, SLOT(loginClick()));\n</code></pre>\n\n<p>The slots in my hpp file:</p>\n\n<pre><code> public slots:  \n    void loginClick();\n</code></pre>\n\n<p>And my clicked method:</p>\n\n<pre><code>void GConnectBB::loginClick() {\n    int i = 0;\n\n    Button *newButton = root-&gt;findChild&lt;Button*&gt;(\"btnLogin\");\n    if (newButton)\n        newButton-&gt;setProperty(\"text\", \"New button text\");\n}\n\n\nQObject *newButton = root-&gt;findChild&lt;QObject*&gt;(\"btnLogin\"); \n</code></pre>\n\n<p>Is null when I check through the debugger. I am extremely rusty with C++ and completely new to Qt, please be gentle :) What could I be doing wrong?</p>\n"},{"tags":["json","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13193146,"title":"How to Pass JsonObject as a parameter in a function using evaluateJavascript() in QT","body":"<p>Well I have updated my QT version to version 5 (Latest release) ... </p>\n\n<p>I have to pass a JsonObject as a parameter </p>\n\n<p>I am using this statement to pass the argument :</p>\n\n<pre><code>QString dnames = QString(\"getNameList(%1)\").arg(data);  \n</code></pre>\n\n<p>here data is the JSON object , and it dosent compiles and throws type Casting error.</p>\n\n<p>Please if someone provide me an alternative how to pass this JSonObject as a parameter to the above function.</p>\n\n<pre><code>m_d-&gt;m_webView-&gt;page()-&gt;mainFrame-&gt;evaluateJavascript(dnames);\n</code></pre>\n"},{"tags":["c++","qt","multiple-inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13188814,"title":"Qt QSharedDataPointer Multiple Inheritance diamond pattern?","body":"<p>I have 2 classes defined in the .h file of my app</p>\n\n<pre><code>class GroupElement : public QSharedData\n{\npublic:\n    int Id;\n    int GroupIndex;\n    QString Title;\n    QSharedDataPointer&lt;AccessDescriptor&gt; pAccessDescriptor;\n    QString Owner;\n};\n\nclass Class2 : public GroupElement\n{\npublic:\n    QSharedDataPointer&lt;QList&lt;int&gt; &gt;  Categories;\n    // ... many other class members\n}\n\nclass3 : public QObject\n{\n  Q_OBJECT\npublic:\ntemplate &lt;class T&gt; QSharedDataPointer&lt;QList&lt;T&gt; &gt; toTQList(QVariant qv );\n//...more ....\n}\n</code></pre>\n\n<p>In another function I try to assign a value to 'Categories'</p>\n\n<pre><code>QSharedDataPointer&lt;Class2&gt;\nClass3::afunction(QVariantMap o)\n{\n\n    QSharedDataPointer&lt;Class2&gt; getResult(new Class2());\n\n    getResult-&gt; Categories = toTQList&lt;int&gt;(o[\"Categories\"]);\n\n    // ... more code ...\n}\n</code></pre>\n\n<p>When compiling the code as shown, the compiler complains \"class ...has no member named 'ref'\".  This usually indicates that I need to add public QSharedData as the base class.  But in this case Class2 is already derived from GroupElement which has QSharedData as a base class.  If I add QSharedData as a base class to Class 2, I get warning messages \"direct base 'QSharedData' inaccessible in 'Class2' do to ambiguity.  I think may have run into one of the 'diamond problem' with multiple inheritance but I'm not experienced enough in Qt or c++ to know how to resolve it.  </p>\n\n<p>Help would be greatly appreciated.</p>\n"},{"tags":["qt","compiler","network-programming","qfile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13190274,"title":"Transmitting an exe file via network in Qt","body":"<p>I am trying to create a Remote compiling system in Qt. What I am trying to do is to get the C/C++ source from the client and calling the locally available GCC via QProcess on the server, create the exe file and then transmit the exe back to the client. Simple right?</p>\n\n<p>The exe file is being generated perfectly but Qt is just not able to read the file into an array to transmit it.</p>\n\n<p>My Code is:</p>\n\n<pre><code>QByteArray arr;\nqDebug() &lt;&lt; \"To Client: exe\";\nQFile f(\"compiled.exe\");\nqDebug() &lt;&lt; f.exists(); //output = false\nQString path = QDir::toNativeSeparators(QFileInfo(f).absoluteFilePath()); \nqDebug() &lt;&lt; path; //perfect path is coming\nqDebug() &lt;&lt; f.open(QIODevice::ReadOnly); //output = flase\narr = f.readAll(); // size of arr is 0\nf1.close();\nclient-&gt;write(arr); //zero bytes written\n</code></pre>\n\n<p>Although the exe file is very much present, I am getting such outputs. I tried with other files in the same directory, it works absolutely perfectly. Only exe files wont work.\nI am using Qt 4.8.1 32 bit on Windows using MSVC v16.00.40219.10 as the compiler.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["qt","qt4","qdialog","qmainwindow","qt4.8"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12953983,"title":"Detect end of movement of QMainWindow / QDialog (Qt 4.8)","body":"<p>I’m using Qt 4.8.3 on X11.</p>\n\n<p>I need to know when the user ends with dragging a window around the screen,\nthis in order to read the final position and eventually start an animation to adjust the window position to an “allowed” one.</p>\n\n<p>I noticed that the QWidget::moveEvent is called for each small movement, but this is very unconvenient because I must perform position checking (and eventually strat the animation) only when the user releases the mouse button and the movement is completely finished.</p>\n\n<p>This is the real problem: it seems that there is no way to detect the mouse release event (or to get the mouse buttons status) when the user clicks on the titlebar, since it is controlled by the OS and not by Qt.\nI tried also with the QWidget::x11event(XEvent* e)… but the events are collected only inside the window, not the title bar, as well.</p>\n\n<p>Does someone know a way to achieve this?</p>\n\n<p>I suspect that I will have to reimplement the titlebar myself… too bad…</p>\n\n<p>thank you! ;-)</p>\n"},{"tags":["qt","glsl","qml","alphablending"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13161296,"title":"Strange alpha blending results with ShaderEffectItem","body":"<p>I'm trying to apply a simple alpha mask on a QML item using <code>ShaderEffectItem</code>.</p>\n\n<p>Here is a minimal (non-)working example: I have a red-to-write gradient as the background and want to draw a green 200x200 square on top of it. The alpha mask for this square should be 0.0 at the left and 1.0 at the right border, so it should be transparent at the left border.</p>\n\n<pre class=\"lang-qml prettyprint-override\"><code>import QtQuick 1.1\nimport Qt.labs.shaders 1.0\n\nRectangle {\n    width: 300\n    height: 300\n\n    id: wrapper\n\n    gradient: Gradient {\n        GradientStop { position: 0.0; color: \"red\" }\n        GradientStop { position: 1.0; color: \"white\" }\n    }\n\n    Rectangle {\n        id: square\n        anchors.centerIn: parent\n        width: 200\n        height: 200\n        color: \"green\"\n    }\n\n    ShaderEffectItem {\n        anchors.centerIn: parent\n        width: 200\n        height: 200\n\n        property variant source: ShaderEffectSource {\n            sourceItem: square\n            hideSource: true\n        }\n\n        fragmentShader: \"\n        varying vec2 qt_TexCoord0;\n        uniform sampler2D source;\n        void main(void)\n        {\n            vec4 sourceColor = texture2D(source, qt_TexCoord0);\n            float alpha = qt_TexCoord0.x; // = 0.0 at left, 1.0 at right border\n            sourceColor.a *= alpha;       // apply alpha mask\n            gl_FragColor = sourceColor;\n        }\n        \"\n    }\n}\n</code></pre>\n\n<p>I expected the following output (drawn with GIMP):</p>\n\n<p><img src=\"http://i.stack.imgur.com/rzcrt.png\" alt=\"Expected result\"></p>\n\n<p>But this is actually shown:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Tkv4Z.png\" alt=\"Actual result\"></p>\n\n<p>What am I doing wrong?</p>\n\n<p>I'm using <strong>qmlviewer</strong> (Qt 4.8.2) to display the QML file with the <code>-opengl</code> option in order to enable the shader effect.</p>\n\n<p>Maybe this is related to <a href=\"http://stackoverflow.com/questions/12306894/wrong-alpha-blending-when-rendering-on-a-qglframebufferobject\">this strange behavior with alpha blending on QGLFramebufferObjects</a> I found some weeks ago...</p>\n"},{"tags":["c++","qt","class","file-io","static"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13190848,"title":"Should file declaration in class be static?","body":"<p>I have simple class that bean created allot , in this class I write to one central file \nI protect the file with mutex's,beacose few class instances can be doing write operation in the same time.<br>\nI don't pass the file reference into the class as argument .<br>\nwhat if I create the file as static member in the class  , so it will be created once .<br>\nis it better ?\nthis is what I have now :</p>\n\n<pre><code>CollectorWorker::CollectorWorker()\n{\n   m_pFileOutput = new QFile(\"my_result.txt\");\n   if (!m_pFileOutput-&gt;open(QIODevice::WriteOnly\n                          | QIODevice::Text | QIODevice::Append))\n   {\n     LOG_MSG(\"my_result.txt can't be open\")\n   } \n}\n\n//header\nQFile* m_pFileOutput;\n</code></pre>\n\n<p>or this with static</p>\n\n<pre><code>QFile* CollectorWorker::m_pFileOutput = new QFile(\"my_result.txt\");\nCollectorWorker::CollectorWorker()\n{\n  if (!m_pFileOutput-&gt;open(QIODevice::WriteOnly\n                         | QIODevice::Text | QIODevice::Append))\n  {\n    LOG_MSG(\"my_result.txt can't be open\")\n  } \n}\n\n//header\nstatic QFile* m_pFileOutput;\n</code></pre>\n"},{"tags":["c++","qt","profiling","verysleepy"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":251,"score":0,"question_id":8753924,"title":"Profiling Qt app with very Sleepy , how to analyze the results?","body":"<p>Im trying to find why my Qt application get delay in some point for second , this sec delay happens each add to list operation , and way i used the free profiler \"Very Sleepy\"\nand it gave some snapshot that i have hard time to analyze.\nhere is the top snapshot :\nfirst of all it seams that this winapi methods takes long:</p>\n\n<pre><code>Name,Exclusive,Inclusive\n    GetModuleFileNameA,983.451654,983.451654,87.500001,87.500001,kernel32,[unknown],0 \n</code></pre>\n\n<p>and there is no stack print .\nthe second method that taks long is :</p>\n\n<pre><code>GetLastInputInfo,128.507105,128.507105,11.433579,11.433579,USER32,[unknown],0\n</code></pre>\n\n<p>and in this stack trace i see heavy calling to QSettings::allKeys coming from QtCore4\ni dont call QSettings::allKeys</p>\n\n<p>and then i have :</p>\n\n<pre><code>QPixmap::alphaChannel,1.159998,140.493087,0.103208,12.499999,QtGuid4,[unknown],0\n</code></pre>\n\n<p>and here i do create images from bytarray info i download from the web , small 50X50 images\nusing :</p>\n\n<pre><code>QImage thumbnail = QImage::fromData(bytarray );\n</code></pre>\n\n<p>how  can i save here and maybe stop this app delays?</p>\n"},{"tags":["qt","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13176705,"title":"Qt installation on Mountain Lion from installer","body":"<p>I wanted to install Qt on Mountain Lion. For this, I went to <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> and downloaded the newest Qt library installer (4.8.3). I then followed the instructions, and at the end of the installation process, I got a message saying \"The installation failed\". Did anyone encounter problems with this version of Qt under Mountain Lion? </p>\n\n<p>Thanks a lot! </p>\n\n<p>Thomas. </p>\n\n<p>P.S.: This is the full log from the installer: </p>\n\n<pre><code>Nov  1 10:48:43 Macintosh.local Installer[99200]: @(#)PROGRAM:Install  PROJECT:Install-735\nNov  1 10:48:43 Macintosh.local Installer[99200]: @(#)PROGRAM:Installer  PROJECT:Installer-614\nNov  1 10:48:43 Macintosh.local Installer[99200]: Hardware: MacBookPro9,1 @ 2.60 GHz (x 8), 8192 MB RAM\nNov  1 10:48:43 Macintosh.local Installer[99200]: Running OS Build: Mac OS X 10.8.2 (12C60)\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: PATH=/usr/bin:/bin:/usr/sbin:/sbin\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: TMPDIR=/var/folders/3x/1w64hbq54698swps28n102q00000gp/T/\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: SHELL=/bin/bash\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: HOME=/Users/twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: USER=twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: LOGNAME=twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: SSH_AUTH_SOCK=/tmp/launch-yL5eiv/Listeners\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: Apple_Ubiquity_Message=/tmp/launch-kEy9gO/Apple_Ubiquity_Message\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: Apple_PubSub_Socket_Render=/tmp/launch-gkJ0hE/Render\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: DISPLAY=/tmp/launch-WODr77/org.macosforge.xquartz:0\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: COMMAND_MODE=unix2003\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: __CF_USER_TEXT_ENCODING=0x1F6:0:0\nNov  1 10:48:43 Macintosh.local Installer[99200]: Qt  Installation Log\nNov  1 10:48:43 Macintosh.local Installer[99200]: Opened from: /Volumes/Qt 4.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: Product archive /Volumes/Qt 4.8.3/Qt.mpkg trustLevel=100\nNov  1 10:48:44 Macintosh.local Installer[99200]: Referenced component packages (8) trustLevel=100\nNov  1 10:49:58 Macintosh.local Installer[99200]: InstallerStatusNotifications plugin loaded\nNov  1 10:50:09 Macintosh.local runner[99252]: Administrator authorization granted.\nNov  1 10:50:09 Macintosh.local Installer[99200]: ================================================================================\nNov  1 10:50:09 Macintosh.local Installer[99200]: User picked Standard Install\nNov  1 10:50:09 Macintosh.local Installer[99200]: Choices selected for installation:\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt.mpkg : Qt Packages : 0.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Tools\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_tools.pkg : com.trolltech.qt4.tools : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Libraries\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_libraries.pkg : com.trolltech.qt4.libs : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Install: \"Qt Documentation\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_docs.pkg : com.trolltech.qt4.docs : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Install: \"Qt Examples\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_examples.pkg : com.trolltech.qt4.examples : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Headers\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_headers.pkg : com.trolltech.qt4.headers : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Imports\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_imports.pkg : com.trolltech.qt4.imports : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Plugins\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_plugins.pkg : com.trolltech.qt4.plugins : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Translations\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_translations.pkg : com.trolltech.qt4.translations : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]: ================================================================================\nNov  1 10:50:09 Macintosh.local Installer[99200]: It took 0.00 seconds to summarize the package selections.\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFPKGDerivedDocument sortedPackageLocations]: result = (\n        \"file://localhost\"\n    )\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: location = file://localhost\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: Set authorization level to root for session\nNov  1 10:50:09 Macintosh.local runner[99252]: Administrator authorization granted.\nNov  1 10:50:09 Macintosh.local Installer[99200]: Will use PK session\nNov  1 10:50:09 Macintosh.local Installer[99200]: Starting installation:\nNov  1 10:50:09 Macintosh.local Installer[99200]: Configuring volume \"Macintosh HD\"\nNov  1 10:50:09 Macintosh.local Installer[99200]: Preparing disk for local booted install.\nNov  1 10:50:09 Macintosh.local Installer[99200]: Free space on \"Macintosh HD\": 700.85 GB (700845834240 bytes).\nNov  1 10:50:09 Macintosh.local Installer[99200]: Create temporary directory \"/var/folders/3x/1w64hbq54698swps28n102q00000gp/T//Install.992003AWHIN\"\nNov  1 10:50:09 Macintosh.local Installer[99200]: IFPKInstallElement (10 packages)\nNov  1 10:50:09 Macintosh.local Installer[99200]: Using authorization level of root for IFPKInstallElement\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: ----- Begin install -----\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: request=PKInstallRequest &lt;10 packages, destination=/&gt;\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: packages=(\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/Qt.mpkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/Qt.mpkg&gt;\"\n    )\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.tools (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.libs (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.headers (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.imports (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.plugins (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.translations (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:10 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:11 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:16 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:20 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: update_dyld_shared_cache -overlay /var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: prevent user idle system sleep\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: suspending backupd\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: Shoving /var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root (3 items) to /\nNov  1 10:50:26 Macintosh.local install_monitor[99260]: Temporarily excluding: /Applications, /Developer, /Library, /System, /bin, /private, /sbin, /usr\nNov  1 10:50:33 Macintosh.local installd[38810]: PackageKit: Executing script \"./postflight\" in /Volumes/Qt 4.8.3/packages/Qt_docs.pkg/Contents/Resources\nNov  1 10:50:33 Macintosh.local installd[38810]: PackageKit: Executing script \"./postflight\" in /Volumes/Qt 4.8.3/packages/Qt_examples.pkg/Contents/Resources\nNov  1 10:50:33 Macintosh.local installd[38810]: ./postflight: env: python: No such file or directory\nNov  1 10:50:33 Macintosh.local install_monitor[99260]: Re-included: /Applications, /Developer, /Library, /System, /bin, /private, /sbin, /usr\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: releasing backupd\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: allow user idle system sleep\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: Install Failed: Error Domain=PKInstallErrorDomain Code=112 \"An error occurred while running scripts from the package “Qt_examples.pkg”.\" UserInfo=0x7feaaa815be0 {NSFilePath=./postflight, NSURL=file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg, PKInstallPackageIdentifier=com.trolltech.qt4.examples, NSLocalizedDescription=An error occurred while running scripts from the package “Qt_examples.pkg”.} {\n        NSFilePath = \"./postflight\";\n        NSLocalizedDescription = \"An error occurred while running scripts from the package \\U201cQt_examples.pkg\\U201d.\";\n        NSURL = \"file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\";\n        PKInstallPackageIdentifier = \"com.trolltech.qt4.examples\";\n    }\nNov  1 10:50:34 Macintosh.local Installer[99200]: install:didFailWithError:Error Domain=PKInstallErrorDomain Code=112 \"An error occurred while running scripts from the package “Qt_examples.pkg”.\" UserInfo=0x7f9cd43c6ca0 {NSFilePath=./postflight, NSURL=file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg, PKInstallPackageIdentifier=com.trolltech.qt4.examples, NSLocalizedDescription=An error occurred while running scripts from the package “Qt_examples.pkg”.}\nNov  1 10:50:35 Macintosh.local Installer[99200]: Install failed: The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance.\nNov  1 10:50:35 Macintosh.local Installer[99200]: IFDInstallController D4020140 state = 7\nNov  1 10:50:35 Macintosh.local Installer[99200]: Displaying 'Install Failed' UI.\nNov  1 10:50:35 Macintosh.local Installer[99200]: 'Install Failed' UI displayed message:'The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance.'.\n</code></pre>\n"},{"tags":["linux","qt","pid","xlib"],"answer_count":7,"favorite_count":1,"up_vote_count":8,"down_vote_count":1,"view_count":6071,"score":7,"question_id":2041532,"title":"Getting pid and details for topmost window","body":"<p>Does anyone know how to get the PID of the top active window and then how to get the properties of the window using the PID? I mean properties like process name, program name, etc.</p>\n\n<p>I'm using Qt under Linux (Ubuntu 9.10).</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13188532,"title":"QtConcurrent programming","body":"<pre><code>#include &lt;QtGui&gt;\n\ntemplate &lt;typename T&gt;\nclass QRunFunctionTaskBase : public QRunnable\n{\npublic:\n    QFuture&lt;T&gt; start(int priority = 0)\n    {\n        futureInterface.setRunnable(this);\n        futureInterface.reportStarted();\n        QFuture&lt;T&gt; future = futureInterface.future();\n        QThreadPool::globalInstance()-&gt;start(this, priority);\n        return future;\n    }\n\nprotected:\n    QFutureInterface&lt;T&gt; futureInterface;\n};\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nclass QRunFunctionTask : public QRunFunctionTaskBase&lt;T&gt;\n{\npublic:\n    inline QRunFunctionTask(FunctionPointer _function, const Arg&amp; _arg) :\n      function(_function),\n      arg(_arg)\n    {}\n    void run()\n    {\n        if (!futureInterface.isCanceled()) {\n            try {\n                this-&gt;result = function(futureInterface, arg);\n            } catch (QtConcurrent::Exception &amp;e) {\n                futureInterface.reportException(e);\n            } catch (...) {\n                futureInterface.reportException(QtConcurrent::UnhandledException());\n            }\n\n            futureInterface.reportResult(result);\n        }\n        futureInterface.reportFinished();\n    }\n    T result;\n    FunctionPointer function;\n    Arg arg;\n};\n\ntemplate &lt;typename FunctionPointer, typename Arg&gt;\nclass QRunFunctionTask&lt;void, FunctionPointer, Arg&gt; : public QRunFunctionTaskBase&lt;void&gt;\n{\npublic:\n    inline QRunFunctionTask(FunctionPointer _function, const Arg&amp; _arg) :\n      function(_function),\n      arg(_arg)\n    {}\n    void run()\n    {\n        if (!futureInterface.isCanceled()) {\n            try {\n                function(futureInterface, arg);\n            } catch (QtConcurrent::Exception &amp;e) {\n                futureInterface.reportException(e);\n            } catch (...) {\n                futureInterface.reportException(QtConcurrent::UnhandledException());\n            }\n        }\n        futureInterface.reportFinished();\n    }\n    FunctionPointer function;\n    Arg arg;\n};\n\nclass QMultiTaskBase : public QObject, public QRunnable\n{\n    Q_OBJECT\npublic:\n    explicit QMultiTaskBase(QObject *parent = 0);\n\nsignals:\n\npublic slots:\n\nprotected slots:\n    virtual void cancelSelf() = 0;\n    virtual void setFinished() = 0;\n    virtual void setProgressRange(int min, int max) = 0;\n    virtual void setProgressValue(int value) = 0;\n    virtual void setProgressText(QString value) = 0;\n};\n\ntemplate &lt;typename R, typename FunctionPointer, typename Arg&gt;\nclass QMultiTask : public QMultiTaskBase\n{\npublic:\n    QMultiTask(const QList&lt;FunctionPointer&gt; &amp;functions, const QList&lt;Arg&gt; &amp;args) :\n        functions(functions),\n        args(args)\n    {\n        maxProgress = 100*functions.size()*args.size();\n    }\n\n    QFuture&lt;R&gt; future()\n    {\n        futureInterface.reportStarted();\n        return futureInterface.future();\n    }\n\n    void run()\n    {\n        QThreadPool *threadPool = QThreadPool::globalInstance();\n//        int limit = threadPool-&gt;maxThreadCount();\n//        threadPool-&gt;setMaxThreadCount(functions.size() * args.size());\n        threadPool-&gt;releaseThread();\n        futureInterface.setProgressRange(0, maxProgress);\n        watchers.clear();\n        foreach (FunctionPointer function, functions)\n        {\n            foreach (Arg arg, args)\n            {\n                QPair&lt;FunctionPointer, Arg&gt; key(function, arg);\n                QFutureWatcher&lt;R&gt; *watcher = new QFutureWatcher&lt;R&gt;();\n                finished.insert(watcher, false);\n                watchers.insert(key, watcher);\n                QObject::connect(watcher, SIGNAL(finished()), this, SLOT(setFinished()));\n                QObject::connect(watcher, SIGNAL(progressRangeChanged(int,int)), this, SLOT(setProgressRange(int,int)));\n                QObject::connect(watcher, SIGNAL(progressValueChanged(int)), this, SLOT(setProgressValue(int)));\n                QObject::connect(watcher, SIGNAL(progressTextChanged(QString)), this, SLOT(setProgressText(QString)));\n                watcher-&gt;setFuture(runTask&lt;R&gt;(function, arg));\n            }\n        }\n        selfWatcher = new QFutureWatcher&lt;R&gt;();\n        QObject::connect(selfWatcher, SIGNAL(canceled()), this, SLOT(cancelSelf()));\n        selfWatcher-&gt;setFuture(futureInterface.future());\n        loop = new QEventLoop;\n        loop-&gt;exec();\n        futureInterface.reportFinished();\n        threadPool-&gt;reserveThread();\n//        threadPool-&gt;setMaxThreadCount(limit);\n        qDeleteAll(watchers);\n        delete selfWatcher;\n        delete loop;\n    }\nprotected:\n    void cancelSelf()\n    {\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n            watcher-&gt;future().cancel();\n    }\n\n    void setFinished()\n    {\n        QFutureWatcher&lt;R&gt; *watcher = static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender());\n        updateProgress(watcher);\n        if (finished.contains(watcher))\n            finished[watcher] = true;\n        bool allFinished = true;\n        foreach (bool isFinished, finished) {\n            if (!isFinished) {\n                allFinished = false;\n                break;\n            }\n        }\n        if (allFinished)\n            loop-&gt;quit();\n    }\n\n    void setProgressRange(int min, int max)\n    {\n        Q_UNUSED(min)\n        Q_UNUSED(max)\n        updateProgress(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\n\n    void setProgressValue(int value)\n    {\n        Q_UNUSED(value)\n        updateProgress(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\n\n    void setProgressText(QString value)\n    {\n        Q_UNUSED(value)\n        updateProgressText(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\nprivate:\n    void updateProgress(QFutureWatcher&lt;R&gt; *sender)\n    {\n        int progressSum = 0;\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n        {\n            int min = watcher-&gt;progressMinimum();\n            int max = watcher-&gt;progressMaximum();\n            if (min != max)\n            {\n                progressSum += 100*(watcher-&gt;progressValue() - min)/(max - min);\n            }\n            else if (watcher-&gt;future().isFinished() &amp;&amp; !watcher-&gt;future().isCanceled())\n            {\n                progressSum += 100;\n            }\n        }\n        futureInterface.setProgressValue(progressSum);\n    }\n\n    void updateProgressText(QFutureWatcher&lt;R&gt; *sender)\n    {\n        QString text;\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n        {\n            if (!watcher-&gt;progressText().isEmpty())\n            {\n                text += watcher-&gt;progressText();\n                text += QLatin1Char('\\n');\n            }\n        }\n        text = text.trimmed();\n        futureInterface.setProgressValueAndText(futureInterface.progressValue(), text);\n    }\n\n    QList&lt;FunctionPointer&gt; functions;\n    QList&lt;Arg&gt; args;\n\n    QFutureInterface&lt;R&gt; futureInterface;\n    QFutureWatcher&lt;R&gt; *selfWatcher;\n    QMap&lt; QPair&lt;FunctionPointer, Arg&gt;, QFutureWatcher&lt;R&gt; *&gt; watchers;\n    QMap&lt;QFutureWatcher&lt;R&gt; *, bool&gt; finished;\n    QEventLoop *loop;\n    int maxProgress;\n};\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nQFuture&lt;T&gt; runTask(FunctionPointer function, const Arg&amp; arg, int priority = 0)\n{\n    return (new QRunFunctionTask&lt;T, FunctionPointer, Arg&gt;(function, arg))-&gt;start(priority);\n}\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nQFuture&lt;T&gt; runTasks(const QList&lt;FunctionPointer&gt; &amp;functions, const QList&lt;Arg&gt; &amp;args, int priority = 0)\n{\n    QMultiTask&lt;T, FunctionPointer, Arg&gt; *task = new QMultiTask&lt;T, FunctionPointer, Arg&gt;(functions, args);\n    QFuture&lt;T&gt; future = task-&gt;future();\n    QThreadPool::globalInstance()-&gt;start(task, priority);\n    return future;\n}\n\nstruct File\n{\n    File(QString name, int start, int end):\n        name(name),start(start), end(end)\n    {}\n\n    QString name;\n    int start;\n    int end;\n};\n\ninline bool operator &lt;(const File &amp;f1, const File &amp;f2)\n{\n    return (f1.start&lt; f2.start) &amp;&amp; (f1.end&lt; f2.end);\n}\n\nvoid doJob(QFutureInterface&lt;void&gt; &amp;future, const File &amp;file)\n{\n    const int work = 1000 * 1000 * 40;\n    volatile int v = 0;\n    future.setProgressRange(file.start, file.end);\n    int start = file.start;\n    while (!future.isCanceled() &amp;&amp; start &lt; file.end)\n    {\n        for (int j = 0; j &lt; work; ++j)\n            ++v;\n        if (future.isProgressUpdateNeeded() || future.progressValue() == 0)\n            future.setProgressValueAndText(start,\n                                           QObject::tr(\"Working on file %1 in thread %X\", 0,(int)QThread::currentThreadId()).arg(file.name));\n        start++;\n    }\n    if (!future.isCanceled())\n        future.setProgressValue(file.end);\n    else\n        future.setProgressValueAndText(start, QString(\"Working on file %1 :Canceled\").arg(file.name));\n}\n\nint main(int argc, char **argv)\n{\n    QApplication app(argc, argv);\n\n    // Prepare the vector.\n    QList&lt;File&gt; files;\n    files &lt;&lt; File(\"File1\", 10, 50) &lt;&lt; File(\"File2\", 20, 60);\n    QList&lt;void (*)(QFutureInterface&lt;void&gt; &amp;, const File &amp;)&gt; functions;\n    functions &lt;&lt; &amp;doJob;\n\n    // Create a progress dialog.\n    QProgressDialog dialog;\n    dialog.setLabelText(QString(\"Progressing using %1 thread(s)...\").arg(QThread::idealThreadCount()));\n\n    // Create a QFutureWatcher and connect signals and slots.\n    QFutureWatcher&lt;void&gt; futureWatcher;\n    QObject::connect( &amp;futureWatcher, SIGNAL(finished()), &amp;dialog, SLOT(reset()));\n    QObject::connect( &amp;futureWatcher, SIGNAL(progressRangeChanged(int,int)), &amp;dialog, SLOT(setRange(int,int)));\n    QObject::connect( &amp;futureWatcher, SIGNAL(progressValueChanged(int)), &amp;dialog, SLOT(setValue(int)));\n    QObject::connect( &amp;futureWatcher, SIGNAL( canceled() ), &amp;dialog, SIGNAL( canceled() ) );\n    QObject::connect( &amp;dialog, SIGNAL(canceled()), &amp;futureWatcher, SLOT(cancel()));\n\n    // Start the computation.\n    futureWatcher.setFuture(runTasks&lt;void&gt;(functions, files));\n\n    // Display the dialog and start the event loop.\n    dialog.exec();\n\n    futureWatcher.waitForFinished();\n\n    // Query the future to check if was canceled.\n    qDebug() &lt;&lt; \"Canceled?\" &lt;&lt; futureWatcher.future().isCanceled();\n}\n</code></pre>\n\n<p>i've modify multitask.h from qt-creator to take multiple function with multiple args. all use the same progress. what wrong in my code? i have no parallel task(the task are execute sequentialy) and no progress message printed.\ncan someone help thank's.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13188099,"title":"Get QObject Which Called Slot","body":"<p>I need a way to find out which widget was responsible for calling a slot via a signal. This is assuming that I have multiple widget's signals connected to the same slot within my application. </p>\n\n<p>QSignalMapper seems like a valid answer, but I can't figure out how to get the object that triggered the signal to be passed into my slot.  </p>\n"},{"tags":["multithreading","qt","qt4"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13184555,"title":"Creating a QWidget in a non-GUI thread","body":"<p>Yes, I know that you cannot use GUI things from non-GUI threads. However, it seems reasonable to be able to create a QWidget object, send it to the GUI thread, and then send signals to it. However, when I try to do so, I get errors that widgets cannot be moved. However, this seems to works:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QDialog&gt;\n\nclass BasicViewer : public QDialog\n{\nQ_OBJECT\n\npublic:\n  void Function(const float a)\n  {\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n  }\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer WrappedBasicViewer;\n\n  void Function(const float a)\n  {\n    WrappedBasicViewer.Function(a);\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n\n  basicViewerWrapper.Function(2.0f);\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n\n<p>I have created a wrapper class with the same API as the QWidget that stores an instance of the QWidget I wanted to create directly. I AM allowed to create that wrapper, move it to the GUI thread, and then use it. My question is, is there a way to do this without having to write this wrapper? It seems quite tedious, and since the concept works, I don't understand why it cannot be done directly. Any thoughts?</p>\n\n<p>----------- EDIT ---------------</p>\n\n<p>The first example was a bad one, because it did not attempt to do anything with GUI elements. This example indeed generates \"Cannot create children for a parent that is in a different thread.\"</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass BasicViewer : public QMessageBox\n{\nQ_OBJECT\n\npublic:\n\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer WrappedBasicViewer;\n\n  void exec()\n  {\n    WrappedBasicViewer.exec();\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n  basicViewerWrapper.exec();\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>----------- EDIT 2 ----------------</p>\n\n<p>I thought this would work, since the member object gets created after the thread of the Wrapper has been moved:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass BasicViewer : public QMessageBox\n{\nQ_OBJECT\n\npublic:\n\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer* WrappedBasicViewer;\n\n  void exec()\n  {\n    WrappedBasicViewer-&gt;exec();\n  }\n\n  void create()\n  {\n    WrappedBasicViewer = new BasicViewer;\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n  basicViewerWrapper.create();\n  basicViewerWrapper.exec();\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>Unfortunately, it does not. Can anyone explain why?</p>\n\n<p>--------------- EDIT 3 --------------------</p>\n\n<p>I'm unsure why this works? It uses a signal to trigger the GUI component, but isn't the GUI object (the QDialog) still created in the non-GUI thread?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal(int* returnValue);\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal(int*) ), this, SLOT(MySlot(int*)), Qt::BlockingQueuedConnection );\n  }\n\n  void EmitSignal(int* returnValue)\n  {\n    emit MySignal(returnValue);\n  }\n\npublic slots:\n  void MySlot(int* returnValue)\n  {\n    std::cout &lt;&lt; \"input: \" &lt;&lt; *returnValue &lt;&lt; std::endl;\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;addButton(QMessageBox::Yes);\n    dialog-&gt;addButton(QMessageBox::No);\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result == QMessageBox::Yes)\n    {\n      *returnValue = 1;\n    }\n    else\n    {\n      *returnValue = 0;\n    }\n\n    delete dialog;\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction()\n{\n  DialogHandler* dialogHandler = new DialogHandler;\n  dialogHandler-&gt;moveToThread(QCoreApplication::instance()-&gt;thread());\n\n  int returnValue = -1;\n  dialogHandler-&gt;EmitSignal(&amp;returnValue);\n\n  std::cout &lt;&lt; \"returnValue: \" &lt;&lt; returnValue &lt;&lt; std::endl;\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(MyFunction);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n"},{"tags":["regex","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13186326,"title":"QRegExp Extract Two Numbers","body":"<p>All I am trying to extract two numbers from a user string.  I have the regexp working, but the second number capture is not being greedy enough!  I can't figure out how to reformat this to my needs, I am submitting my reg exp any advice would be great!</p>\n\n<pre><code>QRegExp valid_input(\".*(-?\\\\d*\\\\.?\\\\d+)[\\\\s,]+(-?\\\\d*.?\\\\d+)[^\\d]*\");\nvalid_input.setMinimal(true);\n\nif(valid_input.indexIn(value.toString()) == -1)\n    return false;\n\nQPointF new_point(valid_input.cap(1).toDouble(), valid_input.cap(2).toDouble());\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156, 264</code></p>\n\n<p><strong>Expected Output:</strong> <code>156</code> and <code>264</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156.2 264.52</code></p>\n\n<p><strong>Expected Output:</strong> <code>156.2</code> and <code>264.52</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156.2 264.52)</code></p>\n\n<p><strong>Expected Output:</strong> <code>156.2</code> and <code>264.52</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n"},{"tags":["qt","gui","2d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13185808,"title":"how to render a map defined by a matrix of cells using QT Gui?","body":"<p>I have to render using QT a map defined by a matrix of cells in overview mode (think GPS map). I'd like to be able to zoom on it and each cell is defined by its color and some properties (bitmaps to put on the cell). I also need, like in a GPS, to be able to move around (using the directional arrows) in the map.</p>\n\n<p>Right now, I'm thinking about drawing a matrix of QImages on my screen, and loading each one of them with the info of the cells I need, but it doesn't seem like a very good solution. </p>\n\n<p>Thank you for every possibility you might provide.</p>\n"},{"tags":["qt","gnu-make","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13185008,"title":"Qmake: Avoid file name conflicts in different folders without inroducing libraries","body":"<p>I have a project with some folders which happen to contain source files with the same names.</p>\n\n<p>My source tree looks like this:</p>\n\n<pre><code>project.pro\n\nfoo/\n    conflict.h\n    conflict.cpp\n\nbar/\n    conflict.h\n    conflict.cpp\n\nsome.h\nother.h\nfiles.h\nmain.cpp\n</code></pre>\n\n<p>Per default, qmake generates a Makefile which will produce a build tree like this:</p>\n\n<pre><code>conflict.o\nmain.o\ntarget\n</code></pre>\n\n<p>Where <code>conflict.o</code> is the object file resulting for <strong>both <code>foo/conflict.cpp</code> and <code>foo/conflict.h</code></strong>.</p>\n\n<p>I can't to <strong>change their names</strong> because they are generated using an external tool and forcing different file names would imply to change their contents, so this is not an option.</p>\n\n<p>I also don't want to use qmake <strong><code>SUBDIRS</code></strong> template because this would imply that (1) every subdir is built separately as a library and thus very much complicate the overall build process (in my eyes at least) and (2) in the top level directory I can't have any source files. Or am I wrong?</p>\n\n<p>Can't I just tell qmake to write the object files into separate directories within the build directory? So my build tree will look like this:</p>\n\n<pre><code>foo/\n    conflict.o\n\nbar/\n    conflict.o\n\nmain.o\ntarget\n</code></pre>\n\n<p>Or are there any other solutions neither requiring to rename the source files nor introducing something complicated like static libraries? I just can't believe that Qt didn't solve this (in my eyes simple) problem for years. (I already hat this problem 4 years ago but could rename the files in that project, while here I can't.)</p>\n\n<p>If it's important: I use Qt 4.8 on both Ubuntu with G++ and Windows with mingw32.</p>\n"},{"tags":["qt","qt-creator","simulator","blackberry-playbook","playbook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13180509,"title":"Connect Playbook simulator to Qt Creator","body":"<p>I have the playbook simulator with VMware Player. From this, I can navigate to internet. I configured the network adapter of this way:</p>\n\n<ul>\n<li>Bridged</li>\n<li>Replicated physical network connection state (checked)</li>\n<li>Configure adapters (Realtek driver PCIe GBE Family - VirtualBox Bridged Networking Driver iniport)</li>\n</ul>\n\n<p>But I can't connect the simulator with Qt Creator. Anyone knows how to do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13184250,"title":"Is there any way to remove a QWidget in a QGridLayout?","body":"<p>What I want is to completely remove a widget (purge it, delete it, etc...), but it's in a gridlayout, so even when calling <code>removeWidget</code>, it still keeps a pointer, so python doesn't want to remove the object. Here is the (stripped) code:</p>\n\n<pre><code>def addRow(self, row):\n    self.entries.insert(row, QtGui.QLineEdit())\n    self.gridlayout.addWidget(self.entries[row], row, 0)\n...\ndef remRow(self, row):\n    self.gridlayout.removeWidget(self.entries[row])\n    del(self.entries[row])\n...\n(in another function)\nfoo.addRow(0)\nfoo.remRow(0)\n</code></pre>\n\n<p>It removes the widget from the gridlayout, but it doesn't remove it completely, so it actually gets packed beneath(?) the layout, and the widget is apparently bigger than the layout (not sure though, as I cannot see the end).</p>\n\n<p>So again, is there any way to completely remove a widget that was inside a QGridLayout?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","qt","openscenegraph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13134560,"title":"Creating a dynamic sphere in OSG","body":"<p>I want to create a dynamic sphere in OSG which would be created(moved) by the mouse left click at that location (center) and with a dynamic radius of the mouse pointer current location's distance to the center....<BR></p>\n\n<p>I understand that for this reason I need to create an osgGA::GUIEventHandler Object and implement the virtual handle function but I miss other details like finding the sphere object it self from the scene and changing its attributes.</p>\n\n<p>I also tried to change <a href=\"http://osgqsg.googlecode.com/svn-history/r2/trunk/Examples/Picking/PickingMain.cpp\" rel=\"nofollow\">A picking example</a> but failed to detect the sphere in the nodePath or creating a new sphere</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13165659,"title":"How can I initialize a default value of QComboBox without to click it?","body":"<p>How can I initialize a default value of QComboBox without to click it?  I tried with</p>\n\n<pre><code>ui-&gt;combBox-&gt;setCurrentIndex(1);\n</code></pre>\n\n<p>but when I read the value at first I get unfortunately a <strong>-1</strong> and only after the QComboBox was clicked its value become <strong>1</strong>.</p>\n"},{"tags":["qt","ubuntu","opencv","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1041,"score":0,"question_id":10692848,"title":"OpenCV 2.4 on Ubuntu 12.04 with QtCreator","body":"<p>I moved to Ubuntu recently and I can't get openCV working with QtCreator. As described in the OpenCv install guide I built and installed the openCV library in <code>/usr/local/lib</code>, I updated <code>opencv.conf</code> in <code>/etc/ld.so.conf.d/</code> and run <code>sudo ldconfig -v</code>.</p>\n\n<p>But when I try to run a simple \"hello world\" program that shows an image in a namedWindow I get the following error:</p>\n\n<blockquote>\n  <p>OpenCv Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file /home/wedontplay/documenti/Library Installer/OpenCV-2.4.0/modules/core/array.cpp, line 2482 terminate called after throwing an instace of 'cv::Excepton' what(): /home/wedontplay/Library Installer/OpenCV-2.4.0/modules/core/src/array.cpp:2482: error: (-206) Unrecognized or unsupported array type in function cvGetMat</p>\n</blockquote>\n\n<p>Why does Qt search in <code>/home/wedontplay/Documenti/...</code> instead of <code>/usr/local/lib</code> (it is searching in the folder where I have the OpenCv libs source code)?</p>\n\n<p>Any suggestion would be really appreciated.</p>\n"},{"tags":["qt","qt-stylesheet"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13012410,"title":"QDockWidget::title (Need to change the font & size)","body":"<p>I have following style sheet set for QDockWidgets in my QT app. All the things mentioned in the style are working except for the font. Why is \"font\" is not detected &amp; how could I change the font &amp; size of QDockWidget title ?</p>\n\n<pre><code>QDockWidget::title\n{\n    font: 18pt \"Roboto Lt\";\n    background: lightgray;\n    padding-left: 10px; \n    padding-top: 4px;\n}\n</code></pre>\n"},{"tags":["c++","qt","gcc","linker"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":122,"score":-1,"question_id":11767169,"title":"Using libgrib2c in c++ application, linker error \"Undefined reference to...\"","body":"<p>EDIT: If you're going to be doing things with GRIB files I would recommend the <a href=\"http://www.gdal.org/\" rel=\"nofollow\">GDAL library</a> which is backed by the <a href=\"http://www.osgeo.org/\" rel=\"nofollow\">Open Source Geospatial Foundation</a>. You will save yourself a lot of headache :) </p>\n\n<p>I'm using Qt creator in Ubuntu creating a c++ app.  I am attempting to use an external lib, libgrib2c.a, that has a header grib2.h.  Everything compiles, but when it tries to link I get the error:</p>\n\n<blockquote>\n  <p>undefined reference to 'seekgb(_IO_FILE*, long, long, long*, long*)</p>\n</blockquote>\n\n<p>I have tried wrapping the header file with:</p>\n\n<pre><code>extern \"C\"{\n#include \"grib2.h\"\n}\n</code></pre>\n\n<p>But it didn't fix anything so I figured that was not my problem. In the .pro file I have the line:</p>\n\n<pre><code>include($${ROOT}/Shared/common/commonLibs.pri)\n</code></pre>\n\n<p>and in commonLibs.pri I have:</p>\n\n<pre><code>INCLUDEPATH+=$${ROOT}/external_libs/g2clib/include\nLIBS+=-L$${ROOT}/external_libs/g2clib/lib\nLIBS+=-lgrib2c\n</code></pre>\n\n<p>I am not encountering an error finding the library.  If I do a nm command on the libgrib2c.a I get:</p>\n\n<pre><code>nm libgrib2c.a | grep seekgb\nseekgb.o:\n00000000 T seekgb\n</code></pre>\n\n<p>And when I run qmake with the additional argument of LIBS+=-Wl,--verbose I can find the lib file in the output:</p>\n\n<pre><code>attempt to open /usr/lib/libgrib2c.so failed\nattempt to open /usr/lib/libgrib2c.a failed\nattempt to open /mnt/sdb1/ESMF/App/ESMF_App/../external_libs/linux/qwt_6.0.2/lib/libgrib2c.so failed\nattempt to open /mnt/sdb1/ESMF/App/ESMF_App/../external_libs/linux/qwt_6.0.2/lib/libgrib2c.a failed\nattempt to open ..//Shared/Config/lib/libgrib2c.so failed\nattempt to open ..//Shared/Config/lib/libgrib2c.a failed\nattempt to open ..//external_libs/libssh2/lib/libgrib2c.so failed\nattempt to open ..//external_libs/libssh2/lib/libgrib2c.a failed\nattempt to open ..//external_libs/openssl/lib/libgrib2c.so failed\nattempt to open ..//external_libs/openssl/lib/libgrib2c.a failed\nattempt to open ..//external_libs/g2clib/lib/libgrib2c.so failed\nattempt to open ..//external_libs/g2clib/lib/libgrib2c.a succeeded\n</code></pre>\n\n<p>Although it doesn't show any of the .o files in the library is this because it is a c library in my c++ app?  </p>\n\n<p>in the .cpp file that I am trying to use the library I have:</p>\n\n<pre><code>#include \"gribreader.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;external_libs/g2clib/include/grib2.h&gt;\n#include &lt;Shared/logging/Logger.hpp&gt;\n\n//------------------------------------------------------------------------------\n/// Opens a GRIB file from disk.\n///\n/// This function opens the grib file and searches through it for how many GRIB\n/// messages are contained as well as their starting locations.\n///\n/// \\param a_filePath. The path to the file to be opened.\n/// \\return True if successful, false if not.\n//------------------------------------------------------------------------------\nbool GRIBReader::OpenGRIB(std::string a_filePath)\n{\n  LOG(notification)&lt;&lt;\"Attempting to open grib file: \"&lt;&lt; a_filePath;\n  if(isOpen())\n  {\n    CloseGRIB();\n  }\n  m_filePath = a_filePath;\n  m_filePtr = fopen(a_filePath.c_str(), \"r\");\n\n  if(m_filePtr == NULL)\n  {\n    LOG(error)&lt;&lt;\"Unable to open file: \" &lt;&lt; a_filePath;\n    return false;\n  }\n  LOG(notification)&lt;&lt;\"Successfully opened GRIB file\";\n\n  g2int currentMessageSize(1);\n  g2int seekPosition(0);\n  g2int lengthToBeginningOfGrib(0);\n  g2int seekLength(32000);\n  int i(0);\n  int iterationLimit(300);\n  m_GRIBMessageLocations.clear();\n  m_GRIBMessageSizes.clear();\n  while(i &lt; iterationLimit)\n  {\n    seekgb(m_filePtr, seekPosition, seekLength,\n           &amp;lengthToBeginningOfGrib, &amp;currentMessageSize);\n    if(currentMessageSize != 0)\n    {\n      LOG(verbose) &lt;&lt; \"Adding GRIB message location \" &lt;&lt; lengthToBeginningOfGrib\n                   &lt;&lt; \" with length \" &lt;&lt; currentMessageSize;\n      m_GRIBMessageLocations.push_back(lengthToBeginningOfGrib);\n      m_GRIBMessageSizes.push_back(currentMessageSize);\n\n      seekPosition = lengthToBeginningOfGrib + currentMessageSize;\n      LOG(verbose) &lt;&lt; \"GRIB seek position moved to \" &lt;&lt; seekPosition;\n    }\n    else\n    {\n      LOG(notification)&lt;&lt;\"End of GRIB file found, after \"&lt;&lt; i\n                      &lt;&lt; \" GRIB messages.\";\n      break;\n    }\n  }\n  if(i &gt;= iterationLimit)\n  {\n    LOG(warning) &lt;&lt; \"The iteration limit of \" &lt;&lt; iterationLimit\n                 &lt;&lt; \"was reached while searching for GRIB messages\";\n  }\n  return true;\n}\n</code></pre>\n\n<p>And the header grib2.h is as follows:</p>\n\n<pre><code>#ifndef _grib2_H\n#define _grib2_H\n#include&lt;stdio.h&gt;\n\n#define G2_VERSION \"g2clib-1.4.0\"\n#ifdef __64BIT__\ntypedef int g2int;\ntypedef unsigned int g2intu;\n#else\ntypedef long g2int;\ntypedef unsigned long g2intu;\n#endif\ntypedef float g2float;\n\nstruct gtemplate {\n   g2int type;           /* 3=Grid Defintion Template.                       */\n                         /* 4=Product Defintion Template.                    */\n                         /* 5=Data Representation Template.                  */\n   g2int num;            /* template number.                                 */\n   g2int maplen;         /* number of entries in the static part             */\n                         /*                    of the template.              */\n   g2int *map;           /* num of octets of each entry in the               */\n                         /*         static part of the template.             */\n   g2int needext;        /* indicates whether or not the template needs      */\n                         /*     to be extended.                              */\n   g2int extlen;         /* number of entries in the template extension.     */\n   g2int *ext;           /* num of octets of each entry in the extension     */\n                         /*                      part of the template.       */\n};\n\ntypedef struct gtemplate gtemplate;\n\nstruct gribfield {\n   g2int   version,discipline;\n   g2int   *idsect;\n   g2int   idsectlen;\n   unsigned char *local;\n   g2int   locallen;\n   g2int   ifldnum;\n   g2int   griddef,ngrdpts;\n   g2int   numoct_opt,interp_opt,num_opt;\n   g2int   *list_opt;\n   g2int   igdtnum,igdtlen;\n   g2int   *igdtmpl;\n   g2int   ipdtnum,ipdtlen;\n   g2int   *ipdtmpl;\n   g2int   num_coord;\n   g2float *coord_list;\n   g2int   ndpts,idrtnum,idrtlen;\n   g2int   *idrtmpl;\n   g2int   unpacked;\n   g2int   expanded;\n   g2int   ibmap;\n   g2int   *bmap;\n   g2float *fld;\n};\n\ntypedef struct gribfield gribfield;\n\n\n/*  Prototypes for unpacking API  */\nvoid seekgb(FILE *,g2int ,g2int ,g2int *,g2int *);\ng2int g2_info(unsigned char *,g2int *,g2int *,g2int *,g2int *);\ng2int g2_getfld(unsigned char *,g2int ,g2int ,g2int ,gribfield **);\nvoid g2_free(gribfield *);\n\n/*  Prototypes for packing API  */\ng2int g2_create(unsigned char *,g2int *,g2int *);\ng2int g2_addlocal(unsigned char *,unsigned char *,g2int );\ng2int g2_addgrid(unsigned char *,g2int *,g2int *,g2int *,g2int ); \ng2int g2_addfield(unsigned char *,g2int ,g2int *,\n                       g2float *,g2int ,g2int ,g2int *,\n                       g2float *,g2int ,g2int ,g2int *);\ng2int g2_gribend(unsigned char *);\n\n/*  Prototypes for supporting routines  */\nextern double int_power(double, g2int );\nextern void mkieee(g2float *,g2int *,g2int);\nvoid rdieee(g2int *,g2float *,g2int );\nextern gtemplate *getpdstemplate(g2int);\nextern gtemplate *extpdstemplate(g2int,g2int *);\nextern gtemplate *getdrstemplate(g2int);\nextern gtemplate *extdrstemplate(g2int,g2int *);\nextern gtemplate *getgridtemplate(g2int);\nextern gtemplate *extgridtemplate(g2int,g2int *);\nextern void simpack(g2float *,g2int,g2int *,unsigned char *,g2int *);\nextern void compack(g2float *,g2int,g2int,g2int *,unsigned char *,g2int *);\nvoid misspack(g2float *,g2int ,g2int ,g2int *, unsigned char *, g2int *);\nvoid gbit(unsigned char *,g2int *,g2int ,g2int );\nvoid sbit(unsigned char *,g2int *,g2int ,g2int );\nvoid gbits(unsigned char *,g2int *,g2int ,g2int ,g2int ,g2int );\nvoid sbits(unsigned char *,g2int *,g2int ,g2int ,g2int ,g2int );\n\nint pack_gp(g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *);\n\n#endif  /*  _grib2_H  */\n</code></pre>\n\n<p>I have been scratching my head for two days on this. If anyone has an idea on what to do or can point me in some sort of direction, I'm stumped.  Also, if you have any comments on how I can improve this post I'd love to hear them, kinda new at this posting thing.  Usually I'm able to find an answer in the vast stores of knowledge already contained on the web.</p>\n"},{"tags":["c++","qt","memory-management","memory-leaks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13147427,"title":"Delete QStringList in Qt","body":"<p>In Qt I understand that if you create an object that inherits from QObject and set it's parent, then the parent is responsible for deleting the children. I also understand that if you create objects on the stack that they are deleted when they go out of scope. </p>\n\n<p>I'm not wrapping my head around the case where I want to explicitly delete items in a QStringList ( or any QList ) and then the list itself. </p>\n\n<p>Consider if I create a QStringList and populate it like below: </p>\n\n<pre><code>QStringList multiPartPortionList;\nmultiPartPortionList = multiPartPortion.split(QRegExp(\"[\\r\\n]\"),QString::SkipEmptyParts);\n</code></pre>\n\n<p>Then I do stuff with it and call this method in attempt to explicitly delete the items contained within the list and then the list itself:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = new QStringList(list);\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>I can't call qDeleteall(list) because it expects a pointer, and I also can't do just do:</p>\n\n<pre><code>delete list;\n</code></pre>\n\n<p>Since it errors with <strong>'argument given to 'delete', expected pointer'</strong>, expecting a pointer.</p>\n\n<p>I get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = &amp;list; // &lt;--- Seg fault with this\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>I also get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = &amp;list;\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete &amp;(list.takeAt(0)); // &lt;--- Seg fault with this\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>And then I also get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = new QStringList(list);\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n    delete &amp;list; // &lt;--- Seg fault with this\n\n}\n</code></pre>\n\n<p>I don't think this is quite, or even close, to being right. How can I best achieve what I want - that is to explicitly delete all items in a list and then the list itself?</p>\n"},{"tags":["c++","qt","opengl","opencv","iplimage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13181475,"title":"How can I display an IPLImage stream on Qt interface using OpenGL for rendering?","body":"<p>What is the best way to integrate and display an IplImage into a Qt GUI? Can this be done using OpenGL? If yes, how?</p>\n"},{"tags":["qt","drag-and-drop","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13180884,"title":"When Dragging and Dropping QTreeWidgetItems within a QTreeWidget, how can I catch the Item that was moved so i can retrieve its new parent?","body":"<p>I have a simple TreeWidget populated with subclassed TreeWidgetItems. When one of these Items is moved through an Internal Drag and Drop event, how do I catch the Item that was moved?</p>\n\n<p>When the Item is moved, I want to catch the item so i can get its new parent item. </p>\n\n<p>I have tried using an eventFilter to look for a ChildRemoved event, but when I ask the event for the child, it returns a generic QObject, instead of my subclassed item. What am I missing?</p>\n\n<pre><code>def eventFilter(self, sender, event):\n    if event.type() == QtCore.QEvent.ChildRemoved:\n        widgetItemThatMoved = event.child()\n        self.updateSomething(widgetItemThatMoved)\n    return False\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["c++","performance","qt","foreach","for-loop"],"answer_count":10,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":15238,"score":8,"question_id":771008,"title":"'for' loop vs 'foreach' in C++","body":"<p>Which is better (or faster), a C++ <code>for</code> loop or the <code>foreach</code> operator provided by Qt? For example, the following condition</p>\n\n<pre><code>QList&lt;QString&gt; listofstrings;\n</code></pre>\n\n<p>Which is better?</p>\n\n<pre><code>foreach(QString str, listofstrings)\n{\n    //code\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>int count = listofstrings.count();\nQString str = QString();\nfor(int i=0;i&lt;count;i++)\n{\n    str = listofstrings.at(i);\n    //Code\n}\n</code></pre>\n"},{"tags":["qt","qt4","qtableview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13179040,"title":"Set a maximum sizehint for a specific column in a table","body":"<p>I have the following table (presented with <code>QTableView</code>, and uses a <code>QAbstractTableModel</code> derived class as a table model):</p>\n\n<p><img src=\"http://i.stack.imgur.com/7fKa9.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, some columns take too much space, such as the \"Bitrate\" or \"Length\" cloumns. How can I set a sizehint for a specific column, or somehow limit it's maximum size?</p>\n\n<p>I've tried using <code>horizontalHeader</code>'s <code>setMinimumSectionSize</code>, but it seems to have no effect on the table.</p>\n"},{"tags":["c++","qt","gui","qmenu"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":98,"score":2,"question_id":11622147,"title":"Is there a way to have multiple columns in a QMenu?","body":"<p>Is there a way to have multiple columns in a QMenu? I'm using Qt with C++. I have searched and there does not seem to be a way to do this built in to Qt. The question then is how do I add this functionality to my program? Has anyone built a custom menu that can have multiple columns?</p>\n"},{"tags":["c++","windows","qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13172257,"title":"Replace system menu popup on windows","body":"<p>I want to replace the default sys menu(Restore, Move, Size etc.) with my custom entries. The menu I'm talking about can be opened either by clicking left button on window icon or by clicking right button on window title.\nI can remove all the items and populate this menu with my own entries. But if I remove all entries then minimize, maximize and close buttons become inactive. So they depend on those menu items.</p>\n\n<p>I want to have min, max, close buttons working as usual but system menu which contains my own items(like it is done in Windows Media Player).\nI'm using Qt, but I'm almost sure it can't be done with it so any solution would be appreciated.</p>\n"},{"tags":["c++","qt","mingw","qmake","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13172929,"title":"failing to build a QJson app for Windows, from Debian","body":"<p>My source code:</p>\n\n<pre><code>#include &lt;qjson/serializer.h&gt;\n#include &lt;QDebug&gt;\n\nint main() {\n   QVariantMap numbers;\n   numbers.insert(\"one\", 1);\n   numbers.insert(\"two\", 2);\n\n   QJson::Serializer serializer;\n   qDebug() &lt;&lt; serializer.serialize(numbers);\n\n   return 0;\n}\n</code></pre>\n\n<p>My project file:</p>\n\n<pre><code>TEMPLATE = app\nLIBS += -lqjson\nSOURCES += main.cpp\n</code></pre>\n\n<p>This works well if I build (and run) it on Debian:</p>\n\n<pre><code>$ qmake &amp;&amp; make \ng++ -c -m64 -pipe -O2 -Wall -W -D_REENTRANT -DQT_WEBKIT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/share/qt4/mkspecs/linux-g++-64 -I. -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4 -I. -o main.o main.cpp\ng++ -m64 -Wl,-O1 -o jsongen main.o    -L/usr/lib/x86_64-linux-gnu -lqjson -lQtGui -lQtCore -lpthread \n$ ./jsongen\n\"{ \"one\" : 1, \"two\" : 2 }\" \n</code></pre>\n\n<p>It however fails if I build it for Windows:</p>\n\n<pre><code>$ i686-pc-mingw32-qmake &amp;&amp; make \nmake -f Makefile.Release\nmake[1]: Entering directory `/home/wena/src/dcp/apps/j1939/winapp/play'\ni686-pc-mingw32-g++ -c -pipe -fno-keep-inline-dllexport -O2 -frtti -fexceptions -mthreads -Wall -Wextra -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_THREAD_SUPPORT -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtCore' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtGui' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/ActiveQt' -I'release' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/mkspecs/win32-g++-4.6' -o release/main.o main.cpp\ni686-pc-mingw32-g++ -Wl,-s -mthreads -Wl,-subsystem,windows -o release/jsongen.exe release/main.o  -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -lmingw32 -lqtmain -lqjson -lQtGui -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lmsimg32 -lmng -llcms -L/home/wena/src/mxe/usr/i686-pc-mingw32/lib -ltiff -llzma -ljpeg -lQtCore -lpng -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32 -lz \nrelease/main.o:main.cpp:(.text.startup+0xcc): undefined reference to `_imp___ZN5QJson10SerializerC1Ev'\nrelease/main.o:main.cpp:(.text.startup+0xf2): undefined reference to `_imp___ZN5QJson10Serializer9serializeERK8QVariant'\n/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: release/main.o: bad reloc address 0xf2 in section `.text.startup'\n/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: final link failed: Invalid operation\ncollect2: error: ld returned 1 exit status\nmake[1]: *** [release/jsongen.exe] Error 1\nmake[1]: Leaving directory `/home/wena/src/dcp/apps/j1939/winapp/play'\nmake: *** [release] Error 2\n</code></pre>\n\n<p>Note that the cross-build environment, e.g. <strong>Qt</strong> (4.8.3), <strong>QJson</strong> (0.7.1), and <code>i686-pc-mingw32-qmake</code>, was built with the help of <a href=\"http://mxe.cc/\" rel=\"nofollow\">MXE</a>:</p>\n\n<pre><code>$ cd &lt;path to mxe root&gt;\n$ make qjson\n(wait about an hour on a recent machine with decent internet connection)\n$ export PATH=&lt;path to mxe root&gt;:$PATH\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13178522,"title":"3D cube with video on each side in Qt","body":"<p>I've got a project where I need to be able to display video on all six sides side of a cube that moves and rotates in three dimensions, using Qt. I know the question is vague, but I'm completely new to graphics, so a high-level description of which classes I should look and how they should link together would be a lot of help.  Should I use GLRenderer or the ordinary one?  Is Qt even the right tool for the job?</p>\n"},{"tags":["c++","qt","signals","qml","slot"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13176239,"title":"qml c++ signal slot not working","body":"<p>In C++ code below I load a qml file. But c++ slot not working. No error or warnings occurs but debug message is always \"a\" character. No \"b\" character appears. Can you tell me why? Thanks.</p>\n\n<p>c++ side code</p>\n\n<pre><code>    ::::::::::::::\n    view=new QDeclarativeView;\n    view-&gt;setSource(QUrl(\"qml/groundMenu/Ground.qml\"));\n    rootObject = dynamic_cast&lt;QObject*&gt;(view-&gt;rootObject());\n    QObject::connect(rootObject, SIGNAL(qmlSignal()),this, SLOT(qmlLoadedProcess()));\n:::::::::::::::::\nvoid MainWindow::qmlLoadedProcess()\n{\n    qDebug()&lt;&lt;\"b\";\n}\n\n//qml side code \n    Rectangle\n    {\n      signal qmlSignal()\n      Component.onCompleted:\n      {\n         qmlSignal()\n         console.log(\"a\")\n      }\n    }\n</code></pre>\n"},{"tags":["c++","linux","qt","ipc","embedded-linux"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":13160464,"title":"Functionality implementation: Processes or Threads division?","body":"<p>I'm working on an application (C++ combined with Qt for graphic part) to be run on an embedded Linux platform. I need know how to divide the application in different \"cores\" each one taking care of a different part of the application in such a way to improve stability, efficiency and security of the application itself.</p>\n\n<p>My doubt is: is it more convenient to divide functionalities into threads or to fork different processes?</p>\n\n<p>Let me provide a functional view of the application: there are different user interfaces each one allowing users to do more or less the same things (don't mind about data consistency, I've already solved this problem). Each of these interfaces must act as a stand-alone (like different terminal of the same system). I want all of them to send and receive messages from the same \"core\" which will take care of updating application data or do other proper stuff.</p>\n\n<p>What's the best way to implement the division between the inner \"core\" and a user interface?</p>\n\n<p>For sure I'm missing some knowledge but so far I came up with two alternatives:\n1 - fork a child from father \"core\" and let the child execute a specific UI program (I have no practical experience of doing this so how, in this case, can I make father and child communicate (baring in mind that child is a new process)?)\n2 - create different threads for each core and UI.</p>\n\n<p>I need this division because the application is required to be as stable as possible and capable of restarting a UI in the case of a crash. Keep in mind also that the overall application wont have infinite memory and resources available.</p>\n\n<p>Thanks in advance for your help, regards.</p>\n"},{"tags":["qt","plugins","webos","enyo","pdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13176679,"title":"webOS PDK Plug-ins","body":"<p>I want to create a plug-in for an enyo. I need only one function with a parameter, using the Qt libraries.</p>\n\n<p>How can I do it, as I didn't find any such example in the docs</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["windows","qt","make","mingw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13157068,"title":"make is not recognized as an internal or external command - Qt SDK - Windows","body":"<p>I installed <code>Qt</code> through <code>Qt-SDK 2010.01</code>.</p>\n\n<p>How to run <code>make</code> on <code>Qt</code>'s terminal now?</p>\n\n<p><strong>I have set the System path:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/4eFeE.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Qt path command prompt:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/UMs1s.png\" alt=\"enter image description here\"></p>\n\n<p>Please help. :( :(</p>\n"},{"tags":["json","qt","symbian","qjson"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2184,"score":4,"question_id":5117384,"title":"JSON in Qt using QVariantMap","body":"<p>I would like to parse this JSON output in a symbian application:</p>\n\n<pre><code>[\n    {\"ID\":\"9\",\"titel\":\"wouter\",\"plaatsID\":\"2616\",\"prio\":\"3\"},\n    {\"ID\":\"8\",\"titel\":\"pasta\",\"plaatsID\":\"3780\",\"prio\":\"3\"},\n    {\"ID\":\"6\",\"titel\":\"Muts prikken\",\"plaatsID\":\"3780\",\"prio\":\"2\"\n    {\"ID\":\"5\",\"titel\":\"doorplannen\",\"plaatsID\":\"3840\",\"prio\":\"2\"}\n    {\"ID\":\"4\",\"titel\":\"Gasfles\",\"plaatsID\":\"3780\",\"prio\":\"2\"}\n]\n</code></pre>\n\n<p>For this, I wrote following code, but I can't read the data. Other single JSON output it works fine, but a multiple output doesn't work:</p>\n\n<pre><code>     void start::finishedSlot(QNetworkReply * reply)\n    {\n        // Reading attributes of the reply\n        // e.g. the HTTP status code\n        reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n    reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n    // see CS001432 on how to handle this\n    // no error received?\n    if (reply-&gt;error() == QNetworkReply::NoError)\n    {\n            QByteArray data = reply-&gt;readAll();\n        bool ok;\n        QVariantMap result = Json::parse(QString(data), ok).toMap();\n\n        if(!ok) {\n            qFatal(\"An error occurred during parsing\");\n            exit(1);\n        }\n        QMapIterator&lt;QString, int&gt; i(result);\n        while (i.hasNext()) {\n            i.next();\n            cout &lt;&lt; i.key() &lt;&lt; \": \" &lt;&lt; i.value() &lt;&lt; endl;\n        }\n\n    ui-&gt;log-&gt;setText(\"het gaat goed\");\n    }\n    // Some http error received\n    else\n    {\n     ui-&gt;log-&gt;setText(\"gaat NIET goed\");\n    }\n    delete reply;\n}\n</code></pre>\n"},{"tags":["qt","qt-stylesheet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":11988540,"title":"How to make tabs in Qt look like tabs in Google Chrome?","body":"<p>I don't want my tabs to have a Drag and Drop feature like Chrome (as covered by this question: <a href=\"http://stackoverflow.com/questions/4700829/apply-chrome-like-tabs-in-qt\">Apply chrome like tabs in Qt</a>) - I just want them to look like Chrome tabs.</p>\n\n<p>I'm currently using <code>QTabWidget</code>, but its built-in shape <code>QTabWidget::Triangular</code> is so ugly. What do I need to use? Stylesheet or image or something else?</p>\n"},{"tags":["qt","tabs","qtscript","qt-stylesheet"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12993268,"title":"Define tabs background with stylesheets without changing QWidget?","body":"<p>I want to make a very basic GUI: tabs, text area.</p>\n\n<p>But I want to color my tabs and make them always looking the same on MAC, Windows and Linux.</p>\n\n<p>So, I tryed to use a stylesheet:</p>\n\n<pre><code>QTabWidget::pane\n{\n    border-top: 2px solid #1B1B1B;\n    background-color: #262626;\n}\n\nQTabWidget::tab-bar\n{\n    left: 5px;\n    alignment: left;\n    background: #3E3E3E;\n}\n\nQTabBar::tab\n{\n    background: transparent;\n    color: #757575;\n    padding: 15px 5px 15px 5px;\n}\n\nQTabBar::tab:hover\n{\n    text-decoration: underline;\n}\n\nQTabBar::tab:selected\n{\n    color: #DEF600;\n    background: qlineargradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #262626, stop: 1.0 #3D3D3D );\n}\n</code></pre>\n\n<p>But even if the tabs looks well, there is a problem: The tab  pane is still transparent...</p>\n\n<p>I can force a background color by adding:</p>\n\n<pre><code>QWidget\n{\n    background-color: #262626;\n}\n</code></pre>\n\n<p>But as you know, this change the background color of ALL the widgets, even my QPlainTextEdit that I still want to have a white background. And more annoying, this reset the OS skin and display ugly scrollbars (I really want to keep them as they were).</p>\n\n<p>Is there a way to change the tabs pane background without having to reskin all the components ?</p>\n"},{"tags":["qt","animation","timer","qml","qt-quick"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13172355,"title":"Timer not working correctly","body":"<p>We have to make progress bar consisting with slider, which has colour transition as the slider proceeds as shown in the figure below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Q6Fjr.jpg\" alt=\"Progress Bar\"></p>\n\n<p>I tried my hand with below logic but could not get the desired effect. Any help or suggestion how to implement the same.</p>\n\n<p>Below is my code snippet</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    id: container\n\n    width: 500; height: 400\n\n    Row {\n        id:repeaterid\n        x: 75\n        y: 280\n        anchors.bottom: parent.bottom\n        anchors.bottomMargin: 114\n        spacing: 4\n        Repeater {\n            model: 50\n            Rectangle {\n                id: smallrect\n                color: \"red\"\n                width:4\n                height:4\n            }\n        }\n    }\n\n    Timer {\n        id: progressTimer\n        interval: 50\n        running: true\n        repeat: true\n        onTriggered: {\n            if (slider.x &lt; 460)\n            {\n                slider.x += repeaterid.spacing + 4\n                smallrect.color = \"green\"\n            }\n        }\n    }\n\n    Rectangle {\n        id: slider\n        x: repeaterid.x\n        y: repeaterid.y\n        width: 6; height: 6\n        color: \"blue\"\n    }\n}\n</code></pre>\n\n<p>I have tried to use ColorAnimation, but got any luck.</p>\n"},{"tags":["c++","windows","qt","windows-shell"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13162693,"title":"windows 8 IShellIconOverlayIdentifier shell extension not working properly","body":"<p>I have an application where i want to have icon overlays for specific files and folders. </p>\n\n<p>For this purpose i've written a shell extension that implements the IShellIconOverlayIdentifier interface. Its written in c++ / Qt (<a href=\"http://doc.qt.digia.com/qt/activeqt.html\" rel=\"nofollow\">activeqt</a>) as a dll that connects to the application in question using tcp to query the application to decide wether to show the icon overlay or not. Its buildt much the same way <a href=\"http://www.qtcentre.org/threads/32104-howto-making-a-windows-shell-extension-with-qt-open-source-edition\" rel=\"nofollow\">this</a> is.</p>\n\n<p>It works fine in XP/Vista/7 but it wont work in windows 8.</p>\n\n<p>In windows 8 the dll is loaded. I can see it in <a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\" rel=\"nofollow\">process explorer</a> and also as a part of debugging it also logs output to a file so i can see whats happening and infer whats not. </p>\n\n<p>Using <a href=\"http://www.nirsoft.net/utils/shexview.html\" rel=\"nofollow\">ShellExView</a> i can also see thats its registered, not disabled and in general everything looks ok.</p>\n\n<p>The class declaration looks more or less like this:</p>\n\n<pre><code>class Q_DECL_EXPORT OverlayClass :\n    public QAxAggregated,\n    public IShellIconOverlayIdentifier{\npublic:\n    // Implements IUnknown\n    QAXAGG_IUNKNOWN; \n\n    JShellOverlayWorking();\n\n    // Implements IShellIconOverlayIdentifier\n    STDMETHOD(GetOverlayInfo)(LPWSTR pwszIconFile, int cchMax, int *pIndex, DWORD* pdwFlags);\n    STDMETHOD(GetPriority)(int* pPriority);\n    STDMETHOD(IsMemberOf)(LPCWSTR pwszPath, DWORD dwAttrib);\n\n    //pure virtual from QAxAggregated\n    long queryInterface(const QUuid &amp;iid, void**iface); \n};\n</code></pre>\n\n<p>Whats happens on XP/Vista/7 :</p>\n\n<ul>\n<li>that explorer on load first call queryInterface() and gets an S_OK if iid == IID_IShellIconOverlayIdentifier and E_NOINTERFACE for all other iid's</li>\n<li>and then it goes on to call GetOverlayInfo() to initialize stuff. Get the icon file path etc. </li>\n<li>And then as the shell needs to it calls IsMemberOf() to see if it should display the icon for a file or folder.</li>\n</ul>\n\n<p>What happens on windows 8 :</p>\n\n<ul>\n<li>that explorer on load calls queryInterface() and gets an S_OK when iid == IID_IShellIconOverlayIdentifier and E_NOINTERFACE for all other iid's</li>\n</ul>\n\n<p>And nothing else. queryInterface() is getting called, but after that nothing happens. I can see my application connecting successfully to the tcp socket created by the shell extension and IPC is working( i can send data back and forth between the application and the dll, but again. Nothing else happens. Explorer is not using the implemented interface. </p>\n\n<p>The dll is registered using:</p>\n\n<pre><code>regsvr32.exe shellext.dll\n</code></pre>\n\n<p>and the registry key below is also added</p>\n\n<pre><code>HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\ShellIconOverlayIdentifiers\\Shellextname ( value = CSLID )\n</code></pre>\n\n<p>for testing on windows 8 i've also added the following key to </p>\n\n<pre><code>HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Shell Extensions\\Approved\n</code></pre>\n\n<p>with my shell extensions CSLID as the name and data = Shellextname ( as above in the previous key) though this doesn't seem to matter on XP/Vista/7 so i'm guessing its inconsequential here as well.</p>\n\n<p>Again, this works on every windows( >= xp) except windows 8. </p>\n\n<p>What am i missing? Where do i go from here to find out?</p>\n"},{"tags":["c++","qt","qml","blackberry-10","blackberry-qnx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13129000,"title":"Add/Insert dynamically QML element into QML view with C++","body":"<p>I'mt trying to add a custom QML element that I create into another QML view already loaded from C++.</p>\n\n<p>The context is the following: I'm loading a QML view from C++, and I need to inject another QML custom component that I build into this QML view. All in C++. </p>\n\n<p>I've been searching for 4 hours and I haven't found a way to acomplish this. </p>\n\n<p>Here's some code to give you a better perspective:</p>\n\n<pre><code>QmlDocument *qml = QmlDocument::create(\"asset:///PosicionConsolidad.qml\").parent(this);\nqml-&gt;setContextProperty(\"pos\", this);\n\nPage *page = qml-&gt;createRootObject&lt;Page&gt;();\nmyST = GlobalST::getInstance();\nLoadInfo();\n\n_mRoot-&gt;push(page);\n_app-&gt;setScene(_mRoot);\n\nvoid Project::LoadInfo() {\n    QmlDocument *qml = QmlDocument::create(\"asset:///customComponents/TableRow.qml\").parent(this);\n    //Here's where I need to append this new QML custom element to the \n    //page previously loaded.\n    //I don't know if I can just inject it or I need to make a find child to \n    //maybe a parent container in the QML view and then add it there. But I \n    //also tried that and didn't work out.\n}\n</code></pre>\n\n<p>Please help. Regards.</p>\n"},{"tags":["qt","qt-stylesheet","qheaderview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13174084,"title":"QHeaderView::section:selected","body":"<p>I have following style segment applied to QHeaderView</p>\n\n<pre><code>QHeaderView::section:selected\n    {\n        padding-left: 16px;\n        background-color: #1c1c1c;\n    }\n</code></pre>\n\n<p>for some reason \"selected\" Pseudo-State for QHeaderView is not working but in the documentation it says it should work. I have tried following and it works:</p>\n\n<pre><code>QHeaderView::section:first\n{\n    padding-left: 16px;\n    background-color: #1c1c1c;\n}\n</code></pre>\n\n<p>My question is, how can apply a different style for the selected Header TIA</p>\n"},{"tags":["c++","qt","blackberry-10","blackberry-qnx"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":177,"score":2,"question_id":12811027,"title":"BB10 Cascades Command Line Development","body":"<p>Since programming for BB10 is now supposedly much easier if you know Qt, I decided to give it a go and I have been reading this: <a href=\"https://developer.blackberry.com/cascades/documentation/getting_started/index.html\" rel=\"nofollow\">https://developer.blackberry.com/cascades/documentation/getting_started/index.html</a></p>\n\n<p>I noticed that all of RIM's tutorials, and all of the online tutorials that I can find centre around the QNX Momentics IDE - a customized Eclipse.</p>\n\n<p>Because I'm old school, and I like VIM, I would really prefer to work with command line tools. However, I can't seem to find any documentation on how to set up a project, the build process, or a device/emulator deployment outside of this IDE. Is that even possible? If so, does anyone have any leads on some documentation or tutorials?</p>\n"},{"tags":["c++","windows","qt","make"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13171263,"title":":= versus = error: undefined reference to qMain(int, char**)","body":"<p><strong>Qt 4.6.1</strong></p>\n\n<p>In the following .pro file, when I use the statement</p>\n\n<pre><code>sources = ef.cpp\n</code></pre>\n\n<p>I get following errors:</p>\n\n<pre><code>RInside.h: No such file or directory\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/aupRQ.png\" alt=\"enter image description here\"></p>\n\n<p>Then when I replace = with := like:</p>\n\n<pre><code>sources := ef.cpp\n</code></pre>\n\n<p>the above error vanishes, and I get a new error:</p>\n\n<pre><code>error: undefined reference to qMain(int, char**)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/Qfcre.png\" alt=\"enter image description here\"></p>\n\n<p>From here: <a href=\"http://stackoverflow.com/a/448939/462608\">http://stackoverflow.com/a/448939/462608</a></p>\n\n<blockquote>\n  <p>VARIABLE = value Normal setting of a variable - values within it are\n  recursively expanded when the variable is used, not when it's declared</p>\n  \n  <p>VARIABLE := value Setting of a variable with simple expansion of the\n  values inside - values within it are expanded at declaration time.</p>\n</blockquote>\n\n<p><strong>I wish to understand what's happening here, and what's the solution.</strong></p>\n\n<p><strong>.cpp</strong></p>\n\n<pre><code>#include &lt;RInside.h&gt;\nint main(int argc, char *argv[]) \n{\n    RInside R(argc, argv);\n\n    R[\"txt\"] = \"Hello, world!\\n\";\n\n    R.parseEvalQ (\"cat(txt)\");\n\n    exit(0);\n}\n</code></pre>\n\n<p><strong>.pro</strong></p>\n\n<pre><code>TEMPLATE    = app\nTARGET      = \nDEPENDPATH  += .\nINCLUDEPATH += .\n\nR_HOME  := 'c:/R-2.15.1'\n\n# Input\nsources  = ef.cpp\nprograms := $(sources:.cpp=)\n\n## include headers and libraries for R\nRCPPFLAGS :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config --cppflags)\nRLDFLAGS  :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config --ldflags)\nRBLAS     :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config BLAS_LIBS)\nRLAPACK   :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config LAPACK_LIBS)\n\n## include headers and libraries for Rcpp interface classes\nRCPPINCL  :=        $(shell echo 'Rcpp:::CxxFlags()' | $(R_HOME)/bin/R $(R_ARCH) --vanilla \n\n--slave)\nRCPPLIBS  :=        $(shell echo 'Rcpp:::LdFlags()'  | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\n\n\n## include headers and libraries for RInside embedding classes\nRINSIDEINCL :=      $(shell echo 'RInside:::CxxFlags()' | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\nRINSIDELIBS :=      $(shell echo 'RInside:::LdFlags()'  | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\n\n\n## compiler etc settings used in default make rules\nCXX        := $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXX)\nCPPFLAGS   := -Wall $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CPPFLAGS)\n#CXXFLAGS  := $(RCPPFLAGS) $(RCPPINCL) $(RINSIDEINCL) $(shell $(R_HOME)/bin/R $(R_ARCH) \n\nCMD config CXXFLAGS)\nQMAKE_CXXFLAGS := $(RCPPFLAGS) $(RCPPINCL) $(RINSIDEINCL) $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXXFLAGS)\nLDFLAGS    = -s\nQMAKE_LIBS := $(RLDFLAGS) $(RBLAS) $(RLAPACK) $(RINSIDELIBS) $(RCPPLIBS)\nCC         := $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXX)\n</code></pre>\n"},{"tags":["qt","touch","meego"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":109,"score":3,"question_id":7357935,"title":"How to programmatically simulate touch event in Meego?","body":"<p>I need to use an input text file as an alternative to touch input for a meego based device , I want to know how I can do this.</p>\n\n<p>What input parameters are actually passed by the touch screen on meego device to invoke the respective touch event?</p>\n\n<p>Whether the input type is coordinates, screen, any id? </p>\n\n<p>I know I can use <code>QTouchEvent</code> class instance and pass it <code>QApplication:: sendEvent()</code>,\nbut how to programatically post the touch event which will be processed just as an actual human touch?</p>\n\n<p>Please suggest alternative solution.</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","keyboard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":11560557,"title":"How to get current language in Qt?","body":"<p>Tell me please how to get current language of keyboard in Qt?\nIf I use this:</p>\n\n<pre><code>QLocale loc = QApplication::keyboardInputLocale();\nQString keyBoardLang = loc.languageToString(loc.language());\nqDebug()&lt;&lt;keyBoardLang;\n</code></pre>\n\n<p>I always get the same results independent of chosen language.\nI would prefer a crossplatform answer.</p>\n"},{"tags":["qt","drop-down-menu","navigation","qt-creator","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13138259,"title":"ListView issue in QML","body":"<p>I'm trying to develop an application which has multi-layered navigation in drop-downs.\nBelow is the snapshot of the requirement. On clicking QSR only the subitems of QSR should pop out with proper alignment.</p>\n\n<p><img src=\"http://i.stack.imgur.com/YE91o.png\" alt=\"original requirement\"></p>\n\n<p>But with my implementation, I'm getting following result. The pop out window is not aligned, but extending itself to the list.</p>\n\n<p><img src=\"http://i.stack.imgur.com/fGKG2.png\" alt=\"my implementation\"></p>\n\n<p>Below is the my code snippet </p>\n\n<pre><code>import QtQuick 1.1\n\nItem {\n    width: 500\n    height: 300\n\n    ListView {\n        anchors.fill: parent\n        model: nestedModel\n        delegate: categoryDelegate\n    }\n\n    ListModel {\n        id: nestedModel\n        ListElement {\n            categoryName: \"QSR\"\n            collapsed: true\n\n            subItems: [\n                ListElement { itemName: \"KFC\" },\n                ListElement { itemName: \"Mc Donalds\" },\n                ListElement { itemName: \"Pizza Hut\" },\n                ListElement { itemName: \"Brain's\" }\n            ]\n        }\n\n        ListElement {\n            categoryName: \"Drinks\"\n            collapsed: true\n            subItems: [\n                ListElement { itemName: \"Pepsi\" },\n                ListElement { itemName: \"Coke\" },\n                ListElement { itemName: \"7up\" },\n                ListElement { itemName: \"Bacardi\" }\n            ]\n        }\n    }\n\n    Component {\n        id: categoryDelegate\n        Column {\n            width: 200\n\n            Rectangle {\n                id: categoryItem\n                border.color: \"black\"\n                border.width: 5\n                color: \"white\"\n                height: 50\n                width: 200\n                anchors.left: parent.right\n\n                Text {\n                    anchors.right: parent.right\n                    x: 15\n                    font.pixelSize: 24\n                    text: categoryName\n                }\n\n                MouseArea {\n                    anchors.fill: parent\n                    onClicked: nestedModel.setProperty(index, \"collapsed\", !collapsed)\n                }\n\n            }\n\n\n            Loader {\n                id: subItemLoader\n                visible: !collapsed\n                property variant subItemModel : subItems\n                sourceComponent: collapsed ? null : subItemColumnDelegate\n                onStatusChanged: if (status == Loader.Ready) item.model = subItemModel\n            }\n        }\n\n    }\n\n    Component {\n        id: subItemColumnDelegate\n        Column {\n            property alias model : subItemRepeater.model\n            width: 200\n            Repeater {\n                id: subItemRepeater\n                delegate: Rectangle {\n                    color: \"#cccccc\"\n                    height: 40\n                    width: 200\n                    border.color: \"black\"\n                    border.width: 2\n\n                    Text {\n                        anchors.verticalCenter: parent.verticalCenter\n                        x: 30\n                        font.pixelSize: 18\n                        text: itemName\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Any help to achieve original requirement will be appreciable.</p>\n"},{"tags":["c++","qt","directx-11"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13111617,"title":"Interrupt in Qt event","body":"<p>I am working with Qt, Directx 11 and C++. When my widget opens I start an Engine with system->Run(). This function calls every frame a function named Frame() as long as the variable done is set to false. </p>\n\n<p>When the closing event is called in my Qt class, then I want to shutdown the engine. So I made a function named isDone() which sets the variable done to false and then I release all variables I have created with System->Shutdown(). But the problem is that the program crashes because when the closing event is called, the System->Run() function is interrupted as long as the closing event is over, but I want that the Run() function is executed after the call from the function isDone() before the System->Shutdown() function is executed. </p>\n\n<p>Is there any possibility to make an interrupt in the closing event, so that other things in the queue are executed?</p>\n"},{"tags":["c++","xcode","osx","qt","cmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13169556,"title":"How can I make Qt CMake project link in Xcode for an i386 architecture?","body":"<p>I have developed an application that works on Windows and I'm now trying to get it to compile for Mac. I've tried to keep everything portable, using Qt with CMake and the library Cinder but inevitably it is not turning out to be that simple.</p>\n\n<p>I'm running Xcode 4.4.1 on Mac OS 10.7.5 and Qt 4.8.3 - I'm also using the LGPL licence of Qt which requires me to use dynamic rather than static linking. I downloaded Qt as an installer from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> and have not compiled it myself (nor am I entirely certain how to do so on a Mac).</p>\n\n<p>Using CMake to create an Xcode project and with a bit of tweaking I've managed to get to the compile stage but I'm stuck with this line which then causes all Qt linkages to fail:</p>\n\n<p><em>ignoring file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtXml.framework/QtXml, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtXml.framework/QtXmlignoring file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtCore.framework/QtCore, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtCore.framework/QtCore</em></p>\n\n<p>It's also worth mentioning that I need to build for 32 bit architecture (i386) with the 10.6 SDK for compatibility with Cinder.</p>\n\n<p>So, the question is, how can I get past this error? I gather that the problem may be that Qt has been built only for 64 bit architecture but how do I build the right version and point my Xcode project to it?</p>\n"},{"tags":["qt","pyqt","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13149793,"title":"How do I combine a QImage and QPixmap?","body":"<p>I'm using PyQt, and I've loaded an image from disk into a <code>QPixmap</code>.  I've also created a mask, using:</p>\n\n<pre><code>self.mask = QImage(self.image.width(), self.image.height(), QImage.Format_Mono)\nself.mask.fill(0)\n</code></pre>\n\n<p>I'd like to combine the two for display, such that any pixels colored black in the mask are drawn in translucent red over the image when I render it.</p>\n\n<p>I've created a custom widget, that renders the image in the paint event like so:</p>\n\n<pre><code>def paintEvent(self, event):\n    p = QPainter(self)\n    r = event.rect()\n\n    p.drawPixmap(r, self.image, r)\n</code></pre>\n\n<p>This works fine.  What I'm less clear on is how to take the data in the mask and paint a translucent red only over those pixels in the destination image.</p>\n\n<p>I've tried turning the mask into a clipping region, like this:</p>\n\n<pre><code>mask = QPixmap.fromImage(self.mask.createMaskFromColor(self.mask.color(0)))\np.setClipRegion(QRegion(mask))\n\ncolor = QColor(255, 0, 0, 128)\np.setPen(Qt.NoPen)\np.setBrush(QBrush(color))\np.drawRect(r)\n</code></pre>\n\n<p>... but it doesn't draw anything (and draws a translucent red box over the whole image if I don't call <code>setClipRegion</code>).</p>\n\n<p>I also tried creating the mask as a <code>QImage.Format_ARGB4444_Premultiplied</code>, and using transparency.  And while this does work, and I can edit the mask in my program (and verify that some portions of the mask are transparent and some portions are opaque) the <code>self.mask.createAlphaMask()</code> method returns a solid white rectangle.</p>\n\n<p>Do the \"create mask\" methods actually do anything?</p>\n"},{"tags":["qt","build","qt-creator","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":141,"score":2,"question_id":11593165,"title":"QTCreator copy files to output directory with INSTALLS","body":"<p>I have two sub directories <code>docroot</code> and <code>config</code> in my Qt project. Files in these directories shall be copied to the build directory whenever I build / debug the project.</p>\n\n<p>As of <a href=\"http://stackoverflow.com/a/3991210/356726\">http://stackoverflow.com/a/3991210/356726</a> this is possible by using <code>INSTALLS</code> (<a href=\"http://doc.trolltech.com/main-snapshot/qmake-variable-reference.html#installs\" rel=\"nofollow\">QtDoc</a>), which seems to be much easier than running copy command (e.g <a href=\"http://stackoverflow.com/a/3984180/356726\">here</a>). A similar approach is described <a href=\"http://stackoverflow.com/a/6776872/356726\">here</a>.</p>\n\n<pre><code>config.path    = $${DESTDIR}/config\nconfig.files   = config/*\ndocroot.path   = $${DESTDIR}/docroot\ndocroot.files  = docroot/*\nINSTALLS       += config docroot\n</code></pre>\n\n<p>However, when I run a build in Qt Creator nothing happens. This <a href=\"http://stackoverflow.com/a/6292967/356726\">here</a> says I need to run <code>make install</code> . Can I somehow trigger / do this from within Qt Creator automatically whenever I build. I would need always the latest version of the files.</p>\n\n<p>EDIT: Eventually I have used <code>$$OUT_PWD</code> instead of <code>$$DESTDIR</code></p>\n\n<p>Original comment from Logan <a href=\"http://stackoverflow.com/a/10058744/356726\">here</a>:\n\"Just a note: I used <code>$$OUT_PWD</code> instead of <code>$$DESTDIR</code> to make it work. For reference <code>$$OUT_PWD</code> is the folder that the program is built to, and <code>$$PWD</code> is the folder that the program is Being built from -in other words it's where the .pro file is.\"</p>\n"},{"tags":["c++","qt","qt4","qt-creator","qmake"],"answer_count":3,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":1143,"score":9,"question_id":8391964,"title":"How to copy Qt runtime DLLs to project output","body":"<p>I have a simple project created in Qt Creator (installed using Qt SDK 1.1.4).  It runs just fine from within Qt Creator, but if I then browse to the output directory in Windows and double-click the EXE, I'll get an error like:</p>\n\n<pre><code>The program can't start because QtCored4.dll is missing from your computer.\nTry reinstalling the program to fix this problem.\n</code></pre>\n\n<p>That's obviously because Qt isn't in my PATH (and I don't want it to be, in case I have multiple versions of Qt on my computer), and Qt Creator / qmake didn't copy the Qt DLLs to the project output.</p>\n\n<p>What I would like to do is use qmake to copy the necessary Qt files to the project output directory - wherever it may be.  How do I do this?</p>\n\n<p>(I tried creating a custom target in qmake, but I'm not getting too far...)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13148487,"title":"Empty scrollArea QT C++","body":"<p>I am loading data from xml executed by timer. xml is parsed and populated in entity object.\nIn a loop im taking the data from entity object and populate QCommandLinkButton's. and in the end a batch of buttons are set into the verticalLayout and then in scrollArea.</p>\n\n<p>but every time data is loaded its appends to the old data. How can I empty the content of the srollArea before repopulating scrollArea.</p>\n\n<pre><code>MainWindow::methodExecudedByTimer(){\n\n    foreach(int i, map.keys()){ \n        QCommandLinkButton* buttonEmail = new QCommandLinkButton(this);\n        Email em = map[i];\n        buttonEmail-&gt;setText(em.__toString());\n\n        ui-&gt;verticalLayout-&gt;addWidget(buttonEmail);\n    }\n    ui-&gt;scrollArea-&gt;setLayout(ui-&gt;verticalLayout);\n}\n</code></pre>\n"},{"tags":["linux","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13127264,"title":"Qmake does not include the library path for qt","body":"<p>I just install qt on my slax box, \nAnd I tried to write and compile using qmake.</p>\n\n<p>But the problem is qmake does not write it's 'Makefile' to include -Lqt-mt or -Lqt.\nI have to give it manually otherwise there are unresolved links are there. What I could \ndo for this?Any workaround on this?</p>\n\n<p><img src=\"http://i.stack.imgur.com/nVA3f.png\" alt=\"enter image description here\"></p>\n\n<p>And this is the 'Makefile' output by the qmake.</p>\n\n<pre><code>#############################################################################\n# Makefile for building: hello\n# Generated by qmake (2.01a) (Qt 4.5.3) on: Tue Feb 2 04:04:03 2010\n# Project:  hello_world.pro\n# Template: app\n# Command: /usr/bin/qmake -unix -o Makefile hello_world.pro\n#############################################################################\n\n####### Compiler, tools and options\n\nCC            = gcc\nCXX           = g++\nDEFINES       = \nCFLAGS        = -pipe $(DEFINES)\nCXXFLAGS      = -pipe $(DEFINES)\nINCPATH       = -I/usr/lib/qt-3.3.8b/mkspecs/linux-g++ -I.\nLINK          = g++\nLFLAGS        = \nLIBS          = $(SUBLIBS)   \nAR            = ar cqs\nRANLIB        = \nQMAKE         = /usr/bin/qmake\nTAR           = tar -cf\nCOMPRESS      = gzip -9f\nCOPY          = cp -f\nSED           = sed\nCOPY_FILE     = $(COPY)\nCOPY_DIR      = $(COPY) -r\nINSTALL_FILE  = $(COPY_FILE)\nINSTALL_DIR   = $(COPY_DIR)\nINSTALL_PROGRAM = $(COPY_FILE)\nDEL_FILE      = rm -f\nSYMLINK       = ln -sf\nDEL_DIR       = rmdir\nMOVE          = mv -f\nCHK_DIR_EXISTS= test -d\nMKDIR         = mkdir -p\n\n####### Output directory\n\nOBJECTS_DIR   = ./\n\n####### Files\n\nSOURCES       = hello_world.cpp \nOBJECTS       = hello_world.o\nDIST          = hello_world.pro\nQMAKE_TARGET  = hello\nDESTDIR       = \nTARGET        = hello\n\nfirst: all\n####### Implicit rules\n\n.SUFFIXES: .o .c .cpp .cc .cxx .C\n\n.cpp.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.cc.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.cxx.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.C.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.c.o:\n    $(CC) -c $(CFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n####### Build rules\n\nall: Makefile $(TARGET)\n\n$(TARGET):  $(OBJECTS)  \n    $(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJCOMP) $(LIBS)\n\nMakefile: hello_world.pro  /usr/lib/qt-3.3.8b/mkspecs/linux-g++/qmake.conf \n    $(QMAKE) -unix -o Makefile hello_world.pro\nqmake:  FORCE\n    @$(QMAKE) -unix -o Makefile hello_world.pro\n\ndist: \n    @$(CHK_DIR_EXISTS) .tmp/hello1.0.0 || $(MKDIR) .tmp/hello1.0.0 \n    $(COPY_FILE) --parents $(SOURCES) $(DIST) .tmp/hello1.0.0/ &amp;&amp; (cd `dirname .tmp/hello1.0.0` &amp;&amp; $(TAR) hello1.0.0.tar hello1.0.0 &amp;&amp; $(COMPRESS) hello1.0.0.tar) &amp;&amp; $(MOVE) `dirname .tmp/hello1.0.0`/hello1.0.0.tar.gz . &amp;&amp; $(DEL_FILE) -r .tmp/hello1.0.0\n\n\nclean:compiler_clean \n    -$(DEL_FILE) $(OBJECTS)\n    -$(DEL_FILE) *~ core *.core\n\n\n####### Sub-libraries\n\ndistclean: clean\n    -$(DEL_FILE) $(TARGET) \n    -$(DEL_FILE) Makefile\n\n\ncompiler_clean: \n\n####### Compile\n\nhello_world.o: hello_world.cpp \n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o hello_world.o hello_world.cpp\n\n####### Install\n\ninstall:   FORCE\n\nuninstall:   FORCE\n\nFORCE:\n</code></pre>\n\n<p>And here is my .pro file that I used.</p>\n\n<pre><code>TEMPLATE=app\nCONFIG+= qt warn_on release\nHEADERS=\nSOURCES=hello_world.cpp\nTARGET=hello\n</code></pre>\n\n<p>I already set the $QTDIR and I think everything is in place. \nWhere I missed? Why I have to give it manually? Why qmake does not work in first\nplace?</p>\n\n<p>EDIT:\nThere in makefile </p>\n\n<pre><code>LIBS          = $(SUBLIBS) \n</code></pre>\n\n<p>What I did is change it to,</p>\n\n<pre><code>LIBS          = $(SUBLIBS)  -lqt-mt\n</code></pre>\n\n<p>After I changed everything works fine ! The problem is again , why I have to do such \na thing manually?</p>\n\n<p>FOR @Frank Osterfeld\nI think I'm using correct 'qmake' because ,\nWhen I hit, qmake --version , I do get this.</p>\n\n<pre><code>QMake version 2.01a\nUsing Qt version 4.5.3 in /usr/lib/qt/lib\n</code></pre>\n\n<p>--Thanks in advance--</p>\n"},{"tags":["c++","qt","table","pdf"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13167460,"title":"QTextBrowser and painter","body":"<p>i have pdf i want to print, this pdf must have a table which is a text for which i am using QTextBrowser. i then use Painter to render the graph. my issue is you cant render with QTextBrowser there are some issue  below is the code for the table this has no graphics just text so this is fine. </p>\n\n<pre><code> QGraphicsTextItem *painters;\n    painters-&gt;\n    QPrinter *printer = new QPrinter(QPrinter::HighResolution);\n    printer-&gt;setPaperSize(QPrinter::A4);\n    printer-&gt;setOutputFormat(QPrinter::PdfFormat);\n    printer-&gt;setOrientation(QPrinter::Portrait);\n    printer-&gt;setFullPage(true);\n    printer-&gt;setOutputFileName(fileName);\n\n\n\n// Print Summary\n\nQTableWidget *summaryTab=new QTableWidget();\nm_mainApp-&gt;m_table-&gt;SetTableWidget(summaryTab);\nsummaryTab-&gt;setGeometry(0,0,printer-&gt;pageRect().width(),printer-&gt;pageRect().height());\nsummaryTab-&gt;setAutoScroll(false);\nm_mainApp-&gt;m_table-&gt;InitTableSummary(summaryTab);\nm_mainApp-&gt;m_table-&gt;FillTableSummary(summaryTab,index);\nsummaryTab-&gt;setAlternatingRowColors(true);\nsummaryTab-&gt;setFrameShape(QFrame::NoFrame);\nQTextBrowser *editor= new QTextBrowser;\nQTableWidget2QTextBrowser(summaryTab,editor);\n</code></pre>\n\n<p><strong>This is where the issue comes in</strong></p>\n\n<pre><code> if(m_mainApp-&gt;mLoggerList[index].recCurrentAddress)\n    {\n\n\n\n//            // Print Graph\n\n////        QwtPlotRenderer renderer;\n////        renderer.setDiscardFlag(QwtPlotRenderer::DiscardBackground,false);\n////        renderer.setLayoutFlag(QwtPlotRenderer::KeepFrames,true);\n////        renderer.render(m_plot,&amp;painter,QRect(0,printer-&gt;height()/2,printer-&gt;width(),printer-&gt;height()/2.2));\n////        printer-&gt;newPage();\n</code></pre>\n\n<p>I have tried to use paintEngine and still had issue maybe i didnt set it up accordingly, was also looking into QGraphicTextItem as seen on top these graphics are not html but simple graphics.I cant swwtich to html so this must stay as an graphic or image. so how do i get this to work please understand i am new to Qt and im entry so please explain set by set or a fully as you can. thank you for your help</p>\n"},{"tags":["qt","gui","drag-and-drop","draggable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13166686,"title":"Making part of a QWidget draggable","body":"<p>I have a USB device that can</p>\n\n<ul>\n<li>\"move\" along a linear axis,</li>\n<li>stop at a target,</li>\n<li>report its position,</li>\n<li>report its target,</li>\n<li>have its target set by the host application.</li>\n</ul>\n\n<p>Now I want to create a widget that I can use to indicate position and target, but I also want the target indicator to be draggable with the mouse. What I have accomplished so far is the indicating part, which looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/0UMH0.png\" alt=\"enter image description here\"></p>\n\n<p>The black, filled triangle is the position; the target indicator is green.</p>\n\n<p>What I want is to be able drag the target indicator around. While this is being done, the device's target should be updated with the current target indicator's value. I'm new to gui programming (until now I only took care of the USB stuff; this is my first custom widget), and I'm not sure how I can accomplish this.</p>\n\n<p>Is it a good idea to leave the target indicator as a part of the widget, or should it be some kind of child? I'm pretty sure there are common patterns for this kind of job, but I don't know the right keywords to find them. Googling for things like \"QWidget drag\" only leads me to the drag and drop functions, which is not quite what I need.</p>\n"},{"tags":["c++","qt","bit-manipulation","bit-shift"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13166393,"title":"QBitArray shift","body":"<p>How can I shift a QBitArray in QT? </p>\n\n<p>For example, I have <em>0010000</em> which I'd like to shift left, so I would get <em>0100000</em>. There is no function for this in <a href=\"http://harmattan-dev.nokia.com/docs/library/html/qt4/qbitarray.html\" rel=\"nofollow\">QT's documentation</a> concerning QBitArray.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":572,"score":3,"question_id":4269774,"title":"Display and get the result of a QMessageBox from outside of a QObject","body":"<p>I am trying to display and get the result a message box from outside of a QObject class. I seem to be able to generate the dialog like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal();\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal() ), this, SLOT(MySlot()) );\n  }\n\n  void EmitSignal()\n  {\n    emit MySignal();\n  }\n\npublic slots:\n  void MySlot()\n  {\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result)\n    {\n      std::cout &lt;&lt; \"ok\" &lt;&lt; std::endl;\n    }\n    else\n    {\n      std::cout &lt;&lt; \"invalid\" &lt;&lt; std::endl;\n    }\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction(DialogHandler* dialogHandler)\n{\n  dialogHandler-&gt;EmitSignal();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  DialogHandler* dialogHandler = new DialogHandler;\n\n  MyFunction(dialogHandler);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>To get the result back in MyFunction, it seems to work to do simply pass an object to fill with the result like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal(int* returnValue);\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal(int*) ), this, SLOT(MySlot(int*)), Qt::BlockingQueuedConnection );\n  }\n\n  void EmitSignal(int* returnValue)\n  {\n    emit MySignal(returnValue);\n  }\n\npublic slots:\n  void MySlot(int* returnValue)\n  {\n    std::cout &lt;&lt; \"input: \" &lt;&lt; *returnValue &lt;&lt; std::endl;\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;addButton(QMessageBox::Yes);\n    dialog-&gt;addButton(QMessageBox::No);\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result == QMessageBox::Yes)\n    {\n      *returnValue = 1;\n    }\n    else\n    {\n      *returnValue = 0;\n    }\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction(DialogHandler* dialogHandler)\n{\n  int returnValue = -1;\n  dialogHandler-&gt;EmitSignal(&amp;returnValue);\n\n  std::cout &lt;&lt; \"returnValue: \" &lt;&lt; returnValue &lt;&lt; std::endl;\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  DialogHandler* dialogHandler = new DialogHandler;\n\n  QtConcurrent::run(MyFunction, dialogHandler);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n\n<p>Does that seem reasonable? Is there a better way to do it?</p>\n"},{"tags":["qt","qvariant","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":370,"score":0,"question_id":7010956,"title":"QVariantMap crash in destructor","body":"<p>I am building a JSON-object with Qt and convert it to a QString using QJson. This (normally) works fine and it does in this case but in the destructor of my Qt data structure, it crashes with an Access Violation. The Object is built fine, it is sent over my network connection and after the function ends, my application crashes.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>void bar()\n{\n    QVariantMap data;\n    data.insert(\"Id\", 1);\n    QList&lt;QVariant&gt; list; //QVariantList\n\n    for (QMap&lt;...&gt;:ConstIterator ... ) //Loop through a Map\n    {\n        QMap&lt;QString, QVariant&gt; singleEntry; //QVariantMap\n        singleEntry.insert(\"LocalId\", it.value());\n        QList&lt;QVariant&gt; entryList; //QVariantList\n        for (...) //Loop through another structure\n        {\n            entryList.append(\"foo\");\n        }\n        singleEntry.insert(\"List\", entryList);\n        list.append(singleEntry);\n    }\n    data.insert(\"Entries\", list);\n\n    QJson::Serializer.serialize(data); // Works fine\n} // Crash here\n</code></pre>\n\n<p>If I remove the inner loop, which builds up <code>entryList</code>, everything works fine. It seems that the destructor of <code>data</code> cannot delete the contents but I have no idea, why. The whole data structure seems to be fine while serializing it (and I hope that QJson does not change anything in the given data) but it cannot be cleaned up..</p>\n\n<p>Best Regards,\nTobias</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":562,"score":2,"question_id":3716963,"title":"QVarientMap _ Json Parsing in QT","body":"<p>I am using the following code for parsing:</p>\n\n<pre><code>QJson::Parser parser;\nbool ok;\nQVariantMap result=parser.parse (cityReply-&gt;readAll(),&amp;ok).toMap();\nif (!ok)\n{\n    qFatal(\"An error occurred during parsing\");\n    exit (1);\n}\n\nforeach (QVariant city, result.toList())\n{\n    QVariantMap names = city.toMap();\n    qDebug() &lt;&lt; \"\\t-\" &lt;&lt; names[\"name\"].toString();\n}\n</code></pre>\n\n<p>My json String is <code>[{\"id\":2,\"name\":\"AAA\"},{\"id\":1,\"name\":\"BBB\"}]</code>.</p>\n\n<p>I got the following error:</p>\n\n<blockquote>\n  <p>'class QVariantMap' has no member named 'toList'.</p>\n</blockquote>\n\n<p>is it possible to convert the QMap to QList?</p>\n"},{"tags":["c++","qt","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":377,"score":0,"question_id":3717839,"title":"Undefined reference to a local class","body":"<p>I've just played with qjson library and got \"undefined reference\" error. This is the code:</p>\n\n<pre><code>#include &lt;qjson/qobjecthelper.h&gt;\n#include &lt;qjson/serializer.h&gt;\n\nclass Person: public QObject {\n\n    Q_OBJECT\n\n    Q_PROPERTY(QString name READ name WRITE setName)\n    Q_PROPERTY(Gender gender READ gender WRITE setGender)\n    Q_ENUMS(Gender)\n\npublic:\n    Person(QObject *parent = 0);\n    ~Person();\n\n    QString name() const;\n    void setName(const QString &amp;name);\n\n    enum Gender{Male, Female};\n    Gender gender() const;\n    void setGender(Gender gender);\n\nprivate:\n    QString m_name;\n    Gender m_gender;\n\n};\n\nint main ()\n{\n\n    Person person;\n\n    QJson::Serializer serializer;\n\n    person.setName(\"Nick\");\n    person.setGender(Person::Male);\n    QVariantMap person_map = QJson::QObjectHelper::qobject2qvariant(&amp;person);\n\n    QByteArray json = serializer.serialize(person_map);\n    return 0;\n}\n</code></pre>\n\n<p>So, compiler says that <code>undefined reference to Person::Person</code> and all other functions in <strong>Person</strong> class. Why?</p>\n"},{"tags":["qt","qjson","custom-data-type"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":564,"score":0,"question_id":6210877,"title":"How to register the following datatype to allow serialization?","body":"<p>I am using <a href=\"http://qjson.sourceforge.net/\" rel=\"nofollow\">QJson</a> to serialize a <code>QObject</code>-derived class. I am able to serialize the class itself without any problems, but when it comes to one of its members, I am having a bit of trouble.</p>\n\n<p>The class is named <code>CProject</code> and it contains a property <code>files</code> which is defined as:</p>\n\n<pre><code>QList&lt;CProjectFile&gt; files;\n</code></pre>\n\n<p>When serializing an instance of <code>CProject</code>, I get a message in the console:</p>\n\n<blockquote>\n  <p><code>QMetaProperty::read: Unable to handle unregistered datatype 'QList&lt;CProjectFile&gt;' for property 'CProject::files'</code></p>\n</blockquote>\n\n<p>I read somewhere that I have to register the datatype, so I added the following after the declaration of <code>CProject</code>:</p>\n\n<pre><code>Q_DECLARE_METATYPE(QList&lt;CProjectFile&gt;)\n</code></pre>\n\n<p>...and when that did nothing, I added:</p>\n\n<pre><code>qRegisterMetaType&lt; QList&lt;CProjectFile&gt; &gt;();\n</code></pre>\n\n<p>Nothing is working. What am I doing wrong?</p>\n"},{"tags":["json","qt","json-decode","qstring","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":502,"score":1,"question_id":6463449,"title":"convert json array of hashes to Qt list of QHashes","body":"<p>I have a QString of JSON-encoded dictionaries.  Is there a simple way to convert them to a list of QHashes?  I've looked at this post <a href=\"http://stackoverflow.com/questions/1825892/best-json-parser-for-qt\">Best JSON parser for Qt?</a>, but haven't been able to get a valid QHash out (says it's empty).  </p>\n\n<pre><code>\"[{ 'var' : 'xres', 'name' : 'Image Width', 'type' : 'int', 'min' : 1, 'max' : 4096},{ 'var' : 'yres', 'name' : 'Image Height', 'type' : 'int', 'min' : 1, 'max' : 4096}]\"\n</code></pre>\n\n<p>and I'd like them in something like <code>QList&lt;QHash&lt;QString,QVariant&gt;&gt;</code>.  </p>\n\n<p>SOLVED:</p>\n\n<pre><code>QScriptValue sc;\nQScriptEngine engine;\nsc = engine.evaluate(atts); // In new versions it may need to look like engine.evaluate(\"(\" + QString(result) + \")\");\n\nQVariantList attsList;\nqScriptValueToSequence(sc, attsList);\n\nforeach (QVariant item, attsList) {\n    //std::cout &lt;&lt; item.typeName() &lt;&lt; std::endl;\n    QMap&lt;QString,QVariant&gt; attribute = item.toMap();\n    attribute[\"name\"].toString() // etc.\n</code></pre>\n"},{"tags":["c++","json","qt","serialization","qjson"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":759,"score":1,"question_id":4987560,"title":"How to serialize to JSON in Qt","body":"<p>How can I JSON serialize a QVariant (or other type of data) in Qt. \nI don't want to use an external third party library like <a href=\"http://qjson.sourceforge.net/\" rel=\"nofollow\">QJson</a></p>\n"},{"tags":["qt","opengl","opencv","video-streaming","iplimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13163412,"title":"Opengl based renderer for OpenCV IplImage video streams","body":"<p>Ok, this is not really a question, rather it's something that might help someone who needs to display video streams in a high level qt gui.<br>\nI have been working with OpenCV since a year now and many times I have had to write code that opens a video file and streams it.<br>\nLately, I have been using Qt to provide the high level gui and I came up with a solution to display IplImages on a Qt GUI using OpenGL(which I spent a lot of time struggling with but succeeded finally). Although, OpenCV can be built with Qt highgui support, I was keen in learning a bit of  OpenGL and using it in my application.<br>\nI thought it would be helpful for people who need a basic framework for running videos for their applications.<br>\nThis basic framework can be used in a wide range of applications like video content analysis, face recognition, pattern recognition and more. In the broader sense, this is basically a video player without audio support. So if you want you can add audio support and make this a video player. It will play almost all formats as opencv uses ffmpeg to play videos.\nI have created a C++ library for the same which I use quite extensively: <a href=\"https://www.dropbox.com/s/pbhku266dvp04zo/QVideo.tar.gz\" rel=\"nofollow\">https://www.dropbox.com/s/pbhku266dvp04zo/QVideo.tar.gz</a>  </p>\n\n<p>The main classes are: </p>\n\n<ul>\n<li><B>QVideo</B> : The main widget, providing functionality to open a video/rtsp stream and play it </li>\n<li><B>QIplImage</B>: The core display widget. It's a QGLWidget which renders an IplImage</li>\n<li><B>BackgroundWorker</B>: This is a thread which runs in the background to retrieve images from the stream. It is mandatory to run the frame grabber in a background thread, otherwise it interferes with the GUI thread. All the image processing can be done in this thread</li>\n</ul> \n\n<p>The source code is provided so you can modify it to your needs.<br>\nOnce the library is installed, you can use it in your qt application like so:<br>\n    <code>//Create an object<br>\n    QVideo* video=new QVideo(\"Name\",);<br>\n    //set geometry (optional)<br>\n    setCentralWidget(video);<br>\n</code></p>\n\n<p>To build the library, you will need qt and opencv(with ffmpeg support) installed.<br>\nThe library gets installed in /usr/lib or /usr/lib64 based on the architecture.<br>\nThe include files get installed in /usr/local/include<br>\nOf course, all this can be changed in the project file if needed.<br>\nTo install, just unzip the package, and run qmake, make and sudo make install.<br>\nNote: The project is configured for unix and would need to be changed for windows builds. Drop me a message for more information.</p>\n"},{"tags":["json","qt","parsing","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":5297,"score":6,"question_id":4169988,"title":"easiest way to parse JSON in Qt 4.7","body":"<p>I need to parse JSON object through Qt. What is the easiest/fastest way to do it?</p>\n"},{"tags":["c++","qt","cmake","osx-snow-leopard","qjson"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":171,"score":0,"question_id":9122443,"title":"How do I build qjson for Mac OS X 10.5?","body":"<p>I am building an application that makes use of qjson, an open source JSON parser for Qt. I've been able to get my main application building for Mac OS X 10.5 using Mac OS X 10.6.8 and Qt 4.8.0, but I haven't been able to figure out how to build qjson using the Mac OS X 10.5 SDK. I'm using Xcode 3.2.6 in order to keep compatibility with Mac OS X 10.5. I understand if I add a line like this to my pro file, I can build for Mac OS X 10.5:</p>\n\n<pre><code>macx:QMAKE_MAC_SDK = /Developer/SDKs/MacOSX10.5.sdk\n</code></pre>\n\n<p>However, it doesn't appear to be as simple with building qjson. I tried adding the above line to the src.pro file within the git repository I cloned from Gitorious, but it doesn't appear to build using the Mac OS X 10.5 SDK. When trying to run my app on Leopard, I get these messages:</p>\n\n<pre><code>myApp.app/Contents/MacOS/../Frameworks/libqjson.0.dylib:\nunknown required load command 0x80000022\nmyApp.app/Contents/MacOS/../Frameworks/libqjson.0.dylib:\nunknown required load command 0x80000022\n</code></pre>\n\n<p>I have tried building some of the Qt 4.7 examples and have successfully deployed the applications my Leopard deployment machine. The library, qjson, uses CMAKE, a build system that I'm not quite familiar with, but there must be something I'm missing in configuring the SDK to use. Please let me know if you have any suggestions on what should be done. Thanks much.</p>\n\n<p>EDIT:\nAfter some research about CMAKE command line arguments, I have been able to set the SDK using:\ncmake -DCMAKE_OSX_SYSROOT=\"/Developer/SDKs/MacOSX10.5.sdk\" ..\nHowever, the build fails using the 10.5 SDK. Any thoughts?</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":334,"score":2,"question_id":3732998,"title":"QJSON using in Mac - getting some issues","body":"<p><br>\nI am using the QJson for parsing. But I am stuck up with some issues. I have used the following code.  </p>\n\n<pre><code>void CityBook ::getCityList(QUrl url)  \n{  \n        //!connect(cityReply, SIGNAL(readyRead()),this, SLOT(httpReadyRead()));  \n        cityGuideNetworkAccessManager = new QNetworkAccessManager(this);  \n        connect(cityGuideNetworkAccessManager, SIGNAL(finished(QNetworkReply*)),  \n             this, SLOT(httpReadyRead(QNetworkReply*)));  \n     QNetworkRequest cityRequest(url);  \n     cityGuideNetworkAccessManager-&gt;get(cityRequest);  \n}  \n\nvoid CityBook::httpReadyRead(QNetworkReply *reply)  \n{  \n    QMessageBox::information(this, tr(\"HTTP\"),  \n                              tr(reply-&gt;readAll()),QMessageBox::NoButton  \n                            );  \n    QJson::Parser parser;  \n    bool ok;  \n    const QByteArray &amp;resultbyte = reply-&gt;readAll();  \n    qDebug() &lt;&lt; resultbyte;  \n    QVariant result1 = parser.parse(reply-&gt;readAll(), &amp;ok);  \n    qDebug() &lt;&lt; result1;  \n    QVariantList result=parser.parse(resultbyte,&amp;ok).toList();  \n    qDebug()&lt;&lt; result.size();  \n    if (!ok)  \n    {  \n        qFatal(\"An error occurred during parsing\");  \n        exit (1);  \n    }  \n    qDebug() &lt;&lt;\"error String\"&lt;&lt; parser.errorString();   \n    qDebug() &lt;&lt;\"error\" &lt;parser.errorLine();  \n    //! QVariantList entries = result[\"name\"].toList();  \n    foreach (QVariant city, result) {   \n        QVariantMap names = city.toMap();  \n        qDebug() &lt;&lt; \"\\t-\" &lt;&lt; names.value(\"name\");  \n    }  \n}  \n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>Starting /Users/QT Developement/CityBook-build-desktop/CityBook.app/Contents/MacOS/CityBook...  \n\"\"   \nQVariant(, )  \n0   \nerror String \"\"   \nerror 0  \n</code></pre>\n\n<p>Please help me .. Where I have done mistake…\nThanks is advance.</p>\n"},{"tags":["windows","json","qt","qt-creator","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":9446181,"title":"How to build QJson under Windows for use with QtCreator?","body":"<p>I would like to know how to build QJson under Windows. I've downloaded sources, but I have no idea how to proceed with it. There are multiple instructions how to add a DLL from QJson, but how to I get the library file?</p>\n"}]}
{"total":16228,"page":4,"pagesize":100,"questions":[{"tags":["c++","json","qt","undefined-reference","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":11226009,"title":"Undefined reference to QJson::Parser::Parser","body":"<p>I've successfully(?) installed the QJson library following the instructions in the archive. But the compiler gives me this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Undefined reference to QJSon::Parser::Parser().\n</code></pre>\n\n<p>I've found where library files have been installed: it's <code>/usr/local/include/json</code> directory. But there are only <code>*.h</code> files in it.</p>\n\n<p>The minimal code:</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;qjson/parser.h&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QJson::Parser parser;\n    return a.exec();\n}\n</code></pre>\n\n<p>I use linux.</p>\n\n<p>Where are <code>*.cpp</code> files? What did I do wrong? Why isn't the library complete?</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":1121,"score":0,"question_id":3708121,"title":"Parsing JSON using QJSON","body":"<p>My json output look like [{\"id\":2,\"name\":\"AAA\"},{\"id\":1,\"name\":\"BBB\"}]. I want to parse this using Qjson in mac. I am trying to parsing but I could not get any outputs . please help me. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","nokia","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":397,"score":0,"question_id":4151759,"title":"install QJson in windows - 7","body":"<p>I want to install the qjson in my windows machine. I installed the cmake and nokia qt sdk in my window 7 and use the following commands but I am getting the error..</p>\n\n<pre><code>C:\\Program Files\\qjson\\build&gt;cmake -G \"MinGW Makefiles\" ..\n'cmake' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>Please help me.. Thanks in advance.</p>\n"},{"tags":["json","qt","qt-creator","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":319,"score":0,"question_id":9452824,"title":"use of qjson library","body":"<p>When I try to use QJson library application cannot even start. I get message path\\app.exe exited with code 128.\nI include QJson in app.pro as follows<code>LIBS += qjson/lib/qjson0.dll</code>\nQJson is in my project directory and I includ eserializer.h <code>#include \"qjson/src/serializer.h\"</code>\nThen when I try to declare Serializer object<code>QJson::Serializer serializer;</code>I got this code 128 error when trying to run application. I tried to debug it and check on what line it has problems but it seems like it doesn't even start to execute main function, although the process mingw32-make.exe exited normally.</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":410,"score":2,"question_id":3698279,"title":"Install QJson in Mac","body":"<p>How to install the Qjson in mac?</p>\n"},{"tags":["c++","qt","dll","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":11382832,"title":"Installing QJson on Windows","body":"<p>Now I'm porting my project from Linux to Windows.</p>\n\n<p>I've built QJson using QtCreator by <a href=\"http://qjson.sourceforge.net/get_it/windows.html\" rel=\"nofollow\">instructions</a>, and now I have one simple question: where I should move the library dll-file, and what I should specify in <code>LIBS +=</code> line in the <code>.pro</code> file?</p>\n\n<p>Here's content of that line in Linux:</p>\n\n<pre><code>LIBS += -L/usr/local/lib -lqjson\n</code></pre>\n"},{"tags":["qt","registry","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":570,"score":2,"question_id":8484610,"title":"Check if a value registry exists with QSettings","body":"<p>What i'm trying to do is to check if a registry key (NOT VALUE, KEY) exists in the registry. I can't find any way to check that.</p>\n\n<p>Idea?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":238,"score":1,"question_id":5201095,"title":"Qt Run Configurations","body":"<p>In Qt Creator->Projects tab, I have multiple build environments and each one generates a different executable name.</p>\n\n<p>I have added a Custom Executable run configuration for each of the build environments to launch the executable from Qt Creator. This requires specifying the path to the executable.  This works ok but when I move the project I have to update the run configuration to match the new path.  Is there a way I could make it relocatable as with a default run configuration?</p>\n\n<p>Defaut Run configuration Types generate this (and more) XML in the .pro.user file:<br>\n<code>\n    <code>&lt;data&gt;<br>\n    &lt;variable&gt; RunConfiguration0-type&lt;/variable&gt;<br>\n    &lt;value type=\"QString\"&gt;Qt4ProjectManager.Qt4RunConfiguration&lt;/value&gt;<br>\n    &lt;/data&gt;</code>\n</code>  </p>\n\n<p>The problem with this is there is no way to change the name of the executable</p>\n\n<p>A Custom Executable Run configuration Type generates this(and more) XML in the .pro.user file:<br>\n<code> \n    <code>&lt;data&gt;<br>\n    &lt;variable&gt;RunConfiguration2-type&lt;/variable&gt;<br>\n    &lt;value type=\"QString\"&gt;ProjectExplorer.CustomExecutableRunConfiguration&lt;/value&gt;<br>\n    &lt;/data&gt;</code><br>\n</code>  </p>\n\n<p>The problem with this is that I have to specify the path of the executable and If I move the project then I have to update the location of the executable in the projects tab.</p>\n\n<ol>\n<li>Is there a way to use a variable pointing to the build dir in a .pro.user files?</li>\n<li>Where can I find documentation on .pro.user files?</li>\n</ol>\n"},{"tags":["c++","qt","qt4","const"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13162010,"title":"Qt ignores const specifier","body":"<p>I've created simple snippet to show strange behavior I noticed. That's it:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QLineEdit&gt;\n\nclass MyObject : public QWidget\n{\npublic:\n    explicit MyObject(QWidget *parent = 0) : QWidget(parent) {\n        editor = new QLineEdit(this);\n    }\n\n    void setValue(const QString &amp;s) const {\n        editor-&gt;setText(s);\n        editor-&gt;setReadOnly(true);\n        editor-&gt;setMaxLength(s.length());\n    }\n\nprivate:\n    QLineEdit *editor;\n};\n\nint main(int argc, char **argv)\n{\n    QCoreApplication app(argc, argv);\n    return app.exec();\n}\n</code></pre>\n\n<p><code>MyObject::setValue</code> function has <code>const</code> specifier, but this code is compiled well. Note that <code>setText</code>, <code>setReadOnly</code> and <code>setMaxLength</code> functions aren't <code>const</code>:</p>\n\n<pre><code>void setText(const QString &amp;);\nvoid setReadOnly(bool);\nvoid setMaxLength(int);\n</code></pre>\n\n<p>I just want to know what causes such behavior?\nI use Qt 4.7.4 with MingGW 4.6.2.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13156703,"title":"Qt: Where to place a connect statement?","body":"<p>I have a widget (mainWidget) and another widget (childWidget), that's a child of it.</p>\n\n<p>I want to:</p>\n\n<pre><code>connect(childWidget, SIGNAL(somethingHappened(...)), mainWidget, SLOT(handleIt(...));\n</code></pre>\n\n<p>My question is: does one place the connect statement in mainWidget or childWidget?</p>\n\n<ul>\n<li><p>If I create the childWidget in the mainWidget's constructor and place\nthe connect statement on the next line, it works. But, let's say the \nchildWidget, upon being created, does something and then signals to<br>\nthe mainWidget success. You could have a situation where the connect \nstatement only comes after a function (of childWidget) that emits the\nsignal.</p></li>\n<li><p>If I place the connect statements in the childWidget's constructor,<br>\nthe problem is that it doesn't know anything about the parent's<br>\nslots. If I make childWidget inherit mainWidget, it does know about<br>\nthe slots - but this feels like a bad solution to me. Couldn't get it\nto work anyway. There is probably a proper way to do this - I'm still\nlooking.</p></li>\n</ul>\n\n<p>I'm quite new to Qt programming.\nIn advance: thank you for any help.</p>\n"},{"tags":["qt","nokia","qt-mobility","nokia-location-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11066524,"title":"Getting my position in QtQuick","body":"<p>I need to get my location in nokia QT.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>Rectangle {\n            id: page\n            width: 350\n            height: 350\n            PositionSource {\n                id: positionSource\n                updateInterval: 1000\n                active: true\n            onPositionChanged: {\n                console.log(\"latitude : \"+positionSource.position.coordinate.latitude);\n                console.log(\"longitude :\"+positionSource.position.coordinate.longitude);\n            }\n        }\n}\n</code></pre>\n\n<p>In the project file I have set the capability and mobility configuration:</p>\n\n<pre><code>symbian:\n{\n    TARGET.CAPABILITY +=  Location\n    CONFIG += mobility\n    MOBILITY +=location\n}\n</code></pre>\n\n<p>This code is run fine on the simulator, but on the real handset (Nokia 5530 XpressMusic) it doesn't work and I got this message:</p>\n\n<pre><code>[Qt Message] QGeoPositionInfoSource::createDefaultSource() requires the Symbian Location capability to succeed on the Symbian platform\n</code></pre>\n\n<p>What is the problem?</p>\n"},{"tags":["c++","qt","web-services","qtwebkit"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3256,"score":3,"question_id":3078486,"title":"How to Create a webservice by QT","body":"<p>I am looking for a tool or plugin that help me to create web service as DOT NET does for Linux</p>\n\n<p>thanks</p>\n\n<p>===============================</p>\n\n<p>After search, I found that Qt does not have any thing to write web services</p>\n\n<p>gSOAP is an Open Source Solution for this problem, currently we use it.</p>\n"},{"tags":["osx","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13156066,"title":"Qt App Built on MAC 10.7.4 not working on 10.6","body":"<p>Hi I have created an Qt Appliation on Mac 10.7.4. and I got an .app file i.e ex myApp.app\nWhen I try to run it on MAC 10.6 I am getting an error as showed in the below <img src=\"http://i.stack.imgur.com/hYVxV.png\" alt=\"Error Image\">image</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13157044,"title":"RuntimeError: startApplication() failed when using squish for testing Qt applications","body":"<p>I am using <code>Squish 4.2.2</code> for testing a <code>GUI</code> developed in <code>Qt version 4.7</code> on <code>linux</code>. The <code>AUT</code> is built using statically linked Qt libraries. Since squish doesnot allow recording for statically linked Qt libraries, I am planning to manually create the test cases. However the squish test case fails with following error</p>\n\n<pre><code>Error Script Error Oct 31, 2012\nDetail RuntimeError: startApplication() failed \n</code></pre>\n\n<p>The test case contains a single line to start the AUT. The server log shows only the following warning</p>\n\n<pre><code>AUT does not appear to be dynamically linked against Qt, hooking might fail.\n</code></pre>\n\n<p>Has anyone else faced a similar issue when testing Qt applications that are statically linked to Qt libraries? Kindly provide pointers for this issue.</p>\n\n<p>Regards\nadj</p>\n"},{"tags":["qt","gui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13157066,"title":"CTK for Gui in QT","body":"<p>I'm trying to use CTK in QT and I don't find enough information how to build it.\ndoes someone have any experience with that?</p>\n"},{"tags":["linux","qt","opengl","alpha","fbo"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13135181,"title":"Wrong color with QGLFrameBufferObject rendering in linux","body":"<p>I have encountered some problem with QGLFrameBufferObject, when I change my OS from win7 to Ubuntu 12.04 LTS. After recompiling the code in the new ubuntu system, the color goes wrong. So I made a minimal test. I just clear the color buffer with color (1.0, 0.0, 0.0, 0.8), and that's it.</p>\n\n<p>I get the correct result when I render directly to the screen, with all pixels being (1.0, 0.0, 0.0, 0.8).</p>\n\n<p>However, the result from offline rendering (with QGLFrameBufferObject) is wrong, as given by offline.png. This color is (0.3, 0.0, 0.0, 0.8).</p>\n\n<p>This problem happens when alpha>0.0 and &lt;1.0. For 0.0 and 1.0 it works fine.</p>\n\n<p>I've compiled this test code on another computer (computer A) with win7 OS, everything works fine. Also tried on one more computer (computer B) with ubuntu OS, everything works fine.</p>\n\n<p>I'm using a NVidia GeForce GTX 570 GPU, and have tried the latest stable driver (304.60) and an older version (290.10, used for computer B) for linux-64bit, but nothing changes.</p>\n\n<p>Anyone knows why? Below is the code.</p>\n\n<pre><code>mywidget::mywidget(QWidget * parent) :\n    QGLWidget(parent)\n{\n}\n\nvoid mywidget::resizeGL(int width, int height )\n{\n    glViewport(0, 0, width, height);\n\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n    gluOrtho2D(0.0, 1.0, 0.0, 1.0);\n\n    glMatrixMode(GL_MODELVIEW);\n    glLoadIdentity();\n}\n\nvoid mywidget::paintGL()\n{\n    glClearColor(1.0, 0.0, 0.0, 0.8);\n\n    // DRAW ON THE SCREEN\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n    }\n\n    QGLFramebufferObject fbo(width(), height());\n    fbo.bind();\n\n    // DRAW ON THE FBO USING THE SAME CODE AND THE SAME CONTEXT\n    {\n        glClearColor(1.0, 0.0, 0.0, 0.8);\n        glClear(GL_COLOR_BUFFER_BIT);\n    }\n\n    fbo.release();\n    fbo.toImage().save(\"offline.png\");\n}\n</code></pre>\n\n<p>I have noticed that there are two similar posts, but with no answer or detailed answer:\n<a href=\"http://stackoverflow.com/questions/12306894/wrong-alpha-blending-when-rendering-on-a-qglframebufferobject\">Wrong alpha blending when rendering on a QGLFramebufferObject</a>; <a href=\"http://stackoverflow.com/questions/9913957/alpha-compositing-wrong-when-rendering-to-qglframebufferobject-vs-screen\">Alpha compositing wrong when rendering to QGLFrameBufferObject vs screen</a></p>\n"},{"tags":["c++","qt","graphics","embedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13143410,"title":"Qt GraphicsItem transformation affects all items in scene","body":"<p>I have this embedded Qt application that uses the QGraphics framework to display a web view.\nThe dimensions of the web view are 1280*720 pixels, and the QGraphicsView is set to render the scene at these coordinates (0,0, 1280x720).</p>\n\n<p>I'm trying to add a loading indicator on the top right corner (at 1100,50), which is a simple PNG image that I rotate every now and then using a QTimeLine.</p>\n\n<p>Code looks like this (I found the transformation trick on the internet):</p>\n\n<pre><code>// loading_indic initialization:\nQGraphicsPixmapItem *loading_indic = \n             new QGraphicsPixmapItem( QPixmap(\"./resources/loading_64.png\") );\nloading_indic-&gt;setPos(QPoint(1100.0,50.0));\n\nQTimeLine timeline = new QTimeLine(1000);\ntimeline-&gt;setFrameRange(0,steps);\nconnect(timeline, SIGNAL(valueChanged(qreal)), this, SLOT(updateStep(qreal)));\ntimeline-&gt;start();\n\n// called at each step of a QTimeLine:\nvoid updateStep(qreal step) {\n    QTransform transformation = QTransform()\n                // place coordinate system to the center of the image\n                .translate(  width/2.0,  height/2.0) \n                // rotate the image in this new coordinate system\n                .rotate(new_angle) \n                // replace the coordinate system to the original\n                .translate( -width/2.0, -height/2.0);\n\n    loading_indic-&gt;setTransform(transformation);\n}\n</code></pre>\n\n<p>Now, my problem is that when doing this, it looks like the WebView is translated as well, resulting in everything being displayed in the center of the screen.</p>\n\n<p>Result looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/EA4yA.jpg\" alt=\"problem\"></p>\n\n<p>The webview is supposed to fill the screen, and the loading indicator should be on top right...</p>\n\n<p>My scene contains only two items:</p>\n\n<pre><code>Scene\n  |\n  |---- QGraphicsWebView\n  |---- QGraphicsPixmapItem // loading indicator\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"},{"tags":["c++","qt","qt4","shared-memory"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13120374,"title":"QSharedMemory inconsistent behaviour in Windows","body":"<p>I'm playing with <code>QSharedMemory</code> and I'm not sure if I just found a serious bug or I'm doing something wrong. The case is that docs say that <code>QSharedMemory::create()</code> should return true if no memory with the same key exists, otherwise it should return false and <code>QSharedMemory::error()</code> should be checked to see what happened.</p>\n\n<p>My current code is:</p>\n\n<pre><code>QSharedMemory sm(\"smtest\");\nsm.setKey(\"smtest\"); // &lt;--- not needed as I already set the key in the initializator, but I'm leaving it anyways, just for the test\nqDebug() &lt;&lt; sm.create(1);\nqDebug() &lt;&lt; sm.create(1); //&lt;--- I expect this to return false, but it returns true.\nqDebug() &lt;&lt; sm.error(); //&lt;--. I expect this to return QSharedMemory::AlreadyExists, but QSharedMemory::NoError is returned instead.\n//wtf?!\n</code></pre>\n\n<p>My question is: did I just found a really big bug in Qt4 or I'm doing something wrong?</p>\n\n<p>PS: This code is ran on Windows 7 x64</p>\n\n<p>EDIT: Just to make it clear, if I run that code twice, the second app should detect the first one, but it doesn't.</p>\n\n<p>EDIT 2: I reported a bug here <a href=\"https://bugreports.qt-project.org/browse/QTBUG-27744\" rel=\"nofollow\">https://bugreports.qt-project.org/browse/QTBUG-27744</a></p>\n"},{"tags":["c++","qt","build"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13155594,"title":"build exist c++ project with qt","body":"<p>There is one project written with c++ and python. The output project show in shell as text. I want replace the text with GUI and also change some source code. <br/></p>\n\n<p>I can build project with command line with running script insight project. How run all command that run in shell with GUI. I choose qt for design GUI.<br/></p>\n\n<p><strong>thank you</strong></p>\n"},{"tags":["python","qt","select","folder","explorer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13154583,"title":"direction explorer with Qt Framework in Python","body":"<p><br>\nAt the moment I'm on a GUI (using the Qt framework) for a measurement program. On the screenshot, you can see an Entry Field (called \"TargetDirectoryEntry\") and a Button (called \"ExplorerButton\"). When I click on the Button, I would like to select a folder for the measurement result file. After, the past should be copied into the Entry Field.</p>\n\n<p><br>\n<img src=\"http://i.stack.imgur.com/nvlZM.jpg\" alt=\"enter image description here\"></p>\n\n<p>Thanks for your help.</p>\n\n<p>eljobso</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13154953,"title":"Programatically set read-only for QTimeEdit","body":"<p>QTimeEdit has a read-only property, which I can set from Designer (it is in the QAbstractSpinBox properties category).</p>\n\n<p>But there is no setReadOnly member in QTimeEdit. </p>\n"},{"tags":["c++","qt","encoding","char","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13153281,"title":"Qt char* to QString","body":"<p>I am trying to convert char* to QString. It should be a trivial task but the problem is, I am having the following input</p>\n\n<pre><code>item    char [512] \"N\"  char [512]\n    [0] 78 'N'  char\n    [1] 0 '\\0'  char\n    [2] 73 'I'  char\n    [3] 0 '\\0'  char\n    [4] 70 'F'  char\n    [5] 0 '\\0'  char\n    [6] 84 'T'  char\n    [7] 0 '\\0'  char\n    [8] 89 'Y'  char\n    [9] 0 '\\0'  char\n    [10]    0 '\\0'  char\n</code></pre>\n\n<p>Notice the null character after each character '\\0'. Simply trying to convert it just yields the string <strong>\"N\"</strong> where as it should result into string <strong>\"NIFTY\"</strong>.</p>\n\n<p>I am not sure if it is unicode or Ansi string (in fact I don't know much about it). Can anyone please sort out what is going wrong here or what am I missing ?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13153286,"title":"How can I make the items in QTreeWidget expanded by default?","body":"<p>I have to call expandAll() in the constructor, but that looks unnecessary,</p>\n\n<p><img src=\"http://i.stack.imgur.com/jGHAk.png\" alt=\"enter image description here\"></p>\n\n<p>The stuff I've added in form editor was just collapsed, and I failed to find an property in the right box, how should I make it all expanded by default?</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13154109,"title":"3rd party libraries for QT GUI development","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2372756/is-there-a-good-source-for-3rd-party-qt-gui-controls\">Is there a good source for 3rd party QT GUI controls?</a>  </p>\n</blockquote>\n\n\n\n<p>Are there any widget libraries (3rd party commercial) to shorted development times for QT ? similar to devexpress and telerik for WPF and silverlight? </p>\n"},{"tags":["qt","opengl","format","save","qimage"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13153031,"title":"QImage does not save correctly with premultipled format","body":"<p>I'm trying to create a QImage in the memory and save it to the disk. I have tried two different format for the image.</p>\n\n<p>Format_ARGB32 works well, the color is indeed the input (255, 0, 0, 127).</p>\n\n<p>Format_ARGB32_Premultiplied gives wrong color, the color is (0, 0, 0, 127).</p>\n\n<p>Not only do I get wrong color when I save the QImage to file directly, I get the same wrong color when I bind it as a texture and render in OpenGL. This issue happends both on ubuntu OS and win7 OS.</p>\n\n<p>The reason that I test Format_ARGB32_Premultiplied is that I need to use this format. This is the default image format given by QGLFrameBufferObject.toImage() on my ubuntu OS. However, Format_ARGB32 is the default given by win7 OS.</p>\n\n<p>Anyone knows why? Below is the code:</p>\n\n<pre><code>#include &lt;QImage&gt;\n\nint main(int argc, char *argv[])\n{\n    //I would like to create image with this transparent red color\n    QRgb c = qRgba(255, 0, 0, 127);\n\n    //first I use Format_ARGB32, I get the correct result\n    QImage img_nopre(100, 100, QImage::Format_ARGB32);\n    for(int i=0; i&lt;100; i++)\n        for(int j=0; j&lt;100; j++)\n            img_nopre.setPixel(i,j,c);\n    img_nopre.save(\"img_nopre.png\");\n\n    //later I use Format_ARGB32_Premultiplied, the result is wrong\n    QImage img_pre(100, 100, QImage::Format_ARGB32_Premultiplied);\n    for(int i=0; i&lt;100; i++)\n        for(int j=0; j&lt;100; j++)\n            img_pre.setPixel(i,j,c);\n    img_pre.save(\"img_pre.png\");\n\n    return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":5,"favorite_count":5,"up_vote_count":17,"down_vote_count":1,"view_count":24774,"score":16,"question_id":1814189,"title":"How to change string into QString?","body":"<p>What is the most basic way to do it?</p>\n"},{"tags":["c++","qt","md5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13149040,"title":"Mismatching MD5 hash using QCryptographicHash on CentOS and Win7","body":"<h3>Preamble</h3>\n\n<p>I'm working on a project that requires FTP file transfer between two machines, a client and a server. I would like to verify the integrity of the file after transfer by comparing an MD5 checksum generated on the client with one generated on the server. I wrote a command line program using Qt's QCryptographicHash class to do this. Minus error checking, this is the code in its entirety:</p>\n\n<h3>Minimal Working Example</h3>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QByteArray&gt;\n#include &lt;QFile&gt;\n#include &lt;QCryptographicHash&gt; \n#include &lt;QTextStream&gt;\n#include &lt;QStringList&gt;\n\nint main (int argc, char* argv[]) {\n    QCoreApplication app(argc, argv);\n    QTextStream cout(stdout, QIODevice::WriteOnly);\n    QStringList arglist = app.arguments();\n\n    QFile file(arglist.at(1));\n    if(!file.open(QIODevice::ReadOnly)){\n        /*error checking*/\n    }\n\n\n    QCryptographicHash cryptoHash(QCryptographicHash::Md5);\n    while(!file.atEnd()){\n        cryptoHash.addData(file.readLine());\n    }\n\n    QByteArray hashByteArray = cryptoHash.result();\n\n    cout &lt;&lt; hashByteArray.toHex() &lt;&lt;endl;\n    file.close();\n    return 0;\n}\n</code></pre>\n\n<h3>The Problem</h3>\n\n<p>On any machine, this code will give a repeatable MD5 hash of any input file. However, different hashes are being generated for the same file when hashed on my client than when hashed on my server. I've been fighting with this awhile, and just can't seem to determine why these hashes aren't matching. My last thought is that it may be an issue related to architecture, <a href=\"http://stackoverflow.com/questions/697361/md5-hash-calculates-differently-on-server\">as discussed in this SO post</a>. However, in my case, I'm using Qt's implementation of MD5 hashing, so I want to make sure there isn't something else I'm missing before I either abandon Qt's approach or tinker with their source (which is here <a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/3rdparty/md5/md5.h\" rel=\"nofollow\">md5.h</a> and here <a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/3rdparty/md5/md5.cpp\" rel=\"nofollow\">md5.cpp</a>, BTW).</p>\n\n<p>Machine specifics. Server: CentOS 5.8 64-bit. Client: Win7 64-bit, but on Windows this application was compiled using a 32-bit build of Qt, and is a 32-bit application.</p>\n\n<p>As an aside, I intended on distributing both 32-bit and 64-bit versions of my application. How can I reconcile this issue if it is architecture related and I'm stuck using Qt's source?</p>\n\n<p><strong>EDIT 1</strong>: I forgot to mention that I'm transferring all files in Binary mode through FTP and the file sizes do match on the client and the server. I was initially convinced this was a line ending issue, but it doesn't appear to be the case since I'm encountering the issue even in Binary mode FTP transfer.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12679018,"title":"setCentralWidget not declared in scope","body":"<pre><code>#include &lt;QtGui&gt;\n#include &lt;QWidget&gt;\n#include \"notepad.h\"\n\nnotepad::notepad()\n{\n    textField = new QTextEdit;\n    setCentralWidget(textField);\n    setWindowTitle(tr(\"The building of a notepad....\"));\n}\n</code></pre>\n\n<p>This is a file of one of my Qt project. There is some error with the setCentralWidget part. The error is that it is not declared in the scope. But I have included the QWidget class under which it gets included. What is the mistake?</p>\n"},{"tags":["c++","qt","qfilesystemwatcher"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13148830,"title":"QFileSystemWatcher: detects removed & added files but not modified one","body":"<p>I'm developing an app on windows with Qt and I need to detect changes in a specific folder.\nSo I used a QFileSystemWatcher, and I connect the directoryChanged signal to a function that will send a message in case of changes.</p>\n\n<p>The problem is that the \"slot\" function connected to directoryChanged is not called if I modify a file's content, but only when a file or directory is removed or added.</p>\n\n<p>However, the documentation says that this signal is emitted when \"the directory at a specified path, is modified (e.g., when a file is added, <strong>modified</strong> or deleted) or removed from disk.\"</p>\n\n<p>Does anyone have an explanation?\nThanks in advance =)</p>\n"},{"tags":["perl","qt","cmake","cpan","qwt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13099181,"title":"Perl QtCore4 won't install","body":"<p>I can't build the QtCore4 package, I get an error regarding \"SMOKE_QWT_LIBRARY\" not being set during make. I'm running perlbrew Perl 5.14.2 on Ubuntu 12.04. I've tried manually building the module as well as through CPAN, and also installing on system Perl (also 5.14.2) and perl 5.16.1. I've looked in the files in the directory referenced in the error message. The file CMakeLists.txt contains the reference to \"SMOKE_QWT_LIBRARY\" but there is no directory reference or obvious way to re-configure the file (and I'm not sure what to reconfigure it to!).</p>\n\n<p>Can anyone help with this please?</p>\n\n<p>This is the make output:<br>\n    Running install for module 'QtCore4'\n    Running make for C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n    Checksum for /home/sillymoose/.cpan/sources/authors/id/C/CB/CBUREL/Qt4-\n    0.99.0.tar.bz2 ok</p>\n\n<pre><code>  CPAN.pm: Building C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n\n-- The C compiler identification is GNU\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/gcc\n-- Check for working C compiler: /usr/bin/gcc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Found Perl: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/bin/perl \n-- Found PerlLibs: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE/libperl.a (found version \"5.14.2\")\n-- Looking for Q_WS_X11\n-- Looking for Q_WS_X11 - found\n-- Looking for Q_WS_WIN\n-- Looking for Q_WS_WIN - not found.\n-- Looking for Q_WS_QWS\n-- Looking for Q_WS_QWS - not found.\n-- Looking for Q_WS_MAC\n-- Looking for Q_WS_MAC - not found.\n-- Found Qt4: /usr/bin/qmake (found version \"4.8.1\")\n-- Found QScintilla2: /usr/lib/libqscintilla2.so\n-- Found QImageBlitz: /usr/include/qimageblitz \n-- Phonon Version: 4.6.0\n-- Found Phonon: /usr/lib/x86_64-linux-gnu/libphonon.so\n-- Found Phonon Includes: /usr/include/qt4/KDE;/usr/include/qt4\n-- Found Qwt: /usr/lib/libqwt-qt4.so\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Build PerlQt bindings: \nPhonon;QImageBlitz;QScintilla;Qt3Support;QtDBus;QtDeclarative;QtGui;QtHe\nlp;QtNetwork;QtOpenGL;QtScript;QtSql;QtSvg;QtTest;QtUiTools;QtWebKit;QtX\nml;QtXmlPatterns;Qwt\n-- Skip PerlQt bindings: QtMultimedia\n\n------------------------------------------------------------------------\n-----\n-- The following external packages were located on your system.\n-- This installation will have the extra features provided by these \npackages.\n------------------------------------------------------------------------\n-----\n   * QScintilla2 - QScintilla2 libraries\n   * QImageBlitz - QImageBlitz library\n   * Phonon - Phonon multimedia framework\n   * Qwt5 for Qt4 - Qwt5 libraries for Qt4\n\n------------------------------------------------------------------------\n-----\n-- Congratulations! All external packages have been found.\n------------------------------------------------------------------------\n-----\n\nCMake Error: The following variables are used in this project, but they \nare set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the \nCMake files:\nSMOKE_QWT_LIBRARY (ADVANCED)\n    linked by target \"perl_qwt\" in directory \n/home/sillymoose/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src\n\n-- Configuring incomplete, errors occurred!\nNo 'Makefile' created  CBUREL/Qt4-0.99.0.tar.bz2\n  /home/sillymoose/perl5/perlbrew/perls/perl-5.14.2/bin/perl Makefile.PL \n-- NOT OK\n</code></pre>\n\n<p>And this is the contents of ~/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src/CMakeLists.txt</p>\n\n<pre><code>include_directories(\n    ${CMAKE_SOURCE_DIR}/qtcore/src\n    ${PERL_INCLUDE_PATH}\n    ${QT_INCLUDES} )\n\n# Run doxsubpp.pl to run xsubpp on Qwt.xs\nadd_custom_command(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   COMMAND ${PERL_EXECUTABLE} ARGS ${CMAKE_SOURCE_DIR}/qtcore/src/doxsubpp.pl ${PERL_EXECUTABLE} Qwt.xs ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/Qwt.xs\n                   WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}\n)\n# Make sure we build Qwt.c as c++ code\nset_source_files_properties( ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c \n    PROPERTIES LANGUAGE CXX\n)\n\nset( CMAKE_CXX_FLAGS ${PERL_CXX_FLAGS} )\n\nset(qwt_LIBRARY_SRC\n    ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n    qwthandlers.cpp\n)\n\nif(WIN32)\n    set(libraryName PerlQwt)\nelse()\n    set(libraryName Qwt)\nendif(WIN32)\n\nset(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/blib/arch/auto/${libraryName})\nadd_library(perl_qwt SHARED ${qwt_LIBRARY_SRC})\n\ntarget_link_libraries(perl_qwt\n    ${SMOKE_QWT_LIBRARY}\n    perlqtcore4)\n\nset_target_properties(perl_qwt PROPERTIES OUTPUT_NAME ${libraryName})\nset_target_properties(perl_qwt PROPERTIES PREFIX \"\")\n\ninstall(TARGETS perl_qwt DESTINATION ${CUSTOM_PERL_SITE_ARCH_DIR}/auto/${libraryName}/)\n</code></pre>\n"},{"tags":["qt","position","content","bug","qdockwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13114540,"title":"QDockWidget Content bug with titlebar","body":"<p>Here is my problem: I created a QDockWidget and put a QGraphicsView in it, while it is floating everything shows up correctly, but if Dock it somewhere, the starting X and Y of my content is on the titlebar of the QDockWidget. Obviously, it should be under:</p>\n\n<pre><code>tilesetWindow = new QDockWidget(tr(\"Tileset\"), this);\ntilesetWindow-&gt;setMinimumSize(256,256);\ntilesetWindow-&gt;setFloating(true);\nconnect(tilesetWindow, SIGNAL(visibilityChanged(bool)), this, SLOT(triggeredTileset()));\n\ntilesetViewer = new QGraphicsView(tilesetWindow);\ntilesetViewer-&gt;resize(256,256);\ntilesetViewer-&gt;show();\n</code></pre>\n\n<p>An image to illustrate this: <a href=\"http://img86.xooimage.com/files/d/7/6/problem-391a96a.png\" rel=\"nofollow\">http://img86.xooimage.com/files/d/7/6/problem-391a96a.png</a></p>\n\n<p>I've tried to put the QGraphicsView in a container and then in the QDockWidget but had the same result as above. it's the only place where I write code for the QDockWidget.</p>\n\n<p>How can I make it start at the right place when it is Docked?</p>\n\n<p>Edit:</p>\n\n<p>I tried in a new QtProject and made a QDockWidget with a QTextBrowser in it and had the same bug:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QDockWidget *dock = new QDockWidget(this, 0);\n    dock-&gt;setFloating(true);\n\n    QTextBrowser *t = new QTextBrowser(dock);\n    t-&gt;show();\n}\n</code></pre>\n\n<p>I'm missing something I think... </p>\n\n<p>Qt Creator 2.4.1 \nBased on Qt 4.7.4 (32 bit)</p>\n"},{"tags":["qt","user-interface","colors"],"answer_count":5,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3318,"score":3,"question_id":282938,"title":"QT: show result of Color selection?","body":"<p>What is the best way to give the user feedback for a color selection?<br />\nI have a dialog with a \"Select Color\" push button which pops a QColorDialog. After the selection is made I want to show the user the color selected.<br />\nUsually I do this using a QLabel and changing it's background color in the palette. This method is cumbersome and I think not very portable.<br />\nIs there a standard way of doing this?</p>\n"},{"tags":["qt","proxy","network-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":397,"score":1,"question_id":7009259,"title":"QTcpSocket stucks sometimes for dynamic created java script","body":"<p>I am trying to connect to a website through a proxy. I implemented a QTcpServer and a QTcpSocket.\nThe server passes the connection to the socket.\nIt works well, but for some sites, expecially for those which have dynamically created javascript, the socket stucks at some point and nothing is shown in the navigator.\nAttach the code, hope clear.</p>\n\n<pre><code>            #include \"webproxy.h\"\n            #include &lt;QtNetwork&gt;\n            #include &lt;QMessageBox&gt;\n            #include &lt;QtGui&gt;\n            #include &lt;QHash&gt;\n\n\n            WebProxy::WebProxy(QObject *parent,int port): QObject(parent)\n\n                {\n                    qDebug()&lt;&lt;\" Listen...\";\n                    authMethod = \"\";\n                    QTcpServer *proxyServer = new QTcpServer(this);\n                    if (!proxyServer-&gt;listen(QHostAddress::Any, port)) {\n                       emit error(1);\n\n                        return;\n                    }\n\n                    connect(proxyServer, SIGNAL(newConnection()), this, SLOT(manageQuery()));\n                    qDebug() &lt;&lt; \"Proxy server running at port\" &lt;&lt; proxyServer-&gt;serverPort();\n\n\n\n\n\n\n            void WebProxy::manageQuery() {\n                    QTcpServer *proxyServer = qobject_cast&lt;QTcpServer*&gt;(sender());\n                    QTcpSocket *socket = proxyServer-&gt;nextPendingConnection();\n                    connect(socket, SIGNAL(readyRead()), this, SLOT(processQuery()));\n                    connect(socket, SIGNAL(disconnected()), socket, SLOT(deleteLater()));\n\n                    qDebug()&lt;&lt;\"New connection started...\"&lt;&lt;socket-&gt;peerAddress();\n                }\n            QUrl WebProxy::getUrl(QList&lt;QByteArray &gt; &amp;entries)\n               {\n\n                   QByteArray method = entries.value(0);\n                   QByteArray address = entries.value(1);\n                   QByteArray version = entries.value(2);\n\n                   qDebug()&lt;&lt;method;\n                   qDebug()&lt;&lt;address;\n                   qDebug()&lt;&lt;version;\n                   QUrl url = QUrl::fromEncoded(address);\n                   if (!url.isValid()) {\n\n                       qWarning() &lt;&lt; \"Invalid URL:\" &lt;&lt; url;\n\n                       return QString();\n                   }\n\n\n                   return url;\n               }\n\n              void WebProxy::processQuery() {\n\n                    int wSize = 0;\n                    QTcpSocket *socket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    QByteArray requestData = socket-&gt;readAll();\n\n\n             qDebug()&lt;&lt;\"Request \"&lt;&lt;requestData;\n\n                    int pos = requestData.indexOf(\"\\r\\n\");\n\n\n                    QByteArray requestLine = requestData.left(pos);\n                    requestData.remove(0, pos + 2);\n\n                    QList&lt;QByteArray&gt; entries = requestLine.split(' ');\n                    QByteArray method         = entries.value(0);\n                    QByteArray address        = entries.value(1);\n                    QByteArray version        = entries.value(2);\n\n                    QByteArray auth;\n                    QByteArray authMethod;\n\n                    QUrl url = QUrl::fromEncoded(address);\n                    if (!url.isValid()) {\n                        qWarning() &lt;&lt; \"Invalid URL:\" &lt;&lt; url;\n                        socket-&gt;disconnectFromHost();\n                        return;\n                    }\n\n                    QString host              = url.host();\n\n\n                    int port = (url.port() &lt;= 0) ? 80 : url.port();\n                    QByteArray req = url.encodedPath();\n                    if (url.hasQuery())\n                        req.append('?').append(url.encodedQuery());\n\n\n                    requestLine = method + \" \" + req + \" \" + version + \"\\r\\n\";\n                    if (!authMethod.isEmpty())\n                    {\n                         requestLine.append(requestLine);\n                         requestLine.append(authMethod);\n                         requestLine.append(\"\\r\\n\");\n                     }\n\n                    QString key = host + ':' + QString::number(port);\n                    QTcpSocket *proxySocket = socket-&gt;findChild&lt;QTcpSocket*&gt;(key);\n\n                    if (proxySocket) {\n                        proxySocket-&gt;setObjectName(key);\n                        proxySocket-&gt;setProperty(\"url\", url);\n                        proxySocket-&gt;setProperty(\"requestData\", requestData);\n                        wSize = proxySocket-&gt;write(requestData);\n\n\n                    } else {\n                        proxySocket = new QTcpSocket(socket);\n                        proxySocket-&gt;setObjectName(key);\n                        proxySocket-&gt;setProperty(\"url\", url);\n                        proxySocket-&gt;setProperty(\"requestData\", requestData);\n                        connect(proxySocket, SIGNAL(connected()), this, SLOT(sendRequest()));\n                        connect(proxySocket, SIGNAL(readyRead()), this, SLOT(transferData()));\n                        connect(proxySocket, SIGNAL(disconnected()), this, SLOT(closeConnection()));\n                        connect(proxySocket, SIGNAL(error(QAbstractSocket::SocketError)), this, SLOT(closeConnection()));\n                        proxySocket-&gt;connectToHost(host, port);\n                    }\n                }\n\n            void WebProxy::sendRequest() {\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    QByteArray requestData = proxySocket-&gt;property(\"requestData\").toByteArray();\n                    int wSize = 0;\n                    wSize     = proxySocket-&gt;write(requestData);\n\n                }\n\n            void WebProxy::transferData() {\n\n\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n\n                    QByteArray data = proxySocket-&gt;readAll();\n\n            qDebug()&lt;&lt;\"READ TRANSFER SIZE...\"&lt;&lt;data.size();\n\n                    QString host = proxySocket-&gt;peerAddress().toString();\n                    QByteArray    filtered(data);\n\n                    QTcpSocket *socket  = qobject_cast&lt;QTcpSocket*&gt;(proxySocket-&gt;parent());\n                    int wSize           = 0;\n                    if (!data.trimmed().isEmpty())\n                    {\n                        wSize = socket-&gt;write(filtered);\n                        if (wSize==-1)\n                             qDebug()&lt;&lt;\"WP error\";\n                        else\n                             qDebug()&lt;&lt;\"TRANSFER WRITE SIZE = \"&lt;&lt;wSize&lt;&lt;\" READ SIZE\"&lt;&lt;filtered.size();\n\n                    }\n\n                }\n\n            void WebProxy::closeConnection() {\n\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    if (proxySocket) {\n                        QTcpSocket *socket = qobject_cast&lt;QTcpSocket*&gt;(proxySocket-&gt;parent());\n                        if (socket)\n                            socket-&gt;disconnectFromHost();\n                        if (proxySocket-&gt;error() != QTcpSocket::RemoteHostClosedError)\n                            qWarning() &lt;&lt; \"Error for:\" &lt;&lt; proxySocket-&gt;property(\"url\").toUrl()\n                                    &lt;&lt; proxySocket-&gt;errorString();\n                        proxySocket-&gt;deleteLater();;\n                    }\n                }\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1105,"score":2,"question_id":4259994,"title":"QFileDialog alternative that uses default file dialog defined by OS?","body":"<p>I tried using a <code>QFileDialog</code> in a program of mine, but I prefer the default file dialog that is used by the host's OS. In my case, since I use Windows 7, it should look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dlrV2.jpg\" alt=\"Windows' file open dialog\"></p>\n\n<p>Is there a way to make Qt use the default file dialog that is used by the host's OS?</p>\n\n<hr>\n\n<p>My code:</p>\n\n<pre><code>QFileDialog saveDialog(this);\nsaveDialog.setAcceptMode(QFileDialog::AcceptSave);\n\nif (!saveDialog.exec())\n    return;\n</code></pre>\n"},{"tags":["json","parsing","qt"],"answer_count":4,"favorite_count":4,"up_vote_count":18,"down_vote_count":0,"view_count":13050,"score":18,"question_id":1825892,"title":"Best JSON parser for Qt?","body":"<p>I'm using QT for Symbian and need a simple json parser. I need to be able to go from json to Qt-variant and the other way around. Is there a simple json parser that I can use? I don't want to write my own.</p>\n"},{"tags":["c++","qt","symbian"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13146912,"title":"Play alarm sound in Qt for Symbian","body":"<p>I'm making a countdown timer, and when it reaches 0 I want to play the system alarm sound - the one used by the built-in clock and calendar apps.</p>\n"},{"tags":["python","qt","pyside","qt-designer"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13145934,"title":"Calling custom class in .ui file fails","body":"<p>I get this error when I try to refer to my custom class from <code>.ui</code> file. What's wrong with what I do? </p>\n\n<pre><code>\"QFormBuilder was unable to create a custom widget of the class 'TimelinePane'; defaulting to base class 'QWidget'.\" \n</code></pre>\n\n<p><code>QWidget</code> pops up with the layout I'm specifying in <code>.ui</code> file. Problem is just the custom class.</p>\n\n<p>To add the custom class' description, I modified <code>.ui</code> file manually (added the entire <code>&lt;customwidgets&gt;</code> section), which is why I have to open a new question since I haven't found the same Q yet. I suspect the path of the class in <code>.ui</code> file but none of the options I tried (see the part I commented out) worked. I also guess that using <code>python</code> should not be the matter here but am not entirely sure. Haven't tried <code>C++</code> yet.</p>\n\n<pre><code>from PySide import QtGui  \nfrom PySide import QtCore\nfrom PySide import QtUiTools\n\nclass MyWidget(QtGui.QMainWindow):\n    def __init__(self, *args):  \n       apply(QtGui.QMainWindow.__init__, (self,) + args)\n\n       loader = QtUiTools.QUiLoader()\n       file = QtCore.QFile('./src/prove_qt_ui_file/prove_main_widget.ui') \n       file.open(QtCore.QFile.ReadOnly)\n       self.myWidget = loader.load(file, self)\n       file.close()\n       self.setCentralWidget(self.myWidget)\n\nif __name__ == '__main__':  \n   import sys  \n   import os\n   print(\"Running in \" + os.getcwd() + \" .\\n\")\n   app = QtGui.QApplication(sys.argv)  \n   win  = MyWidget()  \n   win.show()\n   app.exec_()\n</code></pre>\n\n<p>prove_main_widget.ui</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;MyWidget&lt;/class&gt;\n &lt;widget class=\"QWidget\" name=\"MyWidget\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;687&lt;/width&gt;\n    &lt;height&gt;698&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;Runtime Monitor&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;layout class=\"QVBoxLayout\"&gt;\n   &lt;property name=\"spacing\"&gt;\n    &lt;number&gt;0&lt;/number&gt;\n   &lt;/property&gt;\n   &lt;property name=\"margin\"&gt;\n    &lt;number&gt;0&lt;/number&gt;\n   &lt;/property&gt;\n   &lt;item&gt;\n    &lt;widget class=\"QSplitter\" name=\"splitter\"&gt;\n     &lt;property name=\"orientation\"&gt;\n      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;\n     &lt;/property&gt;\n     &lt;property name=\"handleWidth\"&gt;\n      &lt;number&gt;9&lt;/number&gt;\n     &lt;/property&gt;\n     &lt;widget class=\"QTreeWidget\" name=\"warn_tree\"&gt;\n      &lt;attribute name=\"headerVisible\"&gt;\n       &lt;bool&gt;false&lt;/bool&gt;\n      &lt;/attribute&gt;\n      &lt;column&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string notr=\"true\"&gt;1&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/column&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QTreeWidget\" name=\"tree_all_devices\"&gt;\n      &lt;attribute name=\"headerVisible\"&gt;\n       &lt;bool&gt;false&lt;/bool&gt;\n      &lt;/attribute&gt;\n      &lt;column&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string notr=\"true\"&gt;1&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/column&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"TimelinePane\" name=\"timeline_pane\" native=\"true\"&gt;\n      &lt;property name=\"minimumSize\"&gt;\n       &lt;size&gt;\n        &lt;width&gt;0&lt;/width&gt;\n        &lt;height&gt;80&lt;/height&gt;\n       &lt;/size&gt;\n      &lt;/property&gt;\n      &lt;property name=\"whatsThis\"&gt;\n       &lt;string extracomment=\"Timeline\"/&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n  &lt;/layout&gt;\n &lt;/widget&gt;\n &lt;customwidgets&gt;\n  &lt;customwidget&gt;\n   &lt;class&gt;TimelinePane&lt;/class&gt;\n   &lt;extends&gt;QWidget&lt;/extends&gt;\n&lt;!--   &lt;header&gt;timeline_pane&lt;/header&gt; --&gt; &lt;!-- NG --&gt;\n&lt;!--   &lt;header&gt;prove_qt_ui_file.timeline_pane&lt;/header&gt; --&gt; &lt;!-- NG --&gt;\n   &lt;header&gt;src.prove_qt_ui_file.timeline_pane&lt;/header&gt;  &lt;!-- NG --&gt;\n  &lt;/customwidget&gt;\n &lt;/customwidgets&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n</code></pre>\n\n<p>timeline_pane.py</p>\n\n<pre><code>from PySide.QtGui import QWidget, QGraphicsScene, QGraphicsView, QColor, QHBoxLayout, QPushButton\nclass TimelinePane(QWidget):\n    def __init__(self, parent):\n        super(TimelinePane, self).__init__()\n        print '\\tTimelinePane init 1' # This doesn't print.\n</code></pre>\n\n<p>(Environment) Ubuntu 12.04, python 2.7.3</p>\n"},{"tags":["qt","opengl","buffer","qt4.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13140859,"title":"Qt - What are Sample Buffers?","body":"<p>I am learning the basics of OpenGL with Qt and it seems sample buffers are Qt specific, and I don’t really understand what information they store for the screen. What is a Sample Buffer and what is it used for?</p>\n"},{"tags":["osx","qt","osx-lion","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1030,"score":0,"question_id":8816708,"title":"Brew, Lion, Qt 4.8.0","body":"<p>I've installed qt under Mac OS X Lion with brew through this command:</p>\n\n<p><code>brew install qt --build-from-source</code>.</p>\n\n<p>How could I use Qt now? Has brew installed Qt Creator too? If yes, where?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4","phonon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13130804,"title":"Phonon's VolumeSlider doesn't change the volume","body":"<p>I'm trying to create a <code>VolumeSlider</code> widget that changes the volume of my audio output.</p>\n\n<pre><code>log.debug(\"Starting audio player (%s)...\" % url)\nmediaSource = Phonon.MediaSource(url)\nmediaSource.setAutoDelete(True)\n\nself.player = Phonon.createPlayer(Phonon.VideoCategory, mediaSource)\nself.player.setTickInterval(100)\nself.player.tick.connect(self.updatePlayerLength)\nself.mediaSlider.setMediaObject(self.player)\n\naudioOutput = Phonon.AudioOutput(Phonon.MusicCategory)\nPhonon.createPath(self.player, audioOutput)\nself.mediaVolumeSlider.setAudioOutput(audioOutput)\n\nself.player.play()\n</code></pre>\n\n<p>However even though I can move the volume slider, the actual volume doesn't change. What did I miss?</p>\n"},{"tags":["html5","qt","canvas","webview","blackberry-simulator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13144099,"title":"How to get a html5 canvas bigger than 311 by 211 in Blackberry 10 Dev Alpha Simulator","body":"<p>I am trying to display graphs in html5 canvas in Blackberry 10 Dev Alpha Simulator running in VMWare, using C++ QT QML Blackberry 10 Cascades Beta 3 in a qml WebView.  I was having issues making that happen, but I tried the html5 sample from: <a href=\"http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_canvas_first\" rel=\"nofollow\">http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_canvas_first</a>, which is the following code...</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;canvas id=\"myCanvas\" width=\"200\" height=\"100\" style=\"border:1px solid #c3c3c3;\"&gt;\nYour browser does not support the HTML5 canvas tag.\n&lt;/canvas&gt;\n\n&lt;script&gt;\n\nvar c=document.getElementById(\"myCanvas\");\nvar ctx=c.getContext(\"2d\");\nctx.fillStyle=\"#FF0000\";\nctx.fillRect(0,0,150,75);\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and then after some testing that that red square only showed up if I kept the width no more than 311 and the height no more than 211.  But I need to make my graphical content in the html5 canvas in my webview larger than that.  Does anyone know any solutions to this problem?</p>\n"},{"tags":["c++","sql","qt","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13143448,"title":"SQLite UPDATE 100ms","body":"<p>I'm using the <a href=\"http://doc.qt.digia.com/qt/qsqlquery.html\" rel=\"nofollow\">Qt database abstraction</a> layer to interface with Sqlite3.</p>\n\n<pre><code>int x = GetTickCount();\ndatabase.exec(\"UPDATE controls SET dtype=32 WHERE id=2\");\nqDebug() &lt;&lt; GetTickCount()-x;\n</code></pre>\n\n<p>The table is:</p>\n\n<pre><code>CREATE TABLE controls (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    internal_id TEXT,\n    name TEXT COLLATE NOCASE,\n    config TEXT,\n    dtype INTEGER,\n    dconfig TEXT,\n    val TEXT,\n    device_id INTEGER REFERENCES devices(id) ON DELETE CASCADE\n); \n</code></pre>\n\n<p>Results in an update time of  ~100 ms! Even though nothing else is accessing the db and there are a grand total of 3 records in that table.</p>\n\n<p>That seems ridiculously long to me. 10 records would already take a second to complete. Is this the performance I should expect from sqlite or is something messing me up somewhere? SELECT queries are fast enough ~1ms.</p>\n\n<p><hr>\n<strong>Edit 1</strong></p>\n\n<p>So it's not Qt.</p>\n\n<pre><code>sqlite3 *db;\nif ( sqlite3_open(\"example.db\",&amp;db ) != SQLITE_OK )\n{\n    qDebug() &lt;&lt; \"Could not open\";\n    return;\n}\n\nint x = GetTickCount();\nsqlite3_exec(db, \"UPDATE controls SET dtype=3 WHERE id=2\",0,0,0);\nqDebug() &lt;&lt; \"Took\" &lt;&lt; GetTickCount() - x;\n\nsqlite3_close(db);\n</code></pre>\n\n<p>This guy takes just the same amount of time.</p>\n"},{"tags":["multithreading","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13142051,"title":"Qt threading stopped UI from responding","body":"<p>I think I might misunderstood several concepts in Qt's threading,</p>\n\n<p>In my window class, which is derived from QWidget:</p>\n\n<pre><code>class Widget \n{\n   Q_OBJECT\npublic:\n   Widget::Widget (QObject *parent = 0) : QObject(parent)\n   {\n     moveToThread(&amp;th); // still stuck\n     connect (&amp;th, SIGNAL(started()), SLOT(doWork())); \n     th.start();\n   }\nprivate:\n   QThread th;\nprivate slots:\n  void doWork () \n  { \n     // hmm, this stuck the UI\n     while (1) \n     { \n       qDebug() &lt;&lt; \"Sleeping\"; \n     } \n  };\n};\n</code></pre>\n\n<p>The forever loop stuck the UI, it shouldn't be, since that was called by the QThread.\nCan anyone point out what's wrong about this code?</p>\n"},{"tags":["c++","image","osx","qt","cgimage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13142032,"title":"CGImage: List of supported image formats","body":"<p>I want to query a list of all supported image formats (and file extensions) in Mac OS X, so that I can include those file extensions in a Qt \"Open Image\" dialog. I use CGImage to load the image.</p>\n\n<p>At the moment I use a static list, but I want to dynamically query a list of formats and extensions on the users system.</p>\n"},{"tags":["c++","qt","qtreeview","qt4.8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13124016,"title":"How to know exactly when a user expands a QTreeView item?","body":"<p>Is there a way to know exactly when an expand operation begins when a user, lets say clicks the expand arrow in a QTreeView?</p>\n\n<p>For the case when he double clicks I can catch the double-click event.</p>\n\n<p>I tried reimplementing this slot <code>void expand(const QModelIndex &amp;index);</code> from QTreeView but it doesn't seem to work.</p>\n\n<p>There is a signal called <code>void expanded(const QModelIndex &amp;index);</code> in QTreeView but it seems to be sent after the expansion happened.</p>\n\n<p>I am using QT 4.8.2</p>\n"},{"tags":["c++","qt","kinect","kinect-sdk"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12935790,"title":"How to pass a kinect image frame to a Qt label?","body":"<p>I'm using the Kinect SDK and Qt toolkit to make a application that shows the depth frame in a GUI window. For a normal opencv camera image i use to do this:</p>\n\n<pre><code>qimage = QImage(image.data, 640, 480, QImage::Format_Indexed8);\n    pixmap = QPixmap::fromImage(qimage);\n    ui.DepthView-&gt;adjustSize();\n</code></pre>\n\n<p>But with the Kinect sdk this doesn't work. When i grab a frame like this:</p>\n\n<pre><code>hr = m_pNuiSensor-&gt;NuiImageStreamGetNextFrame(m_pDepthStreamHandle, \n1000, &amp;imageFrame);\n</code></pre>\n\n<p>I can't convert it to an Qimage. I also tryed to use the texture after grabbing the frame:</p>\n\n<pre><code>hr = m_pNuiSensor-&gt;NuiImageFrameGetDepthImagePixelFrameTexture(m_pDepthStreamHandle,\n&amp;imageFrame, &amp;nearMode, &amp;pTexture);\n</code></pre>\n\n<p>And then i tryed to convert the pTexture to a Qimage, but that doesn't work either.</p>\n\n<p>I cleary do something wrong here, can anybody give me some pointers with this?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","database","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12277176,"title":"Selection of QTreeWidgetItem","body":"<p>In this function im trying to connect each QTreeWidgetItem with its corresponding query,\nonce i select an item a Dock widget that has a query result in tableview model is shown.</p>\n\n<p>what i want is that when i select a new item the shown dock widget hide and  new one appears with a new result. what i have until now is that each item i select a new Dock widget appears . I want to see only one dock widget.</p>\n\n<p>here is my function</p>\n\n<pre><code>void MainWindow::DocumentTable()\n{\ntableview = new QTableView;\nquery = new QSqlQueryModel(this);\n\nforeach(it,treeWidget-&gt;selectedItems())\n{\n    for (int col=0; col&lt; it-&gt;columnCount(); ++col)\n    {\n        qDebug() &lt;&lt; col &lt;&lt; it-&gt;text(col);\n\nQSqlQuery qry;\nqry.prepare(\"select * from document where Folno=:Folno\");\nqry.bindValue(\":Folno\", it-&gt;text(col));\nqry.exec();\n\nquery-&gt;setQuery(qry);\n\n    tableview-&gt;setModel(query);\ntableview-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);\ntableview-&gt;show();\n\nDocwidget= new QDockWidget(this);\nDocwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\nDocwidget-&gt;setWidget(tableview);\naddDockWidget(Qt::RightDockWidgetArea,Docwidget);\nDocwidget-&gt;show();\n\n\nif(!query-&gt;submit())\n  {\n     qDebug() &lt;&lt; \"Error \" &lt;&lt; query-&gt;lastError().text();\n  }\n\n db.close();\n\n}\n}\n   }\n</code></pre>\n\n<p>any ideas ??  :)</p>\n"},{"tags":["c++","osx","qt","qt-creator","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12977739,"title":"Qt Creator or qmake on MacOSX build library as \".so\" not dylib","body":"<p>I need to build my plugin/library as a .so on Mac. That happens without extra trick on Linux and works like a charm.</p>\n\n<p>What extra options I need to add to my .pro file?</p>\n\n<pre><code>CONFIG += debug\nQT += xml\nTEMPLATE = lib\nTARGET = mylib\nDEPENDPATH += .\nmacx:INCLUDEPATH += ../../../Test \\\n  /usr/local/include/\n\nmacx:LIBS += -L../../../Test/lib\n\nDEFINES += CORE_EXPORT=\nDEFINES += GUI_EXPORT=\n\nHEADERS += test.h testGui.h\nFORMS += testGui.ui\nSOURCES += test.cpp testGui.cpp\nRESOURCES += test.qrc\n</code></pre>\n"},{"tags":["c++","qt","key","keyboard-shortcuts","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":12373221,"title":"QInputDialog - confirm with enter-key","body":"<p>Im trying to use QInputDialog without buttons. It looks just like I want, but I connot confirm input (using it for text input). Is there a possibility to confirm with the enter key, so that <code>exec()</code> returns <code>QInputDialog::Accepted</code> ? Just like escape key makes the dialog return <code>QInputDialog::Rejected</code> ?</p>\n"},{"tags":["qt","drop","shadow","qmenu"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":63,"score":3,"question_id":12691490,"title":"Qt QMenu remove drop shadow","body":"<p>I have a QMenu with a translucent background and rounded edges (border-radius). Unfortunately, Windows 7 draws a drop shadow for this menu, which does not fit to the rounded edges. Its the shadow that would be drawn for normal rectangular menues.</p>\n\n<p>Is there either\n - a way to completely disable drawing drop shadows for QMenu\nor\n - a way to make the shadow fit to the rounded edges\n?</p>\n\n<p>Here is a minimalistic example where it occurs:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QMenu&gt;\n\nint main(int argc, char *argv[]) {\n    QApplication a(argc, argv);\n    QPushButton b(\"press me\");\n    QMenu m;\n    m.addAction(\"hello\"); m.addAction(\"world\");\n    m.setWindowFlags(m.windowFlags() | Qt::FramelessWindowHint);\n    m.setAttribute(Qt::WA_TranslucentBackground);\n    m.setStyleSheet(\"background:rgba(255,0,0,50%); border-radius:5px;\");\n    b.setMenu(&amp;m);\n    b.show();\n    return a.exec();\n}\n</code></pre>\n"},{"tags":["c++","qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13138594,"title":"Qt equivalent to winapi InterlockedIncrement?","body":"<p>i try to find equivalent in Qt c++ to winapi InterlockedIncrement\ni was reading : \n<a href=\"http://harmattan-dev.nokia.com/docs/library/html/qt4/qatomicint.html\" rel=\"nofollow\">http://harmattan-dev.nokia.com/docs/library/html/qt4/qatomicint.html</a><br>\nbut i didnt understand it , can someone please give me simple example </p>\n"},{"tags":["osx","qt","qt4","install","32bit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13099397,"title":"Install Qt SDK on Mac OS X Snow Leopard 32 bit","body":"<p>I want to install Qt on Mac OS X Snow Leopard 32-bit but on the qt-project website only the version for 64 bit is available. </p>\n\n<p>I tried to install the libraries and the Qt Creator IDE separately but it doesn't work, I get the error \"<code>:-1: error: /Developer/Tools/Qt/moc: Bad CPU type in executable</code>\". </p>\n\n<p>I also tried to compile the sources which i got from <a href=\"http://download.qt.nokia.com/qt/source/qt-everywhere-opensource-src-4.8.1.tar.gz\" rel=\"nofollow\">here</a> but all i got were errors:</p>\n\n<pre><code>make[3]: *** No rule to make target `../../WebCore/debug/libwebcored.a', needed by `../../../../../../lib/QtWebKit.framework/QtWebKit_debug'.  Stop.\nmake[2]: *** [debug-install] Error 2\nmake[1]: *** [sub-WebKit-qt-QtWebKit-pro-install_subtargets-ordered] Error 2\nmake: *** [sub-webkit-install_subtargets-ordered] Error 2\n</code></pre>\n\n<p>Everywhere I search on the web i get broken links from the old Nokia Qt website or people telling that Qt is not available for 32bit on Mac.\nI'd like to install Qt on his Mac even if it's an older version.</p>\n\n<p>Does anyone know a link to the source code that works or a .dmg file for the entire Qt SDK bundle that works for Snow Leopard 32-bit?</p>\n\n<p>I also installed XCode 3.2.6.</p>\n\n<p>Thanks!</p>\n"},{"tags":["visual-studio","qt","cmake","qobject"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":882,"score":4,"question_id":3650433,"title":"Qt, CMake, Visual Studio and Q_OBJECT in cpp files","body":"<p>I'm developing a large project using Qt 4.6, CMake 2.8 and Visual Studio 2008 for the Windows platform.</p>\n\n<p>As far the build system goes, it's all standard stuff: I'm using CMake's <code>QT4_WRAP_CPP</code> macro to generate moc files from header files, which are then linked into the final executable in the <code>add_executable</code> command. Everything is working as expected.</p>\n\n<p>The only restriction with this setup is that I can't define widgets or helper using   <code>Q_OBJECT</code> in <em>.cpp</em> files. This would be very convenient for small, context-specific helpers classes that should appear right next to where they're used.</p>\n\n<p>I tried to pass the whole list of source files (both <em>.h</em> and <em>.cpp</em>) to <code>QT4_WRAP_CPP</code>, instead of just the header files, but that doesn't work (linking fails because some moc-related symbols are undefined).</p>\n\n<p>I think the problem is that, for a given pair of files <em>foo.h</em> and <em>foo.cpp</em>, the <code>QT4_WRAP_CPP</code> macro will generate the same moc file (<em>moc_foo.cxx</em>) in the same directory, and obviously that means the first file will be overwritten by the second one, and as a result symbols will be missing at link-time.</p>\n\n<p>Is there a way to fix or work around that problem? For instance, I tried to add a specific rule for <em>foo.cpp</em> of the form</p>\n\n<pre><code>QT4_GENERATE_MOC(directory/foo.cpp directory/foo.moc)\n</code></pre>\n\n<p>and then add</p>\n\n<pre><code>#include \"foo.moc\"\n</code></pre>\n\n<p>at the end of <em>foo.cpp</em>. I think this ought to work, but alas Visual Studio only allows one build rule per file, and <em>.cpp</em> files already have a build rule (compilation to object file), so this approach doesn't work, at least with Visual Studio.</p>\n\n<p>Another idea that I had was to create a new macro, say <code>QT4_WRAP_CPP_WITH_PREFIX</code>, based on <code>QT4_WRAP_CPP</code> (which is defined in <em>share/cmake-2.8/Modules/Qt4Macros.cmake</em>), that would take an additional prefix argument and would add this prefix to the generated moc files. That way, I would call <code>QT4_WRAP_CPP_WITH_PREFIX</code> twice, once for <em>.h</em> files and once for <em>.cpp</em> files, with different prefixes. What I just dislike about this approach is that I'd be messing with the internals of CMake's Qt support, instead of using the public API.</p>\n\n<p>Any better idea?</p>\n\n<p>Cheerz, Franz</p>\n"},{"tags":["qt","dll","dllimport","dllexport"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13132340,"title":"should I add the CPP files into *.pro when I trying to load the DLL","body":"<p>I need to compile some source code into a DLL, and load it in other project.  I have an entry called</p>\n\n<pre><code>extern \"C\" LTCPOS_LSHARED_EXPORT tcpClient_Os* getClientInst(VhostInfo hostInfo, CtcpOpt *tcpOpt, QObject *parent = 0);\n</code></pre>\n\n<p>The type of \"tcpClient_OS\" is a self-defined class.  When I load the DLL using QLibrary in a different project it appears that I must add the <strong>source file (cpp files)</strong> into the *.pro in order to make the project compiled without errors.  Why?</p>\n\n<p>What is the normal routine of building a DLL with a funtion returning self-defined class pointer and how do I load it?</p>\n"},{"tags":["c++","qt","setvalue","class-members"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13136196,"title":"Set class member value by its name","body":"<p>I've a class, derived of <code>QObject</code> and it has some members.\nI load a configuration file with <code>param value</code> syntax. Each <code>param</code> is a member of the class and I want to set it's value to <code>value</code>.</p>\n\n<p>How is it possible, if it actually is? Thanks much!</p>\n\n<p>PS I could have made an associative array but it's not the way I prefer.</p>\n"},{"tags":["qt","qt-stylesheet","qtabbar"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13137069,"title":"QT Tab close button position","body":"<p>I want to style my tabs in my QT app as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/aIZf0.png\" alt=\"enter image description here\"></p>\n\n<p>I used following style sheet:</p>\n\n<pre><code>QTabBar{background-color: #fff; border-top: 0px;}\nQTabBar::tab {\n    border-image: url(:/New_UI/tab_inactive.png) 7 17 7 2;\n    margin-left: 2px;\n    border-right: 17px;\n    border-top: 5px;\n    border-bottom: 5px;\n    font: 400 9.2pt \"Segoe UI\";\n    color: #ccc;\n    padding: 0px 13px 0px 5px;\n    max-height: 26px;\n }\n\nQTabBar::tab:selected, QTabBar::tab:hover {\n    border-image: url(:/New_UI/tab_active.png) 6 17 6 2;\n}\n\nQTabBar::close-button {\n    image: url(:/New_UI/tab_close.png);\n    subcontrol-origin: padding;\n    subcontrol-position: right; \n    width: 13px;\n    height: 13px;\n\n}\n</code></pre>\n\n<p>The result is as follows (close button position is not as I wanted):</p>\n\n<p><img src=\"http://i.stack.imgur.com/PWcJQ.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong &amp; how could I get my desired result ? </p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13132485,"title":"How to scroll QLabel?","body":"<p>I am trying to implement Picture Zoom In/Out and Picture Scroll on <em>Meego/Qt/QML</em>.</p>\n\n<p>I have written a class A which is inherited from <em>QLabel</em>.</p>\n\n<pre><code>A::A( \"parent\" )\n{\n  setAlignment();\n  setGeometry();\n  setScaledContents();\n}\n</code></pre>\n\n<p>Now I have a Controller class B. This class is responsible to handle the events from <em>QML</em> to the my Class A. In my controller class I have instantiate in the following way.</p>\n\n<pre><code>B :: B()\n{\n a = new A();\n proxyWidget = new QGraphicsProxyWidget();\n proxyWidget-&gt;setWidget(a); \n}\n</code></pre>\n\n<p>Since this is a <em>QML</em> based application I am handling events from QML.</p>\n\n<p>For Zoom I have used <code>PinchArea</code>. Whenever I am getting <code>PinchUpdated</code> event I am setting the <code>setGeometry</code>of the <em>QLabel</em> accordingly. I am zooming in and zooming out.</p>\n\n<p>For scroll I have used <code>MouseArea</code> with <code>onPositionChanged</code> event. However I am unable to scroll the label event after calling the scroll API of the <em>QLabel</em>.</p>\n\n<p>Can someone please tell me where am I doing wrong?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13133761,"title":"Qt: Qt Designer button panel error","body":"<p>I've created a modal dialog named 'new_dialog' with ok/cancel buttons. Now I want to work on slot for the OK button. I right-click on the button pane, select \"Go to slot\" command from context menu; and get an error: </p>\n\n<blockquote>\n  <p>Couldn't find class with Ui::new_dialog in mainwindow.cpp. Check\n  include directives\n  (this is a translation into English)</p>\n</blockquote>\n\n<p>How can I assign a slot to the button?</p>\n\n<p>Thanks!</p>\n\n<p>Some code:</p>\n\n<p>There is new.ui and ui_new.h, directive in mainwindow.cpp:</p>\n\n<pre><code>#include \"ui_new.h\"\n</code></pre>\n\n<p>The dialog is called from mainwindow:</p>\n\n<pre><code>void MainWindow::on_pushButton_clicked()\n{\n    QDialog *new_dialog = new QDialog(0,0);\n    Ui_New newUi;\n    newUi.setupUi(new_dialog);\n    new_dialog-&gt;exec();\n}\n</code></pre>\n\n<p>ui_new.h:</p>\n\n<pre><code>#ifndef UI_NEW_H\n#define UI_NEW_H\n\n#include &lt;QtCore/QVariant&gt;\n#include &lt;QtGui/QAction&gt;\n#include &lt;QtGui/QApplication&gt;\n#include &lt;QtGui/QButtonGroup&gt;\n#include &lt;QtGui/QDialog&gt;\n#include &lt;QtGui/QDialogButtonBox&gt;\n#include &lt;QtGui/QHeaderView&gt;\n#include &lt;QtGui/QLabel&gt;\n#include &lt;QtGui/QLineEdit&gt;\n\nQT_BEGIN_NAMESPACE\n\nclass Ui_New\n{\npublic:\n    QDialogButtonBox *buttonBox;\n    QLabel *label;\n    QLabel *label_2;\n    QLineEdit *lineEdit;\n    QLineEdit *lineEdit_2;\n\n    void setupUi(QDialog *new_dialog)\n    {\n        if (new_dialog-&gt;objectName().isEmpty())\n            new_dialog-&gt;setObjectName(QString::fromUtf8(\"Dialog\"));\n        new_dialog-&gt;setWindowModality(Qt::ApplicationModal);\n        new_dialog-&gt;resize(250, 180);\n        new_dialog-&gt;setModal(false);\n        buttonBox = new QDialogButtonBox(new_dialog);\n        buttonBox-&gt;setObjectName(QString::fromUtf8(\"buttonBox\"));\n        buttonBox-&gt;setGeometry(QRect(40, 140, 181, 32));\n        buttonBox-&gt;setOrientation(Qt::Horizontal);\n        buttonBox-&gt;setStandardButtons(QDialogButtonBox::Cancel|QDialogButtonBox::Ok);\n        label = new QLabel(new_dialog);\n        label-&gt;setObjectName(QString::fromUtf8(\"label\"));\n        label-&gt;setGeometry(QRect(20, 40, 46, 13));\n        label_2 = new QLabel(new_dialog);\n        label_2-&gt;setObjectName(QString::fromUtf8(\"label_2\"));\n        label_2-&gt;setGeometry(QRect(20, 70, 46, 13));\n        lineEdit = new QLineEdit(new_dialog);\n        lineEdit-&gt;setObjectName(QString::fromUtf8(\"lineEdit\"));\n        lineEdit-&gt;setGeometry(QRect(70, 40, 113, 20));\n        lineEdit_2 = new QLineEdit(new_dialog);\n        lineEdit_2-&gt;setObjectName(QString::fromUtf8(\"lineEdit_2\"));\n        lineEdit_2-&gt;setGeometry(QRect(70, 70, 113, 20));\n\n        retranslateUi(new_dialog);\n        QObject::connect(buttonBox, SIGNAL(accepted()), new_dialog, SLOT(accept()));\n        QObject::connect(buttonBox, SIGNAL(rejected()), new_dialog, SLOT(reject()));\n\n        QMetaObject::connectSlotsByName(new_dialog);\n    } // setupUi\n\n    void retranslateUi(QDialog *new_dialog)\n    {\n        new_dialog-&gt;setWindowTitle(QApplication::translate(\"Dialog\", \"New person\", 0, QApplication::UnicodeUTF8));\n        label-&gt;setText(QApplication::translate(\"Dialog\", \"Name\", 0, QApplication::UnicodeUTF8));\n        label_2-&gt;setText(QApplication::translate(\"Dialog\", \"Surname\", 0, QApplication::UnicodeUTF8));\n    } // retranslateUi\n\n};\n\nnamespace Ui {\n    class new_dialog: public Ui_New {};\n} // namespace Ui\n\nQT_END_NAMESPACE\n\n#endif // UI_NEW_H\n</code></pre>\n"},{"tags":["c++","qt","url","host"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13121922,"title":"Qt or general c++ How to get or detect the host of the <a href=\"file.html\" > in c++","body":"<p>i have simple app the gets all the links from web page , im using libexml2 to parse the html \nand extract the html links that are inside the  \nand Qt QNetworkAccessManager for the http requests .\nnow the problem is how to detecte automatcly the host name of the links if i have for example :</p>\n\n<pre><code>&lt;a href=\"thelink.html\" &gt;\nor \n&lt;a href=\"../../../thelink.html\" &gt;  \nor\n&lt;a href=\"../foo/boo/thelink.html\" &gt; \ni need to convert it to full host path like :\n( just example .. ) \n&lt;a href=\"http://www.myhost.com/thelink.html\" &gt;\nor \n&lt;a href=\"http://www.myhost.com/foo/boo/thelink.html\" &gt;  \nor\n&lt;a href=\"http://www.myhost.com/m/thelink.html\" &gt; \n</code></pre>\n\n<p>is there any way to do it programmatically ? without manually doing string manipulation</p>\n\n<p>if you know perl its called : Return a relative URL if possible\nfrom the : <a href=\"http://search.cpan.org/~rse/lcwa-1.0.0/lib/lwp/lib/URI/URL.pm\" rel=\"nofollow\">http://search.cpan.org/~rse/lcwa-1.0.0/lib/lwp/lib/URI/URL.pm</a></p>\n\n<p>$url->rel([$base])</p>\n\n<p>code example that dosnt work ( Qt ) \n<a href=\"http://qt.digia.com/support/\" rel=\"nofollow\">http://qt.digia.com/support/</a></p>\n\n<pre><code>QString s(\"/About-us/\");\nQString base(\"http://qt.digia.com\");\nQString urlForReq;\n\n     if(!s.startsWith(\"http:\"))\n     {       \n         QString uu = QUrl(s).toString();\n         QString   rurl = baseUrl.resolved(QUrl(s)).toString();\n         urlForReq = rurl;\n     }\n</code></pre>\n\n<p>the urlForReq value is \"/About-us/\"</p>\n"},{"tags":["qt","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":114,"score":3,"question_id":12306894,"title":"Wrong alpha blending when rendering on a QGLFramebufferObject","body":"<p>I write an OpenGL based vector graphics renderer for my application. It needs to render to a framebuffer object rather to the screen directly. Since I write the application in Qt, I use a QGLFramebufferObject which is a wrapper class for a OpenGL framebuffer object.</p>\n\n<p>I created a minimal example which shows a wrong result I also get when rendering more complex stuff (for example using a fragment shader which sets colors with a non-one alpha value). I just render a red circle and a half-transparent green one on a black cleared screen, and then the same on the FBO:</p>\n\n<pre><code>void MainWidget::initializeGL()\n{\n    glEnable(GL_BLEND);\n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n    glClearColor(0, 0, 0, 0);\n}\n\nvoid MainWidget::resizeGL(int w, int h)\n{\n    glViewport(0, 0, w, h);\n}\n\nvoid MainWidget::paintGL()\n{\n    // DRAW ON THE SCREEN\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n        glPointSize(100);\n        glEnable(GL_POINT_SMOOTH);\n        glBegin(GL_POINTS);\n        glColor4f(1, 0, 0, 1);\n        glVertex2f(-.2, 0);\n        glColor4f(0, 1, 0, .5);\n        glVertex2f( .2, 0);\n        glEnd();\n    }\n\n    QGLFramebufferObject fbo(width(), height());\n    fbo.bind();\n\n    // DRAW ON THE FBO USING THE SAME CODE AND THE SAME CONTEXT\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n        glPointSize(100);\n        glEnable(GL_POINT_SMOOTH);\n        glBegin(GL_POINTS);\n        glColor4f(1, 0, 0, 1);\n        glVertex2f(-.2, 0);\n        glColor4f(0, 1, 0, .5);\n        glVertex2f( .2, 0);\n        glEnd();\n    }\n\n    fbo.release();\n    fbo.toImage().save(\"debug.png\");\n}\n</code></pre>\n\n<p>The result looks like this on the screen (scaled 400%):</p>\n\n<p><img src=\"http://i.stack.imgur.com/oJ0NM.png\" alt=\"enter image description here\"></p>\n\n<p>The rendering to the QGLFramebufferObject looks like this (also scaled 400%):</p>\n\n<p><img src=\"http://i.stack.imgur.com/vPLGJ.png\" alt=\"enter image description here\"></p>\n\n<p>Note that this image is not fully opaque, so here it is the same image with a checkerboard added behind it:</p>\n\n<p><img src=\"http://i.stack.imgur.com/6xbY6.png\" alt=\"enter image description here\"></p>\n\n<p>Even the area in which the two circles overlap isn't fully opaque. And the anti-aliasing looks pretty ugly.</p>\n\n<p><strong>How does this happen? And how can I fix this?</strong></p>\n\n<p>I already tried:</p>\n\n<ul>\n<li>Different blend functions.</li>\n<li>Explicitly disabling the depth buffer, stencil buffer and sampling on the QGLFramebufferObject. I'm not sure if the QGLFramebufferObject default format adds something I don't want.</li>\n</ul>\n"},{"tags":["c++","qt","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":41,"score":0,"question_id":13132155,"title":"QWidget show function strange","body":"<p>two UI class, also called the theme.\nAnd then write some control over events.\nthis  is  My main code</p>\n\n<pre><code>  if(ui==1){\n    theme1=new theme1();\n    connect(theme1-&gt;ui-&gt;btn_send1,SIGNAL(clicked()),this,SLOT(Btn_Click_send1()));      \n    connect(theme1-&gt;ui-&gt;btn_send2,SIGNAL(clicked()),this,SLOT(Btn_Click_send2()));       \n\n }else{\n     theme2=new theme2();\n     connect(theme2-&gt;ui-&gt;btn_send1,SIGNAL(clicked()),this,SLOT(Btn_Click_send1()));     \n    connect(theme2-&gt;ui-&gt;btn_send2,SIGNAL(clicked()),this,SLOT(Btn_Click_send2()));      \n }\n void testCode::Btn_Click_send1(){\n  run1=new Run1();\n   run1.show();\n }\nvoid testCode::Btn_Click_send2(){\nrun2=new Run2();\nrun2.show();\n</code></pre>\n\n<p>}</p>\n\n<p>UI is equal to 1, the code is good, but equal to other UI appears BUG。</p>\n\n<p>Debugging, when errors are found in the show ()。</p>\n\n<p>Run1 and Run2 Run in the other classes, but it is good.</p>\n\n<p>I do not know why！！！ A week, and I am anxious！</p>\n\n<p>thanks all!</p>\n"},{"tags":["c++","qt","arduino","qextserialport"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":966,"score":1,"question_id":3142038,"title":"QextSerialPort connection problem to Arduino","body":"<p>I'm trying to make a serial connection to an Arduino Diecimila board with QextSerialPort. My application hangs though everytime I call port->open(). The reason I think this is happening is because the Arduino board resets itself everytime a serial connection to it is made. There's a way of not making the board reset described <a href=\"http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1204641836\" rel=\"nofollow\">here</a>, but I can't figure out how to get QextSerialPort to do that. I can only set the DTR to false after the port has been opened that's not much help since the board has already reset itself by that time.</p>\n\n<p>The code for the connection looks like this:</p>\n\n<pre><code> port = new QextSerialPort(\"/dev/tty.usbserial-A4001uwj\");\n port-&gt;open(QIODevice::ReadWrite);\n port-&gt;setBaudRate(BAUD9600);   \n port-&gt;setFlowControl(FLOW_OFF);\n port-&gt;setParity(PAR_NONE);    \n port-&gt;setDataBits(DATA_8);   \n port-&gt;setStopBits(STOP_1);\n port-&gt;setDtr(false);\n port-&gt;setRts(false);\n</code></pre>\n\n<p>Any ideas on how to get this done. I don't necessarily need to use QextSerialPort should someone know of another library that does the trick.</p>\n\n<p>I'm new to C++ and Qt.</p>\n\n<p>UPDATE:\nI noticed that if I run a python script that connects to the same port (using pySerial) before running the above code, everything works just fine.</p>\n"},{"tags":["windows","qt","qextserialport"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12959612,"title":"QextSerialPort::read() does not return until timeout expired but data is available","body":"<p>I am using QextSerialPort with Qt 4.8.1 on Win32.  When \"polling\" query mode is set, and a timeout set using QextSerialPort::setTimeout().  When I call QExtSerialPort::read(), even when data is available, the read function does not return until the entire timeout period has expired, even though it returns with data.</p>\n\n<p>For example:</p>\n\n<pre><code>m_port-&gt;setTimeout( 3000 ) ;\nchar data = 0 ;\nint count = m_port-&gt;read( &amp;data, 1 ) ;\n// Returns after three seconds, but count is 1, and data set as expected\n</code></pre>\n\n<p>I would expect it to return as soon a the specified number or bytes are read <em>or</em> the timeout expires - which ever occurs first. </p>\n\n<p>Should this work or am I misunderstanding this interface?  Is there a way of achieving the expected behaviour in polling mode.</p>\n"},{"tags":["c++","linux","qt","memory-leaks","embedded-linux"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":13098976,"title":"Qt application killed because Out Of Memory (OOM)","body":"<p>I am running a Qt application on embedded Linux platform. The system has 128 MB RAM, 512MB NAND, no swap. The application uses a custom library for the peripherals, the rest are all Qt and c/c++ libs. The application uses SQLITE3 as well.</p>\n\n<p>After 2-3 hours, the machine starts running very slow, shell commands take 10 or so seconds to respond. Eventually the machine hangs, and finally OOM killer kills the application, and the system starts behaving at normal speed.</p>\n\n<p>After some system memory observations using <strong>top</strong> command reveals that while application is running, the system <strong>free</strong> memory is decreasing, while <strong>slab</strong> keeps on increasing. These are the snaps of <strong>top</strong> given below.  The application is named <strong>xyz</strong>.</p>\n\n<p>At Application start : </p>\n\n<pre><code>Mem total:126164 anon:3308 map:8436 free:32456\n slab:60936 buf:0 cache:27528 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  776 29080  9228  8036   528   968     0    84 ./xyz -qws\n  781  3960   736  1976  1456   520     0    84 sshd: root@notty\n  786  3676   680  1208   764   416     0    88 /usr/libexec/sftp-server\n  770  3792   568  1948  1472   464     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   956   688   252     0    84 /usr/sbin/sshd\n  388  1864   284   552   332   188     0    84 udevd --daemon\n  789  2832   272   688   584    84     0    84 top\n  774  2828   268   668   560    84     0    84 -sh\n  709  2896   268   556   464    80     0    84 /usr/sbin/inetd\n  747  2828   268   596   516    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  777  2824   264   444   368    68     0    84 tee out.log\n  785  2824   264   484   416    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264   556   488    64     0    84 init\n</code></pre>\n\n<p>After some time :</p>\n\n<pre><code>    Mem total:126164 anon:3312 map:8440 free:9244\n slab:83976 buf:0 cache:27584 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  776 29080  9228  8044   528   972     0    84 ./xyz -qws\n  781  3960   736  1976  1456   520     0    84 sshd: root@notty\n  786  3676   680  1208   764   416     0    88 /usr/libexec/sftp-server\n  770  3792   568  1948  1472   464     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   956   688   252     0    84 /usr/sbin/sshd\n  388  1864   284   552   332   188     0    84 udevd --daemon\n  789  2832   272   688   584    84     0    84 top\n  774  2828   268   668   560    84     0    84 -sh\n  709  2896   268   556   464    80     0    84 /usr/sbin/inetd\n  747  2828   268   596   516    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  777  2824   264   444   368    68     0    84 tee out.log\n  785  2824   264   484   416    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264   556   488    64     0    84 init\n</code></pre>\n\n<p>Funnily though, I can not see any major changes in the output of <strong>top</strong> involving the application itself. Eventually the application is killed, <strong>top</strong> output after that :</p>\n\n<pre><code>    Mem total:126164 anon:2356 map:916 free:2368\n slab:117944 buf:0 cache:1580 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  781  3960   736   708   184   520     0    84 sshd: root@notty\n  786  3724   728   736   172   484     0    88 /usr/libexec/sftp-server\n  770  3792   568   648   188   460     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   252     0   252     0    84 /usr/sbin/sshd\n  388  1864   284   188     0   188     0    84 udevd --daemon\n  819  2832   272   676   348    84     0    84 top\n  774  2828   268   512   324    96     0    84 -sh\n  709  2896   268    80     0    80     0    84 /usr/sbin/inetd\n  747  2828   268    68     0    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  785  2824   264    68     0    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264    64     0    64     0    84 init\n</code></pre>\n\n<p>The <strong>dmesg</strong> shows :</p>\n\n<pre><code>sh invoked oom-killer: gfp_mask=0xd0, order=2, oomkilladj=0\n[&lt;c002d4c4&gt;] (unwind_backtrace+0x0/0xd4) from [&lt;c0073ac0&gt;]              (oom_kill_process+0x54/0x1b8)\n[&lt;c0073ac0&gt;] (oom_kill_process+0x54/0x1b8) from [&lt;c0073f14&gt;] (__out_of_memory+0x154/0x178)\n[&lt;c0073f14&gt;] (__out_of_memory+0x154/0x178) from [&lt;c0073fa0&gt;] (out_of_memory+0x68/0x9c)\n[&lt;c0073fa0&gt;] (out_of_memory+0x68/0x9c) from [&lt;c007649c&gt;] (__alloc_pages_nodemask+0x3e0/0x4c8)\n[&lt;c007649c&gt;] (__alloc_pages_nodemask+0x3e0/0x4c8) from [&lt;c0076598&gt;] (__get_free_pages+0x14/0x4c)\n[&lt;c0076598&gt;] (__get_free_pages+0x14/0x4c) from [&lt;c002f528&gt;] (get_pgd_slow+0x14/0xdc)\n[&lt;c002f528&gt;] (get_pgd_slow+0x14/0xdc) from [&lt;c0043890&gt;] (mm_init+0x84/0xc4)\n[&lt;c0043890&gt;] (mm_init+0x84/0xc4) from [&lt;c0097b94&gt;] (bprm_mm_init+0x10/0x138)\n[&lt;c0097b94&gt;] (bprm_mm_init+0x10/0x138) from [&lt;c00980a8&gt;] (do_execve+0xf4/0x2a8)\n[&lt;c00980a8&gt;] (do_execve+0xf4/0x2a8) from [&lt;c002afc4&gt;] (sys_execve+0x38/0x5c)\n[&lt;c002afc4&gt;] (sys_execve+0x38/0x5c) from [&lt;c0027d20&gt;] (ret_fast_syscall+0x0/0x2c)\nMem-info:\nDMA per-cpu:\nCPU    0: hi:    0, btch:   1 usd:   0\nNormal per-cpu:\nCPU    0: hi:   42, btch:   7 usd:   0\nActive_anon:424 active_file:11 inactive_anon:428\n inactive_file:3 unevictable:0 dirty:0 writeback:0 unstable:0\n free:608 slab:29498 mapped:14 pagetables:59 bounce:0\nDMA free:692kB min:268kB low:332kB high:400kB active_anon:0kB inactive_anon:0kB active_file:4kB inactive_file:0kB unevictable:0kB present:24384kB pages_scanned:0 all_unreclaimable? no\nlowmem_reserve[]: 0 103 103\nNormal free:1740kB min:1168kB low:1460kB high:1752kB active_anon:1696kB inactive_anon:1712kB active_file:40kB inactive_file:12kB unevictable:0kB present:105664kB pages_scanned:0 all_unreclaimable? no\nlowmem_reserve[]: 0 0 0\nDMA: 3*4kB 3*8kB 5*16kB 2*32kB 4*64kB 2*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 692kB\nNormal: 377*4kB 1*8kB 4*16kB 1*32kB 2*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 1740kB\n30 total pagecache pages\n0 pages in swap cache\nSwap cache stats: add 0, delete 0, find 0/0\nFree swap  = 0kB\nTotal swap = 0kB\n32768 pages of RAM\n687 free pages\n1306 reserved pages\n29498 slab pages\n59 pages shared\n0 pages swap cached\nOut of memory: kill process 774 (sh) score 339 or a child\nKilled process 776 (xyz)\n</code></pre>\n\n<p>So it's obvious that there is a memory leak, it must be my app since my app is killed. But I am not doing any <strong>malloc</strong> s from the program. I have taken care as to limit the scope of variables so that they are deallocated after they are used. So I am at a complete loss as to why is <strong>slab</strong> increasing in the <strong>top</strong> output. I have tried <a href=\"http://valgrind.org/docs/manual/faq.html#faq.reports\" rel=\"nofollow\">http://valgrind.org/docs/manual/faq.html#faq.reports</a> but didn't work.</p>\n\n<p>Currently trying to use Valgrind on desktop (since I have read it only works for arm-cortex) to check my business logic.</p>\n\n<p>Addittional info :</p>\n\n<pre><code>root@freescale ~/Application/app$ uname -a\nLinux freescale 2.6.31-207-g7286c01 #2053 Fri Jun 22 10:29:11 IST 2012 armv5tejl GNU/Linux\nCompiler : arm-none-linux-gnueabi-4.1.2 glibc2.5\ncpp libs : libstdc++.so.6.0.8\nQt : 4.7.3 libs\n</code></pre>\n\n<p>Any pointers would be greatly appreciated...</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13129380,"title":"show a dialog before closing the program in Qt","body":"<p>I want to show the dialog before closing the program in Qt whether the user wants to cancel or save the program, i.e. by clicking on cancel the user has chance to return to program with uncleaned state, like windows paint, or notepad in which the aware dialog before closing appear alerting the users?\nby the way I use Qt</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13127140,"title":"Replacing QPen's - How Do I Delete","body":"<p>I am developing a GUI which will allow the user to modify ellipses using mouse/QSpinBox events on top of a background picture.</p>\n\n<p>I want to set it up so that when a user clicks on an ellipse, the ellipse changes color and has been \"selected.\"</p>\n\n<p>I am using QGraphicsView/Scene with QGraphicsEllipseItem.  Here in lies my problem, the <code>setPen(QPen &amp; const)</code> call is a reference thus:</p>\n\n<ul>\n<li>If I allocate a pen on the stack and pass it in, I get a segfault.</li>\n<li>If I allocate a pen on the heap, it doesn't get deleted when I set a new pen</li>\n<li>The accessor method returns a copy of the pen</li>\n</ul>\n\n<p>Anyways, I must be approaching this wrong, could any offer any suggestions?</p>\n\n<p>P.S. - I would like to avoid making yet ANOTHER member variable.  I am going to have many ellipses, each one should not have its own pen variable!</p>\n\n<hr>\n\n<p>This code will cause a segfault:</p>\n\n<pre><code>void MyClass::SetupEllipses()\n{\n    QPen pen();\n    pen.setColor(QColor(255,0,0));\n    pen.setWidth(2);\n\n    m_ellipse = new QGraphicsItemEllipse(); //This is a member variable of MyClass\n    m_ellipse-&gt;setRect(some ssize here);\n    m_ellipse-&gt;setPen(pen);\n\n    m_graphicsview-&gt;scene()-&gt;addItem(m_ellipse); //m_graphicsview is also a member variable of MyClass and has had a scene added to it.\n}\n</code></pre>\n"},{"tags":["c++","qt","qt4","undo"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":862,"score":3,"question_id":4213349,"title":"Implementing Undo feature (like Ctrl+Z) in Qt/C++","body":"<p>I am using <code>Qt 4.5</code> and <code>C++</code> on Windows XP.</p>\n\n<p>Basically I will be having an UI where the user will enter some data. He can go and modify the values available in the UI. The UI will have basic Qt UI elements like <code>QLineEdit</code>,<code>QTableWidget</code> etc.,</p>\n\n<p>So now, if the user presses <code>Undo</code> button (or <kbd>Ctrl+Z</kbd>) the previous value should be retained in the corresponding UI element. </p>\n\n<p>Say, if there is <code>QLineEdit</code> with the text 25. Now the user modifies to 30. Now by clicking Undo, the older value 25 should be retained.</p>\n\n<p>Like the Undo feature that usually available in many applications. Is there any way to do it? </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13112940,"title":"MS Access and QSqlQuery","body":"<p>My english is not very good but i’ll try to describe my problem.\n So, i have primitive code:</p>\n\n<pre><code>    base = QSqlDatabase::addDatabase(\"QODBC\");\n\n QSettings sets(\"FlowModel\",\"Settings\");\n\n currentBase = sets.value(\"currentBase\").toString();\n\n    base.setHostName(\"localhost\");\n\n    base.setDatabaseName(QString(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DBQ=%1\").arg(currentBase));\n\n if(base.open())\n\n  QMessageBox::information(0,\"Все отлично!\",\"База данных открыта\",\"Ок\");\n\n else\n\n  QMessageBox::information(0,\"Все не ахти!\",base.lastError().text(),\"Ок\");\n\n\n\n QSqlQuery queryMaterials(\"SELECT * FROM Материал\",base);\n\n int fieldNo = queryMaterials.record().indexOf(\"Название\");\n\n int i = 0;\n\n while (queryMaterials.next()) {   \n\n  comboBox-&gt;insertItem(i++,queryMaterials.value(fieldNo).toString());\n\n     }\n\n queryMaterials.clear();\n</code></pre>\n\n<p>It works correctly and combo box takes all materials from Database;\nBut next is going this code:</p>\n\n<pre><code>QSqlQuery queryInfo(\"SELECT * FROM Свойства_материала WHERE Название='Вода'\",base);\n\nfieldNo = queryInfo.record().indexOf(\"P\");\n\npLine-&gt;setText(queryInfo.value(fieldNo).toString());\n</code></pre>\n\n<p>And it didn’t work! Query returns an empty string (”“), but must be a number. I test this SQL-query in Access and there it works correct. Please help to understand what a problem i have.\nThank you.\nP.S. I’m tried to use QSqlQuery::lastError().text() method, but it report me nothing.\nI can’t understand what is that… Because this table can be opened by this code:</p>\n\n<pre><code>QSqlDatabase accessBase = QSqlDatabase::addDatabase(\"QODBC\");\n\n accessBase.setHostName(\"localhost\");\n\n accessBase.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DBQ=D:/ИТ.mdb\");\n\n if(accessBase.open())\n\n  QMessageBox::information(0,\"Все отлично!\",\"База данных открыта\",\"Ок\");\n\n else\n\n  QMessageBox::information(0,\"Все не ахти!\",accessBase.lastError().text(),\"Ок\");\n\n QTableView tableGhost;\n\n QSqlTableModel tableDB;\n\n QString whtpn = QInputDialog::getText(0, \"Какую таблицу открыть?\",\n\n   \"Какую таблицу открыть?\");\n\n tableDB.setTable(whtpn);\n\n tableDB.select();\n\n tableDB.setEditStrategy(QSqlTableModel::OnFieldChange);\n tableGhost.setModel(&amp;tableDB);\n\ntableGhost.show();\n</code></pre>\n\n<p>And all ok. But by query no(</p>\n"},{"tags":["c++","qt","aero-glass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13125011,"title":"How to use QDwm in Qt gui application","body":"<p>How can i use the QDwm to extend the aero glass in qt window? I don't found any documentation of how to do this. Link: <a href=\"http://sourceforge.net/projects/qdwm/\" rel=\"nofollow\">http://sourceforge.net/projects/qdwm/</a></p>\n"},{"tags":["c++","qt"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2276,"score":3,"question_id":9370264,"title":"Qt & C++: Error: symbol(s) not found for architecture x86_64, collect2: ld returned 1 exit status","body":"<p>I have been struggling for a while with an issue on Qt.</p>\n\n<p>Here is my code:</p>\n\n<p>hexbutton.h:</p>\n\n<pre><code>#ifndef HEXBUTTON_H\n#define HEXBUTTON_H\n\n#include &lt;QPushButton&gt;\n#include &lt;QWidget&gt;\n#include &lt;QIcon&gt;\n\nclass HexButton : public QPushButton\n{\n    Q_OBJECT\n\npublic:\n    HexButton(QWidget *parent, QIcon &amp;icon, int i, int j);\n\npublic slots:\n    void changeIcon();\n};\n\n#endif // HEXBUTTON_H\n</code></pre>\n\n<p>Hexbutton.cpp:</p>\n\n<pre><code>#include \"hexbutton.h\"\n\nHexButton::HexButton(QWidget *parent, QIcon &amp;icon, int i , int j) : QPushButton(parent){\n    //setFlat(true);\n    setIcon(icon);\n    setGeometry((i*40)+((j*40)/2), j*40, 40, 40);\n}\n\nvoid HexButton::changeIcon(){\n        setIcon(QIcon(\"/Users/jonathanbibas/Documents/Workspace Qt/Test/hexagon.gif\"));\n}\n</code></pre>\n\n<p>MyWindow.h:</p>\n\n<pre><code>#ifndef MYWINDOW_H\n#define MYWINDOW_H\n\n#include &lt;QApplication&gt;\n#include &lt;QWidget&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QLCDNumber&gt;\n#include &lt;QSlider&gt;\n#include &lt;QProgressBar&gt;\n#include \"hexbutton.h\"\n\n\n\nclass MyWindow : public QWidget\n{\n\npublic:\n    MyWindow();\n    ~MyWindow();\n\nprivate:\n    HexButton * myButtons[11][11];\n};\n\n\n\n#endif // MYWINDOW_H\n</code></pre>\n\n<p>MyWindow.cpp:</p>\n\n<pre><code>#include \"MyWindow.h\"\n#include &lt;QColor&gt;\n#include &lt;QIcon&gt;\n\n\nMyWindow::MyWindow() : QWidget() {\n\n\n    setFixedSize(740, 440);\n\n    QIcon icon = QIcon(\"/Users/jonathanbibas/Documents/Workspace Qt/Test/whitehexagon.png\");\n\n    for(int i =0 ; i &lt; 11 ; i ++){\n        for(int j =0 ; j &lt; 11 ; j ++){\n\n\n            myButtons[i][j] = new HexButton(this, icon, i, j);\n\n            QObject::connect(myButtons[i][j], SIGNAL(clicked()), myButtons[i][j], SLOT(changeIcon()));\n        }\n    }\n}\n\n\n\nMyWindow::~MyWindow()\n{\n    delete myButtons;\n\n}\n</code></pre>\n\n<p>And finally, Main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"MyWindow.h\"\n\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n        MyWindow fenetre;\n        fenetre.show();\n\n        return app.exec();\n}\n</code></pre>\n\n<p>Just in case, here is the Test.pro</p>\n\n<pre><code>SOURCES += \\\n    Main.cpp \\\n    MyWindow.cpp \\\n    hexbutton.cpp\n\nHEADERS += \\\n    MyWindow.h \\\n    hexbutton.h\n</code></pre>\n\n<p>And I get the 2 errors:</p>\n\n<p>1) symbol(s) not found for architecture x86_64</p>\n\n<p>2) collect2: ld returned 1 exit status</p>\n\n<p>It also says 121 times (11*11):</p>\n\n<p>Object::connect: No such slot QPushButton::changeIcon() in ../Test/MyWindow.cpp:19</p>\n\n<p>and on the compile output it says:</p>\n\n<p>18:22:15: Running build steps for project Test...\n18:22:15: Configuration unchanged, skipping qmake step.\n18:22:15: Starting: \"/usr/bin/make\" -w\nmake: Entering directory <code>/Users/jonathanbibas/Documents/Workspace Qt/Test-build-desktop-Desktop_Qt_4_8_0_for_GCC__Qt_SDK__Debug'\ng++ -c -pipe -g -gdwarf-2 -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -Wall -W -DQT_GUI_LIB -DQT_CORE_LIB -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/mkspecs/macx-g++ -I../Test -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/lib/QtCore.framework/Versions/4/Headers -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include/QtCore -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/lib/QtGui.framework/Versions/4/Headers -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include/QtGui -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include -I. -I../Test -I. -F/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -o hexbutton.o ../Test/hexbutton.cpp\ng++ -headerpad_max_install_names -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -o Test.app/Contents/MacOS/Test Main.o MyWindow.o hexbutton.o moc_MyWindow.o   -F/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -L/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -framework QtGui -framework QtCore \nUndefined symbols for architecture x86_64:\n  \"vtable for HexButton\", referenced from:\n      HexButton::HexButton(QWidget*, QIcon&amp;, int, int)in hexbutton.o\n      HexButton::HexButton(QWidget*, QIcon&amp;, int, int)in hexbutton.o\n  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\nmake: *** [Test.app/Contents/MacOS/Test] Error 1\nmake: Leaving directory</code>/Users/jonathanbibas/Documents/Workspace Qt/Test-build-desktop-Desktop_Qt_4_8_0_for_GCC__Qt_SDK__Debug'\n18:22:20: The process \"/usr/bin/make\" exited with code 2.\nError while building project Test (target: Desktop)\nWhen executing build step 'Make'</p>\n\n<p>Apparently the error comes from the Q_OBJECT (needed for the slots definition), but there is something wrong with my code, not with my compiler (because I have when slots are in MainWindow, it works fine).</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["c++","qt","winapi"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":192,"score":1,"question_id":11813782,"title":"Using Win32 API in QT for Windows","body":"<p>i'm migrating from .net C# to QT C++, and I'm trying to use this Win32 function to emulate drive in QT:</p>\n\n<pre><code>[DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\nprivate static extern bool DefineDosDevice(int flags, string devname, string path);\n\n[DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\nprivate static extern int QueryDosDevice(string devname, StringBuilder buffer, int bufSize);\n</code></pre>\n\n<p>The code above is in C# but i'm have no idea how to use them in QT, someone can give me an example how to do this and how to use any Win32 API in QT?</p>\n"},{"tags":["qt","qt4","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13119534,"title":"Resize images inside qt-label","body":"<p>I have a qt label which by default has a place holder image in it:</p>\n\n<pre><code>self.label.setPixmap(QtGui.QPixmap(_fromUtf8(\"place_holder.jpg\")))\n</code></pre>\n\n<p>There is a function to update the image contained in the label which is:</p>\n\n<pre><code>def selectFile(self):\nimage = QtGui.QFileDialog.getOpenFileName(None, 'Select Reference Image', '', '*.jpg')\nself.label.setPixmap(QtGui.QPixmap(_fromUtf8(image)))\n</code></pre>\n\n<p>This works fine (the image is updated), but it is also deformed if the image used to update the label has different size from the place holder image.</p>\n\n<p>Is there any way to fix this? I mean to adapt the image and to keep fix the size of the label?</p>\n"},{"tags":["qt","permissions","qdir"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13081612,"title":"QDir::mkPath and Permissions","body":"<p>I am working on Ubuntu 12.04 LTS and 10.04 LTS platforms and I am having a problem with QDir::mkPath.\nI am trying to create a path using mkPath, lets say /john/play/games and then copy a file game.htm to the /home/john/play. After I copy the file I set the permissions on the file to rwxr - - r - -. So that 3rd party applications can read the file game.htm. But the directories /john, /john/play and /john/play/games are created with permissions drwxr - x - - - due to which other applications and other users are not able to read the file game.htm.</p>\n\n<p>I have also observed in a different application that the same QDir::mkpath creates the dir with drwxr - xr - x . I want to understand with what permissions does QDir::mkpath creates the directories and how to control or set the permissions.</p>\n"},{"tags":["c++","regex","qt","directory","nsregularexpression"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":90,"score":0,"question_id":13122492,"title":"Regular expression for valid folder name c++ (windows)","body":"<p>I am trying to valid a given folder name using a regular expression, I tried some tests and it works fine, please let me know if I am totally safe or  my reg expression miss something:</p>\n\n<pre><code> QRegExp regExp(\"^( [a-zA-Z] )( ( [a-zA-Z_\\-\\s0-9\\.\\)\\(] )( [^\\\\!@#$%^&amp;/:*?&lt;&gt;\"\"|]* ) )*$\" );\n        QStringList ForbidenNameU;\n        ForbidenNameU&lt;&lt;\"CON\"&lt;&lt;\"PRN\"&lt;&lt;\"AUX\"&lt;&lt;\"NUL\"&lt;&lt;\"COM\"&lt;&lt;\"COM1\"&lt;&lt;\"COM2\"&lt;&lt;\"COM3\"&lt;&lt;\"COM4\"&lt;&lt;\"COM5\"&lt;&lt;\"COM6\"&lt;&lt;\"COM7\"&lt;&lt;\"COM8\"&lt;&lt;\"COM9\"&lt;&lt;\"LPT\"&lt;&lt;\"LPT1\"&lt;&lt;\"LPT2\"&lt;&lt;\"LPT3\"&lt;&lt;\"LPT4\"&lt;&lt;\"LPT5\"&lt;&lt;\"LPT6\"&lt;&lt;\"LPT7\"&lt;&lt;\"LPT8\"&lt;&lt;\"LPT9\";\n        QStringList ForbidenName;\n        ForbidenName&lt;&lt;\"con\"&lt;&lt;\"prn\"&lt;&lt;\"aux\"&lt;&lt;\"nul\"&lt;&lt;\"com\"&lt;&lt;\"com1\"&lt;&lt;\"com2\"&lt;&lt;\"com3\"&lt;&lt;\"com4\"&lt;&lt;\"com5\"&lt;&lt;\"com6\"&lt;&lt;\"com7\"&lt;&lt;\"com8\"&lt;&lt;\"com9\"&lt;&lt;\"lpt\"&lt;&lt;\"lpt1\"&lt;&lt;\"lpt2\"&lt;&lt;\"lpt3\"&lt;&lt;\"lpt4\"&lt;&lt;\"lpt5\"&lt;&lt;\"lpt6\"&lt;&lt;\"lpt7\"&lt;&lt;\"lpt8\"&lt;&lt;\"lpt9\";\n\n        if((Dirname-&gt;text().contains(regExp))&amp;&amp; !ForbidenNameU.contains(Dirname-&gt;text())&amp;&amp; !ForbidenName.contains(Dirname-&gt;text()))\n        {\n            validname=true;\n            qDebug()&lt;&lt;\"match in dir name = \"&lt;&lt;regExp.cap(0);\n            emit completeChanged();\n        }...\n</code></pre>\n\n<p>PS(I don't want to use <code>GetInvalidFileNameChars()</code> or any other api )</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c++","windows","qt","memory","memory-leaks"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13122851,"title":"How to Detect Memory leaks for Qt windows desktop application, using QtCreator","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4527325/memory-leak-checking-on-windows-with-qt-and-mingw32\">Memory leak checking on Windows with QT and MinGW32</a>  </p>\n</blockquote>\n\n\n\n<p>I have looked for a solution to this problem for a while, and have not been able to find anything. I need to be able to detect small memory leaks in my Qt application, which I develop in QtCreator. <a href=\"http://stackoverflow.com/questions/6825376/how-to-detect-memory-leaks-in-qtcreator-on-windows\">this question</a> talks about detecting Qt memory leaks in Qt applications, but not through QtCreator. I would run my application on a linux machine and use Valgrind, but I have some windows specific stuff in it, so it's not fully portable. Can anyone help?</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13121554,"title":"Howto serialize and deserialize between unknown typedef struct and QByteArray","body":"<p>I am an absolute beginner to C++ and Qt.</p>\n\n<p>I am broadcasting different data via tcp using Qt. The process of sending and retrieving data works fine but I have problems on interpreting the data on the receivers side.</p>\n\n<p>The data is represented in different structs which have in common that they have a commandId and a state. The rest could be anything like an error message, a filename or something else. This code is not written on my own and I am not allowed to change it (e.g: define and implement a common interfaces...)</p>\n\n<pre><code>typedef struct\n{\n  uint8_t commandId;\n  State state;\n  //special data\n  QString errorMessage;\n} Command1;\n\ntypedef struct\n{\n  uint8_t commandId;\n  State state;\n  //special data\n  uint8_t amountSensors;\n} Command2;\n\nenum State {\n  STATID_PAUSE = 50000\n  STATID_RECORD = 50001\n  STATID_PLAY = 50002\n  STATID_ERROR = 50003\n}\n</code></pre>\n\n<p>The sender is converting a struct into a QByteArray this way:</p>\n\n<pre><code>Command1 example;\nexample.commandId = 134;\nexample.state = STATID_ERROR;\n\nchar *p_Char;\np_char = reinterpret_cast&lt;char*&gt;(&amp;example);\nQByteArray qba(p_char, sizeof(p_char));\n</code></pre>\n\n<p>Now I have to write a receiver, but the receiver doesn't know what he gets (Command1, Command2 or something else). He would be able to interpret if he could read out the commandId and the state.</p>\n\n<p>At this moment I am able to read out the commandId   like this:</p>\n\n<pre><code>commandId = static_cast&lt;uint8_t&gt;(qba[0]);\n</code></pre>\n\n<p>but how could I read out the <code>State</code> which is an <code>enum</code>?</p>\n"},{"tags":["qt","drag-and-drop","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12668797,"title":"Qt: Reordering ListView Items using drag and drop","body":"<p>I have implemented the following methods for drag and drop</p>\n\n<pre><code>void mousePressEvent(QMouseEvent *event);\nvoid dragEnterEvent(QDragEnterEvent *event);\nvoid dragMoveEvent(QDragMoveEvent *event);\nvoid dropEvent(QDropEvent *event);\nvoid startDrag(Qt::DropActions supportedActions);\n</code></pre>\n\n<p>I have a QListView and have used setIndexWidget() to show a custom widget at each modelindex. I am trying to arrange the items in the listview using drag and drop, However the items in the listview are not arranged properly, I have written the following code:-</p>\n\n<pre><code>MyListView::MyListView(QWidget *parent) :\n    QListView(parent)\n{\n    setSelectionMode(QAbstractItemView::SingleSelection);\n    setDragEnabled(true);\n    setAcceptDrops(true);\n    setDragDropMode(QAbstractItemView::InternalMove);\n    setDefaultDropAction(Qt::MoveAction);\n    setDropIndicatorShown(true);\n    setDragDropOverwriteMode(true);\n    setMovement(QListView::Snap);\n    setFlow(QListView::TopToBottom);\n//    setStyleSheet(\"QListView::item {\"\n//                  \"height: 50px;\"\n//                  \"border: 1px solid black;}\");\n}\n\nvoid MyListView::setModel(QAbstractItemModel *model)\n{\n    QListView::setModel(model);\n\n    for (int i=0; i&lt;model-&gt;rowCount(); i++)\n    {\n        QModelIndex index = model-&gt;index(i,0);\n        ListWidgetItem *widget = new ListWidgetItem;\n        widget-&gt;setIndex(i);;\n        setIndexWidget(index,widget);\n    }\n}\n\nvoid MyListView::mousePressEvent(QMouseEvent *event)\n{\n    QModelIndex i = indexAt(event-&gt;pos());\n    if (event-&gt;button() ==  Qt::LeftButton)\n    {\n        ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(event-&gt;pos()));\n\n        if (!item)\n            return;\n\n        y = event-&gt;pos().y()-item-&gt;pos().y();\n\n        QModelIndex indx = indexAt(event-&gt;pos());\n        currentPixmap = QPixmap::grabWidget(item);\n        dragPoint = event-&gt;pos();\n        if (event-&gt;pos().x() &lt; 25 &amp;&amp; indx.row() &gt;= 0)\n            startDrag(Qt::MoveAction);\n    }\n}\n\nvoid MyListView::dragEnterEvent(QDragEnterEvent *event)\n{\n   if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\"))\n   {\n       event-&gt;accept();\n   }\n    else\n        event-&gt;ignore();\n}\n\nvoid MyListView::dragMoveEvent(QDragMoveEvent *event)\n{\n    ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(event-&gt;pos()));\n    if(!item)\n        return;\n\n    itemList.append(item);\n\n    foreach (ListWidgetItem *widget,itemList)\n    {\n        if (widget == item)\n            widget-&gt;setStyleSheet(\"#ListWidget { border-top: 2px solid red; }\");\n        else\n            widget-&gt;setStyleSheet(\"#ListWidget { border-top: 0px solid black; }\");\n    }\n    if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\"))\n    {\n        event-&gt;setDropAction(Qt::MoveAction);\n        event-&gt;accept();\n    } else\n        event-&gt;ignore();\n}\n\nvoid MyListView::dropEvent(QDropEvent *event)\n{\n    if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\")) {\n        QByteArray itemData = event-&gt;mimeData()-&gt;data(\"application/x-QListView-DragAndDrop\");\n        QDataStream dataStream(&amp;itemData,QIODevice::ReadOnly);\n\n        QPoint itemPoint;\n        dataStream &gt;&gt; itemPoint;\n\n        ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt; (childAt(itemPoint));\n        if(!item)\n            return;\n\n        QModelIndex index = indexAt(event-&gt;pos());\n        int row = index.row();\n        model()-&gt;insertRows(row,1);\n\n        QModelIndex idx =model()-&gt;index(row,0);\n        setIndexWidget(idx,item);\n\n        if (event-&gt;source() == this) {\n            event-&gt;setDropAction(Qt::MoveAction);\n            foreach (ListWidgetItem *widget,itemList)\n            {\n                widget-&gt;setStyleSheet(\"#ListWidget { border-top: 0px solid black; }\");\n            }\n            itemList.clear();\n//            model()-&gt;removeRow(n+1);\n\n            event-&gt;accept();\n        }\n    } else{\n        event-&gt;ignore();\n    }\n}\n\nvoid MyListView::startDrag(Qt::DropActions supportedActions)\n{\n    QByteArray itemData;\n    QDataStream dataStream(&amp;itemData, QIODevice::WriteOnly);\n\n    ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(dragPoint));\n\n    dataStream &lt;&lt; dragPoint;\n\n    QMimeData *mimeData = new QMimeData;\n    mimeData-&gt;setData(\"application/x-QListView-DragAndDrop\", itemData);\n\n    drag = new QDrag(this);\n    drag-&gt;setMimeData(mimeData);\n    drag-&gt;setHotSpot(mapToParent(QPoint(item-&gt;x(),y)));\n    drag-&gt;setPixmap(currentPixmap);\n\n    QModelIndex indx = indexAt(dragPoint);\n    if (drag-&gt;exec(Qt::MoveAction | Qt::CopyAction) == Qt::MoveAction)\n     {\n        model()-&gt;removeRow(indx.row());\n     }\n\n}\n</code></pre>\n\n<p>I have searched but didnt get any proper solution.\nThanks</p>\n"},{"tags":["multithreading","qt","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13121310,"title":"Adding signal to custom Qthread","body":"<p>I´m trying to add a signal to my qthread, but I get an some errors: </p>\n\n<p>error: undefined reference to `vtable for RFDongleCommunication'</p>\n\n<p>error: undefined reference to `RFDongleCommunication::newLogger(unsigned char, unsigned char)'</p>\n\n<p>This is my header file:</p>\n\n<pre><code>#ifndef RFDONGLECOMMUNICATION_H\n#define RFDONGLECOMMUNICATION_H\n#include &lt;QThread&gt;\n#include \"qextserialport.h\"\n#include &lt;QtGui&gt;\n\nclass RFDongleCommunication: public QThread\n{\n    Q_OBJECT\n\npublic:\n    explicit RFDongleCommunication(QextSerialPort * port);\n\n    QextSerialPort * rfport;\n    QByteArray data;\n\nsignals:\n\n    void newLogger(uchar,uchar);\n\nprivate:\n\n    void run();\n\n};\n\n#endif // RFDONGLECOMMUNICATION_H\n</code></pre>\n\n<p>And the cpp file</p>\n\n<pre><code>#include \"rfdonglecommunication.h\"\n#include \"QDebug\"\n\nRFDongleCommunication::RFDongleCommunication(QextSerialPort * port)\n{\n    rfport=port;\n}\n\nvoid RFDongleCommunication::run()\n{\n    while(!(rfport-&gt;bytesAvailable()));\n    data = rfport-&gt;readAll();\n\n    uchar id = data[1];\n    uchar type = data[2];\n    emit newLogger(id,type); \n}\n</code></pre>\n\n<p>Does anybody see what I´m doing wrong?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13120486,"title":"Adjusting QPen thickness when scaling QGraphicsView?","body":"<p>One amazing feature of <code>QGraphicsView</code> is its ability to scale itself with its scene's content (every QGraphicsItem inserted in the scene actually). The <code>QPixmap</code> that I have inserted scales correctly, meaning that if I provide a scale factor of 4x4 with this:</p>\n\n<pre><code>view-&gt;scale(4,4);\n</code></pre>\n\n<p>Pixmap are zoomed as I want to do.</p>\n\n<p>But this is not the case of the rects that I am used to drawing; they aims to surrounds the pixmaps that I draw on my scene and regardless of the scale factor, they keep a thickness of 1 instead of - I guess - 4.</p>\n\n<p>I have been searching documentation about all of that stuff, trying to figure out the exact purpose of \"cosmetics pen\", but I still can't manage to make my rectangle go thicker.</p>\n\n<p>Last notice: I have a custom <code>QGraphicsItem</code> and the QPen which is used to draw the rectangled is instanciated on-the-fly in the </p>\n\n<pre><code>virtual void paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget *widget);\n</code></pre>\n\n<p>method.</p>\n\n<p>Does it matter?</p>\n\n<p>Thanks in advance and apologies for my lack of experience / knowledge in both the Qt framework and the drawing algorithms fields...</p>\n"},{"tags":["qt","compiler-errors"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1213,"score":3,"question_id":2872005,"title":"qt moc.exe error","body":"<p>i'm using QT Creator 1.3.1 and trying to compile, but get this error...\nplease help me get rid of it</p>\n\n<pre><code>mingw32-make[1]: Leaving directory `C:/Documents and Settings/eyalk/My Documents/My QT Projects/XML'\nmingw32-make: Leaving directory `C:/Documents and Settings/eyalk/My Documents/My QT Projects/XML'\n'C:/Qt/2010.02.1/qt/bin\\moc.exe' is not recognized as an internal or external command,\noperable program or batch file.\nmingw32-make[1]: *** [debug/moc_mainwindow.cpp] Error 1\nmingw32-make: *** [debug] Error 2\nExited with code 2.\nError while building project XML\nWhen executing build step 'Make'\n</code></pre>\n"},{"tags":["qt","installation","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13120443,"title":"Qt Creator issue : Cannot open include file: ‘windows.h’","body":"<p>I have installed ‘Qt Creator 2.4.1 Based on Qt 4.7.4 (32 bit)’ on Windows 7 with Visual studio 2008. But on creating the basic project am getting following error :</p>\n\n<pre><code> c:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\\..\\win32-msvc2005\\qplatformdefs.h:67: \nerror: C1083: Cannot open include file: 'windows.h': No such file or directory\n</code></pre>\n\n<p>Also I checked the windows.h its present in following location : C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0A\\Include\\</p>\n\n<p>I would like to mention that I can’t use the MinGW target due to project specifications.</p>\n\n<p>Requesting everyone to help me out of this situation.</p>\n"},{"tags":["c++","qt","modal-dialog","messagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13118914,"title":"Modal QMessageBox does not behave like native Windows dialogs","body":"<p>My application has a dialog that asks the user via a <code>QMessageBox</code> whether he wants to discard all changes he made or wants to keep editing. I want this dialog to be modal to the whole application.</p>\n\n<p>I read somewhere that this is the standard behavior for a <code>QMessageBox</code>, so I dont have to set it explicitly with something like:</p>\n\n<pre><code>mbox.setWindowModality(Qt::ApplicationModal);\n</code></pre>\n\n<p>I wonder why it behaves differently from other modal dialogs in the OS (Windows 7 in my case). On the one hand it functions like it should, i.e. all other input methods in the application are blocked until the user answeres the dialog. However, it doesn't 'blink'* if the user clicks any other window of the application. Is there any way to get Qt to behave like a native Windows dialog?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>*<em>If you don't know what I mean with this 'blinking': Just open notepad on a Windows OS, type some text and try to close it. A dialog pops up that asks to save, discard or keep editing. Now click somewhere on the editor window -> the border and titlebar of the dialog flashes/blinks a few times.</em></p>\n"},{"tags":["qt","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13118549,"title":"Qt: how do I populate QTableWidget with data from table?","body":"<p>I have a QTableWidget and need to fill it with data from a db table. How do I do it?</p>\n\n<p>I previously used QTableView:</p>\n\n<pre><code>ui-&gt;tableView-&gt;setModel(model);\n</code></pre>\n\n<p>I hoped there would be a similar way for QTableWidget, but this class does not have setModel method. What is the basic approach?</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","layout","widget"],"answer_count":9,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":2134,"score":8,"question_id":1874426,"title":"Hiding Qt widget and keeping widget space","body":"<p>In a simple form I made a few buttons and put a horizontal layout. When mouse leaves the area one of the buttons, the last one, should be hided. Using button->hide() it works, but all the buttons are rearranged by the layout manager. What I want is that all other buttons continue in their positions. I tried replacing the widget with a widget place holder and swapping the button and placeholder hide()/show(), calling placeholder->resize(button->size()), but the layout manager don't respect the resize and the placeholder is set with its minimum size. What is the best way to remove a widget and keeping its space?</p>\n"},{"tags":["qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13118307,"title":"Qt: QTableView how to add a row?","body":"<p>I have got a QTableView with data in it. What is the simplest way to add a row?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","class","data","static"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":13111944,"title":"C++ static class for data storing","body":"<p>I'm pretty new to C++ language. I'm using it with Qt to create a cross-platform user interface.\nThe user interface will show different graphs and plots by using the same data. So I would like to have my data stored in a class (Data_Class) accessible from all the other classes.\nIn the data class, I am using private static variables and public static methods (get/set).</p>\n\n<p>What is not clear to me is how to access the data class from the other classes. In other words, how to get data values in Class_B (from Data_Class) after I write them in Class_A (to Data_Class).\nThanks in advance!</p>\n"},{"tags":["qt","memory-leaks","model","qthread","qtreeview"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":13117869,"title":"QThread and creating new object for main gui thread","body":"<p>Good day, now i write program where a use QThread and derived work to some long task.I have a model and subclass of QTreeView, i create root node for model in main guithread then i separate my work to some threads code like this: </p>\n\n<pre><code>struct node:public QObject\n        {\n            node(node *parent):QObject(parent){}\n        };\n        class ModelEx:public QAbstractItemModel\n        {\n        Q_SLOTS:\n            void inserted(node *item)\n            {\n                beginInsertRows()\n                    root-&gt;insert(item);\n                endInsertRows()\n            }\n        };\n        class Worker: public QThread\n        {\n        public: Worker(node *root,QString driver_name):root_(root),is_stop(false){}\n                void run()\n                {\n                     node *drive = new node(nullptr);\n                     root-&gt;add_node(drive);\n                    while(is_stop)\n                    {\n                        //many many nodes create here\n                        node *child = new node(drive);\n                        insert(child);\n                    }\n                      drive-&gt;moveToThread(root_-&gt;threadid());\n                      drive-&gt;setParent(root_);\n                }\n                void stop()\n                {\n                    is_stop=true;\n                }\n        Q_SIGNALS:\n            void insert(node *);\n        private:\n            node *root_;\n            bool is_stop;\n        }\n        //in main thread:\n            node *root_s = new node();\n            ModelEx *model = new ModelEx(root_s);\nQStringList drives = QDir::drives()\nfor(auto it = drives.begin();it!=drives.end;++it)\n{\n            Worker worker* =new Worker(root_s,*it);            \n            connect(worker,SIGNAL(insert(node *)),model,SLOT(inserted(node *item)));\n    worker-&gt;start();\n}\n</code></pre>\n\n<p>in this code in each thread i create new nodes notify my model where this nodes inserted to the tree and in end run function i want to move all generated sub tree connect to main root, but my view not display anything,why? and how can i solve my main problem fill tree in separated threads and refresh model immediate?And i would like to get tree which delete subnodes when parent deleted, it is famous for my. </p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13117297,"title":"why QProcess doesn't work properly?","body":"<p>I want zip and unzip a file with <code>QProcess</code> class. This part of code didn't work for me but it works in another program:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QProcess&gt;\n#include &lt;QDebug&gt;\n#include &lt;QFile&gt;\nint main(int argc, char *argv[])\n\n{\n    QCoreApplication a(argc, argv);\n    QString fileName = \"C:/1.xml\";\n    QFile::setPermissions( fileName , QFile::ReadOther | QFile::WriteOther | File::ExeOther ); \n    QProcess *myProcess = new QProcess();\n    myProcess-&gt;setStandardErrorFile(\"C:/tidy-output.txt\");\n    QStringList arguments;\n    arguments &lt;&lt; \"-r\" &lt;&lt; fileName &lt;&lt; \"OPS\";\n    myProcess-&gt;start(\"zip\", arguments);\n\n    if( !myProcess-&gt;waitForFinished() )\n        return -1;\n\n    if( myProcess-&gt;exitCode() != 0 )\n        qDebug() &lt;&lt; \"zip exit code: \" &lt;&lt; myProcess-&gt;exitCode();//return 3\n\n    delete myProcess;\n    qDebug() &lt;&lt; \"Done.\";\n\n    return a.exec();\n}\n</code></pre>\n\n<p>But this part of code works for tidy program with this ghange:</p>\n\n<pre><code>QString tmpFilename = \"C:/1.xml\";\nQFile::setPermissions( tmpFilename , QFile::ReadOther | QFile::WriteOther | QFile::ExeOther  );\n\n// run them through HTML Tidy first\nQProcess *myProcess = new QProcess();\n    myProcess-&gt;setStandardErrorFile(\"C:/tidy-output.txt\");\nQStringList arguments;\n    arguments &lt;&lt; \"-utf8\" &lt;&lt; \"-asxhtml\" &lt;&lt; \"-m\" &lt;&lt; tmpFilename;\nmyProcess-&gt;start(\"tidy\", arguments);\n\nif( !myProcess-&gt;waitForFinished() )\n    return -1;\nif( myProcess-&gt;exitCode() == 2 )\n    qDebug() &lt;&lt; \"tidy exit code: \" &lt;&lt; myProcess-&gt;exitCode();\n\nqDebug() &lt;&lt; \"Done.\";\n</code></pre>\n"},{"tags":["qt","ms-access"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13117498,"title":"Qt, strange behaviour of query to *.mdb","body":"<p>Good day for all! I write code:</p>\n\n<pre><code>AccessDBWorker::AccessDBWorker()\n{\n    mDb = QSqlDatabase::addDatabase(\"QODBC\");\n    mDb.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DSN='';DBQ=C:\\\\Base\\\\base.mdb\");\n    if (!mDb.open()) \n    {\n        qDebug() &lt;&lt; \"opening failed\";\n    }\n    QSqlQuery query;\n    query.prepare(\"SELECT * FROM Stations\");\n    if( query.exec() )\n    {\n        while( query.next() )\n        {\n            QVariant id        = query.value(1);\n        }\n    }\n}\n</code></pre>\n\n<p>It works good. But when I take out query execution to other method i receive error: \"driver not loaded\". Why???</p>\n\n<pre><code>AccessDBWorker::AccessDBWorker()\n{\n    mDb = QSqlDatabase::addDatabase(\"QODBC\");\n    mDb.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DSN='';DBQ=C:\\\\Base\\\\base.mdb\");\n    if (!mDb.open()) \n    {\n        qDebug() &lt;&lt; \"opening failed\";\n    }\n}\n\nvoid AccessDBWorker::GetList()\n{\n     QSqlQuery query;\n     bool r = query.prepare(\"SELECT * FROM Stations\");\n     if( query.exec() )\n     {\n         while( query.next() )\n         {\n        int id = query.value(1).toInt();\n         }\n     }\n     qDebug() &lt;&lt; mDb.lastError(); // Error: driver not loaded\n</code></pre>\n\n<p>When i use QSQLITE driver and base.sqlite, this code works fine.</p>\n\n<p>Thank you. Sorry for my english.</p>\n"},{"tags":["c++","qt","gcc","windows-vista","stack-size"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13113971,"title":"Setting stack size with GCC 4.6.2 C++ Qt, MinGW, Vista","body":"<p>I want to increase the stack size of my program because I have a complex recursive algorithm it would be a REAL pain to rewrite iteratively.</p>\n\n<p>I am using GCC C++ 4.6.2. MinGw, building with a Qt .pro file (I'm using Qt for the GUI front end), on Vista.</p>\n\n<p>Advice on this website is to use:-</p>\n\n<pre><code>gcc -Wl,--stack,4194304\n</code></pre>\n\n<p>and to send this to the g++ link phase with:-</p>\n\n<pre><code>LIB += -Wl,--stack,4194304\n</code></pre>\n\n<p>but the linker errors with:-</p>\n\n<blockquote>\n  <p>g++: error: unrecognized option '--stack,4194304'</p>\n</blockquote>\n\n<p>I have tried sending the options to the compile phase with QMAKE_CXXFLAGS += but g++ still barfs.</p>\n\n<p>The only option that does not barf is -fno-stack-limit from the GCC documentation (.pdf 4.5.0, p.260), but my stack still overflows. The other options mentioned in that para. barf.</p>\n"},{"tags":["qt","modal-dialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13116863,"title":"Qt show modal dialog (.ui) on menu item click","body":"<p>I want to make a simple 'About' modal dialog, called from Help->About application menu. I've created a modal dialog window with QT Creator (.ui file). </p>\n\n<p>What code should be in menu 'About' slot?</p>\n\n<p>Now I have this code, but it shows up a new modal dialog (not based on my about.ui):</p>\n\n<pre><code>void MainWindow::on_actionAbout_triggered()\n{\n    about = new QDialog(0,0);\n    about-&gt;show();\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13115577,"title":"QWebView Memory Leak","body":"<p>this is  code</p>\n\n<pre><code>QWebView* webView=new QWebView(this); \n webView-&gt;page()-&gt;setLinkDelegationPolicy(QWebPage::DelegateAllLinks);\nwebView-&gt;load(QUrl(newsUrl));\n</code></pre>\n\n<p>After Delete any case, there will be some memory can not be deleted</p>\n"},{"tags":["java","c++","android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3735,"score":1,"question_id":5422931,"title":"How to build my HelloWorld Android application with Necessitas (qt port)?","body":"<p>I have ant 1.8.2. Latest version of Android SDK, NDK. Thats my build log.</p>\n\n<pre><code>Running build steps for project test2...\nConfiguration unchanged, skipping qmake step.\nStarting: \"/usr/bin/make\" -w\nmake: Вход в каталог `/home/andrew/work/qt/test2-build-android'\nmake: Цель `first' не требует выполнения команд.\nmake: Выход из каталога `/home/andrew/work/qt/test2-build-android'\nThe process \"/usr/bin/make\" exited normally.\nCopy Qt app &amp; libs to Android package ...\nStripping libraries, please wait\nCreating package file ...\nPackage Creation: Running command '/home/andrew/eclipse/apache-ant-1.8.2/bin/ant debug'\nBuildfile: /home/andrew/work/qt/test2/android/build.xml\n\n    [setup] Android SDK Tools Revision 10\n\n    [setup] Project Target: Android 1.5\n    [setup] API level: 3\n    [setup] \n    [setup] ------------------\n    [setup] Resolving library dependencies:\n    [setup] No library dependencies.\n    [setup] \n    [setup] ------------------\n    [setup] \n    [setup] WARNING: No minSdkVersion value set. Application will install on all Android versions.\n    [setup] \n    [setup] Importing rules file: tools/ant/main_rules.xml\n\n-debug-obfuscation-check:\n\n-set-debug-mode:\n\n-compile-tested-if-test:\n\n-pre-build:\n\n-dirs:\n     [echo] Creating output directories if needed...\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/bin\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/gen\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/bin/classes\n\n-aidl:\n     [echo] Compiling aidl files into Java classes...\n\n-renderscript:\n     [echo] Compiling RenderScript files into Java classes and RenderScript bytecode...\n\n-resource-src:\n     [echo] Generating R.java / Manifest.java from the resources...\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'largeScreens' in package 'android'\n\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'normalScreens' in package 'android'\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'anyDensity' in package 'android'\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'smallScreens' in package 'android'\n\nBUILD FAILED\n/home/andrew/eclipse/android-sdk-linux_x86/tools/ant/main_rules.xml:310: null returned: 1\n\nTotal time: 1 second\nPackaging Error: Command '/home/andrew/eclipse/apache-ant-1.8.2/bin/ant debug' failed.Exit code: 1\nError while building project test2 (target: Android)\nWhen executing build step 'Packaging for Android'\n</code></pre>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13109128,"title":"PyQt QAbstractTableModel never updates when rows are added","body":"<p>I've got a PyQt <code>QTableView</code>, hooked up to a <code>QAbstractTableModel</code>, which itself is hooked up to a custom class managing a list of items.  I can insert an item on the end of the list, and it appropriately notifies my model, which then calls <code>beginInsertRows</code> and <code>endInsertRows</code>.  I can verify that it calls both those functions, and the list has updated itself, but the table never calls <code>data</code> to retrieve the updated rows.</p>\n\n<p>What's going on?  How can I fix it?</p>\n\n<pre><code>class FigureTableModel(QAbstractTableModel):\n    def __init__(self):\n        QAbstractTableModel.__init__(self)\n\n        def changed(index):\n            start_index = self.createIndex(index, 0)\n            end_index = self.createIndex(index, COLUMNS - 1)\n            self.dataChanged.emit(start_index, end_index)\n\n        def adding_row(index):\n            self.beginInsertRows(self.createIndex(0, 0), index, index)\n            print 'adding ', index\n\n        def added_row(index):\n            self.endInsertRows()\n            print 'added'\n\n        figures.dataChanged.connect(changed)\n        figures.rowAdding.connect(adding_row)\n        figures.rowAdded.connect(added_row)\n\n    def rowCount(self, parent):\n        return len(figures)\n\n    def columnCount(self, parent):\n        return COLUMNS\n\n    def data(self, index, role):\n        print 'in data'\n        if not index.isValid():\n            return EMPTY\n\n        return figures[index.row()].get_table_item(index.column(), role)\n</code></pre>\n"},{"tags":["c++","qt","dll","so"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12763194,"title":"QPluginLoader instance always returns null","body":"<p>I am in the process of building a Qt application. While I have programmed lots of GUI things before and the framework itself isn't presenting a problem, I have not ever programmed anything (outside of C# .NET applications) that has the capability to load plugins. The project I am trying to build has plugins as an integral part of it and I thought the Qt framework looked nice for this because it was almost universally cross-platform and seems to have a very nice system for plugins.</p>\n\n<p>My problem is this: <em>I can't seem to get the QPluginLoader.instance() method to return anything but a null value</em>.</p>\n\n<p>From my readings, this is because it finds no plugin. I think I am probably forgetting to do something, but I can find very little documentation on actually writing plugins (there are examples, but they aren't incredibly detailed). There are plenty of examples of loading plugins and I think I am doing that right, but I haven't really found an example of actually making a plugin.</p>\n\n<p>This is what I have done:</p>\n\n<p>Using Qt-Creator I have created two projects: A windowed application to pretend that it is my plugin receiving application and a Shared Library project to pretend to be the plugin</p>\n\n<p>In my windowed application I have a header file as follows:</p>\n\n<pre><code>#ifndef PLUGININTERFACE_H\n#define PLUGININTERFACE_H\n\n#include &lt;QtPlugin&gt;\n\nclass QStringList;\n\nclass PluginInterface\n{\npublic:\n    virtual ~PluginInterface() {};\n\n    virtual QStringList messages() const = 0;\n};\n\nQ_DECLARE_INTERFACE(PluginInterface,\n                    \"com.kevincuzner.LearningPlugins.PluginInterface/1.0\")\n\n#endif // PLUGININTERFACE_H\n</code></pre>\n\n<p>In my shared library application I created a class called ATestPlugin (and this is also the TARGET value of the project):</p>\n\n<pre><code>#ifndef ATESTPLUGIN_H\n#define ATESTPLUGIN_H\n\n#include \"ATestPlugin_global.h\"\n#include \"../LearningPlugins/PluginInterface.h\"\n\n#include &lt;QStringList&gt;\n\n\nclass ATESTPLUGINSHARED_EXPORT ATestPlugin : public PluginInterface, public QObject\n{\n\n    Q_OBJECT\n    Q_INTERFACES(PluginInterface)\n\npublic:\n    ATestPlugin();\n\n    virtual QStringList messages() const\n    {\n        //this part is actually defined in the .cpp file, but I don't feel like pasting that here\n        QStringList ret;\n        ret &lt;&lt; \"foo\" &lt;&lt; \"bar\" &lt;&lt; \"noms\" &lt;&lt; \"Hello\";\n\n        return ret;\n    }\n};\n\n#endif // ATESTPLUGIN_H\n</code></pre>\n\n<p>At the end of the ATestPlugin.cpp file I have placed <code>Q_EXPORT_PLUGIN2(ATestPlugin, ATestPlugin)</code></p>\n\n<p>Then in my main.cpp file in the main method I do the following (&amp;w points to the main window):</p>\n\n<pre><code>QString text = QFileDialog::getOpenFileName(&amp;w, \"Get a file\");\nQPluginLoader loader(text);\nQObject* plugin = loader.instance();\nif (plugin)\n{\n    QMessageBox msgBox;\n    msgBox.setText(text);\n    msgBox.exec();\n}\n</code></pre>\n\n<p>When I run the program and select libATestPlugin.so from the build directory of my library project in the file dialog that pops up, I see no message box which means *plugin is null. Previously I had the messagebox always pop up and show the selected file name, so I know that part is working.</p>\n\n<p>Does anyone have any ideas as to what I need to do to make my plugin visible to QPluginLoader?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":11512314,"title":"QPluginLoader cant find module","body":"<p>I have created plugin for my application.It I dont use GDAL library in my code, my application can use this plugin( QPlugin loads it ) and it works fine. But if I use classes from GDAL library QPluginLoader cant load it and errorstring() method returns \"../serverplugin.dll Cant find module\".\nThere are two  exported symbols  qt_plugin_instance и qt_plugin_query_verification_data in plugin dll (I found them with Dependicy walker). QPluginLoader uses the QLibrary class internally to interface the C symbols exported to the DLL. If I dont use GDAL I have only two exported symbols in all plugin at the beginning. When I use GDAL these these two symbols are moved at the end of big list  exported symbols. Maybe these two exported symbols should be at the beginning. \nWhat am I doing wrong?</p>\n"},{"tags":["multithreading","qt","mvc","model-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13113743,"title":"Qt application with MVC and multithreading","body":"<p>This Qt application I am working on has model view controller in main thread, while the data structure under dataModel and the data model are modified by a network working thread (basically it is getting data from server). \nThe application crashes ramdonly. Based on my triage, it shows it crashes at some Qt deep model functions triggered by my data model modification. So I put lock on those data model functions. But now it still crashes. </p>\n\n<p>What is right design for this case? I also tried to promote data model modification to main thread, which means once data structure is changed, it emits a signal to controller, then the slot function in controller modifies the data model. This crashes too. plus this design looks weird. data structure changes model directly seems a better design, but it will keep model in working thread. I looked at a lot of model/view examples, all of them model contains data and model is not in worker thread. So none of them is my case.</p>\n\n<p>Thanks,</p>\n"},{"tags":["c++","qt","osx","eclipse-cdt","cross-compiling"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":690,"score":3,"question_id":6975290,"title":"Cross-compiling in Eclipse CDT with Qt under Mac OSX","body":"<p>Let me list all that I have setup:</p>\n\n<p>OS: Mac OSX - 10.6.8</p>\n\n<p>IDE: Eclipse CDT Indigo</p>\n\n<p>Framework: Qt 4.7.2</p>\n\n<p>As known, the Qt doesn't have integration to Eclipse on Mac, so I installed everything using this tutorial here:\n<a href=\"http://www.hyper-world.de/en/2009/05/13/qt-and-eclipse-under-mac-os-x/\" rel=\"nofollow\">http://www.hyper-world.de/en/2009/05/13/qt-and-eclipse-under-mac-os-x/</a></p>\n\n<p>I was able to compile a simple program to MacOS without a problem.</p>\n\n<p>The issue here is that I need to cross compile my apps to Windows and to Linux. But I'm new to cross compiling, so I need some directions:</p>\n\n<ol>\n<li><p>I used this cross compilers for MacOS here: <a href=\"http://crossgcc.rts-software.org/doku.php\" rel=\"nofollow\">http://crossgcc.rts-software.org/doku.php</a>. Do you guys think that is the best approach?</p></li>\n<li><p>I currently using automatically generated makefiles from Eclipse. Can Eclipse generate, from a single project, 3 different OSs outputs without using external make builders?</p></li>\n<li><p>If I send to another developer this project, can he compile it under Windows or Linux (Ubuntu)?</p></li>\n<li><p>If a step-by-step tutorial can be provided for that or any sample project files for Eclipse with this configs, I appreciate.</p></li>\n</ol>\n"},{"tags":["facebook","qt","login","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":765,"score":1,"question_id":7377222,"title":"Error when login in Facebook Mobile","body":"<p>I have a problem when I try to login to facebook mobile.</p>\n\n<p>I develop program on mobile with Qt QML.</p>\n\n<p>At first, I use this code for a while and it worked fine. But a few days ago, it stopped working as usual.</p>\n\n<p>So, I tried to write a very simple code sample, just for testing, and it gave me a same error.</p>\n\n<p>This is my simple code:</p>\n\n<pre><code>import QtQuick 1.0\nimport QtWebKit 1.0\n\nRectangle {\n  width: 360\n  height: 640\n\n  WebView {\n    id: web\n    //anchors.fill: parent\n    preferredHeight: 640\n    preferredWidth: 360\n    url: \"http://www.facebook.com/dialog/oauth/?scope=email,user_birthday&amp;client_id=MY_APP_ID&amp;redirect_uri=http://www.gimme5.co.cc/login_success.html&amp;response_type=token&amp;display=touch\"\n  }\n\n}\n</code></pre>\n\n<p><em>I already replace the app id when I run it.</em></p>\n\n<p>It gave me an error in a pink square like this:</p>\n\n<pre><code>This page contains the following errors\nerror on line 2 at column 212 : Expected ';' but got '='\nBelow is a rendering of the page up to\n</code></pre>\n\n<p>So, what should I do?</p>\n"},{"tags":["qt","make","install","pyqt","configure"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":265,"score":0,"question_id":7856341,"title":"PyQt make error while compiling the source code","body":"<p>I want to install PyQt for Qt 4.7.4 and i downloaded the packages SIP and <a href=\"http://www.riverbankcomputing.co.uk/software/pyqt/download\" rel=\"nofollow\">PyQt</a> from riverbankcomputing.co.uk.</p>\n\n<p>I configured and installed SIP successfully and configured PyQt successfully. But when i ran <code>make</code> in the terminal i got this error:</p>\n\n<pre><code>/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp: In function ‘PyObject* meth_QThread_currentThreadId(PyObject*, PyObject*)’:\n\n/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp:325:50: error: invalid conversion from ‘void*’ to ‘long unsigned int’\n\n/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp:325:50: error: initializing argument 1 of ‘PyObject* PyLong_FromUnsignedLong(long unsigned int)’\n\nmake[1]: *** [sipQtCoreQThread.o] Error 1\n\nmake[1]: Leaving directory `/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore'\n\nmake: *** [all] Error 2 \n</code></pre>\n\n<p>The full log is here: <a href=\"http://www.text-upload.com/read.php?id=176672&amp;c=5376703\" rel=\"nofollow\">http://www.text-upload.com/read.php?id=176672&amp;c=5376703</a></p>\n\n<p>Can you help me fix this error, please? Thank you!</p>\n"}]}
{"total":16228,"page":5,"pagesize":100,"questions":[{"tags":["qt","file","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":216,"score":1,"question_id":3859498,"title":"Why is Qt reporting > 14000 errors in this one page source file?","body":"<p>Here is the code:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QProcess&gt;\n#include &lt;QProcessEnvironment&gt;\n\nint main(int argc, char *argv[])\n{\n    QProcessEnvironment env;\n\n    // Environment variables required by CGI apps\n\n    env.insert(\"QUERY_STRING\",      url.encodedQuery());\n    env.insert(\"REQUEST_URI\",       url.toString());\n    env.insert(\"REQUEST_METHOD\",    \"GET\");\n    env.insert(\"REMOTE_ADDR\",       pSocket-&gt;peerAddress().toString());\n\n    //==========\n\n    QProcess process;\n    process.setProcessEnvironment(env);\n    process.start(\"php-cgi\",QProcess::ReadWrite);\n\n    process.write(\"&lt;?php print_r($_GET); ?&gt;\");\n    process.closeWriteChannel();\n\n    process.waitForFinished();\n\n    qDebug(process.readAll().data());\n\n    return 0;\n}\n</code></pre>\n\n<p>Qt Creator reports more than 14000 errors. Here is a small sample of them:</p>\n\n<pre>\nIn file included from ../QProcess/main.cpp:2:\n../QProcess/QProcess:1: error: stray ‘\\177’ in program\n../QProcess/QProcess:1: error: stray ‘\\2’ in program\n../QProcess/QProcess:1: error: stray ‘\\1’ in program\n../QProcess/QProcess:1: error: stray ‘\\1’ in program\nIn file included from ../QProcess/main.cpp:2:\n../QProcess/QProcess:1:8: warning: null character(s) ignored\n../QProcess/QProcess:1: error: stray ‘\\2’ in program\n</pre>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":269,"score":3,"question_id":7654422,"title":"No Keyboard input if QLineEdit on frameless popup window","body":"<p>When a parent widget is defined with:</p>\n\n<pre><code>setWindowFlags(Qt::FramelessWindowHint | Qt::Popup);\n</code></pre>\n\n<p>Any edit box widget placed on top of it will not receive keyboard input. Mouse will work, right click, context menu, paste will work -- but not direct keyboard input. Any ideas why and how it can be fixed?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":711,"score":0,"question_id":3778493,"title":"How to visualize model data in different ways in QTableView?","body":"<p>I have a model containing in one column floats (ex: 22.7). Now, I want that \nin QTableView, it will be visualized together with the unit (MB): 22.7 MB.\nThe reason I am doing so is because I want that sorting is based on floats, but\nthe visualization is as I said with units.</p>\n\n<p>I created a Model, a Filter and a View. But it does not work. Here is a piece of my code:</p>\n\n<pre><code>QStandardItemModel* model = new QStandardItemModel(this);\nQSortFilterProxyModel *filterModel = new QSortFilterProxyModel(0);\nfilterModel-&gt;setSourceModel(model);\n\nQStandardItem* vSItem6 = new QStandardItem();\nvSItem6-&gt;setData(22.7, Qt::DisplayRole); \nmodel-&gt;setItem(1, 7, vSItem6);\nQModelIndex index = model-&gt;index(1, 7, QModelIndex());\nQString itext = model-&gt;data(index, Qt::DisplayRole).toString(); \nfilterModel-&gt;setData(index, itext + \" MB\", Qt::DisplayRole);\n\n\nmUi.tableView-&gt;setModel(filterModel);\nmUi.tableView-&gt;setSortingEnabled(true);\nmUi.tableView-&gt;show();\n</code></pre>\n\n<p>Everything seems to be fine, but in QTableView, only the float number is visualized (without the unit MB). Can anybody please help me? Thanks</p>\n"},{"tags":["sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13112478,"title":"Qt: How to connect to SQLite?","body":"<p>I installed SQLite3 (unpacked to c:/sqlite), created a database (c:/sqlite/mzsales). Now I am trying to show its content in a QTableView.</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QSQLITE\");\ndb.setHostName(\"localhost\");\ndb.setDatabaseName(\"mzsales\");\nbool db_ok = db.open();\n</code></pre>\n\n<p>db_ok is true. Then</p>\n\n<pre><code>QSqlTableModel *model = new QSqlTableModel(0, db);\nmodel-&gt;setTable(\"person\");\nmodel-&gt;setEditStrategy(QSqlTableModel::OnManualSubmit);\nbool tbl_ok = model-&gt;select();\n</code></pre>\n\n<p>tbl_ok is false.</p>\n\n<p>What do I do wrong? How do I connect to db? Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5065,"score":2,"question_id":3016899,"title":"Qt QMainWindow at Close","body":"<p>Hey, this may seem like a very simple question, but I want to dump some data whenever the QMainWindow closes, so I used the following piece of code:</p>\n\n<blockquote>\n  <p>QObject::connect(MainWindow.centralwidget, SIGNAL(destroyed()), this, SLOT(close()));</p>\n</blockquote>\n\n<p>but this doesnt seem to make it call close(). Am I doing this wrong? Isnt the centralwidget suppose to be destroyed? Or perhaps the application closes before close() can be called? Any other ways of doing it then?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","windows-7","shortcuts","hotkeys","modifier-key"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13112466,"title":"modifier key removed in qt menu-shortcuts in win7","body":"<p>I wrote a program in qt-creator 2.4.1 (Qt 4.7.4, 32bit) with a menu. The actions in the menus are assigned to shortcuts with the built in function in qt-cretaor, i.e. instead of clicking on an entry you can press a key-combination. For example \"Ctrl + O\" for open a file.</p>\n\n<p>This works fine for win-xp, where I developed the program. When I use the program on a different machine with win7, the shortcuts a shortened to the letter-part, i.e. for open a file, you only have to press 'O', \"Ctrl + O\" doesn't work anymore. The menu-text is even adapted, in winxp it says \"open file... Ctrl + O\", in win 7 it says \"open file... O\".</p>\n\n<p>I have no idea, what could cause this. Anybody with same experiences, ideas or solutions?</p>\n"},{"tags":["c++","windows","qt","hook"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":52,"score":-1,"question_id":13110587,"title":"Triggering an event in a Qt window from a keyboard hook","body":"<p>I implemented a LowLevelKeyboardProc to record the keyboard key that was pressed, and I'm trying to call an event when it happens, I tried to call a public void but did not work. Is there any method to do this? Trigger event when a variable's value is changed or antother way?\nCode:</p>\n\n<pre><code>HHOOK hhkLowLevelKybd;\n\nLRESULT CALLBACK LowLevelKeyboardProc(int nCode, WPARAM wParam, LPARAM lParam)\n{\n    if (nCode == HC_ACTION)\n    {\n        PKBDLLHOOKSTRUCT p = (PKBDLLHOOKSTRUCT)lParam;\n        int tempkey = (int)p-&gt;vkCode;\n        MainWindow* mw = new MainWindow();\n        mw-&gt;getkey(tempkey);\n        return 1;\n    }\n    return(CallNextHookEx(NULL, nCode, wParam, lParam));\n}\n\nvoid MainWindow::getkey(int key)\n{\n    ui-&gt;label-&gt;setText(QString::number(key));\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    hhkLowLevelKybd = SetWindowsHookEx(WH_KEYBOARD_LL, LowLevelKeyboardProc, 0, 0 );\n}\n\nvoid MainWindow::on_pushButton_2_clicked()\n{\n    UnhookWindowsHookEx(hhkLowLevelKybd);\n}\n</code></pre>\n\n<p>I defined as public void, the code compiles but nothing happens when the program runs.</p>\n"},{"tags":["c++","qt","qmessagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13111669,"title":"Yes/No message box using QMessageBox","body":"<p>I'm looking for the Qt equivalent of the MB_YESNO style message box in winapi, i.e., how to do this:</p>\n\n<pre><code>if (IDYES == MessageBox(hParent, \"title\", \"question\", MB_YESNO)\n{\n\n}\n</code></pre>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13111291,"title":"Displaying a triangle with Qt and OpenGL","body":"<p>I am trying to display a triangle with OpenGL and Qt but only get a black window.\nWhat am I doing wrong?</p>\n\n<p>glwidget.h:</p>\n\n<pre><code>#pragma once\n#include &lt;QGLWidget&gt;\n\nclass GLWidget : public QGLWidget {\npublic:\n    GLWidget(QWidget *parent = 0);\n   ~GLWidget();\n   QSize sizeHint() const {  return QSize(400, 400); }\n\nprotected:\n    void initializeGL();\n    void paintGL();\n    void resizeGL(int width, int height);\n};\n</code></pre>\n\n<p>glwidget.cpp:</p>\n\n<pre><code>#include \"glwidget.h\"\n\nGLWidget::GLWidget(QWidget *parent) : QGLWidget(parent) {}\n\nGLWidget::~GLWidget(){ }\n\nvoid GLWidget::initializeGL() { }\n\nvoid GLWidget::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    glLoadIdentity();\n    glTranslatef(-1.5f,0.0f,-6.0f);\n\n    glBegin(GL_TRIANGLES);\n     glVertex3f( 0.0f, 1.0f, 0.0f);\n     glVertex3f(-1.0f,-1.0f, 0.0f);\n     glVertex3f( 1.0f,-1.0f, 0.0f);\n    glEnd(); \n}\n\nvoid GLWidget::resizeGL(int w, int h)\n{\n    QGLWidget::resize(w,h);\n}\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    GLWidget glWidget;\n    glWidget.show();\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["c++","qt","prepare"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13111130,"title":"Qt QSqlQuery prepare and bindValue not working","body":"<p>I have a problem with prepare and bindValue :(</p>\n\n<pre><code>db.open();\nQSqlQuery q;\n    q.prepare(\"SELECT id_malade,nom,prenom FROM Malade WHERE nom LIKE %:p% OR prenom = %:f% ;\");\n    q.bindValue(\":p\",ui-&gt;lineEdit-&gt;text());\n    q.bindValue(\":f\",ui-&gt;lineEdit-&gt;text());\n    qDebug() &lt;&lt; q.boundValue(0) &lt;&lt; \" \" &lt;&lt; q.boundValue(1);\n    qDebug() &lt;&lt; q.executedQuery().toStdString().c_str(); db.close();\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>QVariant(QString, \"zit\")   QVariant(QString, \"zit\") \nSELECT id_malade,nom,prenom FROM Malade WHERE nom LIKE %?% OR prenom = %?% ;\n</code></pre>\n\n<p>I tried to change :p and :f with ? and use int positions in bindValue but no luck.\nThe query got executed with success so I couldn't fetch the exact error.\nI used prepare and bindValue a lot in my program and it works fine the problem is only on this class :/</p>\n"},{"tags":["c++","qt","opengl","opengl-3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":469,"score":1,"question_id":11000014,"title":"Can't set desired OpenGL version in QGLWidget","body":"<p>I'm trying to use QGLWidget in Qt 4.8.2. I noticed that the default context QGLWidget creates doesn't show any output for OpenGL above 3.1. <a href=\"http://qt-project.org/wiki/How_to_use_OpenGL_Core_Profile_with_Qt\" rel=\"nofollow\">The Qt wiki has a tutorial</a> that demonstrates using OpenGL 3.3 to draw a simple triangle. When I try to run the tutorial, I get a blank screen. If I change the OpenGL version to 3.1, I get the expected output (a red triangle).</p>\n\n<p>My video card supports OpenGL 4.2, and calling <code>QGLFormat::openGLVersionFlags()</code> before creating the QGLWidget shows that Qt detects OpenGL 4.2 and all previous desktop versions.</p>\n\n<p>Here's another minimal example:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QGLWidget&gt;\n#include &lt;QDebug&gt;\n#include &lt;QtDeclarative/qdeclarativeview.h&gt;\n\nint main(int argc, char * argv[])\n{\n    QApplication app(argc, argv);\n\n    qDebug() &lt;&lt; \"OpenGL Versions Supported: \" &lt;&lt; QGLFormat::openGLVersionFlags();\n\n    QGLFormat qglFormat;\n    qglFormat.setVersion(4,2);  // get expected output with (3,1) and below, else blank window\n    qglFormat.setProfile(QGLFormat::CoreProfile);\n    qglFormat.setSampleBuffers(true);\n\n    QGLWidget* qglWidget = new QGLWidget(qglFormat);\n\n    QString versionString(QLatin1String(reinterpret_cast&lt;const char*&gt;(glGetString(GL_VERSION))));\n    qDebug() &lt;&lt; \"Driver Version String:\" &lt;&lt; versionString;\n    qDebug() &lt;&lt; \"Current Context:\" &lt;&lt; qglWidget-&gt;format();\n\n    QDeclarativeView mainView;\n    mainView.setViewport(qglWidget);\n    mainView.setSource(QString(\"helloworld.qml\"));\n    mainView.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>OpenGL Versions Supported:  QFlags(0x1|0x2|0x4|0x8|0x10|0x20|0x40|0x1000|0x2000|0x4000|0x8000|0x10000) \nDriver Version String: \"4.2.0 NVIDIA 295.53\" \nCurrent Context: QGLFormat(options QFlags(0x1|0x2|0x4|0x10|0x20|0x80|0x200|0x400) , plane  0 , depthBufferSize  24 , accumBufferSize  16 , stencilBufferSize  8 , redBufferSize  8 , greenBufferSize  8 , blueBufferSize  8 , alphaBufferSize  -1 , samples  4 , swapInterval  0 , majorVersion  4 , minorVersion  2 , profile  1 )  \n</code></pre>\n\n<p>The <code>QFlags()</code> enum list on the first line describes the OpenGL versions supported. The list shows I support all variants except for OpenGL/ES versions. QFlags() on the third line describes format options (alpha channel, stencil buffer, etc).</p>\n\n<p>Anyone know why QGLWidget won't work with anything >= 3.1? I'm on Linux, have an Nvidia GT440, and glxinfo shows it supports OpenGL 4.2.0. The driver version is printed in the sample output above. I'm not too sure what else to try.</p>\n\n<p><em>Edit: I made some pretty bad mistakes/assumptions with my explanation of the problem before this edit. The issue is still similar, but hopefully makes a bit more sense now. Sorry for any confusion.</em></p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":167,"score":-3,"question_id":7013102,"title":"Installing My Qt app on the Symbian test device","body":"<p>after I have finished my code , it run perfectly. i want to try it on a Symbian Device ...</p>\n\n<p>I connected My phone via usb and then i choose Sync and connect\nI am using Qt Creator so i checked for Symbian device down left of the window.... and i run</p>\n\n<p>I got the following error:</p>\n\n<pre><code>No device is connected. Please connect a device and try again.\nError while building project Project (target: Symbian Device)\n</code></pre>\n"},{"tags":["qt","translate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13109034,"title":"How to not translate hot keys with QActions in Qt?","body":"<p>In my current project we are using Qt and its translation system for making the GUI localized for many languages.</p>\n\n<p>My main problem is the translation of hot keys.</p>\n\n<p>When the user opens the main menu he can see all menu items and hot keys associated with them. This information is stored within QAction. When we change the language (for example to arabic) the user can see the translated menu item texts and its hot key will also be translated. But I don't want the hot key to be translated.</p>\n\n<p>I did some research on this problem and found the flag \"translatable\" for shortcuts in QtDesigner. But this flag did not help because it's needed only when we want to add this shortcut to our translate system, for example different hot keys for the same action for different languages.</p>\n\n<p>The main problem in that is that Qt gets the string for any hot key by using <a href=\"https://qt-project.org/doc/qt-4.8/qkeysequence.html#toString\" rel=\"nofollow\"><code>QKeySquence::toString()</code></a>. But this method automatically translates \"Ctrl\", \"Del\", \"Alt\" and other words, using QShortcut context. And all QShortcut translations are stored in the default <code>qm</code> files in Qt that we have included in our project.</p>\n\n<p>So how to <em>not translate</em> hot keys? </p>\n"},{"tags":["qt","qwidget","qtreewidget","qtreewidgetitem"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":9042367,"title":"Why is there a 1 at the top of a QTreeWidget?","body":"<p>There is a 1 at the top of a QtreeWidget. How do i fix it?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13109035,"title":"How to strech the scene with view or how to fix shift while adding (again)","body":"<p>To reduce the amount of text I add the link to my previous topic about shift when drawing:\n<a href=\"http://stackoverflow.com/questions/12963794/draw-shift-when-drawing-on-qgraphicsview\">Draw shift when drawing on QGraphicsView</a></p>\n\n<p>So what is the problem now...</p>\n\n<p>That solutions worked fine before I started to test it on another examples. First I added a lot of vertices (points) on view (about 1000 vertics) and the problem was that my scene hasn't any scroll bars, so 1000 vertices didn't fit on screen.</p>\n\n<p>The code of my class constructor which inherits QGraphicsView was:</p>\n\n<pre><code>GraphWidget::GraphWidget(QWidget *parent)\n    :QGraphicsView(parent)\n{\n    QGraphicsScene *scene = new QGraphicsScene(this);\n    scene-&gt;setItemIndexMethod(QGraphicsScene::NoIndex);\n    scene-&gt;setSceneRect(0, 0, 400, 400);\n    setScene(scene);\n\n    setCacheMode(CacheBackground);\n    setViewportUpdateMode(BoundingRectViewportUpdate);\n    setRenderHint(QPainter::Antialiasing);\n\n\n    generateRandomNodes();\n}\n</code></pre>\n\n<p>I've commented the line </p>\n\n<pre><code>scene-&gt;setSceneRect(0, 0, 400, 400);\n</code></pre>\n\n<p>and problem was fixed - all nodes were adding finely and I scrollbars appeared.</p>\n\n<p>But then I realized that I encountered with the new problem: when I add vertices they [again] appear on wrong places with big shift. Actually when I add first vertex - it appears in the wrong place, when I add second - it appears in the wrong place too + previous vertex is shifted too.</p>\n\n<p>Please help, what should I do? How to solve that and why is it happening?</p>\n\n<p>Thanks. </p>\n"},{"tags":["c++","qt","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13097852,"title":"QListWidget::setEditTriggers(QAbstractItemView::AnyKeyPressed) not working","body":"<p>From the book I'm reading:</p>\n\n<blockquote>\n  <p>By default, QListWidget is read-only. If we wanted the user to edit\n  the items, we could set the view's edit triggers using\n  QAbstractItemView::setEditTriggers(); for example, a setting of\n  QAbstractItemView::AnyKeyPressed means that the user can begin editing\n  an item just by starting to type.</p>\n</blockquote>\n\n<p>So, I call the function in my code:</p>\n\n<pre><code>ui-&gt;listWidget-&gt;setEditTriggers(QAbstractItemView::AnyKeyPressed);\n</code></pre>\n\n<p>But when I select an item and start typing, nothing happens.</p>\n"},{"tags":["qt","qtwebkit","qtgui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13108578,"title":"Default Font-family is not working in QtWebkit if font-family is given wrong?","body":"<p>I have specified default standard font family as below:</p>\n\n<p><strong>QWebSettings::globalSettings()->setFontFamily(QWebSettings::StandardFont,\"Times New Roman\");</strong></p>\n\n<p>Now I have a sample html page as below:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n\n#test1\n{\nfont-family:\"hello\";  \n}\n\n#test2\n{\nfont-family:\"Times New Roman\";\n}\n\n#test3\n{\nfont-family:\"\";\n}\n\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p id='test1'&gt;hello&lt;/p&gt; &lt;!-- does not fallback to default font specified --&gt;\n&lt;p id='test2'&gt;hello&lt;/p&gt;  &lt;!-- Works !! --&gt;\n&lt;p id='test3'&gt;hello&lt;/p&gt; &lt;!-- Works !! fallbacks to default font --&gt;\n&lt;p &gt;hello&lt;/p&gt; &lt;!-- Works !! fallbacks to default font --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have not observed such odd behavior in other webkit based browsers like Chrome and Safari.</p>\n\n<p>Can anyone help me out ?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene","qmainwindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13107244,"title":"Best practice to handle multiple documents in QMdiArea?","body":"<p>I need to design and develop a kind of graphics piece of software, which can edit customised files containing graphical elements, etc.</p>\n\n<p>I expect the piece of software to contain many documents thanks to the <code>QMdiArea</code> which is actually my central widget inside of my <code>QMainWindow</code>.</p>\n\n<p>For each document, I will need both a <code>QGraphicsView</code> and a <code>QGraphicsScene</code> as well, since they work together.</p>\n\n<p>Now... My question is... Should I inherit <code>QGraphicsView</code> with a protected/private member to its own <code>QGraphicsScene</code>, or should I create a class which inherits <code>QWidget</code> and handles instances of <code>QGraphicsView</code> / <code>QGraphicsScene</code> ?</p>\n\n<p>Or is there any solution left that I didn't think about? I'm afraid that I miss skills in software design, especially with Qt.</p>\n\n<p>Many thanks.</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13105226,"title":"Close the main window and open a new one - PyQt","body":"<p>In PyQt, is it any way to close the main window and open a new one? </p>\n\n<p>In particular, I am trying to close a window and open the same window all over again. I've tried every way I could think of without success (with some resulting in segmentation fault). I need to do this because the new window will have some features according to the parameters that are passed.</p>\n"},{"tags":["c++","visual-studio-2010","qt","linker"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1250,"score":3,"question_id":7231764,"title":"Visual Studio 2010 Qt Link Problem","body":"<p>I spent the weekend trying to figure this out and I'm on the last step. My goal: to get visual studio 2010 and Qt 4.7.3 to work together. </p>\n\n<p>I installed Qt from source, specifying to build with the following configuration:</p>\n\n<p>configure.exe -debug-and-release -opensource -platform win32-msvc2010 -no-webkit -no-phonon -no-phonon-backend -no-script -no-scripttools -no-qt3support -no-multimedia -no-ltcg</p>\n\n<p>After configuration, I ran nmake, no problems.</p>\n\n<p>In my visual studio 2010 solution, I have two projects. \n<img src=\"http://i.imgur.com/iXiTI.png\" alt=\"Image\" title=\"My Visual Studio Solution\">\nIt's complaining that it cannot link the Qt libraries. In the Common properties</p>\n\n<p>AssetIO was originally built using the Qt IDE, and I used the Qt addin within visual studio to import the project. Compiling the project AssetIO works perfectly fine. However, compiling the Short project results in the following linker errors:\n<img src=\"http://i.imgur.com/r6PkI.png\" alt=\"LinkerErrors\" title=\"Linker errors when building the solution\">\nRight click on the Short project, select properties. I added AssetIO as a reference. Clicking on the Configuration properties, VC++ Directories, I have the following Include directories added:</p>\n\n<p><img src=\"http://i.imgur.com/xnBUn.png\" alt=\"Include Directories\" title=\"Include Directories\">\nHere are the library files I have for the project:\n<img src=\"http://i.imgur.com/ntzqb.png\" alt=\"Library Directories\" title=\"Library Directories\">\nRather then post more screen-shots, my include directories for the AssetIO project is:\nC:\\qt_source\\4.7.3\\include</p>\n\n<p>my library directory for the AssetIO project is:\nC:\\qt_source\\4.7.3\\bin</p>\n\n<p>Here is the simple source code of the project I am trying to get working (my simple test project)</p>\n\n<pre><code>main.cpp\nint main(int argc, char* argv[])\n{\n    AssetIO::LevelLoader a;\n    a.dostuff();\n\n    return 0;\n}\n</code></pre>\n\n<p>LevelLoader.h</p>\n\n<pre><code>#ifndef LEVELLOADER_HPP\n#define LEVELLOADER_HPP\n\nnamespace AssetIO\n{\n    class LevelLoader {\n    public:\n        explicit LevelLoader();\n        ~LevelLoader();\n\n        void dostuff();\n    };\n}\n\n#endif // LEVELLOADER_HPP\n</code></pre>\n\n<p>LevelLoader.cpp</p>\n\n<pre><code>#include \"LevelLoader.hpp\"\n#include &lt;QDomDocument&gt;\n#include &lt;QFile&gt;\n#include &lt;QDebug&gt;\n#include &lt;QString&gt;\n\nusing namespace AssetIO;\n\nenum ComponentType { Drawable = 0, Position };\n\n// This will definitely be changed, to return a full-blown component. Passing the tagname directly to the\n// component factory.\nComponentType ConvertToComponentType(QString tagName)\n{\nif(tagName.toLower() == \"Drawable\") {\n    return Drawable;\n}\nelse if(tagName.toLower() == \"Position\") {\n    return Position;\n}\nelse {\n    // LOG\n    exit(EXIT_FAILURE);\n}\n}\n\nLevelLoader::LevelLoader()\n{\n}\n\nLevelLoader::~LevelLoader()\n{\n}\n\nvoid LevelLoader::dostuff()\n{\nQDomDocument doc(\"la\");\nQFile file(\"../../../Resources/input.sto\");\n\nif(!file.open(QIODevice::ReadOnly)) {\n    // TODO: log this, something\n    exit(EXIT_FAILURE);\n}\n\nif( !doc.setContent(&amp;file)) {\n    // TODO: log\n    file.close();\n}\n// we close the file now the doc has control (i think)\nfile.close();\n\n// Read the root element\nQDomElement root = doc.documentElement();\nif(root.tagName() != \"Root\") {\n    // TODO: log\n    exit(EXIT_FAILURE);\n}\n\n// Read the Header Info\nQDomNode headerNode = root.firstChild();\n\nQDomElement e = headerNode.toElement();\nif(e.tagName().toLower() != \"HeaderInfo\") {\n    // LOG\n}\n\nQDomNodeList componentNode = headerNode.childNodes();\nint s = componentNode.count();\n\nQString componentTag(componentNode.at(0).toElement().tagName());\nQDomNamedNodeMap a = componentNode.at(0).attributes();\n}\n</code></pre>\n\n<p>I cannot figure out what I am doing incorrectly. Does anyone have any ideas? I have looked everywhere for a solution.</p>\n"},{"tags":["c++","qt","libraries","creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":55,"score":-3,"question_id":13103376,"title":"Qt: some functions not included","body":"<p>Im starting using Qt for a GUI, but i have some problems with headers/libraries because im missing some functions. </p>\n\n<p>Two of them are:</p>\n\n<p>.setModal(true);\n.exec();</p>\n\n<p>They should work fine as in the video im following:\n<a href=\"http://www.youtube.com/watch?v=wUH_gu2HdQE&amp;feature=relmfu\" rel=\"nofollow\">http://www.youtube.com/watch?v=wUH_gu2HdQE&amp;feature=relmfu</a>\n(at 6:30)</p>\n\n<p>Because i did exacly what he done, so my clue is his version isn't equal mine (oh shit, i hate when they change version and the functions change too!!)</p>\n\n<p>I want to know which header should I include.</p>\n\n<p>Heres my code:</p>\n\n<pre><code>void MainWindow::on_actionNew_Window_triggered()\n{\n    MyDialog mDialog;\n    mDialog.setModal(true);\n    mDialog.exec();\n\n}\n</code></pre>\n\n<p>Even with:</p>\n\n<pre><code>#include &lt;QDialog&gt;\n</code></pre>\n\n<p>Still doesn't work. It says: </p>\n\n<p>C:\\QtSDK\\teste-build-desktop-Qt_4_8_1_for_Desktop_-<em>MinGW</em>_Qt_SDK__Debug..\\teste\\mainwindow.cpp:22: error: 'class MyDialog' has no member named 'setModal'.</p>\n\n<p>mydialog.h code:</p>\n\n<pre><code>#ifndef MYDIALOG_H\n#define MYDIALOG_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QDialog&gt;\n\nnamespace Ui {\nclass MyDialog;\n}\n\nclass MyDialog : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MyDialog(QWidget *parent = 0);\n    ~MyDialog();\n\nprivate:\n    Ui::MyDialog *ui;\n};\n\n#endif // MYDIALOG_H\n</code></pre>\n\n<p>Its included on mainwindow.cpp and (ofc) mydialog.cpp (the header is just the class)</p>\n"},{"tags":["qt","install","osx-snow-leopard","qt-creator","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13103879,"title":"Setup qmake for Qt Creator on Mac","body":"<p>I installed the qt debug and release libraries and qt creator.</p>\n\n<p>I can't make it build because of qmake. How can i make qt creator know of <code>qmake</code>?</p>\n\n<p>I went to <code>Preferences-&gt;Build&amp;Run</code> and click <code>Add</code> but I can't select anything, not even <code>qmake</code> after I find it.</p>\n\n<p>I have qmake, I can run it from the command line but I can't make the <code>QtCreator</code> know about it.</p>\n\n<p>Please help me, I feel like I'm gonna blow up.</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13085314,"title":"QSettings: Copy, modify but avoid changing underlying .ini file","body":"<p>I read some <code>QSettings</code> from an .ini file:</p>\n\n<pre><code>QSettings* settingsDocRoot=new QSettings(_settingsFile ,QSettings::IniFormat, parent);\n</code></pre>\n\n<p>This is passed to some object. However, I then do a copy <code>QSettings* s2= new QSettings(settingsDocRoot);</code> and modify one particular value <code>s2-&gt;setValue(\"path\", whateverNewPath);</code></p>\n\n<p>Basically I want to pass a slightly modified <code>QSettings</code> object to another object. But how do I <strong>avoid that the original ini file is updated</strong> with the changed value (<code>s2-&gt;setValue</code>)?</p>\n\n<p>One idea was, simply to set the path to \"\". However, according to <a href=\"http://stackoverflow.com/questions/4031838/qsettings-where-is-the-location-of-the-ini-file\">Qsettings - where is the location of the ini file?</a> then a default location will be assumed (OK, original file will not be changed, but unnecessary file will be written).</p>\n"},{"tags":["python","qt","pyqt","pyqt4"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2749,"score":2,"question_id":4528347,"title":"Clear all widgets in a layout in pyqt","body":"<p>Is there a way to clear (delete) all the widgets in a layout?</p>\n\n<pre><code>    self.plot_layout = QtGui.QGridLayout()\n    self.plot_layout.setGeometry(QtCore.QRect(200,200,200,200))\n    self.root_layout.addLayout(self.plot_layout)\n    self.plot_layout.addWidget(MyWidget())\n</code></pre>\n\n<p>Now I want to replace the widget in <code>plot_layout</code> with a new widget. Is there an easy way to clear all the widgets in <code>plot_layout</code>? I don't see any method such.</p>\n"},{"tags":["c++","qt","event-handling","qwidget"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13019550,"title":"How can I catch the change of a child Widget in Qt?","body":"<p>I have some dynamically added QWidgets and I want to carry out some task when they are changed.<br>\nI think I can't use connect() because I also need the name of the QWidget that triggered the change.<br>\nHow can I also see which QWidget was changed and still catch the value change event with a common handler?</p>\n"},{"tags":["qt","compiler-errors","debian","cross-compiling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":13075577,"title":"build failure when trying to cross-compile Qt 4.8.3 on Debian, for win32","body":"<p>I am trying to build a pristine Qt 4.8.3 tarball, and I configured the build with this command:</p>\n\n<pre><code>./configure -opensource -xplatform win32-g++ -device-option CROSS_COMPILE=i686-w64-mingw32-\n</code></pre>\n\n<p>Following is a result of (re)running <code>make</code>:</p>\n\n<pre><code>$ make\ncd src/tools/bootstrap/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/bootstrap'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/bootstrap'\ncd src/tools/moc/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/moc'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/moc'\ncd src/tools/rcc/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/rcc'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/rcc'\ncd src/tools/uic/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/uic'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/uic'\ncd src/winmain/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake -f Makefile.Debug all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[2]: Nothing to be done for `all'.\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake -f Makefile.Release all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[2]: Nothing to be done for `all'.\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\ncd src/corelib/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake -f Makefile.Debug all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/corelib'\ni686-w64-mingw32-g++ -shared -mthreads -Wl,--out-implib,/home/wena/src/qt-4.8.3/lib/libQtCored4.a -o ../../lib/QtCored4.dll object_script.QtCored.Debug  -L'/home/wena/src/qt-4.8.3/lib' -L'/home/wena/src/qt-4.8.3/lib' -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32 .obj/debug-shared/QtCored_resource_res.o \nCreating library file: /home/wena/src/qt-4.8.3/lib/libQtCored4.a\n./.obj/debug-shared/qtextcodec.o: In function `setup':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:771: undefined reference to `QGb18030Codec::QGb18030Codec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:772: undefined reference to `QGbkCodec::QGbkCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:773: undefined reference to `QGb2312Codec::QGb2312Codec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:774: undefined reference to `QEucJpCodec::QEucJpCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:775: undefined reference to `QJisCodec::QJisCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:776: undefined reference to `QSjisCodec::QSjisCodec()'\n./.obj/debug-shared/qtextcodec.o: In function `QEucKrCodec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/kr/qeuckrcodec.h:77: undefined reference to `vtable for QEucKrCodec'\n./.obj/debug-shared/qtextcodec.o: In function `QCP949Codec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/kr/qeuckrcodec.h:91: undefined reference to `vtable for QCP949Codec'\n./.obj/debug-shared/qtextcodec.o: In function `QBig5Codec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/tw/qbig5codec.h:56: undefined reference to `vtable for QBig5Codec'\n./.obj/debug-shared/qtextcodec.o: In function `QBig5hkscsCodec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/tw/qbig5codec.h:70: undefined reference to `vtable for QBig5hkscsCodec'\ncollect2: ld returned 1 exit status\nmake[2]: *** [../../lib/QtCored4.dll] Error 1\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake[1]: *** [debug-all] Error 2\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake: *** [sub-corelib-make_default-ordered] Error 2\n</code></pre>\n\n<p>I am building on latest Debian 7 (Wheezy).</p>\n"},{"tags":["c++","api","qt","internet-connection"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13035493,"title":"Control internet connection","body":"<p>I am trying to develop an application (C++/Qt preferably for multi-platform) that controls and filters the data stream entering and leaving the network (mainly internet), and restricts access to certain URLs in the browser.</p>\n\n<p>Is that possible with Qt? If not are there libraries that can do this? Or are there any APIs that I can use to control the connection on the computer?</p>\n"},{"tags":["qt","qlistwidget"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":500,"score":2,"question_id":9248001,"title":"Storing pointers using QListWidgetItem::setData","body":"<p>I have a <code>QListWidget</code> of calendars. Each <code>QListWidgetItem</code> is logically associated with an instance of <code>Calendar</code>, which is a class that belongs to the Model side of the application.</p>\n\n<p>Can I store this association in the form of a pointer using <code>QListWidgetItem::setData</code>? When I attempt to do this, I get the following error:</p>\n\n<blockquote>\n  <p>error: 'QVariant::QVariant(void*)' is private</p>\n</blockquote>\n"},{"tags":["qt","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13102787,"title":"Prevent QGraphicsItem from moving outside of QGraphicsScene","body":"<p>I have a scene which has fixed dimensions from (0;0) to (481;270):</p>\n\n<pre><code>scene-&gt;setSceneRect(0, 0, 481, 270);\n</code></pre>\n\n<p>Inside of it, I have a custom GraphicsItem and I can move it thanks to the flag ItemisMovable, but I would like it to stay within the Scene; I actually mean I don't want it to have coordinates neither under (0;0) nor over (481;270).</p>\n\n<p>I tried several solutions like overriding QGraphicsItem::itemChange() or even QGraphicsItem::mouseMoveEvent() but I still cannot manage to reach what I want to do.</p>\n\n<p>What is the suitable solution for my needs? Do I use QGraphicsItem::itemChange() badly?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["cocoa","qt","open-source","libraries","differences"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13102665,"title":"Difference between Qt mac open source and qt mac cocoa libraries","body":"<p>What is the difference between qt mac open source and qt mac cocoa libraries?</p>\n\n<p>I found on <a href=\"http://releases.qt-project.org/qt4/source/\" rel=\"nofollow\">http://releases.qt-project.org/qt4/source/</a> these dmg files and i don't know what's the difference between them:</p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4-debug-libs.dmg</code> and <code>qt-mac-opensource-4.6.4-debug-libs.dmg</code></p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4.dmg</code> and <code>qt-mac-opensource-4.6.4.dmg</code></p>\n"},{"tags":["c++","qt","iterator","random-access","qhash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13102506,"title":"QHash - hot to get a random key and value","body":"<p>I want to get a random pair with number <code>n</code> from my QHash.</p>\n\n<p>Now I do it this way:</p>\n\n<pre><code>QHash&lt;QString,QString&gt;::iterator iterator = dictionary.begin();\niterator+= n;\nquestion-&gt;setText(iterator.key());\n</code></pre>\n\n<p>But this seems just ridiculous... There must be a normal way. Can you help me please? I've read the whole entire man-page for QHash already</p>\n"},{"tags":["qt","sqlcipher"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13101618,"title":"Qt, SQLCipher and table models","body":"<p>Good morning --</p>\n\n<p>I'm working with SQLCipher in my Qt application and I'm noticing something odd, so I was wondering if anyone else has seen it and if so is there a way around it...</p>\n\n<p>I can open my unencrypted database fine using QSQLCIPHER library, I can query it fine, but when I use a QSqlTableModel on a table, I see no data in the model.  I can then via my application add data to my model, but when I try to submit it, I get errors.  As long as I connect to a unncrypted DB using QSQLITE things work smoothly with the models, but using QSQLCIPHER things don't work so smoothly.</p>\n\n<p>Also, if I try to use the PRAGMA statement on an encrypted DB (that I've verified works outside of my app), my query.exec() fails...</p>\n\n<p>Any thoughts?</p>\n\n<p>Scott</p>\n"},{"tags":["visual-studio-2010","qt","qt4","mingw","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1321,"score":0,"question_id":7176559,"title":"Using both mingw and msvc under QtCreator","body":"<p>I want to make QtCreator able to compile with mingw and msvc but i don't know how.</p>\n\n<p>I found some information over the internet but didn't work for me.</p>\n\n<p>I tried by installing </p>\n\n<ol>\n<li>QtSDK + qtvs2008 + qt visual studio addin                         <strong>[FAIL]</strong></li>\n<li>QtCreator standalone + mingw + qtvs2008 + qt visual studio addin  <strong>[FAIL]</strong></li>\n<li>QtCreator compiled with visual studio + mingw + qtvs2008          <strong>[FAIL]</strong></li>\n</ol>\n\n<p>I don't know what else to try so i will need some help here.\nIs this thing possible? </p>\n"},{"tags":["qt","sqlite","qt4","qtsql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":497,"score":0,"question_id":5373184,"title":"QtSQL + Sqlite and support for .size() function?","body":"<p>I'm wondering does QtSql + Sqlite support QSqlQuery::size() function ?</p>\n\n<p>Thx.</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13100276,"title":"Compile & build qt4 on ubuntu 12.04","body":"<p>I am trying to compile and build Qt 4.8.3 from source. When I do ./configure, I get the following error message : </p>\n\n<pre><code>./configure: 183: ./configure: /^(QMAKE_CXX)=/ { print substr($0, index($0, \"=\") + 1) }: not found\nERROR: Cannot set the compiler for the configuration tests\n</code></pre>\n\n<p>Is this happening because I need to explicitly set the QMAKE_CXX variable? Thanks</p>\n"},{"tags":["sqlite","qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13099830,"title":"QT / QTableView / SQLite how to connect?","body":"<p>This is my first time QT programming. I am to make an address book on relational database to keep track of calls and events, related to persons and companies. A simple home-made sales tool. I am in great need of it.</p>\n\n<p>Using QT Designer I have created a main window and placed a QTableView widget. Installed SQLite, created a database. Now I need to connect it to the QTableView. I spent several hours, and still couldn't do it. </p>\n\n<p>Can someone please help?</p>\n\n<p>Thanks!</p>\n\n<p>Some code:</p>\n\n<p>untitled9.pro:</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-26T14:35:12\n#\n#-------------------------------------------------\n\nQT       += core gui\nQT       += sql\n\nTARGET = untitled9\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_menu_exit_triggered();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include &lt;QTableView&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n\n    w.show();\n\n    QTableView *tableView;\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_menu_exit_triggered()\n{\n  QCoreApplication::quit ();\n}\n</code></pre>\n\n<p>And, there is also a long xml in mainwindow.ui. I'll post it here in case of need.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","mediaplayer","symbian","symbian3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13099858,"title":"Simulate Symbian Play/Pause button","body":"<p>I am trying to simulate a play/pause button in Symbian as well as next and previous button. I have seen Nokia's example on how to receive events of these being pressed: <a href=\"http://www.developer.nokia.com/Community/Wiki/TSS000432_-_Utilising_media_keys\" rel=\"nofollow\">http://www.developer.nokia.com/Community/Wiki/TSS000432_-_Utilising_media_keys</a> and tried moddifying it to simulate these keys being pressed. I have sofar got this code:</p>\n\n<p>mediakeycontroller.h:</p>\n\n<pre><code>#ifndef MEDIAKEYSOBSERVER_H\n#define MEDIAKEYSOBSERVER_H\n\n#include &lt;remconinterfaceselector.h&gt;\n#include &lt;remconcoreapicontroller.h&gt;\n#include &lt;remconcoreapicontrollerobserver.h&gt;\n\nclass MediaKeysObserver : public MRemConCoreApiControllerObserver\n{\npublic:\n    MediaKeysObserver(QObject *parent = 0);\n    virtual ~MediaKeysObserver();\n\nprivate:\n    CRemConInterfaceSelector *interfaceSelector;\n    CRemConCoreApiTarget *coreTarget;\n    CRemConCoreApiController *coreController;\n};\n\n#endif // MEDIAKEYSOBSERVER_H\n</code></pre>\n\n<p>mediakeycontroller.cpp:</p>\n\n<pre><code>#include \"mediakeysobserver.h\"\n\nMediaKeysObserver::MediaKeysObserver(QObject *parent) : QObject(parent)\n{\n    interfaceSelector = CRemConInterfaceSelector::NewL();\n    coreController = CRemConCoreApiController::NewL(*interfaceSelector, *this);\n    interfaceSelector-&gt;OpenTargetL();\n    TRequestStatus aStatus;\n    TUint aNumRemotes;\n    coreController-&gt;PausePlayFunction(*aStatus, *aNumRemotes, ERemConCoreApiButtonClick);\n}\n\nMediaKeysObserver::~MediaKeysObserver()\n{\n    delete interfaceSelector;\n}\n</code></pre>\n\n<p>I don't know if using MRemConCoreApiController ws the right way to modify it but this does compile the problem is that I get three thread crashes:</p>\n\n<p>Thread has crashed: Thread 0x971 has panicked. Category: RemConIfSel; Reason: 6\nThread has crashed: Thread 0x972 has panicked. Category: RemConIfSel; Reason: 6\nThread has crashed: Thread 0x973 has panicked. Category: RemConIfSel; Reason: 6</p>\n\n<p>Do you any idea what I am doing wrong? I have added SWEvent and System as well as User read and write abilities but it doesn't help.</p>\n"},{"tags":["xml","performance","query","qt","xquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13098726,"title":"Qt: how to make generic (X)Query in Qt to different XML documents?","body":"<p>I'm new to QXmlQuery lib and I want to learn what is capable on with XML documents. I have maybe more than 1000 XML documents, some of them are the same (the xml scheme is the same), some of them are different.. But all of them have one common element called 'list' and this element have always children called 'item' (many items). I don't know the absolute path to the list element in each document, but I know that it is somewhere in. I want to make one query to all of this files and extract the 'items'.\nMay be this will illustrate my idea better:</p>\n\n<pre><code>QXmlQuery xquery;\nxquery.setQuery( \"doc('some_doc.xml')/list/item\");\nif (xquery.isValid())\n{\n    QXmlResultItems itemResult;\n    xquery.evaluateTo( &amp;itemResult );\n    //take an iterator or QStringList.. nevermind\n}\n</code></pre>\n\n<p>I have a code somewhere like this.</p>\n\n<p>There are two examples of these xml docs:</p>\n\n<pre><code>&lt;globalroot&gt;\n  &lt;list&gt;\n    &lt;item&gt;20.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;21.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;22.15.14447.2214&lt;/item&gt;\n  &lt;/list&gt;\n&lt;/globalroot&gt;\n</code></pre>\n\n<p>and the second example:</p>\n\n<pre><code>&lt;root&gt;\n &lt;sdmlt&gt;random text, not important&lt;/sdmlt&gt;\n &lt;localroot&gt;\n  &lt;list&gt;\n    &lt;item&gt;40.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;41.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;42.15.14447.2214&lt;/item&gt;\n  &lt;/list&gt;\n &lt;/localroot&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The output must look like this:</p>\n\n<pre><code> //I need an iterator or QStringList that contains following down elements:\n //from the first doc:\n 20.15.14447.2214\n 21.15.14447.2214\n 22.15.14447.2214\n\n //from the second doc:\n 40.15.14447.2214\n 41.15.14447.2214\n 42.15.14447.2214\n</code></pre>\n\n<p>How can I make such a generic query? I know how to iterate over the tree and just run the xQuery over each node until (isValid() == true), but I need some mechanism in Qt that allows me to do that implicitly. Is it possible? If you know something about it you can give me a short example; suggestions, similar topics are welcomed too.</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":412,"score":3,"question_id":9267545,"title":"Qt QMainWindow central widget deletion","body":"<p>my application requires the user to switch between several screens. The way I'm doing this is by creating different QFrames for each screen, and then setting the Qframes as central widgets on the MainWindow. The problem is that every time I call setCentralWidget(frame), the old frame gets deleted and I can't access it later. How can save that old frame so that I can access it later?</p>\n\n<p>Please let me know if I am unclear in my question.</p>\n"},{"tags":["c++","qt","qt4.8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13098189,"title":"What is the fastest way to get QWidget pixel color under mouse?","body":"<p>I need to get the color of pixel under mouse, inside <code>mouseMoveEvent</code> of a QWidget (Breadboard). Currently I have this code-></p>\n\n<pre><code>void Breadboard::mouseMoveEvent(QMouseEvent *e)\n{\n    QPixmap pixmap = QPixmap::grabWindow(winId());\n    QRgb color = pixmap.toImage().pixel(e-&gt;x(), e-&gt;y());\n    if (QColor(color) == terminalColor)\n        QMessageBox::information(this, \"Ter\", \"minal\");\n}\n</code></pre>\n\n<p>Take a look at (scaled down) screenshot below-</p>\n\n<p><img src=\"http://i.stack.imgur.com/OUy1X.png\" alt=\"enter image description here\"></p>\n\n<p>When user moves his mouse on breadboard, the hole should get highlighted with some different color (like in red circle). And when the mouse exits, the previous color (grey) should be restored. So I need to do following steps- </p>\n\n<ol>\n<li>Get color under mouse</li>\n<li>According to color, floodfill the hole. (Different holes are distinguished using color)</li>\n<li>On mouse out, restore the color. There would be wires going over holes, so I can't update the small rectangle (hole) only.</li>\n</ol>\n\n<p>What is the fastest way of doing this? My attempt to extract color is not working i.e the Message box in my above code never displays. Moreover I doubt if my existing code is fast enough for my purpose. Remember, how fast you will be moving your mouse on breadboard.</p>\n\n<p>Note - I was able to do this using wxWidgets framework. But due to some issues that project got stalled. And I am rewriting it using Qt now.<br>\nYou are invited to look at code <a href=\"https://github.com/vinayak-garg/dic-sim\" rel=\"nofollow\">https://github.com/vinayak-garg/dic-sim</a> </p>\n"},{"tags":["qt","signals-slots"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":1,"view_count":14,"score":0,"question_id":13098092,"title":"error C2976: 'QMap' : too few template arguments in QMetaObject::invokeMethod","body":"<p>i tryt to invoke QMetaObject::invokeMethod from object to the caller object\ni have this from the object :</p>\n\n<pre><code>bool bReturnInvokeMethod = false;\nbool bInvokeMethod1= QMetaObject::invokeMethod(m_pCollector,\n                            \"setStack\",\n                            Qt::BlockingQueuedConnection,\n                            Q_ARG(QMap&lt;QString,QVector&lt;std::string &gt; &gt;, linksQTResultMap));\n</code></pre>\n\n<p>but im getting this error:</p>\n\n<pre><code>error C2976: 'QMap' : too few template arguments\n</code></pre>\n\n<p>why its well defined type</p>\n"},{"tags":["c++","linux","windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13097693,"title":"QTcpSocket reading some extra bytes while reading bulk data?","body":"<p>I am currently working on Qt GUI application which receives data packets from server (LINUX Server).</p>\n\n<p>In normal cases, its working fine but when bulk amount of data packets has been written by server on socket, client side socket enters into loop to process that data but at the end 8 extra bytes are left which does not belong to my application and application never come out from the loop which makes my application unresponsive.\nI am receiving all data without any loss.</p>\n\n<p>My code will clear bit more:</p>\n\n<pre><code>connect(tcpSocket, SIGNAL(readyRead()), this, SLOT(receiveData()));\n\nvoid MyClass::receiveData()\n{\n    char recvbuf[MAXPACKET]; // MAXPACKET = 4096\n    char* packet = 0;\n    int bytesAvailable = 0;\n    int bufSize = MAXPACKET;\n\n    while((bytesAvailable &gt; 0) || tcpSocket -&gt;bytesAvailable())\n    {\n       if (bytesAvailable == 0 &amp;&amp; tcpSocket -&gt;bytesAvailable())\n       {\n          qint64 requestBytes = bufSize - bytesAvailable;\n          bytes = tcpSocket-&gt;read(recvbuf + bytesAvailable, requestBytes);\n          bytesAvailable += bytes;\n       }\n\n       //createPAcket and process Packets method works here\n       if (packet)\n         processPacket(packet);\n    }\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","scheduled-tasks","pyside"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13096650,"title":"Check something at regular intervals in a Python (Qt) application","body":"<p>I'm writing a GUI application using Python and Qt as a GUI library. I would like to perform certain scheduled actions after e.g. 3 days or so (but some more often, some even more rare etc). </p>\n\n<p>I have discovered the QTimer() app but my understanding is that it only tracks time while the software is running. </p>\n\n<p>So, for example, suppose a user has checked the option to check the automatic updates every 5 days. If he runs it on day one, everything is fine. The countdown clock starts ticking. But if he runs it for the second time on day 6, how to make sure the application does indeed download an update (other than writing the date every time to some file and comparing the two)? </p>\n\n<p>I hope I'm clear enough, if I'm not, please let me know and I'll try to elaborate even better.</p>\n"},{"tags":["c++","osx","qt","qt4"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1089,"score":1,"question_id":2344288,"title":"Qt Asynchronous Action During aboutToQuit","body":"<p>I've got some Asynchronous cleanup activity I need to do as my Qt application is shutting down.</p>\n\n<p>My current approach is to trap the aboutToQuit signal. I launch my Asynchronous behavior, and then the application shuts down. Is there any way to block Qt from shutting down until my asynchronous behavior is complete?</p>\n\n<p>This works on windows by trapping the main window's closeEvent and calling ignore() on the event. But on Mac, when a user quits, my ignore() isn't honored, and the Application shuts down before my asynchronous activity is complete.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","json","qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12908728,"title":"Qjson handling an returned array of ojbects","body":"<p>I'm using Qjson to parse a json object that is returned from a web service.  I'm stuck on handling an array of complex ojects.</p>\n\n<p>At the first level the web service returns a map consisting of \"error\", \"id\", and \"return\".  If there are no errors I can get the first level value by using</p>\n\n<pre><code> nestedMap = m_jsonObject[\"result\"].toMap();\n group = new Group();\n group-&gt;Caption = nestedMap[\"Caption\"].toString();\n group-&gt;CollectionCount = nestedMap[\"CollectionCount\"].toInt();\n</code></pre>\n\n<p>I can even get a date item value that is at the second level using</p>\n\n<pre><code>group-&gt;ModifiedOn = nestedMap[\"ModifiedOn\"].toMap()[\"Value\"].toDateTime();\n</code></pre>\n\n<p>I have an object called \"Elements\" that consists of 29 key-value pairs.  The web service is returning an array of these \"Elements\" and I am unable to find the right way to parse it.  In the header file the container for the elements is defined as </p>\n\n<pre><code>QList&lt;GroupElement&gt; Elements;\n</code></pre>\n\n<p>The line</p>\n\n<pre><code>group-&gt;Elements = nestedMap[\"Elements\"].toList();\n</code></pre>\n\n<p>causes the compiler to throw an error 'error: no match for 'operator=' in '((MyClass*)this)->MyClass::group->Group::Elements = QVariant::toMap() const()'</p>\n\n<p>I would like to learn the correct syntax to put this element into the class.</p>\n"},{"tags":["c++","qt","templates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13096292,"title":"c++ function pointer used to convert a QVariant to {a custom type","body":"<p>A QVariant is holding a QMap object that is to be converted into a custom type, MyClass or MyClass2.  </p>\n\n<p>Example:</p>\n\n<pre><code>class MyClass{\n   int item1;\n   int item2;\n   QString string1;\n   AnotherClass subclass;\n};\n\nclass MyClass2{\n   int item1;\n   QString string1;\n   AnotherClass subclass;\n};\n</code></pre>\n\n<p>functions have been written to convert the QVariant to the associated classes</p>\n\n<pre><code>MyClass QVariantToMyClass1(QVariant);\nMyClass2 QVariantToMyClass1(QVariant);\n</code></pre>\n\n<p>My question is, in a template function what is the proper way to pass in the function pointer?  The code shown below returns an error 'const class QVariant has no member named convFunct'</p>\n\n<pre><code>template&lt;class T&gt;\nQList&lt;T&gt; QVariantToQList(QVariant &amp; qv,T (* convFunct)() )\n{\n    // Create the list that will hold the return values\n    QList&lt;T&gt; qListOfMembers;\n    if(qv.typeName() == \"QVariantMap\"){\n        foreach(QVariant const&amp; mapMember,qv.toMap())\n        {\n            qListOfMembers.append(mapMember.convFunct());\n        }\n    }\n    else if (qv.typeName() == \"QVariantList\"){\n        foreach(QVariant const&amp; listMember,qv.toList())\n        {\n            qListOfMembers.append(listMember.convFunct());\n        }\n    }\n    else\n    {\n        qDebug()&lt;&lt; \"QVariantToQList currently is implemented only for QMap and QList types\";\n        throw ;\n    }\n    return qListOfMembers;\n}\n</code></pre>\n\n<p>This is a <a href=\"http://stackoverflow.com/questions/13087966/function-pointer-for-qvariant-toxxx-function\">follow-up question to a previous question</a>  The difference between that question and this one is the T is 'MyClass' or 'MyClass2' instead of a type that is normally held by a QVariant.</p>\n"},{"tags":["qt","kinect","kinect-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":13096315,"title":"How to use Kinect SDK with Qt creator in windows","body":"<p>is this possible to use kinect sdk with Qt in windows ? \ni mean is this possible :\n    #include \"NuiApi.h\"<br>\nand use it like visual studio ?</p>\n"},{"tags":["c++","qt","qtcpsocket","qtnetwork","qtcpserver"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13095834,"title":"Console Chat Using QTcpSocket and QTcpServer","body":"<p>I want to write a console chat program in qt framework.I have a problem with sending messages.</p>\n\n<p>Client sends messages to server but server doesn't take the messages until client program is closed.When client is closed, server displays all messages.I don't want that.I want server to get my messages when i send to it.</p>\n\n<p>I wrote the codes below.You will see what i want to do if you look at main function of client.</p>\n\n<pre><code>    /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Client interface\n\n    */\n\n    #ifndef CLIENT_H\n    #define CLIENT_H\n\n    #include &lt;QtNetwork&gt;\n    #include &lt;QObject&gt;\n    #include &lt;QtNetwork/QTcpSocket&gt;\n\n    namespace NetworkArdic\n    {\n\n    class Client : public QObject\n    {\n        Q_OBJECT\n        public:\n\n            Client(QObject * obj = 0,QString add=\"localhost\", quint16 port = 4000);\n\n\n            void SendData(QString data);\n\n            virtual ~Client();\n\n        private slots:\n\n\n            void ReadData();\n\n            void connected();\n\n        private:\n\n            QTcpSocket *socket;\n    };\n\n    }\n\n    #endif\n\n\n /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Client source file\n\n    */\n\n    #include \"Client.h\"\n    #include &lt;QHostAddress&gt;\n    #include &lt;iostream&gt;\n    using namespace std;\n\n    namespace NetworkArdic{\n\n    Client::Client(QObject * obj, QString add, quint16 port) : QObject(obj)\n    {\n\n        socket = new QTcpSocket(this);\n\n\n        connect(socket, SIGNAL(readyRead()), this, SLOT(ReadData()));\n        connect(socket, SIGNAL(connected()), this, SLOT(connected()));\n\n        socket-&gt;connectToHost(QHostAddress(add), port);\n    }\n\n    Client::~Client(){\n        socket-&gt;close();\n        delete socket;\n    }\n\n\n\n    void Client::SendData(QString data)\n    {\n        if(!data.isEmpty())\n        {\n            socket-&gt;write(QString(data + \"\\n\").toUtf8());\n        }\n    }\n\n    void Client::ReadData()\n    {\n        while(socket-&gt;canReadLine())\n        {\n\n            QString line = QString::fromUtf8(socket-&gt;readLine()).trimmed();\n            qDebug() &lt;&lt; line;\n        }\n    }\n\n    void Client::connected()\n    {\n        socket-&gt;write(QString(\"Client : Server connection has been made (: \\n\").toUtf8());\n    }\n\n    }\n\n    int main(int argc, char *argv[])\n    {\n        QCoreApplication a(argc, argv);\n\n        Client cli(0,\"127.0.0.1\",4000);\n\n        string line;\n        while(line!=\"exit\"){\n            cout &lt;&lt; \"Message : \";\n            cin &gt;&gt; line;\n            cli.SendData(QString(line.c_str()));\n        }\n\n        return a.exec();\n    }\n\n     /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Server interface\n\n\n    */\n\n    #ifndef SERVER_H\n    #define SERVER_H\n\n    #include &lt;QtNetwork&gt;\n    #include &lt;QObject&gt;\n    #include &lt;QtNetwork/QTcpServer&gt;\n    #include &lt;QtNetwork/QTcpSocket&gt;\n\n    namespace NetworkArdic\n    {\n\n        class Server: public QTcpServer\n        {\n\n            Q_OBJECT\n            public:\n\n              Server(QObject * parent = 0 , quint16 port = 4000);\n              virtual  ~Server();\n\n            private slots:\n\n              void acceptConnection();\n              void startRead();\n              void disconnected();\n\n            private:\n\n              QTcpSocket * client;\n\n        };\n\n    }\n\n    #endif // SERVER_H\n\n\n\n   /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Server source file\n\n    */\n\n\n    #include \"Server.h\"\n    #include &lt;iostream&gt;\n    using namespace std;\n\n    namespace NetworkArdic{\n\n    Server::Server(QObject* parent , quint16 port): QTcpServer(parent)\n    {\n      connect(this, SIGNAL(newConnection()),this, SLOT(acceptConnection()));\n\n      listen(QHostAddress::Any, port );\n    }\n\n    Server::~Server()\n    {\n      delete client;\n      close();\n    }\n\n    void Server::acceptConnection()\n    {\n      client = nextPendingConnection();\n\n      connect(client, SIGNAL(readyRead()), this, SLOT(startRead()));\n      connect(client, SIGNAL(disconnected()), this, SLOT(disconnected()));\n\n      qDebug() &lt;&lt; \"New client from:\" &lt;&lt; client-&gt;peerAddress().toString();\n    }\n\n    void Server::startRead()\n    { \n        while(client-&gt;canReadLine())\n        {\n            QString line = QString::fromUtf8(client-&gt;readLine()).trimmed();\n            qDebug() &lt;&lt; \"Client :\" &lt;&lt; line;\n\n            client-&gt;write(QString(\"Server : I've taken your message (:\\n\").toUtf8());\n        }\n\n    }\n\n    void Server::disconnected()\n    {\n\n        qDebug() &lt;&lt; \"Client disconnected:\" &lt;&lt; client-&gt;peerAddress().toString();\n\n        client-&gt;write(QString(\"Server : I wish you didn't leave ):\\n\").toUtf8());\n\n    }\n\n    }\n</code></pre>\n"},{"tags":["qt","mingw","qt-creator","msvs"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2133,"score":3,"question_id":6996768,"title":"How to force Qt Creator to use MinGW instead of Visual Studio","body":"<p>We're trying to compile a project with MinGW on the machine that has both MinGW (with Qt) and Visual Studio installed. Unfortunately, Qt creator prefers MSVS by default, and doesn't see it's very own MinGW (<a href=\"http://img220.imageshack.us/img220/9967/85149939.jpg\" rel=\"nofollow\">screenshot</a>). Sadly, this results in a lot of obscure errors, because application was written and debugged with MinGW. Is there way to make Qt Creator to use MinGW without killing MSVS?</p>\n"},{"tags":["c++","qt","encryption","openssl","des"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13095335,"title":"QPixmap encryption using OpenSSL DES","body":"<p>I am trying to encrypt an image converted to base64 encoding to be saved later encrypted in a database.\nI am using a code to encrypt like thi:</p>\n\n<pre><code>//Get the image bytes\nQByteArray ba;\nQBuffer buff(&amp;ba);\nui-&gt;label-&gt;pixmap()-&gt;save(&amp;buff, \"JPG\");\n\n//Convert image bytes to base64 QByteArray\nQByteArray base64 = ba.toBase64();\n\n//Convert base64 to char*\nchar charArray[base64.length()];\nmemcpy(charArray, base64, base64.length());\n\nCCipher ciph;\nchar key[] = \"12345678\";\nchar *encrypted;\n\nencrypted = (char*)malloc(sizeof(charArray));\nmemcpy(encrypted,\n       ciph.Encrypt(key, charArray, sizeof(charArray)),\n       sizeof(charArray));\n\n//Out the encrypted to file\nSaveLogText(\"encrypted.txt\", encrypted);\n</code></pre>\n\n<p>The encrypt function is like:</p>\n\n<pre><code>char *CCipher::Encrypt(char *Key, char *Msg, int size)\n{\n    static char*    Res;\n    int             n=0;\n    DES_cblock      Key2;\n    DES_key_schedule schedule;\n\n    Res = ( char * ) malloc( size );\n\n    /* Prepare the key for use with DES_cfb64_encrypt */\n    memcpy( Key2, Key,8);\n    DES_set_odd_parity( &amp;Key2 );\n    DES_set_key_checked( &amp;Key2, &amp;schedule );\n\n    /* Encryption occurs here */\n    DES_cfb64_encrypt( ( unsigned char * ) Msg, ( unsigned char * ) Res,\n                       size, &amp;schedule, &amp;Key2, &amp;n, DES_ENCRYPT );\n\n    return (Res);\n}\n</code></pre>\n\n<p>The problem is: only the first few bytes of the image is encrypted not the whole image.\nWhat am I doing wrong and how can I do it right?</p>\n"},{"tags":["php","qt","hash"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":11673179,"title":"QMultiHash php, same key, multiple values","body":"<p>I try to convert some code from C++/Qt to php.  The original code has some hash like this:</p>\n\n<p><code>\n<code>QMultiHash&lt;int, QString&gt; Var;</code>\n</code></p>\n\n<p>It means that there can be many values associated to the same key, and at the same time, like:</p>\n\n<p>0 => \"Zero\"</p>\n\n<p>0 => \"0\"</p>\n\n<p>0 => \"etc.\"</p>\n\n<p>How can it be done in php?</p>\n"},{"tags":["c++","qt","windows-live-messenger"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13079432,"title":"Windows Live Messenger \"What I'm listening to\" function","body":"<p>How can I use the Windows Live Messenger \"What I'm listening to\" function? How can I communicate with the WLM to send the song info, so Messenger can set the status? I'm coding in C++ (Qt)</p>\n\n<p>I searched all the net but found nothing about it, not even in other programming languages.</p>\n\n<p>EDIT:</p>\n\n<p>Looks like i didn't make myself clear. I don't want a walkthrough. I want to know if there is an API, or library, or anything to communicate with the Windows Live Messenger to use that function, like media players such as WMP, Winamp and iTunes do.</p>\n\n<p>I searched the Live Connect API, but I haven't found anything about that.</p>\n"},{"tags":["c#","qt","windows-phone-7","bluetooth","symbian"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13093367,"title":"Symbian Windows Phone bluetooth communication","body":"<p>If wanted to communicate bluetooth messages between Symbian and Windows Phone using Qt and C# respectively,how would I go about it? What apis or classes would be able to communicate between the two platforms?</p>\n"},{"tags":["c++","qt","qml","qt-quick","friend-class"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":13071366,"title":"Why we need a \"friend\" here? (C++)","body":"<p>The qml viewer (for 4.8 and 5.0) is implemented like that:</p>\n\n<p>In the .h(eader) we have:</p>\n\n<pre><code>class QtQuick2ApplicationViewer : public QQuickView\n{\n    Q_OBJECT\n\n...\n\nprivate:\n    class QtQuick2ApplicationViewerPrivate *d;\n};\n</code></pre>\n\n<p>Then in the .CPP file:</p>\n\n<pre><code>class QtQuick2ApplicationViewerPrivate\n{\n    QString mainQmlFile;\n    friend class QtQuick2ApplicationViewer;\n    static QString adjustPath(const QString &amp;path);\n};\n\nQtQuick2ApplicationViewer::QtQuick2ApplicationViewer(QWindow *parent)\n    : QQuickView(parent)\n    , d(new QtQuick2ApplicationViewerPrivate())\n{\n    connect(engine(), SIGNAL(quit()), SLOT(close()));\n    setResizeMode(QQuickView::SizeRootObjectToView);\n\n#ifdef Q_OS_ANDROID\n    engine()-&gt;setBaseUrl(QUrl::fromLocalFile(\"/\"));\n#endif\n}\n</code></pre>\n\n<p>Why is using <code>friend</code> necessary here? I don't see any reason why would anybody use a <code>friend</code> class. Is there any real use for friend classes (except for exotics that anybody could live without)?</p>\n\n<p><strong>.h</strong>\n    #include </p>\n\n<pre><code>class QtQuick2ApplicationViewer : public QQuickView\n{\n    Q_OBJECT\n\npublic:\n    explicit QtQuick2ApplicationViewer(QWindow *parent = 0);\n    virtual ~QtQuick2ApplicationViewer();\n\n    void setMainQmlFile(const QString &amp;file);\n    void addImportPath(const QString &amp;path);\n\n    void showExpanded();\n\nprivate:\n    class QtQuick2ApplicationViewerPrivate *d;\n};\n</code></pre>\n\n<p><strong>.cpp</strong></p>\n\n<pre><code>#include \"qtquick2applicationviewer.h\"\n\n#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QtCore/QDir&gt;\n#include &lt;QtQml/QQmlEngine&gt;\n\nclass QtQuick2ApplicationViewerPrivate\n{\n    QString mainQmlFile;\n    friend class QtQuick2ApplicationViewer;\n    static QString adjustPath(const QString &amp;path);\n};\n\nQString QtQuick2ApplicationViewerPrivate::adjustPath(const QString &amp;path)\n{\n#ifdef Q_OS_UNIX\n#ifdef Q_OS_MAC\n    if (!QDir::isAbsolutePath(path))\n        return QString::fromLatin1(\"%1/../Resources/%2\")\n                .arg(QCoreApplication::applicationDirPath(), path);\n#elif !defined(Q_OS_ANDROID)\n    const QString pathInInstallDir =\n            QString::fromLatin1(\"%1/../%2\").arg(QCoreApplication::applicationDirPath(), path);\n    if (QFileInfo(pathInInstallDir).exists())\n        return pathInInstallDir;\n#endif\n#endif\n    return path;\n}\n\nQtQuick2ApplicationViewer::QtQuick2ApplicationViewer(QWindow *parent)\n    : QQuickView(parent)\n    , d(new QtQuick2ApplicationViewerPrivate())\n{\n    connect(engine(), SIGNAL(quit()), SLOT(close()));\n    setResizeMode(QQuickView::SizeRootObjectToView);\n\n#ifdef Q_OS_ANDROID\n    engine()-&gt;setBaseUrl(QUrl::fromLocalFile(\"/\"));\n#endif\n}\n\nQtQuick2ApplicationViewer::~QtQuick2ApplicationViewer()\n{\n    delete d;\n}\n\nvoid QtQuick2ApplicationViewer::setMainQmlFile(const QString &amp;file)\n{\n    d-&gt;mainQmlFile = QtQuick2ApplicationViewerPrivate::adjustPath(file);\n    setSource(QUrl::fromLocalFile(d-&gt;mainQmlFile));\n}\n\nvoid QtQuick2ApplicationViewer::addImportPath(const QString &amp;path)\n{\n    engine()-&gt;addImportPath(QtQuick2ApplicationViewerPrivate::adjustPath(path));\n}\n\nvoid QtQuick2ApplicationViewer::showExpanded()\n{\n#if defined(Q_WS_SIMULATOR)\n    showFullScreen();\n#else\n    show();\n#endif\n}\n</code></pre>\n"},{"tags":["c++","xml","qt","escaping"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13078977,"title":"How do I stop QXmlStreamWriter from escaping quotation marks?","body":"<p>Let me begin by expressing my understanding that what I'm trying to do is <strong>not</strong> normal, nor is it typically well advised. I'm fully aware that in normal XML, the <code>\"</code> character is reserved. </p>\n\n<p>I'm generating <code>.vcxproj</code> files to use in Visual Studio 2010, using a Qt application. I'm taking advantage of the <code>QXmlStreamWriter</code> class to write the XML needed for the project file. However, I'm running into a problem due to Microsoft's non-compliance with the XML standard.</p>\n\n<p>In <code>CustomBuild</code> elements, the user needs to specify the command for building the file. In the case of Qt projects within Visual Studio, you end up with something like this:</p>\n\n<pre><code>  &lt;Command Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\"&gt;\"$(QTDIR)\\bin\\moc.exe\"  \"%(FullPath)\" -o \"..\\myproj\\moc_%(Filename).cpp\"  -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_CORE_LIB -DQT_GUI_LIB -DQT_XML_LIB -DQT_SQL_LIB -DQT_OPENGL_LIB -DQT_QT3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB \"-I.\" \"-I$(QTDIR)\\include\" \"-I$(QTDIR)\\include\\QtCore\" \"-I$(QTDIR)\\include\\QtGui\" \"-I$(QTDIR)\\include\\QtXml\" \"-I$(QTDIR)\\include\\QtSql\" \"-I$(QTDIR)\\include\\QtOpenGL\" \"-I$(QTDIR)\\include\\Qt3Support\" \"-I$(QTDIR)\\include\\QtSvg\" \"-I$(QTDIR)\\include\\QtTest\" \"-I..\\myproj\"&lt;/Command&gt;\n</code></pre>\n\n<p>Yucky, but <em>c'est la vie</em>, especially with Microsoft. Unfortunatey, my <code>QXmlStreamWriter</code> object produces this (fully compliant) output:</p>\n\n<pre><code>  &lt;Command Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\"&gt;$(QTDIR)\\bin\\moc.exe&amp;quot; &amp;quot;%(FullPath)&amp;quot; -o &amp;quot;..\\myproj\\moc_%(Filename).cpp&amp;quot;   -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_CORE_LIB -DQT_GUI_LIB -DQT_XML_LIB -DQT_SQL_LIB -DQT_OPENGL_LIB -DQT_QT3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB &amp;quot;-I.&amp;quot; &amp;quot;-I$(QTDIR)\\include&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtCore&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtGui&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtXml&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtSql&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtOpenGL&amp;quot; &amp;quot;-I$(QTDIR)\\include\\Qt3Support&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtSvg&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtTest&amp;quot; &amp;quot;..\\myproj&amp;quot;&lt;/Command&gt;\n</code></pre>\n\n<p>Naturally, Visual Studio isn't impressed. What are my options here? I could probably read back the file and un-escape it, but that doesn't sound particularly efficient or intelligent.</p>\n"},{"tags":["c++","qt","class","header"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13093865,"title":"C++ header and class file - undefined reference","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>  </p>\n</blockquote>\n\n\n\n<p>.h:</p>\n\n<pre><code>class ArithmeticCoding\n{\npublic:\n    ArithmeticCoding();\n    static void test(QString text);\n\n    static QMap&lt;QChar,int&gt; letters_freq;\n}\n</code></pre>\n\n<p>.cpp:</p>\n\n<pre><code>QMap&lt;QChar, int&gt; letters_freq;\n\nArithmeticCoding::ArithmeticCoding()\n{\n}\n\nvoid ArithmeticCoding::test(QString text)\n{\n    for(int i=0; i&lt;text.length(); i++) letters_freq[text.at(i)]++;\n}\n</code></pre>\n\n<p>I am getting </p>\n\n<blockquote>\n  <p>arithmeticcoding.cpp:-1: error: undefined reference to\n  `ArithmeticCoding::letters_freq'</p>\n</blockquote>\n\n<p>Why?</p>\n"},{"tags":["c++","qt","charts","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":13057437,"title":"How to make charts/graphs (such as line graphs, bar graphs, circle graphs), etc. in C++, QT, QML, Blackberry 10 Cascades Beta 3 SDK?","body":"<p>I need to know how to make charts/graphs in Blackberry 10 Cascades Beta 3 SDK, QML, QT, C++.  If anyone can show me an example or point me to something that shows me how to do this, it would be much appreciated.</p>\n"},{"tags":["ruby","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13092762,"title":"Why doesn't Ruby Qt clock update?","body":"<p>I'm trying to write a custom clock widget in Ruby Qt <code>gem install qtbindings</code> The clock should update every second with the current time. It doesn't, the code seems perfect, why doesn't this work?</p>\n\n<pre><code>require \"Qt4\"\n\nclass ClockLabel &lt; Qt::Label\n    attr_accessor :timer\n    def initialize(date_format = '%Y-%d-%mT%H:%M:%S')\n        super()\n        @date_format = date_format\n        self.set_text(Time.now.strftime date_format)\n    end\n\n    def paint_event(event)\n        super(event)\n        painter = Qt::Painter.new(self)\n        painter.draw_text(event.rect.x, event.rect.y, Time.now.strftime(@date_format))\n    end\n\n    def start\n        @timer = Qt::Timer.new(self)\n        self.connect(@timer, SIGNAL('timeout()'), self, SLOT('update()'))\n        @timer.start(1000)\n    end\nend\n\nif __FILE__ == $PROGRAM_NAME\n    app = Qt::Application.new([])\n    clock = ClockLabel.new()\n    clock.start\n    clock.show\n    app.exec()\nend\n</code></pre>\n"},{"tags":["qt","screen-capture","dual-monitor"],"answer_count":4,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":1935,"score":3,"question_id":3966429,"title":"Capture multiple screens desktop image using Qt4","body":"<p>i am writing a screen capture application in Qt4 with c++. I have a problem when tuning on dual screens. I am unable to get an image with the second screen. I tried a c# application and that will grab all the desktops in one image and i could extract from there each screen desktop image.\nHere is the c# code</p>\n\n<pre><code>    using System;\nusing System.Drawing;\nusing System.Runtime.InteropServices;\n\npublic class TestGrab\n{\n  [STAThread]\n  static void Main(string[] args)\n  {\n    IntPtr hDC = WindowsNative.GetDC(WindowsNative.GetDesktopWindow());\n    IntPtr hBitmap = WindowsNative.GetCurrentObject(hDC,\n    WindowsNative.OBJ_BITMAP);\n    System.Drawing.Bitmap imageDesktop = System.Drawing.Image.FromHbitmap(\n    hBitmap);\n    imageDesktop.Save(@\"c:\\zzzzdesktop.png\");\n  }\n}\n\npublic class WindowsNative\n{\n  [DllImport(\"user32.dll\")]\n  public static extern IntPtr GetDesktopWindow();\n\n  [DllImport(\"user32.dll\")]\n  public static extern IntPtr GetDC(IntPtr ptr);\n\n  public const int OBJ_BITMAP = 7;\n  [DllImport(\"gdi32.dll\")]\n  public static extern IntPtr GetCurrentObject(IntPtr hdc, uint\n  uiObjectType);\n}\n</code></pre>\n\n<p>The Qt code is smaller,also i tested if the native windows handle to the desktop is different from the Qt desktop0>winId() but them are equal</p>\n\n<pre><code>QPixmap CaptureWinDesktop()\n{\n    WId desktop=GetDesktopWindow();\n    WId desktop2=QApplication::desktop()-&gt;winId();\n    if(desktop!=desktop2)\n    {\n        qDebug(\"sunt fdiferite WId\");\n    }\n     QPixmap entireDesktop= QPixmap::grabWindow(desktop);\n     return entireDesktop;\n}\n</code></pre>\n\n<p>I am not sure if this is a bug in Qt or is a feature, using the same window handle it retries only the first desktop when in fact the desktop it is relay composed from the 2 screens . One idea is to use native windows calls and save the image in a temp file and load a QPixmap from there, but that is not simple to save a HBITMAP in a file in c++ without MFC.\nConclusion: what do you think is that a bug in Qt? any idea how to work around it(no MFC )</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13092795,"title":"linking Qt Creator plugin editor / highlighter","body":"<p>I'm working on a qt creator plugin that adds support for certain types of files by supplying customized editors, etc. Right now it registers a new IEditorFactory which produces editors that I based off of the TextEditor::BaseTextEditor and TextEditor::BaseTextEditorWidget.</p>\n\n<p>Eventually I will be creating and using specialized highlighters and other things, but for now I want to utilize things from other qt creator plugins, and this is where I run into trouble. </p>\n\n<p>In particular I want to use the TextEditor::Internal::Highlighter, which can load and utilize kate files. I'm already using other classes from the TextEditor plugin so I have </p>\n\n<pre><code>include($$QTCREATOR_SOURCES/src/plugins/texteditor/texteditor.pri)\n</code></pre>\n\n<p>added to my project file. Inside texteditor.pri everything seems good</p>\n\n<pre><code>include(texteditor_dependencies.pri)\nLIBS *= -l$$qtLibraryName(TextEditor)\n</code></pre>\n\n<p>and, indeed, I'm able to compile my editor (which is dependent on things inside the texteditor plugin).</p>\n\n<p>The only difference with the TextEditor::Internal::Highlighter -as far as I can tell- is that it's in a subfolder of the texteditor plugin. This should be fine, and the object files seem to all land in the same directory, but when I say</p>\n\n<pre><code>new TextEditor::Internal::Highlighter()\n</code></pre>\n\n<p>(just as is done in texteditor/plaintexteditor.cpp) I get a linker error</p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"TextEditor::Internal::Highlighter::Highlighter(QTextDocument*)\", referenced from:\n      MyPlugin::MyEditorWidget::MyEditorWidget(QWidget*)in myeditor.o\n      MyPlugin::MyEditorWidget::MyEditorWidget(QWidget*)in myeditor.o\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>What am I doing wrong? Are there more dependencies I have to declare? Is there a command I can use to force a folder of object files to be in my path while compiling?</p>\n\n<p>Thnaks!</p>\n"},{"tags":["c++","qt","qt-creator","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":57,"score":-3,"question_id":13091848,"title":"What is the equivalent of anchor in Qt C++?","body":"<p>i need to resize an element when the main window is resized, i thought at anchor which is what i used in Visual Basic .NET, but i dosen't found it in Qt Designer, What i should use ?</p>\n\n<p>Details :\nThe element to resize : label\nThe main form is named : Form</p>\n\n<p>Thanks !</p>\n"},{"tags":["qt","qt4","qspinbox"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12892129,"title":"How to prevent QSpinBox from automatically highlighting contents","body":"<p><code>QSpinBox</code> makes its contents selected (highlighted) upon using up/down buttons. Is there any way to disable this?\nIs there any way to clear selection, other than use my own subclass of <code>QSpinBox</code> to access the underlying <code>QLineEdit</code>?</p>\n"},{"tags":["sql-server","database","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":7792293,"title":"Retrieving SCOPE_IDENTITY() with QSqlQuery","body":"<pre><code>bool ok = query.exec(\"CREATE TABLE person ( IdTable INTEGER IDENTITY(1,1) NOT NULL PRIMARY KEY, LastName varchar(255), FirstName varchar(255)  )\");            \nbool ok1 = query.exec(\"INSERT INTO person VALUES ('Wijethilake','Tharanga')\");            \nQSqlQuery scope_Identity(\"SELECT SCOPE_IDENTITY() AS Current_Identity;\");\nQSqlRecord rec = scope_Identity.record();\nqDebug() &lt;&lt; scope_Identity.isValid();\n</code></pre>\n\n<p>This returns false. IS it that something wrong with qt or is my scope Identity statement wrong. I really appreciate someone's help on this.</p>\n\n<p>Thank you. </p>\n"},{"tags":["linux","qt","distribution"],"answer_count":5,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":4954,"score":7,"question_id":934950,"title":"How to make binary distribution of Qt application for Linux","body":"<p>I am developing cross-platform Qt application.\nIt is freeware though not open-source. Therefore I want to distribute it as a compiled binary.</p>\n\n<p>On windows there is no problem, I pack my compiled 'exe' along with MinGW's and Qt's DLLs and everything goes great.</p>\n\n<p>But on Linux there is a problem because the user may have shared libraries in his/her system very different from mine.</p>\n\n<p>Qt deployment guide suggests two methods: static linking and using shared libraries.\nThe first produces huge executable and also require static versions of many libraries which Qt depends on, i.e. I'll have to rebuild all of them from scratches. The second method is based on reconfiguring dynamic linker right before the application startup and seems a bit tricky to me.</p>\n\n<p>Can anyone share his/her experience in destributing Qt applications under Linux? What method should I use? What problems may I confront with? Are there any other methods to get this job done?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","tee","qnetworkaccessmanager","qwebkit","qwebpage"],"answer_count":1,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":1173,"score":1,"question_id":4475647,"title":"How to read data from QNetworkReply being used by QWebPage?","body":"<p>I use <a href=\"http://doc.qt.nokia.com/latest/qwebpage.html\" rel=\"nofollow\"><code>QWebPage</code></a> to download a webpage as well as all its resources. At the same time I'd like to get hold on raw data being downloaded by Qt during this process. Doing this by reading data from <a href=\"http://doc.qt.nokia.com/latest/qnetworkreply.html\" rel=\"nofollow\"><code>QNetworkReply</code></a> in <a href=\"http://doc.qt.nokia.com/latest/qnetworkaccessmanager.html#finished\" rel=\"nofollow\"><code>void QNetworkAccessManager::finished(QNetworkReply * reply)</code></a>\nsignal is not a good solution as data could have been already read by <code>QWebPage</code> itself. This is because</p>\n\n<blockquote>\n  <p>QNetworkReply is a sequential-access\n  QIODevice, which means that once data\n  is read from the object, it no longer\n  kept by the device.</p>\n</blockquote>\n\n<p>according to <a href=\"http://doc.qt.nokia.com/latest/qnetworkreply.html#details\" rel=\"nofollow\">detailed description</a> of <code>QNetworkReply</code>.</p>\n\n<p>However <code>QWebPage</code> can be configured to use custom <a href=\"http://doc.qt.nokia.com/latest/qnetworkaccessmanager.html\" rel=\"nofollow\"><code>QNetworkAccessManager</code></a> with overriden <code>createRequest</code> method</p>\n\n<pre><code>QNetworkReply * QNetworkAccessManager::createRequest ( Operation op, const QNetworkRequest &amp; req, QIODevice * outgoingData = 0 )\n</code></pre>\n\n<p>I think the right solution would be to create a proxy for <code>QNetworkReply</code> and return it in the <code>createRequest</code> method. This proxy should allow for reading data from reply as is the case with the original <code>QNetworkReply</code> (so that <code>QWebPage</code> could read data from it) but at the same time this proxy should allow for reading data by other objects after it have been read by <code>QWebPage</code>. In other words we need <a href=\"http://en.wikipedia.org/wiki/Tee_%28command%29\" rel=\"nofollow\">tee</a> for <code>QNetworkReply</code>'s <code>IODevice</code> base class.</p>\n\n<p>How to write this proxy?</p>\n"},{"tags":["windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13089740,"title":"Qt modal QDialog with Qt::CustomizeWindowHint display wrong on Windows","body":"<p>I have a Qt dialog application, both with Qt::CustomizeWindowHint flag on. In this case, QMainWindow on maximize overrides task bar.  The call of QDialog doesn't lead to anything. Why?</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    setWindowFlags(Qt::CustomizeWindowHint);\n    showMaximized();\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    TestDialog dlg(this);\n    dlg.exec();\n}\n\n\nTestDialog::TestDialog(QWidget *parent) :\n    CustomQDialog(parent),\n    ui(new Ui::TestDialog)\n{\n    ui-&gt;setupUi(this);\n    setWindowFlags(Qt::CustomizeWindowHint);\n}\n\nTestDialog::~TestDialog()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>Example project: <a href=\"http://rghost.ru/41171471\" rel=\"nofollow\">http://rghost.ru/41171471</a></p>\n"},{"tags":["qt","time"],"answer_count":5,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":9403,"score":10,"question_id":244646,"title":"Qt: Fast way to measure time?","body":"<p>I'm looking for the equivalent in Qt to GetTickCount()</p>\n\n<p>Something that will allow me to measure the time it takes for a segment of code to run as in:</p>\n\n<pre><code>uint start = GetTickCount();\n// do something..\nuint timeItTook = GetTickCount() - start;\n</code></pre>\n\n<p>any suggestions?</p>\n"},{"tags":["c++","qt","phonon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":215,"score":0,"question_id":9095341,"title":"QT phonon playback is failing when a QFILE is used for mediaSource, works fine when a string is passed","body":"<p>Below is the code I am using to play a video</p>\n\n<pre><code> QFile* file =new QFile(“C:\\\\Video\\\\test.avi”);\n   media-&gt;setCurrentSource(Phonon::MediaSource(file));\n   media-&gt;play();\n</code></pre>\n\n<p>Using this code the playback fails -what I see is the play bar at the bottom but the video never starts.</p>\n\n<p>If I change the code to the following everything works as expected</p>\n\n<pre><code>  media-&gt;setCurrentSource(Phonon::MediaSource(“C:\\\\Video\\\\test.avi”));\n  media-&gt;play();\n</code></pre>\n\n<p>Are there additional initialization steps required when using an iodevice? Ultimately my code will be using a custom iodevice which is not working as well. </p>\n"},{"tags":["c++","qt","templates"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13087966,"title":"Function pointer for QVariant.toXXX function","body":"<p>I don't know how to create a function pointer to a method in the Qt library that handles QVariant.  I have a number of places in my code where I convert a QVariantList to a QList where SomeType can be QString, int, QMap or other variables that can be held in the QVariant object.  At the time I'm going to use the method, the type is known.  </p>\n\n<p>Can I write a method using templates?  Below is the pseudo code of the method I'd like to write</p>\n\n<pre><code>template &lt;class T&gt;\nQList&lt;T&gt; QVariantListToQList(QVariantList qvList, (* QVariant::toXXX()) convert)\n{\n    QList&lt;T&gt; qlistOfMembers;\n    foreach(T listMember, qvList)\n    {\n        qlist.OfMember.append(listMmeber.convert());\n    }\n    return qlistOfMembers;\n}\n</code></pre>\n\n<p>A link to the documentation where this is discussed or a method using the correct syntax would be appreciated.</p>\n"},{"tags":["qt","ffmpeg"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13088749,"title":"Efficient conversion of AVFrame to QImage","body":"<p>I need to extract frames from a video in my Qt based application. Using ffmpeg libraries I am able to fetch frames as AVFrames which I need to convert to QImage to use in other parts of my application. This conversion needs to be efficient. So far it seems <code>sws_scale()</code> is the right function to use but I am not sure what source and destination pixel formats are to be specified.</p>\n"},{"tags":["qt","netbeans","jni"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13088313,"title":"Qt, NetBeans, C++ plugin : Code editor live parsing error","body":"<p>I have a simple problem with the live parsing on NetBeans, which only affects the editor;</p>\n\n<p>The code works correctly and all dependencies are been satisfied.\nBut the code editor seems not work correctly. </p>\n\n<p>I've done several searches on the web, but I not found anything, just some old bugs of C++ plugin, but they all have been resolved.</p>\n\n<p><strong>My setup is this (<em>QT library</em>):</strong></p>\n\n<ul>\n<li>OS: Mint 13 - 32x86</li>\n<li>NetBeans: 7.2</li>\n<li>Plugin C++: 1.18.1.1</li>\n<li>Qmake: 4.7</li>\n<li>Project type: Dynamic QT C++ Library</li>\n<li>Include JNI ref. : Yes;</li>\n<li>Include QT ref. : Yes;</li>\n</ul>\n\n<p><a href=\"http://s1322.beta.photobucket.com/user/RTOSkit/media/Screenshot-10262012-021945PM.png.html\" rel=\"nofollow\">NetBeans with Error-> http://s1322.beta.photobucket.com/user/RTOSkit/media/Screenshot-10262012-021945PM.png.html</a></p>\n\n<p><em>You can also see in the first image, which in the \"navigator\" missing prototype of the function</em></p>\n\n<p><strong>In this type of configuration(<em>C++ library with QT include</em>), the error disappears:</strong></p>\n\n<ul>\n<li>OS: Mint 13 - 32x86</li>\n<li>NetBeans: 7.2</li>\n<li>Plugin C++: 1.18.1.1</li>\n<li>GCC: 4.6</li>\n<li>Project type: C++ Dynamic Library</li>\n<li>Include JNI ref. : Yes;</li>\n<li>Include QT ref. : Yes;</li>\n</ul>\n\n<p>It's just a graphic problem, the project works perfectly,\nBut in each line of code that I write, the code editor mark  me a totally nonexistent error.</p>\n\n<p>Is there any solution to this problem? or am I just missing something in the configuration of the IDE?</p>\n\n<p>Thanks to all in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":13087179,"title":"Multi-threading in Qt problematic?","body":"<p>I have been learning Qt for a while and a few days ago I decided to go on multi-threading by <code>QThread</code>. I have been following <a href=\"https://www.youtube.com/watch?v=yazMHbIew0Q&amp;list=SP2D1942A4688E9D63&amp;index=35&amp;feature=plpp_video\" rel=\"nofollow\">this</a> person. Since he says that subclassing <code>QThread</code> is not the appropriate way but by using <code>QObject</code> is. I am following his method. But he has created another class which inherits from <code>QObject</code>. I decided to make a few changes:</p>\n\n<pre><code>class myclass\n{\nprivate:\n    dowork();\n\nprivate slots:\n    slota();\n    slotb();\n    slotc();\n}\n\nmyclass::dowork()\n{\n    QThread lett;\n    QThread latt;\n    QThread pltt;\n    QObject lethread;\n    connect(&amp;lett, SIGNAL(started()), this, SLOT(slota()));\n    lethread.moveToThread(&amp;lett);\n    QObject lathread;\n    connect(&amp;latt, SIGNAL(started()), this, SLOT(slotb()));\n    lathread.moveToThread(&amp;latt);\n    QObject plthread;\n    connect(&amp;pltt, SIGNAL(started()), this, SLOT(slotc()));\n    plthread.moveToThread(&amp;pltt);\n\n    lett.start();    \n    latt.start();\n    pltt.start();/*\n    lett.wait();\n    latt.wait();\n    pltt.wait();*/\n    while(lett.isRunning())\n    {\n        //qDebug() &lt;&lt; \"Still Running!\";\n    }\n    lett.quit();\n}\n</code></pre>\n\n<p>If I run the program it keeps running <code>while</code> loop infinitely! It doesn't come out of that at all.\nI used <code>qdebug</code> inside the implementation of the 3 slots to check whether it is entering them or not, and surprisingly none of the slots gets called. Why is that so?\nIf I remove the comments for <code>.wait</code> then the program pauses.</p>\n\n<p>What is wrong in this method? I want to avoid that extra class as my program is very small.</p>\n"},{"tags":["c++","qt","event-handling","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":30,"score":4,"question_id":13086787,"title":"CancelEvent equivalent in Qt signals","body":"<p>I'm usually used to the .net framework and recently got the chance to work on a project using C++/Qt. In this context, I want to implement the following functionality: (to simplify things lets say I have a ListView and a Textbox/Textedit)</p>\n\n<ul>\n<li>If I select an item of the ListView -> show the corresponding text in the textedit <strong>(done)</strong></li>\n<li>If I edit the text and click on another item in the list -> show a dialog that asks whether to save or cancel the changes <strong>(done)</strong>. The textedit gets a signal from the list telling it that the selected item has changed.</li>\n<li>If the user presses save -> save it back and refresh the item in the list, the new item which the user clicked gets selected in the list <strong>(done)</strong></li>\n<li>If the user presses cancel -> don't select the other item which the user clicked <strong>(this is where my problem is)</strong></li>\n</ul>\n\n<p>Basically I see two solutions (there may be more) to this:</p>\n\n<ul>\n<li>Send a signal back from the textedit to the list, telling the list to restore the previous selection. I personally dont like this solution very much, because I have to couple them stronger (the list sends signals to the textedit and now also the other way around). Also, this 'forced' selection restoration could again trigger subsequent signals that would have to be blocked again...</li>\n<li>A much nicer solution (I think) would be to have some Veto-mechanism in the signals. I could imagine the list to send two signals: \n<ul>\n<li>lets call the first one <code>aboutToChangeSelection(proposedSelection, vetoObj)</code> </li>\n<li>and another one after the action is done: <code>changedSelection(newSelection)</code></li>\n</ul></li>\n</ul>\n\n<p>The first signal would be sent to the textedit, which would then eventually make use of its veto. After this, the same signal would be sent to the list itself, do the action depending of the veto and send the second signal if it actually changed the selection. </p>\n\n<p>In the .NET world there exists such a mechanism, with the help of <a href=\"http://msdn.microsoft.com/en-us/library/system.componentmodel.canceleventargs%28v=vs.80%29.aspx\" rel=\"nofollow\"><code>CancelEventArgs</code></a>. I know that .NET events and Qt signals have quite a different working principle, but is there any Qt equivalent to archieve the same effect?</p>\n\n<p>Thanks a lot for any help!</p>\n"},{"tags":["c++","visual-studio","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":805,"score":0,"question_id":4800004,"title":"QNetworkAccessManager finished signal is not emitted when compiled in release mode (VS 2005)","body":"<p>I have a class that reads web pages. It works as expected when it is build in the debug mode in Visual studio, but doesn't work when it is build in release mode. Basically, the QNetworkAccessManager's finished signal never gets emitted.</p>\n\n<p>I have the code stripped to the bare working minimum and it still doesn't work. I have tried to use QtNetworkd4.lib in release mode (the same library as in debug mode) and disable optimization, but no effect.</p>\n\n<p>I would really appreciate any tips on how I can approach this problem. Thanks in advance!</p>\n\n<p>QT version 4.4</p>\n\n<p><strong><em>Edit</em></strong><br>\nHere is some sample code.</p>\n\n<p><strong>Header:</strong></p>\n\n<pre><code>#include &lt;QNetworkAccessManager&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QStringList&gt;\n\nclass WebReader : public QObject{\n    Q_OBJECT\n\npublic:\n    QStringList *pageData_;\n    WebReader();\n    ~WebReader();\n    void fetch(const QString &amp;url);\n\npublic slots:\n    void slotReplyFinished(QNetworkReply *reply);\n\nprotected:\n    QNetworkAccessManager *netManager_;\n\nprivate: \n    QNetworkReply *netReply_;\n};\n</code></pre>\n\n<p><strong>Cpp:</strong></p>\n\n<pre><code>WebReader::WebReader(){\n    netManager_ = new QNetworkAccessManager(this);\n    pageData_ = NULL;\n    connect(netManager_, SIGNAL(finished(QNetworkReply *)), \n                            this, SLOT(slotReplyFinished(QNetworkReply *)));\n}\nWebReader::~WebReader(){    \n}\n\n// Send a request to read a web page\nvoid WebReader::fetch(const QString &amp;url){\n    netReply_ = netManager_-&gt;get(QNetworkRequest(QUrl(url)));\n}\n\n// SLOT that accepts the read data from the webpage\nvoid WebReader::slotReplyFinished(QNetworkReply *reply){\n    if (NULL != pageData_){\n        delete pageData_;\n    }\n    pageData_ = new QStringList(QString(reply-&gt;readAll()).split(QString(\"\\n\")));\n    netReply_-&gt;deleteLater();\n}\n</code></pre>\n\n<p>As you see, it is stripped down to a bare minimum that works in debug mode.</p>\n"},{"tags":["python","qt","pyside","qtreewidget","qtreewidgetitem"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":13062327,"title":"How to delete QTreeWidgetItem","body":"<p>Several webpages say that <code>QTreeWidgetItem</code> can be deleted by deleting or <code>QTreeWidget.clear</code>ing. But my code sample below doesn't seem to do so. Am I doing anything wrong?</p>\n\n<pre><code>#!/usr/bin/python\nimport sys\nfrom PySide.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem\n#from PyQt4.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem # Result was the same with `PySide`\nimport time\n\nclass TreeWidgetItemChild(QTreeWidgetItem):\n    def __init__(self):\n        super(TreeWidgetItemChild, self).__init__()\n        print 'TreeWidgetItemChild init'\n\n    def __del__(self):\n        print 'TreeWidgetItemChild del'\n\ndef test_QTree_clear_children():\n    tree = QTreeWidget()\n    tree.setHeaderLabel('funksoul')\n    i = TreeWidgetItemChild()    \n    tree.addTopLevelItem(i)    \n    print 'Before clearing'\n    #tree.clear()                  # Didn't call destructor (__del__)\n    #tree.removeItemWidget (i, 0)  # Didn't call destructor\n    #i.__del__()                   # Called destructor but it's called again afterward\n    del i                          # Didn't call destructor\n    time.sleep(1)\n    print 'After clearing'\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    test_QTree_clear_children()\n</code></pre>\n\n<p>Printed as:</p>\n\n<pre><code>TreeWidgetItemChild init\nBefore clearing\nAfter clearing\nTreeWidgetItemChild del\n</code></pre>\n\n<p>Looks to me <code>TreeWidgetItemChild</code> gets deleted upon the termination of process, not by any of my deletion actions.</p>\n"},{"tags":["qt","vector","stack"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13083580,"title":"Qt fastest way to add QVector elements to QStack , avoiding loop","body":"<p>i have main </p>\n\n<pre><code>QStack&lt;TypeFoo*&gt; MainStack\n</code></pre>\n\n<p>now i have from different objects methods output </p>\n\n<pre><code>QVector&lt;TypeFoo*&gt; OutPutVec\n</code></pre>\n\n<p>i like to add the elements of OutPutVec to MainStack without looping , just add them to the bottom if the stack , what is the best way to do this ? do i need to convert my OutPutVec\nto QStack?</p>\n\n<p>is this good and fast more then loop ?</p>\n\n<pre><code>QVector&lt;T&gt; &amp; QVector::operator+= ( const QVector&lt;T&gt; &amp; other )\n</code></pre>\n"},{"tags":["qt","open-source","widget","drawing","diagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13086796,"title":"Qt open-source library to draw routers with links?","body":"<p>I want to draw a network topology diagram with qt.<br>\nTo simplify, I only need to draw routers, pcs and links between them, but I want the routers able to <strong>be dragged with links with mouse</strong> and to save all the widgets into a file and reopened if possible.<br>\nThe diagram will be only part of my program, I plan to configure the routers and computers and complete other functions, too.<br>\nAny good links or suggestions? </p>\n"},{"tags":["qt","gstreamer","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13086930,"title":"Phonon video player (gstremer) stops playing after some time","body":"<p>I have a small phonon application which tries to play videos in an infinite loop. I basically have connected the finished signal() to the play() slot. I use a simple logic to change the videos. I also have a timer for 5 sec which helps me change the video every 5 secs. What I expect is that the application plays the videos forever changing the video every 5 secs.</p>\n\n<p>But, The app stops playing the videos after about an hour or so. When I check it memory usage, every time the video changes its memory increases by 7-10mb and never decreases. By the time the app stops playing videos it was occupying about 2.4G!! The app itself never crashes though.</p>\n\n<p>On Ubuntu 10.04 LTS I can see this memory behavior in the System Monitor and using top. Also at the end I see the following message in the terminal \"mmap() failed: Cannot allocate memory\".</p>\n\n<p>On Ubuntu 12.04 LTS I dont see the memory being taken up but eventually the app stops playing the videos.</p>\n\n<p>The behavior is the same with or without the Timer. Without the timer each video plays for its full duration and hence it takes longer for the app to reach the same state.</p>\n\n<p>For me this looks like a bug or a memory leak some where either in Phonon or in the backend gstreamer. Can anyone confirm that?</p>\n\n<p>Also, to avoid this i am currently trying to build phonon with gstreamer1.0 which hopefully will not have the same bug. Please do suggest any resources for building phonon with gstreamer1.0.</p>\n\n<p>Sky.</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13086544,"title":"QTableWidget: What should I do to keep rows selection while clicking among selected rows?","body":"<p>Mouse clicking among selected items selects current, deselects others. </p>\n"},{"tags":["qt","qml","nokia","meego-harmattan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13085715,"title":"Is there an easy (and not too slow) way to compare two images in Qt/QML to detect motion","body":"<p>I would like to implement a motion detecting camera in Qt/QML for Nokia N9.  I hoped that there would be some built in methods for computing image differences but I can't find any in the Qt documentation.  </p>\n\n<p>My first thoughts were to downscale two consecutive images, convert to one bit per pixel, compute XOR, and then count the black and white pixels.</p>\n\n<p>Or is there an easy way of using a library from somewhere else to achieve the same end?</p>\n\n<p>Edit:\nI've just found some example code on the Qt developer network that looks promising:\n<a href=\"http://qt-project.org/doc/qt-4.8/painting-imagecomposition.html\" rel=\"nofollow\">Image Composition Example</a>.</p>\n"},{"tags":["c++","qt","visual-studio-2012"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2494,"score":7,"question_id":12113400,"title":"Compiling Qt 4.8.2 for Visual Studio 2012","body":"<p>What steps should I take to compile Qt (the latest version 4.8.2) for Visual Studio 2012?</p>\n\n<p>I already carefully followed the instructions in the accepted answer of <a href=\"http://stackoverflow.com/questions/5601950/how-to-build-qt-for-visual-studio-2010\">this question</a> (which is for VS 2010), but WebKit module failed to compile (I'm not sure if the error message was logged anywhere during compilation).</p>\n\n<p>I also saw <a href=\"http://stackoverflow.com/questions/10863466/how-to-set-visual-studio-2012-rc-compiler-for-qt-instead-of-mingw\">this question</a> which asks the same, but for VS 2012 RC (which is why I thought this wouldn't be a duplicate question). Furthermore, the answerer says he has compiled Qt for VS 2011 Beta, so there's a chance it may not work for VS 2012 (RTM). The compilation takes a <em>lot</em> of time, which is why I have not tried it yet.</p>\n\n<p>At least one problem I realized is that there's no <code>win32-msvc2012</code> directory in <code>Qt\\mkspecs</code>. Should I just create that directory and copy the files from <code>win32-msvc2010</code>, possibly with some modifications?</p>\n\n<p>Another sub-question is whether I should make some modifications to Qt sources before starting compilation.</p>\n"},{"tags":["qt","pyqt","gridlayout"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13080343,"title":"Laying Widgets in QGridLayout","body":"<p>I need to create the <code>QWidget</code>(<code>QtoolButton</code>) in <code>QgridLayout</code> without specifying the indices for row and column. It should automatically get created to next empty cell in the layout according to row and column mentioned.</p>\n\n<p>I was not able to find any method in <code>QgridLayout</code> help.</p>\n\n<p>I tried <code>.addWidget (self, QWidget w)</code>, but it add all the <code>QWidget</code> to the index of (0,0) and all the buttons lie over each other.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","opencv","libjpeg"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12150605,"title":"Why can't I link against opencv and qt when handling jpeg images?","body":"<p>Loading a QImage object from a jpeg file fails when the application is linked against OpenCV 2.3 or 2.4.  The program segfaults when I attempt to create a QImage from a jpeg file</p>\n\n<pre><code>QImage( \"some-jpeg.jpg\" )\n</code></pre>\n\n<p>This is only true if the application is linked against opencv's highgui library.</p>\n\n<p>I'm building on Ubuntu 12.04 with OpenCV 2.4 and Qt 4.8.1</p>\n\n<p>Does anyone know why this is happening and how I can work around this?  My research project uses OpenCV's image processing code and the frontend depends on Qt.</p>\n\n<p>I've put a bug report in to Qt (https://bugreports.qt-project.org/browse/QTBUG-27032).  I tried at OpenCV, but their registration project is borked or something, because it accepted registration info, but then denies attempts to log in...</p>\n\n<p>qt-cv-jpg-test.pro</p>\n\n<pre><code>QT += core gui\n\nTARGET = qt-cv-jpg-test\nTEMPLATE = app\n\nINCLUDEPATH += /usr/local/include\nLIBS += -L/usr/local/lib -lopencv_highgui -lopencv_core\n\nSOURCES += main.cpp\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QImage&gt;\n#include \"opencv2/core/core.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\nint main(int argc, char *argv[])\n{\n    QString fileName = \"some-jpeg.jpg\";\n    cv::Mat cvImage = cv::imread( fileName.toStdString() );\n    QImage qtImage( fileName );\n    return 0;\n}\n</code></pre>\n\n<p>The program segfaults, but here is the stack:</p>\n\n<pre><code>0   jpeg_CreateDecompress   /usr/local/lib/libopencv_highgui.so.2.4 0   0x7ffff7ae55fc  \n1   ??  /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqjpeg.so  0   0x7ffff0549ee7  \n2   ??  /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqjpeg.so  0   0x7ffff054a18f  \n3   QImageReader::read(QImage*) /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c3f0c8  \n4   QImageReader::read()    /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c3f6f7  \n5   QImage::load(QString const&amp;, char const*)   /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c348dc  \n6   QImage::QImage(QString const&amp;, char const*) /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c34a75  \n7   main    main.cpp    9   0x400d10\n</code></pre>\n\n<p>I don't really know why an opencv method is showing up at the bottom of the stack.  I built opencv telling it to use the libjpeg on the file system.  I have both libjepg 6.2 and libjpeg8 installed on the system.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13082616,"title":"Qt Object::connect: No such slot Signal to Thread Slot","body":"<p>i try to invoke Slot in thread object when threas started but getting this error:</p>\n\n<pre><code>Object::connect: No such slot Worker::doWork(pFoo)\n</code></pre>\n\n<p>the thread executing code:</p>\n\n<pre><code>// main class   \n\n            m_WorkerThread = new QThread();\n\n             FooStack* pfooStack = InternalStorageManager::getInstance()-&gt;getStack();\n             m_Worker = new Worker();\n             bool done = connect(m_WorkerThread,\n                                    SIGNAL(started()),\n                                    m_Worker,\n                                    SLOT(doWork(pfooStack))); \n\n             m_Worker-&gt;moveToThread(m_WorkerThread);          \n             m_WorkerThread-&gt;start();\n\n\n\n// class Worker\n // cpp imple            \nvoid Worker::doWork(FooStack *&amp; rp_urlsStack)\n{\n\n}\n// header \nclass Worker : public QObject\n{\n\n    Q_OBJECT\n\n    public :\n\n        Worker();\n        ~Worker();\n    public slots:\n        void doWork(FooStack *&amp;);\n\n};\n</code></pre>\n"},{"tags":["python","qt","pyqt","qtwebkit","qwebview"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":957,"score":3,"question_id":3072531,"title":"Loading page with frames for a screenshot","body":"<p>I have an app that renders a web page in a iframe, and then loads X number of images in a div that overlays the frame. </p>\n\n<p>So I have this python script that loads the url, and takes a screenshot. It works on regular web pages, but I think the frame is throwing it off. Below is my code, and a link to the screenshot it's taking.</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport signal\n\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtWebKit import QWebPage\n\ndef onLoadFinished(result):\n    if not result:\n        print \"Request failed\"\n        sys.exit(1)\n\n    #screen = QtGui.QDesktopWidget().screenGeometry()\n    size = webpage.mainFrame().contentsSize()\n    # Set the size of the (virtual) browser window\n    webpage.setViewportSize(webpage.mainFrame().contentsSize())\n\n    # Paint this frame into an image\n    image = QImage(webpage.viewportSize(), QImage.Format_ARGB32)\n    painter = QPainter(image)\n    webpage.mainFrame().render(painter)\n    painter.end()\n    image.save(\"/var/www/html/output.png\")\n    sys.exit(0)\n\n\nqtargs = [sys.argv[0]]\nqtargs.append(\"-display\")\nqtargs.append(\":0\")\n\napp = QApplication(qtargs,True)\n#app = QApplication(sys.argv)\nsignal.signal(signal.SIGINT, signal.SIG_DFL)\n\nwebpage = QWebPage()\nwebpage.mainFrame().setScrollBarPolicy(Qt.Horizontal, Qt.ScrollBarAlwaysOff)\nwebpage.mainFrame().setScrollBarPolicy(Qt.Vertical, Qt.ScrollBarAlwaysOff)\nwebpage.connect(webpage, SIGNAL(\"loadFinished(bool)\"), onLoadFinished)\nwebpage.mainFrame().load(QUrl(\"http://localhost/heatmap\"))\n\nsys.exit(app.exec_())\n</code></pre>\n\n<p>Screenshot taken:\n<a href=\"http://img28.imageshack.us/img28/7506/outputc.png\" rel=\"nofollow\">http://img28.imageshack.us/img28/7506/outputc.png</a></p>\n\n<p>As you can see in the above image, the page is shrunk into a small image with scroll bars, not showing the entire page with the iframe and div on top of it. Do I somehow need to load the stylesheets or force it to render like it is in the browser? Qt.ScrollbarAlwaysOff doesn't really seem to be working in my instance. The \"placeholder text\" is part of the webpage, and the image is what is making it kind of grey, with a blue smug and color key in the top left.</p>\n\n<p>When I print the contents of webpage.mainFrame().contentsSize() for my app, I get\nPyQt4.QtCore.QSize(400, 158)</p>\n\n<p>But when I render something like www.google.com, I get\nPyQt4.QtCore.QSize(617, 573)</p>\n\n<p>So something isn't being loaded properly to mess up the contentsSize(). Ideas on where I have gone wrong?</p>\n"},{"tags":["qt","embedded","x11","cross-compiling","powerpc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1257,"score":2,"question_id":3877425,"title":"How to cross-compile Qt X11 for PowerPC?","body":"<p>I have been trying to get Qt X11 cross compiled for PowerPC for a while now and kept having various problems.</p>\n\n<p>From the information given my Qt support, all one needs to do is:</p>\n\n<ol>\n<li>Create a new mkspec</li>\n<li>Copy an existing directory in <code>mkspec/</code>  I used linux-g++ and modified it.</li>\n<li>Modify qmake.conf to use your toolchain, libraries and includes</li>\n<li><p>Run the following configure command:</p>\n\n<p><code>./configure -arch &lt;your arch&gt; -xplatform &lt;your mkspec&gt; -prefix &lt;where you want Qt installed&gt; &lt;other options&gt;</code></p></li>\n<li><p>After configure is done, run <code>make</code> then <code>make install</code>.  You'll find Qt installed in the directory you specified in the <code>-prefix</code> option.</p></li>\n</ol>\n\n<p>Had all kinds of problems doing this.</p>\n"},{"tags":["c++","qt","mingw","protocol-buffers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":148,"score":2,"question_id":13000290,"title":"Generated Protobuf code crashes application","body":"<p>I'm trying to implement save-file for application, by using Protocol Buffers by Google.</p>\n\n<p><strong>Preparation</strong></p>\n\n<p>A simple test .proto file has been created to test functionality:  </p>\n\n<pre><code>message LessonFile {  \n  optional string creator = 1;  \n}\n</code></pre>\n\n<p>Created .pb.cc and .pb.h are included into project. Lib and include directory are specified in project's properties.</p>\n\n<p><strong>Problem</strong><br>\nIncluding newly generated code into project results application crash during runtime.</p>\n\n<p>By debugging crash state, it pointed on this function: </p>\n\n<pre><code>UnknownFieldSet::UnknownFieldSet()\n    : fields_(NULL) {} ---------here---------\n</code></pre>\n\n<p>while frame above points on:</p>\n\n<pre><code>LessonFile::LessonFile()\n    : ::google::protobuf::Message() { ---------here---------\n    SharedCtor();\n}\n</code></pre>\n\n<p>Call stack:</p>\n\n<blockquote>\n  <p>google::protobuf::UnknownFieldSet::UnknownFieldSet (this=0x770e3cc3)\n  LessonFile (this=0xba64b30) protobuf_AddDesc_LessonFile_2eproto ()\n  StaticDescriptorInitializer_LessonFile_2eproto (this=0x4bc108)\n  __static_initialization_and_destruction_0 (__initialize_p=1, __priority=65535) global constructors keyed to _Z38protobuf_AssignDesc_LessonFile_2eprotov ()\n  __do_global_ctors ()\n  __mingw_CRTStartup () WinMainCRTStartup ()</p>\n</blockquote>\n\n<p><strong>Additional info</strong><br>\nEnvironment: Netbeans; Windows7-64; Qt-4.8.1 + mingw, protobuf-2.4.1.<br>\nAlso there were problems with Protobuf compilation process: <em>make check</em> is constantly fails with this messages:</p>\n\n<blockquote>\n  <p>In file included from ./include/gtest/gtest-param-test.h:159:0,\n                   from ./include/gtest/gtest.h:59,\n                   from src/gtest.cc:34: ./include/gtest/internal/gtest-param-util-generated.h: In\n  instantiation of ::operator\n  testing::internal::ParamGenerator() const [with T = bool; T1 =\n  bool; T2 = bool]>: ./include/gtest/gtest-param-test.h:1186:28:<br>\n  required from here\n  ./include/gtest/internal/gtest-param-util-generated.h:80:26: error:\n   was not declared in this scope, and no declarations were\n  found by argument-dependent lookup at the point of instantiation\n  [-fpermissive] In file included from ./include/gtest/gtest.h:59:0,\n                   from src/gtest.cc:34: ./include/gtest/gtest-param-test.h:288:58: note:   testing::internal::ParamGenerator testing::ValuesIn(const Container&amp;)> declared\n  here, later in the translation unit</p>\n</blockquote>\n\n<p>though <em>libraries</em> and <em>protoc.exe</em> were compiled successfully and <em>make install</em> created include directory and lib*.a/lib*.dll.a files.</p>\n"},{"tags":["c++","qt","qt4.8"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13079102,"title":"QLabel wordWrap setting produces unexpected sizeHint","body":"<p>Below is a very simple Qt ui file to show my issue. (using Qt 4.8.0 on Windows 7 64bit)</p>\n\n<p>To reproduce the problem, load the file in designer on Windows (may happen on other OS's too) and press ctrl+R to display the dialog described by the file. Start typing in the edit field and then grab the lower right corner to resize the dialog. The size of the dialog will pop to fit the label's new text which is expected. What's not expected is that there is a variable amount of space at the bottom of the label depending on what gibberish you typed into the line edit (sometimes more, sometimes less).</p>\n\n<p>Why does a wordWrap QLabel get so confused as to how tall it should be when it basically has a fixed width?</p>\n\n<p>test.ui</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;Dialog&lt;/class&gt;\n &lt;widget class=\"QDialog\" name=\"Dialog\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;86&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"sizePolicy\"&gt;\n   &lt;sizepolicy hsizetype=\"Fixed\" vsizetype=\"Fixed\"&gt;\n    &lt;horstretch&gt;0&lt;/horstretch&gt;\n    &lt;verstretch&gt;0&lt;/verstretch&gt;\n   &lt;/sizepolicy&gt;\n  &lt;/property&gt;\n  &lt;property name=\"minimumSize\"&gt;\n   &lt;size&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;0&lt;/height&gt;\n   &lt;/size&gt;\n  &lt;/property&gt;\n  &lt;property name=\"maximumSize\"&gt;\n   &lt;size&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;16777215&lt;/height&gt;\n   &lt;/size&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;Dialog&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;layout class=\"QGridLayout\" name=\"gridLayout\"&gt;\n   &lt;item row=\"2\" column=\"0\"&gt;\n    &lt;widget class=\"QDialogButtonBox\" name=\"buttonBox\"&gt;\n     &lt;property name=\"orientation\"&gt;\n      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;\n     &lt;/property&gt;\n     &lt;property name=\"standardButtons\"&gt;\n      &lt;set&gt;QDialogButtonBox::Ok&lt;/set&gt;\n     &lt;/property&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n   &lt;item row=\"1\" column=\"0\"&gt;\n    &lt;widget class=\"QLabel\" name=\"label\"&gt;\n     &lt;property name=\"alignment\"&gt;\n      &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n     &lt;/property&gt;\n     &lt;property name=\"wordWrap\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n     &lt;/property&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n   &lt;item row=\"0\" column=\"0\"&gt;\n    &lt;widget class=\"QLineEdit\" name=\"lineEdit\"/&gt;\n   &lt;/item&gt;\n  &lt;/layout&gt;\n &lt;/widget&gt;\n &lt;resources/&gt;\n &lt;connections&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;lineEdit&lt;/sender&gt;\n   &lt;signal&gt;textChanged(QString)&lt;/signal&gt;\n   &lt;receiver&gt;label&lt;/receiver&gt;\n   &lt;slot&gt;setText(QString)&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;120&lt;/x&gt;\n     &lt;y&gt;14&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;146&lt;/x&gt;\n     &lt;y&gt;47&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;buttonBox&lt;/sender&gt;\n   &lt;signal&gt;rejected()&lt;/signal&gt;\n   &lt;receiver&gt;Dialog&lt;/receiver&gt;\n   &lt;slot&gt;reject()&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;304&lt;/x&gt;\n     &lt;y&gt;76&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;286&lt;/x&gt;\n     &lt;y&gt;85&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;buttonBox&lt;/sender&gt;\n   &lt;signal&gt;accepted()&lt;/signal&gt;\n   &lt;receiver&gt;Dialog&lt;/receiver&gt;\n   &lt;slot&gt;accept()&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;236&lt;/x&gt;\n     &lt;y&gt;76&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;157&lt;/x&gt;\n     &lt;y&gt;85&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n &lt;/connections&gt;\n&lt;/ui&gt;\n</code></pre>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":13059321,"title":"Why won't my generated .sln file open in Visual Studio 2010?","body":"<p>I'm dealing with a fairly large C++ code base. The code base is normally intended to be compiled under Linux, using custom build scripts and makefiles. I'm porting the code into Visual Studio, which as anyone who's used Visual Studio would agree, is a pain to do manually. </p>\n\n<p>My own looking has been kind of fruitless, so I started writing my own utility in Qt to analyze the codebase and generate a solution file and accompanying <code>.vcxproj</code> files. I've been using the <code>QUuid</code> class to generate GUIDs for each of the projects, and I'm using <code>QTextStream</code> to write the <code>.sln</code> file.</p>\n\n<p>Now, here's the problem: When I open the generated <code>.sln</code> file, I see the following errors.\n<img src=\"http://i.stack.imgur.com/0gOTt.png\" alt=\"The selected file is not a valid solution file\">\n<img src=\"http://i.stack.imgur.com/6SPjb.png\" alt=\"The system can not find the file specified\"></p>\n\n<p>I'm currently trying to generate a solution that I've already manually created within the Visual Studio IDE. I've compared my generated <code>.sln</code> file against the the one Visual Studio created, and apart from the projects appearing in a different order and the GUIDs not matching (obviously), I can't spot a difference. I'm including a simplifed example of my problem here.</p>\n\n<p><strong>Visual Studio generated this:</strong></p>\n\n<pre><code>Microsoft Visual Studio Solution File, Format Version 11.00\n# Visual Studio 2010\nProject(\"{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}\") = \"mylib\", \"mylib\\mylib.vcxproj\", \"{35BAFEEE-35FA-4313-AF67-AF8AB7458451}\"\nEndProject\nGlobal\n    GlobalSection(SolutionConfigurationPlatforms) = preSolution\n        Debug|Win32 = Debug|Win32\n        Release|Win32 = Release|Win32\n    EndGlobalSection\n    GlobalSection(ProjectConfigurationPlatforms) = postSolution\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Debug|Win32.ActiveCfg = Debug|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Debug|Win32.Build.0 = Debug|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Release|Win32.ActiveCfg = Release|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Release|Win32.Build.0 = Release|Win32\n    EndGlobalSection\n    GlobalSection(SolutionProperties) = preSolution\n        HideSolutionNode = FALSE\n    EndGlobalSection\nEndGlobal\n</code></pre>\n\n<p><strong>And I generated this:</strong></p>\n\n<pre><code>Microsoft Visual Studio Solution File, Format Version 11.00\n# Visual Studio 2010\nProject(\"{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}\") = \"mylib\", \"mylib\\mylib.vcxproj\", \"{A09FDB84-49CD-4C14-9D7D-D813D2D905EF}\"\nEndProject\nGlobal\n    GlobalSection(SolutionConfigurationPlatforms) = preSolution\n        Debug|Win32 = Debug|Win32\n        Release|Win32 = Release|Win32\n    EndGlobalSection\n    GlobalSection(ProjectConfigurationPlatforms) = postSolution\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Debug|Win32.ActiveCfg = Debug|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Debug|Win32.Build.0 = Debug|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Release|Win32.ActiveCfg = Release|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Release|Win32.Build.0 = Release|Win32\n    EndGlobalSection\n    GlobalSection(SolutionProperties) = preSolution\n        HideSolutionNode = FALSE\n    EndGlobalSection\nEndGlobal\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>What do these specifc error messages mean?</li>\n<li>Is there any way I can get more specific information on what's wrong with the <code>.sln</code> file?</li>\n<li>Is there something wrong with the GUIDs I'm generating? Should I be using the Visual Studio tool to create GUIDs?</li>\n<li>Is there some metadata or other invisible special sauce in the file that I'm missing?</li>\n</ol>\n\n<p>I'm pretty sure the issue isn't with text encoding--I used notepad to create a UTF-8 version of the <code>.sln</code> and tried opening that instead. </p>\n\n<p>In light of everything, it seems like my GUIDs are causing the issue--though I'm not sure how or why. </p>\n\n<h2>Update</h2>\n\n<p>The only major difference I noticed between these files was the file size. The two files differ by exactly 3 bytes, but I couldn't see anything in the file using my text editor. However, an article by <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow\">Joel Spolsky</a> got me thinking. There ain't no such thing as plain text--everything's just a representation of 1's and 0's, after all. </p>\n\n<p>I opened up the two files in a hex editor, and presto, I found the 3 bytes at the start of the Microsoft-generated file! (<code>0xEF, 0xBB, 0xBF</code>). These three bytes also appear in a Visual Studio 2008 solution I had lying around on a different machine. I could probably write my code to slip these bytes into the file before I start writing the solution, but that still begs the question:</p>\n\n<p><strong>What the heck are these bytes for, and why is Microsoft using them?</strong></p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13077803,"title":"Polymorphic C++ with Pure Virtual Function destructor","body":"<p>I am not sure if the following code is safe from memory leak.</p>\n\n<pre><code>#ifndef RENDERABLE_H\n#define RENDERABLE_H\n\nclass QGLShaderProgram;\nclass GLWidget;\nclass BoundingBox;\n\nclass Renderable{\n\npublic:\n    virtual void update(float duration) = 0;\n    virtual void render(QGLShaderProgram&amp; shader, float duration) = 0;\n    virtual BoundingBox* getBBox() const = 0;\n    virtual void translate(float xx, float yy, float zz) = 0;\n    virtual void rotate(float degrees_x, float degrees_y, float degrees_z) = 0;\n    virtual void scale(float xx, float yy, float zz) = 0;\n};\n\n#endif // RENDERABLE_H\n</code></pre>\n\n<p>The above \"interface\" is been implemented by object3d.cpp. We may then add many Object3D objects into a Scene object if they belong to the same scene. However, upon the end of the scene, I want to ensure there is no memory leak and so I would call delete on everything. However, in the scene object, I have the following variable:</p>\n\n<pre><code>QVector&lt;Renderable*&gt;* sceneObjects;\nQVector&lt;GLTexture2D*&gt;* sceneTextures;\nQMap&lt;QString, Material*&gt;* sceneMaterials;\n</code></pre>\n\n<p>As you can see, </p>\n\n<pre><code>delete sceneObjects;\ndelete sceneTextures;\ndelete sceneMaterials;\n</code></pre>\n\n<p>should delete the QVector and according to Qt, it should call the destructor of those objects in it. However, Qt documentation were not clear about object POINTERS. Would Qt delete object pointers with their proper destructor? Additionally, what happens to Renderable pointers? As you can see from the \"interface\" that it has no destructor.</p>\n\n<p>Thanks for any input.\nChaoSXDemon</p>\n"},{"tags":["c++","windows","qt","compilation","cmake"],"answer_count":6,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":889,"score":13,"question_id":7735979,"title":"Fast Qt C++ compile on windows","body":"<p>I have a large project that uses the Qt framework and am trying to find the fastest way to compile it on my Windows install.</p>\n\n<p>On my linux machine at home I use 3 year old Linux Mint setup with a dual core <em>(the machine is 3 years old not Linux Mint install)</em>, using: make -j2 both cores are used full(ish) and compiles the code relatively quick, around 10 minutes from clean build.</p>\n\n<p>However on my work Windows PC which is 2.0 GHz Intel Core 2 Quad (XP) I can never seem to get the compiles to be as fast as my Linux box.  The developer docs for the program recommend using Visual Studio C++ using the project file generated from cmake but that only seems to use one core and takes well over a hour to compile vs about 10 minutes (from clean build) on my Linux install.</p>\n\n<p>I have tred using <a href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=3&amp;ved=0CCsQFjAC&amp;url=http://labs.qt.nokia.com/2009/03/27/speeding-up-visual-c-qt-builds/&amp;rct=j&amp;q=jom%20qt&amp;ei=ky6VTsqoN-uTiAeSwsSHBg&amp;usg=AFQjCNHYl0IBb7iewb52bsXBJ3OiDeJpbw&amp;sig2=4FLQu_xxWtzUMqbt9YVkgw\" rel=\"nofollow\">jom</a> but even when using all the cores it still takes around an hour and half because it only seems to use small amounts of cpu on each core.</p>\n\n<p>Doesn't make sense to me that my old Linux machine builds quick but the quad core just slumps along.    </p>\n"},{"tags":["c++","arrays","qt","random"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13077356,"title":"Generate unique multiple random numbers","body":"<p>I want to generate unique random numbers and add item in function of these random numbers. Here is my code :</p>\n\n<p>The problem is when i verify if the number generated exist in the array with the code <code>results.contains(randomNb)</code> :</p>\n\n<pre><code>   int nbRandom = ui-&gt;randoomNumberSpinBox-&gt;value();\n   //nbRandom is the number of the random numbers we want\n   int i = 1;\n   int results[1000];\n   while ( i &lt; nbRandom ){\n       int randomNb = qrand() % ((nbPepoles + 1) - 1) + 1;\n       if(!results.contains(randomNb)){\n           //if randomNb generated is not in the array...\n           ui-&gt;resultsListWidget-&gt;addItem(pepoles[randomNb]);\n           results[i] = randomNb;\n           //We add the new randomNb in the array\n           i++;\n       }\n   }\n</code></pre>\n"},{"tags":["c++","qt","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13076953,"title":"How to know if a string exist in a item based ListView Qt C++","body":"<p>I want to know if a string exists in any item of a list view in C++ with Qt, how to do that ?</p>\n"},{"tags":["c++","arrays","qt","qt-creator","qfile"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13076388,"title":"How to add data in array QT C++","body":"<p>I want to read line by line a text file and add each line in a array, I try something like that, but something is wrong with my array, what ?</p>\n\n<pre><code>QFile inputFile(\"C:\\\\pepoles.txt\");\nif (inputFile.open(QIODevice::ReadOnly))\n{\n    QTextStream in(&amp;inputFile);\n    QString pepoles[1000];\n    while ( !in.atEnd() )\n    {\n        QString line = in.readLine();\n        pepoles[] = line;\n    }\n    ui-&gt;lineEdit-&gt;setText(pepoles[0]);\n}\nelse{\n    QMessageBox::critical(this, \"Ouups\",\n                          \"Le fichier est introuvable ou vide...\");\n}\n\ninputFile.close();\n}\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["c++","qt","dll"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13075258,"title":"how to call function in c++ from delphi compiled dll","body":"<p>I have a problem with using dll library made in delphi. I don't have sources for it - only dll and interface. I want to import it in my c++ program. I don't need to use QT for loading (but it would be probably the best option as ) - also standard Windows api is applicable. </p>\n\n<p>First, <strong>interface of the dll:</strong></p>\n\n<pre><code>Unit VPInterface;\ninterface\n\ntype\n TSignal     = array of double;\n ShortVector = array[0..11] of double;\n\nfunction VP(s: TSignal): ShortVector; stdcall;\n stdcall external 'VoicePrint.dll' name 'VP';\n\nimplementation\n\nEnd {VPInterface.pas}.\n</code></pre>\n\n<p><strong>The QT version:</strong></p>\n\n<pre><code>typedef double* (*VPFunct)(double[]);\nvector&lt;double&gt; v_double;\n// put some values in v_double\nQLibrary lib(\"VoicePrint.dll\");\nVPFunct vpfunct = (VPFunct) lib.resolve(\"VP\");\nif (vpfunct) {\n  double * res = vpfunct(&amp;v_double[0]);\n}\n</code></pre>\n\n<ol>\n<li>The function is called and some output is returned but it's rubbish. As you can see I passed internal vector's array (&amp;v_double[0]). I tried with double array on stack but the function haven't finished. Can someone explain it why?</li>\n<li><p>Why I don't see correct results? I have similar code in C# and it works:</p>\n\n<pre><code>namespace WAT_DLL_TEST\n{\npublic class VoicePrint\n{\n    [DllImport(\"VoicePrint.dll\", CharSet = CharSet.Ansi, EntryPoint = \"VP\", CallingConvention = CallingConvention.StdCall)]\n    [return: MarshalAs(UnmanagedType.Struct)]\n    public static extern ShortVector VP(double[] signal);\n\n\n    [StructLayout(LayoutKind.Explicit, Size = 48)]\n    public unsafe struct ShortVector\n    {\n        [FieldOffset(0)]\n        public fixed double m_buffer[6];\n    }\n\n}\n}\n</code></pre></li>\n</ol>\n\n<p>May a structure be the actual problem?</p>\n\n<p>And here is my code for running it using windows api:</p>\n\n<pre><code>HINSTANCE hinstDLL;\nVPFunct myFunct;\nBOOL fFreeDLL;\n\nhinstDLL = LoadLibrary(L\"VoicePrint.dll\");\nif (hinstDLL != NULL)\n{\n    myFunct = (VPFunct) GetProcAddress(hinstDLL, \"VP\");\n    if (myFunct != NULL) {\n        double * dptr = myFunct(&amp;v_double[0]);\n        for(int i=0; i&lt;11; i++)\n            cout &lt;&lt; dptr[i] &lt;&lt; endl;\n    }\n    fFreeDLL = FreeLibrary(hinstDLL);\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["c++","qt","vector"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13055792,"title":"Deleting from vector and QVBoxLayout","body":"<p>I use QT and have a vector and a QVBoxLayout filled with Widgets. It's no Problem to fill both with an <code>Add</code> Button, but deleting them doesn't really work.</p>\n\n<p>If I delete the Widgets from last to first everything works just fine, but when I try to delete them in any other way everything fails. Maybe someone has an idea?</p>\n\n<pre><code>void listwindow::remove_entry()\n{\n vector&lt;todo_list_entry *&gt;::iterator pos;\n\n int i=0;\n for (pos=list_entrys_vector.begin();pos&lt;=list_entrys_vector.end();pos++)\n {\n  if((**pos).check_delete()==true)\n  {\n   listenLayout-&gt;removeWidget(*pos);\n   listenLayout-&gt;update();\n   list_entrys_vector.erase(pos);\n   delete list_entrys_vector[i];\n   break;\n  }\n  i++;\n }\n} \n</code></pre>\n"},{"tags":["qt","licensing","qt4"],"answer_count":7,"favorite_count":5,"up_vote_count":16,"down_vote_count":1,"view_count":12640,"score":15,"question_id":352896,"title":"Qt commercial licenses?","body":"<p>Does anyone know the details of the Qt commercial license? Cost? Hidden policy gotchas, single and multi platform etc?</p>\n\n<p>Forgive my laziness, however their website offers few details and I thought I would ask here about anyone's specific experiences prior to submitting to the sales pitch.</p>\n\n<p>Is the commercial vs open source installation different in license only?</p>\n\n<p>What's to keep me from developing something in the Open Source version then buy the commercial license other than their policy?</p>\n\n<p>I think they might sell more licenses if they decreased the margin a bit...</p>\n\n<p>I do like the platform and it has been said that it's worth the expense. Thanks in advance for your thoughts.</p>\n\n<p><strong>UPDATE:</strong> Qt will become LGPL <a href=\"http://www.qtsoftware.com/about/licensing\">Link</a></p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13075643,"title":"Sorting by date in QTreeWidget","body":"<p>I have a QTreeWidget with 3 columns. It is used in a search function and the tree holds </p>\n\n<ol>\n<li>Result name</li>\n<li>Result date</li>\n<li>Number of hits in result for $searchterm. </li>\n</ol>\n\n<p>The default behavior is to sort by date descending. This originally worked perfectly since that was done through the SQL query and just loaded into the tree afterward. However, things got broken when I decided to allow the user to sort by the other columns and not just date. </p>\n\n<p>The dates are in mm/dd/yyyy format but the QTreeWidget ignores the year while sorting in favor of month and day. It seems to want to treat dates like integers. The month and day are sorted correctly but the years are mixed together when they should not be. ( 10/06/2012, 10/06/2011, 10/05/2012, etc.) Is there a way I can tell the QTreeWidget sort function to give year the top priority (so that everything from 2012 is grouped together, everything from 2011 is grouped together, etc.) or even tell it to use a date format in that column? </p>\n"},{"tags":["qt","sdk","compiler-errors","installer","compatibility"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13050251,"title":"Issues Making a SciDAVis Installer","body":"<p>I've been trying to make an installer for SciDAVis after adding a new .py to the source code on .  I've been following the steps discussed on the site: <a href=\"http://fossies.org/unix/privat/scidavis-0.2.4.tar.gz:a/scidavis-0.2.4/INSTALL.html\" rel=\"nofollow\">http://fossies.org/unix/privat/scidavis-0.2.4.tar.gz:a/scidavis-0.2.4/INSTALL.html</a>.  For all of the libraries the process worked just fine, but once I got to the section where you \"make\" scidavis, I get the warnings below:</p>\n\n<p>C:\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4>make</p>\n\n<p>bldmake bldfiles</p>\n\n<p>ABLD.BAT build winscw udeb</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\EXPORT.make\" EXPORT VERBOSE=-s\nmake[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>Nothing to do</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" MAKEFILE VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW MAKMAKE</p>\n\n<p>perl -S makmake.pl  -D \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54 WINSCW</p>\n\n<p>MMPFILE \"\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP\"</p>\n\n<p>ERROR: Unable to identify a valid CodeWarrior for Symbian OS installation</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(76) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(77) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\sys\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(90) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\oem\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(93) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(94) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(95) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(97) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\sc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(98) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\middleware\\loc\\sc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(101) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\stlport\\\" not found</p>\n\n<p>make[1]: <em>*</em> [MAKEFILESCIDAVIS_0XECC45F54] Error 255</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" LIBRARY VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW LIB\nmake -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW\" LIBRARY</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [LIBRARYSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" RESOURCE CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB RESOURCE</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" RESOURCEUDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W</p>\n\n<p>INSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [RESOURCESCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" TARGET CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB BLD</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW\" UDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [TARGETSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" FINAL CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB FINAL\nmake -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational0 -f \"MAKEFILE_0XE22E90C0.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE22E90C0\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational1 -f \"MAKEFILE_0XE215DAF2.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE215DAF2\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\explin -f \"MAKEFILE_0XEC0F6EB3.MK\" TO_ROOT=..................\nEPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XEC0F6EB3\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\\nscidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\exp_saturation -f \"MAKEFILE_0XE7042D5D.MK\" TO_ROOT=.............\n..... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE7042D5D\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\C\nompiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\planck_wavelength -f \"MAKEFILE_0XE0B487AA.MK\" TO_ROOT=...........\n....... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE0B487AA\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Dat\na\\Compiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>My OS is Windows 7 Professional 64-bit.  For the libraries I am using:</p>\n\n<p>qwt-5.0.1</p>\n\n<p>qwtplot3d-0.2.7</p>\n\n<p>sip-4.13.3</p>\n\n<p>PyQt4-win-gpl-4.9.4</p>\n\n<p>muparser_v2_2_2</p>\n\n<p>zlib-1.2.3</p>\n\n<p>scidavis-0.2.4</p>\n\n<p>I downloaded QTSDK 1.0 so I can use Qt 4.6.3 in order to qmake, make, and make install, since it has QAssistantClient, unlike the newer versions.  Does anyone have any suggestions on how to fix these Warnings and Errors?</p>\n\n<p>On a side note, I have tried searching the SciDAVis forums for help, but they have been fairly inactive for several months.</p>\n\n<p>Thank you.</p>\n\n<p>*<strong><em>UPDATE</em>*</strong></p>\n\n<p>10/25/2012</p>\n\n<p>So the warnings have been removed.  While I was trying to run \"make\" with a newer Qt (~ >4.6.3) I needed to change a few \\ to /, in order to fix some other warnings I was seeing.  Now that I have a more appropriate version of Qt (4.6.3), that change was causing the warnings.  After fixing the changes I now receive the following messages:</p>\n\n<p>bldmake bldfiles\nABLD.BAT build winscw udeb\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\EXPORT.make\" EXPORT VERBOSE=-s\nmake[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>Nothing to do</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" MAKEFILE VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW MAKMAKE</p>\n\n<p>perl -S makmake.pl  -D \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54 WINSCW</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP:40: unterminated string or character constant</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP:40: possible real start of unterminated constant</p>\n\n<p>ERROR: cpp.exe returned non-zero exit status (8448)\n        cpp.EXE -dU -undef -nostdinc -+  -I \"C:\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\" -I . -I \"C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0\n.2.4\\scidavis\\\" -D CW32=<strong>__<em>CW32 -D WINS=</em>_</strong><em>WINS -D WINSCW=</em>____WINSCW  -I </p>\n\n<p>\"C:\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\variant\" -include \"C:\\NokiaQtSDK\\Symbian\n\\SDK\\epoc32\\include\\variant\\Symbian_OS.hrh\" </p>\n\n<p>\"C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP\"</p>\n\n<p>make[1]: <em>*</em> [MAKEFILESCIDAVIS_0XECC45F54] Error 33</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" LIBRARY VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW LIB</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" LIBRARY</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [LIBRARYSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" RESOURCE CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB RESOURCE\nmake -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" RESOURCEUDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [RESOURCESCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" TARGET CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB BLD</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" UDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W</p>\n\n<p>INSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [TARGETSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" FINAL CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB FINAL\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational0 -f \"MAKEFILE_0XE22E90C0.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE22E90C0\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational1 -f \"MAKEFILE_0XE215DAF2.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE215DAF2\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\explin -f \"MAKEFILE_0XEC0F6EB3.MK\" TO_ROOT=..................\nEPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XEC0F6EB3\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\\nscidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\exp_saturation -f \"MAKEFILE_0XE7042D5D.MK\" TO_ROOT=.............\n..... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE7042D5D\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\C\nompiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\planck_wavelength -f \"MAKEFILE_0XE0B487AA.MK\" TO_ROOT=...........\n....... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE0B487AA\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Dat\na\\Compiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4>make install</p>\n\n<p>make: <em>*</em> No rule to make target `install'.  Stop.</p>\n"},{"tags":["qt","qtreeview","qtreewidget","qstyle"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13074643,"title":"QTreeWidget (Applying Styles for items)","body":"<p>I have a tree widget and there are three levels in the tree as follows</p>\n\n<pre><code>Example Tree\n============================\nLEVEL1\n    LEVEL2\n    LEVEL2\n       LEVEL3\n       LEVEL3\n    LEVEL2\n    LEVEL2\nLEVEL1\n</code></pre>\n\n<p>I want to apply different styles for items, depending their levels so that I can style, LEVEL1, LEVEL2 &amp; LEVEL3 differently. I can do this with a two level tree. Please help. I want to achieve this at CSS level (without touching the code)</p>\n\n<p>I went through following documenation. I guess distinguishing between LEVEL1 &amp; LEVEL2 is the hard part.</p>\n\n<p><a href=\"http://doc.qt.digia.com/main-snapshot/stylesheet-examples.html#customizing-qtreeview\" rel=\"nofollow\">http://doc.qt.digia.com/main-snapshot/stylesheet-examples.html#customizing-qtreeview</a></p>\n"}]}
{"total":16228,"page":6,"pagesize":100,"questions":[{"tags":["qt","qml"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1096,"score":2,"question_id":8894244,"title":"Qml and blurring image","body":"<p>I want to achieve a blur effect using QML.\nI found references about the \"effect: Blur\"<a href=\"http://qt.gitorious.org/~lscunha/qt-components/lscunha-qt-components/blobs/d78feec5670ab4e508f85e878a3b2e2971abaf47/demos/slideshow/duitheme/Settings.qml\" rel=\"nofollow\">(Example)</a> but in Qt 4.8 this does not work. \nAs far as I know this is implemented with C++ code. But how?</p>\n"},{"tags":["c++","qt","postgresql","insert"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13045677,"title":"insert array (binary data) into a postgres DB with qsql (c++ and qt)","body":"<p>Consider the following interraction with the postgres database:</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QPSQL\");\ndb.setHostName(\"acidalia\");\ndb.setDatabaseName(\"customdb\");\ndb.setUserName(\"mojito\");\ndb.setPassword(\"J0a1m8\");\nbool ok = db.open();\nQSqlQuery query(db);\n\nQSqlQuery query(db);\n\nQVector&lt;int&gt; byteArray(2); \nbyteArray[0] = 0;\nbyteArray[1] = 7;\n\nQVariant v = QVariant::fromValue(byteArray); \n\ncout &lt;&lt; \"dropping a table: \" &lt;&lt; query.exec(\"drop table aaa;\") &lt;&lt; endl; //gives 1\ncout &lt;&lt; \"creating a table: \" &lt;&lt; query.exec(\"create table aaa (gid integer, pos integer[])\") &lt;&lt; endl; // gives 0\nquery.prepare(\"INSERT INTO aaa (gid) VALUES (:gid, :pos)\");\nquery.bindValue(0, 1);\nquery.bindValue(1, v);\ncout &lt;&lt; \"inserting: \" &lt;&lt; query.exec() &lt;&lt; endl; // gives 0 :-(\n</code></pre>\n\n<p>Of course, one way to do that would be to send the data with a manually built sql statement, and execute the query as a normal query on the server (where the byte array would be inserted as a string), but I am looking for a somewhat nicer solution..</p>\n"},{"tags":["c++","qt","dependency-management","project-organization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13072203,"title":"To add or not to add Qt Libs and Headers to the Project Directory","body":"<p>Does it make sense to add relevant Qt Libs and headers (opensource version) to a projects repository or should I just reference them from the sdk directory ? </p>\n\n<hr>\n\n<p>I (alone) am developing a cross-platform (windows/linux) c++ application which, will be using a number of thirdparty opensource libraries including Qt, OpenCV, log4cpp to name a few.</p>\n\n<p>I started off development in Qt Creator for convenience (speedy GUI creation). Currently I have the Qt Sdk installed on both Linux and Windows outside the project directory.</p>\n\n<p>I'm planning to move to CMAKE to for better configurability, e.g out-of-source builds and independance from Qt Creator and I would like to have all dependencies included in the project directory structure -so that I or anyone else can checkout the project and build without needing to install any other dependancies.</p>\n\n<p>I have added all libs but Qt's to the directory as I am a little unsure weather its worth it -it seems like CMAKE depends on the Qt Sdk for compiling Qt specific files i.e moc, ui etc... (<a href=\"http://qt-project.org/quarterly/view/using_cmake_to_build_qt_projects\" rel=\"nofollow\">see here</a>) is this the case ? or is there a better suited build tool ? (Originally I was I going to use Scons but I decided not to as the there seemed to be limited support.. and there hasn't been developement on <a href=\"http://www.scons.org/wiki/Qt4Tool\" rel=\"nofollow\">Qt4 Tools</a> since 2010, which doesnt inspire confidence either.)</p>\n"},{"tags":["qt","listview","checkbox","qml","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":13012589,"title":"QMl ListView elements to C++","body":"<p>How can I select a few elements in the QML ListView and send the list of selected ListItemText to QListWidget in C++?</p>\n\n<p>I'm using 'contact model' as the model for ListView. The component has a ListItem. The ListItem has a Image(contact avatar), a ListItemText(name of the contact) and a CheckBox. The MouseArea fills the ListItem. Onclicking the ListItem, I can check or uncheck the CheckBox.</p>\n\n<p>Also, I have one more problem. After checking a few elements, if the ListView has a movement (i.e, When I scroll up or down), then all the selected elements are unchecked automatically. </p>\n\n<p>Edited:</p>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>void MainWindow::createList()\n{\nQContactManager *contactManager = new QContactManager(\"symbian\");    \nQList&lt;QContactLocalId&gt; contactIds = contactManager-&gt;contactIds();\nQContact currContact;\nQStandardItemModel *model = new QStandardItemModel();\nQImage m_thumbnail;\n\nforeach (const QContactLocalId&amp; id, contactIds)\n{\n    currContact = contactManager-&gt;contact(id);\n    if(currContact.type() == QContactType::TypeContact)\n    {\n        QContactThumbnail avatar(currContact.detail(QContactThumbnail::DefinitionName));\n        m_thumbnail = avatar.thumbnail();\n\n        QStandardItem *items = new QStandardItem();\n        //items-&gt;setData(currContact.displayLabel(), Qt::DisplayRole);\n        //items-&gt;setData(QPixmap::fromImage(m_thumbnail), Qt::DecorationRole);\n        items-&gt;setText(currContact.displayLabel());\n\n        if(m_thumbnail.isNull())\n        {\n            items-&gt;setIcon(contactIcon);\n        }\n        else\n        {\n            items-&gt;setIcon(QPixmap::fromImage(m_thumbnail));\n        }\n        model-&gt;appendRow(items);\n    }\n}\n}\n\nvoid MainWindow::viewQml()\n{\n        QDeclarativeView *qmlView = new QDeclarativeView;\n        qmlView-&gt;setSource(QUrl(\"qrc:/contacts.qml\"));\n        qmlView-&gt;rootContext()-&gt;setContextProperty(\"stdModel\", model);\n        qmlView-&gt;show();\n}\n</code></pre>\n\n<p><strong>contacts.qml</strong></p>\n\n<pre><code>ListView {\nid: listView\nanchors.top: statusBar.bottom\nanchors.right: parent.right\nanchors.left: parent.left\nanchors.bottom: toolBar.top\nclip: true\nmodel: stdModel\n//delegate: contactListDelegate\n}\n</code></pre>\n"},{"tags":["qt","sockets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":622,"score":1,"question_id":1362730,"title":"Bind QTcpSocket on dual-homed host","body":"<p>I have an application that is being built using Qt.  It will be running on machines that will have two (or more) network cards.  I need the ability for my application to select which ethernet interfaces for a TCP connection.  Before anyone suggests it I cannot guarenteed that routing tables will be setup correctly.  I know how to do this using the windows socket classes but have been unable to find anything about it for Qt.  Any help would be greatly appreciated!</p>\n"},{"tags":["c++","qt","http","serialization","protocol-buffers"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13070592,"title":"Whitespace in Protocol Buffer Serialization across HTTP with Qt","body":"<p>I am trying to send a Google Protocol Buffer serialized string across an HTTP connection and receive it back ( unmodified ) where I will deserialize it. My problem seems to be with the 'serializeToString' method which takes my string and seems to add newline characters ( and maybe other whitespace ) to the serialized string. In the example below, I am taking the string \"camera_stuff\" and after serializing it I get a QString with newlines at the front. I have tried other strings with the same result only with different whitespace and newlines added. This causes problems for my deserializing operation as the whitespace is not captured in the HTTP request and so the response containing the serialized string from the server cannot be successfully decoded. I can partially decode it if I guess the whitespace in the serialized string. How can I solve this? Please see the following code - thanks.</p>\n\n<p>I have a protocol buffer .proto file that looks like:</p>\n\n<pre><code>message myInfo {\n  required string data = 1;\n  required int32 number = 2;\n}\n</code></pre>\n\n<p>After running the protoc compiler, I construct in it Qt like this:</p>\n\n<pre><code>// Now Construct our Protocol Buffer Data to Send\nmyInfo testData;\ntestData.set_data(\"camera_stuff\");\ntestData.set_number(123456789);\n</code></pre>\n\n<p>I serialize my data to a string like this:</p>\n\n<pre><code>// Serialize the protocol buffer to a string\nstd::string serializedProtocolData; // Create a standard string to serialize the protocol buffer contents to\nmyInfo.SerializeToString(&amp;serializedProtocolData); // Serialize the contents to the string\nQString serializedProtocolDataAsQString = QString::fromStdString(serializedProtocolData);\n</code></pre>\n\n<p>And then I print it out like this:</p>\n\n<pre><code>// Print what we are sending\nqDebug() &lt;&lt; \"Sending Serialized String: \" &lt;&lt; serializedProtocolDataAsQString;\nqDebug() &lt;&lt; \"Sending Serialized String (ASCII): \" &lt;&lt; serializedProtocolDataAsQString.toAscii();\nqDebug() &lt;&lt; \"Sending Serialized String (UTF8): \" &lt;&lt; serializedProtocolDataAsQString.toUtf8();\nqDebug() &lt;&lt; \"Sending Serialized Protocol Buffer\";\nqDebug() &lt;&lt; \"Data Number: \" &lt;&lt; QString::fromStdString(myInfo.data());\nqDebug() &lt;&lt; \"Number: \" &lt;&lt; (int)myInfo.number();\n</code></pre>\n\n<p>When I send my data as part of an HTTP multipart message I see those print statements like this ( notice the newlines in the printouts! ):</p>\n\n<pre><code>Composing multipart message...\nSending Serialized String:  \"\n\ncamera_stuffï:\" \nSending Serialized String (ASCII):  \"\n\ncamera_stuffï:\" \nSending Serialized String (UTF8):  \"\n\ncamera_stuffÂÂÃ¯:\" \nSending Serialized Protocol Buffer \nData:  \"camera_stuff\" \nNumber:  123456789 \nLength of Protocol Buffer serialized message:  22 \nLoading complete...\n</code></pre>\n\n<p>The client deserializes the message like this:</p>\n\n<pre><code>// Now deserialize the protocol buffer\nstring = \"\\n\\n\" + string; // Notice that if I don't add the newlines I get nothing!\nmyInfo protocolBuffer;\nprotocolBuffer.ParseFromString(string.toStdString().c_str());\nstd::cout &lt;&lt; \"DATA: \" &lt;&lt; protocolBuffer.model() &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"NUMBER: \" &lt;&lt; protocolBuffer.serial() &lt;&lt; std::endl;\nqDebug() &lt;&lt; \"Received Serialized String: \" &lt;&lt; string;\nqDebug() &lt;&lt; \"Received Deserialized Protocol Buffer\";\nqDebug() &lt;&lt; \"Data: \" &lt;&lt; QString::fromStdString(protocolBuffer.data());\nqDebug() &lt;&lt; \"Number: \" &lt;&lt; (int)protocolBuffer.number();\n</code></pre>\n\n<p>The server gives it back without doing anything to the serialized string and the client prints the following:</p>\n\n<pre><code>RESPONSE:  \"camera_stuffï:\"  \nDATA: camera_stu\nNUMBER: 0\nReceived Serialized String:  \"\n\ncamera_stuffï:\" \nReceived Deserialized Protocol Buffer \nNumber:  \"camera_stu\"\n\nNumber:  0\n</code></pre>\n\n<p>So you see the issue is that I cannot guess the whitespace so I cannot seem to reliably deserialize my string. Any thoughts?</p>\n"},{"tags":["c++","qt","sockets","character-encoding","qlocalsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13061079,"title":"QLocalSocket to QLocalServer message being corrupted during transfer","body":"<p>I haven't been able to find a similar issue, so here goes:</p>\n\n<p>I'm sending a QString from a QLocalSocket to a QLocalServer across two applications. The receiving (QLocalServer) application does receive the message, but it seems the encoding is completely wrong.</p>\n\n<p>If I send a QString = \"x\" from the QLocalSocket (client), I'm getting a foreign (Chinese?) symbol in the QLocalServer. My code is literally copied from the <a href=\"http://www.developer.nokia.com/Community/Wiki/File%3aLocalSocketIPC.zip\" rel=\"nofollow\">Nokia Developer website</a></p>\n\n<p>If I printout the message via QDebug, I get \"??\". If I fire it in a message box, Chinese characters are printed. I've tried re-encoding the received message to UTF-8, Latin1, etc., with no luck. </p>\n\n<p>Code is as follows:</p>\n\n<pre><code>//Client\nint main(int argc, char *argv[])\n{\nQLocalSocket * m_socket = new QLocalSocket();\nm_socket-&gt;connectToServer(\"SomeServer\");\n\nif(m_socket-&gt;waitForConnected(1000))\n{\n    //send a message to the server\n    QByteArray block;\n    QDataStream out(&amp;block, QIODevice::WriteOnly);\n    out.setVersion(QDataStream::Qt_4_7);\n    out &lt;&lt; \"x\";\n    out.device()-&gt;seek(0);\n    m_socket-&gt;write(block);\n    m_socket-&gt;flush();\n    QMessageBox box;\n    box.setText(\"mesage has been sent\");\n    box.exec();\n...\n}\n\n//Server - this is within a QMainWindow\nvoid MainWindow::messageReceived()\n{\nQLocalSocket *clientConnection = m_pServer-&gt;nextPendingConnection();\n\nwhile (clientConnection-&gt;bytesAvailable() &lt; (int)sizeof(quint32))\n    clientConnection-&gt;waitForReadyRead();\n\n\nconnect(clientConnection, SIGNAL(disconnected()),\n        clientConnection, SLOT(deleteLater()));\n\nQDataStream in(clientConnection);\nin.setVersion(QDataStream::Qt_4_7);\nif (clientConnection-&gt;bytesAvailable() &lt; (int)sizeof(quint16)) {\n    return;\n}\n\nQString message;\nin &gt;&gt; message;\n\nQMessageBox box;\nbox.setText(QString(message));\nbox.exec();\n}\n</code></pre>\n\n<p>Any help is highly appreciated.</p>\n"},{"tags":["qt","debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13059664,"title":"QGraphicsScene::setSceneRect() segmentation fault","body":"<p>I've got a QGraphicsScene to which I'm adding a subclassed QGraphicsRectItem called BorderRect that indicates the boundaries of the sceneRect. The BorderRect has grips that allow the user to change its size, which then changes the scene's sceneRect. All this works, except every once in awhile it causes a seg fault, with a back trace like:</p>\n\n<pre><code>#0  _int_malloc (av=0x7ffff587e620, bytes=32) at malloc.c:3415\n#1  0x00007ffff55592a4 in *__GI___libc_malloc (bytes=32) at malloc.c:2924\n#2  0x00007ffff5e4c40d in operator new(unsigned long) () from /usr/lib/gcc/x86_64-pc-linux-gnu/4.5.3/libstdc++.so.6\n#3  0x00007ffff723911e in QRegion::QRegion(QRect const&amp;, QRegion::RegionType) () from /usr/lib64/qt4/libQtGui.so.4\n#4  0x00007ffff72394de in QRegion::intersect(QRect const&amp;) const () from /usr/lib64/qt4/libQtGui.so.4\n#5  0x00007ffff7239509 in QRegion::operator&amp;(QRect const&amp;) const () from /usr/lib64/qt4/libQtGui.so.4\n#6  0x00007ffff723952f in QRegion::operator&amp;=(QRect const&amp;) () from /usr/lib64/qt4/libQtGui.so.4\n#7  0x00007ffff70e0c6b in QWidgetPrivate::subtractOpaqueSiblings(QRegion&amp;, bool*, bool) const ()\n  from /usr/lib64/qt4/libQtGui.so.4\n#8  0x00007ffff72b6141 in QWidgetPrivate::scrollRect(QRect const&amp;, int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#9  0x00007ffff712fe8a in QWidgetPrivate::scroll_sys(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#10 0x00007ffff70eefe5 in QWidget::scroll(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#11 0x00007ffff76b7fbb in QGraphicsView::scrollContentsBy(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#12 0x00007ffff6b7c0fa in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()\n  from /usr/lib64/qt4/libQtCore.so.4\n#13 0x00007ffff770ec7e in QAbstractSlider::valueChanged(int) () from /usr/lib64/qt4/libQtGui.so.4\n#14 0x00007ffff76b0dca in QGraphicsViewPrivate::recalculateContentSize() () from /usr/lib64/qt4/libQtGui.so.4\n#15 0x00007ffff76bab39 in ?? () from /usr/lib64/qt4/libQtGui.so.4\n#16 0x00007ffff6b7c0fa in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()\n  from /usr/lib64/qt4/libQtCore.so.4\n#17 0x00007ffff7687a45 in QGraphicsScene::sceneRectChanged(QRectF const&amp;) () from /usr/lib64/qt4/libQtGui.so.4\n#18 0x000000000042fef0 in BorderRectItem::sceneEventFilter (this=0xfc0070, watched=0xef6e80, event=0x7fffff800590)\n    at gui/BorderRectItem.cpp:193\n...\n</code></pre>\n\n<p>There are several more lines, but the line referred to at line 18 of the back trace corresponds to a call to setSceneRect with a QRectF that corresponds to the new dimensions of the BorderRect, in this case: </p>\n\n<pre><code>{xp = 20, yp = -59, w = 563.94193411401511, h = 436.5631806793956}\n</code></pre>\n\n<p>I don't know why this is crashing. I've checked the scene, and it's not null. I suspect this is going to be very difficult to debug, and what I'm really interested in is tips on how to go about doing this. In particular, it would be really helpful to check the state of variables in the Qt code as I move up and down through the back trace, and I don't know how to do that. I'm running Linux... can I rebuild Qt with debugging symbols or something?</p>\n"},{"tags":["c++","qt","qnetworkaccessmanager"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13068346,"title":"Qt QNetworkRequest::RedirectionTargetAttribute can't detect redirection","body":"<p>Im trying to do get request to web site , when i getting the site html in the : </p>\n\n<pre><code>reply = m_networkManager-&gt;get(\"www.siteexample.de\");  \nreply-&gt;readAll()\n</code></pre>\n\n<p>the response string is : </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;301 Moved Permanently&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Moved Permanently&lt;/h1&gt;\n&lt;p&gt;The document has moved &lt;a href=\"http://siteexample.de/\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;address&gt;Apache Server at www.siteexample.de Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>now in the finish slot i try to capture the rederect like this : ( based on the http example in Qt 4.8) and this link :\n<a href=\"http://www.developer.nokia.com/Community/Wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager\" rel=\"nofollow\">http://www.developer.nokia.com/Community/Wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager</a></p>\n\n<pre><code>QVariant vStatusCodeV =  reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n\nif(vStatusCodeV.toInt() == 200)\n{\n     // do stuff ...\n} \nelse if (vStatusCodeV.toInt() == 301 || vStatusCodeV  == reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute))\n{\n    // its resoulved to to http://www.siteexample.de so its never resolved to the new redirect url that is : http://siteexample.de\n    QUrl newUrl = reply-&gt;url().resolved(vStatusCodeV.toUrl());\n    // so im getting endless loop here \n    startRequest(newUrl);\n\n}\n</code></pre>\n"},{"tags":["qt","qmainwindow","qtoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13063022,"title":"QToolBar position (How to make it stay at a fixed position)","body":"<p>I initially needed to display two QToolBars in such a way, they are in two rows. I found the solution for that problem through this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1441143/how-to-set-the-line-where-a-qtoolbar-is-displayed\">How to set the line where a QToolBar is displayed?</a></p>\n\n<p>In my program there are a few QToolBars in the first row, they can be moved. In the second row I have another QToolBar which can't be moved (fixed).</p>\n\n<p>My requirement is to make the 2nd QToolbar stay always at the bottom row. As of now, if the top QtoolBars are moved, 2nd toolbar position changes accordingly.</p>\n"},{"tags":["c++","qt","drag-and-drop","ms-word"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13068144,"title":"Drag multiple images from Qt Application to MS Word","body":"<p>I want to put not one but multiple images into a QMimeData to drop into MS Word. </p>\n\n<p>The interface doesn't support this (multiple calls of setImageData() overwrite each other).</p>\n\n<p>Can this be done with QMimeData? Maybe with HTML? But where do you then put the images? Or do I have to do this with a native Windows API?</p>\n\n<p>Thx</p>\n"},{"tags":["qt","pyqt","qt-designer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12970466,"title":"Qt layout children float","body":"<p>I have an empty horizontal layout that I dynamically populate with three children. This is a card game so this layout gets dynamically populated with children that are QLabel which  have an image set. When I click on a card to play it and move it at the center of the screen I'd like the positions of the other cards to stay the same. Instead the cards tend to \"float\" to the right. How can I force them to stay in their original  position?</p>\n\n<pre><code>+-----------------+\n|                 |\n| [A] - [B] - [C] |\n|                 |\n+-----------------+\n</code></pre>\n\n<p>I tried putting an expandable horizontal spacer in between each card but it doesn't really work. I also tried with replacing the horizontal layout with a grid layout but this forces me to specify the initial coordinates of the cards which I'd rather not. I like the fact that I can append widgets with addWidget pretty much like I do in the HTML version.</p>\n\n<p>In the HTML version I use some wrapper divs with a fixed size around the cards. How can I do something similar in Qt?</p>\n\n<p>EDIT</p>\n\n<p>A little clarification on how the layout should look when one card (B) is played.</p>\n\n<pre><code>+-----------------+\n|                 |\n| [A] -     - [C] |\n|                 |\n+-----------------+\n</code></pre>\n\n<p>As I mentioned I managed to fill the layout with empty QWidget and put cards on top of them (not inside them). I actually got also rid of the horizontal spacers I had as they are not needed anymore. This seems to work as I expect, although I still didn't fully validate this approach.</p>\n"},{"tags":["qt","ssl","webkit","openssl","qtnetwork"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":404,"score":1,"question_id":5941296,"title":"Qt OpenSSL problem - blocked (?) on some computers","body":"<p>I write an app i qt which uses OpenSSL. All was alright, since yesterday. I compiled app and sent to my friend. On his computer application can open https. I open on other computer and it doesn't work. So I gave it to other friend and he can't open https websites. I was confused and gave other guy and on his computer my app is working. I don't understand situation. Previous versions worked without bugs. But i ran previous version which worked and it doesn't work too. I turned off all my firewalls. Nothing changed.</p>\n\n<p>Any suggestions?</p>\n\n<p>We all have 7 x64. I tested on XP HE and it works, bou on 7 x64 doesn't work. On my friend's computer 7 x64 works, but on XP HE doesn't works. IMO Operating System hasn't got any mean.</p>\n"},{"tags":["javascript","html5","qt","wt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13038709,"title":"Recommendation for converting from Qt app to Web app","body":"<p>I currently have a Qt-based GUI application that simply provides a graphical dashboard (guages, graphs, and such) displaying real-time data provided by another application via a TCP connection.  For architectural and security reasons, I have been told that my TCP connection is no longer allowed, and that an HTTPS websocket will be my only conduit.  It was suggested that I convert my app to a webapp using HTML5 and Javascript.  However, I'm not a web programmer, but may consider this an opportunity to learn a new technology.  I want to understand the landscape a little better before making a decision. So, I think my choices are:</p>\n\n<ol>\n<li><p>Convert my app to a web app, giving me all the advantages/disadvantages of web-based apps.  More work for me, as it's a new technology and I already have the Qt/TCP version working fine.  If this is the suggested approach, any suggestions on a development environment/tools would be appreciated.</p></li>\n<li><p>Convert my current Qt app to us a client HTTPS connection rather than a TCP connection. Not sure this is possible. From what I've read, this may not be possible with QtWebKit.  Seems strange?</p></li>\n</ol>\n\n<p>Maybe there's another choice I'm not considering?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13014145,"title":"Qt equivalent of PathAppend?","body":"<p><a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/bb773565%28v=vs.85%29.aspx\" rel=\"nofollow\">PathAppend</a> is a useful winapi function that lets you append one path to another while taking care of any trailing backslashes (or lack of them).</p>\n\n<p>Meaning that appending <code>\"/dir1\"</code> to <code>\"dir2\"</code>, or <code>\"/dir1\"</code> to <code>\"/dir2\"</code>, or <code>\"/dir1/\"</code> to <code>\"/dir2\"</code> would produce the same (correct) result - <code>\"/dir1/dir2\"</code> (while simply concatening would produce respectively <code>\"/dir1dir2\"</code>, <code>\"/dir1/dir2\"</code>, and <code>\"/dir1//dir2\"</code>).</p>\n\n<p>Is there any Qt function that does a similar thing?</p>\n"},{"tags":["qt","inheritance","signals-slots","cross-threading"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":495,"score":1,"question_id":6247703,"title":"qt inherited signal won't reach to slot","body":"<p>here's the code of my problem  </p>\n\n<pre><code>class Base : QThread  \n{\n   Q_OBJECT  \n virtual void run() = 0;  \nsignals:  \n void Ping(int);  \n};  \n\nclass Derived : public Base  \n{  \n  void run()  \n  {  \n    emit Ping(42);  \n  }  \n}  \n</code></pre>\n\n<p>the signal(42) won't reach/call to slots. what's wrong?\nthanks in advance.</p>\n"},{"tags":["qt","button","triggers","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13050810,"title":"PyQT button clicked name","body":"<p>I have dynamically created buttons<code>(QtoolButton)</code> in <code>gridLayout</code> in pyQT.\nHow can I get the name of the button clicked in the layout?</p>\n\n<p>I can't know the name before hand.\nIs there is any trigger to accomplish the task?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","distribution","publish"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12950823,"title":"Distribute Qt symbian app other than in OVI store","body":"<p>I have a Express signed Symbian app, developed in Qt. I don't want to publish it in Nokia OVI store. I want to distribute the app to some particular people only. What should I do?</p>\n\n<p>I think uploading the SIS file in my website and provide a link to download the app is not a feasible solution in my case. </p>\n\n<p>Can I just mail the SIS file to those set of people? Or is there anything like \"Targeted Distribution\" (like in the case of Windows Phone) for Qt apps?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13064118,"title":"avoid reusing setup file in Qt","body":"<p>I developed a code for android devices.now i want to make a setup file.can I add a piece of code to my app to delete the source file(the setup) after setup is executed?\nI want my customer not to access the setup anymore or not being able to use that for other devices, is there other solutions?</p>\n"},{"tags":["c++","qt","codeblocks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13058433,"title":"Code::Blocks Pre-build options inconsistent with command line (Qt)","body":"<p>I am trying to compile a simple Qt program with Code::Blocks. I am using Qt's build system, so instead of Code::Blocks compiling it, I have Code::Blocks' build target type set to \"Commands only\" and I am using the pre/post build steps options. The contents of my \"Pre-build steps\" are as follows:</p>\n\n<pre><code>qmake.exe GUI.pro\nC:/QtSDK/mingw/bin/mingw32-make.exe -f Makefile.Debug\n</code></pre>\n\n<p>When I compile within Code::Blocks, I get these errors:</p>\n\n<pre><code>c:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o): In function `WinMain@16':\nc:\\iwmake\\build_mingw_opensource\\src\\winmain/qtmain_win.cpp:93: undefined reference to `_Unwind_Resume'\nc:\\iwmake\\build_mingw_opensource\\src\\winmain/qtmain_win.cpp:135: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):c:\\iwmake\\build_mingw_opensource\\src\\winmain/../../include/QtCore/../../src/corelib/tools/qvector.h:512: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):c:\\iwmake\\build_mingw_opensource\\src\\winmain/../../include/QtCore/../../src/corelib/tools/qvector.h:513: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):qtmain_win.cpp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'\ncollect2: ld returned 1 exit status\nmingw32-make.exe: *** [debug\\GUI.exe] Error 1\n</code></pre>\n\n<p>However, the strange thing is, when I enter the two commands above using Windows command line, it works fine. It successfully builds a .exe that works and shows a simple window.</p>\n\n<p>Both Code::Blocks and command line's build logs are exactly the same (I checked), except for Code::Blocks' errors.</p>\n\n<p>It seems like qmake and the makefile don't have anything to do with this, or at least the above happens when the makefiles don't change.</p>\n\n<p>I have made sure to delete the .o and .exe files in Debug every time I compile.</p>\n\n<p>Both Code::Blocks and cmd output the same 4 files (3 .o files and 1 .cpp file), except for cmd's .exe. However, I noticed that one file is 262kb when compiled with Code::Blocks, and 263kb when compiled via command line.</p>\n\n<p>In Pre-build steps, I've tried calling cmd with the commands, and I've tried calling a batch file, but the same errors come up.</p>\n"},{"tags":["qt","build","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":853,"score":2,"question_id":5211188,"title":"What are the different platforms for Qt's configure","body":"<p>I'm trying to build Qt on Windows with the following command:</p>\n\n<pre>configure -static -opensource -no-webkit -no-qt3support -no-audio-backend -no-exceptions -no-opengl -no-phonon -phonon-backend</pre>\n\n<p>and I get this error:</p>\n\n<pre>Unable to detect the platform from environment. Use -platform command lineargument</pre>\n\n<p>However I don't know what are the different possible values for the \"-platform\" argument. I tried \"win32\" and \"windows\" but none of them are right. I can't find any reference that would list the possible values. Does anybody know what I need to put for Windows 7 (developing with Qt Creator)?</p>\n"},{"tags":["qt","stdstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13047049,"title":"Qt and std::string","body":"<p>I have a strange problem. My tool is running properly when I open a file through my Qt file dialog.\nHowever, when I bind dlls from other library into my project in VS 2010, the tool crashes when I open a file. By debugging I discovered that it happens in the destructor of the basic string.\nThe following line is causing the problem:</p>\n\n<pre><code>std::string inputFilename = aFilenames.at(i).toStdString();\n</code></pre>\n\n<p>where aFilenames is a QStringList. If instead I write:</p>\n\n<pre><code>std::string inputFilename = \"C:\\\\test.txt\";\n</code></pre>\n\n<p>then it works. What is then going wrong with std::string and why this happens when I bind dlls from another library into my project?</p>\n"},{"tags":["qt","upload","metadata","photo","picasa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13060317,"title":"I am using QT and want to post photos to Picasa with metadata","body":"<p>I followed your sample in your PHP program that also uploaded an \"cat\" image to Picasa with metadata. However, I got errors, \"Not a valid image\" or \"Multipart must have Atom and media part\". The post body was just the same as yours and I used image.bits() to get the bits and got an unsigned char *. I transformed the rawXml to ByteArray and then appended the image bits. Finally, I also appended \"\\n--END_OF_PART--\" to the tail of that byte array. But errors kept prompting. I do not know why. Could give me some help? Thanks!</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13058669,"title":"How to obtain the frame buffer from within QWidget's paintEvent()","body":"<p>Is there any way to get the pixels that will be displayed on a QWidget, do some processing, and then display the processed pixels?</p>\n\n<p>I can't seem to overcome the limitations of paintEvent(), hopefully someone can help.</p>\n\n<p>QPixmap::grabWidget and QWidget::render will get me the pixels I need, but they cannot be called from within paintEvent(), since doing so will trigger an infinite loop.</p>\n\n<p>I have tried running a timer, taking a snapshot, doing my processing, forcing a repaint, and displaying the saved image.  This works to some extent, but on dynamic content (i.e. moving) it fails miserably.</p>\n\n<p>I need to be able to do this from within paintEvent().</p>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["qt","signals-slots","qtthread"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13054053,"title":"Qt: How to combine own message loop and Qt event loop?","body":"<p>I have a class derived from <code>QThread: class MyClass : public QThread</code>. In the run method I have \"my own\" message loop:</p>\n\n<pre><code>run() { \n  // exec(); // while not reached    \n  while (_runMessageLoop &amp;&amp; ...) {\n    hr = CallDispatch(.....);\n    if (hr== 0) QThread::msleep(100); \n    // QCoreApplication::processEvents(); // Does not work\n  }\n}\n</code></pre>\n\n<p>Since <code>exec()</code> is not executed, I have <strong>no</strong> Qt event loop. This obviously causes signal / slots <a href=\"http://stackoverflow.com/questions/12982489/qt-thread-object-only-sending-signal-as-qtdirectconnection-why\">not to work correctly</a>. <strong>Is there any chance to combine the Qt and my own message loop?</strong> Or do I need a frequently firing timer in order to do what I have accomplished in my infinite loop?</p>\n"},{"tags":["windows","visual-studio","qt","console","hide"],"answer_count":7,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":7313,"score":2,"question_id":2139637,"title":"Hide console of Windows Application","body":"<p>I have a Qt application, and when I run this application, there is a console opening behind it. In development it is nice because i see debug outputs on the console, but when I want to give this executable to the customer there should be no console window.\nhow do I hide it?</p>\n\n<p>(I am using Visual Studio 2008)</p>\n"},{"tags":["qt","winapi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12992541,"title":"What can you do in WinAPI that you cannot do in Qt?","body":"<p>I am into learning some GUI API in C++, so I searched a lot to see which one was best. I ended up with either Qt or WinAPI. I read some people saying that Qt was easier to work with but with WinAPI you could control everything. The argument proceeded and someone said that it was a fair exchange, a small piece of control so it could become easier. Now I want to know, what exactly are you losing when you chose Qt? Is it the interaction with the system? What exactly can you do in WinAPI that you cannot do in Qt?</p>\n"},{"tags":["c++","qt","interface","factory-pattern","pimpl-idiom"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":132,"score":4,"question_id":12902158,"title":"Pimpl idiom pointing to configurable implemenation","body":"<p>I've read that Pimpl is good for binary compatibility and interfaces are good for being able to easily switch out implementation.  I need to combine both of these techniques to allow my application to be able to switch the underlying implementation out via a config file.</p>\n\n<p><strong>Here is how my current design is laid out:</strong></p>\n\n<p>class Foo: provides the client facing API, I'm concerned with ABI compatibility here <BR>\nclass IFoo: interface class (all pure virtual methods, virtual dtor) <BR>\nclass Vendor1Foo: implements IFoo, using Vendor1's library <BR>\nclass Vendor2Foo: implements IFoo, using Vendor2's library <BR></p>\n\n<p>By not using pimpl and strictly using interfaces, client code might look like:</p>\n\n<pre><code>IFoo* foo = new Vendor1Foo();\n</code></pre>\n\n<p>The issue is that my client code cannot know about Vendor1 or Vendor2 at all and Foo is just one of many classes that I have to do this for. </p>\n\n<p>The over all concept of what I'm trying to do is the following:</p>\n\n<pre><code>class foo\n{\n  private:\n  QScopedPointer&lt;IFoo&gt; pimpl;\n  void initImpl();  // Reads from QSettings and initializes pimpl\n}\n</code></pre>\n\n<p><strong>Any ideas for an elegant solution to this problem?</strong></p>\n\n<p><strong>I'm hoping to come up with some macros or a template class/method to help standardize on how I deal with this and minimize violating DRY.</strong> </p>\n\n<p>The template class might serve as a pimpl helper like Herb Sutter's take on a generalized pimpl idiom for C++11: <a href=\"http://herbsutter.com/gotw/_101\" rel=\"nofollow\">herbsutter.com/gotw/_101</a> and it would also have to contain the logic for instantiating the correct implementation depending on the configuration</p>\n\n<p>There are elements of the pimpl idiom, the bridge pattern, and factory pattern here.  In my above example initImpl() can be thought of as a factory method.  I'm looking for a solution that may or may not use all of these patterns.</p>\n\n<p>I have already viewed <a href=\"http://stackoverflow.com/questions/5425065/c-pimpl-idiom-implementation-depending-on-a-template-parameter\">c++ pimpl idiom : Implementation depending on a template parameter</a> as well as most of the pimpl idiom questions on SO. The title seemed promising, but it didn't help with my particular use case.</p>\n\n<p>I cannot use C++11 and am using Qt.  <a href=\"http://qt-project.org/wiki/Dpointer\" rel=\"nofollow\">D-Pointers</a> do not solve my problem as they are bound to a single implementation.</p>\n\n<p><strong>UPDATE: Here is what I've come up with so far:</strong></p>\n\n<p><strong>PimpleHelper.h</strong> is a Pimpl helper class to reduce boiler plate code. Uses the VendorFactory to instantiate the correct vendor implementation. Multiple vendors will register the fact that they implement a given interface; only one vendor's implementation is ever instantiated for a given interface.</p>\n\n<pre><code>    #include &lt;QSettings&gt;\n    #include \"VendorFactory.h\"\n    #include &lt;cxxabi.h&gt;\n\n    // Pimpl Helper\n    template&lt;typename T&gt;\n    class PimplHelper\n    {\n        public:\n        PimplHelper()\n        {\n            m_interfaceNameImplemented = demangle(typeid(T).name());\n            initializeImpl();\n        }\n\n        T* getImpl()\n        {\n            return theImpl.data();\n        }\n\n        // Using the arrow operator defined below yields a\n        // \"has no member named\" error when used from Person.cpp, \n        // getImpl() defined above works just fine, but\n            // I'm not exactly sure why.\n    //  T* operator-&gt;() const\n    //  {\n    //      return theImpl.data();\n    //  }\n\n    //  T&amp; operator*() const\n    //  {\n    //      return *theImpl.data();\n    //  }\n\n        private:\n        QScopedPointer&lt; T &gt; theImpl;\n        QString m_interfaceNameImplemented;\n\n        void initializeImpl()\n        {\n\n            // Read in configuration\n            QSettings settings(\"AppSettings.ini\", QSettings::IniFormat);\n            QString vendorToUse = settings.value(\"VENDOR_IMPLEMENTATION_KEY\", \"Vendor1\").toString();\n\n            qDebug() &lt;&lt; \"Vendor to use is: \" &lt;&lt; vendorToUse &lt;&lt; \" Interface Implemented: \" &lt;&lt; m_interfaceNameImplemented;\n\n\n            // Obtain an instance of the vendor's class that implements the T interface\n            theImpl.reset(\n                            VendorFactory&lt;T&gt;::create(vendorToUse, m_interfaceNameImplemented)\n                         );\n\n            if(!theImpl)\n                qDebug() &lt;&lt; \"PimplHelper::initializeImpl, error resolving implementation for: \"\n                         &lt;&lt; vendorToUse &lt;&lt; \" Interface Implemented: \" &lt;&lt; m_interfaceNameImplemented;\n        }\n\n        const QString demangle(const char* name)\n        {\n            int status = -4;\n            char* res = abi::__cxa_demangle(name, NULL, NULL, &amp;status);\n            const char* const demangled_name = (status==0)?res:name;\n            QString ret_val(demangled_name);\n            free(res);\n            return ret_val;\n        }\n    };\n</code></pre>\n\n<p><strong>VendorFactory.h</strong> creates instances of classes implemented by various vendors.\nVendors register their implementations with the factory via a macro.</p>\n\n<pre><code>    #include &lt;QtCore&gt;\n\n    template&lt; class T&gt;\n    class VendorFactory\n    {\n        private:\n        typedef T* (*CreateFunc)();\n        typedef QMap&lt;QString, CreateFunc&gt; FunctionMap;\n\n        public:\n        static T * create(const QString&amp; vendorName, const QString&amp; interfaceName)\n        {\n            typename FunctionMap::iterator it = creators()-&gt;find(vendorName + interfaceName);\n            if (it == creators()-&gt;end())\n                return NULL;\n            return (it.value())();\n        }\n\n        static bool reg(const QString&amp; vendorName, const QString&amp; interfaceName, CreateFunc fun)\n        {\n            qDebug() &lt;&lt; \"Registering: \" &lt;&lt; vendorName + interfaceName &lt;&lt; endl;\n            creators()-&gt;insert(vendorName + interfaceName, fun);\n            return true;\n        }\n\n        static FunctionMap * creators()\n        {\n            static FunctionMap* creators = new FunctionMap;\n            return creators;\n        }\n\n        virtual ~VendorFactory() {}\n\n    };\n\n\n    /// @brief This registers a Vendor's class in the factory and adds a factory function named create_vendorImplClass()\n    /// and calls VendorFactory::reg() by the help of a dummy static variable to register the function.\n    /// @param vendorName A string representing the vendor's name\n    /// @param vendorImplClass The class implementing the interface given by the last parameter\n    /// @param interface The  interface implemented by the vendorImplClass\n    #define REGISTER_IN_FACTORY( vendorName, vendorImplClass, interface ) \\\n        namespace { \\\n        interface* create_ ## vendorImplClass() {  return new vendorImplClass; } \\\n        static bool vendorImplClass ## _creator_registered = VendorFactory&lt; interface &gt;::reg( vendorName, # interface, create_ ## vendorImplClass); }\n</code></pre>\n\n<p>And here is how they are used:</p>\n\n<p><strong>Person.h</strong>  (public-facing API)</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"PimplHelper.h\"\n\n// Public facing API\nclass Person: public IPerson\n{\n    public:\n\n    Person()\n    {\n        impl.reset( new PimplHelper&lt;IPerson&gt;());\n    }\n\n    QString GetFirstName();   \n    QString GetLastName();\n\n    private:\n    QScopedPointer&lt; PimplHelper&lt;IPerson&gt; &gt; impl;\n};\n</code></pre>\n\n<p><strong>Person.cpp</strong>  (public-facing API)</p>\n\n<pre><code>#include \"Person.h\"\n\n\nQString Person::GetFirstName()\n{   // I'd like to remove the call to getImpl() here\n    // and just use the overloaded -&gt; operator, but it\n    // gives me a \"has no member named GetFirstName()\" error\n    return impl-&gt;getImpl()-&gt;GetFirstName();\n}\n\nQString Person::GetLastName()\n{\n    return impl-&gt;getImpl()-&gt;GetLastName();\n}\n</code></pre>\n\n<p><strong>PersonImpl1.h</strong> contains Vendor1's implementation</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"VendorFactory.h\"\n\n\n// Private Implementation\nclass PersonImpl1: public IPerson\n{\n\n    public:\n\n    PersonImpl1():\n        FirstName(\"Jon\"), LastName(\"Skeet\")\n    {}\n\n    QString GetFirstName()\n    {\n        return FirstName;\n    }\n\n    QString GetLastName()\n    {\n        return LastName;\n    }\n\n    private:\n    QString FirstName;\n    QString LastName;\n\n};\n\nREGISTER_IN_FACTORY(\"Vendor1\", PersonImpl1, IPerson)\n</code></pre>\n\n<p><strong>PersonImpl2.h</strong> contains Vendor2's implementation</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"VendorFactory.h\"\n\n// Private Implementation\nclass PersonImpl2: public IPerson\n{\n\n    public:\n\n    PersonImpl2(): FirstName(\"Chuck\"), LastName(\"Norris\")\n    {}\n\n    QString GetFirstName()\n    {\n        return FirstName;\n    }\n\n    QString GetLastName()\n    {\n        return LastName;\n    }\n\n    private:\n    QString FirstName;\n    QString LastName;\n};\n\nREGISTER_IN_FACTORY(\"Vendor2\", PersonImpl2, IPerson)\n</code></pre>\n\n<p>Finally, the <strong>main.cpp</strong> file:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QDebug&gt;\n\n#include \"Person.h\"\n\n// The following needs to be included for the static/auto registration\n// with the VendorFactory to occur. I'm not exactly sure why.\n#include \"PersonImpl1.h\"\n#include \"PersonImpl2.h\"\n\nint main(int argc, char *argv[])\n{\n    Q_UNUSED(argc)\n    Q_UNUSED(argv)\n\n    Person* p = new Person();\n\n    qDebug() &lt;&lt; \"The person implemented is: \"\n             &lt;&lt; p-&gt;GetFirstName() &lt;&lt; \" \" &lt;&lt; p-&gt;GetLastName();\n\n    qDebug() &lt;&lt; \"exiting\";\n}\n</code></pre>\n\n<p>Here is a list of other SO questions that helped me so far:</p>\n\n<p><a href=\"http://stackoverflow.com/a/1096743\">Instantiate class from name?</a> <BR>\n<a href=\"http://stackoverflow.com/q/2850213/25882\">Dynamically register constructor methods in an AbstractFactory at compile time using C++ templates</a> <BR>\n<a href=\"http://stackoverflow.com/q/1310214/25882\">Register an object creator in object factory</a> <BR>\n<a href=\"http://gamedev.stackexchange.com/a/17759\">Entity/Component Systems in C++, How do I discover types and construct components?</a> <BR>\n<a href=\"http://stackoverflow.com/a/582456/25882\">Is there a way to instantiate objects from a string holding their class name?</a> <BR>\n<a href=\"http://stackoverflow.com/a/2720991/25882\">Static variable not initialized</a> <BR>\n<a href=\"http://stackoverflow.com/q/281818/25882\">Unmangling the result of std::type_info::name</a></p>\n\n<p><strong>Any input on what I have so far?</strong> </p>\n"},{"tags":["c++","qt","visual-c++","lua","cmake"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":8366141,"title":"Why is QObjectIterator::get_value_ref() not implemented in my source distribution of QtLua?","body":"<p>I am trying to build the QtLua module for Qt 4.7.4 on my windows machine and I have the project all set up (thanks to cmake) with the appropriate include/lib paths and compiler/linker settings. But now I have a problem where the library wont build because of a seemingly missing implementation for ValueRef QObjectIterator::get_value_ref() located at line 145 of  qtluaobjectiterator.cc. I don't really know what to do about this, I tried returning a default value but there was no default constructor for ValueRef. This was all that was in the source file for the function:</p>\n\n<pre><code>ValueRef QObjectIterator::get_value_ref()\n{\n    // Not used from lua script\n    std::abort();\n}\n</code></pre>\n\n<p>It also appears that another function is also not implemented. Or at least not implemented to be buildable in MSVC2010, I don't actually know whether gcc is okay with functions not returning values they're supposed to, but I highly doubt it. qtluaenumiterator.cc line 58</p>\n\n<pre><code>ValueRef EnumIterator::get_value_ref()\n{\n    abort();\n}\n</code></pre>\n\n<p>Info:</p>\n\n<ul>\n<li>Windows 7 x64 Ultimate</li>\n<li>Visual Studio 2010 ultimate (with MSVC10)</li>\n<li>luaforwindows v5.1.4-45</li>\n<li>QtLua v1.3</li>\n<li>QtSDK 4.7.4</li>\n<li>CMake 2.8.6</li>\n</ul>\n\n<p>I have found virtually 0 items on this topic via google search (1 was in Russian, so I don't know if it could've helped)</p>\n"},{"tags":["c++","qt","listview","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12922109,"title":"How do I get a web view in a list view in Blackberry Cascades, QML & C++, QT","body":"<p>I am trying to get a list of images from the internet to show up in a list view in QML.  I have code that looks like this:</p>\n\n<pre><code>ListView {\n\n    objectName: \"imageListView\"\n\n    listItemComponents: [\n\n        ListItemComponent {\n\n            type: \"item\"\n\n            Container {\n                WebView {\n                     url: ListItemData.imageSource\n                }    \n            }                           \n        }\n    ]\n}\n</code></pre>\n\n<p>The problem is this just causes the following error: \"Unable to assign [undefined] to QUrl url\"</p>\n\n<p>I know the ListItemData.imageSource contains the correct data, because I tested it using, Label { text: ListItemData.imageSource }, in place of the WebView, and it showed all the image urls that are needed.</p>\n"},{"tags":["c++","qt","download","qml","blackberry-10"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":12960592,"title":"Attempting to download an image in Blackberry Cascades QT, and QML","body":"<p>I am attempting to download images in Blackberry Cascades, C++, QT.</p>\n\n<p>I am basically using code that looks like this:</p>\n\n<pre><code>void MyClass::download() {\n\n    QUrl url(imagePath);\n    QNetworkRequest request(url);\n    Q_ASSERT(connect(networkAccessManager_, SIGNAL(finished(QNetworkReply *)), this, SLOT(saveImage(QNetworkReply *))));\n\n    networkAccessManager_-&gt;get(request);\n\n}\n\nvoid MyClass::saveImage(QNetworkReply *) {\n    QByteArray imageData = reply-&gt;readAll();\n\n    if (reply-&gt;error() != QNetworkReply::NoError) {\n        qDebug() &lt;&lt; \"an error occured downloading the image\";\n        return;\n    }\n\n    qDebug() &lt;&lt; imageData;\n    //...\n</code></pre>\n\n<p>When I do this, the imageData just contains: \"Ã¿Ã˜Ã¿Ã, instead of the entire content of the image I downloaded.</p>\n\n<p>Can someone explain this to me?, and how can I make this work?</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12982489,"title":"Qt Thread object only sending signal as Qt:DirectConnection - why?","body":"<p>I have a class derived from <code>QThread</code>:  <code>class MyClass : public QThread</code>\nThis class is connected with a slot of another object. Originally this was connected as <code>Qt::AutoConnection</code>. But then - as soon as the thread is started (<code>MyClass::run()</code>) - the signal is no longer \"reaching the slot\" (<strong>why?</strong>).</p>\n\n<pre><code>// connected before myObject-&gt;run()\ns = QObject::connect(\n_myObject, SIGNAL(signalLogMessage(const QString&amp;, QtMsgType)), \nthis, SLOT(slotLogMessage(const QString&amp;, QtMsgType)), Qt::DirectConnection);\n</code></pre>\n\n<p>My first idea was that I need to force <code>Qt::QueuedConnection</code> (<code>this</code> / <code>_myObject</code> will be cross threaded). In this case it does not work at all. Only <code>Qt::DirectConnection</code> works. After the thread is started, IMHO <code>Qt::QueuedConnection</code> is the correct choice (cross thread).</p>\n\n<p><strong>Any idea what is going wrong?</strong> The connection itself seems to be correct, otherwise it was not working at (mean even not with <code>Qt::DirectConnection</code>).</p>\n\n<p>Edit 1: -- As of hyde's answer / Nikos' comment</p>\n\n<p>As of right now I think hyde's answer / Nikos' comment are pointing out the root cause. My <code>QThread</code> is running it's own message loop for another application. This is the reason why it is running in its own thread and is basically an infinite loop</p>\n\n<pre><code>run() { \n  // exec(); // while not reached    \n  while (_runMessageLoop &amp;&amp; ...) {\n    hr = CallDispatch(.....);\n    if (hr== 0) QThread::msleep(100); \n    // QCoreApplication::processEvents();\n  }\n}\n</code></pre>\n\n<p>Guess due to this infinite loop the Qt message loop is not running and no signal / slots are processed (is this correct?) When forcing <code>Qt::DirectConnection</code> the methods are called directly with no Qt message loop required, this might be the reason why this is the only connection type working.</p>\n\n<p><strong>The question is now, how can I combine the Qt and my own message loop</strong> (if this is feasible)? Cannot call exec() before the loop (because then it is in the Qt loop), and just the <code>QCoreApplication::processEvents();</code> in \"my loop\" is still not working.</p>\n\n<p>=> see new Question here: <a href=\"http://stackoverflow.com/questions/13054053/qt-how-to-combine-own-message-loop-and-qt-event-loop\">Qt: How to combine own message loop and Qt event loop?</a> </p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":66,"score":0,"question_id":13032774,"title":"Pyqt English to Finnish Translation","body":"<p>I want to convert the langauge of pyqt application from english to finnish . I saw that pyqt has some methods for it and i try to use it but it didnt help me </p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\ntranslator = QtCore.QTranslator()\ntranslator.load(\"qt_fr.qm\")\napp.installTranslator(translator)\n</code></pre>\n\n<p>.qm file is present at right path (right now its taking french i guess) and on button i use this text</p>\n\n<pre><code> name = \"File\"\n button.setText(self.tr(QtCore.QString(name)))\n</code></pre>\n"},{"tags":["c++","qt","qfiledialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13054730,"title":"QFileDialog is crashing my application","body":"<p>QFileDialog in the following simple code is crashing my application. It worked the first 3 times I lunched my application and then without even change the function in which QFileDialog is used it is crashing on run-time.</p>\n\n<pre><code>void Browse::on_browseButton_clicked()\n{\n    QString direc=QFileDialog::getOpenFileName(this,tr(\"Open Directory\"),\"/home\",0,0,QFileDialog::DontUseNativeDialog);\n    ui-&gt;lineEdit-&gt;setText(direc);\n}\n</code></pre>\n\n<p>I used the </p>\n\n<pre><code>QFileDialog::DontUseNativeDialog;\n</code></pre>\n\n<p>as suggested by <a href=\"http://sarbojitqtexp.blogspot.com/2012/04/getting-crash-on-qfiledialog-static.html\" rel=\"nofollow\">this webpage</a>  by still it crashes.</p>\n\n<p>Any idea why? I am aiming to have the user browse the system to select a file or folder. If you have another work to perform this task let me know.</p>\n\n<p>Using ubuntu and Qt.</p>\n"},{"tags":["qt","qt4","random"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3086,"score":2,"question_id":3244999,"title":"Create a random string or number in Qt4","body":"<p>Is there any function or something like that by which I can create totally random strings or numbers?</p>\n"},{"tags":["qt","fonts","qt4","qgraphicsview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13054715,"title":"How to properly put text into a rectangle in QGraphicsView","body":"<p>I have a QGraphicsView in which I display few SVG images (with different sizes) like that:</p>\n\n<pre><code>scene()-&gt;setSceneRect(0, 0, 1.8, 1);\n\nQGraphicsSvgItem *msgBgSvg = new QGraphicsSvgItem(\":/images/messageBackground.svg\");\nQRectF msgBgSvgRect = msgBgSvg-&gt;sceneBoundingRect();\nmsgBgSvg-&gt;scale(1.2 / msgBgSvgRect.width(), 0.6 / msgBgSvgRect.height());\nmsgBgSvg-&gt;setPos(0.5, 0.2);\nscene()-&gt;addItem(msgBgSvg);\n// ...\n</code></pre>\n\n<p>I'd like to place text in a rectangle (namely <code>msgBgSvg-&gt;sceneBoundingRect()</code>). It is a plain text, but I'd like it to be centered and contained in that rectangle.\nWhen I simply tried to make the font small and <code>setTextWidth</code> of a QGraphicsTextItem, the font had to be really small (like 0.0001 or so) and the text was distorted anyway. Also, if displaying such small scene with constant size or rescaling svg like that is source of problems, please tell me.</p>\n\n<p>So, the question is: <em>How to put centered text in a rectangle with a properly sized font and wrapping of long lines?</em></p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13017769,"title":"Debugging a version of Qt Creator and plugins all built from source","body":"<p>My goal is to be working on / debugging qt creator plugins and, maybe, editing / debugging qt creator source code. Towards this end I've tried a couple of things:</p>\n\n<ol>\n<li><p>Downloading source for the qt sdk and qt creator, compiling each, and then making a qt creator plugin project and hooking everything together by hand. This got complicated pretty quickly (I tried to keep my plugin project outside the qt-creator/src/plugin/ folder) and doesn't really get me to a nice spot in terms of debugging.</p></li>\n<li><p>Using an installed version of the qt creator to open the qtcreator.pro that came along with the source, adding a qt creator plugin as a sub project, and building everything from the already installed version of qt creator.</p></li>\n</ol>\n\n<p>I like the second approach a lot because I have control over everything but I can rely on qt creators tools that make projects, enhance debugging, etc. There's just one small problem...</p>\n\n<p>When I run my shiny new build of qt creator (with my plugin project) from inside the installed version all I get is a popup called \"qtcreator_process_stub\" that says \"This is an internal helper of Qt Creator. Do not run it manually. Press  to close this window...\"</p>\n\n<p>So I'm not really sure how to debug my build of qt creator from my instance of qt creator. Any ideas? Note: if I run the generated Qt Creator.app I get a functioning instance of qt creator with my plugin loaded properly.</p>\n"},{"tags":["linux","qt","compiler"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":833,"score":0,"question_id":979143,"title":"Which cross compiler?","body":"<p>What is the difference between</p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/MinGW\" rel=\"nofollow\">MinGW</a> cross compiler and</li>\n<li><a href=\"http://en.wikipedia.org/wiki/GNU_Compiler_Collection\" rel=\"nofollow\">GCC</a> Cross compiler.</li>\n</ol>\n\n<p>Which one used in which operating system?</p>\n\n<p>I need to create an <a href=\"http://en.wikipedia.org/wiki/EXE\" rel=\"nofollow\">EXE</a> file in the Linux operating system using Qt, hence which is the cross compiler to be used?</p>\n"},{"tags":["c++","qt","cross-platform","compilation"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1058,"score":4,"question_id":2008433,"title":"Cross-platform compiling of a Qt application","body":"<p>I have written a C++ application that uses the Qt framework. I would like to make this application available on different platforms. Since I use Linux, I have no problems compiling the code for Linux. The questions is: </p>\n\n<p>Can I compile my code in such a way that it will run on Windows, Mac, etc.? As said above, I'm working on a Linux machine and can't possibly install all the different platforms out there. </p>\n\n<p>If it is possible, what steps are required (in simple terms)?</p>\n\n<p>If there is any documentation on this topic, I'm happy to read anything - please just point me in the right direction. </p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13051467,"title":"Qt - How to create widget asynchronously?","body":"<p>I would like to create a widget in asynchronously and then assign it to a dialog in the main thread. I have a functions to create the widget:</p>\n\n<pre><code>shared_ptr&lt;QTableWidget&gt; createTable() {\n    auto table = make_shared&lt;QTableWidget&gt;()\n\n    // ... add some items to the table\n\n    return table;\n}\n</code></pre>\n\n<p>When I call this function synchronously everything works as expected. Problem is when I call this function asynchronously:</p>\n\n<pre><code>auto futureWidget = QtConcurrent::run(createWidget);\n</code></pre>\n\n<p>I use <code>QFutureWatcher::finished()</code> signal and when the widget creation is done, I try to add that widget to the dialog in the main/GUI thread.</p>\n\n<p>The problem is that sometimes it just crashes with SIGSEG when I add an item to the table. Sometimes when it completes the created widget is not shown. Also there is a lot of warnings on the standard output about using pixmap outside GUI thread.</p>\n\n<p>Is that not possible to create widgets in different thread in Qt? If it is possible, how to do it?</p>\n"},{"tags":["c++","qt","winapi","hardware","hid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13053198,"title":"C++ / Qt interface to a presentation remote in Windows","body":"<p>I am looking to use a presentation remote such as the Kensington Wireless Presenter (33373) as an input controller for a C++/Qt base Windows application. It would be preferred if the application could receive input from the remote regardless the applications focus status.</p>\n\n<p>Do these devices use the HID interface? Are there any good libraries that provide a level of abstraction? What is the best way to read input from such as device?</p>\n"},{"tags":["windows","linux","qt","cross-compiling"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":2,"view_count":2908,"score":4,"question_id":1025687,"title":"Should I cross-compile in Linux or Windows?","body":"<p>To create a <code>.exe</code> in Linux using Qt SDK, should I cross compile my application in Linux or cross-compile my application in Windows?</p>\n"},{"tags":["qt","cross-compiling"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":334,"score":0,"question_id":7347736,"title":"How to compile for Windows if I am under Linux?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1025687/cross-compile-in-linux-or-windows\">Cross compile in Linux or Windows?</a>  </p>\n</blockquote>\n\n\n\n<p>Does this involve the mkspecs?</p>\n"},{"tags":["c++","qt","http","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13046137,"title":"can i know if QNetworkAccessManager done processing all http requests?","body":"<p>im using  QNetworkAccessManager in each httpClient object creation in my app and delete it after the HttpClass go out of stack, i have something like 300 http requests<br>\nim doing in aloop , i know that from 4.8 the http requests are Multithreading  so i have no fear to execute as meany as i like , and its working great .<br>\nthe problem is say how can i know when all the thread requests are done (all the 300 ) can i emit some signal ?\nthis is the loop of the request , in side the http client there are the usual http signals</p>\n\n<pre><code>    QMapIterator&lt;QString,QString&gt; i(m_urlMap);\n\n    while (i.hasNext())\n    {\n        i.next();        \n        QString sUrl = i.value();;\n         HttpClient* pHttpClient = new  HttpClient(m_pFileOutput,m_pMutex);\n         bool bReturnInvokeHttpClient = false;\n         bReturnInvokeHttpClient = pHttpClient-&gt;startRequest(sUrl);\n\n\n    }\n</code></pre>\n\n<p>do i need manully keep track on each httpclient m when it done its job ?</p>\n"},{"tags":["c","qt","visual-studio-2008","glib","matlab-deployment"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13038756,"title":"Cause of \"entry point could not be located\" in unrelated DLL?","body":"<p>Before you dismiss this question as a repeat, this question is different than the many other similar questions on SO because the <strong>function</strong> in the error message is <strong>completely unrelated</strong> to the <strong>DLL</strong>.</p>\n\n<h3>The app and version info</h3>\n\n<p>I've got a 32-bit app in Visual Studio 2008 RTM which uses a MATLAB Compiler 4.17 (R2012a) generated DLL, Glib (2.32.4, binaries from GStreamer SDK 2012.9 32-bit), and Qt (4.8.3-vs2008), all running on Windows 7 x64 SP1.</p>\n\n<h3>The problem</h3>\n\n<p>The <strong>debug build runs fine</strong>, but in release I get the infamous <code>The procedure entry point libXXXInitialize could not be located in the dynamic link library libglib-2.0-0.dll.</code> The bizarre thing is that this libXXXInitialize function (which does exist in the MATLAB-based DLL) is <strong>totally unrelated</strong> to libglib-2.0-0.dll.</p>\n\n<h3>My research</h3>\n\n<p>I checked the obvious, ensuring that all libraries were compiled with VS2008 (except for GStreamer/GLib which is compiled with mingw, but since it's straight C there shouldn't be any issues), and checking for any other versions of the DLLs in the path. It seems like it must be some sort of linker problem.</p>\n\n<h3>Update 1</h3>\n\n<p>In Dependency Walker x86, it shows this <code>libXXXInitialize</code> as an unresolved (parent) import from not only libglib-2.0-0.dll, but all the other GLib/GStreamer DLLs as well, however the function is correctly resolved in the DLL where it should be found, libXXX.dll.</p>\n\n<h3>Update 2</h3>\n\n<p>I removed the call to <code>libXXXInitialize</code> and called <code>mclInitializeApplication</code> from the MATLAB Compiler Runtime, and now that function is failing to be resolved from the glib DLL.</p>\n\n<p><strong>However I found a solution</strong> (at least temporary), changing the linker options from <a href=\"http://msdn.microsoft.com/en-us/library/bxwfs976%28v=vs.90%29.aspx\" rel=\"nofollow\"><code>/OPT:REF</code></a> to <code>/OPT:NOREF</code> fixed the problem (so the linker \"<em>keeps functions and/or data that are never referenced</em>). The bizarre thing is, I certainly use the <code>mclInitializeApplication</code> function explicitly, and if I turn on <code>/VERBOSE:REF</code>, it doesn't show it being removed.</p>\n\n<p>If anyone can tell me why this is happening, I'll mark it as the answer.</p>\n"},{"tags":["html","qt","desktop-application","dart","dartium"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":81,"score":3,"question_id":13042266,"title":"Embedding The Dart VM In A Desktop Graphical Stand - Alone Application","body":"<p>So I am writing a cross-platform (so far plans for Windows and Ubuntu) application for both the web and desktop.\nThis application\nis expected to at times be moderately graphically intensive and perform a substantial amount of file IO. I am writing it in Dart. Which may seem like a\n\"funny\" choice given the circumstances, however I did not want\nto deal with any heavy API's or have two code bases (NaCl and GCC with two different libs).\nIn short I am using Dart to interact with an HTML web page, and noticed the Dart VM does\nnot interact with a webpage unless you are in Dartium. But I want a \"desktop application\" as  well as a web application which eliminates Dartium as a choice, so alternately I plan to use a Qt Webview to make it look like a desktop app, but what I am wondering is would it be worth it to go through the trouble of embedding the Dart VM into my app? In doing so would it easily enough to get the Dart VM (running a dart script) to interact with the page in the Qt Webview (I am a bit new to Dart)? Thanks for reading!</p>\n"},{"tags":["qt","sockets","io","qfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13039041,"title":"File changes handle, QSocketNotifier disables due to invalid socket","body":"<p>I am developing for a touch screen and need to detect touch events to turn the screen back on. I am using Qt and sockets and have run into an interesting issue.</p>\n\n<p>Whenever my QSocketNotifier detects the event it sends me infinite notices about it. Therefore I need to close and open the event file to cycle the notifier (inputNotifier in the below code). The problem usually arises several minutes after the device has been running and the file (inputDevice) suddenly changes it's handle from 24 to something else (usually 17).</p>\n\n<p>I am not sure what to do, because the initial connect statement is linked to the initial Notifier pointer. If I create a new Notifier using the new handle, the connect is invalid. As far as I can tell there is no option to set a new socket value on a running QSocketNotifier. Suggestions? The relevant code is below:</p>\n\n<pre><code>#include \"backlightcontroller.h\"\n#include &lt;QTimer&gt;\n#include &lt;QFile&gt;\n#include &lt;syslog.h&gt;\n#include &lt;QDebug&gt;\n#include &lt;QSocketNotifier&gt;\n\n\n\n\nBacklightController::BacklightController(QObject *parent) :\n    QObject(parent)\n{\n    backlightActive = true;\n\n    // setup timer\n    trigger = new QTimer;\n    trigger-&gt;setSingleShot(false);\n    connect(trigger, SIGNAL(timeout()), SLOT(deactivateBacklight()));\n\n    idleTimer = new QTimer;\n    idleTimer-&gt;setInterval(IDLE_TIME * 1000);\n    idleTimer-&gt;setSingleShot(false);\n    connect(idleTimer, SIGNAL(timeout()), SIGNAL(idled()));\n    idleTimer-&gt;start();\n\n    // setup socket notifier\n    inputDevice = new QFile(USERINPUT_DEVICE);\n    if (!inputDevice-&gt;open(QIODevice::ReadOnly))\n    {\n        syslog (LOG_ERR, \"Input file for Backlight controller could not been opened.\");\n    }\n    else\n    {\n        inputNotifier = new QSocketNotifier(inputDevice-&gt;handle(), QSocketNotifier::Read);\n        inputNotifier-&gt;setEnabled(true);\n        connect(inputNotifier, SIGNAL(activated(int)), SLOT(activateBacklight()));\n    }\n\n    qDebug()&lt;&lt;\"backlight socket: \"&lt;&lt;inputNotifier-&gt;socket();\n\n    // read out settings-file\n    QString intensity = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_intensity\");\n    if (intensity.length() == 0) intensity = \"100\";\n    QString duration = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_duration\");\n    if (duration.length() == 0) duration = \"180\";\n    QString always_on = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_always_on\");\n    if (always_on.length() == 0) always_on = \"0\";\n\n    setIntensity(intensity.toInt());\n    setDuration(duration.toInt());\n\n    if (always_on == \"0\")\n      setAlwaysOn(false);\n    else\n      setAlwaysOn(true);\n}\n\n\nBacklightController::~BacklightController()\n{\n    trigger-&gt;stop();\n    inputNotifier-&gt;setEnabled(false);\n    inputDevice-&gt;close();\n\n    delete trigger;\n    delete inputDevice;\n    delete inputNotifier;\n}\n\n\nvoid BacklightController::setCurrentIntensity(int intensity)\n{\n    // adapt backlight intensity\n    QFile backlightFile(\"/sys/class/backlight/atmel-pwm-bl/brightness\");\n    if (!backlightFile.open(QIODevice::WriteOnly))\n    {\n      syslog (LOG_ERR, \"Backlight intensity file could not been opened.\");\n    }\n    else\n    {\n      QString intensityString = QString::number(TO_BRIGHTNESS(intensity));\n      if (backlightFile.write(\n              qPrintable(intensityString), intensityString.length()\n              ) &lt; intensityString.length())\n      {\n        syslog (LOG_ERR, \"Backlight intensity could not been changed.\");\n      }\n      backlightFile.close();\n    }\n}\n\n\nvoid BacklightController::resetNotifier()\n{\n\n    inputDevice-&gt;close();\n    if (!inputDevice-&gt;open(QIODevice::ReadOnly))\n    {\n        syslog (LOG_ERR, \"BacklightController::%s: Input file could not been opened.\", __FUNCTION__);\n    }\n    qDebug()&lt;&lt;\"reset, handle: \"&lt;&lt;inputDevice-&gt;handle();\n    //inputNotifier=QSocketNotifier(inputDevice-&gt;handle(), QSocketNotifier::Read);\n\n\n    // restart timer after user input\n    idleTimer-&gt;start();\n}\n\n\nvoid BacklightController::activateBacklight()\n{\n    // only activate backlight, if it's off (avoid to useless fileaccess)\n    if (!backlightActive)\n    {\n        setCurrentIntensity(_intensity);\n        backlightActive = true;\n        emit backlightActivated();\n    }\n\n    // restart backlight timeout, but only if we don't want the backlight to shine all the time\n    if (!_alwaysOn)\n        trigger-&gt;start();\n\n    // reset notifier to be able to catch the next userinput\n    resetNotifier();\n}\n\n\nvoid BacklightController::deactivateBacklight()\n{\n    // don't turn it off, if it's forced on\n    if (!_alwaysOn)\n    {\n        if (backlightActive)\n        {\n            // only deactivate backlight, if it's on (avoid to useless fileaccess)\n            setCurrentIntensity(BACKLIGHT_INTENSITY_OFF);\n            backlightActive = false;\n            emit backlightDeactivated();\n        }\n    }\n    qDebug()&lt;&lt;\"trigger stopping\";\n    trigger-&gt;stop();\n}\n\n\nvoid BacklightController::setIntensity(int intensity)\n{\n    if (intensity &gt; 100)\n        intensity = 100;\n    else if (intensity &lt; 0)\n        intensity = 0;\n\n    _intensity = intensity;\n\n    // write new intensity to file if it's active at the moment\n    if (backlightActive)\n    {\n        setCurrentIntensity(_intensity);\n        trigger-&gt;start();\n    }\n}\n\n\nvoid BacklightController::setDuration(int duration)\n{\n    if (duration &lt; 1)\n        duration = 1;\n\n    _duration = duration;\n    trigger-&gt;setInterval(_duration * MS_IN_SEC);\n\n    // reset trigger after changing duration\n    if (backlightActive)\n    {\n        trigger-&gt;start();\n    }\n}\n\n\nvoid BacklightController::setAlwaysOn(bool always_on)\n{\n    _alwaysOn = always_on;\n\n    // tell the timer what to to now\n    if (_alwaysOn)\n    {\n        this-&gt;activateBacklight();\n        trigger-&gt;stop();\n    }\n    else\n    {\n        trigger-&gt;start();\n    }\n}\n</code></pre>\n"},{"tags":["qt","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":114,"score":1,"question_id":10893691,"title":"Phonon VideoWidget playback from updated QBuffer","body":"<p>I'm trying to create a video player that can decrypt video data in memory and play it without ever storing the decrypted data on the hard drive. I'm using the Qt Framework with the Video Widget and a QBuffer. I decrypt the first segment of the video and store it in a QBuffer and start playback. This works but after setCurrentSource is called, all data written to the QBuffer is ignored.</p>\n\n<p>I believe this has to do with the different backends. Is it possible to achieve playback directly from memory in Qt (pyQt) and if not are there any alternatives?</p>\n\n<pre><code>QFile file (\"/Users/user/video.mov\");\nfile.open(QIODevice::ReadOnly);\n\nQByteArray array1;\nQByteArray array2;\nQBuffer *playbackBuffer = new QBuffer();\nplaybackBuffer-&gt;open(QBuffer::ReadWrite);\n\narray1 = file.read(10000000);\narray2 = file.read(10000000);\n\nplaybackBuffer-&gt;write(array1);\n\nvideoMedia-&gt;setCurrentSource(playbackBuffer);\nvideoOutput-&gt;play();\nplaybackBuffer-&gt;write(array2);\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13039614,"title":"QDataStream QIODevice memory allocation","body":"<p>Say I have a function that creates a QIODevice (e.g. a QFile), then returns a pointer to a QDataStream constructed from the QIODevice. What is the best way to deal with the memory allocation here? Clearly the QIODevice must be heap allocated to stay available to the QDataStream upon function termination, however the destruction of a QDataStream does not destroy or close the device. Is there a standard way of dealing with this seemingly common problem?\nIdeally I want a function that returns an object (not a pointer to an object) that behaves like a QDataStream but upon destruction closes the device. Effectively a standard library input stream.</p>\n\n<p>Example code:</p>\n\n<pre><code>QDataStream* getStream(const QString&amp; filename) {\n  QFile* file = new QFile(filename); // needs to be explicitly deleted later\n  file-&gt;open(QIODevice::ReadOnly);\n  QDataStream* out = new QDataStream(&amp;file); // same here\n  return out;\n}\n</code></pre>\n"},{"tags":["c++","qt","design","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":13049896,"title":"QML : Navigation between qml pages from design perception","body":"<p>We need to develop a QtQuick project, where we have about 100 screens. </p>\n\n<p>I had tried to make a demo project for the navigation which has three screens on button click. I had used the concepts of 'States' in the navigation between the pages. Initially I tried the same using 'Loader' but loader was not able to retain the previous state of page, it was re-loading the entire page during the navigation.</p>\n\n<p>Below is the code snippet of main.qml</p>\n\n<pre><code>// import QtQuick 1.0 // to target S60 5th Edition or Maemo 5\nimport QtQuick 1.1\n\nRectangle {\n    id:main_rectangle\n    width: 360\n    height: 640\n\n    Page1{\n        id:page1\n    }\n\n    Page2{\n        id:page2\n    }\n\n    Page3{\n        id:page3\n    }\n\n    states: [\n        State {\n\n            name: \"page2\"\n\n            PropertyChanges { target: page3; visible:false; }\n            PropertyChanges { target: page1; visible:false; }\n            PropertyChanges { target: page2; visible:true; }\n        },\n        State {\n            name: \"page1\"\n            PropertyChanges { target: page3; visible:false; }\n            PropertyChanges { target: page2; visible:false; }\n            PropertyChanges { target: page1; visible:true; }\n        },\n\n        State {\n            name: \"page3\"\n            PropertyChanges { target: page1; visible:false; }\n            PropertyChanges { target: page2; visible:false; }\n            PropertyChanges { target: page3; visible:true; }\n        }\n\n    ]\n\n}\n</code></pre>\n\n<p>This runs well with the small POC with three screens, but its not feasible to define states for 100 screens.</p>\n\n<p>From designing aspect we concluded to make a C++ controller we controls the states, visibility of various pages.</p>\n\n<p>Need suggestions how to implement the 'State' logic in C++. </p>\n"},{"tags":["xml","qt","qt4","schematron"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13049961,"title":"Qt with Schematron?","body":"<p>Is it possible to use Schematron to validate XML with the QT XmlPattern framework?\nOr in any other easy way?</p>\n"},{"tags":["linux","qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12892324,"title":"qplatformdefs.h with cmake","body":"<p>I'm trying to compile my Qt program with cmake but I've got an arror when compiling <a href=\"https://raw.github.com/chindit/dadaword/master/qzip.cpp\" rel=\"nofollow\" title=\"qzip.cpp\">qzip.cpp</a> :</p>\n\n<blockquote>\n  <p>qzip.cpp:57:27: error fatal: qplatformdefs.h:  No such file or directory</p>\n</blockquote>\n\n<p>I've added these lines in <em>CMakeLists.txt</em> but it didn't work :</p>\n\n<blockquote>\n  <p>IF (QT_LIBRARY_DIR AND NOT QT_MKSPECS_DIR  OR  QT_QMAKE_CHANGED)</p>\n  \n  <p>EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}</p>\n  \n  <blockquote>\n<pre><code>ARGS \"-query QMAKE_MKSPECS\"\n\nOUTPUT_VARIABLE qt_mkspecs_dirs )\n</code></pre>\n  </blockquote>\n  \n  <p># do not replace : on windows as it might be a drive letter</p>\n  \n  <p># and windows should already use ; as a separator</p>\n  \n  <p>IF(UNIX)</p>\n  \n  <blockquote>\n<pre><code>STRING(REPLACE \":\" \";\" qt_mkspecs_dirs \"${qt_mkspecs_dirs}\")\n</code></pre>\n  </blockquote>\n  \n  <p>ENDIF(UNIX)</p>\n  \n  <p>SET(QT_MKSPECS_DIR NOTFOUND)</p>\n  \n  <p>FIND_PATH(QT_MKSPECS_DIR qconfig.pri PATHS ${qt_mkspecs_dirs}</p>\n  \n  <blockquote>\n<pre><code>DOC \"The location of the Qt mkspecs containing qconfig.pri\"\n\n NO_DEFAULT_PATH )\n</code></pre>\n  </blockquote>\n  \n  <p>ENDIF (QT_LIBRARY_DIR AND NOT QT_MKSPECS_DIR  OR  QT_QMAKE_CHANGED)</p>\n  \n  <p>SET( QT_INCLUDES ${QT_QT_INCLUDE_DIR} ${QT_MKSPECS_DIR}/default ${QT_INCLUDE_DIR} )</p>\n</blockquote>\n\n<p>So, how can I add a link to <strong>qplatformdefs.h</strong> in my CMakeLists.cpp?</p>\n\n<p>Thanks a lot.</p>\n\n<p><strong>P.S.:</strong> I'm on Ubuntu 12.04 32bits</p>\n"},{"tags":["qt","locale","codec","qt4.7","qstring"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13049607,"title":"Qt use QIconvCodec as default codec on Mac, and QString::fromLocal8Bit() doesn't work properly","body":"<p>My code run on Windows and Mac. Now the QString::fromLocal8bit() works properly on Win but cannot deal with non-Latin1 characters (i.e. CJK Characters) on Mac. I had look into the source code and found On Both platform Qt will init its codec like this: </p>\n\n<pre><code>localeMapper = QTextCodec::codecForName(\"System\"); \n</code></pre>\n\n<p>executed in this function, Qt uses <strong>QWindowsLocalCodec</strong> on Win while it uses <strong>QIconvCodec</strong> on Mac. I found that if I set my prefered system language to \"Chinese\", then the function <strong>getMacLocaleName()</strong> &amp; <strong>getWinLocaleName()</strong> return \"<strong>zh_CH.lproj</strong>\" &amp; \"<strong>en_US_POSIX</strong>\" separately (<em>qlocale.cpp</em>). I guess that I should set something for the iconv library, so it will know the current locale and <strong>QString::fromLocal8bit()</strong> will properly work. Could anyone tell me how to make all things right and what is the machanism of Qt codec?</p>\n"},{"tags":["c++","qt","graph","qwt","linegraph"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":228,"score":1,"question_id":12227268,"title":"How to draw and edit line graphs in Qt","body":"<p>I need to draw a graph in Qt. User shold have an ability to create and delete vertices(dots) and edges(lines). Also user could move vertices with a mouse.</p>\n\n<p>Can <a href=\"http://qwt.sourceforge.net/\" rel=\"nofollow\">Qwt</a> help me with that or should i use something else (for example draw it my self with QWidget + QPainter)</p>\n\n<p>P.S. There could be vertices that are not connected. </p>\n"},{"tags":["c++","qt","smtp","email"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2304,"score":0,"question_id":3717018,"title":"How to send mail via SMTP and get it by using Qt?","body":"<p>As I unserstand I should use QTcpSocket class in order to send a mail, and QTcpServer class in order to listen the connection and get the mail. But as I am a begginer in this area I need an example that demonstrates a simple transaction. Please give an example.</p>\n"},{"tags":["xml","qt","qt4","xsd"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13047820,"title":"QT: XML Schema validation XSD, assert","body":"<p>I'd like to use the assert feature of XSD 1.1 using QXmlSchema.</p>\n\n<p>If tested it with the following xsd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n&lt;xsd:element name=\"root\"&gt;\n    &lt;xsd:complexType&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=\"node1\"&gt;\n                &lt;xsd:simpleType&gt;\n                    &lt;xsd:restriction base=\"xsd:integer\"&gt;\n                        &lt;xsd:minInclusive value=\"0\"/&gt;\n                        &lt;xsd:maxInclusive value=\"100\"/&gt;\n                    &lt;/xsd:restriction&gt;\n                &lt;/xsd:simpleType&gt;\n            &lt;/xsd:element&gt;\n            &lt;xsd:element name=\"node2\"&gt;\n                &lt;xsd:complexType&gt;\n                    &lt;xsd:sequence&gt;\n                        &lt;xsd:element name=\"x\" type=\"xsd:int\"/&gt;\n                        &lt;xsd:element name=\"y\" type=\"xsd:int\"/&gt;\n                    &lt;/xsd:sequence&gt;\n                    &lt;xsd:assert test=\"x+ y=0\"/&gt;\n                &lt;/xsd:complexType&gt;\n            &lt;/xsd:element&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:element&gt;\n</code></pre>\n\n<p></p>\n\n<p>and the following xml:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;node1&gt;1&lt;/node1&gt;\n    &lt;node2&gt;\n          &lt;x&gt;1&lt;/x&gt;\n          &lt;y&gt;3&lt;/y&gt;\n    &lt;/node2&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Now, the following code snippet returns valid schema and xml data, even though the assert should be false.</p>\n\n<pre><code> QXmlSchema schema;\n    schema.load(schemaData);\n    schema.isValid(); // true &lt;=====\n    QXmlSchemaValidator validator(schema);\n    validator.validate(xmlData)); //true &lt;=====\n</code></pre>\n\n<p>Any idea why?\nIs it because Xsd 1.1 is not implemented in Qt?\nIf so, why is the schema considered to be valid?</p>\n"},{"tags":["eclipse","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13047337,"title":"Qt C++ project doesn't compile in eclipse workspace","body":"<p>I'm working with eclipse Helios in the QT C++ perspective.\nWhenever I try to compile my project I get the following kind of errors on every QT class that I use:</p>\n\n<pre><code>expected ‘,’ or ‘...’ before ‘&amp;’ token\nISO C++ forbids declaration of ‘QString’ with no type\nexpected class-name before ‘{’ token\n‘QThread’ has not been declared\n</code></pre>\n\n<p>The project compiles in the linux shell, however.</p>\n\n<p>Also, I have a different project in a different workspace that is compiling perfectly with Qt. Somehow, those two workspaces don't look similar (project properties have different fields and options), although both of the projects are done in the Qt perspective.</p>\n\n<p>Can anyone help me figure this out?</p>\n"},{"tags":["qt","buffer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13045843,"title":"QBuffer::open return value ever false?","body":"<p>I is possible that QBuffer::open(OpenMode mode) ever returns false? Here is implementation:</p>\n\n<pre><code>bool QBuffer::open(OpenMode flags)\n{\n    Q_D(QBuffer);\n\n    if ((flags &amp; Append) == Append)\n        flags |= WriteOnly;\n    setOpenMode(flags);\n    if (!(isReadable() || isWritable())) {\n        qWarning(\"QFile::open: File access not specified\");\n        return false;\n    }\n\n    if ((flags &amp; QIODevice::Truncate) == QIODevice::Truncate) {\n        d-&gt;buf-&gt;resize(o);\n    }\n    if ((flags &amp; QIODevice::Append) == QIODevice::Append) // append to end of buffer\n        seek(d-&gt;buf-&gt;size());\n    else\n        seek(o);\n\n    return true;\n}\n\nbool QIODevice::isReadable() const\n{\n    return (openMode() &amp; ReadOnly) != 0;\n}\n\nbool QIODevice::isWritable() const\n{\n    return (openMode() &amp; WriteOnly) != 0;\n}\n</code></pre>\n\n<p>I would say no. I am making this research so my flexLint code analysis won't create new kind of warning.</p>\n"},{"tags":["qt","directory","move"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13045541,"title":"Move directory using Qt","body":"<p>I want to move a directory. My selected directory contains many sub directories and files.</p>\n\n<p>How can I implement the same using Qt?</p>\n"},{"tags":["qt","licensing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12654613,"title":"static linking Qt with open source version","body":"<p>I'm developing an application with the Qt open source edition. As I don't want to deliver the Microsoft Visual Visual C(++) redistributables, I'd like to use a static-linked version of Qt. \nThe Qt licensing information <a href=\"http://qt.digia.com/Product/Licensing\" rel=\"nofollow\">says</a> that I \"should\" develop with a commercial Qt license if I want to use static linking in my application, although when I use the <code>configure -static</code> command for building a static Qt library the command prompt asks me if I use the commercial or open source version of Qt.</p>\n\n<p>So it is possible to build Qt with the open source version? Do I need the commercial edition to use static linking? I won't sell the application.</p>\n"},{"tags":["qt","lgpl"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":2614,"score":5,"question_id":2277165,"title":"Qt single EXE with LGPL?","body":"<p>I don't know much about the LGPL/GPL when it comes to distributing programs (without a Qt license); If I made a program, could I statically link the libraries to the exe so I have a single file to distribute when:</p>\n\n<ul>\n<li><p>The program does not cost anything, it's just being distributed (closed source or open source)?</p></li>\n<li><p>When you have to pay for the program can you still statically link?</p></li>\n</ul>\n"},{"tags":["c++","qt","opengl","ubuntu","qglwidget"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2333,"score":5,"question_id":4526016,"title":"Undefined reference to vtable, Qt in Linux","body":"<p>I was trying to compile a Qt and OpenGL program under Code::Blocks in Ubuntu 10.04. I get the 'undefined reference to 'vtable for GLWidget'</p>\n\n<pre><code>#ifndef _GLWIDGET_H\n#define _GLWIDGET_H\n\n#include &lt;QtOpenGL/QGLWidget&gt;\n#include \"stdlib.h\"\n\nclass GLWidget : public QGLWidget {\n\n    Q_OBJECT // must include this if you use Qt signals/slots\n\npublic:\n    GLWidget(QWidget *parent = 0);\n    ~GLWidget();\nprotected:\n    void initializeGL();\n    void resizeGL(int w, int h);\n    void paintGL();\n    void keyPressEvent(QKeyEvent *event);\n};\n\n#endif  /* _GLWIDGET_H */\n</code></pre>\n\n<p>I borrowed the code from this guy to see if it works, because mine wasn't working because of the same reason. <a href=\"http://programanddesign.com/cpp/qt-opengl-code-example/\" rel=\"nofollow\">Code</a></p>\n\n<p>And here is the GLWidget.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QMouseEvent&gt;\n#include \"glwidget.h\"\n\nGLWidget::GLWidget(QWidget *parent) : QGLWidget(parent) {\n    setMouseTracking(true);\n}\n\nGLWidget::~GLWidget()\n{\n}\n\nvoid GLWidget::initializeGL() {\n   ...\n}\n\nvoid GLWidget::resizeGL(int w, int h) {\n   ...\n}\n\nvoid GLWidget::paintGL() {\n    ...\n}\n\nvoid GLWidget::keyPressEvent(QKeyEvent* event) {\n    ...\n    }\n}\n</code></pre>\n\n<p>I removed the code from the GL part to keep it shorter. Should you need it, I can always post it up.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtOpenGL/QGLWidget&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char *argv[]) {\n\n    QApplication app(argc, argv);\n\n    GLWidget window;\n    window.resize(800,600);\n    window.show();\n\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","qtwebkit","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13040903,"title":"How to catch an event of a file being dragged & dropped from desktop to QWebView in a Qt (PyQt) application with javascript","body":"<p>I am working on an application in PyQt. I made the UI with QWebView which gets loaded with an HTML page. </p>\n\n<p>This HTML page contains a javascript code which detects if a file was dropped on a certain DIV.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    $(document).ready(function() {\n        jQuery.event.props.push('dataTransfer');\n\n\n        $('.input').bind('drop', function(e) {\n            var files = e.dataTransfer.files;\n            alert(files[0].name);\n        });\n    });\n</code></pre>\n\n<p>This works fine if I load the HTML code in Chrome.</p>\n\n<p>If I run my application and D&amp;D a file in QWebView that javascript code doesn't get executed. </p>\n\n<p>I extended the QWebView and added the events so I can catch the D&amp;D event with python. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class BrowserWindow(QtWebKit.QWebView):\ndef __init__(self, parent):\n    super(BrowserWindow, self).__init__(parent)\n    self.setAcceptDrops(True)\n\ndef dragEnterEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.accept()\n    else:\n        event.ignore()\n\ndef dragMoveEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.setDropAction(QtCore.Qt.CopyAction)\n        event.accept()\n    else:\n        event.ignore()\n\ndef dropEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.setDropAction(QtCore.Qt.CopyAction)\n        event.accept()\n        urls = event.mimeData().urls()\n        print str(urls[0].toLocalFile())\n    else:\n        event.ignore()\n</code></pre>\n\n<p>Is there an option to catch such event directly with javascript in QWebView?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13044028,"title":"resizing a Widget is not affecting the pixmap that is present inside it - Qt/QML","body":"<p>I am trying to Zoom In / Out my Pixmap in my application of PDF viewer.</p>\n\n<p>I have used Poppler for pdf rendering.\nPoppler gives me a QImage.</p>\n\n<p>I have a class QDocWidget.cpp which is inherited from QLabel. \nInside this class I am getting the QImage of that PDF page and I am call setPixmap to set it.</p>\n\n<p>In my controller class I have QGraphicsProxyWidget instance and called setWidget with DocWidget instance.</p>\n\n<p>In my QML I have written a PinchArea for Zoom In/Out.</p>\n\n<p>I have tried the following two approaches:</p>\n\n<p>1) scaling the pixmap -> For every PinchUpdate call I get in QML i am scaling the pixmap by 0.01 , however this is very slow and blocking the UI.</p>\n\n<p>2) calling resize on the widget -> In this approach I have called resize on my proxy widget and my docwidget however the widget is getting resized but the pixmap isn't.</p>\n\n<p>I have not written any scroll area.</p>\n\n<p>Can anyone help me with this.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["c++","qt","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13042343,"title":"QMenuBar is missing or invisible on Linux","body":"<p>I have a Qt4 application which builds and runs correctly on Windows. However when I build and run it on Linux (ubuntu 12.04), the QMenuBar of my main window (QMainWindow) is missing. The space it takes appears to be allocated but its invisible/transparent.</p>\n"},{"tags":["c++","qt","undo","slots","redo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13042788,"title":"triggering redo after undo","body":"<p>I am trying to make it to where redo is only visible after undo is used. I cannot seem to get it to work. I know there is something wrong with my signals and slots i just cant figure out how to get it to work.</p>\n\n<p>here is the code for the undo and redo signal slots:</p>\n\n<pre><code>    cutAct-&gt;setEnabled(false);\n    copyAct-&gt;setEnabled(false);\n    undoAct-&gt;setVisible(false);\n    redoAct-&gt;setVisible(false);\n    connect(textEdit, SIGNAL(copyAvailable(bool)), cutAct, SLOT(setEnabled(bool)));\n    connect(textEdit, SIGNAL(copyAvailable(bool)), copyAct, SLOT(setEnabled(bool)));\n    connect(textEdit-&gt;document(), SIGNAL(modificationChanged(bool)), undoAct, SLOT(setVisible(bool)));\n    connect(undoAct, SIGNAL(triggered()), redoAct, SLOT(setVisible(bool)));\n</code></pre>\n"},{"tags":["c++","qt","dll"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":78,"score":-1,"question_id":13020652,"title":"Using DLLs Qt - Undefined Reference","body":"<p>I am trying to use and make a DLL in Qt. The DLL, <strong>does not</strong> use any Qt frameworks. Here is my library's .pro file:</p>\n\n<pre><code>TARGET = MyLib\nTEMPLATE = lib\n\ninclude(Botan.pri)\nwin32:INCLUDEPATH += \"C:/botan/include\"\nwin32:LIBS += \"C:/botan/libBotan.a\"\n\nunix:INCLUDEPATH += \"/usr/local/include/botan-1.10\"\nunix:LIBS += \"/usr/local/lib/libbotan-1.10.a\"\n\nHEADERS += \\\n    HEADERS HERE\n\nSOURCES += \\\n    SOUCRES HERE\n</code></pre>\n\n<p>My library is compiled successfully, and I get a MyLib.dll in my debug/release folder. I then copied my library sources completely, and removed everything besides the header files for the 'includes' folder.</p>\n\n<p>I then created a new project to use my library.</p>\n\n<p>I added this to my project file:</p>\n\n<pre><code>INCLUDEPATH += \"C:/Users/Stevie/Desktop/MyLib/include\"\nLIBS += \"C:/Users/Stevie/Desktop/MyLib/MyLib.dll\"\n</code></pre>\n\n<p>The headers have no problem, and it finds my DLL fine (if I change it to a non-existing path, it throw an error. It doesn't as of now.)</p>\n\n<p>Now when I go into my '.cpp' file, I include my header file, and try and use my library and it throws 'undefined reference to <code>MyLib::</code>...'. I have no idea why, as I am including the DLL and I believe it should be found perfectly fine.</p>\n\n<p>Also, I am 99% sure it isn't with Botan, as I use Botan often like this, and it works fine. Anyway, I include the 'Botan.dll' with it anyway just to be sure, but it's not throwing the undefined errors on Botan.</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","variables","signals-slots","preserve"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13042274,"title":"Preserving values between slots or functions in QT","body":"<p>I'm working with QT. Is there a way to preserve values between slots or functions in general? Just to keep it simple, let's say my form has three buttons on a toolbar and a line edit. I need the first button to set the value \"1\" to a variable, and the second button to set \"2\" to a variable. The third button takes this variable and shows it inside the line edit.</p>\n\n<p>So if I press the first button and then the third the line edit will show the number \"1\". If I press the second button and then the third the line edit will show the number \"2\". Basically this would make third button's slot look up the variable that was set by either the first or the second button and then display it. I realize this isn't the perfect example, but I think it illustrates the concept.</p>\n\n<p>The way's I've tried to think to do it are:</p>\n\n<ol>\n<li><p>They way I remember from a VB class I took in school... Create a hidden line edit and store the value there until I need it. \nSadly this will mean lots and lots of hidden line edits on a complex project. Yuck.</p></li>\n<li><p>Create a global variable in the int main() function and set that variable across all the functions. That can get confusing and anything can access it. So that can be messy.</p></li>\n<li><p>I've noticed that QT for a desktop application appears to have a class called \"ui\". I've thought of creating my own class with a getter and setter and inheriting everything out of ui...\nI believe this would work but it seems like overkill.</p></li>\n<li><p>Save the information in a tmp file and read it.\nThis seems like it could also be a pain when I just need short term variables.</p></li>\n</ol>\n\n<p>Is there a simple way to accomplish this task?</p>\n"},{"tags":["c++","windows","qt","p2p","voip"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":86,"score":3,"question_id":13039217,"title":"C++ and voIP using P2P","body":"<p>I am currently planning my final year project were I wish to create a application which supports voice over IP and text based chat (though not the \"next skype\"). I just really want a easy to use lightweight way to get the voIP part done with and it does not need extended amount of features, at least not to begin with.</p>\n\n<p>One of the features I wanted is that it doesn't go by a server, but that is because I do not want to maintain a server after the release of the application. So if it is possible to just give your IP to someone and they join using it would be preferable. </p>\n\n<p>I'm planning to use the Qt framework for GUI, though it can be changed and so can the language (C++), so nothing is written in stone. The software will run on windows.</p>\n\n<p>I have looked at H.323, sip and some other open source, but it seems just so difficult to get into and I cannot figure out whether they do what I need them to do.</p>\n\n<p>Any open source libraries I should look into that does partly the thing I want? Any sources I have missed? I'm completely new to the voIP world and could use a push in the right direction. Again if there is a language that does this in a simple fashion I can just switch since I am currently in a planning phase.\nThanks for any help I get.  </p>\n"},{"tags":["c++","qt","mingw","cross-compiling"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":127,"score":2,"question_id":13036895,"title":"cross compiling qt (linux/mingw -> windows): various undefined references","body":"<p>(Crosspost from <a href=\"http://www.qtcentre.org/threads/51647-cross-compiling-qt-%28linux-mingw-gt-windows%29-various-undefined-references\" rel=\"nofollow\">here</a>, since nobody seems to have an idea)</p>\n\n<p>Hello everyone,</p>\n\n<p>I am trying to cross compile qt 4.8.3 from my linux for my windows. The final goal is to build a static qt, but independent of building static or not I always get the same error. Playing around with various flags didn't help either:</p>\n\n<pre><code>./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x18dc): undefined reference to `QGb18030Codec::QGb18030Codec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x18ef): undefined reference to `QGbkCodec::QGbkCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1902): undefined reference to `QGb2312Codec::QGb2312Codec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1915): undefined reference to `QEucJpCodec::QEucJpCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1928): undefined reference to `QJisCodec::QJisCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x193b): undefined reference to `QSjisCodec::QSjisCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1956): undefined reference to `vtable for QEucKrCodec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1971): undefined reference to `vtable for QCP949Codec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x198c): undefined reference to `vtable for QBig5Codec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x19a7): undefined reference to `vtable for QBig5hkscsCodec'\n</code></pre>\n\n<p>I'm using the default win32-g++ configuration file in combination with mingw.</p>\n\n<p>I googled quite a bit around, but I have still no idea, where this comes from.. Maybe someone of you has the right hint for me ;-)</p>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2685,"score":2,"question_id":5714404,"title":"How to make a QPushButton disabled","body":"<p>I created lots of <a href=\"http://qt-project.org/doc/qpushbutton\" rel=\"nofollow\">QPushButtons</a>, added clicked signal and a slot name ´deneme()´ to all of the buttons with <code>QT DESIGNER</code> and the thing I want to do is; when I clicked any button, some operation should be done and lastly the button should be disabled but we do not know which button is clicked. I know I can disable the buttons with <code>setEnabled()</code> and <code>isEnabled()</code> but I do not know how to disable them.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13039441,"title":"Qt Tooltips require html encoding","body":"<p>I have a <code>QAbstractTableModel</code> implementation which looks something like this:</p>\n\n<pre><code>QVaraint ManageTableModel::data(const QModelIndex &amp;index, int role) const\n{\n    if( role == Qt::DisplayRole || role == Qt::ToolTipRole )\n    {\n        return _value(index.column(), index.row());\n    }\n}\n</code></pre>\n\n<p>The values render as expected, in PlainText, in the table cells. However the tooltips are getting mangled because they (apparently) are rendered in RichText for some reason. How may I specify that tooltips are to be rendered in PlainText?</p>\n\n<p>In lieu of that, is there a Qt model I can use to do the html encoding so that I may write:</p>\n\n<blockquote>\n  <p>if( role == Qt::ToolTipRole ) return html_encode(_value(index.column(), index.row()));</p>\n</blockquote>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13039039,"title":"QComboBox Get The Varient When \"currentIndexChanged(int)\" Emitted","body":"<p>I am having difficulty finding documentation on this or an example.</p>\n\n<p>Could someone concretely show me how to access the QVariant of the currently selected index in a QComboBox</p>\n\n<pre><code> QComboBox * combo = new QComboBox();\n combo-&gt;addItem(\"Bla1\", QVariant(1));\n combo-&gt;addItem(\"Bla2\", QVariant(2));\n combo-&gt;addItem(\"Bla3\", QVariant(3));\n combo-&gt;addItem(\"Bla4\", QVariant(4));\n connect(combo, SIGNAL(currentIndexChanged(int)), this, slot(HANDLEITMAN(int))\n</code></pre>\n\n<p>And of course else where in the source</p>\n\n<pre><code> void TheCooler::HANDLEITMAN(int index)\n {\n      //What do I do with index?\n      //sender()?\n }\n</code></pre>\n"},{"tags":["c++","qt","opencv","camera"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":332,"score":0,"question_id":10423934,"title":"OpenCV 2.2 Does not open Camera","body":"<p>I would like to use camera and perform image processing on the input stream, but when program is executed a window appears asking 'Capture Source' after which when 'OK' or 'Apply' nothing happens.</p>\n\n<p>But if I use video file instead of camera, the program runs perfectly fine.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>int MainWindow::on_CameraOpen_triggered()\n{\n// programming done in Qt and using Opencv 2.2.\n// all the variables are defined &amp; declared in private of header file\n// there is no compilation error\n// return type of the function is 'int'\n// Following program works fine if name of video file is mentioned \n// instead of '0' is the line below\nVideoCapture capture(0);\n\nif(!capture.isOpened())\n    return 1;\n\n    bool stop(false);\n    double rate = capture.get(CV_CAP_PROP_FPS);\n    namedWindow(\"Extracted Frame\");\n    int delayVideo = 1000/rate;\n\n    while(!stop)\n    {\n        if(!capture.read(frame))\n        {\n            break;\n        }\n        imshow(\"Extracted frame\", frame);\n        if(waitKey(delayVideo)&gt;=0)\n        {\n            stop = true;\n        }\n    }\n\ncapture.release();\n}\n</code></pre>\n\n<p>I have tried to remove the bug which was rectified at following link: \n<a href=\"https://code.ros.org/trac/opencv/changeset/4400\" rel=\"nofollow\">https://code.ros.org/trac/opencv/changeset/4400</a></p>\n\n<p><a href=\"https://code.ros.org/trac/opencv/browser/trunk/opencv/modules/highgui/src/precomp.hpp?rev=4400\" rel=\"nofollow\">https://code.ros.org/trac/opencv/browser/trunk/opencv/modules/highgui/src/precomp.hpp?rev=4400</a></p>\n\n<p>Camera works fine on gtalk and other camera softwares.</p>\n\n<p>Kindly suggest/guide what can be done.</p>\n\n<p>Thank you very much.</p>\n\n<p>Regards,\ndbs</p>\n"},{"tags":["c++","xml","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":11595015,"title":"Qt QDomElement performance issue","body":"<p>I'm writing an application for working with <a href=\"http://www.topografix.com/gpx.asp\" rel=\"nofollow\">GPX files</a> and I'm having performance issues when using the QDomElement class to read large XML documents. Files with GPS paths containing thousands of waypoints can take half a minute to load.</p>\n\n<p>This is my code for reading paths (routes or tracks):</p>\n\n<pre><code>void GPXPath::readXml(QDomElement &amp;pathElement)\n{\n    for (int i = 0; i &lt; pathElement.childNodes().count(); ++i)\n    {\n        QDomElement child = pathElement.childNodes().item(i).toElement();\n        if (child.nodeName() == \"trkpt\" ||\n            child.nodeName() == \"rtept\")\n        {\n            GPXWaypoint wpt;\n            wpt.readXml(child);\n            waypoints_.append(wpt);\n        }\n    }\n}\n</code></pre>\n\n<p>When analysing the code with Apple's Instruments I noticed that QDomNodeListPrivate::createList() is responsible for most of the computing time and it is being called by both QDomNodeList::count() and QDomNodeList::item().</p>\n\n<p>It appears that this is not an efficient way of iterating through the child elements of a QDomElement as the list seems to be re-generated for every operation. What approach should I use instead?</p>\n"},{"tags":["c++","qt","class","containers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":116,"score":-3,"question_id":13035378,"title":"my class doesn't work perfect with containers","body":"<p>i have a class that has lot of problem with containers ,this time if i create my objects with non default constructor function  i can't control the object in a container at all(change value , visible ...) ; but if i define my object with default  constructor i can do it easily .</p>\n\n<p>Control.h</p>\n\n<pre><code>class Controls : public QObject\n{\n\nprivate:\n\n  QHBoxLayout *Layout ;\n  string Controlname;\n  QLabel *Label ;\n\n  QSpinBox *Spin ;\n\n\npublic:\n  QSlider *Slider ;\n  Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n  Controls(const Controls &amp;copy);\n  Controls();\n  Controls(QLayout &amp;Parent);\n  ~Controls();\n\n\n  QLabel *  Get_Label()const { return Label ; }\n  QSlider *  Get_Slider()const { return Slider ; }\n  QSpinBox *  Get_Spin()const { return Spin ; }\n  QHBoxLayout *  Get_Layout() {return Layout;}\n\n  void SetValue(const int &amp;newvalue);\n\n  Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>controls.cpp</p>\n\n<pre><code>#include \"Interface.h\"\nControls &amp;Controls::operator= (const Controls &amp;copy)\n{\n  Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(copy.Get_Label()-&gt;text());\n  Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n\n  return *this;\n}\n\nControls::Controls(const Controls &amp;copy)\n{\n  Label = new QLabel()   ;\n  Slider = new QSlider()   ;\n  Spin = new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(copy.Get_Label()-&gt;text());\n  Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n}\n\nControls::Controls()\n{\n  Label =  new QLabel()  ;\n  Slider = new QSlider()   ;\n  Spin = new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(0);\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(QString (\"unamed\"));\n  Spin-&gt;setValue(0);\n\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n}\n\n\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n  Controlname = name ;\n\n  Label =  new QLabel() ;\n  Slider = new QSlider()  ;\n  Spin =  new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(Default_value);\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(QString (name.c_str()));\n  Spin-&gt;setValue(Default_value);\n\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n\n  Parent.addItem(Layout);\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n  Slider-&gt;setValue(newvalue);\n}\n\nControls::~Controls()\n{\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>int main()\n{\n  QApplication app (argc , argv );\n\n  QVBoxLayout layout ;\n  QLabel  Image  ;\n  QWidget  Panel  ;\n  Camera  Cm   ;\n\n\n  vector &lt;Controls&gt; g ;\n  g.push_back(Controls(layout ,\"c1\" , 33));\n  g.push_back(Controls(layout ,\"c2\" , 13));\n  g.push_back(Controls(layout ,\"c3\" , 63));\n  g.push_back(Controls(layout ,\"c1\" , 33));\n\n\n  for ( int x =0 ; x&lt;g.size() ; x++)\n  {\n    g.at(x).SetValue(33); ////not work \n\n  }\n\n  vector &lt;Controls&gt; g2 ;\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n\n\n  for ( int x =0 ; x&lt;g2.size() ; x++)\n  {\n    layout.addItem(g2.at(x).Get_Layout());\n    g2.at(x).SetValue(33); ////this  work\n\n  }\n\n\n  Panel.setLayout(&amp;layout);\n  Panel. show();\n\n  return app.exec();\n\n  return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4562,"score":0,"question_id":5535661,"title":"#include <QtGui/QApplication> ---> No such file or directory","body":"<p>I'm using Qt Creator, and this line is generated automatically by the Qt Creator:</p>\n\n<p><code>#include &lt;QtGui/QApplication&gt;</code></p>\n\n<p>But, why am I getting this message?</p>\n\n<p><code>QtGui/QApplication&gt;:  No such file or directory</code></p>\n"},{"tags":["qt","release","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13032497,"title":"QtQuick Project exe issue in release mode","body":"<p>I have worked with VC++ project during my past days. Whenever the project is build in release mode or debug mode, the exe runs itself without any additional dependencies. We just have to click on the exe, and the project runs.</p>\n\n<p>But this is not working in QML project. I have both debug &amp; release desktop versions of project, but they are not running on clicking the exe.\nDo we need some additional component to make a sort of wrapper for exe to make it run.</p>\n\n<p>I would like to mention that I'm not asking regarding the deployment of QtQuick application.</p>\n"},{"tags":["c++","qt","directory","qfiledialog"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":358,"score":1,"question_id":9618381,"title":"How to specify the QFileDialog::getExistingDirectory() method?","body":"<p>With the method/command:</p>\n\n<pre><code>OpenCreateDirectory() \n{  \n    QString Directory = QFileDialog::getExistingDirectory(this,\n                        tr(\"Choose Or Create Directory\"),\n                        \"/home\",\n                        QFileDialog::DontResolveSymlinks);\n}\n</code></pre>\n\n<p>I can create a new directory or choose an existing one. Is there a way to disable the possibility to create a new directory? Also, is there a way to disable the possibility to choose an existing directory?</p>\n\n<p>To be more precise: When I use the method above, a window pops up in which I can create a new directory OR open an existing directory. What I want to do is to limit the method, so that I just can create a new directory without being able to just open an existing directory OR in the other case limit the method, so that I just can open an existing directory without being able to create a new directory.</p>\n"},{"tags":["qt","enums","comparison","qvariant","qdebug"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":393,"score":2,"question_id":6974082,"title":"Qt enums comparison and output to QDebug","body":"<p>i am registering enums to the Qt meta-object system. i have double checked that all of those have a meta-type ID, and everything looks perfect. But i have some kind of unresolved issue with the comparison of those.</p>\n\n<p>Let's consider this code for populating a combobox:</p>\n\n<pre><code>WgtEnumItemEditor::WgtEnumItemEditor (QVariant::Type t, QWidget *p) : QComboBox(p) {\n    QMetaObject const &amp;mo = staticMetaObject;\n    QString mtName = QMetaType::typeName(t);\n    mtName = mtName.mid( mtName.lastIndexOf(':')+1 );\n    qint32 const iEnum = mo.indexOfEnumerator( mtName.toLatin1() );\n    QMetaEnum const &amp;en = mo.enumerator( iEnum );\n    quint32 const cEnum = en.keyCount();\n\n    for (quint32 i=0; i&lt;cEnum; i++){\n        const char *key = en.key(i);\n        uint const val = en.value(i);\n        QVariant const var ( t, &amp;val );\n        addItem( classNameToNaturalString(key), var );\n        qDebug() &lt;&lt; var;\n    }\n}\n</code></pre>\n\n<p>It works good, my list gets populated with human readable texts for my enums.</p>\n\n<p>Now, i'm trying to set the initial value displayed by the list with a QVariant itself containing a value for the enum:</p>\n\n<pre><code>void WgtEnumItemEditor::setValue (const QVariant &amp;v) {\n    for (quint32 i=0; i&lt;count(); i++) {\n        if (itemData(i)==v.data) {\n            setCurrentIndex(i);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>This piece of code doesn't work. i have to replace the test by:</p>\n\n<pre><code>*(uint*)itemData(i).data()==*(uint*)v.data()\n</code></pre>\n\n<p>This way it works.</p>\n\n<p>Can anyone explain me how to enable comparison of my custom enums in QVariants? Or am i doing something wrong while creating the QVariant being used as userdata for the list maybe?</p>\n\n<p>Also, if i try to qDebug() the QVariants created in loop for populating the list, i get empty values outputs. For instance, the output generated in the first chunk of code looks like this:</p>\n\n<pre><code>QVariant(ReadingDirection, ) \nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(BarcodeStandard, )\nQVariant(BarcodeStandard, )\nQVariant(BarcodeStandard, )\n</code></pre>\n\n<p>As you can see, the value isn't outputed correctly... Can you please help me find why?</p>\n\n<p>Thank you,\nPierre.</p>\n"},{"tags":["qt","pdf","compression","pdf-generation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13033417,"title":"Control over raster compression in Qt generated pdfs","body":"<p>A convenient way to produce pdf files using Qt library is involvement QPrinter and QPainter like in following pseudocode:</p>\n\n<pre><code>QPrinter pdfPrinter; \npdfPrinter.setOutputFormat( QPrinter::PdfFormat );\n// other pdfPrinter initializations \nQPainter pdfPainter;\npdfPainter.begin( &amp;pdfPrinter);\n// rendering code here\npdfPainter.end();\n</code></pre>\n\n<p>Is there any particular method to take control over raster compression methods and quality, if rendering code invokes \"painting\" of QImage/QBitmap/QPixmap objects? </p>\n"},{"tags":["qt","paintevent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":10860709,"title":"Calling paintEvent reinitializes member variables","body":"<p>Every time I call the paintEvent() method, the member variables from the class I am calling the paintEvent from is reinitialized. Is this supposed to happen? Is there a way around this issue? </p>\n\n<pre><code>class Frame : public QLabel\n{\n    Q_OBJECT\n\npublic:\n    Frame( QWidget *parent );\n    void setValue(int val) { m_val = val; update(); }\n    int getValue() { return m_val; }\n\nprotected:\n    void paintEvent( QPaintEvent *event);\n\nprivate:\n    int m_val;\n};\n\n\nvoid Frame::paintEvent(QPaintEvent *event)\n{\n    int num = getValue();\n} \n</code></pre>\n"},{"tags":["c++","qt","cout"],"answer_count":3,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":12952,"score":10,"question_id":3886105,"title":"How to print to console when using Qt","body":"<p>Im using Qt4 and c++ for making some programs in computer graphics. I need to be able to print some varaibles in my console in runtime, not debugging, but <code>cout</code> doesn't seem to work even if I add the libraries. Is there a way to do this?</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13030223,"title":"QAbstractItemModel confused about index/parent and data functions","body":"<p>I have the following simple model example:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtGui/QTreeView&gt;\n#include &lt;QAbstractItemModel&gt;\n\nclass TestModel : public QAbstractItemModel\n{\npublic:\n    TestModel()\n    {\n        SetUpData();\n    }\n\n    virtual QModelIndex index(int row, int column, const QModelIndex&amp; parent) const\n    {\n        if ( parent.isValid())\n        {\n            // child\n            return createIndex( row, column, (void*)&amp;mData[row].mChildren[column]);\n        }\n        // root\n        return createIndex( row, column, (void*)&amp;mData[row]);\n    }\n\n    virtual QModelIndex parent(const QModelIndex&amp; child) const\n    {\n        ModelData* data = (ModelData*)child.internalPointer();\n\n        // find out where \"data\" is in the mData vector structure\n        for ( size_t i=0; i&lt;mData.size(); ++i )\n        {\n            for ( size_t j=0; j&lt;mData[i].mChildren.size(); ++j )\n            {\n                if ( &amp;mData[i].mChildren[j] == data )\n                {\n                    // I think this is correct, return the parent row at col 0?\n                    return createIndex( i, 0, (void*)&amp;mData[i].mChildren[j]);\n                }\n            }\n        }\n        return QModelIndex();\n    }\n\n    virtual int rowCount(const QModelIndex&amp; parent) const\n    {\n        if ( parent.isValid() )\n        {\n            // Per root node size\n            return mData[parent.row()].mChildren.size();\n        }\n\n        // Root size\n        return mData.size();\n    }\n\n    virtual int columnCount(const QModelIndex&amp; parent) const\n    {\n        // The \"parent\" nodes should have two columns, the children should have 1\n        if ( parent.isValid() )\n        {\n            // Root\n            return 1;\n        }\n        // Children\n        return 2;\n    }\n\n    virtual QVariant data(const QModelIndex&amp; index, int role) const\n    {\n        if ( role == Qt::DisplayRole &amp;&amp; index.isValid() )\n        {\n            if ( index.isValid() )\n            {\n                // I think col and row are the wrong way around, but will crash if swapped\n                return mData[index.column()].mChildren[index.row()].mName;\n            }\n            else\n            {\n                // this never happens because \"RootN\" is never displayed\n                return mData[index.column()].mName;\n            }\n        }\n        return QVariant();\n    }\n\nprivate:\n    // The \"real\" data that this Qt model is providing an interface to\n    struct ModelData\n    {\n        QString mName;\n        std::vector&lt; ModelData &gt; mChildren;\n    };\n\n    std::vector&lt; ModelData &gt; mData;\n\n    void SetUpData()\n    {\n        for ( int i=0; i&lt;3; ++i )\n        {\n            ModelData root;\n            root.mName = \"Root\" + QString::number( i+1 );\n\n            for ( int j=0; j&lt;10; ++j )\n            {\n                ModelData node;\n                node.mName = \"Node\" + QString::number( j+1 );\n                root.mChildren.push_back( node );\n            }\n            mData.push_back( root );\n        }\n    }\n};\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    TestModel* model = new TestModel();\n    QTreeView* tv = new QTreeView();\n\n    tv-&gt;setModel( model );\n    tv-&gt;show();\n\n    int ret = a.exec();\n\n    delete tv;\n    delete model;\n\n    return ret;\n}\n</code></pre>\n\n<p>What I'm trying to do here is create a model which has the following structure:</p>\n\n<pre><code>Root1\n |-Node1-10\n |\nRoot2\n |-Node1-10\n |\nRoot3\n |-Node1-10\n</code></pre>\n\n<p>However I end up with this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/mHCcE.png\" alt=\"output\"></p>\n\n<p>I'm really confused about how index/parent and data are supposed to be working. Obviously I don't understand it because my output is incorrect.</p>\n\n<p>I thought that for example, Root1, Node3 would cause index to be called with row = 0, col=2, at which point I call createIndex with 0,2 and the pointer to that element?</p>\n\n<p>And for parent() return QModelIndex if parent is valid as this means its a RootN element, then return createIndex to create an index to the parent if its not a root element.</p>\n\n<p>Finally for data I figured this just returns the display string for the UI for the given row/column?</p>\n"},{"tags":["c++","qt","qss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13029813,"title":"how to style the QScrollBar when the content is not scrolling?","body":"<p>I want to style the scrollbars. I am able to apply styles to scrollbar when scrollarea content is scrolling. \nBut when the content is not scrolling the style is not getting applied to it.</p>\n\n<p>I have used below style elements:</p>\n\n<pre><code>QScrollBar:vertical{ /** some styles **/ };\nQScrollBar::handle:vertical{ /** some styles **/ };\nQScrollBar::add-line:vertical{ /** some styles **/ };\nQScrollBar::sub-line:vertical{ /** some styles **/ };\nQScrollBar::add-page:vertical{ /** some styles **/ };\nQScrollBar::sub-page:vertical{ /** some styles **/ };\n</code></pre>\n\n<p>These elements works fine when content is scrolling.</p>\n\n<p>I tried to use below element when content is not scrolling:</p>\n\n<pre><code>QScrollBar:vertical:disabled{ /** some styles **/ };\n</code></pre>\n\n<p>But doesn't have any effect :(</p>\n\n<p>Anyone has this similar issue please reply..</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","pyqt","vlc","pyside","libvlc"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12994380,"title":"Phonon with vlc backend on Windows","body":"<p>I'm trying to make an media player application with pyQt/pyside and the phonon library. \nCurrently I'm using the default backend (phonon_ds94.dll). I would like to use the phonon_vlc.dll one but I don't know how to make the switch on winXP. Any one have an idea ?</p>\n"},{"tags":["qt","widget","readonly"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12781062,"title":"Read-Only QT form","body":"<p>I am looking to make a QT form read-only, but NOT disabled. What I am trying to achieve is that the user is still able to use the controls on it, for example see what elements are there in a combo box, or scroll to the end of a list box, but should not be able to change the values of these components. Since the disabled form does not allow any interaction, and I did not find in the API anything related to make a form read-only I am wondering what possible solution are there for this problem.</p>\n"},{"tags":["c++","qt","stdin","blocking"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3709,"score":4,"question_id":1271784,"title":"using QTextStream to read stdin in a non-blocking fashion","body":"<p>Using Qt, I'm attempting to read the contents of the stdin stream in a non-blocking fashion. I'm using the QSocketNotifier to alert me when the socket has recieved some new data. The setup for the notifier looks like this:</p>\n\n<pre><code>QSocketNotifier *pNot = new QSocketNotifier(STDIN_FILENO, QSocketNotifier::Read, this);\nconnect(pNot, SIGNAL(activated(int)), this, SLOT(onData()));\npNot-&gt;setEnabled(true);\n</code></pre>\n\n<p>The <code>onData()</code> slot looks like this:</p>\n\n<pre><code>void CIPCListener::onData()\n{\n    qDebug() &lt;&lt; Q_FUNC_INFO;\n    QTextStream stream(stdin, QIODevice::ReadOnly);\n\n    QString str;\n\n    forever\n    {\n    \tfd_set stdinfd;\n    \tFD_ZERO( &amp;stdinfd );\n    \tFD_SET( STDIN_FILENO, &amp;stdinfd );\n    \tstruct timeval tv;\n    \ttv.tv_sec = 0;\n    \ttv.tv_usec = 0;\n    \tint ready = select( 1, &amp;stdinfd, NULL, NULL, &amp;tv );\n    \tif( ready &gt; 0 )\n    \t{\n    \t\tstr += stream.readLine();\n    \t}\n    \telse\n    \t{\n    \t\tbreak;\n    \t}\n    }\n\n    qDebug() &lt;&lt; \"Recieved data:\" &lt;&lt; str;\n}\n</code></pre>\n\n<p>As you can see I'm attempting to use the select() system call to tell me when I've run out of data to read. However, in practise what is happening is the select() call returns 0 after I've read the first line of text. So, for example, if I write 5 lines of text to the process's stdin stream, I only ever read the first line.</p>\n\n<p>What could be the problem?</p>\n"},{"tags":["c++","qt","editor","text-editor","qtextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13027091,"title":"How to override tab width in qt?","body":"<p>I just need to know how to change the tab size in Qt in a <a href=\"http://doc.qt.digia.com/qt/qtextedit.html\" rel=\"nofollow\">QTextEdit</a>. My Google and <a href=\"http://stackoverflow.com/\">stackoverflow</a> search returned me null. Thanks in advance.</p>\n"},{"tags":["qt","qt4","qmessagebox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13023858,"title":"QDialogButtonBox: Is there any way to fill different colors to Individual Buttons?","body":"<p>I am creating an Error Message Box for my Screen. I am using QDialogButtonBox for buttons. \nNow i want to fill Buttons with different colors. \nFor example: \n\"OK\" --> Green\n\"Cancel\" --> Red etc.\nI am able to change the background for all buttons , but not individually.</p>\n\n<p>Is there any way to do this ?? </p>\n\n<p>Thanks in advance !!!!</p>\n"},{"tags":["qt","pyqt","pyqt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13020836,"title":"Qt getting column position of clicked item","body":"<p>I have three widgets contained in a grid layout. When I click them I'd like to get their column position but I cannot find any property of the widget itself and cannot seem to get hold of the container by accessing <code>widget.parentWidget()</code></p>\n\n<p>I could use some indirect way such as itemAt but I'd rather find a less convoluted way of doing it.</p>\n"},{"tags":["python","qt","pyqt","pyqt4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13024340,"title":"Object-based paint/update in Qt/PyQt4","body":"<p>I'd like to tag items by drawing polygons over an image in Python using PyQt4. I was able to implement the image viewer with QGraphicsScene but I don't understand the concept behind painting/updating objects.</p>\n\n<p>What I'd like to do is a Polygon class, what supports adding and editing. What confuses me is the <code>QGraphicsScene.addItem</code> and the different paint or update methods. What I'd like to implement is to</p>\n\n<ol>\n<li>draw a polygon as lines while not complete</li>\n<li>draw it as a filled polygon once complete</li>\n</ol>\n\n<p>The algorithm part is OK, what I don't understand is that how do I implement the paint or update functions.</p>\n\n<p><em>Here is my confusion</em></p>\n\n<p><strong>In the original example file</strong>: <code>graphicsview/collidingmice</code> there is a special function <code>def paint(self, painter, option, widget):</code> what does the painting. There is no function calling the paint function, thus I'd think it's a special name called by QGraphicsView, but I don't understand what is a painter and what should a paint function implement.</p>\n\n<p><strong>On the other hand in numerous online tutorials</strong> I find <code>def paintEvent(self, event):</code> functions, what seems to follow a totally different concept compared to the graphicsview / paint. </p>\n\n<p>Maybe to explain it better: for me <strong>the way OpenGL does the scene-update is clear</strong>, where you always clean everything and re-draw elements one by one. There you just take care of what items do you want to draw and draw the appropriate ones. There is no update method, because you are drawing always the most up-to-date state. This Qt GUI way is new to me. <strong>Can you tell me what happens with an item after I've added it to the scene</strong>? How do I <strong>edit something</strong> what has been added to the scene, <strong>where is the always updating 'loop'</strong>?</p>\n\n<p>Here is my source in the smallest possible form, it creates the first polygon and starts printing it's points. I've arrived so far that the paint method is called once (why only once?) and there is this error <code>NotImplementedError: QGraphicsItem.boundingRect() is abstract and must be overridden</code>. (just copy any jpg file as big.jpg)</p>\n\n<pre><code>from __future__ import division\n\nimport sys\nfrom PyQt4 import QtCore, QtGui\n\nclass Polygon( QtGui.QGraphicsItem ):\n\n    def __init__(self):\n        super(Polygon, self).__init__()\n\n        self.points = []\n        self.closed = False\n\n    def addpoint( self, point ):\n        self.points.append( point )\n        print self.points\n\n    def paint(self, painter, option, widget):\n        print \"paint\"\n\n\nclass MainWidget(QtGui.QWidget):\n\n    poly_drawing = False\n\n    def __init__(self):\n        super(MainWidget, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        self.scene = QtGui.QGraphicsScene()\n\n        self.img = QtGui.QPixmap( 'big.jpg' )\n\n            self.view = QtGui.QGraphicsView( self.scene )\n        self.view.setRenderHint(QtGui.QPainter.Antialiasing)\n        self.view.setHorizontalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)\n            self.view.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)\n\n        self.pixmap_item = QtGui.QGraphicsPixmapItem( self.img, None, self.scene)\n            self.pixmap_item.mousePressEvent = self.pixelSelect\n\n            self.mypoly = Polygon()\n\n                layout = QtGui.QVBoxLayout()\n            layout.addWidget( self.view )\n            self.setLayout( layout )\n        self.resize( 900, 600 )\n        self.show()\n\n    def resizeEvent(self, event):\n        w_scale = ( self.view.width() )  / self.img.width()\n        h_scale = ( self.view.height() ) / self.img.height()\n        self.scale = min( w_scale, h_scale)\n\n        self.view.resetMatrix()\n        self.view.scale( self.scale, self.scale )\n\n    def pixelSelect(self, event):\n        if not self.poly_drawing:\n            self.poly_drawing = True\n            self.mypoly = Polygon()\n            self.scene.addItem( self.mypoly )\n\n        point = event.pos()\n        self.mypoly.addpoint( point )\n\n\ndef main():\n\n    app = QtGui.QApplication(sys.argv)\n    ex = MainWidget()\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["qt","qheaderview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13022211,"title":"QHeaderView::mousePressEvent (need to figure out the column/index)","body":"<p>Generally I can get this to work no problem when I reimplement QTableView::mousePressEvent( QMouseEvent* ).  However, doing it on QHeaderView is not working for me.  Code is simple.</p>\n\n<pre><code>void my_header_t::mousePressEvent( QMouseEvent* event )\n{\n    if ( !event ) {\n    return;\n}\n\nif ( event-&gt;button() == Qt::RightButton ) {\n\n    QPoint point( event-&gt;x(), event-&gt;y() );\n    QModelIndex index   = indexAt( point );\n\n    printf( \"%s data %s %d,%d %s (point: %d,%d )\\n\",\n        ts().c_str(), index.data().toString().toStdString().c_str(),\n        index.row(), index.column(), index.isValid() ? \"True\" : \"False\",\n        event-&gt;x(), event-&gt;y() );\n\n    handle_right_click( index.data().toString() );\n\n} else {\n    QHeaderView::mousePressEvent( event );\n}\n</code></pre>\n\n<p>x() and y() from the QMouseEvent are fine.  However, it creates an invalid index, with row() of -1, and column() of -1.  Obviously, I'm passing an empty string to handle_right_click() which kicks off a menu. That menu is not going to know which column called it, and the mayhem will further ensue.</p>\n\n<p>I know that clicked( const QModelIndex&amp; ) will just tell me the right index, with the text.  However, I need to differentiate between buttons.</p>\n"},{"tags":["c++","regex","qt","qt4","syntax-highlighting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13019658,"title":"How to emit a signal in a qtextedit when a string matches something?","body":"<p>I am developing a simple editor and in my editor i am trying to implement sth. like this: For example user types \"void\" then I emit a signal and somewhere in the gui will catch it and it will change itself. I am using the <a href=\"http://doc.qt.digia.com/latest/richtext-syntaxhighlighter.html\" rel=\"nofollow\">syntax highlighter</a> example in my code and I emitted a signal in highlightBlock function: </p>\n\n<pre><code>void Highlighter::highlightBlock(const QString &amp;text)\n {\n     foreach (const HighlightingRule &amp;rule, highlightingRules) {\n         QRegExp expression(rule.pattern);\n         if (expression.exactMatch(\"void\")==true) {\n             emit voidPrinted(2);\n\n         }\n         int index = expression.indexIn(text);\n         while (index &gt;= 0) {\n             int length = expression.matchedLength();\n         ...\n     }\n</code></pre>\n\n<p>But when i run program, the signal always emitted without typing void. Documentation says \"The highlightBlock() function is called automatically whenever it is necessary by the rich text engine, i.e. when there are text blocks that have changed.\" and I think I only emit when expression is void but apparently, I am wrong. Any help?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":87,"score":0,"question_id":13013055,"title":"Qt sscanf equivalent","body":"<p>Say I have this:</p>\n\n<pre><code>QString mystring = \"67 49 213 59\";\nint a, b, c, d;\n</code></pre>\n\n<p>Is there a Qt alternative to sscanf so I can read the numbers into the <code>int</code> variables?</p>\n"},{"tags":["java","qt","gui","open-source"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12662975,"title":"Build a circuit design GUI that export to text files","body":"<p>I want to make a simple circuit design GUI that will have the possibility to export the diagram to text file. </p>\n\n<p>To explain: We have a educational simulator that uses simple text files to load the models. It has a simple language, for example:</p>\n\n<pre><code>NODE A1 ;\nNODE A2 ;\nMODEL RESISTOR RESIST_1 A1 A2 0.5 ;\n(that is MODEL INTERNAL_MODEL_NAME NAME NODE1 NODE2 PARAMETERS ; )\n</code></pre>\n\n<p>To help out the users in creating these files, I'd like to build a GUI that someone will drag and drop the nodes, then the modes, then connect them between them, put the parameters in the properties of the models and press export to text. Then the gui should just give the above text.</p>\n\n<p>I think some of the SPICE gui front-ends work like this.</p>\n\n<p>So, my questions:\n-Is there any similar to my expectations, open source software I can use to modify for my purpose? (this GUI will be used by students and I will not make any profit of it)\n-Any directions to point me to for building the GUI from scratch? (Tutorials, books etc)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","encryption"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13019383,"title":"Issue with QCA (Qt C++ Encryption Library) run on windows 7","body":"<p>I am using Qt 4.8.1, MinGW compiler and Qt Creator, all on windows 7. I want to add an encryption/ decryption library to my project. After searching the web for couple days I found <a href=\"http://delta.affinix.com/qca/\" rel=\"nofollow\">QCA</a>. Fortunately I found a <a href=\"http://delta.affinix.com/download/qca/2.0/qca-2.0.1-mingw.zip\" rel=\"nofollow\">pre-built</a> version using the same C++ compiler I am using, and a pre-built version of the needed <a href=\"http://delta.affinix.com/download/qca/2.0/qca-2.0-plugins-latest-mingw.zip\" rel=\"nofollow\">plugins</a>. \nI followed the <a href=\"http://www.essentialunix.org/index.php?option=com_content&amp;view=article&amp;id=48%3aqcatutorial&amp;catid=34%3aqttutorials&amp;Itemid=53\" rel=\"nofollow\">instructions</a> to add the QCA library to my project. I used a code like this to encrypt using AES:</p>\n\n<pre><code>QCA::Initializer init = QCA::Initializer();\n\n//Here where the execution stops\nQCA::SymmetricKey key = QCA::SymmetricKey(16);\n\nQCA::InitializationVector iv = QCA::InitializationVector(16);\n\nQCA::Cipher cipher = QCA::Cipher(QString(\"aes128\"), QCA::Cipher::CBC,\n                                 QCA::Cipher::DefaultPadding, QCA::Encode,\n                                 key, iv);\n\nif (!QCA::isSupported(\"aes128-cbc-pkcs7\"))\n{\n    qDebug() &lt;&lt; \"AES128 is not supported\";\n    return;\n}\n</code></pre>\n\n<p>The code compiles just fine but when I run the application stops with unknown reason.</p>\n\n<p>I really got tired from this bug, if anybody can help it will be very very very appreciated.</p>\n"},{"tags":["c++","qt","qwidget"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13018628,"title":"How to set user data for a QWidget?","body":"<p>I would like to set an integer number to be stored in a QWidget, and I think the setUserData member function would do the trick but I can't find any documentation. Any hints?</p>\n"},{"tags":["c++","qt","qt-creator","qdebug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12799653,"title":"qDebug not displaying anything","body":"<p>Often when I need to debug something it's easier to print something using qDebug() instead of debugging step-by-step using a debugger. \nThe problem is that from time to time the output of qDebug() isn't displayed at all! The same with qWarning and qCritical. What's strange, it only occurs when running the project normally (Ctrl+R), while when debugging (F5) the output shows up.</p>\n"},{"tags":["qt","zlib","configure"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13008951,"title":"configure qt with qt-zlib is not recognized","body":"<p>I am trying to configure qt with the built-in zlib. I run the following command:</p>\n\n<p>./configure -qt-zlib</p>\n\n<p>However, during the configuration, I see the following:</p>\n\n<p>TIFF support ........... plugin (qt)<br>\nJPEG support ........... plugin (qt)<br>\nPNG support ............ yes (qt)<br>\nMNG support ............ plugin (qt)<br>\nzlib support ........... system<br></p>\n\n<p>This seems to indicate that my configuration uses the system zlib despite the \"-qt-zlib\" option. I would like to ensure that QT uses the built-in zlib. I am configuring qt 4 on Mac OSX with the following specifications:</p>\n\n<p>Build type:    macx-g++ <br>\nArchitecture:  macosx ( x86_64 )<br>\nUsing framework: Cocoa<br></p>\n\n<p>Thanks in advance for your help!<br>\nMaxime</p>\n"}]}
{"total":16228,"page":7,"pagesize":100,"questions":[{"tags":["c++","multithreading","qt","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13017089,"title":"How to i create Qt multithreaded http client in which each thread invoke http request","body":"<p>after really allot of digging i unanable to create simple http client that invoking \nhttp request in each thread , \nnow i know that from version 4.8 each http request has its own thread . but this is now the case in my app.<br>\ni need to do more stuff in the thread like writing to file and preform calculation and manipulations on strings .<br>\nhow can i take simple example like in the  :<br>\n 4.8.2\\examples\\network\\http\\</p>\n"},{"tags":["c++","qt","filesystems","portability"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1343,"score":4,"question_id":3194725,"title":"Cross-platform way of constructing an FS path with Qt","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13014145/qt-equivalent-of-pathappend\">Qt equivalent of PathAppend?</a>  </p>\n</blockquote>\n\n\n\n<p>Short story: does Qt 4 have an analog of Python's <code>os.path.join</code>?</p>\n\n<p>Long story: I need to add a relative path to the application directory, <code>QCoreApplication::applicationDirPath()</code> in the Right Way (TM), so that the code doesn't depend on the file system directory separator character.</p>\n\n<p>Is merely joining QStrings and using \"/\" as the separator a good solution?</p>\n"},{"tags":["qt","input","mask","xlib","pixmap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13014211,"title":"Linux, Xlib: create mask from pixmap","body":"<pre><code>class Window : QWidget {\n\n...\nvoid resetInputMask()\n{\n    Pixmap mask;\n    mask = XCreatePixmap(QX11Info::display(),\n            winId(),\n            this-&gt;width(), /* width  */\n            this-&gt;height(), /* height */\n            this-&gt;x11Info().depth()  /* depth  */);\n    XShapeCombineMask(QX11Info::display(),\n            winId(),\n            ShapeInput,\n            0, /* x-offset */\n            0, /* y-offset */\n            mask,\n            ShapeSet);\n    XFreePixmap(QX11Info::display(), mask);\n}\n\n...\n\n}\n</code></pre>\n\n<p>The visually transparent areas of a QWidget on Linux are not mouse transparent. Therefore if one creates a QWidget that has the size of the screen and the QWidget draws only one small rectangle having the rest of the QWidget's area transparent, the QWidget eats all mouse events, since its input mask occupies the whole screen. This happens only when using Qt on Linux. Qt framework on Mac and Windows doesn't exhibit this behavior.</p>\n\n<p>One way to make the input mask is to do what I have written in the answer to the following post:\n<a href=\"http://qt-project.org/forums/viewthread/17934\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/17934</a></p>\n\n<p>But this solution is extremely CPU heavy. What I've noticed is that creating a pixmap using the Xlib calls doesn't affect performance as much as using Qt framework means.</p>\n\n<p>What I currently need is to create a mask from the Pixmap in the code provided in the beginning of this post. The mask should be a bitmap that has all fully transparent pixels of the pixmap set to white color and all semi-transparent and fully opaque pixels set to black.</p>\n\n<p>Suggestions? </p>\n"},{"tags":["qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13013775,"title":"PyQt update QLabel","body":"<p>I have a QLabel that I dynamically update with a new .text like this</p>\n\n<pre><code>self.ui.mylabel.text = 'foobar'\n</code></pre>\n\n<p>The problem is that after that it doesn't update the new value on the window.</p>\n\n<p>I tried calling <code>self.app.processEvents()</code> or even an update on the label itself <code>self.ui.mylabel.update()</code> and <code>self.ui.mylabel.repaint()</code> to no avail.</p>\n\n<p>How do I get the QLabel widget to reflect the change?</p>\n"},{"tags":["qt","notifications","signals","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13010629,"title":"How to get notifications from QGraphicsScene on addItem or itemChange?","body":"<p>In my project I'm using a QGraphicsScene and adding / removing items all over the code.</p>\n\n<p>Now I want to get notified whenever a QGraphicsItem gets added or removed. Many Qt classes have notification signals or at least virtual functions that get called on such changes. I'm trying to avoid adding many rows of code in many places which is not only cumbersome but also unsafe (forgetting an insert / removal now or in the future).</p>\n\n<p>I need a solution that works with any QGraphicsItem.</p>\n\n<p>This is a list of things that do not work:</p>\n\n<ul>\n<li>connect to a signal of QGraphicsScene <sup>(as in <code>QAbstractItemModel::rowsInserted()</code>)</sup> -> there is none.</li>\n<li>inherit from QGraphicsScene and overload a virtual notifier function <sup>(as in <code>QTabWidget::tabInserted()</code>)</sup> -> there is none.</li>\n<li>inherit and overload <code>addItem()</code>, sending notifications myself <sup>(as in <code>QMdiArea::addSubWindow()</code>)</sup> -> <code>addItem</code> isn't virtual and gets called from the constructors of QGraphicsItems.</li>\n<li>install event filters on newly added QGraphicsItems -> no idea how to get the newly added item AND it would be a <code>sceneEventFilter</code> which can only be installed on other QGraphicsItems.</li>\n<li>connect to <code>itemChange()</code> of QGraphicsItem -> <code>itemChange</code> is not a signal AND overloading QGraphicsItem is not an option.</li>\n<li>wrap <code>QGraphicsScene</code> (having the scene as a private member) and only expose functions <code>addItem</code> and <code>removeItem</code> -> but QGraphicsItems in that scene could still access it via <code>scene()</code> function, so this solution is not safe enough.</li>\n</ul>\n\n<p><strong>How can I get notifications on item changes?</strong></p>\n\n<p>If there is an easy way that I simply missed, please point me to it. Else, I'd appreciate ideas on this very much.</p>\n"},{"tags":["gui","qt","gtk"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":701,"score":2,"question_id":4172398,"title":"Differences that matter between GTK+ and QT?","body":"<h2>What are the finer differences between QT and GTK+?</h2>\n\n<p>Specifically I need to know the finer differences.\nLanguage neutral, Windows/Linux neutral. Just the finer points please...</p>\n\n<ol>\n<li><strong>How <em>native</em> are the widgets / controls to the window manger, from its standpoint?</strong> Example: If it were a text control, would it process: a WM_COMMAND or EM_SETSEL message sent to it? If not, how do third-party applications / screen readers interact with the control / widget?</li>\n<li><strong>Advanced widgets available in one toolkit and not available in the other?</strong> Add-Ons are fine to describe.</li>\n<li><strong>What is the quality of theming from a <em>multimedia / special effects</em> standpoint?</strong> like powerpoint style special effects such as fade-ins of widgets/docks. What's the ease of coding for these scenarios?</li>\n</ol>\n"},{"tags":["c++","c","qt","gtk"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":358,"score":1,"question_id":3740038,"title":"What language to use for text editor?","body":"<p>I feel like writing a (rich) text editor mainly to be used for note-taking, in either C or C++, using most probably GTK or Qt for the UI.</p>\n\n<p>The problem is that I can't really decide what to use. I know both C and C++, C a little better. I've never used Qt but I'm completely fine with learning, and I have some experience with GTK.</p>\n\n<p>Is there any particular combination you would give preference to and why? In particular, do you think there is any advantage to using C++, or will C do just fine?</p>\n"},{"tags":["qt","colors","paint","qwidget","qslider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13008308,"title":"How to change color of QWidget in QTableWidget","body":"<p>I have a QTableWidget. In its cells I need to display 3-state QSliders, that must change their color, depending form their state. -1 = red, 0 - normal, 1 - green. I tried to set QPalette to QSlider - whitout success. I tried to place QSlider into QWidget with Layout and apply palette to QWidget - whitout success.\nHow to do that? I need any color sign (border or full background, e.t.c) How to do that?</p>\n"},{"tags":["java","qt","sockets","image-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":115,"score":2,"question_id":13004785,"title":"Sending images trough a socket using qt and read it using java","body":"<p>I'm trying to send an image upload in a Qt server trough the socket and visualize it in a client created using Java. Until now I have only transferred strings to communicate on both sides, and tried different examples for sending images but with no results. </p>\n\n<p>The code I used to transfer the image in qt is:</p>\n\n<pre><code>QImage image;\nimage.load(\"../punton.png\");\nqDebug()&lt;&lt;\"Image loaded\";\nQByteArray ban; // Construct a QByteArray object\nQBuffer buffer(&amp;ban);   // Construct a QBuffer object using the QbyteArray\nimage.save(&amp;buffer, \"PNG\"); // Save the QImage data into the QBuffer\nsocket-&gt;write(ban);        \n</code></pre>\n\n<p>In the other end the code to read in Java is:</p>\n\n<pre><code>BufferedInputStream in = new BufferedInputStream(socket.getInputStream(),1);\nFile f = new File(\"C:\\\\Users\\\\CLOUDMOTO\\\\Desktop\\\\JAVA\\\\image.png\");\nSystem.out.println(\"Receiving...\");\nFileOutputStream fout = new FileOutputStream(f);\nbyte[] by = new byte[1];\nfor(int len; (len = in.read(by)) &gt; 0;){\nfout.write(by, 0, len);\nSystem.out.println(\"Done!\");\n}\n</code></pre>\n\n<p>The process in Java gets stuck until I close the Qt server and after that the file generated is corrupt.</p>\n\n<p>I'll appreciate any help because it's neccessary for me to do this and I'm new to programming with both languages.</p>\n\n<p>Also ive used the following commands that and the recieving process now ends and show a message, but the file is corrupt.</p>\n\n<pre><code>socket-&gt;write(ban+\"-1\"); \nsocket-&gt;close(); in qt. \n</code></pre>\n\n<p>And in java:      </p>\n\n<pre><code>System.out.println(by); \nString received = new String(by, 0, by.length, \"ISO8859_1\");\nSystem.out.println(received);\nSystem.out.println(\"Done!\");\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/EKZkt.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","curve-fitting","qgraphicsscene","qpainter","mousepress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12980390,"title":"Smooth line in QGraphicsScene with Qt","body":"<p>I need to draw curves with Qt : the user click on QgraphicsScene (via QGraphicsView) and straight lines are drawn between the points clicked by the user. When the user finish to draw straights lines (by clicking on the right button), that the set of lines become a curve. </p>\n\n<p>for that, i need to use the \"cubicTo(c1, c2, d1, d2, x1, x2)\" method form QPainterPath Class and adding it to the QgraphicsScene with \"addPathItem\". </p>\n\n<p>the problem is that i don't konw how to cumpute c1, c2, d1 and d2, values to curve the set of lines. </p>\n\n<p>For example, on the following picture, the user has drawn the two gray lines by clicking A B and C points. When he clicks the right button i want to draw the red line using cubicTo(...).</p>\n\n<p><a href=\"http://images.meteociel.fr/im/9631/stack_zpt9.png\" rel=\"nofollow\">http://images.meteociel.fr/im/9631/stack_zpt9.png</a></p>\n\n<p>My current code only draw gray lines because i've set c1, c2, d1 and d2 values to points positions clicked by the user : </p>\n\n<pre><code>void Visuel::mousePressEvent(QMouseEvent *event)\n{\n    int x = ((float)event-&gt;pos().x()/(float)this-&gt;rect().width())*(float)scene()-&gt;sceneRect().width();\n    int y = ((float)event-&gt;pos().y()/(float)this-&gt;rect().height())*(float)scene()-&gt;sceneRect().height();\n    qDebug() &lt;&lt; x &lt;&lt; y;\n\n    if(event-&gt;button() == Qt::LeftButton)\n    {\n        path-&gt;cubicTo(x,y,x,y,x,y);\n    }\n    if(event-&gt;button() == Qt::RightButton)\n    {\n        if(path == NULL)\n        {\n            path = new QPainterPath();\n            path-&gt;moveTo(x,y);\n\n        }\n        else\n        {\n\n            path-&gt;cubicTo(x,y,x,y,x,y);\n            scene()-&gt;addPath(*path,QPen(QColor(79, 106, 25)));\n            path = NULL;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["qt","qt4","qdialog","qmessagebox","qstyle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13010489,"title":"How to flush the QWidget Painting-Cache?","body":"<p>I'm working on a custom styled QMessageBox. In my custom QStyle class in method polish() I call:</p>\n\n<pre><code>if( (pDialog = qobject_cast&lt;QDialog*&gt;( pWidget )) != NULL )\n{\n    pDialog-&gt;setWindowFlags( pDialog-&gt;windowFlags() | Qt::FramelessWindowHint );\n    // Allow QStyle draw widget background\n    pDialog-&gt;setAttribute( Qt::WA_StyledBackground, true );\n\n    // Set window background transparent\n    QPalette oPalette = pDialog-&gt;palette();\n    oPalette.setBrush( QPalette::Window, QBrush(Qt::transparent) );\n    pDialog-&gt;setPalette( oPalette );\n}\n</code></pre>\n\n<p>This works fine, unless we use a semi-transparent border: The semi-transparent part gets darker and darker on every repaint (e.g. when pressing \"Show Details\"/\"Hide Details\" many times).</p>\n\n<p>UPDATE: I just realized, that when moving the message box the \"<em>too-dark semi-transparent content</em>\" is moved too. Thus I want to flush the QWidget painting-cache - if something like this exists (backing-store??).</p>\n"},{"tags":["qt","menu","qmenu"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13009649,"title":"Qt almost same main menu entries","body":"<p>I'm using c++ Qt library and I want to do something which would do :</p>\n\n<pre><code>connect(actionB11, SIGNAL(triggered()), this, SLOT(SetSomething(1, 1)));\nconnect(actionB12, SIGNAL(triggered()), this, SLOT(SetSomething(1, 2)));\nconnect(actionB21, SIGNAL(triggered()), this, SLOT(SetSomething(2, 1)));\nconnect(actionB22, SIGNAL(triggered()), this, SLOT(SetSomething(2, 2)));\n</code></pre>\n\n<p>The code above doesnt work because SIGNAL function has to have same number and argument types as SLOT function.</p>\n\n<p>Does exist a way how to do it? I dont want to have about 20 function as SetSomething11, SetSomething12 calling SetSomething(1, 1) etc.</p>\n"},{"tags":["javascript","qt","dom","webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":107,"score":5,"question_id":12854882,"title":"How to get javascript working in call QWebElement.appendInside('some html code')?","body":"<p>I am working on plugin for im client that will be show chatlog in QWebView. Plugin must support html templates. Now I’m trying to append new messages by call QWebElement.appendInside(‘new message’) and if in the template there is javascript source it does not work.\nFor example template may be such type:</p>\n\n<pre><code>&lt;!--MessageIn--&gt;\n&lt;div class=\"space\"&gt;&amp;nbsp;&lt;/div&gt;\n&lt;div class=\"in MessageIn\" id=\"oneShot\"&gt;\n    &lt;div class=\"tr\"&gt;\n        &lt;div class=\"bl\"&gt;\n            &lt;div class=\"br\"&gt;\n                &lt;p class=\"head\"&gt;\n                    &lt;span class=\"time\" id=\"time\"&gt;%time%&lt;/span&gt;\n                    &lt;span class=\"name\" id=\"name\"&gt;%name%&lt;/span&gt;\n                &lt;/p&gt;\n                &lt;p class=\"content\"&gt;\n                    &lt;span class=\"text\" id=\"text\"&gt;&lt;script&gt;getitall('%text%','%name%','%cid%','%base%',meldungsart[0]);&lt;/script&gt;&lt;/span&gt;\n                &lt;/p&gt;                    \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;animation1();&lt;/script&gt;\n</code></pre>\n\n<p>Functions getitall() and animation1() won't be executed.</p>\n\n<p>I can’t use QWebElement.evaluatejavascript() because i don’t know function names.</p>\n"},{"tags":["javascript","qt","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13009037,"title":"QtWebkit, raise onGestureChange events","body":"<p>Does QtWebkit support gesture events handled in Javascript by the \"onGestureChange\" event handler?</p>\n\n<p>If it does, how to simulate such events?</p>\n"},{"tags":["qt","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13005895,"title":"QContact save crashes","body":"<p>I am implementing a code to save contacts using QtMobility Qcontact save API's given in the link below.\n<a href=\"http://harmattan-dev.nokia.com/docs/library/html/qtmobility/versit.html\" rel=\"nofollow\">http://harmattan-dev.nokia.com/docs/library/html/qtmobility/versit.html</a></p>\n\n<pre><code>QVersitContactImporter importer;\nimporter.importDocuments(inputDocuments);\nQList&lt;QContact&gt; contacts = importer.contacts();\ncm.saveContact((QContact*)&amp;contacts.at(0));\n</code></pre>\n\n<p>Once I get the list of QContacts i save using the piece of code given above.\nHere cm is the contact manager which as been declared in constructor. When I add the first contact it works fine I can also see the contacts in contact list, but when I add the second contact it always crashes.</p>\n\n<p>The error I get is :</p>\n\n<blockquote>\n  <p>Waiting for RPC reply to 'requestSaveContact'' call timed out Invalid\n  parameter passed to C runtime function.</p>\n</blockquote>\n"},{"tags":["c++","windows","qt","taskbar","windows-taskbar"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":304,"score":0,"question_id":10042041,"title":"How to detect height and orientation of taskbar in Windows with autohide enabed?","body":"<p>I am using Qt, what I want to do is to display custom popup over the icon in system tray in Windows. I can obtain icon coordinates by using geometry() and taskbar height by finding difference between screenGeometry() and availableGeometry(). So the popup can be alligned correctly and does not overlap taskbar for different taskbar orientations (e.g. when taskbar is on the left side or on the top of the screen). </p>\n\n<p>The problem starts when autohide of taskbar is turned on, then apparently availableGeometry returns the same value as screenGeometry, and I cannot find the taskbar height anymore. This results in the popup overlapping with taskbar, or even displayed at the wrong location. </p>\n\n<p>My question is: how can I detect correctly orientation and size of taskbar in Windows, when the autohide is enabled? Should I use some winapi function, or can I do it purely in Qt (preferable) ?</p>\n"},{"tags":["qt","qtableview"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":918,"score":2,"question_id":1163030,"title":"Qt QTableView and horizontalHeader()->restoreState()","body":"<p>I can't narrow down this bug, <em>however</em> I seem to have the following problem:\n - saveState() of a horizontalHeader()\n - restart app\n - Modify model so that it has one less column\n - restoreState()\n - Now, for some reason, the state of the headerview is totally messed up. I cannot show or hide any new columns, nor can I ever get a reasonable state back</p>\n\n<p>I know, this is not very descriptive but I'm hoping others have had this problem before.</p>\n"},{"tags":["qt","mouseevent","qwidget","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12851915,"title":"Qt Issue - mouse button released after A Modal QDialog closed","body":"<p>Parent widget doesn't respond to first mouse click after Modal QDialog closed, the QDialog is closed by calling done() in mousemoveevent() and this causes the mouse button is still being pressed after the dialog is closed, the second click onward will work as normal.</p>\n\n<p><strong>My finding so far:</strong></p>\n\n<ol>\n<li><p>If <code>done(int)</code> is called in <code>MouseReleaseeEvent()</code>, everything works as expected</p></li>\n<li><p>It seems like the <code>QDialog</code> is lack of <code>MouseButtonRelease</code> event (which it's expecting after a <code>MouseButtonPress</code> event fired) due to the <code>QDialog</code> is already closed in the <code>MouseMoveEvent</code> and this messes up the mouse event of the parent widget.</p></li>\n</ol>\n\n<p>My intention is to make a <code>QDialog</code> which can be closed by sliding, when It detects mouse pressed and moved to certain position, it will be closed.</p>\n\n<p>It is much appreciated if everyone who encountered it before or who has any idea what's going on to give me some advice. </p>\n\n<p>MANY THANKS.</p>\n\n<p>Also, this is the first time I post a question here, if I missed any information that I suppose to provide, please let me know...</p>\n"},{"tags":["qt","widget","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12852823,"title":"How to make QML component (widget) adjusts according to data","body":"<p>I have a Widget as QML component in Qt Quick application which is to be used in various screens to display contents. </p>\n\n<p>How can I use this particular QML component to adjust according to the items in it.</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13007136,"title":"QGraphicsView / QGraphicsScene Timer Event not working","body":"<p>I'm trying to implement a basic qtimer in a qgraphicsview but can't seem to get it working. </p>\n\n<p>Here's my main.cpp code:</p>\n\n<pre><code>int main(int argc, char * argv[]) {\n\n\n    QApplication app(argc, argv);//should stay on the stack\n\n    QGraphicsScene * scene = new QGraphicsScene();//this is the scene -- the canvas that holds everything!\n\n    // a view just adds stuff to the scene in that view port\n\n    QGraphicsView * view = new Game(scene);//create a new view\n\n    return app.exec();\n}\n</code></pre>\n\n<p>And here is the view header ... note the qtimer and advance function</p>\n\n<pre><code>class View: public QGraphicsView {//inherits qwidget -- so we can make it full screen there\n\n    Q_OBJECT\n\n    public:\n        View(QGraphicsScene * _scene);//this is responsible for setting up the screen and instantiating several elements\n        ~View();\n\n    protected://variables\n        QGraphicsScene * scene;\n        QTimer * timer;\n\n\n    protected://functions\n\n        int const int_height();//converts qreal to an int\n        int const int_width();\n\n        qreal const height();// \n        qreal const width();//this is the actual qreal floating point number \n\n        virtual void paintEvent(QPaintEvent * event) {};\n        void timerEvent(QTimerEvent * event) {cout &lt;&lt; \"HELLO &lt;&lt; ads\" &lt;&lt; endl;};\n        virtual void keyPressEvent(QKeyEvent * event) {};\n        virtual void update() = 0;\n\n\n        void advance() { cout &lt;&lt; \"HELLO WORLD\" &lt;&lt; endl;}        \n    private:\n        qreal _height;\n        qreal _width;\n\n};\n</code></pre>\n\n<p>And finally, my view implementation constructor:</p>\n\n<pre><code>View::View(QGraphicsScene * _scene) : QGraphicsView(_scene) {\n\n\n    scene = _scene;//set the scene which is the parent over this \n\n\n    this-&gt;showMaximized();\n\n    QRectF geometry = this-&gt;contentsRect();\n\n    _height = geometry.height();\n    _width = geometry.width();\n\n    this-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    this-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n\n    scene-&gt;setSceneRect(0, 0, this-&gt;int_width(), this-&gt;int_height());\n    // this-&gt;centerOn(qreal(0), qreal(0));\n\n    this-&gt;setGeometry(0, 0, _width, _height);\n    this-&gt;setFixedSize(_width, _height);\n\n\n    timer = new QTimer(this);\n    connect(timer, SIGNAL(timeout()), scene, SLOT(advance()));\n    timer-&gt;start(1000);\n    timer-&gt;setInterval(100);\n\n\n\n}   \n</code></pre>\n"},{"tags":["qt","listview","qt-creator","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12971751,"title":"QML : Drop-down menu that opens upward","body":"<p>I need to have drop-down that opens upwards on clicking on Menu button in QML.</p>\n\n<p>I have tried to use the listview for the same, but in the implementation we are getting drop-down which opens downwards.</p>\n\n<p>Any suggestions with reference to below snippet.</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width: 800\n    height: 480\n\n    Rectangle {\n        id:comboBox\n        property variant items: [\"Red\", \"Blue\", \"Green\"]\n\n        signal comboClicked;\n        x: 651\n        y: 344\n        width: 141\n        height: 30;\n        z: 0\n        smooth:true;\n\n        Rectangle {\n            id:chosenItem\n            radius:4;\n            width:parent.width;\n            height:comboBox.height;\n            color: \"#454b4d\"\n            smooth:true;\n            Text {\n                anchors.top: parent.top;\n                anchors.margins: 8;\n                id:chosenItemText\n                x: 11\n                y: 5\n                color: \"#ffffff\"\n                text:\"Menu\";\n                anchors.topMargin: 5\n                anchors.left: parent.left\n                anchors.leftMargin: 12\n                font.family: \"Arial\"\n                font.pointSize: 14;\n                smooth:true\n            }\n\n            MouseArea {\n                width: 400\n                height: 30\n                anchors.bottomMargin: 0\n                anchors.fill: parent;\n                onClicked: {\n                    comboBox.state = comboBox.state===\"dropDown\"?\"\":\"dropDown\"\n                }\n            }\n        }\n\n        Rectangle {\n            id:dropDown\n            width:comboBox.width;\n            height:0;\n            clip:true;\n            radius:4;\n            anchors.top: chosenItem.bottom;\n            anchors.margins: 2;\n            color: \"lightblue\"\n\n            ListView {\n                id:listView\n                height:500;\n                model: comboBox.items\n                currentIndex: 0\n                delegate: Item{\n                    width:comboBox.width;\n                    height: comboBox.height;\n\n\n                    Text {\n                        text: modelData\n                        anchors.top: parent.top;\n                        anchors.left: parent.left;\n                        anchors.margins: 5;\n\n                    }\n                    MouseArea {\n                        anchors.fill: parent;\n                        onClicked: {\n                            comboBox.state = \"\"\n                            chosenItemText.text = modelData;\n                            listView.currentIndex = index;\n                        }\n                    }\n                }\n            }\n        }\n\n\n        states: State {\n            name: \"dropDown\";\n            PropertyChanges { target: dropDown; height:30*comboBox.items.length }\n        }\n\n        transitions: Transition {\n            NumberAnimation { target: dropDown; properties: \"height\"; easing.type: Easing.OutExpo; duration: 1000 }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["image","qt","rotation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":214,"score":0,"question_id":10767587,"title":"can't get the image to rotate in center in Qt","body":"<p>i am trying to rotate a 89x89 image inside the QLabel Widge.</p>\n\n<pre><code>#include \"header.h\"\n\ndisc::disc(QWidget *Parent) : QWidget(Parent)\n{\n    orig_pixmap = new QPixmap();\n    rotate = new QLabel(this);\n    showDegrees = new QLabel(this);\n\n    orig_pixmap-&gt;load(\"pic.png\");\n    degrees = 0;\n\n    rotate-&gt;resize(89,89);\n    rotate-&gt;move(100,10);\n    rotate-&gt;setStyleSheet(\"QLabel{background-color:red;}\");\n\n    showDegrees-&gt;resize(100,100);\n    showDegrees-&gt;move(400,0);\n}\n\nvoid disc::rotate_disc()\n{\n    QString string;\n    degrees++;\n    if(degrees == 360) degrees = 0;\n\n    QTransform rotate_disc;\n\n    rotate_disc.translate( (orig_pixmap-&gt;width()-rotate-&gt;width())/2 , (orig_pixmap-&gt;width()-rotate-&gt;height())/2);\n    rotate_disc.rotate(degrees,Qt::ZAxis);\n\n    QPixmap pixmap;\n    //pixmap = orig_disc-&gt;scaled(89,89,Qt::IgnoreAspectRatio,Qt::SmoothTransformation);\n    pixmap = orig_pixmap-&gt;transformed(rotate_disc,Qt::SmoothTransformation);\n    rotate-&gt;setPixmap(pixmap);\n\n    string.append(\"Degrees: \" + QString::number(degrees) + \"*\");\n    showDegrees-&gt;setText(string);\n}\n</code></pre>\n\n<p>Even though it rotates. The image's half gets rolled outside the QLabel and hence that side is not visible.How can i make it center rotate at origin(0,0) of the image center.</p>\n\n<p>Here is the file</p>\n\n<pre><code>http://www65.zippyshare.com/v/85775455/file.html\n</code></pre>\n\n<p>if you look at it you can see that image is like bouncing to the left.how can i make it rotate inside the black area.</p>\n\n<p>i setup a signal timeout at every 10ms to the rotate_disc() function. I am using this to learn Qt indepth.</p>\n\n<p>Thank You!</p>\n"},{"tags":["c++","qt","jenkins","qmake","jenkins-plugins"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12986156,"title":"Use Jenkins CI for Qt projects","body":"<p>I'm trying to use Jenkins for some project I have written in Qt framework. </p>\n\n<p>There is <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/qmakebuilder+Plugin\" rel=\"nofollow\">qmake plug-in</a> for Jenkins in Jenkins wiki page, although this plug-in doesn't exist in Jenkins plug-in list.</p>\n\n<p>I've looked for .hpi file for qmakebuilder plug-in, couldn't find it though. So I download the source code from the given repository, tried to compile it as described in <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial\" rel=\"nofollow\">Jenkins wiki</a>... but I get list of error indicating java.util.NoSuchElementException.</p>\n\n<p>Any of you guys have used this plug-in? or any other Jenkins plug-in to compile Qt projects with?</p>\n"},{"tags":["c++","xml","qt","qtxml"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":577,"score":2,"question_id":2429464,"title":"Converting QXmlItem to QtDomElement or similar?","body":"<p>I'm parsing a fairly complicated XML file of the following structure:</p>\n\n<pre>\n&lt;root&gt;<br/>   ... <br/>   ...<br/>   &lt;item&gt; <br/>      &lt;subitem id=&quot;1&quot;/&gt;<br/>      &lt;text&gt;<br/>         text1<br/>      &lt;/text&gt;<br/>   &lt;/item&gt;<br/>   &lt;item&gt;<br/>      &lt;subitem id=&quot;2&quot;/&gt;<br/>      &lt;text&gt;<br/>         text2<br/>      &lt;/text&gt;   <br/>   &lt;/item&gt;<br/>      ...<br/>   &lt;item&gt;<br/>      ...<br/>   &lt;/item&gt;<br/>   ...<br/>&lt;/root&gt;</pre>\n\n<p>It's pretty crude but you get my drift I hope. I'm primarily interested in \"item\" nodes. So I wrote the following code (directly out of the Qt's online manual):</p>\n\n<pre><code>QXmlQuery query;\nquery.setQuery(\"//item/\");\n\nQXmlResultItems result;\nquery.evaluateTo(&amp;result);\n\nQXmlItem item(result.next());\nwhile (!item.isNull()) \n{\n  if (item.isNode())\n  {\n      // WHAT DO I DO NOW?\n  }\n  item = result.next();\n}\n</code></pre>\n\n<p>Now, QXmlItem appears to represent two concepts, a literal value (like a string) or a Node, (which is what item.isNode() is doing). Unfortunately, I can't grasp how to convert the QXmlItem to something that will query-able again. In particular from the example above I'd like to grab the \"id\" attribute, and the text element. Can I do this using the XQuery approach, or am I way off base here?</p>\n\n<p>Any advice?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","build","mingw","runtime-error"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13002769,"title":"Qt Release build giving MSVC++ Runtime Library Error","body":"<p>I have a perfectly working application (exe with around 16 DLLs) when building in Debug mode. However, as soon as I switch to Release, get the exe and all DLLs built, all required DLLs copied over from the QtSDK bin, I'm getting a runtime error.</p>\n\n<p>How exactly am I supposed to troubleshoot what's happening? Is this a common issue? I don't get any entry points, etc., to even start from.. just a generic runtime error. </p>\n\n<p>The only similar question I've found is <a href=\"http://stackoverflow.com/questions/4361584/error-while-trying-to-run-a-release-build-of-a-qt-application-on-windows\">here</a>, but this is from a much older version of Qt. 4.7.4 only has one bin folder. </p>\n\n<p><strong>Edit 1</strong> - I've commented everything out of my main.cpp except creating my MainWindow object, and everything out of my MainWindow constructor, so it should just be opening an empty window - still the Runtime Library issue. </p>\n\n<p><img src=\"http://i.stack.imgur.com/RLJAE.png\" alt=\"enter image description here\"></p>\n\n<p>Note - Keeping it in release mode and starting the debugger launches the application fine. \nDebug -> Start and Debug External Application also results in this Runtime Library error.</p>\n"},{"tags":["c++","qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12990675,"title":"Qt request never trigger the finished() signal","body":"<p>i have something really strange i have this code :</p>\n\n<p>i think i know what is wrong but i dont know how to fix it . \nthis is what i have :\nwhen i put break point in int test = 0; \nit getting there before it gets to httpFinished() slot in the HttpClient , mybe this is the problem ? \nin the main.cpp </p>\n\n<pre><code>---------------------------------------------------------------------------------------------------------\n@while (i.hasNext())\n{\ni.next();\n\nThreadWorker* pThreadWorker = new ThreadWorker();\npThreadWorker-&gt;setUrl(sUrl);\nQThreadPool::globalInstance()-&gt;start(pThreadWorker);\n}\nQThreadPool::globalInstance()-&gt;waitForDone();\n\n\n\n---------------------------------------------------------------------------------------------------------\nvoid ThreadWorker::run()\n{\n  startWork();\n}\n\nvoid ThreadWorker::startWork()\n{\n m_pHttpClient = new HttpClient();\n m_pHttpClient-&gt;startRequest(m_url);\n int test = 0;\n\n\n}\n\n--------------------------------- HttpClient  based on the http example from Qt -----------------------------------\n\nHttpClient::HttpClient()\n{\n  m_networkManager = new QNetworkAccessManager(this);\n  connect(m_networkManager, SIGNAL(authenticationRequired(QNetworkReply*,QAuthenticator*)),\n            this, SLOT(slotAuthenticationRequired(QNetworkReply*,QAuthenticator*)));\n\n #ifndef QT_NO_OPENSSL\n    connect(m_networkManager, SIGNAL(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)),\n            this, SLOT(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)));\n #endif\n}\n\n\n\nvoid HttpClient::startRequest(QUrl url)\n{\n   m_url.setUrl(\"http://qt.nokia.com/\");\n  QNetworkRequest request; \n  request.setUrl(m_url);\n\n reply = m_networkManager-&gt;get(request);\n\n\n connect(reply, SIGNAL(error(QNetworkReply::NetworkError)),\n         this, SLOT(slotError(QNetworkReply::NetworkError)));\n\n connect(reply,SIGNAL(finished()),\n            this, SLOT(httpFinished()));\n\n    connect(reply, SIGNAL(readyRead()),\n            this, SLOT(httpReadyRead()));\n\n    connect(reply, SIGNAL(downloadProgress(qint64,qint64)),\n            this, SLOT(updateDataReadProgress(qint64,qint64)));\n\n\n}\n</code></pre>\n\n<p>the httpFinished() function that is under private slots: never triggered , why ?</p>\n\n<p><strong>UPDATED THE QUESTION</strong></p>\n"},{"tags":["json","qt","string-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12992824,"title":"Parse specific format json array in Qt4, no external libraries","body":"<p>I need extract data from a JSON array, format '[[[1,2,3]],[[1,2,3],[1,2,3]],\"string\"]' in Qt. logically it's '[[[x-values]],[[y1-values],[y2-values]],\"comments\"]'.</p>\n\n<p>Edit: x,y1,y2 arrays can be up to 1000+ elements large.</p>\n\n<p>I know that that's the exact format (without the single quotes) and that it's not going to change.</p>\n\n<p>What I really want is QVector xval, y1val; .</p>\n\n<p>How would I parse that?</p>\n\n<p>(I'm new to Qt so please forgive me if I'm missing the obvious.)</p>\n"},{"tags":["c++","qt","tempfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12999792,"title":"Howto open html page in default browser, when html code is stored in QString","body":"<p>My Qt application should open a <strong>html page</strong> (with the default browser eg. IE). This html code is stored in a <code>QString</code>.</p>\n\n<p>What would be the best way to open this \"file\", of which I only have the content?</p>\n\n<p>Is <code>QTemporaryFile</code> the answer to this? Or could this be done easier?</p>\n\n<pre><code>QString content = \"&lt;html&gt;...&lt;/html&gt;\";\n?\nQDesktopServices::openUrl(QUrl(\"...\"));\n</code></pre>\n"},{"tags":["qt","qt4","stylesheet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":8298880,"title":"Qt: Creating style sheets from palette","body":"<p>I have a multi-platform Qt application with a custom palette that we have already set up to produce the look that we want. The palette was set on the top level widget and so this was inherited by all of the child widgets.  </p>\n\n<p>I then wanted to dynamically change the text colour of some QPushButtons.  Searching around for the best way to do this, I began reading about Style Sheets which I didn't know that much about previously.  These seemed to be a good option for changing the look of the push buttons and they did this.  However, as soon as I set the text colour using a style sheet, the widget palette jumped to the default.  It soon became obvious that style sheets are not compatible with custom palettes and it wasn't possible to mix the two.  Most of the info that I found suggested that style sheets should be used rather than custom palettes because, among other things, style sheets offer guarantees across platforms and looks which palette fiddling does not.</p>\n\n<p>From this, it seemed like a good idea to convert my custom palette into a style sheet and set it on the top level widget.  Then I would easily be able to change just some parameters of certain child widgets using sub-style-sheets.  The problem is that the palette contains many colours that we have set that do not appear to have a style sheet equivalent.  Eg, Light, Midlight and Dark.  Without being able to set these colours I wasn't able to produce the same look using style sheets as I previously had with the customised palette.</p>\n\n<p>I would like to know if there is a simple way to convert a customised palette into a style sheet or whether there is some documentation to describe the equivalent style sheet settings for each palette colour.  I have done searches on google, stackoverflow and the Qt reference docs but have come up short.</p>\n\n<p>Thanks for any info.</p>\n\n<p>ps. I solved my original problem by dynamically modifying the ButtonText attribute of the palette for the QPushButtons.  But I would still rather use style sheets instead if possible without changing the main look of my application.</p>\n"},{"tags":["qt","qt4","qt-designer"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2695,"score":0,"question_id":4670945,"title":"how to connect QActions to SLOTS using qt designer","body":"<p>I have created a nice looking toolbar using <strong>qt Designer</strong> and populated it with some actions.<br>\nI tried to <strong>connect the actions to slots visually from qt designer</strong> by clicking <strong>edit> signals and slots</strong>. This <strong>DID NOT WORK</strong> because i could not find any QAction signals.  </p>\n\n<p><strong>Question.</strong>  </p>\n\n<p>Is there a way to connect the QAction SIGNAL(triggered()) to my slots within QT designer?\nPlease help.<br>\n<strong>PS:</strong>\nI am currently being forced to connect through code:</p>\n\n<pre><code>QObject::connect(myAction, SIGNAL(triggered()),this, SLOT(myActionWasTriggered()))\n</code></pre>\n\n<p>but ia am lazy and i wish to connect using qt designer.</p>\n"},{"tags":["qt","window","size","restore","application"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":2814,"score":9,"question_id":74690,"title":"How do I store the window size between sessions in Qt?","body":"<p>I have a QMainWindow in a Qt application. When I close it I want it to store its current restore size (the size of the window when it is not maximized). This works well when I close the window in restore mode (that is, not maximized). But if I close the window if it is maximized, then next time i start the application and restore the application (because it starts in maximized mode), then it does not remember the size it should restore to. Is there a way to do this?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2097,"score":2,"question_id":528224,"title":"How to use linux fonts in windows QT?","body":"<p>We develop an embedded QT application for linux on MS Windows. The target platform is linux without X-windows (framebuffer) . Unfortunallety, the screens on windows look rather different (better) than the same screens on linux because windows has better fonts. Is there a way  to force QT on windows to use the linux fonts? I would like to achieve binary compatibility i.e. CRCs of the screenshots will  be the same in linux and in windows.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","colors","qplaintextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12996236,"title":"how to get text color from qplaintextedit?","body":"<p>I want get text color from plain text. i can get fontWeight and other format with charFormat() but when i debug foreground color, it's set to no color!!?</p>\n\n<p>Please Help Me ....</p>\n\n<p>sample code:</p>\n\n<pre><code>QTextCursor c = textCursor();\nQTextCharFormat result = c.charFormat();\n\nif (result.fontWeight() == QFont::Bold)\n    qDebug() &lt;&lt; \"bold text\";  //worked\nelse if (result.fontWeight() == QFont::Normal)\n    qDebug() &lt;&lt; \"normal text\";  //worked\n\nif (result.foreground().color() == Qt::green)\n    qDebug() &lt;&lt; \"green\";  //not worked !!\nelse if (result.foreground().color() == Qt::blue)\n    qDebug() &lt;&lt; \"blue\";  //not worked !!\nelse\n    qDebug() &lt;&lt; \"no color !!\";\n</code></pre>\n\n<p>TNX</p>\n"},{"tags":["mysql","qt","plugins","static"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":447,"score":2,"question_id":8263296,"title":"Qt static build with static mysql plugin confusion","body":"<p>I have built a Qt application which uses the MySQL library, but I am confused by the documentation on <em>static</em> versus <em>shared</em> builds.</p>\n\n<p>From the Qt documentation at <a href=\"http://doc.qt.nokia.com/4.7/deployment-windows.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/deployment-windows.html</a> it says: </p>\n\n<blockquote>\n  <p>To deploy plugin-based applications we should use the shared library\n  approach.</p>\n</blockquote>\n\n<p>And on <a href=\"http://doc.qt.nokia.com/4.7/deployment.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/deployment.html</a>, it says:</p>\n\n<blockquote>\n  <p>Static linking results in a stand-alone executable. The advantage is\n  that you will only have a few files to deploy. The disadvantages are\n  that the executables are large and with no flexibility and that you\n  cannot deploy plugins.  To deploy plugin-based applications, you can\n  use the shared library approach.</p>\n</blockquote>\n\n<p>But on <a href=\"http://doc.qt.nokia.com/latest/plugins-howto.html\" rel=\"nofollow\">http://doc.qt.nokia.com/latest/plugins-howto.html</a>, it seems to say the opposite, giving directions on how to use static plugins:</p>\n\n<blockquote>\n  <p>Plugins can be linked statically against your application. If you\n  build the static version of Qt, this is the only option for including\n  Qt's predefined plugins. Using static plugins makes the deployment\n  less error-prone, but has the disadvantage that no functionality from\n  plugins can be added without a complete rebuild and redistribution of\n  the application.  ...     To link statically against those plugins, you\n  need to use the Q_IMPORT_PLUGIN() macro in your application and you\n  need to add the required plugins to your build using QTPLUGIN.</p>\n</blockquote>\n\n<p>I want to build the Qt libraries statically (for easy deployment) and then use the static MySQL plugin. To do this, I did NOT use the binary distrubtion for Windows. Instead, I've started with the source qt-everywhere-opensource-src-4.7.4\nIs the following the correct way to do a static build so that i can use the static MySql plugin?</p>\n\n<p>configure -static -debug-and-release -opensource -platform win32-msvc2010 -no-qt3support -no-webkit -no-script -plugin-sql-mysql -I C:\\MySQL\\include -L C:\\MySQL\\lib</p>\n\n<ol>\n<li><p>This should build the Qt libraries statically AND the static plugin to be linked at run-time, correct? I would NOT need to build the Mysql Plugin from source separately, correct?</p></li>\n<li><p>If I was to subtitute \"-qt-sql-mysql\" for \"-plugin-sql-mysql\" in above, it would include the MySQL driver directly in the QT static libraries, in which case I would NOT need to use the plugin at all, correct?</p></li>\n</ol>\n\n<p>Thanks for making me unconfused!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12995899,"title":"add scrollbar in qt window?","body":"<p>i have been learning qt from video tutorials <a href=\"https://www.youtube.com/watch?v=6KtOzh0StTc&amp;feature=youtube_gdata_player\" rel=\"nofollow\">here</a>.\ni have completed 35 videos. So i wanted to create a sample application just to understand qt.\ni am using the latest version of qt creator.</p>\n\n<p>i added some <strong>push-buttons</strong> &amp; deleted the menu bar &amp; tool bar in main window.</p>\n\n<p><img src=\"http://i.stack.imgur.com/40O8j.png\" alt=\"enter image description here\"></p>\n\n<p>after running i found that if i resize the window scroll-bars don't appear. </p>\n\n<p><img src=\"http://i.stack.imgur.com/6xA2j.png\" alt=\"enter image description here\"></p>\n\n<p>i don't want the push-buttons to resize or move. i am fine with them becoming invisible but i want the scroll-bars so that the user can scroll to the invisible parts.\ni added a scroll area widget but it doesn't work. i did some coding by searching on internet but that didn't work either. when i increase the size of scroll area upto the window size; after running the window appears blank. maybe the push-buttons go 'below' the scroll-area. how do i change which object should be on 'top'?</p>\n\n<p>also since i am just a beginner, i don't know whats the best approach in designing using qt. should i just put the required widgets using designer &amp; then give their characteristics by coding? or should i do complete designing using designer? or should i abandon designer &amp; do the complete coding?\nTHANK YOU!</p>\n\n<p><strong>edit</strong>\n@Synxis,\nthat didnt help much. I even used the secentralwidget(ui->scrollareacontentswidget);\ni tried deleting the centralwidget QWidget, but i cant.\nAny solution?</p>\n\n<p><img src=\"http://i.stack.imgur.com/aWDBV.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","symbian","nokia"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":8755519,"title":"How to find the \"timing advance\" network parameter on a Symbian phone?","body":"<p>How can I find the network parameter \"timing advance\" in a Symbian s60 phone.. Am developing the application with qt. i couldn't find a documentation about timing advance in it.</p>\n"},{"tags":["qt","qt-creator","gnome","gedit","kate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":9258713,"title":"Integrating gedit or kate in a Qt Application","body":"<p>I am trying to develop an a simple IDE for programming languages using Qt for my project.This IDE should contain a text editor and should have pretty printing feature in it.So developing a text editor with qt is out of question. </p>\n\n<p>So my question is: Can I integrate gedit or kate text editor in a Qt application.? I am working on a Gnome environment.If this is possible please explain or point to appropriate tutorials.</p>\n\n<p>Programming language:Cuda,Opencl,C,C++</p>\n\n<p>Your help will be greatly appreciated</p>\n\n<p>Thank you </p>\n"},{"tags":["qt","gui","qgraphicsview","qgraphicsscene","pixmap"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":610,"score":1,"question_id":6168570,"title":"QGraphicsView - slow scale performance under Linux","body":"<p>I'm making a program that will display a few images from a directory beside each other.</p>\n\n<p>When I scale the images to fit within the height of the window (ie - QGraphicsPixmapItem->scale(...)), it runs fairly well in windows, but runs unbearably slow in linux (Ubuntu 11.04).</p>\n\n<p>If the images are not scaled, performance is similar on both systems.</p>\n\n<p>I'm not sure if it has to do with the way each OS caches memory, since when I run the program under Linux, the memory used is always constant and around 5mb, when it's closer to  15-30mb under Windows depending on the images loaded. </p>\n\n<p>Here is the related code:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent)\n{\n    scene = new QGraphicsScene(this);\n    view = new QGraphicsView(scene);\n    setCentralWidget(view);\n    setWindowTitle(tr(\"ImgVw\"));\n    bestFit = true;\n\n    view-&gt;setHorizontalScrollBarPolicy ( Qt::ScrollBarAlwaysOff );\n    view-&gt;setVerticalScrollBarPolicy ( Qt::ScrollBarAlwaysOff );\n    view-&gt;setDragMode(QGraphicsView::ScrollHandDrag);\n    view-&gt;setStyleSheet( \"QGraphicsView { border-style: none; padding: 5px; background-color: #000; }\" );   // set up custom style sheet\n\n    // Get image files from folder\n    QDir dir(\"test_img_folder\");\n    QStringList fileList = dir.entryList();\n    fileList = fileList.filter(QRegExp(\".*(\\.jpg|\\.jpeg|\\.png)$\"));\n\n    // Create graphics item for each image\n    int count = 0;\n    foreach(QString file, fileList)\n    {\n    if (count &gt;= 0)\n    {\n        QPixmap g(dir.absolutePath() + QString(\"/\") + file);\n        scene-&gt;addPixmap(g);\n    }\n    count++;\n    if (count &gt;= 5) break;\n    }\n}\n\nvoid MainWindow::resizeEvent(QResizeEvent *event)\n{\n    int pos = 0;\n    foreach(QGraphicsItem *item, scene-&gt;items(Qt::AscendingOrder))\n    {\n        double ratio = 1.0;\n        QGraphicsPixmapItem *pixmapItem = (QGraphicsPixmapItem*) item;\n\n        // Resize to fit to window\n        if (bestFit) {\n            double h = (double) (view-&gt;height()-10)/pixmapItem-&gt;pixmap().height();\n            ratio = min(h, 1.0);\n            pixmapItem-&gt;setScale(ratio);\n        }\n\n        // Position 5 pixels to the right of the previous image\n        item-&gt;setPos(pos,0);\n        pos += pixmapItem-&gt;pixmap().width()*ratio + 5;\n    }\n\n    // Resize scene to fit items\n    scene-&gt;setSceneRect(scene-&gt;itemsBoundingRect());\n}\n</code></pre>\n"},{"tags":["c++","qt","data-structures","geometry","mouseevent"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12984935,"title":"Efficient method for finding object in map based on coordinates","body":"<p>I am building an editor using C++/Qt which has a click-and-drag feel to it. The behavour is similar to schematic editors (Eagle, KiCAD, etc), Microsoft Visio, or other programs where you drag objects from a toolbar into a central editing area.</p>\n\n<p>My problem is that when the user clicks inside the custom widget I want to be able to select the instance of the box-like object and manipulate it. There will also be lines connecting the boxes together. However, I can't decide on an efficient method for selecting those objects.</p>\n\n<p>I have two main thoughts on how to do the programming for this: The first is that the widget which is drawing the entire editor would simply encapsulate every one of the instances of the box. The other is to have each instance of the box (which is in my Model) carry with it an instance of a QWidget which would handle rendering the box (which would be in my View...but it would end up being strongly attached to the model). As for the lines connecting them, since they don't have a square bounding boxes they will have to be rendered by the containing widget.</p>\n\n<p>So here is the summary of how I see this being done:</p>\n\n<ul>\n<li>The editor widget turns into a container which holds the widgets and the widgets process their own click events. The potential issues here are that I don't know how to make the custom widget turn into a layout which lets click-and-drag functionality.</li>\n<li>The editor widget takes care of all the rendering and processes the mouse clicks (the easier way in that I don't have to worry about layout...its just selecting the instances efficiently that I don't know what would be best).</li>\n</ul>\n\n<p>So, now that there is a bit of background, for the 2nd method I plan on having each box-like instance having a bounding rectangle and the lines being represented by 3-4 pixel wide bounding rectangle segments (they are at 90 degree angles). I could iterate through every single box and line, but that seems really inefficient.</p>\n\n<p>The big question: Is there some sort of data structure I can hold rectangles in and link them to widgets (or anything else for that matter) and then give it two coordinates (such as mouse coordinates) and have it spit me out the bounding box or linked object that those coordinates are inside of?</p>\n"},{"tags":["c++","qt","iostream"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12978973,"title":"Unknown ouput with qdebugstream and qtextedit","body":"<p>The first output in the textedit is a number 3, I don't know why that number is coming form Qt::LogText. This question is based from a previous question I had asked, I'm using the same qdebugstream header file from the link below. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/10308425/redirect-stdcout-to-a-qtextedit\">Redirect std::cout to a QTextEdit</a></p>\n\n<p>The new project below is a QT Gui Application that will redirect the cout to a textedit. Also, since settextformat() is no longer a member of QTextEdit, I converted Qt::LogText into a string. </p>\n\n<p>This was based on another post but I did not understand the solution. \n<a href=\"http://stackoverflow.com/questions/3060141/qt-qtexteditsettextformatqtlogtext-does-not-exist-anymore-what-else-can\">Qt: QTextEdit::setTextFormat(Qt::LogText) does not exist anymore, what else can I use to log?</a>. \nCan someone provide more information on this?</p>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n\n    ui-&gt;textEdit-&gt;setReadOnly(true);\n    ui-&gt;textEdit-&gt;setText(QString(\"%1\").arg(Qt::LogText));\n\n    QDebugStream qout(std::cout, ui-&gt;textEdit);\n\n    cout &lt;&lt; \"Send this to the Text Edit!\" &lt;&lt; endl;\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>Mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include \"qdebugstream.h\"\n#include \"stdio.h\"\n#include \"iostream\"\n\nusing namespace std;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass QtextEdit;\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n"},{"tags":["qt","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12327609,"title":"QPushButton changes margins on other widgets in the same layout","body":"<p>I have a big layout that contains widgets and layouts of the following structure:</p>\n\n<pre><code>QVBoxLayout\n  QTableView\n  QPushButton\n</code></pre>\n\n<p>I set the margins, padding, and spacing on the layout to 0. The way this renders on Mac OS X, the button doesn't fill all of its space. Instead, there is some padding around it. Magically, the layout seems to know this, and makes sure the table view is exactly as wide as the button is wide:</p>\n\n<p><img src=\"http://i.stack.imgur.com/eVRDq.png\" alt=\"Magic padding caused by QPushButton\"></p>\n\n<p>When I remove the button, the table view returns to its full width:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8ec2p.png\" alt=\"No magic padding here\"></p>\n\n<p>How can I change it so the button, as well as the table view, become as wide as the layout?</p>\n\n<p>I've played with stylesheet's padding and margin, and while I can use those to make the button wider, the extra padding around the tree view remains. The only solution I have so far is to wrap the button in another widget, and then set its margin and padding to 0 via stylesheet, but then I lose the rounded look.</p>\n"},{"tags":["qt","symbian","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":9365203,"title":"How do I remove the BusyIndicator after you read a feed","body":"<p>I have a problem with a BusyIndicator, what happens is that I have appointed BusyIndicator that when loading the feed is removed, but in my file. QML images do not appear in the feed, I wonder if there is any way to tell the BusyIndicator that when the image is displayed BusyIndicator remove.</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":99,"score":2,"question_id":12983590,"title":"conversion from c++ with opengl code to QT application with GUI?","body":"<p>I have written a program in C++ (object oriented) I used OpenGL in order to render something in \nscreen. I also used microsoft kinect SDK for windows , now I want to make a GUI for my program to make it more like application with Menus, buttons \netc. I want to know is it possible to convert my program in a way I said to QT? what kind of changes are necessary ?  because I don't know a lot about QT, any help ?</p>\n"},{"tags":["qt","speex"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":472,"score":1,"question_id":9097341,"title":"Architecture for audio streaming using qt multimedia and speex","body":"<p>I am developing an application to bidirectionally stream voice audio between two computers.\nThe main components I use are QAudioInput, QAudioOutput, QUdpSocket and the speex library.\nConceptually the application works like this:</p>\n\n<p><strong>The sender part</strong></p>\n\n<pre><code>speex.setSamplingRate(8000);\nQAudioInput.onReadyRead =\n{\n    SpeexBits bits;\n    int frameSizeBytes = speex.getFrameSize() * 2;  //*2 for 16 bit data samples\n    QByteArray out(frameSizeInBytes, 0);\n    QByteArray data = QAudioInput.read(QAudioInput.bytesReady());\n    while (data.size() &gt;= frameSizeBytes)\n    {\n        QByteArray frame = data.remove(0, frameSizeBytes);\n        speex_bits_reset(&amp;bits);\n        speex_encode_int(&amp;enc_state, (short *)frame.data(), &amp;bits);\n        int nbBytes = speex_bits_write(&amp;bits, out.data(), frameSizeInBytes);\n        QUdpSocket.writeDatagram(out.constData(), nbBytes, multicastGroup, multicastPort);\n    }\n    //bytes that are left in data, are remembered for the next time\n}\n</code></pre>\n\n<p><strong>The receiving part</strong></p>\n\n<pre><code>speex.setSamplingRate(8000);\nQUdpSocket.onReadyRead =\n{\n    SpeexBits bits;\n    int frameSizeBytes = speex.getFrameSize() * 2;  //*2 for 16 bit data samples\n    QByteArray out(frameSizeInBytes, 0);\n    while (QUdpSocket.hasPendingDatagrams())\n    {\n        QByteArray data = QUdpSocket.readDatagram(QUdpSocket.datagramSize());\n        speex_bits_reset(&amp;bits);\n        speex_bits_read_from(&amp;bits, data.data(), data.size());\n        while (speex_bits_nbytes(&amp;bits) &gt;= 0)\n        {\n            speex_decode_int(&amp;enc_state, &amp;bits, (short *)out.data());\n            QAudioOutput.write(out.constData(), out.size());\n        }\n    }\n}\n</code></pre>\n\n<p>QAudioInput and QAudioOutput are sampled at 8kHz 16-bits per sample. The multicastGroups at the sender and receiving ends are of course different (and crossed between the two computers).</p>\n\n<p>The read audio samples are speex encoded per speex frame size (which is typically 320 bytes).</p>\n\n<p>On the receiving end, bytes arrive as they are send (normally one speex packet at a time). </p>\n\n<p>Both the sender and the receiving part, run in the same thread.</p>\n\n<p>However, I hear 'cracks' in the sound at the receiving end.</p>\n\n<p>Now I was wondering what is wrong with the code (if I don't use libspeex, and send the data as captured from the mic, then everything works fine).</p>\n\n<ul>\n<li>Do I have to use different threads for the sender and the receiver?</li>\n<li>Do I have to separate the reception of the audio samples (both a sender and receive side) from the processing (i.e. encoding/decoding), by using some kind of circular buffer?</li>\n<li>Can I encode/decode multiple frames with the encode/decode functions? How?</li>\n<li>Do I need to buffer the audio at the receiving end and play it back at a steady rate?</li>\n</ul>\n"},{"tags":["qt","gdb","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":12032631,"title":"Qt Creator debugger (GDB) won’t allow watched variables to be modified","body":"<p>I’m using Qt Creator 2.3.1 to create an Ubuntu application with Qt 4.8.0. I’m building my application in debug mode, and have a set a few breakpoints. When a breakpoint gets hit, when I attempt to modify the value of a variable in the “Locals and Expressions” window, I’m able to change the text, but when I hit enter, it reverts to its original value.</p>\n\n<p>Same behavior for any type of variable. Also happens in the watch window.</p>\n\n<p>It seems to be some disconnect between Qt Creator and GDB. I’m able to issue GDB commands directly into the debugging log while at a breakpoint in Qt creator, which can modify variables no problem (set var ...). It looks like Qt Creator isn’t sending the proper commands to GDB  when I try to modify variables in the UI.</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12993768,"title":"PyQt + changing widget","body":"<p>Consider following code:</p>\n\n<pre><code>    app = QApplication(sys.argv)\n\n    mainWindow = MainWindow() # window created with Designer\n    mainWindow.ui.output = Output() # \"Output\" is a subclass of QPlainTextEdit\n    preparePropertiesTabs(mainWindow)\n    mainWindow.show()\n\n    mainWindow.ui.output.appendPlainText('test')\n\n    exit(app.exec_())\n</code></pre>\n\n<p>What I expect is to have word 'test' in my 'output' widget, but it's empty.\nAnyway, when I show only 'output' (mainWindow.ui.output.show() instead of mainWindow.show()), text is present.</p>\n\n<p>Do I not know about something? :|</p>\n"},{"tags":["c++","qt","debugging","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12905300,"title":"Qt - Unexpected GDB Exit","body":"<p>I am trying to develop an application that creates an image and fills it with color pixels using bilinear interpolation and then displays it. My code so far is the following:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;opencv/cv.h&gt;\n#include &lt;opencv/highgui.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sys/stat.h&gt;\n\nusing namespace cv;\n\nint main()\n{\n    Mat image;\n    image.create( 500, 500, CV_8UC3);\n    //upper left corner\n    Vec3b ul( 255, 0, 0 );\n    //upper right corner\n    Vec3b ur( 0, 255, 0 );\n    //bottom left corner\n    Vec3b bl( 0, 0, 255 );\n    //bottom right corner\n    Vec3b br( 255, 0, 255 );\n\n    //for(int y=0;y&lt;image.rows; y++)\n        //for(int x=0;x&lt;image.cols;x++)\n\n    // call function to add noise\n\n    namedWindow(\"Colored Pixels\");\n    imshow(\"Colored Pixels\", image);\n\n    // shows image for 5 seconds\n    waitKey(10000);\n    return 0;\n}\n</code></pre>\n\n<p>When I run my program in debug mode I get the following two pop up windows:</p>\n\n<pre><code>Unexpected GDB Exit \nThe gdb process exited unexpectedly (code 0)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Executable Failed\nDuring startup program exited with code 0xc0000138\n</code></pre>\n\n<p>my debugger log screen shows the following: </p>\n\n<pre><code>sStarting debugger 'GdbEngine' for ABI 'x86-windows-msys-pe-32bit'...\ndStart parameters: 'pixelGradient' mode: 1\ndABI: x86-windows-msys-pe-32bit\ndExecutable: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\\debug\\pixelGradient.exe  [terminal]\ndDirectory: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\ndDebugger: C:\\QtSDK\\pythongdb\\python_2.7based\\gdb-i686-pc-mingw32.exe\ndProject: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient (built: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug)\ndQt: C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\ndQML server: 127.0.0.1:3768\ndSysroot: \ndDebug Source Loaction: \ndSymbol file: \ndDumper libraries:  C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\\\qtc-debugging-helper\\ C:\\QtSDK\\QtCreator\\qtc-debugging-helper\\168937759\\ C:\\Users\\encore\\AppData\\Local\\Nokia\\QtCreator\\qtc-debugging-helper\\168937759\\\nd\ndDebugger settings: \ndUseAlternatingRowColours: false  (default: false)\ndFontSizeFollowsEditor: false  (default: false)\ndUseMessageBoxForSignals: true  (default: true)\ndAutoQuit: false  (default: false)\ndLogTimeStamps: false  (default: false)\ndVerboseLog: false  (default: false)\ndCloseBuffersOnExit: false  (default: false)\ndSwitchModeOnExit: false  (default: false)\ndUseDebuggingHelper: true  (default: true)\ndUseCodeModel: true  (default: true)\ndShowThreadNames: false  (default: false)\ndUseToolTips: false  (default: false)\ndUseToolTipsInLocalsView: false  (default: false)\ndUseToolTipsInBreakpointsView: false  (default: false)\ndUseAddressInBreakpointsView: false  (default: false)\ndUseAddressInStackView: false  (default: false)\ndRegisterForPostMortem: false  (default: false)\ndLoadGdbInit: true  (default: true)\ndScriptFile:   (default: )\ndWatchdogTimeout: 20  (default: 20)\ndAutoEnrichParameters: false  (default: false)\ndTargetAsync: false  (default: false)\ndMaximalStackDepth: 20  (default: 20)\ndAlwaysAdjustStackColumnWidths: false  (default: false)\ndShowStandardNamespace: true  (default: true)\ndShowQtNamespace: true  (default: true)\ndSortStructMembers: true  (default: true)\ndAutoDerefPointers: true  (default: true)\ndAlwaysAdjustLocalsColumnWidths: false  (default: false)\ndListSourceFiles: false  (default: false)\ndSkipKnownFrames: false  (default: false)\ndEnableReverseDebugging: false  (default: false)\ndAllPluginBreakpoints: true  (default: true)\ndSelectedPluginBreakpoints: false  (default: false)\ndAdjustBreakpointLocations: true  (default: true)\ndAlwaysAdjustBreakpointsColumnWidths: false  (default: false)\ndNoPluginBreakpoints: false  (default: false)\ndSelectedPluginBreakpointsPattern: .*  (default: .*)\ndBreakOnThrow: false  (default: false)\ndBreakOnCatch: false  (default: false)\ndBreakOnWarning: false  (default: false)\ndBreakOnFatal: false  (default: false)\ndAlwaysAdjustRegistersColumnWidths: false  (default: false)\ndAlwaysAdjustSnapshotsColumnWidths: false  (default: false)\ndAlwaysAdjustThreadsColumnWidths: false  (default: false)\ndAlwaysAdjustModulesColumnWidths: false  (default: false)\ndState changed from DebuggerNotReady(0) to EngineSetupRequested(1).\ndQUEUE: SETUP ENGINE\ndCALL: SETUP ENGINE\ndTRYING TO START ADAPTER\ndENABLING TEST CASE: 0\ndSTARTING C:/QtSDK/pythongdb/python_2.7based/gdb-i686-pc-mingw32.exe -i mi\ndGDB STARTED, INITIALIZING IT\n&lt;1show version\n&lt;2-list-features\n&lt;3set print object on\n&lt;4set breakpoint pending on\n&lt;5set print elements 10000\n&lt;6set overload-resolution off\n&lt;7handle SIGSEGV nopass stop print\n&lt;8set unwindonsignal on\n&lt;9pwd\n&lt;10set width 0\n&lt;11set height 0\n&lt;12set auto-solib-add on\n&lt;13-interpreter-exec console \"maintenance set internal-warning quit no\"\n&lt;14-interpreter-exec console \"maintenance set internal-error quit no\"\n&lt;15-interpreter-exec console \"disassemble 0 0\"\n&lt;16-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/bridge.py')\"\n&lt;17-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/dumper.py')\"\n&lt;18-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/qttypes.py')\"\n&lt;19-interpreter-exec console \"bbsetup\"\ndADAPTER SUCCESSFULLY STARTED\ndNOTE: ENGINE SETUP OK\ndState changed from EngineSetupRequested(1) to EngineSetupOk(3).\ndQUEUE: SETUP INFERIOR\ndState changed from EngineSetupOk(3) to InferiorSetupRequested(4).\ndQUEUE: SETUP INFERIOR\ndCALL: SETUP INFERIOR\nsSetting up inferior...\n&lt;20set substitute-path C:/iwmake/build_mingw_opensource C:/QtSDK/Desktop/Qt/4.8.1/mingw\n&lt;21set substitute-path C:/ndk_buildrepos/qt-desktop/src C:/QtSDK/Desktop/Qt/4.8.1/mingw\n&lt;22set substitute-path C:/qt-greenhouse/Trolltech/Code_less_create_more/Trolltech/Code_less_create_more/Troll/4.6/qt C:/QtSDK/Desktop/Qt/4.8.1/mingw\n Attaching to 1260 (6412)\ndTaking notice of pid 1260\n&lt;23attach 1260\n&gt;=thread-group-added,id=\"i1\"\n&gt;~\"GNU gdb (GDB) 7.2\\n\"\n&gt;~\"Copyright (C) 2010 Free Software Foundation, Inc.\\n\"\n&gt;~\"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\\nThis is free software: you are free to change and redistribute it.\\nThere is NO WARRANTY, to the extent permitted by law.  Type \\\"show copying\\\"\\nand \\\"show warranty\\\" for details.\\n\"\n&gt;~\"This GDB was configured as \\\"i686-pc-mingw32\\\".\\nFor bug reporting instructions, please see:\\n\"\n&gt;~\"&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\\n\"\n&gt;&amp;\"show version\\n\"\n&gt;~\"GNU gdb (GDB) 7.2\\n\"\n&gt;~\"Copyright (C) 2010 Free Software Foundation, Inc.\\n\"\n&gt;~\"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\\nThis is free software: you are free to change and redistribute it.\\nThere is NO WARRANTY, to the extent permitted by law.  Type \\\"show copying\\\"\\nand \\\"show warranty\\\" for details.\\n\"\n&gt;~\"This GDB was configured as \\\"i686-pc-mingw32\\\".\\nFor bug reporting instructions, please see:\\n\"\n&gt;~\"&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\\n\"\n&gt;1^done\ndPARSING VERSION: 1^done\nd\ndSUPPORTED GDB VERSION GNU gdb (GDB) 7.2\ndCopyright (C) 2010 Free Software Foundation, Inc.\ndLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\ndThis is free software: you are free to change and redistribute it.\ndThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\ndand \"show warranty\" for details.\ndThis GDB was configured as \"i686-pc-mingw32\".\ndFor bug reporting instructions, please see:\nd&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\ndGNU gdb (GDB) 7.2\ndCopyright (C) 2010 Free Software Foundation, Inc.\ndLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\ndThis is free software: you are free to change and redistribute it.\ndThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\ndand \"show warranty\" for details.\ndThis GDB was configured as \"i686-pc-mingw32\".\ndFor bug reporting instructions, please see:\nd&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nd\ndUSING GDB VERSION: 70200, BUILD: 2010\n&gt;2^done,features=[\"frozen-varobjs\",\"pending-breakpoints\",\"thread-info\",\"python\"]\ndFEATURES: 2^done,data={features=[\"frozen-varobjs\",\"pending-breakpoints\",\"thread-info\",\"python\"]}\nd\n&gt;&amp;\"set print object on\\n\"\n&gt;3^done\n&gt;&amp;\"set breakpoint pending on\\n\"\n&gt;4^done\n&gt;&amp;\"set print elements 10000\\n\"\n&gt;5^done\n&gt;&amp;\"set overload-resolution off\\n\"\n&gt;6^done\n&gt;&amp;\"handle SIGSEGV nopass stop print\\n\"\n&gt;~\"Signal        Stop\\tPrint\\tPass to program\\tDescription\\n\"\n&gt;~\"SIGSEGV       Yes\\tYes\\tNo\\t\\tSegmentation fault\\n\"\n&gt;7^done\n&gt;&amp;\"set unwindonsignal on\\n\"\n&gt;8^done\n&gt;&amp;\"pwd\\n\"\n&gt;~\"Working directory C:\\\\Users\\\\encore.\\n\"\n&gt;9^done\n&gt;&amp;\"set width 0\\n\"\n&gt;10^done\n&gt;&amp;\"set height 0\\n\"\n&gt;11^done\n&gt;&amp;\"set auto-solib-add on\\n\"\n&gt;12^done\n&gt;13^done\n&gt;14^done\n&gt;&amp;\"A syntax error in expression, near `0'.\\n\"\n&gt;15^error,msg=\"A syntax error in expression, near `0'.\"\n&gt;16^done\n&gt;17^done\n&gt;18^done\n&gt;~\"dumpers=[{type=\\\"QLinkedList\\\",formats=\\\"\\\"},{type=\\\"QSize\\\",formats=\\\"\\\"},{type=\\\"QFileInfo\\\",formats=\\\"\\\"},{type=\\\"QAbstractItemModel\\\",formats=\\\"\\\"},{type=\\\"std__stack\\\",formats=\\\"\\\"},{type=\\\"QTextDocument\\\",formats=\\\"\\\"},{type=\\\"QTJSC__JSValue\\\",formats=\\\"\\\"},{type=\\\"__gnu_cxx__hash_set\\\",formats=\\\"\\\"},{type=\\\"QStringList\\\",formats=\\\"\\\"},{type=\\\"QRegion\\\",formats=\\\"\\\"},{type=\\\"std__wstring\\\",formats=\\\"\\\"},{type=\\\"QString\\\",formats=\\\"Inline,Separate Window\\\",editable=\\\"true\\\"},{type=\\\"QTextCodec\\\",formats=\\\"\\\"},{type=\\\"QBasicAtomicInt\\\",formats=\\\"\\\"},{type=\\\"QScriptValue\\\",formats=\\\"\\\"},{type=\\\"QTime\\\",formats=\\\"\\\"},{type=\\\"QSharedData\\\",formats=\\\"\\\"},{type=\\\"std__vector\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QRegExp\\\",formats=\\\"\\\"},{type=\\\"QTextCursor\\\",formats=\\\"\\\"},{type=\\\"QxXmlAttributes\\\",formats=\\\"\\\"},{type=\\\"QDateTime\\\",formats=\\\"\\\"},{type=\\\"QList\\\",formats=\\\"\\\"},{type=\\\"QStandardItem\\\",formats=\\\"\\\"},{type=\\\"std__deque\\\",formats=\\\"\\\"},{type=\\\"QFixed\\\",formats=\\\"\\\"},{type=\\\"QHash\\\",formats=\\\"\\\"},{type=\\\"QSharedPointer\\\",formats=\\\"\\\"},{type=\\\"QUrl\\\",formats=\\\"\\\"},{type=\\\"std__set\\\",formats=\\\"\\\"},{type=\\\"std__list\\\",formats=\\\"\\\"},{type=\\\"std__basic_string\\\",formats=\\\"\\\"},{type=\\\"QPoint\\\",formats=\\\"\\\"},{type=\\\"QHostAddress\\\",formats=\\\"\\\"},{type=\\\"QStack\\\",formats=\\\"\\\"},{type=\\\"QScopedPointer\\\",formats=\\\"\\\"},{type=\\\"QRectF\\\",formats=\\\"\\\"},{type=\\\"QMultiMap\\\",formats=\\\"\\\"},{type=\\\"QMapNode\\\",formats=\\\"\\\"},{type=\\\"QModelIndex\\\",formats=\\\"Normal,Enhanced\\\"},{type=\\\"QLocale\\\",formats=\\\"\\\"},{type=\\\"QSharedDataPointer\\\",formats=\\\"\\\"},{type=\\\"QVariant\\\",formats=\\\"\\\"},{type=\\\"string\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QBasicAtomicPointer\\\",formats=\\\"\\\"},{type=\\\"QVector\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QDate\\\",formats=\\\"\\\"},{type=\\\"QFile\\\",formats=\\\"\\\"},{type=\\\"QAtomicInt\\\",formats=\\\"\\\"},{type=\\\"TBuf\\\",formats=\\\"\\\"},{type=\\\"QWeakPointer\\\",formats=\\\"\\\"},{type=\\\"QSizeF\\\",formats=\\\"\\\"},{type=\\\"__m128\\\",formats=\\\"As Floats,As Doubles\\\"},{type=\\\"boost__optional\\\",formats=\\\"\\\"},{type=\\\"wstring\\\",formats=\\\"\\\"},{type=\\\"QPointF\\\",formats=\\\"\\\"},{type=\\\"TLitC\\\",formats=\\\"\\\"},{type=\\\"QRect\\\",formats=\\\"\\\"},{type=\\\"QByteArray\\\",formats=\\\"\\\"},{type=\\\"QMap\\\",formats=\\\"\\\"},{type=\\\"boost__shared_ptr\\\",formats=\\\"\\\"},{type=\\\"QChar\\\",formats=\\\"\\\"},{type=\\\"QDir\\\",formats=\\\"\\\"},{type=\\\"QPixmap\\\",formats=\\\"\\\"},{type=\\\"QFlags\\\",formats=\\\"\\\"},{type=\\\"std__map\\\",formats=\\\"\\\"},{type=\\\"QHashNode\\\",formats=\\\"\\\"},{type=\\\"QTemporaryFile\\\",formats=\\\"\\\"},{type=\\\"QObject\\\",formats=\\\"\\\"},{type=\\\"Eigen__Matrix\\\",formats=\\\"\\\"},{type=\\\"std__string\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QImage\\\",formats=\\\"Normal,Displayed\\\"},{type=\\\"QSet\\\",formats=\\\"\\\"},],hasInferiorThreadList=\\\"1\\\"\\n\"\n&gt;19^done\n&gt;&amp;\"set substitute-path C:/iwmake/build_mingw_opensource C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;20^done\n&gt;&amp;\"set substitute-path C:/ndk_buildrepos/qt-desktop/src C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;21^done\n&gt;&amp;\"set substitute-path C:/qt-greenhouse/Trolltech/Code_less_create_more/Trolltech/Code_less_create_more/Troll/4.6/qt C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;22^done\n&gt;&amp;\"attach 1260\\n\"\n&gt;~\"Attaching to process 1260\\n\"\n&gt;=thread-group-started,id=\"i1\",pid=\"1260\"\nsThread group i1 created\n&gt;=thread-created,id=\"1\",group-id=\"i1\"\nsThread 1 created\n&gt;~\"[New Thread 1260.0x190c]\\n\"\ns[New Thread 1260.0x190c]\n&gt;23^running\n Inferior attached, thread 6412 resumed\nsSetting breakpoints...\ndSetting breakpoints...\n&lt;24maint print msymbols C:/Users/encore/AppData/Local/Temp/gdb_ns_.Dq6408\n&gt;*running,thread-id=\"all\"\n&gt;=thread-created,id=\"2\",group-id=\"i1\"\nsThread 2 created\n&gt;~\"[New Thread 1260.0xf9c]\\n\"\ns[New Thread 1260.0xf9c]\n&gt;*running,thread-id=\"all\"\n&gt;=thread-exited,id=\"2\",group-id=\"i1\"\nsThread 2 in group i1 exited\n&gt;=thread-exited,id=\"1\",group-id=\"i1\"\nsThread 1 in group i1 exited\n&gt;=thread-group-exited,id=\"i1\"\nsThread group i1 exited\n&gt;&amp;\"During startup program exited with code 0xc0000138.\\n\"\n&gt;23^error,msg=\"During startup program exited with code 0xc0000138.\"\ndCOOKIE FOR TOKEN 23 ALREADY EATEN (InferiorSetupRequested). TWO RESPONSES FOR ONE COMMAND?\ndNOTE: INFERIOR EXITED\ndState changed from InferiorSetupRequested(4) to InferiorExitOk(16).\ndState changed from InferiorExitOk(16) to InferiorShutdownOk(19).\ndState changed from InferiorShutdownOk(19) to EngineShutdownRequested(20).\ndQUEUE: SHUTDOWN ENGINE\nsExecutable failed: During startup program exited with code 0xc0000138.\ndCALL: SHUTDOWN ENGINE\ndINITIATE GDBENGINE SHUTDOWN IN STATE 0, PROC: 2\n&lt;25-gdb-exit\n&gt;&amp;\"maint print msymbols C:/Users/encore/AppData/Local/Temp/gdb_ns_.Dq6408\\n\"\n&gt;24^done\ndFOUND NON-NAMESPACED QT\ndNOTE: INFERIOR SETUP OK\ndState changed from EngineShutdownRequested(20) to InferiorSetupOk(6).\ndState changed from InferiorSetupOk(6) to EngineRunRequested(7).\ndQUEUE: RUN ENGINE\ndCALL: RUN ENGINE\ndNOTE: ENGINE RUN AND INFERIOR STOP OK\ndState changed from EngineRunRequested(7) to InferiorStopOk(14).\ndNOTE: INFERIOR RUN REQUESTED\ndState changed from InferiorStopOk(14) to InferiorRunRequested(10).\nsRunning requested...\n&lt;26-exec-continue\n&gt;25^exit\ndGDB CLAIMS EXIT; WAITING\ndGDB PROCESS FINISHED, status 0, code 0\ndNOTE: ENGINE ILL ******\ndState changed BY FORCE from InferiorRunRequested(10) to InferiorStopRequested(13).\ndATTEMPT TO INTERRUPT INFERIOR\nsStop requested...\ndTRYING TO INTERRUPT INFERIOR\ndCANNOT INTERRUPT 1260\n</code></pre>\n\n<p>do you have any idea as to how I can handle this?</p>\n"},{"tags":["qt","colors","picker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12987802,"title":"Popup Colour Menu in Qt","body":"<p>In Qt, what's the best way to do a popup colour picker menu like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/s3S5P.jpg\" alt=\"http://www.servicehighway.com/docs/img/menu_transaction_context_color.jpg\"></p>\n"},{"tags":["c++","image","file","qt","bytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12988131,"title":"Qt4: write QByteArray to file with filename?","body":"<p>I'm having trouble in Qt 4 with writing to non-text files. I have a QByteArray data and I want to save it to a file with name \"some_name.ext\" in specific directory: \"C://MyDir\". How can I do this? Note that the content is not textual. </p>\n\n<p>The format is \"GIF\" and it is not supported by Qt. </p>\n\n<pre><code>QImage mainImage; \nif (!mainImage.loadFromData(aPhoto.data)) \n    return false; \nif (!mainImage.save(imageName, imageFormat.toUtf8().constData())) \n   return false; \n</code></pre>\n\n<p>I want to bypass somehow that restriction!</p>\n"},{"tags":["c++","qt","events"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12991807,"title":"stop event propagation from QGraphicsItem to QGraphicsScene QT","body":"<p>I have an Qgraphicsscene implemented as a class, then i use QGraphicsScene::mousePressEvent to add a QGraphicsRectItem, this item have also an implementation for QGraphicsRectItem::mousePressEvent, the problem is that the event in the rect item is propagated to the scene and when i click it is added a new rect item, but i want is that the events inside this item do not propagate to the scene, i try event->accept but the event is propagated, how i cant do that? thanks for any help.</p>\n\n<p>here is my qgraphicsscene code:</p>\n\n<pre><code>#include \"imageview.h\"\n\nImageView::ImageView(QWidget *parent){\n    scene = new ImageScene(this);\n    setScene(scene);\n    //this-&gt;setMouseTracking(true);\n    this-&gt;setInteractive(true);\n}\n\n\nImageScene::ImageScene(QWidget *parent){\n    current = NULL;\n    selection = new QRubberBand(QRubberBand::Rectangle,parent);\n    selection-&gt;setGeometry(QRect(10,10,20,20));\n    setSceneRect(0,0,500,500);\n}\n\nvoid ImageScene::mousePressEvent(QGraphicsSceneMouseEvent *event){\n    QGraphicsScene::mousePressEvent(event);\n    /*IGNORING THIS EVENT FROM QGRAPHICSRECTITEM*/\n    cout&lt;&lt;\"image view\"&lt;&lt;endl;\n    if(this-&gt;selectedItems().length() == 0){ /*WORKS BUT IN SOME IMPLEMENTATION IS A PROBLEM (WHEN I DELETE THE ITEM WITH A DELETE BUTTON THE EVENT IS FIRED AND ADD A NEW ITEM .)*/\n        origin = event-&gt;scenePos();\n        selection-&gt;show();\n    }\n}\nvoid ImageScene::mouseReleaseEvent(QGraphicsSceneMouseEvent *event){\n    if(selection-&gt;isVisible() &amp;&amp; selection-&gt;rect().width() &gt;= 20 &amp;&amp; selection-&gt;rect().height() &gt;= 20){\n        QGraphicsScene::mouseReleaseEvent(event);\n\n        ResizableRect * rselection = new ResizableRect();\n            //selection-&gt;origin = event-&gt;scenePos();\n            //selection-&gt;grabMouse();\n        cout&lt;&lt;\"add\"&lt;&lt;endl;\n        this-&gt;addItem(rselection);\n        rselection-&gt;setPos(selection-&gt;pos());\n        rselection-&gt;setRect(0,0,selection-&gt;rect().width(),selection-&gt;rect().height());\n    }\n    selection-&gt;hide();\n\n}\nvoid ImageScene::mouseMoveEvent(QGraphicsSceneMouseEvent *event){\n    QGraphicsScene::mouseMoveEvent(event);\n    if(selection-&gt;isVisible()){\n        QPoint rorigin(origin.x(),origin.y());\n        int xdes = event-&gt;scenePos().x();\n        int ydes = event-&gt;scenePos().y();\n        xdes = xdes &gt; 0? xdes:0;\n        ydes = ydes &gt; 0? ydes:0;\n        xdes = xdes &lt; this-&gt;width()?xdes:this-&gt;width();\n        ydes = ydes &lt; this-&gt;height()?ydes:this-&gt;height();\n\n        QPoint rdest(xdes,ydes);\n        selection-&gt;setGeometry(QRect(rorigin,rdest).normalized());\n    }\n\n}\n</code></pre>\n"},{"tags":["c++","qt","qprocess","qt-signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12991509,"title":"Is QProcess::finished emitted when process crashes in Qt?","body":"<p>In the documentation it says that the <code>error</code> signal will be emitted if the process crashes. </p>\n\n<p>But would <code>finished</code> be emitted as well? Or is it only emitted when the process successfully exits? </p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12990404,"title":"QT: Form validation with inter-fields rules","body":"<ol>\n<li><p>I would like to dynamically build a form to edit a set of properties (say from a xml file or so).</p></li>\n<li><p>On top of that, I would like to perform validation for each property (mandatory values/optional values) with a set of rules (ideally also dynamically loaded).\nThese rules could be associated to a single field (allowed values, range, ...) but could also link several fields (conditional validation).</p></li>\n<li><p>I would like to be able to save the results \"on the fly\" (as soon as a field loses focus).</p></li>\n</ol>\n\n<p>Does someone have a good lead to get me started?<br>\nHere is what I found so far:</p>\n\n<ol>\n<li><p>I could start from the Qt property browser framework for the dynamic form generation. I could extend this framework to suit my needs.</p></li>\n<li><p>Regarding the validation, I read about QValidator which seems to be a good start. However, I couldn't find anything involving several fields (cross-parameter validation)</p></li>\n<li><p>The QSettings framework does this auto-save feature quite nicely and I guess I could reuse that.</p></li>\n</ol>\n\n<p>I just wanted to be sure I am not missing some existing framework to deal with my goals since\nit seems like a relatively standard thing to do.</p>\n"},{"tags":["c++","mysql","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12989499,"title":"Adding compilation flags to Qt to use mysql","body":"<p>I am using ubuntu to build a project that uses mysql. To compile the project from the command line I use the following flags:</p>\n\n<pre><code>$(mysql_config --cflags)$(mysql_config --libs)\n</code></pre>\n\n<p>However, when I am trying to build from Qt, I get that undefined reference to mysql_close and the rest of mysql connection functions.</p>\n\n<p>I tried adding the representation of the previous command line flags to QMAKe in Qt and still same errors.</p>\n\n<p>Any Help?</p>\n"},{"tags":["c++","qt","linker-error","vtable"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":4301,"score":8,"question_id":4774291,"title":"Q_OBJECT throwing 'undefined reference to vtable' error","body":"<p>I'm using Qt Creator 2.0.1 with Qt 4.7.0 (32 bit) on Windows 7 Ultimate 32 bit.</p>\n\n<p>Consider the following code, which is a minimum to produce the error:</p>\n\n<pre><code>class T : public QObject, public QGraphicsItem\n{\n    Q_OBJECT\n\npublic:\n    T() {}\n\n    QRectF      boundingRect() const {return QRectF();}\n    void        paint(QPainter *painter, const QStyleOptionGraphicsItem *option,\n                      QWidget *widget) {}\n};\n\nint main()\n{\n    T t;\n    return 0;\n}\n</code></pre>\n\n<p>The above code fragment causes the following linker errors:</p>\n\n<blockquote>\n  <p>In function `T':</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>In function `~T':</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n</blockquote>\n\n<p>If I comment out the line that contains <code>Q_OBJECT</code>, it compiles fine. I need signal and slots with <code>QGraphicsItem</code> so I need <code>Q_OBJECT</code>.</p>\n\n<p>What is wrong with the code? Thanks.</p>\n"},{"tags":["qt","phonegap","symbian"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":8265231,"title":"PhoneGap on Symbian: Does native side work?","body":"<p>I created application on PhoneGap for iOS and Android.</p>\n\n<p>But if I import it to Symbian, my native side is not working :(</p>\n\n<p>And I have some questions:</p>\n\n<ul>\n<li><p>Native side must be working in WGZ and Qt applications or only in Qt applications?</p></li>\n<li><p>Do you have or know working examples using camera and/or geolocation?</p></li>\n</ul>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12987098,"title":"How to set a QML plugin as the source for a Loader","body":"<p>I've created a QML plugin and I can use it as :</p>\n\n<pre><code>import \"MyElement\" 1.0\n\nRectangle{\n    width:500;height:500;\n    MyElem{\n\n    }\n}\n</code></pre>\n\n<p><code>MyElem</code> is the plugin.<br>\nNow I'm wondering how I can use this plugin as a <strong>source</strong> for a <strong>Loader</strong> element? The source of loader expects a string but here we have a component.</p>\n"},{"tags":["qt","drag-and-drop","qt4.7","qlistview","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12916324,"title":"Drag and Drop of QListView Items","body":"<p>Please help me out to solve this.... I have a <code>QListView</code> on the Left side and a <code>QWidget</code> on the other side. In <code>QListView</code> i had added few items using <code>QStandardItem</code>. Now i want to Drag and Drop the <code>QListView</code> Items to the other side <code>QWidget</code> and i have to do the same with the <code>QWidget</code> also. I can drag and drop my <code>QListView</code> Items <em>inside the <code>QListView</code></em> itself by using</p>\n\n<pre><code>listView.setAcceptDrops(true);\nlistView.setDragEnabled(true);\nlistView.setDragDropMode(QAbstractItemView::InternalMove); \n</code></pre>\n\n<p>this is working fine inside the QListView alone. I want to Drag and Drop the QListView Items to the other Widget. How can i do this? I know that i have to handle the Events like                                                                      </p>\n\n<pre><code>void dropEvent(QDropEvent *);\nvoid dragMoveEvent(QDragMoveEvent *);\nvoid dragEnterEvent(QDragEnterEvent *);\nvoid mousePressEvent(QMouseEvent *);\n</code></pre>\n\n<p>i just tried it like this</p>\n\n<pre><code>void Example::dragMoveEvent(QDragMoveEvent *e)\n{\n    // The event needs to be accepted here\n    e-&gt;accept();\n}\n\nvoid Example::dragEnterEvent(QDragEnterEvent *e)\n{\n    // Set the drop action to be the proposed action.\n    e-&gt;acceptProposedAction();\n}\n\nvoid Example::dropEvent(QDropEvent *e)\n{\n    qDebug(\"Items Dropped\");\n}\n</code></pre>\n\n<p>As i just tried with some <strong>qDebug()</strong> , <em>this is Working when i drag an Item from my <code>QListView</code> and Drop it in the <code>QWidget</code></em>  and am getting the output as <strong>\"Items Dropped\"</strong>. <em>But i dont know how to bring my exact <code>QListView</code>'s Items</em> here.</p>\n"},{"tags":["c++","multithreading","qt","locking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12988010,"title":"right way to write to file from different threads (using Qt c++ )","body":"<p>i have thread pool that create threads each thread worker calculate some work and when it done\nit writes the result to file , there is only 1 result file , that each worker thread needs to write to .<br>\nnow my question is how i guarantee that there wouldn't be any locks or missing write data to the file where allot of threads trying to write to single file ? what is the right strategy for such scenario?<br>\nmybe keep all result in memory ? or chanks of results  </p>\n\n<p>im using already the QThreadPool framework , and i need to find solution with it.<br>\nalso i wander , does writing to single file from worker threads , i will have to use<br>\nsingleton file manager or static class , is it good idea? for multithreaded app ?  </p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":211,"score":1,"question_id":8759864,"title":"How to clip unclosed path in Qt QGraphicsScene","body":"<p>I have <code>QGraphicsView</code> with <code>QGraphicsScene</code> and I need to draw unclosed paths (which may contain lines, or Bezier curves) in limited area of <code>scene</code> defined by <code>rect</code>.</p>\n\n<p>There is simple way to clip <strong>closed</strong> path by using <code>QPainterPath.intersected(path)</code> function, but if <code>path</code> is <strong>unclosed</strong>, then <code>intersected</code> closes it (adds line from end to start point).</p>\n\n<p>Here is the simplified code that illustrates my problem:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport functools\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\n\ndef path_through_points(points):\n    path = QPainterPath()\n    path.moveTo(*points[0])\n    for x, y in points[1:]:\n        path.lineTo(x, y)\n    return path\n\ndef path_through_points_workaround(points):\n    return path_through_points(points + list(reversed(points)))\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    scene = QGraphicsScene()\n    view = QGraphicsView(scene)\n    rect = QRectF(0, 0, 300, 300)\n\n    clip = QPainterPath()\n    clip.addRect(rect)\n\n    points = [(50, 50), (100, 100), (500, 300)]\n\n    def test_draw(path):\n        scene.clear()\n        scene.addRect(rect)\n        scene.addPath(path)\n\n    unclosed_path = path_through_points(points)\n    closed_path = path_through_points_workaround(points)\n\n    QTimer.singleShot(0, functools.partial(test_draw, unclosed_path))\n    QTimer.singleShot(2000, functools.partial(test_draw, unclosed_path.intersected(clip)))\n    QTimer.singleShot(4000, functools.partial(test_draw, closed_path.intersected(clip)))\n\n    view.resize(640, 480)\n    view.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>It draws generated path:</p>\n\n<ol>\n<li>Without clipping.</li>\n<li>With clipping (path closes instead of just clip) - this is unacceptable for me.</li>\n<li>And finally, results that I want to get (but it's reached with workaround).</li>\n</ol>\n\n<p>Workaround: close <code>path</code> by drawing it in <code>reversed</code> order. But my <code>path</code> may contain many lines/beziers, so it's ineffective, and anti aliasing looks bad with doubled lines.</p>\n\n<p>So question is how to clip unclosed path or line in QGraphicsScene without changing logic of path generation function?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Now I'm using following function:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def clipped_path(path, min_x, min_y, max_x, max_y):\n    \"\"\" Returns clipped path, supports unclosed paths of any kind\n    (lines, beziers)\n\n    NOTE: Resulting path can loose antialiasing\n    \"\"\"\n    path.connectPath(path.toReversed())\n    clip = QPainterPath()\n    clip.addRect(QRectF(min_x, min_y, max_x, max_y))\n    return path.intersected(clip)\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Better method as <a href=\"http://stackoverflow.com/users/1326964/hello-w\">@Hello W</a> suggested:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class ClippedItemMixin(object):\n    def __init__(self, min_x, min_y, max_x, max_y):\n        self._clip_path = QtGui.QPainterPath()\n        self._clip_path.addRect(QtCore.QRectF(min_x, min_y, max_x, max_y))\n        super(ClippedItemMixin, self).__init__()\n\n    def paint(self, painter, *args, **kwargs):\n        painter.setClipPath(self._clip_path)\n        super(ClippedItemMixin, self).paint(painter, *args, **kwargs)\n\n\nclass ClippedPathItem(ClippedItemMixin, QtGui.QGraphicsPathItem):\n   pass\n</code></pre>\n\n<p>Now it looks nicer, because anti aliasing works right.</p>\n"},{"tags":["qt","qt4","symbian"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":200,"score":0,"question_id":4365503,"title":"add qt and qt mobility to my project","body":"<p>I've been reading about qt for some time now and would like to use it to write application for Nokia devices. But there is one thing unclear for me. Let say my aplication uses qt and qt mobility so anyone who would like to install it would have to install qt and qt mobility manually first. Am I getting it right? Or maybe there is a way to add them to my project as static libraries or something...thanks for any help</p>\n"},{"tags":["visual-studio","qt","qmake","subdirs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":252,"score":0,"question_id":9109412,"title":"qmake TEMPLATE = subdirs visual studio project generation","body":"<p>in my project I'm using in my \"main\" .pro file TEMPLATE = subdirs that includes other sub-projects(2 additional libraries + target executable). As an outcome I would like to have an application that is linked against those 2 libraries. Based on my pro files structure I would like to generate visual studio 2008 or 2010 project file as some people prefer visual studio than Qt Creator as their IDE. What I have tried was:</p>\n\n<pre><code>qmake -t vcapp -spec win32-msvc2008 main.pro\n</code></pre>\n\n<p>but it gives some kind of an empty visual project file. If I repeat the same step for all my subdir project everything is fine. Only creating \"the main one\" that should have sub-projects in dependencies is not working correctly. I'm using qmake that comes with qt 4.7.3 release on Windows.</p>\n"},{"tags":["qt","facebook","rest","httpclient"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2941,"score":1,"question_id":2332698,"title":"Qt client for Facebook","body":"<p>I would like to use <strong>Facebook</strong> API (<a href=\"http://wiki.developers.facebook.com/index.php/API\" rel=\"nofollow\">http://wiki.developers.facebook.com/index.php/API</a>)   in my <code>Qt Application</code>. </p>\n\n<p>I don't want to use <code>WebKit</code>. Is it possibile to use <code>QNetwork</code> only?</p>\n\n<p>Is there any example on how to do that?</p>\n"},{"tags":["qt","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12982268,"title":"dynamically change label text QML","body":"<p>This is the silliest thing to do in any language but I'm stuck on how to do it in QML.</p>\n\n<p>How to change the text value of a Label in QML? What am I missing..</p>\n\n<p>My code is the following:</p>\n\n<pre><code>Container {\n  objectName: \"formContainer\"\n  id: formContainer\n\n  property alias text1: labelTest.text\n\n  onCreationCompleted: {\n      Qt.labelTest = labelTest;\n      Qt.text1 = formContainer.text1;\n  }\n\n  Label {\n      id: labelTest\n      text: \"test\"\n  }\n\n  TextField {\n      id: textFieldPass\n      onFocusedChanged: {\n             if (focused) {\n                     Qt.myFunction();\n             }\n      }\n   }\n\n    function myFunction(){\n       //Enter successfuly to the function\n       console.log(\"Qt.labelTest.text:\" + Qt.labelTest.text);  //Output: undefined\n       Qt.labelTest.text = \"Y U NO change!\";  //Does nothing\n       Qt.text1 = \"Y U NO change!\";           //Does nothing  \n    }\n }\n</code></pre>\n\n<p>I'm not sure why is not working. Even with an alias property the text refuses to change.\nI will appreciate any help.</p>\n\n<p>Thanks and regards.</p>\n"},{"tags":["c++","qt","uniqueidentifier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12986042,"title":"What is a unique, constant system identifier?","body":"<p>I'm planning on using Qt to create an administration application for a website, because I'm tired of all the garbage 'responsive' cancer content being puked onto the market.</p>\n\n<p>It is imperative that this application not be able to be compromised.  For example, if it is leaked, and someone has an administrator user/pass, it will be useless.  I already have a web-sided backend in development so there won't be any sensitive data like mysql user/pass stored in this application. Is there something like a hardware ID that I can use within this application for extra identification purposes? Of course, there will always be a database stored on a server with the admins unique IDs in them should the program be 'cracked' and other ids added.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12928392,"title":"How can I call the \"pushButton\" in main.cpp?","body":"<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    QObject::connect(pushButton, SIGNAL(clicked()),\n            &amp;a, SLOT(quit()));\n\n    return a.exec();\n}\n</code></pre>\n\n<p>All the codes are given above. In a general Qt GUI program, I put a pushButton on the UI Form and tried to use it in main.cpp. But below error was given:</p>\n\n<pre><code>main.cpp:10: Error:'pushButton' was not declared in this scope\n</code></pre>\n\n<p>Could you please give me a solution? How can I call it in main.cpp?\nThanks!</p>\n\n<p><em><strong>Complement1</em></strong>:</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QObject::connect(ui-&gt;pushButton, SIGNAL(clicked()),\n            QCoreApplication::instance(), SLOT(close()));\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>If I do it this way, then the program can run but cannot close the whole application. I guess that is because the QCoreApplication::instance() returns null due to in the constructor phase the QApplication doesn't exist, right?</p>\n\n<p><em><strong>Complement2</em></strong>:</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>void MainWindow::on_pushButton_clicked()\n{\n    close();\n}\n</code></pre>\n\n<p>One solution is to add new slot of the pushButton in mainwindow.cpp, like above.\nBut still I hope to know how to do it my way (main part of this post)?</p>\n\n<p><em><strong>Complement3:</em></strong></p>\n\n<p>Alberto's code works fine by using <strong>QWidget</strong> as below way.</p>\n\n<pre><code>ui-&gt;setupUi(this);\nconnect(ui-&gt;pushButton,SIGNAL(clicked()),this,SLOT(close()));\n</code></pre>\n"},{"tags":["multithreading","qt","crash","mutex","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12976907,"title":"QThread crashes the program?","body":"<p>I implement QThread like this, but get program crashed when it runs.<br>\nI've searched and seen posts saying <strong>it is not the correct way to use QThread.</strong><br>\nBut I cannot find any reason for the crashes of my program, what I do is only \ntriggering 'on_Create_triggered()' and I guarantee the mutex is locked and unlocked properly.<br>\nI have tested the program for two days(testing only by 'std::cerr &lt;&lt; ...;' prints results), but still cannot find reason. <code>What I guess is that the thread may wait for the lock too long and cause program to crash.</code>  <em>(not sounds reasonable...)</em> :)  </p>\n\n<p><strong>My codes:</strong></p>\n\n<p>Background.h</p>\n\n<pre><code>class Background : public QThread\n{\n    Q_OBJECT\n\npublic:\n    Background(int&amp; val,DEVMAP&amp; map, QQueue&lt;LogInfoItem*&gt;&amp; queue, QList&lt;DEV*&gt;&amp; devlist, QList&lt;IconLabel*&gt;&amp; icllist,QMutex&amp; m)\n        :val_i(val),DevMap(map), LogInfoQueue(queue), DevInfoList(devlist), IconLabelList(icllist),mutex(m)\n    {}\n\n     ~Background();\n\nprotected:\n    void run(void);\n\n\nprivate:\n    DEVMAP&amp; DevMap;\n    QQueue&lt;LogInfoItem*&gt;&amp;LogInfoQueue;\n    QList&lt;DEV*&gt;&amp; DevInfoList;\n    QList&lt;IconLabel*&gt;&amp; IconLabelList;\n    int&amp; val_i;\n    QMutex&amp; mutex;\n\n\n\n    void rcv();\n\n\n\n};\n</code></pre>\n\n<p>Background.cpp</p>\n\n<pre><code>#include \"background.h\"\n\n\nBackground::~Background()\n{\n    LogFile-&gt;close();\n}\n\nvoid Background::run(void)\n{\n    initFile();\n\n    while(1)\n    {\n        msleep(5);\n        rcv();\n    }\n\n}\n\n\nvoid Background::rcv()\n{\n    mutex.lock();\n    ...\n    ...//access DevMap, LogInfoQueue, DevInfoList, IconLabelList and val_i;\n    ...\n    mutex.unlock();\n}\n</code></pre>\n\n<p>MainWindow:(MainWindow has Background* back as property)</p>\n\n<pre><code>void MainWindow::initThread()\n{\n    back = new Background(val_i, dev_map, logDisplayQueue, devInfoList, iconLabelList, mutex);\n    back-&gt;start();\n}\n\nvoid MainWindow::on_Create_triggered()\n{\n    mutex.lock();\n    ...\n    ...//access DevMap, LogInfoQueue, DevInfoList, IconLabelList and val_i;\n    ...\n    mutex.unlock();\n}\n</code></pre>\n"},{"tags":["c++","qt","search","browser","conditional"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":12984587,"title":"Creating conditions when something is typed into a line-edit (addressbar) on a web browser","body":"<p>I have created a simple web browser in QT. I do not want to put a separate search bar next to the address bar. I want to make the address bar the search bar as well. For example i want to put conditions for things that are typed in the address bar, That way if \"http://\" or \"www\" or \".com\"(or any other domain) is not present, then it will search for what was typed. The only thing i have is if those conditions are not met then what is typed in the address bar is plugged into:</p>\n\n<p><a href=\"http://www.google.com/search?q=\" rel=\"nofollow\">http://www.google.com/search?q=</a><em>what+was+typed</em></p>\n\n<p>how would i approach this and how would i make it put the \"+\" between each word, if there is more than one word?</p>\n\n<p>Also how would I apply the conditions in the search bar. Maybe using a loop like an \"if else\"?</p>\n"},{"tags":["c++","qt","short","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12981511,"title":"Qmake giving me error","body":"<p>I'm trying to convert a <code>string</code> into a <code>short</code> int  by using:</p>\n\n<pre><code>short tempS = QString(\"%1\").arg(arguement);\n</code></pre>\n\n<p>where argument is a <code>QString</code>.\nhowever I'm getting the error:</p>\n\n<blockquote>\n  <p>crosses initialization of <code>short int tempS</code> </p>\n</blockquote>\n"},{"tags":["qt","linker","qmake","object-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12977188,"title":"QMake OBJECTS issue after clean","body":"<p>I have a precompiled object file, say myObjectFile.o.  Inside my .pro file I have a block of code like this:</p>\n\n<pre><code>mac {\n    ...\n    OBJECTS += myObjectFile.o\n}\n</code></pre>\n\n<p>This works great for linking in the object file with the rest of the project, but there is a fatal issue.  If I do a clean this object file gets deleted.  And since it's precompiled, when I try to build again I get a linking error until I copy the file back into my projects directory (I actually have a system call in my .pro file to copy the file so I just run qmake again).</p>\n\n<p>This problem is annoying and causes some issues with our continuous integration server.  Basically, I'm looking for a way I can link precompiled object files into my code.</p>\n"},{"tags":["qt","virtual","destructor","qmainwindow"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12977217,"title":"QMainWindow destructor","body":"<p>Why the QMainWindow's destructor is not virtual? If I inherit a class MainWindow from QMainWindow and have some pointer attribute on it I can't delete the memory using MainWindow's destructor.</p>\n"},{"tags":["c++","arrays","qt","pointers"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12976675,"title":"Can I move through an array by incrementing a pointer? Qt","body":"<p>Let's say I have an array of QStrings and a QString pointer. I want to use the pointer to iterate through the entire array; could I do this?</p>\n\n<pre><code>QString * strPointer;\nQString data[100];\nstrPointer = &amp; data[0]; //address to first element\n\nstrPointer ++; //address to second element\n</code></pre>\n\n<p>Would this be valid or am I doing something wrong?</p>\n"},{"tags":["qt","endianness","qimage"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12974195,"title":"Is the endian-ness of a QImage created from a uchar[] platform-dependent?","body":"<p>QImage has a constructor QImage (uchar *data, int width, int height, int bytesPerLine, Format format) that creates a QImage from an existing memory buffer.</p>\n\n<p>Is the order of bytes (uchars) platform-dependent? If I put the values for alpha, red, green, and blue in it with increasing indices, alpha is swapped with blue and red is swapped with green. This indicates a problem with endian-ness.</p>\n\n<p>I now wonder whether the endian-ness is platform-dependent or not. The Qt documentation does not say anything about this. </p>\n\n<p>If it is NOT platform-dependent, I would just change the order of storing the values:</p>\n\n<pre><code>texture[ startIndex + 0 ] = pixelColor.blue();\ntexture[ startIndex + 1 ] = pixelColor.green();\ntexture[ startIndex + 2 ] = pixelColor.red();\ntexture[ startIndex + 3 ] = pixelColor.alpha();\n</code></pre>\n\n<p>If it <em>is</em> platform-dependent, I would create an array of uint32, store values computed as alpha &lt;&lt; 24 | red &lt;&lt; 16 | green &lt;&lt; 8 | blue, and reinterpret_cast the array before passing it to the QImage() constructor.</p>\n\n<p>Best regards,</p>\n\n<p>Jens</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":1290,"score":3,"question_id":3596258,"title":"Newbie problem with QT C++ - Qimage dont work?","body":"<p>I am trying to do console application to read pixels from image:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QtGui/QImage&gt;\n\n#include &lt;iostream&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    QImage *img = new QImage(\"adadad.jpg\");\n\n    //std::cout &lt;&lt; \"Type filename:\" &lt;&lt; std::endl;\n    img-&gt;isNull();\n    return a.exec();\n}\n</code></pre>\n\n<p>That doesn't work I got: <strong>(IT doesn't compile, but anyway file isn't exist yet...)</strong> </p>\n\n<pre><code>File not found: tmp/obj/debug_shared/main.o:: In function `main':\n</code></pre>\n\n<p>What is going on? Is it impossible to use Qimage with console app?!</p>\n\n<p><strong>EDIT:</strong>\n<a href=\"http://i.stack.imgur.com/jODPa.png\" rel=\"nofollow\">screen</a></p>\n"},{"tags":["qt","real-time","qthread","qtablewidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12978439,"title":"How to move function to QThread?","body":"<p>I have a function called <code>refreshLogDisplay()</code> in my MainWindow class which does a lot of UI work.  The code in it is like this:</p>\n\n<pre><code>ui-&gt;tablewidget-&gt;setRowCount(100);\n// ...     \n</code></pre>\n\n<p>So the function deals with a lot of protected properties of MainWindow class.  But I want to move the function to another QThread.  In that QThread, I want a while loop to call the 'refreshLogDisplay' 500 times per second.  The 500 times per second <strong>is very important</strong>, and I do not want any timer to do this because timers are too slow.</p>\n\n<p>I only know how to implement a subclass inheriting QThread, which cannot access <code>ui-&gt;tablewidget</code> things.  There is a <a href=\"http://qt-project.org/doc/qt-4.8/qobject.html#moveToThread\" rel=\"nofollow\">QObject::moveToThread()</a> function, but it doesn't seem to help.</p>\n\n<p>Any good suggestions?</p>\n"},{"tags":["c++","qt","variables","public"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12975088,"title":"public variable","body":"<p>I want to make a variable that can be accessed by all classes that I have made. How do I do this? I have tried by stating in the mainwindow header file:</p>\n\n<pre><code>public:\n    extern int number;\n</code></pre>\n\n<p>And then referencing to this in other classes by saying:</p>\n\n<pre><code>MainWindow::number;\n</code></pre>\n\n<p>This gives me an error: error: storage class specified for 'number'. Can anybody say what I´m doing wrong?</p>\n"},{"tags":["c++","qt","wxwidgets"],"answer_count":12,"favorite_count":20,"up_vote_count":53,"down_vote_count":1,"view_count":22957,"score":52,"question_id":2886258,"title":"wxWidgets vs Qt","body":"<p>What is your experience with the frameworks <a href=\"http://en.wikipedia.org/wiki/WxWidgets\" rel=\"nofollow\">wxWidgets</a> and <a href=\"http://en.wikipedia.org/wiki/Qt_%28toolkit%29\" rel=\"nofollow\">Qt</a>? Which one to use and why?</p>\n"},{"tags":["qt","hide","close","minimize","maximize"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":5537,"score":2,"question_id":3211272,"title":"Qt hide minimize, maximize and close buttons","body":"<p>Do you know how to hide minimize, maximize and close buttons of title bar in Qt.</p>\n\n<p>i did it before in some other project but i could not find it now.</p>\n\n<p>could u help me?</p>\n\n<p>especially i need to hide it on QMainWindow</p>\n"},{"tags":["c++","qt","qstring","character-arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12975777,"title":"Copying the content of a character array to a QString in QT","body":"<p>I have a character pointer that in any run can have different length. For example:</p>\n\n<pre><code>char*  myChar;\n</code></pre>\n\n<p>In one run its content can be \"Hi\" and in another run it can be \"Bye\".</p>\n\n<p>I want to copy the content of <code>myChar</code> to a QString, for example if I have:</p>\n\n<pre><code>QString myString;\n</code></pre>\n\n<p>I want to copy the content of <code>myChar</code> to <code>myString</code>; how can I do that?</p>\n"},{"tags":["multithreading","qt","qthread"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":5123,"score":4,"question_id":2339736,"title":"Do I need to call QThread.exec() in my thread?","body":"<p>I am not calling exec() yet my timer and QUdpSocket work just fine.  Is exec used to wait for an event to continue?<br>   </p>\n\n<p>UPDATE: the timer was working because I had not called moveToThread(this) on the QThread which meant the QThread was actually still part of the main thread.  As for QUdpSocket well I was using the polling functions so it did not need to work with signals.</p>\n\n<p>TIP: if you need to do init stuff that requires an event loop in your QThread you can delay calling moveToThread until you dont need signals anymore, that is practical when the program is loading.  You also dont need to call it in the constructor  (you could call it inside run() for example), just copy the this QThread this pointer to a variable and make the call later/elsewhere using the pointer</p>\n"},{"tags":["c++","sql","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":365,"score":0,"question_id":6127214,"title":"QSqlRecord returned from QSqlTableModel::record() is empty","body":"<p>There are a class FilmModel inherited from QSqlTableModel and QTableView.\nI set model  </p>\n\n<pre><code>model = new FilmModel(this);\nui-&gt;filmList-&gt;setModel(model);\n</code></pre>\n\n<p>Then in QTableView slot doubleClicked(QModelIndex index) i try to get record.</p>\n\n<pre><code>QSqlRecord rr = model-&gt;record(index.row());\nqDebug() &lt;&lt; rr;\n</code></pre>\n\n<p>And i get empty values. It writes to log column names properly but every values are \"\". What am i doing wrong? Perhaps would be useful to write CREATE TABLE request here:</p>\n\n<pre><code>query.exec(\"CREATE TABLE IF NOT EXISTS films (\"\n           \"id INTEGER  NOT NULL PRIMARY KEY AUTOINCREMENT, \"\n           \"name VARCHAR, \"\n           \"year SMALLINT UNSIGNED, \"\n           \"country VARCHAR, \"\n           \"director VARCHAR, \"\n           \"actor VARCHAR, \"\n           \"type TINYINT UNSIGNED, \"\n           \"genre INT UNSIGNED, \"\n           \"score TINYINT UNSIGNED, \"\n           \"poster LONGBLOB)\");\n</code></pre>\n\n<p>RDBMS is SQLite.</p>\n"},{"tags":["qt","mime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":4396931,"title":"is there any tools can convert picture to mime string?","body":"<p>Is there any tools can covert a picture (png,jpg...) to MIME<br>\n string? </p>\n\n<p>Thanks</p>\n"},{"tags":["linux","qt","serial","qextserialport"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2884,"score":2,"question_id":6274887,"title":"QT: How to write on serial port using Qextserialport","body":"<p>I am using Ubunt 10.10</p>\n\n<p>I want to communicate with a microcontroller (ATmega328p) using serial through QT, so for testing I have created a dummy application on the microcontroller that reads character from the UART and responds on the serial port (replies) with the same character but in between brackets.</p>\n\n<p>If PC send: a   , then PC receives reply [a]</p>\n\n<p>The application is working great, when I am using hyper terminal (GtkTerm) to send the characters from PC, but when I use QT it does not work. I am sending from QT a character on the serial port, and I am waiting to receive a reply on the hyper terminal, but I do not get any reply.</p>\n\n<p>Serial Communication properties: Baud9600, Parity_none, Stop_bits_1, Data_8bits, Flow_control_Off</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;qextserialport.h&gt;\n\nint main(int argc, char *argv[])\n{\n   QCoreApplication a(argc, argv);\n\n   const char data[]= \"e\";\n   QextSerialPort * port = new QextSerialPort(\"/dev/ttyUSB0\");\n\n   port-&gt;setBaudRate(BAUD9600);\n   port-&gt;setFlowControl(FLOW_OFF);\n   port-&gt;setParity(PAR_NONE);\n   port-&gt;setDataBits(DATA_8);\n   port-&gt;setStopBits(STOP_1);\n   port-&gt;setTimeout(0);\n   bool res = false;\n   res = port-&gt;open(QIODevice::ReadWrite | QIODevice::Unbuffered);\n\n   if(res)\n   {\n       qDebug(\"Opened\");\n       qDebug(data);\n       int i = port-&gt;write(data, sizeof(data));\n   }\n   else\n   {\n       qDebug(\"Failed to connect\");\n   }\n\n   return a.exec();\n}\n</code></pre>\n\n<p>Any idea what is wrong? Thanks a lot</p>\n"},{"tags":["file","qt","folders","trash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12972128,"title":"How to remove files and folders to trash? (qt)","body":"<p>I am intresting in it for Windows, Mac OS and Linux.</p>\n"},{"tags":["c++","qt","user-interface","qt4","qt4.7"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12202946,"title":"Manipulating a QGradient to follow a path","body":"<p>I am using Qt to draw something that looks like a pipe which can curve and arc using a QPainterPath.  I use a QLinearGradient to fill the pipe in order to give it a three dimensional look.  What I can't figure out is how to curve/arc the pipe and have the gradient <em>follow</em> those same curves so that the 3D effect remains.  Any thoughts?</p>\n\n<p>In other words, the color stops on the QGradient need to rotate along with the curves in the path.</p>\n"},{"tags":["qt","model","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12969509,"title":"What's the right way to remove multiple indices for a QStandardItemModel?","body":"<p>I was trying to remove all selected indices of a QTableView, </p>\n\n<p>Now I use:</p>\n\n<pre><code>foreach (const QModelIndex &amp; idx, model-&gt;selectionModel()-&gt;selectedIndexes())\n{\n    model-&gt;removeRow (idx.row()); // Obviously bug\n}\n</code></pre>\n\n<p>There's a obvious problem that once you remove the row, the row id is invalidated, w</p>\n\n<p>As there's no function that takes directly the index (or does the index act like a iterator that will get invalidated when data changed?), I don't know what to do.</p>\n"},{"tags":["qt","taglib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12887801,"title":"Taglib 1.8 on windows 7 is not working properly like windows XP","body":"<p>I compiled taglib 1.8 using Mingw succesfully, then i integrated it into a Qt project.\nThe purpuse is to remove ID3 Tag from mp3 files.</p>\n\n<p>This code :</p>\n\n<pre><code>void MainWindow::removeTagFromFile(QByteArray &amp;fileContent)\n{\n    TagLib::ByteVector byteVector(fileContent.constData());\n    TagLib::ID3v2::FrameFactory *frame = TagLib::ID3v2::FrameFactory::instance();\n    TagLib::IOStream *vectorStream = new TagLib::ByteVectorStream(byteVector);\n    TagLib::MPEG::File file(vectorStream, frame);\n    file.strip();\n    file.save();\n}\n</code></pre>\n\n<p>Compile and works fine on XP.\nCompile and doesn't work as expected on Windows 7.\nTaking the \".exe compiled on XP\" to seven do not solve the problem.</p>\n\n<p>is it weird ? i'm afraid that this is a bug in Taglib, does it make sense ?\nAny idea or an explanation is welcome,\nThanks in advance.</p>\n\n<p>You can download the project <a href=\"https://docs.google.com/open?id=0B4oIPD6jAmQOS3ZhMXdNenRoWGM\" rel=\"nofollow\">here</a></p>\n\n<p>I'm writing a tutorial in french about details of compilation and integration into a Qt project, i'll write one in english if there is interested people. </p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":646,"score":0,"question_id":1260253,"title":"How do I put an QImage with transparency onto the clipboard for another application to use?","body":"<p>I have a QImage that I would like to put on the clipboard, which I can do just fine.  However the transparency is lost when that data is pasted into a non-Qt application.  The transparent part just comes out as black.  I tried saving the data as a transparent PNG but nothing is usable on the clipboard.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>QImage mergedImage = mergeSelectedItems(scene-&gt;items());\n\nQMimeData* mimeData = new QMimeData();\n\nQByteArray data;\nQBuffer buffer(&amp;data);\nbuffer.open(QIODevice::WriteOnly);\nmergedImage.save(&amp;buffer, \"PNG\");\nbuffer.close();\nmimeData-&gt;setData(\"image/png\", data);\n\nclipboard-&gt;setMimeData( mimeData );\n</code></pre>\n"},{"tags":["osx","qt","gcc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12969611,"title":"install gcc on MAC 10.7.4","body":"<p>I am trying to install <code>QtCreator</code> on my <code>MacProbook (10.7.4)</code>. QtCreator needs <code>gcc</code>.\nCan any one suggest how to install <code>gcc</code> on <code>Mac 10.7.4</code></p>\n"},{"tags":["qt","signals-slots","qthread","qnetworkaccessmanager"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12956396,"title":"error in Qt:' Not such Slot ' when Using Qnetwork access manager with threads","body":"<p>I am in troubled situation on using QNetworkAccessManager in QThread. \nThe same functions working fine without using threads.\nI am currently using only one thread and I need to add few more also.</p>\n\n<p>It fires error message : \"Object::connect: No such slot QThread::replyFinished(QNetworkrReply*)\"</p>\n\n<p>The header file code (NewThread.h ) is:</p>\n\n<pre><code>class NewThread: public QThread\n{\n    public slots:\n         void replyFinished(QNetworkReply* reply);\n\n    protected:\n         void run();\n\n    private: \n\n\n};\n\nThe source code file(NewThread.cpp ):\n\nvoid NewThread::replyFinished(QNetworkReply *net_reply)\n{\n    QByteArray data = net_reply-&gt;readAll();\n    QString str(data);    \n}\n\n\nvoid NewThread::run()\n{\n\nQNetworkAccessManager *manager;\n        manager = new QNetworkAccessManager ();\n        QNetworkRequest req;\n        req.setUrl(QUrl(\"My url\"));\n\n        QByteArray postData;\n\n        postData.append(\"some data string\");\n\n\n        req.setHeader(QNetworkRequest::ContentTypeHeader, \"application/x-www-form-urlencoded\");\n\n        manager-&gt;setCookieJar(new QNetworkCookieJar(manager));\n        //Define the Request-url:\n        connect (manager, SIGNAL(finished(QNetworkReply *)), this, SLOT(replyFinish (QNetworkReply  *)));\n        //Send the request:\n        manager-&gt;post(req, postData);\n}\n\nvoid NewThread::replyFinish(QNetworkReply *reply)\n{\n     QString answer = QString::fromUtf8(reply-&gt;readAll());\n     qDebug () &lt;&lt; answer;\n}\n</code></pre>\n\n<p>I am creating an object of NewThread class in another class, like below:</p>\n\n<pre><code>NewThread thread1;\nthread1.start();\n</code></pre>\n\n<p>I am wondering why the same code working without threads and not with threads.\nI am in hard situation, any help appreciated.</p>\n"},{"tags":["qt","dll","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12959167,"title":"QT: ssl https craches my dll, throws IniterrorSystem.DllNotFoundException","body":"<p>I've created a simple dll in qt which starts up a new thread and handles different network request with the QNetworkAccessManager. Working with ordinary HTTP requests works fine but I've gotten some problems when trying to start using HTTPS instead. </p>\n\n<p>I've installed openssl and configured qt to use it with:\n-openssl -I C:\\OpenSSL\\include -L C:\\OpenSSL\\lib</p>\n\n<p>I can compile the dll but when I try to access the dll from my application I get a IniterrorSystem.DllNotFoundException.\nThis error appears as soon as I try to use the QSslSocket class, for example I'm just trying to initiate a variable.</p>\n\n<p>QSslSocket socket;\nWith this initiation the dll crashes with the above error. </p>\n\n<p>//QSslSocket socket;\nremoving the init will let the dll continue but the https request doesn't work and I don't get any error message from the QNetworkAccessManager. I tried connecting to the sslError signal but that never happens as well.</p>\n\n<p>I've put the dlls \"libeay32.dll\", \"libssl32.dll\" &amp; \"ssleay32.dll\" in the same folder as my dll and have OpenSSL successfully installed.</p>\n\n<p>Anyone have any Idea what I'm missing?</p>\n"},{"tags":["c++","html","qt","qwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":8968936,"title":"Crash after QWebFrame::setHtml","body":"<p>I'm trying to set html content dynamically to document node in the main thread.</p>\n\n<pre><code>                QWebElement dynamicContent = ui-&gt;webView-&gt;page()-&gt;mainFrame()-&gt;documentElement().findFirst(\"div#dynamicContent\");\n                if (QWebFrame *frame = dynamicContent.webFrame())\n                {\n                    param = \"&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\";\n                    frame-&gt;setHtml(param);\n                }\n</code></pre>\n\n<p>These lines are executed normally, but after that i get read access violation with call stack</p>\n\n<pre><code>0   QWebPluginDatabase::searchPaths QtWebKitd4      0x1009deca  \n1   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749451  \n2   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749434  \n3   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749347  \n4   QWebPluginDatabase::searchPaths QtWebKitd4      0x10748469  \n5   QWebPluginDatabase::searchPaths QtWebKitd4      0x1074856f  \n6   QWebPluginDatabase::searchPaths QtWebKitd4      0x107100d6  \n7   QWebPluginDatabase::searchPaths QtWebKitd4      0x107244ce  \n8   QWebPluginDatabase::searchPaths QtWebKitd4      0x1074cd58  \n9   QWebPluginDatabase::searchPaths QtWebKitd4      0x109f9462  \n10  QWebPluginDatabase::searchPaths QtWebKitd4      0x109fa78e  \n11  QWebPluginDatabase::searchPaths QtWebKitd4      0x10725e17  \n12  QWebPluginDatabase::searchPaths QtWebKitd4      0x10725b25  \n13  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074c180  \n14  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074cf2e  \n15  QWebPluginDatabase::searchPaths QtWebKitd4      0x109f9462  \n16  QWebPluginDatabase::searchPaths QtWebKitd4      0x109fcdb2  \n17  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074ca2e  \n18  QWebPluginDatabase::searchPaths QtWebKitd4      0x10721800  \n19  QWebPluginDatabase::searchPaths QtWebKitd4      0x10721383  \n20  QWebPluginDatabase::searchPaths QtWebKitd4      0x107253c3  \n21  QWebPluginDatabase::searchPaths QtWebKitd4      0x10720293  \n22  QWebPluginDatabase::searchPaths QtWebKitd4      0x10750cba  \n23  QWebPluginDatabase::searchPaths QtWebKitd4      0x10751ab9  \n24  QWebPluginDatabase::searchPaths QtWebKitd4      0x108639e4  \n25  QWebPluginDatabase::searchPaths QtWebKitd4      0x10863916  \n26  QWebPluginDatabase::searchPaths QtWebKitd4      0x109ecb72  \n27  QTemporaryFile::tr  QtCored4        0x671ec7fa  \n28  QPictureIO::init    QtGuid4     0x65071a2e  \n29  QPictureIO::init    QtGuid4     0x6506f6aa  \n30  QTemporaryFile::tr  QtCored4        0x671ceb81  \n31  QTemporaryFile::tr  QtCored4        0x671d3d29  \n32  QTemporaryFile::tr  QtCored4        0x67214812  \n33  QPictureIO::init    QtGuid4     0x65071a2e  \n34  QPictureIO::init    QtGuid4     0x6506f6aa  \n35  QTemporaryFile::tr  QtCored4        0x671ceb81  \n36  QTemporaryFile::tr  QtCored4        0x671d3d29  \n37  QTemporaryFile::tr  QtCored4        0x671cfadb  \n38  QTemporaryFile::tr  QtCored4        0x672129dd  \n39  InternalCallWinProc USER32      0x74d66238  \n40  UserCallWinProcCheckWow USER32      0x74d668ea  \n41  DispatchMessageWorker   USER32      0x74d67d31  \n42  DispatchMessageW    USER32      0x74d67dfa  \n43  QTemporaryFile::tr  QtCored4        0x672139f6  \n44  QPictureIO::init    QtGuid4     0x6512c4ce  \n45  QTemporaryFile::tr  QtCored4        0x671cc68e  \n46  QTemporaryFile::tr  QtCored4        0x671cc7c0  \n47  QTemporaryFile::tr  QtCored4        0x671cf0fd  \n48  QPictureIO::init    QtGuid4     0x6506f398  \n49  main    main.cpp    28  0x401ec9    \n</code></pre>\n\n<p>Any googling or stackoverflowing of problem did not succeed. Had anyone else the same issue? What is the proper usage of QWebFrame::setHtml?</p>\n\n<p>Thank you</p>\n\n<p>[Solved] This issue happens while calling QWebFrame::setHtml not from main thread.</p>\n"},{"tags":["qt","lgpl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12968854,"title":"Does one need to provide Visual Studio if he creates application using Qt under LGPL?","body":"<p>There's this paragraph in Section 6 of LGPL:</p>\n\n<blockquote>\n  <p>For an executable, the required form of the \"work that uses the\n  Library\" must include any data and utility programs needed for\n  reproducing the executable from it.  However, as a special exception,\n  the materials to be distributed need not include anything that is\n  normally distributed (in either source or binary form) with the major\n  components (compiler, kernel, and so on) of the operating system on\n  which the executable runs, unless that component itself accompanies\n  the executable.</p>\n</blockquote>\n\n<p>If I am using Visual Studio to create Qt applications, does that mean I need to provide Visual Studio upon a user request, to create those Qt DLLs?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12963328,"title":"QT QNetworkAccessManager and Signals","body":"<p>I have a class (RequestHandler) that I call from my main Application class to call various web services. Once a service has completed the class sends a Signal back to the calling class to say that it has finished(possibly with QString message). I have the Signal working in a test method but the QNetworkAccessManager is not working at all. I am quite new to QT and C++. Thanks for your help.</p>\n\n<p>// RequestHandler.h</p>\n\n<pre><code>#ifndef REQUESTHANDLER_H_\n#define REQUESTHANDLER_H_\n\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QUrl&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QOBJECT&gt;\n#include \"MainAppClass.hpp\"\n\nclass RequestHandler : public QObject\n{\n    Q_OBJECT\n\npublic:\n    explicit RequestHandler(QObject *parent = 0);\n    void validateRegistration(QString reg);\n    void onStatusUpdateCompleted();\n    void sayHi();\n\nsignals:\n    void sendSignal(QString txt);\nprivate:\n    QNetworkAccessManager* manager;\n    QObject* thisObj;\n\npublic slots:\n    void onRequestCompleted();\n};\n\n#endif /* REQUESTHANDLER_H_ */\n</code></pre>\n\n<p>RequestHandler.cpp</p>\n\n<pre><code>#include \"RequestHandler.h\"\n\nRequestHandler::RequestHandler(QObject *parent) : QObject(parent)\n{\n    thisObj= parent;\n}\nvoid RequestHandler::validateRegistration(QString reg) {\n    QNetworkRequest request;\n    request.setUrl(QUrl(\"the_registration_url\"));\n    manager = new QNetworkAccessManager();\n    QNetworkReply *reply = manager-&gt;get(request);\n    connect(reply, SIGNAL(finished()), this, SLOT(onRequestCompleted()));\n}\nvoid RequestHandler::onRequestCompleted() {\n    // not getting here at all\n}\nvoid RequestHandler::sayHi()\n{\n    // this is working\n    QObject::connect(this, SIGNAL(sendSignal(QString)), thisCellCast,   SLOT(recieveValue(QString)));\n    emit sendSignal(\"HERES THE SIGNAL\");\n}\n</code></pre>\n\n<p>I am calling this class like this:</p>\n\n<pre><code>// test slots and reg\n    RequestHandler rh(this);\n//working\n    rh.sayHi();\n// not working\n    rh.validateRegistration(\"test\");\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["qt","centering","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12966137,"title":"QGraphicsView->centerOn() doesn't work","body":"<p>I can't figure out how to make centerOn() to move viewport around the item (or the item around the port, not sure which way it is). </p>\n\n<p>The following code does work in main:</p>\n\n<pre><code>view.setDragMode(QGraphicsView::ScrollHandDrag);\nview.setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setFrameStyle(QFrame::NoFrame);\nview.showFullScreen();\n\nQGraphicsPixmapItem *pmItem = new QGraphicsPixmapItem(pixMap);\nscene.addItem(pmItem);\n\nview.centerOn(QPointF(50,30));\nview.show();\nrc = qA.exec(); \n</code></pre>\n\n<p>However, the centerOn() does nothing when I am trying to do the same from a paintEvent() of an overloaded QGraphicsView:</p>\n\n<pre><code>class MyView :: public QGraphicsView { ... }\n\nvoid MyView::init(){\n    ...\n    setDragMode(QGraphicsView::ScrollHandDrag);\n    setFrameStyle(QFrame::NoFrame);\n    setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n\n    _scene.clear();\n    setScene(&amp;_scene);\n\n    super::showNormal();\n\n}\n\n\nvoid MyView::paintEvent(QPaintEvent *aEvent){\n    _scene.clear();\n    QGraphicsPixmapItem *pmItem = new QGraphicsPixmapItem(pixMap);\n    _scene.addItem(pmItem);\n    centerOn(QPointF(50.0, 30.0));\n\n    super::paintEvent(aEvent);\n}\n</code></pre>\n\n<p>What do I miss?\nThank you</p>\n\n<p>Alex</p>\n"},{"tags":["multithreading","performance","qt","timer","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12924960,"title":"Timer makes UI unresponsive?","body":"<p>I use a timer to emit a signal and call a slot function which updates the UI according to new data.</p>\n\n<p>I've calculated the time to run that function as being quite short. When the timer is set to 1000ms, the UI responds quite slow. </p>\n\n<p>I tried to move that functionality to a thread but I'm finding it difficult since a lot of the functionality needs to access the UI class's protected values.</p>\n\n<p>I'm going to try moving the timer to another thread and leave the update functionality in the UI class (main window) but I don't know if it will help.</p>\n\n<p>Why is the timer causing the UI to be slow and unresponsive? Will a thread be lighter and consume less CPU time? How can I fix this?</p>\n\n<pre><code>    initTimer()\n    {\n        refreshTimer = new QTimer(this);\n        connect(refreshTimer, SIGNAL(timeout()), this, SLOT(refreshDisplay));\n        refreshTimer-&gt;start(1000);\n    }\n</code></pre>\n\n<p>refresh slot function called every 1000ms:</p>\n\n<pre><code>    void refreshDisplay()\n    {\n        ui-&gt;tableWidget-&gt;setUpdatesEnabled(false);\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n            LogInfoItem* logItem = (LogInfoItem*)logDisplayQueue.at(queue_i);\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n\n\n            ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logItem-&gt;time);//time\n            ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logItem-&gt;name);//name\n            ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITS_str);//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        }\n\n        ui-&gt;tableWidget-&gt;setUpdatesEnabled(true);\n\n        Q_FOREACH(Page* p, PageInfoList)\n        {\n            p-&gt;refresh();\n        }\n\n        Q_FOREACH(IconLabel* icl, iconLabelList)\n        {\n            icl-&gt;refresh();\n        }\n    }\n</code></pre>\n\n<p>What 'refresh()' does is just changing icons and texts in the ui according to the data inside.   Besides, i've made the data static, but still cannot fix it.\n    (I've tested the function, almost no time consuming...)</p>\n"},{"tags":["qt","gui","animation","widget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12966105,"title":"QT Proxy Widgets Animation","body":"<p>I'm creating a game using QGraphicsScene / QGraphicsView framework. I want to make each small object its own widget so that I can handle animations within each object while concurrently moving that object around. IE: I have a monster that has wings which are constantly flying etc...</p>\n\n<p>Right now each monster is a widget which has an animated event to switch between images to animate it and is run on a timer. I'm using QGraphicsProxyWidget to animate this. </p>\n\n<p>Is this a best practice? I only have 4 of the characters on the screen, but even now they are not animating smoothly and one will periodically stop. What would be a better way to accomplish what I'm trying to do?</p>\n"},{"tags":["c++","qt","ubuntu","directory","qdir"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12965919,"title":"QDir::SetSorting Doesn't work on Ubuntu","body":"<p>I have a problem with QDir, I have this folder with lots of images, and I need to iterate through them but, they have to be sorted, so, I'm using <code>setSorting(QDir::Name)</code> however, It doesn't work on <strong>Ubuntu</strong>. When I iterate it with QDirIterator it selects pictures in given folder randomly. The weird thing is I use the same exact code on Windows (minGW or MSVC) and It works perfectly. </p>\n\n<pre><code>someClass::someClass(QDir dir) {\n     m_dir = dir;\n     m_directory.setSorting(QDir::Name);\n     QStringList filter;\n     filter &lt;&lt; QString(\"*.\") + format &lt;&lt; QString(\"*.\") + \"jpg\";\n     m_dir.setNameFilters(filter);\n}\nsomeClass::iterateDir() {\n     QDirIterator it(m_dir);\n     while(it.hasNext()) {\n         it.next();\n         qDebug() &lt;&lt; it.fileName();\n\n         //analayze the picture here\n     }\n}\n</code></pre>\n\n<p>here it.fileName() should print (0.jpeg, 1.jpeg .... 3000.jpeg) but instead it prints (2342.jpg, 1286.jpg, 684.jpg ... 712.jpg) I tried to use other sortFlags (QDir::Size, QDir::LocaleAware) but none of them works on Ubuntu. \nIs there something I'm missing? \nThank you for your time.</p>\n"},{"tags":["c++","windows","linux","performance","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":236,"score":9,"question_id":12878980,"title":"Speed performance of a Qt program: Windows vs Linux","body":"<p>I've already posted this question <a href=\"http://qt-project.org/forums/viewthread/21092/\" rel=\"nofollow\">here</a>, but since it's maybe not that Qt-specific, I thought I might try my chance here as well. I hope it's not inappropriate to do that (just tell me if it is).</p>\n\n<p>I’ve developed a small scientific program that performs some mathematical computations. I’ve tried to optimize it so that it’s as fast as possible. Now I’m almost done deploying it for Windows, Mac and Linux users. But I have not been able to test it on many different computers yet.</p>\n\n<p>Here’s what troubles me: To deploy for Windows, I’ve used a laptop which has both Windows 7 and Ubuntu 12.04 installed on it (dual boot). I compared the speed of the app running on these two systems, and I was shocked to observe that <strong>it’s at least twice as slow on Windows!</strong> I wouldn’t have been surprised if there were a small difference, but how can one account for such a difference?</p>\n\n<p>Here are a few precisions:</p>\n\n<ul>\n<li>The computation that I make the program do are just some brutal and stupid mathematical calculations, basically, it computes products and cosines in a loop that is called a billion times. On the other hand, the computation is multi-threaded: I launch something like 6 QThreads.</li>\n<li>The laptop has two cores @1.73Ghz. At first I thought that Windows was probably not using one of the cores, but then I looked at the processor activity, according to the small graphic, both cores are running 100%.</li>\n<li>Then I thought the C++ compiler for Windows didn’t the use the optimization options (things like -O1 -O2) that the C++ compiler for Linux automatically did (in release build), but apparently it does.</li>\n</ul>\n\n<p>I’m bothered that the app is so mush slower (2 to 4 times) on Windows, and it’s really weird. On the other hand I haven’t tried on other computers with Windows yet. Still, do you have any idea why the difference?</p>\n\n<p><strong>Additional info:</strong> some data…</p>\n\n<p>Even though Windows seems to be using the two cores, I’m thinking this might have something to do with threads management, here’s why:</p>\n\n<p>Sample Computation n°1 (this one launches 2 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 7.33s</li>\n<li>PC1-linux: 3.72s</li>\n<li>PC2-linux: 1.36s</li>\n</ul>\n\n<p>Sample Computation n°2 (this one launches 3 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 6.84s</li>\n<li>PC1-linux: 3.24s</li>\n<li>PC2-linux: 1.06s</li>\n</ul>\n\n<p>Sample Computation n°3 (this one launches 6 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 8.35s</li>\n<li>PC1-linux: 2.62s</li>\n<li>PC2-linux: 0.47s</li>\n</ul>\n\n<p>where:</p>\n\n<ul>\n<li>PC1-windows = my 2 cores laptop (@1.73Ghz) with Windows 7</li>\n<li>PC1-linux = my 2 cores laptop (@1.73Ghz) with Ubuntu 12.04</li>\n<li>PC2-linux = my 8 cores laptop (@2.20Ghz) with Ubuntu 12.04</li>\n</ul>\n\n<p>(Of course, it's not shocking that PC2 is faster. What's incredible to me is the difference between PC1-windows and PC1-linux).</p>\n\n<p>Note: I've also tried running the program on a recent PC (4 or 8 cores @~3Ghz, don't remember exactly) under Mac OS, speed was comparable to PC2-linux (or slightly faster).</p>\n\n<p>EDIT: I'll answer here a few questions I was asked in the comments.</p>\n\n<ul>\n<li><p>I just installed Qt SDK on Windows, so I guess I have the latest version of everything (including MinGW?). The compiler is MinGW. Qt version is 4.8.1.</p></li>\n<li><p>I use no optimization flags because I noticed that they are automatically used when I build in release mode (with Qt Creator). It seems to me that if I write something like QMAKE_CXXFLAGS += -O1, this only has an effect in debug build.</p></li>\n<li><p>Lifetime of threads etc: this is pretty simple. When the user clicks the \"Compute\" button, 2 to 6 threads are launched simultaneously (depending on what he is computing), they are terminated when the computation ends. Nothing too fancy. Every thread just does brutal computations (except one, actually, which makes a (not so) small\"computation every 30ms, basically checking whether the error is small enough).</p></li>\n</ul>\n\n<p><strong>EDIT: latest developments and partial answers</strong></p>\n\n<p>Here are some new developments that provide answers about all this:</p>\n\n<ul>\n<li><p>I wanted to determine whether the difference in speed really had something to do with threads or not. So I modified the program so that the computation only uses 1 thread, that way we are pretty much comparing the performance on \"pure C++ code\". It turned out that now Windows was only slightly slower than Linux (something like 15%). So I guess that <strong>a small (but not unsignificant) part of the difference is intrinsic to the system, but the largest part is due to threads management</strong>.</p></li>\n<li><p>As someone (Luca Carlon, thanks for that) suggested in the comments, I tried building the application with the compiler for Microsoft Visual Studio (MSVC), instead of MinGW. And suprise, the computation (with all the threads and everything) was now \"only\" 20% to 50% slower than Linux! I think I'm going to go ahead and be content with that. I noticed that weirdly though, the \"pure C++\" computation (with only one thread) was now even slower (than with MinGW), which must account for the overall difference. So as far as I can tell, <strong>MinGW is slightly better than MSVC except that it handles threads like a moron</strong>.</p></li>\n</ul>\n\n<p>So, I’m thinking either there’s something I can do to make MinGW (ideally I’d rather use it than MSVC) handle threads better, or it just can’t. I would be amazed, how could it not be well known and documented ? Although I guess I should be careful about drawing conclusions too quickly, I’ve only compared things on one computer (for the moment).</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12963794,"title":"Draw shift when drawing on QGraphicsView","body":"<p>I have a problem.</p>\n\n<p>I have a class that inherits QGraphicsView, let's suppose it called \"g\". I reimplemented mousePressEvent method, the code of that method is:</p>\n\n<pre><code>void GraphWidget::mousePressEvent(QMouseEvent *event)\n{\n    if(event-&gt;button() == Qt::MiddleButton)\n        createNode(event-&gt;pos().x(), event-&gt;pos().y());\n\n    update();\n    QGraphicsView::mousePressEvent(event);\n}\n</code></pre>\n\n<p>The code of createNode method is:</p>\n\n<pre><code>Node *GraphWidget::createNode(qreal x, qreal y, int id)\n{\n    Node* node = new Node(this);\n    scene()-&gt;addItem(node);\n    node-&gt;setPos(x, y);\n    return node;\n}\n</code></pre>\n\n<p>I use this class \"g\" as a central widget in my mainwindow class. So it's working like QGraphicsView.</p>\n\n<p>The problem is when I press the middlebutton on the \"draw area\" - the point is created but not in the place when I clicked - the point is shifted. Why? So when I try to draw those points by pressing the middlebutton - all them are drawed on the wrong place (not under my cursor, they are drawn lefter left and above my cursor position).</p>\n\n<p>How can I fix that?</p>\n"},{"tags":["python","windows","qt","pyqt","windows-console"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":473,"score":0,"question_id":4872523,"title":"How do i hide the console window for my app?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/466203/how-can-i-hide-the-console-window-in-a-pyqt-app-running-on-windows\">How can I hide the console window in a PyQt app running on Windows?</a>  </p>\n</blockquote>\n\n\n\n<p>I've made a simple app that opens a QWebView but in addition to the app window Windows console window is opened to. </p>\n\n<p>What could be the reason for this?</p>\n\n<pre><code>import sys\nimport socket\nfrom PyQt4 import QtCore, QtGui\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtWebKit import QWebView\n\nclass AppWindow(QtGui.QWidget):\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self, parent)        \n\n        self.setGeometry(300, 300, 200, 25)  \n        self.setWindowTitle('TrayIP')\n        self.create_sys_tray()      \n\n        self.hostname = socket.gethostname()\n        self.ip = socket.gethostbyname(self.hostname)\n\n        self.label = QLabel(\"IP: \" + self.ip, self)\n        self.label.setFont(QtGui.QFont('Helvetica', 14))\n\n        self.timer = QTimer()\n        self.connect( self.timer, QtCore.SIGNAL('timeout()'), self.timerupdate)\n        self.timer.start(10000)\n\n    def timerupdate(self):\n        self.web = QWebView()\n        self.web.load( QUrl('http://xxx') )\n\n    def create_sys_tray(self):\n        self.sysTray = QtGui.QSystemTrayIcon(self)\n        self.sysTray.setIcon( QtGui.QIcon('ico.ico') )\n        self.sysTray.setVisible(True)\n        self.connect(self.sysTray, QtCore.SIGNAL(\"activated(QSystemTrayIcon::ActivationReason)\"), self.on_sys_tray_activated)\n\n        self.sysTrayMenu = QtGui.QMenu(self)\n        act = self.sysTrayMenu.addAction(\"FOO\")\n\n    def on_sys_tray_activated(self, reason):        \n        if self.isVisible ():\n            self.setVisible(False)\n        else:\n            self.setVisible(True)\n\napp = QtGui.QApplication(sys.argv)\nwindow = AppWindow()\nwindow.show()\nsys.exit(app.exec_())\n</code></pre>\n"}]}
{"total":16228,"page":8,"pagesize":100,"questions":[{"tags":["c++","qt","makefile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12961744,"title":"Copy Qt Libraries to output directory with make","body":"<p>I have a qt .pro file which looks something like this:</p>\n\n<pre><code>TEMPLATE = app\nTARGET = demoqt\nDESTDIR = ./debug\nQT += core gui\nCONFIG += debug\nDEFINES += QT_LARGEFILE_SUPPORT QT_DLL\nHEADERS += ./src/MainWindow.h\nSOURCES += ./src/MainWindow.cpp ./src/main.cpp\n</code></pre>\n\n<p>Its building successfully under windows with the following .bat:</p>\n\n<pre><code>@echo off\necho Setting up a Qt environment...\nset QTDIR=C:\\Qt\\4.8.3\nset PATH=C:\\Qt\\4.8.3\\bin;%PATH%\nset QMAKESPEC=win32-msvc2010\ncall \"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\VC\\vcvarsall.bat\" amd64\nqmake\nnmake\n</code></pre>\n\n<p>I have absolutely no experience with makefiles what so ever - I completely winged this. The problem I'm experiencing is that the necessary Qt DLL files are not getting copied to the output directory. As such, when I execute my executable file, I get errors such as <code>The program can't start because QtGuid4.dll is missing from your computer. Try reinsalling the program to fix this problem.</code></p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12960738,"title":"how to compile in 4.7.4 while mingw32-make compiles in 4.8.1","body":"<p>I've downloaded QtSDK it contains both 4.7.4 and 4.8.1. And I need to compile qwt-plugin for QtDesigner in 4.7.4 version.</p>\n\n<p>Mingw32-make compiles it in 4.8.1 while I'm running 4.7.4 console.\nHow to compile in 4.7.4? thanks in advance</p>\n"},{"tags":["qt","emacs","autocomplete","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":86,"score":4,"question_id":12942591,"title":"auto complete for Qt in emacs","body":"<p>I have become addicted to emacs and have been using it for everything. Now, I have started Qt4 . I am forced to move to the Qt Creator because of its auto complete feature which is required when writing programs in Qt because of the heavy use of pr edefined functions in it. </p>\n\n<p>But the problem is that I don't want to leave emacs. Is there any way to get a auto-complete feature close to that of Qt Creator in emacs.</p>\n\n<p>I have installed the CEDET-1.1 where I discovered the text file for c++ which contains all the commonly used c++ keywords. One way could be to add Qt class and function names in that file which gives me a pretty basic auto complete for Qt. But can I get a better auto complete?</p>\n"},{"tags":["qt","graphics","qt4","effects"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1664,"score":2,"question_id":3903223,"title":"QT4 How to blur QPixmap image?","body":"<p>QT4 How to blur QPixmap image?</p>\n\n<p>I am looking for something like one of the following: </p>\n\n<pre><code>Blur(pixmap); \npainter.Blur(); \npainter.Blur(rect);\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"},{"tags":["c++","qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12942461,"title":"QThread finished() signal is never emited","body":"<p>so i have a worker class that has 2 slots: StartWork() and StopWork(), the StartWork() one runs an infinite loop (it just reads and reads camera input non-stop) and the StopWork() method just sets a bool variable to false (so the loop inside StartWork() stops).</p>\n\n<p>according to the QThread documentation, the best way to use them now is not by sub-classing but by moving workers into the thread, so that's what i do. problem is, the started() signal from the thread gets called but the finished() signal never gets called.</p>\n\n<p>worker class slots:</p>\n\n<blockquote>\n  <p>void StartWork(){ running = true; while(running){ do work; }}</p>\n  \n  <p>void StopWork(){ running = false; }</p>\n</blockquote>\n\n<p>QThread initialization and signal/slot connection:</p>\n\n<pre><code>thread = new QThread();\nworker = new Worker();\nworker.moveToThread(thread);\n\nQObject::connect(thread, SIGNAL(started()), worker, SLOT(StartWork()));\nQObject::connect(thread, SIGNAL(finished()), worker, SLOT(StopWork()));\n</code></pre>\n\n<p>and on my QPushButton i do this:</p>\n\n<pre><code>if(pushStartStop-&gt;text().toLower() == \"start\")\n{\n    pushStartStop-&gt;setText(\"Stop\");\n    thread-&gt;start();\n}\nelse\n{\n    pushStartStop-&gt;setText(\"Start\");\n    thread-&gt;quit();\n}\n</code></pre>\n\n<p>the thread->start() works fine, and the StartWork() gets called and everything is beautiful (GUI runs with no blocks, etc).</p>\n\n<p>but thread->quit() doesn't do anything, it gets called (because the button changes text) but thats it. if i just call worker->StopWork() it works, but then i can't start it again.</p>\n\n<p>I've tried with thread->exit(); but the results are the same. Also i know sub-classing works, but it looks uglier and according to the recent Qt documentation, sub-classing is no longer optimal.</p>\n\n<p>thanks in advance.</p>\n"},{"tags":["qt","boost","qt4","icons","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12904973,"title":"Strange error with QListWidgetItem that uses QIcon","body":"<p>I am building up a QListWidget, browsing through a directory so that every \".png\" gets listed with a preview icon.</p>\n\n<p>The core of my populating loop looks like this:</p>\n\n<pre><code>new QListWidgetItem( QIcon(act_fullname), act_filename);\n</code></pre>\n\n<p>Right after the whole list is ready, the app crashes.\nThe error is many times repeated and says this:</p>\n\n<blockquote>\n  <p>On Mac OS X, you might be loading two sets of Qt binaries into the\n  same process. Check that all plugins are compiled against the right Qt\n  binaries. Export DYLD_PRINT_LIBRARIES=1 and check that only one set of\n  binaries are being loaded. QObject::moveToThread: Current thread\n  (0x103339cb0) is not the object's thread (0x10a848670). Cannot move to\n  target thread (0x103339cb0)</p>\n  \n  <p>On Mac OS X, you might be loading two sets of Qt binaries into the\n  same process. Check that all plugins are compiled against the right Qt\n  binaries. Export DYLD_PRINT_LIBRARIES=1 and check that only one set of\n  binaries are being loaded.</p>\n</blockquote>\n\n<p>Do you have any ideas?</p>\n\n<p>Thanks for your help!</p>\n\n<p>EDIT:</p>\n\n<p>If I skip the icons there is no problem. I have also tried going</p>\n\n<pre><code>QListWidgetItem *item = new QListWidgetItem(act_filename);\nui-&gt;listWidget-&gt;addItem(item);\nitem-&gt;setIcon(QIcon(act_fullname));\n</code></pre>\n\n<p>and got no difference.</p>\n\n<p>EDIT 2:</p>\n\n<p>I do not call <code>QObject::moveToThread(QThread*)</code> I don't even use threads (deliberately at least). </p>\n\n<p>Also, the errors appear to come after the loop. I have cout-ed every iteration and the end of the loop and right after my \"end loop cout msg\" I see that</p>\n\n<blockquote>\n  <p>objc[56963]: Class QCocoaColorPanelDelegate is implemented in both\n  /Users/Barnabas/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/Versions/4/QtGui\n  and\n  /Users/Barnabas/Programming/Qt/demo_OpenCV-build-desktop-Desktop_Qt_4_8_1_for_GCC__Qt_SDK__Release/demo_OpenCV.app/Contents/MacOS/../Frameworks/QtGui.framework/Versions/4/QtGui.\n  One of the two will be used. Which one is undefined.</p>\n</blockquote>\n\n<p>Here, too, I do not use QCocoaColorPanelDelegate. I don't even know what it is ... :(</p>\n\n<p>But here is my more detailed code:</p>\n\n<pre><code>boost::filesystem::path p(\"/path/to/dir\");\nif(boost::filesystem::is_directory(p))\n{\n    for(boost::filesystem::directory_iterator it(p); it!=boost::filesystem::directory_iterator(); ++it)\n    {\n        if(it-&gt;path().extension().string()==\".png\")\n        {\n            std::cout&lt;&lt; it-&gt;path() &lt;&lt;std::endl;\n            QString item_name( it-&gt;path.stem().c_str() );\n            QString screen_file( it-&gt;path.c_str() );\n            QListWidgetItem *item = new QListWidgetItem(item_name);\n            QIcon *icon = new QIcon(screen_file);\n            item-&gt;setIcon(*icon); // if I comment this one out, everything is fine.\n            ui-&gt;imageList-&gt;addItem(item);\n        }\n    }\n}\n</code></pre>\n\n<p>I have also tested it with a single .png and the image was displayed properly in the list but crash followed with the very same messages.</p>\n"},{"tags":["qt","symbian","auto-update"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12938687,"title":"Automatic update new version of symbian application","body":"<p>I have a Qt Symbian application. I didn't publish it via Nokia OVI store. I'm distributing the app in my own website. What I need to know is, If I released a new version of my app, the user should be able to automatically download the new version.</p>\n\n<p>I mean, whenever he/she launch the app, he should be informed about the release of the new version (if an update is available). And then he may have the option to install the update or skip it.</p>\n\n<p>How to achieve this....? </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12956090,"title":"Building Qt app on mac os x for deployment","body":"<p>I am building Qt app for deployment on mac os x 10.7.2 with Qt 4.8.3. my app is 'Test.app' \nafter running otool -L Test.app it is giving path as below.</p>\n\n<pre><code>QtGui.framework/Versions/4/QtGui \nQtCore.framework/Versions/4/QtCore\n</code></pre>\n\n<p>I have copied two QtGui.framework and QtCore.framework to Test.app</p>\n\n<p>then i used following commands</p>\n\n<pre><code>install_name_tool -id @executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore\nTest.app/Contents/Frameworks/QtCore.framework/Versions/4/QtCore\n\ninstall_name_tool -id @executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui\nTest.app/Contents/Frameworks/QtGui.framework/Versions/4/QtGui.\n</code></pre>\n\n<p>then used change command like this</p>\n\n<pre><code>install_name_tool -change /Library/Frameworks/QtCore.framework/Versions/4/QtCore\n@executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore\nTest.app/Contents/MacOs/Test\n\ninstall_name_tool -change /Library/Frameworks/QtGui.framework/Versions/4/QtGui\n@executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui\nTest.app/Contents/MacOs/Test\n</code></pre>\n\n<p>After that if i will otool -L Test.app still it is giving previous path.</p>\n\n<p>is there any mistake while running commands.</p>\n"},{"tags":["visual-studio-2010","qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12902051,"title":"QtGuid4.lib(QtGuid4.dll) LNK1112: module machine type 'X86' conflicts with target machine type 'x64'","body":"<p>I make my Qt project with Cmake and compile it in QtCreater with Visual Stuio 2010 compiler. On the old computer i had Windows 7 32 bit and it runs okay, but on the new computer i have Windows 7 64 bit and get following error message: <strong>QtGuid4.lib(QtGuid4.dll):-1: Fehler:LNK1112: module machine type 'X86' conflicts with target machine type 'x64'</strong> if I use <em>Visual C++ Compiler 10.0(x64)</em>.\nAnd if I use <em>Visual C++ Compiler 10.0(x86)</em>, then I get following message:</p>\n\n<blockquote>\n  <p>Der zum Debuggen von ausführbaren Dateien des Typs\n  'x86-windows-msvc2010-pe-   32bit' am besten geeignete Debugger-Engine\n  ist nicht verfügbar.   Es wird stattdessen der Debugger-Engine 'Gdb\n  engine' benutzt.   Details: Für ausführbare Dateien im Format\n  'x86-windows-msvc2010-pe-32bit' ist   keine ausführbare CDB Datei\n  verfügbar.</p>\n</blockquote>\n\n<p>How could I make/compile with x64-compiler?\nBest regards. Viktor.</p>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12957073,"title":"Qt ui file does not compile in to C++ header","body":"<p>I've created a Qt Application project in Visual Studio 2010. It contains the following files</p>\n\n<pre><code>Form Files\n  mainwindow.ui\nHeader Files\n  mainwindow.h\nSource Files\n  mainwindow.cpp\n</code></pre>\n\n<p>It also uses a generated codefile called <code>ui_mainwindow.h</code>. From what I've been able to discern, this file should be regenerated in response to changes made to the .ui file. However if I open the ui file in Designer and make a change, no change appears in the application.</p>\n\n<p>I have to go to Form -> View Code -> Save As in Qt Designer and save the ui_mainwindow.h file manually. </p>\n"},{"tags":["qt","qwidget","qevent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12954945,"title":"Qt how to know the widget, in which elements user set focus last time","body":"<p>Qt. I have a form. There is 2 widgets on it, that contains other widgets, buttons, line edits etc.\nI need: When user sets focus, clicks by mouse, or does something with first widget or elements, that it contain - I need to set variable to 0. If he do something same with second widget - variable must be set in 1.\nHow to do that?</p>\n"},{"tags":["c++","qt","user-interface","scrolling"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12956560,"title":"Disable horizontal scrolling in QScrollArea completely, not just the bars","body":"<p>In Qt, I have a QScrollArea that has some content in it that can scroll vertically but should never, ever be allowed to scroll horizontally. Even if I disable the H scrollbars from showing, a mouse that has a scroll wheel (or touch pad) that supports horizontal motion will make it move a little bit side to side.</p>\n\n<p>Now, this may partly be a layout issue... but nothing is actually off the screen.\nIt's probably a cop-out, but is there a way to just \"lock\" the scroll area from behind able to move horizontally at all?</p>\n"},{"tags":["qt","model-view"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12956681,"title":"Implementation of Qt Model/View architecture - separate the files using folders?","body":"<p>I am doing my final year project on Qt/OML mobile app project. I was required to use architecture on it and since I choose Qt, I use Model/View with delegate.</p>\n\n<p>Previously I only used three-tier architecture with ASP.NET which I separate database class files (data tier), business logic files(application tier) and presentation tier files into 3 folders.</p>\n\n<p>How about in Qt? Do I have to separate those model, view and delegate files? In the <a href=\"http://get.qt.nokia.com/developerguides/qtquicksymbian/ProgrammingQtQuick4SymbianHarmattanDevices.pdf\" rel=\"nofollow\">example here</a> I saw delegates file are being separated, while the model and view are put together in one file (main.qml).</p>\n"},{"tags":["c++","regex","qt","qregexp"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12955667,"title":"QRegExp not matching as expected","body":"<p>i would like to match all strings that contain none of these characters \"&lt;\",\">\",\"=\" with QRegExp (Qt). With the folloing regexp, this is not working:</p>\n\n<pre><code> \"^[^&gt;&lt;=]+$\"\n</code></pre>\n\n<p>why? to me it means: beginning of string, one or more characters that are not >,&lt;,= and end of string</p>\n\n<p>thanks</p>\n\n<p>EDIT</p>\n\n<p>i would like to match</p>\n\n<pre><code>BUILD\n</code></pre>\n\n<p>for instance, and i would like not to match</p>\n\n<pre><code>BU&lt;ILD\n</code></pre>\n"},{"tags":["qt","mercurial","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12954256,"title":"QtCreator: Mercurial version $$system(hg..) without full path?","body":"<p>Qt Creator 2.5.2 on Win 7: I am using this approach ( <a href=\"http://stackoverflow.com/questions/10550071/qt-automatically-adding-version-for-application\">Qt. Automatically adding version for application</a> ) to add a VERSION number for my source code in Qt Creator.</p>\n\n<p>However, since my Mercurial is installed in <code>C:\\TortoiseHg\\hg</code> , I have to specify</p>\n\n<pre><code>VERSION = $$system(C:\\TortoiseHg\\hg parents --template '{latesttag}+{latesttagdistance}')\n</code></pre>\n\n<p>This full path is not very nice, since others might have installed in different places. The location is correctly set under Qt Creator Tools -> Options -> Version Control -> Mercurial.</p>\n\n<p>Is there a chance (variable) reflecting this setting, or another workaround? Guess in order to use <code>VERSION = $$system(hg parents --template '{latesttag}+{latesttagdistance}')</code>  I have to globally add <code>C:\\TortoiseHg\\</code> to <code>PATH</code> - which I'd like to avoid for some reasons.</p>\n\n<p>So what is the best way getting rid of the absolute path?</p>\n"},{"tags":["winforms","qt"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12954015,"title":"Hosting Windows forms in Qt widget","body":"<p>I am using <code>QtControlHost</code> to integrate a windows form (created using c# object). \nBut, some events are not passed on to the hosted control properly, like the <kbd>Tab</kbd> key press. Other keys like <kbd>Enter</kbd> and normal key strokes are working just fine.</p>\n\n<p>What might cause this problem and how do I solve it?</p>\n"},{"tags":["qt","qt-creator","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12948343,"title":"Installation issue with Qt Quick Components for Desktop to use with Qt Creator","body":"<p>I have some installation issues with the Qt Quick Components for Desktop.</p>\n\n<p>Any help to resolve the issue is appreciated.</p>\n\n<p>Following are the steps I have followed</p>\n\n<ol>\n<li><p>Downloaded the tar.gz from\n<a href=\"http://qt.gitorious.org/qt-components/desktop/trees/master\" rel=\"nofollow\">http://qt.gitorious.org/qt-components/desktop/trees/master</a> Unpacked\nthe components</p></li>\n<li><p>Added path variable value to the environment variables (OS : Windows 7) C:\\QtSDK\\mingw\\bin;C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\bin</p></li>\n<li><p>Ran the following command: qmake &amp;&amp; mingw-make install This command\n    has automatically copied the compiled component files to\n    C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\imports\\QtDesktop</p></li>\n</ol>\n\n<p>Now when am going to the creator. In the design tab I can see the desktop components.\nBut its giving following error\n<img src=\"http://i.stack.imgur.com/Bl5oN.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have also refered various links in to get them installed but still am facing the same issue</p>\n"},{"tags":["c++","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":89,"score":0,"question_id":12952912,"title":"vector::push_back <MyClass> not work for non default constructor","body":"<p>i have a  <code>Controls</code> class that have default constructor and copy constructor and other constructor ,and an assignment operator , and i want to create array of my class using vector . When i resize my vector i get the objects initialized correctly ; but when i want to create my objects using non default constructor i get this error , </p>\n\n<blockquote>\n  <p>pure virtual method called\n      terminate called without an active exception</p>\n</blockquote>\n\n<pre><code>Controls.h\n\nclass Controls : public QObject\n{\n\nprivate:\n\n    QHBoxLayout Layout ;\n    string Controlname;\n    std::auto_ptr&lt;QLabel&gt; Label ;\n    std::auto_ptr&lt;QSlider&gt; Slider ;\n    std::auto_ptr&lt;QSpinBox&gt; Spin ;\n\npublic:\n\n    Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n    Controls(const Controls &amp;copy);\n    Controls();\n    ~Controls();\n\n    QLabel *const Get_Label()const { return Label.get() ; }\n    QSlider *const Get_Slider()const { return Slider.get() ; }\n    QSpinBox *const Get_Spin()const { return Spin.get() ; }\n    QHBoxLayout *const Get_Layout() {return &amp;Layout;}\n\n    void SetValue(const int &amp;newvalue);\n\n    Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>Controls.cpp</p>\n\n<pre><code>Controls &amp;Controls::operator= (const Controls &amp;copy)\n{\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n\n    return *this ;\n}\nControls::Controls(const Controls &amp;copy)\n{\n    *this = copy ;\n}\nControls::Controls()\n{\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(0);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(0);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n}\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n    Controlname = name ;\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(Default_value);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (name.c_str()));\n    Spin-&gt;setValue(Default_value);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n    Parent.addItem(&amp;Layout);\n\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n    Slider.get()-&gt;setValue(newvalue);\n}\nControls::~Controls()\n{\n\n}\n</code></pre>\n\n<p>main.cpp\n......\n.</p>\n\n<pre><code>   vector &lt;Controls&gt; i ;\n      i.resize(2 ); // this is work \n\n     i.push_back(Controls(layout , \"WHITE_BALANCE_RED_V\" ,12);// this is not working \n</code></pre>\n"},{"tags":["c++","qt","cassandra","thrift"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12952554,"title":"compiling libQtCassandra - thrift","body":"<p>I try to make libQtCassandra. I get this error:</p>\n\n<pre><code>Makefile:811: warning: overriding commands for target `gen-cpp/ThriftTest.cpp'\nMakefile:808: warning: ignoring old commands for target `gen-cpp/ThriftTest.cpp'\n[ 13%] Built target thrift-build\nLinking CXX shared library libQtCassandra.dylib\nUndefined symbols for architecture x86_64:\n  \"apache::thrift::TApplicationException::read(apache::thrift::protocol::TProtocol*)\", referenced from:\n      org::apache::cassandra::CassandraClient::recv_login() in Cassandra.cpp.o\n</code></pre>\n"},{"tags":["qt","qwebview","qwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12948468,"title":"QWebkit is not able to detect NPAPI plugin","body":"<p>I have developed one NPAPI based plugin and kept in under /usr/bin/mozilla/plugins directory.\nI have created one sample html page which merely embeds this npapi plugin. It is getting loaded by mozilaa, but same page when I am trying to load via QWebView , it is not detecting that.</p>\n\n<p>Please help where shall I keep my NPAPI plugin to detect it by Qt.</p>\n\n<p>I am working on Debian Linux.</p>\n"},{"tags":["qt","signals","qtreeview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12949443,"title":"QTreeView: how to be inform of the beginning/end of item expansion?","body":"<p>I have a QtreeView that is displaying file lists (using a model derived from QFileSystemModel). As the building of the file list needs a lot of time (I must read the content of each file to determine if the file is visible or not) I want to display the wait cursor during the analysis process. The wait cursor must starts when the user select an item (directory), and stays as long as all the list is not displayed.</p>\n\n<p>For this I did a lot of tries:</p>\n\n<ul>\n<li>using the expanded signal. But this signal is not related to drawing. Hence it arrves almost immediately,</li>\n<li>managing the cursor in data() function of my model. But in this case I have an horrible blinking cursor,</li>\n<li>managing the cursor by overridding the painEvent. In this case I have a small blinking, and the cursor appears lately</li>\n<li>...</li>\n</ul>\n\n<p>So, none of my \"solutions\" is perfect. Hence, do you have a way to do what I want?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["html5","qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12947996,"title":"Mouse activity not working in Html5ApplicationViewer on QT Webkit","body":"<p>Using the QtCreator Application Wizard, I created a project using the Html5 application template.</p>\n\n<p>It is supposed to show an <code>index.html</code> page.  The page works fine if I load it in Chrome.  My Qt program will render it correctly, but clicks don't work on buttons or links or scroll bars.</p>\n\n<p>My code is exactly what the wizard generated:</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n\n    QApplication app(argc, argv);\n\n    Html5ApplicationViewer viewer;\n    viewer.setOrientation(Html5ApplicationViewer::ScreenOrientationAuto);\n\n    viewer.showExpanded(); //Load the HTML Page\n    viewer.loadFile(QLatin1String(\"html/index.html\"));\n\n    return app.exec();\n}\n</code></pre>\n\n<p>Has anybody faced this problem?  I have Qt 4.7.2.</p>\n"},{"tags":["c++","performance","qt","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12948152,"title":"Fastest way of parsing XML files for specified Tags using the Qt Framework","body":"<p>As far es I know there a 4 ways of parsing XML files using C++ with Qt.</p>\n\n<pre><code>QDom\nQSax\nQXMLStreamReader\nQXMLQuery\n</code></pre>\n\n<p>I search in my file for a node with a specific attribute, if I've found it, I abort the parsing save the file name to a list and parse the next file. \nI accomplished that using QDom, but since i search up to 10k files with each about 400lines. it takes some time to parse them all.</p>\n\n<p>My question is whether anyone of you knows about the performance of this different approaches?\nOr if you have any tips to improve the performance of such a program?</p>\n\n<p>I appreciate any information!</p>\n"},{"tags":["c++","qt","qtreewidget","qtreewidgetitem"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12949965,"title":"QTreeWdiget adding child element at specific location","body":"<p>I am trying to build a tree in a way that I can insert the element where I want. This is my tree in its initial stage:</p>\n\n<pre><code>+Project\n+--Version 1.0\n+--Version 2.0\n</code></pre>\n\n<p>Now, let's suppose I made a Version 1.1 and I would like to add it at the location beetween <code>Version 1.0</code> and <code>Version 2.0</code>. Like:</p>\n\n<pre><code>+Project\n+--Version 1.0\n+--Version 1.1\n+--Version 2.0\n</code></pre>\n\n<p>I have tried to add it using insertChild ( <a href=\"http://doc.qt.digia.com/4.7-snapshot/qtreewidgetitem.html#insertChild\" rel=\"nofollow\">http://doc.qt.digia.com/4.7-snapshot/qtreewidgetitem.html#insertChild</a> ) but the item does not get created in the tree. This is the code:</p>\n\n<pre><code>void VersionGuiElements::createGuiElements(QTreeWidgetItem* projectItem, int idxAfter)\n{\n    QTreeWidgetItem* versionItem = new QTreeWidgetItem(0, QStringList(QString(\"Version \") + m_version-&gt;getVersionText())) ;\n\n    if(idxAfter == -1)\n    {\n        projectItem-&gt;addChild(versionItem);\n    }\n    else\n    {\n        projectItem-&gt;insertChild(idxAfter, versionItem);\n    }\n}\n</code></pre>\n\n<p>but nothing gets inserted in the tree... any idea what am I doing wrongly?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":12949743,"title":"How to login to a website using Qt login form? How to display the web page, say index.php in the mobile after that?","body":"<p>I need to login to a website, sending the username and pass to the server and then after successful authentication opens that specific web page.</p>\n"},{"tags":["regex","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12948523,"title":"validate strings separated by dot (.) in QT","body":"<p>Can any one suggest me how to validate strings separated by dot (.) in QT basically just like package name in java, </p>\n\n<p>My code goes like this </p>\n\n<pre><code>QRegExp rx(\"^[\\\\w]+[^\\\\.{0,1}\\\\w+$]*$\");\nrx.setCaseSensitivity(Qt::CaseInsensitive);\nreturn rx.exactMatch(package);\n</code></pre>\n\n<p>but I am getting wrong results </p>\n\n<p>Ex:</p>\n\n<pre><code> com.me.test // valid\n com.me.he. // invalid\n .com.me.he // invalid\n com..me.me // invalid\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":125,"score":-1,"question_id":12929533,"title":"std::vector do not create list of my class type","body":"<p>i want to create a <code>control panel</code> for my application using Qt library and for this i create class\n<code>Controls</code> class </p>\n\n<p><code>Controls</code> : create a slider and spin and a label and orgnize them in horizontal layout .</p>\n\n<p>but when i want to create <code>std::vector&lt;Controls&gt;</code> the program run without error but now controls is creating at all ! so why there is no controls.</p>\n\n<p>Controls.h</p>\n\n<pre><code>class Controls \n{\n\nprivate:\n\n    QHBoxLayout Layout ;\n    string Controlname;\n    std::auto_ptr&lt;QLabel&gt; Label ;\n    std::auto_ptr&lt;QSlider&gt; Slider ;\n    std::auto_ptr&lt;QSpinBox&gt; Spin ;\n\npublic:\n    Controls();\n    Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n    Controls(const Controls &amp;copy);\n    ~Controls();\n\n    QLabel *const Get_Label()const { return Label.get() ; }\n    QSlider *const Get_Slider()const { return Slider.get() ; }\n    QSpinBox *const Get_Spin()const { return Spin.get() ; }\n    QHBoxLayout *const Get_Layout() {return &amp;Layout;}\n\n    void SetValue(const int &amp;newvalue);\n\n    Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>Controls.cpp</p>\n\n<pre><code>Controls &amp;Controls::operator= (const Controls &amp;copy)\n{\n\nLabel = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\nSlider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\nSpin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    this-&gt;Controlname = copy.Controlname ;\n    this-&gt;Slider.get()-&gt;setValue( copy.Slider.get()-&gt;value() );\n    this-&gt;Spin.get()-&gt;setValue( copy.Spin.get()-&gt;value() );\n\n    return *this ;\n}\nControls::Controls(const Controls &amp;copy)\n{\n    this-&gt;Controlname = copy.Controlname ;\n    this-&gt;Slider.get()-&gt;setValue( copy.Slider.get()-&gt;value() );\n    this-&gt;Spin.get()-&gt;setValue( copy.Spin.get()-&gt;value() );\n\n}\nControls::Controls()\n{\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(0);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(0);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n}\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n    Controlname = name ;\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(Default_value*100);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (name.c_str()));\n    Spin-&gt;setValue(Default_value*100);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n    Parent.addItem(&amp;Layout);\n\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n    Slider.get()-&gt;setValue(newvalue);\n}\nControls::~Controls()\n{\n\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n\n\n    QApplication app (argc , argv );\n\n\n    QVBoxLayout layout ;\n    auto_ptr&lt;QWidget&gt; Panel = auto_ptr&lt;QWidget&gt; (new QWidget()) ;\n\n    vector&lt;Controls&gt; g ;\n    g.push_back(Controls(layout , \"WHITE_BALANCE_RED_V\" , 56 ));\n\n        Panel.get()-&gt;setLayout(&amp;layout);\n    Panel.get()-&gt;show();\n\n        return app.exec();\n\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>i remove auto_ptr destructor from ~controls , and when i run it again i get this exception</p>\n\n<pre><code>pure virtual method called\nterminate called without an active exception\n</code></pre>\n\n<ul>\n<li>i initialized sliders and spin in copy constructor</li>\n</ul>\n"},{"tags":["c++","sql","qt","qtsql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12939269,"title":"Do I need an SQL server to work with Qt's QtSql library?","body":"<p>I am a beginner with Qt, so my question might be a bit basic.</p>\n\n<p>My intention is to work with an ODBC database located in my hard drive. I have tried to open it with this code:</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\ndb.setHostName(\"\");\ndb.setDatabaseName(\"c:\\\\database.mdb\");\nbool ok = db.open();\nQSqlQuery query;\nquery.exec(\"SELECT name FROM results WHERE tag&gt;10\");\nwhile (query.next()) {\n    QString name1 = query.value(0).toString();\n    qDebug() &lt;&lt; name1;\n}\n</code></pre>\n\n<p>Now, the problem is that the program can't find the database, failing at the db.open() line. I suspect that Qt can't open a database directly, but instead has to deal with an SQL server. Is this so? If that's the case, I'd be grateful if you could give me some clues on how to go ahead, particularly regarding host name (is it localhost?).</p>\n\n<p>Also, I am not sure of whether the path to the file must be included in DatabaseName.</p>\n\n<p>PS: I have no problem shifting to a different kind of database/server, e.g. MySQL. So if your solution requires this, I'd be happy with it!</p>\n\n<p>Thanks in advance</p>\n\n<p>D</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12947444,"title":"fastest way to copy from text file and paste into QListWidget?","body":"<p>i have QListWidget that load from file strings , each string in the file converted to item in the QListWidget.<br>\nnow i need to be able copy from text numbers of line to clipbord and paste them into the QListWidget<br>\nand it will add items into the QListWidget .<br>\nhow can i do the copy / paste function is there any tutorial or example that show this kind of action ?<br>\nthanks</p>\n"},{"tags":["qt","signals","modal-dialog","slot"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12929718,"title":"Qt - two signals and modal dialog window","body":"<p>I have a <code>QDialog</code> based class.</p>\n\n<p>I have one <code>QEditLine *editLine</code> and <code>QButton *button</code>.</p>\n\n<p>I use <code>clicked()</code> signal of button. And <code>editingFinished()</code> signal of editLine.</p>\n\n<p>When I change the text in the editLine and press the button firstly <code>editingFinished()</code> signal is emitted. In the slot method I call <code>QMessageBox::question()</code>.\nAfter that I can't receive <code>clicked()</code> signal of my button.</p>\n\n<p>I tried to use <code>Qt::QueuedConnection</code> for connect method, but it does not help.</p>\n\n<p>How to solve my problem?</p>\n"},{"tags":["javascript","qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12948026,"title":"QML: How to change the colour on the image?","body":"<p>We are having a transparent image and we want the colour of that image according to the theme selected.</p>\n\n<p>Is it possible in Qt or QML ?</p>\n"},{"tags":["qt","symbian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":31,"score":-2,"question_id":12946127,"title":"Dial phone number code for Qt Symbian?","body":"<p>I need Qt Symbian code to dial a phone number.</p>\n"},{"tags":["winapi","qt","gdi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":5775646,"title":"`EnumDisplaySettings` repeating same Resolution Multiple Times","body":"<p>Here goes my code</p>\n\n<pre><code>DEVMODE dm;\nint index = 0;\nwhile(0 != EnumDisplaySettings(NULL, index++, &amp;dm)){\n    qDebug() &lt;&lt; index-1 &lt;&lt; dm.dmPelsWidth &lt;&lt; dm.dmPelsHeight;\n    Resolution* resolution = new Resolution(dm.dmPelsWidth, dm.dmPelsHeight);\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>0 320 200 \n1 320 200 \n2 320 200 \n3 320 240 \n4 320 240 \n5 320 240 \n6 400 300 \n7 400 300 \n8 400 300 \n9 512 384 \n10 512 384 \n11 512 384 \n12 640 400 \n13 640 400 \n14 640 400 \n15 640 480 \n.....\n25 640 480 \n26 640 480 \n27 800 600 \n.....\n41 800 600 \n42 1024 768 \n50 1024 768 \n51 1152 864 \n....\n62 1152 864 \n63 1280 600 \n</code></pre>\n\n<p>I get only one thing in return that is <code>320x200</code> not even the <code>1600x900</code> which is my current Resolution.</p>\n"},{"tags":["qt","animation","gif"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2784,"score":0,"question_id":1505441,"title":"Animated gifs in QMovie","body":"<p>I'm displaying an animated gif in my application by creating a QLabel, and setting the movie as a QMovie.  The problem I'm having is that when the gif is displayed, any part of the image that stays a constant color throughout the animation shows up as the background color.  I hope I'm explaining that clearly.  Here's the code I'm using to create the animation if that helps:</p>\n\n<pre><code>rewardLabel=new QLabel();\nrewardLabel-&gt;setCursor(QCursor(Qt::BlankCursor));\nrewardLabel-&gt;setWindowFlags(Qt::FramelessWindowHint);\nrewardLabel-&gt;hide();\nstring movieTemp=\"animations/\"+animationFiles[animationIndex];\nQString movieFile(movieTemp.c_str());\nrewardMovie=new QMovie(movieFile);\nrewardLabel-&gt;setMovie(rewardMovie);\n</code></pre>\n\n<p>Let me know if I need to explain the situation better.  Thanks in advance.</p>\n"},{"tags":["c++","qt","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12943852,"title":"Design on Web Services in Blackberry Cascades application","body":"<p>I am (trying) to write a Cascades application that includes many calls to various Web Services. I have got this working fine in my main Application class but I would like to be able to call another class - a Services Manager class if you will - and get it to return a value to my calling Application class when the service call has been processed by the Services Manager class and has completed.</p>\n\n<p>Is this a good design? This is the route I would take in Java but I am completely new to C++ and QT.  Could I potentially use an emit and signal process to produce this functionality?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3204,"score":1,"question_id":4769424,"title":"Qt Creator Error","body":"<p>Launching debugging for a project and then,</p>\n\n<pre><code>Running build steps for project Text_Editor...\nStarting: \"c:/qt/2010.05/qt/bin/qmake.exe\" C:/Qt/2010.05/Text_Editor/Text_Editor.pro -r -spec win32-g++\nThe process \"c:/qt/2010.05/qt/bin/qmake.exe\" exited normally.\nStarting: \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" -w\nmingw32-make: Entering directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\nC:/Qt/2010.05/mingw/bin/mingw32-make -f Makefile.Debug\n\nmingw32-make[1]: Entering directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\ng++ -c -g -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I\"..\\qt\\include\\QtCore\" -I\"..\\qt\\include\\QtGui\" -I\"..\\qt\\include\" -I\"..\\qt\\include\\ActiveQt\" -I\"debug\" -I\"..\\Text_Editor\" -I\".\" -I\"..\\qt\\mkspecs\\win32-g++\" -o debug\\main.o ..\\Text_Editor\\main.cpp\n\nmingw32-make[1]: Leaving directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\nmingw32-make: Leaving directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\ng++: ..\\Text_Editor\\main.cpp: No such file or directory\n\ng++: no input files\n\nmingw32-make[1]: *** [debug/main.o] Error 1\n\nmingw32-make: *** [debug] Error 2\n\nThe process \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" exited with code %2.\nError while building project Text_Editor (target: Desktop)\nWhen executing build step 'Make'\n</code></pre>\n\n<p>I have no clue on that. I just installed it, created a new project and got that error instantly.</p>\n"},{"tags":["qt","printing"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12943580,"title":"Qt how to print formatedtext on dot matrix printer?","body":"<p>I need to print (with Qt) formated text on dot matrix printer. Problem is that QPrinter class is generating graphic mode text only. \nHow to print formated text on dot matrix printer? Do you know any c++ lib that handle this issue?</p>\n"},{"tags":["c++","qt","gui","qtextedit","qtextcursor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12942769,"title":"How to get column number in qtextedit?","body":"<p>I can get the line number of a cursor in a QTextEdit. but can't achieve to get the column number information. (Note: I use QTextBlock while getting line number info.) Isn't there an easy way to obtain column number? What should i do? Although i read <a href=\"http://stackoverflow.com/questions/1849558/how-do-i-use-qtextblock\">here</a> and <a href=\"http://doc.qt.digia.com/stable/qtextblock.html\" rel=\"nofollow\">here</a>, QTextBlock class is still confusing me.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12942691,"title":"QPushbutton separetly QMenu","body":"<p>I have a one question. When I create a new QPushButton with QMenu and I clicked on it I have a QMenu. But I want create a button and menu separetly. When I clicked button I want default operation. When I clicked arrow I want only QMenu. How to do it? I must create second button and connect this to QMenu? Or is there another way?\nSory for English.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12942025,"title":"Intput/Output to QLabel?","body":"<p>I would like my input from the keyboard to be sent to a QLabel. But I dont want just to put the text in it as label->setText(\"\") but instead to see every letter from the keyboard to appear immediately in the label. Any ideas? I just need someone to point me in the right direction. Thank you in advance.</p>\n"},{"tags":["python","qt","pyside"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":45,"score":4,"question_id":12533698,"title":"Using QtHostinfo.lookupHost in PySide","body":"<p>I am working on a project where I want to confirm the existence of a host on a local network. In the QtNetwork package in Qt, the <code>QHostInfo::lookupHost</code> method is a convenient way of searching for a host without needing to implement any kind of pinging or being dependent on a ping system call. Its asynchronous call makes it convenient to create a dialog waiting for the call to return with a slot in either the dialog or the main program to handle the return.</p>\n\n<h3>From Qt's Documentation for QHostInfo:</h3>\n\n<blockquote>\n  <p>To look up a host's IP addresses asynchronously, call lookupHost(), which takes the host name or IP address, a receiver object, and a slot signature as arguments and returns an ID. You can abort the lookup by calling abortHostLookup() with the lookup ID...</p>\n  \n  <p>The slot is invoked when the results are ready. The results are stored in a QHostInfo object. Call addresses() to get the list of IP addresses for the host, and hostName() to get the host name that was looked up.</p>\n</blockquote>\n\n<p><br>The documentation from PySide for <a href=\"http://www.pyside.org/docs/pyside/PySide/QtNetwork/QHostInfo.html\" rel=\"nofollow\"><code>QHostInfo</code></a> details usage of <code>lookupHost</code> but I think it might be automatically generated from the Qt documentation as by default, the method <code>lookupHost</code> is declared as a private method in the <a href=\"http://qt.gitorious.org/pyside/pyside-archive/blobs/master/PySide/QtNetwork/typesystem_network.xml\" rel=\"nofollow\">typesystem definition for QtNetwork</a>.</p>\n\n<p>Is there a particular reason that this method is declared private in the PySide implementation? Does it have to do with the asynchronous nature of the call and Python's GIL? </p>\n"},{"tags":["file","qt","make","external","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":11883783,"title":"qmake add external sources","body":"<p>I'm currently creating my first QT based project. I want to include some code from another project. This code isn't in a library and not using QT. Instead I want to add sources manually using their relative path. The first files I've added worked fine.</p>\n\n<p>Now I had to add some more files from a different subdirectory than the first ones. In QT Creator all of the files are show under source files as expected. When building my project it won't compile them. I receive the following error from make:</p>\n\n<pre><code>No rule to make target `../../../path/to/my/file/fileToCompile.c', needed by `debug/fileToCompile.o'.  Stop.\n</code></pre>\n\n<p>All other files compile fine. Any ideas on what I'm missing?</p>\n\n<pre><code>SOURCES += $${path1}file1.cpp \\\n           $${path1}file2.cpp \\\n           $${path2}file3.c \\\n           $${path2}file4.c\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["c++","osx","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":12939540,"title":"Qt font renders weird on OS X","body":"<p>I just started using Qt (using Qt 5 beta 1), and I found that the fonts rendered in OS X 10.6.8 are messed up. I've tried using different fonts, but they all look like the image I've posted below (very thin, pixelated). How can I get the fonts to render correctly?</p>\n\n<p>The code I'm using is simply:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QLabel&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QLabel* label = new QLabel(\"The quick brown fox jumps over the lazy dog...\");\n    label-&gt;show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>The link to the picture is <a href=\"http://i.stack.imgur.com/F5lqg.png\" rel=\"nofollow\">http://i.stack.imgur.com/F5lqg.png</a></p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12937812,"title":"How to create different popup (context) menus for each *type* of QTreeWidgetItem","body":"<p>I was able to create a context menu for my QTreeWidget as below  </p>\n\n<pre><code>QMenu* pContextMenu = new QMenu(this)\nQTreeWidget* pTreeWidget = new QTreeWidget();\nQAction* pOpenFile = new QAction(tr(\"Open A File\"), pContextMenu);\npTreeWidget-&gt;setContextMenuPolicy(Qt::ActionsContextMenu);\npTreeWidget-&gt;addAction(pOpenFile);\n</code></pre>\n\n<p>But I want a different popup for a branch than a leaf. How do I assign a different popup depending on the type of widgetitem clicked?</p>\n\n<p>My tree:</p>\n\n<ul>\n<li>Branch1  &lt;-- Popup1\n<ul>\n<li>Leaf1</li>\n<li>Leaf2 &lt;-- Popup2</li>\n</ul></li>\n<li>Branch2\n<ul>\n<li>Branch3\n<ul>\n<li>Leaf1</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>QWidget::actions() is not listed as virtual. Else I would have derived my own class from QTreeWidget &amp; reimplemented actions().</p>\n"},{"tags":["qt","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12938213,"title":"How might I use QSettings to load different setups","body":"<p>I have a Qt application that requires the ability to load from several settings files to behave in a distinct way. For example lets say my app can support several variations, VAR1, VAR2, VAR3, ...  One of my menu entries allows me to load settings. Currently, I do this using a QSettings object and it works fine. But now I want to implement a different variation. Instead of manually setting 20 or more settings, I would like to load from a preconfigured settings file.</p>\n\n<p>QSettings does not allow me to change source, as far as I can tell. I looked at the static method QSettings::setPath but that can only be done once prior to instantiating the QSettings object.</p>\n\n<p>My hope is to create ways to:\n  1 - Load factory defaults\n  2 - Save a user settings file with a user specified name\n  3 - Recall a user settings file by name.</p>\n\n<p>I would prefer not to have to rewrite QSettings to meet my needs if at all possible.</p>\n"},{"tags":["qt","video","metadata","phonon"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":269,"score":1,"question_id":9544699,"title":"How can I get a video meta data using Qt phonon?","body":"<p>I want to get the bitrate of a video. And I use Qt Phonon to achieve this goal.\nSince there is a class called Phonon::MediaObject and provide a method called metaData(),I use that method but the result shows zero. Here is my code, I wonder why and how can I get the metadata such as bitrate in qt with Phonon</p>\n\n<pre><code>    QString source=\"E:\\\\sh.mp4\";\n    Phonon::MediaObject media;\n    media.setCurrentSource(Phonon::MediaSource(source));\n    QMap &lt;QString, QString&gt; metaData = media.metaData();\n    int trackBitrate = metaData.value(\"bitrate\").toInt();\n    qDebug()&lt;&lt;trackBitrate;\n</code></pre>\n\n<p>The result is 0 all the time</p>\n"},{"tags":["c++","multithreading","qt","tcpserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12937930,"title":"QObject: Cannot create children for a parent that is in a different thread","body":"<p>I'm trying to implement a qtcpserver in a separate thread:</p>\n\n<pre><code>void Server::run()\n{\n    tcpserver = new QTcpServer(this);\n    connect(tcpserver, SIGNAL(newConnection()),SLOT(connection()));\n    tcpserver-&gt;listen(QHostAddress::Any, 1);\n}\n</code></pre>\n\n<p>But I'm getting this error when the application runs: </p>\n\n<pre><code>QObject: Cannot create children for a parent that is in a different thread.\n</code></pre>\n\n<p>What does this error mean and what do you do to fix it?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12757012,"title":"Override a Qt class with an embedded private class","body":"<p>In many cases, I would like to override a Qt class to extend or modify its behavior. But almost all Qt classes uses an internal private class such as QNetworkDiskCachePrivate inside QNetworkDiskCache. I know there are advantages of this approach. But there is a HUGE problem of the private class: it makes overriding the class a lot more difficult. With other C++ class library with source code, I usually override a class method, copy the code from the implementation in the parent class and make small modifications here and there to achieve the behavior I want. However, in Qt, the private class is not exported and not visible to the derived class. Since Qt classes maintains the critical internal data in the private class through the \"d\" member, the invisibility of the private internal class makes the possibility of behavior extension very limited. You can only play with the few exposed public method. </p>\n\n<p>I tried extracting the entire source files of the class and renaming the class name and file names. But the Qt class library is so much intertwined that extracting a single class out of it is messy as well in most cases. </p>\n\n<p>Do I miss something here? Or Qt classes are just really bad in terms of extendability?</p>\n"},{"tags":["c++","file","qt","directory"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":42,"score":-1,"question_id":12936737,"title":"Change directory path","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4916090/how-to-move-files-in-qt\">How to move files in Qt?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to move a directory to another path something like <code>movedir(QString src,QSring dest)</code> if <code>src=\"C:/path/to/my_DIR\"</code> and <code>dest=\"C:/path/to/dest\"</code> I get a new directory with path <code>\"C:/path/to/dest/my_DIR\"</code>, so I thought to copy manually  <code>my_Dir</code>(the hole tree) under destination folder then remove the source . Is there an easier way to do that ?</p>\n"},{"tags":["c++","qt","atomic"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12936464,"title":"Atomic read with QAtomicInt/QAtomicPointer","body":"<p>How do I read the value of a QAtomicInt or QAtomicPointer atomically in Qt4, on all supported architectures? I don't care about memory ordering here, I just want to be sure that I won't read a partially old, partially new value if another thread is concurrently changing the value.</p>\n\n<p>In Qt4, these classes only have cast operators for int or T*. There seems to be newer code (<a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/corelib/thread/qbasicatomic.h\" rel=\"nofollow\">http://qt.gitorious.org/qt/qtbase/blobs/master/src/corelib/thread/qbasicatomic.h</a>) which distinguishes between non-atomic load() and atomic loadAcquire(). C++11 atomics also have an atomic load() (<a href=\"http://en.cppreference.com/w/cpp/atomic/atomic/load\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/atomic/atomic/load</a>). That's why I am worried that the methods provided by Qt4 are not safe enough.</p>\n\n<p>I know fetchAndAddRelaxed(0) should work, but it looks like a hack and is probably not optimal in terms of performance.</p>\n"},{"tags":["c++","visual-studio-2010","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12732578,"title":"Using the Qt library in an existing c++ VS2010 program","body":"<p>I'm trying to get the the Qt library to work in an my existing VS2010 project. But I am pretty much stuck.</p>\n\n<p>I have succesuflly compiled the library with nmake on 64 bit and added the Qt adon for vs2010.</p>\n\n<p>But i don't no how to use it in my project, the project makes already use of the boost and the opencv librarys and these work just fine.</p>\n\n<p>I found a thread here on stackoverflow that says I need to edit the vs project file with an text editor but when I do this I cant find the global section that I need to edit.</p>\n\n<p>Can anyone help me with this problem? Thank in advance.</p>\n"},{"tags":["c++","qt","virtual-functions","overriding"],"answer_count":3,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":4782,"score":10,"question_id":2733668,"title":"QWidget keyPressEvent override","body":"<p>I'm trying for half an eternity now overriding QWidgets keyPressEvent function in QT but it just won't work. I've to say i am new to CPP, but I know ObjC and standard C.</p>\n\n<p>My problem looks like this:</p>\n\n<pre><code>class QSGameBoard : public QWidget {\nQ_OBJECT\n\npublic:\n  QSGameBoard(QWidget *p, int w, int h, QGraphicsScene *s);\n\nsignals:\n  void keyCaught(QKeyEvent *e);\n\nprotected:\n  virtual void  keyPressEvent(QKeyEvent *event);\n};\n</code></pre>\n\n<p>QSGameBoard is my QWidget subclass and i need to override the keyPressEvent and fire a SIGNAL on each event to notify some registered objects.</p>\n\n<p>My overridden keyPressEvent in QSGameBoard.cpp looks like this:</p>\n\n<pre><code>void QSGameBoard::keyPressEvent(QKeyEvent *event) {\n  printf(\"\\nkey event in board: %i\", event-&gt;key());\n  //emit keyCaught(event);\n}\n</code></pre>\n\n<p>When i change QSGameBoard:: to QWidget:: it receives the events, but i cant emit the signal because the compiler complains about the scope. And if i write it like this the function doesn't get called at all.</p>\n\n<p>What's the problem here?</p>\n"},{"tags":["qt","qt4","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12928190,"title":"In ScrollHandDrag mode of QGraphicsView, How to stop movement of QGraphicsItems on scene?","body":"<p>I have multiple QGraphicsItems in scene spread across different parts of scene. In application there are different modes in one of mode user can scroll the scene (palm drag mode). \nTo achieve scrolling over scene I <strong>set dragMode of QGraphicsView to ScrollHandDrag</strong>.</p>\n\n<p>But the problem is when user try to scroll over scene by dragging (MousePress and MouseMove) on any of QGraphicsItem instead of scrolling scene it moves QGraphicsItem.</p>\n\n<p>How <strong>can I stop movement of QGraphicsItem and scroll the scene</strong>, but I still want to select QGraphicsItems?</p>\n\n<p>Any Solution or any pointers will help.</p>\n\n<p><strong>NOTE :</strong> There are very large number of QGraphicsItems and are of various type. \nSo It is not possible to install event filter on QGraphicsItems.</p>\n"},{"tags":["c++","regex","qt","qregexp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12934639,"title":"Qt and regular expressions","body":"<p>I would like to write simple regexp with Qt QRegExp</p>\n\n<p>I want to fetch all substring of a Qstring with <code>table(i, d)</code>, without the quotes, with <code>i</code> \"hard written\" and <code>d</code> representing any integer. And then using cap, to retrieve value for <code>d</code>. I propose</p>\n\n<pre><code> qREgExp reg ( \"table(i,\\\\s*(\\\\d+)\\\\s*)\") ;\n</code></pre>\n\n<p>I cherrish the hope that then</p>\n\n<pre><code> reg.cap(2)\n</code></pre>\n\n<p>gives me the <code>d</code> in question here.</p>\n\n<p>How would you put it?</p>\n"},{"tags":["qt","qt-mobility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":561,"score":0,"question_id":6030125,"title":"How to download the qt mobility examples package in Opensuse 11.2","body":"<p>This example: <a href=\"http://doc.trolltech.com/qtmobility-1.1-tp/fetchgooglemaps.html\" rel=\"nofollow\">http://doc.trolltech.com/qtmobility-1.1-tp/fetchgooglemaps.html</a> is not present in the following \"qt-mobility-opensource-src-1.2.0\" directory: </p>\n\n<pre><code>[17:05:10 Tue May 17] ~/tarBalls/qt-mobility-opensource-src-1.2.0/examples  $ls\nannotatedurl             bttennis                   documentproperties     ndefeditor                    sfwecho\naudiodevices             calendardemo               examples.pro           notesmanagerplugin            sfw-notes\naudioinput               camera                     filemanagerplugin      publish-subscribe             slideshow\naudiooutput              connectivity               flickrdemo             qmlorganizer                  sysinfo\naudiorecorder            declarative-camera         hapticsplayer          qsystemalignedtimer           todo\nbattery-charge           declarative-connectivity   hapticsquare           querymessages                 videographicsitem\nbearercloud              declarative-location       keepintouch            quickstart                    videowidget\nbearermonitor            declarative-messages       landmarkbrowser        radio                         writemessage\nbluetoothtransferplugin  declarative-music-browser  logfilepositionsource  samplephonebook\nbtchat                   declarative-sfw-dialer     mapsdemo               sensors\nbtfiletransfer           declarative-sfw-notes      mediabrowser           servicebrowser\nbtscanner                declarative-systeminfo     mobility_examples.pri  serviceinstaller_sfw_symbian\n[17:08:20 Tue May 17] ~/tarBalls/qt-mobility-opensource-src-1.2.0/examples  $\n</code></pre>\n"},{"tags":["qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12931982,"title":"Qt threads - new way verification please","body":"<p>So new to Qt. Read the wiki and C++ Gui programming book and they say subclass QThread. Found that this is not the recommended way now.</p>\n\n<p>So I have some practice code here and I have some questions about if this is correct. So I would really appreciate someone having a look please.</p>\n\n<p>So I created a class with the QThread as a private member to use for the movetothread. When creating it, I made sure not to specify a parent. Therefore my first question is, is this ok to do?</p>\n\n<p>Second question comes from the m_thread->quit(); I found that my connect to finished wasn't being emitted until I did this. So is this the correct way? I read <a href=\"http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow\">http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/</a> and saw that the connect between finished and deleteLater in the same thread but not 100% sure if this should be used with quit. </p>\n\n<p>Finally, with the talk of deleteLater, does this mean I dont need \n    delete m_thread</p>\n\n<p>Thanks for anyones time.</p>\n\n<p>Code here. Simple QDialog with a pushbutton.\n<strong>worker.cpp</strong></p>\n\n<pre><code>#include \"worker.h\"\n\nworker::worker(QObject *parent) :\n    QObject(parent)\n{\n    stopped = false;\n}\n\nvoid worker::setupAndRun()\n{\n    m_thread = new QThread();\n    connect(m_thread,SIGNAL(started()),this,SLOT(doWork()));\n    connect(m_thread,SIGNAL(finished()),this,SLOT(onComplete()));\n    connect(m_thread,SIGNAL(finished()),m_thread,SLOT(deleteLater()));\n    this-&gt;moveToThread(m_thread);\n    m_thread-&gt;start();\n}\n\nvoid worker::doWork()\n{\n\n    for(int i = 0; i &lt; 20000; i++)\n    {\n        if (this-&gt;stopped)\n            break;\n        qDebug() &lt;&lt; i &lt;&lt; \" : \" &lt;&lt;  Q_FUNC_INFO &lt;&lt; m_thread-&gt;currentThreadId();\n    }\n    // --- I think the quit calls the finished signal?\n    m_thread-&gt;quit();\n\n}\n\nvoid worker::onComplete()\n{\n    qDebug() &lt;&lt;  Q_FUNC_INFO &lt;&lt; \"Called \" &lt;&lt; m_thread-&gt;currentThreadId();\n}\n</code></pre>\n\n<p><strong>worker.h</strong></p>\n\n<pre><code>#ifndef WORKER_H\n#define WORKER_H\n\n#include &lt;QObject&gt;\n#include &lt;QDebug&gt;\n#include &lt;QThread&gt;\n\nclass worker : public QObject\n{\n    Q_OBJECT\npublic:\n    explicit worker(QObject *parent = 0);\n    void setupAndRun();\nsignals:\n\npublic slots:\n    void doWork();\n    void onComplete();\nprivate:\n    // --- The thread that I use to movetothread with.\n    // Is this ok?\n    QThread *m_thread;\n    bool stopped;\n};\n\n#endif // WORKER_H\n</code></pre>\n\n<p><strong>Dialog push button</strong></p>\n\n<pre><code>void Dialog::on_pushButton_clicked()\n{\n    m_worker = new worker();\n    m_worker-&gt;setupAndRun();\n}\n</code></pre>\n"},{"tags":["qt","keyboard","openscenegraph"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12932374,"title":"Ignore keyboard presses on Qt inside OSG","body":"<p>I’m newbie with Qt, and experiencing one problem I cannot deal with for, like, a month. The situation is like this:\nI’ve OpenSceneGraph project (which is OpenGL) and trying to make Qt interface inside the 3d scene. I think its not necessary how I deal with that, but if someone wants to know more <a href=\"http://forum.openscenegraph.org/viewtopic.php?t=11110\" rel=\"nofollow\">here</a> is thread with more info on OSG forum (though I didnt get solution there). The problem is, when any key on keyboard is clicked, Qt controls jump around the screen and dont react on any (mouse or keyboard) events anymore. The entire program continues to work, though. \nTo summarize, my question is like: <strong>is there a way to make Qt widgets ignore all keypresses?</strong> \nI’ve searched a lot, but couldnt find any working solution.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","qt4","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12932737,"title":"QtDesigner: Setting fixed size of QLabel","body":"<p>I have a fixed size label on a QtDesigner form. The label is used to display images, let's assume it's used to display thumbnails of 100x100 px. </p>\n\n<p>I can set the size of the label but when I put the label in some layout manager the labels get resized to take the whole space. Even if I do it through the Form > Layout in a Grid. The size of the labels is shrunk.</p>\n\n<p>I believe this is some corner case as labels are not often used to do such things (although they are meant to be able to display images). Is there a workaround to avoid the size of the labels changing when placed in the layout?</p>\n"},{"tags":["c++","qt","events","qt-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12931016,"title":"QT QGraphicsView Event","body":"<p>I have a class, View that incorporates my QGraphicsView but am having trouble inheriting from it. My code is as follows:</p>\n\n<pre><code>class View: public QGraphicsView {//inherits qwidget -- so we can make it full screen there\n\n    Q_OBJECT\n\n    public:\n        View(QGraphicsScene * _scene);//this is responsible for setting up the screen and instantiating several elements\n        ~View();\n    protected:\n        virtual void paintEvent(QPaintEvent * event) = 0;\n</code></pre>\n\n<p>And Game inherits from view:</p>\n\n<pre><code>#include \"view.h\" //this includes all of the functionality of the different elements\n\nusing namespace std;\n\nclass Game : public View {//inherit everything above and down into private functions\n\n    public:\n        Game(QGraphicsScene * _scene);\n        ~Game();\n\n    protected:\n        void paintEvent(QPaintEvent * event);\n\n};\n</code></pre>\n\n<p>I have implemented paintEvent with just a quick cout in game. When I compile, everything compiles okay but when I run, I keep getting a message that says a pure virtual function was called</p>\n\n<pre><code>libc++abi.dylib: pure virtual method called\nAbort trap: 6\n</code></pre>\n\n<p>My View constructor looks like this:</p>\n\n<pre><code>View::View(QGraphicsScene * _scene) : QGraphicsView(_scene) {...\n</code></pre>\n\n<p>Any help would be greatly appreciated </p>\n"},{"tags":["android","qt","android-ndk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12932798,"title":"How to combine qt(necessitas) with SDL on android?","body":"<p>I am using Qt on android through necessitas port.\nI'm trying to combine Qt with SDL.\nWhen compile such project with SDL invoked (SDL_Init) , compiler gives me error : multiple definition of `JNI_OnLoad'.</p>\n\n<p>LOG : /mnt/sdcard/Android/data/com.n0n3m4.droidc/files/gcc/bin/../lib/gcc/arm-linux-androideabi/4.7.1/../../../../arm-linux-androideabi/lib/libSDL.a(SDL_andvideo.o): In function <code>JNI_OnLoad':\nSDL_andvideo.c:(.text+0xddc): multiple definition of</code>JNI_OnLoad'\nqtmain_android.o:qtmain_android.cpp:(.text.JNI_OnLoad+0x0): first defined here</p>\n\n<p>Is there some short way how to solve this ?</p>\n\n<p>specific : compiling on C4droid (ide from google play with gcc , necessitas Qt(gui + core) , SDL plugin)</p>\n\n<p>thanks</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12931473,"title":"Parallelizing a library with lots of global variables","body":"<p>I'm currently using QT (4) to parallelize a non-threadsafe library that's written in C by non-programmers, and thus has a lot of global variables. The threads don't need to interact or share data, they each just call a bunch of methods of the library and then at the end the library gives an output that is used further.</p>\n\n<p>The problem is, though, that global variables are per default shared between threads, causing the library to crash in different places. There are two ways to fix this: </p>\n\n<p>Refactor the entire library to not use global variables (ouch), or find a way to make global variables non-shared, or find a third magic way. </p>\n\n<p>Is the latter an option with QT or standard (C++01) C++?</p>\n"},{"tags":["c++","qt","hash","iterator"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12930828,"title":"How to create a QSet of iterators","body":"<p>What I am trying to do is:</p>\n\n<pre><code>#include &lt;QVector&gt;\n#include &lt;QLinkedList&gt;\n#include &lt;QSet&gt;\n\nclass MyType\n{\n//...\n};\n\nint main(int argc, char** argv)\n{\n    QVector&lt;MyType&gt; vector;\n    QSet&lt;QVector&lt;MyType&gt;::iterator&gt; a;\n    a.insert(vector.begin());          // This is fine\n\n    QLinkedList&lt;MyType&gt; linkedList;\n    QSet&lt;QLinkedList&lt;MyType&gt;::iterator&gt; b;\n    b.insert(linkedList.begin());      // This does not compile\n\n    return 0;\n}\n</code></pre>\n\n<p>The compiler message is: </p>\n\n<pre><code>error: no matching function for call to 'qHash(const QLinkedList&lt;MyType&gt;::iterator&amp;)'\n</code></pre>\n\n<p>I know, that the reason why the first three lines compile is that for the <code>QVector</code>, the iterator is defined as <code>typedef T* iterator;</code> but for the <code>QLinkedList</code> it is a custom type. </p>\n\n<p>I found out, that the <code>QSet</code> template class is implemented in terms of a hash table.\nApparently it is possible to evaluate the hash function for a pointer, but not for a custom type.</p>\n\n<p>Please, could you tell me, how to overload the <code>qHash</code> function for my program to compile? I have read some basic information on the workings of a hash table, but I lack the confidence in the subject. </p>\n\n<p>I tried to understand the inner workings of the <code>QLinkedList&lt;T&gt;::iterator</code>. It seems that it is very similar to the <code>QVector&lt;T&gt;::iterator</code>. It just holds a pointer to a node in the linked list instead of a pointer to the item itself.</p>\n\n<pre><code>class iterator\n{\npublic:\n   ...\n   Node *i;\n   ...\n};\n</code></pre>\n\n<p>So I tried to define the function in this manner:</p>\n\n<pre><code>uint qHash(QLinkedList&lt;MyType&gt;::iterator it)\n{\n    return qHash(it.i);\n}\n</code></pre>\n\n<p>The program compiled, but I have no confidence in my solution. How should I correctly overload the <code>qHash</code> function?</p>\n"},{"tags":["qt","button","row","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":12542119,"title":"QML ButtonRow checkedButton not responding","body":"<p>When I call this:</p>\n\n<pre><code>buttonrow1.checkedButton = _button1\n</code></pre>\n\n<p>then I get no errors and nothing happens, I can also not change the property using states, no matter what I do it just remains at the default setting. Any idea how I can change this value?</p>\n"},{"tags":["ajax","qt","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12924857,"title":"AJAX in Qt Quick","body":"<p>I'm thinking about using Qt Quick to build desktop applications, since it looks more friendly for someone like me that is coming from web development using node.js, but is it possible to do AJAX and populate controls like a <code>GridView</code> only using QML?</p>\n"},{"tags":["qt","visual-c++","character-encoding","qt-creator","msvc10"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12722618,"title":"Setting Character set for MSVC compiler from another IDE (Qt Creator)","body":"<p>I'm trying to compile legacy code in Qt Creator using the Microsoft Visual C++ Compiler 10.0 (x86), and I am getting the classic error:</p>\n\n<blockquote>\n  <p>cannot convert parameter 1 from 'char *' to 'LPCWSTR'</p>\n</blockquote>\n\n<p>Rather than edit the code (something I should not be doing, it is a 3rd party SDK), the solution is to go into Visual Studio general settings and change the character set to </p>\n\n<blockquote>\n  <p>'Use Multi-byte character set'</p>\n</blockquote>\n\n<p>(as described <a href=\"http://www.codeproject.com/Articles/76252/What-are-TCHAR-WCHAR-LPSTR-LPWSTR-LPCTSTR-etc\" rel=\"nofollow\">here</a> and <a href=\"http://stackoverflow.com/questions/5480588/cannot-convert-parameter-1-from-char-to-lpcwstr\">here</a>)</p>\n\n<p>However, I'm not using the Visual Studio IDE and don't have that setting. So I need to know what setting that actually does in terms of code/compilation. Does it set a compiler flag or #define something? How can I achieve the same in Qt Creator?</p>\n"},{"tags":["qt","qtreewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":12907830,"title":"currentItemChanged signali is not gererated when clicking on check box of QTreeWidget","body":"<p>QTreeWidget is not working as expected when clicking on check-box of non-leaf item. My QTreeWidget has two level of child and each item in the tree widget can be checked (check-box is enabled for each item). In this QTreeWidget, leaf items are user selectable, but non-leaf items are not selectable and all items are enabled and user check-able.</p>\n\n<pre><code>[]Family node1\n  - []Primary node1\n    - []child1\n  - []Secondary node1\n    - []child1\n[]Family node2\n  - []Primary node2\n    - []child2\n  - []Secondary node2\n    - []child2\n</code></pre>\n\n<p><strong>Leaf items flag setting</strong></p>\n\n<pre><code>Qt::ItemIsSelectable | Qt::ItemIsUserCheckable | Qt::ItemIsEnabled\n</code></pre>\n\n<p><strong>Non-leaf items flag setting</strong></p>\n\n<pre><code>Qt::ItemIsUserCheckable | Qt::ItemIsEnabled | Qt::ItemIsTristate\n</code></pre>\n\n<p>When we directly click on leaf item's associated check-box, Qt is generating currentItemChanged() signal. But, when we click directly on non-leaf item's associated check-box, then currentItemChanged() signal is not getting generated. This causes inconvenience in the non-leaf item handling.</p>\n\n<p>It was working fine in Qt 4.7.4, but it is not working in Qt 4.8.1 on all platforms (Windows, Darwin, and Linux).</p>\n\n<p>I attached a sample program to reproduce this bug.</p>\n\n<p>Is this a bug or expected behavior?</p>\n\n<p>I am noticing this bug on all platforms (Linux CentOS, Windows 7, and MacOS) with Qt 4.8.</p>\n"},{"tags":["qt","toolbar","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12927205,"title":"QDialog with floating toolbar","body":"<p>How can I create a QDialog with floating toolbar in qt?</p>\n\n<p>Attachment of the QMainWindow with toolbar as widget in the QDialog is not suitable.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12380556,"title":"Qt Widget Painting from slideshow demo","body":"<p>I am trying to run slightly modified code from the Qt fluidLauncher demo that shows a slideshow.  The code is pasted in below.  When the paintEvent is handled a black rectangle is shown on the screen because the imported image size is 0.</p>\n\n<p>Single stepping through the code in Qt creator, the currentImagePath is '\"/home/tim/Pictures/HPIM0406.JPG\"' in the watch window. The path is correct including the case and / dividers.  The 'slide' variable always shows &lt;not accessible&gt;.  </p>\n\n<p>At the point in the code where slideSize = slide.size() the slide size changes from (8481696,0) to (0,0).  It appears that although no error is thrown, the QPixmap slide (currentImagePath); is not retrieving the image.  </p>\n\n<pre><code>void SlideShow::paintEvent(QPaintEvent *event)\n{\n QPainter painter(this);\n QString currentImagePath;\n\n painter.setRenderHint(QPainter::Antialiasing, false);\n\n if (d-&gt;imagePaths.size() &gt; 0) {\n    currentImagePath = d-&gt;imagePaths[d-&gt;currentSlide];\n     QPixmap slide( currentImagePath );\n     QSize slideSize = slide.size();\n     QSize scaledSize = QSize(qMin(slideSize.width(), size().width()),\n         qMin(slideSize.height(), size().height()));\n     if (slideSize != scaledSize)\n         slide = slide.scaled(scaledSize, Qt::KeepAspectRatio);\n\n     QRect pixmapRect(qMax( (size().width() - slide.width())/2, 0),\n                      qMax( (size().height() - slide.height())/2, 0),\n                      slide.width(),\n                      slide.height());\n\n     if (pixmapRect.top() &gt; 0) {\n         // Fill in top &amp; bottom rectangles:\n         painter.fillRect(0, 0, size().width(), pixmapRect.top(), Qt::black);\n         painter.fillRect(0, pixmapRect.bottom(), size().width(), size().height(), Qt::black);\n     }\n\n     if (pixmapRect.left() &gt; 0) {\n         // Fill in left &amp; right rectangles:\n         painter.fillRect(0, 0, pixmapRect.left(), size().height(), Qt::black);\n         painter.fillRect(pixmapRect.right(), 0, size().width(), size().height(), Qt::black);\n     }\n\n     painter.drawPixmap(pixmapRect, slide);\n\n } else\n     painter.fillRect(event-&gt;rect(), Qt::black);\n</code></pre>\n\n<p>}</p>\n\n<p>I've struggled with the problem for most of the evening.  Can anyone suggest additional code that I could add for debugging or let me know what may be wrong with this code?</p>\n"},{"tags":["qt","build","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12912550,"title":"QT Creator : how to compile changes only","body":"<p>No idea what might have changed in my QT Creator options or project options, but for some reason doing a Build (Ctrl-B) or starting a debugging session (F5) now triggers a complete rebuild of my project, which takes several minutes. I'd like it to build only the changed files (and dependencies) as it has always done before. What did I do wrong?\nI played with the settings \"always build before deploying\" and \"always deploy before running\", but changing these just switches between doing no build at all, or doing a full rebuild. How can I (re)activate a \"differential\" build ? \nThanks!</p>\n"},{"tags":["image","qt","size","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12922762,"title":"qml image size negative value","body":"<p>I want to make a QML animation with QML Image element <code>height</code> property. \nBut negative value for Image height property does not work in Timer.</p>\n\n<p>Can you tell me what is wrong with this animation?</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width: 300\n    height: 300\n\n    property int mySize: 10\n\n    Image {\n        x: 150; y: 150\n        width: 20\n        height: -mySize       // animation does not work in Timer, Why?\n        //height: mySize      // animation works in Timer\n        source: \"Bar.jpg\"\n    }\n    Timer {\n        interval: 200\n        running: true\n        repeat: true\n        onTriggered: mySize +=5\n    }\n}\n</code></pre>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12882970,"title":"Unable to Handle Tap, Swipe, Pan, Pinch events for Qt Poppler Library example","body":"<p>I took the example of the Poppler Library to render PDF on Qt platform. I am trying to write gesture handling for the example.</p>\n\n<p>The example can be downloaded from \"doc.qt.digia.com/qq/qq27-poppler.zip\" URL.</p>\n\n<p>In a nutshell, the example has a DocumentWidget.cpp which is Derived from \"QLabel\" which in turn derives from QFrame and QWidget.</p>\n\n<p>Now since QLabel is inherited from QWidget I have started implementing for Gesture Handling.</p>\n\n<p>in DocumentWidget.h i have added the below function</p>\n\n<pre><code>protected:\n bool event( QEvent* e );\n</code></pre>\n\n<p>in DocumentWidget.cpp constructor\n    grabGesture( Qt::TapGesture )</p>\n\n<pre><code>bool DocumentWidget :: event( QEvent* e )\n{\n  if( e-&gt;type() == ( Qt :: TapGesture )\n     gestureEvent();\n}\n</code></pre>\n\n<p>In the above gestureEvent function I try to check if it is Tap and correspondingly planning to handle the tap event. However, In my example the event function is getting called but the tap gesture is being handled.</p>\n\n<p>I have included all the necessary header files. I have forward declared the classes too.</p>\n\n<p>Can you please tell me where am I going wrong. Can't we handle these gestures for QLabel.</p>\n\n<p>Thank You in advance.</p>\n\n<p>Chand.M</p>\n"},{"tags":["c++","qt","textfield","qml","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12899952,"title":"How do you respond to tapping on a textfield only when you click up on Blackberry Cascades simulator in QML?","body":"<p>I am trying to figure out how to respond to the tapping on a textfield in Blackberry Cascades.  Right now, I have this sort of code:</p>\n\n<pre><code>TextField {\n    onFocusedChanged: {\n        if (focused) {\n            doStuff();\n        }\n    }\n}\n</code></pre>\n\n<p>But this responds the moment you click on an item, but doesn't wait till you let go of the mouse in the simulator (or the equivalent in a real blackberry)</p>\n"},{"tags":["c++","qt","gui","coding-style","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12928472,"title":"QtGraphicsView size in QTGraphicsScene","body":"<p>I'm having trouble getting my QtGraphicsView to take up 100% of the window I'm working in. Is there a way to set the view size to take up 100% of the graphics window that is created? </p>\n\n<pre><code>QApplication app(argc, argv);\n\nQGraphicsScene * scene = new QGraphicsScene();\n\nint counter = 1000;\n\n\nscene-&gt;setSceneRect(0, 0, counter, counter);//scene size\n\nQGraphicsEllipseItem * item = new QGraphicsEllipseItem(0, scene);\n\nitem-&gt;setRect(0,0, 1000.0, 1000.0);\n\nQGraphicsView view(scene);\n\nview.setRect(100, 100);\nview.setRenderHints(QPainter::Antialiasing);\nview.show();\n</code></pre>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12908208,"title":"Simulating touch event from QT Application","body":"<p>I have a QT Application which receives <code>X&amp;Y coordinates</code> and I need to simulate touch events (touch or long touch) using these coordinates. </p>\n\n<p>I read in QT Reference documentation that <code>QTouchEventSequence</code> class can be used to simulate touch events. I am pretty new to QT and I have no idea how can I use it in an application. Could anybody help me on this.</p>\n"},{"tags":["java","android","ios","eclipse","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":84,"score":-3,"question_id":12928239,"title":"cross platform supported mobile application","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/51988/what-work-has-been-done-on-cross-platform-mobile-development\">What work has been done on cross-platform mobile development?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to develop a mobile application which should work on major mobile devices like iOS, Android, Windows Mobile, Blackberry device and Symbian. How can I develop such a native application which will work on these platform? Is it possible to develop such application which is cross platform supported?</p>\n"},{"tags":["qt","render","qimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12918518,"title":"How to render custom video data in Qt ?","body":"<p>I have never done a Qt video application - newbie in this area. I have a custom video file format to render using Qt. The video file format is 256-byte header, then pixel data, then 256-byte header, then pixel data and so on.\nThe header consist info like width, height in pixels, bytes per pixels, frame rate etc and the pixel data is in Bayer (GBRG). I may have to process data before display - like convert to RGB (not sure yet). I see there are lot of video related classes like QGL*, QMovie, QVideo* ... don't know where to start ? I have seen mandelbrotwidget example which looks like a good place to start but still need some advice. Also, do I have to write a Qt Image plugin for Bayer pattern?</p>\n\n<p>Thank you.</p>\n"},{"tags":["c++","qt","ip","ipconfig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":12927273,"title":"How to get local IP address of a computer using QT","body":"<p>I am trying to get the local ip address (IPV4) of a computer in QT.\nI found the following code:</p>\n\n<pre><code>QNetworkInterface *inter = new QNetworkInterface();\nQList&lt;QHostAddress&gt; list;\nlist=inter-&gt;allAddresses();\nQString str;\n\nfor (int i = 0; i &lt; list.size(); ++i) {\n     str = list.at(i).toString();\n}\n</code></pre>\n\n<p>Going through for loop I can see there are a number of values (ip's) in the <code>list</code>, one of them is the actual local ip address that I get by typing <code>ipconfig</code> in a command window.</p>\n\n<p>My question is how to distinguish the ip address from all the ip's that are in <code>list</code>?</p>\n"},{"tags":["qt","scroll","mouseevent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12919689,"title":"Qt wheelEvent over all","body":"<p>I have app window with many layouts and widget. I have also scrollarea with switch-off scrollbars. I am able to create slots for scrollareaup and scrollareadown. But when I create wheelEvent for all App it's working only for items int app NOT in scrollarea. When I just try this:</p>\n\n<pre><code>void TContic_win::wheelEvent(QWheelEvent *event) {\n  cout &lt;&lt; \"-\" &lt;&lt; endl;\n} \n</code></pre>\n\n<p>I don't know how I can fix it. My idea is something like:</p>\n\n<pre><code>bool TContic_win::eventFilter(QObject *obj, QEvent *e) {\n\n  if (isChildOfScrollWidget(obj) { if (e == wheel) scroll Up or Down }\n\n}\n</code></pre>\n"},{"tags":["qt","cross-platform","conventions","application-settings"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12914784,"title":"default file locations per platform?","body":"<p>I'm making a (qt) cross platform application that stores both cache and settings files. After a lot of searching, i still haven't found how and where to store them. <em>Please note that i want to use QT's stuff only where i would otherwise reinvent the wheel or save insane amounts of time; i want absolute control over the behavior of the application and qt is rather random or inefficient at times.</em></p>\n\n<p>For linux, the default would be /etc//, but there's no write access there and my app writes changes to it's config file. for cache, that would be /var//, but by default there is no write access either. the settings and cache should preferably be user independent as it's server software.</p>\n\n<p>I have thought of several solutions, but they don't seem very elegant:</p>\n\n<ul>\n<li>Let the installer create those directories with the right permissions (that means i'm going to need an installer... bleh)</li>\n<li>store it all in the user's home directory, losing user independence</li>\n<li>Let QT handle it (i really don't like this one)</li>\n</ul>\n\n<p>any ideas? what's best practice? where does this stuff go on windows and mac?</p>\n\n<p><strong>Some clarification:</strong>\nIt's a server application that is supposed to run independently of a single user, so it's not desired to store anything at all in /home. It's also not using any gui features of QT, the server is going to be managed by either settings files or a separate GUI that communicates with the server over IP.</p>\n"},{"tags":["multithreading","qt","threadpool","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12918718,"title":"Thread, QThread, how many per process is \"reasonable\"?","body":"<p><strong>QUESTION:  How many \"QThread\" instances per process is \"reasonable\"?</strong></p>\n\n<p><em>(This specifically references Qt's <code>QThread</code> instance, but logically the question should relate to any thread-based design using any library.)</em></p>\n\n<p>For example, I understand that platform-specific resource limits may default to supporting up to thirty (30) \"<code>QTcpSocket</code>\" instances, so in theory, if you have thirty active-sockets, that would be thirty <code>QThread</code> instances when the system is under max-load.  However, that may not be a big deal, as most of those threads should be \"sleeping/waiting\" for network traffic.</p>\n\n<p>Similarly, I would assume that one would instantiate UP TO the number of \"cores\" or \"native-threads-can-execute\" for <code>QThread</code> instances charged with \"heavy-continuous-work\".  So, if you had eight (8) cores, that might be another eight <code>QThread</code> instances (and these may be working all-the-time when the system is under max-load).</p>\n\n<p>Then, of course, we have the \"main-thread\".</p>\n\n<p>Does this then imply one would instantiate:</p>\n\n<p>(30 socket-threads) + (8 worker-for-each-core) + (1 main thread)</p>\n\n<p>...for 39 threads (on an 8-core system)?</p>\n\n<p>Specifically, if application-specific needs had other thread-pool-needs, and you add a dozen-<code>QThread</code>-here and a dozen-<code>QThread</code>-instances-there, it seems like 100 <code>QThread</code> instances is kinda stupid, even if most of them are \"idle/sleeping/waiting\", right?</p>\n\n<p>So, is there a cut-off?  \"39-threads\" is \"reasonable\", but \"300-threads\" is \"unreasonable\"?</p>\n\n<p>(Yes, I understand there is a \"default-stack-size-per-thread\", such as \"10MB-per-thread\", so I am limited by virtual memory.  But, really, is it stupid to instantiate 30K threads -- it's a bad design that would ever want such a thing?)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12868693,"title":"Spanning a Header across Two Columns in a QTableView","body":"<p>I have a QTableView. I want three columns to share a common header.</p>\n\n<p>My approach has been to resize column3 to the size of col1+col2+col3, and then resize column2 to size of col1+col2 and resize colmumn1 the same way.</p>\n\n<p>When I attempt to use the resizeSection() method, I end up with the middle column disappearing behind the overlap of the left and right columns.</p>\n\n<p>From my experimenting, this is not a trivial problem.</p>\n\n<p>I have looked at: <a href=\"http://qt-project.org/faq/answer/how_can_i_span_the_headers_in_my_qtableview\" rel=\"nofollow\">http://qt-project.org/faq/answer/how_can_i_span_the_headers_in_my_qtableview</a>\nBut it was only of minimal help, mostly in understanding the problem.</p>\n\n<p>What is the easiest and most straight forward way of accomplishing this?</p>\n"},{"tags":["qt","visual-c++","profiler"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":62,"score":1,"question_id":12499190,"title":"Profiler for Qt Creator + msvc compiler","body":"<p>How to profile a Qt program using Qt creator with msvc compiler?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","plugins","tfs2010"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":150,"score":5,"question_id":10378905,"title":"TFS plugin for \"Qt Creator\"","body":"<p>Are there any TFS plugins available for the <strong>qt creator</strong> IDE?</p>\n"},{"tags":["qt","rendering"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12840944,"title":"Different rendering speed Qt widgets","body":"<p>I'm building an app (in Qt) that includes a few graphs in it which are dynamic (meaning refreshes to new values rapidly), and gets there values from a background thread. </p>\n\n<p>I want the first graph, whose details are important refreshing at one speed (100 Hz) and 4 other graphs refreshing in lower speed (10Hz).</p>\n\n<p>The problem is, that when I'm refreshing them all at the same rate (100 Hz) the app can't handle it and the computer stucks, but when the refresh rate is different the first signal gets artifacts on it (comparing to for example running them all an 10Hz).</p>\n\n<p>The artifacts are in the form of waves (instead of straight line for example I get a \"snake\").</p>\n\n<p>Any suggestions regarding why it has artifacts (rendering limits I guess) and what can be done about it?</p>\n"},{"tags":["c++","qt","rotation","coordinates","counterclockwise"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":437,"score":0,"question_id":10192651,"title":"Understanding Qt's QTransform rotate function","body":"<p>As a result of <a href=\"http://stackoverflow.com/questions/10186102/determining-the-correct-origin-to-rotate-a-qpolygonf-around\">this question</a>, I'd like to understand more about Qt's <code>QTransform::rotate</code> function. <a href=\"http://qt-project.org/doc/qt-4.8/qtransform.html#rotate\" rel=\"nofollow\">In the documentation</a>, it says:</p>\n\n<blockquote>\n  <p>QTransform &amp; QTransform::rotate ( qreal angle, Qt::Axis axis = Qt::ZAxis )</p>\n  \n  <p>Rotates the coordinate system counterclockwise by the given angle about the specified axis and returns a reference to the matrix.</p>\n  \n  <p>Note that if you apply a QTransform to a point defined in widget coordinates, the direction of the rotation will be clockwise because the y-axis points downwards.</p>\n  \n  <p>The angle is specified in degrees.</p>\n</blockquote>\n\n<p>From my previous question, I learned that to rotate a <code>QPolygonF</code> clockwise, I must actually rotate it 90 degrees counter-clockwise, according to the <code>rotate</code> function:</p>\n\n<pre><code>QPolygonF original = QPolygonF() &lt;&lt; QPoint(0, 1) &lt;&lt; QPoint(4, 1) &lt;&lt; QPoint(4, 2) &lt;&lt; QPoint(0, 2);\nQTransform transform = QTransform().translate(2, 2).rotate(90).translate(-2, -2);\nQPolygonF rotated = transform.map(original);\nqDebug() &lt;&lt; rotated;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>QPolygonF(QPointF(3, 0) QPointF(3, 4) QPointF(2, 4) QPointF(2, 0) ) \n</code></pre>\n\n<p>E.g. for this rectangle:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Go9bn.png\" alt=\"original rectangle rotation\"></p>\n\n<p>To rotate to here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/1atXJ.png\" alt=\"new rectangle rotation\"></p>\n\n<p>Why is this? Why does the documentation say that my call to <code>QTransform::rotate</code> is actually causing a clockwise rotation when I believe I'm not in \"widget coordinates\" - there are no widgets involved here.</p>\n"},{"tags":["qt","import","glew"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12921543,"title":"How to import glew library to QT","body":"<p>I want to ask if anybody could help with importing glew library to QT 4.7 on windows 7.\nI visited glew website and downloaded glew library, copied glew32.dll to my system32 folder. But I dont know what to do next. Qt does not recognize glew wehen i try to include it. </p>\n"},{"tags":["qt","gui","qt-creator","signals-slots"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1378,"score":1,"question_id":6735486,"title":"QT: No Such Slot","body":"<p>Problem is that I keep getting the 'No Such Slot' runtime error in Qt Creator every time I launch a 'settings' window from my main window. I've found Qt to be quite counter-intuitive so far and this slots 'n signals concept seems a bit of a stretch from simply passing vars or function calls. Basically, I have menu with a settings option, that when clicked, opens a settings window which needs to grab a double from the user and update a var in the main window.</p>\n\n<p>SettingsWindow.h</p>\n\n<pre><code>class SettingsWindow : public QWidget\n{\n      Q_OBJECT\n  public:\n      SettingsWindow(QWidget *parent = 0);\n  signals:\n      void ValChanged(double newVal);\n  public slots:\n      void Accept();\n  private:\n      QLineEdit *le1;\n};\n</code></pre>\n\n<p>The settings window has an accept button which calls Accept() which emits the ValChanged signal with newVal set as the user input in le1 as a double.</p>\n\n<p>SettingsWindow.cpp</p>\n\n<pre><code>void SettingsWindow::Accept(){\n    emit ValChanged(le1-&gt;text().toDouble());\n    this-&gt;close();\n}\n</code></pre>\n\n<p>This settings window is called by the application's main window: MainWindow</p>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n      Q_OBJECT  \n  public:\n      MainWindow(QWidget *parent = 0);\n  public slots:\n      void SetVal(double x);\n  private slots:\n      void NewWindow();\n  private:\n      double theVal;\n};\n</code></pre>\n\n<p>This main window has a menu which one would select settings from. This creates a new window with a field for one to enter a number.</p>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>void MainWindow::NewWindow()\n{\n    SettingsWindow *MySettings=new SettingsWindow(this);\n    QObject::connect(MySettings, SIGNAL(ValChanged(double)), this, SLOT(SetVal(double)));\n    MySettings-&gt;show();\n    MySettings-&gt;raise();\n}\n\nvoid MainWindow::SetVal(double x){\n    theVal = x;\n}\n</code></pre>\n\n<p>My hope is that when the settings window is opened, the user can enter a val into the field which then emits the ValChanged Signal which sets theVal to the value specified by the user. Most of the time I saw an issue with people not including Q_OBJECT macro, but I've included it both times. Any suggestions on why this doesn't work?</p>\n"},{"tags":["c++","qt","lnk2019"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12916860,"title":"Non-class method in Qt ( with qtcreator ) unresolved external symbol","body":"<p>I have an application that was built without problems in Linux, now I'm trying to compile it against Windows, I created a .pro file specially for compiling it in windows.</p>\n\n<p>I use a pseudo-class ( just a namespace with a buch of methods, but without a class statement so I can use it without creating an object ) that's working just fine in Linux, but \nwhen I try to compile against windows I get an 'unresolved external symbol' throughout all the code where this pseudo-class's being used.</p>\n\n<p>The pseudo-class goes like this:</p>\n\n<pre><code>namespace foo {\n   bool method_bar();\n}\n</code></pre>\n\n<p>Then I use it like this: </p>\n\n<pre><code>foo:method_bar(); \n</code></pre>\n\n<p>Pretty straight-forward, somewhat like static methods. </p>\n\n<p>Before somebody asks me, why not use static methods in first place; I have some special situations in which I cannot use these methods as static. That's why I buit the methods directly under the namespace.</p>\n\n<p>So, at my .PRO file, I added the .h and .cpp files from my pseudo-class like this:</p>\n\n<pre><code> HEADERS += \\\n       ....\n       include/foo.h\n       ....\n\n\n    SOURCES += \\\n       ....\n       include/foo.cpp\n       ----\n</code></pre>\n\n<p>Although it includes the files in my projects, it's throwing that LNK2019: unresolved external symbol error.</p>\n\n<p>I'm no beginner with programming, but I'm a beginner with Qt. </p>\n\n<p>Any help will be deeply appreciated. </p>\n\n<p>ps: forgive my English mistakes.</p>\n"},{"tags":["linux","multithreading","qt","opengl","xcb"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":123,"score":6,"question_id":12919093,"title":"Qt Threading Issues in Linux","body":"<p>I have been developing with Qt for some time now on my project, and we are starting to move to a more thread-oriented design. Upon moving some GL rendering widgets to other threads I have discovered some very weird behavior. It appears that if a GL Widget begins updating from another thread (boost thread or QThread) before a widget that accepts user input (such as a QTextEdit) grabs focus, I get XCB crashes that look like:</p>\n\n<pre><code>[xcb] Too much data requested from _XRead\n[xcb] This is most likely caused by a broken X extension library\n[xcb] Aborting, sorry about that.\nhypnotizer: ../../src/xcb_io.c:735: _XRead: Assertion ‘!xcb_xlib_too_much_data_requested’ failed.\n</code></pre>\n\n<p>To test this out, I actually can make a simple modification to the GLHypnotizer demo to reproduce the crash. That demo can be found here: <a href=\"http://qt-project.org/doc/qt-4.8/demos-glhypnotizer.html\" rel=\"nofollow\">http://qt-project.org/doc/qt-4.8/demos-glhypnotizer.html</a> [qt-project.org]</p>\n\n<p>If I add the line ‘mdiArea.addSubWindow(new QTextEdit(this));’ at around line 313 (before the call to newThread()), then when the demo starts there will be a QTextEdit and a GL Hypnotizer Widget. If I then click on the QTextEdit to grab focus I will get the above crash every time.</p>\n\n<p>Can anyone reproduce the error on there Linux install using the above instructions? Has anyone encountered these types of issues on Linux using Qt and threading before?</p>\n\n<p>Note: I am using Ubuntu 12 and this crash happens in VirtualBox and non VirtualBox Ubuntu installations</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12920336,"title":"I'm trying to figure out how to use threads in a simple Qt gui application","body":"<p>In the simple example code I have, there is a start and stop button and a counter.  When you press start, a thread is created and it increments the counter until you press stop.  The click events are all working, but the thread itself does not start when it is called from dialog.cpp and the counter never increments.  Any ideas why??</p>\n\n<p>The code is from this guy's tutorial exactly as he did it here, and his worked: <a href=\"http://www.voidrealms.com/viewtutorial.aspx?id=79\" rel=\"nofollow\">http://www.voidrealms.com/viewtutorial.aspx?id=79</a></p>\n\n<p>dialog.h</p>\n\n<pre><code>#ifndef DIALOG_H\n#define DIALOG_H\n\n#include \"mythread.h\"\n#include &lt;QDialog&gt;\n\nnamespace Ui {\nclass Dialog;\n}\n\nclass Dialog : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    explicit Dialog(QWidget *parent = 0);\n    ~Dialog();\n    MyThread *mThread;\n\nprivate:\n    Ui::Dialog *ui;\n\npublic slots:\n    void onNumberChanged(int);\n\nprivate slots:\n    void on_pushButton_clicked();\n    void on_pushButton_2_clicked();\n};\n\n#endif // DIALOG_H\n</code></pre>\n\n<p>dialog.cpp</p>\n\n<pre><code>#include \"dialog.h\"\n#include \"ui_dialog.h\"\n\nDialog::Dialog(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Dialog)\n{\n    ui-&gt;setupUi(this);\n\n    mThread = new MyThread(this);\n    connect(mThread,SIGNAL(NumberChanged(int)), this, SLOT(onNumberChanged(int)));\n}\n\nDialog::~Dialog()\n{\n    delete ui;\n}\n\nvoid Dialog::onNumberChanged(int Number){\n    ui-&gt;label-&gt;setText(QString::number(Number));\n}\n\nvoid Dialog::on_pushButton_clicked()\n{\n    mThread-&gt;start();\n}\n\nvoid Dialog::on_pushButton_2_clicked()\n{\n    mThread-&gt;Stop = true;\n}\n</code></pre>\n\n<p>mythread.h</p>\n\n<pre><code>#ifndef MYTHREAD_H\n#define MYTHREAD_H\n\n#include &lt;QThread&gt;\n\nclass MyThread : public QThread\n{\n    Q_OBJECT\npublic:\n    explicit MyThread(QObject *parent = 0);\n    void run();\n    bool Stop;\n\nsignals:\n    void NumberChanged(int);\n\npublic slots:\n\n};\n\n#endif // MYTHREAD_H\n</code></pre>\n\n<p>mythread.cpp</p>\n\n<pre><code>#include \"mythread.h\"\n#include &lt;QtCore&gt;\n\nMyThread::MyThread(QObject *parent) :\n    QThread(parent)\n{\n}\n\n\nvoid MyThread::run() {\n\n    for (int i = 0; i &lt; 100000; i++) {\n        QMutex mutex;\n        mutex.lock();\n        if (this-&gt;Stop) break;\n        mutex.unlock();\n\n        emit NumberChanged(i);\n    }\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["windows","qt","opencv"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12916983,"title":"OpenCV 2.4.2 with QT","body":"<p>HelloI'm actually stuck with utilisation of OpenCV 2.4.2 and QT. </p>\n\n<p>I can compile my project, but when i run it through QT, i've not the good windws.</p>\n\n<p>I run QTCreator last version under Windows</p>\n\n<p>Here what i did to use OpenCV 2.4.2 with QT :</p>\n\n<ol>\n<li>Download OpenCV and extract it to C:/</li>\n<li>Install MinGW and add path variable</li>\n<li><p>Modify my .pro file like this : </p>\n\n<p>TEMPLATE = app</p>\n\n<p>CONFIG += console</p>\n\n<p>CONFIG -= qt</p>\n\n<p>INCLUDEPATH = C:\\Users\\Erowlin\\Desktop\\OpenCv_QT\\opencv\\include</p>\n\n<p>LIBS = -LC:\\Users\\Erowlin\\Desktop\\OpenCv_QT\\opencv\\lib -l opencv_core242 -l opencv_highgui242</p>\n\n<p>SOURCES += main.cpp</p></li>\n</ol>\n\n<p>I actually can compile with no error, but when i run my program, i got this Window : <img src=\"http://i.stack.imgur.com/4xN2e.png\" alt=\"enter image description here\"></p>\n\n<p>When i execute my program manually, i've no problem, everything work like a charm. </p>\n\n<p>Someone already got the same problem? </p>\n\n<p>Thank you</p>\n"},{"tags":["c++","qt","events","text-editor","paint"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12332009,"title":"Restore TextCursor after paintEvent","body":"<p>I am using a subclassed <code>QPlainTextEditor</code>, and I'm using a custom <code>paintEvent</code> to highlight every second row. Now, the painting works, but the <code>TextCursor</code> disappears, and to make things worse, I can't see the typed letters, even in the rows that are not supposed to be painted.\nI'm using \n<code>QPainter painter((QAbstractScrollArea*)(viewport()));</code> as the painter and \n<code>painter.fillRect(...);</code> for painting the row.\nAre these the correct functions for this?</p>\n\n<p>Thanks in advance for the help.</p>\n"},{"tags":["qt","parent-child","connect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12341926,"title":"qt connect cilds pushbutton","body":"<p>I have</p>\n\n<pre><code>class MainWindow : public QMainWindow  { \n\n    Q_OBJECT\n\n  public:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\n  private slots:\n    void getData();\n\n  private:\n    Ui::MainWindow *ui;\n    Dialog  *second;\n};\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class Dialog: public QDialog  {\n   Q_OBJECT\n\n  public:\n    explicit Dialog(QWidget *parent = 0); QDialog * dialog;\n\n    QPushButton *pushButton;\n    QPushButton *pushButton_2;\n\n};\n</code></pre>\n\n<p>and I can connect pushbuttons in class Dialog with function getData() in class MainWindow (Dialog is a child of class Mainwindow)</p>\n\n<p>I tried </p>\n\n<pre><code>connect(*second-&gt;pushButton, SIGNAL(clicked()), this,\n                             SLOT(getData()));\n</code></pre>\n\n<p>but I got </p>\n\n<pre><code>error: no matching function for call to\n‘MainWindow::connect(QPushButton&amp;, const char [11], MainWindow* const, const char [11])’\n</code></pre>\n\n<p>How do i connect them?</p>\n"},{"tags":["c++","xml","qt","xml-parsing"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":117,"score":4,"question_id":12913881,"title":"Parse a xml file using c++ & Qt","body":"<p>I try to parse a XML-file with the following structure:</p>\n\n<pre><code>&lt;I&gt;\n  &lt;C c=\"test1\"&gt;\n     &lt;H&gt;&lt;Pd pd=\"123\"/&gt;\n        &lt;f p=\"789\" r=\"456\"/&gt;\n     &lt;/H&gt;\n     &lt;M m=\"test2\"&gt;\n       &lt;H&gt;&lt;Pd pd=\"3456\"/&gt;&lt;R r=\"678\"/&gt;\n       &lt;/H&gt;\n     &lt;/M&gt;\n  &lt;/C&gt;\n  &lt;T t=\"0\"&gt;\n     &lt;T2&gt;123&lt;/T2&gt;\n     &lt;T3&gt;2345&lt;/T3&gt;\n  &lt;/T&gt;\n  &lt;T t=\"1\"&gt;\n     &lt;T1&gt;23456&lt;/T1&gt;\n     &lt;T2&gt;23&lt;/T2&gt;\n     &lt;T3&gt;123&lt;/T3&gt;\n     &lt;T4&gt;456&lt;/T4&gt;\n  &lt;/T&gt;\n&lt;/I&gt;\n</code></pre>\n\n<p>I have a List of numbers e.g. 0 and 1 and a search pattern e.g. '23'\nNow i want to search the XML-file for all T-nodes with t=\"a number from my list\" where one of the child nodes(T1, T2,T3) contain the search pattern.</p>\n\n<p>Can anybody help me getting started with this problem? I want to use the Qt functions but do not really know how to begin.</p>\n\n<p>I'm happy about every hint!</p>\n"},{"tags":["qt","embedded-help"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12406482,"title":"Embedding HTML Help in a QT application","body":"<p>I write an application, with Qt and it has a pretty big help system, which is including images, tables, links, etc... This help system is stored on a disk in a specific location as simple HTML files, together with the images and using a QWebkit control it's loaded in the application on request, and the user can browse it, etc...</p>\n\n<p>Now, I would like to move away from my \"in-house, file based\" help solution, meaning: I want a help system which still will use my HTML files, but without the need to ship 100 files to the user, only 1 or 2.</p>\n\n<p>I am aware of Qt's help system ( <a href=\"http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html\" rel=\"nofollow\">http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html</a> ) but I am wondering if there are any other solutions providing the same or similar functionality. </p>\n\n<p>What I am looking for:</p>\n\n<ol>\n<li>take all the HTML files and create one of them, including images</li>\n<li>reader possibly embeddable in application, but separate application is good too.</li>\n<li>multiplatform</li>\n<li>support for context sensitive help (ie: \"Click on what's this\", help shows relevant page)</li>\n</ol>\n"},{"tags":["c++","qt","gui","translation","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12917149,"title":"code not updating when language changed in c++ QT GUI","body":"<p>i have a program that runs a multi lang. platform. When the user selects a language it changes the enitire language of the program mainly the strings and saves it for next time the user uses the application. The problem is if the user updates the language and doesnt shut down the application the language for the plot doesnt update. the way it goes is my selectLang. in in my main and i point to mainApp wich then points to lang class which has the currentlang. see code below\nmain.cpp</p>\n\n<pre><code>    void MainWindow:: SelectLang(int lang)\n{\n    m_mainApp-&gt;m_lang-&gt;currentLang=lang;\n    ui-&gt;m_actionEnglish-&gt;setChecked(lang==0);\n    ui-&gt;m_actionFrench-&gt;setChecked(lang==1);\n    ui-&gt;m_actionItalian-&gt;setChecked(lang==3);\n    ui-&gt;m_actionSpanish-&gt;setChecked(lang==2);\n    ui-&gt;m_actionRussian-&gt;setChecked(lang==4);\n    ui-&gt;m_actionGerman-&gt;setChecked(lang==5);\n    ui-&gt;m_actionPortuguese-&gt;setChecked(lang==6);\n    UpgradeLang();\n}\n</code></pre>\n\n<p>my cplot file</p>\n\n<pre><code> setAxisTitle(yLeft,(m_main-&gt;m_lang-&gt;strTab[m_main-&gt;m_lang-&gt;currentLang][45]));//this is temp c but wont translate when language changes\n</code></pre>\n\n<p>m_main is the MainAPP </p>\n\n<p>im entry level and new QT GUI too, if you need extra info i will gladly provide</p>\n"},{"tags":["c++","qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12893904,"title":"Automatically refreshing a QTableView when data changed","body":"<p>I have written a custom data model to be displayed with several QTableViews.</p>\n\n<p>Technically, everything works fine: my views show the changes made from my model. My data model is editable, and the <code>setData()</code> method does emit the <code>dataChanged()</code> signal and returns <code>true</code> on successful edition.</p>\n\n<p>However, my problem is that I have to move my mouse over a <code>QTableView</code> for it to show the actual change, while I would like all views to show the changes when they were made, without needing to interact with the views in order for them to be updated.</p>\n\n<p>Any idea? Thanks,</p>\n\n<hr/>\n\n<p>It may be relevant to mention that I do not use the default <code>Qt::EditRole</code> role to edit data, but rather a custom enum value (named <code>ActiveRole</code>).</p>\n\n<p>Here is what I am seeking: my data model contains properties on how to display data, used to generate style sheets that are fed to the viewS.</p>\n\n<p>Thus, when altering the model, for each view, all its items are impacted, which is why the <code>dataChanged()</code> signal is sent with indices covering all cells.</p>\n\n<p>I also tried to emit <code>layoutChanged()</code>, but it does not seem to change the behavior in my case.</p>\n\n<p>Here is an excerpt of the <code>setData()</code> method:</p>\n\n<pre><code>bool DataModel::setData(QModelIndex const&amp; idx, QVariant const&amp; value, int role)\n{\n  if (ActiveRole == role)\n  {\n    // Update data...\n\n    QModelIndex topLeft = index(0, 0);\n    QModelIndex bottomRight = index(rowCount() - 1, columnCount() - 1);\n\n    emit dataChanged(topLeft, bottomRight);\n    emit layoutChanged();\n\n    return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Here is a sample of the <code>data()</code> method:</p>\n\n<pre><code>QVariant DataModel::data(QModelIndex const&amp; idx, int role) const\n{\n  if (ActiveRole == role)\n  {\n    boost::uuids::uuid id;\n\n    return qVariantFromValue(id);\n  }\n\n  return QVariant();\n}\n</code></pre>\n\n<p>And <code>flags()</code> does indicate an editable model:</p>\n\n<pre><code>Qt::ItemFlags DataModel::flags(QModelIndex const&amp; idx) const\n{\n  if (false == idx.isValid())\n  {\n    return Qt::ItemIsEditable;\n  }\n\n  return QAbstractTableModel::flags(idx) | Qt::ItemIsEditable;\n}\n</code></pre>\n\n<p>I have a custom delegate, which relies heavily on this <a href=\"http://stackoverflow.com/a/1956781/948128\">SO thread</a> for overriding the <code>paint</code> and the <code>sizeHint</code> methods in order to draw a <code>QTextDocument</code>. Also, it provides the content of the <code>ActiveRole</code> to the editor in <code>setEditorData</code>, and calls <code>DataMode::setData</code> in <code>setModelData</code>:</p>\n\n<pre><code>void DataModelDelegate::setEditorData(QWidget* editor, QModelIndex const&amp; idx) const\n{\n  auto active = qVariantValue&lt;boost::uuids::uuid&gt;(idx.data(ActiveRole));\n  static_cast&lt;DataModelEditor*&gt;(editor)-&gt;setActive(active);\n}\n\nvoid DataModelDelegate::setModelData(QWidget* editor, QAbstractItemModel* model, QModelIndex const&amp; idx) const\n{\n  auto active = static_cast&lt;DataModelEditor*&gt;(editor)-&gt;getActive();\n  model-&gt;setData(idx, qVariantFromValue(active), ActiveRole);\n}\n</code></pre>\n\n<p>In the <code>createEditor()</code>, I plug a signal from the editor to a slot of my delegate for committing data:</p>\n\n<pre><code>QWidget* DataModelDelegate::createEditor(QWidget* parent, QStyleOptionViewItem const&amp; option, QModelIndex const&amp; idx) const\n{\n  auto editor = new DataModelEditor(parent);\n  connect(editor, SIGNAL(activeItem()), this, SLOT(commitEditorData()));\n  return editor;\n}\n</code></pre>\n\n<p>When clicking on an item, the editor triggers the <code>activeItem</code> signal; the connected slot <code>commitEditorData</code> in turn raises the <code>commitData</code> signal with the editor in argument.</p>\n\n<p>So all my views use these custom delegate, editor, and data model. The view that I am interacting with does show the change immediately, but the other views need to have the mouse hovering over them to show changes as well.</p>\n"},{"tags":["visual-studio-2008","qt","static","linker-error"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2527,"score":0,"question_id":2705618,"title":"Static linking in Qt --> link errors in VS 2008","body":"<p>Today I dediced to make static linking in Qt. I used <a href=\"http://qtnode.net/wiki/Qt4_with_Visual_Studio_and_static_C_runtime\" rel=\"nofollow\">Qt4 with Visual Studio and static C runtime</a> article. The 3rd step took quite a long time. When it was finished I opened my project in VS 2008, made <code>Build-&gt;Clean Solution</code> and try to <code>Release</code>. Unfortunately I got link errors:</p>\n\n<blockquote>\n  <p>warning\n  LNK4098: defaultlib 'libcmt.lib'\n  conflicts with use of other libs; use\n  /NODEFAULTLIB:library  </p>\n  \n  <p>error LNK2019: unresolved external\n  symbol \"private: static struct\n  QString::Data QString::shared_null\"\n  (?shared_null@QString@@0UData@1@A)\n  referenced in function \"public:\n  __thiscall QString::QString(void)\" (??0QString@@QAE@XZ)  </p>\n  \n  <p>error LNK2019: unresolved external\n  symbol \"private: static struct\n  QByteArray::Data\n  QByteArray::shared_null\"\n  (?shared_null@QByteArray@@0UData@1@A)\n  referenced in function \"public:\n  __thiscall QByteArray::QByteArray(void)\"\n  (??0QByteArray@@QAE@XZ)  </p>\n  \n  <p>error LNK2001: unresolved external symbol\n  \"private: static struct\n  QByteArray::Data\n  QByteArray::shared_null\"\n  (?shared_null@QByteArray@@0UData@1@A)  </p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)</p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)  </p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)  </p>\n  \n  <p>error LNK2019: unresolved external symbol \"public: static enum QSysInfo::WinVersion const QSysInfo::WindowsVersion\" (?WindowsVersion@QSysInfo@@2W4WinVersion@1@B) referenced in function _WinMain@16</p>\n</blockquote>\n\n<p>What i did wrong? Help to fix this pls.</p>\n"},{"tags":["c++","file","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":12883060,"title":"Read and write files in Qt C++","body":"<p>I'm new to the programming in Qt. </p>\n\n<p>I'm doing a program consisting of a main screen and 3 windows, is based on driving a truck radio controlled by the parallel port. </p>\n\n<p>My problem is that in the second window, I enter certain values, and stored in a txt file (I checked and stored properly).  The problem is that when I go to the third window, which is designed to read and print the data generated file, do not appear, but until I leave and get back into the program. </p>\n\n<p>Although after saving the data, I close the file and then I open it to read it, it's like not close at that time, but only when I exit the program. </p>\n\n<p>Below attached program files.</p>\n\n<p><a href=\"http://www.mediafire.com/file/58z6f856oj91orp/proyecto.rar\" rel=\"nofollow\">Link!</a></p>\n\n<p>Thank you very much and sorry for my english!</p>\n\n<p>Note: Do not forget to enter with user permission to run the program (work in Ubuntu), as it handles PC ports.</p>\n"},{"tags":["qt","boost"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12901621,"title":"Qt equivalent of boost::shared_from_this?","body":"<p>I have some classes that derive from boost::shared_from_this - how can I perform the equivalent in Qt? (without reimplementing a similar shared_from_this; I'd prefer a no-inheritance solution)</p>\n"}]}
{"total":16228,"page":9,"pagesize":100,"questions":[{"tags":["c++","xml","qt","qt4","xsl-fo"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":358,"score":3,"question_id":5911055,"title":"Is there a free C++ xsl-fo to PDF engine?","body":"<p>Is there an xsl-fo to PDF engine written in C++ that can be used in QT?</p>\n\n<p>The engines I have come across so far are in java.</p>\n"},{"tags":["qt","qt4","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":792,"score":2,"question_id":5802085,"title":"qml textedit with slider","body":"<p>Does anyone know how to create a textEdit that can wrap using a slider?\ni tried to do it but i got a problem with binding loop...</p>\n\n<p>code: </p>\n\n<pre><code>Flickable\n    {\n        id: flick\n        anchors.fill:parent\n        contentWidth: edit.paintedWidth\n        contentHeight: edit.paintedHeight\n        clip: true\n        interactive :false\n        contentY: slider.y\n        function ensureVisible(r)\n        {\n            if (contentY &gt;= r.y)\n                contentY = r.y;\n            else if (contentY+height &lt;= r.y+r.height)\n                contentY = r.y+r.height-height;\n        }\n\n        TextEdit\n        {\n            id: edit\n            width: flick.width*0.9\n            height: flick.height\n            focus: true\n            wrapMode: TextEdit.Wrap\n            onCursorRectangleChanged: flick.ensureVisible(cursorRectangle)\n            text: defaultText\n            color: textColor\n            font.family: fontFamily\n            font.pointSize: fontSize\n            font.bold: bold\n            font.italic: italic\n            font.overline: overline\n            font.underline: underline\n            horizontalAlignment: alignment\n            selectByMouse:true\n\n        }\n    }\n\n    Rectangle\n    {\n        id: container\n\n        height: multiLineEdit.height\n        width:multiLineEdit.width*0.1\n        anchors.right:multiLineEdit.right\n        anchors.top:multiLineEdit.top\n        radius: 4\n        opacity: 0.7\n        smooth: true\n        gradient: Gradient {\n            GradientStop { position: 0.0; color: \"gray\" }\n            GradientStop { position: 1.0; color: \"white\" }\n        }\n\n        Rectangle {\n            id: slider\n\n            property int value: Math.round(container.y*100/(slider.width-container.width))\n            property int tmpVal: 0\n\n            x: 1\n            y: flick.visibleArea.yPosition * flick.height//1\n            width: parent.width\n\n            //The height will change according to the flickable area (the text area)\n            height: (flick.visibleArea.heightRatio &gt; 1) ? (container.height) :(flick.visibleArea.heightRatio*container.height)\n            radius: 2\n            smooth: true\n\n            color:\"black\"\n\n                   MouseArea {\n                anchors.fill: parent\n                drag.target: parent; drag.axis: Drag.YAxis\n                drag.minimumY: 0; drag.maximumY: container.height - slider.height\n            }\n        }\n\n    } \n</code></pre>\n\n<p>in this way i create a textEdit and a slier at the right side of the textEditBox. the slider is now move according to the text, but it(the slider) doe's not control the textEdit box... how i can add this action? (in my way it bring a binding loop)</p>\n"},{"tags":["qt","parsing","double","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12911723,"title":"Qt QString::toDouble() produces inexact results","body":"<p>I have the following code in my application whereby I need to parse a string and convert it to double</p>\n\n<pre><code>int i = ((QString)\"294.4\").toDouble() * 100;\n</code></pre>\n\n<p>I am supposed to see the value 29440 as a value of i. However, every time I do so, I get the value of 29439. I am not sure why it is happening as it does not happen always. e.g. 294.1,294.2,294.3 works fine. 294.5 also works fine.</p>\n\n<p>I understand that interpreting floating point numbers should be an issue and undetermined behavior can be expected but this one seems to be a very simple case.</p>\n\n<p>Can someone please guide me on how to reliably parse the values so that it always gives me the exact value represented by its string equivalent?</p>\n"},{"tags":["qt","qt4","qt-creator","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":478,"score":3,"question_id":9455617,"title":"Adding user built widgets to a ui file in qt creator","body":"<p>The qt designer portion of qt creator has many built in widgets.  But let's say I want to add custom widgets created in the same qt project to the ui file of the window.  By taking these steps:</p>\n\n<ol>\n<li>Create a new Qt GUI application with a main window, we'll call the window A.</li>\n<li>Add a new widget to the project, the widget just uses standard UI components, say buttons.  We'll call this widget B.</li>\n<li>Add an instance of widget B to window A.</li>\n</ol>\n\n<p>Now, I know one way to do that, and that is:</p>\n\n<ol>\n<li>In window A, add a blank widget (or widget container, from the containers section of the list of possible widgets.  We'll call this widget C.</li>\n<li>Promote it (widget C) to widget B.</li>\n</ol>\n\n<p>However, the problem with this is that Qt Creator's designer treats it like a generic QWidget.  And as such, you can't do things like add it to a splitter, or connect signals/slots that are specific to the widget.</p>\n\n<p>So is there any other ways to add widget B to window A in the ui file using qt creator?  Thank you.</p>\n"},{"tags":["python","qt","pyqt","qwebview","qwebelement"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1047,"score":2,"question_id":1243064,"title":"Qt Image From Web","body":"<p>I'd like PyQt to load an image and display it from the web. Dozens of examples I've found online did not work, as they are for downloading the image.</p>\n\n<p>I simply want to view it.</p>\n\n<p>Something like</p>\n\n<pre><code>from PyQt4.QtWebKit import *\nweb = QWebView()\nweb.load(QUrl(\"http://stackoverflow.com/content/img/so/logo.png\"))\n</code></pre>\n"},{"tags":["c++","visual-studio-2010","qt","visual-studio-debugging","qbytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12209046,"title":"How do I see the contents of Qt objects QByteArray during debugging?","body":"<p>My program use some variables of type QByteArray to contain data (bytes). That bytes maybe are special characters like '\\0', 1, ... So I cannot see all elements after special character when debugging. If I use std::vector, I can see all elements. I must use QByteArray but I cannot see all element of this variable when debugging. Help me, plz!\nThanks!</p>\n\n<p>Example: QByteArray bytes(4, '\\0');\nNow, if debug, I just see \"\". But I want to see \"'\\0', '\\0', '\\0', '\\0'\" or something like like this.</p>\n\n<p>I also have the same problem with QDateTime. But I resolved by this help: <a href=\"http://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger\" rel=\"nofollow\">http://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger</a></p>\n\n<p>This link may help but this not resolve my problem: <a href=\"http://qt-project.org/wiki/IDE-debug-helpers\" rel=\"nofollow\">http://qt-project.org/wiki/IDE-debug-helpers</a></p>\n\n<p>Example:     </p>\n\n<pre><code>QByteArray ba(\"Hello\"); //debuging, see: ba = \"Hello\"     \nba.append('\\0');     \nba.append(\"a message\"); //we just see: ba = \"Hello\"   \n</code></pre>\n"},{"tags":["qt","webkit","qml","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12913759,"title":"Using QtWebKit with Qt5 beta","body":"<p>I have installed the beta version of Qt5 on a Mac and am trying to add a Web View component to another qml type.  However my program is failing with the error: <code>module \"QtWebKit\" is not installed</code>.</p>\n\n<p>I've added the following to my .pro file:</p>\n\n<blockquote>\n  <p>QT += webkit</p>\n</blockquote>\n\n<p>and a suitable include statement to my .qml file:</p>\n\n<blockquote>\n  <p>include QtQuick 2.0<br>\n  include QtWebKit 3.0</p>\n</blockquote>\n\n<p>Could anyone suggest what may be going wrong?</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1688,"score":5,"question_id":4927860,"title":"How to pass variables to slot methods in QT?","body":"<p>I'm making a little chat messenger program, which needs a list of chat channels the user has joined. To represent this list graphically, I have made a list of <code>QPushButtons</code>, which all represent a different channel. These buttons are made with the following method, and that's where my problem kicks in:</p>\n\n<pre><code>void Messenger::addToActivePanels(std::string&amp; channel)\n{\n    activePanelsContents = this-&gt;findChild&lt;QWidget *&gt;(QString(\"activePanelsContents\"));\n    pushButton = new QPushButton(activePanelsContents);\n    pushButton-&gt;setObjectName(\"pushButton\");\n    pushButton-&gt;setGeometry(QRect(0, 0, 60, 60));\n    pushButton-&gt;setText(\"\");\n    pushButton-&gt;setToolTip(QString(channel.c_str()));\n    pushButton-&gt;setCheckable(true);\n    pushButton-&gt;setChecked(false);\n    connect(pushButton, SIGNAL(clicked()), this, SLOT(switchTab(channel)));\n}\n</code></pre>\n\n<p>(activePanelContents is a QWidget that holds the list.)</p>\n\n<p>The point is that each button should call the <code>switchTab(string&amp; tabname)</code> method when clicked, including the specific channel's name as variable. This implementation doesn't work though, and I haven't been able to find out how to properly do this.</p>\n"},{"tags":["c++","qt","opengl","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":424,"score":0,"question_id":10227614,"title":"QML, Qt 4.8: How to enable openGl and Chromeless at the same time?","body":"<p>So here is my main</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtOpenGL&gt;\n#include &lt;QDeclarativeView&gt;\n#include &lt;QDeclarativeEngine&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    // Depending on which is the recommended way for the platform, either use\n    // opengl graphics system or paint into QGLWidget.\n    #ifdef SHADEREFFECTS_USE_OPENGL_GRAPHICSSYSTEM\n        QApplication::setGraphicsSystem(\"opengl\");\n    #endif\n\n        QApplication a(argc, argv);\n\n    #ifndef SHADEREFFECTS_USE_OPENGL_GRAPHICSSYSTEM\n        QGLFormat format = QGLFormat::defaultFormat();\n        format.setSampleBuffers(false);\n        format.setSwapInterval(1);\n        QGLWidget* glWidget = new QGLWidget(format);\n        glWidget-&gt;setAutoFillBackground(false);\n    #endif\n\n        MainWindow w(glWidget);\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>and files I use to open QML</p>\n\n<pre><code>#include \"mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent)\n{\n    setAttribute(Qt::WA_OpaquePaintEvent);\n    setAttribute(Qt::WA_NoSystemBackground);\n  setAttribute(Qt::WA_TranslucentBackground);\n  setStyleSheet(\"background:transparent;\");\n  qmlRegisterType&lt;QGraphicsBlurEffect&gt;(\"Effects\",1,0,\"Blur\");\n  /* turn off window decorations */\n  setWindowFlags(Qt::FramelessWindowHint);\n\n\n\n  ui = new QDeclarativeView;\n  ui-&gt;setSource(QUrl(\"qrc:/assets/ui.qml\"));\n\n // ui-&gt;setViewportUpdateMode(QGraphicsView::FullViewportUpdate);\n\n\n  setCentralWidget(ui);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QtDeclarative&gt;\n#include &lt;QtDeclarative/QDeclarativeView&gt;\n\nnamespace Ui {\n    class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    QDeclarativeView *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>I try to enable Open GL But I see nothing, when I comment lines in main that in my opinion had to do the job i SEE MY CHROMELESS WINDOW BUT also </p>\n\n<pre><code>Qml debugging is enabled. Only use this in a safe environment!\nShaderEffectItem::paint - OpenGL not available \n</code></pre>\n\n<p>What do I do wrong?</p>\n"},{"tags":["qt","qt-creator","mingw32"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1138,"score":3,"question_id":9420825,"title":"How to compile on multiple cores using mingw inside QTCreator","body":"<p>I have a quad-core i7 CPU on my windows desktop. I am trying to get mingw32-make to compile using as many core as possible. I have added -j8 into the \"Make Arguments\" fields under Build Settings->Build Steps. mingw32-make seems to completely ignore the option since I don't get any speed improvement out of that. When I view the CPU usage in task manager, it stays at 13% and I only see one instance of g++ running. </p>\n\n<p>Right now, rebuilding the whole project using mingw takes 3 full minutes. Rebuilding it using MSVC takes only 15 seconds. </p>\n\n<p>For your information, I have enabled the precompiled header option in the project settings. That makes things a lot quicker with VC as well. But I am still yet to see the benefit of precompiled header with mingw. </p>\n\n<p>Please share your comments if you have ever got mingw to compile multiple source files in parallel from QTCreator. Thanks! </p>\n"},{"tags":["qt","scrollbar","qt4.7","qlabel","qscrollarea"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12912257,"title":"QLabel supports word wrap, how to add a scroll bar if text is too long?","body":"<p>I have a QLabel on the dialog, and it can display multi-line text. I want the label stay somewhere relative to its parent (the dialog), and the size is fixed. setGeometry() can make the widget's position and size.</p>\n\n<p>However, when text is too long, it can't be displayed totally. I hope there is a vertial scroll bar to help to show all text, but no horizontal scroll bar.</p>\n\n<p>Now I could add a QScrollArea object in dialog's init function, like this:</p>\n\n<pre><code>  iScroll = new QScrollArea(this);\n  iLabel-&gt;setGeometry(QRect(rect.left, rect.top, rect.Width(), rect.Height())); //rect is the place that the label should be in\n  iScroll-&gt;setGeometry(QRect(rect.left, rect.top, rect.Width(), rect.Height()));\n  iScroll-&gt;setWidget(iLabel);\n  iScroll-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n  iScroll-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOn);\n  iScroll-&gt;show();\n</code></pre>\n\n<p>But the label is not perfectly embedded in the scroll area, for one thing, the label has a frame, so even when the text is not so long, the scroll bar can still be dragged. Another thing, the vertical scroll bar takes some place, so a whole line can't be displayed.</p>\n\n<p>Could any one tell me how to adjust these widgets' size, or there is another way to add scroll bar? I'm working on windows with Qt4.7</p>\n"},{"tags":["c++","qt","mfc","atl","algorithmic-trading"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":307,"score":6,"question_id":10709648,"title":"Adding MFC support to a Qt project","body":"<p>I have a Qt project and would like to use an external library that includes \"afxstr.h\".\nProblem is that whenever I compile after linking to the lib and including their header, I get an error:</p>\n\n<pre><code>#error afxstr.h can only be used in MFC projects.  Use atlstr.h\n</code></pre>\n\n<p>Of course, my project is not an MFC project and I can't use atlstr.h instead because it's not my library.</p>\n\n<p>I'm looking for a quick solution!</p>\n\n<p>I'm using VS2010.</p>\n\n<p>The lib in question is the <a href=\"http://www.interactivebrokers.com/php/apiUsersGuide/apiguide.htm\" rel=\"nofollow\">Interactive Brokers API</a>.</p>\n"},{"tags":["qt","nokia","augmented-reality","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":11356983,"title":"QAugmentedReality on BB10","body":"<p>I want to create augmented reality application on BB10. But there is no 3rd party library is available for BB10. So i am thinking to implement Augmented Reality using QAugmentedReality of Nokia because blackberry said that Qt application will run on BB10.\nIs there any sample AR application in QT so i can run that on BB10 and check if it work or not then i start developing my application.</p>\n"},{"tags":["c++","file","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12895405,"title":"Parsing XML file while it is being written in Qt","body":"<p>I have a process that is writing an XML file. I am writing an application that wants to parse the XML that is being written. The constraint here is that I want to parse the XML as it is being written. The XML is not written entirely all at once, and will be written gradually. How can I accomplish this using Qt? </p>\n"},{"tags":["qt","linux-kernel","notify","inotify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12908817,"title":"Corrupt Console-output after enabling CONFIG_FSNOTIFY and CONFIG_INOTIFY_USER","body":"<p>My problem appears, after activating \"CONFIG_FSNOTIFY\" and \"CONFIG_INOTIFY_USER\" in the kernel. The full kernel config can be found here: <a href=\"http://pastebin.com/vN0DnvVv\" rel=\"nofollow\">http://pastebin.com/vN0DnvVv</a></p>\n\n<p>With the old kernel the output was displayed correctly, but with the new kernel Qt's output (\"Cannot open keyboard input device\") is corrupted - even sometimes the font changes in the console:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9GU1Z.jpg\" alt=\"Screenshot of TerraTerm with Console Problem\"></p>\n\n<p>When redirecting the output with \"./milestone_arm_release &amp;> output.txt\" into a file, this file does not contain any strange letters. Also when starting \"script filename.txt\" before, the output is fine.</p>\n\n<p>This would be the expected output:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZnNdK.jpg\" alt=\"TerraTerm screenshot with expected output\"></p>\n"},{"tags":["c++","qt","qstring","wchar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1096,"score":1,"question_id":8040627,"title":"Convert WCHAR to QString in Qt","body":"<p>Convert WCHAR to QString in Qt.\nPlease help me to implement it to complete this convertion.</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12905791,"title":"Qt implementation of MessageBox","body":"<p>Referencing an earlier question: <a href=\"http://stackoverflow.com/questions/263/gtk-implementation-of-messagebox\">GTK implementation of MessageBox</a></p>\n\n<p>I have a question very much like that one, except substituting Qt for GTK.</p>\n\n<p>As in that question, what is the least I would need to do to show a message dialog using Qt, from an application that is not already a Qt application?</p>\n\n<p>I presume something like the following would need to occur:</p>\n\n<ul>\n<li>Initialize Qt and its event loop</li>\n<li>Install idle callback to invoke dialog</li>\n<li>Quit event loop and finalize Qt when dialog is dismissed.</li>\n</ul>\n"},{"tags":["c++","web-services","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12907876,"title":"Web service returns flags as text values - how to convert to enum","body":"<p>I'm trying to work with flags returned by a web service that was developed in .NET C#.  The flags are returned in a json object as a string separated by commas ex:  <code>roomA,roomB,auditorium</code>.  My Qt c++ app is using an enum with a bit set for each of the flags:</p>\n\n<pre><code>enum AccessMask\n{\n    None = 0,\n\n    roomA                       = 1 &lt;&lt; 1,\n    roomB                       = 1 &lt;&lt; 2,\n    ownerOnly                   = 1 &lt;&lt; 3,\n    workgroup                   = 1 &lt;&lt; 4,\n    department                  = 1 &lt;&lt; 5,\n    auditorium                  = 1 &lt;&lt; 6\n}\n</code></pre>\n\n<p>Is there a better way to set an access mask other than doing many 'if QString.contains()' statements?</p>\n"},{"tags":["c++","qt","class","widget","qwidget"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12904746,"title":"QT Widget Pointer","body":"<p>I'm fairly new to QT and am struggling getting a basic painting example to work. I am creating a game where I instantiate a widget in my main game controller. I want to pass this to multiple different objects so that each object can have its own paintEvent and paint its objects accordingly. (IE, the character would paint seperately, the scenery etc etc)</p>\n\n<p>Here's my 'animated object' header:</p>\n\n<pre><code>class Animated_object: public QWidget {\n\n    public:\n        Animated_object(char * _image_url, QWidget * window);\n        ~Animated_object();\n\n    protected:\n        QImage * get_image();//this will return the image for this object\n        QRect * get_rectangle();//this will return the rectangle of coordinates for this point\n\n\n    protected:\n        virtual void paintEvent(QPaintEvent * event) = 0;\n        virtual void set_image(char * _image_url) = 0;\n\n\n    protected:\n        QWidget * window;\n        char * image_url;//this is the imageurl\n        QImage * image;\n        QRect * rectangle;\n\n};\n</code></pre>\n\n<p>My animated object constructer:</p>\n\n<pre><code>Animated_object::Animated_object(char * _image_url, QWidget * _window) : QWidget(_window) {....}\n</code></pre>\n\n<p>and here is my character header (character inherits from animated_object)</p>\n\n<pre><code>class Character : public Animated_object {\n\n    public:\n        Character(QWidget * _window);   \n        ~Character();\n        void operator()();//this is the operator for the character class -- this is responsible for running the character\n        void set_image(char * _image_url) {};\n        void paintEvent(QPaintEvent * event);\n\n};\n</code></pre>\n\n<p>I instantiate a character by passing the constructor my main widget pointer. So I have another class that can call multiple characters and they would all paint to the same widget (hopefully).</p>\n\n<p>My character paintEvent looks like this:</p>\n\n<pre><code>void Character::paintEvent(QPaintEvent * event) {\n\n    QPainter painter(this);//pass it in window to ensure that it is painting on the correct widget!\n\n    cout &lt;&lt; \"PAINT EVENT \" &lt;&lt; endl;\n    QFont font(\"Courier\", 15, QFont::DemiBold);\n    QFontMetrics fm(font);\n    int textWidth = fm.width(\"Game Over\");\n\n    painter.setFont(font);\n\n    painter.translate(QPoint(50, 50));\n    painter.drawText(10, 10, \"Game Over\");\n\n}\n</code></pre>\n\n<p>It is being called, (I used the std::cout to test that) but is not painting anything...</p>\n\n<p>Finally, here is where my main widget is called.</p>\n\n<pre><code>Hill_hopper::Hill_hopper(): Game(500,500, \"Hill Hopper\") {\n\n    Character * character = new Character(window);\n\n    window-&gt;show();\n    application-&gt;exec();\n\n\n}\n</code></pre>\n\n<p>And here's the game constructor:</p>\n\n<pre><code>Game::Game(int _height, int _width, char * title): height(_height), width(_width) {\n\n\n    int counter = 0;\n    char ** args;\n\n\n    application = new QApplication(counter, args);\n\n    window = new QWidget();\n\n    desktop = QApplication::desktop();\n\n    this-&gt;set_parameters(title);\n\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["qt","mvc","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":11024531,"title":"Qt: view added to layout not updating, but will update when not in layout","body":"<p>A widget called Tachometer will update accordingly when a signal is sent from its corresponding model, but it will not respond at all when I add the widget to a layout. What might account for this? Without showing the internals of the model or the view (which would be exhaustive), I will attempt to point out where it is not working:</p>\n\n<pre><code>void MainWindow::setupWidgets()\n{\n    QHBoxLayout *horiz1 = new QHBoxLayout();\n    QHBoxLayout *horiz2 = new QHBoxLayout();\n    odometer = new Odometer(ui-&gt;dashFrame);\n    fuelGauge = new FuelGauge(ui-&gt;dashFrame);\n    tripometer = new Tripometer(ui-&gt;dashFrame);\n    tachometer = new Tachometer(ui-&gt;dashFrame);\n    temperatureGauge = new TemperatureGauge(ui-&gt;dashFrame);\n    oilPressureGauge = new OilPressureGauge();\n    QVBoxLayout *vertOPG = new QVBoxLayout();\n\n    if ( oilPressureGauge-&gt;getTitle() != \"\" )\n    {\n        QLabel *OPGLabel = new QLabel(oilPressureGauge-&gt;getTitle());\n        vertOPG-&gt;addWidget(OPGLabel);\n    }\n    vertOPG-&gt;addWidget(oilPressureGauge);\n\n    speedometer = new Speedometer(ui-&gt;dashFrame);\n    horiz1-&gt;addWidget(tachometer);\n    horiz1-&gt;addWidget(speedometer);\n    horiz2-&gt;addWidget(fuelGauge);\n    horiz2-&gt;addWidget(temperatureGauge);\n    horiz2-&gt;addLayout(vertOPG);\n    horiz2-&gt;addWidget(tripometer);\n    horiz2-&gt;addWidget(odometer); // will NOT update when added to layout\n    QVBoxLayout *vert1 = new QVBoxLayout(ui-&gt;dashFrame);\n    vert1-&gt;addLayout(horiz1);\n    vert1-&gt;addLayout(horiz2);\n    this-&gt;ui-&gt;dashFrame-&gt;setLayout(vert1);\n}\n</code></pre>\n\n<p>I am perplexed that the other Widgets will update as expected, but not the object named tachometer. As I said before, if I don't add it to the layout, e.g.</p>\n\n<pre><code>// ...\ntachometer = new Tachometer(ui-&gt;dashFrame);\n// ...\n</code></pre>\n\n<p>it appears to work just fine. Furthermore, by debugging on the console I see that the RPM value for the tachometer is being sent to the appropriate slot that updates the view for the tachometer (I just noticed the tachometer finally responded to the update, but it isn't updating after every timeout as it should). It seems like some latency issues are clearly involved here.\nIf anyone might have an idea as to why this might be, I would greatly appreciate some clarification.</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12903260,"title":"What is the structure of a simple threaded gui application using Qt?","body":"<p>I'm trying to wrap my head around threading and gui applications so I can start to build them.  I downloaded the Qt SDK but am a bit lost.  </p>\n\n<p>Just so I can understand how this works, I want to create a gui application that consists of a text box and two buttons.  Each button would start a new thread (so 3 could be running at the same time: the main gui thread, and the 2 initiated from the buttons), and each would have access to the information in the text box.  How would I set this application up?</p>\n"},{"tags":["osx","qt","creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":123,"score":-2,"question_id":12905593,"title":"Compilation with Qt Creator on Mac OSX 10.8.1","body":"<p>I am new to both Qt and Mac OSX . I am using Qt 2.4.1 with Qt library 4.8.3 on Mac OSX 10.8.1. \nI am using XCode 4.5.1.\nI am trying to compile C++ code. During the build process, I first got the warning – “warning “This version of Mac OS X is unsupported”.\nThen I got a bunch of similar warning – like – “warning: directory not found for option ‘-L/tmp/qt-stuff-85167/source/qt-everywhere-opensource-src-4.8.1/Desktop/Qt/4.8.1/gcc/lib’\nThen I got another warning –\n“warning: ignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtCore.framework/QtCore, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtCore.framework/QtCoreignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtSql.framework/QtSql, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtSql.framework/QtSqlignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtXml.framework/QtXml, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtXml.framework/QtXmlignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/QtGui, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/QtGui”\nThen I got error –\n“operator&lt;&lt;(QDebug, QSqlError const&amp;)”, referenced from:\nSelectHandler::getDeviceErrorInfo(Command&amp;) in selecthandler.o\nd: symbol(s) not found for architecture i386\ncollect2: ld returned 1 exit status\nlipo: can’t open input file: /var/folders/1f/v4rbw7gx5wd5w49797b3yprm0000gn/T//ccDw1Njq.out (No such file or directory)\nmake: <em>*</em> [DeviceUtility2.app/Contents/MacOS/DeviceUtility2] Error 1\nI guess that id symbols not found for the architect i386 is due to incompatible library.If that is the case, then please let me know the correct version for Mac OSX 10.8.1</p>\n"},{"tags":["c++","qt","gui","dll","vst"],"answer_count":3,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":274,"score":11,"question_id":12805084,"title":"Qt GUI environment in a DLL (VST Plugin)","body":"<p>I would like to use the Qt GUI library as the user interface for a VST plugin. A VST plugin is a DLL on windows. A host application calls various functions on the DLL, including things like <code>openGUI()</code>.</p>\n\n<p>I want to know how to use Qt GUI from a DLL; I have done some research to look at the possible options but I'm not completely sure on the limitations.</p>\n\n<p>The main problem is where to create the <code>QApplication</code> object and call <code>exec()</code> on it (which is a function that does not return until the application has quit).</p>\n\n<p>I have looked at the solution given in <a href=\"http://stackoverflow.com/questions/11054087/starting-qt-gui-from-dll-in-dllstart-function\">this post</a>, but after further reading it would appear this solution will not work on Mac OS X, as Cocoa is more restrictive about the particular thread a GUI can run on. It's a bit of a hack really.</p>\n\n<p>I have also seen <a href=\"http://stackoverflow.com/questions/1678937/dllmain-and-qt-mfc-migration\">this solution</a>, but that relies on <code>QMfcApp</code> and <code>QWinWindow</code> which don't appear to be part of the Qt library any more.</p>\n\n<p>Is the only way round this for my DLL to spawn off a new application itself? Presumably I could start one with a call to <code>QProcess</code> and use some shared memory to share between the GUI application and my VST DLL? Has anyone come across this type of problem? Am I going down a bad route with this or is there something I haven't thought of yet?</p>\n\n<p><strong>Update</strong></p>\n\n<p>After further research I have come across the <a href=\"http://qt-project.org/doc/qt-4.8/qabstracteventdispatcher.html\"><code>QAbstractEventDispatcher</code></a> class. I have seen <a href=\"http://qt-project.org/doc/qt-4.8/qabstracteventdispatcher.html\">this post</a> which seems to say it's possible to call <code>QApplication::processEvents()</code> from your own (the host of my plugin) event loop instead of calling <code>QApplication::exec()</code>. Has anyone tried doing this?</p>\n"},{"tags":["qt","facebook-login","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12902196,"title":"Facebook App Login Giving Error on QWebView","body":"<p>I was trying to create a facebook based login for my desktop based application using <a href=\"https://developers.facebook.com/docs/authentication/\" rel=\"nofollow\">this</a> as a reference.</p>\n\n<p>So, I tried to load the url <a href=\"https://www.facebook.com/dialog/oauth?client_id=MY_APP_ID&amp;redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&amp;response_type=token\" rel=\"nofollow\">https://www.facebook.com/dialog/oauth?client_id=MY_APP_ID&amp;redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&amp;response_type=token</a> in a QWebView.</p>\n\n<p>On doing so, it is giving me an error:</p>\n\n<blockquote>\n  <p>An error occurred with MY_APP_NAME. Please try again later</p>\n</blockquote>\n\n<p>with no other information.</p>\n\n<p>When I copy paste the URL to firefox or chrome, it works perfectly fine. What could be the cause behind this?</p>\n"},{"tags":["qt","build","makefile","g++","mingw32"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12893626,"title":"Static Qt Build Cryptic Error","body":"<p>I am trying to do a static build of Qt (4.8.1) using mingw32-make (gcc 4.7.0) so that I can statically link my application for the sake of ease of use/delivery.</p>\n\n<p>I keep getting a strange error from mingw32-make, though, which I do not understand.</p>\n\n<pre><code>../3rdparty/javascriptcore/JavaScriptCore/runtime/JSGlobalObject.h:270:103: warning: control reaches end of non-void function [-Wreturn-type]\nMakefile.Release:2033: recipe for target 'obj/release/JSBase.o' failed\nmingw32-make[2]: *** [obj/release/JSBase.o] Error 1\nmingw32-make[2]: Leaving directory 'C:/StaticQt/qt/src/script'\nMakefile:34: recipe for target 'release' failed\nmingw32-make[1]: *** [release] Error 2\nmingw32-make[1]: Leaving directory 'C:/StaticQt/qt/src/script'\nMakefile:1360: recipe for target 'sub-script-sub_src_target_ordered' failed\nmingw32-make: *** [sub-script-sub_src_target_ordered] Error 2\n</code></pre>\n\n<p>Looking in the associated Makefile.Release file, on the indicated lines, I find these:</p>\n\n<pre><code>Makefile.Release 2033: $(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/release/JSBase.o ../3rdparty/javascriptcore/JavaScriptCore/API/JSBase.cpp\nMakefile.Release 1360: $(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/release/pcre_compile.o ../3rdparty/javascriptcore/JavaScriptCore/pcre/pcre_compile.cpp\nMakefile 34: $(MAKE) -f $(MAKEFILE).Release\n</code></pre>\n\n<p>I really understand very little about makefiles, so haven't a clue what these lines mean. Any help with this would be very much appreciated.</p>\n\n<p>EDIT: it just occured to me it may be useful for people to know the commandline arguments I used... Well, I followed this guide: <a href=\"http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows\" rel=\"nofollow\">http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows</a></p>\n"},{"tags":["qt","qt4","protocol-buffers","qtembedded","qdbus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12843036,"title":"qdbus and marshalling of custom types","body":"<p>I'd like to send a custom c++ class through the Qt DBUS API. I've created the class from the .proto file using the protoc compiler and added them to my project in QtCreator. Now I want to verify that I can send the custom class as a QVariant through the dbus API. I have a receiver and sender program and can send a simple test string so Dbus works. I am having trouble sending the protocol buffer class after adding it as a metatypes.</p>\n\n<p>My test .proto file contains only ints:</p>\n\n<pre><code>message MyData {\n  required int32 name = 1;\n  required int32 id = 2;\n  optional int32 email = 3;\n}\n</code></pre>\n\n<p>To the protocol buffer class header file I added:</p>\n\n<pre><code>#include &lt;QMetaType&gt;\n#include &lt;QDBusMetaType&gt;\n...\nfriend QDBusArgument &amp;operator&lt;&lt;(QDBusArgument &amp;argument, const MyData &amp;dataToWrite);\nfriend const QDBusArgument &amp;operator&gt;&gt;(const QDBusArgument &amp;argument, MyData &amp;dataToWrite);\n...\nQ_DECLARE_METATYPE(MyData )\n</code></pre>\n\n<p>And to the protocol buffer class implementation file I added:</p>\n\n<pre><code>#include &lt;QDebug&gt;\n...\n#include &lt;QMetaType&gt;\n#include &lt;QDBusMetaType&gt;\n\n// Marshall the MyData data into a D-Bus argument\nQDBusArgument &amp;operator&lt;&lt;(QDBusArgument &amp;argument, const MyData &amp;dataToWrite)\n{\n\n    qDebug() &lt;&lt; \"OPERATOR&lt;&lt;\";\n\n    argument.beginStructure();\n\n    // Break out the various properties of dataToWrite protocol buffer\n    int name = dataToWrite.name();\n    int id = dataToWrite.id();\n    int email = dataToWrite.email();\n    qDebug() &lt;&lt; name;\n    qDebug() &lt;&lt; id;\n    qDebug() &lt;&lt; email;\n\n    argument &lt;&lt; name;\n    argument &lt;&lt; id;\n    argument &lt;&lt; email;\n    argument.endStructure();\n    return argument;\n\n}\n\n// Retrieve the MyData data from the D-Bus argument\nconst QDBusArgument &amp;operator&gt;&gt;(const QDBusArgument &amp;argument, MyData &amp;dataToWrite)\n{\n\n    qDebug() &lt;&lt; \"OPERATOR&gt;&gt;\";\n\n    argument.beginStructure();\n\n    // Break out the various properties of dataToWrite protocol buffer\n    int name = dataToWrite.name();\n    int id = dataToWrite.id();\n    int email = dataToWrite.email();\n    qDebug() &lt;&lt; name;\n    qDebug() &lt;&lt; id;\n    qDebug() &lt;&lt; email;\n\n    argument &gt;&gt; name;\n    argument &gt;&gt; id;\n    argument &gt;&gt; email;\n    argument.endStructure();\n    return argument;\n\n}\n</code></pre>\n\n<p>Main simply looks like this:</p>\n\n<pre><code>QCoreApplication a(argc, argv);\n\n    dbussender* client = new dbussender(\"com.one.two.three.nvram\", \"/dbusReadWriteNvRam\", QDBusConnection::sessionBus(), 0);\n\n    // Create a protocol buffer class and provide its properties with values\n    MyData dataToWrite;\n    dataToWrite.set_name(2);\n    dataToWrite.set_id(3);\n    dataToWrite.set_email(4);\n\n    QString command3 = \"Contacting Protobuf Receiver and calling WRITENVRAM...\";\n    QString response3 = client-&gt;writeNVRam(dataToWrite);\n\n    std::cout &lt;&lt; \"Command:   \" &lt;&lt; command3.toStdString() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Response:   \" &lt;&lt; response3.toStdString() &lt;&lt; std::endl;\n</code></pre>\n\n<p>My dbussender class calls the remote function like this:</p>\n\n<pre><code>inline QDBusPendingReply&lt;QString&gt; writeNVRam(MyData dataToWrite)\n    {\n\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.name();\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.id();\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.email();\n\n        QList&lt;QVariant&gt; argumentList;\n        argumentList &lt;&lt; QVariant::fromValue&lt;MyData&gt;(dataToWrite);\n        return asyncCallWithArgumentList(QLatin1String(\"writeNVRam\"), argumentList);\n    }\n</code></pre>\n\n<p>Ultimately in my receiver program, this function is called but always returns 0:</p>\n\n<pre><code>// Write NVRAM\nQString dbusReadWriteNvRam::writeNVRam(MyData dataToWrite) {\n\n    qDebug() &lt;&lt; \"WRITE NVRAM COMMAND CALLED\";\n\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.name();\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.id();\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.email();\n\n    return \"HELLO CLASS\";\n\n}\n</code></pre>\n\n<p>Here is the output of the Sender program:</p>\n\n<pre><code>Sending  2 \nSending  3 \nSending  4 \nOPERATOR&lt;&lt; \n0 \n0 \n0 \nOPERATOR&lt;&lt; \n2 \n3 \n4 \nCommand:   Contacting Protobuf Receiver and calling WRITENVRAM...\nResponse:   HELLO CLASS\n</code></pre>\n\n<p>And here is the output of the Receiver program:</p>\n\n<pre><code>OPERATOR&lt;&lt; \n0 \n0 \n0 \nOPERATOR&gt;&gt; \n0 \n0 \n0 \nWRITE NVRAM COMMAND CALLED \nUnpacking:  0 \nUnpacking:  0 \nUnpacking:  0\n</code></pre>\n\n<p>Why does it seem that the marshalling functions are being called twice? And howcome the second call seems to include the valid values of 2,3,4 for the 3 properties of my protocol buffer but the first call is all 0's? The Receiver only seems to see the All 0's and never receives a protocol buffer object with valid values.</p>\n\n<p>Is there something wrong with my marshalling code? What else could be going on?</p>\n"},{"tags":["c++","qt","mutex","callstack"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12900329,"title":"Truncated callstack when debugging c++ mutex","body":"<p>In attempting to track down a blocked mutex, the callstack appears to be trunctated while waiting on the mutex. I don't see a normal call graph, just the following:</p>\n\n<p>0   CpupSyscallStub wow64cpu        0x75132e09<br>\n1   Thunk0ArgReloadState    wow64cpu        0x75132bf1<br>\n2   RunCpuSimulation    wow64       0x751ad07e<br>\n3   Wow64LdrpInitialize wow64       0x751ac549<br>\n4   LdrpInitializeProcess   ntdll       0x77984956<br>\n5    ?? ::FNODOBFM::`string'    ntdll       0x77981a17<br>\n6   LdrInitializeThunk  ntdll       0x7796c32e  </p>\n\n<p>This is blocking on a QMutex, I'm developing with Qt Creator using CDB from MSVC2008. I would like to be able to see a \"normal\" stack, that is a call graph up to the point of the mutex.lock() call.\nIf I had to guess, it would be related to debugging a 32 bit app on a 64 bit machine. Any ideas as how to get a proper callstack ?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3919,"score":4,"question_id":3537251,"title":"chart library for QT","body":"<p>Is there any opensource or free chart library for Qt ? I mean XY charts (not bar charts or sth like that) ?</p>\n\n<p>thanks for help</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12898239,"title":"How to minimize a QDialog?","body":"<p>While I understand that <code>QDialog</code> is not meant for minimum state, Is it possible to minimize a <code>QDialog</code> programmatically?</p>\n"},{"tags":["c++","qt","directory"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12896875,"title":"Traversing a directory for specified folders? Qt & c++","body":"<p>I got a directory with the following structur.</p>\n\n<pre><code>Name-\n   -Year1\n      -Month1\n        -Day1\n          -file1\n        -..\n      -...\n   -Year2\n      -Month1\n      -...\n   -...\n</code></pre>\n\n<p>Now i have 2 dates 2009-01-02 and 2010-02-03.</p>\n\n<p>I want to  ask if anyone knows how i can list all files which are in the folders in the given time, without building a giant if-else construct.\nIf possible without any other frameworks than Qt.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["image","qt","sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12897594,"title":"Choosing previous and next image in qt imageviewer at runtime?","body":"<p>I am a noob at qt. I have been asked to develop an image viewer in qt until Wednesday. It should have the following basic functions -</p>\n\n<p>Should have buttons for toggling previous and next image (among images in a folder).</p>\n\n<p>Should be capable of zooming in or out</p>\n\n<p>I have developed the viewer with open, zoom in and zoom out functionality.</p>\n\n<p>But I still want to know how to toggle b/w images. For e.g., when clicking previous button, I should have the previous image to the one currently open in the QLabel. Similar to arrow key functionality.</p>\n\n<p>I hope I am not too vague.</p>\n"},{"tags":["c++","qt","string-formatting"],"answer_count":3,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":8649,"score":8,"question_id":4784155,"title":"how to format a QString","body":"<p>Hello\nI`d like to format a string for QT label, i´m programming in C++ on QT.In Objc i would write something like: </p>\n\n<pre><code>NSString *format=[NSString stringWithFormat: ... ];\n</code></pre>\n\n<p>How to do something like that in QT?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":12881290,"title":"Image viewer in qt SDK -?","body":"<p>I am a noob at qt. I have been asked to develop an image viewer in qt until Wednesday.  It should have the following basic functions -</p>\n\n<blockquote>\n  <p>Should have buttons for toggling previous and next image (among images in a folder).</p>\n  \n  <p>Should be capable of zooming in or out</p>\n</blockquote>\n\n<p>I have developed the viewer with open, zoom in and zoom out functionality.</p>\n\n<p>But I still want to know <strong>how to toggle b/w images.</strong> For e.g., when clicking previous button, I should have the previous image to the one currently open in the QLabel. Similar to arrow key functionality.</p>\n\n<p>I hope I am not too vague.</p>\n"},{"tags":["qt","makefile","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12851747,"title":"qmake: generate include other Makefile in Makefile","body":"<p>Is there a way to tell qmake to add to Makefile an include directive to include other Makefile.</p>\n\n<p>I need at the beginning of generated Makefile added one line: </p>\n\n<p>include custom.inc</p>\n\n<p>Maybe there is just a way to output text to Makfiles from qmake but I could not find.</p>\n"},{"tags":["qt","qt4","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":359,"score":0,"question_id":3120258,"title":"QTextEdit.insertHtml() is very slow","body":"<p>I've given up on actually trying to make it go faster. </p>\n\n<p>My biggest problem is that when I'm inserting the html, the application slows down to a crawl.\nI have a progressbar, and I'm calling </p>\n\n<pre><code>QCoreApplication.processEvents()\n</code></pre>\n\n<p>(I'm using pyqt, by the way)</p>\n\n<p>Can I put insertHtml() into a different thread, so I don't have an unresponsive interface?\nHow would I go about that? I've looked into QThread and QThreadPool, and I'm not quite sure where to begin.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":57,"score":-1,"question_id":12892010,"title":"Adding a widget to the main window from another thread Qt","body":"<p>I have just started crawling in Qt. Installed qt4 on my Ubuntu machine and tried some basic examples. Now I am trying a develop a multithreaded application. Firstly I am confused whether to use pthreads or Qthreads. Can someone tell me which one is better to use.?</p>\n\n<p>Further in my application, I will send some values from one thread to another thread. The 2nd thread will print those in a box. My query is, whether a thread other than main thread, can add a widget  to the main window?</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":584,"score":2,"question_id":9777911,"title":"How do I create a Window in different QT threads?","body":"<p>I have an application in which each thread (except the main thread) needs to create its own window. I tried creating a thread and then calling <code>this-&gt;exec()</code> in the <code>run</code> function. However, I get an error before I even get to that call: <code>ASSERT failure in QWidget: \"Widgets must be created in the GUI thread.\"</code></p>\n\n<p>I want to popup a message window. The problem is that the source has multiple threads each of which may need to popup its own message.</p>\n"},{"tags":["qt","focus","trayicon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12895135,"title":"Qt Application, focus and show/hide function","body":"<p>I am trying to do simly functionality. \nWhen I click on tray icon:</p>\n\n<pre><code> -A- if app is hide &gt; show\n -B- if app is show and is NOT focus &gt; focus it\n -C- if app is show and focus &gt; hide\n</code></pre>\n\n<p>Very simle but if you have focus app and you click on try icon, the focus is lost and now the taskbar is focused. So the B condition is true instead of C.\nSo what with that?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":298,"score":2,"question_id":8763473,"title":"Qt creator CDB not working","body":"<p>I'm using the latest Qt SDK (2.4.0) and am having problems getting the visual studio 2008 CDB working properly.  I have a experienced the following 2 problems which I think are related</p>\n\n<ol>\n<li><p>I have an assert that is failing.  When that assert fails I see the Visual Studio dialog box asking me if I'd like to Abort, Retry, or Ignore.  If I choose Retry, the program does not break as it should, instead it just continues executing.  However, if I put a break point before that assert, and then step over that line within the debugger then when I hit Retry the program does break as expected.</p></li>\n<li><p>All break points that are in place before execution starts are hit correctly.  However, if I attempt to add a break point after execution starts then that break point is ignored.  But, if while stopped, I add more break points, then those are correctly hit.</p></li>\n</ol>\n\n<p>It would appear that the debugger is only working once I manually stop it with a break point.  Does anyone know what is going on here?</p>\n\n<p>I'm using Windows 7 64 bit Qt SDK for Windows 32</p>\n"},{"tags":["qt","qt4","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":742,"score":3,"question_id":3932650,"title":"QTableView - Selection background color","body":"<p>I am using the following code for set the style for the table in simulator(S60)(Nokia Qt SDK).</p>\n\n<pre><code>searchTable-&gt;setStyleSheet(\"background: rgb(255,255,255);color:rgb(0,0,0); font-family:Arial Narrow;font-size:20px; border: 4px outset rgb(255,255,255);gridline-color: #669933;\"\n                           \"selection-background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,stop: 0 #486909, stop: 1 white);\"\n                              );\n</code></pre>\n\n<p>But When I am selecting the  element in the data I got the following output. Please find the attachment.</p>\n\n<p><img src=\"http://i.stack.imgur.com/5ATIj.png\" alt=\"alt text\"></p>\n\n<p>Please help me.... What I did wrong .. Thanks in advance.</p>\n"},{"tags":["c++","qt","qwidget","qstring"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12888746,"title":"Qt Dynamically create QWidget from QString","body":"<p>I am trying to create a program that reads information from a database, and accordingly set up the layout. Specifically, I want to read two date fields and depending on the difference between the days, create a day(s) number of elements. Have anyone got an idea on how this could be done? I have tried to create an element using the QString->text() property with no success for obvious reasons and I have managed to write a function to create an element, but my problem is that I cannot control the name of the element, making it impossible for me with my rubbish knowledge about c++ to then interact with the given element.</p>\n\n<p>Thank you for your time,</p>\n\n<p>Cheers.     </p>\n"},{"tags":["c++","qt","qml"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12890304,"title":"How to change C++ Model from QML?","body":"<p>I have a list view in Qml with Text Input as one of the element. I used c++ model to inflate the list view . Now I want to change the C++ model if user enters any value in Text Input in qml.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["qt","qml","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12890075,"title":"QML : Menu Drop-down issue","body":"<p>How to get different items containers in drop-down feature in QML as shown in figure. </p>\n\n<p><img src=\"http://i.stack.imgur.com/Js2sO.jpg\" alt=\"enter image description here\"></p>\n\n<p>I tried the requirement in below implementation using listview but could not get the same. Below is the snippet</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width:400;\n    height: 400;\n\n    Rectangle {\n            id:comboBox\n            property variant items: [\"Item 1\", \"Item 2\", \"Item 3\"]\n\n            signal comboClicked;\n            width: 400;\n            height: 30;\n            z: 100;\n            smooth:true;\n\n            Rectangle {\n                id:chosenItem\n                radius:4;\n                width:parent.width;\n                height:comboBox.height;\n                color: \"#203586\"\n                smooth:true;\n                Text {\n                    anchors.top: parent.top;\n                    anchors.margins: 8;\n                    id:chosenItemText\n                    x: 11\n                    y: 5\n                    color: \"#ffffff\"\n                    text:\"Menu\";\n                    anchors.topMargin: 5\n                    anchors.left: parent.left\n                    anchors.leftMargin: 12\n                    font.family: \"Arial\"\n                    font.pointSize: 14;\n                    smooth:true\n                }\n\n                MouseArea {\n                    width: 400\n                    height: 30\n                    anchors.bottomMargin: 0\n                    anchors.fill: parent;\n                    onClicked: {\n                        comboBox.state = comboBox.state===\"dropDown\"?\"\":\"dropDown\"\n                    }\n                }\n            }\n\n            Rectangle {\n                id:dropDown\n                width:comboBox.width/4;\n                height:0;\n                clip:true;\n                radius:4;\n                anchors.top: chosenItem.bottom;\n                anchors.margins: 2;\n                color: \"lightblue\"\n\n                ListView {\n                    id:listView\n                    height:500;\n                    model: comboBox.items\n                    currentIndex: 0\n                    delegate: Item{\n                        width:comboBox.width;\n                        height: comboBox.height;\n\n\n                        Text {\n                            text: modelData\n                            anchors.top: parent.top;\n                            anchors.left: parent.left;\n                            anchors.margins: 5;\n\n                        }\n                        MouseArea {\n                            anchors.fill: parent;\n                            onClicked: {\n                                comboBox.state = \"\"\n                            }\n                        }\n                    }\n                }\n            }\n\n\n            states: State {\n                name: \"dropDown\";\n                PropertyChanges { target: dropDown; height:30*comboBox.items.length }\n            }\n\n            transitions: Transition {\n                NumberAnimation { target: dropDown; properties: \"height\"; easing.type: Easing.OutExpo; duration: 1000 }\n            }\n        }\n    }\n</code></pre>\n\n<p>With above approach am getting the drop-down as shown in below, which is not according to the requirement.</p>\n\n<p>I tried with various approaches but I was not able to achieve the exact requirement with proper working\n<img src=\"http://i.stack.imgur.com/l8vTo.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12889865,"title":"How I can build APK package for Qt/Android app in QtCreator/Necessitas?","body":"<p>I try to create Android application from Qt sources in QtCreator with Necessitas.\nWhen I select \"Build\" only compilation and linking to .so was performed. When I select \"Deploy \" the APK package was created and it's tried to be loaded to device, but I only need to build the complete signed APK (like \"Export Android App\" in Eclipse). Also I want to build all targets in one step - armv5/armv7a Debug /Release, but the \"Build All\" command somehow only currently selected target.</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12889918,"title":"QSharedMemory::handle doesnt exist error","body":"<p>I'm trying to run the following QT code :</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QSharedMemory&gt;\n#include &lt;QDebug&gt;\nQSharedMemory g_objSharedMemory(QString(\"Shared Memory\"));\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    if(g_objSharedMemory.isAttached()==false)\n    {\n        qDebug()&lt;&lt;\"Shared memory is not attached !!!!trying to attach it\\n \";\n        qDebug()&lt;&lt;g_objSharedMemory.errorString();\n        if(g_objSharedMemory.attach()==false)\n        {\n            qDebug()&lt;&lt;\"Failed to attach shared memory to the process!!!!\";\n            qDebug()&lt;&lt;g_objSharedMemory.errorString();\n            return 0;\n        }\n    }\n\n    return a.exec();\n}\n</code></pre>\n\n<p>I've failed to attach the shared memory segment to the process. I'm building this code on windows XP.<br />\nI'm getting <code>QSharedMemory::handle doesnt exist</code> error.<br />\nHow can i fix this error?</p>\n"},{"tags":["qt","drag-and-drop","drag","qlistwidget"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":88,"score":5,"question_id":12723297,"title":"QListWidget Drag after scrolling down the list","body":"<p>I am creating A Sortable List in Qt. The Code works perfectly well for Downward Scroll but when i having some issues getting the draggable item after i scroll the list down. I have added some test case screenshot for better understanding</p>\n\n<p><img src=\"http://imageshack.us/a/img13/2791/56842367.png\" alt=\"Screen1\">\n<img src=\"http://imageshack.us/a/img819/8662/87542336.png\" alt=\"Screen2\">\n<img src=\"http://imageshack.us/a/img24/761/97993758.png\" alt=\"Screen3\">\n<img src=\"http://imageshack.us/a/img825/1172/93877106.png\" alt=\"Screen4\"></p>\n\n<p>Well this is the test case code </p>\n\n<pre><code>    #include &lt;QtGui&gt;\n\n   int main(int argc, char **argv) \n   {\n      QApplication app(argc, argv);\n      QListWidget *listWidget = new QListWidget;\n      for(int i=0;i&lt;100;++i){\n        listWidget-&gt;addItem(\"SongOne\");\n        listWidget-&gt;addItem(\"SongTwo\");\n        listWidget-&gt;addItem(\"SongThree\");\n        listWidget-&gt;addItem(\"SongFour\");\n        listWidget-&gt;addItem(\"SongFive\");\n      }\n      listWidget-&gt;setDragDropMode(QAbstractItemView::InternalMove);\n      listWidget-&gt;setDragEnabled(true);\n      listWidget-&gt;setAcceptDrops(true);\n      listWidget-&gt;setDropIndicatorShown(true);\n      listWidget-&gt;viewport()-&gt;setAcceptDrops(true);\n      listWidget-&gt;setSelectionMode(QAbstractItemView::SingleSelection);\n      listWidget-&gt;show();\n      app.exec();\n      delete listWidget;\n      return 0;\n    }\n</code></pre>\n\n<p>Thankz for taking the time in reading my post. Do help me if you have any hint on what i am missing out.I think i am missing setting some property. In the main Program(not the test code), i tried rewriting the <code>dragMoveEvent</code> and few more method, but no use.</p>\n\n<p>the problem here is not the drag and drop but the QRect that is created while doing Drag and Drop. In Figure Two the Qrect is Created but not in Figure Four</p>\n"},{"tags":["multithreading","qt","user-interface","locking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12888138,"title":"Should I use CRITICAL_SECTION or not?","body":"<p>I have a program which has a Ui with which users choose the way to display and do small configurations. It also has a background procedure, which continuously reads data from the network and update the data to display.</p>\n\n<p>Now I put them in one process:\nbackground procedure:  </p>\n\n<pre><code>    STATE MainWindow::Rcv()\n    {\n\n    DeviceMAP::iterator dev;\n\n    for(dev= dev_map.begin(); dev!= dev_map.end(); dev++)\n    {\n\n\n        dev-&gt;second.rcvData();//receive data from the network, the time can be ignored.\n\n        BitLog* log = new BitLog();\n        dev-&gt;second.parseData(log);\n\n\n        LogItem* logItem = new LogItem();\n        logItem-&gt;time = QString::fromLocal8Bit(log-&gt;rcvTime.c_str());\n        logItem-&gt;name = QString::fromLocal8Bit(log-&gt;basicInfo.getName().c_str());\n        logItem-&gt;PIN = QString::fromLocal8Bit(log-&gt;basicInfo.getPIN().c_str()).toShort();\n\n        delete log;\n        add_logItem(logItem);\n\n    }\n    return SUCCESS;\n}\n</code></pre>\n\n<p>add_logItem:</p>\n\n<pre><code>void MainWindow::add_logItem(LogItem* logItem)\n{\n\n\n    writeToFile(logItem);\n\n    Device* r = getDevbyPIN(QString::number(logItem-&gt;PIN));\n\n    if(r == NULL)return;\n\n    devInfo_inside_widget::States state = logItem-&gt;state;\n\n    bool bool_list[portsNum_X];\n    for(int i =0; i &lt; portsNum_X; i++)\n    {\n        bool_list[i] = 0;\n    }\n\n    for(int i = 0; i &lt; portsNum; i++)\n    {\n        bool_list[i] = (logItem-&gt;BITS[i/8] &gt;&gt; (7 - i%8)) &amp; 0x1;\n    }\n\n    r-&gt;refresh(state, logItem-&gt;time, bool_list);//update data inside...state, time , BITS...\n\n    IconLabel* icl = getIConLabelByDev(r);//update data\n    icl-&gt;refresh(state);\n\n\n    logDisplayQueue.enqueue(logItem);//write queue here\n\n    int size = logDisplayQueue.size();\n\n    if(size &gt; 100)\n    {\n        logDisplayQueue.dequeue();//write queue here\n    }\n\n}\n</code></pre>\n\n<p>The section above has not dealt with any ui operations yet, but when user push a radio button in the ui, the program has to filter the data in the queue and display it in the table widget:   </p>\n\n<p>ui operations:     </p>\n\n<pre><code>void MainWindow::filter_log_display(bool bol)\n{\n\n    row_selectable = false;\n    ui-&gt;tableWidget-&gt;setRowCount(0);//delete table items all\n    row_selectable = true;\n\n    int size_1 = logDisplayQueue.size() - 1;\n\n    ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setSliderPosition(0);\n\n    if(size_1+1 &lt; 100)\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(size_1 + 1);\n    }\n    else\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(100);//display 100 rows at most\n    }\n\n\n    if(bol)//filter from logDisplayQueue and display unworking-state-log rows\n    {\n\n        int  index = 0;\n        for(int queue_i = size_1; queue_i &gt;= 0; queue_i--)\n        {\n\n            LogItem* logItem = (LogItem*)logDisplayQueue.at(queue_i); // read queue here\n\n            if(logItem-&gt;state == STATE_WORK || logItem-&gt;state == STATE_UN)continue;\n\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n\n            ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n            ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n            ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n            index++;\n        }\n\n        ui-&gt;tableWidget-&gt;setRowCount(index);\n\n    }\n    else//display all rows\n    {\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n\n            LogItem* logItem = (LogItem*)logDisplayQueue.at(queue_i);                      //read queue here\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);//\n            finish = clock();\n\n            ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n            ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n            ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n\n        }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>So the queue is quite samll and the background procedure is quite frequent(nearly 500 times per sec). That is, the queue will be written 500 times in 1 sec, but displayed time from time by the user.<br>\nI want to split the functions into two threads and run them together, one rev and update data, one display.<br>\nIf i do not use any lock or mutex, the user may get the wrong data, but if i force the write-data procedure enter critical section and leave critical section everytime, it will be a heavy overload. :)<br>\nShould I use CRITICAL_SECTION or something else, any suggestions related?(my words could be verbose for you :) , i only hope for some hints :) </p>\n"},{"tags":["osx","qt","deployment"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":3692537,"title":"Use files from /usr/local/share inside OS X app bundle","body":"<p>I’m writing Qt application using some 3rd party library. I want to package it into a bundle. </p>\n\n<p>I’m using <a href=\"http://doc.qt.nokia.com/4.6/deployment-mac.html#the-mac-deployment-tool\" rel=\"nofollow\">macdeployqt</a> and this tool isn’t just copying Qt Frameworks, but also 3rd party library into <code>Contents/Frameworks</code> inside the app bundle.</p>\n\n<p>The problem is that this 3rd party library need some additional file to work properly. Originally library is installed in <code>/usr/local/lib</code> and some necessary stuff is located at <code>/usr/local/share</code>.</p>\n\n<p>How to package this stuff into app bundle?</p>\n"},{"tags":["qt","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12888134,"title":"QtSQL: \"prepared statement \"qpsqlpstmt_1\" does not exist\" on clear() of model","body":"<p>I am getting the following error message printed in the console:</p>\n\n<pre><code>Unable to free statement: ERROR:  prepared statement \"qpsqlpstmt_1\" does not exist\n</code></pre>\n\n<p>It is printed when the the following function is called in the application (or when the object is deleted (if <code>clear()</code> is not called before delete):</p>\n\n<pre><code>sqlQueryModel-&gt;clear();\n</code></pre>\n\n<p>sqlQueryModel object is of type <code>QSqlQueryModel</code> and is used throughout a derived class to communicated with a PostgreSQL database. It also serves as a model for <code>QCompleter</code>. I have never declared or used the name <code>\"qpsqlpstmt_1\"</code>.</p>\n\n<p>Could someone help me interpret the error message please, and explain what might be causing it? Is this indicative of a problem in my code or a Qt bug? (likely the former :))</p>\n\n<p>On reviewing the PostgreSQL log file on the server, the exact same statement appears plus an additional line:</p>\n\n<pre><code>STATEMENT: DEALLOCATE pqsqlpstmt_1\n</code></pre>\n"},{"tags":["c++","qt","audio","wav"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12886272,"title":"playing wav audio file in C++ and QT","body":"<p>I am reading a .wav file in C and then I am trying to play the audio file using some of the QT functions. Here is how I read the file:</p>\n\n<pre><code>FILE *fhandle=fopen(\"myAudioFile.wav\",\"rb\");\nfread(ChunkID,1,4,fhandle);\nfread(&amp;ChunkSize,4,1,fhandle);\nfread(Format,1,4,fhandle);\nfread(Subchunk1ID,1,4,fhandle);\nfread(&amp;Subchunk1Size,4,1,fhandle);\nfread(&amp;AudioFormat,2,1,fhandle);\nfread(&amp;NumChannels,2,1,fhandle);\nfread(&amp;SampleRate,4,1,fhandle);\nfread(&amp;ByteRate,4,1,fhandle);\nfread(&amp;BlockAlign,2,1,fhandle);\nfread(&amp;BitsPerSample,2,1,fhandle);\nfread(&amp;Subchunk2ID,1,4,fhandle);\nfread(&amp;Subchunk2Size,4,1,fhandle);\nData=new quint16 [Subchunk2Size/(BitsPerSample/8)]; \nfread(Data,BitsPerSample/8,Subchunk2Size/(BitsPerSample/8),fhandle); \nfclose(fhandle);\n</code></pre>\n\n<p>So my audio file is inside <code>Data</code>. Each element of <code>Data</code> is unsigned 16-bit Integer.</p>\n\n<p>To play the sound I divide each 16-bit unsigned Integer into two characters and then every 3 ms (using a timer) I send 256 characters to the audio card.\nAssume <code>myData</code> is a character array of 256 characters I do this (every 3 ms) to play the sound:</p>\n\n<pre><code>m_output-&gt;write(myData, 256);\n</code></pre>\n\n<p>Also <code>m_output</code> is defined as:</p>\n\n<pre><code>m_output = m_audioOutput-&gt;start();\n</code></pre>\n\n<p>and <code>m_audioOutput</code> is defined as:</p>\n\n<pre><code>m_audioOutput = new QAudioOutput(m_Outputdevice, m_format, this); \n</code></pre>\n\n<p>And the audio format is set correctly as:</p>\n\n<pre><code>m_format.setFrequency(44100); \nm_format.setChannels(2);\nm_format.setSampleSize(16);\nm_format.setSampleType(QAudioFormat::UnSignedInt ); \nm_format.setByteOrder(QAudioFormat::LittleEndian);\nm_format.setCodec(\"audio/pcm\");\n</code></pre>\n\n<p>However, when I try to run the code I hear some noise which is very different from the real audio file.\nIs there anything I am doing wronge?</p>\n\n<p>Thanks,\nTJ</p>\n"},{"tags":["android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12887110,"title":"How to run Qt application built with Necessitas on the Android emulator?","body":"<p>Qt application for Android requires Ministro, but when Ministro installed (Ministro-1.0.apk, Ministro-2.0.apk or \"Ministro II.apk\") app tells me that ministro not found or (for \"Ministro II.apk\") ministro version is incompatible and need to be updated. I've download Ministro from it's official page on the sourceforge.net. Install ministro from market failed due market not allowed on emulator.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12884615,"title":"QWidget paint even not being called even with non-zero width and height?","body":"<p>I am trying to make a scroll area hold a widget which will serve as a drawing area for a drag-and-drop editor I am trying to build. However, I can't seem to get it to draw.</p>\n\n<p>Here is a picture: <a href=\"http://i.imgur.com/rTBjg.png\" rel=\"nofollow\">http://i.imgur.com/rTBjg.png</a></p>\n\n<p>On the right the black space is what is supposed to be my scrollarea</p>\n\n<p>Here is the constructor for my the window class (I am using Qt-Creator):</p>\n\n<pre><code>ModelWindow::ModelWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::ModelWindow)\n{\n    ui-&gt;setupUi(this);\n\n    editor = new ModelEditorWidget(this);\n\n    ui-&gt;scrollArea-&gt;setWidget(editor);\n}\n</code></pre>\n\n<p>The model editor widget looks like so:</p>\n\n<pre><code>//header\n\nclass ModelEditorWidget : public QWidget\n{\n    Q_OBJECT\npublic:\n    explicit ModelEditorWidget(QWidget *parent = 0);\n\nsignals:\n\npublic slots:\n\nprotected:\n    virtual void paintEvent(QPaintEvent *e);\n\n};\n\n//.cpp file:\n\nModelEditorWidget::ModelEditorWidget(QWidget *parent) :\n    QWidget(parent)\n{\n    this-&gt;setAcceptDrops(true);\n\n    this-&gt;resize(1000, 1000);\n\n    cout &lt;&lt; this-&gt;rect().x() &lt;&lt; \" \" &lt;&lt; this-&gt;rect().width() &lt;&lt; endl;\n\n    this-&gt;update();\n}\n\nvoid ModelEditorWidget::paintEvent(QPaintEvent *e)\n{\n    cout &lt;&lt; \"painting\";\n\n    QWidget::paintEvent(e);\n\n    QPainter painter(this);\n\n    painter.setBrush(QBrush(Qt::green));\n    painter.setPen(QPen(Qt::red));\n    painter.drawRect(400, 400, 50, 50);\n    painter.fillRect(e-&gt;rect(), Qt::SolidPattern);\n}\n</code></pre>\n\n<p>I would think that this would set the modeleditorwidget's size to be 1000x1000 and then draw a green or red rectangle on the widget. However, the lack of a \"painting\" message in the command line from the cout at the beginning of the paintEvent shows that it isn't being executed. I first suspected this is because there was 0 width and 0 height on the widget. However, the cout in the constructor tells me that the widget is positioned at x = 0 and width = 1000 and so I assume that since that matches my resize statement that the height is also 1000 as was specified.</p>\n\n<p><strong>EDIT:</strong> By calling <code>cout.flush()</code> I got the \"painting\" output. However, that only deepens the mystery since the paint event doesn't look like it is actually painting. I am now calling show on both the scroll area and the widget as well.</p>\n\n<p>Does anyone see what I could be doing wrong here? Perhaps I am not adding the ModelEditorWidget to the scrollarea properly?</p>\n\n<p>Btw, I am very new to Qt and this is my first major GUI project using it. Most of my other GUI stuff was done using .NET stuff in C#, but since I want this to be cross platform I decided to stay away from C#.NET and mono and use Qt.</p>\n"},{"tags":["c++","qt","qtscript"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12885555,"title":"Call object instance from C++ function called via script","body":"<p>I have a class named Jellyfish who use the singleton design pattern :</p>\n\n<p>jellyfish.h</p>\n\n<pre><code>#ifndef JELLYFISH_H\n#define JELLYFISH_H\n\n#include &lt;QHash&gt;\n#include &lt;QScriptEngine&gt;\n\nclass QScriptValue;\n\nclass Jellyfish : public QObject\n{\n\n    public:\n\n         static Jellyfish * getInstance();\n         static Jellyfish * instance;\n\n    private:\n\n        Jellyfish();\n\n};\n\n#ifndef\n</code></pre>\n\n<p>jellyfish.cpp</p>\n\n<pre><code>Jellyfish * Jellyfish::instance = NULL;\n\nJellyfish * Jellyfish::getInstance()\n{\n\n    if ( !Jellyfish::instance )\n    {\n        Jellyfish::instance = new Jellyfish();\n    }\n\n    return Jellyfish::instance;\n\n}\n</code></pre>\n\n<p>When I am in main.cpp and make tests, I have no errors:</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n\n#include \"jellyfish.h\"\n\nclass Jellyfish;\n\nint main( int argc, char *argv[] )\n{\n\n    QApplication app( argc, argv );\n\n    Jellyfish *toto = Jellyfish::getInstance();\n    Jellyfish *toto2 = Jellyfish::getInstance();\n    Jellyfish *toto3 = Jellyfish::getInstance();\n\n    return app.exec();\n\n}\n</code></pre>\n\n<p>But I want to use some static methods in <code>Jellyfish</code> in external QScript files :</p>\n\n<p>jellyfish.h</p>\n\n<pre><code>private:\n\n    static QScriptValue set( QScriptContext *context, QScriptEngine *engine );\n    QScriptEngine *script_engine;\n</code></pre>\n\n<p>jellyfish.cpp</p>\n\n<pre><code>Jellyfish::Jellyfish()\n{\n\n    script_engine = new QScriptEngine;\n\n    /* ... */\n\n    initScriptEngine();\n\n}\n\nvoid Jellyfish::initScriptEngine()\n{\n\n    QScriptValue object = script_engine-&gt;newQObject( this );\n\n    object.setProperty( \"set\", script_engine-&gt;newFunction( set ) );\n\n    script_engine-&gt;globalObject().setProperty( \"jellyfish\", object );\n\n}\n\nQScriptValue Jellyfish::set( QScriptContext *context, QScriptEngine *engine )\n{\n\n    // I have to load instance because I am in a static method.\n    // But this is where the application loop endlessly.\n    Jellyfish *jellyfish = Jellyfish::getInstance();\n    return true;\n\n}\n</code></pre>\n\n<p>And finaly the parsed script:</p>\n\n<pre><code>jellyfish.set( \"line_numbers\",  true );\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>When I run the application, <code>getInstance()</code> always creates a new Jellyfish instance. But the real problem is that on the output with debug (<code>qDebug() &lt;&lt; \"test\";</code>) I can see that the application loop on <code>Jellyfish::getInstance();</code> until I get a <code>sgmentation fault</code>.</p>\n\n<p>Could someone help me to understand this ?</p>\n"},{"tags":["qt","mingw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12886297,"title":"Qt app compiles on Windows, but won't run","body":"<p>I'm developing a Qt-based application that I'd like to make available to Windows users, and managed to get a static build working (both statically linked to Qt and to the MinGW gcc libraries). But now I thought I'd try to do things \"properly\" and deal with installing .dll files. Here's where I run into a problem.</p>\n\n<p>I did a fresh Qt install, and compiled my program (a debug version). No problem. Then I used Dependency Walker to identify which non-system .dll files I needed, and copied them to the same directory as my executable. I double-click on the executable, and get an error message about how an error was encountered, program needs to close. Then I ran my excutable with gdb, and got the following segmentation fault:\n    0x01211db6 in QColor::QColor at painting/qcolor.cpp:397\n    397   painting/qcolor.cpp: No such file or directory</p>\n\n<p>The full back trace looks like:</p>\n\n<pre><code>#0 0x01211db6 in QColor::QColor at painting/qcolor.cpp\n#1 0x0041d7a8 in __static_initialization_and_destruction_0 (__initialize_p=1, __priority=65535) at gui\\VertexItem.cpp:12\n#2 0x0041d7f3 in _GLOBAL__sub_I__ZN10VertexItem17_backgroundColourE () at gui\\VertexItem.cpp:110\n#3 0x0044a5da in __do_global_ctors ()\n#4 0x004010dc in __mingw_CRTStartup ()\n#5 0x00000001 in ?? ()\n#6 0x004012b5 in WinMainCRTStartup ()\n</code></pre>\n\n<p>I also got several warnings like:</p>\n\n<pre><code>&lt;Internal error: pc 0x13 in read in psymtab, but not in symtab&gt;\n</code></pre>\n\n<p>I'm stuck. gui/VertexItem.cpp is my file, and line 110 is the line with a closing brace for the last function in the file, whereas line 12 is the initialisation of a static variable called _backgroundColour:</p>\n\n<pre><code>QColor VertexItem::_backgroundColour(Qt::transparent);\n</code></pre>\n\n<p>Remember, this all works fine in my static build! Any ideas?</p>\n"},{"tags":["c++","qt","compiler-errors","make"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":693,"score":2,"question_id":10434064,"title":"Qt - Error 2 at compile time","body":"<p>I just downloaded Qt SDK 4.8.1 and, after installing it, I simply tried to compile a default C++ project, but I got this strange error.</p>\n\n<blockquote>\n  <p>16:50:24: Running build steps for project test...<br>\n  16:50:24: Configuration unchanged, skipping qmake step.<br>\n  16:50:24: Starting: \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" <br>\n      cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtCore\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtGui\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\ActiveQt\" -I\"debug\" -I\".\" -I\"..\\test\" -I\".\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\" -Fodebug\\ @C:\\DOCUME~1\\dfuser\\IMPOST~1\\Temp\\main.obj.1464.0.jom<br>\n      cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtCore\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtGui\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\ActiveQt\" -I\"debug\" -I\".\" -I\"..\\test\" -I\".\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\" -Fodebug\\ @C:\\DOCUME~1\\dfuser\\IMPOST~1\\Temp\\mainwindow.obj.1464.0.jom<br>\n      C:\\QtSDK\\QtCreator\\bin\\jom.exe -f Makefile.Debug<br>\n  jom: C:\\Documents and Settings\\dfuser\\Desktop\\test-build-desktop-Qt_4_8_1_for_Desktop_-<em>MSVC2008</em>_Qt_SDK__Debug\\Makefile.Debug [debug\\main.obj] Error 2<br></p>\n  \n  <p>jom 1.0.8 - empower your cores<br></p>\n  \n  <p>jom: C:\\Documents and Settings\\dfuser\\Desktop\\test-build-desktop-Qt_4_8_1_for_Desktop_-<em>MSVC2008</em>_Qt_SDK__Debug\\Makefile [debug] Error 2<br>\n  16:50:24: The process \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" exited with code 2.<br>\n  Error while building project test (target: Desktop)<br>\n  When executing build step 'Make'<br></p>\n</blockquote>\n\n<p>Does anyone know what is the cause? </p>\n\n<p>I don't know if it's relevant or not, but before getting this error I got the common error about <code>cl</code> nor found; I solved adding the path to <code>cl</code> in the project settings.</p>\n"},{"tags":["qt","gui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12883962,"title":"Dynamically creating and displaying an array of buttons inside QScrollArea","body":"<p>My aim is to create an array of command link buttons dynamically on clicking a push button in and then display them all inside a vertical layout inside a QscrollArea. I get the data for the buttons from a database. For this I created a slot for the button and wrote the following code inside the slot function.</p>\n\n<pre><code>QCommandLinkButton *slotButtons[10];\nfor(int i=0; slotQuery.next(); i++)\n{\n    slotButtons[i] = new QCommandLinkButton;\n    slotButtons[i]-&gt;setText(slotQuery.value(0).toString());\n    slotButtons[i]-&gt;setDescription(slotQuery.value(1).toString());\n\n\n    ui-&gt;scrollAreaSlots-&gt;layout()-&gt;addWidget(slotButtons[i]);\n    ui-&gt;scrollAreaSlots-&gt;show();\n    slotButtons[i]-&gt;show();\n\n\n} \n</code></pre>\n\n<p>This compiles without errors but the buttons are not visible, even after calling show.\nCould anyone tell me where I'm going wrong?</p>\n\n<p>Update: If i remove all the \"[i]\"s and comment the loop; basically creating just a single command link button, it works perfectly. But it doesn't work for the loop. Is everything right with my looping?</p>\n"},{"tags":["python","qt","sorting","pyside","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12882980,"title":"How to sort items in Qt QListview using Qt.UserRole","body":"<p>I'm having some problem sorting the items in my <code>QListView</code> using values in a field I specified. </p>\n\n<p>Basically what I'm trying to do is this:</p>\n\n<ol>\n<li>Detect faces in a collection of photos and display them in a <code>QListView</code></li>\n<li>Cluster the faces (images)</li>\n<li>Update the view by placing items in the list (which are face images) belonging to the same cluster in together. Concretely, if item 1, 3, 5 are in one cluster and items 2, 4, 6 are in another, then items 1, 3, 5 should be displayed (in whatever permutations) before any of items 2, 4, 6 are displayed or vice versa.</li>\n</ol>\n\n<p>The way I went about doing this is to set one of the <code>UserRole</code> field for each <code>QStandardItem</code> in my list to the cluster label and then try to get the <code>QStandardModel</code> to sort according to this <code>UserRole</code>. This would then display items in the same cluster (i.e. with the same cluster label in the <code>UserRole</code>) next to each other. </p>\n\n<p>I'm able to set the <code>UserRole</code> successfully for the items but calling the sort function on the <code>QStandardModel</code> did not sort the items even though when I set the sort role to be the default <code>DisplayRole</code> (i.e. sort according to the text label of each face) it worked as intended.</p>\n\n<p>Can anyone tell me what is wrong with my code or offer an alternative method? I've googled sorting list and I found the following link on <a href=\"http://www.trinitydesktop.org/docs/qt4/itemviews-customsortfiltermodel.html%5d%5b1%5d\" rel=\"nofollow\">QSortFilterProxyModel</a> but as I'm quite new to Qt, I'm not able to adapt it to my situation. </p>\n\n<p>Thanks in advance to any replies.</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>import os\nfrom PySide.QtGui import QListView, QStandardItemModel, QStandardItem, QIcon\nfrom PySide.QtCore import Qt\n\nclass FacesView(QListView):\n    \"\"\"\n    View to display detected faces for user to see and label.\n    \"\"\"\n    UNCLUSTERED_LABEL = -1\n    CLUSTER_ROLE = Qt.UserRole + 1\n\n    def __init__(self, *args):\n        super(FacesView, self).__init__(*args)\n        self._dataModel = QStandardItemModel()\n        self.setModel(self._dataModel)\n        # Layout items in batches instead of waiting for all items to be\n        # loaded before user is allowed to interact with them.\n        self.setLayoutMode(QListView.Batched)\n\n    def updateFaceClusters(self, labels):\n        \"\"\"Update the cluster label for each face.\n        @param labels: [1 x N] array where each element is an integer\n        for the cluster the face belongs to.\"\"\"\n\n        assert(len(labels) == self._dataModel.rowCount())\n        # Put the cluster label each item/face belong to in the\n        # CLUSTER_ROLE field.\n        for i in xrange(self._dataModel.rowCount()):\n            index = self._dataModel.index(i, 0)\n            self._dataModel.setData(index, labels[i], self.CLUSTER_ROLE)\n\n        # Use cluster label as sort role\n        self._dataModel.setSortRole(self.CLUSTER_ROLE)\n        # This does NOT seem to sort the items even though it works fine\n        # when sort role is the default Qt.DisplayRole.\n        self._dataModel.sort(0)\n        print(\"Finished updating face clusters\")\n\n    def itemsInList(self):\n        \"\"\"Returns the label for a face and the path to its image.\n        @return: (label, path)\"\"\"\n        items = []\n        for i in xrange(self._dataModel.rowCount()):\n            label =  self._dataModel.index(i, 0).data(Qt.DisplayRole)\n            imagePath = self._dataModel.index(i, 0).data(Qt.UserRole)\n            clusterLabel = self._dataModel.index(i, 0).data(self.CLUSTER_ROLE)\n            items.append((imagePath, label, clusterLabel))\n\n        return items\n\n    def addItem(self, label, imagePath):\n        \"\"\"Add an item to list view\n        @param label: The label associated with the item.\n        @param imagePath: Path to image for the icon.\"\"\"\n        if os.path.exists(imagePath):\n            icon = QIcon(imagePath)\n        else:\n            icon = QIcon(':/res/Unknown-person.gif')\n\n        item = QStandardItem(icon, label)\n        item.setEditable(True)\n        # Add image path to the UserRole field.\n        item.setData(imagePath, Qt.UserRole)\n        # Add cluster label to image. CLUSTER_ROLE is where I intend\n        # to put the item's cluster label.\n        item.setData(self.UNCLUSTERED_LABEL, self.CLUSTER_ROLE)\n        # Prevent an item from dropping into another item.\n        item.setDropEnabled(False)\n        # Add item to list indirectly by adding it to the model.\n        self._dataModel.appendRow(item)\n\n    def clear(self):\n        self._dataModel.clear()\n</code></pre>\n"},{"tags":["c++","c","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12884296,"title":"How to close all tabs but active in Qt4(QTabWidget)","body":"<p>How to close all tabs but active in <code>QTabWidget</code>, when i know a active tab index, and counts of tabs?\nThe function of closing all tabs is <code>tabwidget-&gt;clear();</code> </p>\n"},{"tags":["c++","qt","shared-libraries","cross-compiling","raspberry-pi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":209,"score":0,"question_id":12849091,"title":"Cross-compiling QT apps for a raspberry pi - Cannot open shared object file","body":"<p>I want to be able to use the QT Creator on my full-sized desktop to be able to develop and compile qt apps and deploy them to the pi.</p>\n\n<p>I followed this guide: <a href=\"http://qt-project.org/wiki/Create#QtonPi_App_SDK\" rel=\"nofollow\">http://qt-project.org/wiki/Create#QtonPi_App_SDK</a></p>\n\n<p>I am trying to get the hello-qtonpi project to compile. Using the compiler and the toolchain for the pi, I get two errors during compiling:</p>\n\n<pre><code>/opt/qtonpi/lib/gcc/armv5tel-qtonpi-linux-gnueabi/4.5.4/../../../../armv5tel-qtonpi-linux-gnueabi/bin/as: error while loading shared libraries: libz.so.1: cannot open shared object file: No such file or directory\n/opt/qtonpi/libexec/gcc/armv5tel-qtonpi-linux-gnueabi/4.5.4/cc1plus: error while loading shared libraries: libmpc.so.2: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>I checked that these two libraries were installed on my pi, and the rsynced /lib and /usr/lib from the pi to my sys-root folder.</p>\n\n<p>I tried using the QT Creators Add Library -> System Library tool, and selected e.g. libz.so, as it didn't show the so.1 one. It added the following line to the .pro file:</p>\n\n<pre><code>unix:!macx:!symbian: LIBS += -lz\n</code></pre>\n\n<p>However it still didn't get rid of the error.</p>\n\n<p>How should I include these libraries or tell the compiler where to look from?</p>\n"},{"tags":["c++","osx","qt","boost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12883742,"title":"How do I integrate C++ Boost into a Qt project?","body":"<p>I would like to use boost/filesystem.hpp in my Qt app but the builder keeps saying:</p>\n\n<pre><code>Library not loaded: libboost_filesystem.dylib\nReason: image not found\n</code></pre>\n\n<p>here is how I try to link it:</p>\n\n<pre><code>INCLUDEPATH+= /installdir/boost_1_50_0  \nLIBS += -L/installdir/boost_1_50_0/stage/lib -lboost_filesystem\n</code></pre>\n\n<p>I've tried linking directly, too. I've also tried rebuilding boost according to <a href=\"http://stackoverflow.com/questions/4435067/adding-boost-library-to-a-c-project-in-os-x-eclipse\">jschoen's answer</a>, no difference.<br>\nIm running a MacOSX Lion. How do I have to link boost properly?</p>\n"},{"tags":["qt","mutex","qthread"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12882372,"title":"Why is QMutex used in this code?","body":"<p>I was reading someone else's code and I encountered this piece of code that is part of a multi - threaded application .This code is part of the <code>run()</code> function in a class which is inherited from <strong>QThread</strong>.<br>\nI thought <strong>QMutex</strong> is used for protecting a variable from being changed by several threads simultaneously . But here <code>stopped</code> is a member of the class. So it will be created for each instance of the class.<br>\n Am I wrong about mutexes? Has the programmer written a wrong code :) ? Or here mutex has another application?</p>\n\n<pre><code>void aThread::run(){\n   aMutex.lock();\n   if (stopped)\n   {\n     stopped=false;\n     aMutex.unlock();\n     break;\n   }\n   aMutex.unlock();\n}\n</code></pre>\n\n<p>Here is the declaration of the stopped :</p>\n\n<pre><code>class aThread : public QThread{\npublic :\n   void run();\nprivate:\n    volatile bool stopped;\n}\n</code></pre>\n"},{"tags":["c++","qt","flash-player","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12882412,"title":"QWebview with dynamic flash loaded. Any chances to have repaint signal","body":"<p>I have a QWebView which displays dynamic flash content. Is it any way to have repaint event or smth which can notify me about the act of content changes.</p>\n\n<p>I realize that flash player has it's own windown and window handler (HWND on Windows) inside QWebView, so regular QWebView::paintEvent doesn't work:</p>\n\n<pre><code>void View::paintEvent(QPaintEvent* event)\n{\n    emit repaint();\n\n    QWebView::paintEvent(event);\n}\n</code></pre>\n\n<p>I'd like to grab this QWebView and display it's content inside 3d scene.</p>\n\n<p>Best I can do is to start a QTimer which would be signaling every 1/25 sec.</p>\n"},{"tags":["c++","qt","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12882024,"title":"Getting Phonon to create a path from a MediaObject (mp3) to an AudioDataOutput","body":"<p>I've been having this problem for a couple of days now. I need a data stream from a song (using Qt and C++), and although Phonon has been very nice for playing the song, I can't get it to output data properly.</p>\n\n<p>Basically, I have an AudioPlayer class, which in its header has these variables:</p>\n\n<pre><code>    Phonon::MediaObject* song;\n    Phonon::AudioOutput* audioOutput;\n    Phonon::AudioDataOutput* audioDataOutput;\n    Phonon::Path audioPath;\n    Phonon::Path audioDataPath;`\n</code></pre>\n\n<p>And in its constructor, I have:</p>\n\n<pre><code>    song = new Phonon::MediaObject(this);\n    audioOutput = new Phonon::AudioOutput(Phonon::MusicCategory, this);\n    audioDataOutput = new Phonon::AudioDataOutput(this);\n</code></pre>\n\n<p>Then every time someone clicks the \"choose song\" button:</p>\n\n<pre><code>    song-&gt;setCurrentSource((Phonon::MediaSource) fileName);\n\n    audioPath.disconnect();\n    audioDataPath.disconnect();\n\n    audioDataPath = Phonon::createPath(song, audioDataOutput); // THE ERROR!!\n    audioPath = Phonon::createPath(song, audioOutput);\n\n    connect(audioDataOutput, SIGNAL(dataReady(QMap&lt;Phonon::AudioDataOutput::Channel,QVector&lt;qint16&gt; &gt;)),\n        this, SLOT(receiveData(const QMap&lt;Phonon::AudioDataOutput::Channel,QVector&lt;qint16&gt; &gt;)));\n\n    song-&gt;play();\n</code></pre>\n\n<p>So, on debugging it, the song plays fine and you can hear it, but there is a qDebug warning:</p>\n\n<pre><code>    WARNING: Phonon::createPath: Cannot connect  Phonon::MediaObject ( no objectName ) to  Phonon::AudioDataOutput ( no objectName ).\n</code></pre>\n\n<p>In my .pro file, there is this code, which I found somewhere and have no idea what it does, but maybe I need more of it:</p>\n\n<pre><code>    wince*{\n    DEPLOYMENT_PLUGIN += phonon_ds9 phonon_waveout\n    }\n</code></pre>\n\n<p>Now I'm not sure if this problem is my code or the software/ codecs on my computer (Windows 7 64 bit). I've looked through everyone's music visualiser code I can find, and tried variations like using QWeakPointers instead of normal pointers, and deleting them every time the user chooses the song. I would love it if Phonon worked for this purpose rather than using another library! If you know anything about this, please post! Googling has been quite unfruitful for me, and the Qt documentation mentions very little about using AudioDataOutput. Thanks!</p>\n"},{"tags":["qt","layout"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12880252,"title":"Qt hide QLayout (switch between two layouts)","body":"<p>I didn't find solution for my problem with two QLayouts. I need app with QHBoxLayout with possible expandind when I will add new widgets, push buttons, ....\nSo what I have: One QDialog and two layouts. Now I know that I can't hide the layout. \nSo I tray just :</p>\n\n<pre><code>layout()-&gt;removeItem(firstlayout);\nlayout()-&gt;addLayout(secondLayout);\n</code></pre>\n\n<p>But when I did this, I saw all items in first layout on possition [0,0].\nSo next step I try:</p>\n\n<pre><code>for (all items in first layout) if (widget) widget-&gt;hide();\n</code></pre>\n\n<p>But this is working only with QWidget and I have many different items in layouts.</p>\n\n<p>Simply way is use the widget, because there is possibole to use hide/show, but I need auto expanding window when I add new items.</p>\n"},{"tags":["algorithm","qt","gui","optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12879951,"title":"How to optimize qt tablewidget refreshing?","body":"<p>I'am using qt to develop a monitor which shows new log items received from the network.<br>\nI use <strong>QTableWidget</strong> to display the <strong>dynamic items received</strong> and the table only shows 100 rows.<br>\nThe problem is: the monitor will receive some 400 'messages' per sec and update the rows.<br>\nI found using <strong>setItem(row,col,item)</strong> and <strong>new QTableWidgetItem()</strong> is quite time-consuming, I only want to show the newest items(three strings at 3 cols) from top to buttom.<br>\nBut the method is really time-consuming, it costs 5.281s when I add 4000 test cases at one time, which should finish in 4000/400 = 10s.<br>\n<strong><em>So it costs the half time, how to shorten the time? Any better methods to use the qt tablewidget?</em></strong>  ;) Thanks for reading!</p>\n\n<p>The filterLog function code:</p>\n\n<pre><code>    start = clock();\n    filter_log_display();\n    duration_filterLogDisplay += (double)(finish - start) / CLOCKS_PER_SEC;\n</code></pre>\n\n<p>filter_log_display():</p>\n\n<pre><code>    clock_t start = clock();\n    row_selectable = false;\n    ui-&gt;tableWidget-&gt;setRowCount(0);//delete table items all\n    row_selectable = true;\n\n    int size_1 = logDisplayQueue.size() - 1;\n\n    ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setSliderPosition(0);\n\n    if(size_1+1 &lt; 100)\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(size_1 + 1);\n    }\n    else\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(100);\n    }\n    clock_t finish = clock();\n    duration_setRowCount += (double)(finish - start) / CLOCKS_PER_SEC;\n\n    for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n    {\n        start = clock();\n        LogInfoItem* logItem = (LogInfoItem*)logDisplayQueue.at(queue_i);\n        finish = clock();\n        duration_getItemFQueue += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n        finish = clock();\n        duration_bits2Hexs += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n        ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n        ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n        finish = clock();\n        duration_setItem += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        finish = clock();\n        duration_ifSelectRow += (double)(finish - start) / CLOCKS_PER_SEC;\n    }\n</code></pre>\n\n<p>Analysis about time: :) There are many places to optimize including this one :)</p>\n\n<p><img src=\"http://i.stack.imgur.com/JMMpK.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","qt","javadoc","qt-jambi"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12474502,"title":"Could not find class QWebElement","body":"<p>I'm using QtWebkit to develop a webapplication framework. Now I've begun to ude the DOM and I tryed to use the QWebElement. But when I tried to compile it brought the following error:</p>\n\n<p>symbol  : class QWebElement<br>\nlocation: class test<br>\n        QWebElement elem = new QWebElement();<br></p>\n\n<p>Here is an example that doesn't work:</p>\n\n<pre><code>import com.trolltech.qt.gui.*;\nimport com.trolltech.qt.webkit.*;\nimport com.trolltech.qt.core.*;\nimport com.trolltech.qt.xml.*;\n\npublic class test {\n    public test() {\n        QWebElement elem = new QWebElement();\n    }\n    public static void main(String[] args) {\n        QApplication.initialize(args);\n        new test();\n        QApplication.exec();\n    }\n}\n</code></pre>\n\n<p>Could anyone please tell me what I'm doing wrong?</p>\n\n<p>Edit:\nI forgot:\nWhen I look in the javadoc, I cant find it! everything says that it doesn't exist. But I've seen other people using it.\nDoes it exist or not?</p>\n"},{"tags":["python","qt","qt4","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12877534,"title":"Python Qt QListWidget Items Drag and Drop","body":"<p>How to move QListWidgetItem another row? Can i use drag and drop method?<br>\nExample:\n    QListWiget items:</p>\n\n<pre><code>item1\nitem2\nitem3\nitem4\n</code></pre>\n\n<p>item3 dragged and dropped. After:</p>\n\n<pre><code>item3\nitem1\nitem2\nitem4\n</code></pre>\n\n<p>I looked at this  <a href=\"http://qt-project.org/doc/qt-4.8/qlistwidget.html#dropMimeData\" rel=\"nofollow\">resource</a> but i don't understand anything. </p>\n"},{"tags":["qt","directshow","qt5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12879923,"title":"Qt5 directshow plugin (dsengine.dll) is not built under Windows7","body":"<p>I’ve tried to build the directshow multimedia plugin in Qt5 under Windows7, however, there is a problem that qedit.h is not found, as this file was removed from WindowsSDK 7.1 (which is the one I am required to use to build Qt5).\nSo I tried to follow this <a href=\"http://social.msdn.microsoft.com/Forums/en/windowsdirectshowdevelopment/thread/2ab5c212-5824-419d-b5d9-7f5db82f57cd\" rel=\"nofollow\">post here</a>.\nJust adding this qedit.h (from what I see it just needs the IID_ISampleGrabber and CLSID_SampleGrabber and that’s it) and recompiling. It linked alright, but when I run my application, if I try to play video it just doesn’t do a damn thing, and if I try to access the camera it just quits the application right away. Since I have no idea about the inner workings of DS, I don’t know how legitimate this fix is.</p>\n\n<p>How do I fix this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","qt","gui","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12876935,"title":"Python Qt QListWidget Double Clicked","body":"<p>I want to add double clicked attribute for my QListWidget objects.</p>\n\n<p>My command line does not work:</p>\n\n<pre><code>   self.connect(self.listWidget, QtCore.SIGNAL(\"itemDoubleClicked(QtGui.QListWidgetItem)\"), self.showItem)\n</code></pre>\n\n<p>How to add double clicked  attribute ? How to give object parameter to QtCore.SIGNAL.</p>\n"},{"tags":["qt","opengl","floating-point","fbo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":48,"score":1,"question_id":12873244,"title":"QGLFramebufferObject floating point texture","body":"<p>I need to render to a framebufferobject with GL_FLOAT as internal format for floating-point computations. I know how to achieve this using native OpenGL calls, such as:</p>\n\n<pre><code>glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA32F, width, height,\n             0, GL_RGBA, GL_FLOAT, NULL);\n</code></pre>\n\n<p>In order to use <a href=\"http://qt-project.org/doc/qt-4.8/QPainter.html\" rel=\"nofollow\">QPainter</a> to render to a FBO, <a href=\"http://qt-project.org/doc/qt-4.8/qglframebufferobject.html\" rel=\"nofollow\">QGLFramebufferObject</a> is required.\nHowever, QGLFramebufferObject doesn't allow to set the type, only the internal format and format of the texture (that is used in an color-attachment in my case).</p>\n\n<p><strong>Is there any way of using floating-point precision with QGLFramebufferObject in Qt 4.8?</strong></p>\n\n<p>I know I could somehow patch and recompile Qt, but that's cumbersome and not very elegant.\nI also considered writing my own FramebufferObject class, but then one has to derive from QPaintDevice and with that provide a custom QPaintEngine. Not a good solution, as Qt obviously has a paintengine for that, but it's not accessible.</p>\n"},{"tags":["c++","qt","smart-pointers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":12871415,"title":"qt garbage collection and smart pointers","body":"<p>Im thinking of starting using smart pointers in my qt work.The thing that confuses me how smart pointers would go with Qt garbage collection. The whole Qt stands on idiom that child QObject constructs with QObject* parent as ctor argument and therefore enables garbage collection.\nFor example:</p>\n\n<pre><code>     QWidget* mWidget = new QWidget(this);//Here we not only \n                                          //ensure that mWidget will be deleted  \n                                          //when its parent is deleted, but also tell qt,  \n                                          //that mWidget is not a window, but belongs to \n                                          //parent's layout         \n</code></pre>\n\n<p>Now if i want to wrap mWidget into the smart pointer.</p>\n\n<pre><code> typedef QScopedPointer&lt;QWidget&gt; WidgPtr;\n WidgPtr mWidget = WidgPtr(new QWidget(this));\n</code></pre>\n\n<p>But now when parent's dtor is called it will call delete on mWidget's pointer twice. First due to garbage collection, second when smart pointer dtor is called.</p>\n\n<p>Of course we can construct mWidget without parent and then change some flags to turn off window behaviour or call setParent() (But then again mWidget will be deleted twice). But to me its too much to do such a complex initialization only to be able   to use smart pointers instead of raw pointers.\nOr maybe i miss something?\nThanks.</p>\n"},{"tags":["c++","qt","button","messagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3049,"score":0,"question_id":5247979,"title":"Qt: How to display a Messagebox when you are within a function?","body":"<p>I'm developing using the Qt Nokia SDK.</p>\n\n<p>I'm having trouble displaying the buttons of a MessageBox, when trying to display a messagebox within a function. If i try to display it within the main window, there is no problem showing the buttons.</p>\n\n<p>The mainwindow consist of a QStackWidget which holds different widgets.</p>\n\n<p>Here is the code that works in main window:</p>\n\n<pre><code>QMessageBox msgBox;\n    msgBox.setText(\"Name\");\n    msgBox.setInformativeText(\"Do you want to save your changes?\");\n    msgBox.setStandardButtons(QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel);\n    msgBox.setDefaultButton(QMessageBox::Save);\n    int ret = msgBox.exec();\n</code></pre>\n\n<p>Here is the function and code that i run after receiving a response from a web request (The messagebox displays, but not the buttons.</p>\n\n<pre><code>void MainWindow::RequestReceived()\n{\n    QMessageBox *msgBox = new QMessageBox(this);\n        msgBox-&gt;setText(\"Test\");\n        msgBox-&gt;setWindowModality(Qt::NonModal);\n        msgBox-&gt;setInformativeText(\"Do you want to save your changes?\");\n        msgBox-&gt;setStandardButtons(QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel);\n        msgBox-&gt;setDefaultButton(QMessageBox::Save);\n        int ret = msgBox-&gt;exec();\n}\n</code></pre>\n\n<p>Anyone got an idea of what is happening?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","qtreeview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12874617,"title":"QTreeView custom cell style","body":"<p>I have a <code>QSqlQueryModel</code> attached to a <code>QTreeView</code>. My query return X fields. One of these fields is a flag. This field should be invisible and this flag tells me which field I have to highlight in current row. </p>\n\n<p>So, how can I hide that field and change background color of another cell  (of the same row) reading that flag?</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12872251,"title":"Button over image in pyQt, Qt","body":"<p>i have created a widget(Qlabel) which displays the image using pixmap. now, i want to add few buttons over that image(basically, over widget containing pixmap, ie. Qlabel)</p>\n\n<p>Kindly refer to the attached image.</p>\n\n<p><img src=\"http://i.stack.imgur.com/u4b71.jpg\" alt=\"enter image description here\"></p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt","qt5"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":12817258,"title":"Qt(5): Render same video on 2 different surfaces using QtMultimedia","body":"<p>I'm developing an application in Qt(5), and basically I’m trying to render the same video source onto 2 locations in my window, using QtMultimedia5.\nI’m doing it in QML, but if there is a solution in C++ I will be happy to implement it instead.</p>\n\n<p>I have no problem to show a video in a window. Problems start when I try to use the same QMediaSource but render it onto 2 windows / controls.</p>\n\n<p>What I see is happening is that QMediaService::requestControl is called, which returns a QVideoRendererControl object. Then QVideoRendererControl::setSurface is called to set the surface to which it renders the video.\nSo from what I gather QMediaService has one surface to which it renders the video at any given time.</p>\n\n<p>How can I render to 2 surfaces or more? Are there other classes that will suit my needs better?</p>\n\n<p>Cheers</p>\n"},{"tags":["c++","qt","console-application","getopenfilename"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12866490,"title":"QFileDialog::getOpenFileName in console application","body":"<p>This is a question first posted on <a href=\"http://www.qtforum.org\" rel=\"nofollow\">qtforum.org</a> where I've <a href=\"http://www.qtforum.org/article/38486/qfiledialog-getopenfilename-in-console-application.html#post120385\" rel=\"nofollow\">got no answer</a>:</p>\n\n<p>I have trouble hiding the Open dialog in a console application after it has been used. \nHere is the content of main.cc file used to test this behaviour:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QFile&gt;\n#include &lt;QFileDialog&gt;\n#include &lt;QString&gt;\n\nbool b_closing = false;\n\nstatic QString gofn ( void )\n{\n    QString    s_file;\n    s_file = QFileDialog::getOpenFileName(\n            qApp-&gt;activeWindow(),\n            QObject::tr( \"Select the file to open:\" )\n            );\n    if ( !s_file.isEmpty() )\n    {\n        /* ... */\n    }\n\n    /* have no effect; */\n    QApplication::processEvents();\n    QApplication::sendPostedEvents();\n\n    return s_file;\n}\n\nstatic void userInpLoop ( void )\n{\n    QFile    cons_inp;\n    QFile    cons_outp;\n    QString  s_ln;\n\n    cons_inp.open( stdin, QIODevice::ReadOnly );\n    cons_outp.open( stdout, QIODevice::WriteOnly );\n\n    for ( ;; )\n    {\n        if ( b_closing )\n            break;\n\n        cons_outp.write( \"\\n&gt;\" );\n        cons_outp.flush();\n        s_ln = cons_inp.readLine().trimmed();\n\n        if ( s_ln == \"q\" )\n        {\n            b_closing = true;\n            cons_outp.write( \"Closng...\\n\" );\n        }\n        else if ( s_ln == \"gofn\" )\n        {\n            cons_outp.write( gofn().toLatin1() );\n        }\n        else\n        {\n            cons_outp.write( \"ERROR!!! \\nInvalid input!\\n\" );\n        }\n        cons_outp.flush();\n        //break; /* just to test that a.exec() hides the dialog */\n    }\n\n}\n\nint main( int argc, char *argv[] )\n{\n    /* we choose QApplication instead of QCoreApplication because we need some Gui components */\n    QApplication a(argc, argv);\n    userInpLoop();\n    //return a.exec(); /* this will hide the dialog */\n    return 0;\n}\n</code></pre>\n\n<p>I build the application using this .pro file:</p>\n\n<pre><code>QT += core gui\nTARGET = test_gofn\nCONFIG += console\nCONFIG -= app_bundle\nTEMPLATE = app\nSOURCES += main.cc\n</code></pre>\n\n<p>OS: Ubuntu 12.04</p>\n\n<p>Qt: 4.8.2 builded from the trunk </p>\n"},{"tags":["qt","plugins","static","linker"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":80,"score":3,"question_id":12872598,"title":"Own static linking plugin","body":"<p>I have plugin and i want static link it with my app.\nIn plugin.pro file i have:</p>\n\n<pre><code>TEMPLATE = lib\nCONFIG += staticlib\n</code></pre>\n\n<p>In plugin.cpp:</p>\n\n<pre><code>Q_EXPORT_PLUGIN2(plugin, pluginClass)\n</code></pre>\n\n<p>Of course TARGET in .pro file is the same as plugin name.</p>\n\n<p>In myapp.pro file:</p>\n\n<pre><code>LIBS += libplugin.a\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtPlugin&gt;\n\nQ_IMPORT_PLUGIN(plugin)\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    ...\n    return a.exec();\n}\n</code></pre>\n\n<p>Plugin compiles without errors, i got *.a and *.o files, so i copied *.a file to myapp directory and when i trying compile i get error like this:</p>\n\n<pre><code>cannot find -lmyplugin.a\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>So i gave full path to libplugin.a in myapp.pro file and i got in the line with Q_IMPORT_PLUGIN error:</p>\n\n<pre><code>undefined reference to `qt_plugin_instance_plugin()'\n</code></pre>\n\n<p>and much errors like this:</p>\n\n<pre><code>undefined reference to `pluginClass::function()'\n</code></pre>\n\n<p>I included *.h file of my plugin.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["qt","qmake"],"answer_count":4,"favorite_count":13,"up_vote_count":24,"down_vote_count":0,"view_count":14169,"score":24,"question_id":2580934,"title":"How to specify different Debug/Release output directories in QMake .pro file","body":"<p>I have a Qt project and I would like to output compilation files outside the source tree.</p>\n\n<p>I currently have the following directory structure:</p>\n\n<pre><code>/\n|_/build\n|_/mylib\n  |_/include\n  |_/src\n  |_/resources\n</code></pre>\n\n<p>Depending on the configuration (debug/release), I will like to output the resulting files inside the build directory under build/debug or build/release directories.</p>\n\n<p>How can I do that using a .pro file?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12788793,"title":"Reducing the size of image","body":"<p>I'm trying to insert an image into my project. I wrote the following code:</p>\n\n<pre><code>void MainWindow::on_Layer_Updated(int arg1)\n{\n    if(ui-&gt;scrnCheck1-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;insCheck1-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;scrnCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;sheathCheck1-&gt;checkState() == Qt::Checked\n            &amp;&amp; ui-&gt;insCheck3-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;concentricCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;insCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;armorCheck-&gt;checkState() == Qt::Checked\n            &amp;&amp; ui-&gt;jacketCheck-&gt;checkState() == Qt::Checked)\n    {\n        QImage image;\n\n        image.load(\":/CondScrnInsScrnSheathInsCentricInsWiresArmJacket.png\");\n        ui-&gt;label_2-&gt;setPixmap(QPixmap::fromImage(image));\n        ui-&gt;frame_10-&gt;setMinimumHeight(image.size().height() + 20);\n        ui-&gt;groupBox_3-&gt;setMinimumHeight(ui-&gt;frame_10-&gt;size().height() + 20);\n    }\n</code></pre>\n\n<p>When I'm running the program the image is getting popped up but the size of the image is large that it is overlapping with another grid. So I reduced the image view->height size in mainwindow.ui. Then only half of the image is displayed. How can I adjust the image so that it will not overlap with the other grid?</p>\n"},{"tags":["qt","signals","signals-slots","metaobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12858780,"title":"Qt trigger signal on all instances of a given class","body":"<p>Typically Qt signals are triggered on a specific instance of a QObject. </p>\n\n<p>Is there a way to trigger it on all instances of a specific class via, perhaps, MetaObjects? </p>\n\n<p>Or the only way is to maintain your own static list of all instances, perhaps by using constructors and destructors, and then just Q_FOREACH it? </p>\n"},{"tags":["c++","linux","qt","multi-touch"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":493,"score":6,"question_id":2431052,"title":"Multitouch in Linux","body":"<p>I have two questions:</p>\n\n<ol>\n<li>How to simulate touch event in linux.</li>\n<li>How to work with multitouch on Qt in Linux.</li>\n</ol>\n"},{"tags":["delphi","qt","vcl"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":1154,"score":2,"question_id":4085461,"title":"Future Delphi with Qt","body":"<p>Will the next version of Delphi be released with cross platform support and Qt based components? If so, do we have to distribute with Qt? (I don't know anything about Qt) \nHow can Qt help the Delphi world, and why did many programmers using C++ start using Qt with, and what will happen to VCL?</p>\n"},{"tags":["qt","multi-touch","pinch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":8257493,"title":"Pinch Simulation without Multi touch device","body":"<p>I am working on a c++ project in windows OS where I need to simulate multitouch gesture like Pinch without multitouch device.Similar to Iphone where user can simulate pinch by holding option key. \nI want to know whether this can be achieved through Framework like QT ?</p>\n"},{"tags":["qt","touch","multi-touch","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":247,"score":0,"question_id":8886529,"title":"QTouchEvent not triggering with Qt 4.7.4 under Windows 8?","body":"<p>I am having an issue with QT touch/multitouch support under Windows 8 running on an Acer W501 x86 tablet with a 4-point touch screen. </p>\n\n<p>I have a QGraphicsView widget on which I've done</p>\n\n<pre><code>setAttribute(Qt::WA_AcceptTouchEvents);\n</code></pre>\n\n<p>The widget's parent has an eventFilter method:</p>\n\n<pre><code>bool MyGUI::eventFilter(QObject* pObject, QEvent* pEvent)\n{\n    QEvent::Type eType = pEvent-&gt;type();\n    if (pObject == _uiWindow._multitouchArea)\n    {\n        if ((eType == QEvent::TouchBegin) || (eType == QEvent::TouchEnd) || (eType == QEvent::TouchUpdate))\n        {\n            // invoke multi touch event handling here\n            _handleTouchEvent(pEvent);\n        }\n        else if ((eType == QEvent::MouseButtonPress) || (eType == QEvent::MouseButtonRelease) || (eType == QEvent::MouseMove))\n        {\n            // invoke mouse based handling here\n            _handleMouseEvent(pEvent);\n        }   \n    }\n    else\n    {\n        return pObject-&gt;event(pEvent);\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>which is installed on the QGraphicsViewWidget.</p>\n\n<p>Now I understand that Qt by default interprets single point touch events as mouse events and sends them to the application like that. However, I've been unable to trigger any TouchBegin/TouchUpdate/TouchEnd events whatsoever no matter how hard I mash the touch screen with any part(s) of my anatomy...</p>\n\n<p>Is there something that I am missing here?</p>\n\n<p>Thank you all!</p>\n"},{"tags":["image","qt","size","qgraphicsview","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12868686,"title":"QGraphicsView / QGraphicsScene image size","body":"<p>I want to display an image in a QGraphicsView with a QGraphicsScene. My code is very basic : </p>\n\n<pre><code>QGraphicsScene* scene = new QGraphicsScene(this);\nscene-&gt;addPixmap(QPixmap(qApp-&gt;applicationDirPath() +\"/france.gif\"));\nui-&gt;myGraphicsView-&gt;setScene(scene);\nui-&gt;myGraphicsView-&gt;fitInView(scene-&gt;sceneRect());\n</code></pre>\n\n<p>My problem is that my picture has a wrong size. It is very small, with wrong proportions and on the center of my GraphicsView. With qDebug i kwow that my picture is load successfully and it has a size of about 100x800px. My graphicsView is smaller so i want to resize my picture to adjust it with my GraphicsView size. </p>\n\n<p>The graphicsView is set in the mainwindow Form and the scene is declared in the header : \"QGraphicsScene scene;\"</p>\n\n<p>I try everything is possible in the world (i think) but the graphicsView is alaways blank or contains the small version of the picture. When I copy/paste some codes of internet i always get this problem. I also try with this example : <a href=\"http://stackoverflow.com/questions/8279567/qt-gui-development-displaying-a-2d-grid-using-qgraphicsview\">Qt GUI Development - Displaying a 2D grid using QGraphicsView</a> , same problem... </p>\n\n<p>Maybe i'm very very very tired but i really don't understand what is wrong. Help me please :)</p>\n"},{"tags":["c++","qt","g++","qt-creator","compiler-optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12785364,"title":"Configuration for optimizing Qt creator compiler","body":"<p>I'm using Qt creator in windows platform(seven).\nI want to configure it as it uses third level optimization (-O3) for c++ compiling.</p>\n\n<p>Now here is the question that how can I do this to speed up my code and what changes are necessary ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["windows","file","qt","delete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12866981,"title":"Deleting currently loaded files using Qt on Windows","body":"<p>I am trying to delete all the temporary files created by my application during uninstall. I use the following code:</p>\n\n<pre><code> bool DeleteFileNow( QString filenameStr )\n    {\n        wchar_t* filename;\n        filenameStr.toWCharArray(filename);\n\n        QFileInfo info(filenameStr);\n\n        // don't do anything if the file doesn't exist!\n        if (!info.exists())\n            return false;\n\n        // determine the path in which to store the temp filename\n        wchar_t* path;\n        info.absolutePath().toWCharArray(path);\n\n        TRACE( \"Generating temporary name\" );\n        // generate a guaranteed to be unique temporary filename to house the pending delete\n        wchar_t tempname[MAX_PATH];\n        if (!GetTempFileNameW(path, L\".xX\", 0, tempname))\n            return false;\n\n        TRACE( \"Moving real file name to dummy\" );\n        // move the real file to the dummy filename\n        if (!MoveFileExW(filename, tempname, MOVEFILE_REPLACE_EXISTING))\n        {\n            // clean up the temp file\n            DeleteFileW(tempname);\n            return false;\n        }\n\n         TRACE( \"Queueing the OS\" );\n        // queue the deletion (the OS will delete it when all handles (ours or other processes) close)\n        return DeleteFileW(tempname) != FALSE;\n    }\n</code></pre>\n\n<p>My application is crashing. I think its due to some missing windows dll for the operations performed. Is there any other way to perform the same operation using Qt alone?</p>\n"},{"tags":["c++","qt","design-patterns","design","inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12859270,"title":"Designing a UI framework for multiple platforms","body":"<p>We're working on an embedded software UI framework based on Qt which would currently power 2 types of devices -  a phone and a tablet. Later on there might be other form factors which will have completely different UIs. The UI currently is similar for both the phone and the tablet with differences mostly being in dimensions. We would like to expose a common API to application developers (internal, no external apps) so that they don’t have to write separate screens for each platform.</p>\n\n<p>To develop a screen, the app developer has to inherit from a Screen class, or from a more specialized screen such as PrefScreen class. We wanted to expose a uniform interface for each component to app developers, but with platform specific implementations in the framework. We have the following classes:</p>\n\n<p>ScreenBase (Exposes interfaces common to all platforms)\nScreenPhone : ScreenBase\nScreenTablet : ScreenBase</p>\n\n<p>PrefScreenBase (Exposes interfaces common to all platforms) <br />\nPrefScreenPhone: PrefScreenBase\nPrefScreenTablet: PrefScreenBase</p>\n\n<p>To achieve it we have the following type defs:</p>\n\n<pre><code>#ifdef PHONE\ntypedef ScreenPhone Screen;\ntypedef PrefScreenPhone PrefScreen;\n#elif TABLET\ntypedef ScreenTablet Screen;\ntypedef PrefScreenTablet PrefScreen;\n#endif\n</code></pre>\n\n<p>The inheritance structure is as follows\nScreenBase <br />\n|_ScreenPhone <br />\n|_ScreenTablet <br /></p>\n\n<p>PrefScreenBase : Screen (resolves to ScreenPhone or ScreenTablet based on the platform it’s built for) <br />\n|_PrefScreenPhone <br />\n|_PrefScreenTablet <br /></p>\n\n<p>Screen would resolve to ScreenPhone on the build for the phone, and resolve to ScreenTablet on the build for the tablet.\nPrefScreen would resolve to PrefScreenPhone on the build for the phone, and resolve to PrefScreenTablet on the build for the tablet.</p>\n\n<p>On the phone, the hierarchy would be ScreenBase->ScreenPhone->PrefScreenBase->PrefScreenPhone\nOn the tablet, the hierarchy would be ScreenBase->ScreenTablet->PrefScreenBase->PrefScreenTablet</p>\n\n<p>In essence, the platform specific classes derive from the common *Base classes, and the *Base classes derive from the appropriate class based on the platform it is built for.\nWe considered using the Bridge Pattern (http://en.wikipedia.org/wiki/Bridge_pattern) to solve the problem but our deadlines don’t seem to allow that. Also since our framework is based on the Qt framework,  separating the implementation from the interfaces would be complicated.</p>\n\n<p>Is the above mentioned approach being used in any frameworks? Do you see major problems with the mentioned approach? If so, what would be the alternative?\nOur main goals are to abstract away the platform differences to application developers, and to ensure maximum code reuse.</p>\n"},{"tags":["c++","qt","qprocess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":480,"score":0,"question_id":7113506,"title":"QProcess becomes defunct and unable to start again","body":"<p>I'm using a List of QProcess objects to keep track of some processes that need to be start/stopped at user defined intervals.</p>\n\n<p>I'm able to start and stop the processes OK. But the issue arises when I stop a process using the following methods (Pseudo code):</p>\n\n<pre><code>process-&gt;start(\"PathToProcess\",\"Some Arguments\");\n//Do some stuff.\nprocess-&gt;terminate();\n</code></pre>\n\n<p>However, if I try to start the process again at another time, I get the error:</p>\n\n<pre><code>QProcess::start:  Process is already running\n</code></pre>\n\n<p>I can do a ps -ef|grep processName and find that it is indeed dead, but it's sitting in a defunct state which I think is preventing me from starting it again.</p>\n\n<p>What do I need to do to prevent this defunct state, or remove the defunct method so I can start my process again without reconstruction?</p>\n"},{"tags":["c++","qt","gui","translation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":107,"score":2,"question_id":12864018,"title":"Hard-coding Russian Translations in qt C++","body":"<p>I'm An entry level programmer and new to QT too. I have a project where i am hard coding my programing into a three different languages. I am having an issue on figuring out how to hard code Russian instead of letters i get???. my code is broken down into FR.h SP.h German.h Russian.h ->i understand the others use a Latin codec but Russian doesn't English.h example below of how files look-each word is defined </p>\n\n<pre><code>    #ifndef EN_H\n#define EN_H\n\n#define TR_PRG_EN                 \"Program\"\n#define TR_HELP_EN                \"Help\"\n#define TR_PASSRW_EN              \"Pass: R/W\"\n#define TR_ALLOWWRITE_EN          \"Allow Write\"\n#define TR_SERIAL_EN              \"Serial #\"\n#define TR_ALLOWREAD_EN           \"Allow Read\"\n#define TR_PRO_EN                 \"Product #\"\n#define TR_MEMSIZE_EN             \"Mem. Size\"\n#define TR_TRIP_EN                \"Trip #\"\n#define TR_RANGE_EN               \"Range\"\n#define TR_DESCR_EN                \"Description\"\n#define TR_LOGSET_EN              \"Logger Settings\"\n#define TR_INTTEMP_EN             \"Int. Temp (NTC)\"\n#define TR_HHIGH_EN               \"HHigh(°F)\"\n#define TR_HIGH_EN                \"High(°F)\"\n#define TR_LOW_EN                 \"Low(°F)\"\n#define TR_LLOW_EN                \"LLow(°F)\"\n</code></pre>\n\n<p>with russian.h </p>\n\n<pre><code>    #ifndef RU_H\n#define RU_H\n\n#define TR_ENCODING               \"utf-8\"\n#define TR_PRG_RU                 \"??????????\"\n#define TR_HELP_RU                \"Help\"\n#define TR_PASSRW_RU              \"?????????\"\n#define TR_ALLOWWRITE_RU          \"????????\"\n#define TR_SERIAL_RU              \"???????? #\"\n#define TR_ALLOWREAD_RU           \"????????? ??????\"\n#define TR_PRO_RU                 \"??????? #\"\n#define TR_MEMSIZE_RU             \"?????? ?????? \"\n#define TR_TRIP_RU                \"??????? #\"\n#define TR_RANGE_RU               \"????????\"\n#define TR_DESCR_RU                \"????????\"\n</code></pre>\n\n<p>i then have Clang.cpp(class,with.h file) file which i put the words into a Qlist>(2d array)->below is an example</p>\n\n<pre><code>const char *trOK[NB_LAN]={TR_OK_EN,TR_OK_FR,TR_OK_SP,TR_OK_IT,TR_OK_RU,TR_OK_GR,TR_OK_PR};\nconst char *trName[NB_LAN]={TR_NAME_EN,TR_NAME_FR,TR_NAME_SP,TR_NAME_IT,TR_NAME_RU,TR_NAME_GR,TR_NAME_PR};\nconst char *trDesc[NB_LAN]={TR_DESC_EN,TR_DESC_FR,TR_DESC_SP,TR_DESC_IT,TR_DESC_RU,TR_DESC_GR,TR_DESC_PR};\nconst char *trLL[NB_LAN]={TR_LL_EN,TR_LL_FR,TR_LL_SP,TR_LL_IT,TR_LL_RU,TR_LL_GR,TR_LL_PR};\nconst char *trL[NB_LAN]={TR_L_EN,TR_L_FR,TR_L_SP,TR_L_IT,TR_L_RU,TR_L_GR,TR_L_PR};\nconst char *trH[NB_LAN]={TR_H_EN,TR_H_FR,TR_H_SP,TR_H_IT,TR_H_RU,TR_H_GR,TR_H_PR};\nconst char *trHH[NB_LAN]={TR_HH_EN,TR_HH_FR,TR_HH_SP,TR_HH_IT,TR_HH_RU,TR_HH_GR,TR_HH_PR};\nCLang::CLang()\n{\n    for(int i=0;i&lt;NB_LAN;i++)\n    {\n\n        strTab &lt;&lt; QStringList();\n        strTab[i] &lt;&lt; trPrg[i];            //m_tabLogger\n        strTab[i] &lt;&lt; trHelp[i];           //m_textBrowserHelp\n        strTab[i] &lt;&lt; trPassrw[i];         //label_13\n        strTab[i] &lt;&lt; trAllowWrite[i];     //m_checkBoxLoggerAllowWrite\n        strTab[i] &lt;&lt; trSerial[i];         //label_2\n        strTab[i] &lt;&lt; trAllowRead[i];      //m_checkBoxLoggerAllowRead\n        strTab[i] &lt;&lt; trPro[i];            //label_3\n        strTab[i] &lt;&lt; trMemSize[i];        //label_5\n        strTab[i] &lt;&lt; trTrip[i];           //label_6\n        strTab[i] &lt;&lt; trRange[i];          //m_labelRange\n        strTab[i] &lt;&lt; trDescr[i];           //label_7\n        strTab[i] &lt;&lt; trLogSet[i];         //m_groupBoxSettings\n</code></pre>\n\n<p>then i call it in the main window , so my question how do i make the russian language show the letters \nanother question i have is i mulitple windows(GUI) how do i call these translations on those different windows(GUI)</p>\n"},{"tags":["c++","qt","botan"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12851441,"title":"QString to const byte* conversion","body":"<p>I'm trying to use the Botan library to create a SHA-256 hash of a couple QStrings - a password and a salt.  I have made many attempts trying to get a concatenated salt+password into the correct type for input into the Botan process function.  The documentation for the class I'm trying to use in Botan is found at <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1SHA__256.html\" rel=\"nofollow\">botan sha-256 documentation</a>   My latest attempt is</p>\n\n<pre><code>///\n/// Computes salted data hash\n///\n\nQByteArray MyClass::HashData(QString salt, QString password)\n{\n    QString concatenated = salt+password;\n    QByteArray input(concatenated.toLocal8Bit());\n    Botan::SHA_256 sha;\n    Botan::SecureVector&lt;Botan::byte&gt; saltedHash\n            = sha.process(&amp;input,input.count()-1);  // -1 to get rid of the \\0\n    return QByteArray(saltedHash);\n}\n</code></pre>\n\n<p>When I compile I get an error: no matching function for call to 'Botan::SHA_256::process(QByteArray*, int)'... candiates are: /usr/include/botan-1.10/botan/buf_comp.h:101: Botan::SecureVector Botan::Buffered_Computation::process(const byte*, size_t)</p>\n\n<p>How can I cast or copy a QString or a QByteArray into a const byte*?</p>\n\n<p><strong>EDIT:</strong>  After I posted the question I tried a few more approaches.  One that appears to work is attached below, but I'm uncomfortalbe using the reinterpret_cast because it seams like it could lead to problems that I'm not aware of in my c++ noob state.</p>\n\n<pre><code>Botan::SecureVector&lt;Botan::byte&gt;  MyClass::HashData(QString salt, QString password)\n{\n    QString concatenated = salt+password;\n    QByteArray buffer(concatenated.toLocal8Bit());\n    unsigned char * input = reinterpret_cast&lt; unsigned char*&gt;(buffer.data());\n\n    Botan::SHA_256 sha;\n    Botan::SecureVector&lt;Botan::byte&gt; saltedHash\n            = sha.process(input,buffer.count()-1);  // -1 to get rid of the \\0\n    return (saltedHash);\n}\n</code></pre>\n"},{"tags":["c++","qt","segmentation-fault"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":94,"score":-4,"question_id":12851662,"title":"qt app.exec() segmentation fault core dumped","body":"<p>I have coded an application in QT. The app runs fine but on exit I get an</p>\n\n<pre><code>Segmentation fault (core dumped)\n</code></pre>\n\n<p>how can I solve this segmentation problem?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12862286,"title":"How do I get application output from a Qt Creator plugin?","body":"<p>I'm writing an plugin for Qt Creator that will use the application output for a secondary reason (real-time graphical display of data).  However, I've run into the problem of getting the application output.  I don't wish to steal the output completely, just duplicate it.  However, being able to filter what the debugger gets would be nice but not a requirement.</p>\n\n<p>In case you are wondering, I'm trying to avoid modifying existing plugins so that any update to Qt Creator won't conflict and require patching for every single new version.</p>\n"},{"tags":["qt","header-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12860499,"title":"How to #include existing header files in Qt?","body":"<p>I have some previously written headers and I would like to include them in my Qt project. How can I do that without copying them in place? </p>\n\n<p>After I added them with \"Add Existing Files...\" I can't seem to be able to #include my headers. Neither #include \"header.h\" nor #include \"fullpath/header.h\" works.</p>\n"},{"tags":["c++","qt","datetime","utc"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":12859258,"title":"utc seconds since midnight to datetime","body":"<p>I'm getting radar data as \"tracks\" and the track data indicates the number of UTC seconds since the last midnight, apparently. This is not the number of seconds since the 1st of jan 1970.</p>\n\n<p>Now I want to convert that to date time, knowing that the clock on the computer could be slightly out of sync with the clock on the radar. I'll assume the radar's seconds are the reference, not the computer's.\nI want to convert these  seconds  to a full date time. Things seem to be a little tricky around\nmidnight. </p>\n\n<p>Any suggestions? I've got some ideas, but I don't want to miss anything.</p>\n\n<p>I'm working with C++ Qt.</p>\n"},{"tags":["multithreading","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1170,"score":1,"question_id":2182252,"title":"How to wait in the main thread until all worker threads have completed in Qt?","body":"<p>I have designed an application which is running 20 instance of a thread. </p>\n\n<pre><code>for(int i = 0;i&lt;20;i++)\n{\n    threadObj[i].start();\n}\n</code></pre>\n\n<p>How can I wait in the main thread until those 20 threads finish?</p>\n"},{"tags":["c++","qt","design-patterns","project"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12859217,"title":"Programing a modeling tool with Qt","body":"<p>I'm willing to develop a database modeling tool for a school project using C++ &amp; Qt, and I was wondering if there are any books , tutorials, open source apps ... etc, that I should explain the good practices and the way to design the code.</p>\n\n<p>I hope my question is clear enough, and  thanks.</p>\n"},{"tags":["python","qt","pyqt","qvariant"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12837701,"title":"PyQt: How do I find tuples using QComboBox::findData()?","body":"<p>I can't get <a href=\"http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qcombobox.html#findData\" rel=\"nofollow\"><code>QComboBox::findData</code></a> to work properly in my PyQt application.</p>\n\n<p>It seems as if PyQt doesn't compare QVariant's with Python tuples properly, causing Qt not to find my tuples. Example follows:</p>\n\n<pre><code>import sip\nsip.setapi('QVariant', 2)\nfrom PyQt4 import Qt\n\na = Qt.QApplication([])\n\ncb = Qt.QComboBox()\ncb.addItem(\"Bah\", (1,2))\ncb.addItem(\"Foo\", (3,4))\n\nprint cb.findData((1,2))\nprint cb.findData((3,4))\n\nprint cb.itemData(0)\nprint cb.itemData(1)\n\nprint cb.findData(cb.itemData(0))\nprint cb.findData(cb.itemData(1))\n</code></pre>\n\n<p>With api=2 (auto-convert QVariant&lt;->python) it does not find anything and I get the following output:</p>\n\n<pre><code>-1\n-1\n(1, 2)\n(3, 4)\n-1\n-1\n</code></pre>\n\n<p>With api=1 (no auto-convert), it only finds it in the latter (useless) case:</p>\n\n<pre><code>-1\n-1\n&lt;PyQt4.QtCore.QVariant object at 0x02FBF148&gt;\n&lt;PyQt4.QtCore.QVariant object at 0x02FBF148&gt;\n0\n1\n</code></pre>\n\n<p>Any idea how to get the first case working (findData with new tuples, and auto-convert QVariant) ?</p>\n\n<p><em>(Using PyQt 4.8.3, SIP 4.12.1 and Qt 4.6.1)</em></p>\n"},{"tags":["xcode","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12857058,"title":"How to integrate Qt code with Xcode project?","body":"<p>I have a safari plugin. I want to use Qt to make UI for plug in.</p>\n\n<p>How should I use Qt with already existing xcode project?</p>\n"},{"tags":["qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12856324,"title":"Qt QPushbutton Icon underneath Text","body":"<p>When I create a QPushButton with an Icon it by default displays the text to the right of the icon. Is there a way to have the text display above the icon?</p>\n"}]}
{"total":16228,"page":10,"pagesize":100,"questions":[{"tags":["c++","qt","debugging","gdb","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12853017,"title":"\"qwidget must construct a qapplication before a qpaintdevice\" error for qt-vtk app in windows only","body":"<p>I know this is a common error and already answered in stackoverflow. But my problem is a bit different. While debugging my app on windows am getting this error. But in linux , the same code works just fine. in both the cases am using same vtk build 5.4 and same qt build 4.5 .\nEven the system configuration is same. In windows , in release mode application runs just fine. Problem is in debugging only. Am using cmake/qtcreator/gdb toolchain.</p>\n"},{"tags":["windows","qt","openssl","qwebkit"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":501,"score":8,"question_id":9122051,"title":"How can I distribute OpenSSL with my Qt WebKit based application to Windows?","body":"<p>I have a Qt QWebKit based application that needs to use HTTPS to talk to web pages. I have downloaded the QtSDK, as well as the OpenSSL binaries (<a href=\"http://www.slproweb.com/products/Win32OpenSSL.html\">from here</a>).</p>\n\n<p>My problem lies in deploying my application. I have copied the relevant Qt DLL files, as well as the relevant OpenSSL DLL files (<code>libeay32.dll</code> and <code>ssleay32.dll</code>) into my application directory, but when I try to access HTTPS web pages from within my application it fails! The application doesn't crash, but the page is blank. Regular HTTP pages work perfectly fine. </p>\n\n<p>It's clear that there's an error with how I'm distributing OpenSSL with my application, I'm just not sure where I'm going wrong.</p>\n\n<p>I'd really not like to bundle the OpenSSL installer with my application.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12850355,"title":"Automatically updating QDateTimeEdit so that it displays the current system date and time","body":"<p>Using the Qt library, is there a way to automatically update a <code>QDateTimeEdit</code> using a signal such that the widget shows the current date and time in a similar fashion to a clock?</p>\n\n<p>In the code sample below, <code>dateTimeEditSystem</code> is the <code>QDateTimeEdit</code> object.  However, the <code>setDateTime()</code> function only operates once. I would like the <code>QDateTimeEdit</code> object to dynamically update.  Is there a reliable way of doing this without using a timer (i.e. with signals and slots)?  Or is a timer the only way of doing this?</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    // setup the UI\n    ui-&gt;setupUi(this);\n    // set the current date and time\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n}\n</code></pre>\n\n<p>I tried using a timer, but unfortunately the <code>QDateTimeEdit</code> did not update.  Here is the complete mainwindow.cpp code.  What am I doing wrong here?</p>\n\n<pre><code>#include &lt;QTimer&gt;\n\n#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n\n    QTimer *timer = new QTimer(this);\n    connect(timer, SIGNAL(timeout()), this, SLOT( updateTime() ));\n    timer-&gt;start(1000);\n}\n\nvoid MainWindow::updateTime()\n{\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is actually very easy to do.  The reason why the code was not updating was due to the lack of a slot declaration in the mainwindow.h file.  Here is the complete contents of the mainwindow.h header.</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\n private slots:\n     void updateTime();\n\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n"},{"tags":["qt","webkit","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12850723,"title":"How can I display the icon of a WebView in QML?","body":"<p>I'm writing a simple web browser in QML with WebKit.</p>\n\n<p>The <code>WebView</code> element has the property <code>icon</code> of type <code>pixmap</code> (QVariant::Pixmap). I want to display this icon in QML.</p>\n\n<p>Before QML was stable, the <code>Image</code> element had the property <code>pixmap</code> of type <code>pixmap</code>, which was used by other people to display the icon of the <code>WebView</code> element.</p>\n\n<p>But <code>Image.pixmap</code> has been removed.</p>\n\n<p>How can I now set the icon on an Image element? Do I really have to work around this in C++ using the <code>QDeclarativeImageProvider</code>? What's the most straightforward way to do this?</p>\n"},{"tags":["qt","webkit","macports","homebrew","phantomjs"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":146,"score":4,"question_id":10098731,"title":"new Date(\"YYYY-MM-DD\") stopped working in Qt WebKit after removing MacPorts","body":"<p>On my OS X 10.7.3 (Lion) laptop, I cannot parse JavaScript date strings with Qt WebKit using the Date constructor. Using either jasmine-headless-webkit or phantomJS, all calls like:</p>\n\n<pre><code>new Date(\"2012-04-10\")\n</code></pre>\n\n<p>always return</p>\n\n<pre><code>\"Invalid Date\"\n</code></pre>\n\n<p>instead of a valid Date object. A few weeks back, everything was working fine, and I've checked this on half a dozen computers with a similar setup and cannot reproduce the problem anywhere else.</p>\n\n<p>I am fairly certain the problems started when I decided to clear out my old supposedly-unused MacPorts installation (I have long since switched to Homebrew and was doing some house cleaning). I suspect there is a dynamically linked library that has been removed from my system, which is used by Qt for date parsing.</p>\n\n<p>Does anyone have any idea what this date parsing library might be called? Any idea if I can install it with Homebrew or somehow manually repair the missing dependency? </p>\n\n<p>I have tried reinstalling Qt and many other libraries, but nothing has fixed the problem.</p>\n"},{"tags":["c++","qt","class"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12848493,"title":"Ambiguous error in Qt","body":"<p>I'm trying to make a game, and i've created a class for the Player. The class inherits \"Entity\", which inherits QGraphicsItem.</p>\n\n<pre><code>#ifndef PLAYER_H\n#define PLAYER_H\n\n#include \"entity.h\"\n\nclass Player : public Entity\n{\n\npublic:\nPlayer(QString, int, int, int position);\nQRectF boundingRect() const;\nvoid paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget *widget);\n\nvoid move_north();\nvoid move_south();\nvoid move_west();\nvoid move_east();\n\nvoid start_moving();\nvoid stop_moving();\n\nvoid switch_step();\n\nbool its_moving();\n\nvoid change_pos(int);\n\n\nprivate:\nQPoint position;\nbool is_moving;\n\nprivate signals:\nvoid Move();\n\n};\n\n#endif // PLAYER_H\n</code></pre>\n\n<p>But i keep getting the error \"expected ':' before 'protected'\", at line 33. </p>\n"},{"tags":["multithreading","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11412757,"title":"Ensuring QProcess termination on termination of its parent QThread","body":"<p>I am writing a code within Qt where I am using multiple threads (Qthreads) to launch command-line processes in a manner shown in the code snippet below:</p>\n\n<pre><code>void test_streamer_thread::run()\n{\n    QProcess    start_process;\n    ...\n\n    ret_status = start_process.execute(\"some_cmd.exe\",some_args);\n    start_process.close();\n}\n</code></pre>\n\n<p>Once launched, the process goes on infinitely (shows up as a separate process in the windows task manager). However, when the application terminates, the process still continues to exist. How do I ensure that this process terminates on termination of the application launching it.</p>\n\n<p>Regards,</p>\n\n<p>Saurabh Gandhi</p>\n"},{"tags":["regex","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12848195,"title":"Writing a good highlighting function","body":"<p>I'm trying to implement a \"highlighting\" function to enhance the search capability  in a project I’m working on. It is supposed to highlight (apply a css background-color span tag) all occurrences of a search term in a larger QString. Right now, matches to be highlighted are determined with the following Regexp:</p>\n\n<pre><code>QRegExp reg(\"(\\\\b)(\" + term + \")(\\\\b)|(.,:;'\\\"\\')\");\n</code></pre>\n\n<p>The regexp is case-insensitive and will match all instances of \"term\" followed by a word boundary or a punctuation symbol. </p>\n\n<p>Right now, the highlighting code is a simple QString::replace API call:</p>\n\n<pre><code>entry=entry.replace(reg,\"&lt;span style=\\\"background-color: \" + color + \"\\\"&gt;\" + term  + \"&lt;/span&gt;\");\n</code></pre>\n\n<p>This works but is still buggy; the most important problem is that it ignores case; If a match is \"Apple\" the highlighted term will say \"apple\". This is a problem if a match is the first word in a sentence.</p>\n\n<p>To fix this bug I was thinking of breaking the long QString into a QStringList array and searching for regexp matches one slot at a time. Is there a better/faster way to handle this job or is that how I should do it?</p>\n"},{"tags":["qt","qt4","usb","serial-port","arduino"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1202,"score":4,"question_id":1980284,"title":"List machine's serial ports","body":"<p>I have an Arduino-based device which connects through USB.</p>\n\n<p>I'd like to detect it from my Qt 4 application, using <code>QExtSerialPort</code> (or whatever necessary), when it's plugged in. </p>\n\n<p>If this weren't possible, I thought I could somehow get a list of the system's port names and just try all of them in search for my Arduino (where I'd implement some kind of handshaking procedure for it to detect it correctly). My concern in this approach is that I'm not sure if a device (for example, printer) would get damaged if I send some kind of handshaking ack at a different baud rate.</p>\n\n<p>So, I don't really know where to start for any of them. Which would be the best approach? How would I implement it?</p>\n"},{"tags":["c++","qt","code-generation","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12845513,"title":"Getting qmake to properly run my code-generator","body":"<p>Here's my situation:</p>\n\n<p>I have a typical Qt C++ project that I'm building with qmake (.pro file).</p>\n\n<p>I also have a python script that generates some code. The python script (let's call it update.py) generates three files, let's call them gen.h, gen.cpp, gen.qml.</p>\n\n<p>Now what I'm doing now is manually running update.py in order to generate those files. Then I can run make and everything builds OK. The gen.h and gen.cpp are just \"regular\" files in my .pro file and they are checked into SVN.</p>\n\n<p>What I want instead is to make it so that when I run make, update.py will get run and generate those files, and then they will get built along with the project. This way I can remove them from SVN and avoid the extra manual step.</p>\n\n<p>FYI: I already have update.py setup to only re-generate those files when needed, so if you run update.py multiple times it won't keep blindly changing gen.h, gen.cpp, etc.</p>\n\n<p>I have spent a huge amount of time trying to get this work (kinda embarrassing actually). I have been messing with QMAKE_EXTRA_TARGETS, QMAKE_EXTRA_COMPILERS, PRE_TARGETDEPS, etc, but nothing seems to quite work the way I want.</p>\n\n<p>Oh, some more info: gen.cpp and gen.h have QObject based classes, so I need them to gen generated before the MOC is run.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12846568,"title":"Access class from function","body":"<p>Is there another way besides declaring a static method inside a class to call it from outside the class ?</p>\n\n<p>Here is my code (See the question marked as comment )</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\n_stdcall BOOL EnumWindowsProc(HWND hw,LPARAM lp)\n{\n    char title[255];\n\n    memset(title,0,255);\n    GetWindowTextA(hw,title,255);\n\n    qDebug() &lt;&lt; title &lt;&lt; endl;\n\n     // How can I access class MainWindow from this function ?   \n\n    return true;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    EnumWindows(&amp;EnumWindowsProc,0);\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12827305,"title":"PyQt application close with error","body":"<p>I have some trouble with creating window application using PyQt. For example: we have the following class for GUI:</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):   \n    def __init__(self, parent=None):\n         ...\n\n    def hideEvent(self, event):\n        ...\n\n    def showEvent(self, event):\n        ...\n\n    def activate(self):\n        ...\n\n    def closeEvent(self, event):\n        ...\n</code></pre>\n\n<p>What if we want to use it just for showing results and acept user inputs, and for all control logic we have another class, which use the instance of <code>SampleMainWindow</code> as a field:</p>\n\n<pre><code>class Programm:\n    def __init__(self):\n        self.window = SampleMainWindow()\n        ....\n\napp = QtGui.QApplication(sys.argv)\nprog = Programm()\nprog.window.show()\napp.exec_()\n</code></pre>\n\n<p>So, if we create the instance of <code>Programm</code>, the application will run well, but on close we'll get an error that python.exe process could not be completed normally. But if the instance of <code>SampleMainWindow</code> is not a field of class:</p>\n\n<pre><code>class Programm:\n    def __init__(self):\n        win = SampleMainWindow()\n        ....\n</code></pre>\n\n<p>application close well. What's the reason?</p>\n\n<p>Here are the full version of Gui class:</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):\n\ndef initTray(self):\n    self.icon = QtGui.QSystemTrayIcon()\n    self.icon.setIcon(QtGui.QIcon('Tray.png'))\n    self.icon.show()\n    self.icon.activated.connect(self.activate)\n\ndef __init__(self, parent=None):\n    QtGui.QMainWindow.__init__(self)\n    moduleglobalconstants.APP_RUNNING = True\n    self.initTray()\n    self.newSession = True\n\n    self.setGeometry(300, 300, 600, 400)\n    self.setWindowTitle('Eye: Recently Added Lines')\n    self.statusBar().showMessage('Ready')\n    exitAction = QtGui.QAction(QtGui.QIcon('Exit.png')\n            ,'Exit'\n            ,self)\n\n    exitAction.setShortcut('Ctrl+Q')\n    exitAction.setStatusTip('Exit application')\n    self.connect(exitAction\n                ,QtCore.SIGNAL('triggered()')\n                ,QtCore.SLOT('close()'))\n\n    menubar = self.menuBar()\n    fileMenu = menubar.addMenu('&amp;File')\n    fileMenu.addAction(exitAction)\n\n    self.toolbar = self.addToolBar('Exit')\n    self.toolbar.addAction(exitAction)\n\n    self.textEdit = QtGui.QTextEdit()\n    self.scrollPosition = self.textEdit.textCursor()\n    self.textEdit.setReadOnly(True)\n    self.setCentralWidget(self.textEdit)\n\ndef hideEvent(self, event):\n    self.hidden = True\n    self.setWindowFlags(QtCore.Qt.ToolTip)\n    self.setVisible(False)\n\ndef showEvent(self, event):\n    self.hidden = False\n    self.setVisible(True)\n\ndef activate(self):\n\n    self.setWindowFlags(QtCore.Qt.Window)\n    self.show()\n    self.setWindowState(self.windowState() &amp; ~QtCore.Qt.WindowMinimized | QtCore.Qt.WindowActive)\n    self.activateWindow()\n\ndef questionDialog(self, caption = 'Message',text = \"Are you sure?\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox(self)\n    msgBox.setWindowTitle(\"Eye\")\n    msgBox.setText(caption);\n    msgBox.setInformativeText(text);\n    msgBox.setStandardButtons(QtGui.QMessageBox.Yes| QtGui.QMessageBox.No);\n    msgBox.setDefaultButton(QtGui.QMessageBox.Yes);\n    return msgBox.exec_()\n\ndef criticalDialog(self,app, caption = 'Eye: Critical Error',text = \"Impossible to continue working!\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox.critical(self,caption,text)\n    moduleglobalconstants.APP_RUNNING = False\n\ndef closeEvent(self, event):\n    reply = self.questionDialog()\n    if reply == QtGui.QMessageBox.Yes:\n        moduleglobalconstants.APP_RUNNING = False\n        event.accept()\n    else:\n        event.ignore()\n\ndef showNewLines(self, singleLine = None, lines = None, mode='insert'):\n    if (mode == 'rewrite'):\n        self.textEdit.clear()\n    if lines:\n        for line in lines:\n            self.textEdit.insertPlainText(line.strip() + \"\\n\")\n    elif singleLine:\n        self.textEdit.insertPlainText(singleLine.strip()+\"\\n\")\n</code></pre>\n"},{"tags":["qt","layout","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":11142000,"title":"What is parent.right (for example) exactly in QML and how does it differ from parent.anchors.right?","body":"<p><a href=\"http://doc.qt.nokia.com/4.7-snapshot/qml-anchor-layout.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/qml-anchor-layout.html</a> tells that parent's <code>anchors.right</code> is \"an invisible anchor line\" and points to <code>anchors.right : AnchorLine</code> property of <code>Item</code>,</p>\n\n<p>but <code>parent.right</code> and <code>parent.anchors.right</code> seem to be different things (and you can't anchor to the latter usually, while anchoring to the former works as expected).</p>\n\n<p>Hint me to the docs anyone?</p>\n"},{"tags":["c++","qt","creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12843473,"title":"Default QT Console Application doesn't cout \"Hello World\"... or do anything else","body":"<p>Strange problem this:</p>\n\n<p>I wrote an OpenGL app which compiled in QT but then opened a terminal which sat there doing nothing. As a test I created a new project... the default plain C++ project. It is supposed to:</p>\n\n<pre><code>int main(){\n  cout &lt;&lt; \"Hello World\" &lt;&lt; endl;\n  return 0;\n}\n</code></pre>\n\n<p>But the terminal opens and nothing ever happens. Tried a google search, but didn't find anything. Does anyone know what the problem might be?</p>\n\n<p>Thanks! - Ed Bird</p>\n"},{"tags":["c++","qt","linker","cppunit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":10603061,"title":"linking issue with qttestrunner in cppunit","body":"<p>I am working in a project based on the lib cppunit, I need to run my tests with <code>qttestrunner</code>\nI make the libqttestrunnerd.a (qmake qttestrunnerlib.pro  and make ), obviously there is a problem of linking, here is a sample of output:</p>\n\n<p><code>/home/oumaya/docs/UT_Cpp_Test/main/cppDir/lib/lib/libqttestrunnerd.a(moc_testbrowserdlg.o):(.rodata._ZTV15TestBrowserBase[vtable for TestBrowserBase]+0x30): undefined reference to 'QWidget::setName(char const*)'\n/home/oumaya/docs/UT_Cpp_Test/main/cppDir/lib/lib/libqttestrunnerd.a(moc_testbrowserdlg.o):(.rodata._ZTV15TestBrowserBase[vtable for TestBrowserBase]+0x34): undefined reference to 'QObject::insertChild(QObject*)'</code></p>\n\n<p>there is a lot of similar messages related to QT objects.<br>\nany help please<br>\nthank you in advance.</p>\n"},{"tags":["qt","background"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12842418,"title":"Send application to background with Qt","body":"<p>I have two GUI applications.  The Master has to start the Slave.  The Master has to start on the foreground, the slave has to start on the background.  The slave has to come to the foreground later.</p>\n\n<p>Is there a way to achieve this using Qt?</p>\n\n<p>attempt so far:</p>\n\n<pre><code>... \nif( master() ) {\n  window-&gt;show();\n} else {\n  window-&gt;showMinimized();\n}\n</code></pre>\n\n<p><code>showMinimized()</code> has the nasty side-effect that when the slave comes to the foreground first, it gets 'maximized'.</p>\n\n<p>So is there a way to start an application <em>behind</em> another application?</p>\n"},{"tags":["c++","python","qt","pyside"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":169,"score":1,"question_id":7149151,"title":"Customized style support in PySide, how to cast QStyleOption to it's subclass?","body":"<pre><code>class VisualStyle(QCleanlooksStyle):\n    def drawControl(self, ce, opt, p, w):\n        if ce == QStyle.CE_TabBarTabShape:\n            print(opt.__class__) # opt is always the type 'PySide.QtGui.QStyleOption'\n</code></pre>\n\n<p><code>qstyleoption_cast</code> seems not available in PySide. How can I cast <code>opt</code> to its subclass, i.e. <code>PySide.QtGui.QStyleOptionTab</code> ? </p>\n"},{"tags":["qt","size","label","ratio"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12841269,"title":"Set Qlabel width","body":"<p>I'm trying to make a ration between 2 numbers (likes &amp; dislikes).</p>\n\n<p>The result is a number in procent. Then I want to make the width from the label equal that procent.</p>\n\n<p>So If there are 100 likes and 1 dislike. I want to make the dislike label 1 procent the width of the like bar. So basicly like the youtube rating system.</p>\n\n<p>Example image: \n<img src=\"http://i.stack.imgur.com/8vStM.jpg\" alt=\"enter image description here\"></p>\n\n<p>But I don't see any function to set the width of the label.\nSo how do I need to do this, anyone have suggestions?</p>\n"},{"tags":["c++","qt","model","qtreeview"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":617,"score":2,"question_id":7563512,"title":"How to use QSortFilterProxyModel to filter a tree model that only display children nodes with their parents?","body":"<p>I have a working tree model derived from QAbstractItemModel and I wish to filter it using a QSortFilterProxyModel subclass to display only children nodes of certain criteria. For example I have the following tree:</p>\n\n<pre><code>A\n- B\n-- C1\n-- C1\n-- C1\n--- C2\n- D\n- E\n</code></pre>\n\n<p>I want to filter this tree with the condition that the node has name == C1 and display only the nodes with C1 and their children like this:</p>\n\n<pre><code>C1\nC1\nC1\n- C2\n</code></pre>\n\n<p>I already have a subclass with filterAcceptsRow() re-implemented that can partially do what I want but it will still show the parent and grandparent of C1 nodes:</p>\n\n<pre><code>A\n- B\n-- C1\n-- C1\n-- C1\n--- C2\n</code></pre>\n\n<p>I think this is because for children nodes to even be considered, their parent has to pass the filterAcceptsRow() test, am I right? How can I implement filterAcceptRows() or other methods such that it can do what I have described? </p>\n\n<p>I have asked this question sometime back in qtcentre and qtforum but did not get any useful reply. I tried to move the indices of the QSortFilterProxyModel subclass directly using beginMoveRows and endMoveRows inside filterAcceptsRow() but that just crashes the test application due to dangerous const_cast. </p>\n"},{"tags":["osx","qt","deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12834808,"title":"How to deploy a Qt3D application on Mac OS-X","body":"<p>If I deploy the demo-app sphere.app on OS-X with</p>\n\n<p>macdeployqt sphere.app</p>\n\n<p>and try to start it with</p>\n\n<p>sphere.app/Contents/MacOS/sphere</p>\n\n<p>I get the error message</p>\n\n<p>file:///Users/dev/src/qt3d-1.0-src/bin/sphere.app/Contents/Resources/qml/sphere.qml:42:1: module „Qt3D“ is not installed\n     import Qt3D 1.0</p>\n\n<p>otool –L sphere.app/Contents/MacOS/sphere shows, that the frameworks are correctly deployed:</p>\n\n<p>sphere.app/Contents/MacOS/sphere:\n    @executable_path/../Frameworks/Qt3D.framework/Versions/1/Qt3D (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/Qt3DQuick.framework/Versions/1/Qt3DQuick (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/QtDeclarative.framework/Versions/4/QtDeclarative (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtScript.framework/Versions/4/QtScript (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtSvg.framework/Versions/4/QtSvg (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtSql.framework/Versions/4/QtSql (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtXmlPatterns.framework/Versions/4/QtXmlPatterns (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtNetwork.framework/Versions/4/QtNetwork (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtOpenGL.framework/Versions/4/QtOpenGL (compatibility version 4.8.0, current version 4.8.3)\n    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)\n    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)\n    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)\n    /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 830.0.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)</p>\n\n<p>Does onybody know how to fix this? Is this a Qt bug or did I do something wrong?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12797184,"title":"How to draw a custom control in QTableView?","body":"<p>\nI have to draw a custom control in QTableView. This control must looks like FileChooser.</p>\n\n<p><img src=\"http://www.vision.ee.ethz.ch/computing/sepp-irix/qt-3.0-mo/filechooser.png\" alt=\"FileChooser\"></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>QStyleOptionButton button_option;\nbutton_option.state |= QStyle::State_Enabled | QStyle::State_Off;\nbutton_option.rect = PushButtonRect(option); //calculate button rect\nbutton_option.text = \"...\";\nQApplication::style()-&gt;drawControl(\n    QStyle::CE_PushButton,\n    &amp;button_option,\n    painter);\n</code></pre>\n\n<p>The code above draws QStyle::CE_PushButton - that looks like QButton, - but there is no QStyle::CE_LineEdit in Qt library. How can I draw QLineEdit?</p>\n"},{"tags":["html","qt","html-parsing","qtwebkit","qwebelement"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":661,"score":2,"question_id":4589785,"title":"LIbrary issue: How do I set up QtWebKit to parse HTML?","body":"<p>Nick Presta showed that you can parse HTML with qt here: <a href=\"http://stackoverflow.com/questions/489522/library-recommendation-c-html-parser\">Library Recommendation: C++ HTML Parser</a></p>\n\n<p>However, when I attempt to build this, I get an access violation on the \"QWebFrame* frame = page.mainFrame();\" line.</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>#include &lt;QtWebKit\\QWebElement&gt;\n#include &lt;QtWebKit\\QWebView&gt;\n#include &lt;QtWebKit\\QWebFrame&gt;\n#include &lt;QtWebKit\\QWebPage&gt;\n#include &lt;iostream&gt;\n\nint main() {\n QWebPage page;\n QWebFrame* frame = page.mainFrame();\n\n frame-&gt;setHtml( \"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\" );\n QWebElement document = frame-&gt;documentElement();\n\n return 0;\n}\n</code></pre>\n"},{"tags":["qt","debugging","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12439082,"title":"QGraphicsScene::clear() clearing scene but not the view","body":"<p>I use a custom class (<code>Configuration</code>) derived from <code>QGraphicsItem</code> and I add its objects to a <code>QGraphicsScene</code>, which is then displayed in a <code>QGraphicsView</code>. Usual stuff. What Im doing exactly is drawing a tree, in multiple steps, one level a step, each node beeing my custom <code>QGraphicsItem</code>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SfTcr.png\" alt=\"enter image description here\"></p>\n\n<p>Here a screenshot. The tree happens to be sequential in the simple case. </p>\n\n<p>I first draw the root node. The signal that triggers that is fired after the user entered a string.</p>\n\n<pre><code>void MainWindow::drawRootSlot(ConfigTreeBuilder &amp; builder)//this is a slot\n{\n    c_scene-&gt;clear();  //the clear cause headache. i'll expain\n\n    Configuration* conf = new Configuration(builder.getNodesX(), builder.getNodesY(),builder.getNodesConfig());\n//code\n    c_scene-&gt;addItem(conf);\n//code\n}\n</code></pre>\n\n<p>Each subsequent <code>Configuration</code> is draw inside another slot. </p>\n\n<pre><code>void MainWindow::configTreeSlot(ConfigTreeBuilder &amp; builder)    //SLOT!!!\n{\n    while(builder.chooseNextNode()) {\n\n        Configuration* conf = new Configuration(builder.getNodesX(), builder.getNodesY(), builder.getNodesConfig());\n\n       //code, while loop    \n            QGraphicsLineItem *edge = c_scene-&gt;addLine(QLineF(*(parentsPoint), conf-&gt;getLeftOrigin()));\n            edge-&gt;setZValue(-1); //below the Configuration item\n\n\n        c_scene-&gt;addItem(conf);\n    }\n\n}\n</code></pre>\n\n<p>All works fine when done for the first time. When I  enter a new string, resetting the tree, dark magic happens. What I expected to it do is: call <code>drawRootSlot()</code>,  deleting the whole tree (<code>c_scene-&gt;clear()</code>), draw a new root node. And, if I put a debugger breakpoint inside <code>drawRootSlot()</code> this is exactly what happens! But when I run it (without breakpoints), what I get is this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/NT4wy.png\" alt=\"enter image description here\"></p>\n\n<p>The previous tree got mangled, but not deleted. The scene gets indeed cleared of its items (printed that) but the view  does not reflect that. But again, when I put a breakpoint inside <code>drawRootSlot()</code> thhe view and the scene are in sync.</p>\n\n<p>I tried to delete the scene object, and instaciate a new one instead of calling <code>c_scene-&gt;clear()</code>, to guarantee it empty. Then the changes are reflected on the view (the first time drawing always works).</p>\n\n<p>So, I have no idea what to deduce from these symptoms. It works as expected with a breakpoint or with a freshh <code>QGraphicsScene</code> object. It does not when just using <code>c_scene-&gt;clear()</code>. One couldsay I just messed up the parent-object/child-object relation, but <code>clear()</code> <em>does</em> remove items from the view... I tried calling it right after <code>c_scene-&gt;addItem()</code>.</p>\n\n<p>What is this sorrcery? One that makes me believe I'm not actually stupid?</p>\n\n<p><strong>EDIT:</strong> Whats interesting and may be a hint to the real problem, is that when <code>c_scene-&gt;clear()</code> is called, the edges of the tree, which are normal <code>QGraphicsLineItem</code>s, are indeed deleted in all cases (breakpoint or not). Something to do with them <em>not</em> beeing custom?</p>\n"},{"tags":["c++","qt","qthread","qtcpserver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12821429,"title":"QT QTcpServer in thread; how to close listening server on exit?","body":"<p>I have a thread subclass like this </p>\n\n<pre><code>class MyThread : public QThread\n{\npublic:\n    MyThread (void);\n    ~MyThread (void);\n\n    void run();\n\n    void stop(); // close server and terminate thread\n\npublic slots:\n    void slotCloseServer();\n\nsignals:\n    void signalCloseServer();\n\nprivate:\n    QTcpServer* m_pServer;\n};\n</code></pre>\n\n<p>and the <code>run()</code>  and the overall class definition is outlined below</p>\n\n<pre><code>MyThread::MyThread()\n{\n    connect(this, SIGNAL(signalCloseServer()), this, SLOT(slotCloseServer()));\n}\n\nvoid MyThread::run()\n{\n    m_pServer = new QTcpServer();\n\n    if(m_pServer-&gt;listen(QHostAddress(QHostAddress::LocalHost), 8888) == 0)\n    {\n        qCritical(\"Server listen failed.\");\n    }\n    else\n    {\n        exec();\n    }\n}\n\nvoid MyThread::stop()\n{\n    emit signalCloseServer();\n    quit(); // terminate thread\n}\n\nvoid MyThread::slotCloseServer()\n{\n    if (m_pServer &amp;&amp; m_pServer-&gt;isListening())\n    {\n        m_pServer-&gt;close();\n    }\n}\n</code></pre>\n\n<p>Now from the main thread, I want to call <code>stop()</code> so it would signal to the thread instance to close the server and terminate itself but it never gets to <code>slotCloseServer()</code> and the listening port does not get released. </p>\n\n<p>Any thoughts as to how to release the server socket before the terminating the thread?</p>\n\n<p>Thanks,</p>\n"},{"tags":["c++","qt","image-rotation","rounding-error"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12826812,"title":"Rotating images causes distortion on Qt","body":"<p>I'm facing some problems rotating an image in Qt.  Each time I rotate my image with <a href=\"http://qt-project.org/doc/qt-4.8/QPainter.html\" rel=\"nofollow\">QPainter</a> it becomes more and more distorted.  This is the initial image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/TSGl5.png\" alt=\"http://imageshack.us/photo/my-images/838/ship1.png/\"></p>\n\n<p>After some iterations it becomes:</p>\n\n<p><img src=\"http://i.stack.imgur.com/c7b6b.png\" alt=\"http://imageshack.us/photo/my-images/11/ship2e.png/\"></p>\n\n<p>This is my code:</p>\n\n<pre><code>void Ship::Move(int x, int y)\n{\n    QPixmap rotatePixmap(shipPixels.size());\n    rotatePixmap.fill(Qt::transparent);\n\n    QTransform transform;\n    transform.translate(\n            rotatePixmap.size().width() / 2,\n            rotatePixmap.size().height() / 2\n    );\n\n    transform.rotate(degree);\n    transform.translate(\n            - rotatePixmap.size().width() / 2, \n            - rotatePixmap.size().height() / 2\n    );\n\n    QPainter p(&amp;rotatePixmap);\n    p.setRenderHints(\n            QPainter::Antialiasing | QPainter::SmoothPixmapTransform,\n            true\n    );\n\n    p.setTransform(transform);\n    p.drawPixmap(0, 0, shipPixels);\n    p.end();\n\n    shipPixels = rotatePixmap;\n    this-&gt;setPixmap(shipPixels);\n    this-&gt;move(QPoint(x, y));\n    degree = 0;\n}\n</code></pre>\n\n<p>For me Qt preserves image quality. The behavior is totally strange. Is there a reason?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12835810,"title":"Qt, how do I repetedly read data from file?","body":"<p>I have a file which I would like to read again and again, to update a paramter in my code. but using QTextStream only reads the value once, and reads out 0 after that every time.</p>\n\n<p>This is basically my code:</p>\n\n<pre><code>int main(){\n    QString data;\n    QFile Status;\n\n    Status.setFileName(\"/home/user/status\");\n    Status.open(QIODevice::ReadOnly);\n\n    QTextStream in(&amp;Status);\n\n    While(1){\n        usleep(100);\n        data = in.readLine();\n        cout &lt;&lt; \"This is the status: \" &lt;&lt; data.toInt();\n    }\nreturn 0;\n}\n</code></pre>\n\n<p>Problem is that it reads the \"status\" file correctly the fist time, but after that, it reads out \"0\"...Any thoughts of how I can read out this file again and again.</p>\n\n<p>In additional info, my thought is to change the data of the file to update my app status, which is a number (int) between 0 and 100.</p>\n\n<p>Thank you for any help, it is appreciated.. :)</p>\n"},{"tags":["qt","contextmenu","system-tray"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":952,"score":3,"question_id":6115766,"title":"QT system tray context menu remains when app loses focus","body":"<p>I've set up a system tray icon for my app and have attached a simple context menu to it.  If I right click the icon to bring up the context menu it works fine.  If I then click somewhere that loses the focus of the app (e.g. elsewhere on the task bar or on another app) the context menu is not removed and still triggers the correct action when clicked.  If, however, I click on the main app the context menu disappears as expected.</p>\n\n<p>Here's the relevant code for creating the tray icon and context menu -</p>\n\n<pre><code>actionExit = new QAction( \"Exit\", this );\nconnect( actionExit, SIGNAL( triggered( )), this, SLOT( ExitClient( )));\n\nmyTrayIconMenu = new QMenu( this );\nmyTrayIconMenu-&gt;addAction( actionExit );\n\ntrayIcon = new QSystemTrayIcon( icon, this );\ntrayIcon-&gt;setContextMenu( myTrayIconMenu );\nconnect( systrayIcon, SIGNAL( activated( QSystemTrayIcon::ActivationReason )), this, SLOT( ToggleVisibility( QSystemTrayIcon::ActivationReason )));\ntrayIcon-&gt;show( );\n</code></pre>\n\n<p>Do I need to add my own code that tests for the app losing focus so that I can manually hide the context menu?  I had assumed this functionality would be built in.</p>\n\n<p>[The problem is occurring in Windows 7, compiling with Visual Studio 2010 Pro via QT plug-in - I haven't tested under any other OS]</p>\n\n<p>I noticed this in the API documentation -</p>\n\n<blockquote>\n  <p>Note: The system tray icon does not\n  take ownership of the menu. You must\n  ensure that it is deleted at the\n  appropriate time by, for example,\n  creating the menu with a suitable\n  parent object.</p>\n</blockquote>\n\n<p>If I use</p>\n\n<pre><code>myTrayIconMenu = new QMenu( );\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>myTrayIconMenu = new QMenu( this );\n</code></pre>\n\n<p>the context menu is removed when the app loses focus.  But then I'll need to take care of manually deleting the context menu.</p>\n\n<p>How have other people dealt with this situation?</p>\n"},{"tags":["qt","openstreetmap","leaflet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12835463,"title":"How to enable dragging/panning by mouse on a openStreet map, displayed on a Qt widget, using Leaflet API?","body":"<p>The map is displayed on a <code>Qt</code> widget.<br>\nIn the following <code>Javascript</code> code, I have written <code>dragging: true</code>, but still I can't <strong>\"pan\"</strong> the map through the <strong>\"mouse\"</strong>.</p>\n\n<p><strong>I have noticed that this problem occurs ONLY when this code is executed w.r.t a Qt's widget, never when it is executed in a browser!</strong></p>\n\n<pre><code>    var map;\n    var centerPoint;\n    var arrayCenterPoints = new Array ();\n    var arrayFileNames    = new Array ();\n    var arrayCorners      = new Array ();\n    var arrayList         = new Array ();\n\n    function displayMapAndClick ()\n    {\n        map = L.map ('map', \n                {\n                    dragging: true,\n                }).setView ([51.505, -0.09], 13, true);\n\n        L.tileLayer('http://{s}.tile.cloudmade.com/24c8d683cff74bffa7f00e59cd858e00/997/256/{z}/{x}/{y}.png', \n            {\n                attribution: 'Map data &amp;copy; &lt;a href=\"http://openstreetmap.org\"&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=\"http://creativecommons.org/licenses/by-sa/2.0/\"&gt;CC-BY-SA&lt;/a&gt;, Imagery © &lt;a href=\"http://cloudmade.com\"&gt;CloudMade&lt;/a&gt;',\n                maxZoom: 13,\n            }).addTo (map);\n\n        selectCenterPoint ();\n    }\n\n    function selectCenterPoint ()\n    {\n        var popup = L.popup();\n\n        function onMapClick (e) \n        {\n            popup\n                .setLatLng  (e.latlng)\n                .setContent (\"You clicked the map at: \" + e.latlng.toString())\n                .openOn      (map);\n\n                map.panTo (e.latlng);\n                L.marker (e.latlng).addTo (map).bindPopup (\"&lt;b&gt;Center point: &lt;/b&gt;\" + \"&lt;br&gt;\" + e.latlng + \"&lt;br /&gt;\").openPopup ();\n                centerPoint = e.latlng; \n        }\n        map.on ('click', onMapClick);\n    }\n</code></pre>\n\n<hr>\n\n<p>I couldn't write the <code>HTML</code> info here, so have attached the screenshot:\n<img src=\"http://help.openstreetmap.org/upfiles/osm_2.png\" alt=\"alt text\"></p>\n"},{"tags":["c++","qt","linker"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":989,"score":1,"question_id":6082318,"title":"How to find the multiple definitions of a function","body":"<p>I wrote a findDialog which finds the text searched. When I give <code>make</code> command,it returns</p>\n\n<pre><code>g++ -Wl,-O1 -o findDialog FindDialog.o main.o moc_FindDialog.o    -L/usr/lib -lQtGui -lQtCore -lpthread \nmoc_FindDialog.o: In function `FindDialog::findClicked()':\nmoc_FindDialog.cpp:(.text+0x20): multiple definition of `FindDialog::findClicked()'\nFindDialog.o:FindDialog.cpp:(.text+0x30): first defined here\nmoc_FindDialog.o: In function `FindDialog::enableFindButton(QString const&amp;)':\nmoc_FindDialog.cpp:(.text+0x50): multiple definition of `FindDialog::enableFindButton(QString const&amp;)'\nFindDialog.o:FindDialog.cpp:(.text+0x0): first defined here\ncollect2: ld returned 1 exit status\nmake: *** [findDialog] Error 1\n</code></pre>\n\n<p>I have searched the problem for hours, but I can not understand what the problem stems from. \n What can cause <code>multiple definition of</code> error?</p>\n"},{"tags":["qt","event-handling","keyboard-shortcuts","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12830788,"title":"Handle key events Ctrl+Tab and Ctrl+Shift+Tab","body":"<p>I want to handle the two key events <code>Ctrl</code>+<code>Tab</code> and <code>Ctrl</code>+<code>Shift</code>+<code>Tab</code> in order to switch between tabs in my application (\"forward\" and \"backward\" respectively). However, this doesn't seem to work as expected.</p>\n\n<p>This is my current code (minimal example):</p>\n\n<pre><code>import QtQuick 1.1\n\nItem {\n    width: 100\n    height: 100\n\n    focus: true\n\n    Keys.onPressed: {\n        if(event.modifiers &amp; Qt.ControlModifier) {\n            if(event.key === Qt.Key_Tab) {\n                if(event.modifiers &amp; Qt.ShiftModifier)\n                    console.log('backward')\n                else\n                    console.log('forward')\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I ran this piece of code with <code>qmlviewer</code> (Qt version 4.8.2)</p>\n\n<p>Output when pressing <code>Ctrl</code>+<code>Tab</code>:</p>\n\n<pre><code>forward\nforward\n</code></pre>\n\n<p>Output when pressing <code>Ctrl</code>+<code>Shift</code>+<code>Tab</code>:</p>\n\n<blockquote>\n  <p><em>none</em></p>\n</blockquote>\n\n<p>So I see two errors: The former key sequence is handled twice while the other one not at all. </p>\n\n<ul>\n<li><strong>EDIT:</strong> The reason that the other one doesn't get handled at all is solved, see comments.</li>\n</ul>\n\n<p>Why does this happen and how can I solve this?</p>\n\n<p>Note: I already use Qt Components for Desktop in my application, so it's OK if you know a solution requiring this module.</p>\n"},{"tags":["c++","qt","vbulletin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12832461,"title":"Edit a VBulletin Post using Qt","body":"<p>Well, i'd like to do an automatization to edit a thread in a certain amount of time with a program. I really don't know how to do it, i don't even know if it's possible to do without an API. It's feasible without an API?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12833584,"title":"Qt Necessitas windows IDE- lanunching issue","body":"<p>I have installed Qt Necessitas SDK on windows 7,\nI have been trying to compile and load the program to android device/emulator\nI am not able to get this thing working,</p>\n\n<p>Program compiles successfully and after deployment while  launching \n I am getting the following error message\n\"Starting remote process...Cannot find org.kde.necessitas.example.untitled process\"\nI am getting the same error for both device and emulator</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","qtcpsocket","qtnetwork"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12831691,"title":"Cannot recieve readyRead signal of QTcpSocket?","body":"<p>You send data across network with QTcpSocket, connect the readyRead signal with your data handler. But readyRead signal maybe not triggered.</p>\n\n<p>You could see the data arrived with Wireshark, but QTcpSocket does not trigger the readyRead signal. </p>\n"},{"tags":["c++","qt","cryptography","qcar-sdk","botan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12831039,"title":"Botan tutorials or examples for creating the SHA-256 hash of a password","body":"<p>I'm porting a portion of a .NET application to Qt on Linux.  I am trying to replicate the results of a .NET function to create the SHA-256 hash of a password + salt.  The .NET code is </p>\n\n<pre><code>return new SHA256Managed().ComputeHash(buffer);\n</code></pre>\n\n<p>Where buffer is the salt concatenated to the password.  </p>\n\n<p>I considered several crytopgraphic libraries including QCA and Botan and after reading several comments, I decided to try Botan.  However, I'm not finding the right place in the documentation to perform the equivalent of the code listed above.</p>\n\n<p>Can someone point me to the place in the fine manual or a tutorial that discusses the use of Botan to create a simple hash?  I've been google searching for a couple hours without finding a solution.  There are many example of SHA-256 hashing for pipes and streams but I have yet to find the example of a simple hash calculation.</p>\n"},{"tags":["c++","c","windows","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":12829415,"title":"#define variable ignored and redefined in windows.h","body":"<p>I am using a windows 7 computer so I have defined WINVER and _WIN32_WINNT to reflect that. However, when windows.h is included, it does not see the original #define and redefines  the values to the default 0x0400. My code is below. This is on a Windows 7 PC in QT creator with mingw g++. Any ideas as to why this is happening?</p>\n\n<pre><code>#define WINVER 0x0601\n#define _WIN32_WINNT 0x0601\n\n#if WINVER &gt; 0x0600\n#define GOOD\n#endif\n\n#include &lt;windows.h&gt;\n\n#if WINVER &gt; 0x0600\n#define STILL_GOOD\n#endif\n\n#include &lt;winuser.h&gt;\n#include &lt;initguid.h&gt;\n#include &lt;dbt.h&gt;\n</code></pre>\n\n<p>EDIT: I use the #if WINVER > 0x0600... statement to determine what the value is.</p>\n"},{"tags":["qt","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12828825,"title":"How to assign callback when the user resizes a QMainWindow?","body":"<p>Neither I could find a tutorial-like scheme for a resize event on QMainWindow, nor I did see any option for adding resize event in the drop-down menu at the Qt design window. </p>\n\n<p>I am new to Qt. I'd like to write a slot function for a QMainWindow resize event. Is there such event? How can I do this?</p>\n"},{"tags":["qt","compilation","static-libraries"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12829402,"title":"Qt errors after static compilation","body":"<p>I'm writing a Qt program with Qt creator (v2.5.0 \nBased on Qt 4.8.1 (64 bit)) on a computer under Ubuntu 12.04 64 bits. It works fine on my computer and I'm happy about it.</p>\n\n<p>But now I want to deploy my app, so I decided to try to do build my project statically. In order to do that, I compiled Qt statically (from the 4.8.3 sources), I changed the qmake choice in Qt creator (replaced it with the \"static\" one), and I selected \"static build\" in build settings.</p>\n\n<p>At first it seemed to work perfectly: my new executable file was 15Mb (instead of its usual 1Mb) and when I did ldd ./myApp to check the dependencies, there were no more libQtGui.so.4 nor libQtCore.so.4, and the program seemed to work okay.</p>\n\n<p>Then I realized Qt Creator was constantly yelling in the Application output:</p>\n\n<p><strong>\"Gtk-CRITICAL **: IA__gtk_widget_style_get: assertion `GTK_IS_WIDGET (widget)' failed\"</strong></p>\n\n<p>That can't be too good, what's going on? Worse, when I try to load the help menu of my program, somehow it doesn't manage to open the window and sort of freezes. The help menu is just a widget containing a QTextBrowser (which displays an html file with a couple png pics) and a few buttons. I get the following error repeatedly in the app output:</p>\n\n<p>*<strong>*X Error: BadDrawable (invalid Pixmap or Window parameter) 9\n  Major opcode: 62 (X_CopyArea)\n  Resource id:  0x0**</strong></p>\n\n<p>and one (or more?) <strong>QNativeImage: Unable to attach to shared memory segment.</strong> </p>\n\n<p>It might have something to do with the fact that when I added the static version of qmake (in Qt options, Build &amp; Run, Qt versions tab), I get the warning:\n\"No qmlviewer installed\". I have no idea.</p>\n\n<p>Anyway, I'm kind of disappointed and depressed, deploying the app is much harder than I expected and incredibly annoying. Does anyone know how to fix this?</p>\n\n<p>While I'm here, I have a few other small questions:</p>\n\n<ol>\n<li>Does it matter that Qt creator does <code>qmake myApp.pro -r -spec linux-g++</code> and <code>make -w</code> instead of just <code>qmake</code> and <code>make</code>?</li>\n<li>I read in several places to add LIBS in my .pro file, also I read in one place I should write CONFIG += static, Qt official doc says to do things slightly differently (but for once, I find it <strong>very</strong> badly written and confusing), but all of this doesn't seem to do anything. Does it matter?</li>\n</ol>\n\n<p>Thank you very much in advance for your help!</p>\n"},{"tags":["c++","qt","gui","segmentation-fault"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":76,"score":-3,"question_id":12827415,"title":"Qt - Segmentation fault during ui application debug","body":"<p>I have created a Qt Gui Application in QTCreator and tried to run it. For checking purposes I have removed all of my code (so that the goal of the project is irrelevant to the problem) and tried to debug to see where the problem lies. I get this message:</p>\n\n<pre><code>The inferior stopped because it received a signal from the Operating System.\n\nSignal name:    SIGSEGV\nSignal meaning: Segmentation fault\n</code></pre>\n\n<p>Here's a screenshot of my debug screen to show you where I get the error. I just moved from Java to C++ and I have no idea how to handle this.\n<img src=\"http://i.stack.imgur.com/jb7to.jpg\" alt=\"enter image description here\"></p>\n\n<p>To give you an idea of how my files look so far:</p>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>imagegui.pro</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-10T20:24:08\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = imagegui\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":968,"score":3,"question_id":815380,"title":"Wait until QWidget closes","body":"<p>I'm working on a project in C++ and QT, and I want to open a new QWidget window, have the user interact with it, etc, then have execution return to the method that opened the window. Example (MyClass inherits QWidiget):</p>\n\n<pre><code>void doStuff(){\n\n     MyClass newWindow = new Myclass();\n     /* \n        I don't want the code down here to \n        execute until newWindow has been closed\n      */\n}\n</code></pre>\n\n<p>I feel like there is most likely a really easy way to do this, but for some reason I can't figure it out. How can I do this?</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12827663,"title":"Restoring from tray breaks event processing","body":"<p>I have found specific behavior of QApplication. I create the following class</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):\n\ndef initTray(self):\n    self.icon = QtGui.QSystemTrayIcon()\n    self.icon.show()\n    self.icon.activated.connect(self.activate)\n\ndef __init__(self, parent=None):\n    QtGui.QMainWindow.__init__(self)\n    self.initTray()\n    self.newSession = True\n\n    # Основное окно\n    self.setGeometry(300, 300, 600, 400)\n    self.setWindowTitle('Eye: Recently Added Lines')\n    self.statusBar().showMessage('Ready')\n    exitAction = QtGui.QAction(QtGui.QIcon('Exit.png')\n            ,'Exit'\n            ,self)\n\n    exitAction.setShortcut('Ctrl+Q')\n    exitAction.setStatusTip('Exit application')\n    self.connect(exitAction\n                ,QtCore.SIGNAL('triggered()')\n                ,QtCore.SLOT('close()'))\n\n    menubar = self.menuBar()\n    fileMenu = menubar.addMenu('&amp;File')\n    fileMenu.addAction(exitAction)\n    self.toolbar = self.addToolBar('Exit')\n    self.toolbar.addAction(exitAction)\n    self.textEdit = QtGui.QTextEdit()\n    self.scrollPosition = self.textEdit.textCursor()\n    self.textEdit.setReadOnly(True)\n    self.setCentralWidget(self.textEdit)\n\ndef hideEvent(self, event):\n    self.hidden = True\n    self.setWindowFlags(QtCore.Qt.ToolTip)\n    self.setVisible(False)\n\ndef showEvent(self, event):\n    self.hidden = False\n    self.setVisible(True)\n\ndef activate(self):\n    self.setWindowFlags(QtCore.Qt.Window)\n    self.show()\n    self.setWindowState(self.windowState() &amp; ~QtCore.Qt.WindowMinimized | QtCore.Qt.WindowActive)\n    self.activateWindow()\n\ndef questionDialog(self, caption = 'Message',text = \"Are you sure?\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox(self)\n    msgBox.setWindowTitle(\"Eye\")\n    msgBox.setText(caption);\n    msgBox.setInformativeText(text);\n    msgBox.setStandardButtons(QtGui.QMessageBox.Yes| QtGui.QMessageBox.No);\n    msgBox.setDefaultButton(QtGui.QMessageBox.Yes);\n    return msgBox.exec_();\n\ndef closeEvent(self, event):\n    reply = self.questionDialog()\n    if reply == QtGui.QMessageBox.Yes:\n        event.accept()\n    else:\n        event.ignore()\n</code></pre>\n\n<p>And the application runs by usual way:</p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\ntestWindow = SampleMainWindow()\ntestWindow.show()\napp.exec_()\n</code></pre>\n\n<p>The SampleMainWindow can  minimize to tray, but after restoring the event processing is not work. I mean that the events are catching, but not processing, so the event.accept() in closeEvent() does not close the application. But if we'll run custom event loop instead of app.exec_()</p>\n\n<pre><code>while APP_RUNNING:\n  app.processEvents()\n  ....\n</code></pre>\n\n<p>And use APP_RUNNING = False in closeEvent(), application will close normally.</p>\n"},{"tags":["c++","qt","unicode","utf-8","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12823136,"title":"How to use Unicode charaters in QString/QDebug?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7667407/i-lose-unicodeness-when-qdebuging-after-instancing-a-qapplication\">I lose “unicodeness” when qDebug()ing after instancing a QApplication</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to use Unicode characters in my project, but the Unicode characters are converting to some values(ex: ?).</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QTextCodec&gt;\n#include &lt;QDebug&gt;\nint main(int argc, char *argv[]) {\n  QCoreApplication a(argc, argv);\n  QTextCodec *codec = QTextCodec::codecForName(\"UTF-8\");\n  QTextCodec::setCodecForCStrings(codec);\n  //Unicode character here is '\n  QString unicode = \"Hello I’ve to go\";\n  qDebug() &lt;&lt; \"Unicode String: \" &lt;&lt; unicode;\n  return a.exec();\n}\n</code></pre>\n\n<p>The above code prints the string value as <strong>Hello I?ve to go</strong></p>\n"},{"tags":["python","qt","table","pyqt4","qtsql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12792965,"title":"PyQt4: Display progress bar while qtsql table is being loaded","body":"<p>Is it possible to get the number of records in a table after <code>QtSql.QSqlTableModel.setTable(tableName)</code> and before <code>QtSql.QSqlTableModel.select()</code>?\nQt documentation about <strong>setTable</strong> function says:</p>\n\n<blockquote>\n  <p><em>Sets the database table on which the model operates to tableName. Does not select data from the table, but fetches its field information.</em></p>\n</blockquote>\n\n<p>So these are my questions :) Which field information? Does it contain the number of records? How to access it if necessary? (I would like to display a progress bar while the table is being loaded)</p>\n"},{"tags":["c++","qt","opengl","qglwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":12790936,"title":"Orbiting sphere should cast spot light on central cube","body":"<p>I'm writing a program that draws <strong>a rotating cube (with texture)</strong> in the middle of the screen followed by a small <strong>yellow sphere that orbits around the cube</strong>. The idea is to make the sphere as a spot light source that illuminates the cube.</p>\n\n<p><strong>Here is the problem</strong>: as you can see in the images below, I'm failing to achieve the spot light effect. It seems that the entire cube gets lighted:</p>\n\n<p><img src=\"http://i.stack.imgur.com/YDzS3.png\" width=\"280\" height=\"200\"> \n<img src=\"http://i.stack.imgur.com/PBzvh.png\" width=\"280\" height=\"200\"></p>\n\n<p>I'm setting <code>GL_SPOT_DIRECTION</code> to be the cube position. I didn't set surface normals because I'm struggling to understand how to compute them for the cube, and I'm not sure a simple graphic application like this really requires it. </p>\n\n<p>I'm sharing the code below:</p>\n\n<p><strong>main.cpp</strong>:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char* argv[])\n{\n    QApplication app(argc, argv);\n\n    GLWidget gl_widget;\n    gl_widget.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p><strong>GLWidget.h</strong>:</p>\n\n<pre><code>#pragma once\n#include &lt;QGLWidget&gt;\n#include &lt;QImage&gt;\n\nclass GLWidget : public QGLWidget\n{\n    Q_OBJECT\npublic:\n    explicit GLWidget(QWidget* parent = 0);\n    virtual ~GLWidget();\n\n    void _draw_texture_cube(int w, int h);\n    void _draw_light();\n\n    /* OpenGL initialization, viewport resizing, and painting */\n\n    void initializeGL();\n    void paintGL();\n    void resizeGL( int width, int height);\n\n    /* enable the user to interact directly with the scene using the keyboard */\n\n    void keyPressEvent(QKeyEvent *e);\n\nprivate:\n    int _width;\n    int _height;\n    QImage* _img;\n    GLuint  _texture;\n    float xrot;\n    float yrot;\n    float zrot;\n    bool _light_on;\n    bool _must_rotate;\n    bool _pause_light;\n    GLfloat _light_pos[3];\n    GLfloat _cube_pos[3];\n    GLUquadricObj* _quadratic;\n\nprotected slots:\n    void _tick();\n};\n</code></pre>\n\n<p><strong>GLWidget.cpp</strong>:</p>\n\n<pre><code>#include \"GLWidget.h\"\n\n#include &lt;iostream&gt;\n#include &lt;QKeyEvent&gt;\n#include &lt;QTimer&gt;\n\n#include &lt;cmath&gt;\n\n#define LIGHT_MOVEMENT_SPEED    20.0f           // Degrees per second\n#define pi                      3.141592654f\n\nGLWidget::GLWidget(QWidget *parent)\n: QGLWidget(parent), _img(NULL), _light_on(true), _must_rotate(true),\n  _pause_light(false), _quadratic(NULL)\n{\n    _width = 0;\n    _height = 0;\n    _texture = 0;\n\n    xrot = 0.f;\n    yrot = 0.f;\n    zrot = 0.f;\n\n    // Set central cube position\n    _cube_pos[0] = 0.0f;\n    _cube_pos[1] = 0.0f;\n    _cube_pos[2] = -7.0f;\n\n    // Set light position\n    _light_pos[0] = 0.5f;\n    _light_pos[1] = 0.5f;\n    _light_pos[2] = -7.0f;\n}\n\nGLWidget::~GLWidget()\n{\n    if (_img)\n        delete _img;\n\n    glDeleteTextures(1, &amp;_texture);\n}\n\nvoid GLWidget::_tick()\n{\n    update(); // triggers paintGL()\n\n    QTimer::singleShot(33, this, SLOT(_tick()));\n}\n\nvoid GLWidget::initializeGL()\n{\n    std::cout &lt;&lt; \"GLWidget::initializeGL\" &lt;&lt; std::endl;\n    glClearColor(0.0f, 0.0f, 0.0f, 1.0f);       // Black Background\n\n    glEnable(GL_CULL_FACE);\n\n    /* Load bitmap */\n\n    glEnable(GL_TEXTURE_RECTANGLE_ARB);\n    glPixelStorei (GL_UNPACK_ALIGNMENT, 1);\n\n    if (!_img)\n    {\n        std::cout &lt;&lt; \"GLWidget::paintGL: loading image\" &lt;&lt; std::endl;\n\n        QImage tmp(\":/crate.jpg\");\n        if (tmp.isNull())\n        {\n            std::cout &lt;&lt; \"GLWidget::paintGL: !!! Failed QImage #1\" &lt;&lt; std::endl;\n            return;\n        }\n\n        _img = new QImage(QGLWidget::convertToGLFormat(tmp));\n    }\n\n    /* Convert bitmap into texture */\n\n    // Create The Texture\n    glGenTextures(1, &amp;_texture);\n\n    // Typical Texture Generation Using Data From The Bitmap\n    glBindTexture(GL_TEXTURE_RECTANGLE_ARB, _texture);\n\n    // Generate The Texture\n    glTexImage2D(GL_TEXTURE_RECTANGLE_ARB, 0,\n                 GL_RGBA, _img-&gt;width(), _img-&gt;height(), 0,\n                 GL_RGBA, GL_UNSIGNED_BYTE, _img-&gt;bits());\n\n    if (glGetError() != GL_NO_ERROR)\n    {\n        std::cout &lt;&lt; \"GLWidget::paintGL: !!! Failed glTexImage2D\" &lt;&lt; std::endl;\n        return;\n    }\n\n    /* Setup lighting */\n\n    glShadeModel(GL_SMOOTH);    //Smooth color shading\n\n    // Light properties\n    GLfloat AmbientLight[4]      = {0.2, 0.2, 0.2, 1.0};\n    GLfloat DiffuseLight[4]      = {0.8, 0.8, 0.8, 1.0};      // color\n    GLfloat SpecularLight[4]     = {1.0, 1.0, 1.0, 1.0};      // bright\n    GLfloat SpecRef[]            = {0.7f, 0.7f, 0.7f, 1.0f};\n    GLubyte Shine                = 60.0;\n\n    //glLightModelfv(GL_LIGHT_MODEL_LOCAL_VIEWER, AmbientLight);\n    glLightfv(GL_LIGHT0, GL_AMBIENT, AmbientLight);\n    glLightfv(GL_LIGHT0, GL_DIFFUSE, DiffuseLight);\n    glLightfv(GL_LIGHT0, GL_SPECULAR, SpecularLight);\n    glLightfv(GL_LIGHT0, GL_POSITION, _light_pos);\n\n    glColorMaterial(GL_FRONT, GL_AMBIENT_AND_DIFFUSE);\n    glMaterialfv(GL_FRONT, GL_SPECULAR, SpecRef);           // refletância do material\n    glMaterialf(GL_FRONT, GL_SHININESS, Shine);             // concentração do brilho\n    glLightModeli(GL_LIGHT_MODEL_TWO_SIDE, 0);\n    //glColorMaterial(GL_FRONT,GL_DIFFUSE);\n\n    glEnable(GL_COLOR_MATERIAL);\n    glEnable(GL_LIGHTING);\n    glEnable(GL_LIGHT0);\n    glEnable(GL_DEPTH_TEST);\n\n    // Sphere\n    _quadratic = gluNewQuadric();               // Create A Pointer To The Quadric Object\n    gluQuadricNormals(_quadratic, GLU_SMOOTH);  // Create Smooth Normals\n    gluQuadricTexture(_quadratic, GL_TRUE);     // Create Texture Coords\n\n    /* Start the timer */\n\n    _tick();\n}\n\n/* Draw the central cube with texture\n */\nvoid GLWidget::_draw_texture_cube(int w, int h)\n{\n    glPushMatrix();\n\n    glTranslatef(_cube_pos[0], _cube_pos[1], _cube_pos[2]);\n    glRotatef ( xrot, 1.0, 0.0, 0.0 );\n    glRotatef ( yrot, 0.0, 1.0, 0.0 );\n    glRotatef ( zrot, 0.0, 0.0, 1.0 );\n\n    glColor3f(1.0f, 1.0f, 1.0f);\n\n    glBegin(GL_QUADS);  // Draw A Cube\n\n        // Front Face\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f,  1.0f);\n\n        // Back Face\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f( 1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f, -1.0f);\n\n        // Top Face\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f,  1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f, -1.0f);\n\n        // Bottom Face\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f( 1.0f, -1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f,  1.0f);\n\n        // Right face\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, _img-&gt;height()); glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f,  1.0f);\n\n        // Left Face\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f, -1.0f);\n\n    glEnd();\n    glPopMatrix();\n\n    if (_must_rotate)\n    {\n        xrot += 0.6f;\n        yrot += 0.4f;\n        zrot += 0.8f;\n    }\n}\n\n/* Draw light source and light model (sphere)\n */\nvoid GLWidget::_draw_light()\n{\n    if (_light_on)\n    {\n        glEnable(GL_LIGHT0);    // enable lights that we use\n    }\n    else\n    {\n        glDisable(GL_LIGHT0);\n    }\n\n    static float light_angle = 25.0f;\n    if (!_pause_light)          // stop moving the light source\n    {\n        light_angle += LIGHT_MOVEMENT_SPEED * 0.1;\n        if (light_angle &gt; 360.0f)\n            light_angle -= 360.0f;\n    }\n\n    /* Set light source position */\n\n    _light_pos[0] = 4.0f * (float) cos(light_angle * pi / 180.0f);\n    _light_pos[1] = 4.0f * (float) sin(light_angle * pi / 180.0f);\n    _light_pos[2] = -7;\n    glLightfv(GL_LIGHT0, GL_POSITION, _light_pos);\n\n    GLfloat SpotDir[] = {_cube_pos[0], _cube_pos[1], _cube_pos[2], 0.0 };\n    glLightfv(GL_LIGHT0, GL_SPOT_DIRECTION, SpotDir);\n\n    glLightf(GL_LIGHT0, GL_SPOT_CUTOFF, 150.0);\n    glLightf(GL_LIGHT0, GL_SPOT_EXPONENT, 15.0);\n\n    /* Set the light model position to be the same as the light source */\n\n    glPushMatrix();\n        glTranslatef(_light_pos[0], _light_pos[1], _light_pos[2]);\n        glColor3ub(255, 255, 0);                // yellow\n        gluSphere(_quadratic, 0.2f, 32, 32);    // draw sphere\n    glPopMatrix();\n}\n\nvoid GLWidget::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // Clear Screen And Depth Buffer\n\n    glMatrixMode   ( GL_MODELVIEW );    // Select The Model View Matrix\n    glLoadIdentity();                   // Reset The Current Modelview Matrix\n\n    /* Draw central cube */\n\n    glEnable(GL_TEXTURE_RECTANGLE_ARB);\n    glBindTexture(GL_TEXTURE_RECTANGLE_ARB, _texture);       // Select Our Texture\n    _draw_texture_cube(_img-&gt;width(), _img-&gt;height());\n    glDisable(GL_TEXTURE_RECTANGLE_ARB);\n\n    /* Draw light source and light model*/\n\n    _draw_light();\n}\n\nvoid GLWidget::resizeGL( int w, int h)\n{\n    _width = w;\n    _height = h;\n    glViewport(0, 0, w, h);\n    glMatrixMode(GL_PROJECTION);    // Select The Projection Matrix\n    glLoadIdentity();               // Reset The Projection Matrix\n    if (h == 0)                     // Calculate The Aspect Ratio Of The Window\n       gluPerspective ( 60, ( float ) w, 0.4, 500.0 );\n    else\n       gluPerspective ( 60, ( float ) w / ( float ) h, 0.4, 500.0 );\n\n    glMatrixMode   ( GL_MODELVIEW );  // Select The Model View Matrix\n    glLoadIdentity ( );    // Reset The Model View Matrix\n    gluLookAt(0.0,  0.0, 2.0,   // eye\n              0.0,  0.0, 0.0,   // center\n              0.0,  1.0, 0.0);  // up\n}\n\nvoid GLWidget::keyPressEvent(QKeyEvent *e)\n{\n    switch (e-&gt;key())\n    {\n        case Qt::Key_L:\n            if (_light_on)\n                _light_on = false;\n            else\n                _light_on = true;\n        break;\n\n        case Qt::Key_P:\n            if (_pause_light)\n                _pause_light = false;\n            else\n                _pause_light = true;\n        break;\n\n        case Qt::Key_R:\n            if (_must_rotate)\n               _must_rotate = false;\n            else\n               _must_rotate = true;\n        break;\n\n        default:\n        break;\n    }\n}\n</code></pre>\n\n<p><strong>Lighting.pro</strong>:</p>\n\n<pre><code>QT += core gui opengl\n\nSOURCES += \\\n    GLWidget.cpp \\\n    main.cpp\n\nHEADERS += \\\n    GLWidget.h\n\nRESOURCES += \\\n    resource.qrc\n</code></pre>\n\n<p>What needs to be changed in this application in order to achieve the desired effect?</p>\n"},{"tags":["c++","qt","smart-pointers"],"answer_count":1,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":7946,"score":10,"question_id":1481616,"title":"Smart pointers in Qt","body":"<p>Like it has been written <a href=\"http://blog.qt.digia.com/2009/08/25/count-with-me-how-many-smart-pointer-classes-does-qt-have/\" rel=\"nofollow\">here</a> Qt up to now has 8 specilized smart pointer classes.\nIt looks like it is all you will ever need.\nHowever, in order to use any of these smart pointers your class must be derived from QObject which is not always convenient.\nIs there other implementations of smart pointers in Qt which work with arbitrary classes?</p>\n"},{"tags":["c++","qt","dll","eclipse-cdt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":12822624,"title":"Instantiate class in DLL throws a 127 error in LoadLibrary in QT","body":"<p>i'm trying to load a DLL in qt using LoadLibrary (only for test instead of QLibrary), the dll was compiled in eclipse CDT, but strangely when i try to instantiate any class in any function inside the Dll the LoadLibrary fails with error 127 (using GetLastError), but if i dont instantiate anything the LoadLibrary is successfuly, why happen this? my code is the next, the header and your implementation:</p>\n\n<p><strong>Header:</strong></p>\n\n<pre><code>#ifndef DESKTOPWINUTILS_H_\n#define DESKTOPWINUTILS_H_\n#ifdef __dll__\n#define DESKTOPUTILSEXP __declspec(dllexport)\n#else\n#define DESKTOPUTILSEXP __declspec(dllimport)\n#endif  // __dll__\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include \"ximage.h\"\n#include \"IDesktopUtils.h\"\nclass DesktopUtils:public IDesktopUtils{\npublic:\n    DesktopUtils();\n    ~DesktopUtils(void);\n    char* sayHello();\n};\nextern \"C\" DESKTOPUTILSEXP bool create(IDesktopUtils**);\n#endif /* DESKTOPWINUTILS_H_ */\n</code></pre>\n\n<p><strong>Implementation:</strong></p>\n\n<pre><code>#define __dll__\n#include \"DesktopUtils.h\"\n\nDesktopUtils::DesktopUtils(){\n    sayHello();\n}\n\nchar* DesktopUtils::sayHello(){\n    return (char *)(\"I say Hello\");\n}\n\n\nbool create(IDesktopUtils** desktoputils){\n    //DesktopUtils *desktoputils = new DesktopUtils();\n    if(!desktoputils)\n        return false;\n    *desktoputils =(IDesktopUtils*) new DesktopUtils; //if comment this the load is successful\n    return true;\n}\n</code></pre>\n\n<p>In the qt project i use this for load the DLL, only for know if is loaded, i'm not even using GetProcAddress:</p>\n\n<pre><code>typedef char*(*createInst)(void);\n    HINSTANCE dll;\n    dll = LoadLibrary(TEXT(\"libDesktopWinUtils.dll\"));\n    if(dll){\n        message.setText(\"library loaded\");\n        message.exec();\n\n    }else{\n        char error[10];\n        itoa(GetLastError(),error,10);\n        message.setText(error);\n        message.exec();\n    }\n</code></pre>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12818322,"title":"Qt - QTableView and QSqlQueryModel items disappear","body":"<p>I'm implementing a QtableView with the data from a QSqlQueryModeL.</p>\n\n<p>What happens is, if I select a item in the view, the item after a second disappears and the items in the other rows disappear as well.</p>\n\n<p>my code:\nui->medicstableView->setHorizontalScrollBarPolicy(Qt::ScrollBarAsNeeded);\n    ui->medicstableView->setVerticalScrollBarPolicy(Qt::ScrollBarAsNeeded);\n    ui->medicstableView->setStyleSheet(QString::fromUtf8(\"background-color: rgb(227, 226, 226);\"));\n    //ui->medicstableView->setVisible(true);\n    //ui->medicstableView->setEditTriggers(QAbstractItemView::NoEditTriggers);</p>\n\n<pre><code>doctors_table = new QSqlQueryModel(this);\n\nQSqlDatabase mydb;\nQString Squery;\n\nQString conn = mydb.connectionName();\nif (conn.isEmpty()) {\n    mydb = QSqlDatabase::addDatabase(\"QMYSQL\");\n}\nelse\n{\n    mydb.close();\n    QSqlDatabase::removeDatabase(conn);\n    mydb = QSqlDatabase::addDatabase(\"QMYSQL\");\n}\n\nmydb.setHostName(myhost);\nmydb.setUserName(myuser);\nmydb.setPassword(mypass);\nmydb.setDatabaseName(mybase);\n\ntry\n{\n    if(mydb.open()==true)\n    {\n        Squery=QString(\"SELECT id_medico,medico FROM Registos_Medicos\");\n        doctors_table-&gt;setQuery(Squery);\n\n        doctors_table-&gt;setHeaderData(0, Qt::Horizontal, QObject::tr(\"ID\"));\n        doctors_table-&gt;setHeaderData(1, Qt::Horizontal, QObject::tr(\"Nome do médico\"));\n\n        ui-&gt;medicstableView-&gt;setModel(doctors_table);\n\n        mydb.close();\n\n        //ui-&gt;statusbar-&gt;addAction();\n\n        ui-&gt;medicstableView-&gt;resizeColumnsToContents ();\n        ui-&gt;medicstableView-&gt;resizeRowsToContents ();\n        ui-&gt;medicstableView-&gt;setColumnWidth(1,255);\n\n        ui-&gt;medicstableView-&gt;show();\n</code></pre>\n\n<p>The QTableView is created in the Qt Designer with the name \"medicstableView\"</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","reference","parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12824446,"title":"Syntax with qreal reference as a parameter","body":"<p>I'm using Qt with C++ and I don't seem to understand something that feels inconsistent to me.\nI have a method that manipulates the variables that are sent to it as parameters, here is its declaration <code>aManipulation(qreal&amp; a); //reference to a qreal</code></p>\n\n<p>I use <code>QPointF</code> which contains two qreal values. The class can return a qreal value through a method, or a reference qreal&amp; through another method. So I'm curious about these cases:</p>\n\n<pre><code>qreal value = 1;\nQPointF point; point.setX(1);\n\n//OK -- this works eventhough I don't send it as a qreal&amp;\naManipulation(value);\n\n//FAIL -- actually trying to send a qreal&amp; reference is an error\naManipulation(value&amp;);\n\n//OK -- this method however returns a qreal&amp;\naManipulation(point.rx());\n\n//FAIL -- this just returns the '1' and I understand it cannot be referenced\naManipulation(point.x());\n</code></pre>\n\n<p>Why is it enough to send the object and not a reference to the object to a method that wants a reference of an object? I am confused as doing this with pure pointers would be very clear.</p>\n"},{"tags":["qt","opencv","pkg-config"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":335,"score":2,"question_id":9319392,"title":"OpenCV with QT Creator Build error","body":"<p>I downloaded qt a while ago and have just now recently started playing around with QT creator. </p>\n\n<p>I am trying to get Opencv integrated using pkg-config.</p>\n\n<p>The pro file is: </p>\n\n<pre><code>QT += core gui\n\nTARGET = QTTest\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n    mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nunix: CONFIG+=link_pkgconfig\nunix: PKGCONFIG+=opencv\n</code></pre>\n\n<p>I have tried including two different ways  and tried .</p>\n\n<p>I'm trying to simply run the following</p>\n\n<pre><code>cv::Mat* mat;\n</code></pre>\n\n<p>and it gives me 2 errors:\nsymbol(s) not found for architecture x86_64\ncollect2: id returned 1 exit status</p>\n\n<p>It also gives me a warning.</p>\n\n<h1>warning \"This version of Mac OSX is unsupported.\"</h1>\n\n<p>Can anyone help or enlighten me on what to do for fixing this. Any help is greatly appreciated. :-D</p>\n"},{"tags":["qt","visual-c++"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12816096,"title":"How to limit TCP writes to particular size and then block untlil the data is read","body":"<p>{Qt 4.7.0 , VS 2010}</p>\n\n<p>I have a Server written in Qt and a 3rd party client executable. Qt based server uses <strong>QTcpServer</strong> and <strong>QTcpSocket</strong> facilities (non-blocking).</p>\n\n<p>Going through the articles on TCP I understand the following: the original implementation of TCP mentioned the negotiable window size to be a 16-bit value, thus maximum being 65535 bytes. But implementations often used the RFC window-scale-extension that allows the sliding window size to be scalable by bit-shifting to yield a maximum of 1 gigabyte. This is implementation defined. This could have resulted in majorly different window sizes on receiver and sender end as the server uses Qt facilities without hardcoding any window size limit. Client 1st asks for all information it can based on the previous messages from the server before handling the new (accumulating) incoming messages. So at some point Server receives a lot of messages each asking for data of several MB's. This the server processes and puts it into the sender buffer. Client however is unable to handle the messages at the same pace and it seems that client’s receiver buffer is far smaller (65535 bytes maybe) than sender’s transmit window size. The messages thus get accumulated at sender’s end until the sender’s buffer is full too after which the TCP writes on sender would block. This however does not happen as sender buffer is much larger. Hence this manifests as increase in memory consumption on the sender’s end.</p>\n\n<p>To prevent this from happening, I used Qt’s socket’s <code>waitForBytesWritten()</code> with timeout set to -1 for infinite waiting period. This as I see from the behaviour blocks the thread writing TCP data until the data has actually been sensed by the receiver’s window (which will happen when earlier messages have been processed by the client at application level). This has caused memory consumption at Server end to be almost negligible.</p>\n\n<p>is there a better alternative to this (<strong>in Qt</strong>) if i want to restrict the memory consumption at server end to say <strong>x</strong> MB's? Also please point out if any of my understandings is incorrect.</p>\n"},{"tags":["qt","qpainter","qimage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12815150,"title":"Why does my QPainter instance only draw when I use a specific .png?","body":"<p>I'm creating a simple \"frogger\" type game with Qt Creator.\nI managed to get a player that works with 4 directional keys, and a car that moves on its own across the screen. I have separate Player, Car, and Frogger class.</p>\n\n<p>The Frogger class paints the images in <em>paintEvent</em>:</p>\n\n<pre><code>painter.drawImage(player-&gt;getRect(), player-&gt;getImage());\npainter.drawImage(car-&gt;getRect(), car-&gt;getImage());\n</code></pre>\n\n<p>But I'm encountering a problem with trying to load a different image for the car. If I use <code>image.load(\"player.png\");</code> for both the car and the player constructors, I can see the car moving across the screen as a player image, and the player which moves according to my keys. </p>\n\n<p>However if I replace the image with anything else (all images are in the same folder; I also tried adding it to Qt Creator under \"Other files\") such as \"car.png,\" it doesn't seem to show up. I tried it with other images, but those don't show up for player either. Any ideas on why this might happen? I commented out my <code>autoMove()</code> function and nothing changes, so I don't think it's related to how I implement my move. Any ideas on what I might be missing?</p>\n"},{"tags":["css","qt","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":170,"score":2,"question_id":12769169,"title":"How to fix/work around QtWebKit's incorrect font fallback behavior?","body":"<p>I have a website in which some pages have user-generated content. I use phantomjs (based on QtWebKit) to take screenshots of the pages, so they must render perfectly in QtWebKit.</p>\n\n<p>The problem starts when the content is not in English. Then, popular browsers (such as Chrome and Firefox) fall back to the next font in the CSS font-family, up to the default font. However, in my tests, QtWebKit seems to exhibit different behavior: it incorrectly picks a font that's unable to render the content.</p>\n\n<p>Consider this example file, \"fonts.html\":</p>\n\n<pre><code>calibri, arial:\n&lt;div style=\"font-family: calibri, arial; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\ncalibri:\n&lt;div style=\"font-family: calibri; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\narial:\n&lt;div style=\"font-family: arial; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\ndefault:\n&lt;div style=\"font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n</code></pre>\n\n<p>Here's how it renders in Chrome and in Arora (a QtWebKit-based browser, that gives identical results to my phantomjs script):</p>\n\n<p><img src=\"http://i.stack.imgur.com/MDhPD.png\" alt=\"Font fallback problem in Chrome vs QtWebKit\"></p>\n\n<p>What I'd like to have is for the text to be rendered in Calibri and, if unsuitable for some characters, fall back to Arial.</p>\n\n<p>I'll accept either a solution that tells me how to configure QtWebKit to allow this (I couldn't find anything on the web), or how to change my HTML/CSS to \"support QtWebKit\".</p>\n"},{"tags":["qt","shell","debian","meego"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12797748,"title":"How to remove file from user's home folder on Nokia N9 (MeeGo) on app removal","body":"\n\n<p>My Qt application for Nokia N9 stores some data in the my folder inside /home/user/.config.\nI need to delete this folder with my data when application will be uninstalled.\nAs far as I understand this can be reached using postrm file.\nI use the following file:</p>\n\n<p>postrm</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>#!/bin/sh\n\nrm -rf /home/user/.config/mydatafolder/\n\nexit 0\n</code></pre>\n\n<p>But this code doesn't work. I assume there's not enough right to remove something in the user's folder.\nSo, I've tried to use</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>devel-su user -c \"rm -rf /home/user/.config/mydatafolder/\"\n</code></pre>\n\n<p>But it works only in developer mode and I need the app to work properly without it. The following code doesn't work too:</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>su user -c \"rm -rf /home/user/.config/mydatafolder/\"\n</code></pre>\n\n<p>Does anybody know how to remove this folder?</p>\n"},{"tags":["c++","c","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12814754,"title":"Use fstat with Qt QDialog","body":"<p>Well, I think I am having issues with resolving two functions with the same name and I do not know how to resolve it.</p>\n\n<p>I have a Qt class which is a subclass of QDialog (Qt). I would like to use 'fstat' to get information about the file using a code like below</p>\n\n<pre><code>struct stat file_info;\nint hd = open(\"/home/test/file.xml\", O_RDONLY);\nfstat(hd, &amp;file_info);\nclose(hd);\n</code></pre>\n\n<p>But when I do this, I get this complain from the compiler.</p>\n\n<pre><code>error: no matching function for call to 'Test::open(const char [19], int)'\n/usr/local/Trolltech/Qt-4.7.3/include/QtGui/qdialog.h::99:10: note: candidate is: void QDialog::open()\n</code></pre>\n\n<p>Is there some way to resolve this?</p>\n\n<p>Thanks.</p>\n\n<p><strong>Answer:</strong></p>\n\n<p>As <a href=\"http://stackoverflow.com/users/1022729/caladan\">Caladan</a> mentions, ::open() did the trick. Also the second answer (to use stat instead of fstat) was equally valid. Thanks!</p>\n"},{"tags":["qt","qt-designer"],"answer_count":7,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":841,"score":2,"question_id":5695313,"title":"Qt: Drop-down button?","body":"<p>How can I create a \"drop down button\" in Qt?</p>\n\n<p>For a non-Qt example, see:\n<a href=\"http://stackoverflow.com/questions/4318837/combination-button-dropdown-in-office\">Combination button/dropdown in office</a></p>\n\n<p>The key point is that the widget needs an icon for the primary action, and a visually separate \"pulldown arrow\" to show secondary icons / actions. </p>\n\n<p>Upon clicking the \"pulldown arrow\" for secondary options, the user should be presented with a grid of other icons to choose from.   (All icons, no text.)</p>\n\n<p>Does Qt have a widget that can do this?</p>\n\n<p>If not, how can this be created in Qt?  (I'm a new Qt user, so a Qt Designer based solution would be ideal.)</p>\n\n<p>Thank you</p>\n"},{"tags":["c++","mysql","qt","vector"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12806640,"title":"Constructing a 2D vector from a mysql query using Qt","body":"<p>I have a query statement that selects a list of tools. These tools need to be placed into a 2D vector, where the first level is it's category and second is the category's \"bucket\". </p>\n\n<pre><code>struct Tool {};\ntypedef boost::shared_ptr&lt; Tool &gt; ToolPtr;\ntypedef std::vector&lt; ToolPtr &gt; ToolVec;\ntypedef std::vector&lt; ToolVec &gt; ToolCategory;\n</code></pre>\n\n<p>The query statement looks like this:</p>\n\n<pre><code>const QString getTools =\n\"SELECT tool_id, category_id, category_name, tool_name FROM tool_relation \"\n\"WHERE course_id = ? ORDER BY category_id ASC, tool_id ASC\";\n\nq.bindValue(0, courseID);\nq.exec();\n\nwhile (q.next())\n{\n\n}\n</code></pre>\n\n<p>I would like to do this with one query statement, but the only way I can think of is to use a temporary pointer to the correct bucket and test every record to see if the category id changes. Seems inefficient.</p>\n\n<p>EDIT: Something like this is what I came up with when only using one query statement.</p>\n\n<pre><code>ToolVector *curBucket = 0;\n\nint curCategory = 0;\n\nwhile (q.next())\n{\n    if (q.value(1).toInt() != curCategory)\n    {\n        curCategory = q.value(1).toInt();\n\n        ToolVec toolVec;\n\n        curBucket = &amp;toolVec;\n\n        categories.push_back(toolVec);\n    }\n\n    ToolPtr toolPtr(new Tool(\n                        q.value(0).toInt(),\n                        q.value(2).toString()));\n\n    curBucket-&gt;push_back(toolPtr);\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12810063,"title":"Check whether a widget is in the layout Qt","body":"<p>How to check whether a widget is in a layout? I have a layout that may contain the widget or not.<br></p>\n\n<ul>\n<li>Widget name: <code>infoClient</code><br> </li>\n<li>Layer name:  <code>verticalLayout_3</code><br></li>\n</ul>\n\n<p>Need to check if the widget exists in the layout, then do not add a new one.<br>\nAnd if does not exist, add a new one.<br>\nHow to do it?</p>\n\n<pre><code>void MainWindow::slotPush1()\n{\n    if &lt;there is no infoClient&gt; ui-&gt;verticalLayout_3-&gt;addWidget(new infoClient(this));\n}\n</code></pre>\n"},{"tags":["qt","qt4","read-only","qtablewidget"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":6731,"score":6,"question_id":2574115,"title":"Qt How to make a column in QTableWidget read only","body":"<p>I would like to have one column in QTableWidget NOT editable. In forums I have read a lot about some flags but could not manage to implement.</p>\n\n<p>Thanks in advance! </p>\n"},{"tags":["qt","printing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12812663,"title":"QPrinter and cyrillic","body":"<p>How to print html with cyrillic symbols?\nI tried to do this:</p>\n\n<pre><code>QTextDocument *document = new QTextDocument();\ndocument-&gt;setHtml(htmlContent);\ndocument-&gt;print(printer);\n</code></pre>\n\n<p>But document printed in wrong encoding. Html encoding is utf-8.</p>\n"},{"tags":["qt","qnetworkaccessmanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":296,"score":0,"question_id":6121439,"title":"error: QNetworkReply: No such file or directory","body":"<p>Something is missing from the pro file it seems:</p>\n\n<pre><code>TEMPLATE = app\nTARGET = \nDEPENDPATH += .\nINCLUDEPATH += .\n\n# Input\nHEADERS += hello.h\nSOURCES += hello.cpp\nQT += webkit\n</code></pre>\n\n<p>Or there is some other problem?</p>\n\n<pre><code>$qmake -v\nQMake version 2.01a\nUsing Qt version 4.7.0 in /opt/qtsdk-2010.05/qt/lib\n</code></pre>\n"},{"tags":["c++","qt","udp","broadcast"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12802328,"title":"Unicast with QUdpSocket on Qt","body":"<p>I am trying to send data to a computer with specific ip address on Qt.\nIf I use <code>Broadcast</code> everything is fine. But when I want to send data to a specific address it does not work. Here is what I have in the transmitter:</p>\n\n<pre><code>udpSocket = new QUdpSocket(this);\nQHostAddress myAddress = QHostAddress(\"192.160.0.1\");\nudpSocket-&gt;writeDatagram((char*)myChar, len, myAddress, 45454);\n</code></pre>\n\n<p>and at the receiver I have:</p>\n\n<pre><code>udpSocket-&gt;bind(45454, QUdpSocket::ShareAddress);\n</code></pre>\n\n<p>Am I doing something wrong?\nThanks for the help.</p>\n"},{"tags":["qt","qsplitter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12799037,"title":"qt : How can I minimize qsplitter's child?","body":"<p><img src=\"http://i.stack.imgur.com/F20qN.png\" alt=\"QSplitter\"></p>\n\n<p>I made a QSplitter layout. And under QSplitter, there is QWidget and it's gridLayout children. At this case, I can't minimize QSplitter to 0 size. As I see above, it has restriction for height.  What cause this problem?  I tested some cases, and I found that when I use QGridLayout for QWidget's children. But I can't set minimum height to 0.</p>\n"},{"tags":["windows","multithreading","qt","pthreads","openssl"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":734,"score":2,"question_id":3417706,"title":"OpenSSL and multi-threads","body":"<p>I've been <a href=\"http://www.openssl.org/docs/crypto/threads.html\" rel=\"nofollow\">reading</a> about the requirement that if OpenSSL is used in a multi-threaded application, you have to register a thread identification function (and also a mutex creation function) with OpenSSL.</p>\n\n<p>On Linux, according to the example provided by OpenSSL, a thread is normally identified by registering a function like this:</p>\n\n<pre><code>static unsigned long id_function(void){\n    return (unsigned long)pthread_self();\n}\n</code></pre>\n\n<p>pthread_self() returns a pthread_t, and this works on Linux since pthread_t is just a typedef of unsigned long.</p>\n\n<p>On Windows pthreads, FreeBSD, and other operating systems, pthread_t is a struct, with the following structure:</p>\n\n<pre><code>struct {\n    void * p;                   /* Pointer to actual object */\n    unsigned int x;             /* Extra information - reuse count etc */ \n}\n</code></pre>\n\n<p>This can't be simply cast to an unsigned long, and when I try to do so, it throws a compile error. I tried taking the void *p and casting that to an unsigned long, on the theory that the memory pointer should be consistent and unique across threads, but this just causes my program to crash a lot.</p>\n\n<p><b>What can I register with OpenSSL as the thread identification function when using Windows pthreads or FreeBSD or any of the other operating systems like this?</b></p>\n\n<p>Also, as an additional question:<br>\n<b>Does anyone know if this also needs to be done if OpenSSL is compiled into and used with QT, and if so how to register QThreads with OpenSSL?</b> Surprisingly, I can't seem to find the answer in QT's documentation.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12788759,"title":"QTreeWidget Extended Selection Changed Signal","body":"<p>I have changed my QTreeWidget to allow extended selection:</p>\n\n<p>tree_->setSelectionMode(QAbstractItemView::ExtendedSelection);</p>\n\n<p>There is a case in which the selectionChanged signal is not emitted. This is when I directly select multiple items with the mouse. If I first click on an item and then keep shift and select a range, then the selectionChanged signal is emitted.</p>\n\n<p>Has anybody seen this?</p>\n"},{"tags":["qt","exception","static","mingw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12808342,"title":"Exceptions in Qt under Windows (mingw)","body":"<p>I'm writing an application that uses Qt, and I'd like to make it available to Windows users. I'm using mingw. I want to configure Qt with -exceptions as well as -static. Is this possible? I've found a post on a blog that states that static builds with mingw and exceptions will cause memory leaks:\n<a href=\"http://blog.lugru.com/2010/04/static-qt-compilation-and-mingwm10-dll-mingw-confusion/\" rel=\"nofollow\">http://blog.lugru.com/2010/04/static-qt-compilation-and-mingwm10-dll-mingw-confusion/</a></p>\n\n<p>Some of my code throws exceptions, which should be handled in the GUI part of my code by displaying an error dialog (meaning: I don't want to remove all exceptions from my code).</p>\n\n<p>I tried to build Qt with both -static and -exceptions and it didn't seem to work (I still got error messages about exceptions when I tried to compile my code). I won't rule out the possibility that I somehow messed that up, but if these options are mutually exclusive, it would be nice to know before I spend all day compiling Qt again. Thanks!</p>\n"},{"tags":["qt","stylesheet","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":390,"score":3,"question_id":9485211,"title":"QTableWidget with stylesheet don’t scroll items","body":"<p>In the following code there are two stylesheets: problemStylesheet and okStylesheet.\nEverything works fine when I’m using <strong>okStylesheet</strong> for QTableWidget. Labels are scrolling.\nProblem is that labels are not scrolling if I use <strong>problemStylesheet</strong>. What can cause this problem? I've tried to find the solution, but couldn't find any information that might be helpful.</p>\n\n<p>Qt 4.8.0, Mac OS X Lion.</p>\n\n<p>Example code:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    QWidget *baseWidget = new QWidget;\n\n    QTableWidget *tableWidget = new QTableWidget(baseWidget);\n    tableWidget-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n    tableWidget-&gt;setColumnCount(1);\n\n    tableWidget-&gt;horizontalHeader()-&gt;setVisible(false);\n    tableWidget-&gt;verticalHeader()-&gt;setVisible(false);\n\n    tableWidget-&gt;horizontalHeader()-&gt;setStretchLastSection(true);\n    tableWidget-&gt;verticalHeader()-&gt;setDefaultSectionSize(52);\n\n    tableWidget-&gt;setShowGrid(false);\n\n    tableWidget-&gt;setSelectionMode(QAbstractItemView::SingleSelection);\n    tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows);\n\n    QString problemStylesheet = \"QTableWidget { background-color: green; } QTableWidget::item { border: 1px solid #000; }\";\n    QString okStylesheet = \"QTableWidget { } QTableWidget::item { border: 1px solid #000; }\";\n\n    tableWidget-&gt;setStyleSheet(problemStylesheet);\n\n    tableWidget-&gt;setRowCount(20);\n    for (int i = 0; i &lt; 20; ++i) {\n        QLabel *label = new QLabel(QString(\"\").setNum(i), tableWidget);\n        label-&gt;setAlignment(Qt::AlignHCenter | Qt::AlignVCenter);\n        tableWidget-&gt;setCellWidget(i, 0, label);\n    }\n\n    QVBoxLayout *verticalLayout = new QVBoxLayout();\n    verticalLayout-&gt;setMargin(0);\n    verticalLayout-&gt;setSpacing(0);\n    verticalLayout-&gt;setContentsMargins(0, 0, 0, 0);\n\n    baseWidget-&gt;setLayout(verticalLayout);\n\n    verticalLayout-&gt;addWidget(tableWidget);\n\n    baseWidget-&gt;show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong> It seems like everything is ok on Linux and Windows. So the problem appears only on Mac OS.</p>\n"},{"tags":["qt","signals","signals-slots","slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12804214,"title":"Qt::QueuedConnection invoke at most once per event loop iteration","body":"<p>Consider the following situation:</p>\n\n<pre><code>class Foo : public QObject {\n  Q_OBJECT\n  public:\n    void set_A(int a) { emit updated(this); } \n    void set_B(int b) { emit updated(this); }\n  signals: \n    void updated(Foo*);\n}\n\nFoo f;\nconnect(&amp;f, SIGNAL(updated(Foo*)), something, SLOT(do_something_heavy(Foo*)), Qt::QueuedConnection)\n\nvoid bar() { \n  f.set_A(5); f.set_B(6);\n}\n</code></pre>\n\n<p>How can I ensure that only one of the signals reach the <code>do_something_heavy()</code> call? </p>\n\n<p>I want to be able to use <code>set_A()</code> and invoke the <code>do_something_heavy()</code>, but in the case when both set_A and set_B are invoked, I don't want to <code>do_something_heavy()</code> twice. </p>\n\n<p>Can I unqueue all remaining outstanding signals for that particular sender/receiver pair? Preferably at <code>emit</code>, rather than at receive, but that's just for the sake of brevity and encapsulation - I want the <code>updated(Foo*)</code> to signify the need to change the local receiver's state, and if the connection is queued, the semantics are such that I don't need the update to occur twice. </p>\n"},{"tags":["qt","pyqt","pyqt4","pyside"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12714703,"title":"PyQt QComboBox dropdown direction","body":"<p>I'm working on an application wherein a QComboBox is located at the bottom of the window. From my limited understanding, I believe Qt should automatically calculate the direction of the drop down list based on the amount of space available for the popup. However, in my case, the drop down direction is still in the default state (displayed below the box) and hence hidden and inaccessible. Could someone help me understand why this might be happening or perhaps if there is a way to force Qt to display the popup above the QComboBox? </p>\n\n<h3>--EDIT--</h3>\n\n<p>Image below shows the problem, and my fix. I am still not sure if there is a method to set the direction manually, but in this case, I don't need it anymore.\n<img src=\"http://i.stack.imgur.com/UagEn.jpg\" alt=\"Dropdown direction error\"></p>\n"},{"tags":["qt","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":126,"score":3,"question_id":12278448,"title":"Removing accents from a QString","body":"<p>I want to remove accents and more generally diacritic marks from a string to initiate an accent-insensitive search.\nBased on some reading on Unicode character classes, I've come up with this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code> QString unaccent(const QString s)\n {\n   QString s2 = s.normalized(QString::NormalizationForm_D);\n   QString out;\n   for (int i=0,j=s2.length(); i&lt;j; i++)\n   {\n     // strip diacritic marks\n     if (s2.at(i).category()!=QChar::Mark_NonSpacing &amp;&amp;\n         s2.at(i).category()!=QChar::Mark_SpacingCombining)\n     {\n          out.append(s2.at(i));\n     }\n   }\n   return out;\n }\n</code></pre>\n\n<p>It appears to work reasonably well for latin-based languages, but I'm wondering about its adequacy on other alphabets: arabic, cyrillic, CJK... which I cannot test due to lack of cultural understanding of these.</p>\n\n<p>Specifically I wish I'd know:</p>\n\n<ol>\n<li>What Unicode normalization form is better suited for this problem: <code>NormalizationForm_KD</code> or <code>NormalizationForm_D</code>?</li>\n<li>Is it sufficient to remove the characters belonging to <code>Mark_NonSpacing</code> and <code>Mark_SpacingCombining</code> categories or should it include more categories?</li>\n<li>Are there other improvements to the above code that would make it work as best as possible for all languages?</li>\n</ol>\n"},{"tags":["c++","qt","user-interface","creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":111,"score":0,"question_id":12801846,"title":"Qt: I can't access to UI's widgets","body":"<p>I have MainWindow class which contains all widgets and I have MyClass class where I want to access to all widgets placed in the main window (MainWindow class). How can I do this? I try to do it like this (code below) - but it gives me a bunch of errors:</p>\n\n<pre><code>MyClass.h:4: error: 'Ui' has not been declared\nMyClass.h:4: error: expected `)' before '*' token\nMyClass.h:6: error: 'Ui' has not been declared\nMyClass.h:6: error: ISO C++ forbids declaration of 'MainWindow' with no type\nMyClass.h:6: error: expected ';' before '*' token\n</code></pre>\n\n<p>This MainWindow created by QtCreator - it's a standart GUI window created by Qt Creator.</p>\n\n<pre><code>// -=-=-=-=-=-=-=-=-=-=[ MyClass.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n#include \"MainWindow.h\"\nclass MyClass {\n    public:\n        MyClass( Ui::MainWindow *ui );\n    private:\n        Ui::MainWindow *ui;\n};\n\n// -=-=-=-=-=-=-=-=-=-=[ MyClass.cpp ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n#include \"MyClass.h\"\n\nMyClass::MyClass( Ui::MainWindow *ui ){\n    this-&gt;myUI = ui; // myUI is desclared as: Ui::MainWindow *myUI\n}\n\n// -=-=-=-=-=-=-=-=-=-=[ MainWindow.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n....\nnamespace Ui {\n    class MainWindow;\n}\nclass MainWindow : public QMainWindow {\n    Q_OBJECT    \n    private:\n        Ui::MainWindow *ui; // this has done by Qt Creator\n    public:\n        MyClass *myClass;\n}\n// -=-=-=-=-=-=-=-=-=-=[ MainWindow.cpp ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n#include \"MainWindow.h\"\nMainWindow::MainWindow( QWidget *parent ): QMainWindow( parent ), ui( new Ui::MainWindow ) {\n    ui-&gt;setupUi( this );\n    myClass = new MyClass( ui ); // my attempt\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nThere's useful code in the comment below by beige. It works fine. But not in my case :( When I try to declare MyClass from any class (not from MainWindow.h):</p>\n\n<p>// -=-=-=-=-=-=-=-=-=-=[ MyGLWidget.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-</p>\n\n<pre><code>#include \"MyClass.h\"\nclass MyGLWidget : public QGLWidget {\n   Q_OBJECT\n   public:\n     MyClass *myClass;\n}\n</code></pre>\n\n<p>it doesn't work:</p>\n\n<pre><code>myclass.h:9: error: 'Ui' has not been declared\nmyclass.h:9: error: expected `)' before '*' token\nmyclass.h:12: error: 'Ui' has not been declared\nmyclass.h:12: error: ISO C++ forbids declaration of 'MainWindow' with no type\nmyclass.h:12: error: expected ';' before '*' token\n</code></pre>\n\n<p>but why?? I have declaration of the \"ui_mainwindow.h\" in my MyClass.h...</p>\n"},{"tags":["c++","qt","qobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12804243,"title":"Qt interfaces class","body":"<p>How can I create an interface class, something like this :</p>\n\n<pre><code>template&lt;typename file_system_t&gt;\n    class ireciver_intervace : public QObject\n    {\n        public:\n        typedef typename file_system_t::file_system_item file_system_item;\n    public Q_SLOTS:\n        virtual void dataChangeItem(file_system_item *item)=0;\n        virtual void removeItem(file_system_item *item)=0;\n        virtual void insertItem(file_system_item *item)=0;\n    };\n</code></pre>\n\n<p>and derived class  </p>\n\n<pre><code>class FileItemModel:public QAbstractItemModel ,public ireciver_intervace&lt;file_system&gt;\n        {\n            Q_OBJECT\n        }\n</code></pre>\n\n<p>When I inherit from this class I get an error mentioning ambiguous conversions. I understand this is the right behavior of the compiler, but how can I get interfaces slots for my future classes?  Maybe I must use the <code>Q_DECLARE_INTERFACE</code> macro?</p>\n"},{"tags":["c++","qt","dll","eclipse-cdt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12804461,"title":"How to use a dll developed in eclipse CDT in a QT application","body":"<p>I want to use a dll that i create in CDT with the following code:</p>\n\n<pre><code>#ifndef DESKTOPWINUTILS_H_\n#define DESKTOPWINUTILS_H_\n\n#ifdef __dll__\n#define DESKTOPUTILSEXP __declspec(dllexport)\n#else\n#define DESKTOPUTILSEXP __declspec(dllimport)\n#endif  // __dll__\n\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include \"IDesktopUtils.h\"\n#include \"ximage.h\"\n\nclass  DESKTOPUTILSEXP DesktopUtils: public IDesktopUtils{\npublic:\n    DesktopUtils();\n    char* sayHello();\n};\n\nvoid* DESKTOPUTILSEXP create();\n\n#endif /* DESKTOPWINUTILS_H_ */\n</code></pre>\n\n<p>when i create the dll i copy it in the debug folder of the Qt Application ant try to load it with QLibrary:</p>\n\n<pre><code>QMessageBox message;\nmessage.setWindowTitle(\"Error\");\nmessage.setStandardButtons(QMessageBox::Ok);\n\nQLibrary library(\"libDesktopWinUtils.dll\");\nif(library.load()){\n    typedef char*(*createInst)(void);\n    createInst create = (createInst)library.resolve(\"create\");\n    if(create){\n\n    }else{\n        message.setText(\"instance not found\"+library.errorString());\n        message.exec();\n    }\n}else{\n\n    message.setText(\"library not loaded \"+library.errorString());\n    message.exec();\n}\n</code></pre>\n\n<p>But i ghet a dialog that say: library not loaded Cannot load library libDesktopWinUtils.dll: no se puede encontrar el modulo especificado (in English: can not find the specified module). i Try the same thig using a dll created with Qt creator the only difference is the define of the export and import constants:</p>\n\n<pre><code>#include &lt;QtCore/qglobal.h&gt;\n\n#if defined(DESKTOPUTILS_LIBRARY)\n#  define DESKTOPUTILSSHARED_EXPORT Q_DECL_EXPORT\n#else\n#  define DESKTOPUTILSSHARED_EXPORT Q_DECL_IMPORT\n#endif\n</code></pre>\n\n<p>There is a way for use this in eclipse CDT? or what is the best way for made what i want, i am try to use CxImage in the dll, i try to use it in the dll Qt Project but throw me errors like: <code>cannot convert 'const TCHAR*' to 'const char*' for argument '1' to 'FILE* fopen(const char*,const char*)'</code> so i decided to use eclipse CDT.</p>\n"},{"tags":["qt","qt4","menu","symbian","nokia"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":4000,"score":2,"question_id":2781198,"title":"how to add menu dynamically in Qt","body":"<p>I want to add, submenu to a menu item dynamically. How can I achive this?</p>\n\n<p>I tried like this,\nI have created an  Action and submenu. Then I have added the submenu to action. \nBut, I have connected the “triggered” signal of action. its getting crash if I click on the action..</p>\n\n<p>I have also handled the “aboutToShow” signal of menu, same its also getting crash when I click on action..</p>\n\n<p>Here is the sampe code.</p>\n\n<pre><code>Submenu = new QMenu(this);      \nconnect(Submenu, SIGNAL( aboutToShow()), this, SLOT(move ()));\n\n                  QAction *test = new QAction(tr(\"Selection\"), this);\n                  test -&gt;setMenu(Submenu);\n\n                 menubar()-&gt;addAction(test);\n</code></pre>\n\n<p>I want to get the notification, before the display of submenu..</p>\n\n<p><em><strong>additonal information:</em></strong></p>\n\n<p>pleas try this code, in your main window constructor.</p>\n\n<pre><code>QAction *action = new QAction(\"Test\",this);\nQAction *dummyaction = new QAction(\"Testing\",this);\nQMenu *menu = new QMenu();\nmenu-&gt;addAction(dummyaction);\n\nbool val= connect(menu, SIGNAL( aboutToShow()), this, SLOT( Move()));\nval= connect(menu, SIGNAL( aboutToHide()), this, SLOT(Move()));\n\naction-&gt;setMenu(menu);\nthis-&gt;menuBar()-&gt;addAction(action);\n</code></pre>\n\n<p>if I do like this, I am able to see one submenu item. But before that Move slot should call, its not getting called.. and even before hide also the same slot should call.. its not coming..</p>\n\n<p>I tried the return values of connect.. its true only… so what is wrong with my code.. please say..</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12803464,"title":"Qt::QMDISubWindow maintaining aspect ratio while resizing?","body":"<p>I have a <code>QMDIArea</code> in which I am having Multiple <code>QMdiSubWindows</code>. User can freely resize these subwindows any time. I want to maintain aspect ratio of the subwindows during resizing.</p>\n\n<p>I have tried re-implementing <code>hasHeightForWidth()</code>, making a custom layout manager and one third party library <code>libqxt</code>'s <code>qxtLetterBoxWidget</code>. None of these methods which I found on Internet worked for me.</p>\n\n<p>As per my understanding they don't work for \"Top Level Widgets\" they will only work for widgets inside containers. Right now I am achieving this aspect ratio by reimplementing <code>resizeEvent()</code> and calling <code>resize()</code> inside it. But even after lot of efforts i am having flickering issue while resizing diagonally in some cases window also moves unexpectedly (though this is because some unexpected moves are getting called from that resize event). But all in all its not looking good for user experience.</p>\n\n<p>So now my question is is there any other mechanism availabe that QT or any other third party library provides for maintaining this lock aspect ratio ?</p>\n\n<p>can I somehow make that <code>hasHeightforWidth</code> method work for my <code>QMdiSubwindows</code> ?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12801624,"title":"FocusScope and \"focus\" property of child elements inside a Row element","body":"<p>Does the FocusScope only works on child elements \"focus\" property or does it also considers the grand childerens \"focus\" property also.</p>\n\n<p>i.e. In the below code, since the Rectangle element is not a direct child of FocusScope, will it take in to account while setting the focus.</p>\n\n<pre><code>import QtQuick 1.1\n\nFocusScope {\n    width: 100\n    height: 66\n    Row {\n        Rectangle {\n            width: 100\n            height: 62\n            focus: true\n            color: \"red\"\n            Keys.onPressed: {\n                console.log(\"hello\")    \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Based on the output of the program, it looks like FocusScope takes Rectangle element in to account while setting the focus. This feature is not documented.</p>\n\n<p>From <a href=\"http://qt-project.org/doc/qt-4.8/qdeclarativefocus.html#qmlfocus\" rel=\"nofollow\">http://qt-project.org/doc/qt-4.8/qdeclarativefocus.html#qmlfocus</a> Qt docs\n <em>\"Within each focus scope one element may have Item::focus set to true. If more than one Item has the focus property set, the last element to set the focus will have the focus and the others are unset, similar to when there are no focus scopes.\"</em></p>\n\n<p>It is not clear whether the FocusScope considers the grandchildrens(childrens of childrens) \"focus\" property.</p>\n"},{"tags":["qt","visual-studio-2008","release-mode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12802731,"title":"Generate release version in visual-studio-20082008 with Qt-Addin1.1.11","body":"<p>i develop Qt program with Qt-Addin1.1.11 in visual-studio-2008(with the language C++);\ni try to get Release version under release mode ,but found there was no release file at all;\nanyone know the way to get the release version ?</p>\n"},{"tags":["qt","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":274,"score":1,"question_id":9483514,"title":"Remove checkbox from QErrorMessage","body":"<p>writing in QT and <em>QErrorMessage</em> by default has checkbox saying: </p>\n\n<blockquote>\n  <p>Show this message again</p>\n</blockquote>\n\n<p>Is there some way to remove this checkbox, so user won't be able to turn off this message?</p>\n"},{"tags":[".net","wpf","qt","integration"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":523,"score":5,"question_id":4721786,"title":"Integrating a Qt widget in a .NET (WPF) application","body":"<p>I have a working Qt widget which I want to show in a .NET application. The application is using WPF and I want to embed that widget somewhere in the UI.</p>\n\n<p>What is the recommended way to embed a Qt widget in a WPF application? should I use C++/CLI and pass the HWND to WPF, or just use ActiveQt? I'm concerned about the Qt event mechanism, since no one will be calling QApplication::exec()</p>\n"},{"tags":["c++","qt","release","executable","jpg"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12800346,"title":"Showing JPG image with Qt does not work with release executable","body":"<p>i have a annoying issue with showing jpg images with qt. I devlope with Visual Studio 2008 in Windows 7 and using the Qt version 4.8.2. I will now describe my problem by means of the \"collidingmice\" example deliverd with Qt (../examples/graphicsview/collidingmice).</p>\n\n<p>I can build this example via Visual Studio IDE or with via the Visual Studio command prompt. In this example a jpg is used as background and is correctly shown when I execute the debug executable. But in release build this background jpg is not shown.</p>\n\n<p>I already realized, that Qt uses plugins for loading/showing different images. Therefore I copied the contents of the plugin folder of Qt into the application directory (where collidingmice.exe is). Unfortunatly, this does not solve the problem.</p>\n\n<p>Hence, I thought there must be something wrong with the Qt build and the jpeg library. Therefore, I reconfigured Qt by executing the following commands in the Visual Studio command prompt:</p>\n\n<pre><code>nmake distclean\nconfigure -debug-and-release -opensource -platform win32-msvc2008 -qt-libjpeg -no-webkit\nnmake\n</code></pre>\n\n<p>After that did a rebuild of the example, but again the jpg image is not shown. I am not sure what the problem is since it works in debug build and in release I think I only have to deliver the needed plugin DLLs. But obviously I am not right.</p>\n\n<p>I hope anyone can help me or can give me some hints where the problem might be. Thanks!</p>\n"},{"tags":["qt","character-encoding","qtwebkit","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":10619168,"title":"QtWebKit not rendering Japanese (Shift_JIS charset)","body":"<p>I have an HTML file which I want to load in a <code>QWebView</code>. The header looks something like:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\"&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>The body text is mixed Latin and Japanese characters.</p>\n\n<p>The page displays perfectly in Chrome, but all of the Japanese characters are replaced with <code>□</code> when the page is displayed in a <code>QWebView</code>.</p>\n\n<p>QtWebKit seems to use the same system as used by <a href=\"http://qt-project.org/doc/qt-4.8/qtextcodec.html\" rel=\"nofollow\"><code>QTextCodec</code></a> to handle conversions between unicode and other charsets (please correct me if I'm wrong on this) and I'm therefore working on the assumption that QtWebKit can support <code>Shift_JIS</code>.</p>\n\n<p>As a test, I've tried adding the specific <strong>unicode</strong> for a kanji character (e.g. <code>&amp;#x3041;</code> to display &#x3041;) to my HTML file. I get the character properly rendered in Chrome, but it also displays as <code>□</code> in a <code>QWebView</code> - I'm not sure whether this means I can trust the Shift_JIS to unicode conversion in Qt, but it certainly means I can't assume that it is the cause of the problem. </p>\n\n<p>I'm not sure where to go from here; any suggestions as to solutions or other areas to investigate would be much appreciated.</p>\n"},{"tags":["c++","qt","qt4","user-input","virtual-keyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":253,"score":0,"question_id":12647279,"title":"Qt Virtual Keyboard and QInputContextFactory","body":"<p>I built the Maliit (https://wiki.maliit.org/Main_Page) virtual on-screen keyboard for my Ubuntu desktop and it works just fine with the included example apps. I was also able to make my own simple Qt example app that would show the keyboard when a widget assumed focus.</p>\n\n<p>I am now trying to deploy the virtual keyboard to an embedded Linux system running on my target board with a touchscreen. There is no X11 installed on the target board and I run quite a few Qt Apps with QWS ( -qws ).</p>\n\n<p>Maliit architecture ( <a href=\"http://maliit.org/doc/framework/latest/architecture.html\" rel=\"nofollow\">http://maliit.org/doc/framework/latest/architecture.html</a> ) requires a server instance to communicate with an application and the application sets it's input context using QApplication::setInputContext.</p>\n\n<p>On Ubuntu I simply do:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\nmaliit-server -software &amp;\nmaliit-exampleapp-plainqt\n</code></pre>\n\n<p>And the keyboard appears and everything works ( granted I have X11 )!</p>\n\n<p>On the embedded board I do in one SSH session:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\ndbus-launch --auto-syntax maliit-server -software -qws\n</code></pre>\n\n<p>And then another SSH session:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\nsource /find_dbus_address.sh\necho $DBUS_SESSION_BUS_ADDRESS\nmaliit-exampleapp-plainqt -qws\n</code></pre>\n\n<p>But I always get the error:</p>\n\n<pre><code>QApplication::setInputContext: called with 0 input context\n</code></pre>\n\n<p>Which means that the example app is failing in main at the following line:</p>\n\n<pre><code>// Workaround for lighthouse Qt\nkit.setInputContext(QInputContextFactory::create(\"Maliit\", &amp;kit));\n</code></pre>\n\n<p>The output of the 'ps' command on the embedded board shows the following:</p>\n\n<pre><code>  191 user     1692 S    -sh\n  192 user    39608 S    maliit-server -software -qws\n  196 user     2092 S    /usr/bin/dbus-daemon --fork --print-pid 4 --print-address 6 --session\n  201 user     1692 R    ps\n</code></pre>\n\n<p>So the server is not actively running like it is in Ubuntu... but in an 'interruptable sleep' state. The mouse does move in this state. I still get the 0 input context error.</p>\n\n<p>There is a bug here --> <a href=\"https://bugs.maliit.org/show_bug.cgi?id=185\" rel=\"nofollow\">https://bugs.maliit.org/show_bug.cgi?id=185</a> that claims QWS with Maliit is working for him, at least he can see input..</p>\n\n<p>There is also a mode of Maliit that supposedly bypasses DBUS ( see here --> <a href=\"http://www.jonnor.com/2012/03/\" rel=\"nofollow\">http://www.jonnor.com/2012/03/</a> ) and with that I still get '0 input context' errors:</p>\n\n<p>So I tried doing on my embedded board:</p>\n\n<pre><code>export QT_IM_MODULE=MaliitDirect ; echo $QT_IM_MODULE ; maliit-exampleapp-embedded -qws\n</code></pre>\n\n<p>And always receiving:</p>\n\n<pre><code>QApplication::setInputContext: called with 0 input context\nUnable to embedded Maliit input method widget\n</code></pre>\n\n<p>I built Qt 4.8.2 Embedded on Ubuntu 12.04 Desktop and can launch the maliit-server with -qws as well as the example apps and can see the virtual keyboard working just fine using QWS. I am using the latest clone for the git repo for both the plugins and maliit-framework.</p>\n\n<p>My problem is running same maliit-server and example app compiled for my ARM board on the target. I constantly get the error QApplication::setInputContext: called with 0 input context.</p>\n\n<p>I did some monitoring with the DBUS dbus-monitor tool. I initially opened 1 SSH session to my board and ran <strong>eval <code>dbus-launch --auto-syntax</code></strong> and copied the DBUS_SESSION_BUS. I then opened 2 new SSH sessions. </p>\n\n<p>In the first one I did:</p>\n\n<pre><code>$ export DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-vVNCW9zP7e,guid=75ecd72645dfb9b4358048db506dfec\n$ export QT_IM_MODULE=Maliit\n$ maliit-server -software -qws\n</code></pre>\n\n<p>In the second one I did:</p>\n\n<pre><code>$ export DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-vVNCW9zP7e,guid=75ecd72645dfb9b4358048db506dfecb\n$ export QT_IM_MODULE=Maliit\n$ maliit-exampleapp-settings -qws\n</code></pre>\n\n<p>However, I am immediately faced with:</p>\n\n<pre><code>[9;0]QApplication::setInputContext: called with 0 input context\nSettingsWidget::connected()\nSettingsWidget::pluginSettingsReceived()\nSetting layout QVariant(QString, \"nemo-keyboard.qml:\")\n</code></pre>\n\n<p>And in the dbus-monitor shell I see:</p>\n\n<pre><code>desktop.DBus; member=NameOwnerChanged\n   string \":1.6\"\n   string \"\"\n   string \":1.6\"\nmethod call sender=:1.6 -&gt; dest=org.freedesktop.DBus serial=1 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=Hello\nsignal sender=org.freedesktop.DBus -&gt; dest=(null destination) serial=8 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged\n   string \"org.maliit.server\"\n   string \"\"\n   string \":1.6\"\nmethod call sender=:1.6 -&gt; dest=org.freedesktop.DBus serial=2 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=RequestName\n   string \"org.maliit.server\"\n   uint32 4\nsignal sender=org.freedesktop.DBus -&gt; dest=(null destination) serial=9 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged\n   string \":1.7\"\n   string \"\"\n   string \":1.7\"\nmethod call sender=:1.7 -&gt; dest=org.freedesktop.DBus serial=1 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=Hello\nmethod call sender=:1.7 -&gt; dest=org.maliit.server serial=2 path=/org/maliit/server/address; interface=org.freedesktop.DBus.Properties; member=Get\n   string \"org.maliit.Server.Address\"\n   string \"address\"\nmethod return sender=:1.6 -&gt; dest=:1.7 reply_serial=2\n   variant       string \"unix:abstract=/tmp/maliit-server/dbus-CPgFHrxwAi,guid=dfc1dfc367a647e36e6e4c3c506e00db\"\n</code></pre>\n\n<p>Does anyone have an idea on what is going on here? Could DBUS have something to do with the QInputContextFactory failing? Can I somehow get more information on what is failing and why I can't set my input context?</p>\n\n<p>Thank you for your help -</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":1,"view_count":8374,"score":4,"question_id":3137805,"title":"How to set image on QPushButton?","body":"<p>I want to set an image on <code>QPushButton</code>, and the size of <code>QPushButton</code> should depend on the size of the image. I am able to do this when using <code>QLabel</code>, but not with <code>QPushButton</code>.</p>\n\n<p>So, if anyone has a solution, then please help me out.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12799229,"title":"How to change language at runtime in Qt?","body":"<p>I'm writing a multi-language program with the Qt framework. I want to change the language at runtime. I wrote the code below in a slot but it does not work.</p>\n\n<pre><code>    QTranslator translator;\n    translator.load(\"arrowpad_tr\");\n    qApp-&gt;installTranslator(&amp;translator);\n</code></pre>\n"},{"tags":["qt","qt-creator","autotools","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12746030,"title":"How to distribute source of a Qt project?","body":"<p>I created a program using Qt Creator and want to pass it to somebody. Due to the lack of an elegant solution I wrote a script that packs all relevant files and tell the person to unpack and execute <code>qmake -makefile</code>.</p>\n\n<p>Is there a standard way to do this? Or even an autotools-way?</p>\n"},{"tags":["qt","qtwebkit","ubuntu-11.10"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12796817,"title":"How to add HTML 5 video and audio support in Qt4.8.2","body":"<p>I have successfully installed Qt-4.8.2 in my machine (ubuntu 11.10). When I launched the browser using it, there is no HTML 5 video and audio support in it. How can I bring the video and audio support to this version of Qt? Do I need to install any other plugins?</p>\n"},{"tags":["qt","visual-studio-2008"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12708325,"title":"Running project with Qt includes in Visual Studio express 2008","body":"<p>I'm still a newbie at this so please bear with me :)</p>\n\n<p>I just got a vs 2008 project that has a few qt includes, namely qtGUI. Now I downloaded the open source pre-built libraries (version 4.8.3) from the qt-project.org site. I've added the include and lib directories under vs2008, but my project still won't compile. I'm getting a few LNK 2001 unresolved external symbol errors. Could someone tell me what I'm missing here?  </p>\n\n<p>The specific errors: </p>\n\n<pre><code>treeview.obj : error LNK2001: unresolved external symbol \"public:static struct QMetaObject const    cQtTreeWidgetFilter::staticMetaObject\"(?staticMetaObject@cQtTreeWidgetFilter@@2UQMetaObject@@B)\ntreeview.obj : error LNK2001: unresolved external symbol \"public:virtual struct QMetaObject const * __thiscall    cQtTreeWidgetFilter::metaObject(void)const \"    (?metaObject@cQtTreeWidgetFilter@@UBEPBUQMetaObject@@XZ)\ntreeview.obj : error LNK2001: unresolved external symbol \"public:virtual void * __thiscall cQtTreeWidgetFilter::qt_metacast(char const    *)\" (?qt_metacast@cQtTreeWidgetFilter@@UAEPAXPBD@Z)\ntreeview.obj : error LNK2001: unresolved external symbol \"public: virtual int    __thiscall cQtTreeWidgetFilter::qt_metacall(enum QMetaObject::Call,int,void * *)\"    (?qt_metacall@cQtTreeWidgetFilter@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n</code></pre>\n"},{"tags":["qt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":12795329,"title":"Qt paint application","body":"<p>I am developing a paint application in Qt.  I want to draw a line on a <code>QGraphicsView</code>.\nHow do I draw a line after clicking on a <code>QPushButton</code> using Qt?</p>\n"},{"tags":["qt","deployment","portability"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12792501,"title":"deploying a Qt application","body":"<p><em>In a nutshell, the question is: I just finished my first application using Qt Creator on a computer running under Linux Ubuntu, now how do I make this available for everyone. Now follows the more detailed version ;)</em></p>\n\n<p>I must apologize for asking this, I am aware that this question has probably been asked many times and that there is official documentation that I can read. I am just completely new to programming and I am very confused by everything I've read so far. If you are kind enough to help, please assume I know absolutely nothing :)</p>\n\n<p>Here we go: I've just finished designing my first application (a scientific program) with Qt creator on my laptop which runs under Linux Ubuntu. It works fine and I'm very proud of it ;)</p>\n\n<p>Here's what my project consists of: 40 header files, 42 source files, 1 pro file, 1 qrc file, 1 html file and 7 png files. In the code, I use <code>#include</code> for a bunch of fairly standard Qt classes (<code>QWidget</code>, <code>QTextBrowser</code> and so forth, maybe like 40 of those).</p>\n\n<p>Now I'd like to make it available to other people. For Linux and Mac users, I've figured a way to do that: I can compress the folder containing my project, tell them to install Qt on their computer, then download and extract the files on their hard disk, open a terminal in the folder and run </p>\n\n<pre><code>qmake myProject.pro\nqmake\nmake\n</code></pre>\n\n<p>That seems to work fine (by the way, does it matter that this is not precisely what Qt creator does? The <code>qmake</code> step there is <code>qmake-qt4 myProject.pro -r -spec linux-g++</code> and the make step is <code>make -w</code>). Now, I assume there is a solution where I don't ask them to download and install something like 200Mo of Qt material. As for Microsoft Windows users, I don't have a clue.</p>\n\n<p>I would be very grateful if you could explain to me in a very concrete way what I need to do. Needless to say, I'll go for the best and easiest solution, I don't need to understand everything about deployment. Many thanks in advance!</p>\n\n<p>Edit: In case that's useful : I've been using Qt Creator 2.5.0 based on Qt 4.8.1 (64 bit), I'm working on a laptop with Ubuntu 12.04 64bits</p>\n"},{"tags":["c++","qt","qt4","qt-creator","designer"],"answer_count":11,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":14429,"score":10,"question_id":165637,"title":"How do I create a custom slot in qt4 designer?","body":"<p>I don't know how to do this. Whenever I use the signal/slot editor dialog box, I have to choose from the existing list of slots. So the question is how do I create a custom named slot?\nThanks</p>\n"},{"tags":["c++","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12639748,"title":"Inserting into SQLite table only chosen values with QSql","body":"<p>I want to insert some values into an SQLite table.</p>\n\n<p>The query is:</p>\n\n<pre><code>insert into TableName (field1,field2,field3) values (field1val, field2val, field3val)\n</code></pre>\n\n<p>Let's say the table has 20 fields. I want to choose which field should be inserted depending on this value which is user input. The rest of fields should have no value.</p>\n\n<p>My current solution is:</p>\n\n<pre><code>QString valuesToInsertFieldNames(\"(\");\nQString valuesToInsert(\"(\");\nif(field1val != -1)\n{\n    valuesToInsertFieldNames+= \"field1\";\n    valuesToInsert += QString(\"%1 \").arg(field1val);\n}\nif(field2val != -1)\n{\n    valuesToInsertFieldNames+= \"field2\";\n    valuesToInsert += QString(\"%1\").arg(field2val);\n}\n...\nvaluesToInsertFieldNames+= \")\";\nvaluesToInsert += \")\";\nquery.exec(QString(\"insert into TableName \" + valuesToInsertFieldNames + \n                   \"values\" + valuesToInsert)\n</code></pre>\n\n<p>Is there some better way of doing it? Maybe some QSql functionality?</p>\n"},{"tags":["python","qt","ubuntu","webkit","xvfb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12542675,"title":"xvfb failed to start in ubuntu","body":"<p>I trying to get a screen shot by using the following two tools (something relative to qt, webkit and etc. maybe)</p>\n\n<ul>\n<li><a href=\"https://github.com/adamn/python-webkit2png\" rel=\"nofollow\">https://github.com/adamn/python-webkit2png</a></li>\n<li><a href=\"http://cutycapt.sourceforge.net/\" rel=\"nofollow\">http://cutycapt.sourceforge.net/</a></li>\n</ul>\n\n<p>when run it on server using xvfb-run following the guide of them, I got the error: Xvfb failed to start</p>\n\n<p>then I searched the situation and find a similar question here </p>\n\n<p><a href=\"http://stackoverflow.com/questions/8805032/xvfb-run-error-in-ubuntu-11-04\">xvfb run error in ubuntu 11.04</a></p>\n\n<p>then try to add </p>\n\n<pre><code>--auto-servernum --server-num=1 \n</code></pre>\n\n<p>now the whole command is: </p>\n\n<pre><code>xvfb-run --auto-servernum --server-num=1 -server-args=\"-screen 0, 640*480*24\" python webkit2png.py --url=http://google.com --out=test.png\n</code></pre>\n\n<p>but got another error: /usr/bin/xvfb-run: 187: kill: No such process</p>\n\n<p>how to solve it ?</p>\n"},{"tags":["c++","qt","winapi","driver","folders"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12781013,"title":"How create an encrypted mounted Folder","body":"<p>I want to create a mounted Folder to be encrypted later, my point is that create a normal directory(<code>C:\\path\\to\\myfolder</code>) and mount it to a drive (<code>I:\\</code>) so any change will occurs in both path, my goal is if any file  added to <code>I:\\</code> will be automatically encrypted in <code>C:\\path\\to\\myfolder</code></p>\n\n<p>Questions:</p>\n\n<ul>\n<li>How to monitor the mounted folder and encrypt its children (files or directories) without touching files or directories under the drive.</li>\n<li>is there any way to create this mounted folder from the beginning so any file added will be automatically encrypted under the folder and decrypted under the drive, and if it is already exist when I mount it, files will be decrypted under the associated drive.</li>\n</ul>\n\n<p>any help will be appreciated.</p>\n"},{"tags":["qt","qtreewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12783956,"title":"Can i stylize QTreeWidgetItem like QCheckbox?","body":"<p>Can i stylize QTreeWidgetItem like QCheckbox?</p>\n\n<p>For my checkboxes style is:</p>\n\n<pre><code> QCheckBox {\n     spacing: 15px;\n }\n\n QCheckBox::indicator {\n     width: 20px;\n     height: 20px;\n }\n\n QCheckBox::indicator:unchecked {\n     image: url(:/styles/img/checkbox_unchecked.png);\n }\n\n QCheckBox::indicator:unchecked:hover {\n     image: url(:/styles/img/checkbox_unchecked_hover.png);\n }\n\n QCheckBox::indicator:checked {\n     image: url(:/styles/img/checkbox_checked.png);\n }\n\n QCheckBox::indicator:checked:hover {\n     image: url(:/styles/img/checkbox_checked_hover.png);\n }\n</code></pre>\n\n<p>And what style would be for QTreeWidgetItem? I can't find it in documentation :(</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","video","alpha","libvlc","mplayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12792974,"title":"Player capable of playing videos with transparency?","body":"<p>I am trying to create an video editor for adding effects to videos in Qt. I need to play/render flv videos with alpha channel onto my Qt Widget. \nI have tried libvlc(VideoLan) and mplayer(http://www.mplayerhq.hu), they work just fine inside my QWidget but they dont retain the transparency of the bits. I have gone through their documentation as well but none of them offer any options for manipulating the transparent bits. I need the videos to retain their transparency while playing. \nIs there some way to achieve this ?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12792825,"title":"how to call an ActiveX method in QT?","body":"<p>I know  class id of the ActiveX.then how to call a function defined in the ActiveX?\nFor example, int f(string *).</p>\n"},{"tags":["qt","ubuntu","qt4","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":544,"score":1,"question_id":10797159,"title":"Can't edit/drag-and-drop widgets in QtCreator","body":"<p>I am having a slightly bizarre problem and am not sure what is happening so maybe someone else has seen it and could throw some light on the issue.</p>\n\n<p>I have Qt 4.6.1 installed in Ubuntu 12.04 LTS x64 that is running as a virtual guest (VirtualBox) in Windows 7 x32. </p>\n\n<p>Anyway... I have created a new widget and it won't let me edit it or drag widgets onto it. It is almost like it is read-only. The icon when I drag is a circle with a line through it. I have seen mention of a drag-drop problem with Windows 7 but I have tried that fix and it doesn't change anything.</p>\n\n<p>Everything builds and runs, just cannot use the designer at all.</p>\n"},{"tags":["qt","gui","user-interface","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12777411,"title":"What happens when a UI screen is 'loaded'?","body":"<p>I have been working on Qt/qml based UIs. </p>\n\n<p>I used something like 'dynamic on requirement loading' of screens. (using a loader element)</p>\n\n<p>Advantage: All screens need not load at startup, improves systems startup time.</p>\n\n<p>Disadvantage : When ever a screen has to be loaded later, it takes time, and decrease in user responsiveness at that moment.</p>\n\n<p>My question is, what is actually 'loaded' into the memory when I say, load a UI screen ?</p>\n\n<p>I mean if its C++ code, I would understand it like some dynamic objects are being created. I cant visualize it in terms of UI screens ? Is it like the images I have used in making that UI are loaded into memory for different operations ? </p>\n\n<p>Adding to the earlier question, what happens when I 'unload' a screen ?</p>\n\n<p>Is the CPU requirement same for loading and unloading ?</p>\n"},{"tags":["qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12750958,"title":"How to use QAbstractTableModel.submit\\revert methods?","body":"<p>I'm trying to do a record-based in-grid editing with my own <code>QAbstractTableModel</code>-descendant class and a <code>QTableView</code>. When the editing is finished, the model recieves a signal to it's <code>submit()</code> or <code>revert()</code> slots. But there are no parameters, so the model does not know which record it needs to submit to (refresh from) a datastore. I've tried to setup my own change-tracking by catching <code>model.setData()/removeRows()/insertRows()</code> , but it's kind of a mess. Is there a right way to do it?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12139999,"title":"Is it possible to control download speed using QNetworkAccessManager","body":"<p>Can we restrict <code>QNetworkAccessManager</code> from consuming whole bandwidth, by restricting the download speed, as we do see such options available with almost every download manager?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12786668,"title":"How can i access MainWindow label from mouse hook procedure?","body":"<p>I’m using mouse hook to get the mouse coordinates, but i’m trying to display it on my label and the code don’t work.</p>\n\n<pre><code>LRESULT CALLBACK MouseHookProc(int nCode, WPARAM wParam, LPARAM lParam)\n{\n    if(nCode==HC_ACTION)\n    {\n    POINT p;\n    GetCursorPos(&amp;p);\n    MainWindow* mw = new MainWindow();\n    mw-&gt;ui-&gt;label-&gt;setText(QString::number(p.x)+\"|\"+QString::number(p.y));//this code don't work!\n    }\n    return CallNextHookEx(NULL,nCode,wParam,lParam);\n }\n</code></pre>\n"},{"tags":["qt","qt-creator","qml","embedded-linux","qtembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12753763,"title":"QtInputContextFactory returning NULL on embedded target","body":"<p>On my embedded system I don't have X11, Mac, Win, S60, etc. I keep getting a NULL ( 0 ) pointer returned from the create method of the QInputContextFactory class. I verified that QT_NO_LIBRARY is not defined.</p>\n\n<p>On my Desktop Qt Build this works just fine.</p>\n\n<p>I also verified that my custom key and parent are being passed to the method.</p>\n\n<p>What could cause this to fail? --></p>\n\n<pre><code>if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n</code></pre>\n\n<p>Here is the entire method:</p>\n\n<pre><code>QInputContext *QInputContextFactory::create( const QString&amp; key, QObject *parent )\n{\n    QInputContext *result = 0;\n#if defined(Q_WS_X11) &amp;&amp; !defined(QT_NO_XIM)\n    if (key == QLatin1String(\"xim\")) {\n        result = new QXIMInputContext;\n    }\n#endif\n#if defined(Q_WS_WIN)\n    if (key == QLatin1String(\"win\")) {\n        result = new QWinInputContext;\n    }\n#endif\n#if defined(Q_WS_MAC)\n    if (key == QLatin1String(\"mac\")) {\n        result = new QMacInputContext;\n    }\n#endif\n#if defined(Q_WS_S60)\n    if (key == QLatin1String(\"coefep\")) {\n        result = new QCoeFepInputContext;\n    }\n#endif\n#ifdef QT_NO_LIBRARY\n    Q_UNUSED(key);\n#else\n    qDebug() &lt;&lt; \"Here we are\";\n    if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n#endif\n    if (result)\n        result-&gt;setParent(parent);\n    return result;\n}\n</code></pre>\n"}]}
{"total":16229,"page":11,"pagesize":100,"questions":[{"tags":["qt","qt-creator","qml","embedded-linux","qtembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12753763,"title":"QtInputContextFactory returning NULL on embedded target","body":"<p>On my embedded system I don't have X11, Mac, Win, S60, etc. I keep getting a NULL ( 0 ) pointer returned from the create method of the QInputContextFactory class. I verified that QT_NO_LIBRARY is not defined.</p>\n\n<p>On my Desktop Qt Build this works just fine.</p>\n\n<p>I also verified that my custom key and parent are being passed to the method.</p>\n\n<p>What could cause this to fail? --></p>\n\n<pre><code>if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n</code></pre>\n\n<p>Here is the entire method:</p>\n\n<pre><code>QInputContext *QInputContextFactory::create( const QString&amp; key, QObject *parent )\n{\n    QInputContext *result = 0;\n#if defined(Q_WS_X11) &amp;&amp; !defined(QT_NO_XIM)\n    if (key == QLatin1String(\"xim\")) {\n        result = new QXIMInputContext;\n    }\n#endif\n#if defined(Q_WS_WIN)\n    if (key == QLatin1String(\"win\")) {\n        result = new QWinInputContext;\n    }\n#endif\n#if defined(Q_WS_MAC)\n    if (key == QLatin1String(\"mac\")) {\n        result = new QMacInputContext;\n    }\n#endif\n#if defined(Q_WS_S60)\n    if (key == QLatin1String(\"coefep\")) {\n        result = new QCoeFepInputContext;\n    }\n#endif\n#ifdef QT_NO_LIBRARY\n    Q_UNUSED(key);\n#else\n    qDebug() &lt;&lt; \"Here we are\";\n    if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n#endif\n    if (result)\n        result-&gt;setParent(parent);\n    return result;\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12786729,"title":"Using Qt resources system with vs2010 add-in","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2241141/embedded-jpg-resources-not-loading-in-qt-application\">Embedded JPG resources not loading in Qt application</a>  </p>\n</blockquote>\n\n\n\n<p>This is the first time I manage app's resources by Qt built-in tool.</p>\n\n<p>I have set up a Qt4 Application project in vc++2010. Then I created new .qrc file using Qt Resource Editor and used attached files. While I'm running app on my (the same) machine everything works fine, but when I'm executing it on other PCs (with clean installed XP / 7 / vista) the attached images aren't displayed. </p>\n\n<p>May I should install Qt libraries on the target machines to make it work properly?\nOr maybe I've forgotten about some important Qt Resources System functionality?</p>\n"},{"tags":["c++","qt"],"answer_count":9,"favorite_count":5,"up_vote_count":25,"down_vote_count":2,"view_count":1617,"score":23,"question_id":3588154,"title":"How usable is Qt without its preprocessing step?","body":"<p>I think it's unreasonable for a library to require preprocessing of my source code with a special tool. That said, several people have recommended the Qt library to me for cross platform GUI development.</p>\n\n<p>How usable is Qt without the preprocessing step?</p>\n\n<p>EDIT: Okay people, I'm not meaning this question as a rip on Qt -- too many Qt fanboys are treating it as if it is. I don't want to discuss the merits of the fact that Qt came up with this preprocessing tool. I understand why the tool is there, and I understand why there are large parts of Qt's design that are built upon the idea of preprocessing.</p>\n\n<p>I've never used Qt, ergo I am in no position to rip on it. But I would much rather pay in writing a small amount of boilerplate myself and not depend on ripping apart my entire build process. I won't use Flex and Bison in my current project for the same reason; if I won't use those tools, I'm definitely not going to use another kind of preprocessing.</p>\n\n<p>So, please don't take me as ripping on Qt. I cannot comment on how nice or not nice it is; I have not used it. I just want to know if it is possible to use it without <code>moc</code>.</p>\n"},{"tags":["c++","osx","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12786621,"title":"QDialog as Popup does not hide on Mac when clicking out of the main window","body":"<p>I have a basic QDialog with it's WindowFlags set to Qt::Popup so that it appears as a typical popup overlay.\nOn Windows, everything works great and if you click outside the main window or really anywhere else it goes away. But on Mac OSX, if you click the menu bar at the top or resize the window, the popup just stays where it is.  I have absolutely no internal handling of the mouse enter/leave/move/press events for the popup, so the closing of it is not something I'm even handling... it's just automatic on Windows.</p>\n\n<p>Any idea I can get it to close when the main application is no longer the current context on the system?</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12769946,"title":"How do I get the \"Application\" project template to re-appear in Qt Creator IDE?","body":"<p>I just installed Qt Creator IDE and when I first started the QtCreator.exe file, and clicked New Project, it showed the \"Application\" template from where I could choose the Qt Gui Application type. But now when I run it again it only shows some templates (the image link is provided)</p>\n\n<p>How do I bring back the \"Application\" template again?</p>\n\n<p><img src=\"http://i.stack.imgur.com/lsLbE.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","gcc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":12785523,"title":"Ignore Invalid Conversion Errors, GCC","body":"<p>I've been working on a project with MinGW on Windows for a while now, and I am now trying to compile it on Mac (using GCC). I am using Qt, but that doesn't have much to do with the problem.</p>\n\n<p>Why is GCC being so formal, and making me cast everything? It's ridiculous how I have to go through and cast everything that doesn't match.</p>\n\n<p>For example, it would throw the error:</p>\n\n<pre><code>main.cpp: error: invalid conversion from 'const char*' to 'char*'\n</code></pre>\n\n<p>With this code:</p>\n\n<pre><code>const char *a = \"a\";\nchar *b = a;\n</code></pre>\n\n<p>Are there any flags I could pass to the GCC compiler or any preprocessor directives to tell it to ignore these? Thanks.</p>\n\n<p><strong>Edit:</strong> Let me rephrase. Why does that work on MinGW but not GCC, and could I get it to work on GCC?</p>\n\n<p><strong>Edit 2:</strong> MinGW - <a href=\"http://i.imgur.com/zGvf6.png\" rel=\"nofollow\">http://i.imgur.com/zGvf6.png</a></p>\n"},{"tags":["qt","lgpl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12784501,"title":"Can Qt be used with an LGPL license to create an installer for a commercial linux application?","body":"<p>We have a commercial application for linux that does not use anything from Qt. We are interested though in creating a GUI binary for the install process of this commercial app since there are some important inputs requested from the user during installation and we want to make it user-friendly+snazzy. Is it okay to use Qt with the LGPL license to create such an installer?</p>\n"},{"tags":["qt","qt-creator","qmake"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3238,"score":3,"question_id":3984104,"title":"QMake - how to copy a file to the output","body":"<p>I need to copy a file from my project to the output directory. I new to qmake so I can't figure out how to accomplish this.</p>\n\n<p>I'm compiling on Linux but in the future I'll compile it on Mac and Windows </p>\n"},{"tags":["c++","qt","graph","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12771074,"title":"Graph editor on Qt","body":"<p>I'm writing a graph editor now. The programs must be written on Qt, but the problem is that I don't have enough experience with Qt, but I'm little experienced with C++. Last weeks I read one book about Qt, but I've read about 100 pages, so I know only some basics.</p>\n\n<p>Can somebody give me advices about what classes should I use, please?</p>\n\n<p>What I've already done:</p>\n\n<ul>\n<li>I filled menubar with menus File, Algorithms, About etc.</li>\n<li>I suppose that graph vertexes etc I should draw on QGraphicsView, so I added it too, also I add QGraphicsScene and bind them together (ui->setScene(scene)). </li>\n</ul>\n\n<p>Sorry for my mistakes, unfortunately I don't have a complete understanding about all these things.</p>\n\n<p>Also I added QGraphicsRectItem with scene->addRect() and set the flag moveable. But I don't know what classes should I have to use.</p>\n\n<p>So, in general I want to understand how to do next things:</p>\n\n<ul>\n<li>I want to add a panel with 2 buttons (vertex, line). After I chose vertex button (or what it will be) and click on the QGraphicsView - vertex should appear at that point. Also I must be able to change vertex name</li>\n<li>After I chose line mode (link, which connected 2 vertexes) I should be able to connect 2 vertexes together depending on graph type (oriented or not).</li>\n<li>By clicking on link between vertexes I should be able to change the weight of link.</li>\n</ul>\n\n<p>I think it would be enough for one question.</p>\n\n<p>Sorry if the question is very simple or stupid.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","blackberry-10"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12782779,"title":"ImageView in custom ListItemListener causing SIGSEGV segfault","body":"<p>My app currently uses a custom listview (using a ListItemListener and ListItemProvider) that loads images over the network and displays the appropriate image next to each list item. This works fine for any list items that are currently displayed, but setting the image source for an off-screen list item results in a Segfault at <strong>bb::cascades::Image::Operator=() at 0x79446f3c</strong>. This happens for both setting the image source to the path of the locally downloaded image, and for tracking that image's state and using setImage().</p>\n\n<p>This particular list works by inserting a container (InnerItem) into my list item. This InnerItem is a container which is replaced by a different instance when the user swipes left or right. </p>\n\n<p>I want to have these images downloaded in the background and displayed in the list item's ImageView as that item scrolls into view, avoiding this segfault. is there any way of achieving this?</p>\n\n<p>Here's some sample code:</p>\n\n<p>For the ListItemListener:</p>\n\n<pre><code>void MyListItemClass::onInnerListChanged() {\n    mInnerContainer-&gt;removeAll();\n    if(mInnerList.size() &gt; 0) {\n        InnerItem* innerItem = new InnerItem(mBroadcasts.at(currentIndex));\n        mInnerContainer-&gt;add(innerItem-&gt;getContainer);\n    }\n}\n</code></pre>\n\n<p>For the InnerItem, I can confirm the image has downloaded successfully, but the SegFault only occurs when setting the image source or image:</p>\n\n<pre><code>/*!\n * Updates the episode preview image when downloaded\n */\nvoid InnerItem::onImageProcessed(QUrl url) {\n    if(imgPreview) {\n        qDebug() &lt;&lt; \"Image is visible, setting to \" &lt;&lt; url.toString();\n        imgPreview-&gt;setImageSource(url);\n    }\n\n/*\n    // Let's try tracking\n    mTrack = new ImageTracker(url);\n    bool result = connect(mTrack, SIGNAL(stateChanged(bb::cascades::ResourceState::Type)),\n        this, SLOT(onStateChanged(bb::cascades::ResourceState::Type)));\n    Q_ASSERT(result);\n    Q_UNUSED(result);\n*/\n}\n\nvoid EpisodeItem::onStateChanged(bb::cascades::ResourceState::Type state) {\n    if(state == ResourceState::Loaded) {\n        imgPreview-&gt;setImage(mTrack-&gt;image());\n    }\n}\n</code></pre>\n"},{"tags":["qt","ssl","sslv3"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12209489,"title":"How do I force QWebView to use SSLv3?","body":"<p>There is a web server which does not support the SSLv2 HELO and therefore I must force <code>QWebView</code> to do an SSLv3 HELO. Unfortunately, the following does not work:</p>\n\n<pre><code>QList ciphers = QSslSocket::supportedCiphers();\nfor (int i = ciphers.count() - 1; i >= 0; i--){\n    QSslCipher cipher = ciphers.at(i);\n    QSsl::SslProtocol protocol = cipher.protocol();\n    if (protocol == QSsl::SslV2){\n        ciphers.removeAt(i);\n    }\n}\nQSslSocket::setDefaultCiphers(ciphers);\n</code></pre>\n"},{"tags":["qt","pyside","qscrollarea"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":12781407,"title":"How do i resize the contents of a QScrollArea as more widgets are placed inside","body":"<p>I have a <a href=\"http://doc.qt.digia.com/4.7-snapshot/qscrollarea.html\" rel=\"nofollow\">QScrollArea</a> Widget, which starts empty;</p>\n\n<p><img src=\"http://i.stack.imgur.com/pDzaQ.jpg\" alt=\"empty QScrollArea\"></p>\n\n<p>It has a vertical layout, with a QGridLayout, and a vertical spacer to keep it at the top, and prevent it from stretching over the whole scroll area;</p>\n\n<p><img src=\"http://i.stack.imgur.com/ykWc6.jpg\" alt=\"QScrollArea in Qt Designer\"></p>\n\n<p>Elsewhere in the program, there is a QTextEdit, which when changed, has its contents scanned for \"species\" elements, and then they are added to the QGridLayout. Any species elements which have been removed are removed too. This bit works;</p>\n\n<p><img src=\"http://i.stack.imgur.com/u9b23.jpg\" alt=\"QScrollArea with strange scroll bar\"></p>\n\n<p>I have turned the vertical scrollbar on all the time, so that when it appears it does not sit on top of the other stuff in there. Note that the scroll bar is larger than the scroll box already though, despite not needing to be.</p>\n\n<p>This is the problem. The scroll area seems to be preset, and i cannot change it. If i add more rows to the QGridLayout, the scroll area doesn't increase in size.</p>\n\n<p>Instead, it stays the same size, and squeezes the QGridLayout, making it look ugly (at first);</p>\n\n<p><img src=\"http://i.stack.imgur.com/BB6RU.jpg\" alt=\"Squashed QGridLayout\"></p>\n\n<p>And then after adding even more it becomes unusable;</p>\n\n<p><img src=\"http://i.stack.imgur.com/ikaXf.jpg\" alt=\"unusable line edits\"></p>\n\n<p>Note that again, the scroll bar is still the same size as in previous images. The first two images are from Qt Designer, the subsequent 3 are from the program running.</p>\n\n<p>If I resize the window so that the QScrollArea grows, then I see this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/nwHfY.jpg\" alt=\"dumb too small layout\"></p>\n\n<p>Indicating that there's some layout inside the scroll area that is not resizing properly.</p>\n\n<p>My question is; <strong>what do I need to do to make the scrollable area of the widget resize dynamically as I add and remove from the QGridLayout?</strong></p>\n"},{"tags":["c++","qt","unity3d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12761774,"title":"Qt Custom Lists","body":"<p>I have recently started to use Qt as it is much more intuitive then using win32, I have been playing around with a bunch of the different widgets, and I wan't to try something more complex, but haven't been able to find anything on the Qt reference or Google related to what I want.</p>\n\n<p>I am trying to do something like the Unity3D Inspector box, I get so far with how I would go, but it doesn't seem like there is something for one of the needed components.</p>\n\n<p>I would have a dockable widget, in this I would have a scrollable area, at this point I am looking to add 'components' to this scrollable area, these components will all be somewhat different, they should have the ability to expand/collapse into a single line (The identifier of the component), and upon expansion should be able to have multiple widgets inside of them, such as labels, checkboxes, other collapsable sections, etc.</p>\n\n<p>I must be improperly wording what I am looking for in google as it doesn't seem like there is anything similar to what I want, but it seems like a common idea.</p>\n"},{"tags":["c++","windows","qt","mingw","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12774724,"title":"Deploying a Qt application on Windows?","body":"<p>I'm new to Qt and cannot figure out how to deploy a simple Qt application on Windows. It runs fine when run from inside Qt Creator, but it won't run when directly executed. I have the newest version of the Qt SDK installed and am using all of the default settings.</p>\n\n<p>I have read dozens of \"how to\" guides, all of which provided conflicting information, in addition to dozens upon dozens of forum threads, blog posts, and questions on here. I simply cannot find instructions that clearly explain how to deploy a Qt application on Windows.</p>\n\n<p>I tried putting all the DLLs I could find in the application directory, but that didn't work. I also tried building Qt statically, but that didn't work either.</p>\n\n<p>Can anyone help me out?</p>\n\n<p>EDIT: Thank you both for your replies. Here is some additional information:</p>\n\n<p>I am using \"Qt Creator 2.4.1, Based on Qt 4.7.4\"</p>\n\n<p>I have the following includes across different files:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QTextEdit&gt;\n#include &lt;QtGui&gt;\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QNetworkRequest&gt;\n#include \"qthread.h\"\n#include \"windows.h\"\n#include &lt;QMessageBox&gt;\n</code></pre>\n\n<p>I'm using the default compiler that came with Qt, MinGW.</p>\n"},{"tags":["c++","qt","opengl","qpainter"],"answer_count":1,"favorite_count":4,"up_vote_count":33,"down_vote_count":0,"view_count":865,"score":33,"question_id":11474078,"title":"Efficient off-screen rendering of QPainterPaths (OpenGL and non-OpenGL solution required)","body":"<ol>\n<li>In my application, I paint a street map using <code>QPainter</code> on a <code>widget</code>\n<ul>\n<li>made by <code>QPainterPaths</code> that contain precalculated paths to be drawn</li>\n<li>the <code>widget</code> is currently a <code>QWidget</code>, not a <code>QGLWidget</code>, but this might change.</li>\n</ul></li>\n<li>I'm trying to move the painting off-screen and split it into chunked jobs\n<ul>\n<li>I want to paint each chunk onto a <code>QImage</code> and finally draw all images onto the <code>widget</code></li>\n<li><code>QPainterPaths</code> are already chunked, so this is not the problem</li>\n<li>problem is, that drawing on <code>QImages</code> is about <strong>5 times slower</strong> than drawing on <code>QWidget</code></li>\n</ul></li>\n<li>Some benchmark testing I've done\n<ul>\n<li>time values are rounded averages over multiple runs</li>\n<li>test chunk contains 100 <code>QPainterPaths</code> that have about 150 linear line segments each</li>\n<li>the roughly 15k paths are drawn with <code>QPainter::Antialiasing</code> render hint, <code>QPen</code> uses round cap and round join</li>\n</ul></li>\n<li>Remember that my source are <code>QPainterPaths</code> (and line width + color; some <strong><em>drawn</em></strong>, some <strong><em>filled</em></strong>)\n<ul>\n<li>I don't need all the other types of drawing <code>QPainter</code> supports</li>\n<li>Can <code>QPainterPaths</code> be converted to something else which can be drawn on a <code>OpenGL buffer</code>, this would be a good solution.</li>\n<li>I'm not familiar with <code>OpenGL</code> off-screen rendering and I know that there are different types of OpenGL buffers, of which most of them aren't for 2D image rendering but for vertex data.</li>\n</ul></li>\n</ol>\n\n<pre class=\"lang-none prettyprint-override\"><code> Paint Device for chunk | Rendering the chunk itself | Painting chunk on QWidget\n------------------------+----------------------------+---------------------------\n QImage                 |                    2000 ms |                   &lt; 10 ms\n QPixmap (*)            |                     250 ms |                   &lt; 10 ms\n QGLFramebufferObj. (*) |                      50 ms |                   &lt; 10 ms\n QPicture               |                      50 ms |                    400 ms\n------------------------+----------------------------+---------------------------\n none (directly on a QWidget in paintEvent)          |                    400 ms\n-----------------------------------------------------+---------------------------\n</code></pre>\n\n<p><code>(*) These 2 lines have been added afterwards and are solutions to the problem!</code></p>\n\n<p>It would be nice if you can tell me a <strong>non-OpenGL-based solution</strong>, too, as I want to compile my application in two versions: <code>OpenGL</code> and <code>non-OpenGL</code> version.<br>\nAlso, I want the solution to be able to render in a <strong>non-GUI thread</strong>.</p>\n\n<hr>\n\n<p><em>Is there a good way to efficiently draw the chunks off-screen?</em><br>\n<em>Is there an off-screen counter part of <code>QGLWidget</code> (an <code>OpenGL</code> off-screen buffer) which can be used as a paint device for <code>QPainter</code>?</em></p>\n"},{"tags":["qt","vector","2d-array"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":91,"score":-2,"question_id":12776872,"title":"How to use QVector as two dimensional array?","body":"<p>How do I declare, initialise, and assign values to a <code>QVector</code> as a 2 dimensional array?</p>\n"},{"tags":["qt","libvlc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12778918,"title":"libvlc and qt issue","body":"<p>I am trying to use libvlc on windows 7 for playback in Qt Widget. I need some of the functionality provided by libvlc not present in phonon. I am using the below code : </p>\n\n<pre><code>_videoWidget = new QFrame(this);\nqDebug()&lt;&lt;fileName;\nconst char * const vlc_args[] = {\n    \"-I qt4\",\n              \"--extraintf=logger\",\n              \"--verbose=2\" };\n _vlcinstance = libvlc_new(sizeof(vlc_args) / sizeof(vlc_args[0]), vlc_args);\n _mp = libvlc_media_player_new (_vlcinstance);\n _m = libvlc_media_new_path(_vlcinstance, fileName.toAscii());\n libvlc_media_player_set_media (_mp, _m);\n libvlc_media_player_set_hwnd(_mp, 0);//(_videoWidget-&gt;winId());\n int windid = reinterpret_cast&lt;int&gt;(_videoWidget-&gt;winId());\n libvlc_media_player_set_xwindow (_mp, windid );\n libvlc_media_player_play (_mp);\n</code></pre>\n\n<p>After I select the file to play it just does nothing, no frames no debugging output ?\nThe debug console op is :</p>\n\n<pre><code>    [0ac8f670] main libvlc debug: VLC media player - 2.0.3 Twoflower\n[0ac8f670] main libvlc debug: Copyright © 1996-2012 VLC authors and VideoLAN\n[0ac8f670] main libvlc debug: revision 2.0.3-0-g77aa89e\n[0ac8f670] main libvlc debug: configured with ../extras/package/win32/../../../configure  '--enable-update-check' '--enable-lua' '--enable-faad' '--enable-flac' '--enable-theora' '--enable-twolame' '--enable-quicktime' '--enable-avcodec' '--enable-merge-ffmpeg' '--enable-dca' '--enable-mpc' '--enable-libass' '--enable-x264' '--enable-schroedinger' '--enable-realrtsp' '--enable-live555' '--enable-dvdread' '--enable-shout' '--enable-goom' '--enable-caca' '--disable-portaudio' '--disable-sdl' '--enable-qt4' '--enable-skins2' '--enable-sse' '--enable-mmx' '--enable-libcddb' '--enable-zvbi' '--disable-telx' '--enable-sqlite' '--disable-dirac' '--host=i586-mingw32msvc' '--enable-crystalhd' 'host_alias=i586-mingw32msvc'\n[0ac8f670] main libvlc debug: searching plug-in modules\n[0ac8f670] main libvlc debug: loading plugins cache file E:\\Work\\Local_WorkingCopy\\VidTest\\plugins\\plugins.dat\n[0ac8f670] main libvlc debug: recursively browsing `E:\\Work\\Local_WorkingCopy\\VidTest\\plugins'\n[0ac8f670] main libvlc debug: saving plugins cache E:\\Work\\Local_WorkingCopy\\VidTest\\plugins\\plugins.dat\n[0ac8f670] main libvlc debug: plug-ins loaded: 388 modules\n[0ac8f670] main libvlc debug: translation test: code is \"C\"\n[0ac8f670] main libvlc debug: CPU has capabilities MMX MMXEXT SSE SSE2 SSE3 SSSE3 SSE4.1 SSE4.2 FPU \n[0ac8f670] main libvlc debug: looking for memcpy module: 4 candidates\n[0ac8f670] main libvlc debug: using memcpy module \"memcpymmxext\"\n[0c680ab8] main interface debug: looking for interface module: 1 candidate\n</code></pre>\n\n<p>Can someone point out the mistake in this code ?</p>\n"},{"tags":["c++","linux","qt","menu","menuitem"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12769087,"title":"How to gray out a menu item again in Qt","body":"<p>I am working with qt and have created a menu bar like \"File\" with some sub menu items \"Open\", \"Save\", \"SaveAs\", \"Close\", \"Quit\". I also created actions like \"actionNew\", \"actionOpen\", ... and so on. I used the same actions for the tool bar and disable the menu and tool bar items into the constructor with the \"disableItems()\" function, that works fine and the tool bar and menu items are gray out. If I clicked the sub menu item \"New\", the tool bar and menu items are enabled and not gray out, that also works fine, but if I clicked the sub menu item \"Close\" only the tool bar items gray out and the menu items are still enabled :(. How can i fix it? Hope you can help me and sorry for my bad English ;)</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent)\n:QMainWindow(parent), ui(new Ui::MainWindow)\n{\n  ui-&gt;setupUi(this);\n  /* disable menu items and tool bar items */\n  disableItems();\n}\nvoid MainWindow::disableItems()\n{\n  ui-&gt;actionSave-&gt;setEnabled(false);\n  ui-&gt;actionSaveAs-&gt;setEnabled(false);\n  ui-&gt;actionClose-&gt;setEnabled(false);\n}\nvoid MainWindow::enableItems()\n{\n  ui-&gt;actionSave-&gt;setEnabled(true);\n  ui-&gt;actionSaveAs-&gt;setEnabled(true);\n  ui-&gt;actionClose-&gt;setEnabled(true);\n}\nvoid MainWindow::on_actionNew_triggered()\n{\n  enableItems();\n}\nvoid MainWindow::on_actionClose_triggered()\n{\n  disableItems();\n}\n</code></pre>\n"},{"tags":["qt","mouseevent","qwidget","qlistview","qt-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12775803,"title":"Installing eventFilter on QListView for indexWidgets","body":"<p>I have a customWidgets with some components (combobox, lineEdit, labels..etc), This customWidget is added to a QListView using setIndexWidget(QModelIndex,QWidget) , My requirement is that when i click any component on the customWidget the QListView item should get selected/focused.</p>\n\n<p>How can I installEventFilter from cutomWidget to QListView, i have installed event filter for the customWidget.</p>\n\n<p>Thanks </p>\n"},{"tags":["qt","qt-creator","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12774697,"title":"Using QJson library in Qt Creator under Ubuntu","body":"<p>I'm trying to use the QJson library in an application that is being created in Qt Creator .  The operating sytsem is Ubuntu 12.04 32-bit.</p>\n\n<p>I used synaptic to install libqjson0 (0.7.1-6). The libary was installed in </p>\n\n<pre><code>/usr/lib/i386-linux-gnu/libqjson.so.0\n/usr/lib/i386-linux-gnu/libqjson.so.0.7.1\n</code></pre>\n\n<p>I tried to add the library to Qt Creator by right clicking my project and selecting 'Add Library..'.  When I entered either of the 2 paths shown above, the filename was in red indicating that it wasn't correct.  I created a symlink <strong>libqjson.so</strong> that links to libqjson.so.0.7.1.  I was able to add the library now using the /usr/lib/i386-linux-gnu/libqjson.so path.</p>\n\n<p>Now for the noob question:  At the top of the app I added #include &lt;parser.h&gt;.  I get an error 'parser.h: No such file or directory.  I searched /usr/libs/i386-linux-gnu for parser.h and it didn't return any results.  Do I need to add something/ before parser.h or am I missing something else?</p>\n\n<p><strong>EDIT:</strong>  .pro file attached below</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-05T20:40:21\n#\n#-------------------------------------------------\n\nQT       += core gui\nQT       += network\n\nTARGET = zf\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        zftest.cpp \\\n    api1_6.cpp\n\nHEADERS  += zftest.h \\\n    api1_6.h\n\nFORMS    += zftest.ui\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/release/ -lqca-ossl\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/debug/ -lqca-ossl\nelse:symbian: LIBS += -lqca-ossl\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/ -lqca-ossl\n\nINCLUDEPATH += $$PWD/../../../../../../usr/lib/qt4/plugins/crypto\nDEPENDPATH += $$PWD/../../../../../../usr/lib/qt4/plugins/crypto\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/release/ -lqca\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/debug/ -lqca\nelse:symbian: LIBS += -lqca\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/ -lqca\n\nINCLUDEPATH += $$PWD/../../../../../../usr/include\nDEPENDPATH += $$PWD/../../../../../../usr/include\n\nOTHER_FILES += \\\n    README.txt\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/release/ -lqjson\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/debug/ -lqjson\nelse:symbian: LIBS += -lqjson\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/ -lqjson\n\nINCLUDEPATH += $$PWD/../../../../../../usr/lib/i386-linux-gnu\nDEPENDPATH += $$PWD/../../../../../../usr/lib/i386-linux-gnu\n</code></pre>\n"},{"tags":["c++","qt","open-source","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":218,"score":0,"question_id":8567073,"title":"Qt Project to implement Qt Creator's SideBar (FrancyTabBar)","body":"<p>I would like to implement the Qt's SideBar into my project:</p>\n\n<p>Did My Homework:</p>\n\n<blockquote>\n  <p>I tried searching the web, found the following websites (only 2 results after\n  many search):</p>\n  \n  <p>1- <a href=\"http://stackoverflow.com/questions/6255855/how-do-i-add-a-qtcreator-like-left-bar-to-my-program\">How do I add a QTCreator-like left bar to my program?</a></p>\n  \n  <p>I found fancytabwidget from DimanNe's answer, but I couldn't get the class to\n  work.</p>\n  \n  <p>2- <a href=\"http://groups.google.com/group/qt-project-list-interest/browse_thread/thread/666273d2d07c627f/1d3e6796b3bfe654?show_docid=1d3e6796b3bfe654&amp;pli=1\" rel=\"nofollow\">http://groups.google.com/group/qt-project-list-interest/browse_thread/thread/666273d2d07c627f/1d3e6796b3bfe654?show_docid=1d3e6796b3bfe654&amp;pli=1</a></p>\n  \n  <p>Still unanswered.</p>\n</blockquote>\n\n<p>Could someone help me out ?</p>\n\n<p>Thanks !</p>\n\n<p>MyQt : QtSDK (Latest) with QtSources 4.7.4 and QtCreator Sources.</p>\n"},{"tags":["c++","qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12776043,"title":"QJson QVariantMap to QByteArray","body":"<p>I'm using QJson to parse data returned in json format.  One of the returned items is a 80 character byte array.  The return from QJson is a QVariantMap that appears to be an array of long integers when viewed in the Qt Creator debugger.</p>\n\n<p>Is there a better way to convert the QVariantMap to a Byte array than iterating over the Map, casting each QVariant to a byte and assigning it to the byte array?</p>\n\n<pre><code>QByteArray byteArray[60];\nQVariantMap returnedMap;\nfor (int n=0; n&lt; returnedMap.count(); ++n){\n  byteArray[n] = (char)returnedMap[n];\n}\n</code></pre>\n\n<p>(Code above is for illustration, I'm not certain what the proper syntax is to cast an integer to a byte. The code above results in 'invalid cast from type 'QVariant' to type 'char')</p>\n"},{"tags":["c++","windows","qt","compilation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12773336,"title":"Easiest way to compile a Qt application on Win7 x64","body":"<p>I wrote a C++ Qt application using Netbeans and Qt SDK installed on my Win7\nSo, thing is, my windows is amd64, I compiled the application and it crashes on windows xp 32 bits.\nTo compile I am using MSYS and mingw which comes with Qt SDK.\nI used \"Dependecy Walker\" to see which dlls are beeing linked and it looks like the application is having lots of 64bits dll</p>\n\n<p>It looks like netbeans is not using any Makefile, heres the output when I click \"clean and build\"</p>\n\n<pre><code>    \"/usr/bin/make\" -f nbproject/Makefile-Release.mk QMAKE=/C/QtSDK/Desktop/Qt/4.8.0/mingw/bin/qmake.exe SUBPROJECTS= .build-conf\n    make[1]: Entering directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    /C/QtSDK/Desktop/Qt/4.8.0/mingw/bin/qmake.exe VPATH=. -spec win32-g++ -o qttmp-Release.mk nbproject/qt-Release.pro\n    mv -f qttmp-Release.mk nbproject/qt-Release.mk\n    \"/usr/bin/make\" -f nbproject/qt-Release.mk dist/Release/MinGW-Windows/RadioMovie4.exe\n    make[2]: Entering directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaPasta.o LogicaPasta.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/main.o main.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/MyThread.o MyThread.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -\n\n...same thing here\n\nWindows/TelaConfigurarTelas.o TelaConfigurarTelas.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -\n\n...same thing here\n\nWindows/LogicaMusica.o LogicaMusica.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/MyVideoWidget.o MyVideoWidget.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' \n\n...same thing here\n\nWindows/Configuracao.o Configuracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/PastaBase.o PastaBase.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaVideoController.o TelaVideoController.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/RssLabel.o RssLabel.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ProgComercialWrapper.o ProgComercialWrapper.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaVideo.o TelaVideo.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaConfiguracao.o TelaConfiguracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/BaseWrapper.o BaseWrapper.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaPrincipal.o TelaPrincipal.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ItemDeProgramada.o ItemDeProgramada.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaHorarioSeqProg.o LogicaHorarioSeqProg.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaCampanha.o LogicaCampanha.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LeitorRss.o LeitorRss.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaSequenciaProgramada.o LogicaSequenciaProgramada.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaSequenciaPadrao.o LogicaSequenciaPadrao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ProgMusicalWrapper.o ProgMusicalWrapper.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 MyVideoWidget.h -o moc_MyVideoWidget.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_MyVideoWidget.o moc_MyVideoWidget.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 RssLabel.h -o moc_RssLabel.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_RssLabel.o moc_RssLabel.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 LeitorRss.h -o moc_LeitorRss.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_LeitorRss.o moc_LeitorRss.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaVideoController.h -o moc_TelaVideoController.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaVideoController.o moc_TelaVideoController.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaPrincipal.h -o moc_TelaPrincipal.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaPrincipal.o moc_TelaPrincipal.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaVideo.h -o moc_TelaVideo.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaVideo.o moc_TelaVideo.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaConfiguracao.h -o moc_TelaConfiguracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaConfiguracao.o moc_TelaConfiguracao.cpp\n    windres -i RadioMovie4_resource.rc -o build/Release/MinGW-Windows/RadioMovie4_resource_res.o --include-dir=. -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN\n    g++ -Wl,-s -mthreads -Wl,-subsystem,windows -o dist/Release/MinGW-Windows/RadioMovie4.exe object_script.RadioMovie4  -L'c:/QtSDK/Desktop/Qt/4.8.0/mingw/lib' -lmingw32 -lqtmain build/Release/MinGW-Windows/RadioMovie4_resource_res.o -lphonon4 -lQtGui4 -lQtNetwork4 -lQtCore4 \n    make[2]: Leaving directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    make[1]: Leaving directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n\n\n    BUILD SUCCESSFUL (time:  30s)\n</code></pre>\n\n<p>I want to make my application 32 bit and get it running on windows XP and win 7 32 and 64 bit. Do I need to recompile Qt ? If so how can I do that?\nOr I can use those dll that came with the QtSDK</p>\n\n<p>PS: I could use both static and dynamic linkage</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","ajax","qt","dom","signals-slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":10053753,"title":"Qt Which signal is emitted when the DOM changed due to ajax","body":"<p>In QWebView, which signal is emitted while the DOM stucture of the page changes? For example ajax form can generate new DOM elements on the existing page without reloading the URL or something else. </p>\n"},{"tags":["qt","networking","webkit","timeout","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12334560,"title":"Qt QWebView network timeout values and signals","body":"<p>How can a <code>QWebView</code> be configured to lower network timeout values - so that in the event of the network failure the <code>loadFinished(bool ok)</code> signal can be reached sooner, obviously, with a <code>false</code> value and an appropriate error condition set?</p>\n\n<p>Bonus points for handling different timeouts differently</p>\n"},{"tags":["qt","qprocess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12770640,"title":"QProcess::waitForReadyRead for stderr?","body":"<p>Does <code>QProcess::waitForReadyRead</code> return when there is data in the process's stderr, or does it wait only on stdout? How can I wait for data on stderr without using signals and slots?</p>\n"},{"tags":["qt","loops"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":6540,"score":1,"question_id":3831439,"title":"Qt:how to give a delay in loop execution","body":"<p>In my application I want that when a loop is being executed,each time the control transfers to the loop,each execution must be delayed with a particular time.Can anyone tell me how can i do this?</p>\n\n<p>Thank you.</p>\n"},{"tags":["qt","qtreeview","qfilesystemmodel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":396,"score":1,"question_id":9589530,"title":"How to show only folders with specific files using QTreeView and QFileSystemModel?","body":"<p>I have a problem filtering specific folder using QTreeView and QFileSystemModel. </p>\n\n<p>I set my root QFileSystemModel to a specific folder - this works. But I want to show just folders that contain <code>.jpg</code> files. Is this possible?</p>\n\n<p>I filter <code>.jpg</code> files and that works, but my QTreeView shows all folders, even those that do not have <code>.jpg</code> files. So if the user tries to open some folder without <code>.jpg</code> files, nothing happens.</p>\n\n<p>How can I hide those folders?</p>\n\n<p>Note: below there are part of the code.</p>\n\n<pre><code>QStringList filterTypeFile;\nfilterTypeFile.append(\"*.jpg\");\nthis-&gt;m_pModelTreeViewImage-&gt;setNameFilters(filterTypeFile);\nthis-&gt;m_pModelTreeViewImage-&gt;setNameFilterDisables(false);\n\nthis-&gt;ui-&gt;treeViewImages-&gt;setModel(this-&gt;m_pModelTreeViewImage);\n</code></pre>\n"},{"tags":["python","html","qt","qtextedit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12768542,"title":"Parse and Display HTML in a QTextEdit widget","body":"<p>I have a non-editable QTextEdit Widget in one of my apps. Basend on the selection of a combobox i want to display additional informations.</p>\n\n<p>My current approach is to load HTML files from a directory and display them in the QTextEdit-Field. This sounds easy (with the functions setHtml or insertHtml), but somehow doesn't work as straight forward as i thought. I believe i have to parse or load in the file first. How can i continue?</p>\n\n<pre><code>h = (helpdir + str + \".html\") # contains the helpfiles path (Format QString)\n# Load in HTML?\ntextfield.insertHtml(h) # Should somehow insert the html\n</code></pre>\n\n<p>Other approaches (especially in the light of a future translation of the help), which are easy to implement, are welcome. I would favor any solution without additional libraries or non base packages.</p>\n"},{"tags":["qt","drawing","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12768667,"title":"Qt - drawing after receiving signal","body":"<p>I have a simple application, that consists of one line edit, where user writes an answer and a confirmation button. If the answer was correct, I'd like to draw a simple figure (green / red circle for example). I have three source files - main, form (here I connect the signal from button with answer from lineedit and determine if answer is correct) and figureWidget, where i'd like to draw my figure. My problem is, that I can't find out how to connect the signal from \"form\" with my figureWidget (especially what with what and where :-) ) Any hints?\nfile form.cpp:</p>\n\n<pre><code>#include &lt;QtCore&gt;\n#include \"ui_untitled.h\"\n#include \"Form.h\"\n#include \"figureWidget.h\"\n\nForm::Form(QWidget * parent, Qt::WindowFlags f) : QWidget ( parent,f ) {\n   ui.setupUi(this);\n\nconnect(ui.pushButton, SIGNAL(buttonPressed()), this, SLOT(checkAnswer()))\n //this checks if answer is correct after pushing button\nconnect(this,SIGNAL(correctness(QString)),ui.figureWidget, SLOT(drawFigure(QString)));\n  //I expect signal from this class (here I check the answer), and draw the circle in figureWidget\n}\n\nvoid Form::checkAnswer() {\n if (ui.lineEdit == \"1\") emit correctness(QString(\"right\");\n  else emit correctness(QString(\"false\") \n  }\n</code></pre>\n\n<p>then I have the figureWidget.cpp:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;iostream&gt;\n#include \"figureWidget.h\"\nfigureWidget::figureWidget(QWidget* parent) : QWidget(parent) {\n}\n\nfigureWidget::~figureWidget() {\n}\n\nvoid figureWidget::drawFigure(QString newVal) {\n if (newVal == correctVal) \n     update();\n}\n\nvoid figureWidget::paintEvent(QPaintEvent* ) {\n   QPainter painter(this);\n   painter.setPen(QRgb(0x0000ff00));\n   painter.drawEllipse(0, 0, 10, 10);\n} \n</code></pre>\n\n<p>in debug i get:\nNo such slot QWidget::drawFigure(QString) in ...</p>\n"},{"tags":["qt","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12546310,"title":"QWebView: how to load web page without images?","body":"<p>How to prevent QWebView from loading images (for traffic saving reasons)?</p>\n"},{"tags":["c++","qt","object"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12767635,"title":"Why object be deleted without obvious code?","body":"<p>In qt, I use tablewidget to store 100 rows. At first, I new tableWidgetItems to fill the rows.\nAs it runs, I set the items' propertities and no longer 'new'.\nBut I find after I use <em>'ui->tableWidget->setRowCount(index);'</em>, and later set back to 100, the code <em>\"ui->tableWidget->item(index, 0)->setText(...);\"</em> will crash the program. That's so bad!!! ;(\nI debugged and find the new index > index set as row count before 'setting back to 100'.</p>\n\n<p><strong>Did the system delete the table items automatically when I set smaller row count???</strong></p>\n\n<p>I fear about this so much because even my code cannot determine the lifetime of the objects I created... Does anyone know how to keep them 'alive' after setting row count?(otherwise, I have to new them...).\nI really appreciate it you take the patience to read my poor ELis:)</p>\n\n<p>new:</p>\n\n<pre><code>//TABLE\n    ui-&gt;tableWidget-&gt;setColumnCount(3);\n    ui-&gt;tableWidget-&gt;setRowCount(100);\n    ui-&gt;tableWidget-&gt;setHorizontalHeaderLabels(headers);\n\n    for(int i = 0; i &lt; 100; i++)//new\n    {\n        ui-&gt;tableWidget-&gt;setItem( i, 0 , new QTableWidgetItem(\"\"));//time\n        ui-&gt;tableWidget-&gt;setItem( i, 1 , new QTableWidgetItem(\"\"));//name\n        ui-&gt;tableWidget-&gt;setItem( i, 2 , new QTableWidgetItem(\"\"));//BITS\n    }\n</code></pre>\n\n<hr>\n\n<p>Related code lines only:</p>\n\n<pre><code>   {\n    int  index = 0;\n    for(int queue_i = size_1; queue_i &gt;= 0; queue_i--)\n    {\n\n\n        if(logDisplayQueue.at(queue_i).at(3) == \"0\" ||   logDisplayQueue.at(queue_i).at(3) == \"2\")continue;\n\n\n        QStringList BITList = bits2Hexs(queue_i);\n\n\n     ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logDisplayQueue.at(queue_i).at(0));//time\n     ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logDisplayQueue.at(queue_i).at(1));//name\n     ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITList.join(\"\"));//BITS\n\n        if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        index++;\n    }\n\n        ui-&gt;tableWidget-&gt;setRowCount(index);//set row count to be 30 more or less\n    }\n</code></pre>\n\n<p>Another function:</p>\n\n<pre><code>    {\n\n        ui-&gt;tableWidget-&gt;setRowCount(100);//back to be 100 again\n\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n\n            QStringList BITList = bits2Hexs(queue_i);\n     ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logDisplayQueue.at(queue_i).at(0));//time\n     ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logDisplayQueue.at(queue_i).at(1));//name\n     ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITList.join(\"\"));//BITS\n//In debugging, when index reches the value of old row-count, \"-&gt;setText\" crashes the    //program.\n\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        }\n\n    }\n</code></pre>\n\n<p><em>When running, it returns message like 'instruction 0x00421727 refers to 0x00000000 memory, the memory cannot be 'read''</em></p>\n\n<p><strong>if I comment off this line:\n'ui->tableWidget->setRowCount(index);//set row count to be 30 more or less', it runs well without crash and rows after index-referred-row show the same data as before.</strong></p>\n"},{"tags":["python","qt","layout","printing","gpl"],"answer_count":8,"favorite_count":7,"up_vote_count":11,"down_vote_count":1,"view_count":2420,"score":10,"question_id":458340,"title":"Is there a better layout language than HTML for printing?","body":"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>\n\n<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>\n\n<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>\n"},{"tags":["c++","qt","qtreeview","qfilesystemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12744739,"title":"Qt proxy model usage example","body":"<p>I am using a Qt 4's <code>QFileSystemModel</code> and <code>QTreeView</code>. I am writing a Windows Explorer like file manager, and want to make a tree more similar to  Windows', where tree consist some shortcut paths like Desktop, My Documents.\nThe only thing I want is to make a tree look like this:</p>\n\n<ul>\n<li>My Computer\n<ul>\n<li>Desktop</li>\n<li>My Documents</li>\n<li>C:\\</li>\n<li>D:\\</li>\n<li>...</li>\n</ul></li>\n</ul>\n\n<p>I heard that it can be achieved with <code>QAbstractProxyModel</code>.\nHave any one used the <code>QAbstractProxyModel</code> and get it working? If yes please provide any appropriate example. Thanks in advance.</p>\n\n<p><strong>This question is the same as <a href=\"http://stackoverflow.com/questions/8885817/how-to-add-custom-row-in-qfilesystemmodel\">How to add custom row in QFileSystemModel?</a></strong></p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12767512,"title":"QT: 'Expected Primary Expression Before ')' Token when Changing Property?","body":"<p>I'm using QT with C++ using QT Creator. I have a QGraphicsView in my window named 'render' and I wish to set its scene programatically. In window.cpp:</p>\n\n<pre><code>QGraphicsScene* scene = new QGraphicsScene();\nui-&gt;render-&gt;scene(scene*);\n</code></pre>\n\n<p>I have included QtGui and QGraphicsView. </p>\n\n<p>When I attempt to compile the program I get: </p>\n\n<pre><code>error: expected primary-expression before ')' token\n</code></pre>\n\n<p>Does anybody have any advice with regards to this issue?</p>\n\n<p>Regards,\nBen.</p>\n"},{"tags":["qt","exception","memory","delete","crash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12764851,"title":"Qt : crash due to delete (trying to handle exceptions...)","body":"<p>I am writing a program with Qt, and I would like it to show a dialog box with a Exit | Restart choice whenever an error is thrown somewhere in the code.</p>\n\n<p>What I did causes a crash and I really can't figure out why it happens, I was hoping you could help me understanding what's going on.</p>\n\n<p>Here's my <code>main.cpp:</code></p>\n\n<pre><code>#include \"my_application.hpp\"\n\nint main(int argc, char *argv[])\n{\n    std::cout &lt;&lt; std::endl;\n\n    My_Application app(argc, argv);\n\n    return app.exec();\n}\n</code></pre>\n\n<p>And here's <code>my_application:hpp</code>:</p>\n\n<pre><code>#ifndef MY_APPLICATION_HPP\n#define MY_APPLICATION_HPP\n\n#include &lt;QApplication&gt;\n\nclass Window;\n\nclass My_Application : public QApplication\n{\npublic:\n    My_Application(int&amp; argc, char ** argv);\n    virtual ~My_Application();\n\n    virtual bool notify(QObject * receiver, QEvent * event);\n\nprivate:\n    Window *window_;\n\n    void exit();\n    void restart();\n};\n\n#endif // MY_APPLICATION_HPP\n</code></pre>\n\n<p>Finally, here's <code>my_application.cpp</code>:</p>\n\n<pre><code>#include \"my_application.hpp\"\n#include \"window.hpp\"\n\n#include &lt;QMessageBox&gt;\n\nMy_Application::My_Application(int&amp; argc, char ** argv) : QApplication(argc, argv)\n{\n    window_ = new Window;\n    window_-&gt;setAttribute(Qt::WA_DeleteOnClose, false);\n    window_-&gt;show();\n}\n\nMy_Application::~My_Application()\n{\n    delete window_;\n}\n\nbool My_Application::notify(QObject * receiver, QEvent * event)\n{\n    try\n    {\n        return QApplication::notify(receiver, event);\n    }\n    catch(QString error_message)\n    {\n        window_-&gt;setEnabled(false);\n\n        QMessageBox message_box;\n        message_box.setWindowTitle(\"Error\");\n        message_box.setIcon(QMessageBox::Critical);\n        message_box.setText(\"The program caught an unexpected error:\");\n        message_box.setInformativeText(\"What do you want to do? &lt;br&gt;\");\n\n        QPushButton *restart_button = message_box.addButton(tr(\"Restart\"), QMessageBox::RejectRole);\n        QPushButton *exit_button = message_box.addButton(tr(\"Exit\"), QMessageBox::RejectRole);\n\n        message_box.setDefaultButton(restart_button);\n\n        message_box.exec();\n\n        if ((QPushButton *) message_box.clickedButton() == exit_button)\n        {\n            exit();\n        }\n        else if ((QPushButton *) message_box.clickedButton() == restart_button)\n        {\n            restart();\n        }\n\n    }\n    return false;\n}\n\n\nvoid My_Application::exit()\n{\n    window_-&gt;close();\n    //delete window_;\n\n    return;\n}\n\nvoid My_Application::restart()\n{\n    window_-&gt;close();\n    //delete window_;\n\n    window_ = new Window;\n    window_-&gt;show();\n    return;\n}\n</code></pre>\n\n<p>Note that the line <code>window_-&gt;setAttribute(Qt::WA_DeleteOnClose, false);</code> means that <code>window_</code> (my main window) won't be deleted when it is closed.</p>\n\n<p>The code I've written above works, but as far as I understand, there's a memory leak: I should uncomment the line <code>//delete window_;</code> in <code>My_Application::exit()</code> and <code>My_Application::restart()</code>. But when I do that, the program crashes when I click restart (or exit but who cares).</p>\n\n<p>(I'm not sure this is useful, in fact it might be misleading, but here's what my debugger tells me: a segmentation fault occurs in <code>QWidgetPrivate::PaintOnScreen() const</code> which is called by a function called by a function... called by <code>My_Application::notify()</code>)</p>\n\n<p>When I do some <code>std::cout</code>s, I notice that the program runs through the entire <code>restart()</code> function and in fact through the entire <code>notify()</code> function before it crashes.</p>\n\n<p>I have no idea why it crashes. Thanks in advance for your insights!</p>\n\n<p><strong>Update:</strong></p>\n\n<ol>\n<li>I've noticed that <code>My_Application::notify()</code> is called very often. For example, it is called a bunch of times while the error dialog box is open, also <em>during the execution of the restart function</em>.</li>\n<li>The crash actually occurs in the subfunction <code>QApplication::notify(receiver, event)</code>. This is not too surprising in light of the previous remark (the receiver has probably been deleted)</li>\n<li>But even if I forbid the function <code>My_Application::notify()</code> to do anything while <code>restart()</code> is executed, it still crashes (after having called <code>My_Application::notify()</code> a bunch of times, like 15 times, isn't that weird)?</li>\n</ol>\n\n<p>How should I proceed? Maybe I should say (to make the question slightly more relevant) that my class <code>My_Application</code> also has a \"restore\" function, which I've not copied here to try to keep things short. If I just had that restart feature I wouldn't bother too much, but I do want to have that restore feature. I should also say that if I keep the code with the \"delete window_\" commented, the problem is not only a memory leak, it still crashes sometimes apparently. There must surely be a way to fix this! But I'm clueless, I'd really appreciate some help! Thanks in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12766943,"title":"Multiple Threads, one at a time read/write ","body":"<p>There are two <code>QFile-pointer</code> pointing to the same file, they belong different threads. One writes data to the file, the other reads. But I want to have only one operation going on, read or write.</p>\n\n<pre><code>if(!this-&gt;file-&gt;exists()) {\n   qDebug()&lt;&lt;\"The file is not exists\";\n}\nif(this-&gt;file-&gt;isOpen()) {\n   qDebug()&lt;&lt;\"The file is open\";\n}\n</code></pre>\n\n<p>Let me put it another way: how to check whether the file in opened?</p>\n\n<p>I test <code>file.isOpen()</code>? It doesn't work. How can I do that?</p>\n"},{"tags":["python","qt","webkit","spynner"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":12765394,"title":"Segfault using nativeClickAt() method in spynner module","body":"<p>I'm not sure how to use <code>nativeClickAt()</code> method to click at an arbitrar location.</p>\n\n<p>In the <a href=\"https://github.com/makinacorpus/spynner/blob/master/src/spynner/browser.py\" rel=\"nofollow\">spynner class</a>, the doc said :</p>\n\n<pre><code>\"\"\"Click on an arbitrar location of the browser.\n@param where: where to click (QPoint)\n@param real: if not true coordinates are relative to the window instead\n    of the screen\n@timeout seconds: seconds to wait after click\"\"\"\n</code></pre>\n\n<p>I have had searched <a href=\"http://qt-project.org/doc/qt-4.8/qpoint.html#QPoint-2\" rel=\"nofollow\">QT doc</a> to figure out what is a <code>QPoint</code> object. So it seems to be x, y coordinates.</p>\n\n<p>What I tried so far :</p>\n\n<pre><code>import spynner\nfrom PyQt4 import QtCore\n\nbrowser = spynner.Browser(\n    embed_jquery = True,\n    debug_level = spynner.DEBUG\n)\n\n(...)\n\nplace = QtCore.QPoint(311,443)\nprint place # PyQt4.QtCore.QPoint(311, 443)\nbrowser.nativeClickAt(place, 3, real=True)\n</code></pre>\n\n<p>But when I run the script, <strong>I get a segfault error</strong>.</p>\n\n<p>Any help will be very appreciate.</p>\n"},{"tags":["c++","qt","graphics","visualization","directed-acyclic-graphs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":454,"score":0,"question_id":5023412,"title":"Visualize (directed) graphs with Qt","body":"<p>Are there widgets, libraries to visualize directed graphs of graphs in general with Qt? I want to build them in real time, while inspecting the JVM or is input/output with Graphviz the way to do?</p>\n"},{"tags":["qt","qtembedded"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12766279,"title":"Qt embedded and ARM 7 target","body":"<p>I am using Laptop UBUNTU 11.04 system for QT development. I have downloaded, configure, make and install Qt-everywhere version. </p>\n\n<p>How can i make the project in my laptop and deploy the same file in the ARM based board?</p>\n\n<p>QT is already installed in ARM7 board.</p>\n\n<p>Thanks,</p>\n\n<p>Prasad</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12717285,"title":"Why should we always derive from a base class in Qt?","body":"<p>While we use Qt, we always derive a new class from the Qt Classes and make an instance of our new class. For example, in order to use the QMainWindow class, we derive a new class from the QMainWindow for example called MW and make an instance from the MW.</p>\n\n<p>My question is why don't we make an instance from the base class, from QMainWindow in this situation?</p>\n"},{"tags":["c++","qt","qnetworkaccessmanager"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12764214,"title":"QNetworkAccessManager Memory Leakage","body":"<p>I am having some trouble with memory leaks while using the QNetworkAccessManager (using Qt). The more requests I call, the more memory is allocated. This makes sense, but not to me with the way I do it. I call, let's say 16 requests, and then once the network reply is hit 16 times, I call the next 16. With this method, wouldn't this regulate memory fine? For some reason it is not, and the memory increases steadily as more are called. Could having this in a thread be affecting this?</p>\n\n<p>Header:</p>\n\n<pre><code>#include &lt;QThread&gt;\n#include &lt;QtNetwork/QNetworkAccessManager&gt;\n#include &lt;QtNetwork/QNetworkRequest&gt;\n#include &lt;QtNetwork/QNetworkReply&gt;\n#include &lt;QSemaphore&gt;\n#include &lt;QPixmap&gt;\n#include &lt;QMutex&gt;\n#include &lt;QDebug&gt;\n\n#include \"winnames.h\"\n\n#define MAX_REQUEST_COUNT 16\n\nclass Downloader : public QThread\n{\n    Q_OBJECT\npublic:\n    explicit Downloader(QObject *parent = 0);\n    void start(Priority = InheritPriority);\n\nsignals:\n    void PictureDownloaded(QPixmap picture, QString id);\n\npublic slots:\n    void networkReply(QNetworkReply*);\n\nprivate:\n    void startDownloads();\n\n    QString titleID;\n    QNetworkAccessManager *manager;\n\n    int amount;\n};\n</code></pre>\n\n<p>CPP:</p>\n\n<pre><code>#include \"downloader.h\"\n\nDownloader::Downloader(QObject *parent) : QThread(parent)\n{\n    manager = new QNetworkAccessManager(this);\n    connect(manager, SIGNAL(finished(QNetworkReply*)), this, SLOT(networkReply(QNetworkReply*)));\n}\nvoid Downloader::start(Priority p)\n{\n    amount = 0;\n    titleID = \"50\";\n    startDownloads();\n}\n\nvoid Downloader::startDownloads()\n{\n    const int searchValues[] = {0, 0x400, 0x1000, 0x8000, 0xFFFF};\n    for (int x = 0; x &lt; 4; x++)\n    {\n        int num = searchValues[x] + amount;\n        if (num &gt;= searchValues[x + 1])\n            continue;\n\n        for (int i = 0; i &lt; MAX_REQUEST_COUNT; i++)\n            manager-&gt;get(QNetworkRequest(QUrl(\"http://my.url/\" + titleID.toUpper() + \"/someDir/\" + QString(\"%1\").arg(num + i, 4, 16, QChar('0')).toUpper())));\n    }\n}\n\nvoid Downloader::networkReply(QNetworkReply *reply)\n{\n    if (reply-&gt;bytesAvailable() != 0)\n    {\n        QPixmap pixmap;\n        pixmap.loadFromData(reply-&gt;readAll(), \"PNG\");\n        if (!pixmap.isNull())\n            emit PictureDownloaded(pixmap, titleID + reply-&gt;url().toString().mid(reply-&gt;url().toString().length() - 4));\n    }\n    reply-&gt;deleteLater();\n    reply-&gt;close();\n\n    QMutex m;\n    m.lock();\n\n    if (amount++ != 0 &amp;&amp; amount % MAX_REQUEST_COUNT == 0)\n        startDownloads();\n\n    m.unlock();\n}\n</code></pre>\n\n<p>Any idea? Thanks!</p>\n"},{"tags":["qt","qml","qstring"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12758282,"title":"What is the equivalence for QString::arg() in QML","body":"<p>I'm wondering How I can have a string in QML that will be occupied with some arguments? Some thing like this in Qt:</p>\n\n<pre><code>QString str(\"%1 %2\");\nstr = str.arg(\"Number\").arg(12);//str = \"Number 12\"\n</code></pre>\n"},{"tags":["ruby","qt","qt4","qt4.8","qtruby"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12762481,"title":"QtRuby painting crashing on Windows but not Linux","body":"<p>I'm new to QT and am having crashes on Windows 7 x64 when trying to create custom paint events.  I'm using Ruby 1.9.3p125 and qtbindings-4.8.3.0-x86-mingw32.  This crash does not show up when on my work machine, Redhat Linux using Ruby 1.9.2p180 and qtbindings-4.6.3.4</p>\n\n<p>I originally ran into this problem when following the IconEditor example from \"C++ Gui Programming with QT 4\" (ported to Ruby) but have simplified the issue in the below example.</p>\n\n<p>This example code creates a timer to draw a simple line in a sub-classed QWidget repeatedly.  On Windows, the paintEvent fires ~440 times before Ruby gives a segmentation violation.  Here's the code:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nrequire 'Qt'\n\nclass Painter &lt; Qt::Widget\n  slots :startTimer\n\n  def initialize(parent=nil)\n    super(parent)\n    setAttribute Qt::WA_StaticContents\n    setSizePolicy(Qt::SizePolicy::Minimum, Qt::SizePolicy::Minimum)\n\n    @counter = 0\n    @timer = Qt::Timer.new(self)\n    connect(@timer, SIGNAL('timeout()'), self, SLOT(:startTimer))\n    startTimer\n  end\n\n  def sizeHint\n    Qt::Size.new(200,200)\n  end\n\n  def paintEvent(event)\n    puts \"DEBUG: paintEvent #{@counter += 1} #{event.inspect}\"\n    painter = Qt::Painter.new(self)\n    painter.setPen(palette.foreground.color)\n    painter.drawLine(0, 0, 200, 200)\n  end\n\n  def startTimer\n    @timer.start(5)\n    update\n  end\n\nend\n\n\napp = Qt::Application.new(ARGV)\npainter = Painter.new\npainter.show\napp.exec\n</code></pre>\n\n<p>Here is the backtrace:</p>\n\n<pre><code>DEBUG: paintEvent 440 #&lt;Qt::PaintEvent:0x3328938&gt;\nDEBUG: paintEvent 441 #&lt;Qt::PaintEvent:0x3327de0&gt;\nDEBUG: paintEvent 442 #&lt;Qt::PaintEvent:0x3327420&gt;\nDEBUG: paintEvent 443 #&lt;Qt::PaintEvent:0x3326928&gt;\n./main.rb:27: [BUG] Segmentation fault\nruby 1.9.3p125 (2012-02-16) [i386-mingw32]\n\n-- Control frame information -----------------------------------------------\nc:0008 p:---- s:0024 b:0024 l:000023 d:000023 CFUNC  :method_missing\nc:0007 p:0107 s:0022 b:0022 l:000021 d:000021 METHOD ./main.rb:27\nc:0006 p:---- s:0017 b:0017 l:000016 d:000016 FINISH\nc:0005 p:---- s:0015 b:0015 l:000014 d:000014 CFUNC  :method_missing\nc:0004 p:0013 s:0011 b:0011 l:000010 d:000010 METHOD C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469\nc:0003 p:0098 s:0008 b:0008 l:001aec d:0023bc EVAL   ./main.rb:41\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:001aec d:001aec TOP\n\n-- Ruby level backtrace information ----------------------------------------\n./main.rb:41:in `&lt;main&gt;'\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469:in `exec'\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469:in `method_missing'\n./main.rb:27:in `paintEvent'\n./main.rb:27:in `method_missing'\n\n-- C level backtrace information -------------------------------------------\nC:\\Windows\\SysWOW64\\ntdll.dll(ZwWaitForSingleObject+0x15) [0x77d5f8b1]\nC:\\Windows\\syswow64\\kernel32.dll(WaitForSingleObjectEx+0x43) [0x76c01194]\nC:\\Windows\\syswow64\\kernel32.dll(WaitForSingleObject+0x12) [0x76c01148]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_vm_bugreport+0xf9) [0x62e5c61d]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_name_err_mesg_new+0x17a) [0x62d3a6fa]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_bug+0x2f) [0x62d3b45b]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_check_safe_str+0x1a4) [0x62dee1a0]\n [0x004011e6]\nC:\\Windows\\syswow64\\kernel32.dll(GetProfileStringW+0x12aa3) [0x76c4003f]\nC:\\Windows\\SysWOW64\\ntdll.dll(RtlKnownExceptionFilter+0xb7) [0x77db74df]\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: ./main.rb\n\n* Loaded features:\n\n    0 enumerator.so\n    1 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/encdb.so\n    2 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/iso_8859_1.so\n    3 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/transdb.so\n    4 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/defaults.rb\n    5 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/rbconfig.rb\n    6 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/deprecate.rb\n    7 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/exceptions.rb\n    8 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/defaults/operating_system.rb\n    9 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb\n   10 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems.rb\n   11 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/version.rb\n   12 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/requirement.rb\n   13 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/platform.rb\n   14 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/specification.rb\n   15 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/path_support.rb\n   16 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb\n   17 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/1.9/qtruby4.so\n   18 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt4.rb\n   19 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt.rb\n   20 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/utf_16le.so\n   21 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/single_byte.so\n   22 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/utf_16_32.so\n</code></pre>\n\n<p><strong>Edit::</strong>\nNothing like answering your own question...</p>\n\n<p>The paintEvent class needs to include a \"painter.end\" statement.  I can't find documentation of this but it is in the examples included with qtbindings and I just missed it.  No doubt this calls the QPainter object destructor to prevent memory leaks from crashing the program.  </p>\n\n<p>Here's the corrected code:</p>\n\n<pre><code>def paintEvent(event)\n  puts \"DEBUG: paintEvent #{@counter += 1} #{event.inspect}\"\n  painter = Qt::Painter.new(self)\n  painter.setPen(palette.foreground.color)\n  painter.drawLine(0, 0, 200, 200)\n  painter.end\nend\n</code></pre>\n"},{"tags":["c++","qt","qwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":148,"score":0,"question_id":12735734,"title":"Real Time Data Plotting With Qt, QWT and C++","body":"<p>I'm compelety new to Qt,QWT and have a basic knowledge in C++.</p>\n\n<p>According to the project that i got, i have to acquire some data given by the sensors on a caravan, like solar panel voltage and current, the temperature,humidity and so on. All these datas are acquired by some sensors and collected by a NI 6229 DAQ Device.</p>\n\n<p>Until now, i just gave the sidelights. Now i'm coming to the real problem.</p>\n\n<p>I want to acquire the datas that came from the DAQ device and show,plot,record and log in a program.</p>\n\n<p>I've decided to use C++, Qt and QWT. And the NIDAQMX API for acquiring the data from the DAQ device of course.</p>\n\n<p>I've already designed a GUI partly, but the point where i stuck is the real working part of my code.</p>\n\n<p>I don't know how to implement all these stuff with taking the performance criterias into account and i really need a guide.</p>\n\n<p>How should i handle data acquisition ?</p>\n\n<p>How should i plot the datas that i acquire ?</p>\n\n<p>Are these need to be seperated by different threads or some another structure ?</p>\n\n<p>Does collecting almost 10 or 12 channels data and plotting it in real time cause reasonable performance problems ? If so, how can i handle it ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","static","compilation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12762407,"title":"Qt - Static Linking fail after so many attempts","body":"<p>I've been trying to do a static linking for Qt for several weeks but I just keep on failing. I followed alot of articles and steps but none of them worked out for me. I downloaded the latest Qt SDK and the msvc2010 library for the command prompt. What am I doing wrong? </p>\n\n<p>In my Qt Creator, my compiler is set to release msvc2010 and I did \"configure -platform win32-msvc2010\" in the Qt Command Prompt and then the nmake. But that didn't work. I set it to MingW and tried, but still failed. Please help me! If you need any information, just ask for it.</p>\n"},{"tags":["qt","webview","keypress","qml","simulate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12761848,"title":"Simulating Esc key press and QML WebView","body":"<p>I'd like to simulate the press of Esc key on the web view. But I can't find any way out. I thought about using QKeyEvent, and QApplication::postEvent, but I can't find any way to implement it</p>\n\n<p>Thanks in advance</p>\n\n<p>Marcin</p>\n"},{"tags":["c++","qt","directory","subdirectories","qfilesystemwatcher"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12759131,"title":"QFileSystemWatcher::addPath recursively","body":"<p>Hi all I want to use <code>QFileSystemWatcher</code> to watch changes of a given directory and its subdirectory recursively, but <code>void QFileSystemWatcher::addPath ( const QString &amp; path )</code> didn't let me do it so is there any idea to do it easily or I should implement it by my self (extract all directories and subdirectories and files under to added with <code>void QFileSystemWatcher::addPaths ( const QStringList &amp; paths )</code>)?</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["qt","download"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":364,"score":0,"question_id":12682485,"title":"Downloading Qt 4.8.3","body":"<p>I haven't used Qt for months. But now when i want to download the latest version, I can't find the download for the last version in Qt project website there is only Qt SDK with version 4.8.1 but in the commercial version website there is 4.8.3.</p>\n\n<p>so where can I download Qt SDK with Qt 4.8.3 for linux (ubuntu) ? please</p>\n\n<hr>\n\n<p>I have installed the SQK with apt-get i just, and i downloaded Qt 4.8.3. what i need now is the instruction to compile it with MySQL plugins.\nthere is a file in the download that points to the old qt.nokia.com website so i can't find these instructions.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":1113,"score":5,"question_id":3906964,"title":"Qt QWebView class custom User-Agent","body":"<p>Is there an easy way to setup the User-Agent the QWebView class is using? </p>\n\n<p>The only relevant link I found searching was this</p>\n\n<p><a href=\"http://www.qtforum.org/article/27073/how-to-set-user-agent-in-qwebview.html\">http://www.qtforum.org/article/27073/how-to-set-user-agent-in-qwebview.html</a> </p>\n\n<p>I'm learning C++/Qt right now and I don't really understant what's explained on that website. Maybe someone knows an easy way to do it? Or can help me understand that code?</p>\n"},{"tags":["xml","qt","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12749976,"title":"QDomDocument and QCryptographicHash issues","body":"<p>am using <code>QCryptographicHash</code> to hash a pass and save it in an XML file, my problem is when I use <code>QDomDocument</code> to read and update other elements  in my xml file the element password changes and I don't know how.</p>\n\n<p>any help please !!!</p>\n\n<p>here is my xml file with correct data</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Folders&gt;\n &lt;folder DriveL=\"\" Mounted=\"false\" PassW=\"!Å?L,-;©Óñn?Ãs?N·¦ø\" Path=\"C:\\MyProjects\\DiskCrypt\\testFolder\\TestFolder\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>when I need to update the drive letter I use <code>QDomDocument</code> to read data and modify it, every thing goes all right. My application encrypt my xml file if the user exit ant decrypt it once it rerun, but after the decryption I get this:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Folders&gt;\n &lt;folder DriveL=\"\" Mounted=\"false\" PassW=\"!??L,-;???n??s?N???\" Path=\"C:\\Users\\o.maddouri\\MyProjects\\DiskCrypt\\testFolder\\TestFolder\"/&gt;\n&lt;/Folders&gt;\n</code></pre>\n\n<p>so <code>PassW</code> should be <code>\"!Å?L,-;©Óñn?Ãs?N·¦ø\"</code> but after encryption it is <code>\"!??L,-;???n??s?N???\"</code>, I use simple algorithm for encrption and decryption (AES 128).</p>\n"},{"tags":["c++","qt","class","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12758958,"title":"undefined reference to a class","body":"<p>I am building a small game in Qt4. here is the code:</p>\n\n<p>lcdcontrol.h :</p>\n\n<pre><code>#ifndef LCDCONTROL_H\n#define LCDCONTROL_H\n\n\n\n#include &lt;QLCDNumber&gt;\n#include &lt;QtGui&gt;\n#include &lt;QWidget&gt;\n\nclass lcdControl: public QWidget\n{\n    Q_OBJECT\n\npublic:\n    lcdControl(QWidget *parent=0);\n\nsignals:\n    void valueChanged(int newValue);\n\npublic slots:\n    void setValue(int value);\n    //void setRange(int minValue, int maxValue);\n    //void quit();\n\nprivate:\n    QSlider *slider;\n    //QPushButton *quitbutton;\n\n};\n\n\n#endif\n</code></pre>\n\n<p>lcdcontrol.cpp :</p>\n\n<pre><code>#include &lt;QLCDNumber&gt;\n#include &lt;QSlider&gt;\n#include &lt;QGridLayout&gt;\n\n#include \"lcdcontrol.h\"\n\nlcdControl::lcdControl(QWidget *parent): QWidget(parent)\n{\n\n    QLCDNumber *lcd = new QLCDNumber(2);                //2 for 2 digits\n    lcd-&gt;setSegmentStyle(QLCDNumber::Filled);\n\n    slider = new QSlider(Qt::Horizontal);\n    slider-&gt;setRange(0,99);\n    slider-&gt;setValue(0);\n\n    connect(slider,SIGNAL(valueChanged(int)),lcd,SLOT(display(int)));   \n    connect(slider,SIGNAL(valueChanged(int)),this,SIGNAL(valueChanged(int)));   \n\n    QVBoxLayout *layout = new QVBoxLayout;\n    layout-&gt;addWidget(lcd);\n    layout-&gt;addWidget(slider);\n    setLayout(layout);\n\n    setFocusProxy(slider);\n}\n\nvoid lcdControl::setValue(int value)\n{\n    slider-&gt;setValue(value);\n}\n</code></pre>\n\n<p>drawing.h :</p>\n\n<pre><code>#ifndef DRAWING_H\n#define DRAWING_H\n\n#include &lt;QPushButton&gt;\n\nclass drawingClass : public QWidget\n{\n    Q_OBJECT\npublic:\n    drawingClass(QWidget *parent=0);\n\nprivate:\n    QPushButton *quitbutton;\n};\n\n\n#endif\n</code></pre>\n\n<p>drawing.cpp :</p>\n\n<pre><code>#include &lt;QVBoxLayout&gt;\n#include &lt;QGridLayout&gt;\n#include &lt;QtGui&gt;\n#include \"drawing.h\"\n#include \"lcdcontrol.h\"\n\ndrawingClass::drawingClass(QWidget *parent): QWidget(parent)\n{\n\n    quitbutton = new QPushButton(tr(\"&amp;Quit!\"));\n    connect(quitbutton,SIGNAL(clicked()),qApp,SLOT(quit()));\n\n    lcdControl *angle = new lcdControl;\n    lcdControl *force = new lcdControl;\n\n    QVBoxLayout *leftlayout = new QVBoxLayout;\n    leftlayout-&gt;addWidget(angle);\n    leftlayout-&gt;addWidget(force);\n\n    QGridLayout *mainlayout = new QGridLayout;\n    mainlayout-&gt;addWidget(quitbutton,0,0);\n    mainlayout-&gt;addLayout(leftlayout);\n    mainlayout-&gt;setColumnStrech(1,10);\n    setLayout(mainlayout);\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QtGui&gt;\n#include \"drawing.h\"\n\nint main(int argc, char **argv)\n{\n    QApplication app(argc,argv);\n    drawingClass ob;\n    ob.resize(500,200);\n    ob.show();\n    return app.exec();\n}\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>main.cpp:(.text.startup+0x28): undefined reference to `drawingClass::drawingClass(QWidget*)'\nmain.cpp:(.text.startup+0x6e): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0x77): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0xb4): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0xbd): undefined reference to `vtable for drawingClass'\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>Please help me out with this.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12758416,"title":"signals and slots in Qt","body":"<p>I was going through this Qt tutorial where I came across a pretty interesting line of code</p>\n\n<pre><code>connect(slider,SIGNAL(valueChanged(int)),this,SIGNAL(valueChanged(int)));   \n</code></pre>\n\n<p>Generally when a signal is emitted, then a slot is called. What is meant by this statement?\nthe \"slider\" is a QSlider object pointer.</p>\n\n<p>If helpful, this is the <a href=\"http://doc.qt.digia.com/4.3/tutorial-t8-lcdrange-cpp.html\" rel=\"nofollow\">tutorial</a>  .</p>\n"},{"tags":["qt","opencv","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12617222,"title":"Cannot Parse Libraries In Linux Using Qt Enviornment","body":"<p>After some helpful tips this is the new version of this post, the thing is that it seems my programs is somehow running but it just issues some errors...i don't know what is it actually mentioning, because the libraries are installed, i changed the path form LIBS += -<code>LC:/usr/local/lib/ \\</code> to <code>LIBS += -L/usr/local/lib/ \\</code> as some one said it's actually refering to windows while u r using linux(chakra) and then added \"\\\" at the end of directories and added pkg-config to my .pro file , so this is the new version of a new problem... : </p>\n\n<pre><code>    Starting /home/lucifer/PR0J3CTs/FirstOpenCV-build-desktop-Qt_4_8_2_in_PATH__System__Release/FirstOpenCV...\n/home/lucifer/PR0J3CTs/FirstOpenCV-build-desktop-Qt_4_8_2_in_PATH__System__Release/FirstOpenCV exited with code 0\n\nDebugging starts\nthe debug information found in \"/usr/lib/libQtOpenGL.so.4.8.2.debug\" does not match \"/usr/lib/libQtOpenGL.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtGui.so.4.8.2.debug\" does not match \"/usr/lib/libQtGui.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtCore.so.4.8.2.debug\" does not match \"/usr/lib/libQtCore.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtTest.so.4.8.2.debug\" does not match \"/usr/lib/libQtTest.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtNetwork.so.4.8.2.debug\" does not match \"/usr/lib/libQtNetwork.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtXml.so.4.8.2.debug\" does not match \"/usr/lib/libQtXml.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtSvg.so.4.8.2.debug\" does not match \"/usr/lib/libQtSvg.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtDBus.so.4.8.2.debug\" does not match \"/usr/lib/libQtDBus.so.4\" (CRC mismatch).\nDebugging has finished\n</code></pre>\n\n<p>this is my .pro Configurations [ As U can see I've commented (#) one of two LIBS configs, I just wanted to ask which could be more accurate or more helpful, yesterday i tried and it issued some incompatibility with newer version of libavcodec so I googled some and downloaded libavcodec.53 and configured it but I'm uncertain what should happen now , I'm Now at the moment trying to get the opencv-qt-for-all package from ccr community repository and let the program handle these issues by it self, but I'm sure it won't fix my problem] : </p>\n\n<pre><code>QT       += core\nQT       -= gui\n\nTARGET = FirstOpenCV\nCONFIG   += console\nCONFIG   -= app_bundle\nCONFIG   += link_pkgconfig\nPKGCONFIG += opencv\n\nTEMPLATE = app\n\nSOURCES += main.cpp\n\nINCLUDEPATH += /usr/local/include/opencv2/\n\n#LIBS += -L/usr/local/lib/ \\\n#-libopencv_core.so \\\n#-libopencv_highgui.so \\\n#-libopencv_imgproc.so \\\n#-libopencv_features2d \\\n#-libopencv_calib3d.so\n\nLIBS += /usr/lib/libopencv_core.so \\\n/usr/lib/libopencv_highgui.so \\\n/usr/lib/libopencv_imgproc.so \\\n/usr/lib/libopencv_features2d.so \\\n/usr/lib/libopencv_calib3d.so \\\n/usr/lib/libavcodec.so\n</code></pre>\n\n<p>And here's The Code :  </p>\n\n<pre><code>#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n\nusing namespace cv;\n\nint main() {\n\n    // read an image\n    Mat image = imread(\"002.jpg\");\n    // create image window named \"My Image\"\n    namedWindow(\"My Image\");\n    // show the image on window\n    imshow(\"My Image\", image);\n    // wait key for 5000 ms\n    waitKey(5000);\n\n    return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt","libqxt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12346637,"title":"How to hide console window in QxtApplication","body":"<p>I am trying to make gui Qxt Application, but when launches it creates a console window. I don't need console window, how can I hide it?</p>\n\n<p>I'm using mingw gcc4.4 qt4.8 libqxt-0.6.2</p>\n\n<p>.pro file:</p>\n\n<pre><code>QT       += core gui network testlib\n\nCONFIG  += qxt\nQXT     += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = yascreens\nTEMPLATE = app\n\n\nSOURCES += main.cpp \\\n    application.cpp \\\n    configwidget.cpp \\\n    network.cpp \\\n    imageselectwidget.cpp\n\nHEADERS  += \\\n    application.h \\\n    configwidget.h \\\n    network.h \\\n    defines.h \\\n    imageselectwidget.h\n\nRESOURCES += \\\n    resources.qrc\n\nQMAKE_CXXFLAGS += -std=c++0x\n\nFORMS += \\\n    config.ui\n</code></pre>\n\n<p>Full sources <a href=\"https://github.com/bakwc/yascreens\" rel=\"nofollow\">here</a> (github).</p>\n"},{"tags":["c++","qt","visual-c++"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12756828,"title":"Why does Qt Creator find the typedef, but not the build process?","body":"<p>I am trying to use an external library in my Qt Creator project. I am building it with Visual C++ on Windows.</p>\n\n<p>I added this to my qmake file:</p>\n\n<pre><code># Include libspotify\nINCLUDEPATH += C:\\\\libspotify\\\\include\nLIBS     += -LC:\\\\libspotify\\\\lib -llibspotify\n</code></pre>\n\n<p>Then I went to use some typedef'd structs from the library:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;libspotify/api.h&gt;\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\n    sp_session_config spConfig;\n    sp_session spSession;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>Now in the IDE editor, the syntax highlight marks sp_session_config and sp_session in purple indicating the editor can find those typedefs fine (if it doesn't find a definition it leaves the text black).</p>\n\n<p>But when I build I get this:</p>\n\n<pre><code>mainwindow.h:32: error: C2079: 'MainWindow::spSession' uses undefined struct 'sp_session'\n</code></pre>\n\n<p>Now I know the compiler is finding the api.h file, because if I change it to a bogus filename it spits out a file not found error.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:\nThe header file defines the struct like this:</p>\n\n<pre><code>extern \"C\" {\ntypedef struct sp_session sp_session; ///&lt; Representation of a session\n}\n</code></pre>\n"},{"tags":["c++","qt","background-image","qwidget","qlabel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12755842,"title":"How to put background of QWidget under other widgets in a QGridLayout","body":"<p>I've been hours trying to understand(googling) why my widgets are not shown in a QWidget children I am using as a Windows.</p>\n\n<p>The children are mostly QLabel and some QSliders. The Layout is a QGridlayout</p>\n\n<p>here it is some of my window code:</p>\n\n<pre><code>FenPrincipale::FenPrincipale()\n    {\n        this-&gt;setWindowTitle(\"Premier Test\");\n        this-&gt;resize(400, 200);\n        QPalette palette;\n        palette.setBrush(this-&gt;backgroundRole(), QBrush(QImage(\"images/metal400x200.png\")));\n\n        this-&gt;setPalette(palette);\n        /*\n        this-&gt;setStyleSheet(\"background-image: url(images/metal400x200.png); \"\n                            \"background-position: top left; \"\n                            \"background-repeat: repeat-xy;\"\n                            );\n        */\n\n        buildChildren();\n        buildLayout();\n\n        this-&gt;setLayout(layout_principale);\n    }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>How my children is built</p>\n\n<pre><code>void FenPrincipale::buildChildren()\n{\n    m_title = new QLabel(\"MonTest\");\n    m_nextPageButton = new QLabel(\"&gt;\");\n\n    m_line = new QLabel(\"Slide here\");\n    m_labelSlider = new QSlider;\n    m_result = new QLabel(\"Result\");\n\n    /* \n     * Other children is set here...\n    */\n}\n</code></pre>\n\n<p>Voilà the result:</p>\n\n<p><img src=\"http://i.stack.imgur.com/uKADJ.png\" alt=\"enter image description here\"></p>\n\n<p>I tried changing fonts and other methods to set the background but the background is always shown over the other widgets. </p>\n\n<p>Am I missing something?</p>\n"},{"tags":["qt","qtgui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12755074,"title":"Intercepting mousePressEvent on Child widget (qt)","body":"<p>I'm trying to implement the following functionality based on QPlainTextEdit - by default it should show a \"please enter something here\" message, on click, it would vanish and allow editing.</p>\n\n<p>To do so I need to intercept whether the widget has been clicked. Can I do so without sub classing QPlainTextEdit?</p>\n\n<p>Can the parent's widget onMousePressEvent obtain which child's widget the event belongs to?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12755231,"title":"error: expected primary-expression before ')' token","body":"<p>I'm trying displaying widget 'widg' in layer on MainWindow after pushing 'pushButton_2' but I'm receive this error: \"expected primary-expression before ')' token\"</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"widg.h\"\n#include \"ui_widg.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QObject::connect(ui-&gt;pushButton_2, SIGNAL(clicked()), SLOT(slotPush2()));\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::slotPush2()\n{\n    ui-&gt;verticalLayout_3-&gt;addWidget(widg);\n}\n</code></pre>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\nprivate slots:\n    void slotPush2();\n};\n\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>widg.h</p>\n\n<pre><code>#ifndef WIDG_H\n#define WIDG_H\n\n#include &lt;QWidget&gt;\n\nnamespace Ui {\nclass widg;\n}\n\nclass widg : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit widg(QWidget *parent = 0);\n    ~widg();\n\nprivate:\n    Ui::widg *ui;\n};\n\n#endif // WIDG_H\n</code></pre>\n\n<p>widg.cpp</p>\n\n<pre><code>#include \"widg.h\"\n#include \"ui_widg.h\"\n\nwidg::widg(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::widg)\n{\n    ui-&gt;setupUi(this);\n}\n\nwidg::~widg()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>Please, help me, what is my mistake?</p>\n"},{"tags":["qt","qt4","qfiledialog"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12229830,"title":"QFileDialog disable buttons","body":"<p>I'd like to create a subclass of QFileDialog which will be used to open only directories with some particular content. I can set my own proxy model to handle behavior of files list but how can I disable/enable ok button?\nDo I have to create my own widget? </p>\n"},{"tags":["qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12749910,"title":"How to move qt4_wrap_cpp output to a folder?","body":"<p>I have made a call to <code>qt4_wrap_cpp(moc_outfiles ${moc_header})</code> and I want the results of that call (<code>moc_outfiles</code>) to be placed in a folder called <code>GeneratedFiles/Debug</code>.</p>\n\n<p>So far what I tried to make my own custom method that failed due to parsing error <code>Parse error.  Expected \"(\", got quoted argument with text \"${it}\".</code></p>\n\n<pre><code>FOREACH (it ${moc_headers})\n    QT_MOC_EXECUTABLE ${it} -o ./GeneratedFiles/Debug/moc_\"${it}\"\nENDFOREACH(it)\n</code></pre>\n"},{"tags":["c++","mysql","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12752475,"title":"Qt - mysql driver install","body":"<p>I`m trying to install mysql module for qt and this is error i get</p>\n\n<pre><code>WARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\n</code></pre>\n\n<p>I`m fallowing this instructions:\n<a href=\"http://doc.qt.digia.com/4.6/sql-driver.html#qmysql-for-mysql-4-and-higher\" rel=\"nofollow\">http://doc.qt.digia.com/4.6/sql-driver.html#qmysql-for-mysql-4-and-higher</a></p>\n"},{"tags":["c++","multithreading","qt","console","poco-libraries"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":151,"score":1,"question_id":11985041,"title":"Console application with signals, threads and network, Qt or POCO","body":"<p>I have to develop a console application interacting with a Qt Gui via IPC. I already have a good experience with the Qt framework, I am completely new to POCO. I also need a good SQLite wrapper.</p>\n\n<p>What are the pros and cons of Qt vs Poco for my case ?</p>\n\n<p>So far, I've listed:</p>\n\n<p>Qt pros:</p>\n\n<ul>\n<li>very good documentation</li>\n<li>active community</li>\n<li>in my case, experience</li>\n<li>easy to use</li>\n<li>cross platform</li>\n<li>SQLite wrapper is nice</li>\n<li>Easy threading via signals and slots (no need of mutexes)</li>\n</ul>\n\n<p>Qt cons:</p>\n\n<ul>\n<li>lack of integration with standard C++, everything works with Qt objects (QString, etc.)</li>\n<li>Meta object compiler (MOC)</li>\n<li>New developer must learn the Qt framework to code</li>\n<li>Stick to GCC 4.2.1 on Mac instead of the latest clang shipped from now on with Mac</li>\n<li>Must inherit from QObject to use signals, threads, etc.</li>\n</ul>\n\n<p>Poco pros:</p>\n\n<ul>\n<li>easy to use ?</li>\n<li>faster for networking (Http in my case) ?</li>\n<li>No need of MOC</li>\n<li>builds with Clang seamlessly ?</li>\n<li>cross-platform</li>\n<li>easy threading ?</li>\n</ul>\n\n<p>Poco cons:</p>\n\n<ul>\n<li>lack of documentation !</li>\n<li>small community</li>\n<li>?</li>\n</ul>\n\n<p>I hope Qt5 will be usable with clang, llvm on mac ?</p>\n\n<p>I would very much appreciate your insight about this. </p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12749722,"title":"How to pass coordinates of button in matrix to slot on click?","body":"<p>I'm beginning in C++ and Qt. I have a matrix of QPushButtons and I want to handle the click event for them. Problem is I'm not being able to tell the slot the coordinates os the button in the array so that I can play with them. I've succeed in passing a integer to my slot, but not both coordinates. I'm not sure if I'm making myself clear enough... That's my problematic code:</p>\n\n<pre><code>for (int i = 0; i &lt; mapSize_x; i++) {\n    for (int j = 0; j &lt; mapSize_y; j++) {\n        buttonsArray[i][j] = new QPushButton();\n        ui-&gt;mainLayout-&gt;addWidget(buttonsArray[i][j], i, j);\n\n        connect(buttonsArray[i][j], SIGNAL(clicked()),\n                signalMapper, SLOT(map()));\n        signalMapper-&gt;setMapping(buttonsArray[i][j], i, j); // here\n    }\n}\nconnect(signalMapper, SIGNAL(mapped(int, int)),\n        this, SLOT(buttonClick(int, int)));\n</code></pre>\n\n<p>setMapping only accepts two parameters, and I want to pass three. Is there a workaround? I've googled a lot and still can't find an answer. I've also tried to pass the QPushButton object instead of the coordinates, but unsuccessfully as well. Thanks in advance.</p>\n"},{"tags":["forms","qt","designer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12750473,"title":"Qt - Display Designer Form without class","body":"<p>In Qt, I have created a Designer Form without class. So basically, I just have a file myform.ui. What code should I write to display the form?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":238,"score":0,"question_id":9467796,"title":"Qt Creator: Design changes not showing when run","body":"<p>I had made some changes on the '<strong>mainwindow.ui</strong>' file from the folder: 'Forms'. \nI've added a new title entitled 'File' and there only two simple options, 'Add Fractal' and 'Exit'</p>\n\n<p><img src=\"http://i.stack.imgur.com/43NyK.png\" alt=\"enter image description here\"></p>\n\n<p>You can also see that both are on the mainwindow.ui file:<img src=\"http://i.stack.imgur.com/6TujE.png\" alt=\"enter image description here\"></p>\n\n<p>But when I run the project, the window is not showing as I wish. Tabs are not showing.</p>\n\n<p><img src=\"http://i.stack.imgur.com/M34XD.png\" alt=\"enter image description here\"></p>\n\n<p>I had build, rebuild and make, and still have this strange thing.\nCan anyone give me a hand?</p>\n\n<p><strong>mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\n    class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n    void createActions();\n    void createMenus();\n    // Widgets i layouts\n    QWidget *centralWidget;\n    // Accions associades als menus\n    QAction *exitAct;\n    // Menus principals\n    QMenu *fileMenu;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    centralWidget = new QWidget;\n    setCentralWidget(centralWidget); createActions();\n    createMenus();\n    setWindowTitle(tr(\"Practica 1: GiVD 2011-2012\"));\n    resize(640, 480);\n}\n\nvoid MainWindow::createActions() {\n    exitAct = new QAction(tr(\"&amp;Exit\"), this);\n    exitAct-&gt;setShortcut(tr(\"Ctrl+Q\"));\n    exitAct-&gt;setStatusTip(tr(\"Sortir del programa\"));\n    connect(exitAct, SIGNAL(triggered()), qApp, SLOT(closeAllWindows()));\n}\n\nvoid MainWindow::createMenus()\n{\n    fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n    fileMenu-&gt;addSeparator();\n    // Per a cada nou submenú has de fer un addAction\n    fileMenu-&gt;addAction(exitAct);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><strong>mainwindow.ui</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;MainWindow&lt;/class&gt;\n &lt;widget class=\"QMainWindow\" name=\"MainWindow\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;400&lt;/width&gt;\n    &lt;height&gt;300&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;MainWindow&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;widget class=\"QWidget\" name=\"centralWidget\"/&gt;\n  &lt;widget class=\"QMenuBar\" name=\"menuBar\"&gt;\n   &lt;property name=\"geometry\"&gt;\n    &lt;rect&gt;\n     &lt;x&gt;0&lt;/x&gt;\n     &lt;y&gt;0&lt;/y&gt;\n     &lt;width&gt;400&lt;/width&gt;\n     &lt;height&gt;22&lt;/height&gt;\n    &lt;/rect&gt;\n   &lt;/property&gt;\n   &lt;widget class=\"QMenu\" name=\"menuFile\"&gt;\n    &lt;property name=\"title\"&gt;\n     &lt;string&gt;File&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;addaction name=\"actionAdd_Fractal\"/&gt;\n    &lt;addaction name=\"actionExit\"/&gt;\n   &lt;/widget&gt;\n   &lt;addaction name=\"menuFile\"/&gt;\n  &lt;/widget&gt;\n  &lt;widget class=\"QToolBar\" name=\"mainToolBar\"&gt;\n   &lt;attribute name=\"toolBarArea\"&gt;\n    &lt;enum&gt;TopToolBarArea&lt;/enum&gt;\n   &lt;/attribute&gt;\n   &lt;attribute name=\"toolBarBreak\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n   &lt;/attribute&gt;\n  &lt;/widget&gt;\n  &lt;widget class=\"QStatusBar\" name=\"statusBar\"/&gt;\n  &lt;action name=\"actionAdd_Fractal\"&gt;\n   &lt;property name=\"text\"&gt;\n    &lt;string&gt;Add Fractal&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n  &lt;action name=\"actionExit\"&gt;\n   &lt;property name=\"text\"&gt;\n    &lt;string&gt;Exit&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n &lt;/widget&gt;\n &lt;layoutdefault spacing=\"6\" margin=\"11\"/&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n</code></pre>\n"},{"tags":["qt","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12749552,"title":"How to disambiguate subdirs with the same name in the Projects list?","body":"<p>My Qt project has 2 subdirs/subprojects with the same name. Their directories are <code>myproject/node</code> and <code>myproject/compiler/test/node</code>. </p>\n\n<p>The problem (or annoyance) is that, in the Projects list in Qt, both subdirs are listed as \"node\". So you have to open them up to figure out which is which. </p>\n\n<p>myproject.pro is like this: </p>\n\n<pre><code>TEMPLATE = subdirs\n\nSUBDIRS += \\\n    compiler_test_node \\\n    node \\\n        ...\n\ncompiler_test_node.subdir = compiler/test/node\nnode.depends = compiler_vuo_compile\n...\n</code></pre>\n\n<p>Without renaming the <code>myproject/compiler/test/node</code> directory, is there a way to make it show up with a different name in the Projects list? </p>\n"},{"tags":["qt","pyside","qgraphicsview","qgraphicsscene","qgraphicstextitem"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12749651,"title":"PySide QGraphicsTextItem issues","body":"<p>I am trying to produce a text editor similar to word (paginated) in PySide.</p>\n\n<p>The way I decided to tackle this is having a QGraphicsScene with QGraphicsTextItem for each page, and to code the focus by interaction.</p>\n\n<p>Now all I am trying to do now is have a box representing an A4 page, and handling textchanged events using the QGraphicsTextItem.document().pageCount() function.</p>\n\n<p>I bumped into several issues:</p>\n\n<ol>\n<li><p>How can I properly define the size of the page given the QSizeF is not using any units? Will defining this right guarantee a true return value from pageCount()?</p></li>\n<li><p>If I define a pageSize at all, QGraphicsTextItem stops expanding. How can I set a fixed size so It'll look like a page?</p></li>\n</ol>\n\n<p>Documentation for Qt is extremely light and I could not figure anything out of it.</p>\n\n<p>Thank you for helping</p>\n"},{"tags":["qt","gdi","qgraphicsview","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12749179,"title":"GetClientRect fail when making GDI drawing in a QT QWidget","body":"<p>I am trying to draw on a QWidget thanks to Win32 API like in <a href=\"http://stackoverflow.com/questions/2616349/qt-qpainter-gdi-in-the-same-widget\">THIS TOPIC</a>.</p>\n\n<p>My widget is embedded in a graphics view thanks to a QGraphicsWidgetProxy.</p>\n\n<p>Widget in which I would like to draw is called \"Form\", and source of this widget is :</p>\n\n<pre><code>Form::Form() :\n    QWidget(NULL),    \n{\n    setWindowFlags(Qt::MSWindowsOwnDC);\n    setUpdatesEnabled(true);\n}\n\nvoid Form::paintEvent(QPaintEvent *_event)\n{\n    RECT r;\n    HWND winid = winId();\n    GetClientRect( winid, &amp;r );\n    p.drawEllipse(0, 0, width(), height());\n    p.restore();\n}\n</code></pre>\n\n<p>In a widget called \"MainWindow\", I have a QGraphicsView, which contain a QgraphicsScene in which I set my QGraphicProxyWidget :</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent)\n{   \n    ui.setupUi(this);\n\n    QGraphicsScene* scene = new QGraphicsScene(this);\n    ui.graphicsView-&gt;setScene(scene);\n    m_form = new Form();\n\n    QGraphicsProxyWidget* proxy = new QGraphicsProxyWidget;\n    proxy-&gt;setWidget(m_form);\n    scene-&gt;addItem(proxy);\n    proxy-&gt;resize(200,200);\n}\n</code></pre>\n\n<p>As we can see in Form::paintEvent, I draw an ellipse in my widget, and that works fine. I can see my widget, in the scene with the ellipse drawn in the widget.</p>\n\n<p>My problem is that te call to GetClientRect return a strange value :</p>\n\n<pre><code>r       RECT\n    bottom  0   LONG\n    left    0   LONG\n    right   115 LONG\n    top 0   LONG\nwinid   52822870    HWND\n</code></pre>\n\n<p>So as we can see, the client rect is false, I except to have something like r.bottom = 430 r.top = 230 r.left = 300 r.right = 500.</p>\n\n<p>Why GetClientRect doesn't work ?</p>\n\n<p>Thanks,\nAdrien</p>\n"},{"tags":["c++","qt","event-handling","keypress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":389,"score":1,"question_id":7543313,"title":"How to handle keypress events in a Qt console application?","body":"<p>For example, that when you press \"Esc\", the application ends.</p>\n"},{"tags":["qt","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12561023,"title":"QT Dbus sharing interface for two applications","body":"<p>I have the following setup:</p>\n\n<ul>\n<li>I have two applications, belonging to the same logical group (logical group = product of our company)</li>\n<li>These two applications need to connect to DBus to the same interface (we have more products, all of them should use their own DBus interface) and expose some functionality (and all this with QtDBus).</li>\n</ul>\n\n<p>So I tried to (the arrows are NOT C++ pointer operations :) ):</p>\n\n<pre><code>App1 -&gt; get QDBusConnection::sessionBus();\nApp1 -&gt; registerService(\"com.una-frog.ddm\") \nApp1 -&gt; registerObject (\"/DDM-gui\")\n</code></pre>\n\n<p>then </p>\n\n<pre><code>App2 -&gt; get QDBusConnection::sessionBus();\nApp2 -&gt; registerService(\"com.una-frog.ddm\") \nApp2 -&gt; registerObject (\"/DDM-cli\")\n</code></pre>\n\n<p>and start App1 and App2.</p>\n\n<p>At this point the App2 complains that it cannot register the service because App1 already registered it. That's correct.</p>\n\n<p>I easily could register App1 to \"com.una-frog.ddm.<strong>gui</strong>\" and App2 to \"com.una-frog.ddm.<strong>cli</strong>\" but I'd rather try to have one common interface and two objects there taking all the required actions.</p>\n\n<p>Anyone knows how to achieve two QtDBus applications connecting to the same interface?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12218669,"title":"QHeaderView stylesheet for QTableWidget","body":"<p>I'm trying to customize appearance of header for my QTableWidget using stylesheet. I'm doing this way:</p>\n\n<pre><code>QHeaderView::section \n{\n    background-color: transparent;\n    color: black;\n    font: 10pt \"MS Shell Dlg 2\";\n    padding-left: 4px;\n    border: 1px solid #6c6c6c;\n}\n</code></pre>\n\n<p>It looks nice in Qt Designer and in it's preview mode, but when I'm running the program, header is created with default colour and font.</p>\n\n<p>Qt version 4.7.2, OS Windows XP. Thanks.</p>\n"},{"tags":["c++","qt","ide","autocomplete"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":995,"score":2,"question_id":2475973,"title":"how to implement code completion in qt","body":"<p>i am writing an ide using qt (on c++) and i need to add auto completion feature to it</p>\n\n<p>so i want to know :</p>\n\n<p>how to do that (i am using <code>qtPlainTextEdit</code>) ?</p>\n\n<p>what the data structure i should use ?</p>\n"},{"tags":["qt","printing","internationalization","locale"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12747358,"title":"How to determine the default paper size in Qt (country dependent)","body":"<p>What is a good way to determine the default paper size in a (Qt based) C++ application?</p>\n\n<p>While QLocale provides information about date formats, measurement systems and more, I can't find any way to retrieve the default paper size from there.</p>\n\n<p>For example, in the US they commonly use \"Letter\" whereas in Germany we commonly use \"DIN A4\".</p>\n\n<p>The Qt documentation suggests to use the translation files for this purpose (see <a href=\"http://qt-project.org/doc/qt-4.8/internationalization.html\" rel=\"nofollow\">Localize section</a>). However, to my understanding one should keep the display language (specified by the translation file) independent from the system locale so that people can choose the display language independent from the system locale, if they like to.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12746777,"title":"What is the best practive for handling the user rights on a program which should be able to manage linux user accounts","body":"<p>I need to manage Linux users accounts from within my program so I actually need some kind of root access but giving root to that program couldn't be the best solution.<br>\nHow can I manage that in a save way. At least I am not aware of a Multi process architecture.\nFor the whole \"generic stuff\" I use Qt. Only the OS-specific things are on my own.</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12747121,"title":"Handle Unsupported Content QML Webview","body":"<p>How to handle unsupported content in QML Webview Component ?</p>\n"},{"tags":["c++","qt","menu","helper"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12744649,"title":"writing a simple help menu with Qt","body":"<p>Any advice on how to create a simple help menu with Qt? I could not really find anything interesting in the examples.</p>\n\n<p>What I have in mind is nothing too fancy like a whole window that looks like a web browser with a search engine, I just want to write few paragraphs, but maybe starting with links to each paragraph at the top, really like a basic web FAQ.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","visual-studio-2010","qt","linker","boost-filesystem"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":946,"score":1,"question_id":9199535,"title":"Unresolved external when using qt template?","body":"<p>Hi I'm using visual studio 2010.. And I added the add in for Qt as well as manually build the last boost package. Now I started a new project, a qt window application.</p>\n\n<p>There I used the following code:</p>\n\n<pre><code>#include &lt;boost/filesystem.hpp&gt;\n\nint main(int argc, char *argv[])\n{\n    boost::filesystem::path p(\"c:/test/test.gmx\");\n    boost::filesystem::path ext(p.extension());\n    boost::filesystem::path name(p.leaf().replace_extension(\"\"));\n    //QApplication a(argc, argv);\n    //MainInterface w;\n    //w.show();\n    //return a.exec();\n}\n</code></pre>\n\n<p>However this seems to fail.. While when I use EXACT THE SAME code but instead don't use the qt template it works. The exact errors are as follow:</p>\n\n<pre><code>1&gt;main.obj : error LNK2019: unresolved external symbol \"private: static class std::codecvt&lt;unsigned short,char,int&gt; const * &amp; __cdecl boost::filesystem3::path::wchar_t_codecvt_facet(void)\" (?wchar_t_codecvt_facet@path@filesystem3@boost@@CAAAPBV?$codecvt@GDH@std@@XZ) referenced in function \"public: static class std::codecvt&lt;unsigned short,char,int&gt; const &amp; __cdecl boost::filesystem3::path::codecvt(void)\" (?codecvt@path@filesystem3@boost@@SAABV?$codecvt@GDH@std@@XZ)\n1&gt;main.obj : error LNK2019: unresolved external symbol \"void __cdecl boost::filesystem3::path_traits::convert(char const *,char const *,class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &amp;,class std::codecvt&lt;unsigned short,char,int&gt; const &amp;)\" (?convert@path_traits@filesystem3@boost@@YAXPBD0AAV?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@ABV?$codecvt@GDH@5@@Z) referenced in function \"void __cdecl boost::filesystem3::path_traits::dispatch&lt;class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &gt;(class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; const &amp;,class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &amp;,class std::codecvt&lt;unsigned short,char,int&gt; const &amp;)\" (??$dispatch@V?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@@path_traits@filesystem3@boost@@YAXABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AAV?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@4@ABV?$codecvt@GDH@4@@Z)\n</code></pre>\n\n<p>I tried to look into the obvious settings; but in the project properties the boost library directory is still located under VC++ directories -> library directories</p>\n\n<p>What is causing this? How do I solve this?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12742539,"title":"Q_PROPERTY and has no member error","body":"<p>I can't see what I'm doing wrong. I'm trying to create some properties in a class (as I did before) but this time I'm getting the error <em>\"class Foo has no member named MyProp\"</em> </p>\n\n<p>The header is:</p>\n\n<pre><code>#ifndef P_H\n#define P_H\n\n#include &lt;QObject&gt;\n\nclass P : public QObject\n{\n    Q_OBJECT\n    Q_PROPERTY(int Prop READ getProp WRITE setProp)\n  public:\n    explicit P(QObject *parent = 0);\n\n    int getProp() const;\n    void setProp(int nP);\n  private:\n    int m_p;\n};\n\n#endif // P_H\n</code></pre>\n\n<p>and the cpp file is:</p>\n\n<pre><code>#include \"p.h\"\n\nP::P(QObject *parent) :\n  QObject(parent)\n{\n}\n\nint P::getProp() const\n{\n  return m_p;\n}\n\nvoid P::setProp(int nP)\n{\n  m_p = nP;\n}\n</code></pre>\n\n<p>But when I try to use foobar.P I got the error <em>class P has no member named P</em>. I've been reading <a href=\"http://qt-project.org/doc/qt-4.8/properties.html\" rel=\"nofollow\">Qt documentation</a> and I can't see any difference. Does anyone see what I'm doing wrong?</p>\n\n<p>I'm using Qt Creator 2.4.1 and Qt 4.8.</p>\n\n<p>[... Edit ...]</p>\n\n<p>Here is how I'm trying to use it:</p>\n\n<pre><code>#include \"p.h\"\n\nint main(int argc, char *argv[])\n{\n  P c;\n\n  c.Prop = 2;\n\n  return 0;\n}\n</code></pre>\n\n<p>This is the simplest example I could think of and I got the same error.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","unicode"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1088,"score":1,"question_id":3211214,"title":"How to convert a unicode string to its unicode escapes?","body":"<p>Say I have a text \"Բարև Hello Здравствуй\". (I save this code in QString, but if you know other way to store this text in c++ code, you'r welcome.) How can I convert this text to Unicode escapes like this \"\\u1330\\u1377\\u1408\\u1415 Hello \\u1047\\u1076\\u1088\\u1072\\u1074\\u1089\\u1090\\u1074\\u1091\\u1081\" (see <a href=\"http://doc.infosnel.nl/extreme_utf-8.html\" rel=\"nofollow\">here</a>)?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4096,"score":4,"question_id":2490090,"title":"Set label text in QTabWidget tab","body":"<p>I have QTabWidget on my form and two tabs on it. This tabs have standard text Tab1 and Tab2.\nHow can I change it?</p>\n"},{"tags":["c++","qt","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12741943,"title":"How to simulate double clicking item in qlistWidget","body":"<p>How can I simulate double clicking an item in a <code>QListWidget</code> without sub-classing? I would like the item to immediately go into edit mode when I add a new item to the list.</p>\n"},{"tags":["forms","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12524092,"title":"Disable a Form while Another Form shows in Qt","body":"<p>I would like that the main form would disable itselft while I show a secondary form.\nI know I could just use <code>this-&gt;setEnabled = false;</code>, but how can I know when the secondary form is closed? (To re-enable the main form).</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12741779,"title":"Qt Open Source licensing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11994053/can-i-use-qt-lgpl-license-and-sell-my-application-without-any-kind-of-restrictio\">Can I use Qt LGPL license and sell my application without any kind of restrictions?</a>  </p>\n</blockquote>\n\n\n\n<p>Just a simple question. </p>\n\n<p>Without the Qt Commercial license, can I make an application and 'sell' it to a client? Or do I need a commercial license to sell it?</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12738650,"title":"what should I use to create a QGraphicsView overlay that encapsulates QMimeData in Qt and C++?","body":"<p>I want to create an overlay for graphics view. Currently I'm using <code>QDrag</code> which encapsulates mime data using the <code>setMimeData()</code> method, and I can set a QPixmap that follows the mouse pointer when I drag it.</p>\n\n<p>The problem is that I have to hold down the left mouse button for it to work. Now the user hits a button, she has to hold the left button to drag the graph to the desired area and release the button. In practice, it is very non-intuitive.</p>\n\n<p>I want to make it the case that the user clicks on a button and releases the mouse button, then the graph follows the mouse pointer to where the user wants to place it, then she clicks the mouse again and the graph gets placed there. However, as a beginner in Qt, I don't know which class I can use to accomplish that.</p>\n"},{"tags":["c++","qt","resize","tabwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12392943,"title":"ScrollArea and TabWidget resizing","body":"<p>I am having trouble with my app. I am not able to configure wigets to behave acording to my needs, I would appreciate help.</p>\n\n<p>This is “sketch” of my real app\n<a href=\"http://s13.postimage.org/ibzzdh3p3/tab_Widget.png\" rel=\"nofollow\">http://s13.postimage.org/ibzzdh3p3/tab_Widget.png</a></p>\n\n<p>So the main widget of MainWindow is scrollArea.\nScrollArea has vertical layout and contains 3 items.\n1. Is big button, which represents constant sized area in my real app\n2. Is spacer\n3. TabWidget, has layouts on both tabs.</p>\n\n<p>Now my problem. I am putting dynamically content into those tabs and I expect that if tab content cannot fit the tab than it will expand TabWidget in the scroll area.</p>\n\n<p>Now it is filling space right when it fits the place, nice spacing and so. But if I fill it with lets say more lines(height 600px), than I can see the lines dissapearing somewhere down the tab and if I expand whole window TabWidget gets more space and more of my hiden widgets gets revealed.</p>\n\n<p>Any ideas how can I force the content of the tabwidget to expand it rather then hide under?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":12740216,"title":"how many items can we place in a Qgraphicsview/QgraphicsScene?","body":"<p>how many items can we place in a Qgraphicsview/QgraphicsScene so that when i zoom in the scene, it won't effect on the fastness of zooming?</p>\n"},{"tags":["qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12718126,"title":"How do I enforce the order of qmake library dependencies?","body":"<p>I'm getting a lot of errors because qmake is improperly ordering the boost libraries I'm using.</p>\n\n<p>Here's what .pro file looks like</p>\n\n<pre><code>QT       += core gui\n\nTARGET = MyTarget\nTEMPLATE = app\n\nCONFIG += no_keywords \\\n          link_pkgconfig\n\nSOURCES += file1.cpp \\\n           file2.cpp \\\n           file3.cpp\n\nPKGCONFIG += my_package \\\n             sqlite3\n\nLIBS += -lsqlite3 \\\n        -lboost_signals \\\n        -lboost_date_time\n\nHEADERS += file1.h\\\n           file2.h\\\n           file3.h\n\n\nFORMS += mainwindow.ui\n\nRESOURCES += Resources/resources.qrc\n</code></pre>\n\n<p>This produces the following command:</p>\n\n<pre><code>g++ -Wl,-O1 -o MyTarget file1.o file2.o file3.o moc_mainwindow.o -L/usr/lib/x86_64-linux-gnu -lboost_signals -lboost_date_time -L/usr/local/lib -lmylib1 -lmylib2 -lsqlite3 -lQtGui -lQtCore\n</code></pre>\n\n<p>Note: mylib1 and mylib2 are statically compiled by another project, placed in /usr/local/lib with an appropriate pkg-config .pc file pointing there. The .pro file references them via <code>my_package</code> in <code>PKGCONFIG</code>. The problem is not with pkg-config's output but with Qt's ordering.</p>\n\n<p>Here's the .pc file:</p>\n\n<pre><code>prefix=/usr/local\nexec_prefix=${prefix}\nlibdir=${exec_prefix}/lib\nincludedir=${prefix}/include\n\nName: my_package\nDescription: My component package\nVersion: 0.1\nURL: http://example.com\nLibs: -L${libdir} -lmylib1 -lmylib2\nCflags: -I${includedir}/my_package/\n</code></pre>\n\n<p>The linking stage fails spectacularly as mylib1 and mylib2 come up with a lot of undefined references to boost libraries that both the app and mylib1 and mylib2 are using.</p>\n\n<p>We have another build method using scons and it properly orders things for the linker. It's build command order is below.</p>\n\n<pre><code>g++ -o MyTarget file1.o file2.o file3.o moc_mainwindow.o -L/usr/local/lib -lmylib1 -lmylib2 -lsqlite3 -lboost_signals -lboost_date_time -lQtGui -lQtCore\n</code></pre>\n\n<p>Note that the principle difference is the order of the boost libs. Scons puts them at the end just before QtGui and QtCore while qmake puts them first. The other differences in the compile commands are unimportant as I have hand modified the qmake produced make file and the simple reordering fixed the problem.</p>\n\n<p>So my question is, how do I enforce the right order in my .pro file despite what qmake thinks they should be?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12738561,"title":"Qt leaveEvent and enterEvent","body":"<p>Well I am supposed to do somthing with the widget when it recieve either of those events but my problem is when i add the widget in a layout then setting that layout to the the parent windows both events are sent whenever i eneter or get out from layout not from the child widget.</p>\n"},{"tags":["c++","qt","listview","qml","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":12731175,"title":"How to tap on a list item component in Blackberry Cascades qml and qt","body":"<p>I asked this question before in other wording, but maybe the question was poorly worded, and no one seemed to answer.  I have been searching for a working example showing an answer to my question, but I cannot find any.  I really need to know the answer to this.</p>\n\n<p>In Blackberry Cascades, QML, QT &amp; C++, how do I respond to someone tapping on an item in a list?</p>\n\n<p>Is the answer to do with involving TapHandler and ListView?  If so, could someone please show me how to connect the two, because I cannot find any examples of that on the internet.</p>\n"},{"tags":["qt","pyqt","pyside","qgraphicsview","qspinbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12736688,"title":"PyQt/PySide QSpinBox flickering issue","body":"<p>I have added a QSpinBox to a QGraphicsScene using a QGraphicsProxyWidget. Each time I hover over the QSpinBox, it flickers with a black band overlaid on the spinbox controls. I have attached a screenshot and the code below. Am I doing something wrong? Is there a way to avoid this? Pyside 1.1.2, Python 2.7, Windows7. </p>\n\n<p><img src=\"http://i.stack.imgur.com/nwCCH.jpg\" alt=\"QSpinBox flickering on hover\"></p>\n\n<pre><code>class testWidget(QGraphicsView):\n    def __init__(self):\n        QGraphicsView.__init__(self)\n\n        floorSpinBox = QSpinBox()\n        floorSpinBox.setGeometry(0,0,50,25)\n\n        proxyWidget = QGraphicsProxyWidget() \n        proxyWidget.setWidget(floorSpinBox)\n\n        scene = QGraphicsScene(self)\n        scene.addItem(proxyWidget)\n        self.setScene(scene)\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    widget = testWidget()\n    widget.show()\n    app.exec_()\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>Apparently there is a bug report filed here: <a href=\"https://bugreports.qt-project.org/browse/QTBUG-18167\" rel=\"nofollow\">Bugreport</a>. I had to finally add the <code>QSpinBox</code> to a regular <code>QWidget</code> and not under <code>QGraphicsView</code>.</p>\n"},{"tags":["qt","qobject","qtscript","qvariant"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12737550,"title":"How to make a class in Qt both scriptable and serializable?","body":"<p>I'm trying to write a class with two basic characteristics:</p>\n\n<ul>\n<li>It needs to be scriptable - the class contains a number of properties and methods decorated with <code>Q_INVOKABLE</code> that are exposed to scripts.</li>\n<li>It needs to be serializable so that it can be registered with <a href=\"http://qt-project.org/doc/qt-4.8/qmetatype.html#qRegisterMetaTypeStreamOperators\" rel=\"nofollow\"><code>qRegisterMetaTypeStreamOperators()</code></a> for storing in <code>QVariant</code>s.</li>\n</ul>\n\n<p>As far as I can tell, I need to derive from <code>QObject</code> in order to make the class scriptable. However, in order to register the class with <code>qRegisterMetaTypeStreamOperators()</code>, it seems like the class needs to have a default copy constructor - something a <code>QObject</code>-derived class cannot have.</p>\n\n<p>Is there any way to achieve both goals?</p>\n"},{"tags":["c++","windows","osx","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12734727,"title":"Cross-platform way to get user friendly file type description","body":"<p>What's a cross-platform way for getting a user-friendly description of a file?</p>\n\n<p>Examples:</p>\n\n<ol>\n<li>foo.pdf -> \"Portable Document Format (PDF)</li>\n<li>bar.doc -> \"Microsoft Word Document\"</li>\n</ol>\n\n<p>Pointers to libraries or appropriate system APIs would be highly appreciated.</p>\n\n<p>A Qt/C++ solution is preferred but anything is fine.</p>\n\n<p>Target platforms are Windows and Mac OS X. I'd prefer the descriptions to match what would be found in Explorer or Finder if possible (rather than maintaining a map of extensions -> descriptions myself).</p>\n"},{"tags":["c++","qt","qt-designer"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12734319,"title":"Change rectangular Qt button to round","body":"<p>I'm trying to create a round button in Qt.  A simple form with a single button 'pushButton' was created in designer.  I'm attempting to turn this into a round button using setMask.  As soon as setMask is applied the button disappeares.  Does a custom widget need to be created to make a round button?</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;QMessageBox&gt;\n#include &lt;QtGui/QPushButton&gt;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    ui-&gt;pushButton-&gt;setText(\"Test Text\");\n    ui-&gt;pushButton-&gt;setFixedHeight(200);\n    ui-&gt;pushButton-&gt;setFixedWidth(200);\n\n    //Set Starting point of region 5 pixels inside , make region width &amp; height\n    //values same and less than button size so that we obtain a pure-round shape\n\n    QRegion* region = new QRegion(*(new QRect(ui-&gt;pushButton-&gt;x()+5,ui-&gt;pushButton-&gt;y()+5,190,190)),QRegion::Ellipse);\n    ui-&gt;pushButton-&gt;setMask(*region);\n    ui-&gt;pushButton-&gt;show();\n\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    QMessageBox msgbox;\n    msgbox.setText(\"Text was set\");\n    msgbox.show();\n\n}\n</code></pre>\n\n<p>Note:  If the button is created in code and applied to a window before the window is displayed, the button is displayed.  I would like to use the WYSIWIG capabilities of the Qt Designer rather than creating the entire form in code.</p>\n"},{"tags":["python","qt","pyqt","environment-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12733479,"title":"Python PyQt how to set environment variable for QProcess?","body":"<p>I'm trying to set an environment variable in a QT app for a QProcess that's being run.  The code is below.  The environment variable does not appear to be set however when inside the test.  Any suggestions?</p>\n\n<pre><code>def runUbootTests(self):\n    env = QtCore.QProcessEnvironment.systemEnvironment()\n    env.insert(\"LINUX_ETH_ADDR\", \"3c:98:bf:00:00:f4\")\n    self.process.setProcessEnvironment(env)\n    self.process.readyReadStandardOutput.connect(self.readReady)\n    self.process.start(\"make\", (\"clean\", \"check_uboot\"))\n</code></pre>\n"},{"tags":["c++","qt","casting","downcasting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12735713,"title":"Downcast using C-style cast when knowing the concrete sub class type","body":"<p>In my project I have a tree of QObjects with different types. Let me give you a simple example which should give you the idea of what I'm talking about. This could be an exemplary QObject tree (not an inheritance diagram but somewhat similar to a class diagram), where we start with the root object at the top and listing its child objects below:</p>\n\n<pre><code>                                   City\n                                     |\n                                  Street\n                                 /      \\\n                            House       ...\n                           /     \\\n                       Floor     ...\n                       /   \\\n                   Room    ...\n</code></pre>\n\n<p>While a QObject tree does not necessarily follow this rule, in my case very class in the tree has a parent of <em>one <strong>particular</strong> type</em>. So, to stay at one relation as an example, a house can have some floors and children of other types, but a floor is a child of a house and <em>only a house</em>.</p>\n\n<p>Now if I model these as QObject derived classes, the interface of <code>class Floor</code> should give me its <code>House *house()</code> by internally looking what the <code>QObject::parent()</code> is. I really know that this parent will be of type <code>House*</code>, because I designed it to be so and the programmer(s) stick to this design.</p>\n\n<p>Is it ok if I C-style cast the <code>QObject *parent()</code> to <code>House*</code> to implement <code>House *house() const</code>?</p>\n\n<p>Qt suggests to use <code>qobject_cast&lt;House*&gt;(parent())</code>, returning <code>0</code> if the <code>QObject* parent()</code> doesn't inherit from <code>House</code>, making the cast type-safe. But in release mode, I want to avoid such slow casts. I profiled one particular algorithm which is performing three times faster when doing C-style casts instead of qobject_casts. This is because qobject_cast asks the meta object about the type-info during runtime, resulting in considerable slowdowns when called <em>very</em> often.</p>\n\n<p>So what I ended up with was:</p>\n\n<pre><code>House *Floor::house() const {\n    Q_ASSERT(qobject_cast&lt;House*&gt;(parent()));\n    return (House*)parent();\n}\n</code></pre>\n\n<p>This will assert in debug mode that the parent really is a House, while just C-style-casting efficiently in release mode.</p>\n\n<p>To come to the point: <strong>I know people will yell when C++ programmers do C-style casts, but will it be ok in this situation?</strong></p>\n\n<p>An alternative solution would be to store the parent pointers of the particular types additionally as member variables, but I think this is redundant and I also like that the tree is reflected in those methods returning the tree parents.</p>\n"},{"tags":["qt","qt-creator","qml","embedded-linux","qtembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12717240,"title":"Qt QML Unsupported Image Format for SVG Files","body":"<p>I am continually getting the errors below when launching a Qt Embedded application that uses QML. From Googling around it seems like I needed to add the image loading plugins to my embedded system's exported nfs. So I attempted to add them several places but I keep getting the errors. I added the embedded ARM's version of libqsvg.so to the following locations but still get the errors...</p>\n\n<pre><code>/home/user/exported-nfs/lib/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/bin/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/lib/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/plugins/imageformats/libqsvg.so\n</code></pre>\n\n<p>This doesn't work either:</p>\n\n<pre><code>export QT_PLUGIN_PATH=/usr/plugins:/usr/plugins/imageformats\necho $QT_PLUGIN_PATH\n</code></pre>\n\n<p>How can I fix this?? Where is the proper place that I need to put the plugins so they are found?</p>\n\n<p>The errors:</p>\n\n<blockquote>\n  <p>WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-backspace.svg:\n  Unsupported image format<br>\n  WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-shift-lowercase.svg:\n  Unsupported image format<br>\n  WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-backspace.svg:\n  Unsupported image format</p>\n</blockquote>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12675865,"title":"QGraphicsSceneWheelEvent::delta being called when mouse wheel isn't used","body":"<p>I have a performance problem with a Qt widget application. Intel VTune Amplifier suggests the issue is with <code>QGraphicsSceneWheelEvent::delta</code> being called along with <code>QTimeLine::setCurveShape</code>.</p>\n\n<p>The application is reasonably simple. It receives data on a socket and creates a new row in a <code>QAbstractTableModel</code> if/when needed. Each cell could be coloured based on its content. I control this using a <code>data()</code> override within <code>QStandardItem</code>. </p>\n\n<p>I'm reasonably sure the performance issue doesn't have anything to do with the colouring etc. </p>\n\n<p>So I'm interested to know why the <code>QGraphicsWheelEvent::delta()</code> method is being called when I'm not using the mouse at all. Also why is a <code>QTimeLine::setCurveShape</code> being called?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12733604,"title":"Segmentation fault debugger for Qt","body":"<p>Can we use gdb to debug segmentation faults for Qt programs. If no are there any other tools which can do the task for Qt programs?</p>\n"},{"tags":["sql","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":7935288,"title":"How to implement file operations with QT and SQLite","body":"<p>Greetz,</p>\n\n<p>I'm very curious on how to use basic file operations within QT and SQLite and wondering if there are current examples. My ideas are things like;</p>\n\n<ul>\n<li>OnAppOpen - create tables in an :memory: database (just call new file)</li>\n<li>OnFileSave - copy everything in :memory: into a file on disk</li>\n<li>OnFileOpen - copy everything from file on disk to :memory:</li>\n<li>OnFileNew - delete current :memory: database and Create a new one (OnAppOpen)</li>\n</ul>\n\n<p>or something like</p>\n\n<ul>\n<li>AppOpen</li>\n<li>FileNew - disconnect from database and create new one with :memory: name</li>\n<li>FileSave - get current database name</li>\n</ul>\n\n<p>Any help with this would be more than appreciated, thx.</p>\n"}]}
{"total":16229,"page":12,"pagesize":100,"questions":[{"tags":["multithreading","qt","gui","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12733636,"title":"Run arbitrary code from non-GUI thread to modify Qt GUI-managedobjects?","body":"<p>I'm using PyQt specifically but this question I'm sure applies to Qt in general.</p>\n\n<p>I'm wondering how I can execute arbitrary code on the GUI thread from within an external thread.  I.e., in my pyqt app, I have a python thread that based on certain conditions will create various components.  I prefer this \"gui code\" not to be hard coded in the Qt related code but externally located.</p>\n\n<p>The only way I know of is to use QMetaObject.invokeMethod but you need to pass a Qt-managed object as first parameter with a named slot which basically doesn't allow for \"dynamic\" or \"arbitrary\" code.</p>\n\n<p>Any ideas on how I may be able to execute arbitrary blocks of code in this fashion?</p>\n"},{"tags":["qt","qt4","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12732724,"title":"segmentation fault in notepad application","body":"<p>Ok. I know I am posting way too much code, but the error is a programmers nightmare.(The segmentation fault)\nThis is my first application and has assisted by the Qt creator tutorial. Please help.</p>\n\n<p>the notepad.h file:</p>\n\n<pre><code>#ifndef NOTEPAD_H\n#define NOTEPAD_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QPlainTextEdit&gt;\n\n\nclass Notepad : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    Notepad();\n\nprotected:\n    void closeEvent(QCloseEvent *closeEvent);\n\nprivate slots:\n    void open();\n    bool save();\n    bool saveAs();\n    void newFile();\n    void documentWasModified();\n\nprivate:\n    QPlainTextEdit *textField;\n    QString curFile;\n\n    QMenu *fileMenu;\n    QMenu *editMenu;\n    QMenu *helpMenu;\n\n    QToolBar *fileToolBar;\n    QToolBar *editToolBar;\n\n    QAction *newAct;\n    QAction *loadAct;\n    QAction *saveAct;\n    QAction *saveAsAct;\n    QAction *copyAct;\n    QAction *pasteAct;\n    QAction *cutAct;\n    QAction *exitAct;\n\n    void createMenu();\n    void showStatusBar();\n    bool maybeSave();\n    bool saveFile(const QString &amp;fileName);\n    void loadFile(const QString &amp;fileName);\n    void setCurrentFile(const QString &amp;fileName);\n    void createActions();\n    void createToolBars();\n    QString strippedName(const QString &amp;fullFileName);\n\n};\n\n#endif\n</code></pre>\n\n<p>The notepad.cpp file:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;QMainWindow&gt;\n#include \"notepad.h\"\n\nNotepad::Notepad()\n{\n    textField = new QPlainTextEdit;\n    setCentralWidget(textField);\n    setWindowTitle(tr(\"The building of a notepad....\"));\n    createActions();\n    createMenu();\n    createToolBars();\n    showStatusBar();\n\n    connect(textField-&gt;document(),SIGNAL(contentsChanged()),this,SLOT(documentWasModified()));\n    setCurrentFile(\"\");\n    setUnifiedTitleAndToolBarOnMac(true);\n}\n\nvoid Notepad::createActions()\n{\n    newAct = new QAction(QIcon(\":/images/new_File.png\"),tr(\"&amp;New\"),this);\n    newAct-&gt;setShortcuts(QKeySequence::New);\n    newAct-&gt;setStatusTip(\"Create A new File!\");\n    connect(newAct,SIGNAL(triggered()),this,SLOT(newFile()));\n\n    loadAct = new QAction(QIcon(\":/images/open_File.gif\"),tr(\"&amp;Load\"),this);\n    loadAct-&gt;setShortcuts(QKeySequence::Open);\n    loadAct-&gt;setStatusTip(\"Open an existing file!\");\n    connect(loadAct,SIGNAL(triggered()),this,SLOT(open()));\n\n    saveAct = new QAction(QIcon(\":/images/save_File.png\"),tr(\"&amp;Save\"),this);\n    saveAct-&gt;setShortcuts(QKeySequence::Save);\n    saveAct-&gt;setStatusTip(\"Save the file!\");\n    connect(saveAct,SIGNAL(triggered()),this,SLOT(save()));\n\n    copyAct = new QAction(QIcon(\":/images/copy.png\"),tr(\"&amp;Copy\"),this);\n    saveAsAct-&gt;setShortcuts(QKeySequence::Copy);\n    saveAsAct-&gt;setStatusTip(\"Copy!\");\n    connect(saveAsAct,SIGNAL(triggered()),this,SLOT(copy()));\n\n    saveAsAct = new QAction(QIcon(\":/images/save_As.png\"),tr(\"&amp;Save As\"),this);\n    saveAsAct-&gt;setShortcuts(QKeySequence::SaveAs);\n    saveAsAct-&gt;setStatusTip(\"Save As!\");\n    connect(saveAsAct,SIGNAL(triggered()),this,SLOT(saveAs())); \n\n    exitAct = new QAction(QIcon(\":/images/exit.png\"),tr(\"&amp;Exit\"),this);\n    exitAct-&gt;setShortcuts(QKeySequence::Close);\n    exitAct-&gt;setStatusTip(\"Exit!\");\n    connect(exitAct,SIGNAL(triggered()),this,SLOT(close()));\n\n    pasteAct = new QAction(QIcon(\":/images/paste.gif\"),tr(\"&amp;Paste\"),this);\n    pasteAct-&gt;setShortcuts(QKeySequence::Paste);\n    pasteAct-&gt;setStatusTip(\"Paste Text!\");\n    connect(pasteAct,SIGNAL(triggered()),textField,SLOT(paste()));  \n\n    cutAct = new QAction(QIcon(\":/images/cut.png\"),tr(\"&amp;Cut\"),this);\n    cutAct-&gt;setShortcuts(QKeySequence::Cut);\n    cutAct-&gt;setStatusTip(\"Cut Text!\");\n    connect(cutAct,SIGNAL(triggered()),textField,SLOT(cut()));\n\n    copyAct = new QAction(QIcon(\":/images/copy.copy\"),tr(\"&amp;Copy\"),this);\n    copyAct-&gt;setShortcuts(QKeySequence::Copy);\n    copyAct-&gt;setStatusTip(\"copy Text!\");\n    connect(copyAct,SIGNAL(triggered()),textField,SLOT(copy()));    \n\n    copyAct-&gt;setEnabled(false);\n    cutAct-&gt;setEnabled(false);\n    connect(textField,SIGNAL(copyAvailable(bool)),copyAct,SLOT(setEnabled(bool)));\n    connect(textField,SIGNAL(copyAvailable(bool)),cutAct,SLOT(setEnabled(bool)));\n\n}\n\nvoid Notepad::createMenu()\n{\n    fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n    fileMenu-&gt;addAction(newAct);\n    fileMenu-&gt;addAction(loadAct);\n    fileMenu-&gt;addAction(saveAct);\n    fileMenu-&gt;addAction(saveAsAct);\n    fileMenu-&gt;addAction(exitAct);\n\n    editMenu = menuBar()-&gt;addMenu(tr(\"&amp;Edit\"));\n    editMenu-&gt;addAction(cutAct);\n    editMenu-&gt;addAction(copyAct);\n    editMenu-&gt;addAction(pasteAct);\n\n    menuBar()-&gt;addSeparator();\n    helpMenu = menuBar()-&gt;addMenu(tr(\"&amp;Help\"));\n}\n\nvoid Notepad::createToolBars()\n{\n    fileToolBar = addToolBar(tr(\"File\"));\n    fileToolBar-&gt;addAction(newAct);\n    fileToolBar-&gt;addAction(loadAct);\n    fileToolBar-&gt;addAction(saveAct);\n    fileToolBar-&gt;addAction(saveAsAct);\n\n    editToolBar = addToolBar(tr(\"Edit\"));\n    editToolBar-&gt;addAction(cutAct);\n    editToolBar-&gt;addAction(copyAct);\n    editToolBar-&gt;addAction(pasteAct);\n\n\n}\n\nvoid Notepad::showStatusBar()\n{\n    statusBar()-&gt;showMessage(tr(\"Ready!\"));\n}\n\nvoid Notepad::closeEvent(QCloseEvent *event)\n{\n    if(maybeSave())\n        event-&gt;accept();\n    else\n        event-&gt;ignore();\n}\n\nvoid Notepad::documentWasModified()\n{\n    setWindowModified(textField-&gt;document()-&gt;isModified());\n}\n\nbool Notepad::saveAs()\n{\n    QString fileName = QFileDialog::getSaveFileName(this);\n    if(fileName.isEmpty())\n        return false;\n    return saveFile(fileName);\n}\n\nbool Notepad::save()\n{\n    if(curFile.isEmpty())\n        return saveAs();\n    else\n        return saveFile(curFile);\n}\n\nvoid Notepad::open()\n{\n    if(maybeSave())\n    {\n        QString fileName = QFileDialog::getOpenFileName(this);\n        if(!fileName.isEmpty())\n            loadFile(fileName);\n    }\n\n}\n\nvoid Notepad::newFile()\n{\n    if(maybeSave())\n        {\n            textField-&gt;clear();\n            setCurrentFile(\"\");\n        }\n\n}\n\nbool Notepad::maybeSave()\n{\n    if(textField-&gt;document()-&gt;isModified())\n        {\n            QMessageBox::StandardButton ret;\n            ret = QMessageBox::warning(this,\n                                       tr(\"Warning!\"),\n                                       tr(\"Do you want to save the changes?\"),\n                                       QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel\n                                       );\n            if(ret==QMessageBox::Cancel)\n                return false;\n            if(ret==QMessageBox::Save)\n                return save();\n        }\n    return true;\n}\n\nbool Notepad::saveFile(const QString &amp;fileName)\n{\n    QFile file(fileName);\n    if(!file.open(QFile::WriteOnly | QFile::Text))\n        {\n            QMessageBox::warning(this,\n                                 tr(\"Error!\"),\n                                 tr(\"%1 file cannot be saved.\\nError:\").arg(fileName).arg(file.errorString())\n                                 );\n            return false;\n        }\n    QTextStream out(&amp;file);\n    #ifndef QT_NO_CURSOR\n    QApplication::setOverrideCursor(Qt::WaitCursor);\n    #endif\n\n    out &lt;&lt; textField-&gt;toPlainText(); \n\n    #ifndef QT_NO_CURSOR\n    QApplication::restoreOverrideCursor();\n    #endif\n\n    setCurrentFile(fileName);\n    statusBar()-&gt;showMessage(tr(\"File Saved.:)\"),3000);\n    return true;\n}\n\nvoid Notepad::loadFile(const QString &amp;fileName)\n{\n    QFile file(fileName);\n    if(!file.open(QFile::ReadOnly | QFile::Text))\n        {\n            QMessageBox::warning(this,\n                                 tr(\"error\"),\n                                 tr(\"error loading %1 file.\\nError:%2\").arg(fileName).arg(file.errorString())\n                                 );\n            return;\n        }\n    QTextStream in(&amp;file);\n\n    #ifndef QT_NO_CURSOR\n    QApplication::setOverrideCursor(Qt::WaitCursor);\n    #endif\n\n    textField-&gt;setPlainText(in.readAll());\n\n    #ifndef QT_NO_CURSOR\n    QApplication::restoreOverrideCursor();\n    #endif\n\n    setCurrentFile(fileName);\n    statusBar()-&gt;showMessage(tr(\"File Loaded!\"),3000);\n}\n\nvoid Notepad::setCurrentFile(const QString &amp;fileName)\n{\n    QString curFile = fileName;\n    textField-&gt;document()-&gt;setModified(false);\n    setWindowModified(false);\n\n    QString shownName = curFile;\n    if(curFile.isEmpty())\n        shownName = \"untitled.txt\";\n\n    setWindowFilePath(shownName);\n}\n\nQString Notepad::strippedName(const QString &amp;fullFilename)\n{\n    return QFileInfo(fullFilename).fileName();\n}\n</code></pre>\n\n<p>The main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QtGui&gt;\n#include \"notepad.h\"\n\n    int main(int argc, char **argv)\n    {\n        //Q_INIT_RESOURCE(application);\n\n        QApplication app(argc, argv);\n        //app.setStyle(\"motif\");                          //possible styles: windows,plastique,cde,motif etc.\n        app.setOrganizationName(\"Trolltech\");\n        app.setApplicationName(\"Application Example\");\n        Notepad mainWin;\n    #if defined(Q_OS_SYMBIAN)\n        mainWin.showMaximized();\n    #else\n        mainWin.show();\n    #endif\n\n        return app.exec();\n    }\n</code></pre>\n"},{"tags":["osx","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12727884,"title":"qmake and osx bundles","body":"<p>I want to place some extra information (text files, background pic or others) to an .app-bundle and then access these items from QT. Ok, it is possible to add them using the resource files, but I want to give the user the ability to change the contents relatively easy. The working approach is to do it manually - which is working. However, more beneficial would be if I could do this directly from the qmake .pro files. How do I do this in an elegant way?</p>\n"},{"tags":["c++","qt","gui","books","qml"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":97,"score":-2,"question_id":12732211,"title":"Reference book for learning Qt","body":"<p>Can anybody suggest me a good reference book for Qt Quick?\nI want to learn QML.\nI have \"c++ gui programming with qt4\" which is a good book.\nIs there any similar one for QML?</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":91,"score":6,"question_id":12730668,"title":"Why doesn't QString treat special characters correctly, when no QCoreApplication has been instanciated?","body":"<p>I started writing a very basic text manipulation application in Qt, without a GUI. \nMy text contained special characters, but somehow I was not able to print those special characters, no matter what I did. \nI then noticed, that after adding a <code>QCoreApplication</code> instance (which I had previously removed, because I thought I wouldn't need it), everything worked just as it should. </p>\n\n<p>Here is the code:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;QCoreApplication&gt;\n#include &lt;QString&gt;\n#include &lt;QDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    QString s(QString::fromUtf8(\"aä\\xc3\\xa4\")); // aää\n\n    qDebug() &lt;&lt; s;\n    qDebug() &lt;&lt; s.toAscii();\n    qDebug() &lt;&lt; s.toLatin1();\n    qDebug() &lt;&lt; s.toUtf8();\n    qDebug() &lt;&lt; s.toLocal8Bit();\n    qDebug(\"%s\", qPrintable(s));\n\n    qDebug(\"%i\", s.length());\n    qDebug(\"%i\", strlen(qPrintable(s)));\n\n    return 0;\n}\n</code></pre>\n\n<p>Output with <code>QCoreApplication</code> (everything works as it should):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"aää\" \n\"aää\" \n\"aää\" \n\"aÃ¤Ã¤\" \n\"aÃ¤Ã¤\" \naää\n3\n5\n</code></pre>\n\n<p>Output after commenting out the line, where <code>QCoreApplication</code> is defined (special characters are not shown anymore):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"a\" \n\"a\" \n\"a\" \n\"a\" \n\"a\" \na\n3\n1\n</code></pre>\n\n<p>Note, that already after calling <code>qPrintabable(s)</code>, the special characters are already removed. \nI tested this to be sure, that <code>QDebug</code> is not the problem.</p>\n\n<p>I also checked if the file is really encoded in UTF-8. </p>\n\n<p>Why doesn't QString treat special characters correctly, when no <code>QCoreApplication</code> has been instanciated?</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12730591,"title":"How to add stretchable spacer in Qtoolbar?","body":"<p>I want some of my toolbar actions appear left-bound and some right-bound. I Gtk I remember adding a stretchable (expandable) separator. How do I achieve that in Qt? </p>\n\n<p>I use Qt Creator but I am not afraid of editing source, so either solution is greatly appreciated. </p>\n"},{"tags":["sql","qt","qsqltablemodel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12730559,"title":"QSql : create table with specific types","body":"<p>How do I create a table in Qt (QSql) using QSqlTableModel or QSqlField?</p>\n\n<p>I want to create a table \"images\" with filename (type string), probability (type double or float) and seen (type bool). </p>\n\n<p>I already know how to create the table (<code>model.setTable(\"images\")</code>) and the <a href=\"http://qt-project.org/doc/qt-4.8/qsqltablemodel.html#details\" rel=\"nofollow\" title=\"QSqlTableModel #Details\">documentation</a> suggests using <code>setHeaderdata(0, Qt::Horizontal, \"filename\")</code>.</p>\n\n<p>How do I then enforce that the type is string and not-empty etc? Can I use QSqlField for that? If so, how?</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12712360,"title":"QtSingleApplication for PySide or PyQt","body":"<p>Is there a Python version of the C++ class <a href=\"http://doc.qt.digia.com/solutions/4/qtsingleapplication/qtsingleapplication.html\" rel=\"nofollow\"><code>QtSingleApplication</code></a> from <a href=\"http://qt.digia.com/Product/Qt-Add-Ons/Qt-Solutions-Archive/\" rel=\"nofollow\">Qt Solutions</a>?</p>\n\n<p><a href=\"http://doc.qt.digia.com/solutions/4/qtsingleapplication/qtsingleapplication.html\" rel=\"nofollow\"><code>QtSingleApplication</code></a> is used to make sure that there can never be more than one instance of an application running at the same time.</p>\n"},{"tags":["qt","dll","symbian","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12729772,"title":"\"Failed to create the process\" after adding a DLL to the project","body":"<p>[FYI: I've got the answer, and I'm in process of writing the solution. This post is only for reference for others with similar problem]</p>\n\n<hr>\n\n<p>I'm working on some small application on Symbian-Belle platform. Everything was doing well until I've hit a place where I had to parse a few JSON files. I've found a QJson library, which seemed very relevant and easy to use (although it seems to return everything as QVariantMap, which probalby is not that lightweight..).</p>\n\n<p>This library is however not provided in a precompiled form. It is source-only. Fortunatelly, it is prepared to compile under QtCreator's Symbian projects.</p>\n\n<p>After some initial setups and minor fixes, everything ran smoothly on the Simulator, so, the next step was to run it on the real device. Here some problems began. After building, linking, deploying and installing, the IDE told me:</p>\n\n<blockquote>\n  <p>Launch failed: Command answer [command error], 1 values(s) to request: 'C|4|Processes|start|\"\"|\"MyApp.exe\"|[\"\"]|[]|true'<br>\n  #0 {\"Code\":-46,Format=\"Failed to create the process (verify that the executable and all required DLLs have been transferred and that the process is not already running) (permission denied)\"}<br>\n  Error: 'Failed to create the process (<strong>verify that the executable and all required DLLs have been transferred and that the process is not already running) (permission denied)</strong>' Code: -46</p>\n</blockquote>\n\n<p>The launch process instantly was aborted. Of course the application was launching properly back when the json-related code and library was not yet added to the project..</p>\n\n<p>I've checked the suggested thing and the QJson library was indeed properly installed on the device, so it was not about missing files. Also, the application it self has been properly installed too: I could even try to run it manually. Doing that resulted in an error:</p>\n\n<blockquote>\n  <p>Unable to execute file for security reasons</p>\n</blockquote>\n\n<p>What is going on? How to fix it?</p>\n"},{"tags":["c++","qt","command","system"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":12696924,"title":"How to get the output of system() command qt c++?","body":"<p>I want to get the output of this command for example :</p>\n\n<pre><code>system(\"dir C:\\\");\n</code></pre>\n\n<p>or of :</p>\n\n<pre><code>QProcess::execute(\"cmd /c dir C:\\\");\n</code></pre>\n\n<p>How to do that ?</p>\n\n<p>Thanks !</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12728628,"title":"How bind \"Alt+space\" hotkey to the slot in Qt?","body":"<p>I am trying bind some \"actions\" (connect to slot) on this hotkey (Qt::ALT + Qt::Key_Space) without success (((((.<br>\nAnother combinations works fine without additional effort for example Qt::ALT+Qt::Key_Return.\n<code></p>\n\n<pre><code>  QShortcut* ptrHotKey = new QShortcut(QKeySequence(Qt::ALT + Qt::Key_Return), this);\n  connect(ptrHotKey, SIGNAL(activated()), this, SLOT(testSlot())); \n</code></pre>\n\n<p></code>\nAttempts catch in keyPressEvent not succeed, they even do not go through that handler.</p>\n\n<p>On Windows sytems by default they call system menu (\"Restore\", \"Move\", \"Size\", \"Minimize\", \"Maximize\", \"Close\").</p>\n"},{"tags":["image","qt","scrollbar","qlabel","qscrollarea"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":546,"score":0,"question_id":10981662,"title":"QLabel showing an image inside a QScrollArea","body":"<p>I've successfully implemented a Image Viewer (for DICOM) in Qt.\nI can see the image and I can zoom in and out correctly.</p>\n\n<p>Now, I want to see scroll bars if the image is too big to show when I zoom in.</p>\n\n<p>I've used the UI. I placed a <strong>QScrollArea</strong>. Inside, the <strong>QLabel</strong>.\nThe <em>verticalScrollBarPolicy</em> is <em>ScrollBarAsNeeded</em>.\nThe <em>horizontalScrollBarPolicy</em> is <em>ScrollBarAsNeeded</em>.</p>\n\n<p>The problem is: it doesn't work. I zoom in, but no scrollbar appears.</p>\n\n<h1>Second try: using a layout inside the QScrollArea.</h1>\n\n<p>So now there's a <strong>QWidget</strong> between the QScrollArea and the QLabel: a horizontal layout.\nOpened the same image, now I can see a vertical scroll bar on the right. The image is streched from left to right. When I zoom the image gets its correct proportion.</p>\n\n<p>BUT... I zoom out and the scroll bar is the same, even if I can see the whole image. The horizontal scroll bar never appears.</p>\n\n<p>Resizing the QLabel doesn't seem to affect. But if I resize the QScrollArea (resizing the main window) the horizontal scroll bar appears.</p>\n\n<h1>I've been checking some numbers:</h1>\n\n<h2>In the QScrollArea</h2>\n\n<ul>\n<li>Its size changes: below 599 width (why this number? I can't see it anywhere) the horizontal bar appears.</li>\n<li><em>sizeHint()</em> always returns the same values: 33x41</li>\n</ul>\n\n<h2>In the QLabel</h2>\n\n<ul>\n<li>The dimensions change, but that doesn't affect.</li>\n<li><em>sizeHint()</em> always returns the same values: 560x1558</li>\n</ul>\n\n<p>Here is the code in XML from the UI designer:</p>\n\n<pre><code>&lt;widget class=\"QWidget\" name=\"centralWidget\"&gt;\n   &lt;property name=\"autoFillBackground\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n   &lt;/property&gt;\n   &lt;layout class=\"QVBoxLayout\" name=\"verticalLayout\"&gt;\n    &lt;property name=\"margin\"&gt;\n     &lt;number&gt;0&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;item&gt;\n     &lt;widget class=\"QScrollArea\" name=\"scrollArea\"&gt;\n      &lt;property name=\"widgetResizable\"&gt;\n       &lt;bool&gt;true&lt;/bool&gt;\n      &lt;/property&gt;\n      &lt;property name=\"alignment\"&gt;\n       &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n      &lt;/property&gt;\n      &lt;widget class=\"QWidget\" name=\"scrollAreaWidgetContents\"&gt;\n       &lt;property name=\"geometry\"&gt;\n        &lt;rect&gt;\n         &lt;x&gt;0&lt;/x&gt;\n         &lt;y&gt;0&lt;/y&gt;\n         &lt;width&gt;637&lt;/width&gt;\n         &lt;height&gt;649&lt;/height&gt;\n        &lt;/rect&gt;\n       &lt;/property&gt;\n       &lt;layout class=\"QHBoxLayout\" name=\"horizontalLayout_2\"&gt;\n        &lt;item&gt;\n         &lt;widget class=\"QLabel\" name=\"miImagen\"&gt;\n          &lt;property name=\"sizePolicy\"&gt;\n           &lt;sizepolicy hsizetype=\"Preferred\" vsizetype=\"Preferred\"&gt;\n            &lt;horstretch&gt;0&lt;/horstretch&gt;\n            &lt;verstretch&gt;0&lt;/verstretch&gt;\n           &lt;/sizepolicy&gt;\n          &lt;/property&gt;\n          &lt;property name=\"autoFillBackground\"&gt;\n           &lt;bool&gt;true&lt;/bool&gt;\n          &lt;/property&gt;\n          &lt;property name=\"scaledContents\"&gt;\n           &lt;bool&gt;true&lt;/bool&gt;\n          &lt;/property&gt;\n          &lt;property name=\"alignment\"&gt;\n           &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n          &lt;/property&gt;\n         &lt;/widget&gt;\n        &lt;/item&gt;\n       &lt;/layout&gt;\n      &lt;/widget&gt;\n     &lt;/widget&gt;\n    &lt;/item&gt;\n   &lt;/layout&gt;\n  &lt;/widget&gt;\n</code></pre>\n\n<p>What am I missing? Thank you.</p>\n"},{"tags":["qt","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12727992,"title":"Printing VtkBmpWriter with QPrinter","body":"<p>I am able to save my render window as bitmap by doing:</p>\n\n<pre><code>vtkWindowToImageFilter *winToImg = vtkWindowToImageFilter::New();\nwinToImg-&gt;SetInput(mRenderWindow);\nvtkBMPWriter *writer = vtkBMPWriter::New();\nwriter-&gt;SetInput(winToImg-&gt;GetOutput());\nwriter-&gt;SetFileName(aFilename.c_str());\nwriter-&gt;Write();\n</code></pre>\n\n<p>and I am able to use the QPrinter to print a ready bitmap image:</p>\n\n<pre><code>QPrinter printer;\nQPrintDialog *dialog = new QPrintDialog(&amp;printer);\ndialog-&gt;setWindowTitle(tr(\"Print Document\"));\nif (dialog-&gt;exec() != QDialog::Accepted) {\n    return;\n}\nQImage testbild(\"C:\\\\test.bmp\");\nQPainter painter(&amp;printer);\npainter.drawImage(QPoint(0, 0), testbild);\npainter.end();\n</code></pre>\n\n<p>But I do not know how to combine both and print the image from vtkbmpwriter. How can I extract the bmp image from vtkbmpwriter and pass it to the painter/printer?</p>\n"},{"tags":["qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12705282,"title":"Use qjson in my Qt symbain app","body":"<p>I'm using Qt to develop a Symbian app.</p>\n\n<p>I downloaded qjson from the <a href=\"http://qjson.sourceforge.net/get_it/\" rel=\"nofollow\">link</a>. I followed the instructions in that link and yes, I have the qjson.sis file. Now I need to use it in my app. When I tried, I got this error. </p>\n\n<p>Launch failed: Command answer [command error], 1 values(s) to request: 'C|101|Processes|start|\"\"|\"MyProject.exe\"|[\"\"]|[]|true' \n{\"Code\":-46,Format=\"Failed to create the process (verify that the executable and all required DLLs have been transferred) (permission denied)\"}\nError: 'Failed to create the process (verify that the executable and all required DLLs have been transferred) (permission denied)' Code: -46</p>\n\n<p>And when I press the launch icon, it shows, \"Unable to execute file for security reasons\".</p>\n\n<p>Then I install the qjson.sis in my mobile and then tried to install my app, I got this error.</p>\n\n<p>:-1: error: Installation failed: 'Failed to overwrite file owned by another package: c:\\sys\\bin\\qjson.dll in ' Code: 131073; see <a href=\"http://wiki.forum.nokia.com/index.php/Symbian_OS_Error_Codes\" rel=\"nofollow\">http://wiki.forum.nokia.com/index.php/Symbian_OS_Error_Codes</a> for descriptions of the error codes</p>\n\n<p>In my .pro file I have this. </p>\n\n<pre><code>symbian: {\naddFiles.sources = qjson.dll\naddFiles.path = /sys/bin\nDEPLOYMENT += addFiles\n}\n\nsymbian: {\nLIBS +=  -lqjson\n}\n</code></pre>\n\n<p>Any ideas...?</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12723851,"title":"Use QML Webview to Download file","body":"<p>can I use webview QML component to download file and track url changes in the same ?\nHow to give path to save downloaded file ?</p>\n"},{"tags":["qt","printing","dialog","extending"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12723993,"title":"How to extend the Qt Print Dialog","body":"<p>Is it possible to extend the Qt print dialog (QPrintDialog) with additional UI elements, as it can be done in MFC via the PD_ENABLEPRINTTEMPLATE macro? See <a href=\"http://www.codeproject.com/Articles/2585/An-easy-way-to-customise-the-default-Print-dialog\" rel=\"nofollow\">this link</a>.</p>\n\n<p>I didn't find anything in the Qt documentation about this.</p>\n\n<p>It seems that Qt shows the native print dialog on Windows, which probably makes it even more difficult?</p>\n"},{"tags":["c++","qt","animation","qwidget"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12724104,"title":"Qt 4.7.4 QPropertyAnimation not working ","body":"<p>I'm trying to have animation on a button click event. But somehow the animation is not working. I have referred the Qt reference docs, but could not find the root cause which is causing the issue</p>\n\n<p>Below is sample code :</p>\n\n<pre><code>void MainWindow::AnimationClick()\n{\n    // define toolbar y movement positions for animation\n    TOOLBAR_Y_SHOWN = 0;\n    TOOLBAR_Y_HIDDEN = -m_AnimatedWidget-&gt;height();\n    m_AnimatedWidget = new AnimatedWidget(this);\n\n    QPropertyAnimation *m_ani = new QPropertyAnimation(m_AnimatedWidget, \"pos\", this);\n\n    m_ani-&gt;setDuration(500);\n\n    m_ani-&gt;setEndValue(QPoint(m_AnimatedWidget-&gt;pos().x(), TOOLBAR_Y_HIDDEN));\n    m_ani-&gt;setEasingCurve(QEasingCurve::InBack);\n\n    m_ani-&gt;start();\n}\n</code></pre>\n\n<p>With the above implementation nothing is happening on the click event.\nAny suggestions , Thanks.</p>\n"},{"tags":["qt","opengl","webkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12723697,"title":"Qt webkit as an overlay on top of opengl","body":"<p>I'm writing a game engine and using opengl/qt. I'm trying to use webkit as a 2D UI overlay for menus etc. I found some examples but none of them work for some reason. For example adding two widgets QGLWidget and a QWebView doesn't seem to work.\nHow should I do this without losing much performance?</p>\n"},{"tags":["c++","qt","icons","runtime","qtoolbar"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12701435,"title":"On Qt, how to change the icon of an action in the toolbar at runtime?","body":"<p>In a program which calculates abritary precision numbers. \nI have an action on the taskbar. </p>\n\n<p><code>QAction* button_stop_continue.</code> </p>\n\n<p>I've set the icon green icon in the beginning of the program, when calculations are being executed it should turn red and so on.</p>\n\n<p>I've already tried something like this:</p>\n\n<pre><code>connect(this, SIGNAL(startedComputing()), this, SLOT(turnIconRed()));\nconnect(this, SIGNAL(finishedComputing()), this, SLOT(turnIconGreen()));\n</code></pre>\n\n<p>the function turnIconRed is looking similar to this:</p>\n\n<pre><code>void turnIconRed()\n{\n    button_stop_continue-&gt;setIcon(QIcon(\"images/red-light.png\"));\n}\n</code></pre>\n\n<p>I've come up with some incredibly-ugly algorithms :S. Isn't there a straight-forward way to deal with that on Qt? Any ideas?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","qt4","qt-creator","qt4.8","qt4.6"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12707258,"title":"build a qt 4.6 from a qt 4.8","body":"<p>I have a project in <code>qt-creator</code>.<br>\nthat computer have <code>Qt: 4.8.2</code></p>\n\n<p>one of the computers i want to run the application on have <code>Qt: 4.6.2</code></p>\n\n<p>I can see that qt-creator have an option under the project for QtVersions,\nbut i only got one option there \"<code>Qt 4.8.1 (System)</code>\"</p>\n\n<p>Id like to have <code>Qt 4.6.x</code> as an option there too, how do i add/install that?</p>\n\n<p>Target computer:</p>\n\n<pre><code>kde4-config --version\nQt: 4.6.2\nKDE Development Platform: 4.4.2 (KDE 4.4.2)\nkde4-config: 1.0\n\nuname -a\nLinux fw-01 2.6.32-24-generic #41-Ubuntu SMP Thu Aug 19 01:12:52 UTC 2010 i686 GNU/Linux\n</code></pre>\n\n<p>Build computer:</p>\n\n<pre><code>kde4-config --version\nQt: 4.8.2\nKDE Development Platform: 4.8.5 (4.8.5)\nkde4-config: 1.0\n\nuname -a\nLinux rito 3.3.8-gentoo #3 SMP Thu Sep 13 10:11:22 CEST 2012 i686 AMD Athlon(tm) II X2 245 Processor AuthenticAMD GNU/Linux\n</code></pre>\n"},{"tags":["c++","qt","polymorphism","signals"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12708123,"title":"Qt fire different signal depending on parameter type","body":"<p>I need to fire different signal from SomeClass::fireSignal member function depending on it parameters type. The solution I see is to use Qt meta system. Is there more correct solution for such task? Please help. Thanks in advance.</p>\n\n<pre><code>class SomeClass : public QObject\n{\n    Q_OBJECT\npublic:\n    void fireSignal(BaseClass *param) {\n        if(param-&gt;metaObject-&gt;className() == \"DerivedClass1\") {\n            emit derivedClass1Signal(param)\n        }\n        if(param-&gt;metaObject-&gt;className() == \"SecondDerivedClass\") {\n            emit secondDerivedClassSignal(param)\n        }\n        if(param-&gt;metaObject-&gt;className() == \"OtherDerivedClass\") {\n            emit otherDerivedClassSignal(param)\n        }\n    }\nsignals:\n    void derivedClass1Signal(DerivedClass1 *param);\n    void secondDerivedClassSignal(SecondDerivedClass *param);\n    void otherDerivedClassSignal(OtherDerivedClass *param)\n};\n</code></pre>\n"},{"tags":["c++","qt","events","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12718296,"title":"Is there a way to use Qt without QApplication::exec()?","body":"<p>Is there a safe way to use Qt without calling QApplication::exec()? </p>\n\n<p>I have a number of different objects that are carrying out long-lived processes on multiple resources (at least one of them is communicating with a web application server). I'm making a GUI application that prompts the user for input at the right time for these different processes. I'd like to have my 'flow' logic - the logic that determines what to do next - in one place and not in a GUI object like a dialog class. I was thinking that I could do something like this:</p>\n\n<pre><code>...\n\nwait_dialog dlg;\ndlg.setModal( false );\ndlg.show(); // Should return...\n\nnetobject.start_long_lived_process_that_happens_on_other_thread( &amp;completion_callback );\nwhile ( !completion_callback_called() )\n{\n    qApp-&gt;processEvents();\n    netobject.pump_callbacks();\n    magically_avoid_busywait_while_still_servicing_qt_somehow();\n}\n\ndlg.hide();\n\n...\n</code></pre>\n\n<p>Is this safe, from Qt's point of view? Is there a 'good' way of implementing <code>magically_avoid_busywait_while_still_servicing_qt_somehow()</code>?</p>\n\n<p>What I'm trying to accomplish here is to write our processing flow in the most explicit way possible. I'd like a single function that does this:</p>\n\n<pre><code> show_a_non_modal_wait_dialog()\n\n start_some_processing_1()\n\n wait_for_processing_1_to_finish()\n\n dismiss_non_modal_wait_dialog()\n\n show_modal_input_dialog()\n\n if ( cancelled ) return\n\n show_a_non_modal_wait_dialog()\n\n start_some_processing_2()\n\n wait_for_processing_2_to_finish()\n\n dismiss_non_modal_wait_dialog()\n\n show_modal_input_dialog()\n\n if ( cancelled ) return\n\n ...\n</code></pre>\n\n<p>What I really want to avoid is kicking off and waiting for the processing inside Qt widgets and windows. Also, the processing objects themselves are entirely independent of Qt. I suppose what I'm trying to do is create a controller in a single function with a few helper callbacks and status variables.</p>\n"},{"tags":["multithreading","qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":303,"score":1,"question_id":11543298,"title":"Qt + OpenCV - Displaying images on QLabel","body":"<p>I'm trying to capture live view from camera, and redirecting it to show up on QLabel.\nBut only half view comes (see below):\n<img src=\"http://i.stack.imgur.com/n8xDJ.png\" alt=\"Screenshot\"></p>\n\n<p>The left hand side window, is shown using cv::imshow(), which works perfectly.\nI'm capturing the Mat in a different thread, and then emitting a signal with a Qimage as a parameter, and then setting the image to the QLabel in the slot.</p>\n\n<p>here's the code:</p>\n\n<pre><code>while(true){\n    cam &gt;&gt; mat;\n    cv::imshow(\"name\",mat);\n    emit send_UIupdate(mat2qimage(mat));\n}\n</code></pre>\n\n<p>and in the slot setting the image to Qlabel:</p>\n\n<pre><code>void Dialog::updateUI(const QImage &amp;img){\n    label-&gt;setPixmap(QPixmap::fromImage(img));\n}\n</code></pre>\n\n<p>using the below to convert Mat to QImage:</p>\n\n<pre><code>QImage camera::mat2qimage(const cv::Mat&amp; mat) {\n    cv::Mat rgb;\n    cv::cvtColor(mat, rgb, CV_BGR2RGB);\n    return QImage((const unsigned char*)(rgb.data), rgb.cols, rgb.rows, QImage::Format_RGB888);\n}\n</code></pre>\n\n<p><strong>Any suggestions, to solve this problem ??</strong></p>\n"},{"tags":["qt","localization","internationalization","english"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12712577,"title":"Qt Internationalization: What do you use as source text in your Qt application?","body":"<p>This question is about best practices. I am currently sticking my head into the Qt internationalization system. </p>\n\n<p>What do you use as source text in your Qt application?</p>\n\n<ol>\n<li>Do you write <strong>english text</strong> in your application code and use that one as the <strong>final language?</strong></li>\n<li>Or do you write english text, but still setup a <strong>dedicated translation file for the english language version</strong>, so that the text in your code is never shown to a customer?</li>\n<li>Or do you <strong>use IDs in your code</strong> (e.g. \"ID_ABOUT_US\"), so that the language files will never \"lose\" translations when changing the english text?</li>\n</ol>\n\n<p>Background: Let's say I use english as source language and have 5 more translation files for my application. Now it turns out that the english text is not well formulated and needs to be changed. Will I run into the problem that the other 5 translations \"lose\" this translation then after the change, due to the heuristic approach lupdate uses? Or do you typically see this as a benefit since the translations should then be reviewed as well?</p>\n\n<p>Very interested in your experiences!</p>\n\n<p>Greetings,</p>\n\n<p>Fabian</p>\n"},{"tags":["qt","menu"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":12480432,"title":"Qt vertical menu","body":"<p>I'm trying to create a vertical menu with a Qt application that would have the following example structure:</p>\n\n<pre>\n    Language\n      |--> Select\n         |--> English\n      |--> Load\n    Image\n      |--> Save Format\n         |--> JPEG\n         |--> Bitmap\n      |--> JPEG Quality\n         |--> Super High\n         |--> High\n         |--> Low\n</pre>\n\n<p>and so on. I'd ideally like to use <code>QMenuBar</code> to implement not only the top level menu items but all of the sub-menus as well. I would also like to make use of the signal/slots that can be used to trigger these various options. Some of the options are of the On and Off variety and being able to quickly reflect the selected choice with a checkmark or something would be ideal.</p>\n\n<p>I can layout the <code>QMenuBar</code> and have it show up either on top or bottom when housed within a <code>QVBoxLayout</code>. However, what I want to do is to change its orientation from horizontal to vertical. I'm a novice when it comes to Qt programming and my searching hasn't yielded the right functions or Widget to use to gain this functionality.</p>\n\n<p>All pointers and tips appreciated.</p>\n\n<p>Here is an image that shows what I'm trying to accomplish.</p>\n\n<p><img src=\"http://i.stack.imgur.com/gmT6I.jpg\" alt=\"menu structure\"></p>\n\n<p>The user has selected \"sensor display\" and is shown the 3 sub-options (pressure, pan &amp; tilt, radiation) and also by default is moved over to the first option (pressure) which happens to have 2 sub-options (on, off).</p>\n\n<p>The sub-menus all need to appear horizontally across as opposed to the \"tree view\" I've depicted in the text menu above.</p>\n\n<p>Regards</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12713673,"title":"QWidget in delegate: no repaint upon mouseover, therefore MouseOver state cannot be checked","body":"<p>It does work on Linux+KDE, but not on Windows/OSX/Linux + XFCE.</p>\n\n<p>I have a list view, the items are custom widgets, and the delegate for the list view's items does not get paint() calls if mouse is over the elements.</p>\n\n<p>Tried to simulate the event via css ( :hover ), but it seems it is not working for QWidgets.</p>\n\n<p>Am I missing something, or it's really a feature missing on platforms other than KDE?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12679464,"title":"Run an external application inside a qwidget","body":"<p>How can we embed an external application inside a QWidget?</p>\n\n<p>I have tried same using QX11EmbedContainer but getting error \"XEvent has not been declared\".</p>\n\n<p>I have tried below mentioned code ('this' represents a qwidget class reference )</p>\n\n<pre><code>     QX11EmbedContainer * container = new QX11EmbedContainer(this);\n     container-&gt;show();\n\n     QProcess * process = new QProcess(container);\n     QString executable(\"\\\"C:\\\\Program Files\\\\Windows Media Player\\\\wmplayer.exe\\\"\");\n\n     process-&gt;start(executable);\n\n     this-&gt;show();\n</code></pre>\n\n<p>container object i am trying to add to current tab of tabwidget object in which i want to run some external application(Application1).\nThis is my code</p>\n\n<pre><code>     QTabWidget *tabWidget = new QTabWidget;\n\n     /* Trying to add external appllication to a tab of tabwidget object */\n     QX11EmbedContainer * container = new QX11EmbedContainer(tabWidget-&gt;currentWidget());\n     container-&gt;show();\n\n     QProcess * process = new QProcess(container);\n     QString executable(\"/home/abhishek/practice/Applicaion1\");\n\n     process-&gt;start(executable);\n</code></pre>\n\n<p>Application1 gets executed but in a seperate window but i want it to run in my tab</p>\n"},{"tags":["windows","qt","exception","qt4","access-violation"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":55,"score":4,"question_id":12701541,"title":"Qt App works fine on MacOSX, Access Violation on Windows","body":"<p>So I've stumbled into a problem that I am not able to solve for a while. I'm writing a Qt application in C++, and have been developing on MacOSX, which it runs fine on. However, as I am testing the code in windows I'm running into the following access violation when I close OR cancel QDialog child that I have:</p>\n\n<p><code>Unhandled exception at 0x5ce6b1ea (QtGuid4.dll) in MyApp.exe: 0xC0000005: Access violation reading location 0xfeeefefa.</code></p>\n\n<p>Debugging this, I see that it crashes after a lot of Qt api calls, eventually making its way down to QWindowSurface_Raster.cpp. Here is the Qt library code that it crashes on:</p>\n\n<pre><code>#endif\n{\n    QPoint wOffset = qt_qwidget_data(widget)-&gt;wrect.topLeft();\n\n    HDC widget_dc = widget-&gt;getDC();\n\n    QRect wbr = br.translated(-wOffset);\n    BitBlt(widget_dc, wbr.x(), wbr.y(), wbr.width(), wbr.height(),\n/*CRASH HERE!*/   d-&gt;image-&gt;hdc, br.x() + offset.x(), br.y() + offset.y(), SRCCOPY);\n        widget-&gt;releaseDC(widget_dc);\n    }\n</code></pre>\n\n<p>And lastly here is my code where I call the qdialog:</p>\n\n<pre><code>void MainWindow::prefDialog()\n{\n        prefD = new PreferenceDialog(this);\n        prefD-&gt;exec();\n} /* crashes here, after I hit cancel/ok on dialog and it leaves exec */\n</code></pre>\n\n<p>PreferenceDialog.h:</p>\n\n<pre><code>class PreferenceDialog : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    PreferenceDialog(QWidget *parent);\n.....\n</code></pre>\n\n<p>PreferenceDialog.c</p>\n\n<pre><code>PreferenceDialog::PreferenceDialog(QWidget *parent) :\n    QDialog(parent)\n{\n....\nconnect(okayButton, SIGNAL(released()), this, SLOT(okayClicked()));\nconnect(addKeyButton, SIGNAL(released()), this, SLOT(addClicked()));\nconnect(cancelButton, SIGNAL(released()), this, SLOT(cancelClicked()));\n    ....\n</code></pre>\n\n<p>I can show you my PreferenceDialog code, or any other code, but I think it'll just bloat things up. PreferenceDialog doesn't do much other than shown, and I dont override any function like exec(), etc. The stack trace is pretty bloated too so I wont post for now, its simply a bunch of Qtguid4.dll calls after exec() finishes, (about 10) until it gets to that crash in QWindowRaster. </p>\n\n<p>Let me know if any other information is needed though. I'm pretty new at Qt so having a hard time figuring this out, any help would be greatly appreciated, Thanks!</p>\n"},{"tags":["python","qt","pyqt","close","destroy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12693407,"title":"Execute code when QWidget is actually destroyed, not just closed","body":"<p>I have created a custom <code>QDialog</code> class and overridden the <code>closeEvent</code> to just hide the dialog as it is a child of another widget. My dialog must only close when its parent is closed and not when it's accepted, rejected or the user clicks the close button.</p>\n\n<p>This all works fine but now I need to open a connection to a database and only close it when the dialog is destroyed not just when it's closed.</p>\n\n<p>My code:</p>\n\n<pre><code>from PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nimport sys\n\ndef Log_Closed():\n    print \"Bye bye\"\n\nclass My_dlg(QDialog):\n    def __init__(self, parent=None):\n        QDialog.__init__( self, parent )\n\n        #self.conn = open_connection()\n        print \"Connection Opened\"\n\n        close_btn  = QPushButton(\"Actually Close\")\n        QVBoxLayout(self).addWidget(close_btn)\n\n        close_btn.clicked.connect(self.Actually_Close)\n        self.destroyed.connect(Log_Closed)\n\n    def Actually_Close(self):\n        print \"Actually Close\"\n        self.parent().close()\n\n    def closeEvent(self, event):\n        if event.type() == QEvent.Close:\n            event.ignore()\n            self.hide()\n            print \"hidden\"\n\n    # And I guess I need something like\n    def destroyEvent(self, event):\n        #self.conn.close()\n        print \"Connection Closed\"\n        event.accept()\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    main= QMainWindow()\n    tsd = My_dlg(main)\n    tsd.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":5449,"score":4,"question_id":1332110,"title":"Selecting QComboBox in QTableWidget","body":"<p>One cell in each row of a QTableWidget contains a combobox</p>\n\n<pre><code>for (each row in table ... ) {\n   QComboBox* combo = new QComboBox();      \n   table-&gt;setCellWidget(row,col,combo); \t\t\t\n   combo-&gt;setCurrentIndex(node.type()); \t\t\t\t\n   connect(combo, SIGNAL(currentIndexChanged(int)),this, SLOT(changed(int)));\n   ....\n}\n</code></pre>\n\n<p>In the handler function ::changed(int index) I have </p>\n\n<pre><code>QComboBox* combo=(QComboBox*)table-&gt;cellWidget(_row,_col);  \ncombo-&gt;currentIndex()\n</code></pre>\n\n<p>To get back a copy of the combobox and get the new selection.<br />\nBut I can't get the row/col.<br />\nNone of the table cellXXXX signals is emitted when an embedded item is selected or changed and currentRow()/currentColumn() aren't set.</p>\n"},{"tags":["wpf","qt","widget","designer"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12709223,"title":"WPF Designer vs Qt Designer and Widget Parenting","body":"<p>I'm an experienced C++/Qt developer but a newbie C#/WPF developer, and I'm wondering if I'm missing something with the Visual Studio 2010 WPF designer. </p>\n\n<p>In Qt, all widgets have a parent. I found this concept very useful both when building GUI programmatically and in the designer. From what I remember from Qt desginer (unfortunately my new company doesn't support Qt), you could easily drag widgets around and they get re-parented correctly. If the designer somehow got confused, then you could just reset the parent to whatever you needed in the properties box. I find the analogous ideas in WPF difficult to execute. </p>\n\n<p>In the Visual Studio Designer, when I drag widgets around, they only sometimes get the right parent. More often than not, I have to go to the xaml and cut-and-paste the widget I was writing into a different part of the xaml so that it gets the right parent. I understand that the DOM tree of xaml nicely parallels the widget parent tree, but I found that was much more explicit in Qt. </p>\n\n<p>So, my question is: is this cut-and-paste approach to re-parenting in WPF xaml the best you can do or are there some nice designer tips-and-tricks that I am missing? </p>\n\n<p>Note: this question obviously doesn't apply when building GUI programmatically.</p>\n"},{"tags":["visual-studio","qt","static-linking"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":915,"score":1,"question_id":9858331,"title":"qmake gives code 3 when attempting to configure qt for static building","body":"<p>I have the latest Qt SDK. I'm trying to configure it for static building with VS2010 (dynamic linking works fine) I have it at this location: C:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010</p>\n\n<p>When I go there with the VS2010 command prompt and try to run configure -static, or configure -static I get some output but in the end it fails with</p>\n\n<pre><code>Generating Makefiles...\n WARNING: c:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\projects.pro:44: Unable to find file\n for inclusion src\\src.pro\nWARNING: c:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\projects.pro:46: Unable to find file\n for inclusion doc\\doc.pri\nReading C:/QtSDK/Desktop/Qt/4.8.0/msvc2010/tools\nReading C:/QtSDK/Desktop/Qt/4.8.0/msvc2010/translations/translations.pro\nReading C:/QtSDK/Desktop/Qt/4.8.0/msvc2010/examples\nReading C:/QtSDK/Desktop/Qt/4.8.0/msvc2010/demos\nQmake failed, return code 3\n</code></pre>\n\n<p>Please help</p>\n"},{"tags":["c++","qt","reference-counting"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12579091,"title":"QSharedData and inheritance","body":"<p>I'm trying to make a type system while using <code>QSharedData</code>. The idea is simple, there will be a number of different data types, each of which is going to be derived from the base abstract class. I want to use <code>QSharedData</code> to store the actual data in each of them, but each of the derived classes is going to have different data stored inside. I'm trying to make the most basic example now, and having some troubles. </p>\n\n<p>Let's say these are my base pure virtual classes:</p>\n\n<pre><code>class cAbstractData: public QSharedData\n{\npublic:\n    cAbstractData(){ }\n    virtual int type() = 0;\n};\n\nclass cAbstractValue\n{\npublic:\n    cAbstractValue(){ }\n    virtual int type() = 0;\nprotected:\n    QSharedDataPointer&lt;cAbstractData&gt;data_;\n};\n</code></pre>\n\n<p>Now let's say I want to make a class for representing a single value (as a minmalistic example that is).  I'm deriving the <code>cAtomicValue</code> from the base value class, and I am also deriving a data class to hold the value:</p>\n\n<pre><code>class cAtomicData:public cAbstractData\n{\npublic:\n    cAtomicData() { value_ = 0; }\n    int type(){ return 1; }\n    QVariant value_;//the actual value\n};\n\nclass cAtomicValue:public cAbstractValue\n{\npublic:\n    cAtomicValue() { \n        data_ = new cAtomicData;//creating the data object.\n    }\n    int type(){ return 1; }\n};\n</code></pre>\n\n<p>Now at this stage it works just fine, and in the debugger I can see the right pointer type. But now I want to add a function for setting and getting the value, and I fail to understand how to do it. Let's take the setter as an example. To set the value, we must access the <code>value_</code> member of <code>cAtomicData</code> class through the <code>data_</code> member of the <code>cAtomicValue</code> class. However since the <code>data_</code> holds a base-class pointer (<code>cAbstractData</code>), I'll have to cast it to the right type (<code>cAtomicData</code>) somehow. I tried doing this:</p>\n\n<pre><code>template&lt;class T&gt; void set( T value )\n{\n    static_cast&lt;cAtomicData*&gt;(data_.data())-&gt;value_ = value;\n}\n</code></pre>\n\n<p>it obviously doesn't work, because it called <code>detach()</code> and tries to make a copy of the base class which it can't since the base class is pure virtual. Then I tried to cast the pointer itself:</p>\n\n<pre><code>static_cast&lt;cAtomicData*&gt;(data_)-&gt;value_ = value;\n</code></pre>\n\n<p>but I'm getting an <code>invalid static_cast ...</code> error. </p>\n\n<p>How do I do it, and am I even doing it the right way fundamentally? </p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":12704436,"title":"labels should not zoom in Qgraphicsitem","body":"<p>i have 3 lakh of labels,i want to add them at differn zoom levels in QGraphicsItem paint event.</p>\n\n<pre><code>void WorldLabels::paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget *widget)\n{\n    painter-&gt;setBrush(Qt::red);\n    for(int i=0 ;i&lt;no.of labels ; i++)\n    {\n        painter-&gt;drawtext(position,label name);\n    }\n}\n</code></pre>\n\n<p>the problem is, when i zoom the item,the labels also getting zoom. i dont want that, i want to keep my label size as they are initially....</p>\n\n<p>can any one help me...............?</p>\n"},{"tags":["c++","qt","tcpclient"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12707215,"title":"tcp client using qt c++ returned error","body":"<p>this is my code </p>\n\n<pre><code>tcpclient::tcpclient(QObject* parent): QObject(parent)\n{\n  connect(&amp;client, SIGNAL(connected()),this, SLOT(startTransfer()));\n}\n\n\ntcpclient::~tcpclient()\n\n{\n\n  client.close();\n\n}\n\nvoid tcpclient::start(QString address, quint16 port)\n\n{\n\n  QHostAddress addr(address);\n\n  client.connectToHost(addr, port);\n\n}\n\nvoid tcpclient::startTransfer()\n\n {\n\n   client.write(\"hello world\", 12);\n   char buffer[1024]/* = \"Hello world\"*/;\n   connect(&amp;client, SIGNAL(readyRead()),this, SLOT(receivedata()));\n\n}\n\nvoid tcpclient::receivedata()\n\n{\n\n    char buffer[1024] = {0};\n    client.read(buffer, client.bytesAvailable());\n    cout &amp;lt;&amp;lt; buffer &amp;lt;&amp;lt; endl;\n    cout.flush();\n\n    client.write(\"inifinity sending\", 18);\n    connect(&amp;client, SIGNAL(readyRead()),this, SLOT(receivedata()));\n\n}\n\nvoid tcpclient::closing()\n\n{\n\n    cout&amp;lt;&amp;lt;\"closing\";\n\n    client.close();\n\n}\n</code></pre>\n\n<p>this client send strings to a server and the server is receiving it </p>\n\n<p>when i try it it send the first string hello world then send inifinity sending one time and receive the answer from the server then when try to send it again there is a Operating System error segmentation fault </p>\n\n<p>my operating system is LINUX</p>\n"},{"tags":["c++","qt","paintevent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12703679,"title":"How to write paintEvent() for Subclassed QComboBox","body":"<p>I SubClassed QComboBox in order to customize it. I wrote the following paintEvent() method to test to see that my style sheet was being applied properly before I started with the customization. However, if I use this paintEvent, the selected item is not being displayed(the already selected one -or- the one I newly select). </p>\n\n<pre><code>class MyComboBox: public QComboBox\n{\n    Q_OBJECT\npublic:\n    MyComboBox(QWidget *parent = 0): QComboBox(parent){}\n\n    virtual void paintEvent(QPaintEvent* pEvent)\n    {\n    QStylePainter painter(this);\n    QStyleOptionComboBox opt;\n    initStyleOption(&amp;opt);\n    painter.drawComplexControl(QStyle::CC_ComboBox, opt);\n    QVariant itemData = this-&gt;itemData( this-&gt;currentIndex(), Qt::DisplayRole);\n    if(!itemData.isNull() &amp;&amp; qVariantCanConvert&lt;QPen&gt;(itemData))\n        style()-&gt;drawItemText(&amp;painter,this-&gt;rect(),Qt::AlignLeft,(this-&gt;palette()), true, itemData.toString());\n    }\n};\n</code></pre>\n\n<p>How do I fix the paintEvent? Also, is there documentation on the paintEvent for different Qt Controls?</p>\n"},{"tags":["c++","qt","opencv"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":176,"score":1,"question_id":12495072,"title":"Qt + OpenCV grayscale error","body":"<p>I been trying to make a simple interface for an image processing task using OpenCV with C++ using Qt for the GUI.\nI'm able to load the image through the GUI but when I press the pushbutton_3,\nto convert the image to grayscale gives an error regarding OpenCV.\nI'm sure I'm doing something wrong. Can some one give me a help?</p>\n\n<p>Please see below the files:</p>\n\n<pre><code>//mainwindow.h\n\n#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QFileDialog&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;vector&gt;\n\n#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/core/types_c.h&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_pushButton_clicked();\n\n    void on_pushButton_2_clicked();\n\n    void on_pushButton_3_clicked();\n\n\n\n\nprivate:\n    Ui::MainWindow *ui;\n    //Images variables\n    cv::Mat image_Idl;\n    cv::Mat image_Lit;\n    cv::Mat image_Idl_G;\n    cv::Mat image_Lit_G;\n    double threshHold;\n\n};\n\n#endif // MAINWINDOW_H\n\n\n//mainwindow.cpp\n#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;iostream&gt;\n#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/core/types_c.h&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;QSpinBox&gt;\n#include &lt;QSlider&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    ui-&gt;horizontalSlider-&gt;setRange(0,255);\n    ui-&gt;spinBox-&gt;setRange(0,255);\n\n    connect(ui-&gt;horizontalSlider,SIGNAL(valueChanged(int)),ui-&gt;spinBox,SLOT(setValue(int)));\n    connect(ui-&gt;spinBox,SIGNAL(valueChanged(int)),ui-&gt;horizontalSlider,SLOT(setValue(int)));\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    QString fileName = QFileDialog::getOpenFileName(this,tr(\"Load Lit Image\"),\".\",tr(\"Image Files (*.png *.jpg *.jpeg *.bmp)\"));\n    image_Lit = cv::imread(fileName.toAscii().data());\n    cv::namedWindow(\"Lit Image\");\n    cv::imshow(\"Lit Image\", image_Lit);\n}\n\nvoid MainWindow::on_pushButton_2_clicked()\n{\n    QString fileName = QFileDialog::getOpenFileName(this,tr(\"Load Lit Image\"),\".\",tr(\"Image Files (*.png *.jpg *.jpeg *.bmp)\"));\n    image_Idl = cv::imread(fileName.toAscii().data());\n    cv::namedWindow(\"Ideal Lit\");\n    cv::imshow(\"Ideal Lit\", image_Idl);\n\n}\n\n\n\n\n\n\nvoid MainWindow::on_pushButton_3_clicked()\n{\n    //Converstions\n\n\n    //Convert Lit to gray\n\n\n\n        cv::cvtColor(image_Lit, image_Lit_G,CV_RGB2GRAY);\n\n    //Convert Ideal gray\n\n\n        cv::cvtColor(image_Idl, image_Idl_G,CV_RGB2GRAY);\n\n\n      //Threshold the Images to a designated value\n                // Lit\n\n        threshHold = ui-&gt;horizontalSlider-&gt;value();\n\n          cv::threshold(image_Lit_G,image_Lit_G, threshHold,255,cv::THRESH_BINARY);\n          cv::namedWindow(\"Gray Scaled Image\");\n          cv::imshow(\"Gray Scaled Image\", image_Lit_G);\n\n\n}\n</code></pre>\n\n<p>Error from the compiler:</p>\n\n<p>Invalid parameter passed to C runtime function.\nInvalid parameter passed to C runtime function.\nOpenCV Error: Assertion failed (scn == 3 || scn == 4) in cvtColor, file C:\\OpenCV\\modules\\imgproc\\src\\color.cpp, line 2834\nThe program has unexpectedly finished.</p>\n\n<p>Pop up window error:</p>\n\n<p>Microsoft Visual C++</p>\n\n<p>This application as requested to terminate in an unusual way.</p>\n"},{"tags":["json","qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12696203,"title":"Getting error while passing a QString object to Parser::parse()","body":"<p>I am reading a JSON file using Qfile. Storing it in to a <code>Qstring</code> object. While passing the <code>QStrin</code>g object to <code>Parser::parse()</code>, it is showing the compilation error as The function <code>parse()</code> only accepts <code>QIODevice*</code> or <code>const QByteArray&amp;</code> as first argument.</p>\n\n<p>The exact error message is:</p>\n\n<pre><code>no matching function for call to QJson::Parser::(QString,bool*)\n\ncandidates are Qvariant QJson::Parser::parse(QIODevice*,bool*)\n\nnote QVariant Qjson::Parser::parse(const QByteArray&amp;,bool*)\n</code></pre>\n\n<p>I tried to cast <code>QString</code> to <code>QIODevice</code> and <code>QByteArray</code>, but all in vain.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":95,"score":-2,"question_id":9686983,"title":"Painting on SVG file..Using mouse Events..?","body":"<p>Well, I’m able to load and save the SVG contents to a file. Really thank you for that.</p>\n\n<p>But now next step eludes me that how can I do some painting using mouse events (Even a simple line)..and again the contents of painting may be a line or something must be SVG again..!</p>\n\n<p>Can anybody help please..??</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12695172,"title":"Compile my QIBASE plugin under Mac OS","body":"<p>I've got a problem, when I debug my project with my QIBASE plugin using Qt, I have this bug:</p>\n\n<blockquote>\n  <p>the plugin '/Users/dani/QtSDK/Desktop/Qt/4.8.1/gcc/plugins/sqldrivers/libqsqlibase_debug.dylib' uses incompatible Qt library. Expected build key \"macosx macx-cocoa g++-4 full-config\", got \"macosx macx-cocoa g++-4 no-pkg-config\"</p>\n</blockquote>\n\n<p>What is the problem?</p>\n"},{"tags":["c++","qt","visual-studio-2008","qt-creator","pantheios"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12406045,"title":"Pantheios in Qt creator with VS C++ 2008 compiler","body":"<p>I can't compile my project that uses <strong>Pantheios</strong> (version 1.0.1-beta210) logger in <strong>Qt Creator</strong> (creator 2.5.2 + SDK 4.8.2 compiled from sources with VS2008 compiler) with <strong>VS2008 C++ compiler</strong>.\nBut it works with Visual Studio 2008!</p>\n\n<ol>\n<li><p>First, I've compiled Pantheios library as it should be using VS command line and nmake with path <code>pantheios_path\\build\\vc9\\</code></p></li>\n<li><p>Then I have written a simple Qt program using VS2008 with Qt Addin and it works fine:</p>\n\n<pre><code>#include &lt;pantheios/pantheios.hpp&gt;\n#include &lt;pantheios/inserters/args.hpp&gt;\n#include &lt;pantheios/backends/bec.WindowsConsole.h&gt;\n\n#include &lt;pantheios/implicit_link/core.h&gt;\n#include &lt;pantheios/implicit_link/fe.simple.h&gt;\n#include &lt;pantheios/implicit_link/be.WindowsConsole.h&gt;\n\n#include &lt;QApplication&gt;\n#include \"MainWindow.h\"\n\nextern \"C\" const char PANTHEIOS_FE_PROCESS_IDENTITY[] = PANTHEIOS_LITERAL_STRING(\"play.with.logger\");\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    pantheios::log(pantheios::debug, \"debug processing condition\");\n\n    return a.exec();\n}\n</code></pre></li>\n<li><p>But when I export it to Qt Creator project it doesn't want to link with errors:</p>\n\n<pre><code>pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegCloseKey@4 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegCloseKey@4\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegQueryValueExA@24 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegQueryValueExA@24\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegOpenKeyA@12 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegOpenKeyA@12\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__DeregisterEventSource@4 referenced in function _pantheios_onBailOut3\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__ReportEventA@36 referenced in function _pantheios_onBailOut3\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegisterEventSourceA@8 referenced in function _pantheios_onBailOut3\ndebug\\Logging3.exe : fatal error LNK1120: 6 unresolved externals\n</code></pre>\n\n<p>By the way, in <code>project.pro</code> file I set:</p>\n\n<pre><code>...\n    INCLUDEPATH += $(STLSOFT)/include \\\n               $(PANTHEIOS_ROOT)/include\n\n    LIBS += -L$(PANTHEIOS_ROOT)/lib\n...\n</code></pre></li>\n<li><p>Also I have tryed to change LIBS variable following way:</p>\n\n<pre><code>LIBS += d:\\workspaces\\VS\\pantheios-1.0.1-beta210_32\\lib\\pantheios.1.util.vc9.dll.debug.lib \\\n    d:\\workspaces\\VS\\pantheios-1.0.1-beta210_32\\lib\\pantheios.1.core.vc9.dll.debug.lib \\\n    d:\\workspaces\\VS\\pantheios-1.0.1-beta210_32\\lib\\pantheios.1.fe.simple.vc9.dll.debug.lib \\\n    d:\\workspaces\\VS\\pantheios-1.0.1-beta210_32\\lib\\pantheios.1.bec.WindowsConsole.vc9.dll.debug.lib \\\n    d:\\workspaces\\VS\\pantheios-1.0.1-beta210_32\\lib\\pantheios.1.be.WindowsConsole.vc9.dll.debug.lib\n</code></pre>\n\n<p>And get this:</p>\n\n<pre><code>pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegCloseKey@4 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegCloseKey@4\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegQueryValueExA@24 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegQueryValueExA@24\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegOpenKeyA@12 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_\npantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegOpenKeyA@12\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__DeregisterEventSource@4 referenced in function _pantheios_onBailOut3\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__ReportEventA@36 referenced in function _pantheios_onBailOut3\npantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegisterEventSourceA@8 referenced in function _pantheios_onBailOut3\ndebug\\Logging3.exe : fatal error LNK1120: 6 unresolved externals\n</code></pre></li>\n</ol>\n\n<p>I also tried different combinations of :</p>\n\n<pre><code>LIBS += -L$(PANTHEIOS_ROOT)/lib -llibname_without_extension\n</code></pre>\n\n<p>Can anyone give me a helpful advice? Maybe someone use Pantheios under Qt Creator...</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12667664,"title":"QStringList.indexOf() not returning correct value","body":"<p>I have a line in a file which is like this:</p>\n\n<pre><code>DEF PatientLoadView Group {\n</code></pre>\n\n<p>I am trying to parse the file to get the word after the word \"DEF\" in the above line.\nI am trying to find split the line using string.split() and then use indexOf function of QStringList class to find the index of \"DEF\" and then get the word next to it. But the indexOf function returns -1 for this line. For other such lines, it returns correct value. What could be the problem?\nMy code is as follows:</p>\n\n<pre><code>QString line = in.readLine();\nif(line.contains(\"DEF\"))\n{\n    QStringList lineSplit = line.split(\" \");\n    int index = lineSplit.indexOf(\"DEF\",0);\n    QString nodeName = lineSplit[index+1];\n</code></pre>\n"},{"tags":["qt","table","user-interface","widget","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12701413,"title":"QTableWidget::item() QTableWidget::cellWidget ()?","body":"<p>Does anyone know the relation between return value of </p>\n\n<pre><code>QTableWidget::item(x, y) \n</code></pre>\n\n<p>and</p>\n\n<pre><code> QTableWidget::cellWidget (x, y)\n</code></pre>\n\n<p>in the same QTableWidget and same row.column.</p>\n"},{"tags":["c++","qt","source-code","game"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12700426,"title":"Qix Source code","body":"<p>I need to make a project - small game with a Qix-style gameplay. Basically it's a cursor that runs on the screen and reveals the picture behind (or fills the screen) until you fill about 80% of the screen. Other games like this are xonix, Gals Panic, Volfied etc. <br />\nI'm using Qt, but basically what I'm looking for is a simple c++ source code example or a detailed Pseudocode, so I can get a good start, but since this game is... pretty old, it's hard to find something like that. Can you point me to one, by any chance?<br/><br/>\nThanks!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1847,"score":0,"question_id":3516039,"title":"How do I make Qt dialog get info while locking main window from user?","body":"<p>I have a Qt main window that will pop up a dialog box that has an OK and Cancel button. This dialog has a simple spinner that asks a user for a number that should be returned to the main window when OK or Cancel is pressed (for cancel, it will just send back -1).</p>\n\n<p>I thought about using code in a signal in mainWindow.cpp like so:</p>\n\n<pre><code>void mainWindow::slot_openNumberDlg(){\n    // Create a new dialog\n    numberDlg dlg( this );\n\n    // Show it and wait for Ok or Cancel\n    if( dlg.exec() == QDialog::Accepted ){\n        return;\n    }\n}\n</code></pre>\n\n<p>But how would I return the value of the spinner in the dialog back to main window if it is destroyed when the button is pressed?</p>\n\n<p>I also thought about an alternative solution where I would initialize the dialog in mainWindow's constructor, but it isn't shown until a signal activated a slot in mainWindow.cpp like so:</p>\n\n<pre><code>// Create as pointer in main.h:\nnumberDlg *dlg;\n\n// Initialize pointer and setup listener in constructor (main.cpp):\nmainWindow::mainWindow(){\n    dlg = new numberDlg();\n    QObject::connect( dlg, SIGNAL( sig_retVal(int) ), ui-&gt;widget, SLOT( slot_showNum(int) ) );\n}\n\n// Make a function to handle show/close:\nvoid mainWindow::slot_numberOpenClose(bool trigger){\n    if(trigger){\n        dlg-&gt;show();\n    } else {\n    dlg-&gt;close();\n    }\n}\n</code></pre>\n\n<p>The above code would be able to send the number from the dialog's spinner to mainWindow using a signal/slot, but it won't lock out mainWindow. I do not want the user to continue using mainWindow until the dialog has been accepted or rejected.</p>\n\n<p>Any ideas on how I can lock the main window and send a number back to main on dialog close?</p>\n"},{"tags":["windows","qt","dll","3rd-party"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12604913,"title":"Qt Creator Cannot Find 3rd Party DLLs (Windows)","body":"<p>I am trying to port a Unix Qt app that uses ffmpeg and OpenCV over to Windows. </p>\n\n<p>Everything builds correctly, but launching the application from Qt Creator results in this message: </p>\n\n<pre><code>The program has unexpectedly finished.\n</code></pre>\n\n<p>Attempting to debug results in a message box:</p>\n\n<pre><code>During startup program exited with code 0xc0000135.\n</code></pre>\n\n<p>I know that these two messages correspond to missing dependencies, so I tried placing the ffmpeg and OpenCV dlls in the run directory. Interestingly, I can now run the application by double-clicking the executable in explorer, but I am still unable to execute it from Qt Creator. The app has some other issues, so I need to debug. </p>\n\n<p>Does anybody know what might be going wrong here? Thank you.</p>\n"},{"tags":["python","qt","process","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12697744,"title":"PyQT : send keystrokes to stdin of process","body":"<p>I'm trying to send each keystroke typed to a process run with QProcess, but the chars don't seem to be getting through.  The (quickly hacked up) code is:</p>\n\n<pre>\n<code>\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# Form implementation generated from reading ui file 'q4testgui.ui'\n#\n# Created: Fri Sep 21 11:53:03 2012\n#      by: PyQt4 UI code generator 4.9.1\n#\n# WARNING! All changes made in this file will be lost!\n\nimport sys\nimport re\nfrom subprocess import Popen, PIPE\nfrom PyQt4 import QtCore, QtGui\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    _fromUtf8 = lambda s: s\n\nclass Ui_MainWindow(QtGui.QMainWindow):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(788, 664)\n        self.centralwidget = QtGui.QWidget(MainWindow)\n        self.centralwidget.setObjectName(_fromUtf8(\"centralwidget\"))\n        self.runBdiTestBtn = QtGui.QPushButton(self.centralwidget)\n        self.runBdiTestBtn.setGeometry(QtCore.QRect(20, 10, 161, 61))\n        self.runBdiTestBtn.setToolTip(_fromUtf8(\"Run BDI tests.  Ensure the BDI and ethernet cable are connected to the Talisman.\"))\n        self.runBdiTestBtn.setStatusTip(_fromUtf8(\"\"))\n        self.runBdiTestBtn.setObjectName(_fromUtf8(\"runBdiTestBtn\"))\n        self.textEdit = QtGui.QTextEdit(self.centralwidget)\n        self.textEdit.setGeometry(QtCore.QRect(20, 350, 751, 281))\n        self.textEdit.setToolTip(_fromUtf8(\"\"))\n        self.textEdit.setObjectName(_fromUtf8(\"textEdit\"))\n        self.label = QtGui.QLabel(self.centralwidget)\n        self.label.setGeometry(QtCore.QRect(20, 330, 64, 17))\n        self.label.setObjectName(_fromUtf8(\"label\"))\n        self.clearBtn = QtGui.QPushButton(self.centralwidget)\n        self.clearBtn.setGeometry(QtCore.QRect(80, 320, 81, 28))\n        self.clearBtn.setObjectName(_fromUtf8(\"clearBtn\"))\n        self.setEnvBtn = QtGui.QPushButton(self.centralwidget)\n        self.setEnvBtn.setGeometry(QtCore.QRect(20, 250, 161, 61))\n        self.setEnvBtn.setToolTip(_fromUtf8(\"Set environment variables on the Talisman.\"))\n        self.setEnvBtn.setStatusTip(_fromUtf8(\"\"))\n        self.setEnvBtn.setObjectName(_fromUtf8(\"setEnvBtn\"))\n        self.eth0Addr1 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr1.setGeometry(QtCore.QRect(270, 250, 31, 27))\n        self.eth0Addr1.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr1.setObjectName(_fromUtf8(\"eth0Addr1\"))\n        self.label_3 = QtGui.QLabel(self.centralwidget)\n        self.label_3.setGeometry(QtCore.QRect(190, 250, 71, 29))\n        self.label_3.setObjectName(_fromUtf8(\"label_3\"))\n        self.label_4 = QtGui.QLabel(self.centralwidget)\n        self.label_4.setGeometry(QtCore.QRect(190, 280, 71, 29))\n        self.label_4.setObjectName(_fromUtf8(\"label_4\"))\n        self.eth0Addr2 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr2.setGeometry(QtCore.QRect(310, 250, 31, 27))\n        self.eth0Addr2.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr2.setObjectName(_fromUtf8(\"eth0Addr2\"))\n        self.eth0Addr3 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr3.setGeometry(QtCore.QRect(350, 250, 31, 27))\n        self.eth0Addr3.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr3.setObjectName(_fromUtf8(\"eth0Addr3\"))\n        self.eth0Addr4 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr4.setGeometry(QtCore.QRect(390, 250, 31, 27))\n        self.eth0Addr4.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr4.setText(_fromUtf8(\"\"))\n        self.eth0Addr4.setObjectName(_fromUtf8(\"eth0Addr4\"))\n        self.eth0Addr5 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr5.setGeometry(QtCore.QRect(430, 250, 31, 27))\n        self.eth0Addr5.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr5.setText(_fromUtf8(\"\"))\n        self.eth0Addr5.setObjectName(_fromUtf8(\"eth0Addr5\"))\n        self.eth0Addr6 = QtGui.QLineEdit(self.centralwidget)\n        self.eth0Addr6.setGeometry(QtCore.QRect(470, 250, 31, 27))\n        self.eth0Addr6.setToolTip(_fromUtf8(\"\"))\n        self.eth0Addr6.setText(_fromUtf8(\"\"))\n        self.eth0Addr6.setObjectName(_fromUtf8(\"eth0Addr6\"))\n        self.eth1Addr5 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr5.setGeometry(QtCore.QRect(430, 280, 31, 27))\n        self.eth1Addr5.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr5.setText(_fromUtf8(\"\"))\n        self.eth1Addr5.setObjectName(_fromUtf8(\"eth1Addr5\"))\n        self.eth1Addr4 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr4.setGeometry(QtCore.QRect(390, 280, 31, 27))\n        self.eth1Addr4.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr4.setText(_fromUtf8(\"\"))\n        self.eth1Addr4.setObjectName(_fromUtf8(\"eth1Addr4\"))\n        self.eth1Addr3 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr3.setGeometry(QtCore.QRect(350, 280, 31, 27))\n        self.eth1Addr3.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr3.setObjectName(_fromUtf8(\"eth1Addr3\"))\n        self.eth1Addr6 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr6.setGeometry(QtCore.QRect(470, 280, 31, 27))\n        self.eth1Addr6.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr6.setText(_fromUtf8(\"\"))\n        self.eth1Addr6.setObjectName(_fromUtf8(\"eth1Addr6\"))\n        self.eth1Addr2 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr2.setGeometry(QtCore.QRect(310, 280, 31, 27))\n        self.eth1Addr2.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr2.setObjectName(_fromUtf8(\"eth1Addr2\"))\n        self.eth1Addr1 = QtGui.QLineEdit(self.centralwidget)\n        self.eth1Addr1.setGeometry(QtCore.QRect(270, 280, 31, 27))\n        self.eth1Addr1.setToolTip(_fromUtf8(\"\"))\n        self.eth1Addr1.setObjectName(_fromUtf8(\"eth1Addr1\"))\n        self.runUbootTestsBtn = QtGui.QPushButton(self.centralwidget)\n        self.runUbootTestsBtn.setGeometry(QtCore.QRect(20, 80, 161, 61))\n        self.runUbootTestsBtn.setToolTip(_fromUtf8(\"Run u-boot tests.  Ensure a serial cable is connected from the test PC to the Talisman.\\nThese tests take approx. 10 minutes to run.\"))\n        self.runUbootTestsBtn.setStatusTip(_fromUtf8(\"\"))\n        self.runUbootTestsBtn.setObjectName(_fromUtf8(\"runUbootTestsBtn\"))\n        self.runLinuxTestsBtn = QtGui.QPushButton(self.centralwidget)\n        self.runLinuxTestsBtn.setGeometry(QtCore.QRect(20, 150, 161, 61))\n        self.runLinuxTestsBtn.setToolTip(_fromUtf8(\"Run Linux tests.  Ensure both ethernet cables are connected to the Talisman.\"))\n        self.runLinuxTestsBtn.setStatusTip(_fromUtf8(\"\"))\n        self.runLinuxTestsBtn.setObjectName(_fromUtf8(\"runLinuxTestsBtn\"))\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtGui.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 788, 25))\n        self.menubar.setObjectName(_fromUtf8(\"menubar\"))\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtGui.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(_fromUtf8(\"statusbar\"))\n        MainWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        MainWindow.setWindowTitle(QtGui.QApplication.translate(\"MainWindow\", \"Talisman Test Suite\", None, QtGui.QApplication.UnicodeUTF8))\n        self.runBdiTestBtn.setText(QtGui.QApplication.translate(\"MainWindow\", \"Run BDI Tests\", None, QtGui.QApplication.UnicodeUTF8))\n        self.label.setText(QtGui.QApplication.translate(\"MainWindow\", \"Output\", None, QtGui.QApplication.UnicodeUTF8))\n        self.setEnvBtn.setText(QtGui.QApplication.translate(\"MainWindow\", \"Set Env. Variables\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth0Addr1.setText(QtGui.QApplication.translate(\"MainWindow\", \"3c\", None, QtGui.QApplication.UnicodeUTF8))\n        self.label_3.setText(QtGui.QApplication.translate(\"MainWindow\", \"Eth 0 MAC\", None, QtGui.QApplication.UnicodeUTF8))\n        self.label_4.setText(QtGui.QApplication.translate(\"MainWindow\", \"Eth 1 MAC\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth0Addr2.setText(QtGui.QApplication.translate(\"MainWindow\", \"98\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth0Addr3.setText(QtGui.QApplication.translate(\"MainWindow\", \"bf\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth1Addr3.setText(QtGui.QApplication.translate(\"MainWindow\", \"bf\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth1Addr2.setText(QtGui.QApplication.translate(\"MainWindow\", \"98\", None, QtGui.QApplication.UnicodeUTF8))\n        self.eth1Addr1.setText(QtGui.QApplication.translate(\"MainWindow\", \"3c\", None, QtGui.QApplication.UnicodeUTF8))\n        self.runUbootTestsBtn.setText(QtGui.QApplication.translate(\"MainWindow\", \"Run UBoot Tests\", None, QtGui.QApplication.UnicodeUTF8))\n        self.runLinuxTestsBtn.setText(QtGui.QApplication.translate(\"MainWindow\", \"Run Linux Tests\", None, QtGui.QApplication.UnicodeUTF8))\n        self.clearBtn.setText(QtGui.QApplication.translate(\"MainWindow\", \"Clear\", None, QtGui.QApplication.UnicodeUTF8))\n\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self, parent)\n        self.setupUi(self)\n        self.process = QtCore.QProcess(self)\n        self.connect(self.runBdiTestBtn, QtCore.SIGNAL('clicked()'), self.runBdiTests)\n        self.connect(self.runUbootTestsBtn, QtCore.SIGNAL('clicked()'), self.runUbootTests)\n        self.connect(self.runLinuxTestsBtn, QtCore.SIGNAL('clicked()'), self.runLinuxTests)\n        self.connect(self.clearBtn, QtCore.SIGNAL('clicked()'), self.clear)\n\n        self.textEdit.installEventFilter(self)\n\n    def runBdiTests(self):\n        self.process.readyReadStandardOutput.connect(self.readReady)\n        self.process.start(\"make\", (\"clean\", \"check_bdi\"))\n\n    def runUbootTests(self):\n        self.process.readyReadStandardOutput.connect(self.readReady)\n        self.process.start(\"make\", (\"clean\", \"check_uboot\"))\n\n    def runLinuxTests(self):\n        self.process.readyReadStandardOutput.connect(self.readReady)\n        self.process.start(\"make\", (\"clean\", \"check_linux\"))\n\n    def clear(self):\n        self.textEdit.clear()\n\n    # Handler for reading stdout from test process\n    def readReady(self):\n        chunk = self.process.readAllStandardOutput()\n        self.textEdit.append(str(chunk).rstrip())\n        self.textEdit.moveCursor(QtGui.QTextCursor.End) \n        print chunk,\n\n    # Event handler for intercepting keystrokes and sending them to stdin of the test process\n    def eventFilter(self, source, event):\n        if (event.type() == QtCore.QEvent.KeyPress):\n            self.textEdit.insertPlainText(str(event.text()))\n            self.process.writeData(event.text())\n            return True\n        else:\n            return QtGui.QMainWindow.eventFilter(self, source, event)\n\nif __name__ == \"__main__\":\n    app = QtGui.QApplication(sys.argv)\n    myapp = Ui_MainWindow()\n    myapp.show()\n    sys.exit(app.exec_())\n</code>\n</pre>\n"},{"tags":["qt","windows-8","touch","drag","qlistview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12697660,"title":"Can't see Qt element while dragging using touch interface","body":"<p>I'm working on a Qt application that supports drag and drop of certain items among four QListView widgets with drag&amp;drop enabled. The problem I'm seeing on a Windows 8 touch enabled device is that, when I use the mouse to drag&amp;drop, the concerned element is correctly drawn while dragging. On the other hand, if I use my finger to drag it, I don't see it being dragged, but the drag&amp;drop action is carried away properly (the object ends up in the right destination).</p>\n\n<p>I'm wondering if there's a paint event that should be triggered but is somehow skipped? Other events (dragEnter and so on) are triggered as expected; just no drawing of the dragged element.</p>\n"},{"tags":["c++","qt","serial-port"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":893,"score":1,"question_id":1135392,"title":"serial communication anomaly in Linux?","body":"<p>I am using select call to communicate with an external subsystem (protocol for the same has been provided and implemented as a Qt thread) using serial port RS232. We do not have the hardware for the external systems and thus we have developed in house simulators using .Net 2.0 and C# to mimic the behavior of the underlying subsystem hardware. There are 5 different subsystem that communicate with our application. Every interface for the subsystem is implemented as a Qt thread. Since this isn't a real time application, and we do not have the actual hardware when we communicate using simulators, all systems do find for 24 hrs or so and after that the communication goes up and down and ultimately all communication breaks down, but when I restart the simulator machine without closing my application, things become alright. Why does this happen?</p>\n\n<p>My guess is, since .Net/C# isn't a real time framework and also after the simulators have run for 24 hrs, the data sending rates start to slow down, that there is clogging of serial ports; the restart flushes everything and thus everything returns to normal. This is just a guess. If someone has a better opinion, do share it. Note, the simulators have been made by a different team of .Net guys.</p>\n\n<p>Note: Each protocol has different data rates, 1 Hz, 5 Hz, 10 Hz. </p>\n\n<p>There is one system which just doesn't resume communication even after simulator for the same is restarted after reboot. The port configuration for this system is</p>\n\n<pre><code>SetPortConfiguration()\n{\n    tcgetattr(Fd,&amp;mOldtio); \n       mNewtio.c_cflag = B4800 | CS8 | CLOCAL | CREAD | CRTSCTS;\n       mNewtio.c_iflag = 0; //setting the input flag to icrnl causes a blank frame to be displayed after every frame.\n       mNewtio.c_oflag = 0;\n       mNewtio.c_lflag =ICANON;\n       mNewtio.c_cflag &amp;=~PARENB;\n       mNewtio.c_cflag &amp;= ~CSTOPB;\n        //mNewtio.c_cflag &amp;= ~HUPCL;  //added on 24/3/09\n       mNewtio.c_cc[VEOL]=0; //setting VEOL to '\\r' or '\\n' causes a blank frame to be displayed after every frame.\n       mNewtio.c_cc[VKILL] = 0;     /* @ */\n       mNewtio.c_cc[VSTART] = 0;     /* Ctrl-q */\n       mNewtio.c_cc[VSTOP]  = 0;     /* Ctrl-s */\n       mNewtio.c_cc[VMIN]=0;\n       mNewtio.c_cc[VTIME]=0;\n       tcflush(Fd, TCIFLUSH);\n       tcflow(Fd,TCION);\n       tcsetattr(Fd,TCSANOW,&amp;mNewtio);\n}\n</code></pre>\n\n<p>Also there is a reset port function :</p>\n\n<pre><code>ResetPort()\n{\n    tcflush(Fd, TCIFLUSH); //flush all data received but not read\n\n    tcflow(Fd,TCIOFF); //transmits a STOP character, which stops the terminal device from transmitting data to the system \n    tcsetattr(Fd, TCSANOW, &amp;mOldtio);//set the old terminal settings\n\n    ClosePort(); //close port\n    OpenPort(mStrPortNo); //open the port specified by port number and in read mode\n    SetPortConfiguration();\n}\n</code></pre>\n\n<p>If there is any break in communication, I call the ResetPort function which closes and reopens the port. This solves the problem in all cases except one system say XYZ.\nXYZ system sends data in NMEA format with each packet as a string of data terminated with a Carriage Return, LineFeed combination. </p>\n\n<p>Any idea fellows as to what may be the problem?</p>\n"},{"tags":["java","c++","qt","cross-platform","javafx-2"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":220,"score":4,"question_id":12594330,"title":"JavaFX 2.0 and Qt for cross-platform application","body":"<p>I need a bit of advice from you developers who deal with cross-platform applications (specifically programs with a GUI).</p>\n\n<p>I will be creating an application soon that needs to be cross-platform and so I have done some preliminary research on two different frameworks: JavaFX 2.0 and Qt.</p>\n\n<p>Honestly, both would more than suit my needs. So then I asked myself why I would choose one over the other (SPOILER ALERT: I don't know the answer :P ). I do know that JavaFX 2.0 is rather new (as of 2012) and is not fully supported across platforms, but it will be eventually.</p>\n\n<p>The question I pose is this: which one of these would you use for a cross-platform application, and what criteria did you look at when making that decision?</p>\n\n<p>Thank you for taking the time to read this! :)</p>\n\n<p><strong>EDIT:</strong>\nFor your reference when considering this question, the application I will be writing involves reading/writing XML files, displaying images, and creating some small widgets with custom functionality.  I've written a similar application in C# with .NET, but would like advice when considering JavaFX 2.0 or Qt for cross-platform usability.</p>\n\n<p>Thanks again!  :)</p>\n"},{"tags":["qt","bash","curl","qprocess","chown"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12697040,"title":"QProcess executing bash chown","body":"<p>I built a command line qt solution which either gets via CURL a certain package, or from a certain directory, unzips it, and installs its contents according to a predefined struture.</p>\n\n<p>After it downloads, unzips, and places all the files and folder in the places they are supposed to, I use a QProcess to execute a post-install.sh file that comes along with the package.</p>\n\n<p>When set the solution to download the package from a certain repo via curl, the post-install.sh is executing just fine, but when I request it to do from a local .ZIP file, whereas the post-install.sh is executing via QProcess, it's not doing what it's supposed to.</p>\n\n<p>The post-install.sh is pretty simple, it performs a 'chown' command on the main folder ( all its contents ) it downloaded and installed. </p>\n\n<p>I see it's a problem with permissions, but I cannot see where. For I execute the command line program as SUDO, and it works fine ( the post-install.sh ) when instead of requesting it to open a local .ZIP file, I ask it to download via CURL from a repo.</p>\n\n<p>Any ideas on that one?</p>\n\n<p>Thanks a lot in advance!</p>\n"},{"tags":["qt","serial-port"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1222,"score":1,"question_id":1036361,"title":"Has someone used QSockeNotifier (Qt library) to read/write serial ports in Linux?","body":"<p>I am currently linux API like <code>sigio</code>,<code>sigaction</code>, etc. to interface with serial ports in Linux. And for a GUI I am using Qt 4.2. I know about 3rd party QextSerial but I would stay away from it. I also was tinkering with QSocketNotifier as an alternative. </p>\n\n<p>Can someone give a rough example to read/write from a serial port using QSockeNotifier?</p>\n"},{"tags":["c++","debugging","qt","mingw","qdebug"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":4164,"score":6,"question_id":4954140,"title":"How to redirect qDebug, qWarning, qCritical etc output?","body":"<p>I'm using a lot of <code>qDebug() &lt;&lt;</code> statements for debug output. Is there any cross-platform way I can redirect that debug output to a file, without resorting to shell scripts? I'm guessing that <a href=\"http://opennet.ru/man.shtml?topic=open&amp;category=2&amp;russian=0\">open()</a> and <a href=\"http://opennet.ru/man.shtml?topic=dup2&amp;category=2&amp;russian=0\">dup2()</a> will do the job in Linux, but will it work compiled with MinGW in Windows?</p>\n\n<p>And maybe there is a Qt way to do it?</p>\n"},{"tags":["qt","qtableview","qt4.7","qt4.8","qpushbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12688787,"title":"Qt - How to expand or Collapse my QTableView","body":"<p>I have a <strong>QTableView</strong> with some items in it. If <strong>i click on any row</strong>, that particular <strong>row has to expand with some QPushButtons</strong> in it. I had attached the screen shot of it. How can i achieve this? Need ur help. Thanks in Advance.<img src=\"http://i.stack.imgur.com/jZbcB.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","exit","exit-code"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12674984,"title":"Exit Application in Qt","body":"<p>I have built an app in Qt that contains two buttons: an exit button and an import button. When the import button is pushed, a list of buttons is shown in a scrollarea on the screen (the file loggers.csv contains the data 1;2;3;4;5;). </p>\n\n<p>It all works fine, but when I push the exit button (which of course should close everything), the app is not stopped properly (the stop button of Qt is still active, and the play button isn't). When I run the debugger and push the exit button it gives an error: Invalid address specified to RtlFreeHeap( 0ADF0000, 0028FE40 ). Can anybody help me?</p>\n\n<p><strong>main</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    MainWindow w;\n\n    w.showFullScreen();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><strong>Mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QtGui&gt;\n#include \"logger.h\"\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\n    QPushButton exit_btn;\n    QPushButton import_btn;\n\nprivate slots:\n\n    void createMenus();\n    void exit();\n    void import();\n\nprivate:\n\n    int window_width;\n    int window_height;\n\n    int numLoggers;\n    int numSelected;\n\n    QVector&lt;Logger*&gt; loggers;\n\n    QScrollArea * scroll_area;\n\n    QVBoxLayout scrollLayout;\n\n    QWidget viewport;\n\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p><strong>Mainwindow.cpp:</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"QtGui\"\n\nMainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    window_width = QApplication::desktop()-&gt;width();\n    window_height = QApplication::desktop()-&gt;height();\n\n    createMenus();\n\n    connect(&amp;exit_btn,SIGNAL(clicked()),this,SLOT(exit()));\n    connect(&amp;import_btn,SIGNAL(clicked()),this,SLOT(import()));\n}\n\nMainWindow::~MainWindow()\n{\n   delete ui;\n}\n\nvoid MainWindow::createMenus()\n{\n    import_btn.setParent(ui-&gt;centralWidget);\n    import_btn.setGeometry(400,300,100,100);\n    import_btn.setText(\"IMPORT\");\n\n    exit_btn.setText(\"EXIT\");\n    exit_btn.setParent(ui-&gt;centralWidget);\n    exit_btn.setGeometry(window_width-50,12,32,32);\n\n    viewport.setLayout(&amp;scrollLayout);\n    viewport.resize(0,0);\n\n    scroll_area = new QScrollArea(ui-&gt;centralWidget);\n    scroll_area-&gt;setGeometry(0,66,317,window_height-116);\n    scroll_area-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    scroll_area-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    scroll_area-&gt;setWidget(&amp;viewport);\n    scroll_area-&gt;setGeometry(0,97,317,window_height-228);\n\n    scrollLayout.setMargin(0);\n    scrollLayout.setSpacing(0);\n}\n\nvoid MainWindow::exit()\n{\n    close();\n    qApp-&gt;quit();\n}\n\nvoid MainWindow::import()\n{\n    numSelected=0;\n\n    QFile f(\"Loggers3.csv\");\n\n    if (f.open(QIODevice::ReadOnly))\n    {\n        numLoggers=0;\n\n        QString data;\n        data = f.readAll();\n        QStringList vals = data.split(';');\n\n        while(vals.size()&gt;=1)\n        {\n            Logger * logger = new Logger;\n\n            logger-&gt;setNumber(vals[0].toInt());\n            vals.removeAt(0);\n\n            loggers&lt;&lt;logger;\n\n            numLoggers++;\n        }\n        f.close();\n\n\n        for(int i=0; i&lt;numLoggers;i++)\n        {\n            loggers[i]-&gt;createButtons();\n            scrollLayout.addWidget(loggers[i]-&gt;button);\n        }\n\n        viewport.resize(367,numLoggers*60);\n    }\n}\n</code></pre>\n\n<p><strong>logger.h</strong></p>\n\n<pre><code>#ifndef LOGGER_H\n#define LOGGER_H\n\n#include &lt;QtGui&gt;\n\nclass Logger : public QWidget\n{\n    Q_OBJECT\npublic:\n    explicit Logger(QWidget *parent = 0);\n\n    ~Logger();\n    int number;\n    QLabel num;\n    QToolButton * button;\n    bool checked;\n\nsignals:\n\npublic slots:\n\n    void setNumber(int number);\n    void createButtons();\n};\n\n#endif // LOGGER_H\n</code></pre>\n\n<p><strong>logger.cpp</strong></p>\n\n<pre><code>#include \"logger.h\"\n#include &lt;QtGui&gt;\n\nLogger::Logger(QWidget *parent) :\n    QWidget(parent)\n{\n    button = new QToolButton;\n    button-&gt;setCheckable(true);\n    button-&gt;setMinimumSize(317,60);\n    button-&gt;setStyleSheet(\"QToolButton{background-image: url(images/btn_bg); border:none}\");\n}\n\nLogger::~Logger()\n{\n}\n\nvoid Logger::setNumber(int logNumber)\n{\n    number=logNumber;\n}\n\nvoid Logger::createButtons()\n{\n    QLayout * layout = new QHBoxLayout;\n\n    QSpacerItem *spacer = new QSpacerItem(120, 31, QSizePolicy::Maximum, SizePolicy::Maximum);\n\n    num.setStyleSheet(\"color: white; font: bold 16px\");\n    num.setText(QString::number(number));\n\n    layout-&gt;addWidget(&amp;num);\n    layout-&gt;addItem(spacer);\n\n    button-&gt;setLayout(layout);\n}\n</code></pre>\n"},{"tags":["qt","mouse","mouseevent","wheel"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3247,"score":3,"question_id":2004254,"title":"Mimicking/faking a Mouse Click and Mouse Wheel using Qt","body":"<p>How to mimic/fake a Mouse Click and Mouse Wheel using Qt? To be more specific, I want to click inside and outside the Qt application. Thanks in advance!</p>\n"},{"tags":["html5","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12257061,"title":"How to Communicate between Qt and a HTML page in QTWidget Application","body":"<p>I am trying to find a way to connect a button in HTML to an action in my C++/Qt application. I loaded a HTML file in QT app using QTextBrowser object. If I click a button in this HTML file, the Qt application should respond. I also might want to implement it vice versa: so that an action in the Qt application would cause a response in the HTML page. Please suggest a suitable solution.</p>\n\n<p>My sample code is :</p>\n\n<pre><code>QWebView view;\nview.setStyleSheet(\n  \"background-color:rgb(150,147,88); padding: 7px ; color:rgb(255,255,255)\");\nview.load(QUrl(\"test.html\"));\nview.show();\n</code></pre>\n\n<p>is there any mechanism like signal/slot ??</p>\n"},{"tags":["unit-testing","qt","googletest","qtestlib","qttest"],"answer_count":8,"favorite_count":6,"up_vote_count":13,"down_vote_count":0,"view_count":7970,"score":13,"question_id":1524390,"title":"What unit-testing framework should I use for Qt?","body":"<p>I am just starting up a new project that needs some cross-platform GUI, and we have chosen Qt as the GUI-framework.</p>\n\n<p>We need a unit-testing framework, too. Until about a year ago we used an in-house developed unit-testing framework for C++-projects, but we are now transitioning to using Google Test for new projects.</p>\n\n<p>Does anyone have any experience with using Google Test for Qt-applications? Is QtTest/QTestLib a better alternative?</p>\n\n<p>I am still not sure how much we want to use Qt in the non-GUI parts of the project - we would probably prefer to just use STL/Boost in the core-code with a small interface to the Qt-based GUI.</p>\n\n<p><em>EDIT:</em> It looks like many are leaning towards QtTest. Is there anybody who has any experience with integrating this with a continous integration server? Also, it would seem to me that having to handle a separate application for each new test case would cause a lot of friction. Is there any good way to solve that? Does Qt Creator have a good way of handling such test cases or would you need to have a project per test case?</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12693014,"title":"How to use qt help framework?","body":"<p>I am developing an application with Qt framework in C++ and i want to provide users a comprehensive help using qt's help framework. I looked at <a href=\"http://qt-project.org/doc/qt-4.8/qthelp-framework.html\" rel=\"nofollow\">here</a> and also the book <a href=\"http://www.apress.com/9781590598313\" rel=\"nofollow\">Foundations of Qt Development</a>. In chapter 9, i couldn't run the example and the link that i mentioned is not clear for me(shame on me, i really tried to understand it). Is there a more explanatory tutorial or a working example?</p>\n"},{"tags":["c++","qt","graphics","zoom"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":569,"score":0,"question_id":3316917,"title":"Zooming the graphics in Qt","body":"<p>I use QGraphicsiew and QGraphicsScene in order to draw graphics. How can I organize zoom-in and zoom-out (during zooming in scrolls should appear and while zooming out scrolls should disappear)?</p>\n"},{"tags":["c++","qt","visual-c++","dll","abi"],"answer_count":0,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":208,"score":4,"question_id":12690457,"title":"Visual Studio C++ dll library crashes in Qt application","body":"<p>I have a problem sharing \"std::string\" data between MS Visual C++ DLL library and Qt program.</p>\n\n<h1>What I have are:</h1>\n\n<ul>\n<li><p>DLL library written in Visual C++ 2010 Express, which exports one method:</p>\n\n<pre><code>extern \"C\" __declspec(dllexport) int Init(ITest* commandTest);\n</code></pre></li>\n<li><p>Abstract interface \"ITest\" and a class implementing it:</p>\n\n<pre><code>class CTest: public ITest\n{\npublic:\n    CTest();\n    virtual ~CTest();\n    virtual void getVersion(std::string &amp; version) const;\n};\n</code></pre></li>\n<li><p>Qt GUI application that needs to:</p>\n\n<pre><code>* load the DLL dynamically\n* instantiate CTest and pass it to exported Init method.\n</code></pre></li>\n</ul>\n\n<p>In DLL's \"Init\" a \"CTest::getVersion()\" method is called. I'd expect it would get the \"&amp;version\" string filled in. What I get instead are crashes on the line when I fill \"&amp;version\" with new string.</p>\n\n<h1>What I already did:</h1>\n\n<ul>\n<li><p>downloaded \"Qt libraries 4.8.3 for Windows (VS 2010, 235 MB)\" from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a>, installed it and selected it in QtCreator's project settings. </p></li>\n<li><p>in QtCreator switched from MinGW toolchain to the one installed with MS Visual Studio 2010 Express.</p>\n\n<p>I thought that it will overcome the problem , because I used Qt libraries compiled with VS 2010 and the Qt GUI was also compiled with VS C++ toolchain then. Unfortunately the problem was not gone, so I tried the last step:</p></li>\n<li><p>created Win32 Console application in Visual Studio, loaded my DLL via LoadLibrary, used \"Init\" method the same way as I did in Qt GUI... and it worked!!</p></li>\n</ul>\n\n<h2>Small observation</h2>\n\n<p>In \"CTest::getVersion()\" I am printing this \"version\" string passed by reference to the console. When using VS C++ console app as a host it is printed out correctly. When using Qt app - the \"version\" string is printed with some garbage around (e.g. ┌►☻qwerty27)</p>\n\n<p>This makes me think that ABI of Qt app and my DLL is still incompatible, even when using Qt VS 2010 libraries mentioned above.</p>\n\n<h1>Questions:</h1>\n\n<ul>\n<li>Is using Qt libraries for Windows (VS 2010) and Visual Studio toolchain not enough to overcome ABI compatibility issues?</li>\n<li>Does it mean I should compile the Qt framework on my own?</li>\n<li>Please help - any ideas are welcome...</li>\n</ul>\n"},{"tags":["c++","qt","svn","tortoisesvn"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":12690096,"title":"TortoiseSVN protocol/access from application","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1104235/is-there-a-simpler-windows-c-subversion-api-or-an-example-vcproj-for-minimal\">Is there a simpler Windows C++ Subversion API or an example .vcproj for minimal_client.c?</a>  </p>\n</blockquote>\n\n\n\n<p>I'd like to create an application, which extracts subversion log, and displays it( according to some filters, etc. ).\nJust don't know how to connect to TortoiseSVN without dynamic linking it's library?As far as I know, in case of dynamic link, I should recompile on every TortoiseSVN release to maintain compatibility.\nSo my application should work with any version of tSVN started from an initial version, until major changes happen in the interface.\nDo someone knows how can I achieve this? (Maybe plugin system?)</p>\n\n<p>Note: I would write this app in C++ and using Qt.</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":10860318,"title":"Dragging multiple QGraphicsItems in different QGraphicsScenes for the same amount","body":"<p>I have my own classes (MyGraphicsScene, MyGraphicsView, MyGraphicsItem) derived from QGraphicsScene, QGraphicsView and QGraphicsItem. </p>\n\n<p>In my main window, I then create nine (9) instances of MyGraphicsScene, shown through nine instances of MyGraphicsView.  All nine MyGraphicsScenes contain pointers to each other.</p>\n\n<p>How can I drag an instance of MyGraphicsItem in one MyGraphicsScene, and then automatically drag certain MyGraphicsItem instances (in the eight remaining MyGraphicsScenes) for the same amount/distance/vector?</p>\n\n<p>My first idea was to reimplement MyGraphicsItem::itemChange (with change == QGraphicsItem::ItemPositionChange) and then call setPos() for remaining instances of MyGraphicsItem (contained within other MyGraphicsScenes). However this won't work because I will get infinite recursion (setPos() would trigger itemChange() as well, including for the originating MyGraphicsItem).</p>\n\n<p>Any other ideas from experienced Qt-ers?</p>\n"},{"tags":["qt","templates","properties","moc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12689162,"title":"Qt Q_PROPERTY with template accessors","body":"<p>I'm aiming for a little bit more code reuse, while maintaining verbosity. </p>\n\n<p>Consider the following sample code: </p>\n\n<pre><code>// qdot@defixio /tmp/test4 $ cat test.h\n#include &lt;QObject&gt;\n\nclass Foo : public QObject {\n  Q_OBJECT\n  // Q_PROPERTY(int bar1 READ bar&lt;1&gt;)\n  // Q_PROPERTY(int bar2 READ bar&lt;2&gt;)\n\n  public:\n  template &lt;int i&gt; int bar() const;\n};\n\n// qdot@defixio /tmp/test4 $ cat test.cpp \n#include \"test.h\"\n#include &lt;QDebug&gt;\n\n\ntemplate &lt;int i&gt; \nint Foo::bar() const { qDebug() &lt;&lt; \"Template parameter\" &lt;&lt;  i; } \n\nint main() {\n  Foo foo;\n  foo.bar&lt;1&gt;();\n  foo.bar&lt;2&gt;();\n  return 0;\n}\n</code></pre>\n\n<p>This one compiles and runs as expected. </p>\n\n<p>In case you're wondering why I would like that - imagine a set of properties, DESIGNABLE, etc, but falling under the same \"class\" - in that case, I would like to have separate properties, using enum-templatetyped accessors. </p>\n\n<p>Uncommenting the property definitions, results in the following moc error:</p>\n\n<pre><code>/usr/bin/moc -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/share/qt4/mkspecs/linux-g++ -I. -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4 -I. test.h -o moc_test.cpp\ntest.h:5: Parse error at \"bar\"\n</code></pre>\n\n<p>Any idea on how to properly mix templating and moc? </p>\n\n<hr>\n\n<p>To answer cmannet85's comment, and add more insight - yes, that <code>moc</code> invocation generates <code>moc_test.cpp</code> from <code>moc.h</code>.</p>\n\n<p>To test and demonstrate it further, I added another property </p>\n\n<pre><code>Q_PROPERTY(int baz1 READ baz1)\n</code></pre>\n\n<p>and the diff between moc_test.cpp before and after is this:</p>\n\n<pre><code>--- moc_test.cpp        2012-10-02 13:23:39.442333849 +0200\n+++ moc_test_baz1.cpp   2012-10-02 13:23:29.822328462 +0200\n@@ -1,7 +1,7 @@\n /****************************************************************************\n ** Meta object code from reading C++ file 'test.h'\n **\n-** Created: Tue Oct 2 13:23:39 2012\n+** Created: Tue Oct 2 13:22:27 2012\n **      by: The Qt Meta Object Compiler version 63 (Qt 4.8.3)\n **\n ** WARNING! All changes made in this file will be lost!\n@@ -24,17 +24,20 @@\n        0,       // classname\n        0,    0, // classinfo\n        0,    0, // methods\n-       0,    0, // properties\n+       1,   14, // properties\n        0,    0, // enums/sets\n        0,    0, // constructors\n        0,       // flags\n        0,       // signalCount\n\n+ // properties: name, type, flags\n+       8,    4, 0x02095001,\n+\n        0        // eod\n };\n\n static const char qt_meta_stringdata_Foo[] = {\n-    \"Foo\\0\"\n+    \"Foo\\0int\\0baz1\\0\"\n };\n\n void Foo::qt_static_metacall(QObject *_o, QMetaObject::Call _c, int _id, void **_a)\n@@ -76,6 +79,30 @@\n     _id = QObject::qt_metacall(_c, _id, _a);\n     if (_id &lt; 0)\n         return _id;\n+    \n+#ifndef QT_NO_PROPERTIES\n+     if (_c == QMetaObject::ReadProperty) {\n+        void *_v = _a[0];\n+        switch (_id) {\n+        case 0: *reinterpret_cast&lt; int*&gt;(_v) = baz1(); break;\n+        }\n+        _id -= 1;\n+    } else if (_c == QMetaObject::WriteProperty) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::ResetProperty) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::QueryPropertyDesignable) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::QueryPropertyScriptable) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::QueryPropertyStored) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::QueryPropertyEditable) {\n+        _id -= 1;\n+    } else if (_c == QMetaObject::QueryPropertyUser) {\n+        _id -= 1;\n+    }\n+#endif // QT_NO_PROPERTIES\n     return _id;\n }\n QT_END_MOC_NAMESPACE\n</code></pre>\n\n<p>There is absolutely nothing to prevent moc from just copying over the entire bar&lt;1> statements into the <code>QMetaObject::ReadProperty</code> switch statements - but it somehow barfs on the &lt;> template tags. </p>\n"},{"tags":["qt","stylesheet","qcombobox"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1058,"score":0,"question_id":9064993,"title":"Style QComboBox popup menu margin Qt 4","body":"<p>After countless hours trying to style a QComboBox, I'm stuck with the top and bottom margin where the  items are inserted.</p>\n\n<p>I would like to either remove or apply a background-color to the popup menu top and bottom white spaces.</p>\n\n<p><img src=\"http://img576.imageshack.us/img576/3402/screenshot20120130at144.png\" alt=\"QComboBox screen\"></p>\n\n<p>I added a min-height to the QListView not to show top and bottom arrows. I also looked at the QComboBoxPrivate class in Qt sources but it seems that the top and bottom margins are hardcoded.</p>\n\n<p>Thanks for your help.</p>\n\n<p>Edited: This is my stylesheet so far</p>\n\n<pre><code>QComboBox {\n    border: 1px solid rgb(95, 95, 95);\n    border-radius: 3px;\n    padding: 1px 18px 1px 3px;\n    min-width: 6em;\n    color: rgb(220, 220, 220);\n    background-color: rgb(80, 80, 80);\n    margin: 0 0 0 0;\n}\n\nQComboBox:editable {\n    background: rgb(80, 80, 80);\n}\n\nQComboBox:!editable {\n    background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,\n                                  stop: 0 rgb(51, 51, 51), stop: 0.4 rgb(39, 39, 39),\n                                  stop: 0.5 rgb(32,32,32), stop: 1.0 rgb(38,38,38));;\n}\n\nQComboBox::drop-down:editable {\n}\n\nQComboBox:!editable:on {\n}\n\nQComboBox::drop-down:editable:on {\n}\n\nQComboBox:on { /* shift the text when the popup opens */\n    padding-top: 3px;\n    padding-left: 4px;\n    background-color: rgb(80, 80, 80);\n}\n\nQComboBox::drop-down {\n    subcontrol-origin: padding;\n    subcontrol-position: center right;\n    width: 15px; \n    right:3px;\n    border-top-right-radius: 3px; /* same radius as the QComboBox */\n    border-bottom-right-radius: 3px;\n    background:none;\n}\n\nQComboBox::down-arrow {\n    image: url(:/images/arrow-down-inverted.png);\n    height: 10px;\n}\n\nQComboBox::down-arrow:on { /* shift the arrow when popup is open */\n    top: 1px;\n    left: 1px;\n}\n\nQListView#comboListView {\n    background: rgb(80, 80, 80);\n    color: rgb(220, 220, 220);\n    min-height: 90px;\n    margin: 0 0 0 0;\n}\n\nQListView#comboListView::item {\n    background-color: rgb(80, 80, 80);\n}\n\nQListView#comboListView::item:hover {\n    background-color: rgb(95, 95, 95);\n}\n</code></pre>\n"},{"tags":["qt","qt4","qwidget","qtableview","qtgui"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12684830,"title":"Interact with editor widgets' data in QTableView","body":"<p>I'm using an editable QTableView + QStandardItemModel.</p>\n\n<p>While editing a cell in a table view, I'd like to do something <strong>according to the new input data</strong> in this specific cell when committing the new data into the table view.</p>\n\n<p>To do this, I need the new input data and the current model index (or column &amp; row number).\nI tried some slots such as </p>\n\n<blockquote>\n  <p>virtual void closeEditor (QWidget * editor,\n  QAbstractItemDelegate::EndEditHint hint)</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>virtual void commitData ( QWidget * editor ).</p>\n</blockquote>\n\n<p>commitData seems to be what I need, however, the parameter is only the editor and I cannot figure out how to obtain the text in this editor widget.\nI looked QTextEdit  but it's not a inherited class of QWidget.</p>\n\n<p>I wonder if there's any way to obtain the data (text) and axis (column, row) of an editor widget?</p>\n"},{"tags":["qt","gdb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12659834,"title":"\"The gdb process crashed\"","body":"<p>When I run this minimal program in Qt Creator, I'm served with the error \"The gdb process crashed\":</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n    return 0;\n}\n</code></pre>\n\n<p>Here's the <code>gdb</code> log:</p>\n\n<pre><code>ADAPTER SUCCESSFULLY STARTED\nNOTE: ENGINE SETUP OK\nState changed from EngineSetupRequested(1) to EngineSetupOk(3).\nQUEUE: SETUP INFERIOR\nState changed from EngineSetupOk(3) to InferiorSetupRequested(4).\nQUEUE: SETUP INFERIOR\nHANDLE GDB ERROR: The gdb process was ended forcefully\nGDB PROCESS FINISHED, status 1, code -1073741701\nNOTE: ENGINE ILL ******\nState changed from InferiorSetupRequested(4) to EngineShutdownRequested(20).\nQUEUE: SHUTDOWN ENGINE\nCALL: SETUP INFERIOR\nSetting up inferior...\nCALL: SHUTDOWN ENGINE\nPLAIN ADAPTER SHUTDOWN 20\nINITIATE GDBENGINE SHUTDOWN IN STATE 4, PROC: 0\nNOTE: ENGINE SHUTDOWN OK\nState changed from EngineShutdownRequested(20) to EngineShutdownOk(22).\nState changed from EngineShutdownOk(22) to DebuggerFinished(23).\nQUEUE: FINISH DEBUGGER\nNOTE: FINISH DEBUGGER\nHANDLE RUNCONTROL FINISHED\nDebugger finished.\n</code></pre>\n\n<p>I'm using gdb 6.8 in the <em>i686-pc-mingw32</em> configuration. How do I fix this issue?</p>\n"},{"tags":["c++","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12682888,"title":"Qt C++ - Aligning QProgressBar inside a QSplashScreen","body":"<p>I am putting a <code>QProgressBar</code> inside a <code>QSplashScreen</code> by subclassing QSplashScreen.  It overrides the <code>drawContents()</code> method.</p>\n\n<p>I thought I had set the geometry correctly, but it renders at both the top and bottom of the screen.  I don't know why.  Perhaps there's another way to align it.  The numbers are correct, as the image is 380x284, so a 19 height progress bar should be 265 pixels down.</p>\n\n<p>Sorry for crappy picture, splash screen wasn't showing up with print screen button.  It's just a 1 color white splash screen at the moment, but as you can see, progress bar at top and bottom (they're both the same colors, its the lighting from the camera).</p>\n\n<p><a href=\"http://i.imgur.com/p1LoJ.jpg\" rel=\"nofollow\">http://i.imgur.com/p1LoJ.jpg</a></p>\n\n<p>Another issue will be the <code>showMessage()</code> method of QSplashScreen.  I want the message to appear above the progress bar, right-aligned... if anyone has any ideas how to do that.</p>\n\n<p>splashscreen.cpp</p>\n\n<pre><code>#include \"splashscreen.h\"\n\nSplashScreen::SplashScreen(QApplication *app, QWidget *parent) :\n    QSplashScreen(parent)\n{\n    this-&gt;app = app;\n\n    this-&gt;setPixmap(QPixmap(\":/images/splashscreen.png\"));\n    this-&gt;setCursor(Qt::BusyCursor);\n\n    // if I dont make it a child, it *only* renders at the top\n    progress = new QProgressBar(this); \n    progress-&gt;setGeometry(0, 265, 380, 19); // puts it at bottom\n    progress-&gt;setAlignment(Qt::AlignHCenter | Qt::AlignVCenter);\n    progress-&gt;setValue(0);\n    progress-&gt;setMaximum(100);\n    progress-&gt;setEnabled(true);\n\n    this-&gt;showMessage(\"Hello\", Qt::AlignBottom);\n\n    connect(progress, SIGNAL(valueChanged(int)), this, SLOT(progressBarUpdated(int)));\n}\n\nvoid SplashScreen::drawContents(QPainter *painter)\n{\n    QSplashScreen::drawContents(painter);\n    this-&gt;progress-&gt;render(painter);\n}\n\nvoid SplashScreen::progressBarUpdated(int value)\n{\n    this-&gt;repaint();\n    this-&gt;app-&gt;processEvents();\n}\n</code></pre>\n\n<p>splashscreen.h</p>\n\n<pre><code>#ifndef SPLASHSCREEN_H\n#define SPLASHSCREEN_H\n\n#include &lt;QSplashScreen&gt;\n#include &lt;QProgressBar&gt;\n#include &lt;QApplication&gt;\n\nclass SplashScreen : public QSplashScreen\n{\n    Q_OBJECT\npublic:\n    explicit SplashScreen(QApplication *app, QWidget *parent = 0);\n    QProgressBar *progress;\n    QWidget *spacer;\n    QApplication *app;\n\npublic slots:\n    void progressBarUpdated(int value);\n\nprotected:\n    void drawContents(QPainter *painter);\n\n};\n\n#endif // SPLASHSCREEN_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;time.h&gt;\n\n#include \"splashscreen.h\"\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    srand(time(0));\n    QApplication a(argc, argv);\n\n    SplashScreen *splash = new SplashScreen(&amp;a);\n    splash-&gt;show();\n\n    // snip.. loading a ton of stuff into memory at startup \n    // if you're testing this you might have to sleep/timer here iono\n\n    MainWindow w;\n    splash-&gt;finish(&amp;w);\n    w.show();\n\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["c++","qt","qnetworkaccessmanager"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12666256,"title":"Qt Update after network reply","body":"<p>I am working with Qt creator to make a GUI program that takes in different URLs and will download and display the html code.</p>\n\n<p>The user can add different URLs to a listWidget. Then the user can select a specific URL and download the html which will be displayed beside the list of URLs.</p>\n\n<p>The problem I am having is getting the text area to update after the reply is received.</p>\n\n<p>main.cpp - Basically just shows the window.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include \"htmlmanager.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.h - Pretty straight forward. Contains the object html that will be used to request the html from the inputted website.</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n#include &lt;QMainWindow&gt;\n#include \"htmlmanager.h\"\n#include &lt;QString&gt;\nnamespace Ui {\nclass MainWindow;\n}\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n    HtmlManager html;\n\nprivate slots:\n    void on_addButton_clicked();\n    void on_actionExit_triggered();\n    void on_removeButton_clicked();\n    void on_downloadButton_clicked();\nprivate:\n    Ui::MainWindow *ui;\n};\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp - This is the beginning of the problem. If you look down at the \"downloadButton_clicked()\" function, you see that it fetches the html by sending a request. However, the reply isn't recieved before the next line so the text field is set to \"\".</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_addButton_clicked()\n{\n    if(!ui-&gt;lineEdit-&gt;text().isEmpty())\n    {\n        ui-&gt;listWidget-&gt;addItem(ui-&gt;lineEdit-&gt;text());\n    }\n    else\n    {\n        qDebug() &lt;&lt; \"Input field is empty.\";\n    }\n}\n\nvoid MainWindow::on_actionExit_triggered()\n{\n    //doesn't do anything right now\n}\n\nvoid MainWindow::on_removeButton_clicked()\n{\n    if(ui-&gt;listWidget-&gt;currentItem()) //If an item is selected\n    {\n        delete ui-&gt;listWidget-&gt;currentItem();\n    }\n    else\n    {\n        qDebug() &lt;&lt; \"No selection\";\n    }\n}\n\nvoid MainWindow::on_downloadButton_clicked()\n{\n    if(ui-&gt;listWidget-&gt;currentItem()) //If an item is selected\n    {\n        html.fetch(ui-&gt;listWidget-&gt;currentItem()-&gt;text());\n        ui-&gt;textBrowser-&gt;setText(html.str);\n    }\n    else\n    {\n        qDebug() &lt;&lt; \"No selection\";\n    }\n\n}\n</code></pre>\n\n<p>htmlmaneger.h</p>\n\n<pre><code>#ifndef HTMLMANAGER_H\n#define HTMLMANAGER_H\n\n#include &lt;QObject&gt;\n#include &lt;QDebug&gt;\n#include &lt;QtNetwork&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QString&gt;\n\n\nclass HtmlManager : public QObject\n{\n    Q_OBJECT\n    public:\n        HtmlManager();\n        void fetch(QString Url);\n        QString str;\n\n    public slots:\n        void replyFinished(QNetworkReply* pReply);\n\n    private:\n        QNetworkAccessManager* m_manager;\n};\n\n#endif // HTMLMANAGER_H\n</code></pre>\n\n<p>htmlmanager.cpp - Once the reply is received, it stores the html in the QString \"str\" </p>\n\n<pre><code>#include \"htmlmanager.h\"\n\nHtmlManager::HtmlManager()\n{\n    m_manager = new QNetworkAccessManager(this);\n    connect(m_manager, SIGNAL(finished(QNetworkReply*)), this, SLOT(replyFinished(QNetworkReply*)));\n}\nvoid HtmlManager::fetch(QString Url)\n{\n    m_manager-&gt;get(QNetworkRequest(QUrl(Url)));\n    qDebug() &lt;&lt; \"Sending network request.\";\n}\nvoid HtmlManager::replyFinished(QNetworkReply* pReply)\n{\n    qDebug() &lt;&lt; \"Recieved network reply.\";\n    QByteArray data=pReply-&gt;readAll();\n    str = data;\n}\n</code></pre>\n\n<p>Is there an easy way to send the value of str to the MainWindow class once the reply is received, or is there a way for the onclick function to wait to update the text area until after a reply is received?</p>\n"},{"tags":["json","qt","gui","user-interface","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12625115,"title":"QT4 open source project to build reusable components","body":"<p>Are there any opensource project to build reusable GUI components in QT4 with extra connection informaition saved in a JSON file? Qt designer lets you build a dialog and connect signals and slots together and save the results as a UI file. I am looking for a project that would extend this to build components that you could easily plugin into a c++ or pyside application. An example would be to build a playcontrol for a movie player with all the start, stop, rewind, fastforward buttons. Then in the application you just load the UI file or perhaps a JSON file with extra input and outputs for callbacks. </p>\n"},{"tags":["qt","qpixmap","grid-layout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":665,"score":1,"question_id":8335025,"title":"Qt: update pixmap grid layout with 2d array values","body":"<p>I am undertaking a game using a combination of c++ in visual studios 2010 and Qt 4.7 (both windows).  The game is a clone of battleship and is console input based.  I have created my gui how I want it to look, and on the Qt side in Qt designer, my gui consists of a grid layout 10x10, using labels to hold pixmaps of game cells:</p>\n\n<p><img src=\"http://i.stack.imgur.com/D3bAE.png\" alt=\"current look of the game\"></p>\n\n<p>I have painstakingly named each label to represent its position in the 2d array (ie. fleet map => <code>F_00</code> => <code>F[0,0]</code> => <code>F[i],[j]</code>).  I can manually choose what pixmap I would like to display using the properties editor, but I would like something dynamic.</p>\n\n<p>I use an update mapboard class to redraw the game board after a player fires, which keeps storing over a char array.  I would like to update my pixmaps for each, using a generic getupdatearray type function.  As we traverse the array it will update the pixmap currently associated with individual labels to match their cousins from the array.  (say <code>F[5][6] = 'X'</code> for hit, then when the loops got to that position in the array it would update the grid of pixmaps at F_56 to equal <em>hit.png</em>, replacing the <em>empty.png</em>.</p>\n\n<p>I have an idea how to make the loop that would accomplish this, but unsure how i would go about getting the pixmap for each label to be more along the lines of a runtime feature versus the now compile time (static) feature.  I have read about QPainter and another Qt class that deals with images, but still having a hard go at it.</p>\n\n<p>Question to any of you, how do I update these pixmaps based on a 2d array?</p>\n\n<ol>\n<li>loop structure - i can figure out</li>\n<li>condition statements - i can figure out</li>\n<li>qt specific syntax dealing with labels- newbie so no idea atm.</li>\n</ol>\n\n<p>Here's some pseudocode of the kind of thing I am trying to do with map.h:</p>\n\n<pre><code>#include &lt;QtCore&gt;\n#include &lt;QtGui&gt;\n\n// WARNING: PSEUDOCODE, DOES NOT COMPILE\n// AT A LOSS ON HOW TO SELECT THE CORRECT LABEL\n// MAYBE A CHILD CLASS FOR THAT?\n\nclass map {\npublic:\n    char updateboard(char mapname, char b[][10]){\n        for(int i=0;i&lt;10;i++){\n            for(int j=0;j&lt;10;j++){\n                char C = b[i][j]; \n                if (C == 'M'){//miss\n                    Qlabel mapname_[i][j](&lt;img src='images/missspace.png'/&gt;);\n                    mapname_[i][j].show();\n                } \n                else if(C == 'X'){//hit\n                    Qlabel mapname_[i][j](&lt;img src='images/hitspace.png'/&gt;);\n                    mapname_[i][j].show();\n                }\n                else if(C == ' '){//undiscovered space\n                    Qlabel mapname_[i][j](&lt;img src='image/emptyspace.png'/&gt;);\n                    mapname_[i][j].show();\n                }\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>Then in my mainwindow.cpp, I include map.h and say:</p>\n\n<pre><code>// calls class function update board\n// takes updated array values and replaces old pixmap with new\n\nmap.updateboard(T,b[][10]); // target map update\nmap.updateboard(F,v[][10]); // fleet map update\n</code></pre>\n\n<p>Thanks in Advance</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've gotten to the point where I can swap pixmaps with buttons presses, but I would like to create something more dynamic.  I wanted to use a Qstring in which I place the name of the label I want to change using by appending x y values using:</p>\n\n<pre><code>TR_position.append(QString::number(xvalue));\n</code></pre>\n\n<p>When I try to call it using:</p>\n\n<pre><code>ui-&gt;TR_position-&gt;setPixmap(QPixmap(\":/images/missspace.png\"));\n</code></pre>\n\n<p>...it obviously doesnt work.  Is there a way to type case it, or use the contents of the string as the Qlabel name?</p>\n"},{"tags":["c++","qt","layout","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":130,"score":0,"question_id":10760782,"title":"Qt - how to make QPushButton change between two QVBoxLayouts","body":"<p>So i have a main layout called the 'vboxmain'. And the program has two states: blackjack and poker. For both I have a button. In this vboxmain I have an upper part, which covers most of the program, and is the same for both games, but I also have a bottom part which should display different parts for both games. For example, poker game should hold five QCheckBoxes and one button. As for the blackjack game i need simply two buttons. I created both of these bottom layouts as QVBoxLayouts. So now i have:</p>\n\n<pre><code>BlackjackiValikud = new QVBoxLayout; //for blackjack\nPokkerivalikud = new QVBoxLayout;  //for poker\n</code></pre>\n\n<p>And I tried creating two button actions like this:</p>\n\n<pre><code>void mainwindow::BlackJack_clicked(){\n    vboxmain-&gt;removeItem(Pokkerivalikud);\n    vboxmain-&gt;addItem(BlackjackiValikud);\n}\n\nvoid mainwindow::Poker_clicked(){\n    vboxmain-&gt;removeItem(BlackjackiValikud);\n    vboxmain-&gt;addItem(Pokkerivalikud);\n}\n</code></pre>\n\n<p>Buttons are connected like this:</p>\n\n<pre><code>connect(BlackjackButton, SIGNAL(clicked()), this, SLOT(BlackJack_clicked()));\nconnect(PokerButton, SIGNAL(clicked()), this, SLOT(Poker_clicked()));\n</code></pre>\n\n<p>But currently it's not working and I can't figure out a way to do this, so I'm asking for help. This is probably not the best way to do this either but I don't know any other ways. So I could use some help on how to make this work with whatever solution - so that with both buttons I can change the bottom part of my vboxmain as needed.</p>\n\n<p>I'm open to solutions.</p>\n"},{"tags":["c++","image","qt","image-processing","qimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12681554,"title":"Dividing QImage to smaller pieces","body":"<p>I have an image, and I want to divide this image to n pieces. So what I'm wondering is that how can I do this with QImage? Or is there a better(performance wise) Qt class for this task?</p>\n\n<p>For example imagine I have an image consist of 1920x1080 pixels, and I want to divide it to 100 pieces which means each piece will consist of 192x108 pixels. Note that I don't want to create same piece scaled to 192x108. Each piece is a distinct piece of the main picture.</p>\n\n<p><img src=\"http://i.stack.imgur.com/df3VG.jpg\" alt=\"enter image description here\"> </p>\n\n<p>I have attached an Image to make my question clearer. \nThis image consist of 1920x1080 pixels and each part dived with grids consists of 192x108 pixels, I want to treat each of them as QImage object without actually dividing it to 100 pieces.</p>\n\n<p>Is there a way to do this with QImage? Performance is important here because I'll analyze each piece and usually there is going to be more than 1000 piece.</p>\n\n<p>Thank you for your help!</p>\n\n<p><strong>EDIT:</strong> Both methods work perfectly, however alexisdm's method is  bit more complex, lower-level, but <strong>faster</strong>. jmk's method is  easier to use but it's slower. </p>\n\n<p>Thanks for both answers.</p>\n"},{"tags":["qt","osx","make","osx-lion"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3697,"score":2,"question_id":6873391,"title":"Installing Qt on Mac OSX Lion/make is missing","body":"<p>I have a problem installing the Qt SDK on my mac. I have had 4.7.4 installed before and it worked. I've updated to Lion and I could not compile any projects. I read then for that I have to switch to 4.8 beta and tried that but during the installation I got the error that gcc could not be installed.</p>\n\n<p>I then figured out that the make command was missing due I had Xcode installed. I then re-installed Xcode (4.1) but it is still missing.</p>\n\n<p>I'm not a unix guru, but I think make missing is not normal, even for a mac, so I hope somebody can give me a hint, what I can do to fix that problem?</p>\n"},{"tags":["qt","qml","qtdeclarative"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":12493145,"title":"QML - Images don't load in deployed version of application","body":"<p>I wrote a <strong>Qt/QML application</strong> and every thing is OK during compile time and running on my own system. But when I move this software to an another computer none of pictures loads.\nfor example here is my background picture:</p>\n\n<pre><code>    Image{\n    id:background;\n    source:\"qrc:/qml/MobnaPC/images/back.jpg\"\n}\n</code></pre>\n\n<p>this image loads when I run the executable file ( which is created in release mode ) in my system ( development environment system ) but when I move this file and its associated dlls to another system( without Qt installed) the background image doesn't load.<br>\nI also tried relative addressing instead of resource system. but the problem remained. How can I solve this strange behavior?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12681663,"title":"Insert Image above word in QTextBrowser","body":"<p>I would like to insert an image above a word present in QTextBrowser; something like a small star or any legend that differentiates it from other words in text. And i can't use styling such as bold, italic, underline etc.. I searched online for a clue but found nothing.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["qt","operating-system"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12677352,"title":"parent qwidget in front of child","body":"<p>I have a program with several qwidget, each one is a separate window and each one are child of the same qmainwindow.</p>\n\n<p>I want the parent window to be in front of the others if I click on it (like the usual behaviour on any os). It works on X11, but not on windows and OSX.</p>\n\n<p>What should I do ?</p>\n\n<p>By the way, on X11, all the different windows appear separately in the taskbar (which is not the case on windows).</p>\n"},{"tags":["qt","qt4","qgraphicsview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":214,"score":2,"question_id":11459318,"title":"Maintaining relative child position after applying QGraphicsItem::ItemIgnoresTransformations","body":"<p>I have a QGraphicsTextItem parented to a QGraphicsItem. I want the QGraphicsTextItem to always reside directly above the QGraphicsItem, but I also want the text to remain the same size when the scale factor goes below 1, i.e. the text remains the size it is at a scale factor of 1 even when the parent graphics item is scaled smaller. I have found that setting the <code>QGraphicsItem::ItemIgnoresTransformations</code> flag to true when the scale factor is below 1 does the trick for retaining the size. </p>\n\n<p>But I can’t seem to find a way to get the position of the text to always remain above the QGraphicsItem. Is there a way to do this? I tried using <code>deviceTransform ()</code> function, but the text still moved off of the QGraphicsItem as I scrolled out. What was worse is that some of the text items started “jiggling”, i.e. they started continuously changing their position ever so slightly, so that it looked like they were shaking. If this is the function I need to use, I guess I don’t know how to use it properly.</p>\n\n<p>In the constructor of my QGraphicsItem I’ve added a QGraphicsTextItem:</p>\n\n<pre><code>fTextItem = new QGraphicsTextItem(getName(), this);\nfTextItem-&gt;setFlag(QGraphicsItem::ItemIgnoresTransformations);\n</code></pre>\n\n<p>Here is code snippet from paint function of QGraphicsItem </p>\n\n<pre><code>qreal lod = painter-&gt;worldTransform().m22();\nif(lod &lt;= 1.0) {\n     fTextItem-setFlag(QGraphicsItem::ItemIgnoresTransformations);\n     fTextItem-&gt;setPos(fTextItem-&gt;deviceTransform(view-viewportTransform()).inverted().map(view-&gt;mapFromScene(mapToScene(0,0))));\n} else {\n     fTextItem-&gt;setFlag(QGraphicsItem::ItemIgnoresTransformations, false);\n     fTextItem-&gt;setPos(0, 0);\n}\n</code></pre>\n"},{"tags":["c++","sql","linux","qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":12660406,"title":"Connecting to SQL server 2005 through QT C++","body":"<p>I have a server of windows server 2003 and its IP on my local network is 192.168.1.220\nThis server has SOL server 2005 express edition installed. This SQL server has a database called amir.</p>\n\n<p>I want to connect to it from a Linux client on the same network.\nSQL server service using port 1617 on my server and I used this port to connect to the server using java.</p>\n\n<p>Wow i want to use QT C++ but my code doesn't work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;iostream&gt;\n#include &lt;QSqldatabase&gt;\n#include &lt;QSqldriver&gt;\nint main(int argc, char *argv[])\n{\n   QCoreApplication a(argc, argv);\n   QSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\n   bool test=db.isValid();//true\n   test=db.isDriverAvailable(\"QODBC\");//true\n   db.setHostName(\"192.168.1.220\\\\SQLEXPRESS\");\n   db.setDatabaseName(\"DRIVER={SQL Server};SERVER=192.168.1.220\\\\SQLEXPRESS:1617;DATABASE=amir\");\n   db.setUserName(\"sa\");\n   db.setPassword(\"amir\");\n   db.setPort(1617);\n   test=db.isValid();//true\n   if(!db.open())\n   {\n      cout&lt;&lt;endl&lt;&lt;\"not connected\"&lt;&lt;endl;\n      QString error=db.lastError().text();\n      cout&lt;&lt;error.toLocal8Bit().data();\n      return false;\n   }\n   else\n      cout&lt;&lt;endl&lt;&lt;\"connected\"&lt;&lt;endl;\n      return true;\n }\n</code></pre>\n\n<p>Every time i try this it out \"not connected\" and the error is</p>\n\n<blockquote>\n  <p>[unixODBC][Driver Manager]Data source name not found, and no default driver specified QODBC3: Unable to connect</p>\n</blockquote>\n\n<p>Using these parameters I can connect using java </p>\n\n<p>So what is the wrong here? and if there is another fasting way to connect to the SQL server using qt c++ than ODBC driver.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12677404,"title":"Qt tree model with items with multiple parents","body":"<p>I want to build a tree where one element can reference another. The tree I want to build is\nsomething like this:</p>\n\n<pre><code>A\n|--- B\n|--- C\n|    |--- D\n|    |--- E\n|\n|--- F\n     |--- P    //this is a \"pointer\" to C\n          |--- D   //first child of C\n          |--- E   //second child of C\n</code></pre>\n\n<p>I found <a href=\"http://stackoverflow.com/questions/9712559/dag-directed-acyclic-graph-qabstractitemmodel\">this</a> and <a href=\"http://www.qtcentre.org/threads/26204-QTreeView-display-of-graph-%28multiple-parents-of-item%29\" rel=\"nofollow\">this</a> regarding my question however no solution was found there.</p>\n\n<p>The problem is implementing parent() in my <code>QAbstractItemModel</code>. Copying the elements is not possible, it could be a massive subtree (also I want them to be in sync when they change).</p>\n\n<p>An item can have more than one parent in the model (the real parent, as well as the item currently pointing to it), how can I determine the currently correct parent?\nCurrently I just have an <code>Item*</code> stored in the <code>QModelIndex</code>, but when the <code>Item*</code> is currently <code>D</code> I can't find out whether the index means element <code>D</code> below <code>C</code> or below <code>P</code>.</p>\n\n<p>I hope there is some way of working around this one to n parent-child mapping in Qt item models. I hope there is some way of doing this, otherwise I will need to implement my own widget which I would very much like to avoid.</p>\n"},{"tags":["c++","qt","com"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12675135,"title":"Why does COM give a unresolved external error for CoCreateInstance in Qt?","body":"<p>I am trying to use COM in QT in the following way:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"html5applicationviewer.h\"\n\n#include \"Objbase.h\"\n#include \"..\\DEV\\ComWrappers\\CCPOIXMLServer\\CCPOIXMLServer.h\"\n#include \"..\\\\DEV\\ComWrappers\\CCIPOServer\\CCIPOServer.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    Html5ApplicationViewer viewer;\n    viewer.setOrientation(Html5ApplicationViewer::ScreenOrientationAuto);\n    viewer.showExpanded();\n    viewer.loadFile(QLatin1String(\"html/index.html\"));\n\n\n    IPOIXMLServer* pIPOIXMLServer = 0;\n\n    HRESULT hr = ::CoCreateInstance(__uuidof(POIXMLServer), NULL, CLSCTX_INPROC_SERVER, __uuidof(IPOIXMLServer), (void**)&amp;pIPOIXMLServer);\n    return app.exec();\n}\n</code></pre>\n\n<p>I have added the Olelib file in the pro file like this:</p>\n\n<p>*LIBS += \"C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v7.0A\\Lib\\x64\\Ole32.lib\"</p>\n\n<p>INCLUDEPATH += \"C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v7.0A\\Lib\\x64\"*</p>\n\n<p>However I keep getting this error:</p>\n\n<p>*qtmain.lib(qtmain_win.obj) : warning LNK4229: invalid directive '/FAILIFMISMATCH:_MSC_VER=1600' encountered; ignored</p>\n\n<p>qtmain.lib(qtmain_win.obj) : warning LNK4229: invalid directive '/FAILIFMISMATCH:_ITERATOR_DEBUG_LEVEL=0' encountered; ignored</p>\n\n<p>main.obj : error LNK2019: unresolved external symbol _<em>imp</em>_CoCreateInstance@20 referenced in function _main release\\QuickWebTest.exe : fatal error LNK1120: 1 unresolved externals*</p>\n\n<p>Is there something else that I need to do in Qt to implement this?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Have readded the lib file with the following syntax:</p>\n\n<p><em>win32: LIBS += -lOle32</em></p>\n\n<p>and it seems to be able to find the definition for CoCreateInstance now!</p>\n\n<p>My only remaining issue is being uable to debug as 'Cbd engine' is not configured properly</p>\n"},{"tags":["c++","qt","qtgui","horizontal-scaling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12674594,"title":"Qt - Text Distortion on Horizontal Scaling of QGraphicsView","body":"<p>I have a program which displays a timeline using a QGraphicsView, the timeline consists of ranges which are represented by rectangles on the scene. There are also text items in the scene. I have implemented zooming by re-implementing the mouseWheelEvent in my QGraphicsView and using the scale() function. I am now trying to implement a horizontal only scaling when the left and right arrow keys are pressed.</p>\n\n<p>My problem is that when I implement horizontal scaling, the text items become distorted. I used the QGraphicsItem::ItemIgnoresTransformations flag to make the text items stop scaling... and this works for the horizontal scaling, but now the zooming no longer works as the text items of course do not scale.</p>\n\n<p>Is there a simple/efficient solution to this problem? I would rather not have to loop through a list of text items to flip the flag on and off all the time, but that is the only solution I can think of, I am not familiar enough with Qt to know all that it has to offer.</p>\n"},{"tags":["c++","qt","dbus","qtdbus"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1385,"score":3,"question_id":8626941,"title":"QtDbus c++ minimal example","body":"<p>I try four days already to understand how to use QtDbus to send integer between two applications. But all my attempts failed.  I  found a lot of examples in internet but when I am trying to put all this together I can't pick up where and what is going wrong. I used successful Signal &amp;&amp; Slot mechanism but I never used Dbus before.\n I can't even start..  May somebody give minimal full example?</p>\n"},{"tags":["visual-studio-2010","qt","dll","cmake","phonon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":176,"score":0,"question_id":12670112,"title":"Error LNK2019 and LNK2001: unresolved external symbol with Phonon in vs2010","body":"<p>I have gone through all the suggestions relating to  LNK2019 and  LNK2001 but non appear to solve my problem. My problem have to do with phonon and DLL but I can't figure out how to link the necessary library because my project doesn't have <code>.pro</code> file.\nI'm using vsaddin and vs2010, and cmake. The cmake does have a line as follow:</p>\n\n<pre><code>set( QT_LIBS QtCore QtGui QtNetwork QtSvg QtWebKit QtXml QtXmlPatterns phonon )\n</code></pre>\n\n<p>The error I got is as follow:</p>\n\n<pre><code>12&gt;MainWindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: __thiscall Phonon::Path::~Path(void)\" (__imp_??1Path@Phonon@@QAE@XZ) referenced in function \"public: __thiscall MainWindow::MainWindow(class QString const &amp;,class QWidget *,class QFlags&lt;enum Qt::WindowType&gt;)\" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)\n12&gt;MainWindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) class Phonon::Path __cdecl Phonon::createPath(class Phonon::MediaNode *,class Phonon::MediaNode *)\" (__imp_?createPath@Phonon@@YA?AVPath@1@PAVMediaNode@1@0@Z) referenced in function \"public: __thiscall MainWindow::MainWindow(class QString const &amp;,class QWidget *,class QFlags&lt;enum Qt::WindowType&gt;)\" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)\n12&gt;MainWindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: void __thiscall Phonon::MediaObject::setTickInterval(int)\" (__imp_?setTickInterval@MediaObject@Phonon@@QAEXH@Z) referenced in function \"public: __thiscall MainWindow::MainWindow(class QString const &amp;,class QWidget *,class QFlags&lt;enum Qt::WindowType&gt;)\" (??0MainWindow@@QAE@ABVQString@@PAVQWidget@@V?$QFlags@W4WindowType@Qt@@@@@Z)\n\n...\n\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual struct QMetaObject const * __thiscall Phonon::AudioOutput::metaObject(void)const \" (?metaObject@AudioOutput@Phonon@@UBEPBUQMetaObject@@XZ)\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual void * __thiscall Phonon::AudioOutput::qt_metacast(char const *)\" (?qt_metacast@AudioOutput@Phonon@@UAEPAXPBD@Z)\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual int __thiscall Phonon::AudioOutput::qt_metacall(enum QMetaObject::Call,int,void * *)\" (?qt_metacall@AudioOutput@Phonon@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual struct QMetaObject const * __thiscall Phonon::MediaObject::metaObject(void)const \" (?metaObject@MediaObject@Phonon@@UBEPBUQMetaObject@@XZ)\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual void * __thiscall Phonon::MediaObject::qt_metacast(char const *)\" (?qt_metacast@MediaObject@Phonon@@UAEPAXPBD@Z)\n12&gt;MainWindow.obj : error LNK2001: unresolved external symbol \"public: virtual int __thiscall Phonon::MediaObject::qt_metacall(enum QMetaObject::Call,int,void * *)\" (?qt_metacall@MediaObject@Phonon@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n\n...\n\n12&gt;F:\\Projects\\build_0.02_audio\\bin\\Debug\\Rashomon.exe : fatal error LNK1120: 37 unresolved externals\n</code></pre>\n"},{"tags":["qt","properties"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12664758,"title":"Q_OBJECT \"copying\" - copy all properties instead","body":"<p>As we all know, <code>Q_OBJECT</code>s are instances and are not copyable.</p>\n\n<p>Is there any kind of syntactic sugar to copy all static and dynamic properties of an arbitrary <code>QObject</code> derived class? </p>\n\n<p>It seems such a nobrainer, but I can't find any reference to such - obviously implementing one myself should be quite trivial - loop over <code>metaObject()</code>, loop over <code>dynamicPropertyNames()</code>, set accordingly.</p>\n"},{"tags":["c++","qt","keyboard","symbian","textinput"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12664253,"title":"Symbian simulate keyboard input","body":"<p>I have created a Qt background task that generates text on account of user input. My task runs when a text input field is open, what I now need is a way to insert text into the input of whatever application is currently open. I have looked at key press simulation but I cannot find a method that works.</p>\n\n<p>Do you gave any idea what I can do?</p>\n\n<p>PS. This is for Symbian^3(Belle) and Qt as well as Symbian C++ code will work.</p>\n"},{"tags":["c++","qt","red-black-tree","skip-lists","qmap"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":88,"score":6,"question_id":12671529,"title":"why does qmap uses skiplist instead ob rb-tree?","body":"<p>I wounder why does QMap realised over skiplist data-structure and not rb-tree?\nThere is  very interesting <a href=\"http://stackoverflow.com/questions/256511/skip-list-vs-binary-tree\">SO thread</a> about concurrency data-structs and skip-list benefits over rb-tree, pros and cons. It is indeed VERY interesing dialog with helpfull links, but QMap is not thread safe, it doesnt do any mutex locking for syncing access out of the box. It requires wrapper or subclassing.</p>\n\n<p>For me its not simplier to write \"hand-made\" skiped list instead of rb-tree, so this is not obvious either.</p>\n\n<p>Is there any kill-feature in context of non thread-safe Qt container?</p>\n\n<p>Tnx in advance.</p>\n"},{"tags":["c++","eclipse","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":105,"score":-2,"question_id":12670710,"title":"Eclipse integrate with qt","body":"<p>i download qt and eclipse with c++ cdt , i see that qt come with qt ide (qt creator) , to develop qt appliation and that fine , but i want to do this wit eclipse , i mean use c++ code with qt inside eclipse . is there any ? because i am trying to use qt to design my user interface only  and using  other code from other libraries to do other things . </p>\n\n<p>i try to include header files (usr/include/qt4) , but i still have a problem when i compile the program such us ( can't find qgui.h ) any help the integrate qt with eclipse like netbeans . </p>\n\n<p>edit : </p>\n\n<p>here is my output </p>\n\n<pre><code>13:48:48 **** Incremental Build of configuration Debug for project test ****\nInfo: Internal Builder is used for build\ng++ -o test src/test.o -lQtCore \nsrc/test.o: In function `main':\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:6: undefined reference to `QApplication::QApplication(int&amp;, char**, int)'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:8: undefined reference to `QPushButton::QPushButton(QString const&amp;, QWidget*)'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::exec()'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QPushButton::~QPushButton()'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::~QApplication()'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:8: undefined reference to `QPushButton::~QPushButton()'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QPushButton::~QPushButton()'\n/media/sda2/workspaceeclipse/test/Debug/../src/test.cpp:12: undefined reference to `QApplication::~QApplication()'\nsrc/test.o: In function `QWidget::resize(int, int)':\n/usr/include/qt4/QtGui/qwidget.h:996: undefined reference to `QWidget::resize(QSize const&amp;)'\ncollect2: error: ld returned 1 exit status\n\n13:48:49 Build Finished (took 1s.609ms)\n</code></pre>\n"},{"tags":["linux","qt","displaying"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12672631,"title":"Screen gets split into two parts(left and right) and these parts gets swapped","body":"<p>I am developing an application on SBC6000x board (with linux kernel version 2.6.24) . I am using qt version 4.7.3. Application executable size is around 1.8 MB.</p>\n\n<p>When I load an application on board, most of the times it works fine but few times screen gets split into two parts(left and right).</p>\n\n<p>After splitting, left and right parts get swapped. Interestingly, click events are handled according to original screen(before split).</p>\n\n<p>I read, there is problem with display with Qt 4.7.3 version but not able to understand/figure it out.</p>\n\n<p>What could be the possible ways to handle this out.</p>\n\n<p>Thanks,\nRajendra</p>\n"},{"tags":["c++","qt","tree","drawing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":354,"score":1,"question_id":9442730,"title":"How to draw data flow graphs in Qt?","body":"<p>I would like to draw squares and withing them, small circles that can be connected to other squares in other squares by a polyline or so. </p>\n\n<p>I would like to know how to do that in Qt.</p>\n\n<p>Attached an image for more illustration.<img src=\"http://i.stack.imgur.com/iYRhz.png\" alt=\"image\"></p>\n"},{"tags":["c++","windows","qt","user-interface"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":813,"score":0,"question_id":9270104,"title":"\"collect2: ld returned 1 exit status\" in Qt creator","body":"<p>When I compile my program, I get <code>ld returned 1 exit status</code> error. Here is the code (<strong>main.cpp</strong>):</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QHBoxLayout&gt;\n#include &lt;QLineEdit&gt;\n#include \"widget.h\"\n\nint main(int argc, char *argv[])\n{\nQApplication app(argc, argv);\n\nQPushButton *okayButtom = new QPushButton(\"Okay\");\n\nQMainWin *mainWin = new QMainWin(\"Say Pig!\");\nQHBoxLayout *Hbox = new QHBoxLayout;\nQLineEdit *inputBox = new QLineEdit;\n\n\nmainWin-&gt;setWindowTitle(\"Hello, Pig!\");\nHbox-&gt;addWidget(inputBox);\nHbox-&gt;addWidget(okayButtom);\n\nmainWin-&gt;setLayout(Hbox);\nmainWin-&gt;show();\n\nreturn app.exec();\n}\n</code></pre>\n\n<p>and this is <strong>widget.h</strong></p>\n\n<pre><code>#ifndef WIDGET_H\n#define WIDGET_H\n\n#include &lt;QtGui&gt;\n\nclass QMainWin : public QWidget\n{\nQ_OBJECT\nprivate:\nQString WinTitle;\npublic:\nQMainWin(const QString &amp;title, QWidget *parent = 0):WinTitle(title)\n{\n    this-&gt;setWindowTitle(WinTitle);\n}\n\n~QMainWin();\n};\n\n#endif // WIDGET_H\n</code></pre>\n\n<p>I didn't use UI file, I only use cpp source file.</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12670442,"title":"Executable not working properly (Qt)","body":"<p>I created a project in Qt Creator(2.4.1 , based on Qt 4.7.4) that takes pictures from 2 webcams (i used OpenCV for this) and saves them in 2 different .avi files. </p>\n\n<p>When i run my project from within Qt Creator, the .avi files are created, and the frames are saved in the created .avi files, and i can view the captured frames with a video player. </p>\n\n<p>But when i run the executable (created in release directory) the .avi files are created but the frames are not saved. The created .avi files are empty, they occupy 0bytes. </p>\n\n<p>I think this may be because of the optimization flags but i'm not sure about this. I didn't modify the optimisation flags. I appreciate if someone could help me with this.</p>\n"},{"tags":["c++","qt","posix","qmake","timespec"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":145,"score":1,"question_id":12590917,"title":"Execution time of functions decreases at runtime. (C++) Why?","body":"<p>For some testing purposes I have written a piece of code for measuring execution times of several fast operations in my real-time video processing code. And things are working fine. I am getting very realistic results, but i noticed one interesting peculiarity.</p>\n\n<p>I am using a <strong>POSIX</strong> function <code>clock_gettime</code> with <code>CLOCK_MONOTONIC</code> attribute. So i am getting timespecs with nanosecond precision (1/1000000000sec) and it is said that getting a timespec value in that manner takes only several processor ticks.</p>\n\n<p>Here are two functions that i am using for saving timespecs. I also added definitions of datastructures that are being used:   </p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>QVector&lt;long&gt; timeMemory;\nQVector&lt;std::string&gt; procMemory;\ntimespec moment;\n\nvoid VisionTime::markBegin(const std::string&amp; action) {\n    if(measure){\n    clock_gettime(CLOCK_MONOTONIC, &amp;moment);\n    procMemory.append(action + \";b\");\n    timeMemory.append(moment.tv_nsec);\n    }\n}\n\nvoid VisionTime::markEnd(const std::string&amp; action) {\n    if(measure){\n    clock_gettime(CLOCK_MONOTONIC, &amp;moment);\n    procMemory.append(action + \";e\");\n    timeMemory.append(moment.tv_nsec);\n    }\n}\n</code></pre>\n\n<p>I am collecting the results into a couple of QVectors that are used later.</p>\n\n<p>I noticed that when these two functions are executed for the first time(right after each other, having nothing between them), the difference between two saved timespecs is ~34000ns. Next time the difference is about 2 times smaller. And so on. If i execute them for hundreds of times then the average difference is ~2000ns.\nSo an average recurrent execution of these functions takes about 17000x less time than the first one.\nAs i am taking hundreds of measurements in a row, it does not really matter to me that some first executions last a little bit longer. But anyway it just interests me, why is it that way?</p>\n\n<p>I have various experience in Java, but i am quite new to c++. I do not know much how things work here.\nI am using O3 flag for optimization level. \nMy QMake conf:\n<code>QMAKE_CXXFLAGS += -O3 -march=native</code></p>\n\n<p>So, can anyone tell, which part of this little code gets faster at runtime, how and why? I doubt appending to QVector. Does optimization affect this somehow?</p>\n\n<p>It's my first question here on stackoverflow, hope it's not too long :) Many thanks for all your responses!</p>\n"},{"tags":["javascript","json","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12668600,"title":"How to call the evaluateJavaScript function with an input parameter that is a JSON Array?","body":"<p>In Qt, how would I call the <code>evaluatejavascript</code> function with an input parameter that is a JSON Array?</p>\n"},{"tags":["qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12668928,"title":"How to set background for qml gridview in Qt","body":"<p>How to set background of <code>gridview</code> from QML file.</p>\n"},{"tags":["qt","mingw","ld"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12667505,"title":"Is that possible to link a huge library within small memory?","body":"<p>I've tried several times to cross-compile Qt4.8.2 with mingw32 4.7 on my poor little linux box , which only has 2GB mem,all failed because of the memory limitation. The mingw ld just keeps swallowing the memory until its belly explode. I just want to ask if it is even possible to link such big-ass lib within such a small memory. If it's definitely a no-go, I'd have to resort to some other approaches. Thanks in advance.</p>\n\n<p>~~~~~</p>\n\n<p>Haha! Finally, I found the answer. I just need to temporarily increase my swap memory by creating a swap file on the harddrive. The specific steps will be shown as below:</p>\n\n<pre><code>sudo dd if=/dev/zero of=/mnt/swapfile bs=1M count=2048 #create a 2GB big emptyfile\nsudo mkswap /mnt/swapfile #format it as a swapfile\nsudo swapon /mnt/swapfile #turn on the newly created swap\n#... build your big-ass package ...\nsudo swapoff /mnt/swapfile #turn off the swap. That means your swap space will be reassigned to your originally arranged swap partion on your HD\n</code></pre>\n\n<p>Happy hacking! ;)</p>\n"},{"tags":["c++","qt","crash","mingw","creator"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":107,"score":1,"question_id":12666969,"title":"Can't build qmake.exe crashes in Qt Creator","body":"<p>I'm using Qt Creator on Windows XP SP3. I want to develop C++ desktop applications.</p>\n\n<p>I made a new project. Everytime I click build, it appears a window which says \"qmake.exe has encountered a problem and needs to close. We are sorry for the inconvenience.\"</p>\n\n<p>In Qt Creator, something similar to this appears:</p>\n\n<p>20:36:55: Running build steps for project yyy...\n20:36:55: Starting: \"d:\\qtsdk\\desktop\\qt\\4.8.1\\mingw\\bin\\qmake.exe\" D:...\\yyy.pro -r -spec win32-g++ \"CONFIG+=declarative_debug\"\n20:38:00: The process \"d:\\qtsdk\\desktop\\qt\\4.8.1\\mingw\\bin\\qmake.exe\" crashed.\nError while building project yyy (target: Desktop)\nWhen executing build step 'qmake'</p>\n\n<hr>\n\n<p>I can't build, I have reinstalled the software but it keeps giving the same error.</p>\n\n<p>Can you give me any idea of what is happening? Thanks</p>\n"},{"tags":["qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12660145,"title":"Qt attempting to include openCV library files","body":"<p>Am I correctly including all the library files from the directory ?? </p>\n\n<p><code>LIBS += \"C:\\openCV24\\opencv_bin\\lib\\*.dll\"</code> </p>\n\n<p>Because this line keeps on giving me </p>\n\n<p><code>C:\\openCV24\\opencv_bin\\install\\lib*.dll: Invalid argument</code></p>\n\n<p>Ive tried looking several places and have altered this line many times but cant seem to get it to work. Can someone please let me know if Im missing a step ??</p>\n\n<p>I have alreay included the includepath and that work fine <code>INCLUDEPATH += \"C:\\openCV24\\opencv_bin\\install\\include\"</code> but its the additional library files that throw an error</p>\n\n<p>Thx alot really getting annoyed</p>\n"},{"tags":["c++","qt","events"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":83,"score":3,"question_id":12656646,"title":"Custom events in Qt","body":"<p>I am experimenting with custom events in Qt Creator. I am currently examining this example code on another site:</p>\n\n<pre><code>bool MyClass::event(QEvent* e)\n{\n    if (e &amp;&amp; e-&gt;type() == MyCustomEventType) {\n       MyCustomEvent* ce = dynamic_cast&lt;MyCustomEventType*&gt;(e);\n       return handleCustomEvent(ce);\n    }\n    // very important: still handle all the other Qt events!\n    return QObject::event(e);\n}\n</code></pre>\n\n<p>The conditional statement checks if the event passed is the custom event, then it executes code that it wants to happen when the event occurs. What I do not understand is <code>return handleCustomEvent(e)</code> (what is this function supposed to do and where is it supposed to be declared?) and what <code>return QObject::event(e)</code> does. From what I read on the Qt documentation, the only thing this function does is return whether the event's function (is this handleCustomEvent?) is \"recognized and processed\". Is this supposed to handle all other events in the loop?</p>\n"},{"tags":["xml","qt","int","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12663291,"title":"Qt4: debugging with popups, trying to convert integer to string, getting letters","body":"<p>Sorry for the confusing title, what I am trying to do is use Qt to count the amount of elements with a certain tag name. When I do this, and try to convert the count to a string I get letters instead of numbers. </p>\n\n<pre><code>void xml::list(QDomElement root, QString tagname, QString att){\nQDomNodeList items = root.elementsByTagName(tagname); // node list of elements \ndebug.setText(QString(items.count())); // converting the amount of elements to integer\ndebug.show(); // showing the popup box\n}\n</code></pre>\n\n<p>there is only one element that it should be counting, and I should get the number 1 in the message box, instead it gives me the letter \"r\". Am I converting this incorrectly?</p>\n"}]}
{"total":16229,"page":13,"pagesize":100,"questions":[{"tags":["qt","drawing","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12662106,"title":"Qt drawing with Qt designer","body":"<p>I have tried to search on the internet and here as well, without success though. I am using Qt 4.8.2 and design my app in the Designer, then I write code in VS2010. I would like to show a chart on the application window, e.g. like <a href=\"http://www.infocaptor.com/user_help/help_img/dashboard_line_chart_screen.png\" rel=\"nofollow\">http://www.infocaptor.com/user_help/help_img/dashboard_line_chart_screen.png</a> , based on some data that are created by the app.</p>\n\n<p>In the Widget Box of the Designer, I can't find any widget related to drawing. So I tried creating a QTextEdit and drawing on that using QPainter. However, this does not work. I can draw on the whole appwindow, but not just on the text edit. So the question is: what widget can be added onto the app window in the designer and that is going to allow me to draw on it using QPainter?</p>\n\n<p>I'm eluded as the documentation says specifically that QPainter can draw on any QWidget which a QTextEdit is...</p>\n\n<p>Any help is much appreciated,\nDaniel</p>\n"},{"tags":["qt","crash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12662760,"title":"Qt creator crashes after choosing new project","body":"<p>Qt creator crashes after choosing new project (actually, when I just click on project that is below 3rd one) without errors.\nSome times there was internal Ubuntu error where was tag:</p>\n\n<blockquote>\n  <p>qtcreator crashed with SIGABRT in raise().</p>\n</blockquote>\n"},{"tags":["windows","qt"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12662850,"title":"Windows Aero Window Preview custom buttons","body":"<p>Some applications on Windows 7 (Not sure about Vista) have custom buttons in their Aero window previews, below the actual window preview image, like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9njjh.png\" alt=\"enter image description here\"></p>\n\n<p>How would I go about implementing this in a Qt application, if that's at all possible? I'm also open to any solutions that might require me to toy around with the native WinAPI stuff.</p>\n\n<p>Thanks for any ideas/pointers/responses y'alls may have.</p>\n"},{"tags":["c++","qt","contextmenu","coordinates","qtreewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12659894,"title":"How to pop menu at QTreeWidgetItem‘s coordinates?","body":"<p>In QT:I craete a QMenu:</p>\n\n<pre><code>QMenu* popMenu = new QMenu(ui-&gt;treeWidget);\n</code></pre>\n\n<p>and I want to pop it above the current treewidgetitem, but what I only know is:</p>\n\n<pre><code>popMenu-&gt;exec(QCursor::pos());\n</code></pre>\n\n<p>So if I use:</p>\n\n<pre><code>ui-&gt;treeWidget-&gt;setCurrentItem(treeWidgetItem);//this is necessary for my program and the current item will be used elsewhere.\n</code></pre>\n\n<p>The menu will pop at the pos of the mouse-clicked pos not at the item. This looks wizard:(\nHow can I pop the menu at the current item’s coordinates?</p>\n"},{"tags":["c++","osx","qt","overlay","finder"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12661317,"title":"Using c++ how to show overlay icon in finder mac osx","body":"<p>Recently we developed a MAC installer(.dmg). This is developed in c++ and QT. We had a hard requirement to show overlay icons on the files in the finder like how CVS/Dropbox shows sync status on files. </p>\n\n<p>My question is exactly similar to below post. I understand that, if we try to show overlay icons in finder, MAC app store doesn't allow my app to be there. I am fine with this, my users will download the app from the website.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7991131/how-can-i-add-icon-overlay-in-finder\">How can i add icon overlay in finder?</a> </p>\n\n<p>Am pretty much new to MAC and c++ also, Can you please provide me suggestion or solution in c++ in detailed.</p>\n"},{"tags":["c++","multithreading","qt","debugging","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":11593461,"title":"Multithreading Crash using QT and QOGL","body":"<p>I have an QOGLWidget widget which is constructed in a another window, which is activated by button from the QMainwindow. \nI'm trying to send a surface of an image from the widget to the main window's QOGLWidget, the problem that it crashes and gives a first chance exception access violation.</p>\n"},{"tags":["c++","multithreading","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":116,"score":2,"question_id":11594027,"title":"Best way in Qt to send OpenGL images between two widgets","body":"<p>I want to use a GLWidget which is inside a simulator window, and would like to send the data using framebuffer object to the mainwindow's glwidget. </p>\n\n<p>I have used signal/slot to achieve that but I had many problems with multi-threading problem and exceptions.</p>\n\n<p>What is the best way to achieve that scenario. ![attached a picture of the scenario I want to do][1]</p>\n"},{"tags":["c++","qt","layout","widget","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12659629,"title":"Accessing Qt Layout created in UI from code?","body":"<p>This is probably the dumbest problem I have ever had, but I am extremely confused. I am trying to get started with layouts, but for some reason cannot figure this one out.</p>\n\n<p>I have tried adding a QGridLayout via the .ui file by just drag dropping it into my project. As I want to populate the grid with widgets upon loading, I have tried to use the \"gridLayout\" object in the \"mainwindow.h\" file both before/after the this->setupui() is called.</p>\n\n<p>As I couldn't figure that out, I opted to just try creating it from scratch using code, and added the following to the main.cpp file instead. This did not display either, so I am wondering how on earth I can populate the grid when the form loads.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtGui&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    MainWindow w;\n\n    QGridLayout *grid = new QGridLayout;\n\n    QLabel *label1 = new QLabel(\"test\");\n    QLabel *label2 = new QLabel(\"test 2\");\n\n    grid-&gt;addWidget(label1, 0, 0);\n    grid-&gt;addWidget(label2, 0, 1);\n    w.setLayout(grid);\n\n    w.show();\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12659768,"title":"Disconnect the wifi internet connection programmatically","body":"<p>Could i disconnect the internet connection pragmatically in qt.</p>\n"},{"tags":["c++","multithreading","qt","queue","simultaneous"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12654967,"title":"How can I run two Threads at the same time? Qt C++","body":"<p>My task is to simulate a bottler process. </p>\n\n<p>There is a person who is in charged of putting \"bottles\" in a queue. For example his speed is 1 bottle per second. I did this with a thread. But the problem is that there must be a second thread, this will be a machine who will be in charged of taking these \"bottles\" and dequeue them and then put them into another queue. </p>\n\n<p>I did this by creating the queues and threads in the 'main' function. Then I started the thread, and as parameter I entered the queue which I just created. In this way the thread (in this case, the person) will put the \"bottles\" into the queue passed as parameter.</p>\n\n<p>Then when the program is run, is does work, but not as it should be. \nThe first thread (person) start putting elements into the queue, and when it finishes, then the second thread (machine) starts removing the elements of the queue.</p>\n\n<p>What I want my program to do is to do these two tasks at the same time, this means that as soon as the person (the first thread) starts putting elements into the queue, the machine (second thread) start removing them from the queue.</p>\n\n<p>Here is some of my code:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\nQCoreApplication a(argc, argv);\n\nQueue *queue1 = new Cola (\"\"); // First queue\nThread *Person = new Thread (); // Person who is in charged of putting bottles\nThread *Machine = new Thread (); // Machine in charged of removing elements of the queue\n\nPerson-&gt;queue(queue1);\nMachine-&gt;dequeue(queue1);\n\nsystem(\"Pause\");\nreturn 0;\n\nreturn a.exec();\n}\n</code></pre>\n\n<p>and here is some of the code of Thread</p>\n\n<pre><code>void Thread::queue(queue *c)\n{\n\nfor (int i = 0; i &lt; 10; i++)\n{\n    c -&gt; push (i);\n    cout &lt;&lt; \"Inserting to the queue the: \" &lt;&lt; i &lt;&lt; endl;\n    this -&gt; sleep (1);\n}\n}\n\nvoid Thread::dequeue(queue *c)\n{\n\nwhile (!c -&gt; empty())\n{\n    c -&gt; pop ();\n    this -&gt; sleep (2);\n}\n}\n</code></pre>\n\n<p>Any ideas of how can these two threads work at the same time?\nThanks for your help and ideas, I really appreciate them.</p>\n"},{"tags":["qt","button","qevent","mousepress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12658943,"title":"event(QEvent*) conflicts with mousePressEvent(QMouseEvent *)?","body":"<p>In QT: I use a class inherited from QToolButton and rewrite event(QEvent*), now I want to add 'mousePressEvent', but it never gets hit, does event(QEvent*) conflict with mousePressEvent(QMouseEvent *) ? Thank you.</p>\n\n<pre><code>bool IconLabel::event (QEvent* e ) {\n   if ( e-&gt;type() == QEvent::Paint) {\n      return QToolButton::event(e);\n\n   }\n   return true;\n}\nvoid IconLabel::mousePressEvent(QMouseEvent* e)\n{\n   int a = 1;//example\n    a = 2;// example//Handle the event\n}\n</code></pre>\n\n<p>The class is:</p>\n\n<pre><code>class IconLabel : public QToolButton\n{\n    Q_OBJECT\npublic:\n    explicit IconLabel(QWidget *parent = 0);\n    bool event (QEvent* e );\n    void mousePressEvent(QMouseEvent* e);\nsignals:\n\npublic slots:\n\n};\n</code></pre>\n"},{"tags":["python","qt","pyqt","qtableview","autoscroll"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12657294,"title":"Keep QTableView scrolling to the last row when the model is growing","body":"<p>I've a QTableView in a pyqt application. I continuously append rows to the underlying model. And what I want is the view to continuously scroll to the last, most recent row (is that behavior called \"autoscrolling\"?). But instead, the view does not scroll at all (automatically) and stays at its position.</p>\n\n<p>Can I enable this autoscrolling behavior somehow or do I need to code something to achieve it?</p>\n\n<p>Cheers,\nWolfgang</p>\n"},{"tags":["c++","qt","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12657182,"title":"QWebFrame load() not sending cookies upon initial page load","body":"<p>I am using QtWebkit to implement a browser in C++/Qt. When I open a new tab in it with a QWebView instance and load a URL using load() the page loads normally, but when it's a site where I'm logged in using cookies, it'll appear as though I'm not logged in at all, due to the cookies for that page not being sent along with the HTTP request (verified using SocketSniff).</p>\n\n<p>The only thing I think that might make a difference would be the custom cookiejar I created, but I'm unsure what it might be since the cookiejar works fine otherwise. You can find the full source code at the Github link on the project page for the browser: <a href=\"http://www.mayaposch.com/wildfox.php\" rel=\"nofollow\">http://www.mayaposch.com/wildfox.php</a> and the Github link: <a href=\"https://github.com/MayaPosch/WildFox\" rel=\"nofollow\">https://github.com/MayaPosch/WildFox</a></p>\n\n<p>Any clues are welcome :)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12652356,"title":"MDI window and QSignalMapper basics","body":"<p>First of all my apologies for big looking question but indeed it's not. I’m reading Foundation of qt development book and while reading fourth chapter author tells the basics of MDI window by showing this example :</p>\n\n<pre><code>MdiWindow::MdiWindow( QWidget *parent ) : QMainWindow( parent ) {\n  setWindowTitle( tr( \"MDI\" ) );\n  QWorkspace* workspace = new QWorkspace;\n  setCentralWidget( workspace );\n  connect( workspace, SIGNAL(windowActivated(QWidget *)), this, SLOT(enableActions()));\n  QSignalMapper* mapper = new QSignalMapper( this );\n\n  //my problem is in this line\n  connect( mapper, SIGNAL(mapped(QWidget*)), workspace, SLOT(setActiveWindow(QWidget*)) );\n\n  createActions();\n  createMenus();\n  createToolbars();\n  statusBar()-&gt;showMessage( tr(\"Done\") );\n  enableActions();\n}\n</code></pre>\n\n<p>His this para of explanation completely eluded me (is it me or others having problem understanding it too?) :</p>\n\n<blockquote>\n  <p>Next, a signal mapping object called QSignalMapper is created and\n  connected. A signal mapper is used to tie the source of the signal to\n  an argument of another signal. In this example, the action of the menu\n  item corresponding to each window in the Window menu is tied to the\n  actual document window. The actions are in turn connected to mapper.\n  When the triggered signal is emitted by the action, the sending action\n  has been associated with the QWidget* of the corresponding document\n  window. This pointer is used as the argument in the mapped(QWidget*)\n  signal emitted by the signal mapping object.</p>\n</blockquote>\n\n<p><strong>My question</strong> : I still don’t get what is signal mapper class, how it’s used and what's functionality it's doing in the example above?. Can anyone please explain the above para using easy terms? also It’d be awesome if you could please teach me about mapper class’s basics with simple example? possibly in layman’s term?</p>\n\n<p><strong>P.S</strong> : A confusion is when we have MDI window, do menu changes (though actions are disabled/enabled) e.g suppose for one particular document we have menu “File/close” and for other document we have “File/remaper” ?</p>\n"},{"tags":["python","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12655538,"title":"How to set QWidget background color?","body":"<p>The line <code>w.setBackgroundRole(QPalette.Base)</code> in the code below has no effect. Why? How do I fix that?</p>\n\n<pre><code>import sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\n\napp = QApplication(sys.argv)\nw = QWidget()\nw.setBackgroundRole(QPalette.Base)\nw.show()\napp.exec_()\n</code></pre>\n"},{"tags":["c++","qt","initialization-list"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12652653,"title":"What can I put in initialization of an inherited class in Qt","body":"<p>I created a Qt class called video like following: </p>\n\n<p>video.h</p>\n\n<pre><code>class Video : public QDjangoModel {\n    Q_OBJECT\n//  ...\n\npublic:\n    explicit Video(QObject *parent = 0);\n//  ...\n};\n</code></pre>\n\n<p>video.cpp</p>\n\n<pre><code>Video::Video(QObject *parent) : QDjangoModel(parent) {}\n</code></pre>\n\n<p>and following error occured:</p>\n\n<pre><code>In file included from ../OnlineVideoPlayer/video.h:7:0,\n                 from ../OnlineVideoPlayer/video.cpp:28: ../../../bin/QtSDK/Desktop/Qt/4.8.1/gcc/include/QtCore/qobject.h: In\ncopy constructor 'QDjangoModel::QDjangoModel(const QDjangoModel&amp;)':\n../../../bin/QtSDK/Desktop/Qt/4.8.1/gcc/include/QtCore/qobject.h:333:5:\nerror: 'QObject::QObject(const QObject&amp;)' is private\n/usr/local/include/qdjango/db/QDjangoModel.h:72:22: error: within this\ncontext In file included from ../OnlineVideoPlayer/video.cpp:28:0:\n../OnlineVideoPlayer/video.h: In copy constructor 'Video::Video(const\nVideo&amp;)': ../OnlineVideoPlayer/video.h:14:7: note: synthesized method\n'QDjangoModel::QDjangoModel(const QDjangoModel&amp;)' first required here\n</code></pre>\n\n<p>This class extends class named <code>QDjangoModel</code> (which is included in <a href=\"https://code.google.com/p/qdjango/\" rel=\"nofollow\">QDjango</a>) and <code>QDjangoModel</code> extends <code>QObject</code>.\nWhen I create class on Qt creator, it creates following template:</p>\n\n<pre><code>NewClass::NewClass(QObject *parent) : QObject(parent) {}\n</code></pre>\n\n<p>and I thought <code>: QObject(parent)</code> is parent's constructor, so I replaced it to <code>: QDjangoModel(parent)</code> but it seems incorrect.</p>\n\n<p>Questions:</p>\n\n<p><strong>Q1. What <code>: QObject(parent)</code> mean?</strong></p>\n\n<p>I googled about initialization list, and I understand the meaning of following code:</p>\n\n<pre><code>class NewClass {\npublic:\n    FileReader(QString name);\nprivate:\n    QString m_name;\n};\n\nNewClass::NewClass(QString name) : m_name(name) {}\n</code></pre>\n\n<p>In this case,</p>\n\n<pre><code>m_name = name;\n</code></pre>\n\n<p>is executed when constructor executed, right?</p>\n\n<p>But in my case, </p>\n\n<pre><code>NewClass::NewClass(QObject *parent) : QObject(parent) {}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>NewClass::NewClass(QObject *parent) : QDjangoModel(parent) {}\n</code></pre>\n\n<p>don't mean</p>\n\n<pre><code>QObject = parent;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>QDjangoModel = parent;\n</code></pre>\n\n<p>obviously so my understanding for <code>m_name(name)</code> case is not applied for <code>QObject(parent)</code> case.</p>\n\n<p><strong>Q2. What can I fix this error?</strong></p>\n"},{"tags":["c++","qt","layout","gridview","widget"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12650674,"title":"QGridLayout vs QHBoxLayout & QVBoxLayout","body":"<p>I have recently come back to Qt (tried it for previous projects and opted against it) and am really liking everything about it thus far. I am writing a TV Guide style application that will display Episode Guide Data (EPG) for anywhere from 3-7 days, and this data will be fed in from a Database source.</p>\n\n<p>Right now I am having a hard time determining if I should use a QGridLayout or a combination of QHBoxLayouts (for the episode data) with a single QVBoxLayout on the left side (for the channel name/icons). My main concern with QGridLayout is that I would break it up into “30 minute” blocks, but when programs started at say 3:45, I am not sure it would work correctly. To give a better idea of what I am going for with the GUI, this screenshot can be viewed…</p>\n\n<p><a href=\"http://www.itvt.com/files/u3/AT&amp;T-u-verse-tv-epg-2009.jpg\" rel=\"nofollow\">http://www.itvt.com/files/u3/AT&amp;T-u-verse-tv-epg-2009.jpg</a></p>\n\n<p>Just on a side note, if I want to only display a segment of this (i.e. 3:00AM – 4:30AM) and say 10 channels, which option would it be easier to implement vertical/horizontal scrolling with? Would I need to stick them in a different widget for that behavior?</p>\n"},{"tags":["python","qt","pyqt","pychart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12652587,"title":"Bringing PyQt and PyChart together","body":"<p>I want to visualize some measurement values in realtime. I think - although not finally sure - I can do this with PyChart. The surrounding application is based on PyQt.</p>\n\n<p>Now I', wondering how I can put the chart drawn using PyChart into some qt widget, may be a QGraphicWidget?</p>\n\n<p>Could someone give me a bit advise?</p>\n\n<p>Cheers,\nWolfgang</p>\n"},{"tags":["qt","qstring","qbytearray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12652273,"title":"qt array qstring","body":"<p>I get result from db by selectall query and I want save result in array and send it by socket.</p>\n\n<pre><code>  db.open();\n    QSqlQuery *selectall = new QSqlQuery(db);\n    selectall-&gt;prepare(\"select * from phone_table\");\n    selectall-&gt;exec();\n    selectall-&gt;first();\n    QString result;\n    QByteArray arrayresult;\n    int index = 0;\n    while (selectall-&gt;next())\n    {\n        index += 1;\n        //qint16 id = selectall-&gt;value(0).toString();\n        QString name_ = selectall-&gt;value(1).toString();\n        QString surname = selectall-&gt;value(2).toString();\n        QString phone_number = selectall-&gt;value(3).toString();\n        result = \"*\"+ name_+\"*\"+surname+\"*\"+phone_number;\n        arrayresult[index] = result;\n\n    }\n</code></pre>\n\n<p>I get this error binary '=' : no operator found which takes a right-hand operand of type 'const char [16]'</p>\n"},{"tags":["qt","class","customization","paint"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12261396,"title":"Customizing a library class in QT","body":"<p>I would like to create a specific <code>QPlainTextEditor</code> in Qt. Namely, I would like to highlight every second row with grey. Now, I've made a new <code>QAbstractScrollArea</code> class (<code>HighlightedOddLineScrollArea</code>) and I've modified its <code>paintEvent</code>, but I've no idea how to implement it into my text editor. Do I have to do it through a constructor, or is there a function to exchange the default one?</p>\n"},{"tags":["xml","qt","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12637858,"title":"Update XML file in QT","body":"<p>I have Xml file</p>\n\n<pre><code>&lt;root rootname=\"RName\" otherstuff=\"temp\"&gt;\n     &lt;somechild childname=\"CName\" otherstuff=\"temp\"&gt;\n     &lt;/somechild&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>in the above XML how can I update <code>RName</code> to <code>RN</code> and <code>CName</code> to <code>CN</code> using QT. I am using <code>QDomDocument</code> but not able to do required thing.</p>\n"},{"tags":["javascript","python","qt","webkit","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12649849,"title":"Invoke Webkit Javascript Functions from Python Cleanly","body":"<p>For an application I am currently working on I decided to use HTML5 for the interface, allowing me to have a modern interface that doesn't change in appearance when you change operating systems. Naturally I chose the webkit engine for rendering, specifically the PyQT bindings. My issue is that every time I want to call a javascript function from python, I have to do it using the messy evaluateJavaScript function.</p>\n\n<p>Any alternatives I can use that allow a more direct way of calling javascript functions?</p>\n"},{"tags":["javascript","qt","sockets","websocket","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12644448,"title":"How to debug websockets with Qtwebkit","body":"<p>Is it possible to debug websockets in a application that was made using Qtwebkit? </p>\n\n<p>I've activated the Qtwebkit debugger, but I can't find some tab like the one included in Chrome inspector that's call \"network\" and filter it by websockets...</p>\n\n<p>Despite this, if not possible with debugger, will be great to know at least techniques on how to debug websockets.</p>\n"},{"tags":["c++","qt","compilation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12650589,"title":"Qt - Facing issue when doing static recompile","body":"<p>I'm facing a problem. When I do a static release compile for open source, it shows vmr9.h not found dshow.h not found and many more.. What do I do?</p>\n"},{"tags":["qt","layout","widget","hide"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12648709,"title":"QT: two layouts add the same widget","body":"<p>In Qt: I create a widget-ui class, and I want to make the widget appear in two different layouts in two separate base widget(or window). So I want to:</p>\n\n<pre><code>widget_based_class* inside = new widget_based_class(base_widget1);\n\nQHBoxLayout *lay1=new QHBoxLayout(base_widget1);\nbase_widget-&gt;setLayout(lay1);\nlay1-&gt;addWidget(inside);\nbase_widget1.show();\n\n-------------------------------\nbase_widget1.hide();\nQHBoxLayout *lay2=new QHBoxLayout(base_widget2);\nbase_widget-&gt;setLayout(lay2);\nlay2-&gt;addWidget(inside);\nbase_widget2.show();\n</code></pre>\n\n<p>How cound I achieve this? (My program is more complicated, and I didn't see the code work.)\nTank you.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12649601,"title":"Qt - Static build for open source/commercial","body":"<p>Simple question, i wanted to know that is it legal to build a static application for an open source program in Qt? I heard that it's against the Qt rules.</p>\n\n<p>Also, if I want to do a static build for commercial, it requires a license file which i have to purchase obviously. So isn't there any other way to build statically without any problems or anything?</p>\n"},{"tags":["c++","qt","listview","qml","blackberry-10"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":132,"score":2,"question_id":12647816,"title":"How to respond to clicking on list items in a list view in qml, C++ qt, in Blackberry 10 Cascades","body":"<p>I am trying to figure out how to be able to click on an item on a list in Blackberry.  I'm using QML, C++, QT, and Blackberry 10 Cascades.  I had the list view implemented, then I tried to make it so that you could click on an item on the list by looking at this Twitter Timeline example (btw - I was not able to run the example).</p>\n\n<p>What I'm doing isn't working.  When I call listView_->setListItemManager(new CustomerListItemManager(customerListContainer_)), it causes the list view to be blank (before I added that code, the list view showed up).</p>\n\n<p>So basically how to get the ability to click on an item on the list and have it respond work.  </p>\n\n<p>Anyway - here is the relevant code of what I have tried so far:</p>\n\n<pre><code>Container {\n    id: customersListContainer\n    objectName: \"customersListContainer\"\n\n    ListView {\n        id: customersList\n        objectName: \"customersList\"\n\n        listItemComponents: [\n            ListItemComponent {\n        type: \"item\"\n\n        Container {\n\n        HeaderListItem {\n            title: ListItemData.firstName + \" \" + ListItemData.lastName\n        }\n\n            StandardListItem {\n            title: ListItemData.officePhone + \"\\t\" + ListItemData.cellPhone\n            description: ListItemData.email\n        }\n        ]                           \n    }\n}\n</code></pre>\n\n<p>CustomerListItemManager.cpp:</p>\n\n<pre><code>CustomerListItemManager::CustomerListItemManager() {}\n\nCustomerListItemManager::~CustomerListItemManager() {}\n\nVisualNode *CustomerListItemManager::createItem(ListView *list, const QString &amp;type) \n{\n    //the CustomerList::getInstance()-&gt;customerListContainer returns the customersListContainer (see the qml code above)\n    //\n    return new CustomerItem(CustomerList::getInstance()-&gt;customerListContainer());\n}\n\nvoid CustomerListItemManager::updateItem(ListView *list, VisualNode *control, const   QString &amp;type, const QVariantList &amp;indexPath, const QVariant &amp;data)\n{\n    QObject* obj = qvariant_cast&lt;QObject *&gt;(data);\n    CustomerData* customer = qobject_cast&lt;CustomerData *&gt;(obj);\n}\n</code></pre>\n\n<p>CustomerItem.cpp:</p>\n\n<pre><code>CustomerItem::CustomerItem(Container *parent) : CustomControl(parent) {}\n\nCustomerItem::~CustomerItem() {}\n\nvoid CustomerItem::updateItem(const QString text, QDateTime date) {}\n\nvoid CustomerItem::select(bool select) {\n\n    // Is this where you handle the response to clicking on an item on the list???\n    //\n    if (select) qDebug() &lt;&lt; \"item selected\";\n\nelse;\n}\n\nvoid CustomerItem::reset(bool selected, bool activated) {\nselect(selected);\n}\n\nvoid CustomerItem::activate(bool activate) { Q_UNUSED(activate); }\n</code></pre>\n\n<p>Populating a list in another file:</p>\n\n<pre><code>for (int i = 0; i &lt; customers-&gt;length(); ++i) {\n    groupDataModel_.insert(customers-&gt;at(i)\n}\nlistView_-&gt;setDataModel(&amp;groupDataModel_);\n\n//the customerListContainer_ is the customersListContainer (see the qml code above)\n// \nlistView_-&gt;setListItemManager(new ListItemManager(customerListContainer_);\n</code></pre>\n"},{"tags":["qt","qgraphicsview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12648591,"title":"Overcoming QGraphicsView's 0.5 pixel shift when using antialiasing","body":"<p>I have a QGraphicsView with the Antialiasing render hint set to true. This causes an unwanted pixel shift of 0.5 pixels and makes some of my one pixel QPens appear two pixels wide. To get around this, I call</p>\n\n<pre><code>painter-&gt;translate(.5 / painter-&gt;transform().m11(), .5 / painter-&gt;transform().m22());\n</code></pre>\n\n<p>inside my QGraphicsScene. The problem is that I have to call it repeatedly, i.e., in <code>QGraphicsScene::drawBackground()</code> <em>and</em> in <code>QGraphicsScene::drawForeground()</code> (I'm drawing lots of grid lines and such), because the translation seems to be lost. I haven't verified it yet, but I think the translation probably doesn't occur in the QGraphicsItems either unless I set it manually in each one.</p>\n\n<p>I would have expected setting the OptimizationFlag <code>DontSavePainterState</code> to true would fix this problem, but it didn't. I thought that if I set this flag, then I would just have to translate the painter once, perhaps in <code>QGraphicsScene::drawBackground()</code>, and not need to do it again.</p>\n\n<p>Is there another way I can approach this? Since setting Antialiasing to true causes a pixel shift, it would make sense if there was a way to just permanently shift QGraphicsView back to normal.</p>\n"},{"tags":["qt","contextmenu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12648462,"title":"QMdiArea does not emit customContextMenuRequested signal","body":"<p>I created QMdiarea in the mainwindow,then I want to right click at QMdiarea to get pop-up menu. To do this, i placed the following code in the constructor in the MainWindow.</p>\n\n<pre><code>this-&gt;ui-&gt;mdiArea-&gt;setContextMenuPolicy(Qt::CustomContextMenu);\nconnect(this-&gt;ui-&gt;mdiArea, SIGNAL(customContextMenuRequested(const QPoint&amp;)), this, SLOT(slotRtClickContextMenu(const QPoint&amp;)))\n</code></pre>\n\n<p>The ContextMenu event happened as I checked it in the eventFilter.</p>\n\n<p>However, there is no any response when i click at the mdiArea. Then I replaced this->ui->mdiArea with this, it worked well and showed the pop-up menu.  </p>\n\n<p>Any suggestions?</p>\n\n<p>I use VS2008 and Qt4.8.3.</p>\n"},{"tags":["eclipse","qt","embedded","eclipse-cdt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12647834,"title":"Unable to set the include parser in Eclipse 4.2 with Qt plugin","body":"<p>I seem to be the latest in a long line of people having trouble using Qt in Eclipse.  I have Juno Service Release 1 with version 1.61 of the qt-eclipse plug-in.  I'm also cross-compiling for an embedded linux device.  The cross compilation works (the executable will run on the target), but the include parser is clearly not working.  Eclipse reports \"errors\" for all non-Qt include files and any functions (again, even though the compile completes successfully).</p>\n\n<p>Anyway, this <a href=\"http://www.embedded-linux.co.uk/tutorial/eclipse-cross-compile\" rel=\"nofollow\">Getting to grips with Eclipse: Cross Compiling</a> describes how to fix this behavior, but it requires one to use the C/C++ General menu under Project->Properties.  Unfortunately this menu does not exist if you are using a Qt project.  Is there an alternative way to set this path/symbol?  Thanks!</p>\n"},{"tags":["c++","qt","fullscreen","qdialog"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12645880,"title":"Fullscreen for QDialog from within MainWindow only working sometimes","body":"<p>(Testing with C++ on Qt 4.8 and Ubuntu 12 gnome)</p>\n\n<p>I've got a main window which displays a QDialog. When I put the Dialog window full-screen it does not seem to always work even though it seems to be a proper window.\nMeaning, the window can appear full-screen, though only sometimes.</p>\n\n<p>Anyone got an idea? I know Qt states it might not work for all X environments, but it can't be that bad, can it?</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    QDialog* d = new QDialog();\n    d-&gt;setModal(false);\n    d-&gt;show();       \n    qDebug() &lt;&lt; d-&gt;isWindow();\n\n    // works most of the times, though not always:\n    // d-&gt;showFullScreen();\n\n    // sometimes works, sometimes it doesn't:\n    QTimer::singleShot(2000, d, SLOT(showFullScreen()));\n}\n</code></pre>\n"},{"tags":["css","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":137,"score":2,"question_id":9189145,"title":"Can not set font-weight for pseudo-states in qt","body":"<p>I'm facing a problem in which I want to make the font bold in an QPushButton when it is hovered or pressed. But font-weight property only works in normal state, on font state it doesn't affect anything.\nI'm really looking for a solution.</p>\n"},{"tags":["qt","qt4","qt-creator","qt4.7","cdb"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":512,"score":2,"question_id":9081758,"title":"qt creator debug slow","body":"<p>I'm running Qt Creator 2.3.0, based on Qt 4.7.4, on Windows 7 64-bit.  When I run the app from Qt Creator (ctrl+r), everything works great.  However, when I debug (F5), executing each line takes forever - as in sometimes 2 minutes to execute a single line of code.</p>\n\n<p>I noticed in the Debugger Log window this line:  Debugger: C:\\Program Files (x86)\\Debugging Tools For Windows (x86)\\cdb.exe.  I thought since I'm running Windows 7 x64, I should be using the 64-bit debugger.  So, I downloaded and installed the Microsoft Windows SDK for Windows 7 and .NET Framework 3.5 SP1 as a friend suggested.</p>\n\n<p>Now I see that in Tools..Options..Tool Chains, I have a number of Auto-detected tools.  If I select any of the Microsoft Windows SDK for Windows - x86, x64, ia64, or any of the Microsoft Visual C++ Compiler 9.0 - x86, amd64, x64, ia64 - the Debugger is set to \"C:\\Program Files (x86)\\Debugging Tools For Windows (x86)\\cdb.exe\", and is disabled so I can't change it.</p>\n\n<p>How do I convince Qt Creator to use the 64-bit version of cdb?  Is that related to my major problem, the super-slow debugging?</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12644476,"title":"Custom Qt widget with discrete allowed widths","body":"<p>I would like to create a custom widget in QT that is, essentially, a grid. I would like to allow this widget to be resized, but only so long as all boxes in the grid are of the same width and height. For example, if the grid is 30x20, then the widget need only be able to have widths that divide by 30 and heights that divide by 20.</p>\n\n<p>I did not find anything in the size policy that seems like what I'm trying to do.</p>\n\n<p>I know that X11 does support such size policies. Then again, it also supports defining aspect ratio ranges for top level windows, so that does not, necessarily, mean that Qt supports it too :-)</p>\n\n<p>I know I can catch the resize signal, and then round down the size given. I think this might have unpleasant effects if used inside a broader layout, though. For example, placing two of those one next to the other might cause an infinite loop.</p>\n\n<p>Thanks,<br>\nShachar</p>\n"},{"tags":["c++","qt","qgraphicsitem"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":144,"score":1,"question_id":10985028,"title":"How to remove border around QGraphicsItem when selected?","body":"<p>Pretty basic question but I couldn't find a solution through google. In QT when a graphics item is selected, there's a border around it. I was wondering how I can set this border to be invisible. Thanks.</p>\n"},{"tags":["qt","spotify"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12625877,"title":"Is there a Qt wrapper available for libspotify?","body":"<p>As you can guess I am at Qt developer and in the interest of getting up and running with libspotify as quickly as possible I am looking for a Qt wrapper.</p>\n\n<p>I did come across this link <a href=\"https://github.com/romnes/libqspotify\" rel=\"nofollow\">https://github.com/romnes/libqspotify</a> but as you can see the source is two years old. I am guessing libspotify has moved on a lot since then.</p>\n\n<p>Does such a wrapper even exist?</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12643997,"title":"How do I Render Custom Background with Qt QImage and QBrush?","body":"<p>I'm trying to render a custom image using QImage for QT but I am not getting anywhere with my code so far. I do not want to load an image from file, I want to use the QImage class and QBrush class and what ever else this entails. I'm not great with rendering in APIs but any help to get me going would be appreciated.</p>\n\n<p>Here is what I got. The only thing I'm really given is the image 'm_pImage' object...</p>\n\n<pre><code>m_pImage = new QImage(ImageWidth, ImageHeight, QImage::Format_Indexed8);\nm_pImage-&gt;setColorCount(255);\n</code></pre>\n\n<p>Also, I've tried to add some stuff like so but this part is not working:</p>\n\n<pre><code>QBrush* br = new QBrush(Qt::gray, Qt::Dense3Pattern);\nbr-&gt;setTextureImage(*m_pImage);\nQPainter* paint = new QPainter(m_pImage);\npaint-&gt;setPen(Qt::NoPen);\npaint-&gt;setBrush(*br);\npaint-&gt;drawRect(0, 0, ImageWidth, ImageHeight);\nfor(int i = 0; i &lt; m_ulImageWidth; i++)\n{\n    for(int j = 0; j &lt; ImageHeight; j++)\n    {\n        m_pImage-&gt;setPixel(i, j, qRgb(255, 255, 255));\n    }\n}\n</code></pre>\n\n<p>Setting the background image would be preferable but just getting this image to render the brush style Dense3Pattern would be the best in either case.</p>\n\n<p>Here's a link to the documentation I've been using <a href=\"http://doc.qt.digia.com/4.7/qimage.html\" rel=\"nofollow\">QT Reference</a></p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["qt","directory","project","projects-and-solutions","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12242497,"title":"Qt SUBDIRS project not finding executable to debug","body":"<p>I've decided to move all my projects (multiple DLLs and an executable) into a SUBDIRS project to make building easier. While this has let me build everything into a single folder, I can no longer debug from Qt Creator.</p>\n\n<p>My folder structure is as follows:</p>\n\n<pre><code>Solution.pro\n    \\MyDLL1\n    \\MyDLL2\n    \\MyDLL3\n    \\MyDLL4\n    \\MyExecutable\n    \\OUT\n</code></pre>\n\n<p>I have all DLLs and my exe building into OUT (via DESTDIR in each project's .pro) - same level as the subdirs .pro. When attempting to debug, I get the following:</p>\n\n<pre><code>No executable specified.\nDebugging has finished\n</code></pre>\n\n<p>I've tried modifying the project Run settings to directly point to \\OUT\\MyExecutable.exe, I've tried adding a DESTDIR to solution.pro pointing to OUT, but nothing so far as worked. </p>\n\n<p>Is my setup completely wrong? Or am I missing one small piece to let Qt run the .exe to debug? </p>\n\n<p>Edit:\nI tried filling out my Run settings again: here is my Run setup via the Projects options, and the resulting message. The exe never actually gets launched. I am, however, able to Run the project with this setup, just not debug. I have verified the exe is not being launched by putting a breakpoint at the start of int main() within main.cpp in the executable's project. <img src=\"http://i.stack.imgur.com/RwzcG.png\" alt=\"enter image description here\">,</p>\n\n<pre><code>Debugging starts\nDebugging has finished\n</code></pre>\n"},{"tags":["qt","qstring","qbytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12644268,"title":"QT QBytearray count character","body":"<p>How I can count characters in <code>QByteArray</code>, for example I have <code>QByteArray</code> and I want to know how many \"*\" in this array. </p>\n"},{"tags":["qt","dll","dynamic-linking","external-library","qlibrary"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":132,"score":2,"question_id":12503858,"title":"Qt and Linking to an external DLL","body":"<p>I've developed a program and I am trying to make this program work with a controllable light source manufactured by some other company. I've emailed the company and they have agreed to send me their external library as a DLL.</p>\n\n<p>I have developed all of my software using <strong>Qt 4.8.1</strong> and it has been compiled using <strong>MSVC2008</strong>.</p>\n\n<p>The controllable light's DLL was compiled in Visual Studio 2008 and <strong>was written in either C++ or C#</strong> (the manufacturer is uncertain). All I have been given is the DLL and a text file saying that I must:  </p>\n\n<p>1) Add the DLL as a reference to my project<br>\n2) Add <em>using LightName;</em> to the top of the class<br>\n3) Instantiate an instance of the object as such: LightName *ln = new LightName();\n4) Call function void turnOn() with the newly created LightName instance.</p>\n\n<p>Firstly, I find it odd that an external library requires me to instantiate an instance of their object especially when its for a simple piece of hardware. </p>\n\n<p>Secondly, the other company has provided me with no interface files.</p>\n\n<p><strong>My question is:</strong> \nHow can I possibly link to a C++ DLL and expose the functions nested in this library without having an interface header file in a Qt environment? Is there someway to make an interface for an external library?</p>\n\n<hr>\n\n<p>I have already attempted using <a href=\"http://doc.qt.digia.com/4.7-snapshot/qlibrary.html#details\" rel=\"nofollow\">QLibrary</a> and doing the following:</p>\n\n<pre><code> QLibrary myLib(\"mylib\");\n typedef void (*MyPrototype)();\n MyPrototype myFunction = (MyPrototype) myLib.resolve(\"mysymbol\");\n if (myFunction)\n     myFunction();\n</code></pre>\n\n<p>However, this doesn't work because the DLL I was given was not a C DLL and I have no interface so Qt doesn't have a clue about what symbols it needs to resolve.</p>\n\n<hr>\n\n<p>I've attempted to display all the definitions exported from my DLL using the dumpbin /EXPORTS command. Unfortunately this was unable to produce anything <a href=\"http://www.freeimagehosting.net/gi3xx\" rel=\"nofollow\">(Screenshot of unsuccessful dumpbin)</a>. I was hoping that I would get some sort of mangled C++ from this that I could then unscramble to make my own header.</p>\n\n<hr>\n\n<p>I've attempted to use the <a href=\"http://www.dependencywalker.com/\" rel=\"nofollow\">dependency walker</a>(very useful tool) however it couldn't resolve any symbols to give me some function definitions.</p>\n\n<hr>\n"},{"tags":["visual-studio","qt","visual-c++","qobject"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":548,"score":1,"question_id":7272040,"title":"Q_OBJECT Problem in Visual C++","body":"<p>I have received a Visual C++ QT based project from our customer. I have installed QT libraries then I have compiled the project. The Project was compiled without any problems.</p>\n\n<p>Now, I need to include a new additional GUI interface with the existing project. I have created a GUI in QT designer then saved in the source directory of VC++ project. Then I have written .h and .cpp file for new GUI and could call this interface. Now I need to include SIGNALS and SLOTS, when I include Q_OBJECT in .h file. I have compilation error. </p>\n\n<p>These are the errors, <strong>please help me to solve this problem</strong>:</p>\n\n<pre><code>unresolved external symbol \"public: virtual struct QMetaObject const * __thiscall BetaLineServer::metaObject(void)const \" (?metaObject)\n\nunresolved external symbol \"public: virtual void * __thiscall BetaLineServer::qt_metacast(char const *)\"\n\nunresolved external symbol \"public: virtual int __thiscall BetaLineServer::qt_metacall(enum QMetaObject::Call,int,void * *)\" (?qt_metacall@\n</code></pre>\n"},{"tags":["qt","button","resources","icons","stylesheet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12641884,"title":"Why isn't QToolButton's icon displayed?","body":"<p>I meet the problem, so I take a test at MainWindow, the problem remains the same.\nHere is the code in \"MainWindow::MainWindow(QWidget *parent)...\"</p>\n\n<pre><code>QToolButton* bt = new QToolButton(this);\nbt-&gt;setIcon(QIcon(\":/te.png\"));\nbt-&gt;setToolButtonStyle(Qt::ToolButtonIconOnly);\nbt-&gt;show();\n</code></pre>\n\n<p>It looks like:\n    <img src=\"http://i.stack.imgur.com/VMGdQ.png\" alt=\"enter image description here\"></p>\n\n<p>My resource file is like this:\n    <img src=\"http://i.stack.imgur.com/M24Ax.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","graphics","pixel","qpainter"],"answer_count":4,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":199,"score":10,"question_id":12640698,"title":"Qt/C++ : drawing efficiently","body":"<p>I have designed a program which, basically, cuts a geometrical shape into many small triangles (in a \"left canvas\"), applies some simple mathematical transformation to the bunch of triangles, and redraws them in their new configuration. See screen capture below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/N1HED.png\" alt=\"screen cap 1\"></p>\n\n<p>In order to draw these triangles, I use <code>QPainter::drawPolygon</code>. Each triangle on the right corresponds to a triangle on the left, so I know what color I want to use to draw it.</p>\n\n<p>So far, fine. Even if I draw many more triangles than this (when I use much smaller triangles to cut the shape), this is fast enough.</p>\n\n<p>I've added a feature to my program: I can draw triangles extracted from a picture instead of plain triangles: see following screen capture.</p>\n\n<p><img src=\"http://i.stack.imgur.com/eyuUO.png\" alt=\"enter image description here\"></p>\n\n<p>The problem is that the way I do this is too slow. Here's how I do it:</p>\n\n<ol>\n<li>I run through all the triangles</li>\n<li>For each triangle, I compute the coordinates of each pixel that will be displayed.</li>\n<li>For each one of these pixels, I compute the coordinates of the corresponding pixel on the picture (this is an easy mathematical operation), and I retrieve that pixel's color.</li>\n<li>I use <code>QPainter::setPen(QColor)</code> and <code>QPainter::drawPoint(QPoint)</code> to draw the pixel.</li>\n</ol>\n\n<p>I am new to programming in Qt and I know nothing about graphics, so this is what I could come up with. The problem is that it's \"unacceptably\" too slow (the <code>paintEvent</code> of each canvas takes about 0.15s, compared to 0.01s in the case of plain triangles).</p>\n\n<p>I ran a profiler to try to understand what's going on, I noticed that in the canvas widget's <code>paintEvent</code>,</p>\n\n<ol>\n<li>58% of the time is spent in <code>QPainter::drawPoint</code></li>\n<li>27% of the time is spent in <code>QPainter::setPen</code></li>\n</ol>\n\n<p>It seems that <code>QPainter::drawPoint</code> is far too complicated and slow: I just want it to print a pixel of a given color, that's it.</p>\n\n<p>I may have found a solution to my problem: store a <code>QImage</code> (as a member variable of my canvas widget) that represents the whole thing I want my canvas to display, and define it entirely in my <code>paintEvent</code> pixel by pixel, and then draw it at once at the end of my <code>paintEvent</code> with <code>QPainter::drawImage</code>. I have a hint that this will be much faster. But before I rewrite my code all over again, I'd like to know whether that's really what I want to do.</p>\n\n<p>I hope I didn't bore you to do death! Many thanks in advance for your insights.</p>\n"},{"tags":["linux","qt","ubuntu","qt4","upgrade"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":133,"score":0,"question_id":12600661,"title":"How to upgrade Qt installed in linux from one version to higher","body":"<p>While porting Qt project from windows to linux(ubuntu) i faced with the following issue:</p>\n\n<p>on <strong>windows Qt version 4.8.1</strong> is installed\non <strong>linux 4.6.3</strong> in which some functionalities availiable in higer version 4.8.1 <strong>don`t yet implemented</strong> (ex. <strong>QUdpSocket::joinMultiCastGroup</strong>).</p>\n\n<p>I see only one solution to this problem: upgrade Qt version on linux to 4.8.1.\n<strong>How can I do this?</strong></p>\n\n<p><em>On linux I got installed libqt4-dev, qmake.</em></p>\n"},{"tags":["qt","client-server","qthread","qtsql","qsqltablemodel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12604691,"title":"QT How server can send QSqlQueryMode result to client","body":"<p>How server can send QSqlQueryMode result to client\nfor exp.</p>\n\n<pre><code>this-&gt;model = new QSqlQueryModel();\nmodel-&gt;setQuery(\"Select * from phone_table\");\n\nClient-&gt;write(modal)\n</code></pre>\n\n<p>thanks ;-))</p>\n"},{"tags":["python","qt","pyqt","reference"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":275,"score":0,"question_id":6511964,"title":"Where to download the PyQt4 class reference?","body":"<p>Is there an offline version of this PyQt4 class reference: <a href=\"http://doc.trolltech.com/4.3/classes.html\" rel=\"nofollow\">http://doc.trolltech.com/4.3/classes.html</a>?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":67,"score":-2,"question_id":12438095,"title":"Qt Vertical Scroll bar stylesheets","body":"<p><img src=\"http://i.stack.imgur.com/q8OKZ.png\" alt=\"Could you pls give me code snippets for styling scroll bar as show in the attached image.]\"></p>\n\n<p>Could you pls give me code snippets for styling scroll bar as show in the attached image\nthanks</p>\n"},{"tags":["image","qt","opengl","video"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12637677,"title":"Qt GLWidget in GraphicsScene for fast video display from image data (C++ , Windows)?","body":"<p>There are a few questions about displaying video more efficiently in Qt than by showing it as QLabel. There seem to be two approaches:</p>\n\n<ul>\n<li><p>Write directly to a window's / widget's image buffer (but I could not find information whether this is possible with Qt, while MSVC / MSC applications apparently can write to a window handle)</p></li>\n<li><p>Use OpenGL to display via hardware</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/9011108/image-scaling-keepaspectratiobyexpanding-through-opengl\">Image scaling (KeepAspectRatioByExpanding) through OpenGL</a></li>\n<li><a href=\"http://stackoverflow.com/questions/1242005/what-is-the-most-efficient-way-to-display-decoded-video-frames-in-qt\">What is the most efficient way to display decoded video frames in Qt?</a></li>\n</ul></li>\n</ul>\n\n<p>Since my current approach involves a QPixmapItem created from a QImage populated with my image data, even at small resulutions (&lt;1 MP, 30 Hz) my Core2Duo is reporting 40 % load.</p>\n\n<p>I would like to keep using QGraphicsScene in order to show multiple images/videos, but I don't know whether it's possible to show (multiple) QGLWidgets in a scene - is it?</p>\n"},{"tags":["qt","always-on-top"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12638932,"title":"Can I set the 'always on top' flag from designer in Qt?","body":"<p>Can I do this from the property sheet for the window in UI View? </p>\n\n<p>Currently I'm setting the always on top flag in the constructor of my QMainDialog:</p>\n\n<pre><code>setWindowFlags(Qt::WindowStaysOnTopHint);\n</code></pre>\n"},{"tags":["c++","qt","named-pipes"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":145,"score":0,"question_id":12582239,"title":"Named pipes linux","body":"<p>I made 2 threads, one has to read the other has to write.\nBut i get undefined behaviour, sometimes i can read 1 line, sometimes 1000. It does not make alot of sense to me.</p>\n\n<p>What i do is the following:\n1. i create a fifo with mkfifo() in main.cpp\n2. i start 2 threads, one that reads, the other writes. reader.cpp, writer.cpp</p>\n\n<p>In those threads, every loop i open the fifo and i close it, because it wont work if i only do that once outside the loop, which i find also strange.</p>\n\n<p>I have been looking for good examples but i found none.</p>\n\n<p>My questions is simple, how can i make the fifo (Reader) wait for incoming data and read it when it is available. It should be able to run at 4Mhz.</p>\n\n<p>I hope that somebody can help me out because this is the 3rd day i am breaking my head on this. If it matters im using Qt 4.8.</p>\n\n<p>EDIT: I found the solution to my problem:</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include \"reader.h\"\n#include \"writer.h\"\n#include &lt;sys/types.h&gt;  // mkfifo\n#include &lt;sys/stat.h&gt;   // mkfifo\n#include &lt;fcntl.h&gt;\n\nint main(int argc, char *argv[]) {\n\n    QCoreApplication a(argc, argv);\n\n    int fifo = mkfifo(\"/tmp/fifo\", S_IWUSR | S_IRUSR | S_IRGRP | S_IROTH);\n\n    Reader r;\n    Writer w;\n    r.start();\n    w.start();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>writer.h</p>\n\n<pre><code>#ifndef WRITER_H\n#define WRITER_H\n\n#include &lt;QThread&gt;\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;errno.h&gt;\n#include &lt;string.h&gt;\n#include &lt;fcntl.h&gt;\n\nclass Writer : public QThread {\n\n    Q_OBJECT\n\npublic:\n    explicit Writer(QObject *parent = 0);\n\nprivate:\n    void run();\n\n};\n\n#endif // WRITER_H\n</code></pre>\n\n<p>reader.h</p>\n\n<pre><code>#ifndef READER_H\n#define READER_H\n\n#include &lt;QThread&gt;\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;errno.h&gt;\n#include &lt;string.h&gt;\n#include &lt;fcntl.h&gt;\n\nclass Reader : public QThread {\n\n    Q_OBJECT\n\npublic:\n    explicit Reader(QObject *parent = 0);\n\nprivate:\n    void run();\n\n};\n\n#endif // READER_H\n</code></pre>\n\n<p>writer.cpp</p>\n\n<pre><code>#include \"writer.h\"\n\nchar * phrase = \"Stuff this in your pipe and smoke it\\n\";\n\nusing namespace std;\n\nWriter::Writer(QObject *parent) : QThread(parent) {}\n\nvoid Writer::run() {\n\n    int num, fifo;\n    if ((fifo = open(\"/tmp/fifo\", O_WRONLY)) &lt; 0) {\n       printf(\"%s\\n\", strerror(errno));\n       return;\n    }\n    while (true) {\n\n        if ((num= write(fifo, phrase, strlen(phrase)+1)) &lt; 0) {\n            printf(\"ERROR: %s\\n\", strerror(errno));\n        }\n    }\n    close(fifo);\n\n}\n</code></pre>\n\n<p>reader.cpp</p>\n\n<pre><code>#include \"reader.h\"\n\nusing namespace std;\n\nReader::Reader(QObject *parent) : QThread(parent) {}\n\nvoid Reader::run() {\n\n    int num, fifo;\n    char temp[38];\n    if ((fifo = open(\"/tmp/fifo\", O_RDONLY)) &lt; 0) {\n        printf(\"%s\\n\", strerror(errno));\n        return;\n    }\n    while (true) {\n        if ((num = read(fifo, temp, sizeof(temp))) &lt; 0) {\n            printf(\"%s\\n\", strerror(errno));\n        }\n        printf(\"In FIFO is %d %s \\n\", num, temp);\n    }\n    close(fifo);\n}\n</code></pre>\n"},{"tags":["c++","qt","index","parent-child","qtreeview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":66,"score":-1,"question_id":12635911,"title":"get child from parent in Qtreeview","body":"<p>I am developing a Qt application using QTreeView and QFileSystemModel.\nI am able to get the parent's child till one level but I am not able to get the parent's child's child.\nFor eg:</p>\n\n<p>C is child of B,</p>\n\n<p>B is child of A</p>\n\n<p>I am able to get B as A's child but I also want C as A's Child.\nI want like this C->B->A.</p>\n\n<p>Can someone give some input regarding this and help me out.\nThanks in advance.</p>\n\n<pre><code>//QItemSelectionModel *sel = ui-&gt;dir_tree-&gt;selectionModel();\nQStringList strings = extractStringsFromModel(ui-&gt;dir_tree-&gt;model(), ui-&gt;dir_tree-&gt;rootIndex());\n\nQFileSystemModel* model = (QFileSystemModel*)ui-&gt;dir_tree-&gt;model();\nQModelIndexList indexlist = ui-&gt;dir_tree-&gt;selectionModel()-&gt;selectedIndexes();\nQVariant data;\n\n//QList&lt;QModelIndex&gt; modelindex(indexlist);\n\nint row = -1;\n\nfor(int i=0; i&lt;indexlist.size();i=i+4)\n{\n    QModelIndex mi=indexlist.at(i);\n    info1 = model-&gt;fileInfo(mi);\n    QString childstr = info1.filePath();\n    QString childname = info1.fileName();\n\n    QModelIndex mi2= indexlist.at(i).parent();\n    info = model-&gt;fileInfo(mi2);\n    QString parentstr = info.filePath();\n    QString parentname = info.fileName();\n    QStringList childlist;\n    for(int j=0;j&lt;model-&gt;rowCount(indexlist.at(i));j++)\n    {\n        QModelIndex mi3 = indexlist.at(i).child(j, 0);\n        info2 = model-&gt;fileInfo(mi3);\n        QString childrenstr = info2.filePath();\n        childlist &lt;&lt; childrenstr;\n        qDebug()&lt;&lt;\"parents' children\"&lt;&lt;childrenstr&lt;&lt;j;\n    }\n}\n</code></pre>\n"},{"tags":["css","qt","styles","stylesheet","appearance"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12637440,"title":"How To Remove click effect from a QPushButton","body":"<p>In QT: I only want to show an icon and some text, so I use QPushButton. But how can I remove the click effect from it? Tank you. </p>\n"},{"tags":["multithreading","qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":260,"score":0,"question_id":11513564,"title":"OpenCV Multithreading error [using Qt]","body":"<p><strong>Till now I have learnt one thing, there's something wrong I'm doing with OpenCV, Qt has no role in the error</strong></p>\n\n<p>I'm trying to run two methods in different threads, but it gives me error:</p>\n\n<blockquote>\n  <p>[xcb] Unknown request in queue while dequeuing<br>\n  [xcb] Most likely this is a multi-threaded client and XInitThreads has not been called<br>\n  [xcb] Aborting, sorry about that.<br>\n  Blurring_Images: ../../src/xcb_io.c:178: dequeue_pending_request: Assertion `!xcb_xlib_unknown_req_in_deq' failed.<br>\n  The program has unexpectedly finished.</p>\n</blockquote>\n\n<hr>\n\n<p>Here's my code:</p>\n\n<pre><code>void Dialog::blurImages(int b)\n{\n    QtConcurrent::run(this,&amp;Dialog::homogenour_blur,b);\n    QtConcurrent::run(this,&amp;Dialog::gaussianBlur,b);\n}\n\nvoid Dialog::homogenour_blur(int b)\n{\n    cv::blur(img,img1,cv::Size(b,b));\n    showImage(\"Homogenous Blur\",img1);\n}\n\nvoid Dialog::gaussianBlur(int b)\n{\n    cv::GaussianBlur(img,img2,cv::Size(b,b),b);\n    showImage(\"Gaussian Blur\",img2);\n}\n</code></pre>\n\n<p>whereas if i comment out one call(shown below), it runs fine</p>\n\n<pre><code>void Dialog::blurImages(int b)\n{\n    QtConcurrent::run(this,&amp;Dialog::homogenour_blur,b);\n    //QtConcurrent::run(this,&amp;Dialog::gaussianBlur,b);\n}\n</code></pre>\n\n<p>It's really annoying guys, please help !!</p>\n\n<p><strong>EDIT:</strong>\nInstead of calling showImage(), I replaced it with the actial OpenCV call(see below):</p>\n\n<pre><code>void Dialog::homogenour_blur(int b)\n{\n    cv::blur(img,img1,cv::Size(b,b));\n    //showImage(\"Homogenous Blur\",img1);\n    cv::imshow(\"Homogenous Blur\",img1);\n}\n\nvoid Dialog::gaussianBlur(int b)\n{\n    cv::GaussianBlur(img,img2,cv::Size(b,b),b);\n    //showImage(\"Gaussian Blur\",img2);\n    cv::imshow(\"Gaussian Blur\",img2);\n}\n</code></pre>\n\n<p>Now the error I get is:</p>\n\n<blockquote>\n  <p>Original Image: Fatal IO error 11 (Resource temporarily unavailable) on X server :0.<br>\n  Original Image: Fatal IO error 0 (Success) on X server :0.<br>\n  Fatal Error: Accessed global static 'KGlobalSettings *s_self()' after destruction. Defined at ../../kdeui/kernel/kglobalsettings.cpp:190<br>\n  The program has unexpectedly finished.</p>\n</blockquote>\n"},{"tags":["qt","timer"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":12628343,"title":"Qtimer vs timerEvent - which of them produces less overhead?","body":"<p>I need a timer to be triggered every 1 ms. <a href=\"http://doc.qt.digia.com/4.7/signalsandslots.html\" rel=\"nofollow\">This</a> document reports, that slot invocation may be much slower than even a virtual function call.</p>\n\n<p>But if we compare signals/slots with event occurance, what mechanism will be faster, more efficient and produce less overhead: <code>QTimer</code> with it's <code>timeout()</code> signal connected to a slot or bare <code>QObject::startTimer()</code>\\ <code>QObject::killTimer()</code> with <code>QObject::timerEvent()</code>?</p>\n\n<p>Will the answer for above question be the same for Windows and Linux?</p>\n"},{"tags":["linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12635279,"title":"Installing Qt on Linux (Debian distribution)","body":"<p>I have Qt  4.6.3 on Debian. I need version 4.8.1. </p>\n\n<p>To install it I downloaded the <strong>Qt SDK 1.2.1</strong> from the Qt site, where is said that it contains version 4.8.1\nAfter installation I checked Qt version and it is 4.6.3 instead of expected 4.8.1.</p>\n\n<p>What I am doing wrong? And how can I install 4.8.1?</p>\n"},{"tags":["c++","string","qt","connection-string"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12632667,"title":"Day(s) of week selection from QT checkbox to Postgresql","body":"<p>I have a group of checkboxes representing the days of a week in my Qt application GUI and I select one or many days, and depending on which boxes are checked, pass a query string  to PostgreSQL in order to display certain data on those days -e.g. if I checked monday and wednesday, <code>extract (dow from timestamp) = 1 or extract(dow from timestamp) = 3</code> should be added to my query. I have just typed a crude solution -though haven't tested yet as I write this-, but I was wondering if there is a shorter -and more elegant- approach that I'm missing out here. The code is as below: -the <code>queryAdditionCalltimePart</code> and <code>queryAdditionCallStampPart</code> strings are later added to the relevant parts of my main query's <code>QString</code> before the main query is executed-</p>\n\n<pre><code>bool checkboxArray[7];\nbool mult = false;\ncheckboxArray[0] = this-&gt;ui-&gt;checkBoxMonday-&gt;isChecked();\ncheckboxArray[1] = this-&gt;ui-&gt;checkBoxTuesday-&gt;isChecked();\ncheckboxArray[2] = this-&gt;ui-&gt;checkBoxWednesday-&gt;isChecked();\ncheckboxArray[3] = this-&gt;ui-&gt;checkBoxThursday-&gt;isChecked();\ncheckboxArray[4] = this-&gt;ui-&gt;checkBoxFriday-&gt;isChecked();\ncheckboxArray[5] = this-&gt;ui-&gt;checkBoxSaturday-&gt;isChecked();\ncheckboxArray[6] = this-&gt;ui-&gt;checkBoxSunday-&gt;isChecked();\nQString queryAdditionCalltimePart = \"\";\nQString queryAdditionCalStampPart = \"\";\nint count = 0;\n\nqueryAdditionCalltimePart.append(\"(\");\nqueryAdditionCalStampPart.append(\"(\");\nfor(int i = 0; i &lt; 7; i++)\n{\n    if(checkboxArray[i] == true)\n    {\n        count++;\n    }\n}\n\n\nint x = 0;\n\nfor(int i = 0; i &lt; 7; i++)\n{\n    if(checkboxArray[i] == true)\n    {\n        queryAdditionCalltimePart.append(\"(SELECT EXTRACT(DOW FROM calltime) = '\" +QString::number(i+1)+\"')\");\n        queryAdditionCalStampPart.append(\"(SELECT EXTRACT(DOW FROM cal.stamp) = '\" +QString::number(i+1)+\"')\");\n\n    }\n\n        if(count &gt; 1 &amp;&amp; checkboxArray[i] == true)\n    {\n        if(x == count - 1)\n        {\n        }\n        else\n        {\n            queryAdditionCalltimePart.append(\"OR\");\n            queryAdditionCalStampPart.append(\"OR\"); \n            x++;\n        }\n    }\n}\n\n\nqueryAdditionCalltimePart.append(\")\");\nqueryAdditionCalStampPart.append(\")\");\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":757,"score":2,"question_id":8766633,"title":"How to determine the correct size of a QTableWidget?","body":"<p>Is there <em>any</em> way to set the \"correct\" size of a QTableWidget? (I'm a newbie) This test code is only 25 lines long, in two files, with the file Test.h:</p>\n\n<pre><code>#include &lt;QtGui&gt;\nclass Test : public QMainWindow {\n   Q_OBJECT\npublic:\n   Test();\n};\n</code></pre>\n\n<p>and the file Test.cpp:</p>\n\n<pre><code>#include \"Test.h\"\nTest::Test() : QMainWindow() {\n   QVBoxLayout *vbox = new QVBoxLayout;\n   QPushButton  *btn = new QPushButton(\"Hello World etc etc etc etc etc\");\n   QTableWidget *tbl = new QTableWidget(2, 2);\n   vbox-&gt;addWidget(btn);\n   vbox-&gt;addWidget(tbl);\n   QWidget *w = new QWidget;\n   setCentralWidget(w);\n   w-&gt;setLayout(vbox);\n   resize(1, 1);\n}\n\nint main(int argc, char *argv[]) {\n   QApplication app(argc, argv);\n   Test test;\n   test.show();\n   app.exec();\n}\n</code></pre>\n\n<p>Then the command:</p>\n\n<pre><code>   qmake -project &amp;&amp; qmake &amp;&amp; make &amp;&amp; ./Test\n</code></pre>\n\n<p>gives the window:</p>\n\n<p><img src=\"http://i.stack.imgur.com/OUH94.png\" alt=\"Unwanted window\"></p>\n\n<p>But what we want of course is something more like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/0y7gO.png\" alt=\"Wanted window\"></p>\n\n<p>Using <code>tbl-&gt;width()</code> seems to be useless, as it gives a default of <code>640</code> before <code>test.show()</code>, and the unwanted value of <code>195</code> after. I've looked at the Qt Size Hints and Policies until my head spun, and I've tried <code>setResizeMode(QHeaderView::Fixed)</code> and <code>setStretchLastSection(false)</code>. Maybe I'm missing something obvious? This is with Qt 4.7.4 on CentOS 5, if this matters. Thank you for any help.</p>\n\n<p><em><strong>Edit</em></strong>: In response to DK, <em>if</em> the line <code>resize(1, 1);</code> is not present, there is the <em>equal</em> and <em>opposite</em> problem: the window is too large. </p>\n\n<p>And in response to Donotalo, adding:</p>\n\n<pre><code>tbl-&gt;setMaximumWidth(222);\ntbl-&gt;setMinimumWidth(222);\ntbl-&gt;setMaximumHeight(88);\ntbl-&gt;setMinimumHeight(88); \n</code></pre>\n\n<p>will give the desired window size (at least on my machine), but <em>not</em> in the desired way. How should we calculate the 'constants' <code>222</code> and <code>88?</code></p>\n\n<p>And Ton's answer to <a href=\"http://stackoverflow.com/a/3996525/318716\">Qt: How to force a hidden widget to calculate its layout?</a> doesn't seem to work here: the addition of <code>tbl-&gt;setAttribute(Qt::WA_DontShowOnScreen); tbl-&gt;show();</code> left the value of <code>tbl-&gt;width()</code> unchanged at 640.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12584428,"title":"Information hints in Qt","body":"<p>I have a dialog in which setting are displayed. Also there is an help button on right top of the dialog.</p>\n\n<p><img src=\"http://i.stack.imgur.com/wbmZV.png\" alt=\"enter image description here\"><br></p>\n\n<p>After pressing this button and selecting any control on the dialog no help hints were shown.<br>\nHow can I add these hints? </p>\n"},{"tags":["python","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12628537,"title":"make pyqt slots deterministic","body":"<p>I have QSortFilterProxyModel and as his source QStandardItemModel.</p>\n\n<p>Than 2 signals for a change\n- itemChanged for QStandardItemModel\n- dataChanged for QSortFilterProxyModel</p>\n\n<p>With some configuration I get first signal for QStandardItemModel with other for QSortFilterProxyModel.</p>\n\n<p>How can I make it more deterministic and say what signal come first.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12627044,"title":"Qt - Qt Command Prompt","body":"<p>So I found an excellent video where it teaches me about static compile. But in there it doesn't show where he got the \"Qt Command Prompt\" from. I searched alot but didn't find it in the directory. What do I do? Can anybody tell me where it's located? I even searched for it in Explorer but didn't find it.</p>\n"},{"tags":["c++","multithreading","qt","uml","qthread"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":104,"score":3,"question_id":12627084,"title":"Class Design in Qt for inter thread communication","body":"<p><strong>Problem statement</strong> : to track an object with a camera and move the camera in azimuth and elevation accordingly.</p>\n\n<p><strong>Process</strong> : camera acquires images of the object....each frame of camera is processed to find the object(which is supposed to be tracked...) and the information generated in each frame is passed to the mechanical device (gimbal...) to move the camera in pan and tilt...</p>\n\n<p><strong>Design</strong> : the main Gui is run in a thread and camera and gimbal in 2 other thread...info generated in camera thread is passed on to gimbal thread and the same thread(camera thread...) displays the tracked image...</p>\n\n<p><strong>CONSTRAINT: display rate is faster than move rate of gimbal</strong>...so in each frame...</p>\n\n<ol>\n<li>frame is processed and displayed (at 10 ms rate)</li>\n<li>info generated is passed onto gimbal</li>\n<li>gimbal thread is suspended for a longer time (100 ms) to give time to the mechanical parts    to move and ensure no new update comes to gimbal till it completes its movement..</li>\n</ol>\n\n<p>the following diagram shows the design of classes and signal and slot connections in Qt..</p>\n\n<p><img src=\"http://i.stack.imgur.com/i0uJz.png\" alt=\"enter image description here\"></p>\n\n<p>please suggest any better way to go about the problem if possible...</p>\n\n<p><strong>ERROR</strong>: sometimes i get an error...</p>\n\n<p><strong>QObject::killTimers: timers cannot be stopped from another thread</strong></p>\n"},{"tags":["visual-studio-2010","qt","linker","lnk2001"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":11814064,"title":"Qt Q_OBJECT creates linker errors in Visual Studio 2010","body":"<p>I'm trying to get Qt to work with Visual Studio 2010. I've built a working program that I can run in the debugger. However, when I try to add the Q_OBJECT macro to my class, it generates a bunch of linker errors.</p>\n\n<pre><code>1&gt;------ Build started: Project: qt_poop, Configuration: Debug Win32 ------\n1&gt;Build started 2012/08/05 12:58:56.\n1&gt;InitializeBuildStatus:\n1&gt;  Creating \"Debug\\qt_poop.unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\n1&gt;ClCompile:\n1&gt;  GLViewer.cpp\n1&gt;  Window.cpp\n1&gt;  main.cpp\n1&gt;  Generating Code...\n1&gt;Link:\n1&gt;  LINK : c:\\Users\\abral\\Documents\\Visual Studio 2010\\Projects\\qt_poop\\Win32\\Debug\\\\qt_poop.exe not found or not built by the last incremental link; performing full link\n1&gt;GLViewer.obj : error LNK2001: unresolved external symbol \"public: virtual struct QMetaObject const * __thiscall GLViewer::metaObject(void)const \" (?metaObject@GLViewer@@UBEPBUQMetaObject@@XZ)\n1&gt;GLViewer.obj : error LNK2001: unresolved external symbol \"public: virtual void * __thiscall GLViewer::qt_metacast(char const *)\" (?qt_metacast@GLViewer@@UAEPAXPBD@Z)\n1&gt;GLViewer.obj : error LNK2001: unresolved external symbol \"public: virtual int __thiscall GLViewer::qt_metacall(enum QMetaObject::Call,int,void * *)\" (?qt_metacall@GLViewer@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n1&gt;c:\\Users\\abral\\Documents\\Visual Studio 2010\\Projects\\qt_poop\\Win32\\Debug\\\\qt_poop.exe : fatal error LNK1120: 3 unresolved externals\n1&gt;\n1&gt;Build FAILED.\n1&gt;\n1&gt;Time Elapsed 00:00:07.50\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>I've seen some similar problems raised by others and it seems to have something to do with the compiler and moc and a bunch of other really complicated technical stuff that my beginner brain can't quite comprehend yet. Also, a lot of it seems geared towards people who are using a command line to configure their compilers, but I'm using VS and I'd really like to keep it that way (basically I just want to be able to press the green arrow and see my program - that's all). So... if someone could explain to me in as simple a way as possible how to configure Visual Studio to do whatever linking or compiling or whatnot that it needs to do to accomplish this, I'll be eternally grateful.</p>\n"},{"tags":["c++","c","qt","gcc","calloc"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12625734,"title":"Qt Creator - calloc fails with large memory","body":"<p>I have a problem with Qt Creator, or one of its components.</p>\n\n<p>I have a program which needs lots of memory (about 4 GBytes) and I use calloc to allocate it. If I compile the C code with mingw/gcc (without using the Qt-framework) it works, but if I compile it within the Qt Creator (with the C code embedded in the Qt framework using C++), using the mingw/gcc toolchain, calloc returns a null-pointer.</p>\n\n<p>I already searched and found the qt-pro option <code>QMAKE_LFLAGS += -Wl,--large-address-aware</code>, which worked for some cases (around 3.5GBytes), but if I go above 4GBytes, it only works with the C code compiled with gcc, not with Qt.</p>\n\n<p>How can I allocate the needed amount of memory using calloc when compiling with Qt Creator?</p>\n"},{"tags":["qt","menu","popup","qmenu"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12624407,"title":"Qt: QMenu with translucent background","body":"<p>I use Windows and I want to set a style sheet to a QMenu to give it a translucent background. In order for that to work, I first set the FramelessWindowHint, then I set the WA_TranslucentBackground attribute. Then I set my style sheet and display the menu with the popup method. It is drawn correctly, but it behaves strangely: As soon as it has the FramelessWindowHint, it is always visible (even before calling the popup() method). It does not hide itself anymore after one of its entries has been clicked.</p>\n\n<p>Here is a minimalistic example:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QMenu&gt;\n#include &lt;QPoint&gt;\n#include &lt;QCursor&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QMenu menu;\n    menu.addAction(\"about\", &amp;a, SLOT(aboutQt()));\n    menu.addAction(\"exit\", &amp;a, SLOT(quit()));\n    menu.setWindowFlags(Qt::FramelessWindowHint);\n    menu.setAttribute(Qt::WA_TranslucentBackground);\n    menu.setStyleSheet(\"QMenu{background:rgba(255, 0, 0, 50%);}\");\n    menu.popup(QCursor::pos());\n    return a.exec();\n}\n</code></pre>\n"},{"tags":["qt","opengl","qt4","qthread"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":12579642,"title":"Qt4/Opengl bindTexture in separated thread","body":"<p>I am trying to implemente a CoverFlow like effect using a QGLWidget, the problem is the texture loading process. </p>\n\n<p>I have a worker (QThread) for loading images from disk, and the main thread checks for new loaded images, if it finds any then uses bindTexture for loading them into QGLContext. While the texture is being bound, the main thread is blocked, so I have a fps drop.</p>\n\n<p>What is the right way to do this?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12622559,"title":"qt Remove all previous mouse event","body":"<p>I create Qt application that run qml view, then i pause this application (with linux command kill -STOP id).\n when the application is in stop mode i touch the screen, and when I continue the application(with linux command kill -CONT id), I get all the mouse events since the stop time. How can I prevent this situation, I need to come back to the qml application when their is no mouseEvenet?\n BTW: I know when I get the CONT event, and at this time I tried to remove all the events, but it didn’t work:</p>\n\n<pre><code>// Both commands didn't remove the mouse events\n\nm_view-&gt;rootObject()-&gt;removeEventFilter(m_view-&gt;rootObject());\n\nm_view-&gt;rootObject()-&gt;removeSceneEventFilter(m_view-&gt;rootObject());\n</code></pre>\n"},{"tags":["c++","qt","shared-ptr","qobject"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12623690,"title":"QSharedPointer and QObject::deleteLater","body":"<p>I have a situation where a <code>QSharedPointer</code> managed object signalizes that it has finished it's purpose and is ready for deletion soon (after execution left the function emitting my <code>readyForDeletion</code> signal). When working with <em>normal</em> pointers, I'd just call <code>QObject::deleteLater</code> on the object, however this isn't possible with a <code>QSharedPointer</code>-managed instance. My workaround is the following:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass QSharedPointerContainer : public QObject\n{\n   QSharedPointer&lt;T&gt; m_pSharedObj;\n\npublic:\n\n   QSharedPointerContainer(QSharedPointer&lt;T&gt; pSharedObj)\n      : m_pSharedObj(pSharedObj)\n   {} // ==&gt; ctor\n\n}; // ==&gt; QSharedPointerContainer\n\ntemplate&lt;typename T&gt;\nvoid deleteSharedPointerLater(QSharedPointer&lt;T&gt; pSharedObj)\n{\n   (new QSharedPointerContainer&lt;T&gt;(pSharedObj))-&gt;deleteLater();\n} // ==&gt; deleteSharedPointerLater\n</code></pre>\n\n<p>This works well, however there's a lot of overhead using this method (allocating a new <code>QObject</code> and so on). Is there any better solution to handle such situations?</p>\n"},{"tags":["qt","qdate"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12622654,"title":"QDate - wrong year","body":"<p>I have the following situation:</p>\n\n<pre><code>   QDate fixDate = QDate::fromString(QString(\"270912\"), \"ddMMyy\");\n</code></pre>\n\n<p>the year returned is <code>1912</code>. I do not understand why and how get the correct year.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","qtextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12606365,"title":"How to match tab length to a number of spaces in Qt","body":"<p>I'm having trouble making tabs in a QTextEdit be the same size as some number of spaces, say 4.</p>\n\n<p>I'm using Qt 4.8.1 on a mac and I've tried several different monospace fonts. In each case I try using fontMetrics.width() and fontMetrics.boundingRect().width(). Passing in the ' ' and multiplying by 4 and passing in \"    \" return me consistant sizes, but when I set the tab stop width it's slightly off. What's worse, the error accumulates. If I type 6 tabs and, below, 6 * 4 spaces, the curser ends up in a dramatically different place.</p>\n\n<p>Even tweaking the number by hand I have been unable to find an integer number of pixels that exactly matches and keeps tabs and equivalent spaces consistant.</p>\n\n<p>Has anyone else encountered this issue? Have you found a solution other than to replace tabs with spaces?</p>\n"},{"tags":["osx","qt","qt-mobility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11103504,"title":"Building Qt Messaging Framework On Mac","body":"<p>I'm trying to build the latest version of the QMF from the Git sources on OS X 10.6 but I keep running into this error:</p>\n\n<pre><code>\"QPrivatelyImplemented&lt;QMailMessageBodyPrivate&gt;::~QPrivatelyImplemented()\", referenced from:\n  QMailMessageBody::~QMailMessageBody()in qmfstoragemanager.o\n  QMailMessageBody::~QMailMessageBody()in qmfstoragemanager.o\n  PartStorer::operator()(QMailMessagePart const&amp;)in qmfstoragemanager.o\n  PartLoader::operator()(QMailMessagePart&amp;)in qmfstoragemanager.o\n \"QPrivatelyImplemented&lt;QMailMessageHeaderFieldPrivate&gt;::~QPrivatelyImplemented()\", referenced from:\n  QMailMessageContentType::~QMailMessageContentType()in qmfstoragemanager.o\n  QMailMessageContentType::~QMailMessageContentType()in qmfstoragemanager.o\n  ReferenceLoader::operator()(QMailMessagePart&amp;)in qmfstoragemanager.o\n  PartLoader::operator()(QMailMessagePart&amp;)in qmfstoragemanager.o\n\"QPrivatelyImplemented&lt;QMailMessagePartContainerPrivate&gt;::~QPrivatelyImplemented()\", referenced from:\n  QMailMessage::~QMailMessage()in qmfstoragemanager.o\n\"QPrivatelyImplemented&lt;QMailMessageMetaDataPrivate&gt;::~QPrivatelyImplemented()\", referenced from:\n  QMailMessage::~QMailMessage()in qmfstoragemanager.o\n \"QPrivatelyImplemented&lt;QMailMessageMetaDataPrivate&gt;::operator=(QPrivatelyImplemented&lt;QMailMessageMetaDataPrivate&gt; const&amp;)\", referenced from:\n  QmfStorageManager::load(QString const&amp;, QMailMessage*) in qmfstoragemanager.o\n\"QPrivatelyImplemented&lt;QMailMessagePartContainerPrivate&gt;::operator=(QPrivatelyImplemented&lt;QMailMessagePartContainerPrivate&gt; const&amp;)\", referenced from:\n  QmfStorageManager::load(QString const&amp;, QMailMessage*) in qmfstoragemanager.o\nld: symbol(s) not found for architecture x86_64\n</code></pre>\n\n<p>It does, however, compile flawlessly under Ubuntu and I'm near enough positive I've compiled it on OS X previous so I'm a bit puzzled, obvious symbols not found generally means there's some source code missing, anyone come across this before I start tearing it apart?</p>\n"},{"tags":["javascript","c++","html","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":72,"score":2,"question_id":12619308,"title":"best javascript engine for cross platform desktop app","body":"<p>I am going to create a desktop app, with C++ as backend, Html/JS as UI. for now, it just hosted by QtWebKit to cross platform, maybe in future, may be hosted on line. </p>\n\n<p>Is QtWebKit is a good approach? the interface will be signal/slot, not sure whether it easy to port to other javascript engine when porting to website? </p>\n\n<p>any ideas on this? thanks in advance.</p>\n"},{"tags":["qt","properties","enums"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12609894,"title":"Qt Q_ENUM property from QVariant(qulonglong).","body":"<p>Consider the following Qt code:</p>\n\n<pre><code>class Foo : public QObject {\n  Q_OBJECT\n  Q_ENUMS(E)\n  Q_PROPERTY(E x READ x WRITE set_x)\n\n  public:\n    enum E {\n      a = 0,\n      b = 1,\n      c = 2\n    };\n\n    E x() const { return x_; }\n    void set_x(E value) { x_ = value; }\n\nprivate:\n    E x_;\n};\n\nint main (int argc, char **argv) {\n  QCoreApplication app(argc, argv);\n\n  Foo f;\n\n  f.setProperty(\"x\", Foo::c);\n  std::cout &lt;&lt; f.property(\"x\").toInt() &lt;&lt; std::endl;  // 2\n\n  f.setProperty(\"x\", QVariant((int)1));\n  std::cout &lt;&lt; f.property(\"x\").toInt() &lt;&lt; std::endl; // 1\n\n  f.setProperty(\"x\", QVariant((long long)0));\n  std::cout &lt;&lt; f.property(\"x\").toInt() &lt;&lt; std::endl; // should be 0. is 1. \n}\n</code></pre>\n\n<p>Why does it work that way? </p>\n"},{"tags":["qt","qt4","ogre3d","ogre"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2828,"score":0,"question_id":2370790,"title":"Integrating OGRE 1.7 in Qt","body":"<p>I need to integrate Ogre 3d in Qt 4. I found several codes and suggestions which are unfortunately out-dated. I liked this tutorial</p>\n\n<p><a href=\"http://irmatden.developpez.com/tutoriels/qt/integration-ogre-qt/\" rel=\"nofollow\">http://irmatden.developpez.com/tutoriels/qt/integration-ogre-qt/</a></p>\n\n<p>It works with Ogre 1.4.9 (Eihorn) but not with the recent version 1.7.0. Compiling the app with the recent one results in a linker error</p>\n\n<pre>\nogrewidget.o: In function `OgreWidget::~OgreWidget()':\nogrewidget.cpp:(.text+0x5b6): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\nogrewidget.o: In function `OgreWidget::~OgreWidget()':\nogrewidget.cpp:(.text+0x666): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\nogrewidget.o: In function `OgreWidget::~OgreWidget()':\nogrewidget.cpp:(.text+0x6f6): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\nogrewidget.o: In function `OgreWidget::initOgreSystem()':\nogrewidget.cpp:(.text+0x1cfb): undefined reference to `Ogre::NedPoolingImpl::allocBytes(unsigned int, char const*, int, char const*)'\nogrewidget.cpp:(.text+0x1dde): undefined reference to `Ogre::Root::initialise(bool, std::basic_string, std::allocator > const&, std::basic_string, std::allocator > const&)'\nogrewidget.cpp:(.text+0x2278): undefined reference to `Ogre::Root::createRenderWindow(std::basic_string, std::allocator > const&, unsigned int, unsigned int, bool, std::map, std::allocator >, std::basic_string, std::allocator >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > > const*)'\nogrewidget.cpp:(.text+0x2c31): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\nogrewidget.o: In function `std::_Rb_tree, std::allocator >, std::pair, std::allocator > const, std::basic_string, std::allocator > >, std::_Select1st, std::allocator > const, std::basic_string, std::allocator > > >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > >::_M_insert_(std::_Rb_tree_node_base const*, std::_Rb_tree_node_base const*, std::pair, std::allocator > const, std::basic_string, std::allocator > > const&)':\nogrewidget.cpp:(.text._ZNSt8_Rb_treeISsSt4pairIKSsSsESt10_Select1stIS2_ESt4lessISsEN4Ogre12STLAllocatorIS2_NS7_22CategorisedAllocPolicyILNS7_14MemoryCategoryE0EEEEEE10_M_insert_EPKSt18_Rb_tree_node_baseSG_RKS2_[std::_Rb_tree, std::allocator >, std::pair, std::allocator > const, std::basic_string, std::allocator > >, std::_Select1st, std::allocator > const, std::basic_string, std::allocator > > >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > >::_M_insert_(std::_Rb_tree_node_base const*, std::_Rb_tree_node_base const*, std::pair, std::allocator > const, std::basic_string, std::allocator > > const&)]+0x40): undefined reference to `Ogre::NedPoolingImpl::allocBytes(unsigned int, char const*, int, char const*)'\nogrewidget.cpp:(.text._ZNSt8_Rb_treeISsSt4pairIKSsSsESt10_Select1stIS2_ESt4lessISsEN4Ogre12STLAllocatorIS2_NS7_22CategorisedAllocPolicyILNS7_14MemoryCategoryE0EEEEEE10_M_insert_EPKSt18_Rb_tree_node_baseSG_RKS2_[std::_Rb_tree, std::allocator >, std::pair, std::allocator > const, std::basic_string, std::allocator > >, std::_Select1st, std::allocator > const, std::basic_string, std::allocator > > >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > >::_M_insert_(std::_Rb_tree_node_base const*, std::_Rb_tree_node_base const*, std::pair, std::allocator > const, std::basic_string, std::allocator > > const&)]+0x10d): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\nogrewidget.o: In function `std::_Rb_tree, std::allocator >, std::pair, std::allocator > const, std::basic_string, std::allocator > >, std::_Select1st, std::allocator > const, std::basic_string, std::allocator > > >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > >::_M_erase(std::_Rb_tree_node, std::allocator > const, std::basic_string, std::allocator > > >*)':\nogrewidget.cpp:(.text._ZNSt8_Rb_treeISsSt4pairIKSsSsESt10_Select1stIS2_ESt4lessISsEN4Ogre12STLAllocatorIS2_NS7_22CategorisedAllocPolicyILNS7_14MemoryCategoryE0EEEEEE8_M_eraseEPSt13_Rb_tree_nodeIS2_E[std::_Rb_tree, std::allocator >, std::pair, std::allocator > const, std::basic_string, std::allocator > >, std::_Select1st, std::allocator > const, std::basic_string, std::allocator > > >, std::less, std::allocator > >, Ogre::STLAllocator, std::allocator > const, std::basic_string, std::allocator > >, Ogre::CategorisedAllocPolicy > >::_M_erase(std::_Rb_tree_node, std::allocator > const, std::basic_string, std::allocator > > >*)]+0x47): undefined reference to `Ogre::NedPoolingImpl::deallocBytes(void*)'\ncollect2: ld returned 1\n</pre>\n\n<p>What might cause this and how do I solve it?</p>\n"},{"tags":["c++","qt","delegates","qtableview","qt4.7"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12616195,"title":"Qt - How can i make a particular Column of my QTableView as Non Editable?","body":"<p>I have a <strong>QTableView</strong> with <strong>4 Rows and 4 columns</strong> each representing their data's in it.  By default the QTableView is Editable. Now <strong>i want to make any Particular Column as non Editable in my QTableView</strong>. How can i do it? Thanks in Advance.</p>\n"},{"tags":["qt","named-pipes"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12620574,"title":"Workaround for reconnect-problems within Qt's namedpipe-implementation?","body":"<p>I'm experiencing some variant of a bug described here (using the sample code in the bugreport):</p>\n\n<p><a href=\"https://bugreports.qt-project.org/browse/QTBUG-22145\" rel=\"nofollow\">https://bugreports.qt-project.org/browse/QTBUG-22145</a></p>\n\n<p>It's reproducable like this:</p>\n\n<ul>\n<li>Start the application twice (now called App1 and App2)</li>\n<li>Click \"listen\" in App1</li>\n<li>Click \"connect\" in App2(you will see that the connection is established successfully on both sides)</li>\n<li>Click \"ping\" in App2 (you will see a \"ping\" message in App1 and a \"pong\" message in App2)</li>\n<li>Close app1 (you will see a disconnect-message in App2)</li>\n<li>Start another instance (now called App3)</li>\n<li>Click \"listen\" in App3</li>\n<li>Click \"connect\" in App2 (you will see that the connection is established successfully on both sides)</li>\n<li>Click \"ping\" in App2 (now neither a ping- nor a pong-message will be transmitted)</li>\n</ul>\n\n<p>Is there any workaround known to get a working connection in that scenario?\nIs there any way to detect that the connection isn't working?</p>\n\n<p>PS: My Qt-project-file in addition to the VS-project-file in the bug-report:</p>\n\n<blockquote>\n<pre><code>QT           += network gui\nHEADERS += \\\n    mainwidget.h\nSOURCES += \\\n    mainwidget.cpp \\\n    main.cpp\n</code></pre>\n</blockquote>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12618563,"title":"Qt program doesn't work: The program has inexpectedly finished","body":"<p>I'm creating a small application with QtCreator. It compiles, but when executing from QtCreator I'm getting \"The program has inexpectedly finished\" error.</p>\n\n<p>If I try to execute the binary from console, I get a Segementation fault (core dumped).</p>\n\n<p>Since this is the first time I start a Qt code on my own, I guess I'm missing something. Please check the following code:</p>\n\n<p>Header mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nclass MainWindow;\nclass QLabel;\nclass QLineEdit;\nclass QPushButton;\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    void createGUI();\n\nprivate:\n    QLineEdit *mysqlUserLineEdit;\n    QLineEdit *mysqlPasswordLineEdit;\n    QLineEdit *albatrossIPLineEdit;\n    QLineEdit *albatrossPortLineEdit;\n    QPushButton *exitButton;\n    QPushButton *startButton;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>Source mainwindow.cpp:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent)\n{\n    createGUI();\n\n    //connect(...)\n    //connect(...)\n\n    setWindowTitle(tr(\"Albatross MySQL simulator\"));\n}\n\nMainWindow::~MainWindow()\n{\n\n}\n\nvoid MainWindow::createGUI()\n{\n    QVBoxLayout *mainLayout = new QVBoxLayout;\n        QHBoxLayout *settingsLayout = new QHBoxLayout;\n            QVBoxLayout *mysqlSettingsLayout = new QVBoxLayout;\n                QHBoxLayout *mysqlUserLayout = new QHBoxLayout;\n                mysqlUserLineEdit = new QLineEdit();\n                QLabel *mysqlUserLabel = new QLabel(tr(\"&amp;User:\"));\n                mysqlUserLabel-&gt;setBuddy(mysqlUserLineEdit);\n                mysqlUserLayout-&gt;addWidget(mysqlUserLabel);\n                mysqlUserLayout-&gt;addWidget(mysqlUserLineEdit);\n\n                QHBoxLayout *mysqlPasswordLayout = new QHBoxLayout;\n                mysqlPasswordLineEdit = new QLineEdit();\n                QLabel *mysqlPasswordLabel = new QLabel(tr(\"&amp;Password:\"));\n                mysqlPasswordLabel-&gt;setBuddy(mysqlPasswordLineEdit);\n                mysqlPasswordLayout-&gt;addWidget(mysqlPasswordLabel);\n                mysqlPasswordLayout-&gt;addWidget(mysqlPasswordLineEdit);\n            mysqlSettingsLayout-&gt;addLayout(mysqlUserLayout);\n            mysqlSettingsLayout-&gt;addLayout(mysqlPasswordLayout);\n\n            QVBoxLayout *networkSettingsLayout = new QVBoxLayout;\n                QHBoxLayout *albatrossIPLayout = new QHBoxLayout;\n                albatrossIPLineEdit = new QLineEdit();\n                QLabel *albatrossIPLabel = new QLabel(tr(\"&amp;IP:\"));\n                albatrossIPLabel-&gt;setBuddy(albatrossIPLineEdit);\n                albatrossIPLayout-&gt;addWidget(albatrossIPLabel);\n                albatrossIPLayout-&gt;addWidget(albatrossIPLineEdit);\n\n                QHBoxLayout *albatrossPortLayout = new QHBoxLayout;\n                albatrossPortLineEdit = new QLineEdit();\n                QLabel *albatrossPortLabel = new QLabel(tr(\"P&amp;ort:\"));\n                albatrossPortLabel-&gt;setBuddy(albatrossPortLineEdit);\n                albatrossPortLayout-&gt;addWidget(albatrossPortLabel);\n                albatrossPortLayout-&gt;addWidget(albatrossPortLineEdit);\n            networkSettingsLayout-&gt;addLayout(albatrossIPLayout);\n            networkSettingsLayout-&gt;addLayout(albatrossPortLayout);\n        settingsLayout-&gt;addLayout(mysqlSettingsLayout);\n        settingsLayout-&gt;addLayout(networkSettingsLayout);\n\n        QHBoxLayout *buttonsLayout = new QHBoxLayout;\n        exitButton = new QPushButton(tr(\"&amp;Exit\"));\n        buttonsLayout-&gt;addWidget(exitButton);\n        startButton = new QPushButton(tr(\"&amp;Start\"));\n        startButton-&gt;setDefault(true);\n        buttonsLayout-&gt;addWidget(startButton);\n    mainLayout-&gt;addLayout(settingsLayout);\n    mainLayout-&gt;addLayout(buttonsLayout);\n    centralWidget()-&gt;setLayout(mainLayout);\n}\n</code></pre>\n\n<p>And finally main.cpp,, which was generated automatically with QtCreator:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>EDIT: Ok, the problem is when using mainLayout to attach it to the mainWindow, and the last line of mainwindow.cpp. That's where it's throwing a segmentation fault. What should I set as central widget? Or is there any other way of attaching the layout to the mainwindow widget?</p>\n"},{"tags":["excel","qt","qtableview","qt4.7","qpushbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12614803,"title":"Qt - how to save my QTableView as a Excel File?","body":"<p>Can anyone plz help me, how to save my <strong>QtableView</strong> as a Excel File. I have a <strong>QTableView</strong> and  <strong>a QPushButton</strong> (Save Button). If i enter the values in my QtableView and if i <strong>click the Save Buttton the QTableView items should be saved as Excel File.</strong> Plz Help me. Thanks..</p>\n"},{"tags":["c++","qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12601520,"title":"QML change views on Click","body":"<p>i'm working on a project with my team.\nMy job is to create a Gui with QML and C++ for an Embedded System.</p>\n\n<p>I have for each View a qml file.</p>\n\n<p>But now i want to navigate between them.\nThis mean when i'm clicking on a Button, the view should switch.\nEvery View will have a back button, so i could go back to my Main View.</p>\n\n<p>Is this possible in qml?\nIf not i have to solve it with c++</p>\n"},{"tags":["qt"],"answer_count":8,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":255,"score":7,"question_id":3652636,"title":"What are some good Qt related blogs/forums/sites to follow?","body":"<p>What are some good Qt related blogs/forums/sites to follow so one can learn more about developing with Qt?\nAlso maybe some good (in terms of user interface richness) opensource apps that one can read the source code and learn from them.</p>\n"},{"tags":["qt","audio","symbian","qml","volume"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":51,"score":4,"question_id":12565748,"title":"Qt Symbian audio level","body":"<p>How can I get the current system audio level of a Symbian device because i want applications volume level to be the same as say for example the native music player's.</p>\n\n<p>Any ideas?</p>\n\n<p>PS. I'm using Qt Game Enabler for sound.</p>\n"},{"tags":["eclipse","qt","eclipse-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":428,"score":2,"question_id":12618223,"title":"Is the QT eclipse integration plugin still available for download?","body":"<p>I want to start developing a new C++ application with QT in the eclipse IDE. I read about a QT integration plugin from nokia but cannot find it to download, nor any official statement wheter it is been discontinued or renamed.</p>\n\n<p>Is there still a QT GUI plugin for eclipse?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12617553,"title":"Work around for signal and slot argument limitation","body":"<p>I want to make a PushButton when it is clicked, its text change into 'clicked'. I tried it by</p>\n\n<pre><code>connect(button1, SIGNAL(clicked()), this, SLOT(markClicked(button1))); \n</code></pre>\n\n<p>where <code>this</code> refer to the <code>MainWindow</code> and</p>\n\n<pre><code>void MainWindow::markClicked(QPushButton *button) { button-&gt;setText(\"Clicked\"); }\n</code></pre>\n\n<p>It does not seem to work because I think SLOT cannot take more arguments than SIGNAL. If there any approach to work around this limitation?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","drag-and-drop","cursor"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12617686,"title":"How override cursor when draging out the app?","body":"<p>Tell me please.\nIs it posible to override standart \"Stop\" (crossed circle) cursor when I drag and drop outside the main window? I have very simple code and that is enough for me. I drag PushButton outside the main window and on release mouse button I get window where mouse was released. Like a standart Windows Spy. So how can I override cursor outside the main window?\nThanks a lot.</p>\n\n<p>header</p>\n\n<pre><code>class DDButton : public QPushButton\n{\n    Q_OBJECT\npublic:\n    explicit DDButton(QWidget *parent = 0);\n\nsignals:\n\npublic slots:\n\nprivate:\n    void mousePressEvent(QMouseEvent *event);\n};\n</code></pre>\n\n<p>cpp</p>\n\n<pre><code>void DDButton::mousePressEvent(QMouseEvent *event)\n{\n     if (event-&gt;button() == Qt::LeftButton) {\n\n         QDrag *drag = new QDrag(this);\n         QMimeData *mimeData = new QMimeData;\n\n         drag-&gt;setMimeData(mimeData);\n         drag-&gt;setPixmap(cursor.pixmap());\n         drag-&gt;setHotSpot(QPoint(0,0));\n\n         //This block not working\n         QCursor cursor(Qt::OpenHandCursor);\n         drag-&gt;setDragCursor(cursor.pixmap(), Qt::IgnoreAction);\n\n         Qt::DropAction dropAction = drag-&gt;exec();\n\n         //Do something\n         qDebug()&lt;&lt;\"Press\";\n     }\n}\n</code></pre>\n"},{"tags":["c++","qt","input-validation","qspinbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12616120,"title":"Validation in QSpinBox","body":"<p>I have <code>QSpinBox</code> which should take only odd numbers, so I've set initial value to 3 and step to 2.</p>\n\n<pre><code>QSpinBox* spinBox = new QSpinBox;\nspinBox-&gt;setValue(3);\nspinBox-&gt;setSingleStep(2);\n</code></pre>\n\n<p>When I'm using spin box arrows to modify value everything is ok. But when I input value from keyboard it can take not odd numbers to. </p>\n\n<p>So is it possible to set validation which fulfills my requirements without inheriting <code>QSpinBox</code> and redefining its <code>validate</code> method?</p>\n\n<p>My current solution is checking in slot if the value is odd:</p>\n\n<pre><code>void MyWidget::slotSetSpinBoxValue(int value)\n{\n    if(value%2 != 0)\n    {\n         //call function which takes only odd values\n    }\n    else\n    {\n        //here I want to show some kind off message that value can only be odd\n        //call function with --value parameter\n    }\n}\n</code></pre>\n\n<p>Second question is how to show some tip for <code>QSpinBox</code>? I would like to show tip like tool tip is shown with message that <code>QSpinBox</code> value should be odd. I've found <code>statusTip</code> property in <code>QWidget</code> but cant find example how to use it.</p>\n"},{"tags":["visual-studio-2010","qt","opengl","make"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12609422,"title":"Generated .pro file from visual studio Qt addin adds unnecessary openGL libraries?","body":"<p>I've created a basic app in visual studio with Qt and an openGL widget. I export a .pro file from the addin so that I can compile in Linux.</p>\n\n<p>I get the message:</p>\n\n<pre><code>/usr/bin/ld: cannot find -lopengl32\n/usr/bin/ld: cannot find -lglu32\n</code></pre>\n\n<p>... when running make.</p>\n\n<p>The issue goes away and the program compiles fine if I remove:</p>\n\n<pre><code>LIBS += -lopengl32 \\\n    -lglu32\n</code></pre>\n\n<p>... from the generated .pro file.</p>\n\n<p>I understand the \"export .pro\" feature is not flawless, but is this the correct way to fix this problem?</p>\n"},{"tags":["c++","file","qt","qfilesystemwatcher"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":12612231,"title":"\"QFileSystemWatcher: failed to add paths\" but still works","body":"<p>I need to monitore a filesystem, i have a function which browse folders and files recursively and which add theirs path to my QFileSystemWatcher :</p>\n\n<pre><code>    void watchFileSystem(const QDir&amp; dir, QFileSystemWatcher&amp; watcher)\n    {\n       watcher.addPath(dir.absolutePath());\n       QDirIterator iterator(dir.absolutePath(), QDirIterator::Subdirectories);\n       while (iterator.hasNext()) {\n           QString foldername = QString(iterator.fileName());\n           if (foldername != \".\" &amp;&amp; foldername != \"..\" &amp;&amp; foldername != \"\")\n               watcher.addPath(iterator.filePath());\n          iterator.next();\n          if (!iterator.fileInfo().isDir()) {\n             watcher.addPath(iterator.filePath());\n          }\n       }\n    }\n</code></pre>\n\n<p>While running, every \"watcher.addPath(iterator.filePath());\" I have this error message in the console :</p>\n\n<blockquote>\n  <p>QFileSystemWatcher: failed to add paths: C:/.../anyfile.ext</p>\n</blockquote>\n\n<p>The strangest thing is that it works anyway. When I rename/edit a file or a folder, the fileChanged and folderChanged event is triggered.</p>\n\n<p>Anyone has an idea of what is happening ?\nI'm worried about an instability of my program, this error can't be shown for nothing.</p>\n\n<p>Thanks for reading and help,</p>\n\n<p>Raphael.</p>\n"},{"tags":["c++","qt","qvariant"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1395,"score":8,"question_id":2868673,"title":"How to support comparisons for QVariant objects containing a custom type?","body":"<p>According to the Qt documentation, <code>QVariant::operator==</code> does not work as one might expect if the variant contains a custom type:</p>\n\n<blockquote>\n  <p><strong>bool QVariant::operator== ( const QVariant &amp; v  ) const</strong></p>\n  \n  <p>Compares this QVariant with v and\n  returns true if they are equal;\n  otherwise returns false.</p>\n  \n  <p>In the case of custom types, their\n  equalness operators are not called.\n  Instead the values' addresses are\n  compared.</p>\n</blockquote>\n\n<p>How are you supposed to get this to behave meaningfully for your custom types? In my case, I'm storing an enumerated value in a QVariant, e.g.</p>\n\n<p>In a header:</p>\n\n<pre><code>enum MyEnum { Foo, Bar };\n\nQ_DECLARE_METATYPE(MyEnum);\n</code></pre>\n\n<p>Somewhere in a function:</p>\n\n<pre><code>QVariant var1 = QVariant::fromValue&lt;MyEnum&gt;(Foo);\nQVariant var2 = QVariant::fromValue&lt;MyEnum&gt;(Foo);\nassert(var1 == var2); // Fails!\n</code></pre>\n\n<p>What do I need to do differently in order for this assertion to be true?</p>\n\n<p>I understand <em>why</em> it's not working -- each variant is storing a separate copy of the enumerated value, so they have different addresses. I want to know how I can change my approach to storing these values in variants so that either this is not an issue, or so that they do both reference the same underlying variable.</p>\n\n<p>It don't think it's possible for me to get around needing equality comparisons to work. The context is that I am using this enumeration as the UserData in items in a <code>QComboBox</code> and I want to be able to use <code>QComboBox::findData</code> to locate the item index corresponding to a particular enumerated value.</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12615402,"title":"Coloring the QString","body":"<pre><code>  QString text(\"&lt;FONT COLOR=red&gt;%1&lt;/FONT&gt;\");\n        text.arg(strMat);\nQDomNode text_node\ntext_node.setNodeValue(text);\n</code></pre>\n\n<p>I have the above code . What i want is text color shall be red and that text value shall be decided during the run time .</p>\n"},{"tags":["multithreading","qt","mutex"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":288,"score":1,"question_id":2338833,"title":"synchronising threads with mutexes","body":"<p>In Qt, I have a method which contains a mutex lock and unlock. The problem is when the mutex is unlock it sometimes take long before the other thread gets the lock back.  In other words it seems the same thread can get the lock back(method called in a loop) even though another thread is waiting for it. What can I do about this?  One thread is a qthread and the other thread is the main thread.</p>\n"},{"tags":["qt","qtableview","qt4.7","model-view","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12582371,"title":"How to set the different QLineEdit Text in a TableView","body":"<p>I have 3 <code>QLineEdits</code> (say Name, Address &amp; Phone No.), a <code>QPushButton</code> (Add button) and a <code>QTableView</code>.</p>\n\n<p>When I have entered text in all the <code>QLineEdits</code>, and if I click the Add button, all 3 texts of the <code>QLineEdits* should be added in the 1st row of the</code>QTableView`.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["qt","qt4","qprocess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":12614459,"title":"How to run one qt application from another qt application","body":"<p>I have one Qt application (App1).\nI want to run App1 from another qt application (App2).\nI have tried using QProcess but App1 doesnt run.\nKindly help me out.\nI am working on RHEL 6.</p>\n\n<pre><code>     QProcess process = new QProcess();\n    QString program = \"/home/user1/Desktop/MyApp/App1\";\n    process-&gt;start(program);\n</code></pre>\n"},{"tags":["c++","qt","sockets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12598937,"title":"Unable to read correctly from socket","body":"<p>I have a server application which sends some <strong>xor encrypted strings</strong>. I am reading them from my QT client application. Sometimes, the server is slower and I am not able to receive the entire string. I have tried something like below but it gets stuck ( see the comment below). How can I wait until I have the entire data.  I tried <code>bytesAviable()</code> but then again i get stuck (infinite loop)</p>\n\n<pre><code>QTcpSocket * sock = static_cast&lt;QTcpSocket*&gt;(this-&gt;sender());\nif (key == 0)\n{\n    QString recv(sock-&gt;readLine());\n    key = recv.toInt();\n    qDebug() &lt;&lt; \"Cheia este \" &lt;&lt; key;\n\n    char * response = enc_dec(\"#AUTH|admin|admin\",strlen(\"#AUTH|admin|admin\"),key);\n    sock-&gt;write(response);\n}\nelse\n{\n    busy = true;\n    while (sock-&gt;bytesAvailable() &gt; 0)\n    {\n        unsigned short word;\n        sock-&gt;read((char*)(&amp;word),2);\n        qDebug()&lt;&lt;word;\n        //Sleep(100); if i do this than it works great!\n        QByteArray bts = sock-&gt;read(word);\n        while (bts.length() &lt; word)\n        {\n            char bit; //here get's stuck\n            if (sock-&gt;read(&amp;bit,1) &gt; 0)\n                bts.append(bit);\n            sock-&gt;flush();\n        }\n\n        char * decodat = enc_dec((char*)bts.data(),bts.length() - 2,key);\n        qDebug() &lt;&lt; decodat;\n    }\n\n}\n</code></pre>\n"},{"tags":["c","linux","qt","process","root"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12613232,"title":"Is it possible to pass on password to process requiring root privileges","body":"<p>Suppose i start a process p1 using QProcess. The process p1 requires root privileges, so can we pass on password to process p1 without human intervention, of course password being read from some location</p>\n"},{"tags":["qt","events"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":12545711,"title":"How do events work in Qt?","body":"<p>I have some questions about the general usage of Qt events. I'm new to Qt, and I am going to try out making a custom event. The questions I ask are related to this article: <a href=\"http://doc.qt.digia.com/4.8-snapshot/eventsandfilters.html\" rel=\"nofollow\">Qt 4.8: The Event System</a></p>\n\n<ul>\n<li><p><strong>When does an event “occur”?</strong> <br/>In Qt's built in events, mouse clicks and key presses are put into a queue and then the functions are executed at the next frame. I’m especially wondering about this for custom events, because I’m not sure if it always occurs when a mouse is clicked. For custom events, is it when you send the event into the queue and then waits to be processed by the event() function at the next frame?</p></li>\n<li><p><strong>To create a custom event, must you make a class that inherits from QEvent and register an event with registerEventType() function?</strong> <br/>Is this the standard process, or can an event simply be a class? How does this function, registerEventType(), work?</p></li>\n<li><p><strong>Do custom events have a QEvent::Type?</strong> <br/> Is this the number between 1000 and 6563 that is given when using the registerEventType() function?</p></li>\n<li><p><strong>What is the recipient of an event?</strong> <br/> It seems to be in functions' parameters like postEvent(), sendEvent(), etc. However, I am not sure what this object is for.</p></li>\n<li><p><strong>Where is the actual code that is executed when an event is fired?</strong> <br/>\nIs it a function, or is it in the event() function of QObjects.</p></li>\n</ul>\n\n<p><br/>\nAlso any working examples of Qt events (both built-in or custom) in action would be helpful.</p>\n"},{"tags":["qt","debugging","qt4","qml","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12607039,"title":"How to find out why QML WebView page loading fails","body":"<p>I try to open a local page (WebOS app) using QML WebView</p>\n\n<pre><code>import QtQuick 1.1\nimport QtWebKit 1.0\nimport com.nokia.meego 1.0\n\nPage \n{\n    id: mainPage\n    Flickable\n    {\n        id: appFlickable\n        anchors.fill: parent\n        clip: true\n\n        contentHeight: appView.height\n        contentWidth: appView.width\n\n        WebView\n        {\n            id: appView\n            preferredHeight: parent.height\n            preferredWidth: parent.width\n            url: appUrl\n            settings.javascriptCanOpenWindows: true\n            settings.javascriptEnabled: true\n            settings.autoLoadImages: true\n            settings.javascriptCanAccessClipboard: true\n            settings.developerExtrasEnabled: true\n            onLoadFailed: console.log(\"load failed\")\n            onLoadFinished: console.log(\"load finished\")\n        }\n    }\n}\n</code></pre>\n\n<p>I load it in main.cpp this way:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    QDeclarativeView view;\n    view.rootContext()-&gt;setContextProperty(\"appUrl\", argv[1]);\n    view.setSource(QUrl(\"qrc:/qml/main.qml\"));\n    view.showFullScreen();\n    return app.exec();\n}\n</code></pre>\n\n<p>I'm always getting a load fail. Is there any way I can find out the problem, enable some web console to show me what fails.</p>\n\n<p>Thanks</p>\n\n<p>Marcin</p>\n"},{"tags":["c++","qt","qt4","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1445,"score":3,"question_id":2284051,"title":"Qt installation error","body":"<p>i got an error when am trying to configure Qt.</p>\n\n<pre><code>Erro :\n    execute: File or path is not found (nmake)\n    execute: File or path is not found (nmake)\n    Cleaning qmake failed, return code -1\n\n\n\n\n// installion files.\n    InterBase...............no\n\nSources are in..............E:\\xampp\\Qt\\4.6\nBuild is done in............E:\\xampp\\Qt\\4.6\nInstall prefix..............E:\\xampp\\Qt\\4.6\nHeaders installed to........E:\\xampp\\Qt\\4.6\\include\nLibraries installed to......E:\\xampp\\Qt\\4.6\\lib\nPlugins installed to........E:\\xampp\\Qt\\4.6\\plugins\nBinaries installed to.......E:\\xampp\\Qt\\4.6\\bin\nDocs installed to...........E:\\xampp\\Qt\\4.6\\doc\nData installed to...........E:\\xampp\\Qt\\4.6\nTranslations installed to...E:\\xampp\\Qt\\4.6\\translations\nExamples installed to.......E:\\xampp\\Qt\\4.6\\examples\nDemos installed to..........E:\\xampp\\Qt\\4.6\\demos\n\nCreating qmake...\nexecute: File or path is not found (nmake)\nexecute: File or path is not found (nmake)\nCleaning qmake failed, return code -1\n\n\nE:\\xampp\\Qt\\4.6&gt;\n</code></pre>\n"},{"tags":["c++","qt","valgrind","qtgui","memcheck"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12610669,"title":"Qt memory error - valgrind trace analysis help needed","body":"<p>Do you have any theory how to debug this potentially problematic memory access pattern? I have hunch it might be related to a certain heisen-bug I'm experiencing, but I can't seem to pinpoint it. </p>\n\n<p>it's a snippet of a run of debug build, under valgrind, with <code>--track-origins=yes</code>, <code>--leak-check=full</code>   </p>\n\n<p>How could I be misusing Qt's Gui lib so that it manifests itself in the following manner?</p>\n\n<pre><code>==15169== Conditional jump or move depends on uninitialised value(s)\n==15169==    at 0x99CD8AA: XSetCommand (in /usr/lib64/libX11.so.6.3.0)\n==15169==    by 0x99D1FFE: XSetWMProperties (in /usr/lib64/libX11.so.6.3.0)\n==15169==    by 0x7280853: QWidgetPrivate::create_sys(unsigned long, bool, bool) (in /usr/lib64/qt4/libQtGui.so.4.8.3)\n==15169==    by 0x723550F: QWidget::create(unsigned long, bool, bool) (in /usr/lib64/qt4/libQtGui.so.4.8.3)\n==15169==    by 0x723F3E1: QWidget::setVisible(bool) (in /usr/lib64/qt4/libQtGui.so.4.8.3)\n==15169==    by 0x40DFE5: QWidget::show() (qwidget.h:494)\n==15169==    by 0x40DA5D: SYSApplication::on_start() (sysapplication.cpp:55)\n==15169==    by 0x40D5BC: main (main.cpp:8)\n==15169==  Uninitialised value was created by a stack allocation\n==15169==    at 0x723F0E0: QWidget::setVisible(bool) (in /usr/lib64/qt4/libQtGui.so.4.8.3)\n==15169== \n</code></pre>\n"},{"tags":["qt","http","networking","request"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12610277,"title":"Qt HTTP GET freezes screen","body":"<p>I'm writing a Qt program to get an image from site and insert in a QLabel. When I send my request my screen freezes and nothing more occurs.\nNotice I'm new in Qt.</p>\n\n<p>Based on my initial knowledge of Qt it's enough send a signal when download is finished.</p>\n\n<pre><code>...\n\nMapReader::MapReader(QWidget *parent, Qt::WFlags flags)\n    : QMainWindow(parent, flags)\n{\n    ui.setupUi(this);\n    imageLabelMap = ui.imageMap;\n    getImageButton = ui.getImageButton;\n    networkManager = new QNetworkAccessManager(this);\n    setup();\n}\n\nMapReader::~MapReader()\n{\n}\n\nvoid MapReader::setup()\n{\n    QObject::connect(getImageButton, SIGNAL(clicked()), this, SLOT(triggerDownload()));\n    QObject::connect(networkManager, SIGNAL(finished(QNetworkReply*)), this, SLOT(finishedDownload(QNetworkReply*)));\n}\n\nvoid MapReader::setImage(QByteArray imageBytes)\n{\n    QImage map;\n    ...\n}\n\nvoid MapReader::triggerDownload()\n{   \n    QUrl url(\"http://images.tsn.ca/images/stories/2012/09/26/terrydunfield_2035-430x298.jpg\");\n    QNetworkReply* reply = networkManager-&gt;get(QNetworkRequest(url));\n    QObject::connect(reply, SIGNAL(readyRead()), &amp;loop, SLOT(quit()));\n}\n\nvoid MapReader::finishedDownload(QNetworkReply* reply)\n{\n    reply-&gt;deleteLater();\n    QVariant statusCodeV = reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n    QVariant redirectionTargetUrl = reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n\n    if(reply-&gt;error() != QNetworkReply::NoError)\n    {\n        QMessageBox msgBox;\n        msgBox.setWindowTitle(\"Error\");\n        msgBox.setInformativeText(\"Error on downloading file: \\n\"+reply-&gt;errorString());\n        msgBox.exec();\n        return;\n    }\n    QVariant attribute = reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n    if (attribute.isValid())\n    {\n        QUrl url = attribute.toUrl();\n        qDebug() &lt;&lt; \"must go to:\" &lt;&lt; url;\n        return;\n    }\n\n    setImage(reply-&gt;readAll());\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12598892,"title":"Convert i of For Loop to QString","body":"<p>Edited-</p>\n\n<p>Here's where I'm getting thrown down:</p>\n\n<pre><code>for(int i=0, a=bugModel-&gt;rowCount(); i&lt;a; i++){\n        qDebug() &lt;&lt; i;\n        QString *BugName = new QString(QString::number(i));\n        setting.beginGroup(BugName-&gt;toAscii());\n        bugModel-&gt;setData(bugModel-&gt;index(i,0), setting.value(\"theBugName\",  \"A Bug!\").toString());\n        setting.endGroup();\n        delete BugName;\n    }\n</code></pre>\n\n<p>I'm trying to load a Name from the setting group and set it to a list model, for which the name will equal to i. But everytime I load the model, the information of the group '0' only shows up, because i is 0 in here. For example:</p>\n\n<p>I have two setting group named '0' and '1'. I want the for loop to run 2 times so that it loads the value from these groups and set it in the QListView. But I tested it out and everytime it loads only the value of the '0' group, and when I change it to <code>for(int i=1..)</code> it loads the value of the group '1'.</p>\n"},{"tags":["multithreading","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12607733,"title":"How to execute a callback on the main thread","body":"<p>I am passing an object instance to an opaque module that executes SLOT methods on my object (callback). The calling module is on a different thread. I need to execute the methods on my main thread. I thought I could do this with signals and slots, but the signaled method is still executing on the callers thread. I don't think I should be moving my object to the callers thread with moveToThread() - isn't there a mechanism to emit a signal to my applications main thread?</p>\n\n<pre><code>MyClass::MyClass(...)\n{\n   OtherClass::getInstance()-&gt;setCallback(this);\n   connect(this, SIGNAL(mySignalToMainThread()), this, SLOT(doThisOnMainThread()));\n}\n\n// Public slot, called by OtherClass on its own thread.\nvoid MyClass::someCallback() \n{\n   emit mySignalToMainThread();\n}\n\nvoid MyClass::doThisOnMainThread()\n{\n   // AHHH! I am still on callers thread.\n}\n</code></pre>\n"}]}
{"total":16229,"page":14,"pagesize":100,"questions":[{"tags":["qt","properties","enums","metaclass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12607760,"title":"Qt ENUMS - setProperty implicit cast","body":"<p>Consider the following class:</p>\n\n<pre><code>class foo : public QObject {\n  Q_OBJECT \n  Q_ENUMS(E)\n  Q_PROPERTY(E x READ x WRITE setx)\n\n  public:\n    enum E {\n      a = 0,\n      b = 1,\n      c = 2\n    };\n}\n\nfoo f; \nf-&gt;setProperty(\"x\", 2); \n</code></pre>\n\n<p>does not provide the mapped enum value to setx. </p>\n\n<p>Is there a way to enable this functionality? </p>\n"},{"tags":["c++","windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12608380,"title":"Detect Subscribers To Event In Real Time","body":"<p>I'm using C++ in the QT framework to write an application that detects an application running in memory. I can use the <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms633499%28v=vs.85%29.aspx\" rel=\"nofollow\">FindWindow</a> method, but that requires that I know the windows title before hand. What would be the best method for identifying behavior of the application in memory to match it to a title? For example, if I know (before scanning) that a given application subscribes to the OnKeyPress event, is it possible to hook to it that method, detect all of the subscribers and enumerate them to find the application i'm looking for? If so, how would I go about doing that without integrating into the kernel?</p>\n\n<p>Thanks in advance for all the responses.</p>\n"},{"tags":["qt","cross-platform","autotools","dynamic-linking","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12605612,"title":"How to let autotools compile a QT module with qmake","body":"<p>In my project I have made <code>configure.ac</code> and <code>Makefile.am</code> files correctly so my components compile and dynamically link to the appropriate libraries. One of these components links to a library that uses QT, so the appropriate <code>Makefile</code> must be generated out of the <code>.pro</code> file prior compilation on the target system.</p>\n\n<p>For this I think that I need to find a way to tell my make scripts, through <code>Makefile.am</code> perhaps, that this library must be compiled on its own by first running <code>qmake</code> and the generated <code>Makefile</code> in that directory.</p>\n\n<p>Is this even possible? If so, how do I do it?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12605853,"title":"Qt - The final exe file","body":"<p>After making a software completely, how do I release the app so that the main exe file can run without any frameworks or things? I used the release Release presented in the left hand side where the run button is located. But after releasing, when I open the main exe file, it says \"Qt4Dll\" missing.</p>\n\n<p>I thought that Qt didn't require any framework to run?</p>\n"},{"tags":["python","qt","python-3.x","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":261,"score":3,"question_id":6671038,"title":"pyQt equivalent of asyncore/asynchat","body":"<p>Is there an equivalent of asyncore/asynchat in pyQt ?</p>\n\n<p>If not, then i trust there wouldn't be a problem by just using asyncore/asynchat in a client-server GUI application, right?</p>\n"},{"tags":["qt","gui"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":153,"score":2,"question_id":9894914,"title":"QT - Place Buttons on Bottom Right","body":"<p>I am trying to place a set of buttons so that they are anchored to the bottom right of the screen. My problem is that whenever I resize the screen, the buttons are not anchored to the bottom right, but stay in its current position.</p>\n\n<p>I have placed two Push Buttons inside a Horizontal Layout. I then placed this layout inside a Grid Layout, which contains a Horizontal and Vertical Spacer. I have modified the Grid Layout layoutSize property to SetMaximumSize.</p>\n\n<p>What am I doing incorrectly, so that I can get my buttons to be anchored to the bottom right?</p>\n\n<p><img src=\"http://i.stack.imgur.com/5wp2h.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","iostream","cin"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3222,"score":2,"question_id":2321880,"title":"Is it possible to use cin with Qt?","body":"<p>Is it possible to use <code>cin</code> in Qt? I can use <code>cout</code> but cannot find examples of how to use <code>cin</code> within a Qt console application.</p>\n"},{"tags":["qt","qt4","qtableview","qt4.6","qtestlib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12604739,"title":"How can you edit a QTableView cell from a QTest unit test?","body":"<p>I'm writing a unit test for a custom Validator in a QTableView using the <a href=\"http://doc.qt.digia.com/4.6/qtestlib-manual.html\" rel=\"nofollow\">QTestLib framework</a>. One of the most basic test cases could be described like this:</p>\n\n<blockquote>\n  <p>Double click the table cell in the third column and the fourth row, and append the number '5' to its content.</p>\n</blockquote>\n\n<p>It is not sufficient to simply change the value in the model or anything, the test case shall perform it like this:</p>\n\n<ol>\n<li>Double Click the table cell to set it into edit mode</li>\n<li>Press the [End] key.</li>\n<li>Press the [5] key.</li>\n</ol>\n\n<p>Note: <a href=\"http://stackoverflow.com/questions/3681326/how-to-trigger-the-edit-mode-of-an-item-in-a-qtableview\">This question</a> has an answer on how to set a table cell into edit mode from code, however the unit test shall try to stick to the possibilities of a human user, i.e. Mouse/Keyboard actions.</p>\n\n<p>I've found out the X/Y position of a cell can be retrieved using <a href=\"http://doc.qt.digia.com/4.6/qtableview.html#columnViewportPosition\" rel=\"nofollow\">QTableView::columnViewportPosition( int )</a> and <a href=\"http://doc.qt.digia.com/4.6/qtableview.html#rowViewportPosition\" rel=\"nofollow\">QTableView::rowViewportPosition( int )</a>.\nHowever, double clicking at the specified location using <a href=\"http://doc.qt.digia.com/4.6/qtest.html#mouseDClick\" rel=\"nofollow\">QTest::mouseDClick(...)</a> neither selects the cell nor sets it into edit mode:</p>\n\n<pre><code>// Retrieve X/Y coordinates of the cell in the third column and the fourth row\nint xPos = m_pTableView-&gt;columnViewportPosition( 2 );\nint yPos = m_pTableView-&gt;rowViewportPosition( 3 );\n\n// This does not work\nQTest::mouseDClick( m_pTableView, Qt::LeftButton, QPoint( xPos, yPos ) );\n</code></pre>\n\n<p>How can I implement the test case which I described above, using Mouse/Keyboard actions only?</p>\n\n<p>PS: I am trying this under Windows XP 32 bit and Qt 4.6.1<br /></p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12584722,"title":"Compiler cannot find file but 'follow symbol under cursor' can","body":"<p>After resolving the previous issues another seems to have reared it's head:</p>\n\n<p>I have various directories in my pro file and a header file I am including has the format:</p>\n\n<pre><code>#include &lt;ting/tong.hpp&gt;\n</code></pre>\n\n<p>which when added to one of the paths in my pro file arrives at the correct file.  I can open it by right clicking and selecting 'follow symbol under cursor'.</p>\n\n<p>If I enter the full path for the file then it compiles but this does not help as the header file I am including still contains a reference to it and I cannot change that file.</p>\n\n<p><em>Why would the find function be able to find the file but the compiler not?</em></p>\n"},{"tags":["linux","qt","ubuntu-11.04"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":165,"score":1,"question_id":7748424,"title":"qmake -query internal settings in Linux - where are they?","body":"<p>I am building a Linux system with cross-compiler using ptxdist. It allows me to configure Qt4 for installation and it builds and installs qt-everywhere-opensource-src-4.6.3 Ok. However, the qmake internal settings are screwed up and I don't know how to fix them.</p>\n\n<p>When I run qmake -query I get:</p>\n\n<pre><code>me@ubuntu:~$ qmake -query\nQT_INSTALL_PREFIX:/\nQT_INSTALL_DATA:/\nQT_INSTALL_DOCS://doc\nQT_INSTALL_HEADERS://include\nQT_INSTALL_LIBS://lib\nQT_INSTALL_BINS://bin\nQT_INSTALL_PLUGINS://plugins\nQT_INSTALL_TRANSLATIONS://translations\nQT_INSTALL_CONFIGURATION:/etc/xdg\nQT_INSTALL_EXAMPLES://examples\nQT_INSTALL_DEMOS://demos\nQMAKE_MKSPECS://mkspecs\nQMAKE_VERSION:2.01a\nQT_VERSION:4.6.3\n</code></pre>\n\n<p>Through some research, it looks like this can be fixed by simply rebuilding Qt, but it's not fixing this problem. I dug into the build output a bit and it looks like the ./configure command for the Qt build has \"-prefix /usr\" so I don't know why this isn't being fixed.</p>\n\n<p>I would like to fix these internal values manually if possible because the Qt build takes hours. Does anyone know how to do this?</p>\n"},{"tags":["linux","qt","qt4","qt-creator","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12599233,"title":"Qt version is invalid","body":"<p>I am working on Linux and I have installed Qt Creator 2.5.2, Qt libraries 4.7.4 and 4.4.3 all from sources. I cannot install the binaries directly for incompatibility between versions. The installation processes for both Qt 4.7.4 and Qt 4.4.3 were the same. The issue I am facing is that Qt Creator recognizes Qt 4.7.4 but not Qt 4.4.3, with the error</p>\n\n<blockquote>\n  <p>The Qt version is invalid : Could not determine the path to the\n  binaries of the Qt installation, maybe the path is wrong.</p>\n</blockquote>\n\n<p>Well each library is installed in <code>/home/$username/qt/Qt-$version</code>. When I manually compile a project with</p>\n\n<pre><code>cd directory\n/home/$username/qt/Qt-4.4.3/qmake $PATHPRO\nmake\n</code></pre>\n\n<p>Everything work as a charm and I can run the app.</p>\n\n<p>What did I tried?</p>\n\n<ul>\n<li>Recompile Qt-4.4.3</li>\n<li>Check the folder permissions</li>\n<li>Restart Qt Creator</li>\n<li>Smash my head on my desktop</li>\n</ul>\n\n<p>Any thoughts? The OS is SUSE Enterprise 11-32bits.</p>\n"},{"tags":["qt","qtableview","qt4.7","model-view","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12595502,"title":"Qt - How to Remove the selected Row from the QTableView and copy it to the QLineEdit.","body":"<p>I have 3 <strong>QLineEdits</strong> (say Name, Address &amp; Phone No.), 2 <strong>QPushButton</strong> (Add &amp; Modify) and a <strong>QTableView</strong>. When I have entered text in all the <strong>QLineEdits</strong>, and if I <em>click the Add button</em>, all 3 texts of the <strong>QLineEdits</strong> should be added in the 1st row of the <strong>QTableView`</strong>. <em>Again if i enter 3 text's in the QLineEdit and the Add Button is Clicked, the Text's should be placed in the 2nd row of the QTableview.</em> Like this it should go on. I did this all and it works fine. <strong>Now if i select any row from the QTableView and once i click the Modify Button the selected Row has to be removed from the QTableView and the Items should be  again placed in their respective QLineEdits.</strong> How can i do this. Plz Help me. Thanks in Advance.\nHere's my Coding : </p>\n\n<p>Example.h</p>\n\n<pre><code>#ifndef EXAMPLE_H\n#define EXAMPLE_H\n\n#include &lt;QWidget&gt;\n#include &lt;QStandardItemModel&gt;\n\nnamespace Ui {\nclass Example;\n}\n\nclass Example : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit Example (QWidget *parent = 0);\n    ~Example();\n\nprivate slots:\n    void on_addButton_released();\n    void on_modifyButton_released();\n\nprivate:\n    Ui::Example*ui;\n    QStandardItemModel *model;\n};\n\n#endif // EXAMPLE_H\n</code></pre>\n\n<p><strong>EXAMPLE.CPP</strong></p>\n\n<pre><code>#include \"Example.h\"\n\nExample::Example(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::Example)\n{\n    ui-&gt;setupUi(this);\n    model = new QStandardItemModel();\n\n    ui-&gt;tableView-&gt;setModel(model);\n\n}\n\nExample::~Example()\n{\n    delete ui;\n}\n\nvoid Example::on_addButton_released()\n{\n    model-&gt;setHorizontalHeaderItem(0, new QStandardItem(QString(\" NAME \")));\n    model-&gt;setHorizontalHeaderItem(1, new QStandardItem(QString(\" ADDRESS \")));\n    model-&gt;setHorizontalHeaderItem(2, new QStandardItem(QString(\" PHONE NO \")));\n\n    QStandardItem *nameItem = new QStandardItem(ui-&gt;nameLineEdit-&gt;text());\n    QStandardItem *addressItem = new QStandardItem(ui-&gt;addressLineEdit-&gt;text());\n    QStandardItem *phoneItem = new QStandardItem(ui-&gt;phoneLineEdit-&gt;text());\n\n    QList&lt;QStandardItem*&gt; row;\n    row &lt;&lt; nameItem &lt;&lt; addressItem &lt;&lt; phoneItem;\n\n    model-&gt;appendRow(row);\n\n    ui-&gt;nameLineEdit-&gt;clear();\n    ui-&gt;addressLineEdit-&gt;clear();\n    ui-&gt;mobileLineEdit-&gt;clear();\n    ui-&gt;emailLineEdit-&gt;clear();\n}\n\nvoid Example::on_modifyButton_released()\n{\n\n\n}\n</code></pre>\n"},{"tags":["qt","qthread","qtsql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12599189,"title":"QT sql programming","body":"<p>include \"mythread.h</p>\n\n<pre><code>mythread::mythread(int ID, QObject *parent) :\nQThread(parent)\n\n\n{\n    this-&gt;socketDescriptor = ID;\n    db = QSqlDatabase::addDatabase(\"QODBC\");\n    db.setHostName(\"127.0.0.1\");\n    db.setDatabaseName(\"mydsn\");\n\n\n\n    if (db.open())\n    {\n        qDebug() &lt;&lt; \"DB is connected!\";\n        myquery-&gt;clear();\n        myquery-&gt;exec(\"INSERT INTO phone_table(name_) VALUES ('asdhjs')\");\n        db.close();\n    }\n    else\n    {\n        qDebug() &lt;&lt; \"Db is not connected!\" &lt;&lt; db.lastError();\n    }\n}\n</code></pre>\n\n<p>When I insert data its getting error \nMyserver.exe\nMyserver.exe has stopped working\nWindows is checking for a solution to the problem...\nCan anyone help me ?</p>\n"},{"tags":["c++","qt","margin","padding","qpixmap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12592205,"title":"Qt QLabel setPixmap unwanted padding","body":"<p>I have a QLabel with a sizepolicy of <code>QSizePolicy::Expanding</code> in both dimensions in which I want to show an image with <code>QLabel::setPixmap</code>. The mainwindow should not be resized, that's why I scale the pixmap before setting to the size of the QLabel.</p>\n\n<p>The image is set correctly, but on top and on bottom there is a padding I don't want, on top 12px, bottom 13px. The <code>setPixmap</code>-command resizes the QLabel and the mainwindow. I can't figure out why. The stylesheet of the QLabel is empty. I can color the QLabel-background to see that the extra space is a padding of the QLabel (or margin of the pixmap). When I try to resize the mainwindow, I can't get it so small that this extra border disappears, I can enlarge it and the padding increases on all sides (like expected), but I can't get it smaller to get rid of this extra margin.</p>\n\n<p>Does anybody know what could cause this?</p>\n\n<p>EDIT:</p>\n\n<p>added some code.\nBefore these lines <code>ui-&gt;label_title</code> is empty and <code>label_title</code> is in the same vertical layout just on top of <code>label_main</code>. I just thought, that when some text is set to label_title, the layout is not yet updated, so the next line returns the old size and then the image is too big, because the title took some space and the mainwindow has to be resized. Is there a command to update the layout, so all widgets in it get their new size? <code>layout-&gt;update();</code> did'nt work.</p>\n\n<pre><code>ui-&gt;label_title-&gt;setText(imgNames.at(crntItemNr));\nQSize size = ui-&gt;label_main-&gt;size();\nui-&gt;label_main-&gt;setPixmap(images.at(crntItemNr).scaled(size, Qt::KeepAspectRatio, Qt::SmoothTransformation));\n</code></pre>\n"},{"tags":["json","qt","scriptengine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12594764,"title":"How to create a JSON object in Qt using ScriptEngine class?","body":"<p>How to create a JSON object in Qt using ScriptEngine class?\nSo far anybody has tried,Please let me know.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12597648,"title":"Qt - How to detect closed window in custom event loop without using slots","body":"<p>I'm working on an OpenGL-based game using QGLWidget as a front-end. But due to all of the unnecessary overhead (plus having to distribute the heavy QT libraries!) I plan to migrate to GLUT, and am in the process of replacing 'Qt-stuff' with more standard alternatives before the big leap.</p>\n\n<p>To replace the QTimers that control the framerate and fps timer, I'm trying to wedge those functions into a simple loop that replaces the app.exec() call, as follows:</p>\n\n<pre><code>//main.cpp\n#include &lt;QApplication&gt;\n#include &lt;windows.h&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[]) {\n  QApplication app(argc, argv);\n  MainWindow mainWin;//only contains a glwidget\n  mainWin.show();\n\n  do {\n    app.processEvents();\n    //call draw functions/fps based on system tick count\n    //...\n    Sleep(10);\n  } while (!app.closingDown()); //&lt;-- this doesn't terminate\n\n  return 0;\n}\n</code></pre>\n\n<p>So far it works fine during runtime, however once you try to close the window (via the system 'X' button), the window goes away but the program hangs in the background.  The problem is that I can't find a static flag or query function that indicates that exit() or close() has been called.  <code>bool closingDown()</code> always seems to be false, and I've tried toggling a static flag in the <code>~MainWindow</code> destructor and detecting that, but that doesn't work either since that isn't called until <code>main</code> ends.  I know I could probably do it by tying into QApps' <code>aboutToQuit()</code> signal, or maybe making a derived class from Qapp, and intercepting it, but that kind of defeats the purpose of moving away from signals/slots.  Is there a simple way to tell if a QApplication has been ordered to shut down, from outside of the class?</p>\n"},{"tags":["osx","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12597595,"title":"QRawFont::fromFont not working correctly","body":"<p>I found something wrong on Qt on Mac OS X 10.6.3:</p>\n\n<pre><code>QFont font = QFont(\"Wingdings\");    //font.family() == \"Wingdings\"\nQRawFont rawFont = QRawFont::fromFont(font);    //rawFont.familyName() == \"Lucida Grande\"\n</code></pre>\n\n<p>I think rawFont.familyName() should be \"Wingdings\".\nOn Windows this code works correctly.</p>\n\n<p>I tried this method:</p>\n\n<pre><code>QRawFont ( const QString &amp; fileName, qreal pixelSize, QFont::HintingPreference hintingPreference = QFont::PreferDefaultHinting )\n</code></pre>\n\n<p>on a font file and it works correctly.</p>\n\n<p>I really don't know how  to correct this.\nAny help is appreciated.</p>\n"},{"tags":["qt","webview","qml","viewport","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12598081,"title":"Does Qt support 'viewport' Meta-Tag?","body":"<p>I'm using QML WebView Element to load Web content, like this:</p>\n\n<pre><code>    import QtWebKit 1.0\n\n    WebView {\n        url: \"file:///c:/index.html\"\n        preferredWidth: 480\n        preferredHeight: 800\n    }\n</code></pre>\n\n<p>and index.html include this:</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=640,user-scalable=yes\" /&gt;\n</code></pre>\n\n<p>Because of webpage's width(640) is greater than WebView Element's preferredWidth(480),so when I run this demo on Qt simulator Nokia N900, which has 480*800 resolution,the content of the page only shows 3/4.</p>\n\n<p>So here is my question:Does Qt support 'viewport' Meta-Tag? </p>\n\n<p>My environment:Qt sdk 4.7.4    Qt creator:2.4.2</p>\n\n<p>Related information I found:</p>\n\n<p><a href=\"http://doc-snapshot.qt-project.org/4.8/qtwebkit-goes-mobile.html#the-viewport-meta-tag\" rel=\"nofollow\">http://doc-snapshot.qt-project.org/4.8/qtwebkit-goes-mobile.html#the-viewport-meta-tag</a>\nhttps://developer.apple.com/library/safari/#documentation/appleapplications/reference/safariwebcontent/usingtheviewport/usingtheviewport.html</p>\n\n<p>Any ideas or comments would be appreciated.</p>\n"},{"tags":["c++","qt","qcheckbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":12597101,"title":"Increase space between text and checkbox in Qt","body":"<p>If you set a fixed checkbox size, the text will be aligned to the checkbox itself. With the standard layout direction, the text will start right after the box, and with <em>right-to-left</em> layout it will end right before the box, just like this (the border is just the widget's border to indicate the widget/s real size, don't be confused):</p>\n\n<p><img src=\"http://i.stack.imgur.com/v3WMX.png\" alt=\"\"></p>\n\n<p>Is there a way to align the text to the other side to achieve this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/yBS7M.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","unix","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12597487,"title":"Linux. qmake not found","body":"<p>I created Qt project in MS Visual Studio 2010, I am trying to port it to linux OS.\nI got <strong>linux OS</strong>, on which <strong>Qt ver. 4.6.3</strong> is <strong>installed</strong> (came with distribution package).</p>\n\n<p>I need to generate the <strong>make file</strong> for my project (project_name.pro),\nso I try <strong>qmake -project</strong> and get: <strong>command not found</strong>\nas I got Qt installed (executing qtconfig in terminal allows me to know qt version) it quite unevidient &amp; strange for me why having Qt i can<code>t use it</code>s utulity qmake?</p>\n\n<p><strong>Could you please offer me some solution of this issue?</strong>\nThanks in advance)</p>\n"},{"tags":["qt","windows-ce","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12529016,"title":"Qt - incompatible .lib - LNK1112","body":"<p>I would like to write an application for Windows CE. I have already followed all the relevant steps, and started to write the application with Qt Creator. </p>\n\n<p>However, when I started to build the code, there was the following error message:</p>\n\n<pre><code>QtCored4.lib(QtCored4.dll) : fatal error LNK1112: module machine type 'X86' conflicts with target machine type 'THUMB'\n</code></pre>\n\n<p>Maybe some more details:\nI downloaded the library for Windows CE and I configured Qt-Opensource-Version 4.8.3 with following parameters:</p>\n\n<pre><code>configure -platform win32-msvc2008 -xplatform wince50standard-armv4i-msvc2008\n</code></pre>\n\n<p>All went well. Qt Creator did recognize the new version and added Windows CE as supported platform.</p>\n\n<p>Now, I guess, that there will be the same problem with QtGuid4.lib. Does anybody know, where I get a compatible file?</p>\n"},{"tags":["qt","qtablewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1021,"score":0,"question_id":3498829,"title":"How to get this QTableWidget to display items?","body":"<p>I have a QTableWidget and I can't get anything to show up in it.</p>\n\n<p>The following appears in the constructor of the main window:</p>\n\n<pre><code>ui-&gt;tableWidget-&gt;setItem(0,0,new QTableWidgetItem(\"Item1\"));\nui-&gt;tableWidget-&gt;setItem(0,1,new QTableWidgetItem(\"Item2\"));\nui-&gt;tableWidget-&gt;setItem(0,2,new QTableWidgetItem(\"Item3\"));\n</code></pre>\n\n<p>When I run the application, the table widget shows up, but the items do not.</p>\n\n<p>I tried adding <code>ui-&gt;tableWidget-&gt;insertRow(0);</code> before the above code, but it didn't work.</p>\n"},{"tags":["qt","sdk","licensing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12596401,"title":"Qt and Digia licensing","body":"<p>I wanted to download Qt sdk today and found that nokia site doesn't work now. I was redirected to digia <a href=\"http://qt.digia.com/Product/\" rel=\"nofollow\">site</a>:. I founded, that now I can't just download open licensed sdk. They requires my name and other info. In email they sent me I founded the links for commercial version of SDK and my license key.</p>\n\n<p>Why did they do this? Would it be free for use in future?</p>\n"},{"tags":["qt","autocomplete","pyside","qabstracttablemodel","qcompleter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12596092,"title":"Pyside combobox QCompleter not setting widget value","body":"<p>I have a combo box connected to a custom QAbstractTableModel. I need to setup autocompletion on the widget. I'm doing this at the moment:</p>\n\n<pre><code>        widget.setEditable(True)\n        widget.setInsertPolicy(QtGui.QComboBox.NoInsert)\n        widget.completer().setCaseSensitivity(\n                            QtCore.Qt.CaseInsensitive)\n        widget.completer().setCompletionMode(\n                            QtGui.QCompleter.PopupCompletion)\n        widget.completer().setCompletionRole(\n                            QtCore.Qt.DisplayRole)\n</code></pre>\n\n<p>With this, the completion list gets populated. But when I select an entry from the list, the widget value is not set - it stays blank as before. What am I missing?\nDoes the model need some specific methods for this to work, maybe?</p>\n\n<p>The model currently overrides: columnCount, data, headerData, insertRows, removeRows, rowCount, setData.</p>\n"},{"tags":["qt","widget","qpushbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12594729,"title":"How to keep buttons close to each other (horizontally) in Qt widget?","body":"<pre><code>    QGridLayout *layout = new QGridLayout ();\n    centralWidget-&gt;setLayout (layout);\n    layout-&gt;addWidget (refresh, 0, 0);\n    layout-&gt;addWidget (zoomIn, 1, 0);\n    layout-&gt;addWidget (zoomOut, 1, 1);\n    layout-&gt;addWidget (panLeft, 2, 0);\n    layout-&gt;addWidget (panRight, 2, 1);\n    layout-&gt;addWidget (panTop, 3, 0);\n    layout-&gt;addWidget (panBottom, 3, 1);\n    layout-&gt;addWidget (findInfo, 4, 0);\n    layout-&gt;addWidget (textEdit, 5, 0);\n\n    window-&gt;setCentralWidget (centralWidget);\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/0XsDt.png\" alt=\"enter image description here\"></p>\n"},{"tags":["javascript","qt","qwebview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12578377,"title":"How to call evaluateJavaScript() function from Qt?","body":"<p>I am not able to call a javascript function from QT .</p>\n\n<p>I am using the below code</p>\n\n<p>QT code :<br>\n    <code>QWebFrame *frame = m_d-&gt;m_webView-&gt;page()-&gt;mainFrame();</code>\n    <code>frame-&gt;evaluateJavaScript(\"displayhello()\");</code></p>\n\n<pre><code> Here `displayhello()` is the `Javascript` function defined in the HTML file.\n</code></pre>\n\n<p>HTML code :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"\" /&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n   function displaymessage(str)\n   {\n       alert(str);\n   }\n   function displayhello()\n   {\n       alert(\"Hello\");\n   }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input type=\"button\" value=\"Click me!\" onClick=\"displayhello()\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Can anyone give me any pointers  why the Javascript function is not getting called.</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12594467,"title":"error in writing to registry from QtApp","body":"<p>I have a Qt app which writes data to registry and later a windows service read this information from registry. The service can read the long data from the registry properly, but it cannot read the string data and the service crashes once it tries to read the string data. Is there anyway to debug this issue.</p>\n"},{"tags":["qt","gui","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12580645,"title":"Can I port a C++ project to QT and then use QTWebKit to create a HTML5 front end?","body":"<p><em>please bear in mind I am not a GUI programmer</em>.</p>\n\n<p>As the title says but to give a little more details:</p>\n\n<p>I have a very large C++ application which I would like to upgrade the GUI for.  There is an SDK that we can attach a new GUI onto and I would like to make it look as modern and fancy as possible, I have been advised to use HTML5 for this.</p>\n\n<p>We build and link the project using in house bat files which I have hooked into MSDEV to save me going back to the console every time I want to build the project.  I also use MSDEV to attach to the programs when they are running to debug.</p>\n\n<p>Can I also do this in QT?</p>\n\n<p>(I cannot download it and try as I need to have a business case for downloading new software and investigation is a hard one to get approved).</p>\n\n<p>If I did this in QT, could I then use Webkit to create a HTML 5 front end or is there more work required?</p>\n"},{"tags":["c++","visual-studio-2010","qt","linker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12592990,"title":"Link error in VS 2010 Qt add-in","body":"<p>Im havin some problem with Qt in Visual Studio 2010.\nI have downloaded the qt binaries from <a href=\"http://qt-windows-binaries.googlecode.com/svn/site/QtWindowsBinaries\" rel=\"nofollow\">this site</a>, version <strong>Qt-4.7.3-dev-msvc2010-rdh</strong>.\nThis code copiles without any problem.</p>\n\n<pre><code>class Widget : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    Widget(QWidget* parent);\n\nprotected:\n     void paintEvent(QPaintEvent *e);\nprivate:\n};\n</code></pre>\n\n<p>When I add this line:</p>\n\n<pre><code>void keyPressEvent(QKeyEvent *e);\n</code></pre>\n\n<p>This error happens</p>\n\n<pre><code>1&gt;------ Build started: Project: lol, Configuration: Release Win32 ------\n1&gt;Build started 25/09/2012 21:04:40.\n1&gt;InitializeBuildStatus:\n1&gt;  Creating \"Release\\lol.unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\n1&gt;CustomBuild:\n1&gt;  Moc'ing lol.h...\n1&gt;ClCompile:\n1&gt;  All outputs are up-to-date.\n1&gt;  moc_lol.cpp\n1&gt;  lol.cpp\n1&gt;  main.cpp\n1&gt;  Generating Code...\n1&gt;lol.obj : error LNK2001: unresolved external symbol \"protected: virtual void __thiscall lol::mousePressEvent(class QMouseEvent *)\" (?mousePressEvent@lol@@MAEXPAVQMouseEvent@@@Z)\n1&gt;C:\\Users\\VTM\\Documents\\Visual Studio 2010\\Projects\\TC\\Win32\\Release\\\\lol.exe : fatal error LNK1120: 1 unresolved externals\n1&gt;\n1&gt;Build FAILED.\n1&gt;\n1&gt;Time Elapsed 00:00:04.68\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n"},{"tags":["qt","opengl","multisampling","qt5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12592273,"title":"Qt5 OpenGL Multisampling using QOpenGLFrameBufferObject class","body":"<p>I need to perform multisampling in a Qt5 project but I am not sure how to use <a href=\"http://qt-project.org/doc/qt-5.0/qopenglframebufferobject.html\" rel=\"nofollow\">QOpenGLFrameBufferObject</a> to perform FSAA. There is no example on how to do this as far as I searched and the documentation only mentions: “If you want to use a framebuffer object with multisampling enabled as a texture, you first need to copy from it to a regular framebuffer object using QOpenGLContext::blitFramebuffer().” My code currently looks like this:</p>\n\n<pre><code>//Enable FSAA for better output\nint vp[4];\nglGetIntegerv(GL_VIEWPORT, vp);\nif(m_lpFBO == NULL)\n{\n    //MultiSampling set to 4 now\n    QOpenGLFramebufferObjectFormat format;\n    format.setAttachment(QOpenGLFramebufferObject::CombinedDepthStencil);\n    format.setMipmap(true);\n    format.setSamples(4);\n    format.setTextureTarget(GL_TEXTURE_2D);\n    format.setInternalTextureFormat(GL_RGBA32F_ARB);\n\n    //Create the FBO\n    m_lpFBO = new QOpenGLFramebufferObject(vp[2], vp[3], format);\n    m_lpFBOSurface = new QGLFramebufferObjectSurface(m_lpFBO);\n}\n\nQRect rc(0, 0, vp[2], vp[3]);\nQGLSubsurface sub(lpPainter-&gt;currentSurface(), rc);\n\n\nm_lpFBO-&gt;bind();\nsub.setFramebufferObject(m_lpFBO);\nlpPainter-&gt;pushSurface(&amp;sub);\n\n//Draw as usual\n.\n. \n.\n\nlpPainter-&gt;popSurface();\n\n\n//Now Copy\nQOpenGLFramebufferObject::blitFramebuffer(lpPainter-&gt;currentSurface()-&gt;framebufferObject(), rc, m_lpFBO, rc);\n</code></pre>\n"},{"tags":["c++","qt","qt4","console-application"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":118,"score":-4,"question_id":12583490,"title":"CIN and COUT alternative to QT","body":"<p>I'm new both to QT development, and std libraries.</p>\n\n<p>At this moment I'm trying to create a simple console application, although it's simple, it must be cross platform. It must work with Linux, Windows and android.</p>\n\n<p>While I'm quite used with using std::cout and std::cin to read and write to the console. I'm trying to figure out the same thing with QT libraries. </p>\n\n<p>Is there any way of interacting with the user, using QT library? I cannot use std::cout and std::cin.</p>\n\n<p>I've search for answers at stack overflow, but everything I find is people telling to use qDebug, but that's not what I need, I need the interaction with the user. </p>\n"},{"tags":["qt","alpha"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12583738,"title":"How to combine two QColor objects with alpha channel?","body":"<p>I have objects where the border color has already been determined.</p>\n\n<p>Now I want the user to be able to set at least the opacity of the fill pattern. E.g., the border is blue. The user sets the opacity to 128, so the fill pattern is also drawn in blue, but half-transparent. </p>\n\n<p>The next step would be to allow the user to also slightly adjust the color of the pattern. E.g.: \"Use the border color, but make it half-transparent (alpha=128) and a little bit yellow-ish.\".</p>\n\n<p>Is there a (useful) way to combine two colors where one does not have an alpha value set? Or would it make more sense to set an alpha value on the original color and combine it with an \"overlay color\" that also has an alpha value set?</p>\n\n<p>And is there a function (or otherwise, can someone give a short code snippet) to combine the two QColor objects?</p>\n"},{"tags":["qt","directshow","phonon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12584767,"title":"What could make Phonon/DirectShow miss a standard codec?","body":"<p>We're developing a Qt-based application that includes video playback using Phonon. We use .avi files with MJPEG compression (as we need fast seeking to particular frames). </p>\n\n<p>On the development machine (running Windows 7) all works well - Phonon uses DirectShow backend, DirectShow loads and plays our video files using standard MJPEG codec from <code>quartz.dll</code>. </p>\n\n<p>But some of the testers on Windows 7 reported broken video playback, I had a quick on one of the machines and see nothing special there, but:</p>\n\n<ul>\n<li><strong>InstalledCodecs</strong> utility reports MJPEG codec present and enabled</li>\n<li><strong>Windows Media Player</strong> plays the files fine (but I gather it uses a different backend, not the DirectShow). </li>\n<li><strong>Media Player Classic</strong> configured to use <strong>DirectShow</strong> and the standard MJPEG plugin complains that there is no codec available. </li>\n<li>Our software indeed breaks, apparently for the same reason, whatever it is.</li>\n</ul>\n\n<p>The phonon backend is installed in the plugins directory which is added to the search paths which I see listed in the logs, so it should be loaded. I renamed QtSDK on the development machine to make sure only installed qt plugins are available to the application and it continues to work there.</p>\n\n<p>I would appreciate any advice as to where to look at next. </p>\n\n<p>What I'd eventually like to know is:</p>\n\n<ul>\n<li>what could be the problem</li>\n<li>how could installer or the app itself detect the problem</li>\n<li>how could the problem be solved - either automatically, or by instructing the user</li>\n</ul>\n"},{"tags":["visual-studio","qt","mingw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12591738,"title":"Compiling Qt using visual studio command prompt","body":"<p>if I follow <a href=\"http://www.holoborodko.com/pavel/2011/02/01/how-to-compile-qt-4-7-with-visual-studio-2010/\" rel=\"nofollow\">this link</a>\nand build qt libraries using visual studio command prompt does the output binaries is using mingw or microsoft c++ compiler</p>\n"},{"tags":["qt","connection","slider","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12156844,"title":"qvtkwidget interaction with a slider","body":"<p>I have a problem with qvtkwidget. I have a cube with the vtkimageplanewidget and i already made the connection between the sliders and them, but I want the slider to change also when I change the planes with the mouse in the qvtkwidget.</p>\n\n<p>How can i do that?</p>\n\n<p>Here's how I connected the slider eith the planes.</p>\n\n<p>SLOT:</p>\n\n<pre><code>void planevolume::SplaneXpixel()\n{\n    double xvalue=ui-&gt;Slider-&gt;value();\n    planeX-&gt;SetSliceIndex(xvalue);\n    ui-&gt;qvtkWidget-&gt;update();\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>  connect(ui-&gt;Slider, SIGNAL(valueChanged(double)), this, SLOT(SplaneXpixel()));\n</code></pre>\n\n<p>What about the opposite? I tried:</p>\n\n<p>SLOT:</p>\n\n<pre><code>void planevolume::planeXSpixel()\n{\n    double xvalue=planeX-&gt;GetSliceIndex();\n    ui-&gt;Slider-&gt;setValue(xvalue);\n    ui-&gt;qvtkWidget-&gt;update();\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>connect(ui-&gt;qvtkWidget, SIGNAL(mouseEvent(QMouseEvent*)), SLOT(planeXSpixel()));\n</code></pre>\n\n<p>but it won't work, can anyone help me?</p>\n"},{"tags":["c++","qt","observer-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11002102,"title":"C++ and Qt: observer pattern error","body":"<p>I am trying to implement a simple observer pattern to update widgets with relevant info for a Car Model. I keep getting a rather perplexing error for the update method of my Observer pattern, where the compiler seems to fail to recognize the type of the parameter being passed. This is the header for Observer:</p>\n\n<pre><code>#include \"Subject.h\"\n\nclass Observer\n{\npublic:\n\n    virtual void update(Subject &amp;car) = 0;\n};\n</code></pre>\n\n<p>Subject header file:</p>\n\n<pre><code>#include &lt;QList&gt;\n\n#include \"Observer.h\"\n\nclass Subject\n{\nprotected:\n\n    QList&lt;Observer *&gt; m_observers;\n\npublic:\n\n    virtual void registerObserver(Observer &amp;) = 0;\n    virtual void removeObserver(Observer &amp;) = 0;\n    virtual void notifyObservers() = 0;\n};\n</code></pre>\n\n<p>And the the implementation for the Subject (class Car inherits Subject interface):</p>\n\n<pre><code>//\n// Subject interface implementation\n//\nvoid Car::registerObserver(Observer &amp;observer)\n{\n    m_observers.append(&amp;observer);\n}\n\nvoid Car::removeObserver(Observer &amp;observer)\n{\n    int i = m_observers.indexOf(&amp;observer);\n\n    if (i &gt;= 0)\n        m_observers.removeAt(i);\n}\n\nvoid Car::notifyObservers()\n{\n    for(int i = 0; i &lt; m_observers.size(); ++i)\n        m_observers.at(i)-&gt;update(*this);\n}\n</code></pre>\n\n<p>However, the compiler gives me an error at the notifyObservers method:</p>\n\n<pre><code>/home/dylan/Desktop/CarModel/Car.cpp:50: error: no matching function for call to ‘Observer::update(Subject&amp;)’\n\n candidate is: /home/dylan/Desktop/CarModel/Observer.h:11: virtual void Observer::update(int&amp;)\n</code></pre>\n\n<p>Uhhhh.... what?? As you can see, the compiler seems to think that the parameter for update is a reference to an int. Is this because my Observer header is abstract? I haven't written an implementation for it yet, so perhaps this is why?</p>\n"},{"tags":["c++","qt","foreach"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":9692117,"title":"Having 'this' as second parameter in foreach iterator for QList derived class","body":"<p>First I want to make it clear that this is a homework based question. That being the case, I want to 'understand' where my thinking is going haywire and not just have an answer given ;)</p>\n\n<p>I have a class called RegistrationList that is derived from QList like such:</p>\n\n<pre><code>class RegistrationList : public QList&lt;Registration *&gt;\n</code></pre>\n\n<p>The Registration object has two children classes so the list RegistrationList have pointers to objects of the original Registration class as well as its two children:</p>\n\n<pre><code>class GuestRegistration : public Registration\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class StudentRegistration : public Registration\n</code></pre>\n\n<p>the class RegistrationList must have a function prototyped like this:</p>\n\n<pre><code> void displayList();\n</code></pre>\n\n<p>What this function needs to do is call a function called </p>\n\n<pre><code>QString toString();\n</code></pre>\n\n<p>in all the objects in the list.</p>\n\n<p>Now this is what I have for the implementation of the </p>\n\n<pre><code> void displayList();\n</code></pre>\n\n<p>member function of RegistrationList class:</p>\n\n<pre><code>void RegistrationList::displayList()\n{\n    QTextStream cout(stdout);\n    cout &lt;&lt; \"\\nHere follows a list of all registrations:\";\n    cout &lt;&lt; \"\\n=========================================\\n\";\n\n    foreach(Registration *r, this) { r-&gt;toString(); }\n}\n</code></pre>\n\n<p>But the compiler doesn't like it at all. The way I see this is that I want to iterate over a list containing a collection of Registration like objects. Each of these objects have a member function called</p>\n\n<pre><code>toString();  \n</code></pre>\n\n<p>to print out pretty formatted info. This works 100%. If I comment out the foreach line the code compiles with no issues. The only thing I can think of is that foreach doesn't like to have </p>\n\n<pre><code>this\n</code></pre>\n\n<p>as its second parameter.</p>\n\n<p>It is not a must that I have to use foreach but it will bug me to no end if I cannot find out why it doesn't work although it 'seems' as if it should... </p>\n"},{"tags":["windows","qt","make","oci","mingw32"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12545501,"title":"Header files not found While making Oci Driver in Qt","body":"<p>I compiled the Oracle Oci driver as per the instructions for windows as given in <a href=\"http://doc.qt.digia.com/4.7-snapshot/sql-driver.html#general-information-about-the-oci-plugin\" rel=\"nofollow\">http://doc.qt.digia.com/4.7-snapshot/sql-driver.html#general-information-about-the-oci-plugin</a></p>\n\n<p>It goes well until the last step in which i replace nmake by mingw32-make. \nI get this.</p>\n\n<pre><code>mingw32-make -f Makefile.Debug\nmingw32-make[1]: Entering directory `C:/QtSDK/QtSources/4.7.4/src/sql/drivers/oci'\ng++ -c -g -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -\nDQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -\nDQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I\"c:\\QtSDK\\\nDesktop\\Qt\\4.7.4\\mingw\\include\\QtCore\" -I\"c:\\QtSDK\\Desktop\\Qt\\4.7.4\\mingw\\includ\ne\\QtGui\" -I\"c:\\QtSDK\\Desktop\\Qt\\4.7.4\\mingw\\include\" -I\"c:\\QtSDK\\Desktop\\Qt\\4.7.\n4\\mingw\\include\\ActiveQt\" -I\"debug\" -I\"c:\\QtSDK\\Desktop\\Qt\\4.7.4\\mingw\\mkspecs\\d\nefault\" -o debug\\qsql_oci.o qsql_oci.cpp\nIn file included from qsql_oci.cpp:42:\nqsql_oci.h:47:46: error: QtSql/private/qsqlcachedresult_p.h: No such file or dir\nectory\nqsql_oci.cpp:50:23: error: qsqlerror.h: No such file or directory\nqsql_oci.cpp:51:23: error: qsqlfield.h: No such file or directory\nqsql_oci.cpp:52:23: error: qsqlindex.h: No such file or directory\nqsql_oci.cpp:53:23: error: qsqlquery.h: No such file or directory\nqsql_oci.cpp:65:17: error: oci.h: No such file or directory\n</code></pre>\n\n<p>followed by a lot errors, but i guess all of them are related to make not being able to find header files. Could anyone tell me why this is happening? I did include all the paths to INCLUDE and LIB correctly as given in the first two steps</p>\n\n<p><strong>Update</strong>: <br>\nI modified the .pro file created by qmake -project and added <code>QT+= sql</code> and all the sql related header errors have gone but the first one <code>qsqlcachedresult_p.h</code> and the last one <code>oci.h</code> remain.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":507,"score":0,"question_id":8927778,"title":"Qt Creator: Getting error \"skipping incompatible\" when include library","body":"<p>I'm using Qt Creator on Linux KDE. I'm about to include a library in my Qt project. The library is included with success, but I got the following errors:</p>\n\n<pre><code>    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libcrypto.so when \nsearching for -lcrypto (the following is in red colour) File not found: (which one isn't \ntold)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libcrypto.a when \nsearching for -lcrypto (the following is in red colour) File not found: (which one isn't \ntold)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libpthread.so when \nsearching for -lpthread (the following is in red colour) File not found: (which one isn't \ntold)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libpthread.a when \nsearching for -lpthread File not found: (which one isn't told)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libm.so when \nsearching for -lm File not found: (which one isn't told)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libm.a when searching \nfor -lm File not found: (which one isn't told)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libc.so when \nsearching for -lc File not found: (which one isn't told)\n\n    :-1: error: skipping incompatible /home/administrator/yyyyy/xxxxx/../../../../opt/QtSDK\n/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib//libc.a when searching \nfor -lc File not found: (which one isn't told)\n</code></pre>\n\n<p>I added the libraries in the .pro-file using the \"add library\" function in Qt Creator and choosed \"external library\". I got the following code:</p>\n\n<pre><code>unix:!macx:!symbian: LIBS += -L$$PWD/../../../../opt/QtSDK/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib/ -lcrypto\n\nINCLUDEPATH += $$PWD/../../../../opt/QtSDK/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/include/openssl\nDEPENDPATH += $$PWD/../../../../opt/QtSDK/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/include/openssl\n\nunix:!macx:!symbian: PRE_TARGETDEPS += $$PWD/../../../../opt/QtSDK/Madde/sysroots/harmattan-nokia-meego-arm-sysroot-1122-slim/usr/lib/libcrypto.a\n</code></pre>\n\n<p>Actually my programm works, but I don't understand what Qt is doing. It seem like Qt is trying to include other libraries with similar names - but why?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":234,"score":2,"question_id":4281402,"title":"Linked list outputting different values to cout","body":"<p>I'm writing a linked list container for my homework. Using Qt 4.7 and gcc 4.4, I've found some problems in the code that I guess they are related to memory management or garbage collection.</p>\n\n<p>After using the <code>&lt;&lt;</code> operator to display the list, all data of list is changed. for example, after construction and setting a list like <code>l</code>,</p>\n\n<pre><code>std::cout&lt;&lt;l&lt;&lt;std::endl;\nstd::cout&lt;&lt;l&lt;&lt;std::endl;\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>Data = [-10, 3, 2, 8, 1, -1, -2, ] // this is correct\nData = [0, 149560240, 149560192, 149558336, 149560256, 149558320, 149560208, ]\n</code></pre>\n\n<p>My linked list is:</p>\n\n<pre><code>#ifndef LINKEDLIST1_H_\n#define LINKEDLIST1_H_\n\n#include &lt;iostream&gt;\n\ntemplate&lt;class T&gt; class LinkedList1;\ntemplate&lt;class T&gt; class Node;\n\ntemplate&lt;class T&gt;\nclass Node\n{\n   friend class LinkedList1&lt;T&gt; ;\npublic:\n   Node(const T&amp; value) :\n         Data(value), Next(NULL)\n   {\n   }\n   Node() :\n         Next(NULL)\n   {\n   }\n   T Data;\n   Node* Next;\n};\n\ntemplate&lt;class T&gt;\nclass LinkedList1\n{\npublic:\n   LinkedList1() :\n         size(-1), first(NULL)\n   {\n   }\n   ~LinkedList1()\n   {\n      Node&lt;T&gt;* i = this-&gt;first;\n      Node&lt;T&gt;* j = this-&gt;first;\n      while(j!=NULL)\n      {\n         j=i-&gt;Next;\n         delete i;\n         i=j;\n      }\n   }\n   // Operations on LinkedList\n   Node&lt;T&gt;* First()\n   {\n      return first;\n   }\n\n   int Size()\n   {\n      return size + 1;\n   }\n\n   int Count()\n   {\n      int size = 0;\n      Node&lt;T&gt;* current = this-&gt;firstFirst();\n      while(current != NULL)\n      {\n         size++;\n         current = current-&gt;Next;\n      }\n      this-&gt;size = size;\n      return this-&gt;Size();\n   }\n\n   bool IsEmpty()\n   {\n      return this-&gt;Size() == 0;\n   }\n\n   void Prepend(Node&lt;T&gt;* value) //O(1)\n   {\n      value-&gt;Next = this-&gt;first;\n      this-&gt;first = value;\n      this-&gt;size++;\n   }\n   void Prepend(const T&amp; value) //O(1)\n   {\n      Node&lt;T&gt;* item = new Node&lt;T&gt;(value);\n      item-&gt;Next = this-&gt;first;\n      this-&gt;first = item;\n      this-&gt;size++;\n   }\n   void Append(Node&lt;T&gt;* value)\n   {\n      if(this-&gt;IsEmpty())\n      {\n         this-&gt;first = value;\n         this-&gt;size++;\n      }\n      else\n      {\n         Node&lt;T&gt;* current = this-&gt;First();\n         while(current-&gt;Next != NULL)\n            current = current-&gt;Next;\n         current-&gt;Next = value;\n         value-&gt;Next = NULL;\n         this-&gt;size++;\n      }\n   }\n   void Append(const T&amp; value)\n   {\n      Node&lt;T&gt;* temp= new Node&lt;T&gt;(value);\n      this-&gt;Append(temp);\n   }\n   void Insert(Node&lt;T&gt;* location, Node&lt;T&gt;* value) //O(n)\n   {\n      Node&lt;T&gt;* current = this-&gt;first;\n      Node&lt;T&gt;* before = current;\n      while(current != NULL)\n      {\n         before = current;\n         current = current-&gt;Next;\n         if(current == location)\n         {\n            before-&gt;Next = value;\n            value-&gt;Next = current;\n            this-&gt;size++;\n            break;\n         }\n      }\n   }\n   void Insert(Node&lt;T&gt;* location, const T&amp; value)\n   {\n      Node&lt;T&gt;* temp = new Node&lt;T&gt;(value);\n      this-&gt;Insert(location,temp);\n   }\n\n   Node&lt;T&gt;* Pop()\n   {\n      if(this-&gt;IsEmpty())\n         return NULL;\n      else\n      {\n         Node&lt;T&gt;* current = this-&gt;first;\n         Node&lt;T&gt;* before = current;\n         while(current-&gt;Next != NULL)\n         {\n            before = current;\n            current = current-&gt;Next;\n            before-&gt;Next = current;\n         }\n         before-&gt;Next = NULL;\n         this-&gt;size--;\n         return current;\n      }\n   }\n   Node&lt;T&gt;* PopF()\n   {\n      if(!this-&gt;IsEmpty())\n      {\n         Node&lt;T&gt;* head = this-&gt;first;\n         this-&gt;first = this-&gt;first-&gt;Next;\n         this-&gt;size--;\n         return head;\n      }\n      else\n         return NULL;\n   }\n   Node&lt;T&gt;* Remove(Node&lt;T&gt;* location)\n   {\n      // validating by IsEmpty is not necessary for this operation,\n      // while statement's condition guarantees validation\n      Node&lt;T&gt;* current = this-&gt;first;\n      Node&lt;T&gt;* before = current;\n      while(current != NULL)\n      {\n         before = current;\n         current = current-&gt;Next;\n         before-&gt;Next = current;\n         if(current == location)\n         {\n            before-&gt;Next = current-&gt;Next;\n            current-&gt;Next=NULL;\n            return current;\n         }\n      }\n      return NULL; // Not found...\n   }\n   void Inverse()\n   {\n      if(this-&gt;IsEmpty())\n         return;\n      else\n      {\n         Node&lt;T&gt;* r = NULL;\n         Node&lt;T&gt;* q = this-&gt;first;\n         Node&lt;T&gt;* p = this-&gt;first;\n         while(q != NULL)\n         {\n            p = p-&gt;Next;\n            q-&gt;Next = r;\n            r = q;\n            q = p;\n         }\n         this-&gt;first = r;\n      }\n   }\n   // Ordered insertion. implement this: foreach i,j in this; if i=vale: i+=vale, break; else if i&lt;=value&lt;=j: this.insert(j,value),break\n   friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const LinkedList1 item)\n   {\n      out&lt;&lt;\"Data = [\";\n      Node&lt;T&gt;* current = item.first;\n      while(current != NULL)\n      {\n         out &lt;&lt; current-&gt;Data &lt;&lt; \", \";\n         current = current-&gt;Next;\n      }\n      out&lt;&lt;\"]\";\n      return out;\n   }\n\n   void HelperOutput(std::ostream&amp; out, const LinkedList1 item) const\n   {\n      out&lt;&lt;item;\n   }\n\n   Node&lt;T&gt;* operator[](const int&amp; index)\n   {\n      int i=0;\n      Node&lt;T&gt;* current = this-&gt;first;\n      while(i&lt;=index &amp;&amp; current!=NULL)\n      {\n         if(i=index)\n            return current;\n         else\n         {\n            i++;\n            current=current-&gt;Next;\n         }\n      }\n   }\npublic:\n   int size;\n   Node&lt;T&gt;* first;\n\n};\n\n#endif /* LINKEDLIST1_H_ */\n\n   friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const LinkedList1 item)\n   {\n      out&lt;&lt;\"Data = [\";\n      Node&lt;T&gt;* current = item.first;\n      while(current != NULL)\n      {\n         out &lt;&lt; current-&gt;Data &lt;&lt; \", \";\n         current = current-&gt;Next;\n      }\n      out&lt;&lt;\"]\";\n      return out;\n   }\n</code></pre>\n\n<p>first item in output of second call is always <code>0</code>. So I Thinked I've set <code>first</code> to <code>NULL</code> in somewhere in code; but I checked out all of methods and there was nothing like that. In addition, printed value is not the pointer itself; it's pointer's <code>Data</code>. Somewhere somebody changes <code>Data</code>s of all <code>Node&lt;T&gt;*</code>s in my list. </p>\n\n<p>Is this a memory management or garbage collection issue? if not, what I'm doing wrong?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12409846,"title":"qml webview gmail.com, others, not loading or incomplete","body":"<p>Im using a QML Webview.  It appears to work fine for sites like\nintel.com, apple.com, cnn.com, foxnews.com, however if I try to\nload gmail.com or hotmail.com, it appears to only load the following html:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\n==== load finished\n</code></pre>\n\n<p>This gets dumped by a debug msg I have in the onLoadFinished event.</p>\n\n<p>Here's how I setup my Webview:</p>\n\n<pre><code>WebView {\n    id: webView\n    focus: true\n    preferredWidth: webkit.width\n    preferredHeight: webkit.height\n    settings.autoLoadImages: true\n    settings.javascriptEnabled: true\n    settings.javascriptCanOpenWindows: true\n    settings.minimumFontSize: 12\n    settings.defaultFontSize: webkit.fontsize\n    url: \"\"\n\nonLoadFinished: {\n        console.debug(webView.html);\n        console.debug(\"==== load finished\");\n}\n}\n</code></pre>\n\n<p>(Other events not shown)</p>\n\n<p>Anyone have an idea of what I might be doing wrong?\nIf Im missing a setting I dont know because there is so little\ndocumentation on the 'settings' (unless its obvious).  We are using\n4.7.1 however I did try 4.8.2 with same results.</p>\n\n<p>Thanks</p>\n\n<p>[EDIT] A coworker suggested that it may be a User-Agent issue.  Ive seen \nmany articles on modifying that for the C++ version of QWebView but I dont see\nhow its possible to do from the QML side, unless I hack the Qt source directly.\nAnyone think that may be the issue?  I would doubt it because gmail.com works\njust fine in my other web browsers on my desktop (ubuntu 11.10)</p>\n\n<p>[EDIT] I compiled the 'browser' example in Qt 4.7.1, it doesnt work there either.\nQt came out with 4.8.3 the other day and when I compiled 'browser' there, it (browser) worked.  I noticed that gmail.com changes from http: to https: so I thought maybe it was\nbecause we were compiling QT with -no-openssl.  I tried compiling 4.7.1 AND 4.8.3\nwith openssl with no luck to my QML problem.</p>\n\n<p>[SEMI-SOLVED] Turns out its poor QT documentation (for starters).  QML Webview doesnt\ntell you in their docs that you need to install your own NetworkAccessManagerFactory.\nDeclarativeView has an engine() (at least in 4.7.1) in which you call setNetworkAccessManagerFactory() with your own Factory.  Now that I did that, it works\non my Desktop, but not on our embedded linux device. although it doesnt 'lock up' downloading gmail.com at 10%, it just fails now.  I also had to compile Qt with openssl,\nhowever it is loading my openssl libraries (ssl and crypto), but not working on the \nembedded device yet.  Very odd.</p>\n\n<p>[SOLVED] Weird, but it seems that I did not implement QNetworkAccessManager::sslErrors(QNetworkReply *, QList))\nsignal.  This had no effect on the desktop, but when I went to the embedded device it\nwouldnt work, now it does.</p>\n"},{"tags":["qt","embedded-linux","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":12573175,"title":"Qt DBus registerService function call returns false on an embedded Linux device","body":"<p>I’m new to DBus, but I’m trying to use it in two Qt applications on an embedded device. I have a very simple interface that consists of one slot:</p>\n\n<pre><code>QString SendMessage(const QString &amp;cmd);\n</code></pre>\n\n<p>The server application is then using the following code to start the connection:</p>\n\n<pre><code>    DbusService* dBus = new DbusService;\n    new interfaceIfAdaptor(dBus);\n\n    QDBusConnection connection = QDBusConnection::sessionBus();\n    bool ret = connection.registerService(\"com.domain.project.interface\");\n    qDebug() &lt;&lt; \"returns\" &lt;&lt; ret;\n    ret = connection.registerObject(\"/\", dBus);\n    qDebug() &lt;&lt; \"returns\" &lt;&lt; ret;\n</code></pre>\n\n<p><strong>This works fine on the desktop</strong>. In the embedded system, the connection.registerService function returns false. As a result, any messages to the server fail. I’m not sure why. Running ‘ps’ tells me that [dbus-daemon —system] and [dbus-daemon —sesson] are both running.</p>\n\n<p>Finally, I have noticed that Qt Creator complains when I debug the application. I see the following warning messages:</p>\n\n<blockquote>\n  <p>Could not load shared library symbols for 10 libraries, e.g. /opt/arm/lib/libQtDBus.so.4. </p>\n  \n  <p>Use the “info sharedlibrary” command to see the complete listing. </p>\n  \n  <p>Do you need “set solib-search-path” or “set sysroot”?</p>\n  \n  <p>Could not load shared library symbols for /usr/lib/libdbus-1.so.3. </p>\n  \n  <p>Do you need “set solib-search-path” or “set sysroot”?</p>\n</blockquote>\n\n<p>If additional information is required to debug this problem, please let me know. Or if there are useful dbus commands I could run to help figure this out.  Thanks!</p>\n"},{"tags":["qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12573109,"title":"QTableView \"ResizeToContents\" columns are too wide with sorting enabled","body":"<p>I have two identical QTableViews, one of which is sortable.  Both of these tables have the last four columns with their resize mode set to QHeaderView::ResizeToContents.</p>\n\n<p>The non-sortable table column widths seem correct, with just a few pixels of padding on the left and right edges of the column headers.  But the sortable table column widths are adding about 30 pixels to the left and right edges of the column headers, making them much wider than they need to be.</p>\n\n<p>The construction of these tables and their models is identical, except for the single line setSortingEnabled(bool).</p>\n\n<p>Is this by design, or is there a way I can remove all this extra padding from the sortable table?</p>\n"},{"tags":["c++","qt","sockets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12584362,"title":"Trouble comunicating between 2 sockets","body":"<p>I have a linux machine and a Windows machine I have a C++ program witch acts as a server on the linux machine and a Qt application witch acts as a client on windows machine. I use the socket as a encryption key ( basic xor encryption )</p>\n\n<p>The problem is when i hit multiple times connect i get bogus strings. I think the problem is in qt application here is my code . I have tried to put a global flag busy to prevent the user from hitting the connect button manny times but this flag never gets triggered.</p>\n\n<p>Can someone explain why? Should i use a mutex ? If yes how ?</p>\n\n<pre><code>void MainWindow::performRead()\n{\n\n\n    QTcpSocket * sock = static_cast&lt;QTcpSocket*&gt;(this-&gt;sender());\n    if (key == 0)\n    {\n    busy = true;\n    QString recv(sock-&gt;readLine());\n    key = recv.toInt();\n    qDebug() &lt;&lt; \"Cheia este \" &lt;&lt; key;\n\n    char * response = enc_dec(\"#AUTH|admin|admin\",strlen(\"#AUTH|admin|admin\"),key);\n    sock-&gt;write(response);\n    }\n    else\n    {\n        busy = true;\n        while (sock-&gt;bytesAvailable() &gt; 0)\n        {  \n        unsigned short word;\n        sock-&gt;read((char*)(&amp;word),2);\n        qDebug()&lt;&lt;word;\n        QByteArray bts = sock-&gt;read(word);\n        char * decodat = enc_dec((char*)bts.data(),bts.length() - 2,key);\n        char testx[2];\n        sock-&gt;peek(&amp;testx[0],2);\n        qDebug() &lt;&lt; decodat;\n        }\n\n    }\n\n    busy = false;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    if (!busy)\n    {\n    key = 0;\n    QTcpSocket * sock = new QTcpSocket();\n    connect(sock,SIGNAL(readyRead()),this,SLOT(performRead()));\n    sock-&gt;connectToHost(\"194.110.212.46\",6550);\n    }\n    else qDebug()&lt;&lt;\"Can't you see I am busy??\" &lt;&lt; endl;\n}\n\nchar * enc_dec(char * str,int len, int key)\n{\n    unsigned char keys[2];\n    keys[0] = (unsigned char)key;\n    keys[1] = keys[0] ^ 255;\n    char * nou = new char[len + 1];\n    nou[len] = '\\0';\n    for (int i = 0; i &lt; len; i++)\n    {\n        char tmpy = str[i] ^ keys[i % 2];\n        nou[i] = tmpy;\n    }\n    return nou;\n}\n</code></pre>\n"},{"tags":["c++","linux","qt","install","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":124,"score":2,"question_id":12570111,"title":"Qt5 Beta - can't find serviceframework.pro","body":"<p>I am trying to install Qt5 - Beta on Ubuntu i386.\n<a href=\"http://qt-project.org/wiki/Qt_5.0\" rel=\"nofollow\">http://qt-project.org/wiki/Qt_5.0</a></p>\n\n<p>I run the commands:</p>\n\n<pre><code>./configure -prefix $PWD/qtbase -opensource -nomake tests\nmake\n</code></pre>\n\n<p>and also tried</p>\n\n<pre><code>./configure -prefix $PWD/qtbase -opensource -nomake tests\n./build -j 4\n</code></pre>\n\n<p>And I am having respectively the following errors:</p>\n\n<pre><code>make[2]: Entering directory `/home/qt-everywhere-opensource-src-5.0.0/qtbase/examples'\ncd serviceframework/ &amp;&amp; /home/qt-everywhere-opensource-src-5.0.0/qtbase/bin/qmake  /home/qt-everywhere-opensource-src-5.0.0/qtbase/examples/serviceframework   /serviceframework.pro -spec /home/qt-everywhere-opensource-src-5.0.0/qtbase/mkspecs/linux-g++ -o Makefile\nCannot find file: /home/qt-everywhere-opensource-src-5.0.0/qtbase/examples/serviceframework/serviceframework.pro.\nmake[2]: *** [serviceframework/Makefile] Error 2\nmake[2]: Leaving directory `/home/qt-everywhere-opensource-src-5.0.0/qtbase/examples'\nmake[1]: *** [sub-examples-make_default-ordered] Error 2\nmake[1]: Leaving directory `/home/qt-everywhere-opensource-src-5.0.0/qtbase'\nmake: *** [module-qtbase-make_default] Error 2\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Cannot find file: /home/qt-everywhere-opensource-src-5.0.0/qtbase/examples/serviceframework/serviceframework.pro.\nmake[1]: *** [serviceframework/Makefile] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nCannot find file: /home/qt-everywhere-opensource-src-5.0.0/qtbase/examples/publishsubscribe/publishsubscribe.pro.\nmake[1]: *** [publishsubscribe/Makefile] Error 2\nmake[1]: Leaving directory `/home/qt-everywhere-opensource-src-5.0.0/qtbase/examples'\nmake: *** [sub-examples-make_default-ordered] Error 2\ncd qtbase &amp;&amp; make -j 4 exited with status 512 at ./build line 64\n    Qt::Build::exe('Qt::Build=HASH(0x8dae8b8)', 'cd qtbase &amp;&amp; make -j 4') called at ./build line 114\n    Qt::Build::exeLowPriv('Qt::Build=HASH(0x8dae8b8)', 'cd qtbase &amp;&amp; make -j 4') called at ./build line 377\n    Qt::Build::build_project('Qt::Build=HASH(0x8dae8b8)', 'qtbase') called at ./build line 408\n    Qt::Build::build_qt('Qt::Build=HASH(0x8dae8b8)') called at ./build line 437\n    Qt::Build::run('Qt::Build=HASH(0x8dae8b8)') called at ./build line 446\n'cd qtbase &amp;&amp; make -j 4' failed: 512 at ./build line 377.\n</code></pre>\n\n<p>All right, I also tried on Windows 8. Did similar approach:</p>\n\n<pre><code> set PATH=%PATH%;%CD%\\qtbase\\bin;\n configure -prefix %CD%\\qtbase -opensource -nomake tests\n mingw32-make\n</code></pre>\n\n<p>and</p>\n\n<pre><code> set PATH=%PATH%;%CD%\\qtbase\\bin;\n configure -prefix %CD%\\qtbase -opensource -nomake tests\n perl build\n</code></pre>\n\n<p>Having the respectively following errors:</p>\n\n<pre><code> codecs\\qtextcodec.cpp: In function 'void setup()':\n codecs\\qtextcodec.cpp:288:16: error: expected type-specifier before 'QIconvCodec\n '\ncodecs\\qtextcodec.cpp:288:16: error: expected ';' before 'QIconvCodec'\nmingw32-make[4]: *** [tmp/obj/debug_shared/qtextcodec.o] Error 1\nmingw32-make[4]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src/corelib'\nmingw32-make[3]: *** [debug-all] Error 2\nmingw32-make[3]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src/corelib'\nmingw32-make[2]: *** [sub-corelib-make_first] Error 2\nmingw32-make[2]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src'\nmingw32-make[1]: *** [sub-src-make_first] Error 2\nmingw32-make[1]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase'\nmingw32-make: *** [module-qtbase-make_first] Error 2\n</code></pre>\n\n<p>and </p>\n\n<pre><code>codecs\\qtextcodec.cpp:288:16: error: expected ';' before 'QIconvCodec'\nmingw32-make[3]: *** [tmp/obj/debug_shared/qtextcodec.o] Error 1\nmingw32-make[3]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src/corelib'\nmingw32-make[2]: *** [debug-all] Error 2\nmingw32-make[2]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src/corelib'\nmingw32-make[1]: *** [sub-corelib-make_first] Error 2\nmingw32-make[1]: Leaving directory `C:/2_install/qt-everywhere-opensource-src-5.\n0.0-beta1/qtbase/src'\nmingw32-make: *** [sub-src-make_first] Error 2\n'cd qtbase &amp;&amp; \"C:\\MinGW\\bin\\mingw32-make.exe\" ' failed: 512\nFatal failure building qtbase at build line 443.\n    Qt::Build::build_project('Qt::Build=HASH(0x5a711c)', 'qtbase') called at\n  build line 484\n    Qt::Build::build_qt('Qt::Build=HASH(0x5a711c)') called at build line 544\n\n    Qt::Build::run('Qt::Build=HASH(0x5a711c)') called at build line 553\n</code></pre>\n\n<p>So, apparently it is a bug in the package.</p>\n\n<p>Some comments? Any suggestion is highly appreciated!</p>\n"},{"tags":["qt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":12568307,"title":"Qt: Potential side-effects of Layout?","body":"<pre><code>from PySide.QtGui import *\nimport sys\n\napp = QApplication(sys.argv)\nlayout = QHBoxLayout()\nprint issubclass(type(layout), QWidget)\n# Layout is not a kind of QWidget\n\nwindow = QWidget()\nwindow.resize(500, 500)\nwindow.show()\nwindow.setLayout(layout)\n\nbutt = QPushButton(\"asdf\", parent = None)\nbutt.resize(100, 100)\nbutt.show()\nlayout.addWidget(butt)\n\nprint butt.parent() \n\napp.exec_()\n</code></pre>\n\n<p>The parent object of <code>butt</code> is <code>window</code> in fact.\nBut I haven't set its parent to <code>window</code> explicitly.\nCan I say that the Layout Object has some side effects which may\nset the added widget's parent to the container that it applied to?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12568633,"title":"Qt - Detect item information change in QListView","body":"<p>I have a QListView which is connected to a QStandardItemModel. How do I detect any information change in the model or the QListView? I tried the Signals and Slots with the itemChanged() for the model but it seems to crash the whole program.</p>\n\n<pre><code>Qbject::connect(bugModel, SIGNAL(itemChanged(QStandardItem*)), this, SLOT(bugInfoChanged()));\n</code></pre>\n\n<p>That is the code I'm using to connect the Signal. the function bugInfoChanged() just runs a qDebug() that says \"Changed\". But when I start the program, it shows a crash error.</p>\n"},{"tags":["android","qt","opencv","tbb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":12583590,"title":"Qt Android project with OpenCV - tbb compiling errors","body":"<p>I want to create a Qt Android App with OpenCV. I'm using Necessitas Qt Creator and the OpenCV 2.4.0 Android binary package on Ubuntu 12.04 (64-Bit). At the moment I just create an OpenCV Mat object.</p>\n\n<p>But when I'm compiling the project I get some \"undefined reference\" errors for tbb functions:</p>\n\n<blockquote>\n  <p>/home/kolbe/src/android-sdk-linux/OpenCV-2.4.0/libs/armeabi-v7a/libopencv_core.a(stat.cpp.o):-1: In function tbb::interface6::internal::start_for, cv::BatchDistInvoker, tbb::auto_partitioner>::execute():\n  stat.cpp:-1: error: undefined reference to tbb::internal::allocate_continuation_proxy::allocate(unsigned int) const\n  stat.cpp:-1: error: undefined reference to tbb::internal::allocate_continuation_proxy::allocate(unsigned int) const\n  ...</p>\n</blockquote>\n\n<p>I'm including the OpenCV libraries (also the libtbb.a) in my *.pro / qmake file:</p>\n\n<pre><code>ANDROID_OPENCV = /home/kolbe/src/android-sdk-linux/OpenCV-2.4.0\nLIBS += \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_calib3d.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_flann.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_objdetect.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_contrib.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_video.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_ml.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_legacy.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_highgui.a \\\n$$ANDROID_OPENCV/share/OpenCV/3rdparty/libs/armeabi-v7a/liblibjpeg.a \\\n$$ANDROID_OPENCV/share/OpenCV/3rdparty/libs/armeabi-v7a/liblibpng.a \\\n$$ANDROID_OPENCV/share/OpenCV/3rdparty/libs/armeabi-v7a/liblibtiff.a \\\n$$ANDROID_OPENCV/share/OpenCV/3rdparty/libs/armeabi-v7a/liblibjasper.a \\\n$$ANDROID_OPENCV/share/OpenCV/3rdparty/libs/armeabi-v7a/libtbb.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_ts.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_imgproc.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_core.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_androidcamera.a \\\n$$ANDROID_OPENCV/libs/armeabi-v7a/libopencv_features2d.a\n\nINCLUDEPATH += $$ANDROID_OPENCV/include/opencv/\nINCLUDEPATH += $$ANDROID_OPENCV/include/opencv2/\nINCLUDEPATH += $$ANDROID_OPENCV/include/\n\nCONFIG+=link_pkgconfig PKGCONFIG+=opencv\n</code></pre>\n\n<p>Why can't OpenCV find the tbb functions? Thanks!</p>\n"},{"tags":["qt","box-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12582958,"title":"Qt multipart/form-data example","body":"<p>I develop application which using Box.com API. I have done all request functions like create folder, download etc...\nBut i have problem with Upload file functions <a href=\"http://developers.box.com/get-started/#uploading-and-downloading\" rel=\"nofollow\">http://developers.box.com/get-started/#uploading-and-downloading</a> . I have no experience how to use multipart/form-data POST request in QT.</p>\n\n<p>Can you please help me how to use Box.com API upload file in QT. Some working example? Please.</p>\n\n<p>Thank you</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12582633,"title":"How to ignore key press events that don't output characters","body":"<p>I'm developing a virtual musical keyboard that allows you to press keys on your keyboard and have it play notes. So in my MainWindow class I have reimplemented keyPressEvent. I would like to ignore events generated by modifiers (Control, Alt, Shift, etc.), as well as events generated by other non-character keys such as Tab, Backspace, and Enter. Something like this would be ideal:</p>\n\n<pre><code>void MainWindow::keyPressEvent(QKeyEvent *event)\n{\n    if (!event-&gt;key().isCharacter()))\n    {\n        event-&gt;ignore();\n        return;\n    }\n\n    // handle the event\n}\n</code></pre>\n\n<p>Is there a way to do something like that (short of testing every possible non-character key individually)? If not, is there at least a way to easily ignore the event if it is a modifier?</p>\n"},{"tags":["qt","linker","32bit","qmake","creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":504,"score":1,"question_id":9502430,"title":"Qt Creator and external libraries fail to link (HALCON)","body":"<p>ive been googling the net for hours now and still didnt came up with a solution to my problem, so i hope that you guys can help me.\nIm trying to add external libraries to my Qt Project (4.7.4 32-bit). I'm working with the CV-Software Halcon (x86-win32) and want to link the example test project (matching.pro) to the halconcpp.lib and halcon.lib inside the lib folder of Halcon. So i added the following lines to the .pro file.</p>\n\n<pre><code>#includes\nINCLUDEPATH += C:/\"Program Files\"/MVTec/HALCON/include\nINCLUDEPATH += C:/\"Program Files\"/MVTec/HALCON/include/cpp\n#libs\nLIBS            += C:/\"Program Files\"/MVTec/HALCON/lib/x86-win32/halconcpp.lib\nLIBS            += C:/\"Program Files\"/MVTec/HALCON/lib/x86-win32/halcon.lib\n</code></pre>\n\n<p>But unfortunately the compilation process still produces linking errors:</p>\n\n<pre><code>release/qhalconwindow.o:qhalconwindow.cpp:(.text+0x3a): undefined reference to `_imp___ZN6Halcon18set_window_extentsElllll'\nrelease/qhalconwindow.o:qhalconwindow.cpp:(.text+0x67): undefined reference to `_imp___ZN6Halcon12close_windowEl'\nrelease/qhalconwindow.o:qhalconwindow.cpp:(.text+0xbf): undefined reference to `_imp___ZN6Halcon12close_windowEl'\nrelease/qhalconwindow.o:qhalconwindow.cpp:(.text+0x10b): undefined reference to `_imp___ZN6Halcon12close_windowEl' \netc...\n</code></pre>\n\n<p>So im thinking that it has something to do with the settings of qmake, especially the way in which it links to the halconcpp.lib.\nAnd because im quite a noob when it comes to compiler settings, my only hope is your knowledge.</p>\n\n<p>Thanks for taking the time to help me ! :)\nI highly appreciate it.\ngreets</p>\n"},{"tags":["c++","qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12570038,"title":"Qt Application using C++ and QML","body":"<p>I am new to Qt, and am using Qt Creator 2.4.1 for development.</p>\n\n<p><strong>Question</strong> - Where can I find (or What are the) examples built using QML and C++?</p>\n\n<p>I have been searching and its been not very fruitful. Like I have found examples using pure QML. Or the demo \"samegame\" uses javascript with QML.</p>\n\n<p>Just to try out, here is some code I wrote in main.cpp - </p>\n\n<pre><code>QDeclarativeView view;\nview.rootContext()-&gt;setContextProperty(\"game\", new Game);\nview.setSource(QUrl(\"qml/hangman/main.qml\"));\n\nview.show();\n</code></pre>\n\n<p>The <strong>question</strong> related to code - If I were to use C++ and QML, is this how the code in main() is supposed to be? </p>\n\n<p>In the <strong>main.qml</strong> I will make all the different types of buttons, and mouseareas required.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12569578,"title":"Efficient Grid in Qt","body":"<p>I am trying to draw a 10 millisecond grid in a QGraphicsScene in Qt. I am not very familiar with Qt... it's the first time I used it, and only because the application needs to be portable between Windows and Linux.</p>\n\n<p>I actually don't have a problem drawing the grid, it's just the performance when the grid gets big. The grid has to be able to change size to fit the SceneRect if/when new data is loaded into the program to be displayed.</p>\n\n<p>This is how I do it at the moment, I hate this but it's the only way I can think of doing it... </p>\n\n<pre><code>void Plotter::drawGrid() {\n    unsigned int i;\n\n    QGraphicsLineItem *line;\n    QGraphicsTextItem *text;\n\n    char num[11];\n    QString label;\n\n    unsigned int width = scene-&gt;sceneRect().width();\n    unsigned int height = scene-&gt;sceneRect().height();\n\n    removeGrid();\n\n    for (i = 150; i &lt; width; i+= 10) {\n        line = new QGraphicsLineItem(i, 0, i, scene-&gt;sceneRect().height(), 0, scene);\n        line-&gt;setPen(QPen(QColor(0xdd,0xdd,0xdd)));\n        line-&gt;setZValue(0);\n\n        _itoa_s(i - 150, num, 10);\n        label = num;\n        label += \" ms\";\n\n        text = new QGraphicsTextItem(label, 0, scene);\n        text-&gt;setDefaultTextColor(Qt::white);\n        text-&gt;setX(i);\n        text-&gt;setY(height - 10);\n        text-&gt;setZValue(2);\n        text-&gt;setScale(0.2);\n\n        //pointers to items stored in list for removal later.\n        gridList.append(line);\n        gridList.append(text);\n    }\n    for (i = 0; i &lt; height; i+= 10) {\n        line = new QGraphicsLineItem(150, i, width, i, 0, scene);\n        line-&gt;setPen(QPen(QColor(0xdd,0xdd,0xdd)));\n        line-&gt;setZValue(0);\n        gridList.append(line);\n    }\n}\n</code></pre>\n\n<p>When scene->sceneRect().width() gets too big, however, the application becomes very sluggish. I have tried using a QGLWidget, but the improvements in speed are marginal at best.</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12581685,"title":"Adding contextmenu for QTreeWidgetItem","body":"<h2>Inside constructor</h2>\n\n<pre><code>connect(ui.UserSpecificMaterial_treeWidget, SIGNAL(customContextMenuRequested(const QPoint &amp;)),this, SLOT(ContMenu(const QPoint &amp;)));\n</code></pre>\n\n<h2>Inside slot</h2>\n\n<pre><code>void MyContMenu::ContMenu(const QPoint &amp;pos)\n{\n QTreeWidgetItem *item = ui.UserSpecificMaterial_treeWidget-&gt;itemAt(pos);\n     if (!item)\n         return;\n    QMenu *menu = new QMenu(ui.UserSpecificMaterial_treeWidget);\n        myAction = menu-&gt;addAction(\"Remove\");\n    myAction-&gt;setIcon(QIcon(QString::fromUtf8(\"Resources/Remove.png\")));\n    myAction-&gt;setShortcut(tr(\"Ctrl+D\"));\n    myAction-&gt;setStatusTip(tr(\"Remove the respective material from the User DB\"));\n    menu-&gt;exec(ui.UserSpecificMaterial_treeWidget-&gt;viewport()-&gt;mapToGlobal(pos));\n          /---code to remove the item ./ }\n</code></pre>\n\n<p>In the above code whenever i right click on the QTreeWidgetItem  it will show me the contextmenu having a single menuitem named Remove  . What i want is whenever the user click on that remove menuitem at that time only it should remove that QTreeWidgetItem from the qtreewidget . but in the above code after rigtclick even if i click on any part of the UI it removes the respective QTreeWidgetItem from the treewidget , which i want to avoid .</p>\n\n<p>Thankss in advance .</p>\n"},{"tags":["javascript","qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12581213,"title":"Is it possible to monitor a directory for modifications using Javascript","body":"<p>I'm writing a Image gallery using Qt/QML and I want to show all images in a folder, for example, named <strong>img</strong>. Adding all of the pictures in this folder to a model like this </p>\n\n<pre><code>ListModel {\n        ListElement {\n            img:\"img/1.jpg\"\n            img_big :\"img/1_big.jpg\";\n\n        }\n\n        ListElement {\n            img_big :\"img/2_big.jpg\";\n            img:\"img/2.jpg\"\n        }\n}\n</code></pre>\n\n<p>Which is hard coded in a .qml file is not a perfect way. Is it possible to monitor this directory for new files and add them to this model?<br>\nI know that I can use <strong>QFileSystemWatcher</strong> but I want to know that whether I can use javascript to do so or not? </p>\n"},{"tags":["qt","properties","software-tools","metaclass"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12581209,"title":"QT Properties - Syntactic Sugar or Development Tools","body":"<p>I'm sure all of you were at that point - defining a <code>Q_OBJECT</code> carrying a ton of <code>Q_PROPERTIES</code>, all with rather trivial accessors:</p>\n\n<pre><code>class ORM_Customer : public QDjangoModel\n{\n    Q_OBJECT  \n\n    Q_PROPERTY(QString firstname READ firstname WRITE setFirstname)\n    Q_PROPERTY(QString lastname  READ lastname  WRITE setLastname)\n    Q_PROPERTY(QString phone     READ phone     WRITE setPhone)\n\n    Q_PROPERTY(QString address1  READ address1  WRITE setAddress1)\n    Q_PROPERTY(QString address2  READ address2  WRITE setAddress2)\n    Q_PROPERTY(QString houseno   READ houseno   WRITE setHouseno)\n    Q_PROPERTY(QString postcode  READ postcode  WRITE setPostcode)\n[... snip ...]\n}\n</code></pre>\n\n<p>with a ton of accessors all looking like that:</p>\n\n<pre><code>QString ORM_Customer::firstname() const { return m_firstname; }\nQString ORM_Customer::lastname() const  { return m_lastname; }\n\nvoid ORM_Customer::setFirstname(QString &amp;n) { m_firstname = n; }\nvoid ORM_Customer::setLastname(QString &amp;n)  { m_lastname  = n; }\n</code></pre>\n\n<p>Given that QDjangoModel uses MetaObject introspection, I can't rely on dynamic properties here (besides, I like static properties) - question is, are there any tools that would save me the manual labor? </p>\n\n<p>Qt Creator doesn't seem to have the option to just declare and define some default accessors and their respective private variables.. Anything else? It surely must've bothered more developers than just myself. </p>\n\n<p>Or perhaps there is just another development pattern others use?</p>\n"},{"tags":["qt","sorting","parent-child","qtreewidget","toplevel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12571875,"title":"Qt treewidget sorting top-level items","body":"<p>I am having a difficult time overloading <code>QTreeWidgetItem</code>'s <code>&lt;</code> operator.</p>\n\n<p>I have a list of <code>QTreeWidgetItems</code>, some top-level items and some children. When the user activates the \"date created\" column to sort the tree, the sort occurs at the child level. </p>\n\n<p>In other words, imagine a tree like this:</p>\n\n<pre><code>Item A - latest modification 9/24/12\n  3rd Modified -             9/21/12\n  2nd Modified -             9/15/12\n  1st Modified -             9/10/12\n\nItem B - latest modification 9/23/12\n  2nd Modified -             9/23/12\n  1st Modified -             9/22/12\n</code></pre>\n\n<p>When the date column is activated to sort ascending, I would expect the return result to be: Item A, then Item B... but instead, the sort occurs on the 1st modified date of the item. I am returned with Item B then Item A. Even though none of the top-level items are expanded, or active.</p>\n"},{"tags":["qt","visual-studio-2008","mfc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12580346,"title":"Error LNK2019 when compiling Qt for a pre-existing MFC application","body":"<p>I've recently developed a QT application(NewSPOISGUI) which was to serve as a new front end to a legacy MFC application at work. This application compiles and runs perfectly when standalone. I'm using QT 4.8.2 with VS2008 SP1 and the add-in. </p>\n\n<p>Currently, I'm trying to test the functionality and trying to make the Qt GUI appear instead the of the old MFC application GUI. As a test I included the header file(newspoisgui.h) from the Qt application in the MFC application within VS2008. Unfortunately, despite adding the same paths and libraries as the Qt application(NewSPOISGUI), I keep encountering :</p>\n\n<pre><code>qtmaind.lib(qtmain_win.obj) : error LNK2019: unresolved external symbol _main referenced      in function _WinMain@16\nDebug/SPOIS.exe : fatal error LNK1120: 1 unresolved externals\n</code></pre>\n\n<p>None of the solutions I could find online could be applied as they weren't for using Qt in VS2008. Any help would be greatly appreciated. Thanks in advance. </p>\n"},{"tags":["qt","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12563983,"title":"Drawing a line on transparent qt widget","body":"<p>I want to achieve this :</p>\n\n<ol>\n<li>Have a transparent surface of some width and height (A transparent widget)</li>\n<li>Draw something on this surface such that only outlines of that figure are visible on the screen and nothing else (no background of the surface on which I am drawing should be there) </li>\n</ol>\n\n<p>I made a widget and achieved to make it transparent like this :</p>\n\n<pre><code>window.setAttribute( Qt::WA_TranslucentBackground);\nwindow.setWindowFlags (Qt::FramelessWindowHint);\nwindow.setGeometry( 0,0,1200, 800 );\nwindow.show();\n</code></pre>\n\n<p>Then I overrode the function paintEvent(QPaintEvent *); to make a ellipse using QPainter.</p>\n\n<p>But still the surface is coming to be black color only. Can someone explain ?</p>\n"},{"tags":["qt","drawimage","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12571566,"title":"Qt : draw triangle image","body":"<p>I need to do something similar to <code>QPainter::drawImage</code>, but drawing a triangle part of the given picture (into a triangular region of my widget) instead of working with rectangles.</p>\n\n<p>Any idea how I could do that, besides painfully trying to redraw every pixel?</p>\n\n<p>Thanks for your insights!</p>\n"},{"tags":["c++","qt","encoding","url-encoding","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":12576545,"title":"QUrl toPercentEncoding() lowercase hex","body":"<p>I have a string that becomes the query string part of a url and has to be url encoded.</p>\n\n<pre><code>QString queryStringParam = \"J1mOEfg/TC\";\n</code></pre>\n\n<p>So, I tried to use <a href=\"http://doc.qt.digia.com/qt-maemo/qurl.html#toPercentEncoding\" rel=\"nofollow\">QUrl::toPercentEncoding()</a> like this</p>\n\n<pre><code>QString encodedQueryString = QUrl::toPercentEncoding(queryStringParam);\n</code></pre>\n\n<p>which results in <code>\"J1mOEfg%2FT\"</code> but the webservice that I'm calling is expecting <code>\"J1mOEfg%2fT\"</code> [note the lowercase 'f' in the encoding of '/' to '%20f'] and hence rejects the parameter. It's probably bad on the service's side but I can't do anything about it. How can I get lowercase encoding hex chars while maintaining the case in the rest of the parameter?</p>\n"},{"tags":["r","qt","ggplot2","ggmap","rinside"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12563510,"title":"Map displayed on R's widget doesn't get maximized when run through Qt","body":"<p>When I load a map on R's widget <em>(through <code>ggmap</code>)</em>  and run the program directly though R's console, the map gets properly maximized when I maximize the R's window.</p>\n\n<p>The same doesn't happen when I run R through Qt. I am using RInside.\nThrough Qt when I run R, the widget gets shown indeed (with the map on it), but when I maximize the R window, the map does <strong><em>NOT</em></strong> get maximized. It remains the same sized!</p>\n\n<p>It doesn't happen in any particular case. It happens all the time I run R though Qt, and never when I run R through R's console.</p>\n\n<p><strong>What hardware/software information should be presented here?</strong></p>\n\n<pre><code>&gt; sessionInfo()\nR version 2.15.1 (2012-06-22)\nPlatform: x86_64-unknown-linux-gnu (64-bit)\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=C                 LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n&gt; \n</code></pre>\n\n<p><strong>Using Qt version 4.7.0</strong></p>\n\n<pre><code>&gt; cat /etc/issue &amp;&amp; uname -a\nWelcome to openSUSE 11.4 \"Celadon\" - Kernel \\r (\\l).  \nLinux linux-trra 2.6.37.1-1.2-desktop #1 SMP PREEMPT 2011-02-21 10:34:10 +0100 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n\n<p><strong>The simplest R program which causes this:</strong></p>\n\n<pre><code>R.parseEvalQ (\"library (ggmap); library (raster);\");\n\nqtToR [\"currentFileName\"] = currentFileName;\nR.parseEvalQ (\"load (file = currentFileName); print (ggmap (mapImageData));\");\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/ypaiA.png\" alt=\"enter image description here\">\nCould it be possible that X11 server is not properly installed on my system? Or is this a know problem with <code>print</code>?</p>\n\n<p>Is there any alternative way to get this running properly through ggmap?</p>\n\n<p>![enter image description here][2]</p>\n"},{"tags":["c++","c","linux","qt","remote-access"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12576334,"title":"Qt::How to identify/detect if the system is Remotely access by other system in Linux","body":"<p>I am developing an application in ubuntu to access the other system remotely through QT. Both system are running some Qt applications.I want to check / make changes to the other system remotely using Qt programming. </p>\n\n<p>I want to add a <strong>pushbutton</strong> (as a quit screen) at remote system that should be <strong>\"Enable only if the system is remotely accessed\"</strong>, so that i can use it to close the remote access screen.</p>\n\n<p>Is there any way through programming we can get the status whenvever it is remotely accessed???</p>\n\n<p>I got through some solutions on forum but they are particularly for Windows. <strong>I am looking for some solution in Linux.</strong></p>\n\n<p>Please provide suggestion/links so that i can overcome this issue.</p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["qt","delegates","qlistview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12576619,"title":"Qt : Moving Items in a QListView with Animations without qml","body":"<p>I am working on a QListView to provide a functionality that animates the movement of items in the listView. For example :</p>\n\n<pre><code>item1\nitem2\nitem3\nitem4\nitem5\n</code></pre>\n\n<p>If i click on item4 and move/drag up then then each item should shift one position down with animation and the current position should be empty until the item is dropped.</p>\n\n<p>Is there any way to implement this without using qml. I have a thought of implementing this with QPropertyAnimation or QTimeLine, but I need the specific co-ordinates/position of the items in the list. I have also implemented a delegate using QStyledItemDelegate where in the paintEvent I can get the coordinates of each item using option.rect.</p>\n\n<p>How to implement this,</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12575465,"title":"strange behavior with exception (some method not called is executed)","body":"<p>I've been struggling with a really strange behavior that I do not manage to resolve on my own, so here I am. </p>\n\n<p>I'm creating an GUI for a console application which works great. The user can either select a file to be loaded or reload a previous selected file. Those two actions are handled with two different <code>slots</code>. I'm handling errors in the file's format with <code>exceptions</code> and it worked great in the console version, but for the GUI not too well for the moment...</p>\n\n<p>When an error is thrown in the openFile <code>slot</code>, the <code>catch</code> block makes his work and the method is stopped as expected BUT then the other slot is being called unexpectedly. I have no idea why and so have no idea how to correct that behavior. </p>\n\n<p>Here's the relevant code :</p>\n\n<pre><code>void Loader::openSourceFile()\n{\n    fileName = QFileDialog::getOpenFileName(myWindow, tr(\"Select source file\"), QString(), tr(\"Text files (*.txt)\"));\n    try{\n        parseSourceFile();\n    } catch(MyException &amp;e)\n    {\n        QString msg = QString(e.what());\n        myWindow-&gt;alertUser(msg);\n        return;\n    }\n}\n\nvoid Loader::reloadSourceFile()\n{\n    try{\n        parseSourceFile();\n    } catch(MyException &amp;e)\n    {\n        QString msg = QString(e.what());\n        myWindow-&gt;alertUser(msg);\n        return;\n    }\n}\n</code></pre>\n\n<p>the context of use : </p>\n\n<pre><code>myLoader = new Loader(this);\nmenuTop = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n\n//open source file\nopenAction = new QAction(QIcon(\":images/document.png\"), tr(\"&amp;Open\"), this);\nconnect(openAction, SIGNAL(triggered()), myLoader, SLOT(openSourceFile()));\nmenuTop-&gt;addAction(openAction);\n\n//reload source file\nreloadAction = new QAction(QIcon(\":images/reload.png\"), tr(\"&amp;Reload\"), this);\nconnect(openAction, SIGNAL(triggered()), myLoader, SLOT(reloadSourceFile()));\nmenuTop-&gt;addAction(reloadAction);\n</code></pre>\n\n<p>Note : after heavy debugging, I found that one function in the moc file of that class is being called after the execution of the catch block : </p>\n\n<pre><code>void Loader::qt_static_metacall(QObject *_o, QMetaObject::Call _c, int _id, void **_a)\n{\n    if (_c == QMetaObject::InvokeMetaMethod) {\n        Q_ASSERT(staticMetaObject.cast(_o));\n        Loader *_t = static_cast&lt;Loader *&gt;(_o);\n        switch (_id) {\n        case 0: _t-&gt;openSourceFile(); break;\n        case 1: _t-&gt;reloadSourceFile(); break;\n        default: ;\n        }\n    }\n    Q_UNUSED(_a);\n}\n</code></pre>\n\n<p>it is called with _id = 1 which explain the undesired execution of the other slot. But why this happens ??? Does anybody could explain how this can be avoided ? I've already made my own application class derived from <code>qApplication</code> and override <code>notify()</code> but that does not change anything.</p>\n"},{"tags":["qt","qt4","qglwidget","minimum-size"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12573489,"title":"Why won't my central QGLWidget grow when I expand the main window?","body":"<p>I have a QMainWindow with a QGridLayout on it, where the first row is toolbars (across all columns) and the second row has a text display area on the left (first column) and a QGLWidget on the right (second column). [Additional note...not sure if relevant: To get everything lined up the way I wanted, I had to use setMinimumSize on most of these.]</p>\n\n<p>Anyway, when I maximize or otherwise try to make the main window larger, the QGLWidget becomes a tiny bit wider but does NOT grow vertically. How can I force it to grow with the window as it should? Is this probably linked to the widget itself, or the grid layout?</p>\n"},{"tags":["c++","qt","assertions"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12573230,"title":"Q_ASSERT release build semantics","body":"<p>I can't find a clear statement on the semantics of Q_ASSERT under release builds, that is, no assertion checking - is the asserted expression evaluated at all?</p>\n\n<p>Consider the following code</p>\n\n<pre><code>Q_ASSERT(do_something_report_false_if_failed());\n</code></pre>\n\n<p>Is the <code>do_something_report_false_if_failed()</code> going to be run under all potential Qt build configurations? Would it be safer (even thou a bit more verbose and less readable) to do this instead:</p>\n\n<pre><code>bool is_ok = do_something_report_false_if_failed();\nQ_ASSERT(is_ok)\n</code></pre>\n\n<p>The latter approach has the downside of having a less verbose ASSERT failure - but perhaps it's more clear about whether it's runnable?</p>\n"},{"tags":["qt","layout","keyboard"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":737,"score":2,"question_id":1277093,"title":"Qt - Keyboard layout","body":"<p>are there any ways to get current keyboard layout in Qt?\nPlatform: Linux.\nProgramming language: C++.\nThanks. </p>\n"},{"tags":["c++","qt","winapi","mount","disk-partitioning"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12568392,"title":"How to use winapi classes?","body":"<p>am trying to create a project that create a file, formatting it, create a new partition and mount it, dismount it ... in C++ with Qtcretor\nI found that winapi offer several function help me to do that <code>Format method of the Win32_Volume class</code> and <code>AddMountPoint method of the Win32_Volume class</code> but there is no code example show how to use it I try with <a href=\"http://msdn.microsoft.com/en-us/library/aa394558%28v=vs.85%29.aspx\" rel=\"nofollow\">WMI C++ Application Examples</a> but in vain </p>\n\n<p>can any one put me on the way please?</p>\n\n<p>Any help will be appreciated and thanks in advance.</p>\n"},{"tags":["qt","qscrollarea"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12557670,"title":"Getting rid of unnecessary scrollbar in QScrollArea","body":"<p>I'm working on a Configuration QDialog. It has several categories (General, Appearance, etc.) that get loaded when the user clicks on them. Each category has its own page. These pages are separate classes in their own right (each has its own ui, cpp, and h). When the  Preferences window loads, the pages get instantiated and are loaded into a QStackedWidget. The Stackedwidget is then placed into a QScrollArea so it can scroll if necessary.</p>\n\n<p>However, there is a problem. Ever since I added the QStackedWidget, the QScrollArea <em>always</em> has a vertical scrollbar even when the current page is short enough not to need one: (picture shows the shortest page) </p>\n\n<p><img src=\"http://i.stack.imgur.com/l7xg4.png\" alt=\"Config scrollbar problem\"></p>\n\n<p>The ScrollArea vertical scroll policy is set to Qt::ScrollBarAsNeeded so logically it should only show a bar if the page is larger than the viewable area.</p>\n\n<p>Here's what I already tried to fix this:</p>\n\n<ol>\n<li><p>Setting the scroll policy to Qt::ScrollBarAlwaysOff. While this gets rid of the scrollbar, its unacceptable since it doesn't let the user know they need to scroll on long pages.</p></li>\n<li><p>Setting the Minimum/Maximum heights for the QStackedwidget. This makes the scrollbar go away if I set it for a low enough value, but it is unacceptable since it causes some of the widgets to have a squished appearance. </p></li>\n</ol>\n\n<p>I know the problem has something to do with the QStackedWidget but since this is the first time I've used QStackedWidget I’m not sure what it is. I've also noticed the scroll is always for the same amount; i.e. the scrollable area is always the same size no matter how large/small the page widget is. For some reason, it's slightly larger than the longest page. At first I thought the vertical spacers I put at at the bottom of each page to tighten up the layout were causing this, but taking them out didn't fix it. </p>\n\n<p>Update: Here's the code that controls the Stackedwidget:</p>\n\n<pre><code>void Newconfig::on_Categories_currentItemChanged(QTreeWidgetItem *current)\n{\n\n    QModelIndex index=ui-&gt;Categories-&gt;currentIndex();\n    int idx=index.row();\n\n    QString category=current-&gt;text(0);\n\n    this-&gt;setWindowTitle(\"Preferences -- \" + category);\n\n    if (stack-&gt;currentWidget() != 0) {\n        stack-&gt;currentWidget()-&gt;setSizePolicy(QSizePolicy::Ignored,\n                                                    QSizePolicy::Ignored);\n    }\n    stack-&gt;setCurrentIndex(idx);\n    stack-&gt;currentWidget()-&gt;setSizePolicy(QSizePolicy::Expanding,\n                                                QSizePolicy::Expanding);\n    adjustSize();\n\n}\n</code></pre>\n"},{"tags":["osx","qt","process","64bit","32bit"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":12564542,"title":"OSX 10.6 (& Qt): check bitness of running process - even if in 32bit-compatibility mode","body":"<p>How can I check inside the running process for the own bitness-state: that means if \"Intel\" (32 bit) or \"Intel (64-Bit)\" because I want to set a certain limit depending on that result.\nThe problem is that it doesn't help to check during  compile-time since you can set by using <code>Finder &gt; Information</code> the compatibility mode to 32 bit.</p>\n\n<p>Is there (inside Qt) something like the <code>IsWow64Process-command</code> for Windows?</p>\n"},{"tags":["qt","input","console","qprocess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":11965718,"title":"QProcess terminal input","body":"<p>I'm not really good at Qt and have no much knowledge in Ubuntu, but here is what I do:\nI launch gnome-terminal and then I start my *.sh file from it. How to do it from Qt?\nI've made:</p>\n\n<pre><code>QProcess *proc = new QProcess;\nproc-&gt;start(\"gnome-terminal\");\nproc-&gt;write(\"build.sh\\n\");\n</code></pre>\n\n<p>But just terminal is opening and nothing happens, I can mannualy input command, but I need to do it from QProcess.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12546252,"title":"Qt: query QWidgets on the actual visibility on the screen -- not \"isVisible()\", more like \"isRendered()\"","body":"<p>I'm thinking about generating lists of certain Qt-Objects that are rendered/displayed inside a certain QWidget (or even the complete QWindow) at a given time.</p>\n\n<p>Using traversing the list returned by \"QObject::children()\" and the Qt-property \"visible\" does not really help: QWidgets might have set \"visible\" to \"true\", but are not visually exposed in the current screen-layout. QActions inside a closed QMenu for example.</p>\n\n<p>Are there other ideas to access Information like this during run time? In the moment I fear that touching the Qt-source-code and hooking into some rendering-functionality might be an option...</p>\n\n<p>What seemed to work \"more or less\" is using QApplication::widgetAt(QPoint) iterating over all points inside the current window. But this is unusable slow for real-time application...</p>\n\n<p>Motivation: I would like to \"measure\" the complexity of an (Qt-)Application over time based on the type, area and number of displayed elements. I know this is a rather complex task... but pen&amp;paper is not really a viable option ;-)</p>\n"},{"tags":["qt","qtextedit","qlistview","qt4.8","qpushbutton"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":183,"score":1,"question_id":12383850,"title":"Qt- How to display the Text Edit String in a List View?","body":"<p>I have a <strong><em>QTextEdit , 2 QPushButtons</em></strong> (Add n Remove Buttons) and a <strong><em>QListView</em></strong>. When i am entering the text in the Text Edit and <strong><em>click the  Add Button, the Text should be added in the List View.</em></strong> Then, if I select any one of the <strong><em>added text from the List View &amp; Click the Remove Button, the Text should be removed from the ListView.</em></strong> I dont know how to achieve this. Plz Help me to solve this. Thanks in Advance.</p>\n"},{"tags":["c++","qt","oop","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12570373,"title":"Object Oriented Programming : Initiating ab object in a GUI","body":"<p>I'm new to OO based programming, so a silly question:</p>\n\n<p>I've created a class called <strong>algorithmObject</strong>. Basically, it has a bunch of functions associated with it.</p>\n\n<p>I've created a QT GUI and I want to create a public object of type algorithmObject, since I want to be able to access the member functions in various onClick events.</p>\n\n<p>So in my <strong>GUI.h</strong> file, I have:</p>\n\n<pre><code>public:\n\nalgorithmObject Object1;\n</code></pre>\n\n<p>In my <strong>GUI.cpp</strong> file, I'm trying to initialize it by: </p>\n\n<pre><code> Object1 = algorithmObject();\n</code></pre>\n\n<p>I'm using MS VS 2010 and I get a compiler error:</p>\n\n<p>error C1903: unable to recover from previous error(s); stopping compilation\nerror C2065: 'Object1' : undeclared identifier</p>\n\n<p>If I don't include :</p>\n\n<pre><code>Object1 = algorithmObject();\n</code></pre>\n\n<p>in my GUI.cpp file and just hope for the GUI constructor to create the object for me, I get the same error.</p>\n\n<p>I guess, I am not initializing my object correctly in the .cpp file somehow. Can someone suggest what is the right process?</p>\n\n<p>My algorithmObject files are outlined below:</p>\n\n<p><strong>algorithmObject.h</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nclass algorithmObject \n{\n\npublic:\n\nalgorithmObject (void);\n~algorithmObject (void);\n\nvoid function1 (int parameter);\nvoid function2 ();\n}\n</code></pre>\n\n<p><strong>algorithmObject.cpp</strong></p>\n\n<pre><code>#include \"algorithmObject.h\"\n\nalgorithmObject::algorithmObject(void)\n{\n}\n\nvoid algorithmObject::function1(int parameter)\n{\n//do something\n}\n\nvoid algorithmObject::function2()\n{\n//do something\n}\n\nalgorithmObject::~algorithmObject(void)\n{\n}\n</code></pre>\n\n<p>If I however, don't include any definition in the GUI.h file and just define my algorithmObject within a single function in the GUI (algorithmObject Object1;) , I am able to correctly access the functionality of my class. But the problem is that the object is local to that function and I cannot access it from any other functions of the GUI.cpp file which is extremely crucial for me ...</p>\n"},{"tags":["c++","qt","delegates"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12568614,"title":"In a QStyledItemDelegate for a QListWidget, how do I paint the selected item to match the standard list?","body":"<p>I have a QStyledItemDelegate for my QList widget:</p>\n\n<pre><code>class MappingDisplayWidgetDelegate: public QStyledItemDelegate\n{\n    Q_OBJECT\npublic:\n    MappingDisplayWidgetDelegate(QObject *parent=NULL);\n    virtual void paint ( QPainter * painter, const QStyleOptionViewItem &amp; option, const QModelIndex &amp; index ) const;\n    virtual QSize sizeHint ( const QStyleOptionViewItem &amp; option, const QModelIndex &amp; index ) const;\n};\n</code></pre>\n\n<p>and it's paint method looks like:</p>\n\n<pre><code>void MappingDisplayWidgetDelegate::paint ( QPainter * painter,\n                                           const QStyleOptionViewItem &amp; option,\n                                           const QModelIndex &amp; index ) const\n{\n    if (option.state &amp; QStyle::State_Selected)\n        painter-&gt;fillRect(option.rect, option.palette.highlight());\n    else if (option.state &amp; QStyle::State_MouseOver)\n        painter-&gt;fillRect(option.rect, option.palette.midlight());\n\n\n    QFontMetrics fm(option.font);\n\n    QString filename = index.data(Qt::DisplayRole).toString();\n\n    QRect outline = option.rect;\n    int outmid = outline.center().y();\n\n    QRect fnBound = fm.boundingRect(filename);\n    int fnBoundMid = fnBound.center().y();\n    fnBound.moveLeft(outline.left());\n    fnBound.translate(0, outmid - fnBoundMid);\n\n    painter-&gt;drawText(fnBound, Qt::AlignVCenter | Qt::AlignLeft, filename);\n\n}\n</code></pre>\n\n<p>Now this works, BUT the handling of the State_Selected and State_MouseOver doesn't produce the same results as the default lists. Here's a screen shot (I'm running on a Win7 system) of the code above on the left, and a standard QListWidget on the right. You can see that the QListWidget has nice gradients, while my items have only simple colors.</p>\n\n<p><img src=\"http://i.stack.imgur.com/YBn8S.png\" alt=\"enter image description here\"> </p>\n\n<p>I want to paint my items to properly match the standard widgets, but I can't quite figure out how. I'm not seeing anything in the options that would give me the info I need.</p>\n\n<p>Edited to add:\nNote that this is a somewhat toy example. The real code has a bunch of other stuff besides the one string, and has an appropriate (and working) sizeHint function. This is just a toy to demonstrate the problem.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12565314,"title":"Qt QWizard how to remove subtitle area","body":"<p>I need to remove subtitle area from QWizard page.Pls let me know is there a way to achieve this?</p>\n\n<p>Thanks,\nBhaskar</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2120,"score":2,"question_id":3588742,"title":"Programatically scroll QScrollArea","body":"<p>I have a Widget with QScrollArea in it and I want it to be scrolled down right after the widget containing it is shown. I tried:</p>\n\n<pre><code>scrollArea-&gt;ensureVisible(0,100, 20, 20);\n</code></pre>\n\n<p>It works only when invoked by user (pushing button for example). Putting it in widget contstructor or showEvent doesn't work. Can it be done automatically?</p>\n"},{"tags":["qt","timestamp"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":10798,"score":7,"question_id":2781119,"title":"how to get the Current TimeStamp in Qt","body":"<p>Hi\ni try to get current time as timestamp without success\nhere is my code that returnes me  Sunday, January 25th 1970, 03:17:35 (GMT)</p>\n\n<pre><code>QDateTime setTime = QDateTime::fromString (QString(\"1970-07-18T14:15:09\"), Qt::ISODate);\nQDateTime current = QDateTime::currentDateTime();\nuint msecs = setTime.time().msecsTo(current.time());\n\n return  QString::number(msecs);\n</code></pre>\n"},{"tags":["c++","qt","gui","openmp"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12567299,"title":"How to combine a responsive Qt GUI with an OpenMP based computation library?","body":"<p>Our software consists of a Graphical User Interface in C++/Qt. The user interface controls several heavy computational algorithms in a separate library which uses C++/OpenMP for parallelization. In this library we cannot use Qt. </p>\n\n<p>To keep our GUI responsive we use function pointers which call <code>QApplication::processEvents();</code>. This of course leads to spaghetti code. We would like to separate the GUI from the computation library, so that the function calls do not block the GUI any longer. What is the clean and prefered way to do this?</p>\n"},{"tags":["osx","qt","qfiledialog"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12566317,"title":"Saving file using the QFileDialog::getSaveFileName to restricted location doesn't give error message","body":"<p>i Am working on sample QT project on MAC and to save files i am using the  QFileDialog::getSaveFileName API with native dialog and if i save the file to directory which is read only it still gets saved !!! but the behaviour should be it should give error message. When i observed on windows system everything works fine it gives error message but on MAC id doesn't can anyone faced this earlier??   </p>\n"},{"tags":["qt","sorting","inheritance","operator-overloading"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12565865,"title":"Inherited QListWidgetItem and overloaded operator<. How to make sure that QListWidget sorts correctly?","body":"<p>I made a new class named PageRangeListWidgetItem which inherits from QListWidgetItem</p>\n\n<pre><code>class PageRangeListWidgetItem : public QListWidgetItem\n{\n    ...\n    private:\n        int start, end;\n\n        bool operator&lt;(const PageRangeListWidgetItem &amp;other) const {\n            if (start == other.start)\n                return end &lt; other.end;\n            return start &lt; other.start;\n        }\n};\n</code></pre>\n\n<p>and these items are being added to a QListWidget through user input. The QListWidget contains only these PageRangeListWidgetItem's, so I hoped that by calling the sortItems() function of the QListWidget, that it would use the overloaded operator&lt; to sort the items to my liking, but unfortunately it doesn't, it keeps on sorting the list as if it contained pure QListWidgetItems.</p>\n\n<p>How can I change this behaviour? Do I have to create a custom QListWidget class or is there an easier way?</p>\n"},{"tags":["qt","events","gui","mouseevent","keyevent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12560750,"title":"Generating a QMouseEvent manually within the keyPressEvent in Qt","body":"<p>I have overridden the <code>contentsMousePressEvent</code> in my listview like this.</p>\n\n<pre><code>void AppListView::contentsMousePressEvent(QMouseEvent *e)\n{\n    AppGenericListView::contentsMousePressEvent(e);\n    if (e-&gt;button() == Qt::RightButton)\n        emit rightClicked();\n    emit multiSelection();\n}\n</code></pre>\n\n<p>Here is my <code>keyPressEvent</code>.</p>\n\n<pre><code>void AppListView::keyPressEvent(QKeyEvent * e)\n{\n    AppGenericListView::keyPressEvent(e);\n    if ((e-&gt;key() == Qt::Key_Up) || (e-&gt;key() == Qt::Key_Down))\n    {\n        QListViewItem * item = currentItem();\n        if (item)\n        {\n            const QRect rect = itemRect(item);\n            QMouseEvent mEvt(QEvent::MouseButtonPress, rect.center(), Qt::LeftButton, Qt::LeftButton);\n            contentsMousePressEvent(&amp;mEvt);\n        }\n    }\n}\n</code></pre>\n\n<p>For now, this code working fine. Please note that i'm not creating a dynamic <code>QMouseEvent</code> object. What i want to know is will this cause a crash in future ? Does <code>contentMousePressEvent</code> need a dyanamic object ? Qt doc doesn't say much about it. Any ideas ....</p>\n"},{"tags":["javascript","qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11990119,"title":"Dump or serialize object in QML","body":"<p>console.log() does not serialize QML objects. I wonder how to do this?</p>\n"},{"tags":["python","qt","qt4","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1135,"score":4,"question_id":3377439,"title":"how to change the color of a QGraphicsTextItem","body":"<p>hello<br>\ni have a scene with a multiple (QGraphicsTextItem)s, and  i need to have control over their colors , so how to change a color of a QGraphicsTextItem ? is it possible anyway? i've been trying for 3 days until now . please help</p>\n\n<p><br>\nthanks in advance</p>\n"},{"tags":["multithreading","qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":3229,"score":3,"question_id":3126145,"title":"How to do QObject::moveToThread() when using QThreadPool?","body":"<p>I'm building a small multithreaded web server. The QTcpSockets are fetched in the main thread and then hand over by QtConcurrent to the QThreadPool, which eventually processes the data and sends out an answer.</p>\n\n<p>My problem is that the socket is created in the main thread and processed in another one. This causes errors when trying to write to the socket:</p>\n\n<pre><code>socket-&gt;write(somedata);\n</code></pre>\n\n<blockquote>\n  <p>QObject: Cannot create children for a\n  parent that is in a different thread.\n  (Parent is\n  QNativeSocketEngine(0x608330),\n  parent's thread is QThread(0x600630),\n  current thread is QThread(0x505f60)</p>\n</blockquote>\n\n<p>The clean way would be to move the socket object to the processing thread using </p>\n\n<pre><code>socket-&gt;moveToThread(QThread::currentThread()).\n</code></pre>\n\n<p>This, however, can only be called within the thread the object was created in. Furthermore, the socket has the QTcpServer object as parent, so moveToThread() will fail anyway (parented objects cannot switch threads).</p>\n\n<p>How can I move the object to the QThread::currentThread() within the code that is run by the threadpool? Alternatively, how can I write to a socket outside the thread it was created?</p>\n"},{"tags":["qt","qt4.7","qlistview","model-view","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12562866,"title":"Qt - How to Transfer QListView Items to another QListView?","body":"<p>I have a <strong>QLineEdit</strong>, <strong>2 QPush buttons</strong> (Add &amp; Remove Buttons) and a <strong>QListView</strong>. The Text which i am entering in the <strong>QLineEdit will gets added</strong> in the <strong>QListView</strong> when the <strong>add button is clicked</strong>. and if i'm selecting any one of the <strong>Item from the QListView</strong> and click the <strong>Remove Button</strong> the selected item will be removed. I finished these things and it works fine. <strong>Now i want to add a another QListView and if am Double clicking the QListView Items (QListView 1) the items should be transfered</strong> (items in the QListView 1 should be removed completely) <strong>to the new QListView (QListView 2) and vice versa.</strong> plz help me with your suggestions. Thanks in Advance.</p>\n"},{"tags":["qt","valgrind","profiler"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":12563366,"title":"Profile Qt Windows C++ application (free / low cost tools)","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/413477/is-there-a-good-valgrind-substitute-for-windows\">Is there a good Valgrind substitute for Windows?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to profile a C++ <strong>Windows only</strong> application (run time of methods, call, memory - \"the usual suspects\").</p>\n\n<ol>\n<li><a href=\"http://doc.qt.digia.com/qtcreator-2.4/creator-cache-profiler.html\" rel=\"nofollow\">Valgrind</a> only runs on Linux/Mac - cannot be used (Windows only)</li>\n<li><a href=\"http://qtunderground.org/wiki/Performance_Profiling_of_Qt_Applications\" rel=\"nofollow\">Qt Underground</a> recommends <a href=\"http://smartbear.com/products/qa-tools/application-performance-profiling/application-performance-profiling-tool\" rel=\"nofollow\">AQTime</a>, I could get a free trial (but for > USD 500 it is not an option)</li>\n<li>There's a similar SO question ( <a href=\"http://stackoverflow.com/questions/10238659/profiler-qt-application-for-windows\">Profiler QT application for windows</a> ), but basically it recommends Valgrind (1), which is <strong>not</strong> suitable for local Win debugging.</li>\n</ol>\n\n<p>Any ideas? I have a Visual Studio 2010 installed, could I use this for profiling a Qt App? Any other options?</p>\n\n<p>-- Edit --</p>\n\n<p>As of cmannett85's comment: </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/413842/356726\">http://stackoverflow.com/a/413842/356726</a> shows commercial tools </li>\n<li>SO <a href=\"http://stackoverflow.com/questions/413477/is-there-a-good-valgrind-substitute-for-windows\">Is there a good Valgrind substitute for Windows?</a> shows a lot of good hints, very much focused on memory. This is one aspect, but still looking also for run time analysis.</li>\n</ul>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12562088,"title":"QFileSystemModel::canFetchMore() returns false always","body":"<p>I have the following code in which i want to check if there are any sub directories exist. I expect the canFetchMore() fn to return true(since root directory contains sub directories). But it returns false. Is there any other fn to be called before calling canFetchMore() fn.</p>\n\n<pre><code>QFileSystemModel model;\nmodel.setFilter(QDir::AllDirs);\nmodel.setRootPath(\"/\");\nQModelIndex index = model.index(model.rootPath());\nqDebug()&lt;&lt;index.child(0,0).isValid()&lt;&lt;model.canFetchMore(index)&lt;&lt;index;\n</code></pre>\n\n<p>I have tried using hasChildren() fn and it returns always true irrespective of the folder contains sub-dirs or not.</p>\n"},{"tags":["multithreading","qt","documentation","qt4","qthread"],"answer_count":1,"favorite_count":7,"up_vote_count":16,"down_vote_count":0,"view_count":9251,"score":16,"question_id":4093159,"title":"what is the correct way to implement a QThread... (example please...)","body":"<p>The Qt documentation for QThread says to create a class from QThread, and to implement the run method. Below is taken from the 4.7 Qthread documentation...</p>\n\n<pre><code>To create your own threads, subclass QThread and reimplement run(). For example: \n\n class MyThread : public QThread\n {\n public:\n     void run();\n };\n\n void MyThread::run()\n {\n     QTcpSocket socket;\n     // connect QTcpSocket's signals somewhere meaningful\n     ...\n     socket.connectToHost(hostName, portNumber);\n     exec();\n }\n</code></pre>\n\n<p>So in every single thread I've created, I've done just that and for most things it works just fine (I do not implement moveToThread(this) in any of my objects and it works great).</p>\n\n<p>I hit a snag last week (managed to get through it by working around where I created my objects) and found the <a href=\"http://labs.qt.nokia.com/2010/06/17/youre-doing-it-wrong/\" rel=\"nofollow\">following blog post</a>. Here is basically says that subclassing QThread really isn't the correct way to do it (and that the documentation is incorrect).</p>\n\n<p>This is coming from a Qt developer... so at first glance I was interested and upon further reflection, agree with him. Following OO principles, you really only want to subclass a class to further enhance that class... not to just use the classes methods directly... thats why you instantiate... </p>\n\n<p>Lets say I wanted to move a custom QObject class to a thread... what would be the 'correct' way of doing it? In that blog post, he 'says' he has an example somewhere... but if someone could further explain it to me... I'd be greatly appreciated!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12561481,"title":"QTime->addSecs cause segmentation fault","body":"<p>I'm writing simple <em>pomodoro</em> application, which is basically countdown timer. Right now, I've got countdown working, but the weird thing is that when I add another attribute to my class (arbitrary), I get <strong>Sedmentation fault</strong> error.</p>\n\n<p>Using gdb, the problem should be here:</p>\n\n<pre><code>void Status::showPomodoroTime() {\n    QTime time = pomodoroTime-&gt;addSecs(elapsed);\n    activeTime-&gt;display(time.toString(\"mm:ss\"));\n}\n</code></pre>\n\n<p>where activeTime is QLCDNumber widget and elapsed is int.</p>\n\n<p>More context:</p>\n\n<pre><code>void Status::createDefaultIntervals()\n{\n    pomodoroInterval = new QTime(0, 25);\n    pomodoroBreak = new QTime(0, 5);\n    pomodoroLongBreak = new QTime(0, 15);\n}\n\nvoid Status::run()\n{\n    if (pomodoroActive == STOP) {\n        pomodoroTime = pomodoroInterval;\n        showPomodoroTime();\n    }\n    pomodoroActive = RUN;\n    updateStatusArea();\n    timerTick();\n}\n</code></pre>\n\n<p>CreateDefaultInterval definitely runs before showPomodoroTime.</p>\n\n<p>What bugs me, that whole application works fine. Just when I add another attribute, it starts to throw sedfault. </p>\n\n<p><strong>How can variable declaration in *.h file cause segfault in *.cpp?</strong></p>\n\n<p>If you want more code, I can put it anywhere. I just don't know, what place is persistent enough. Don't want to post it here (about 300 lines of code).</p>\n"},{"tags":["visual-studio-2010","qt","qt4"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":12554820,"title":"Qt and visual studio 2010 error","body":"<p>after building Qt using Visual Studio command prompt ,\nmy configure string: configure.exe -release</p>\n\n<p>I try to test my first hello world application</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;iostream&gt;\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    std::cout&lt;&lt;\"hello\";\n    return a.exec();\n}\n</code></pre>\n\n<p>but I got this error:</p>\n\n<blockquote>\n  <p>Error 1   error LNK1112: module machine type 'x64' conflicts with target machine type 'X86'   c:\\Users\\Kato\\documents\\visual studio 2010\\Projects\\qhelloworld\\qhelloworld\\QtCore4.lib(QtCore4.dll)    qhelloworld</p>\n</blockquote>\n\n<p>any help??</p>\n"},{"tags":["c++","qt","web-crawler"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12509847,"title":"Web crawler using Qt as pure terminal app","body":"<p>I have created a simple web crawler for a specific task using Qt in a GUI environment. Now, I would like to automatize it (using cron) and its necessary to use a pure non-GUI environment. I've tried to port the code to a non-GUI application without success.</p>\n\n<p>I have some questions:</p>\n\n<ol>\n<li><p>It's possible to use QWebPage in a pure non-GUI environment? (a\nLinux terminal). I've read some similar questions and I think that\nit is not possible, but I still have some doubts.</p></li>\n<li><p>If it isn't possible, How can I use Qt to program the web crawler\nfor a non-GUI application?. I'm familiarized with Qt (non an expert,\nof course) and if possible, I want to use it</p></li>\n<li><p>If it is still not possible, what libraries do you recommend to get\nand parse HTML pages? (multi-platform and C++, also Python, but it\nmeans I've to do again a lot of work)</p></li>\n</ol>\n\n<p>Edit:</p>\n\n<p>According to <a href=\"http://stackoverflow.com/a/6041606/670873\">this answer</a>, I can run my web crawler on the terminal, but I have to use a fake server. This is not a perfect solution but it allow me to program the task with cron. In future, I will explore python capacities for this task</p>\n"},{"tags":["qt","svg"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12464533,"title":"How can I verify a SVG doc is correct? (version 1.2)","body":"<p>I used a program called <a href=\"http://fritzing.org/\" rel=\"nofollow\">Fritzing</a> to draw some basic Arduino schematics, and then export the output as a SVG. This works just as expected, but then I noticed that the SVG output only looks okay in some browsers and only okay in some versions of Firefox.</p>\n\n<p>Since Fritzing is a open source app I figured that I could look into the code (and maybe help out a little).</p>\n\n<p><strong>But now over to the question, what is a correct SVG supposed to look like? What verifier over at W3C can I use to check the file?</strong></p>\n\n<p>I tried to use the verifiers found on this page: <a href=\"http://validator.w3.org/dev/tests/\" rel=\"nofollow\">http://validator.w3.org/dev/tests/</a></p>\n\n<p>But they all complained a lot, especially about the SVG version. The verifiers seem to like version 1.0 and 1.1, but when I look at the top of this file seems to be using <a href=\"http://www.w3.org/TR/SVG12/\" rel=\"nofollow\">version 1.2</a>?</p>\n\n<p>This is the top three lines from the problematic file (reformatted for readability):</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' standalone='no'?&gt;\n&lt;!-- Created with Fritzing (http://www.fritzing.org/) --&gt;\n&lt;svg width=\"3.50927in\"\n     x=\"0in\"\n     version=\"1.2\"\n     y=\"0in\"\n     xmlns=\"http://www.w3.org/2000/svg\"\n     height=\"2.81713in\"\n     viewBox=\"0 0 252.667 202.833\"\n     baseProfile=\"tiny\"\n     xmlns:svg=\"http://www.w3.org/2000/svg\"&gt;\n</code></pre>\n\n<p>Is there a specific SVG 1.2 verifier I can use? </p>\n\n<p>Or shall I try to verify the SVG as if it was a classical XML file? </p>\n\n<p>(As a side note, Fritzing seems to use Qt, so if there some QTest I can use it may be useful.)</p>\n"},{"tags":["c++","qt","reference","header"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12560903,"title":"Multiple definitions error: How to declare a reference in a header file?","body":"<pre><code>qtGUI.o:(.bss+0x0): multiple definition of `R'\nrWidgetPlots.o:(.bss+0x0): first defined here\nqtGUI.o:(.rodata+0x0): multiple definition of `qtToR'\nrWidgetPlots.o:(.rodata+0x0): first defined here\nmain.o:(.bss+0x0): multiple definition of `R'\nrWidgetPlots.o:(.bss+0x0): first defined here\nmain.o:(.rodata+0x0): multiple definition of `qtToR'\nrWidgetPlots.o:(.rodata+0x0): first defined here\nmoc_qtGUI.o:(.bss+0x0): multiple definition of `R'\nrWidgetPlots.o:(.bss+0x0): first defined here\nmoc_qtGUI.o:(.rodata+0x40): multiple definition of `qtToR'\nrWidgetPlots.o:(.rodata+0x0): first defined here\n</code></pre>\n\n<p><strong>rWidgetPlots.h</strong></p>\n\n<pre><code>#ifndef RWIDGETPLOTSH\n#define RWIDGETPLOTSH\n\n#include &lt;iostream&gt;\n#include &lt;RInside.h&gt;\n#include &lt;Rcpp.h&gt;\n#include &lt;vector&gt;\n#include &lt;limits&gt;\n#include &lt;QRect&gt;\n#include &lt;fstream&gt;\n#include \"zoomAndCornerDatabaseParser.h\"\n\nRInside R (0, NULL);\nRInside &amp; qtToR (R);\n\ntypedef struct\n{\n        double       latitude;\n        double       longitude;\n        unsigned int vehicleId;\n} vehicle;\n\nextern std :: vector &lt;vehicle&gt; vehicleInfo;\n\ntypedef struct\n{\n    float latitude;\n    float longitude;\n} coordinate;\n\nextern std :: vector &lt;coordinate&gt; previousPoints;\n\nclass rdaTilesOnR\n{\n    public:\n        static std :: string returnCenterPoint    (std :: string fileName);\n        static std :: string findPanningDirection (float newLatitude, float newLongitude,\n                        std :: string topLeftLat, std :: string topLeftLng, \n                        std :: string northEastLat, std :: string northEastLng, \n                    std :: string bottomRightLat, std :: string bottomRightLng, \n                    std :: string southWestLat, std :: string southWestLng);\n\n        static void storeVehicleInfo  (float latitude, float longitude, unsigned int vehicleId);\n\n        static void loadNewTileAndPlotPointsOnRWidget (unsigned short option, float newLongitude, float newLatitude);\n\n        static std :: string doesPointLieInBoundaries  (unsigned short option, float newLatitude, float newLongitude, float currentCenterLatitude, float currentCenterLongitude);\n};\n\n#endif\n</code></pre>\n\n<p><strong>qtGUI.h</strong></p>\n\n<pre><code>#ifndef QTGUIH\n#define QTGUIH\n\n#include &lt;QApplication&gt;\n#include &lt;QMainWindow&gt;\n#include &lt;QtCore&gt;\n#include &lt;QtGui&gt;\n#include &lt;QPushButton&gt;\n#include &lt;unistd.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string.h&gt;\n\n#include \"rWidgetPlots.h\"\n\nclass controlRThroughQt : public QWidget\n{\n    Q_OBJECT  \n\n    QTextEdit  *textEdit;\n\n    public:\n        void qtInterface ();\n\n    public slots:\n        void slotPanLeft     ();\n        void slotPanRight   ();\n        void slotPanTop      ();\n        void slotPanBottom ();\n        void slotZoomIn      ();\n        void slotZoomOut    ();\n        void slotRefresh      ();\n        void findInfoByClicking ();\n};\n\n#endif\n</code></pre>\n\n<p><strong><code>qtToR</code> here is a reference. It has to defined then and there. How to resolve this error?</strong> Using <code>extern</code> doesn't help.</p>\n"},{"tags":["c++","html","qt","pdf-generation"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":154,"score":3,"question_id":11629093,"title":"add working url into pdf, using qt + qprinter","body":"<p>Is there a simple way to add a working/clikable url into a pdf, using c++, qt and the qprinter class? To clarify it a little bit: I want to add the url during generating a new document. I'm not trying to edit an existing pdf. </p>\n"},{"tags":["qt","button"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12560691,"title":"How to enable the disabled button","body":"<p>I have a toolbutton which I want to disable when clicking on it (if it is enabled) and enable it when clicking on it (and it is disabled). The problem is that when clicking on it, I wrote the corresponding slot and it is disabling the button. So far it is working. But once disabled and you click on it, it does not jump to the slot, it is completely disabled forever. Am I using the wrong function or the wrong signal?</p>\n\n<pre><code>...\nbool mEnable = true;\n\nvoid Test::OnEnableButtonTriggered() {\n  mEnable = !mEnable;\n  ui.OnEnable-&gt;setEnabled(mEnable);\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":56,"score":0,"question_id":12560467,"title":"QT How to remove QTreeView Root decoration icon","body":"<p>I just want to remove the root decoration icon from the qtreeview but when set    </p>\n\n<p>treevivew->setRootIsDecorated(false); it is only removing top item but not from the child items which have childs intern.Pls let me know how to do that.</p>\n\n<p>Thanks,</p>\n"},{"tags":["qt","configure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":445,"score":1,"question_id":10817562,"title":"Qt configure freetype error","body":"<p>I am trying to build a QT for ARM cortex-8 board.</p>\n\n<p>I successfully installed Host configuration as per the given instruction: <a href=\"http://qt-project.org/wiki/Building_Qt_for_Embedded_Linux\" rel=\"nofollow\">http://qt-project.org/wiki/Building_Qt_for_Embedded_Linux</a></p>\n\n<p>at the time of ARM board target build configuration, i have created my own mkspec file\nlinux-TIarmv7-g++ which has configuration as below:</p>\n\n<pre><code>&gt; #\n&gt; # qmake configuration for building with arm-linux-g++\n&gt; #\n&gt; \n&gt; include(../../common/gcc-base-unix.conf)\n&gt; include(../../common/g++-unix.conf) include(../../common/linux.conf)\n&gt; include(../../common/qws.conf)\n&gt; \n&gt; # modifications to g++.conf\n&gt; #Toolchain\n&gt; \n&gt; \n&gt; #Compiler Flags to take advantage of the ARM architecture QMAKE_CFLAGS_RELEASE    = -O3 -march=armv7-a -mtune=cortex-a8 -mfpu=neon\n&gt; -mfloat-abi=softfp QMAKE_CXXFLAGS_RELEASE = -O3 -march=armv7-a -mtune=cortex-a8 -mfpu=neon -mfloat-abi=softfp QMAKE_CC                = arm-none-linux-gnueabi-gcc QMAKE_CXX               = arm-none-linux-gnueabi-g++ QMAKE_LINK              =\n&gt; arm-none-linux-gnueabi-g++ QMAKE_LINK_SHLIB        =\n&gt; arm-none-linux-gnueabi-g++\n&gt; \n&gt; # modifications to linux.conf QMAKE_AR = arm-none-linux-gnueabi-ar cqs QMAKE_OBJCOPY = arm-none-linux-gnueabi-objcopy QMAKE_STRIP =\n&gt; arm-none-linux-gnueabi-strip\n&gt; \n&gt; QMAKE_INCDIR += $$TSLIB_INCDIR QMAKE_LIBDIR += $$TSLIB_LIBDIR\n&gt; QMAKE_LIBS   += -lts\n&gt; \n&gt; load(qt_config)\n</code></pre>\n\n<p>I have already installed codesourcery toolchain, my environment is Ubuntu 12.04 64-bit operating system and target board is ARM-cortex8</p>\n\n<p>My configuration is like below:</p>\n\n<p>./configure -prefix /usr/local/qt-embedded -embedded arm -platform qws/linux-x86_64-g++ -xplatform qws/linux-TIarmv7-g++ -depths 16,24,32 -no-mmx -no-3dnow -no-sse -no-sse2 -no-glib -no-cups -no-largefile -no-accessibility -no-openssl -no-gtkstyle -qt-mouse-pc -qt-mouse-linuxtp -qt-mouse-linuxinput -plugin-mouse-linuxtp -plugin-mouse-pc -fast -confirm-license -v</p>\n\n<p>After execution and verbose i get below errors: related to freetype libraries</p>\n\n<pre><code>&gt; m-none-linux-gnueabi/bin/ld: cannot find -lts collect2: ld returned 1\n&gt; exit status make: *** [sound] Error 1 sound disabled. FreeType\n&gt; auto-detection... () arm-none-linux-gnueabi-g++ -c -pipe -O3\n&gt; -march=armv7-a -mtune=cortex-a8 -mfpu=neon -mfloat-abi=softfp -Wall -W  -I../../../mkspecs/qws/linux-TIarmv7-g++ -I. -o freetype.o freetype.cpp freetype.cpp:42:22: fatal error: ft2build.h: No such file\n&gt; or directory compilation terminated. make: *** [freetype.o] Error 1\n&gt; FreeType disabled. Determining machine byte-order...\n&gt; (/home/rootx/qt-everywhere-opensource-src-4.8.1/mkspecs/qws/linux-TIarmv7-g++\n&gt; yes /home/rootx/qt-everywhere-opensource-src-4.8.1\n&gt; /home/rootx/qt-everywhere-opensource-src-4.8.1)\n&gt; arm-none-linux-gnueabi-g++ -Wl,-O1 -o endiantest endiantest.o     -lts\n&gt; /home/rootx/toolchain/bin/../lib/gcc/arm-none-linux-gnueabi/4.6.1/../../../../arm-none-linux-gnueabi/bin/ld:\n&gt; cannot find -lts collect2: ld returned 1 exit status make: ***\n&gt; [endiantest] Error 1 Unknown byte order!\n&gt; \n&gt; The target system byte order could not be detected!\n</code></pre>\n\n<p>How to solve this error?</p>\n"},{"tags":["osx","qt","crash-reports"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12532718,"title":"How to set application version number in QT for mac OS?","body":"<p>How can I set the application version number for a QT application so that when it crashes on Mac OS it will get displayed in the crash log?</p>\n"}]}
{"total":16229,"page":15,"pagesize":100,"questions":[{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":64,"score":-1,"question_id":12558988,"title":"Qt : KeyPress event","body":"<p>i am starter in Qt and was implementing keypressevent.\nI want to handle keys in such a way that if 'A' is pressed it shoud print 'R' and press of other key i should print.</p>\n\n<p>How this type of activity can be handled in Qt...??</p>\n"},{"tags":["multithreading","qt","time","thread-safety"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12557835,"title":"Scheduling a thread with QTtimer?","body":"<p>I am working with an extended famous Producer-Consumer problem with threads (for a homework). I have a shared queue as \"my buffer\" and the producer needs to produce an \"element\" every second.</p>\n\n<p>I am using (my first time...) QT and I want a timer so that every second the producer will generate the element.</p>\n\n<p>I dont understand QTimer library... Can someone give me an advise of what library/functions I have to use for the timer? Is just that QTimer seems to be for GUI... If Qtimer is what I have to use, then how?</p>\n\n<p>Maybe this is a dumb question, but this little thing is taking me too much time... And I dont find an aswer. </p>\n"},{"tags":["qt","qt4.7","qlistview","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12551889,"title":"How to remove an Item from a List View?","body":"<p>I have a <strong>QLineEdit</strong>, 2 <strong>QPushButtons</strong> (Add &amp; Remove Buttons) and a <strong>QListView</strong>.\nI want to add the <strong>QLineEdit text to the QListView</strong> when the add button is clicked. Same way, I have to delete an item from the <strong>QListView</strong> if the remove button is clicked.\nI'm using a <strong>QStringListModel</strong> to add the <strong>QLineEdit</strong> text to the <strong>QListView</strong>. But I don't know how to delete the <strong>QListView item</strong>. How can I do this? Plz Help.. Thanks in Advance.</p>\n\n<pre><code>#ifndef  EXAMPLE_H\n#define  EXAMPLE_H\n#include &lt;QWidget&gt;\n#include &lt;QStringList&gt;\n#include &lt;QStringListModel&gt;\n\n\nclass EXAMPLE : public QWidget\n{\n    Q_OBJECT\n\n public:\n     explicit EXAMPLE(QWidget *parent = 0);\n     ~EXAMPLE();\n\n private slots:\n      void on_addButton_released();\n      void on_removeButon_released();\n\n private:\n      Ui::EXAMPLE *ui;\n      QStringList  stringList;\n };\n\n #endif // EXAMPLE_H\n\n\n    EXAMPLE.CPP\n\n    #include \"EXAMPLE.h\"\n    #include &lt;QStringListModel&gt;\n\n\n    EXAMPLE::EXAMPLE(QWidget *parent) :\n        QWidget(parent),\n        ui(new Ui::EXAMPLE)\n    {\n        ui-&gt;setupUi(this);\n        ui-&gt;listView-&gt;setModel(new QStringListModel(stringList));\n    }\n\n    EXAMPLE::~EXAMPLE()\n    {\n        delete ui;\n    }\n\n    void EXAMPLE::on_addButton_released()\n    {\n        stringList.append(ui-&gt;lineEdit-&gt;text());\n        ((QStringListModel*) ui-&gt;listView-&gt;model())-&gt;setStringList(stringList);\n        ui-&gt;lineEdit-&gt;clear();\n    }\n\n    void EXAMPLE::on_removeButon_released()\n    {\n\n    }\n</code></pre>\n"},{"tags":["python","qt","pyqt","pyside","qcombobox"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1746,"score":2,"question_id":5226091,"title":"Checkboxes in a Combobox using PyQt","body":"<p>I need to implement a drop down list that contains CheckBoxes, much like having the entries in a ComboBox being CheckBoxes. But QComboBox doesn't accept QCheckBox as its member and I couldn't find any alternate solution. I <a href=\"http://developer.qt.nokia.com/faq/answer/how_can_i_make_a_qcombobox_have_multiple_selection\" rel=\"nofollow\">found an implementation</a> in C++ at QT developer site by Nokia, but don't know how to port it to python.</p>\n"},{"tags":["qt","properties","metaobject"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12554819,"title":"overloading qt properties","body":"<p>I've got a property of a custom type. </p>\n\n<pre><code>class foo : public QObject {\n    Q_OBJECT\n    Q_PROPERTY(Custom x READ x WRITE set_x)\n\npublic: \n    void set_x(Custom &amp;x) { /*whatnot*/}\n}\n</code></pre>\n\n<p>QJson effectively invokes the following dynamic assignment:</p>\n\n<pre><code>((QObject*)&amp;foo_instance)-&gt;setProperty(\"x\", QVariant(QString(\"something-from-json\")))\n</code></pre>\n\n<p>which returns false, as documented in the Qt: </p>\n\n<p><em>If the value is not compatible with the property's type, the property is not changed, and false is returned.</em></p>\n\n<p>How can I shim this into my Custom value? Clearly defining a side-function <code>void set_x(QString)</code> or <code>void set_x(QVariant)</code> cannot possibly work, since the property system would be unaware of this accessor. </p>\n\n<p>Also, where is the type compatibility checked? - the program control never reaches </p>\n\n<p><code>int foo::qt_metacall(QMetaObject::Call _c, int _id, void **_a)</code></p>\n\n<p>the function generated by the meta-object compiler.. </p>\n\n<p>How can I make <code>Custom</code> compatible with these types?  </p>\n"},{"tags":["qt","qt4","qgraphicsview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12555616,"title":"How do I move a child QGraphicsItem while the parent is selected?","body":"<p>I'm trying to extend my Qt knowledge to <code>QGraphicsView</code> by implementing a diagram-ish application. Currently I'm able to select, drag and scale rectangles using handles. The <code>HandleItem</code>s  are children to a <code>ManipulatorItem</code> which in turn scales a <code>DiagramItem</code> of choice. I want to improve this by only showing the handles when the item is selected. My problem is this:</p>\n\n<ol>\n<li>If the item is selected, then the <code>itemChanged()</code> in <code>HandleItem</code> isn't called</li>\n<li>If the handle item <code>ItemIsSelectable</code> flag is set, it works, but the original item is obviously deselected.</li>\n</ol>\n\n<p>My question is: is it possible to send geometry changes to a child while the parent is still selected? Also, the handle item might also be outside the bounding rectangle of the parent item.</p>\n\n<p>The <code>DiagramItem</code> has the following flags: </p>\n\n<pre><code>setFlags(ItemIsMovable | ItemIsSelectable);\n</code></pre>\n\n<p>The <code>HandleItem</code> has the following flags: </p>\n\n<pre><code>setFlags(ItemIsMovable | ItemSendsGeometryChanges);\n</code></pre>\n"},{"tags":["c++","qt","opencv","include"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":713,"score":1,"question_id":10054616,"title":"Correct includes to use the new C++ API in opencv 2.3","body":"<p>I'm familiar with the old opencv 1, and used its C functions for a long time. However, I have problems with switching to the C++ API of opencv 2.3</p>\n\n<p>I downloaded the latest stable version (2.3.1), but the examples in it use either the old C functions, or include <code>\"opencv2/highgui/highgui.hpp\"</code>.</p>\n\n<p>The problem is, <strong>the only file in my <code>include/opencv2</code> directory is <code>opencv.hpp</code></strong>. If I include that, there are a lot of paths which are incorrect.\nInside of <code>opencv.hpp</code> there are such things as:</p>\n\n<pre><code>#include \"opencv2/core/core_c.h\"\n#include \"opencv2/core/core.hpp\"\n#include \"opencv2/flann/miniflann.hpp\"\n#include \"opencv2/imgproc/imgproc_c.h\"\n</code></pre>\n\n<p>etc.</p>\n\n<p>However, in my opencv directory, the include files are in folders like: </p>\n\n<pre><code>modules/core/include/opencv2/core\nmodules/flann/include/opencv2/flann\nmodules/imgproc/include/opencv2/imgproc\n</code></pre>\n\n<p>etc. </p>\n\n<p>So, what is the point of that <code>opencv.hpp</code>, if I have to specify the include path manually for every single header? On the opencv site (http://opencv.willowgarage.com) the tutorials are either hopelessly outdated, or they don't address this question at all and jump straight to the algorithms.</p>\n\n<p><strong>Edit:</strong> I'm using Qt, if that matters. I downloaded the source from <a href=\"http://code.opencv.org/svn/opencv/branches/2.3/\" rel=\"nofollow\">http://code.opencv.org/svn/opencv/branches/2.3/</a> and built it successfully.</p>\n\n<p><strong>Edit2:</strong> Yes, it mattered. One of the Qt headers was missing, and so the building process of opencv skipped a few libraries.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12554862,"title":"Mouse events aren't passed to QPushButton added in QGraphicsItemGroup","body":"<p>I'm using Qt 4.8.3 (32 bit) on Windows 7 Ultimate x64.</p>\n\n<p>In a constructor of a <code>QGraphicsScene</code> subclass, I have:</p>\n\n<pre><code>QGraphicsItemGroup *point_table = new QGraphicsItemGroup;\naddItem(point_table);\n</code></pre>\n\n<p>Later in the constructor:</p>\n\n<pre><code>QPushButton *button = new QPushButton(\"Call++\");\nQGraphicsProxyWidget *inc_button = addWidget(button);\nconnect(button, SIGNAL(clicked()), this, SLOT(onCallIncrease()));\n</code></pre>\n\n<p><code>onCallIncrease()</code> gets called whenever the button is clicked. However, if I add <code>inc_button</code> to <code>point_table</code>, <code>onCallIncrease()</code> doesn't get called.</p>\n\n<pre><code>QPushButton *button = new QPushButton(\"Call++\");\nQGraphicsProxyWidget *inc_button = addWidget(button);\npoint_table-&gt;addToGroup(inc_button);\nconnect(button, SIGNAL(clicked()), this, SLOT(onCallIncrease())); // doesn't work\n</code></pre>\n\n<p>Even if I manually set to accept left mouse button:</p>\n\n<pre><code>QPushButton *button = new QPushButton(\"Call++\");\nQGraphicsProxyWidget *inc_button = addWidget(button);\ninc_button-&gt;setAcceptedMouseButtons(Qt::LeftButton);\npoint_table-&gt;setAcceptedMouseButtons(Qt::LeftButton);\npoint_table-&gt;addToGroup(inc_button);\nconnect(button, SIGNAL(clicked()), this, SLOT(onCallIncrease())); // doesn't work\n</code></pre>\n\n<p><code>onCallIncrease()</code> doesn't get called on left mouse click. Why is this happening?</p>\n"},{"tags":["qt","printing","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":9397933,"title":"Printing more than one QWebFrame on a page","body":"<p>I want to print more than one QWebFrame on a page,</p>\n\n<p><code>QWebFrame::Print()</code> is printing each webframe on a different page, and I tried <code>QWebFrame::render()</code> on a painter but I only get white pages...</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12554484,"title":"Qt - Info not loading in ListView","body":"<p>I have a QListView which uses a model to load information to it. Bug when I insert new Rows into the model, it doesn't show up in the QListView. These are the codes I used:</p>\n\n<p>in header:</p>\n\n<pre><code>bugModel = new QStandardItemModel();\nui-&gt;bugList-&gt;setModel(bugModel);\n</code></pre>\n\n<p>in cpp (when button pressed):</p>\n\n<pre><code>bugModel-&gt;insertRows(bugModel-&gt;rowCount(), 1);\nbugModel-&gt;setData(bugModel-&gt;index(bugModel-&gt;rowCount()-1,0), \"Test\");\n</code></pre>\n\n<p>What could be the problem?</p>\n\n<p>P.S The function does get called when the button is pressed as I checked it using qDebug().</p>\n"},{"tags":["qt","sorting","qt4.7","qlistview","qstandarditemmodel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12552693,"title":"How to Sort ListView Items in Ascending Order?","body":"<p>I Tried to Sort my ListView Items in Ascending Order,  so i tried with </p>\n\n<pre><code>Model-&gt;sort(int Column, Qt::AscendingOrder)\n</code></pre>\n\n<p>It Works Fine, but I don't like the Qt::AscendingOrder policy. Indeed the function first sorts words beginning with an uppercase character and then sorts the other words starting with a lowercase character. Then it concatenates both results together.\nFor Eg:</p>\n\n<pre><code>My ListView Items are: apple\n                       Ball\n                       rose\n                       cat\n                       Orange\n\nAnd i'm getting the output as:  Ball\n                                Orange\n                                apple\n                                cat\n                                rose\n</code></pre>\n\n<p>Is there any way to customize the Sort Policy? Plz Help me... Thanks in Advance.</p>\n"},{"tags":["c++","json","api","qt","google-books"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12553122,"title":"Accessing Googles Book API via C++ and Qt","body":"<p>I like to get Information from the <a href=\"https://developers.google.com/books/\" rel=\"nofollow\">Google Books API</a>. </p>\n\n<p>Therefore I need to perform a http request like this: </p>\n\n<p><a href=\"https://www.googleapis.com/books/v1/volumes?q=isbn:3826615956\" rel=\"nofollow\">https://www.googleapis.com/books/v1/volumes?q=isbn:3826615956</a> and retrieve an JSON formated document. </p>\n\n<p>Then it's necessary to extract just some variables from the document. So My Questions are:</p>\n\n<ol>\n<li>Is there any Class in Qt to Access JSON docs and/or to perform the http requests.</li>\n<li>If not, how can I manage that with pure c++? Is there any similair example available?</li>\n</ol>\n"},{"tags":["android","qt","android-ndk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1748,"score":1,"question_id":8453753,"title":"How do I fix Android packaging error for Necessitas (Qt)?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5422931/how-to-build-my-helloworld-android-application-with-necessitas-qt-port\">How to build my HelloWorld Android application with Necessitas (qt port)?</a>  </p>\n</blockquote>\n\n\n\n<p>This is my first time posting here, so if this post seems like it should be in a different section feel free to let me know =).</p>\n\n<p>I am trying to run a simple application for Android using Necessitas. The application does not have any functionality; all it does is display (or is supposed to display) a button on the screen. I am just doing this as a test to get a feel for Necessitas before I start any serious development. When I hit the ‘run’ button Necessitas begins to build my application, but then stops and displays the following error message:</p>\n\n<blockquote>\n  <p>Packaging Error: Command\n  ‘C:\\Users\\Catalyst\\necessitas/apache-ant-1.8.2/bin/ant.bat clean\n  debug’ failed.Exit code: 1 Error while building project atest2\n  (target: Android) When executing build step ‘Packaging for Android’</p>\n</blockquote>\n\n<p>A search on Google did not produce any instructions to help remedy my issue. I also posted this question in the Qt developer forum. It's been nearly a week since I posted there and no one answered. Please help me! I have a lot of great ideas for apps that I would like to start developing ASAP!</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":165,"score":1,"question_id":12541060,"title":"The program has unexpectedly finished - QT creator","body":"<p>I am trying to use QT creator to develop GUI/Console applications using QT framework. I am using windows XP. I installed QT 4.8.3 and mingw. Both are installed without any error. \nAnd then I installed QT creator. \n     QT Version: Qt 4.8.2 in PATH (4.8.2)\n     Mingw(manual)<br>\n     Compiler path: C:\\MinGW\\bin\\g++.exe\n     Debugger path: C:\\MinGW\\bin\\gdb.exe\n     mkspec:        win32-g++</p>\n\n<pre><code> EnvironmentVariables:\n QTDIR, PATH, MinGW, \n PATH includes 4.8.2\\bin; mingw\\bin \n INCLUDE : 4.8.2\\include\n</code></pre>\n\n<p>When i try to develop an application using qt creator, it has been built properly and binary is also generated without any error. \nBut when I try to run the application, It is crashed saying that</p>\n\n<p>The program has unexpectedly finished.\n  C:\\Qt\\4.8.2\\examples\\widgets\\analogclock-build-desktop-Qt_4_8_2_in_PATH__4_8_2__Debug\\debug\\analogclock.exe exited with code -1073741819</p>\n\n<p>This crash came for example application provided by QT library( it is analog clock) </p>\n\n<p>Please try to help me in this, Do  I need to set any variables or other </p>\n\n<p>Thank alot.</p>\n"},{"tags":["c++","linux","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":105,"score":3,"question_id":12546031,"title":"QFileDialog::getSaveFileName and default selectedFilter","body":"<p>I have getSaveFileName with some filters and I want one of them to be selected when user opens the \"Save\" dialog. Qt documentation says the following:</p>\n\n<blockquote>\n  <p>The default filter can be chosen by setting selectedFilter to the desired value.</p>\n</blockquote>\n\n<p>I try the following variant:\n</p>\n\n<pre><code>QString selFilter=\"All files (*.*)\";\nQFileDialog::getSaveFileName(this,\"Save file\",QDir::currentPath(),\n    \"Text files (*.txt);;All files (*.*)\",&amp;selFilter);\n</code></pre>\n\n<p>But when the dialog appears, the \"Text files\" filter (in general case, the first filter from the list) is selected. I also tried all of the following:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>selFilter=\"All files\";\nselFilter=\"All files (*.*)\\n\";\nselFilter=\"All files (*.*);;\";\nselFilter=\"All files (*.*)\\0\";\n</code></pre>\n\n<p>and different mixtures of this variants. The format of the filter list in my code is done according to the documentation (example line from Qt docs):\n</p>\n\n<pre><code>\"Images (*.png *.xpm *.jpg);;Text files (*.txt);;XML files (*.xml)\"\n</code></pre>\n\n<p>Note that output to selFilter variable works properly: after user press OK, selFilter variable contains the filter selected by the user.</p>\n\n<p>Platform: Linux(OpenSUSE 12.1), Qt 4.7.4, gcc 4.6.2.</p>\n\n<p>So how to set up the default filter?!</p>\n"},{"tags":["android","qt","window-decoration"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12550438,"title":"Qt + Android - Necessitas - top level windows decoration","body":"<p>Recently I've built my first Qt application for Android (using necessitas).</p>\n\n<p>It works fine but (full-screen application) ...</p>\n\n<p>The message boxes are not decorated and located always in the top-left corner of the screen. </p>\n\n<p>How can I simple decorate them with standard decoration and restore centering behavior?</p>\n"},{"tags":["qt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12498616,"title":"How to add QInputDialog.getText text inside a QGraphicsPolygonItem?","body":"<p>I'm building in PyQt4 and can't figure out how to add text to a QGraphicsPolygonItem. The idea is to have text set in the middle of a rectangular box after a user double clicks (and gets a dialog box via QInputDialog.getText).</p>\n\n<p>The class is:</p>\n\n<pre><code>class DiagramItem(QtGui.QGraphicsPolygonItem):\n    def __init__(self, diagramType, contextMenu, parent=None, scene=None):\n      super(DiagramItem, self).__init__(parent, scene)\n      path = QtGui.QPainterPath()\n      rect = self.outlineRect()\n      path.addRoundRect(rect, self.roundness(rect.width()), self.roundness(rect.height()))\n      self.myPolygon = path.toFillPolygon()\n</code></pre>\n\n<p>My double mouse click event looks like this, but updates nothing!</p>\n\n<pre><code>def mouseDoubleClickEvent(self, event):\n    text, ok = QtGui.QInputDialog.getText(QtGui.QInputDialog(),'Create Region Title','Enter Region Name: ', \\\nQtGui.QLineEdit.Normal, 'region name')\n    if ok:\n        self.myText = str(text)\n        pic = QtGui.QPicture()\n        qp = QtGui.QPainter(pic)\n        qp.setFont(QtGui.QFont('Arial', 40))\n        qp.drawText(10,10,200,200, QtCore.Qt.AlignCenter, self.myText)\n        qp.end()\n</code></pre>\n"},{"tags":["qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12512318,"title":"QML FolderListModel filter out the files and display only folders","body":"<p>How to make FolderListModel component to filter the files and contain only directories. I want to display only directories in a list view.</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12549281,"title":"Qt/PyQt: How do I use a QMenu as a permanent widget?","body":"<p>I would like to use a QMenu as a permanent widget in the gui. (I like its appearance and layout, and the fact that as soon as I hover over it, the requisite menu pops up, no clicking needed. It would be a pain in the neck to try and emulate it with a custom widget.) I have tried adding it to a parent widget's layout, but after the first time it is used, it disappears. How would I go about keeping it there?</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12546257,"title":"QVariant constructor is private","body":"<p>Im usIng Qt Creator, just for fun, to write a little application that displays in a string in QML from a C++ object.  The object is a class I wrote that simply extends <code>QObject</code> (and yes the <code>Q_OBJECT</code> macro is present in its header file).  The IDE generates a main program with a <code>QDeclarativeView</code> with a simple QML file. I just call <code>view.getRootContext()-&gt;setContextProperty</code> and pass in that object with a string identifier.  When building, I get the error <code>QVariant (void*)</code> private in this context. If I comment that one line out, it works but I can't pass the object to QML.</p>\n\n<p>I know this must be a common issue because I'm just trying to pick up Qt so there is very little going on in my code? Is there some form of configuration that's wrong here?</p>\n\n<p>EDIT  Sorry I was on a mobile before and couldn't include source code.  Here it is.  Not sure why it came out the way it did.</p>\n\n<pre><code>#ifndef WEBSERVICEPROXY_H\n#define WEBSERVICEPROXY_H\n\n#include &lt;QObject&gt;\n#include &lt;QtNetwork/QNetworkAccessManager&gt;\n\n/**\n * Proxy class for delivering web service responses to the UI.\n *\n *\n */\nclass WebServiceProxy : public QObject\n{\n    Q_OBJECT\n    // properties\n    Q_PROPERTY(QString accessible READ accessiblityString NOTIFY accessibilityChanged)\n\nprivate:\n    QNetworkAccessManager *_mgr;\n\n    QString m_accessible;\n\npublic:\n    explicit WebServiceProxy();\n    QString accessiblityString() const;\n\nsignals:\n    // We'll connect the accessible signal of QNetworkAccessManager to this one.\n    void accessibilityChanged(QNetworkAccessManager::NetworkAccessibility accessilityObj);\n\npublic slots:\n\n};\n\n#endif // WEBSERVICEPROXY_H\n</code></pre>\n\n<p>And here is the main:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QDeclarativeContext&gt;\n#include \"qmlapplicationviewer.h\"\n#include \"webserviceproxy.h\"\n\nQ_DECL_EXPORT int main(int argc, char *argv[])\n{\n    QScopedPointer&lt;QApplication&gt; app(createApplication(argc, argv));\n\n    WebServiceProxy proxy;\n\n    QmlApplicationViewer viewer;\n    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);\n    viewer.rootContext()-&gt;setProperty(\"proxy\", &amp;proxy);\n    viewer.setMainQmlFile(QLatin1String(\"qml/uiaccuweather/main.qml\"));\n    viewer.showExpanded();\n\n    return app-&gt;exec();\n}\n</code></pre>\n"},{"tags":["python","qt","margin","padding","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":66,"score":1,"question_id":12547945,"title":"Cannot QWidget margins, empty space between widgets","body":"<p>I have a problem with empty space between widgets in my QT code.\nI tried with padding, margins but nothing...</p>\n\n<p>Tried to set styles and setMargin on QWidget, QVBoxLayout but without any result.</p>\n\n<p>Screenshot: <a href=\"http://imageshack.us/a/img515/4796/gami.png\" rel=\"nofollow\">http://imageshack.us/a/img515/4796/gami.png</a></p>\n\n<pre><code>def __init__(self, GamiObject):\n    \"\"\" Create initial window to put contents of installer to (layout) \"\"\"\n\n    self.Gami = GamiObject\n    self.app = QApplication(sys.argv)\n    self.window = QWidget()\n    self.window.setWindowTitle(\"Instalator systemu Gentoo Linux\")\n\n    self.window.setMinimumSize(600, 350)\n    self.layout = QVBoxLayout()\n    self.layout.setMargin(0)\n\n    # Title layout {\n    TLay = QWidget()\n    TLay.setAttribute(Qt.WA_TranslucentBackground, True)\n    TLay.setStyleSheet(\"margin: 0; padding: 0; background-color: rgb(20,20,20, 50%);\")\n    TLay.setMaximumHeight(80)  \n    TLay.setMinimumHeight(80)\n\n\n    TLayStyle = QHBoxLayout()\n    #TLayStyle.setAttribute(Qt.WA_TranslucentBackground, True)\n    TLayStyle.addWidget(QLabel(\"Etap 1/4 - wybor lokalizacji\"))\n\n    TLay.setLayout(TLayStyle)\n    # Title layout }\n\n    # Empty space {\n\n    self.Content = QFrame()\n\n    # Empty Space }\n\n    # Down layout {\n    HBox = QWidget()\n    HBoxLayout = QHBoxLayout()\n    HBoxLayout.setSpacing(10)\n    HBoxLayout.setMargin(0)\n\n    buttonBack = QPushButton(\"Wstecz\")\n    buttonNext = QPushButton(\"Dalej\")\n\n    # Signals\n    self.window.connect(buttonBack, SIGNAL(\"clicked()\"), self.Gami.previousStep)\n    self.window.connect(buttonNext, SIGNAL(\"clicked()\"), self.Gami.nextStep)\n\n    self.Gami.Hooking.connectHook(\"Gami.previousStep\", self.buttonPrevious)\n    self.Gami.Hooking.connectHook(\"Gami.nextStep\", self.buttonNext)\n\n    #buttonBack.setMinimumWidth(50)\n    buttonBack.setMaximumWidth(100)\n    buttonBack.setMinimumWidth(90)\n    buttonBack.setMinimumHeight(45)\n    buttonBack.setDisabled(True)\n\n    #buttonNext.setMinimumWidth(50)\n    buttonNext.setMaximumWidth(100)\n    buttonNext.setMinimumWidth(90)\n    buttonNext.setMinimumHeight(45)\n\n\n    HBoxLayout.addWidget(buttonBack, 1, alignment=Qt.Alignment(2))\n    HBoxLayout.addWidget(buttonNext, 0, alignment=Qt.Alignment(2))\n    HBox.setLayout(HBoxLayout)\n    HBox.setStyleSheet(\"margin: 4px;\")\n\n    # Down layout }\n\n    self.layout.addWidget(TLay)\n    self.layout.addWidget(self.Content, 1)\n    self.layout.addWidget(HBox)\n\n    self.window.setLayout(self.layout)\n    self.window.show()\n\n    self.app.exec_()\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12545286,"title":"Select Word under mouse pointer in Qt","body":"<p>I need to highlight and get the word under the mouse pointer when i press the right click in a QTextBrowser. I already implemented the <strong>showContextMenu</strong> function for the <strong>QTextBrowser</strong> for the right mouse click thing. However i can't highlight the word under the mouse pointer and extract it. I found the following solution online:</p>\n\n<pre><code>QTextCursor tc = txtBrwsr-&gt;textCursor();\ntc.select(QTextCursor::WordUnderCursor);\nQString word = tc.selectedText();\n</code></pre>\n\n<p>However, it is not working and the <strong>word</strong> is empty, my aim behind this is to get the word and highlight it even if the user didn't highlight the word before pressing the right mouse click.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["c++","qt","qt-stylesheet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12533107,"title":"Qt Stylesheet button background color","body":"<p>I'm using a style sheet to set the background color of a QPushbutton:</p>\n\n<pre><code>QPushButton {\n     background-color: red;\n     border-style: outset;\n     border-width: 2px;\n     border-color: beige;\n}\n</code></pre>\n\n<p>This is working but when I change the background-color of QWidget as well, the button has the same background-color as the QWidget (in this example the button is black instead of red).</p>\n\n<pre><code>QWidget {\n    background-color: black;\n}\n</code></pre>\n\n<p>Does anyone knows how to get the button colored when setting the background-color of the QWidget?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12546105,"title":"Qt - QTreeWidgetItem not being edited","body":"<p>Why is my QTreeWidgetItem not being editable? I used this code to implement one:</p>\n\n<pre><code>ui-&gt;treeWidget-&gt;expandAll();\nQTreeWidgetItem *item = new QTreeWidgetItem();\nitem-&gt;setText(0, \"Add details about your Bug\");\nbug-&gt;addChild(item);\nui-&gt;treeWidget-&gt;editItem(item, 0);\n</code></pre>\n"},{"tags":["qt","qsqltablemodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":177,"score":0,"question_id":11231632,"title":"Default DB values during inserting new record to QSqlTableModel","body":"<p>How to insert new record to QSqlTableModel with respect to default values of DB?\nUPD:\nI am trying to call <code>pTableModel-&gt;insertRecord(0, pTableModel-&gt;record(0));</code>\nor <code>pTableModel-&gt;insertRecord(0, pTableModel-&gt;record());</code>\nor <code>pTableModel-&gt;insertRecord(QSqlDatabase::database().record(\"tableName\"));</code>\nor <code>pTableModel-&gt;insertRow(0);</code></p>\n\n<p>Result the same, all fields are NULL instead of default values of DB.</p>\n"},{"tags":["qt","include","preprocessor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":10885387,"title":"Selectively include headers in Qt using preprocessors","body":"<p>I am trying to include windows specific headers on a cross-platform project in the following way.</p>\n\n<pre><code>#ifdef Q_OS_WIN\n#include \"qt_windows.h\"\n#include \"Shellapi.h\"\n#endif\n</code></pre>\n\n<p>For some reasons, the files are not included properly. </p>\n\n<p><strong>Note:</strong> I am using mingw-gcc compiler.</p>\n"},{"tags":["c++","qt","qt-creator","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":12542815,"title":"Needing a working example on how to use QThreadPool","body":"<p>I want to use multiThreading webkit with <code>QThreadPool</code></p>\n\n<p>My code is:</p>\n\n<p><strong>webkitrunnable.cpp:</strong></p>\n\n<pre><code>webkitRunnable::webkitRunnable(QUrl inputURL) : url(inputURL)\n{\n    init();\n}\n\nvoid webkitRunnable::run()\n{\n    qDebug() &lt;&lt; \"run ...\";\n    qDebug() &lt;&lt; \"webkit runnable --&gt; \" &lt;&lt; url;\n\n    loadPage(url);\n}\n\nvoid webkitRunnable::init()\n{\n    qDebug() &lt;&lt; \"WebKit--&gt; init webkit\";\n    webView = new QWebView;\n\n    connect(webView, SIGNAL(loadFinished(bool)), SLOT(finishLoading(bool)));\n\n    manager = new QNetworkAccessManager(this);\n\n    manager = webView-&gt;page()-&gt;networkAccessManager();\n\n    webView-&gt;page()-&gt;setNetworkAccessManager(manager);\n\n    connect(manager, SIGNAL(finished(QNetworkReply*)),this, SLOT(replyFinished(QNetworkReply*)));\n}\n\nvoid webkitRunnable::finishLoading(bool)\n{\n    qDebug() &lt;&lt; \"WebKit--&gt; finish loading\";\n}\n\nvoid webkitRunnable::replyFinished(QNetworkReply* Reply)\n{\n    qDebug() &lt;&lt; \"WebKit--&gt; reply Finished\";\n}\n\nvoid webkitRunnable::loadPage(QUrl url)\n{\n    qDebug() &lt;&lt; \"WebKit--&gt; load Page\";\n    webView-&gt;load(url);\n    webView-&gt;setFocus();\n}\n</code></pre>\n\n<p><strong>webkitrunnable.h:</strong></p>\n\n<pre><code>class webkitRunnable : public QObject, public QRunnable\n{\n    Q_OBJECT\n\npublic:\n    webkitRunnable(QUrl inputURL);\n\n    void loadPage(QUrl url);\n\nprotected:\n    void run();\n\nsignals:\n\npublic slots:\n    void finishLoading(bool);\n    void replyFinished(QNetworkReply*);\n\nprivate:\n    void    init();\n\n    QUrl                    url;\n    QNetworkAccessManager   *manager;\n    QWebView                *webView;\n};\n</code></pre>\n\n<p><strong>mythread.cpp:</strong></p>\n\n<pre><code>MyThread::MyThread(QObject *parent) :\n    QObject(parent)\n{\n    threadPool = new QThreadPool(this);\n    threadPool-&gt;setMaxThreadCount(20);\n\n    webkit = new webkitRunnable(QUrl(\"http://www.google.com/\"));\n}\n\nMyThread::~MyThread()\n{\n    delete threadPool;\n}\n\nvoid MyThread::startMultiThreadLoad(QUrl url)\n{\n    webkit = new webkitRunnable(url);\n\n    connect(webkit, SIGNAL(threadFinished(int)), this, SLOT(finished(int)), Qt::QueuedConnection);\n\n    for (int i = 0; i &lt; threadPool-&gt;maxThreadCount(); i++)\n    {\n        threadPool-&gt;start(webkit);\n        qDebug() &lt;&lt; \"start(active):\" &lt;&lt; threadPool-&gt;activeThreadCount();\n    }\n}\n\nvoid MyThread::finished(int number)\n{\n    qDebug() &lt;&lt; \"thread number is: \" &lt;&lt; number;\n    qDebug() &lt;&lt; \"finished(active):\" &lt;&lt; threadPool-&gt;activeThreadCount();\n}\n</code></pre>\n\n<p>mythread.h:</p>\n\n<pre><code>class MyThread : public QObject\n{\n    Q_OBJECT\npublic:\n    explicit MyThread(QObject *parent = 0);\n    ~MyThread();\n    void startMultiThreadLoad(QUrl url);\n\npublic slots:\n    void finished(int);\n\nprivate:\n    webkitRunnable* webkit;\n    QUrl            globalURL;\n\n    QThreadPool     *threadPool;\n};\n</code></pre>\n\n<p>Whenever <code>webkit-&gt;load()</code> is executed, I got the following Application Output in Qt Creator:</p>\n\n<pre><code>QObject: Cannot create children for a parent that is in a different thread.\n(Parent is QNetworkAccessManager(0x6f1598), parent's thread is QThread(0x65dfd0), current thread is QThread(0x6ccd28)\n</code></pre>\n\n<p>How can I solve it? Can anyone give an example?\nThanks</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":12540955,"title":"Qt images using checkboxes","body":"<p>I want to add images in Qt and make them work with check boxes. How can I do that?\nCan I use the <code>ischecked()</code> funtion for that or should I use signals and slots?</p>\n"},{"tags":["windows","qt","libqxt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12545335,"title":"Configure qxt library under Windows","body":"<p>I want to include into my Qt 4.8.1 project the Qxt 0.6.2 library.\nI followed the steps from their user guide and at the end the library was installed in: C:\\Qxt. I have added these two lines in my project .pro file:</p>\n\n<pre><code>CONFIG   += qxt\nQXT      += core gui\n</code></pre>\n\n<p>and when i compile the following error appears:</p>\n\n<pre><code>error: cannot find -lQxtGuid\n</code></pre>\n\n<p>Also in C:\\Qxt\\doc no documentation was generated and the command assistant -addContentFile C:\\libqxt\\doc\\html\\qxt.dcf is not working nor the file qxt.dcf exists.</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","orm","foreign-keys","qdjango"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12545332,"title":"qdjango foreign keys","body":"<p>Quick googling returned no results on how to properly use QDjango's Foreign Keys - there are functions </p>\n\n<p><code>QDjangoModel::foreignKey</code> and <code>QDjangoModel::setForeignKey</code> - but I couldn't find any good examples on how to use them in practice.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12525572,"title":"Qt - Disable editing of cell","body":"<p>I have a <code>QTableView</code> (model based) and I want to disable the editing capability of a particular cell, let's say row 0, column 1. </p>\n\n<p>How can I do this? Please note that I still want other cells in this row enabled for editing.</p>\n"},{"tags":["python","xcode","qt","pyqt4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12544328,"title":"Can I develop Qt GUI in Xcode with Python ??","body":"<p>I am a newbie Python programer. I have developed my logic in Python, i want to develop the GUI with Qt using PyQt4. How do I start about ?? Can I start in XCode ?? </p>\n"},{"tags":["qt","sqlite","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":589,"score":0,"question_id":2650680,"title":"PyQt error: QSqlDatabasePrivate::database: unable to open database","body":"<p>What is the cause of following error:\nQSqlDatabasePrivate::database: unable to open database: unable to open database\nfile Error opening database?</p>\n\n<p>Code is 100% correct, this message appeared when I have reinstalled Windows, Python and PyQt.</p>\n\n<p>EDIT: I have \"read-only\" flag in folder with .db file properties. It stays gray (half-checked) when I unset it and open folder properties again. I have unset \"use simple sharing\" flag in folder properties, I have administrator rights, there is no viruses on my computer as I can see. This nasty problem doesn't have a solution on Super User too. How to set proper permissions for sqlite for this folder and file?</p>\n"},{"tags":["qt","event-handling","qml","qt-quick"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":220,"score":1,"question_id":9677371,"title":"QML Keys.onEnterPressed issue","body":"<p>I have an QtQuick project for Desktop, it very simple:</p>\n\n<pre><code>// import QtQuick 1.0 // to target S60 5th Edition or Maemo 5\nimport QtQuick 1.1\n\nRectangle {\n    width: 360\n    height: 360\n    Grid\n    {\n        id: xGrid\n        width: parent.width\n        height: parent.height\n        columns: 2\n        spacing: 1\n\n        Rectangle\n        {\n            height: parent.height\n            width: 10\n            color: \"#ff0000\"\n            Text {\n                id: xText\n                text: qsTr(\"t\\na\\ns\")\n            }\n        }\n        TextEdit\n        {\n            id: xTextEdit\n            height: parent.height\n            width: 350\n            Keys.onEnterPressed: {\n                console.log(event.key)\n                xText.text = (qsTr(\"A\"))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My code does not reun as I want, the Keys.onEnterPressed seem never be captured, so I try Keys.onPressed it work but not sure why when I press Enter, the even.key return 16777220.<br>\nAny one get this issue? How can you sloved it?<br>\nThanks for your answer!</p>\n"},{"tags":["linux","qt","ubuntu-12.04"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12478387,"title":"Can't run demos of Qt","body":"<p>I just installed Qt. I tried to run some demos but I cannot run any, this is the message:</p>\n\n<blockquote>\n  <p>Cannot create file /opt/QtSDK/Demos/4.7/chip/chip.pro.user: Permission\n  denied</p>\n</blockquote>\n\n<p>To avoid this in the future, how can I set permissions to any program I install? </p>\n\n<p>I'm new to using linux, I'm using Ubuntu 12.04.</p>\n"},{"tags":["c++","qt","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12158565,"title":"Walk a directory recursively in QT, skip the folders \".\" and \"..\"","body":"<p>I have a little trouble using the QT functions to walk through a directory recursively.\nWhat I'm trying to do:</p>\n\n<p>Open a specified directory.\nWalk through the directory, and each time it encounters another directory, open that directory, walk through the files, etc.</p>\n\n<p>Now, how I am going about this:</p>\n\n<pre><code>QString dir = QFileDialog::getExistingDirectory(this, \"Select directory\");\nif(!dir.isNull()) {\n    ReadDir(dir);\n}\n\nvoid Mainwindow::ReadDir(QString path) {\n    QDir dir(path);                            //Opens the path\n    QFileInfoList files = dir.entryInfoList(); //Gets the file information\n    foreach(const QFileInfo &amp;fi, files) {      //Loops through the found files.\n        QString Path = fi.absoluteFilePath();  //Gets the absolute file path\n        if(fi.isDir()) ReadDir(Path);          //Recursively goes through all the directories.\n        else {\n            //Do stuff with the found file.\n        }\n    }\n}\n</code></pre>\n\n<p>Now, the actual problem I'm facing: Naturally, entryInfoList would also return the '.' and '..' directories. With this setup, this proves a major problem.</p>\n\n<p>By going into '.', it would go through the entire directory twice, or even infinitely (because '.' is always the first element), with '..' it would redo the process for all folders beneath the parent directory.</p>\n\n<p>I would like to do this nice and sleek, is there any way to go about this, I am not aware of? Or is the only way, that I get the plain filename (without the path) and check that against '.' and '..'?</p>\n"},{"tags":["mysql","database","qt","qtsql"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12543805,"title":"QtSql create mysql database","body":"<p>Is there a way to connect to the database server without specifying a database? </p>\n\n<p>I would like to be able to create a database if it's missing - but the QtSql drivers require some database to connect to. </p>\n"},{"tags":["c++","windows","qt","opencv"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1051,"score":1,"question_id":10056817,"title":"build problems with Qt and opencv on Windows","body":"<p>I would like to create a gui application with Qt, using opencv on Windows XP. I used both Qt and opencv before, but never together. Long story short, I'm unable to get opencv work with Qt.</p>\n\n<p>As on all the forums I searched there are just little pieces of information scattered around, usually with no answer, I summarize here all the steps I've taken.</p>\n\n<ol>\n<li>Downloaded the Qt SDK (4.6.3) for Windows, and used it for some time, successfully.</li>\n<li>Downloaded the opencv 2.3.1 megapack for Windows, complete with binaries. I managed to compile my Qt project including opencv successfully, but any opencv function call resulted in a crash. I read on some forums that the binaries in the Windows megapack don't support Qt, and I have to build opencv myself</li>\n<li>I downloaded the latest version of CMake (2.8).</li>\n<li>I downloaded the source of opencv from here: <a href=\"http://code.opencv.org/svn/opencv/branches/2.3/\" rel=\"nofollow\">http://code.opencv.org/svn/opencv/branches/2.3/</a> </li>\n<li>I downloaded the source for the version of Qt I had (4.6.3)</li>\n<li>I found my old version of visual Studio 2005</li>\n<li>I created a VS2005 project with CMake, checking the support for Qt. (<code>WITH_QT</code> checked)</li>\n<li>I built opencv in VS2005. It created most of the libraries, but not all. <code>Highgui</code> was among the failed ones. The problem: <code>Qt\\4.6.3\\src\\corelib\\global\\qconfig.h</code> was not found. There was no <code>qconfig.h</code> at all in the source I downloaded! I found some templates <code>qconfig-large.h</code>, <code>qconfig-small.h</code> etc., so I renamed one of them to <code>qconfig.h</code>. Now I got a screen full of linker errors.</li>\n<li>I downloaded the latest Qt source instead (4.8.1). Now there is a  source file <code>qbenchmark.h</code> that includes <code>QtTest/qbenchmarkmetric.h</code> which cannot be found.</li>\n<li>I gave up, and tried MinGW.</li>\n<li>I downloaded the latest MinGW (2011.11.18)</li>\n<li>I set CMake to generate a MinGW makefile, but I got the following error:</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>CMake Error at C:/Program Files/CMake 2.8/share/cmake-2.8/Modules/Platform/Windows-g++.cmake:1 (INCLUDE):\n  include could not find load file:\nC:/Program Files/CMake 2.8/share/cmake-2.8/Modules/Platform/Windows-gcc.cmake\nCall Stack (most recent call first):\nC:/Program Files/CMake 2.8/share/cmake-2.8/Modules/CMakeCXXInformation.cmake:59 (INCLUDE)\n</code></pre>\n\n<p>True, there is a <code>Windows-g++.cmake</code> file in the Modules/Platform directory, but it references <code>Windows-gcc.cmake</code> which does not exist! </p>\n\n<p>Is there anyone who managed to build opencv with Qt support on Windows, and if yes, how?</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>The problem is definitely with the Qt source. I managed to generate a MinGW makefile, and the build went all OK until it stopped in <code>src/testlib/qtestsystem.h</code> because there was an include for <code>QtCore/qelapsedtimer.h</code> which file is in a completely different directory! <strong>Does Qt release incomplete sources,</strong> or did I do something wrong?</p>\n\n<p><strong>Edit2</strong></p>\n\n<p>My torment continues. I cleaned everything and started anew. This time without even trying Visual Studio.</p>\n\n<ol>\n<li>I downloaded the latest Qt libs with source (4.8.1)</li>\n<li>I downloaded the latest MinGW (2011.11.18)</li>\n<li>With CMake I successfully created a Makefile, and built it with MinGW. I got some shiny new libs (<code>libopencv_core231</code>, etv.). I was very happy, but how wrong I was to celebrate that soon!!</li>\n<li>I downloaded the latest Qt SDK (strangely, it was 4.8.0, so I set Qt Creator to use the 4.8.1) and created a test program without opencv to see if it works. It worked!</li>\n<li>I tried using opencv, just reading and displaying an image. It didn't work. <code>exited with code -1073741511</code></li>\n<li>I tried running the <code>.exe</code> directly, outside of Qt Creator. It complained of a missing <code>libstdc++-6.dll</code></li>\n<li>I did a search for it, and found on in my MinGW install (c:\\mingw\\bin, 958 KB), and one in my Qt install (c:\\qt\\mingw\\bin, 793 KB) - this mingw came bundled with Qt.</li>\n<li>I tried both, by copying them in the same folder where my <code>.exe</code> is, but neither worked. I got \"The procedure entry point _ZNSt9exceptionD2Ev could not be located in the dynamic link library libstdc++-6.dll.\" with both. This was in debug, so I tried release, and I got a similar error, with some other entry point not found.</li>\n<li>I searched the forums, and I found suggestions that I should link libstdc++ statically. I inserted <code>-static-libgcc -static-libstdc++</code> at the lines <code>QMAKE_LFLAGS =</code> and <code>QMAKE_LFLAGS_DEBUG =</code> in the file <code>c:\\Qt\\mkspecs\\win32-g++\\qmake.conf</code>. This had no effect at all, even after restarting Qt Creator and rebuilding. If I don't copy the <code>libstdc++-6.dll</code>, it still requires it.</li>\n</ol>\n\n<p>Of course, my simple test program without opencv runs from the <code>exe</code> without needing any <code>libstdc++-6.dll</code>, so that means my opencv build is responsible? I wanted to build opencv anew, but I cannot find any CMake settings referring to libstdc++ !</p>\n\n<p><strong>It might be a clue:</strong>\nWhen using one of the <code>libstdc++-6.dll</code> files, the error about a missing entrypoint mentions QtGui4.dll. I have a debug build, so it should be QtGui*<em>d</em>*4.dll, shouldn't it? Are there different <code>libstdc++</code>s for debug and release? Either way, I tried to build release, but it didn't work either, same error</p>\n\n<p>Is there no single person on this planet who tried using Qt with QtCreator and opencv 2.3 together on Windows xp, and succeeded? From searching all the forums and Qt archives, I could not find anyone. I'm ready to do the development in Linux, but I'll need a Windows release sooner or later anyway.</p>\n\n<p><sub>I'm trying to resist the temptation of the dark side, which whispers into my ears to forget Qt, MinGW, g++, opencv and try to hack together something in Visual Basic. Oh, the horrors!</sub></p>\n"},{"tags":["c++","qt","cppunit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12540125,"title":"Qt can't find files in a subproject","body":"<p>So, I'm trying to learn CppUnit testing.  Since CppUnit needs it's own <code>main</code> function to run tests, I figured I would move my test suite into it's own sub-project.  If that whole philosophy is wrong, please correct me.  Then I will push this to my Git server and try to get the tests running in Jenkins on a Gerrit trigger.  Ultimately, I'm trying to learn Jenkins and I'm creating a simple project to help me in that end.  However, when I compile I get a lot of issues related to the files in <code>JenkinsTestSuite</code> not being able to find files in <code>JenkinsTestMain</code>.  For example...</p>\n\n<pre><code>persontest.cpp:5:20: error: person.h: No such file or directory\nIn file included from persontest.cpp:7:\n</code></pre>\n\n<p>My (basic) directory structure is as such...</p>\n\n<p>JenkinsTest\n|-JenkinsTestMain\n|-JenkinsTestSuite</p>\n\n<p>My JenkinsTest.pro file looks like:</p>\n\n<pre><code>TEMPLATE = subdirs\n\nSUBDIRS += \\\n    JenkinsTestSuite \\\n    JenkinsTestMain\n\nCONFIG += ordered\nSUBDIRS += JenkinsTestMain\n</code></pre>\n\n<p>My JenkinsTestMain.pro file looks like:</p>\n\n<pre><code>!include(../common.pri) {\n    error(Couldn't find the common.pri file!)\n}\n\nQT       += core\n\nQT       -= gui\n\nTARGET = JenkinsTest\nCONFIG   += console\nCONFIG   -= app_bundle\n\nTEMPLATE = app\n\nSOURCES += main.cpp \\\n    person.cpp\n\nHEADERS += \\\n        person.h\n</code></pre>\n\n<p>My JenkinsTestSuite.pro file looks like:</p>\n\n<pre><code>!include(../common.pri) {\n    error(Couldn't find the common.pri file!)\n}\n\nQT       += core\n\nQT       -= gui\n\nTARGET = JenkinsTest\nCONFIG   += console\nCONFIG   -= app_bundle\n\nTEMPLATE = app\n\nSOURCES += main.cpp \\\n    persontest.cpp \\\n\nHEADERS += \\\n    persontest.h\n</code></pre>\n\n<p>My common.pri file looks like:</p>\n\n<pre><code>INCLUDEPATH += . ..\nWARNINGS += -Wall\n\nTEMPLATE = lib\n\nUI_DIR = .uics\nMOC_DIR = .mocs\nOBJECTS_DIR = .objs\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12542079,"title":"QGraphicsView not showing image","body":"<p>I have a graphicsView in the UI, and I used this code to set an image from the Resources but doesn't work:</p>\n\n<p>-In the header file:</p>\n\n<pre><code>QGraphicsScene *scene;\n</code></pre>\n\n<p>-In the cpp file:</p>\n\n<pre><code>scene = new QGraphicsScene();\nscene-&gt;addPixmap(QPixmap(\":/images/alert.png\"));\nui-&gt;graphicsView-&gt;setScene(scene);\n</code></pre>\n\n<p>What's wrong in the code?</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":8452214,"title":"QGLBuffer::map returns NULL?","body":"<p>I'm trying to use <a href=\"http://doc.qt.nokia.com/4.8-snapshot/qglbuffer.html\" rel=\"nofollow\">QGLbuffer</a> to display an image.<br>\nSequence is something like:</p>\n\n<pre><code>initializeGL() {\n  glbuffer= QGLBuffer(QGLBuffer::PixelUnpackBuffer);        \n  glbuffer.create();\n  glbuffer.bind();\n  glbuffer.allocate(image_width*image_height*4); // RGBA\n  glbuffer.release();\n}\n\n// Attempting to write an image directly the graphics memory.\n// map() should map the texture into the address space and give me an address in the   \n// to write directly to  but always returns NULL\nunsigned char* dest = glbuffer.map(QGLBuffer::WriteOnly);  FAILS\nMyGetImageFunction( dest );         \nglbuffer.unmap();\n\npaint() {\n  glbuffer.bind();\n    glBegin(GL_QUADS);\n    glTexCoord2i(0,0); glVertex2i(0,height());\n    glTexCoord2i(0,1); glVertex2i(0,0);\n    glTexCoord2i(1,1); glVertex2i(width(),0);\n    glTexCoord2i(1,0); glVertex2i(width(),height());\n    glEnd();             \n  glbuffer.release();\n}\n</code></pre>\n\n<p>There aren't any examples of using GLBuffer in this way, it's pretty new</p>\n\n<p>Edit --- for search here is the working solution -------</p>\n\n<pre><code> // Where glbuffer is defined as  \n glbuffer= QGLBuffer(QGLBuffer::PixelUnpackBuffer); \n\n// sequence to get a pointer into a PBO, write data to it and copy it to a texture\nglbuffer.bind(); // bind before doing anything\nunsigned char *dest = (unsigned char*)glbuffer.map(QGLBuffer::WriteOnly);\nMyGetImageFunction(dest);                           \nglbuffer.unmap(); // need to unbind before the rest of openGL can access the PBO\n\nglBindTexture(GL_TEXTURE_2D,texture);                       \n// Note 'NULL' because memory is now onboard the card                                                                                   \nglTexSubImage2D(GL_TEXTURE_2D, 0, 0,0, image_width, image_height, glFormatExt, glType, NULL);  \nglbuffer.release();  // but don't release until finished the copy\n\n\n// PaintGL function\nglBindTexture(GL_TEXTURE_2D,textures);\nglBegin(GL_QUADS);\n    glTexCoord2i(0,0); glVertex2i(0,height());\n    glTexCoord2i(0,1); glVertex2i(0,0);\n    glTexCoord2i(1,1); glVertex2i(width(),0);\n    glTexCoord2i(1,0); glVertex2i(width(),height());\nglEnd();             \n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12505729,"title":"Overlapping grids and some of the features are not working","body":"<p><img src=\"http://i.stack.imgur.com/Gc8VX.png\" alt=\"problem with overlapping grids\"></p>\n\n<p>I have a problem as follows:</p>\n\n<p>In the figure I have different layers of a conductor. By selecting different conductors, the cable views change accordingly. But the cable views grid is overlapping with cable layers grid as the size of image grows for different layers. So when I reach to Sheath, Insulator etc., I'm unable to select the item in check box. I tried to reduce the pixel size of the image but it is not working and there are different properties for each layer that get popped up when i click it. That window in the image is the maximized window.</p>\n\n<p>Can someone suggest a solution for this?</p>\n"},{"tags":["c++","qt","unit-testing","cppunit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12540244,"title":"CppUnit testing with existing project","body":"<p>I'm new to CppUnit testing and I have a basic set of questions.</p>\n\n<p>So, CppUnit tests need a main function to run.  However, I want this main to be separate from the main of the project I want to test.  So, since you can't have 2 main functions in one project I created a subproject (I'm using Qt by the way) which will house all of my test classes.  However, this seems to be causing its own set of issues since in Qt I can specify which subproject I want to run.  This may mean I can't make them subprojects and keep them separate.</p>\n\n<p>I'm used to JUnit, where there is a 1-to-1 pairing of classes to test classes and when I want to run a test case on a class, I would right-click it and run.  No main function needed.</p>\n\n<p>I guess I'm looking for an explanation of how to test a preexisting, mature project that doesn't currently have testing.  Everything I find assumes you're developing parallel the project and its testing.</p>\n\n<p>Thank you!</p>\n"},{"tags":["qt","qt4.8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12529112,"title":"How can we fetch the height of title of a QTabWidget","body":"<p>Is there any possible way to fetch the height of the title bar that comes in a QTabWidget?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","qwt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12530318,"title":"How to draw an Qwt plot into an image","body":"<p>I'd like to overlay a graph over a video stream, i.e. a QImage within a custom widget. How would I go about drawing the Qwt plot to a surface other than a Qwt Plot?</p>\n\n<p>What would be the Qt way to do this? Subclass Qwt Plot? Define a custom canvas with the ability to set images as the background? Or is there something obvious that I am missing?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12205244,"title":"QT 4.8 padding in QMainWindow","body":"<p>I'm started studying QT. When I create a MainWindow and placing some widgets on it in ane layout, there is a gap between edge of window and widgets, like that:</p>\n\n<p><img src=\"http://i.stack.imgur.com/eBjuc.png\" alt=\"enter image description here\"> </p>\n\n<p>How can I switch off this gaps?</p>\n\n<p><code>layout()-&gt;setContentsMargins(0,0,0,0);</code>\nand editing stylesheets of window, but there was no effect. What should I do?</p>\n"},{"tags":["c++","multithreading","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12516299,"title":"qt multithreading: calculating an intergral","body":"<p>I need to calculate an integral using the <a href=\"http://en.wikipedia.org/wiki/Trapezoidal_rule\" rel=\"nofollow\" title=\"trapezoidal rule\">trapezoidal rule</a> and multithreading.  </p>\n\n<p>I am using a pool thread that I wrote using a <a href=\"http://www.ibm.com/developerworks/library/j-jtp0730/\" rel=\"nofollow\" title=\"java pool thread example\">java pool thread example</a>.  </p>\n\n<pre><code>#ifndef POOL_H\n#define POOL_H\n#include &lt;QObject&gt;\n#include &lt;QThread&gt;\n#include &lt;QWaitCondition&gt;\n#include &lt;QMutex&gt;\n#include &lt;QQueue&gt;\n#include \"poolworker.h\"\n#include \"segment.h\"\n\nclass Segment;\nclass PoolWorker;\n\nclass Pool: public QObject\n{\n    Q_OBJECT\npublic:\n    explicit Pool(QObject *parent = 0);\n    Pool(int nThreads);\n    void execute(Segment *s);\n    static QWaitCondition con;\n    static QMutex poolMutex;\n    static QQueue&lt;Segment*&gt; segmentQueue;\nprivate:\n    int nThreads;\n    QVector&lt;PoolWorker*&gt; workers;\n};\n\n#endif // POOL_H\n\n\n#include \"pool.h\"\n\nQWaitCondition Pool::con;\nQQueue&lt;Segment*&gt; Pool::segmentQueue;\nQMutex Pool::poolMutex;\n\nPool::Pool(QObject *parent) :\n    QObject(parent)\n{\n}\n\n\nPool::Pool(int nThreads)\n{\n    this-&gt;nThreads = nThreads;\n    for (int i = 0; i &lt; nThreads; i++)\n    {\n        workers.push_back(new PoolWorker());\n        workers[i]-&gt;start();\n    }\n}\n\n\nvoid Pool::execute(Segment *s)\n{\n    poolMutex.lock();\n    segmentQueue.enqueue(s);\n    con.wakeOne();\n    poolMutex.unlock();\n}\n\n\n#ifndef POOLWORKER_H\n#define POOLWORKER_H\n\n#include &lt;QThread&gt;\n#include &lt;QMutex&gt;\n#include \"segment.h\"\n#include \"pool.h\"\n\nclass PoolWorker : public QThread\n{\n    Q_OBJECT\npublic:\n    explicit PoolWorker(QObject *parent = 0);\n    void run();\n    static QMutex mutex;\nsignals:\n\npublic slots:\n\nprivate:\n\n};\n\n#endif // POOLWORKER_H\n\n\n#include \"poolworker.h\"\n\nQMutex PoolWorker::mutex;\n\nPoolWorker::PoolWorker(QObject *parent) :\n    QThread(parent)\n{\n}\n\nvoid PoolWorker::run()\n{\n    Segment *temp;\n    forever\n    {\n        mutex.lock();\n        while(Pool::segmentQueue.isEmpty())\n        {\n            Pool::con.wait(&amp;mutex);\n        }\n\n        temp = Pool::segmentQueue.dequeue();\n        mutex.unlock();\n        temp-&gt;doWork();\n    }\n}\n</code></pre>\n\n<p>Each interval is put into a container \"Segment\" which also calculates the integral.<br>\n<code>Sab = 0.5*(b-a)*(f(a)+f(b))</code><br>\n<code>m = (a+b)/2.0</code><br>\n<code>Sam = 0.5*(m-a)*(f(a)+f(m))</code><br>\n<code>Smb = 0.5*(b-m)*(f(b)+f(m))</code><br>\nIf the difference between <code>Sab</code> and <code>Sam+Smb</code> is lower than <code>Eps</code>, then I add <code>Sab</code> to the integral sum using <code>Manager::addSum</code>. If it's not lower, I do the same algorithm for <code>am</code> and <code>mb</code>. etc.  </p>\n\n<pre><code>#ifndef SEGMENT_H\n#define SEGMENT_H\n\n#include &lt;QObject&gt;\n#include &lt;cmath&gt;\n#include \"manager.h\"\n#include &lt;QDebug&gt;\n\nclass Segment : public QObject\n{\n    Q_OBJECT\nprivate:\n    double a,b,Sab,Sam,Smb,m,Eps;\n    double f(double x);\npublic:\n    explicit Segment(QObject *parent = 0);\n    Segment(double a, double b);\n    void doWork();\nsignals:\n\npublic slots:\n};\n\n#endif // SEGMENT_H\n\n\n#include \"segment.h\"\n\n\nSegment::Segment(QObject *parent) :\n    QObject(parent)\n{\n}\n\nSegment::Segment(double a, double b)\n{\n    this-&gt;a = a;\n    this-&gt;b = b;\n    Eps = 0.001;\n}\n\nvoid Segment::doWork()\n{\n    Sab = 0.5*(b-a)*(f(a)+f(b));\n    m = (a+b)/2.0;\n    Sam = 0.5*(m-a)*(f(a)+f(m));\n    Smb = 0.5*(b-m)*(f(b)+f(m));\n    if (fabs(Sab - (Sam + Smb)) &lt;= Eps)\n    {\n        Manager::addSum(Sab);\n        qDebug() &lt;&lt; \"Reached Eps on interval a= \" &lt;&lt; a &lt;&lt; \",b = \" &lt;&lt; b\n                 &lt;&lt; \", return S+= \" &lt;&lt; Sab;\n        Manager::inc();\n    }\n    else\n    {\n        Manager::threadPool-&gt;execute(new Segment(a,m));\n        Manager::threadPool-&gt;execute(new Segment(m,b));\n    }\n}\n\n\ndouble Segment::f(double x)\n{\n    return pow(x,3.0) - 4.0*pow(x,2.0) + 6.0*x - 24.0;\n}\n</code></pre>\n\n<p>The Manager class ties everything in: it creates the pool, contains the sum and starts the calculation by calling execute on pool with the first interval. It also has a counter for debugging purposes.  </p>\n\n<pre><code>#ifndef MANAGER_H\n#define MANAGER_H\n\n#include &lt;QObject&gt;\n#include &lt;QThread&gt;\n#include &lt;QQueue&gt;\n#include &lt;QVector&gt;\n#include \"segment.h\"\n#include \"pool.h\"\n\nclass Pool;\n\nclass Manager : public QObject\n{\n    Q_OBJECT\nprivate:\n    static double sum;\n    static int i;\n    static QMutex mutex;\npublic:\n    explicit Manager(QObject *parent = 0);\n    static Pool *threadPool;\n    static void addSum(double add);\n    static void inc();\n    double viewSum();\n    int viewCount();\n    void doSetup(QThread &amp;thread);\nsignals:\n\npublic slots:\n    void doWork();\n};\n\n#endif // MANAGER_H\n\n\n#include \"manager.h\"\n\ndouble Manager::sum = 0;\nint Manager::i = 0;\nPool* Manager::threadPool = new Pool(10);\nQMutex Manager::mutex;\n\nManager::Manager(QObject *parent) :\n    QObject(parent)\n{\n}\n\nvoid Manager::addSum(double add)\n{\n    mutex.lock();\n    sum += add;\n    mutex.unlock();\n}\n\nvoid Manager::inc()\n{\n    i++;\n}\n\ndouble Manager::viewSum()\n{\n    return sum;\n}\n\nint Manager::viewCount()\n{\n    return i;\n}\n\nvoid Manager::doSetup(QThread &amp;thread)\n{\n    connect(&amp;thread,SIGNAL(started()),this,SLOT(doWork()));\n}\n\nvoid Manager::doWork()\n{\n    threadPool-&gt;execute(new Segment(4.5,12.0));\n}\n</code></pre>\n\n<p>In main I create the manager, a thread for the manager and display the results.  </p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QThread&gt;\n#include &lt;QTimer&gt;\n#include \"manager.h\"\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    Manager man;\n    QThread manThread;\n    man.doSetup(manThread);\n    man.moveToThread(&amp;manThread);\n    manThread.start();\n    manThread.wait(2500);\n    qDebug() &lt;&lt; \"integrate(x^3 - 4*x^2 + 6*x - 24) from 4.5 to 12.0 = \" \n             &lt;&lt; man.viewSum();\n    qDebug() &lt;&lt; \"i =\" &lt;&lt; man.viewCount();\n    manThread.quit();\n    QTimer::singleShot(1000, &amp;a, SLOT(quit()));\n    return a.exec();\n}\n</code></pre>\n\n<p>It calculates the integral correctly about half of the time. The other half I get a larger number than expected(which varies). When I get a larger number, I notice that some of the intervals are calculated twice. If I'm not mistaken I have made the code thread-safe so I don't understand how this happens. I'm pretty new to multithread programming so I might be doing something wrong with mutexes? Or maybe my transition from the java pool is wrong?<br>\nAnother thing is in main.cpp I'm not sure how to properly display the results since I don't know when the integral is done calculating. I am using a wait(2500) function on the thread that contains the manager but it's not a really good method since the calculation time may vary on different PC's and for different functions.  </p>\n\n<p>Thanks in advance for any help you are able to provide.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":1593,"score":5,"question_id":4922801,"title":"Adding signals/slots (QObject) to QGraphicsItem: performance hit?","body":"<p>I want to add signals/slots to a QGraphicsItem so I can reach QGraphicsItemObjects from another thread. There are two options that I know of: use QGraphicsObject or inherit from QObject and QGraphicsItem.</p>\n\n<h2>Using QGraphicsObject</h2>\n\n<p>This is  assumed to be slow. According to <a href=\"http://stackoverflow.com/questions/2292072/penalty-of-using-qgraphicsobject-vs-qgraphicsitem/2661673#2661673\">this answer</a> on stackoverflow QGraphicsObjects are slow because of their implementation. When I look in the source of QGraphicsObjects I can see a lot of signals being emitted according to changes made to the object. To me this seems a plausible argument for why QGraphicsObjects are slow, but I think this performance hit (if it really is one) can be avoided by the second solution.</p>\n\n<h2>Inheriting from QObject and QGraphicsItem.</h2>\n\n<p>When constructing a class that inherits from QObject and QGraphicsItem it seems that you get the most interesting feature of QGraphicsObject minus the performance hit: you are able to define slots and emit signals in your class but you don't inherit the default implementation of QGraphicsObject that would constantly emit signals on changes you might not be interested in. You are now able to emit signals but don't have to worry about signals being emitted for things you don't care about (x value that changes emits a signal in QGraphicsObject but not in this solution).</p>\n\n<h2>Summary of my question</h2>\n\n<ul>\n<li>Are QGraphicsObjects really slower than QGraphicsItems?</li>\n<li>If they are, is it because the implementation emits signals (and emitting signals is a\nbig performance hit)?</li>\n<li>And if so, does the second solution (multiple inheritance) avoid this penalty?</li>\n</ul>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":11920303,"title":"The following code for setting proxy in Qt fails in case of manual proxy settings","body":"<p>What is wrong with the code:</p>\n\n<p>if i use system proxy the error displayed is “connection refused”\nand if i use manual proxy (proxy address being same) error displayed is “Host not found”</p>\n\n<p>The proxy server is squid with proxy-address:172.16.28.11 and port:3128</p>\n\n<p>Besides, it also doesn’t work for localhost proxy like the one created using \"tor\" or dynamic port forwarding!</p>\n\n<pre><code>if(settDialog.ui-&gt;no_proxy-&gt;isChecked())\n{\n    QNetworkProxyFactory::setUseSystemConfiguration (false);\n    QNetworkProxy::setApplicationProxy(QNetworkProxy::NoProxy);\n}\nelse if(settDialog.ui-&gt;use_s_proxy-&gt;isChecked())\n{\n    QNetworkProxyFactory::setUseSystemConfiguration (true);\n}\nelse if(settDialog.ui-&gt;man_proxy-&gt;isChecked())\n{\n    QNetworkProxyFactory::setUseSystemConfiguration (false);\n    proxy.setHostName(settDialog.ui-&gt;proxy_addr-&gt;text());\n    proxy.setPort(settDialog.ui-&gt;port_num-&gt;value());\n    if(settDialog.ui-&gt;proxyType-&gt;currentIndex()==0)\n        proxy.setType(QNetworkProxy::HttpProxy);\n    else if(settDialog.ui-&gt;proxyType-&gt;currentIndex()==1)\n        proxy.setType(QNetworkProxy::Socks5Proxy);\n    else if(settDialog.ui-&gt;proxyType-&gt;currentIndex()==2)\n        proxy.setType(QNetworkProxy::FtpCachingProxy);\n    proxy.setHostName(settDialog.ui-&gt;username-&gt;text());\n    proxy.setPassword(settDialog.ui-&gt;pwd-&gt;text());\n    QNetworkProxy::setApplicationProxy(proxy);\n}\n</code></pre>\n"},{"tags":["qt","cuda"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":124,"score":1,"question_id":10808462,"title":"Qt application that uses CUDA runtime libraries does not run when double-clicking","body":"<p>I'm learning to build Qt + CUDA applications on linux (Ubuntu 12.04 64 bit). For starters, I am trying to build an application that checks the number of CUDA enabled devices on my computer. </p>\n\n<p>I am able to launch the application from within Qt Creator but not by double clicking on the app. I can run it by issuing ./device_query in the terminal (the name of the app is device_query).</p>\n\n<p>I have a simple UI (the default created by Qt Creator when a Qt gui app is created)</p>\n\n<p>Here are the other files</p>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;cuda_runtime.h&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\n\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    int count;\n    cudaGetDeviceCount(&amp;count); //when this line is added, unable to double click and launch\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include &lt;QtDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n    return a.exec();\n}\n</code></pre>\n\n<p>.pro file</p>\n\n<pre><code>QT       += core gui\nTARGET = device_query\nTEMPLATE = app\n\nHEADERS = mainwindow.h\nSOURCES += main.cpp\\\n        mainwindow.cpp\nFORMS    += mainwindow.ui\n\nINCLUDEPATH += /usr/local/cuda/include\n\nLIBS += -L/usr/local/cuda/lib64/ -lcudart\n</code></pre>\n\n<p>Why is it that I am not able to run the application by double clicking it? </p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12535661,"title":"Qt - ComboBox automatically in TableView?","body":"<p>So in my project, I had a TableView and i edited some of its info's in the Qt Editor itself. I also implemented all the codes for it and when I ran before, I could see a comboBox in a place of int. But for some reasons I had to replace that TableView with a new one. All the codes are the same, but I don't see any comboBox now. So does that mean the comboBox appeared for something done in the Editor?</p>\n"},{"tags":["qt","text","hyperlink","symbian","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12536416,"title":"QML Text element hyperlink","body":"<p>In my QML Text element I want to have a hyperlink to a website and managed to do so with it looking like one etc. but when I click or touch it nothing happens, the link is supposed to open in a the default browser.</p>\n\n<pre><code>Text {\n    id: link_Text\n    text: '&lt;html&gt;&lt;style type=\"text/css\"&gt;&lt;/style&gt;&lt;a href=\"http://google.com\"&gt;google&lt;/a&gt;&lt;/html&gt;'\n}\n</code></pre>\n\n<p>Any idea what I'm doing wrong?</p>\n"},{"tags":["qt","widget","parent"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12533937,"title":"QT - why specify parent with graphic widgets?","body":"<p>Question:\nSpecifying a parent with Qt is always seem to be a good idea. However I don't understand why it is required in some particular cases. There is plenty examples of using QGraphicsView in the following way:</p>\n\n<pre><code>MainWindow::MainWindow()\n{\n    QGraphicsView *view = new QGraphicsView(this);\n    ...\n}\n</code></pre>\n\n<p>So why this is better than <code>QGraphicsView *view = new QGraphicsView(NULL)?</code> in this specific case?</p>\n\n<p>Thank you,\nAlex</p>\n"},{"tags":["c++","c","qt","memory","opencv"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":142,"score":5,"question_id":12531245,"title":"How can i get memory size allocated by my program?","body":"<p>I write my project by c with opencv.\nI want print info about allocated memory or memory used by my program.\nIs there a functions, that give me the information about the memory ?\nFinally I'm using Qt for Linux and Windows , </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","qt","icons","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12515571,"title":"PyQt4 not loading icons from .ui","body":"<p>I'm having a problem with icons in PyQt4:</p>\n\n<p>I created an UI with Qt Designer, added some buttons with icons from the system theme, and then loaded the .ui file in a Python program, but the icons aren't visble (the buttons show their text).</p>\n\n<p>If I use QIcon.fromTheme it works, but it doesn't load icons defined in the .ui file.</p>\n\n<p>How can I make it load these icons, without manually loading them from code?</p>\n"},{"tags":["qt","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12531900,"title":"QIntValidator error in Qt","body":"<p>I have written the following part of a code that adds two numbers together and outputs the result:</p>\n\n<pre><code>QIntValidator *validator = new QIntValidator(0,50,this);\nui-&gt;firstNumber-&gt;setValidator(validator);\n...\n...\n</code></pre>\n\n<p>In this case, I get the following error:</p>\n\n<pre><code>CS2039:  'setValidator': is not a member of QTextEditor\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12534367,"title":"Qt No such slot for the QProcess::finished() signal","body":"<p>I am trying to run a command line program, gphoto2 from my Qt app running in Linux and read the results that it outputs to Standard Output and Standard Error.  The GUI in this proof of concept program is a single push button and a label that is used to display the output from Standard Error and Standard output.</p>\n\n<p>I'm having trouble connecting the QtProcess::Finished signal to the correct slot.  I copied the arguments list from the Finished() signal documentation in the header, the connect statement, and the function.  The function name is prefixed with the MainWindow:: class identifier.  I've run out of things to try and I'm hoping someone in StackOverflow will be able to point out the problem. </p>\n\n<pre><code>The Header file:\n#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QString&gt;\n#include &lt;QProcess&gt;\n#include &lt;QObject&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n    void reply2();\n\n\nprivate slots:\n    void on_pushButton_clicked();\n    void on_cameraControlExit(int exitCode, QProcess::ExitStatus exitStatus);\n\n\nprivate:\n    Ui::MainWindow *ui;\n    QProcess* cameraControl;\n\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>The mainwindow.cpp file</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;QProcess&gt;\n#include &lt;QShortcut&gt;\n#include &lt;QDebug&gt;\n\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n     cameraControl = new QProcess(this);\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n    cameraControl-&gt;close();\n    delete cameraControl;\n}\n\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    // connect the camera control finished signal to the slot that will read the exit code and\n    // place the std output string from the process into a label on the form\n    connect(cameraControl, SIGNAL(finished(int , QProcess::ExitStatus )),\n            this, SLOT(MainWindow::on_cameraControlExit(int exitCode, QProcess::ExitStatus exitStatus)));\n\n    // Disable the ui button do we don't get double presses\n    ui-&gt;pushButton-&gt;setDisabled(true);\n\n    // setup the gphoto2 arguments list\n    QStringList args;      \n    args.append(\"--capture-image-and-download\");\n\n    // start the camera control\n    cameraControl-&gt;start(\"gphoto2\",args);\n\n//    // wait for the process to finish or 30 seconds whichever comes first\n    cameraControl-&gt;waitForFinished(30000);\n\n}\n\n\n\nvoid MainWindow::on_cameraControlExit(int exitCode, QProcess::ExitStatus exitStatus)\n{\n    qDebug() &lt;&lt; cameraControl-&gt;errorString();\n    qDebug() &lt;&lt; cameraControl-&gt;readAllStandardError();\n    qDebug() &lt;&lt; cameraControl-&gt;readAllStandardOutput();\n\n\n\n\n    ui-&gt;pushButton-&gt;setEnabled(true);\n\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":277,"score":0,"question_id":6477958,"title":"QT - Is there any class for combine few images into one?","body":"<p>I would like do some matrix of images, show preview in some widget and after all save it to - for example - <code>jpg</code> file. I know I could copy every image pixel per pixel into big one, but it wasn't efficient method I suppose... Are there any better solution? </p>\n\n<p>Thanks in advice.</p>\n"},{"tags":["qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":12511370,"title":"How to include a certain Qt installation using CMake?","body":"<p>We have plenty Qt copies on every dev PC - each project has its own Qt copy in the thirdparties directory. That's done due to each project is developed and tested with its own Qt; an often case is that we need a custom build of Qt for some project. So due to mentioned above we have a separate SVN repo for holding various Qt builds and an external in each Qt project, which refers to one among those builds.</p>\n\n<p>The problem is, when using CMake we can only select a version of Qt and the Qt4 finder decides what Qt to use by itself. And that's not the correct one. We need to redirect the finder to configure all stuff for a particular Qt copy in project's third parties directory.</p>\n\n<p>I've tried to specify the <code>PATHS</code> option for <code>FIND_PACKAGE</code> like that: <code>FIND_PACKAGE( Qt4 REQUIRED PATHS \"thirdparty/Qt\" )</code> but that didn't help. I have tried to set the <code>QT_QMAKE_EXECUTABLE</code> variable, but that didn't work. I've tried to add the required QMake's path (it's used by the FindQt4.cmake to determine all directories) to the PATH variable before the installed one, but that didn't help too.</p>\n\n<p>Is there a way to use all the stuff which the FIND_PACKAGE provides but for a certain Qt copy? I really don't want to implement all Qt wrappers, set all definitions, includes, dirs, etc manually.</p>\n\n<p>Here is my CMake project. Maybe that will help:</p>\n\n<pre><code>CMAKE_MINIMUM_REQUIRED( VERSION 2.8 )\n\n#############################################################################\n\nMACRO( ADD_FILES_TO_FILTER rootFilterName rootFilterPath files )\n    FOREACH( curFile ${files} )\n        FILE( RELATIVE_PATH curFilter \"${CMAKE_CURRENT_SOURCE_DIR}/${rootFilterPath}\" \"${CMAKE_CURRENT_SOURCE_DIR}/${curFile}\" )\n        FILE( RELATIVE_PATH test \"${CMAKE_CURRENT_SOURCE_DIR}\" \"${CMAKE_CURRENT_SOURCE_DIR}/${curFile}\" )\n        GET_FILENAME_COMPONENT( curFilter ${curFilter} PATH )\n        SET( curFilter \"${rootFilterName}/${curFilter}\" )\n        STRING( REPLACE \"/\" \"\\\\\\\\\" curFilter ${curFilter} )\n        SOURCE_GROUP( ${curFilter} FILES ${curFile} )\n    ENDFOREACH( curFile )\nENDMACRO( ADD_FILES_TO_FILTER rootFilterName rootFilterPath files )\n\nMACRO( TO_RELATIVE_PATHS filePaths )\n    SET( resPaths \"\" )\n    FOREACH( curPath ${${filePaths}} )\n        FILE( RELATIVE_PATH relPath ${CMAKE_CURRENT_SOURCE_DIR} ${curPath} )\n        SET( resPaths ${resPaths} ${relPath} )\n    ENDFOREACH( curPath )\n    SET( ${filePaths} ${resPaths} )\nENDMACRO( TO_RELATIVE_PATHS filePaths )\n\n######################################################################\n\n# Define project settings\nPROJECT( RealTimeCapture )\nFIND_PACKAGE( Qt4 REQUIRED PATHS \"thirdparty/Qt\" )\nSET( BOOST_ROOT \"thirdparty/boost\" )\nFIND_PACKAGE( Boost REQUIRED )\n\n# Collect all required files for build\nFILE( GLOB_RECURSE headers RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} \"src/RTCF/include/*.h\" )\nFILE( GLOB_RECURSE sources RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} \"src/RTCF/src/*.cpp\" )\nFILE( GLOB_RECURSE resources RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} \"src/*.qrc\" )\nFILE( GLOB_RECURSE forms RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} \"src/*.ui\" )\n\n# Preprocess all Qt files\nQT4_WRAP_CPP( header_mocs ${headers} )\nQT4_WRAP_UI( form_headers ${forms} )\nQT4_ADD_RESOURCES( resources_rcc ${resources} )\n\n# Convert all generated files paths to relative ones\nTO_RELATIVE_PATHS( header_mocs )\nTO_RELATIVE_PATHS( form_headers )\nTO_RELATIVE_PATHS( resources_rcc )\n\n# Create executable\nADD_EXECUTABLE( RealTimeCapture ${headers} ${sources} ${header_mocs} ${form_headers} ${resources_rcc} )\nSET_TARGET_PROPERTIES( RealTimeCapture PROPERTIES COMPILE_FLAGS \"/Zc:wchar_t-\" )\n\n# Set filters for project according to its namespaces\nFILE( RELATIVE_PATH buildDir ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR} )\nADD_FILES_TO_FILTER( \"Headers\" \"src/RTCF/include\" \"${headers}\" )\nADD_FILES_TO_FILTER( \"Sources\" \"src/RTCF/src\" \"${sources}\" )\nADD_FILES_TO_FILTER( \"Generated\" \"${buildDir}/src/RTCF/include\" \"${header_mocs}\" )\nADD_FILES_TO_FILTER( \"Forms\" \"${buildDir}/src/RTCF/include\" \"${form_headers}\" )\nADD_FILES_TO_FILTER( \"Resources\" \"${buildDir}\" \"${resources_rcc}\" )\n\n# Set additional include directories\nINCLUDE_DIRECTORIES( ${CMAKE_CURRENT_BINARY_DIR} )\nINCLUDE_DIRECTORIES( \"src\" )\nINCLUDE_DIRECTORIES( \"src/RTCF/include\" )\nINCLUDE_DIRECTORIES( \"thirdparty\" )\n\n# Configure Qt\nSET( QT_USE_QTNETWORK TRUE )\nSET( QT_USE_QTSQL TRUE )\nSET( QT_USE_QTSCRIPT TRUE )\nSET( QT_USE_QTXML TRUE )\nSET( QT_USE_QTWEBKIT TRUE )\nINCLUDE( ${QT_USE_FILE} )\nADD_DEFINITIONS( ${QT_DEFINITIONS} )\nTARGET_LINK_LIBRARIES( RealTimeCapture ${QT_LIBRARIES} )\n\n# Add boost support\nINCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIR} )\nTARGET_LINK_LIBRARIES( RealTimeCapture ${Boost_LIBRARIES} )\n\n# Add other libs include dirs\nINCLUDE_DIRECTORIES( \"thirdparty/SimpleCrypt\" )\nINCLUDE_DIRECTORIES( \"thirdparty/id3lib/include\" )\nINCLUDE_DIRECTORIES( \"thirdparty/libtwitcurl\" )\nINCLUDE_DIRECTORIES( \"thirdparty/curl-7.24.0/curl/include\" )\nINCLUDE_DIRECTORIES( \"thirdparty/log4qt/include\" )\nINCLUDE_DIRECTORIES( \"thirdparty/fervor-auto\" )\n\n# Add defines\nADD_DEFINITIONS( RealTimeCapture -DQUAZIP_STATIC )\nADD_DEFINITIONS( RealTimeCapture -DBUILDING_LIBCURL )\nADD_DEFINITIONS( RealTimeCapture -DID3LIB_LINKOPTION=1 )\nADD_DEFINITIONS( -DUNICODE -D_UNICODE ) #enable unicode support\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As it's mentioned in the comments to the accepted answer, I've managed to set a custom qmake.exe (different from the one added to the OS PATH variable) by setting the <code>QT_QMAKE_EXECUTABLE</code> CMake variable. But the problem was, the qmake executable has hardcoded paths to all Qt's modules. So I have solved it by providing a custom <code>qt.conf</code> file (as it's mentioned in the answer). I haven't found any examples of it in the internet, so here it is, maybe it will help someone:</p>\n\n<pre><code>[Paths]\nPrefix=..\nDocumentation=doc\nHeaders=include\nLibraries=lib\nBinaries=bin\nPlugins=plugins\nImports=imports\nData=\nTranslations=\nSettings=\nExamples=\nDemos=\n</code></pre>\n\n<p>I used exactly this. You can consider specifying an absolute path to the Qt install in the prefix though. I just didn't want to use an absolute path in a repo, which can be cloned in an arbitrary location. See <a href=\"http://doc.qt.digia.com/4.7-snapshot/qt-conf.html\" rel=\"nofollow\">this</a> link about details on using <code>qt.conf</code>.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12531556,"title":"Qt - TableView Header Data became invisible?","body":"<p>My TableView was showing header data earlier and I kept on working on my software on a completely different part and somehow while testing I realized that the header data was completely gone, although I could see the lists. Note that \"SetHeaderVisible\" thing is enabled in the Qt Editor. This is the code I used to set the header:</p>\n\n<pre><code>itemModel = new QStandardItemModel();\n\n    //setting Column count and labeling them\n    itemModel-&gt;setColumnCount(5);\n    itemModel-&gt;setHeaderData(0, Qt::Horizontal, \"Item Name\");\n    itemModel-&gt;setHeaderData(1, Qt::Horizontal, \"Price\");\n    itemModel-&gt;setHeaderData(2, Qt::Horizontal, \"Date Released\");\n    itemModel-&gt;setHeaderData(3, Qt::Horizontal, \"Bugs\");\n    itemModel-&gt;setHeaderData(4, Qt::Horizontal, \"Suggestions\");\n    //set the itemModel to TableView\n    ui-&gt;tableView-&gt;setModel(itemModel);\n</code></pre>\n"},{"tags":["c++","qt","qtimer"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12528184,"title":"QTimer becomes faster with each start/stop","body":"<p>I'm using a <code>QTimer</code> to smoothly change the size of a label: it should slowly grow when I hover the mouse over a button, and slowly collapse (decrease it's size until it dissapears) when the mouse leaves the button.</p>\n\n<p>I have two timers in my form's class:</p>\n\n<pre><code>QTimer oTimer, cTimer;//oTimer for expanding, cTimer for collapsing\n</code></pre>\n\n<p>In my form's constructor, I'm setting the timer's values and connecting the button's <code>mouseOver</code> and <code>mouseOut</code> signals to my form's slots:</p>\n\n<pre><code>oTimer.setInterval( 25 );\ncTimer.setInterval( 25 );\n\nconnect( ui.Button, \n         SIGNAL(mouseEntered(QString)), \n         this, \n         SLOT(expandHorizontally(QString)) );\nconnect( ui.Button, \n         SIGNAL(mouseLeft(QString)), \n         this, \n         SLOT(compactHorizontally(QString)) );\n</code></pre>\n\n<p>Now, in these slots I connect the corresponding timer to a slot that will gradually change the size, and then I start the timer:</p>\n\n<pre><code>void cForm::expandHorizontally(const QString &amp; str)\n{\n    ui.Text-&gt;setText( str ); \n    connect( &amp;oTimer, SIGNAL(timeout()), this, SLOT(increaseHSize()) );\n    cTimer.stop();//if the label is collapsing at the moment, stop it\n    disconnect( &amp;cTimer, SIGNAL(timeout()) );\n    oTimer.start();//start expanding\n}\n\nvoid cForm::compactHorizontally(const QString &amp;)\n{\n    connect( &amp;cTimer, SIGNAL(timeout()), this, SLOT(decreaseHSize()) );\n    oTimer.stop();\n    disconnect( &amp;oTimer, SIGNAL(timeout()) );\n    cTimer.start();\n}\n</code></pre>\n\n<p>After that, the label starts changing it's size:</p>\n\n<pre><code>void cForm::increaseHSize()\n{\n    if( ui.Text-&gt;width() &lt; 120 )\n    {\n        //increase the size a bit if it hasn't reached the bound yet\n        ui.Text-&gt;setFixedWidth( ui.Text-&gt;width() + 10 );\n    }\n    else\n    {\n        ui.Text-&gt;setFixedWidth( 120 );//Set the desired size\n        oTimer.stop();//stop the timer\n        disconnect( &amp;oTimer, SIGNAL(timeout()) );//disconnect the timer's signal\n    }\n}\n\nvoid cForm::decreaseHSize()\n{\n    if( ui.Text-&gt;width() &gt; 0 )\n    {\n        ui.Text-&gt;setFixedWidth( ui.Text-&gt;width() - 10 );\n    }\n    else\n    {\n        ui.Text-&gt;setFixedWidth( 0 );\n        cTimer.stop();\n        disconnect( &amp;cTimer, SIGNAL(timeout()) );\n    }\n}\n</code></pre>\n\n<p><strong>The problem</strong>: Everything works smoothly at first, the label slowly opens and closes. However, if it does so a couple of times, it starts changing the size faster and faster each time (just as if the timer's interval was getting smaller and smaller, but it obviously isn't). Eventually after a couple of openings/closes it just begins to <em>immediately</em> increase it's size up to the bound when I hover the mouse over the button, and <em>immediately</em> collapse to the zero size when the mouse goes away from the button.</p>\n\n<p>What could be the reason for that?</p>\n"},{"tags":["qt","qt-creator","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":381,"score":4,"question_id":11906744,"title":"How to specify build directory in Qt Creator for shadow build without use of an absolute path?","body":"<p>Absolute paths are ridiculous. All we need - and all we are allowed, by the way - is to use a folder on the same level that the folder containing .pro file for shadow builds. There are bugs otherwise.</p>\n\n<p>But you can't just specify <code>../mingw_debug</code> for example. Yes, it is a relative path but relative to what? It turns out it is relative to current directory of Qt Creator, and this is completely meaningless.</p>\n\n<p><code>%{sourceDir}</code> is of no help either. <code>%{sourceDir}/../mingw_debug</code> dosen't work, at least on Windows. If there was a way to extract parent folder from sourceDir!</p>\n\n<p>Does anybody know a way to solve the issue?</p>\n"},{"tags":["qt","shared-libraries"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12529048,"title":"Qt - How to Build one Dynamic Library in a project which depends on other dynamic library","body":"<p>I have Two Dynamic Library\nlibrary1.so\nlibrary2.so   (Using library1.so , path is absolute)</p>\n\n<p>in which library2.so is using library1.so, so when i am building my project which is using library2.so(absolute path) its giving error for all the methods(undefined reference) in library1.so</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12528490,"title":"Maximum number of arguments for qdbusxml2cpp","body":"<p>I am extending a DBus interface on a linux build machine using Qt. The existing interface works fine and I need to add another parameter</p>\n\n<p>The XML generation method generation is:</p>\n\n<pre><code>&lt;method name=\"get_card_info\"&gt;\n  &lt;arg type=\"b\" name=\"success\" direction=\"out\" /&gt;      \n  &lt;arg type=\"s\" name=\"version\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"serial\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"BeginDate\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"ExpirationDate\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"RenewalDate\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"ZipCode\" direction=\"out\" /&gt;\n  &lt;arg type=\"s\" name=\"ZipCodeExtension\" direction=\"out\" /&gt;\n  &lt;!--  &lt;arg type=\"u\" name=\"cardStatus\" direction=\"out\" /&gt;  --&gt;\n&lt;/method&gt;\n</code></pre>\n\n<p>The code works fine until I uncomment the commented out line, at which point qdbusxml2cpp reports:</p>\n\n<pre><code>interface_dbus_p.h:39:103: error: wrong number of template arguments (9, should be 8)\n</code></pre>\n\n<p>This is even if I comment out all calls to this function; indeed this is before the linking code even gets compiled; this is all from the <strong>qdbusxml2cpp</strong> call.</p>\n\n<p>The XML will compile if I change this to six, seven or eight items, but if I increase it to nine it crashes.</p>\n\n<p>I've changed no other configuration files except the XML code.</p>\n\n<p>What's wrong? Is there a limit of eight parameters?</p>\n"},{"tags":["c++","qt","winapi","registry","windows-7-x64"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12528099,"title":"Error with RegOpenKeyEx()","body":"<p>I'm using Qt with mingw to write a program that changes the registry, but when I call :</p>\n\n<pre><code>RegOpenKeyEx(HKEY_LOCAL_MACHINE,\n             \"SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\DefaultProductKey\",\n             0,\n             KEY_ALL_ACCESS|KEY_WOW64_64KEY,\n             &amp;key);\n</code></pre>\n\n<p>Qt return :</p>\n\n<pre><code>`KEY_WOW64_64KEY' undeclared (first use in this function)\n</code></pre>\n\n<p>I had add <code>\"#include &lt;windows.h&gt;\"</code> but it still doesn't work.</p>\n\n<p>I've find this post <a href=\"http://stackoverflow.com/questions/5247862/error-with-regopenkeyex?answertab=votes#tab-top\">Error with RegOpenKeyEx</a>, it's the same probleme than me, and the answer looks good.\nBut i'm not using windows xp i'm using 7(64bits).\nSo I trided to put in targetver.h :</p>\n\n<pre><code>#ifndef _WIN32_WINNT_WIN7\n#define _WIN32_WINNT_WIN7 (0x0601)\n#endif  /* _WIN32_WINNT_WIN7 */\n</code></pre>\n\n<p>And it's still doesn't work ... :(</p>\n\n<p>What can i do ? :(</p>\n\n<p>Thanks :)</p>\n\n<p>(sorry for my bad english)</p>\n"},{"tags":["qt","events","event-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":515,"score":1,"question_id":4675399,"title":"Does QCoreApplication::quit() cancel all pending events?","body":"<p>This wasn't immediately clear to me from the docs for <a href=\"http://doc.trolltech.com/latest/qcoreapplication.html#quit\" rel=\"nofollow\">QCoreApplication::quit()</a>.</p>\n\n<p>Are any pending events in the event loop cancelled when the quit() slot is invoked?</p>\n"},{"tags":["c++","qt","concurrency","future"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12527141,"title":"How can I use a QFutureWatcher with QtConcurrent::run() without a race condition","body":"<p>If I understand the following code from the QFutureWatcher documentation correctly, then there is a race condition between the last to lines:</p>\n\n<pre><code>// Instantiate the objects and connect to the finished signal.\nMyClass myObject;\nQFutureWatcher&lt;int&gt; watcher;\nconnect(&amp;watcher, SIGNAL(finished()), &amp;myObject, SLOT(handleFinished()));\n\n// Start the computation.\nQFuture&lt;int&gt; future = QtConcurrent::run(...);\nwatcher.setFuture(future);\n</code></pre>\n\n<p>If the function <code>...</code> in the <code>QtConcurrent::run(...)</code> finishes before the next line is called, then the <code>watcher.finished()</code> signal will never be triggered. Is my assumption correct? How do I work around this bug?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12525699,"title":"ischecked function","body":"<p>I used the \"ischecked\" function for a checkbox, it works fine for it. I used the same function for pushbutton. The default state is \"unchecked\" for a pushbutton, so it is working fine in that case, but when I go to the properties of pushbutton and change the state to checked and try to work on it like</p>\n\n<pre><code>if(ui-&gt;Button-&gt;isChecked()==Qt::Checked)\n{\nui-&gt;label_2-&gt;setPixmap(QPixmap::fromImage(image));\nui-&gt;frame_10-&gt;setMinimumHeight(image.size().height() + 20);\n}\n</code></pre>\n\n<p>then I can see no changes in the dialogbox. Why is this happening? What should I do inorder to make it work.</p>\n"},{"tags":["qt","qudpsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12492334,"title":"QUdpSocket HeartBeat behaviour","body":"<p>I need to send the status of my Qt application through and Upd socket every seconds. How can I achive this? Should I subclass QThread e using QThread::sleep or is there a best approch ? thanks</p>\n"},{"tags":["c","string","qt","sorting","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":253,"score":1,"question_id":5990588,"title":"How to Sort UTF-8 String which Contains Digits & Characters?","body":"<p>I am working on Program(in c) which require sorting.\nOne of the requirement of sorting is : Digits Sorting.</p>\n\n<p>Digit sorting shall be completed from least significant digit (i.e. the rightmost digit) and to the most significant\ndigit (i.e. the leftmost digit) such that the numbers 21, 2, and 11 are sorted as follows: 2, 11, 21.</p>\n\n<p>The given string is in UTF-8 and may contains Special Characters,Digits,Latin letters ,Cyrillic letters ,Hiragana/Katakana etc.</p>\n\n<p>It give following sorting Order :</p>\n\n<p>1</p>\n\n<p>1a</p>\n\n<p>1b</p>\n\n<p>2</p>\n\n<p>11</p>\n\n<p>110</p>\n\n<p>110a</p>\n\n<p>Henry7</p>\n\n<p>Henry24</p>\n"},{"tags":["c++","qt","memory-leaks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12523631,"title":"What way should I take with qt:all classes inherit from QObject or delete Manually after new?","body":"<p>There is some problems confused me:\n1. </p>\n\n<pre><code>QLabel *label = new QLabel(this);\n//or\nQLabel *label = new QLabel;\n//if I forgot to set label as a child of other widget, it causing a memory leak?\n</code></pre>\n\n<p>2.  </p>\n\n<pre><code>QList&lt;MyClass&gt; myList;\nMyClass *my = new MyClass;\nmyList.append(*my);\n//is necessary？\ndelete my;\n</code></pre>\n\n<p>So, What way should I take with qt? All classes inherit from QObject or delete Manually after new? Or using Qt smart pointer?\nPlease help me, thank u very very ...</p>\n"},{"tags":["c++","css","qt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":12524594,"title":"Qt QGraphicsView and StyleSheets","body":"<p>Can I use CSS/stylesheets to style a item in QGraphicsView, like QGraphicsWidget?\nIf yes, how?</p>\n"},{"tags":["qt","signals","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12524865,"title":"Using if statement","body":"<p>I want to display an image called image1 when a button1 is pressed and image2 when button2 is pressed. In order to do this I want to use 'if' statement. I wrote the following code:</p>\n\n<pre><code>if(ui-&gt;button1-&gt;clicked())\nimage.load(\":/CondScrnIns.png\");\nelse if(ui-&gt;button2-&gt;clicked())\nimage.load(\":/CondScrnInsCentric.png\");\n</code></pre>\n\n<p>but while executing these statements I'm getting the following error:</p>\n\n<pre><code>void QAbstractButton::clicked(bool) is protected\n</code></pre>\n\n<p>what function should I use insted of clicked()??</p>\n"},{"tags":["c++","qt","loops","sleep","paintevent"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12523753,"title":"Sleep inside a loop that uses paintevent in qt c++","body":"<p>Basically what I wanna do is to draw rectangles for each number in my list. The bigger the number is, the larger the rectangle is.\nMy problem is when I actually wanna do it, step-by-step, and waiting a few seconds between every drawing. I've looked out for a few solutions but I can't get them to work for this particular case. I saw I could use fflush to release whatever it's in the buffer but I don't know how I can use it for this.</p>\n\n<pre><code>QPainter painter(this);\npainter.setRenderHint(QPainter::Antialiasing, true);\npainter.setBrush(QBrush(Qt::green, Qt::SolidPattern));\nint weight=300/lista.size;\nint posx=weight;\nfor (int i=1; i&lt;=lista.size; i++){\n        List_node * node = list.get_element_at(i);\n            int num=node-&gt;getValue(); //this returns the value of the node\n        if (i==3){\n                painter.setBrush(QBrush(Qt::red, Qt::SolidPattern)); // this line is to draw a rectangle with a different color. Testing purposes.\n         }\n        painter.drawRect(posx,400-(num*10),weight,num*10);\n        sleep(1); //this sleep isn't working correctly.\n        painter.setBrush(QBrush(Qt::green, Qt::SolidPattern));\n        posx+=weight;\n }\n</code></pre>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["c++","qt","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":163,"score":-3,"question_id":12095294,"title":"Object Oriented ideas for \"calculator\" project","body":"<p>For a university examination I have to do an OOP project in C++ in about a month and a half. The assignment requires that I create a GUI using Qt Creator.</p>\n\n<p>The specification is:</p>\n\n<p>minimum 3 non-trivial classes (non-mathematical or numeric) with minimal hierarchy</p>\n\n<pre><code>(K ---&gt; Y)\n\n(Z)\n</code></pre>\n\n<p>Hierarchy must therefore include two classes one of which inherits from another, and also a separate class.</p>\n\n<p>The purpose of the project is to make an extensible GUI for a calculator extensible. This calculator must be able to handle at least three different types of data (not necessarily numerical), whose implementation is left to the student.</p>\n\n<p>I have heard many proposals. Vanno from operations on vectors in a kind of cookbook for the kitchen where fans transactions on ingredients. My problem is to find these 3 + classes that are not the usual trigonometric functions or other trivial classes</p>\n\n<p>I thought:</p>\n\n<p>Abstract class \"objects\" with common methods to redefine pure virtual (so no object instantiable).\n^\n|\npoint class\n^\n|\nClass polar (representation by storing point angle and distance from the top)</p>\n\n<p>Segment class derived from \"objects\"\n^\n|\nclass Square</p>\n\n<p>What do you think?\nOperations that can be implemented?</p>\n\n<p>For example I could have an operator <code>Distance</code> that a given segment and a square understand if the extreme <code>A | | B</code> is the one closest to the Square and vivecersa.</p>\n\n<p>Ideas?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":66,"score":-2,"question_id":11937860,"title":"QT C++ Framework QlistwidgetItem CONVERSION","body":"<p>I have a list you can fill it on your own with <code>QfileDialog</code> and put the selected files in a widgetList.</p>\n\n<p>I can access the list and colour all those items and do whatever I want to, except this one problem:</p>\n\n<p>I would like to select one item from the list and convert it somehow to <code>QStringList</code> so I can use it as a Phonon MediaSource.</p>\n\n<p>I don't know how I can extract this item, I want the text shown in <code>ListWidget</code> and put it in my <code>mediaObj</code> so I can play it.</p>\n\n<p>Here is a little bit of my code:</p>\n\n<p>How i open the FileDialog (works):</p>\n\n<pre><code> QStringList fileNames;\nQFileDialog fDialog(this);\nfDialog.setFileMode(QFileDialog::AnyFile);\nfDialog.setNameFilter(tr(\"Music(*.mp3)\"));\nfDialog.setViewMode(QFileDialog::Detail);\n\nwhile (true) {\n    if (fDialog.exec()) {\n        fileNames = fDialog.selectedFiles();\n        widget.list-&gt;addItems(fileNames);\n        musicObj-&gt;enqueue(fileNames.last());\n    } else {\n        break;\n    }\n}\n</code></pre>\n\n<p>How I access one item clicked in the list:</p>\n\n<pre><code> QListWidgetItem *list_itm = widget.list-&gt;currentItem();\n list_itm-&gt;setTextColor(Qt::red);\n</code></pre>\n\n<p>But I can extract the string shown on my cursor position.</p>\n"},{"tags":["qt","key","lookup","lookup-tables","qhash"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12522858,"title":"Implementing a QHash-like lookup with multiple keys","body":"<p>I'm trying to find the best way to implement a QHash-like lookup table that uses multiple keys to return one value. I have read that the Boost library has similar functionality, but I would like to avoid this if possible. </p>\n\n<p>An example of what I would like to do is as follows (obviously the following pseudo-code is not possible):</p>\n\n<pre><code>//First key (int) - Engine cylinders\n//Second key (int) - Car weight\n//Value (int) - Top speed\nMyLookup&lt;int, int, int&gt; m_Lookup\nm_Lookup.insert(6, 1000, 210);\nm_Lookup.insert(6, 1500, 190);\nm_Lookup.value(6, 1000); //Returns 210\n</code></pre>\n\n<p>My first (and extremely slow) idea was to just create a Struct, and iterate over a list until I find a qualifying item.</p>\n\n<pre><code>Struct Vehicle {\n   int cyl;\n   int weight;\n   int speed'\n}\n\nQList&lt;Vehicle&gt; carList; //Assume this is populated\nfor(i = 0; i &lt; carList.length; ++i) { \nif(carList[i].cyl == 6 &amp;&amp; carList[i].weight == 1000) {\nreturn carList[i].speed; } }\n</code></pre>\n\n<p>My other idea was to concatenate the two keys into one key, and implement a couple functions to combine and separate the two keys when needed. While this would work, and probably be a lot faster than a full iteration, it seems a bit hacked together.</p>\n\n<pre><code>QHash&lt;QString, int&gt; m_Lookup;\nm_Lookup.insert(\"6|1000\", 210);\n</code></pre>\n\n<p>Does anyone know of a better way to try and achieve this? </p>\n"},{"tags":["performance","qt","qgraphicsview","qlabel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12522775,"title":"QLabel vs QGraphicsView performance","body":"<p>I am learning QT and I am puzzled by the difference in performance of QLabel and QGraphics view while panning.</p>\n\n<p>I read a huge 36Mpixels (D800) jpeg file into either QLabel or QGraphics objects and try to drag the full scale image with QLabel/Graphics. Surprisingly, the QLabel provides really smooth movement while QGRaphicsView panning is jerky.</p>\n\n<p>The simplified QGraphicsView code is:</p>\n\n<pre><code>QApplication::setGraphicsSystem(\"raster\");    \n...\nQGraphicsView  view();\nview.setDragMode(QGraphicsView::ScrollHandDrag);\nview.setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setFrameStyle(QFrame::NoFrame);\nview.showFullScreen();\n\nQGraphicsPixmapItem *pmItem = new QGraphicsPixmapItem(pixMap);\nscene.addItem(pmItem); // only one item in the scene\n//view.setRenderHints(QPainter::Antialiasing | QPainter::SmoothPixmapTransform); // no difference\nview.show();\n</code></pre>\n\n<p>The simplified QLabel based code is:</p>\n\n<pre><code>void MyQLabel::mouseMoveEvent(QMouseEvent *event){\n    if(_leftButtonPressed) {\n            // calculate new {_x, _y} position\n            repaint();\n        }\n    } else super::mouseMoveEvent(event);\n}\nvoid MyQLabel::paintEvent(QPaintEvent *aEvent){\n    QPainter paint(this);\n    paint.drawPixmap(_x, _y, pixMap);\n}\n\n... // Somewhere in the code:\nMyQLabel _myLabel(NULL);\n_myLabel.showFullScreen();\n_myLabel.show();\n</code></pre>\n\n<p>It feels like QGraphicsView is skipping the over some positions (with fast dragging), while QLabel paints at all intermediate images.</p>\n\n<p>What do I miss?</p>\n\n<p>Thank you\nAlex</p>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":4,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":5233,"score":4,"question_id":3967808,"title":"QT and Visual Studio 2010","body":"<p>Can any one provide me with a step by step how-to for getting QT to work in VS 2010?</p>\n\n<p>I have:</p>\n\n<ul>\n<li>Visual Studio 2010 Ultimate </li>\n<li>Windows 7 Enterprise.</li>\n<li>qt-sdk-win-opensource-2010.05</li>\n<li>qt-vs-addin-1.1.7</li>\n</ul>\n\n<p>I tried executing this from Visual Studio command prompt:</p>\n\n<pre><code>configure.exe -platform win32-msvc2008 -no-webkit -no-phonon -no-phonon-backend -no-script -no-scripttools -no-multimedia -no-qt3support -fast\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>nmake\n</code></pre>\n\n<p>I installed the add in, but when I go to the QT menu and try to add a build, it says \"your build was built using MingW\"</p>\n"},{"tags":["qt","network-programming","http-headers","httpcookie","set-cookie"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12478128,"title":"How to download file from a site without requiring any authentication, using QNetworkAccessManager","body":"<p>How to download file from a site without requiring any authentication, if the user is already signed in to the site? Are we supposed to pass cookies. How to do that? I am using firefox browser.Exact scenario is like this.\nthere is a site which require authentication. I want that after the user has logged into the site through browser, i want that my code should take that cookie from\ncookie string provided by flashgot addon and send a get request to portal with that cookie so that authentication is not required. \nI tried this:\nI am passing cookies through a string, </p>\n\n<pre><code>  cookie=rPopHome=1; FF_JoinPromo=true; __utma=140252452.845088738.1348089486.1348089486.1348089486.1; __utmb=140252452.6.10.1348089486; __utmc=140252452; __utmz=140252452.1348089486.1.1.utmcsr=adf.ly|utmccn=(referral)|utmcmd=referral|utmcct=/7hYuB; ff_membership=SlyL0JODTZMIdfYHy/7imBJHqyHhO9ZHNE4bwnFPzoGYgPVEEneUMsfqaFDsqR+w9EotIx9i7PPL7ZIp1CiUSOtx0Y4mE1GmxayYmnJVD/z5aCTS2qT7fTItiqOprW8rlsEYw2Br7OoETaF3L1RGRQai1zlFQw6QO9qBEPKXC7rOx5LuEEKYlrZFKvuD/m7uDc6SWDJyaW67sRfo/bpb/Q==; ff_referrer_hash=o7e2qf0;\n\nrequest.setUrl(url);\nrequest.setAttribute(QNetworkRequest::HttpPipeliningAllowedAttribute, true);\ncookieJar-&gt;setCookiesFromUrl(QNetworkCookie::parseCookies(cookie),url.host());\nmanager.setCookieJar(cookieJar);\nreply=manager.get(request);\n</code></pre>\n\n<p>But i get the following error, the downloaded file contains this message:</p>\n\n<pre><code>&lt;h1&gt;HTTP/1.0 401 Unauthorized&lt;/h1&gt;\n     &lt;p&gt;You have attempted to download via a Premium download link, but we could not verify your Premium account details.&lt;/p&gt;\n     &lt;p&gt;&lt;/h1&gt;\n</code></pre>\n\n<p>I changed the user agent also,it still failed:</p>\n\n<pre><code>request.setRawHeader(\"User-Agent\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0.1\");\n</code></pre>\n"},{"tags":["linux","qt","embedded","qt-creator","embedded-linux"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12502333,"title":"Copying libraries with soft links to Remote Linux Device with Qt Creator","body":"<p>I'm experimenting with some open source code and I'm having trouble deploying it to a remote linux device.  The error happens when uploading the library's soft links.  I have the following:</p>\n\n<ul>\n<li>Ubuntu 10.04 running in VMWare Player on a Windows 7 machine</li>\n<li>An embedded linux device</li>\n<li>Qt Creator 2.4.1</li>\n</ul>\n\n<p>I've used the same system with other Qt projects and have been able to deploy to the remote linux target.  This project is different in that it uses a library with soft links.  Right now I have the following in my *.pro file:</p>\n\n<pre><code># remote deployment of libraries\ninstall_lib.path = /home/name\ninstall_lib.files = ../../lib/*\ninstall_lib.extra = cp ../../lib/* /home/name\n\n# install\ntarget.path = /home/name\nsources.path = /home/name\nINSTALLS += target sources install_lib\n</code></pre>\n\n<p>The error I receive is the following:</p>\n\n<pre><code>ln: invalid option -- 'v'\nBusyBox v1.19.4 (2012-09-11 06:53:36 PDT) multi-call binary.\n\nUsage: ln [OPTIONS] TARGET... LINK|DIR\n\nCreate a link LINK or DIR/TARGET to the specified TARGET(s)\n\n    -s  Make symlinks instead of hardlinks\n    -f  Remove existing destinations\n    -n  Don't dereference symlinks - treat like normal file\n    -b  Make a backup of the target (if exists) before link operation\n    -S suf  Use suffix instead of ~ when making backup files\n\n12:39:46: Failed to upload file '/home/name/Qt/proj/lib/libq.so'.\n12:39:46: Deploy step failed.\n</code></pre>\n\n<p>To my untrained eye, it looks like Qt is trying to use a command that is not supported by BusyBox on my device.  Is there a better way to move the files from my development environment to the device?  Chances are I won't need to change anything in the library, but I'd like the automatic upload if I do.</p>\n\n<p>By the way, I also tried using QMAKE_PRE_LINK and QMAKE_POST_LINK without success.  Same story with trying to add a Deploy Step in Qt Creator.  If there's another way to link my project with the library, I'd be willing to try that too.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here are portions of the Makefile to show what qmake is producing based on my *.pro file.</p>\n\n<pre><code>INSTALL_PROGRAM = install -m 755 -p\n\ninstall_install_lib: first FORCE\n    @$(CHK_DIR_EXISTS) $(INSTALL_ROOT)/home/name/ || $(MKDIR) $(INSTALL_ROOT)/home/name/ \n    cp ../../lib/* /home/name\n    -$(INSTALL_PROGRAM) (edit)/lib/libqhttpserver.so $(INSTALL_ROOT)/home/name/\n    -$(INSTALL_PROGRAM) (edit)/lib/libqhttpserver.so.0 $(INSTALL_ROOT)/home/name/\n    -$(INSTALL_PROGRAM) (edit)/lib/libqhttpserver.so.0.1 $(INSTALL_ROOT)/home/name/\n    -$(INSTALL_PROGRAM) (edit)/lib/libqhttpserver.so.0.1.0 $(INSTALL_ROOT)/home/name/\n</code></pre>\n\n<p>Honestly, it doesn't seem like the install_lib.extra field is doing much.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12515521,"title":"Finish building the Qt project","body":"<p>I've finished my program and I want to know how can I close the project, or every time I want to use it on a different computer I have to have Qt creator installed?</p>\n"},{"tags":["qt","drawing","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12480750,"title":"Remove single items/QLineF's from QGraphicsScene","body":"<p>I have drawn a grid into a <code>qgraphicsscene</code> with <code>QLineF</code>'s and you can add custom <code>qgraphicsitems</code> into the scene as blocks in the grid. I want to be able to redraw the grid with different spacing and indexing (indexes are just thicker lines).</p>\n\n<p>My problem is I do not know how to just remove the lines. I can remove everything from the scene but that takes too much work because I have to copy all my custom items into an array and then re-add them to the scene. I tried making a list of pointers into the lines but I can't delete the pointers. I also thought about adding the lines as children to a <code>qgraphicsitem</code> and deleting that item which would result into the deletion of all the lines but you can't set parents to the lines.</p>\n\n<p>How do I remove specific line components from a <code>QGraphicsScene</code>?</p>\n\n<p><strong>Like this: <code>scene-&gt;removeItem(..pointer..);</code> I was incorrectly catching the result of <code>scene-&gt;addItem(..)</code> as an object and then storing it's &amp;reference. When I store the result as a pointer I was able to manipulate the item again.</strong></p>\n"},{"tags":["qt","header","network-programming","http-headers"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12517741,"title":"QNetworkReply does not retrieve Content Disposition Header","body":"<pre><code>if(reply-&gt;rawHeaderList().contains(\"Content-Disposition\"))\n     check=reply-&gt;rawHeader(\"Content-Disposition\");\nelse\n     check=\"no result\";\n</code></pre>\n\n<p>The result is “no result” Is this a bug, or is there any work around! </p>\n"},{"tags":["qt","whiteboard"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12516064,"title":"Is it possible to capture QPainter as a video?","body":"<p>I want to make a whiteboard and share the whiteboard to other as video stream, I wan to know is it possible, and which library can be used ?</p>\n"},{"tags":["qt","client-server"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":63,"score":0,"question_id":12514391,"title":"Qt server and client programming","body":"<p>I created a server console app in Qt and now I'm creating a client gui app.</p>\n\n<p>Every time when I connect to the server my server side sends data to the client.</p>\n\n<pre><code>QTcpSocket *socket = server-&gt;nextPendingConnection();\nsocket-&gt;write(\"connection is available\");\n</code></pre>\n\n<p>In the client gui app must get this data by lineedit.</p>\n\n<p>How I can get data from the server in client side?</p>\n"},{"tags":["qt","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":157,"score":1,"question_id":12482464,"title":"cannot access QML object in C++ code","body":"<p>i'm working on a QML application (blackberry 10) and have a QML file like this:</p>\n\n<pre><code>import bb.cascades 1.0    \nPage {\n        content: Container {\n            id: containerID\n            Button {\n                id: button1\n                text: \"text\"\n                onClicked: {\n                }\n            }\n            Label {\n                id: label1\n                text: \"text\"\n            }\n        }\n    }\n</code></pre>\n\n<p>now i want to access the <code>label1</code> in my c++ code, so i have the following code:</p>\n\n<pre><code>#include \"app.hpp\"\n\n#include &lt;bb/cascades/Application&gt;\n#include &lt;bb/cascades/QmlDocument&gt;\n#include &lt;bb/cascades/AbstractPane&gt;\n\nusing namespace bb::cascades;\n\nApp::App()\n{\n    QmlDocument *qml = QmlDocument::create(\"main.qml\");\n    //-- setContextProperty expose C++ object in QML as an variable\n    //-- uncomment next line to introduce 'this' object to QML name space as an 'app' variable\n    //qml-&gt;setContextProperty(\"app\", this);\n\n    AbstractPane *root = qml-&gt;createRootNode&lt;AbstractPane&gt;();\n\n    QObject *labelTest = root-&gt;findChild&lt;QObject*&gt;(\"label1\");\n    if (labelTest)\n        labelTest-&gt;setProperty(\"text\", \"yes!!\");\n\n    Application::setScene(root);\n}\n</code></pre>\n\n<p>now i run the app, but the text of the label does not change.</p>\n\n<p><strong>what is wrong?</strong></p>\n"},{"tags":["c++","qt","sis"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":76,"score":0,"question_id":12505933,"title":"C++ using QT, cannot produce sis file","body":"<p>I am a little lost here. Can someone tell me what  I need to do to make my application produce a sis file? I am using Qt creator 4.7.3 and my PL is C++. </p>\n\n<p>Here is the error I am encountering:</p>\n\n<pre><code>:-1: Running command:\nC:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/tools/checklib.exe stdc++\n --elf C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/qtmain.lib\n Running command: C:/QtSDK/Symbian/tools/gcce4/bin/arm-none-symbianelf-g++.exe\n -Wl,-Ttext,0x8000 -Wl,--no-undefined -nodefaultlibs -Wl,--strip-debug -Wl,-shared -Wl,-Tdata,0x400000 -Wl,--default-symver '-Wl,-soname=Pet101{000a0000}[e4d7f725].exe' -Wl,--entry=_E32Startup\n -Wl,-u,_E32Startup,C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/eexe.lib\n -o C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/Pet101.exe.sym\n -Wl,-Map=C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/Pet101.exe.map\n @C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/build/pet101/c_31d850b872c33bc1/Pet101_exe/armv5/urel/Pet101_urel_objects.via\n --start-group C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/usrt3_1.lib\n --end-group C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/usrt3_1.lib\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/qtmain.lib\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtBearer.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtMessaging.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtOrganizer.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libstdcppv5.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtWebKit.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/phonon.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtMultimedia.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtOpenGL.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtGui.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtNetwork.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/QtCore.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libGLESv2.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libEGL.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libpthread.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libc.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libm.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/euser.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/libdl.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/stdnew.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/drtaeabi.dso\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/lib/dfpaeabi.dso\n -lsupc++ -lgcc\n     c:/qtsdk/symbian/tools/gcce4/bin/../lib/gcc/arm-none-symbianelf/4.4.1/../../../../arm-none-symbianelf/bin/ld.exe:\n warning:\n C:/QtSDK/Symbian/SDKs/Symbian3Qt474/epoc32/release/armv5/urel/usrt3_1.lib(ucppinit.o)\n uses variable-size enums yet the output is to use 32-bit enums; use of\n enum values across objects may fail\n     c:/qtsdk/symbian/tools/gcce4/bin/../lib/gcc/arm-none-symbianelf/4.4.1/../../../../arm-none-symbianelf/bin/ld.exe:\n section .data loaded at [00400000,00400003] overlaps section .rodata\n loaded at [00054488,004627a3]\n     collect2: ld returned 1 exit status\n</code></pre>\n"},{"tags":["c++","qt","table"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":633,"score":1,"question_id":3759588,"title":"QTableView - samples","body":"<p>How to use QTableView in Nokia QT SDK(for mobiles). I referred some of documents but still I am not clearing about the QTableView. Please any one suggest the how to use the QTableView.</p>\n\n<p>I want to show the QTableView with three columns. </p>\n\n<p>Thanks is advance.</p>\n"},{"tags":["qt","linguistics"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12509616,"title":"Qt linguist why I cant alter the default translation","body":"<p>I tried to open one of the default ts files from the linguist tool and figured that I am not able to edit the translations, If I have installed the binaries.but then I am able to do it if I have built the source my self. Could some one explain why this is ?</p>\n"},{"tags":["c++","qt","compiler-errors","exit","status"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":359,"score":2,"question_id":12509187,"title":"collect2: Ld returned 1 exit status build make error","body":"<p>Compiler: Qt\nLanguage: C++</p>\n\n<p>This program is just not for me haha, this is the third time I've had to ask for help, and it's driving me crazy (thank you everyone for being so patient and helpful with me)</p>\n\n<p>I tried running my program (again for the millionth time) Since I can't get the ostream sorted out, I commented out all the cout functions in my main so I could deal with the rest of my code. But when I try to run it I get collect2: ld returned 1 exit status in my build issues.</p>\n\n<p>I switched to Compile Output... and gosh..</p>\n\n<blockquote>\n  <p>Running build steps for project List...\n  Configuration unchanged, skipping qmake step.\n  Starting: \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" -w\n  mingw32-make: Entering directory `C:/Qt/2010.05/bin/List-build-desktop'</p>\n  \n  <p>C:/Qt/2010.05/mingw/bin/mingw32-make -f Makefile.Debug</p>\n  \n  <p>mingw32-make[1]: Entering directory\n  `C:/Qt/2010.05/bin/List-build-desktop'</p>\n  \n  <p>g++ -enable-stdcall-fixup -Wl,-enable-auto-import\n  -Wl,-enable-runtime-pseudo-reloc -Wl,-subsystem,console -mthreads -Wl -o debug\\List.exe debug/main.o debug/list.o  -L\"c:\\Qt\\2010.05\\qt\\lib\" -lQtCored4 </p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:194:\n  undefined reference to `List::getNewNode(double const&amp;)'</p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:215:\n  undefined reference to `List::getNewNode(double const&amp;)'</p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:215:\n  undefined reference to `List::getNewNode(int const&amp;)'</p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:194:\n  undefined reference to `List::getNewNode(int const&amp;)'</p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:466:\n  undefined reference to `List::getNewNode(int const&amp;)'</p>\n  \n  <p>debug/main.o:C:\\Qt\\2010.05\\bin\\List-build-desktop/../List//List.h:466:\n  undefined reference to `List::getNewNode(double const&amp;)'</p>\n  \n  <p>collect2: ld returned 1 exit status</p>\n  \n  <p>mingw32-make[1]: Leaving directory\n  `C:/Qt/2010.05/bin/List-build-desktop'</p>\n  \n  <p>mingw32-make: Leaving directory `C:/Qt/2010.05/bin/List-build-desktop'</p>\n  \n  <p>mingw32-make[1]: <em>*</em> [debug\\List.exe] Error 1</p>\n  \n  <p>mingw32-make: <em>*</em> [debug] Error 2</p>\n  \n  <p>The process \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" exited with\n  code %2. Error while building project List (target: Desktop) When\n  executing build step 'Make'</p>\n</blockquote>\n\n<p>That's basically what I got. I have 2 header files and one source file. \nHeaders: ListNode.h and list.h and my cpp is main.cpp</p>\n\n<p>everything links to each other, so i don't understand why it's giving me undefined reference errors. </p>\n\n<p>All my other friends have pretty much given up on this assignment, and I refuse to give up. I just won't go to bed tonight ha. Thanks again for the help!</p>\n\n<p>EDIT::-- CODE</p>\n\n<p>ListNode.h</p>\n\n<pre><code>#ifndef LISTNODE_H\n#define LISTNODE_H\n\ntemplate&lt;typename NODETYPE&gt; class List;\n\ntemplate&lt;typename NODETYPE&gt;\nclass ListNode\n{\n    friend class List&lt; NODETYPE &gt;;\n\npublic:\n    ListNode(const NODETYPE &amp;);\n    NODETYPE getData() const;\nprivate:\n    NODETYPE data;\n    ListNode&lt; NODETYPE &gt; *nextPtr;\n\n};\n\ntemplate&lt;typename NODETYPE&gt;\nListNode&lt; NODETYPE &gt;::ListNode(const NODETYPE &amp;info)\n    :data(info), nextPtr(0)\n{\n\n}\n\ntemplate&lt;typename NODETYPE&gt;\nNODETYPE ListNode&lt; NODETYPE &gt;::getData() const\n{\n    return data;\n}\n\n\n#endif // LISTNODE_H\n</code></pre>\n\n<p>I won't put everything, because it's a lot... this is the List.h..I can only imagine how much of it is still wrong, but I can't check because the error...</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing std::cout;\n\n#include &lt;fstream&gt;\n\n#include &lt;string&gt;\nusing std::ostream;\n\n#include \"ListNode.h\"\n\ntemplate&lt; typename NODETYPE &gt;\nclass List\n{\n  //template &lt;typename OUTPUT &gt;\n  //friend ostream &amp;operator &lt;&lt;(ostream &amp;, const List&lt;NODETYPE&gt; &amp; );\n\npublic:\n    List();\n    ~List();\n    void insertAtFront( const NODETYPE &amp; );\n    void insertAtBack( const NODETYPE &amp; );\n    bool removeFromFront( NODETYPE &amp; );\n    bool removeFromBack( NODETYPE &amp; );\n    bool isEmpty() const;\n    void print() const;\n\n\n    bool append(const NODETYPE &amp;);\n    bool add_n(int, const NODETYPE &amp;);\n    bool concat(List&amp;);\n    void reverse();\n    bool remove_last();\n    bool remove_n(int);\n    void sort();\n    bool merge(List&amp;);\n    void add_in(const NODETYPE &amp;);\n    void remove(const NODETYPE &amp;);\n    NODETYPE sum();\n    int count();\n\nprivate:\n    ListNode&lt; NODETYPE &gt; *firstPtr;\n    ListNode&lt; NODETYPE &gt; *lastPtr;\n\n    ListNode&lt; NODETYPE &gt; *getNewNode( const NODETYPE &amp;);\n\n};\n\ntemplate&lt;typename NODETYPE&gt;\nList&lt;NODETYPE&gt;::List()\n    : firstPtr(0), lastPtr(0)\n{\n\n}\n\ntemplate&lt; typename NODETYPE&gt;\nList&lt;NODETYPE&gt;::~List()\n{\n    if( !isEmpty() )\n    {\n        cout &lt;&lt; \"Destroying Nodes...\\n\";\n\n        ListNode&lt; NODETYPE &gt; *currentPtr = firstPtr;\n        ListNode&lt; NODETYPE &gt; *tempPtr;\n\n        while ( currentPtr != 0)\n        {\n            tempPtr = currentPtr;\n            cout &lt;&lt; tempPtr-&gt;data &lt;&lt; \"\\n\";\n            currentPtr = currentPtr-&gt;nextPtr;\n            delete tempPtr;\n        }\n    }\n\n    cout &lt;&lt; \"All nodes destroyed \\n\\n\";\n}\n\ntemplate&lt; typename NODETYPE &gt;\nvoid List&lt; NODETYPE&gt;::insertAtFront(const NODETYPE &amp;value)\n{\n    ListNode&lt; NODETYPE &gt; *newPtr = getNewNode (value);\n\n    if( isEmpty())\n        firstPtr = lastPtr = newPtr;\n    else\n    {\n        newPtr-&gt;nextPtr = firstPtr;\n        firstPtr = newPtr;\n    }\n}\n\ntemplate&lt; typename NODETYPE &gt;\nvoid List&lt;NODETYPE&gt;::insertAtBack(const NODETYPE &amp;value)\n{\n    ListNode&lt;NODETYPE&gt; *newPtr = getNewNode(value);\n\n    if( isEmpty())\n        firstPtr = lastPtr = newPtr;\n    else\n    {\n        lastPtr-&gt;nextPtr = newPtr;\n        lastPtr = newPtr;\n    }\n}\n\ntemplate&lt; typename NODETYPE &gt;\nbool List&lt;NODETYPE&gt;::removeFromFront(NODETYPE &amp;value)\n{\n    if(isEmpty())\n        return false;\n    else\n    {\n        ListNode&lt;NODETYPE&gt; *tempPtr = firstPtr;\n\n        if(firstPtr == lastPtr)\n            firstPtr = lastPtr = 0;\n        else\n            firstPtr = firstPtr-&gt;nextPtr;\n\n        value = tempPtr-&gt;data;\n        delete tempPtr;\n        return true;\n    }\n}\n\ntemplate&lt;typename NODETYPE&gt;\nbool List&lt;NODETYPE&gt;::removeFromBack(NODETYPE &amp;value)\n{\n    if( isEmpty())\n        return false;\n    else\n    {\n        ListNode&lt;NODETYPE&gt; *tempPtr = lastPtr;\n\n        if(firstPtr == lastPtr)\n            firstPtr = lastPtr = 0;\n        else\n        {\n            ListNode&lt;NODETYPE&gt; *currentPtr = firstPtr;\n\n            while (currentPtr-&gt;nextPtr != lastPtr)\n                currentPtr = currentPtr-&gt;nextPtr;\n\n            lastPtr=currentPtr;\n            currentPtr-&gt;nextPtr = 0;\n        }\n        value = tempPtr-&gt;data;\n        delete tempPtr;\n        return true;\n    }\n}\n\ntemplate&lt;typename NODETYPE&gt;\nbool List&lt;NODETYPE&gt;::isEmpty() const\n{\n    return firstPtr == 0;\n}\n\ntemplate&lt;typename NODETYPE&gt;\nvoid List&lt;NODETYPE&gt;::print() const\n{\n    if( isEmpty())\n    {\n        cout&lt;&lt;\"The list is empty \\n\\n\";\n        return;\n    }\n    ListNode&lt;NODETYPE&gt; *currentPtr = firstPtr;\n\n    cout&lt;&lt; \"The list is: \";\n\n    while(currentPtr != 0)\n    {\n        cout&lt;&lt;currentPtr-&gt;data&gt;&gt; ' ';\n        currentPtr = currentPtr-&gt;nextPtr;\n    }\n\n    cout&lt;&lt; \"\\n\\n\";\n}\n\n/*template&lt;typename NODETYPE&gt;\nostream &amp;operator &lt;&lt;(ostream &amp;output, const List&lt;NODETYPE&gt;&amp; value)\n{\n    output &lt;&lt; value;\n    return output;\n}*/\n\n\ntemplate&lt;typename NODETYPE&gt;\nbool List&lt;NODETYPE&gt;::append(const NODETYPE &amp;value)\n{\n    ListNode&lt;NODETYPE&gt; *newPtr = getNewNode(value);\n\n   if(isEmpty())\n   {\n        firstPtr = lastPtr = newPtr;\n        return true;\n    }\n    else\n    {\n        ListNode&lt;NODETYPE&gt; *tempPtr = lastPtr;\n\n        tempPtr-&gt;nextPtr=newPtr;\n        lastPtr = newPtr;\n        return true;\n    }\n\n}\n\ntemplate&lt;typename NODETYPE&gt;\nbool List&lt;NODETYPE&gt;::add_n(int a, const NODETYPE &amp;value)\n{\n    ListNode&lt;NODETYPE&gt; *newPtr = getNewNode(value);\n\n    if(isEmpty())\n    {\n        firstPtr = lastPtr = newPtr;\n        return true;\n    }\n    if(a &lt;= count())\n    {\n        lastPtr-&gt;nextPtr = newPtr;\n        lastPtr = newPtr;\n        return true;\n    }\n    else\n    {\n        ListNode&lt;NODETYPE&gt; *currentPtr = firstPtr;\n        for(int cntr = 1; cntr &lt; count(); cntr++)\n        {\n            if(cntr == a)\n            {\n                newPtr-&gt;nextPtr = currentPtr-&gt;nextPtr;\n                currentPtr-&gt;nextPtr = newPtr;\n                return true;\n            }\n\n            currentPtr = currentPtr-&gt;nextPtr;\n        }\n        return false;\n    }\n}\n\ntemplate&lt;typename NODETYPE&gt;\nbool List&lt;NODETYPE&gt;::concat(List&lt;NODETYPE&gt; &amp;li)\n{\n    if(isEmpty())\n        return false;\n    if(li.isEmpty())\n        return false;\n    else\n    {\n        ListNode&lt;NODETYPE&gt; *tempPtr = lastPtr;\n\n        tempPtr-&gt;nextPtr = li.firstPtr;\n        tempPtr = tempPtr-&gt;nextPtr;\n\n        while(tempPtr-&gt;nextPtr != 0)\n            tempPtr = tempPtr-&gt;nextPtr;\n\n        lastPtr = tempPtr;\n\n        return true;\n\n    }\n\n}\n\ntemplate&lt;typename NODETYPE&gt;\nvoid List&lt;NODETYPE&gt;::reverse()\n{\n    if(isEmpty())\n        return;\n    else\n    {\n       int chk = count();\n       ListNode&lt;NODETYPE&gt; *currentPtr = firstPtr-&gt;nextPtr;\n       ListNode&lt;NODETYPE&gt; *tempPtr = firstPtr;\n       ListNode&lt;NODETYPE&gt; *tempPtr2;\n\n       for(int a = 1; a &lt; chk; a++)\n       {\n           tempPtr2 = currentPtr-&gt;nextPtr;\n           tempPtr-&gt;nextPtr = currentPtr-&gt;nextPtr;\n           currentPtr-&gt;nextPtr = firstPtr;\n           firstPtr = currentPtr;\n           currentPtr = tempPtr2;\n\n       }\n\n       lastPtr = tempPtr;\n    }\n}\n</code></pre>\n\n<p>main.cpp </p>\n\n<pre><code>#include \"List.h\"\n\n#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\n\n\nint main()\n{\n  List&lt;int&gt; Li, Li2, Li3;\n  List&lt;double&gt; Ld, Ld2;\n\n  Ld.append(11.1);\n  Ld.append(22.2);\n  Ld.append(33.3);\n  Ld.add_n(35.5,2);\n  //cout &lt;&lt; \"Ld is: \" &lt;&lt; Ld &lt;&lt; endl;\n\n  Ld.reverse();\n  //cout &lt;&lt; \"Ld is: \" &lt;&lt; Ld &lt;&lt; endl;\n\n  Li.add_n(15,-1);\n  Li.add_n(16,0);\n  Li.add_n(17,1);\n  Li.append(10);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n\n  Li2.append(5);\n  Li2.append(6);\n  Li2.add_n(7,2);\n  Li2.add_n(8,1);\n  //cout &lt;&lt; \"Li2 is: \" &lt;&lt; Li2 &lt;&lt; endl;\n\n  // You shouldn't use Li2 after the concatenation, because the\n  // elements aren't copied, just connected to form one list.\n\n  Li.concat(Li2);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n  //cout &lt;&lt; \"Li2 is: \" &lt;&lt; Li2 &lt;&lt; endl;\n\n  Li.sort();\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n\n  Li3.append(20);\n  Li3.append(10);\n  Li3.add_n(50,1);\n  Li3.add_n(40,3);\n  //cout &lt;&lt; \"Li3 is: \" &lt;&lt; Li3 &lt;&lt; endl;\n\n  Li.merge(Li3);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n  //cout &lt;&lt; \"Li3 is: \" &lt;&lt; Li3 &lt;&lt; endl;\n\n  Li3.sort();\n  //cout &lt;&lt; \"Li3 is: \" &lt;&lt; Li3 &lt;&lt; endl;\n\n  // Li3 should not be used after the merge, since the nodes have been removed.\n\n  Li.merge(Li3);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n\n  Li.add_in(25);\n  Li.add_in(4);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n\n  Li.remove(10);\n  Li.remove(50);\n  //cout &lt;&lt; \"Li is: \" &lt;&lt; Li &lt;&lt; endl;\n\n  Ld.add_in(14.3);\n  Ld.remove(14.3);\n  //cout &lt;&lt; \"Ld is: \" &lt;&lt; Ld &lt;&lt; endl;\n\n  Ld2 = Ld;\n  //cout &lt;&lt; \"Ld is: \" &lt;&lt; Ld &lt;&lt; endl;\n  //cout &lt;&lt; \"Ld2 is: \" &lt;&lt; Ld2 &lt;&lt; endl;\n\n  Ld.sort();\n  //cout &lt;&lt; \"Ld is: \" &lt;&lt; Ld &lt;&lt; endl;\n  //cout &lt;&lt; \"Ld2 is: \" &lt;&lt; Ld2 &lt;&lt; endl;\n\n  cout &lt;&lt; \"Li has \" &lt;&lt; Li.count() &lt;&lt; \" nodes with a total value of \"\n      &lt;&lt; Li.sum() &lt;&lt; endl;\n\n  cout &lt;&lt; \"Ld has \" &lt;&lt; Ld.count() &lt;&lt; \" nodes with a total value of \"\n       &lt;&lt; Ld.sum() &lt;&lt; endl;\n\n\n  return 0;\n}\n</code></pre>\n\n<p>.pro file as requested</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-09-20T02:33:43\n#\n#-------------------------------------------------\n\nQT       += core\n\nQT       -= gui\n\nTARGET = List\nCONFIG   += console\nCONFIG   -= app_bundle\n\nTEMPLATE = app\n\n\nSOURCES += main.cpp \\\n    list.cpp\n\nHEADERS += \\\n    list.h \\\n    ListNode.h\n</code></pre>\n"},{"tags":["qt","web-applications","dialog","webkit","motif"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":12509362,"title":"How to integrate WebKit into legacy Motif application","body":"<p>We have a large and complex legacy Motif application into which we would like to integrate the WebKit (http://trac.webkit.org/wiki).\nI'm not aware of a Motif port of the WebKit (at least didn't find one), but found that it works with Qt, which has even good support for it with the QWebKit (see <a href=\"http://doc.qt.digia.com/4.7/qtwebkit.html\" rel=\"nofollow\">http://doc.qt.digia.com/4.7/qtwebkit.html</a>).\nQt can be integrated into Motif with the Qt Motif extension (see <a href=\"http://docs.huihoo.com/qt/solutions/4/qtmotifextension/qtmotif-overview.html\" rel=\"nofollow\">http://docs.huihoo.com/qt/solutions/4/qtmotifextension/qtmotif-overview.html</a>).</p>\n\n<p>Has anybody already tried this and found it to be a workable solution? Or is there even a better way to archieve this?</p>\n\n<p>Some background why we want to do this:\nThe application is to be changed step by step into modern technology. A part of it (many dialogs) will turn into a web application (could be JSF or GWT). To have this dialogs still available in the old App, the idea is to use the Webkit to display the ported dialogs directly in the Motif App.</p>\n"},{"tags":["c++","qt","network-programming","httpwebrequest","http-headers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":12505661,"title":"Is to possible to find filename from http headers","body":"<p>Usually when downloading files, suppose using QNetworkAccessManager, the filename is not present at the end of link. How to get proper file names in that case. Even if link doesn't contain a hint of name, firefox always downloads the file with its proper name and extension. We can get a hint of extention using mime-types but what about file names.</p>\n"},{"tags":["c++","qt","qt4","icons","release"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":11193889,"title":"Icons disappear on an other computer","body":"<p>I've created a program with Qt Creator and compiled it with the release mode.\nI've added all the necessary DLLs and everything runs fine on my computer.</p>\n\n<p>The problem is that when I start the program from an other computer all the icons that I've included are not displayed, whereas everything looks fine on my computer.</p>\n\n<p>Where can this come from?</p>\n\n<p>Edit: The icons are loaded in a qrc file...</p>\n"},{"tags":["qt","gui","colors","cursor","inverse"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12478615,"title":"Inverting cursor colors in QT","body":"<p>I am learning QT programming and I wonder if there is an easy way to dynamically set cursor colors to be exact inverse of the colors under the cursor. I assume that the exact shape of the cursor is unknown during the compilation time and cursors can be overloaded through resources. </p>\n\n<p>Just give me some general directions, no need to write a fully working code for me :)</p>\n\n<p>Thank you,\nAlex</p>\n"},{"tags":["c++","qt","qgraphicsview","qgraphicsscene","qpainter"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":12501745,"title":"`paint` method isn't called after `QGraphicsView` scroll","body":"<p>I have a <code>QGraphicsItem</code> on scene. <code>hoverEnterEvent</code> is reimplemented for this item. This is the code from <code>hoverEnterEvent</code>:</p>\n\n<pre><code>grabber = new agnt::A_CornerGrabber(A_CornerGrabber::TOP_RIGHT,this,8,3);\nassert(grabber);\ngrabber-&gt;installSceneEventFilter(this);\nupdate(boundingRect());\n</code></pre>\n\n<p><code>A_CornerGrabber</code> is a class inherited from <code>QGraphicsRectItem</code>. The idea is when you hover item a grabber appears so you can drag it to resize main item.</p>\n\n<p>It works OK until I scroll graphicsview so, that first item is not whole in the view. And afetr this hoverEnterEvent still called, grabber ctor still called, but <code>grabber-&gt;paint()</code> method isnt called anymore.\nHere is <code>grabber-&gt;paint()</code>:</p>\n\n<pre><code>    painter-&gt;setPen(Qt::NoPen);\n    QRectF pRect  = parent-&gt;boundingRect();\n    painter-&gt;drawRect(rect());\n    setPos(pRect.bottomRight().x()-size-adjust,pRect.bottomRight().y()-size-adjust);\n</code></pre>\n\n<p>Why is that? </p>\n\n<p>P.S. Everything worked fine some time ago before I made some changes to my code. Unfortunately I can't restore old code and I cant understand what exactly spoiled <code>grabber-&gt;paint()</code>.</p>\n\n<p>EDIT: added sceneEventFilter()</p>\n\n<pre><code>if(event-&gt;type()== 155)\n{\n    QGraphicsSceneMouseEvent* me = dynamic_cast&lt;QGraphicsSceneMouseEvent*&gt;(event);\n    if(!me) return true;\n    if(rect().adjusted(0,0,me-&gt;pos().x()-me-&gt;lastPos().x(),0).width()&gt;xStep)\n    {\n        prepareGeometryChange();\n        int relX = me-&gt;pos().x() - xOffset;\n        int newRelX = me-&gt;lastPos().x() - xOffset;\n        int steps = relX/xStep;\n        int newSteps = newRelX/xStep;\n        setWidth(getWidth()+xStep*(steps-newSteps));\n        setInitialTime(QString::number(getTime().toInt()+(steps - newSteps) ) );// my func\n    }\n}\nif(event-&gt;type()== 187)\n{\n    dynamic_cast&lt;agnt::A_GntGV*&gt;(scene()-&gt;views().at(0))-&gt;timeChanged(getT(),getId());\n    //my func, has nothing to do with painting\n}\n\nif(event-&gt;type()==160||event-&gt;type()==162)\n    return false;\nreturn true;\n</code></pre>\n\n<p>EDIT 2: I think sceneEventFilter() doesnt even matter. The problem persist if I comment</p>\n\n<pre><code>//grabber-&gt;installSceneEventFilter(this);\n</code></pre>\n"},{"tags":["qt","qtableview","qdockwidget"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":57,"score":1,"question_id":12497550,"title":"Qtableview resize","body":"<p>I have several qdockwidget and within these a qtableview, as seen in the attached <a href=\"http://www.qtcentre.org/attachment.php?attachmentid=8228&amp;d=1348059875\" rel=\"nofollow\">picture</a>, my problem is I want the tables are the same size of the dock.</p>\n\n<p>I tried to do this and it does not work:</p>\n\n<pre><code>table-&gt; resize (dock-&gt; size());\n</code></pre>\n\n<p>I hope you can help me.</p>\n\n<p>thanks</p>\n"},{"tags":["image","qt","drawing","qpainter","qscrollarea"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12045914,"title":"Drawing on an image which is inside a QScrollArea?","body":"<p>If I subclass QLabel and I add a QLabel directly to my QDialog, it works fine. If I add this label inside a ScrollArea, the thing I’m drawing doesn’t show unless I resize the dialog itself. Yes, weird.</p>\n\n<p>I’ve setup compilable example code that indicates what the problem is. What I am trying to do is to select an area of an image with my mouse, by drawing a rectangle on the corresponding area. The images my program is designed to work with can be very large, and thus, I need to have a scroll area so as the dialog to stay at a logical dimension, and not to fill the entire screen (or even multiple workspaces, if we are talking about a linux machine with multiple desktops).</p>\n\n<p>Everything works fine, except that the drawing (selection-rectangle) isn’t visible unless the dialog is resized – manually. I think I have to update something while drawing, but I’m not sure what. Well, here’s the example code: <a href=\"http://paste.ubuntu.com/1151553/\" rel=\"nofollow\">http://paste.ubuntu.com/1151553/</a></p>\n\n<p>Another issues that I don’t know how to solve (and I want your suggestions there) are (1) when the user is selecting an area, how to set it to automatically scroll when the user actually selects an area by pushing against to a wall of the scroll area (I guess I am understandable here). (2) is there a way to let the user select a rectangle and then, when he left-clicks on a position with holding down the [Shift] button, the bottom right edge of his previous selection to actually go through the point he clicks at?</p>\n\n<p>The <a href=\"http://doc.qt.nokia.com/4.7-snapshot/layout.html\" rel=\"nofollow\">documentation</a> indicates that you have to set a Layout somehow somewhere, but I'm not sure how to do this to my occassion.</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["qt","desktop","kde","lightweight"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":82,"score":0,"question_id":12504994,"title":"Is there any way to make KDE lightweight and fast on old PCs","body":"<p>I really like KDE but it is really slow on my old PC. Is there any way to make it fast? </p>\n"},{"tags":["qt","qt4","pyqt","pyqt4"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1609,"score":4,"question_id":1224432,"title":"How do I respond to an internal drag-and-drop operation using a QListWidget?","body":"<p>I've got a Qt4 application (using the PyQt bindings) which contains a <code>QListWidget</code>, initialized like so:</p>\n\n<pre><code>class MyList(QtGui.QListWidget):\n    def __init__(self):\n        QtGui.QListWidget.__init__(self)\n        self.setDragDropMode(self.InternalMove)\n</code></pre>\n\n<p>I can add items, and this allows me to drag and drop to reorder the list.  But how do I get notification when the list gets reordered by the user?  I tried adding a <code>dropMimeData(self, index, data, action)</code> method to the class, but it never gets called.</p>\n"}]}
{"total":16229,"page":16,"pagesize":100,"questions":[{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12501140,"title":"QT QString from QDataStream","body":"<p>I'm working with a buffer and I'm trying to get a string from it, but isnt working... </p>\n\n<p>Example:</p>\n\n<pre><code>*void myFunc(QDataStream&amp; in)\n{\n    quint8 v;\n    in &gt;&gt; v;\n    // Ok, I caught v value successfuly\n    QString s;\n    in &gt;&gt; s;\n    // Didnt work :&lt;\n}*\n</code></pre>\n\n<p>The string lenght is stored on 2 first bytes...</p>\n\n<p>Thanks</p>\n"},{"tags":["linux","qt","embedded","arm"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":155,"score":1,"question_id":12482523,"title":"QT building applications for arm linux","body":"<p>I got a little confused when it comes to QT and cross compiling\nappliations for my arm-linux:</p>\n\n<p>So far I have a linux running on my AT91SAM9263-EK and an appropriate\nfilessystem including QT libs build via buildroot.</p>\n\n<p>Also I have build QT-4.8 on my ubuntu.</p>\n\n<p>Now I want to build an example application:</p>\n\n<ol>\n<li><p>I created a makefile in an examples folder in QT on my ubuntu using\nqmake; I used the given qmake.conf in mkspecs/qws/linux-arm-g++.</p></li>\n<li><p>when executing make I get an error because it includes qatomic_i386.h\nand the message \"error: impossible constraint in 'asm'\".\nthis header file does obviously not match to my arm toolchain.</p></li>\n</ol>\n\n<p>my question:\nhow to configure Qt on my ubuntu to build Qt binaries for my embedded linux\non arm? Do I need to include any libs build by the arm toolchain?</p>\n\n<p>any help is appreciated!</p>\n\n<p>regards</p>\n\n<p>EDIT:\nI use the -spec flag and pass the path to \"mkspecs/qws/arm-linux-g++\" where a \"qmake.conf\" is located. I did not change anything in here because I dont know wich qmake variable are relevant to link to my arm related libs.\nSo the right compiler is used, which I could verify when the make process starts. But I observed that in a config file called qconfig.h there is an ARCH flag which is set to i386 but I didnt figure out how one can configure this. I dont think I should manually edit this file.</p>\n\n<p>EDIT2:\nsomeone knows whats behind the file qconfig.h?? should I adjust it manually?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":12496746,"title":"Using QString causes crash after QMap::remove","body":"<p>I have the following code:</p>\n\n<pre><code>class NamedObjectContainer {\n    //...\n    QMap&lt;QString, SomeStruct&gt; mUsed;\n    //...\n};\n\nconst StoredObject* NamedObjectContainer::use(const QString&amp; name, const QString&amp; userId)\n{\n    qDebug()&lt;&lt;userId;\n    mUsed.remove(userId);\n    qDebug()&lt;&lt;userId;\n    //...\n}\n</code></pre>\n\n<p>Here I'm trying to remove element from QMap by key (userId). Element is removed correctly. But surprisingly it crashes printing userId after QMap::remove.</p>\n\n<pre><code>Program received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0xb5b2c6c0 (LWP 24041)]\n0xb5fe899c in memcpy () from /lib/i686/nosegneg/libc.so.6\n(gdb) where\n#0  0xb5fe899c in memcpy () from /lib/i686/nosegneg/libc.so.6\n#1  0xb7263246 in QString::append () from /home/osmin/stand_cl_dir/Qt4_x86-linux/lib   /libQtCore.so.4\n#2  0xb72b6641 in ?? () from /home/osmin/stand_cl_dir/Qt4_x86-linux/lib/libQtCore.so.4\n#3  0xb72b218b in QTextStream::operator&lt;&lt; () from /home/osmin/stand_cl_dir/Qt4_x86-linux/lib/libQtCore.so.4\n#4  0xb6524740 in QDebug::operator&lt;&lt; () from /usr/lib/libqxmlrpc.so.1\n#5  0xb62b5cc0 in tabexchange::NamedObjectContainer::use (this=0x9e2fb08, name=@0xbffe85e4, userId=@0xa12b780) at namedcontainer.cpp:208\n</code></pre>\n\n<p>What can cause the problem? I'm using Qt 4.4.3</p>\n"},{"tags":["linux","qt","desktop","gnome","kde"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":781,"score":4,"question_id":3376679,"title":"Qt - how to detect whether the application is running on GNOME or KDE?","body":"<p>I was wondering how I could do something like this (<a href=\"http://ubuntuforums.org/showpost.php?s=2541e8a6a069d860d0e75b441b800bc5&amp;p=4032584&amp;postcount=10\" rel=\"nofollow\" title=\"link\">source</a>) using Qt. I looked through the documentation but couldn't find any method to check if an external process is running.</p>\n\n<pre><code>if [ \"$(pidof ksmserver)\" ]; then\n   echo \"KDE running.\"\n   # KDE-specific stuff here\nelif [ \"$(pidof gnome-session)\" ]; then\n   echo \"GNOME running.\"\n   # GNOME-specific stuff here\nelif [ \"$(pidof xfce-mcs-manage)\" ]; then\n   echo \"Xfce running.\"\n   # Xfce-specific stuff here\nfi\n</code></pre>\n"},{"tags":["c++","qt","dependencies","dependency-management","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12499251,"title":"How do you tell a Qt app to depend on a Qt lib?","body":"<p>I have a codebase where there are some shared libraries. For example LIB1 does some sort of processing that APP1 needs (depends on).</p>\n\n<p>The qmake *.pro files are setup like the following. There is one root *.pro that is a <code>TEMPLATE=subdirs</code> that lists APP1 and LIB1 as it's subdirs.</p>\n\n<p>LIB1.pro:</p>\n\n<pre><code>TARGET = LIB1\nTEMPLATE = lib\n\nQT += core\nQT += xml\n\nDESTDIR = path/to/libs/directory\n\nSOURCES += \\\n    File1.cpp \\\n    FileN.cpp\n\nHEADERS += \\\n    File1.h \\\n    FileN.h\n</code></pre>\n\n<p>APP1.pro:</p>\n\n<pre><code>#------ dependencies ------#\nLIBS += -Lpath/to/libs/directory\n# LIB1\nINCLUDEPATH += path/to/libs/directory/LIB1lib\nDEPENDPATH += path/to/libs/directory/LIB1lib\nLIBS += -lLIB1\n\nHEADERS       = \\\n    FileNplus1.h \\\n    FileM.h\nSOURCES       = \\\n    FileNplus1.cpp \\\n    FileM.cpp\n</code></pre>\n\n<p>The problem is that when you compile the root *.pro file LIB1 will compile but APP1 fails to compile with the error <code>QDomElement: No such file or directory</code> because APP1.pro doesn't have <code>QT += xml</code>.</p>\n\n<p>There is a hack that I use but I would like to overcome this hack. The hack involves adding the following line to APP1.pro:</p>\n\n<pre><code># add this to APP1.pro... let's it compile again\nQT += xml\n</code></pre>\n\n<p><strong>Is there anyway to setup your qmake *.pro files such that, <code>APP1.pro</code> depends on LIB1 without needing to modify <code>APP1.pro</code> to add the <code>QT += xml</code>?</strong></p>\n\n<p>(The reason for this question is let's say you have other libraries that depend on other stuff... I would like to have Qt/Qmake take care of the dependencies like for example the <code>Qt += xml</code> dependency.)</p>\n"},{"tags":["c++","qt","nokia","datetimeoffset"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":718,"score":0,"question_id":4364858,"title":"QT: How to get the GMT offset of a device?","body":"<p>All is in the title! I develop on QT 4.7.1 and it's for on a Nokia N8.</p>\n\n<p>I've think that i need to use: QDateTime and timeSpec (Qt::OffsetFromUTC).</p>\n\n<p>Thanks a lot Fabrice</p>\n"},{"tags":["c++","qt","operator-overloading","const","immutable"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12495226,"title":"Immutable object in collections (C++ and Qt)","body":"<p>I am stuck with using immutable objects with collections. Let assume I have the following class :</p>\n\n<pre><code> //in .h\n class Data {\n public:\n      Data(const DataObj&amp; data);\n      Data(const Data&amp;);\n      const DataObj&amp; getDataObj() const;\n private:\n      const DataObj _data; //actually several objects or simple type\n }\n\n inline const DataObj&amp; Data::getDataObj() const {return _data};\n\n //in .c\n Data(const DataObj&amp; data)  : _data(data){}; \n Data(const Data&amp; original) : _data(original._data){}\n</code></pre>\n\n<p>The issue is that when I want to use collections, I have the error </p>\n\n<pre><code>   in member function Data&amp;Data::operator(const Data&amp;);\n   instantiation from 'typename QMap&lt;Key,T&gt;::iterator QMap&lt;Key, T&gt;::insert(const Key&amp;, const T&amp;)[with Key = int, T = Data]'\n   instantiation from here\n   error : non-static const member 'const DataObj Data::_data', can't use default assignment operator\n</code></pre>\n\n<p>Now defining an assignment operator doesn't seems to make sense, since its prototype will be</p>\n\n<pre><code> Data&amp; operator=(const Data&amp;);\n</code></pre>\n\n<p>What should I do? Am I forced to remove all constant qualifiers in order to use my class inside collections? Or use pointers?</p>\n"},{"tags":["c++","json","web-services","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":12487620,"title":"Correct format for HTTP POST using QNetworkRequest","body":"<p>I'm trying to send a JSON query to a web service and I continue to get internal server errors as a response to the query.</p>\n\n<p>Here is what I'm trying to send:</p>\n\n<pre><code>POST /api/1.7/webservice.asmx HTTP/1.1\nHost: www.superService.com\nUser-Agent: My app name v0.1\nX-Custom-User-Agent: My app name v0.1\nContent-Type: application/json\nContent-Length:81\n\n{\"method\":\"AuthenticatePlain\",\"loginName\":\"username@domain.com\",\"password\":\"mypass\"}\n</code></pre>\n\n<p>This is supposed to be sent to  <a href=\"https://www.superService.com/api/1.7/ssapi.asmx\" rel=\"nofollow\">https://www.superService.com/api/1.7/ssapi.asmx</a></p>\n\n<p>In preparing the QNetworkRequest, what method is used to insert the line </p>\n\n<p><strong>POST /api/1.7/webservice.asmx HTTP/1.1</strong>?</p>\n\n<p>Is the complete header contained in the QNetworkRequest object?<br>\nShould the JSON data be in the QNetworkRequest object or is that added to the post as the second argument in the QNetworkAccessManager::post() method?</p>\n\n<p>Here is my current code in the on_btnLogin_clicked() slot:</p>\n\n<pre><code>connect(m_qnam, SIGNAL(finished(QNetworkReply*)),\n                 this, SLOT(handleNetworkData(QNetworkReply*)));\n    connect(m_qnam,SIGNAL(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)),\n                 this, SLOT(handleSSLErrors(QNetworkReply*)));\n\n    QString baseString = \"\";\n    baseString.append(QString(\"POST /api/1.7/webservice.asmx HTTP/1.1\\r\\n\").toUtf8());  \n    baseString.append(QString(\"www.superService.com\\r\\n\").toUtf8());\n    baseString.append(QString(\"User-Agent: My app name v0.1\\r\\n\").toUtf8());\n    baseString.append(QString(\"X-Custom-User-Agent: My app name v0.1\\r\\n\").toUtf8());\n    baseString.append(QString(\"Content-Type: application/json\\r\\n\").toUtf8());\n\n    QString jsonString = QString(\"{\");\n    jsonString.append(\"\\\"method\\\":\");\n    jsonString.append(\"\\\"AuthenticatePlain\\\"\");\n    jsonString.append(\",\\\"loginName\\\":\");\n    jsonString.append(\"\\\"username@domain.com\\\"\");\n    jsonString.append(\",\\\"password\\\":\");\n    jsonString.append(\"\\\"mypass\\\"\");\n    jsonString.append(\"}\");\n\n    QByteArray json = jsonString.toUtf8();\n\n    baseString.append(QString(\"Content-Length:\").toUtf8());\n    baseString.append(QString::number(json.length()));\n    baseString.append(\"\\r\\n\").toUtf8();\n    baseString.append(QString(\"\\r\\n\").toUtf8());\n    baseString.append(json);\n\n    request = QNetworkRequest(QUrl(\"https://www.superService.com/api/1.7/ssapi.asmx\"));\n    request.setRawHeader()\n\n\n    qDebug() &lt;&lt; \"Base String: \"&lt;&lt; baseString;\n\n\n    m_qnam-&gt;post(request,baseString.toUtf8());\n</code></pre>\n"},{"tags":["qt","qt4","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12496765,"title":"How to select TextEdit after Enabled in Qt?","body":"<p>I want to design a layout with a PushButton and TextEdit. The TextEdit is disabled at first and only enabled when the PushButton is clicked. When the TextEdit is enabled, it should also be selected. </p>\n\n<p>In other words, what I mean is I can start typing straightway in the TextEdit without click to select it after it is enabled. Like when you open a new tab in your browser, the text cursor will automatically go to the address bar without any clicking.</p>\n\n<p>Thanks.</p>\n"},{"tags":["visual-studio","qt","windows-ce"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1688,"score":2,"question_id":1366630,"title":"Qt for windows CE","body":"<p>I have installed Qt for windows CE using this link  <a href=\"http://qt.nokia.com/products/platform/qt-for-windows-ce\" rel=\"nofollow\">http://qt.nokia.com/products/platform/qt-for-windows-ce</a> for visual studio8, I can see Qt tab in VS IDE.</p>\n\n<p>I tried to create new application for QT am getting error that </p>\n\n<blockquote>\n  <p>\"There are no Qt/CE platforms defined. Please add your Qt/CE build in the Tools/Options/Qt/Builds dialog.\"</p>\n</blockquote>\n\n<p>How can i define platform??</p>\n"},{"tags":["visual-studio-2010","qt","qmake","unresolved-external","moc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12494938,"title":"Using Q_OBJECT in VS2010 project gives unresolved externals","body":"<p>I'm trying to use the Q_OBJECT macro in my Visual Studio 2010 Ultimate project, and it gives me unresolved external errors:</p>\n\n<pre><code>1&gt;Application.obj : error LNK2001: unresolved external symbol \"public: virtual int __thiscall MyButton::qt_metacall(enum QMetaObject::Call,int,void * *)\" (?qt_metacall@MyButton@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n1&gt;Application.obj : error LNK2001: unresolved external symbol \"public: virtual void * __thiscall MyButton::qt_metacast(char const *)\" (?qt_metacast@MyButton@@UAEPAXPBD@Z)\n1&gt;Application.obj : error LNK2001: unresolved external symbol \"public: virtual struct QMetaObject const * __thiscall MyButton::metaObject(void)const \" (?metaObject@MyButton@@UBEPBUQMetaObject@@XZ)\n</code></pre>\n\n<p>I've had a similar project using QMaker, and solved it by doing clean project and re-running qmake. The thing is, there's no \"Qmake\" button in VS!</p>\n\n<p>I have read few articles like <a href=\"http://thomasstockx.blogspot.in/2011/03/qt-472-in-visual-studio-2010.html\" rel=\"nofollow\">this one</a> and done everything they told me to. Though it didnt really help, because I've got an existing project of a few .cpp and a few header files, and I would like to avoid creating a .pro file and moving code into it. </p>\n\n<p>I've installed VS Qt add-in, it gave me new cool \"Qt\" button on VS panel, though didn't help with unresolved externals (probably I don't know how to use it properly).</p>\n\n<p>I have ran moc with via custom build tool in VS on my Application.h file (the only one that has Q_OBJECT), but that still didn't help:</p>\n\n<pre><code>C:\\Utilities\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2010\\bin\\moc Application.h -o tmp\\moc\\moc_Application.cpp\n</code></pre>\n\n<p>What might cause my problem and how do I solve it?</p>\n"},{"tags":["c++","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":634,"score":2,"question_id":8599009,"title":"QT - Remove shortcut -- Ambiguous shortcut overload","body":"<p><strong>Extraneous Information:</strong>\nI am attempting to build an application using QT. This application features a QMdiArea and a child-window. My child-window will have a menu which can be integrated into the QMdiArea or segregated and attached to the child itself. Though, this is a bit more detail than needed...</p>\n\n<p><strong>Problem:</strong>\nI would like my child-widget to have a menu with a shortcut, \"CTRL+W.\" But, because I am using a QMdiArea, the shortcut is already used causing:</p>\n\n<blockquote>\n  <p>QAction::eventFilter: Ambiguous shortcut overload: Ctrl+W</p>\n</blockquote>\n\n<p>How can I get rid of this shortcut and claim it within my child widget instead?</p>\n\n<p><strong>Update:</strong>\nHere is what I've tried with no luck:</p>\n\n<pre><code>class MDI : public QMdiArea\n{\n    Q_OBJECT\n    private:\n    bool event(QEvent *tEvent)\n    {\n        if (tEvent-&gt;type() == QEvent::KeyPress)\n        {\n            QKeyEvent* ke = static_cast&lt;QKeyEvent*&gt;(tEvent);\n            if (ke-&gt;key()== Qt::Key_W &amp;&amp; ke-&gt;modifiers() &amp; Qt::ControlModifier)\n            emit KeyCW();\n            return true;\n        }\n        return QMdiArea::event(tEvent);\n    }\npublic:\nsignals:\n    void KeyCW();\n};\n</code></pre>\n\n<p>This works if I do something as simple as change <code>Qt::Key_W</code> to  <code>Qt::Key_L.</code> The key-combo is received and event is thrown. With W, it just never happens. I've also tried moving <code>event</code> to QMainWindow as well as an eventFilter in the subwindow to QMdiArea. It seems that it is a little overly complicated to do something as simple as remove default key-handlers from within QMdiArea.</p>\n"},{"tags":["c++","c","eclipse","qt","integration"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12493882,"title":"How to integrate c++ classes and objects around winApi?","body":"<p>Hey so for one of my c++ projects I need to develop a 4-5 window application.Now the issue is that currently all of my programs tasks are divided into classes, and I have tested them by passing 'dummy' values and returning print results. That's all fine and working, however now as I want to introduce a GUI interface it presents me with the problem of how my processing should communicate with the front end, since winAPI is initially meant for c and not object oriented language.</p>\n\n<p>What I am thinking of doing, and have a feeling is going to be a tedious task, to make a class which does the win api's registrations and methods for me. Is there any other alternative to this ???</p>\n\n<p>I was looking at integrating Qt into eclipse but I think they stopped providing the library for eclipse, because I couldn't find a download for the library anywhere, not even on the Qt download page.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":8664625,"title":"Dynamic Screen size in Qt for Nokia","body":"<p>How to Make Dynamic Screen of  different size in QT for Nokia Devices in QT Creator? </p>\n"},{"tags":["c++","qt","qlabel"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":585,"score":1,"question_id":5511275,"title":"Qt create and QLabel, why is there an error?","body":"<p>I'm using <code>Qt creator 2.0.1</code>, and when entering this line:</p>\n\n<p><code>#include &lt;QLabel&gt;</code></p>\n\n<p>I get the following error:</p>\n\n<p><code>QLabel: No such file or directory</code></p>\n\n<p>Why is that? And, how can I include a label in this case?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>@maverik showed me how to solve the <code>QLabel</code> error, but I'm now getting this error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/I00QK.png\" alt=\"enter image description here\"></p>\n\n<p>The program I'm trying to run is:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QtGui/QLabel&gt;\n\nint main(int argc, char *argv[]) {\nQCoreApplication myapp(argc, argv);\nQLabel *label = new QLabel(\"Hello\");\nlabel-&gt;show();\nreturn myapp.exec(); \n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","list","pointers","boost"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12492582,"title":"c++ list of pointers to QGraphicsItem","body":"<p>I'm experimenting with the QT library and <code>QGraphicsScene</code>.\nI can add my own objects to the scene and all that is fine.\nWhat I would like to have now are some lists outside <code>QGraphicsScene</code> of the objects.\nLet's say Squares, Circles and Triangles.\nThey all live in the scene, and are (if I'm correct) copied and owned by the scene when I add them.</p>\n\n<p>The question is: what kind of list template containers would be best for implementing my outside lists.</p>\n\n<p>I guess they would need to be pointers so I figured <code>boost::ptr_container</code>.\nI know I would need a system to make sure the lists are in sync with the scene once I start deleting items. that means removing the pointer form the lists just before removing the object from the scene.</p>\n\n<p>Any ideas on how i should build this system would be very nice.</p>\n"},{"tags":["c++","qt","compiler-errors","openssl","static-linking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":498,"score":0,"question_id":10169730,"title":"Compiling static Qt with openSSL errors","body":"<p>I successfully compiled OpenSSL 1.0.1 under win32 with mingw. Now I'm trying to compile static Qt 4.8.1 with following config:</p>\n\n<p><code>configure -release -static -qt-zlib -nomake examples -nomake demos -no-qt3support -no-scripttools -no-opengl -no-webkit -no-phonon -no-style-motif -no-style-cde -no-style-cleanlooks -no-style-plastique -no-sql-sqlite -openssl-linked OPENSSL_LIBS=\"-lssl -lcrypto -lgdi32 -luser32\" -I H:\\Workplace\\OpenSSL\\include -L H:\\Workplace\\OpenSSL</code></p>\n\n<p>I got these errors:</p>\n\n<p><code>H:\\Workplace\\OpenSSL/libssl.a(ssl_lib.o):ssl_lib.c:(.text+0x17be): undefined ref\nerence to '_time32'</code> (several times)</p>\n\n<p><code>H:\\Workplace\\OpenSSL/libcrypto.a(o_time.o):o_time.c:(.text+0x362): undefined ref\nerence to '_gmtime32'</code></p>\n\n<p><code>H:\\Workplace\\OpenSSL/libcrypto.a(mem_dbg.o):mem_dbg.c:(.text+0x4c7): undefined r\neference to '_localtime32'</code></p>\n\n<p><strong>SOLVED (see below)</strong></p>\n"},{"tags":["qt","qt4.8"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12491843,"title":"How to replace a child frame in a QWidget class with another child frame belonging to another QWidget class dynamically","body":"<p>I have one QWidget class having 2 child QFrames.\nThere is another QWidget class (in same project) containing multiple child frames.</p>\n\n<p>I want to dynamically replace a child frame of my first class with a particular frame of second class.</p>\n\n<p>Is there any possible way to copy the frames?</p>\n"},{"tags":["c++","qt","symbian","gsoap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":325,"score":0,"question_id":9922428,"title":"Gsoap error 28 : SOAP_TCP_ERROR","body":"<p>I am using gsoap for Symbian S60 3rd Edition FP2 in a Qt application. I am making several requests to a WS every 5 seconds. After 2 hours the application stops being able to connect to the WS and I get this Error 28: SOAP_TCP_ERROR from gsoap. If I stop the application and start it again it is able to connect to the WS again. Why is this happening?</p>\n\n<p>I've put the gsoap WS call in a for loop and it stops connecting to the WS at the 892th time, every time I run it.</p>\n"},{"tags":["qt","network-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12486157,"title":"Is it possible to download files from from file hosting sites using QNetworkAccessManager","body":"<p>I tried my level best to download a file from uploading.com but all in vain. I tried every possible way of redirection, but all in vain. It always ends up with error Moved Permanently and if you try redirections it ends up downloading the web page. Huh!</p>\n\n<pre><code>This is the cookie which i have to pass to QNetworkAccessManager:\n\nS=gmail=gPwZoKGL8hgGA4ZHoej_Tg; S=gmail=xrWQCf29oq77myB3uSRKPg;\n\nrequest.setUrl(url);\n          request.setAttribute(QNetworkRequest::HttpPipeliningAllowedAttribute, true);\n          cookieJar-&gt;setCookiesFromUrl(QNetworkCookie::parseCookies(cookie),url);\n          manager.setCookieJar(cookieJar);\n          reply=manager.get(request);\n</code></pre>\n\n<p>The finished signal calls the following slot</p>\n\n<pre><code>int statusCode=0;\n            statusCode=reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute).toInt();\n           if(statusCode&gt;300)\n           {\n               if(statusCode==307||reply-&gt;rawHeaderList().contains(\"Location\"))\n               {\n                url=reply-&gt;header(QNetworkRequest::LocationHeader).toString();\n                request.setUrl(url);\n                request.setAttribute(QNetworkRequest::HttpPipeliningAllowedAttribute, true);\n                cookieJar-&gt;setCookiesFromUrl(QNetworkCookie::parseCookies(cookie),url);\n                manager.setCookieJar(cookieJar);\n                reply=manager.get(request);\n                return;\n            }\n</code></pre>\n\n<p>The download fails as it downloads the webpage instead of file. The url and cookies are provided by flashgot addon, firefox. </p>\n"},{"tags":["python","xml","qt","pyqt","qxmlstreamreader"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12480871,"title":"XML parsing using QXmlStreamReader doesn't return all elements","body":"<p>I'm trying to parse <code>XML</code>-file using <code>QXmlStreamReader</code>. With following code I only get the first testcase from the sample xml file.</p>\n\n<pre><code>from PyQt4.QtCore import QXmlStreamReader, QFile, QIODevice\n\nclass TestcaseReader(object):\n    def __init__(self, filename):\n        file = QFile(filename)\n        file.open(QIODevice.ReadOnly)\n        self.xml = QXmlStreamReader(file)\n\n        while not self.xml.atEnd():\n            self.xml.readNext()\n            if self.xml.isStartElement():\n                if self.xml.name() == \"Testcase\":\n                    self.parse_testcase()\n\n    def parse_testcase(self):\n        print(\"Parse Testcase\")\n        while self.xml.readNextStartElement():\n            if self.xml.name() == \"Type\":\n                measurement = self.xml.readElementText()\n                print(\"Type: \" + measurement)\n            elif self.xml.name() == \"Attributes\":\n                name = self.xml.attributes().value(\"name\")\n                strname = self.xml.attributes().value(\"strname\")\n                elementtype = self.xml.attributes().value(\"type\")\n                value = self.xml.attributes().value(\"value\")\n                print(\"Attributes: \", name, strname, elementtype, value)\n\nif __name__ == \"__main__\":\n    print(\"XML Reader\")\n    xml = TestcaseReader(\"test.xml\")\n</code></pre>\n\n<p>Here is my XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;Testcases&gt;\n    &lt;Testcase&gt;\n        &lt;Type&gt;Testtype1&lt;/Type&gt;\n        &lt;Attributes name=\"testattr1\" strname=\"Testattribute 1\" type=\"float\" value=\"1.0\"&gt;\n        &lt;Attributes name=\"testattr2\" strname=\"Testattribute 2\" type=\"str\" value=\"test\"&gt;\n    &lt;/Testcase&gt; \n    &lt;Testcase&gt;\n        &lt;Type&gt;Testtype2&lt;/Type&gt;\n        &lt;Attributes name=\"testattr1\" strname=\"Testattribute 1\" type=\"float\" value=\"2.0\"&gt;\n        &lt;Attributes name=\"testattr2\" strname=\"Testattribute 2\" type=\"str\" value=\"test\"&gt;\n    &lt;/Testcase&gt;\n&lt;/Testcases&gt;\n</code></pre>\n\n<p>After parsing the first <code>Testcase</code> from <code>Testcases</code> QXmlStreamReader returns it is at the end and therefore stops further parsing. How can I read all testcases from the xml file?</p>\n"},{"tags":["qt","visual-studio-2008"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12490188,"title":"Qt based program linked in debug mode but not in release mode","body":"<p>I'm writing a Qt based project using Visual Studio 2008 Compiler . In the debug mode every thing is OK and the program compiled and linked successfully but when I switch to release mode and I start to compile I get this error during linking :</p>\n\n<pre><code>1&gt;Linking...\n1&gt;MSVCRT.lib(crtexew.obj) : error LNK2019: unresolved external symbol _WinMain@16 referenced in function ___tmainCRTStartup\n1&gt;release\\\\MobnaPC.exe : fatal error LNK1120: 1 unresolved externals\n</code></pre>\n\n<p>But main function has defined!<br>\nThank you in advance</p>\n"},{"tags":["qt","qtgui","qt-signals"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12488725,"title":"Shape changing Dialog Box","body":"<p>I was trying to use a shape changing dialog box i.e., when I click on a button the size of the dialog box should become big with the extra details. In order to do that I wrote the following code on button:</p>\n\n<pre><code>QObject::connect(ui-&gt;moreButton, SIGNAL(toggled(bool)), \n    ui-&gt;sgroupBox, SLOT(setVisible(bool)));\n</code></pre>\n\n<p>but there are no changes happening on my dialog box. What should I do in this case. </p>\n\n<p>I had hidden the extra details by placing them in a grid using hide() function. The extra details are getting hidden but the size of widget is not getting changed.</p>\n\n<p>Please help me with a solution</p>\n"},{"tags":["c++","qt","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12487507,"title":"Qt C++ Set Set Vtk Axis Scake","body":"<p>I have the following code where i plot points in 3d space:</p>\n\n<pre><code>     vtkSmartPointer&lt;vtkPoints&gt; points =\n            vtkSmartPointer&lt;vtkPoints&gt;::New();\n\n        for(int in = 0; in&lt;x.size(); in++)\n        {\n            points-&gt;InsertNextPoint (x[in], y[in], ry[in]);\n        }\n\n          vtkSmartPointer&lt;vtkPolyData&gt; pointsPolydata =\n            vtkSmartPointer&lt;vtkPolyData&gt;::New();\n\n          pointsPolydata-&gt;SetPoints(points);\n\n          vtkSmartPointer&lt;vtkVertexGlyphFilter&gt; vertexFilter =\n            vtkSmartPointer&lt;vtkVertexGlyphFilter&gt;::New();\n        #if VTK_MAJOR_VERSION &lt;= 5\n          vertexFilter-&gt;SetInputConnection(pointsPolydata-&gt;GetProducerPort());\n        #else\n          vertexFilter-&gt;SetInputData(pointsPolydata);\n        #endif\n          vertexFilter-&gt;Update();\n\n          vtkSmartPointer&lt;vtkPolyData&gt; polydata =\n            vtkSmartPointer&lt;vtkPolyData&gt;::New();\n          polydata-&gt;ShallowCopy(vertexFilter-&gt;GetOutput());\n\n          // Setup colors\n          unsigned char red[3] = {255, 0, 0};\n          unsigned char green[3] = {0, 255, 0};\n          unsigned char blue[3] = {0, 0, 255};\n\n          vtkSmartPointer&lt;vtkUnsignedCharArray&gt; colors =\n            vtkSmartPointer&lt;vtkUnsignedCharArray&gt;::New();\n          colors-&gt;SetNumberOfComponents(3);\n          colors-&gt;SetName (\"Colors\");\n          colors-&gt;InsertNextTupleValue(red);\n          colors-&gt;InsertNextTupleValue(green);\n          colors-&gt;InsertNextTupleValue(blue);\n\n          polydata-&gt;GetPointData()-&gt;SetScalars(colors);\n\n          // Visualization\n          vtkSmartPointer&lt;vtkPolyDataMapper&gt; mapper =\n            vtkSmartPointer&lt;vtkPolyDataMapper&gt;::New();\n        #if VTK_MAJOR_VERSION &lt;= 5\n          mapper-&gt;SetInputConnection(polydata-&gt;GetProducerPort());\n        #else\n          mapper-&gt;SetInputData(polydata);\n        #endif\n\n          vtkSmartPointer&lt;vtkActor&gt; actor =\n            vtkSmartPointer&lt;vtkActor&gt;::New();\n          actor-&gt;SetMapper(mapper);\n          actor-&gt;GetProperty()-&gt;SetPointSize(5);\n\n          vtkSmartPointer&lt;vtkRenderer&gt; renderer =\n            vtkSmartPointer&lt;vtkRenderer&gt;::New();\n          vtkSmartPointer&lt;vtkRenderWindow&gt; renderWindow =\n            vtkSmartPointer&lt;vtkRenderWindow&gt;::New();\n          renderWindow-&gt;AddRenderer(renderer);\n          vtkSmartPointer&lt;vtkRenderWindowInteractor&gt; renderWindowInteractor =\n            vtkSmartPointer&lt;vtkRenderWindowInteractor&gt;::New();\n          renderWindowInteractor-&gt;SetRenderWindow(renderWindow);\n\n          renderer-&gt;AddActor(actor);\n\n          this-&gt;ui-&gt;qvtkWidget-&gt;GetRenderWindow()-&gt;AddRenderer(renderer);\n          renderWindowInteractor-&gt;Start();\n</code></pre>\n\n<p>When I get the resulting plot. All the points are plotted, but is hard to see anything due to the default scale. What I'm not sure is how to zoom in the view on the z axis. Any help would be appreciated.</p>\n"},{"tags":["qt","ubuntu","build","make","cross-compiling"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12484041,"title":"Qt Error building package 'fromString' is not a member of 'QKeySequence'","body":"<p>I can compile my package ( maliit ) with the QtSDK x86 GCC and qmake just fine within QtCreator. I am now attempting to cross-compile the pacakge for ARM. My Qmake and Qt libraries were built with Buildroot using the following configuration:</p>\n\n<pre><code>cd /home/user/project/output/buildroot/build/qt-4.8.1; PKG_CONFIG_SYSROOT_DIR=\"/home/user/project/output/buildroot/host/usr/arm-unknown-linux-gnueabi/sysroot\" PKG_CONFIG=\"/home/user/project/output/buildroot/host/usr/bin/pkg-config\" PKG_CONFIG_PATH=\"/home/user/project/output/buildroot/host/usr/arm-unknown-linux-gnueabi/sysroot/usr/lib/pkgconfig:\" MAKEFLAGS=\"w --  -j1\" ./configure -silent -force-pkg-config -separate-debug-info -xplatform qws/linux-arm-gnueabi-g++- -opensource -confirm-license -largefile -no-qt3support -nomake examples -nomake demos -depths 16,32 -qt-gfx-linuxfb -no-gfx-transformed -no-gfx-qvfb -qt-gfx-vnc -no-gfx-multiscreen -no-gfx-directfb -no-mouse-pc -no-mouse-linuxtp -qt-mouse-linuxinput -qt-mouse-tslib -no-mouse-qvfb -no-kbd-tty -qt-kbd-linuxinput -no-kbd-qvfb -debug -shared -little-endian -embedded arm -no-gif -no-libmng -system-zlib -qt-libjpeg -qt-libpng -no-libtiff -qt-freetype -dbus -qdbus -no-openssl -no-sql-sqlite -no-xmlpatterns -no-multimedia -no-audio-backend -no-phonon -no-phonon-backend -svg -no-webkit -no-script -no-scripttools -no-javascript-jit -no-stl -no-declarative -glib -no-gfx-qnx -no-kbd-qnx -no-mouse-qnx -no-xinerama -no-cups -no-nis -no-accessibility -prefix /usr -plugindir /usr/lib/qt/plugins -hostprefix /home/user/project/output/buildroot/host/usr/arm-unknown-linux-gnueabi/sysroot/usr -fast -no-rpath\n</code></pre>\n\n<p>When I try to cross-compile the package within QtCreator it makes it about halfway and then errors out at the Q_EMIT line in the following function:</p>\n\n<pre><code>void GlibDBusIMServerProxy::onInvokeAction(const QString &amp;action,\n                                           const QString &amp;sequence)\n{\n    Q_EMIT invokeAction(action, QKeySequence::fromString(sequence));\n}\n</code></pre>\n\n<p>The file definitely includes the header:</p>\n\n<pre><code>#include &lt;QKeySequence&gt;\n</code></pre>\n\n<p>Here is the entire build error:</p>\n\n<pre><code>glibdbusimserverproxy.cpp: In member function 'void GlibDBusIMServerProxy::onInvokeAction(const QString&amp;, const QString&amp;)':\nglibdbusimserverproxy.cpp:230:33: error: 'fromString' is not a member of 'QKeySequence'\nmake[1]: Leaving directory `/home/user/Desktop/maliit-framework/connection'\nmake[1]: *** [.obj/glibdbusimserverproxy.o] Error 1\nmake: Leaving directory `/home/user/Desktop/maliit-framework'\nmake: *** [sub-connection-make_default-ordered] Error 2\n12:51:08: The process \"/usr/bin/make\" exited with code 2.\nError while building project maliit-framework (target: Desktop)\nWhen executing build step 'Make'\n</code></pre>\n\n<p>I can follow the header from within the IDE and there is the correct definition under Public:</p>\n\n<pre><code>static QKeySequence fromString(const QString &amp;str, SequenceFormat format = PortableText);\n</code></pre>\n\n<p>What could be wrong? I have used the cross-compiled libraries for quite a few other projects and it is working fine for those. How could it not find the 'fromString' static method?</p>\n"},{"tags":["qt","ssl","webkit","qtwebkit","libssl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12104234,"title":"SSL errors with QtWebkit on https sites on Ubuntu","body":"<p>I am building a qtwebkit-based browser application on Ubuntu 12.04 LTS. When I use it to access https websites, I got a lot of ssl errors. For example, when I access www.paypal.com, I got this message:</p>\n\n<p>SSL Errors for: <a href=\"https://t.paypal.com/ts?v=0.1&amp;t=1341683749338&amp;g=420&amp;e=im&amp;pgrp=main%3Amktg%3Apersonal%3A%3Ahome&amp;page=main%3Amktg%3Apersonal%3A%3Ahome%3A%3A%3ANotInTest%3B\" rel=\"nofollow\">https://t.paypal.com/ts?v=0.1&amp;t=1341683749338&amp;g=420&amp;e=im&amp;pgrp=main%3Amktg%3Apersonal%3A%3Ahome&amp;page=main%3Amktg%3Apersonal%3A%3Ahome%3A%3A%3ANotInTest%3B</a></p>\n\n<p>The issuer certificate of a locally looked up certificate could not be found\nThe root CA certificate is not trusted for this purpose\nNo certificates could be verified</p>\n\n<p>I am using QtSDK 4.8.1. The application is linked to libssl 0.9.8. Although ubuntu comes with libssl 1.0, the prebuilt version of QtSDK 4.8.1 is linked to 0.9.8. So I have to install libssl 0.9.8 to get it to work. </p>\n\n<p>The same application works fine on windows and mac. </p>\n\n<p>If anyone knows how to solve this problem, please share with me. Thanks a lot!</p>\n"},{"tags":["c++","qt","qml","quick"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12481587,"title":"How to change the value of a property in QML from C++ class","body":"<p>I have so code in simple Qt Quick. I want to change the value of a property of qml element from my class.</p>\n\n<p>myclass.h</p>\n\n<pre><code>#ifndef MYCLASS_H\n#define MYCLASS_H\n#include &lt;QObject&gt;\n#include \"qdebug.h\"\n#include &lt;QtGui/QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QDeclarativeContext&gt;\n#include &lt;QGraphicsObject&gt;\n#include &lt;QVariant&gt;\n\nclass myClass : public QObject\n{\n    Q_OBJECT\n\npublic:\n    myClass(QObject *QMLObject) : m_QMLObject(QMLObject) {}\n\npublic slots:\n   void cppSlot(int number);\n\nprotected:\n    QObject *m_QMLObject;\n\n};\n\n#endif // MYCLASS_H\n</code></pre>\n\n<p>myclass.cpp</p>\n\n<pre><code>#include \"myclass.h\"\n\nvoid myClass::cppSlot(int number) {\n    qDebug() &lt;&lt; \"Called the C++ slot with\" &lt;&lt; number;\n    QObject* textinput = m_QMLObject-&gt;findChild&lt;QObject*&gt;(\"textinput\");\n\n    QObject* memo = m_QMLObject-&gt;findChild&lt;QObject*&gt;(\"memo\");\n\n    QString str;\n\n    str=(textinput-&gt;property(\"text\")).toString();\n\n    int a;\n    a=str.toInt();\n    a++;\n\n    QString str2;\n    str2=QString::number(a);\n\n    memo-&gt;setProperty(\"text\", str+\"+1=\"+str2);\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"qmlapplicationviewer.h\"\n#include &lt;QUrl&gt;\n#include &lt;QDebug&gt;\n#include &lt;QDeclarativeContext&gt;\n#include &lt;QGraphicsObject&gt;\n#include \"myclass.h\"\n\nQ_DECL_EXPORT int main(int argc, char *argv[])\n{\n    QScopedPointer&lt;QApplication&gt; app(createApplication(argc, argv));\n\n    QmlApplicationViewer viewer;\n\n    myClass MyClass(viewer.rootObject());\n\n\n    viewer.rootContext()-&gt;setContextProperty(\"myObject\", &amp;MyClass);\n\n    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);\n    viewer.setSource(QUrl(\"qrc:qml/qml/Example/main.qml\"));\n\n\n    viewer.showExpanded();\n\n    return app-&gt;exec();\n}\n</code></pre>\n\n<p>main.qml</p>\n\n<pre><code>import QtQuick 1.0\n\nRectangle {\n    width: 300\n    height: 300\n    anchors.fill: parent\n\n\n    Column {\n        spacing: 5\n        anchors.centerIn: parent;\n\n       Rectangle {\n           id: button\n\n           width: 100\n           height: 30\n\n           color: \"#e0b87b\"\n\n           Text {\n               id: buttonLabel\n               text: \"Start\"\n               anchors.centerIn: parent;\n           }\n\n           MouseArea {\n               anchors.fill: parent\n               id: mouseArea\n\n               onClicked: myObject.cppSlot(1);\n           }\n       }\n\n           Rectangle {\n               id: textinputRect \n\n\n               width: 100\n               height: 18\n\n\n               color: \"#e0b87b\"\n\n               TextInput {\n                   id: textinput\n                   objectName: \"textinput\"\n                   color: \"#f51515\";\n                   selectionColor: \"blue\"\n                   font.pixelSize: 12;\n                   width: parent.width-4\n                   anchors.centerIn: parent\n                   focus: true\n                   text:\"1\"\n                   }\n           }\n\n\n           Rectangle {\n               id: memoRect \n\n\n               width: 100\n               height: 35\n\n\n               color: \"#00b87b\"\n\n               TextEdit{\n                   id: memo\n                   objectName: \"memo\"\n                   wrapMode: TextEdit.Wrap\n                   width:parent.width;\n                   readOnly:true\n               }\n           }\n\n    }\n\n}\n</code></pre>\n\n<p>When I run the application and click on the button, the application crashes. What am I doing wrong?</p>\n"},{"tags":["android","c++","qt","opencv"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":851,"score":0,"question_id":9491799,"title":"Can not load Opencv libraries in necessitas","body":"<p>I try to use the camera in a necessitas project using OpenCV. I have this on the .pro file</p>\n\n<pre><code>INCLUDEPATH += C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/include \\\n                C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/modules\n\nLIBS += C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/libs/armeabi/libnative_camera_r2.2.2.so \\\n        C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/libs/armeabi/libnative_camera_r2.3.3.so \\\n        C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/libs/armeabi/libopencv_androidcamera.a \\\n        C:/OpenCV-2.3.1-android-bin/OpenCV-2.3.1/libs/armeabi/libopencv_calib3d.a \\ ...\n</code></pre>\n\n<p>and I call the camera when I press a button with this:</p>\n\n<pre><code>void MainWindow::on_foto_clicked()\n{\n    CvCapture * camera = cvCreateCameraCapture( 0 );\n    IplImage * image = cvQueryFrame( camera );\n\n    cvReleaseCapture( &amp;camera );\n}\n</code></pre>\n\n<p>When I run it and It tries to run on the device, a samsung galaxy gio with Android 2.3.4, I get this:</p>\n\n<pre><code>W/System.err(17481): Caused by: java.lang.UnsatisfiedLinkError: Cannot load library: link_image[1963]:    94 could not load needed library 'libnative_camera_r2.2.2.so' for 'libGeopei.so' (load_library[1105]: Library 'libnative_camera_r2.2.2.so' not found)\n</code></pre>\n\n<p>Am I missing to load any library or include?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","cross-platform","gtk","wxwidgets","distributed-computing"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":5887,"score":7,"question_id":5141116,"title":"Choosing between Qt, Gtk+ and wxWidgets","body":"<p>I have implemented a distributed computing client-server application and now it's time to write the client's user interface.\nThe choice is between <strong>Qt</strong>, <strong>Gtk+</strong> and <strong>wxWidgets</strong>.\nI have used all of these libraries (a little) in the past and each, of course, has its own advantages for some kinds of projects and disadvantages for other - so I need advice for precisely my project.\nFollowing characteristics of my project must be taken into consideration (some points may be sacrificed for the common good):</p>\n\n<ul>\n<li>the client side of the distributed application has to be lightweight (both distributable size and run-time resource consumption)</li>\n<li>the ability to build the whole client to a single binary file</li>\n<li>as cross-platform as possible (embedded devices is not the target, but - why not?)</li>\n<li>the UI is really just the \"interface\" - it's the way to represent the information which previously was displayed using the console or output to files and to enter some information (just utility - not related to the computing process) which previously was also entered using the console - so it must be \"standalone\" (where, as I understand, <strong>wxWidgets</strong> loses a little and <strong>Gtk+</strong> wins)</li>\n<li>From the libraries, I will just be using the \"UI\" components - all other parts (database, network, threads...) will be implemented using other libraries.</li>\n<li>I prefer to develop under Windows using Visual C++ 2010 EE.</li>\n<li>OpenGL will be used (as I know all of these libs provide some OpenGL components, anyway)</li>\n</ul>\n\n<p>Help me choose the library so I can shift the moral responsibility to somebody else and sleep qietly :)</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12485391,"title":"no matching function to call to","body":"<p>I'm calling this from my designing class and adding them later to the layout but I always get error messages with the function <code>ladeBild(QLabel l, QString s)</code></p>\n\n<pre><code>    void Levels::erzeugen(Levels *)\n{\n....\n\n    ladeBild(l01,\"l01.png\");\n    ladeBild(l02,\"l02.png\");\n    ladeBild(l03,\"l03.png\");\n    ladeBild(l04,\"l04.png\");\n    ladeBild(l05,\"l05.png\");\n    ladeBild(l06,\"l06.png\");\n    ladeBild(l07,\"l07.png\");\n    ladeBild(l08,\"l08.png\");\n    ladeBild(l09,\"l09.png\");\n    ladeBild(l10,\"l10.png\");\n    ladeBild(l11,\"l11.png\");\n    ladeBild(l12,\"l12.png\");\n...\n}\n\n    void Levels::ladeBild(QLabel l,QString s)\n{\n\n    l = new QLabel();\n    l.setBackgroundRole(QPalette::Dark);\n    l.setAutoFillBackground(true);\n    image = new QImage(s);//Muss im debug-Ordner sein!!!\n    l.setPixmap(QPixmap::fromImage(*image));\n    l.setMaximumHeight(image-&gt;height());\n    l.setMaximumWidth(image-&gt;width());\n\n}\n</code></pre>\n\n<p>And I get the following error message (for each call to <code>ladeBild</code>)</p>\n\n<blockquote>\n<pre><code>In member function 'void Levels::erzeugen(Levels*)': Fehler:no\nmatching function for call to 'Levels::ladeBild(QLabel*&amp;, const char\n[8])' candidates are: void Levels::ladeBild(QLabel, QString) Fehler:no\nmatch for 'operator=' in 'l = (QFlags&lt;Qt::WindowType&gt;(0u), (operator\nnew(20u), (&lt;statement&gt;, ((QLabel*)&lt;anonymous&gt;))))' candidates are:\nQLabel&amp; QLabel::operator=(const QLabel&amp;)`\n</code></pre>\n</blockquote>\n\n<p>Can't fix this problem ...</p>\n"},{"tags":["c++","qt","dbus","qdbus"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12485853,"title":"QT-Dbus signals/slots?","body":"<p>How can I hook my QT slot to respond to a D-BUS signals generated by some 3rd party service?</p>\n\n<p>Is the following right?</p>\n\n<pre><code>QDBusConnection bus = QDBusConnection::systemBus();\nbus.connect(\"com.me.foo\", \"/\", \"com.me.foo.bar\", \"foo\",\n                this, SLOT(fooSignal()));\n</code></pre>\n"},{"tags":["sql","qt","sqlite","qt4","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1278,"score":1,"question_id":4611460,"title":"problem using sqlite in QT4.7","body":"<p>I wrote a program using sqlite but when I run it there seems no sqlite support</p>\n\n<p>Here is the information given by the QT creator:\nQSqlDatabase: QSQLITE driver not loaded\nQSqlDatabase: available drivers:</p>\n\n<p>no available drivers!But there are sqlite4.dll,sqlodbc4.dll in the C:\\Qt\\2010.05\\qt\\plugins\\sqldrivers directory why the program cannot detect where the drivers are? Should I recompile the Qt4.7 with -qt-sql-sqlite option? This seems the last resolution which is very time-consuming. Any suggestions? Thanks in advance.</p>\n"},{"tags":["visual-studio-2010","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12483752,"title":"QT : Updating an image as a QLabel with QPixmap","body":"<p>I am using the QT integrated designer in Visual Studio 2010 to design a simple GUI. Here is what I want to do: I want to click a button called <strong>Update</strong> and use that to change an image that is displayed. I've verified that I am able to trigger a signal by pressing an update and used a slot on a text-field to clear. But can't seem to change the image displayed using the Signal/Slot method ....</p>\n\n<p>Here is the relevant code snippet (GUI.cpp):</p>\n\n<pre><code> void GUI::changeImage() \n {\n     ui.Image-&gt;updatesEnabled();\n     ui.Image-&gt;setPixmap(QPixmap(\"D:\\\\Documents\\ and\\ Settings\\\\Image.jpg\"));\n     ui.Image-&gt;update();\n }\n\nGUI::GUI(QWidget *parent, Qt::WFlags flags)\n    : QMainWindow(parent, flags)\n{\n    ui.setupUi(this);\n\n    connect(ui.updateButton, SIGNAL(clicked()), ui.textField, SLOT (clear()) );\n    connect(ui.updateButton, SIGNAL(clicked()), ui.Image, SLOT ( changeImage() ) );\n}\n\nGUI::~GUI()\n{\n\n}\n</code></pre>\n\n<p>Am I doing something wrong? </p>\n\n<p>EDIT: The code for gui.h</p>\n\n<pre><code>#include &lt;QtGui/QMainWindow&gt;\n#include \"ui_gui.h\"\n\nclass GUI : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    GUI(QWidget *parent = 0, Qt::WFlags flags = 0);\n    ~GUI();\n\nprivate:\n    Ui::GUIClass ui;\n    void changeImage() ;\n};\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12484661,"title":"How to design an axis, by using Qt QGraphicsitem","body":"<p>I want to implement a axis of a coordinate. What I want to do is that:</p>\n\n<ul>\n<li>when I drag the most head point of this axis, only the length of axis will be changed with mouse move.</li>\n<li>when I drag the body of this axis, only the direction of axis will be changed. </li>\n</ul>\n\n<p>How to do that? I think that, I can use two QgraphicsItems (<strong>head</strong>, <strong>body</strong>) to represent a axis. When the <strong>head</strong> is dragging, do the scaling. When the <strong>body</strong> is dragging, it does rotation.</p>\n\n<p>Is there any better solution to do that?</p>\n"},{"tags":["qt","network-programming"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":12484773,"title":"How to pass cookies to QNetworkAccessManager from a file","body":"<p>I have a cookie file named cookies.txt. I want to pass it to QNetworkAccessManager object. What will be the syntax?</p>\n"},{"tags":["c++","qt","templates","inheritance"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12481795,"title":"function pointer and inheritance","body":"<p>I've got a generic function I'm using to sort some Objects in List class.</p>\n\n<p>This function works very well but when I want to apply this function to a class using a function pointer to a member function in that class, it don't build.</p>\n\n<p>The function is: </p>\n\n<pre><code>template &lt;typename T1, typename T2, typename T3&gt;\nvoid DialogFaitListing::trie(T1 * list, T2 (T1::*fx)(quint16), T3 (T2::*crit)())\n{\n    for(int i(0);i&lt;list-&gt;count();i++)\n    {\n        for(int j(i);j&lt;list-&gt;count();j++)\n        {\n            if((((list-&gt;*fx)(i)).*crit)() &gt; (((list-&gt;*fx)(j)).*crit)())\n            {\n                list-&gt;swap(i,j);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>where list is the Class which contains the list of objects, fx is the function pointer to access the object and crit is the objects comparison function for the sort.</p>\n\n<p>When I build using this line:</p>\n\n<pre><code>trie(vend,&amp;Vendeurs::getVend,&amp;Vendeur::getNom);\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>dialogfaitlisting.cpp:459: erreur : no matching function for call to \n'DialogFaitListing::trie(Vendeurs*&amp;, Vendeur (Vendeurs::*)(quint16), \nQString (Personne::*)())'\n</code></pre>\n\n<p>ps: sorry for my bad English</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":1314,"score":4,"question_id":5134245,"title":"How to set different qmake configuration depending on debug / release?","body":"<p>I need to specify different output and intermediate folders in my .pro file for debug and release builds. I created a following test .pro file:</p>\n\n<pre><code>release {\n  message( \"release\" )\n}\ndebug {\n  message( \"debug\" )\n}\n</code></pre>\n\n<p>But compiling this .pro file in Qt Creator with “debug” build leads to following output:</p>\n\n<pre><code>Project MESSAGE: release\nProject MESSAGE: debug\n</code></pre>\n\n<p>It seems that both “debug” and “release” conditions are set to <code>True</code> O_O. Is it possible to somehow handle debug and release builds separately in qmake?</p>\n"},{"tags":["java","qt","gui","gtk","gnome"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":102,"score":2,"question_id":12476972,"title":"Easiest gui toolkit to learn and use for java","body":"<p>I want to learn GUI development for java. Can anyone recommend me some easy to learn and use GUI widget toolkits. I would also want to know a good GUI designer for the toolkit. The toolkit should integrate well with gtk and qt . Thanks in advance!</p>\n"},{"tags":["osx","cocoa","qt","keyboard","nsapplication"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12483252,"title":"How to disable the Help key and context sensitive help mode in OSX, especially with Qt","body":"<p>I have a cross platform Qt application that's running into some trouble in OSX. There's a feature that OSX has that I didn't even know existed - the 'Help' key. My MBP doesn't have one, and neither does my Apple wired keyboard purchased a year ago. It seems that this is mostly something that older Macs have. Apparently it generates the same scan code as the Insert key on PC keyboards.</p>\n\n<p>Anyways, when the Help key is pressed, the cursor over our application (or any application that receives the Help key event) turns into a little question mark. This seems to be part of what's called 'context-sensitive help mode', as documented in the <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSHelpManager_Class/Reference/Reference.html#//apple_ref/occ/clm/NSHelpManager/setContextHelpModeActive%3a\" rel=\"nofollow\">NSHelpManager's setContextHelpModeActive: method</a> and in the <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSApplication/activateContextHelpMode%3a\" rel=\"nofollow\">NSApplication's activateContextHelpMode: method</a> docs. From the docs:</p>\n\n<blockquote>\n  <p>In this mode, the cursor becomes a question mark, and help appears for any user interface item the user clicks.</p>\n  \n  <p>Most applications don’t use this method. Instead, applications enter\n  context-sensitive mode when the user presses the Help key.\n  Applications exit context-sensitive help mode upon the first event\n  after a help window is displayed.</p>\n</blockquote>\n\n<p>How many Cocoa developers actually know about this? I'm assuming that clicking on something in the application with this question mark cursor should do something like bring up a help message, but I haven't found a single Cocoa application where it actually does anything at all - not even Apple's apps do anything. In fact, it even seems to put a lot of applications into a strange mode where the cursor text selection is enabled. </p>\n\n<p>The problem is that when we change the application cursor programmatically in Qt when we're in this help-question-cursor-mode, bad things happen. Specifically, our application actually crashes. The crash happens deep inside Cocoa in the NSApplication's NSHelpManager. I'd like to find out why we're seeing this crash, but I'm actually more interested in how we can suppress this 'help' mode. There's nothing in Qt or Cocoa that I can see that would stop it, other than perhaps intercepting and squashing an event, which I haven't tried yet. </p>\n\n<p>Does anyone know any more about this?</p>\n"},{"tags":["c++","qt","qml","blackberry-10"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":296,"score":1,"question_id":12480833,"title":"My Blackberry 10 Cascades (C++, QT & QML) sample app is crashing on startup with the following error","body":"<p>I am trying to make a sample Blackberry 10 Cascades app in C++, QT, &amp; QML in the QNX Momentics IDE, and run it in the Blackberry 10 Dev Alpha Simulator. When I start running it, I get the following error messages:</p>\n\n<p>ApplicationPrivate::declarativeEngine: ERROR called from non-UI thread QThread(0x8067e48) \nApplicationPrivate::declarativeEngine: Method called from non-UI thread</p>\n\n<p>I have tried googling those error messages - but I only find a few links that actually apply to my situation - and the solutions for those problems don't seem to apply to me.</p>\n\n<p>I know it's got something to do with me trying to call different classes from different qml documents.  (Which is something I was having trouble with before - which is why I made this sample app in the first place - to see if I could figure out how to call different classes from different qml documents).</p>\n\n<p>Here is the code of my sample app. There are 7 files (main.qml, main.cpp, app.cpp, app.hpp, Page2.cpp, Page2.h, Page2.qml).  I would much appreciate if anyone could help me solve this - because I am not really sure what I am doing wrong.  Thankyou...</p>\n\n<p>(I have taken out main.cpp &amp; reduced the code from the other 6 files to what I think are the key parts to this problem).</p>\n\n<p>I know the problem has something to do with my Page2 class and the Page2.qml file.</p>\n\n<p>(I think the problem is that there is something I have to do to be able to call qt code from more than one qml files - and I just don't know what that is).</p>\n\n<p>main.qml:</p>\n\n<hr>\n\n<pre><code>import bb.cascades 1.0\n\n//-- create one page with a label and text\nPage {\n    content: Container {\n        Button {\n            text: \"Page 2\"\n            onClicked: app.goToPage2\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>from app.cpp</p>\n\n<hr>\n\n<pre><code>App::App()\n{\n    qmlRegisterType&lt;App&gt;(\"GDLiteBB\", 1, 0, \"app\");\n    qmlRegisterType&lt;Page2&gt;(\"GDLiteBB\", 1, 0, \"Page2\");\n\n    QmlDocument *qml = QmlDocument::create(\"main.qml\");\n    qml-&gt;setContextProperty(\"app\", this);\n\n    AbstractPane *root = qml-&gt;createRootNode&lt;AbstractPane&gt;();\n    Application::setScene(root);\n}\n\nvoid App::goToPage2() {\n    Page2::getInstance();\n}\n</code></pre>\n\n<hr>\n\n<p>from app.hpp</p>\n\n<hr>\n\n<pre><code>class App : public QObject\n{\n    Q_OBJECT\npublic:\n    App();\n\n    Q_INVOKABLE void goToPage2();\n};\n</code></pre>\n\n<hr>\n\n<p>Page2.cpp</p>\n\n<hr>\n\n<pre><code>QmlDocument * Page2::qml_ = QmlDocument::create(\"Page2.qml\");\nAbstractPane * Page2::root_ = qml_-&gt;createRootNode&lt;AbstractPane&gt;();\nLabel * Page2::label_ = root_-&gt;findChild&lt;Label *&gt;(\"label\");\n\nPage2::Page2() : QObject() {\n    ++count_;\n    page2_ = this;\n    qml_-&gt;setContextProperty(\"Page2\", this);\n    Application::setScene(root_);\n}\n\nPage2 *Page2::getInstance() {\n    return page2_ ? page2_ : new Page2();\n}\n\nvoid Page2::setLabel() {\n    label_-&gt;setText(\"This is page 2\");\n}\n</code></pre>\n\n<hr>\n\n<p>Page2.h</p>\n\n<hr>\n\n<pre><code>class Page2 : public QObject {\n    Q_OBJECT\n\n    static Page2 *page2_;\n    static unsigned int count_;\n\n    static bb::cascades::QmlDocument *qml_;\n    static bb::cascades::AbstractPane *root_;\n    static bb::cascades::Label *label_;\n\n    Page2();\npublic:\n    static Page2 *getInstance();\n    virtual ~Page2();\n\n    Q_INVOKABLE void setLabel();\n};\n</code></pre>\n\n<hr>\n\n<p>Page2.qml</p>\n\n<hr>\n\n<pre><code>import bb.cascades 1.0\nimport GDLiteBB 1.0\n\nPage {\n    content: Container {\n        Button {\n            text: \"Set Label\"\n            onClicked: Page2.setLabel()\n        }\n        Label {\n            objectName: \"Label\"\n        }\n    }\n}\n</code></pre>\n"},{"tags":["qt","pyqt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":529,"score":1,"question_id":4642716,"title":"How to determine who emitted the signal?","body":"<p>I develop an application on PyQt, I like the signal-slot model, but is there any way to\ndetermine the emitter of signal? I hope that there is a way, because it will let to write more generic code without defining lots of slots for each similar signal.</p>\n"},{"tags":["c++","qt","return","qml","qlist"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12460216,"title":"Qml not reading returned C++ list","body":"<p>I have a QML ListView using a C++ QList model defined using: setContextProperty. </p>\n\n<pre><code>rootContext-&gt;setContextProperty(\"myModel\", QVariant::fromValue(shopModel.dataList));\n</code></pre>\n\n<p>I have also created c++ a function that searches through my model and creates a new model with objects that match the search term, it then returns QVariant::fromValue(newList).</p>\n\n<p>I the have a button that sets the ListView's model to the returned one:</p>\n\n<pre><code>onClicked: list_view1.model = shopModell.searchModel(search_Field.text)\n</code></pre>\n\n<p>My problem now is that my ListView's delegates cannot read information from the returned list. If I try setting text to the name property I get ReferenceError: Can't find variable: name, this is strange but if I section the ListView 'name'(and all other properties) is read perfectly fine.</p>\n\n<pre><code>section.property: \"name\"\n</code></pre>\n\n<p>For my delegate I use this:</p>\n\n<pre><code>ToolButton {\n     text: name\n}\n</code></pre>\n\n<p>To make sure this was not a problem with the newList I also tried returing the exact same dataList that I set as a contextproperty in main.cpp and I had the exact same behavior.</p>\n\n<p>Any idea what I'm doing wrong?</p>\n"},{"tags":["python","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12480760,"title":"Which container to represent dual-row list of objects?","body":"<p>I have an array of objects which will be represented in the UI by two rows of UI elements. The first row will consist of a <code>QLabel</code>, a few <code>QPushButtons</code>, and a <code>QComboBox</code>. The second row will be one long <code>QLineEdit</code>. The container should be able to be updated when objects are added to or removed from the underlying array, or when those objects' properties change. Which Qt widget would be the preferred container to provide a scrollable list of these objects?</p>\n\n<p>The two obvious containers would be <code>QListView</code> or <code>QTableView</code>. However, neither of these seem to handle the two-row concept clearly, specifically the long <code>QLineEdit</code> that compromises the entire second row.</p>\n"},{"tags":["qt","opengl","qt4","mingw","mingw32"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":67,"score":2,"question_id":12473054,"title":"glload error in Qt","body":"<p>Trying to create an OpenGL application using glload in Qt, I tested sample code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n#include &lt;glload/gl_all.h&gt;\n#include &lt;glload/gll.hpp&gt;\n\nusing namespace std;\n\nint main()\n{\n    glload::LoadFunctions();\n    cout &lt;&lt; \"Hello World!\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>But when I run it, it stop working. The debug error is </p>\n\n<blockquote>\n  <p>can't run \": The requested operation requires elevation.</p>\n</blockquote>\n\n<p>The build command is </p>\n\n<blockquote>\n  <p>qmake.exe C:\\Users\\Benbroher\\test\\test.pro -r -spec win32-g++  \"LIBS+=-lglloadD\"  \"LIBS+=-lopengl32\"</p>\n</blockquote>\n\n<p>My Qt is 4.8.1, and glsdk is 0.4.4. \nI am running a 64-bit version of windows7, and it happened in a 32-bit version of winXP.</p>\n\n<p>What might cause this and how do I solve it?</p>\n"},{"tags":["qt","qt4","qpainter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12360873,"title":"Get list of points affected by drawLine() or QLineF","body":"<p>How do I get a list of points/coordinates that the drawLine() function affects? For example if I have </p>\n\n<pre><code>QLineF line(10.0, 80.0, 90.0, 20.0);\nQPainter(this);\npainter.drawLine(line);\n</code></pre>\n\n<p>I want to get the list of QPoint coordinates that the drawLine() will draw. I'm aware of <a href=\"http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\" rel=\"nofollow\">Bresenham's line algorithm</a>, however I need this to work in a more general case where I can set different QPen and QBrush:</p>\n\n<pre><code>painter.setPen(QPen(myColor, myWidth, Qt::SolidLine, Qt::RoundCap));\n</code></pre>\n\n<p>I also need it to be consistent with other programs that might draw lines with same end points and parameters, but without Qt, so I want to end up with the same result, and without off-by-one differences.</p>\n\n<p>Note: This is different from <a href=\"http://stackoverflow.com/questions/9680294/how-to-trace-the-missing-pixels-when-using-drawline\">this question</a>, because I need ALL pixels that are going to be affected by the drawing function, not just the vertices of polygon/path.</p>\n\n<p><strong>Update</strong>: I think it is possible to subclass QImage or QPainterDevice and QPaintEngine to catch all \"setPixel()\" operations. Could anyone prove otherwise or confirm and maybe even write a short code to do that?</p>\n"},{"tags":["c++","qt","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":31,"score":0,"question_id":12477989,"title":"Derived widget inside a layout","body":"<p>I have an object derived from <code>QWidget</code>. If I say <code>object-&gt;show()</code> it works perfectly, but I want to insert that object into a <code>gridLayout</code> of another class, also derived from <code>QWidget</code>. \nI've tried to add it with <code>addWidget(*widget)</code> like a regular <code>pushButton</code> (for ex) would work.</p>\n"},{"tags":["qt","winapi","icons","exe"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12459145,"title":"Extracting icon using WinAPI in Qt app","body":"<p>I'm trying to extract icon from exe file using WinAPI, but it doesn't work.</p>\n\n<p><strong>Here's the code:</strong></p>\n\n<pre><code>QIcon OSTools::AppsInterface::extractAppIcon(const QString &amp;fileName) const {\n    wchar_t *convertedName = new wchar_t[fileName.length() + 1];\n    fileName.toWCharArray(convertedName);\n    convertedName[fileName.length()] = '\\0';\n    HICON Icon = ExtractIcon(NULL, convertedName, 0);\n\n    QPixmap pixmap = QPixmap::fromWinHICON(Icon);\n    return QIcon(pixmap);\n}\n</code></pre>\n\n<p>Code outputs:</p>\n\n<pre><code>QPixmap::fromWinHICON(), failed to GetIconInfo()\n</code></pre>\n\n<p>(<a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms648068%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>ExtractIcon</code> function on MSDN</a>).</p>\n\n<p>I think problem is that I send NULL instead of \"<em>A handle to the instance of the application calling the function</em>\". But, generally, I use Qt, and it's only one WinAPI function in my app.</p>\n\n<p>What's wrong? What's correct way to extract icon using WinAPI? If you have another function proposal, please, give me an example. This is the first time I'm using WinAPI.</p>\n"},{"tags":["qt","zoom","qgraphicsview","qgraphicsscene"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":12477082,"title":"Render QGraphicsScene according to zoom level","body":"<p>Is there a (quick?) way to render only a subset of GraphicsScene items according to View zoom level? I'm having a big scene with many grid lines and i want to hide/show some of them, when the zoom changes to avoid the 'grid completely fills the scene'-effect. </p>\n\n<p>Grid lines are drawn using addLine method of GraphicsScene.</p>\n\n<p>P.S. Maybe, the easiest way is to draw grid somewhere else (on view or smth like that), because logically they aren't a part of my scene, they are only guide-lines? But i don't know which way is more effective.</p>\n"},{"tags":["qt","zip"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":5112,"score":7,"question_id":4518129,"title":"Qt classes to Zip/ Unzip files?","body":"<p>Are there any Qt classes to Zip/ Unzip files ?</p>\n\n<p>I need a library which provide me, extract zip file to folder functionality.</p>\n\n<p>I am using Qt for Embedded Linux version 4.6.2</p>\n"},{"tags":["qt","network-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12469072,"title":"Is it possible to detect the resume-able links via QNetworkAccessManager","body":"<p>Suppose i wish to pause the download, and start it again. Can we know before hand whether the link is resume-able. I mean is this info available with the headers.</p>\n"},{"tags":["java","qt","jre","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":12477317,"title":"How to Make a Desktop App use QTWebkit embeded specific JRE","body":"<p>I have to make a desktop app using QtWebKit run a java applet.</p>\n\n<p>how may I embed specific JRE and customize JRE path in my qt desktop app ?</p>\n"},{"tags":["gui","qt","qtableview","qitemdelegate"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2401,"score":0,"question_id":970618,"title":"What is the best way to make a QTableView's cells have up and down button pushed states in Qt?","body":"<p>I'm trying to make the cells of a <code>QTableView</code> look like 3D clickable buttons. So that when you click on a cell, the button looks pushed. <strong>Everyone seems to think I merely want to change the colour, I need to show images of a normal button, and a pushed button, that look 3-dimensional.</strong></p>\n\n<p>I have done this already with calling <code>QTableView::setItemDelegate()</code>, with an appropriate <code>ItemDelegate</code> that will change the background of the cell when it's clicked. However I'm stuck at this point because I want some cells to be different coloured buttons based on the data they contain. So a cell with a low number would be a red button, that's also red when it's clicked, and the other cells would be different colours.</p>\n\n<p>I can set the colour of the button with the <code>TableModel</code>, but once the button is clicked, there is no way for the <code>ItemDelegate</code> to know that it's supposed to be a different colour than the rest. How can you link the two so the <code>ItemDelegate</code> knows what colour it's supposed to be?</p>\n\n<p>Also, is there simply a better way to make cells look like buttons?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":11155494,"title":"Handling cancellation on a wizard page","body":"<p>I suspect that I am trying to bend a <code>QWizardPage</code> to do more than it is supposed to which is why I am running into issues but maybe there is a way to do this.</p>\n\n<p>So, I have a number of pages within a <code>QWizard</code> and on one certain page I run a series of tests against some hardware that then stores results in a database. I want to be able to cancel if necessary. However at the moment the Cancel button is part of the QWizard so i am not sure how to handle it.</p>\n\n<p>I am aware I can overide the <code>reject()</code> function of <code>QWizard</code> and then determine the current page and if it is the page I am interested in then do something but I would rather not tie the pages togehter in this way unless I have to.</p>\n\n<p>I did try to connect the <code>rejected()</code> signal to the wizard like this:</p>\n\n<pre><code>connect(this, SIGNAL(rejected()), ui-&gt;runTestPage, SLOT(on_rejected()));\n</code></pre>\n\n<p>But this instantly closes the page anyway before I can display anything back to the user to say I am cancelling.</p>\n\n<p>I could add a button to the wizard page that will display when the test is running to allow a cancel but then the page still has the main cancel button. In fact even after the test is complete the Cancel still displays so being able to remove or disable that would seem appropriate.</p>\n\n<p>So is this something I can do or do I need to revisit the entire use of a wizard?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12475132,"title":"Is there a way to get a list of all opened files for a process using Qt?","body":"<p>Our application is cross-platform and thus written in Qt. The target platforms are Windows and Mac. In our project we need to determine a list of all opened files for a separate process. For now we do it in a platform dependent way using WinAPI and corresponding Mac OsX APIs. This approach has already caused many problems as long as we need to maintain two unrelated versions of the program.</p>\n\n<p>If it can be any helpful, we need to determine a list of opened audio files for such programs as Traktor and Serato (Dj Intro and Scratch Live). And the version of Qt we are using is 4.8.0.</p>\n\n<p>So, the question will be, is there any platform-independent way to get a list of opened files? Or maybe at least a some kind of workaround using some third party libraries or utils?</p>\n"},{"tags":["qt","radio-button"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12472817,"title":"Qt Squared Radio Button","body":"<p>I want to create a squared radio button, with the text inside the button. Is that possible? I think the button shape could be  changed trough css, but what about the text?</p>\n\n<p>Any hint?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12473718,"title":"Qt QSignalMapper doesn't work","body":"<p>I'm trying to use QSignalMapper to send signal sender(QPushButton) to slot when it's clicked. But it doesn't work and I really don't know why.</p>\n\n<p>If you know a different way to do this, it will be great to inform me, but I really want to know how to use QSignalMapper because it can be useful in the future.</p>\n\n<p>moviebase.h</p>\n\n<pre><code>    #ifndef MOVIEBASE_H\n    #define MOVIEBASE_H\n\n    #include &lt;QtGui/QMainWindow&gt;\n    #include &lt;Qt\\qsignalmapper.h&gt;\n\n    #include \"ui_moviebase.h\"\n    #include \"include\\DBAdapter.h\"\n    #include \"include\\objView.h\"\n\n    class MovieBase : public QMainWindow\n    {\n\n        Q_OBJECT\n\n    public:\n        MovieBase(QWidget *parent = 0, Qt::WFlags flags = 0);\n        ~MovieBase();\n\n    private:\n\n        Ui::MovieBaseClass ui;\n\n        DBAdapter *db;\n        DBAdapter::Type type;\n        QPushButton *buttonChecked;\n        QSignalMapper *pushButtonMapper;\n\n        void setMainButtonsFunct();\n\n\n    private slots:\n        void button_pushed(const QPushButton &amp;);\n\n    };\n\n    #endif // MOVIEBASE_H\n</code></pre>\n\n<p>moviebase.cpp</p>\n\n<pre><code>#include \"moviebase.h\"\n\nMovieBase::MovieBase(QWidget *parent, Qt::WFlags flags)\n    : QMainWindow(parent, flags)\n{\n    ui.setupUi(this);\n    db = new DBAdapter();\n\n    this-&gt;type = DBAdapter::Movie;\n\n    this-&gt;setMainButtonsFunct();\n\n    ObjView *obj = new ObjView(this-&gt;ui.objView);\n\n    obj-&gt;view(db-&gt;get_All_Elements(this-&gt;type));\n}\n\nvoid MovieBase::setMainButtonsFunct()\n{\n    this-&gt;buttonChecked = ui.watchedButton;\n\n    this-&gt;pushButtonMapper = new QSignalMapper(this);\n\n    connect(this-&gt;ui.watchedButton, SIGNAL(clicked()), this-&gt;pushButtonMapper, SLOT(map()));\n    connect(this-&gt;ui.towatchButton, SIGNAL(clicked()),  this-&gt;pushButtonMapper, SLOT(map()));\n    connect(this-&gt;ui.availableButton, SIGNAL(clicked()),  this-&gt;pushButtonMapper, SLOT(map()));\n    connect(this-&gt;ui.allButton, SIGNAL(clicked()),  this-&gt;pushButtonMapper, SLOT(map()));\n\n    this-&gt;pushButtonMapper-&gt;setMapping(this-&gt;ui.watchedButton, this-&gt;ui.watchedButton);\n    this-&gt;pushButtonMapper-&gt;setMapping(this-&gt;ui.towatchButton, this-&gt;ui.towatchButton);\n    this-&gt;pushButtonMapper-&gt;setMapping(this-&gt;ui.availableButton, this-&gt;ui.availableButton);\n    this-&gt;pushButtonMapper-&gt;setMapping(this-&gt;ui.allButton, this-&gt;ui.allButton);\n\n    connect(this-&gt;pushButtonMapper, SIGNAL(mapped(const QPushButton &amp;)), this, SLOT(button_pushed(const QPushButton &amp;)));\n}\n\nvoid MovieBase::button_pushed(const QPushButton &amp;sender)\n{\n    qDebug() &lt;&lt; \"button pushed\";\n    this-&gt;ui.watchedButton-&gt;setChecked(false);\n}\n\nMovieBase::~MovieBase()\n{\n\n}\n</code></pre>\n"},{"tags":["c++","qt","floating-point","double","ieee-754"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":208,"score":6,"question_id":12466745,"title":"How to convert float to double(both stored in IEEE-754 representation) without losing precision?","body":"<p>I mean, for example, I have the following number encoded in IEEE-754 single precision:</p>\n\n<pre><code>\"0100 0001 1011 1110 1100 1100 1100 1100\"  (approximately 23.85 in decimal)\n</code></pre>\n\n<p>The binary number above is stored in literal string.</p>\n\n<p>The question is, how can I convert this string into IEEE-754 double precision representation(somewhat like the following one, but the value is not the same), WITHOUT losing precision?</p>\n\n<pre><code>\"0100 0000 0011 0111 1101 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1010\"\n</code></pre>\n\n<p>which is <del>the same number</del> encoded in IEEE-754 double precision.</p>\n\n<p>I have tried using the following algorithm to convert the first string back to decimal number first, but it loses precision.</p>\n\n<pre><code>num in decimal = (sign) * (1 + frac * 2^(-23)) * 2^(exp - 127)\n</code></pre>\n\n<p>I'm using Qt C++ Framework on Windows platform.</p>\n\n<p>EDIT: I must apologize maybe I didn't get the question clearly expressed.\nWhat I mean is that I don't know the true value 23.85, I only got the first string and I want to convert it to double precision representation without precision loss.</p>\n"},{"tags":["qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12455717,"title":"Can connectSlotsByName connect to selection model changes?","body":"<p>In my main window (<code>QMainWindow</code>) I have a <code>QTableView</code> (named <code>commandsTableView</code>). Now I want to react on its selection changes.</p>\n\n<p>I made a slot and connected it manually to <code>ui.commandsTableView-&gt;selectionModel()</code>. All works fine.</p>\n\n<p>But then I thought: why not use auto-connection (especially that there will be more connections to be done)? At least it will add more force to consistent naming rules.</p>\n\n<p>Yet I wasn't able to find proper name syntax. I tried:</p>\n\n<ul>\n<li><code>on_commandsTableView_selectionModel_selectionChanged</code>,</li>\n<li><code>on_commandsTableViewSelectionModel_selectionChanged</code>,</li>\n<li><code>on_commandsTableView_selectionChanged</code>,</li>\n<li><code>on_commandsTableView___selectionChanged</code></li>\n</ul>\n\n<p>but neither worked. In all cases there is there is a message on output when running the app (with corresponding slot name, here only first given as an example):</p>\n\n<pre><code>QMetaObject::connectSlotsByName: No matching signal for on_commandsTableView_selectionModel_selectionChanged(QItemSelection,QItemSelection)\n</code></pre>\n\n<p><em>(Why there are no assertions in response for connection errors - that I cannot understand. I lost much time wondering what is wrong before I spotted those - and alike - messages on output.)</em></p>\n\n<p>The object returned by <code>ui.commandsTableView-&gt;selectionModel()</code> has an empty name. But setting it to <code>selectionModel</code> prior to making a call to <code>connectSlotsByName</code> doesn't help either. </p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12460779,"title":"QLocalSocket - how to drop readings","body":"<p>I am using a <code>QLocalSocket</code> to transfer a <code>Measurement</code> struct at intervals to clients from a server program.</p>\n\n<p>I set up the block and <code>QDataStream</code> then:</p>\n\n<pre><code>out.writeRawData(data, sizeof(Measurement));\nout.device()-&gt;reset();\n</code></pre>\n\n<p>Then for each registered client:</p>\n\n<pre><code>clients_.at(i)-&gt;write(block);\nclients_.at(i)-&gt;flush();\n</code></pre>\n\n<p>Then at the other end on signal <code>readyRead()</code>:</p>\n\n<pre><code>in.readRawData((char *) data, sizeof(Measurement));\n</code></pre>\n\n<p>What I want to happen is that if the client is not ready to receive when the measurement is sent it will skip a reading.\nAt the moment I get:</p>\n\n<pre><code>send 3\nread 3\nsend 4\nsend 5\nread 4\n</code></pre>\n\n<p>How can I get:</p>\n\n<pre><code>send 3\nread 3\nsend 4\nsend 5\nread 5\n</code></pre>\n"},{"tags":["qt","qdialog"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":171,"score":1,"question_id":12470806,"title":"QDialog exec() and getting result value","body":"<p>I have subclassed <code>QDialog</code> to implement functionality similar to <code>QMessageBox</code> ( I needed this to allow for customization). It has a text message and OK, Cancel buttons. I am showing the dialog using <code>exec()</code> to make it blocking. Now, how do I return values of true/false when the user clicks on OK/Cancel?</p>\n\n<p>I tried connecting the buttons to <code>setResult()</code> and then, return the result value when clicked, but\n1. Clicking the buttons does not close the dialog box\n2. the return value is incorrect. \nFollowing is the code I have written. I think I am wrong in the exec/result part - but I am not sure how to fix it.</p>\n\n<pre><code>class MyMessageBox : public QDialog\n{\n    Q_OBJECT\n\nprivate slots:\n\n    void onOKButtonClicked(){ this-&gt;setResult(QDialog::Accepted);}\n    void onCancelButtonClicked(){ this-&gt;setResult(QDialog::Rejected);}  \n\npublic:\n\n    MyMessageBox(QMessageBox::Icon icon, const QString &amp; title, const QString &amp; text, bool showCancelButton = true, QWidget *parent = 0 );\n\n    virtual void resizeEvent(QResizeEvent* e);\n\n        QDialog::DialogCode showYourself()\n        {\n            this-&gt;setWindowModality(Qt::ApplicationModal);\n            this-&gt;exec();\n            return static_cast&lt;QDialog::DialogCode&gt;(this-&gt;result());\n        }   \n\n    };\n</code></pre>\n\n<p>The user will instantiate the class and call showYourself() which is expected to return the value and also close(and delete) the dialog.</p>\n\n<p>I have posted partial code. Let me know if you need more and I will post the complete version.</p>\n"},{"tags":["qt","window","glib","creator"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12472872,"title":"Adding glib-2.0 support for Qt applications on Windows 7","body":"<pre><code>SDK: Qt Creator 2.4.1 (Qt 4.7.4 (32 bit)) running on Windows 7\n</code></pre>\n\n<p>How do I add glib-2.0 to my Qt Creator environment so that applications \ncan find it by the line </p>\n\n<pre><code>  PKGCONFIG += glib-2.0\n</code></pre>\n\n<p>In their .pro file  ?</p>\n\n<p>I have downloaded the libglib-2.0-0.dll from <a href=\"http://www.gtk.org\" rel=\"nofollow\">http://www.gtk.org</a> but \nwhere do i put the file in the C:\\QtSDK structure ?</p>\n\n<p>/Stefan</p>\n"},{"tags":["python","qt","graphics","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12448788,"title":"QPainterPath - moving/deleting Elements","body":"<p>Is there any way to edit the position of individual 'lineTo' elements in a QPainterPath (or remove particular elements and replace them with a modified version?).  I've tried using *.setElementPositionAt(i,x,y) to no avail (the path is not redrawn).</p>\n\n<p>I basically want to all users to edit the vertices of a polyline (created via a qpainterpath and lineTo methodology) dynamically with the mouse.</p>\n\n<p>Obviously, if there is a better way to create polylines in a QGraphicscene then some advice on that would also be welcomed.</p>\n"},{"tags":["qt","qt4","qtableview","model-view"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12438077,"title":"Trouble getting `QWidget* editor` for a `QModelIndex`","body":"<p>I am having trouble augmenting the default edit behavior of <a href=\"http://qt-project.org/doc/qt-4.8/qtableview.html\" rel=\"nofollow\"><code>QTableView</code></a>. I want the following behavior when the Enter key is pressed:</p>\n\n<ol>\n<li>Start editing the current cell if it is not already being edited.</li>\n<li>If the cell is being edited,\n<ul>\n<li>2a. commit the data and close the editor. Then,</li>\n<li>2b. make the cell below, if present, the current cell.</li>\n</ul></li>\n</ol>\n\n<p>2a is the default behavior, and 2b can likely be achieved by using <a href=\"http://qt-project.org/doc/qt-4.8/qabstractitemview.html#setCurrentIndex\" rel=\"nofollow\"><code>QAbstractItemView::setCurrentIndex()</code></a> in a re-implementation of <a href=\"http://qt-project.org/doc/qt-4.8/qitemdelegate.html#eventFilter\" rel=\"nofollow\"><code>QItemDelegate::eventFilter()</code></a> (as suggested <a href=\"http://qt-project.org/faq/answer/how_can_i_make_the_focus_go_from_one_cell_to_the_next_when_hitting_enter\" rel=\"nofollow\">here</a> in a similar context).</p>\n\n<p>The problem is in achieving 1. I list below the approaches I have tried till now.</p>\n\n<ul>\n<li><strong>Reconfigure the \"platform edit key\"</strong> By default, \"Editing starts when the platform edit key has been pressed over an item.\" (<a href=\"http://qt-project.org/doc/qt-4.8/qabstractitemview.html#EditTrigger-enum\" rel=\"nofollow\"><code>QAbstractItemView::EditKeyPressed</code></a>) This key is F2 on my platform (Ubuntu 12.04). I could reconfigure the platform edit key to Enter but\n<ul>\n<li>Altering platform defaults seems like a bad idea.</li>\n<li>I could not find out how to do it.</li>\n</ul></li>\n<li><p><strong>Capture the Enter key press</strong> I use <a href=\"http://qt-project.org/doc/qt-4.8/qshortcut.html\" rel=\"nofollow\"><code>QShortCut</code></a> to do this as follows:</p>\n\n<pre><code>class CourseTable : public QTableView {\n/* ... */\n};\n/* ... */\nCourseTable::CourseTable(/* ... */) {\n  /* ... */\n  QShortcut* shortcut = new QShortcut(QKeySequence(Qt::Key_Return), this);\n  connect(shortcut, SIGNAL(activated()), this, SLOT(handleEnter_()));\n  /* ... */\n}\n/* ... */\nvoid CourseTable::handleEnter_() {\n  QModelIndex idx = this-&gt;currentIndex();\n  if (this-&gt;state() != QAbstractItemView::EditingState)\n    this-&gt;edit(idx);\n  /* else  // see below */\n}\n</code></pre>\n\n<p>This does capture the Enter key-press and accomplishes 1 (from above) but now 2 is broken. So, I need to look into the <code>else</code> clause in <code>CourseTable::handleEnter_()</code> above, possibly calling <a href=\"http://qt-project.org/doc/qt-4.8/qabstractitemview.html#commitData\" rel=\"nofollow\"><code>QAbstractItemView::commitData()</code></a> and <a href=\"http://qt-project.org/doc/qt-4.8/qabstractitemview.html#closeEditor\" rel=\"nofollow\"><code>QAbstractItemView::closeEditor</code></a> in it. The problem is that both these functions require a <code>QWidget *editor</code> argument which I just cannot figure out how to get. I could subclass <a href=\"http://qt-project.org/doc/qt-4.8/qabstractitemdelegate.html\" rel=\"nofollow\"><code>QAbstractItemDelegate</code></a>, add a <code>getEditor()</code> method to the derived class, and modify existing code to pass instances of the derived delegate class to <code>CourseTable::setItemDelegate*()</code> functions. But that sounds like too much work.</p></li>\n</ul>\n\n<p>So, any ideas how I can cleanly accomplish both 1 and 2 without having to rewrite my code?</p>\n"},{"tags":["c++","visual-studio","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12470177,"title":"What do I need to know before switching from Qt to Visual C++?","body":"<p>I've been using Qt since I started to learn C++. It was the recommended SDK by professor so I didn't try another. Now that I want to learn to use Visual C++, it confuses me what the differences between those two SDKs are. I grew quite comfortable with all the signal and slot stuff of Qt. I wonder if I can find similar functionality in Visual C++. If for any chance, is there any tutorial that teaches you how to work with Visual C++?</p>\n"},{"tags":["qt","vector","compiler-errors","declaration","private-members"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12469142,"title":"QVector array in QT cannot access private member error","body":"<p>I have experience in programming but Im still learning, I decided to create a QVector array to store some QGraphicsRectItem in it like this:</p>\n\n<pre><code>QVector&lt;QGraphicsRectItem&gt; *FreeLayer1;\n\nFreeLayer1 = new QVector&lt;QGraphicsRectItem&gt;;\nFreeLayer1-&gt;resize(10);\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2010\\include\\QtCore/qvector.h(532) : error C2248: 'QGraphicsRectItem::QGraphicsRectItem' : cannot access private member declared in class 'QGraphicsRectItem'\nc:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2010\\include\\qtgui\\qgraphicsitem.h(728) : see declration of 'QGraphicsRectItem::QGraphicsRectItem'\nc:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2010\\include\\qtgui\\qgraphicsitem.h(683) : see declaration of 'QGraphicsRectItem'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2010\\include\\QtCore/qvector.h(473) : while compiling class template member function 'void QVector&lt;T&gt;::realloc(int,int)'\n</code></pre>\n\n<p>I know this may sound really stupid or really easy to do but I didn't find errors exactly like mine and I don't have a lot of experience with declarations. My question is how can I write this code in order to use my variable FreeLayer1. I insist on using QVector&lt;>, I just don't know how to declare it. </p>\n\n<p>Thank you for your help! :)</p>\n"},{"tags":["c++","html","qt","url","uri"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12468833,"title":"How to encode a list of URI's as a string?","body":"<p>I need to store a list of http URI's as a single string. The language/toolkit shouldn't matter, but for completeness the language is C++ and the primary toolkit I'm using is Qt (I'm actually trying to get a list of strings into a single QString because it's one of the few Qt types that doesn't get pickled in a non-human readable way when it goes into a QDataStream => QVariant => QSettings.)</p>\n\n<p>Is there a 'safe' character that I can delimit this list of URI strings with?</p>\n"},{"tags":["qt","ubuntu-12.04","meego-harmattan"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12468389,"title":"Qt creator update for harmattan developement","body":"<p>I am trying to update the Qt sdk for harmattan developement. This is the instruction i am following </p>\n\n<p><a href=\"http://harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Getting_started_with_Harmattan_using_Qt_SDK_Installing_Qt_SDK_on_Linux.html\" rel=\"nofollow\">harmattan-dev.nokia.com/docs/library/html/guide/html/Developer_Library_Getting_started_with_Harmattan_using_Qt_SDK_Installing_Qt_SDK_on_Linux.html</a></p>\n\n<p>After succesfully installing Qt and moving to the first point of updating Qt sdk for harmattan development</p>\n\n<blockquote>\n  <p>To update the Qt SDK with the MeeGo 1.2 Harmattan API target, click\n  Help on the Qt Creator top toolbar and select Start Updater. On the\n  Package manager tab, you can find the MeeGo 1.2 Harmattan API target\n  from under Qt SDK > Development Tools > Harmattan > MeeGo 1.2\n  Harmattan. You can also select other targets, such as the Harmattan\n  emulator (QEMU).</p>\n</blockquote>\n\n<p>When i go to start updater -> package manager and hit next. The computer hangs(non responsive ) and after a while shows my login screen (as if it has restarted without showing any signs of restart which it normally does while restarting), once i login all my previous processes are gone including qt creator. I have no idea whats wrong here. My box is on ubuntu lts 12.04 and qt sdk is 1.2.1.</p>\n"},{"tags":["qt","position","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":262,"score":3,"question_id":10869785,"title":"Clear QML anchor","body":"<p>I have a MouseArea that I want to start off centered and then have an absolute position once the up/down/left/right keys are pressed. My problem is that I don't know how to clear the anchor on the MouseArea so that I can specify an absolute position:</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    id: screen\n    width: 360\n    height: 360\n\n    function moveMouseArea(x, y) {\n        mouseArea.pos.x += x;\n        mouseArea.pos.y += y;\n        mouseArea.state = \"moved\";\n        mouseAreaPosText.text = 'Mouse area was moved... new pos: '\n            + mouseArea.pos.x + ', ' + mouseArea.pos.y;\n    }\n\n    Item {\n        id: keyHandler\n        focus: true\n        Keys.onPressed: {\n            if (event.key == Qt.Key_Up) {\n                moveMouseArea(0, -1);\n            }\n            if (event.key == Qt.Key_Down) {\n                moveMouseArea(0, 1);\n            }\n            if (event.key == Qt.Key_Left) {\n                moveMouseArea(-1, 0);\n            }\n            if (event.key == Qt.Key_Right) {\n                moveMouseArea(1, 0);\n            }\n        }\n    }\n\n    states:\n        State {\n        name: \"moved\"\n        AnchorChanges {\n            target: mouseArea\n            anchors.bottom: undefined\n            anchors.left: undefined\n            anchors.right: undefined\n            anchors.top: undefined\n        }\n    }\n\n    MouseArea {\n        id: mouseArea\n        anchors.centerIn: parent\n        width: 250\n        height: 250\n        onClicked: {\n            console.log(\"clicked!\");\n        }\n        onPositionChanged: {\n            console.log(\"position changed!\");\n        }\n\n        Rectangle {\n            anchors.fill: parent\n            border.width: 2\n            border.color: \"black\"\n            color: \"transparent\"\n        }\n\n        Text {\n            id: mouseAreaPosText\n            anchors.centerIn: parent\n        }\n    }\n}\n</code></pre>\n\n<p>At first I just tried setting <code>mouseArea.anchors</code> to <code>undefined</code> but got an error about <code>anchors</code> being a read-only property. I then discovered AnchorChanges, but I can't find a way to remove/clear the anchor; setting <code>anchors.bottom</code> etc. to <code>undefined</code> doesn't work.</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12446181,"title":"add data to a qml XmlDataModel","body":"<p>gi, i have a question about qml and the XmlDataModel.\ni have a xml file where i have something like this:</p>\n\n<pre><code>&lt;model&gt;\n  &lt;item title=\"one\" /&gt;\n  &lt;item title=\"two\" /&gt;\n&lt;/model&gt;\n</code></pre>\n\n<p>and i have a listView which has this data:</p>\n\n<pre><code>ListView {\n    id: listView\n    dataModel: XmlDataModel {\n        source: \"data/model1.xml\"\n    }\n}\n</code></pre>\n\n<p>now i dant to add some data to this model when i e.g. press a button. how to make this?</p>\n"},{"tags":["c++","qt","qstring"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":112,"score":5,"question_id":12459059,"title":"QString::number() 'f' format without trailing zeros","body":"<p>I want to convert number to <code>QString</code> with 3 significant digits.</p>\n\n<pre><code>QString::number(myNumber,'f',3);\n</code></pre>\n\n<p>does the job but remains trailing zeros. How to use it without them.</p>\n\n<p>Also I've tried <code>'g'</code> and which shouldn't remain those zeros:</p>\n\n<pre><code>QString::number(myNumber,'g',3);\n</code></pre>\n\n<p>but  for example 472.76 is converted to 473. That surprised me. Why is it so with <code>'g'</code> option?</p>\n\n<p><strong>However I am interested in <code>'f'</code> format. So the main question is how to do it with <code>'f'</code> without trailing zeros?</strong></p>\n\n<p>Input -> Desired output</p>\n\n<p>472.76 -> 472.76</p>\n\n<p>0.0766861 -> 0.077</p>\n\n<p>180.00001 -> 180</p>\n"},{"tags":["python","windows","qt","qwt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12466297,"title":"PyQwt 5.x w/ PyQt 4.6 on Windows","body":"<p>Looking for Qt 4.6 features but it seems PyQwt 5.x is bundled only with PyQt.  Compiling from source looks a bit daunting, any ideas on how I might get PyQwt to operate with Qt 4.6+?</p>\n"},{"tags":["qt","qt-creator","qwebkit","qt4.8","qwebpage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":10868214,"title":"How to create Web History for my Browser","body":"<p>I'm new to Qt. I am Trying to create a Sample Browser Application. I had created the Browser application. Now i need to create the Web history for my application. I don't know how to do it.  can anyone please help me with this.\nThanks in advance.</p>\n"},{"tags":["c++","qt","filesystems","mount","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12448736,"title":"QT DBUS mount filesystem","body":"<p>I would like to mount a filesystem using QT and DBUS. I subscribed to signal \"DeviceAdded\" using this small snippet:</p>\n\n<pre><code> void DBusWatcher::deviceAdded(const QDBusObjectPath &amp;o) {\n    QDBusMessage call = QDBusMessage::createMethodCall(\"org.freedesktop.UDisks\", o.path(), \"org.freedesktop.DBus.Properties\", \"GetAll\");\n\n    QList&lt;QVariant&gt; args;\n    args.append(\"org.freedesktop.UDisks.Device\");\n    call.setArguments(args);\n\n    QDBusPendingReply&lt;QVariantMap&gt; reply = DBusConnection::systemBus().asyncCall(call);\n    reply.waitForFinished();\n\n    QVariantMap map = reply.value();\n\n    // ...\n}\n</code></pre>\n\n<p>That works pretty fine. My question is, how do I mount this thing? All I have is something like this - and it does not work at all - and with no errors.</p>\n\n<pre><code>QDBusMessage call = QDBusMessage::createMethodCall(\"org.freedesktop.UDisks\", \"dont know what to put here!\", \"org.freedesktop.UDisks.Device\", \"FilesystemMount\");\n</code></pre>\n\n<p>And now, what action should I use on QDBusConnection::systemBus(): call, asyncCall, callWithCallback? What has to be put as second argument into createMethodCall? Nothing works! Really fustrating!</p>\n"},{"tags":["qt","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12463579,"title":"QTableView shows no data, when associated model has got data","body":"<p>I am playing with Qt (I am a beginner), and trying to show a table's data in a QTableView.\nSo far I have this:</p>\n\n<pre><code>ui-&gt;setupUi(this);\n\nQSqlDatabase db;\ndb=QSqlDatabase::addDatabase(\"QSQLITE\");\ndb.setDatabaseName(\"test.db\");\n\nif (db.open())\n    qDebug() &lt;&lt; \"success\";\nelse\n    qDebug() &lt;&lt; \"failed\";\nQSqlTableModel model;\nmodel.setTable(\"names\");\nmodel.select();\nqDebug() &lt;&lt; model.rowCount();\n\nui-&gt;tableView-&gt;setModel(&amp;model);\n</code></pre>\n\n<p>The problem is that, the model does get the data(2 rows), but the QTableView does now show it.</p>\n\n<p>Any clues what is wrong here?</p>\n"},{"tags":["c++","c","multithreading","qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12463135,"title":"Is it possible to use opencv functions from inside of a QThread?","body":"<p>I intend to write a Qt GUI application which does a lot of image processing. To not freeze the display, I intend to put the calculations to a <code>QThread</code>, as some calculations can be in the range of a few seconds. </p>\n\n<p>I managed to integrate Qt and opencv 2.31, and I successfully run some tests from the main (GUI) thread: creating images, drawing on them, performing basic algorithms, and displaying them in a <code>cvNamedWindow</code>. All works fine.</p>\n\n<p>However, if I start a <code>QThread</code> and move my previous tests there, strange things happen:</p>\n\n<ul>\n<li>Allocating images or opening them from files, drawing on them (e.g. <code>cvLine</code>) works fine (I can send them to the GUI thread and display them)</li>\n<li><strong>performing most of the transformations crashes the application</strong> (e.g. <code>cvSmooth</code>)</li>\n<li>using displaying functions (e.g. <code>cvNamedWindow</code>, <code>cvShowImage</code>) don't work, but at least they don't cause the program to crash, only sending \"QPixmap: It is not safe to use pixmaps outside the GUI thread\" to the Qt debug output. (This one I understand, as cvNamedWindow is implemented in Qt and Qt only allows display from the main GUI thread)</li>\n</ul>\n\n<p>Is there a way to use the image processing functions from a thread other than the main? It would be counter-intuitive to do edge detection etc. in the main thread, much less segmentation or other, resource-heavy algorithms ...</p>\n\n<p><sub>\nHere is an example which works in the main (GUI) thread but does not work in a QThread. This is using only the C API, because the C++ API gave me even more problems under Qt. This means a C solution will also be enough, but I'm open to other solutions using the C++ API.</p>\n\n<pre><code>IplImage *test;\ntest = cvCreateImage( cvSize(640,480), 8, 1 );\ncvLine(test,cvPoint(20,20),cvPoint(100,100),cvScalar(255,0,0),3);  // works fine even in thread\ncvSmooth( test, test, CV_GAUSSIAN, 11, 11 );                       // crashes if in thread\ncvNamedWindow(\"test\");                                             // warning if in thread\ncvShowImage(\"test\",test);                                          // warning if in thread\n</code></pre>\n\n<p></sub></p>\n"},{"tags":["qt","drag","qtreewidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12432863,"title":"How to alterate Qt QListWidget/QTreeWidget dragging \"bubble\" widget size hints","body":"<p>I use a QTreeWidget. The information displayed by the widget when dragging is only the field. By hacking the delagate painter, it is possible to set other content when it is being dragged.</p>\n\n<p>The position of the \"bubble\" widget is based on (mouse.y - (mouse.y-item.y), mouse.x - (mouse.x-item.x))\nHowever, that leaves two issues:</p>\n\n<ul>\n<li><p>The widget, being bigger than the column and rows, obscure them, making it hard to know where you drop them, hurting usability.</p></li>\n<li><p>Sometimes, I want to store more information than the size permit me. Storing less is easy, Qt produces a mask based on the transparent area, so you can change compositor mode and make a new mask by hand. This does not work to make it bigger.</p></li>\n</ul>\n\n<p>How can I force new sizehint on the drag so it give the bubble widget the right size and position. I know it is possible because some Qt apps seem to be able to do so?</p>\n"},{"tags":["c++","qt","icons","scalable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12460737,"title":"Drawing a scalable QIcon using QPainter","body":"<p>I want to design a new QIcon and want it to look like a fixed text with a rounded rectangle around it</p>\n\n<pre><code>.-----.\n| Phy |\n`-----´\n</code></pre>\n\n<p>The icon is supposed to scale without the \"pixel-blocks\" effect when painting on a QPainter that eventually has a scale transformation applied (for example when I paint into a widget that is part of a QGraphicsView with a scale applied on its scene). </p>\n\n<p>Therefor, I have difficulties knowing how I should paint my QIcon. If I do it in the following way, I will paint a QPixmap that always has a fixed amount of pixels, thus introducing the pixel-blocks effect inevitably when the scale is large enough</p>\n\n<pre><code> void MyWidget::drawIcon(QPainter *painter, QPoint pos) {\n     QPixmap pixmap = icon.pixmap(QSize(22, 22),\n                                    isEnabled() ? QIcon::Normal\n                                                : QIcon::Disabled,\n                                    isChecked() ? QIcon::On\n                                                : QIcon::Off);\n     painter-&gt;drawPixmap(pos, pixmap);\n }\n</code></pre>\n\n<p>What I am looking for is a way similar to how QFont with <code>drawText</code> works. Regardless on how large my scale is, when I draw fonts it always looks sharp and I cannot detect individual pixels. </p>\n\n<p>I imagine that I could tell <code>QPainter</code> to paint my icon into a given pixel rectangle, and <code>QPainter</code> transforms the rectangle <em>itself</em> before letting my <code>QIconEngine::paint</code> render the item into a possibly larger rectangle or pixmap. But I see no way how I could do something like this. </p>\n\n<p>Am I just being stupid and not seeing the obvious solution?</p>\n"},{"tags":["osx","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":9285211,"title":"Qt QFileInfo.lastModified() Mac OSX bug?","body":"<p>I am developing an app for Mac and Windows with Qt. I am monitoring changes to Folder X. When a file is copied from somewhere to Folder X, I read its lastModified() date. On Windows it shows the original file's last modified date of the file, which is expected. However, on Mac it returns the Current DateTime. When I rename the file, after it has been copied to Folder X, I get the original file's last Modified date on both Windows and Mac.</p>\n\n<p>So why does Qt on Mac return current DateTime when the file is copied, and returns original file's modified time after I rename the file?</p>\n"},{"tags":["c++","qt","mobile","popup","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12439379,"title":"No internet popup Qt & QML (mobile devices)","body":"<p>My program uses QtNetwork to download stuff from internet.</p>\n\n<p>in int main() I call</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    QmlApplicationViewer viewer;\n\n    QNetworkConfigurationManager manager;\n    QNetworkConfiguration cfg = manager.defaultConfiguration();\n    QNetworkSession* session = new QNetworkSession(cfg);\n    session-&gt;setSessionProperty(\"ConnectInBackground\", true);\n    session-&gt;open();\n\n    /*some registering types*/\n\n    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);\n    viewer.setMainQmlFile(QLatin1String(\"qml/maelyrica/main.qml\"));\n    viewer.showFullScreen();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>Then, in one member function, a lot of encapsulation, a lot of calling other member functions which call other member functions, such code is used:</p>\n\n<pre><code>QNetworkReply::NetworkError lyricsDownloader::download(const QString&amp; a, const QString&amp; t)\n{\nQNetworkAccessManager nam;\nQNetworkReply * reply;\nQUrl url = toProviderCode(a, t);\nforever\n{\n    reply = nam.get(QNetworkRequest(url));\n    QEventLoop downloadLoop;\n    connect(reply, SIGNAL(finished()), &amp;downloadLoop, SLOT(quit()));\n    downloadLoop.exec();\n    url = reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute).toUrl();\n    if (url.isEmpty()) break; // break when no redirect, when redirect do it again with new url\n}\n\nlyrics_qstr = reply-&gt;readAll();\n\n//qDebug() &lt;&lt; lyrics_qstr;\n\nreturn reply-&gt;error();\n}\n</code></pre>\n\n<p>This should show an internet popup on mobile devices such as Nokia N9 or Nokia N900, i.e. user has to choose the internet connection unless he's already connected. But it isn't shown. </p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12455441,"title":"How low level the drawing requirements should be to use OpenGl than abstractions like QtOpenGl?","body":"<p>I am required to do some 3-D application and planning to chose some library for the same. I have previous experience with Qt-qml.</p>\n\n<p>I read about OpenGl and found that it must be used basically when you one has very <em>low level drawing</em> requirements.</p>\n\n<p>I also found that there is something called QtOpenGl. </p>\n\n<p>Q1. Is QtOpenGl any less powerfull that OpenGl because it just just provide a wrapper over some OpenGl functionality? or it as good as using OpenGl with an advantage of working at higher level of abstraction ?</p>\n\n<p>Q2. I also found there is something called Qt-3D and Qt-Quick3D. I ran some sample examples and found it easy to use because of my previous experience with qml.</p>\n\n<p>Can someone share experience how <em>powerful</em> it is compared to OpenGl itself?</p>\n\n<p>My basic question is how <em>low</em> the drawing requirements should be that I should use OpenGl rather than some higher abstraction like QtOpenGl ?</p>\n"},{"tags":["qt","winapi","porting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":12450362,"title":"Replacing WaitForMultipleObjects in Qt","body":"<p>I am not familar with WINAPI, and I am looking for a way to replace WaitForMultipleObjects used in one example I'm porting to Qt by anything using Qt only. Is it possible?</p>\n\n<p><strong>EDIT: (Providing more information as requested in comments)</strong></p>\n\n<p>A 3rd party API provides an array of events:</p>\n\n<pre><code>HANDLE  m_hEv[MAX_EV];\n</code></pre>\n\n<p>In an endles-loop of a thread, the program waits for the events like this:</p>\n\n<pre><code>WaitForMultipleObjects(m_EvMax, m_hEv, FALSE ,INFINITE )\n</code></pre>\n\n<p>The <code>HANDLE</code> type seems to be void*. \nSo I wonder, if any Qt class could observe m_hEv for changes and unlock thread execution.</p>\n"},{"tags":["c++","qt","qt4","qt-signals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12450844,"title":"Subclass of QEditLine with a new SIGNAL","body":"<p>I am trying to subclass QEditLine so that I can define a new SIGNAL that sends an object identifier. At the moment, I connect a parent signal to a slot in the new class and from that slot I emits a proper new signal with the additional object identifier.\nI cannot understand one thing. The problem is I don't know how to define a new signal function itself. I don't know what I should put there. I mean I know its arguments but I don't know what it shpould do as a function. I am doing this for the first time and it may looks very silly ;p but I really stuck there >.&lt;.\nCan anybody please provide some clues. It is probably a very easy problem.</p>\n\n<p>Thanks</p>\n\n<pre><code>// myqeditline.h\n#ifndef MYQEDITLINE_H\n#define MYQEDITLINE_H\n#include &lt;QWidget&gt;\n#include &lt;QLineEdit&gt;\n#include &lt;QString&gt;\nclass MyQEditLine : public QLineEdit\n{\n    Q_OBJECT\npublic:\n    explicit MyQEditLine(const QString&amp; n, QWidget *parent = 0);\nprotected:\n    QString name;\nsignals:\n    void textChanged(QString textCHanged, QString sender);\nprotected slots:\npublic slots:\n    void myTextChanged(QString textChanged);\n};\n#endif // MYQEDITLINE_H\n\n// myqeditline.cpp\n#include \"myqeditline.h\"\nMyQEditLine::MyQEditLine(const QString &amp;n, QWidget *parent)\n    : QLineEdit(parent),name(n) {\n    connect(this,SIGNAL(textChanged(QString)),this,SLOT(myTextChanged(QString)));\n}\nvoid MyQEditLine::myTextChanged(QString textChanged) {\n    emit textChanged(QString textChanged, QString name);\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12439452,"title":"Qt - App crashes when adding item to QTableWidget","body":"<p>When I try to add item to a QTableWidge (by code) the app never runs. It shows the Program Crashed dialog and then quits. Here's the code I used:</p>\n\n<pre><code>QTableWidgetItem *something = new QTableWidgetItem(QString(\"A\"));\nui-&gt;itemTable-&gt;setItem(1,1,something);\n</code></pre>\n"},{"tags":["c++","qt","qtreeview","qabstractitemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":12436353,"title":"Insert and delete rows in QTreeView","body":"<p>Good day, I Have base model inherited from QAbstractItemModel, and some background threads which notify this model from time to time, in examples the insertions rows implemens somthing like this </p>\n\n<pre><code>bool TreeModel::insertRows(int position, int rows, const QModelIndex &amp;parent)\n{\n    TreeItem *parentItem = getItem(parent);\n    bool success;\n\n    beginInsertRows(parent, position, position + rows - 1);\n    success = parentItem-&gt;insertChildren(position, rows, rootItem-&gt;columnCount());\n    endInsertRows();\n\n    return success;\n} \n</code></pre>\n\n<p>But I can't do it like this because my model is single which uses 4 views, I've implemented my insertion this way:</p>\n\n<pre><code>void notifyEventImpl(file_item_type *sender,helper&lt;ITEM_ACTION_ADDED&gt;)\n        {\n            base_class::setSize(file_item_type::size()+sender-&gt;size());         \n            m_listDirectory.push_back(sender);\n            file_item_type::filesystem_type::s_notify.insert(this); // notify my model\n        } \n</code></pre>\n\n<p>Where <code>s_notify</code> is a class with implementation:</p>\n\n<pre><code> void Notifaer::dataChange(void * item){emit dataChanged(item);}\n        void Notifaer::remove(void * item){emit removed(item);}\n        void Notifaer::insert(void * item){emit inserted(item);}\n        void Notifaer::push_back(const FileItemModel * model)\n        {\n            VERIFY(QObject::connect(this,SIGNAL(dataChanged(void*)),model,SLOT(dataChangeItem(void*)) ));\n            VERIFY(QObject::connect(this,SIGNAL(removed(void*)),model,SLOT(removeItem(void*)) ));\n            VERIFY(QObject::connect(this,SIGNAL(inserted(void*)),model,SLOT(insertItem(void*)) ));\n        }\n</code></pre>\n\n<p>Given this, I invoke the method:</p>\n\n<pre><code>void FileItemModel::insertItem(void *it)\n{\n    file_item_type *item = dynamic_cast&lt;file_item_type*&gt;(static_cast&lt;file_item_type*&gt;(it));\n\n    {\n        QModelIndex index = createIndex(0,0,item);\n        if (index.isValid())\n        {\n            beginInsertRows(index, 0, item-&gt;childCount()-1);\n            endInsertRows();\n        }\n    }\n}\nvoid FileItemModel::removeItem(void *it)\n{\n    file_item_type *item = static_cast&lt;file_item_type*&gt;(it);\n\n    {\n        QModelIndex index = createIndex(0,0,item);\n        if (index.isValid())\n        {\n            beginRemoveRows(index, 0, item-&gt;childCount()-1);\n            endRemoveRows();\n        }\n    }\n} \n</code></pre>\n\n<p>Remove rows works perfectly, but insert does not work. What's wrong in my implementation?</p>\n"},{"tags":["qt","autotools","m4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12437741,"title":"How to use QT and GNU Autotools by using AutoTroll?","body":"<p>I would like to use Autotools and QT4 together. For this i would like to use <a href=\"http://tsunanet.net/autotroll/\" rel=\"nofollow\">AutoTroll</a>.\nAs the Website says, it should be very easy to use it. Unfortunately i was not able to do so.\nI have a working Hello World example:</p>\n\n<p>This is how my <strong>configure.ac</strong> looks like:</p>\n\n<pre><code>AC_INIT([Hello], [0.1], [bug-report@hello.example.com], [hello],  [http://hello.example.com/])\nAC_PREREQ([2.59])\nAM_INIT_AUTOMAKE([1.10 no-define foreign])\nAC_PROG_CXX\nAC_PROG_CC\nAT_WITH_QT\nAC_CONFIG_FILES([Makefile])\nAC_OUTPUT\n</code></pre>\n\n<p>My <strong>Makefile.am</strong>:</p>\n\n<pre><code>AUTOMAKE_OPTIONS = subdir-objects\nACLOCAL_AMFLAGS = ${ACLOCAL_FLAGS}\n\nbin_PROGRAMS = hello\nhello_SOURCES = src/*.cpp\n</code></pre>\n\n<p>My simple <strong>main.cpp</strong> with a QT include:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;QApplication&gt; \\\\Added this to test if Autotools works correctly\nint main()\n{\nstd::cout &lt;&lt; \"Hello Worlasdasdsadd!\" &lt;&lt; std::endl;\nreturn 0;\n}\n</code></pre>\n\n<p>Can someone please help mit with this? An short Step by step would be very nice.\nThank you in advance.</p>\n\n<p>Edit:\nI don't know how to integrate this m4 makro (Autotroll) in my configuration. This is why i cannot provide any \"Errors\" or something else. The of the website does not help me to understand what to do.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12449624,"title":"Sending objects as signal arguments between threads in Qt","body":"<p>I am new to Qt and trying to learn the Qt threading mechanism. I am in a situation where I would like a background thread to perform some long running task and report the results to another (or main) thread after processing every 100 items. Right now I am doing this by emitting a signal from the background thread containing a list of the processed objects that is received in a slot in the main thread. Does Qt make a copy of the signal argument when it is received in the slot ? If so, how does how does calling <code>qRegisterMetaType</code> help with that ? This is what I am tying to accomplish in my code :</p>\n\n<pre><code>//background thread\nvoid run(){\n   //get a query object from database\n   int fireCount = 0;\n   QList&lt; QList&lt;QVariant&gt; &gt; data;\n   while(query-&gt;next()){\n        fireCount++;\n        QList&lt;QVariant&gt; row;\n        //do some calculations on the fields read from the query\n        processRow(query,&amp;row);\n        data.append(row);\n        if(fireCount&gt;100){\n            emit publishDataToMainThread(data);\n            fireCount = 0;\n            data.clear();\n        }\n   }\n\n}\n\n//slot in main thread\nvoid receiveData(QList&lt; QList&lt;Qvariant&gt; &gt; data){\n\\\\display the data\n}\n</code></pre>\n\n<p>Also , is this a recommended practice for transferring objects between threads ?</p>\n"},{"tags":["qt","svg","icons","gnome"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":10007489,"title":"Qt: How to make window icon bigger (SVG)?","body":"<p>I'm using Qt 4.8.1, and set the window icon with:</p>\n\n<blockquote>\n  <p>app.setWindowIcon(QIcon(\"/path/to/icon.svg\"));</p>\n</blockquote>\n\n<p>However, no matter how big the svg icon is, the icon shown in the menu bar or when using \"alt-tab\" in gnome is always very low resolution and \"pixelized\".</p>\n\n<p>How can I make it render the icon in a higher resolution?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12453472,"title":"QT QtreeView show image when tree is expanded and collapsed","body":"<p>I have a requirement in the TreeView where I have to show down arrow image when tree is collapsed and up arrow image when tree is expanded and this is applicable for each parent item in the tree.\nMy UI will have only 1 column and this arrow images i have to show at the end of the row.</p>\n\n<p>I am using QTreeView and I can see expand and collapse signals.But it does have only index arguement.But I need item rectanlge details to show the image at the end of the row.Could you pls suggest is there any way to achieve this?</p>\n\n<p>Thanks,</p>\n"},{"tags":["qt","layout"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":4046,"score":3,"question_id":1508939,"title":"Qt Layout on QMainWindow","body":"<p>I designed a QMainWindow with QtCreator's designer. It consists of the default central widget (a QWidget) which contains a QVBoxLayout with all the other widgets in it. Now everything I want, is that the QVBoxLayout automatically occupies the whole central widgets rectangle space.</p>\n\n<p>How can I do this? I didn't find any usable property neither in the central widgets properties nor the QVBoxLayout's ones.</p>\n"},{"tags":["android","qt","qtdeclarative"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12102481,"title":"libQtDeclarative.so not found","body":"<p>I'm new to QT Programming</p>\n\n<p>Here's what I did,\nI export photo from photoshop to QT\nafter that I create new QT QUICK PROJECT ( ANDROID )\nand open QT DESIGNER FILE which I exported earlier from photoshop</p>\n\n<p>run through ministro,\nbut my this error occurred</p>\n\n<pre><code>&gt; \nStarting remote process ...\nD/dalvikvm( 2148): Not late-enabling CheckJNI (already on)\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nD/dalvikvm( 2148): GC_FOR_ALLOC freed 45K, 3% free 9074K/9347K, paused 133ms\nI/dalvikvm-heap( 2148): Grow heap (frag case) to 10.393MB for 1536016-byte allocation\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nD/dalvikvm( 2148): GC_CONCURRENT freed &lt;1K, 3% free 10573K/10887K, paused 6ms+134ms\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nD/dalvikvm( 2148): GC_FOR_ALLOC freed 0K, 3% free 10573K/10887K, paused 49ms\nI/dalvikvm-heap( 2148): Grow heap (frag case) to 13.688MB for 3456016-byte allocation\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nD/dalvikvm( 2148): GC_CONCURRENT freed 0K, 3% free 13948K/14279K, paused 8ms+7ms\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nD/gralloc_goldfish( 2148): Emulator without GPU emulation detected.\nI/dalvikvm( 2148): threadid=3: reacting to signal 3\nI/dalvikvm( 2148): Wrote stack traces to '/data/anr/traces.txt'\nD/dalvikvm( 2148): DexOpt: --- BEGIN 'QtIndustrius-14.jar' (bootstrap=0) ---\nD/dalvikvm( 2148): DexOpt: --- END 'QtIndustrius-14.jar' (success) ---\nD/dalvikvm( 2148): DEX prep '/data/data/org.kde.necessitas.ministro/files/qt/jar/QtIndustrius-14.jar': unzip in 159ms, rewrite 749ms\nD/dalvikvm( 2148): Trying to load lib /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtCore.so 0x412a98f0\nD/dalvikvm( 2148): Added shared lib /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtCore.so 0x412a98f0\nD/dalvikvm( 2148): No JNI_OnLoad found in /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtCore.so 0x412a98f0, skipping init\nD/dalvikvm( 2148): Trying to load lib /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtGui.so 0x412a98f0\nD/dalvikvm( 2148): Added shared lib /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtGui.so 0x412a98f0\nD/dalvikvm( 2148): No JNI_OnLoad found in /data/data/org.kde.necessitas.ministro/files/qt/lib/libQtGui.so 0x412a98f0, skipping init\nD/dalvikvm( 2148): Trying to load lib /data/data/org.kde.necessitas.ministro/files/qt/plugins/platforms/android/libandroid-9.so 0x412a98f0\nD/dalvikvm( 2148): Added shared lib /data/data/org.kde.necessitas.ministro/files/qt/plugins/platforms/android/libandroid-9.so 0x412a98f0\nI/Qt ( 2148): qt start\nD/dalvikvm( 2148): Trying to load lib /data/data/org.kde.necessitas.example.HOME/lib/libHOME.so 0x412a98f0\nW/System.err( 2148): java.lang.reflect.InvocationTargetException\nW/System.err( 2148): at java.lang.reflect.Method.invokeNative(Native Method)\nW/System.err( 2148): at java.lang.reflect.Method.invoke(Method.java:511)\nW/System.err( 2148): at org.kde.necessitas.origo.QtActivity.loadApplication(QtActivity.java:144)\nW/System.err( 2148): at org.kde.necessitas.origo.QtActivity.access$200(QtActivity.java:77)\nW/System.err( 2148): at org.kde.necessitas.origo.QtActivity$3$1$1.run(QtActivity.java:201)\nW/System.err( 2148): at android.os.Handler.handleCallback(Handler.java:605)\nW/System.err( 2148): at android.os.Handler.dispatchMessage(Handler.java:92)\nW/System.err( 2148): at android.os.Looper.loop(Looper.java:137)\nW/System.err( 2148): at android.app.ActivityThread.main(ActivityThread.java:4424)\nW/System.err( 2148): at java.lang.reflect.Method.invokeNative(Native Method)\nW/System.err( 2148): at java.lang.reflect.Method.invoke(Method.java:511)\nW/System.err( 2148): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\nW/System.err( 2148): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\nW/System.err( 2148): at dalvik.system.NativeStart.main(Native Method)\nW/System.err( 2148): Caused by: java.lang.UnsatisfiedLinkError: Cannot load library: link_image[1936]: 36 could not load needed library 'libQtDeclarative.so' for 'libHOME.so' (load_library[1091]: Library 'libQtDeclarative.so' not found)\nW/System.err( 2148): at java.lang.Runtime.load(Runtime.java:340)\nW/System.err( 2148): at java.lang.System.load(System.java:521)\nW/System.err( 2148): at org.kde.necessitas.industrius.QtNative.loadBundledLibraries(QtNative.java:125)\nW/System.err( 2148): at org.kde.necessitas.industrius.QtActivityDelegate.loadApplication(QtActivityDelegate.java:245)\nW/System.err( 2148): ... 14 more\n&gt; Blockquote\n</code></pre>\n\n<p>and I think It is because of this</p>\n\n<p>36 could not load needed library 'libQtDeclarative.so' for 'libHOME.so' (load_library[1091]: Library 'libQtDeclarative.so' not found)</p>\n\n<p>I Use\nARMV5\nAndroid Emulator</p>\n\n<p>Someone help me please.\nThank you!</p>\n"},{"tags":["qt","signals-slots","qnetworkaccessmanager","qurl","qeventloop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12452589,"title":"QNetworkReply works selectively with QEventLoop and never without it","body":"<p>QNetworkAccessManager and in particular QNetworkReply is acting very strangely for me and I've tried different methods online. The task at hand is to send multiple requests to a FTP server and download those files to my local machine and do some work with them. These are .Z and .bz2 files.</p>\n\n<p>After doing some research online, I realized that since I need synchronous download and not asynchronous download of these files, I have to use QEventLoop as shown here:</p>\n\n<pre><code>QString ACAbstractReader::download_file(QString filename, QString compressedExtension)\n{\n    ... // logic to determine the url ...\n\n    QUrl url(scheme + m_hostname + path_to_file);\n    const QNetworkRequest request(url);\n    this-&gt;response = this-&gt;p_networkManager-&gt;get(request);\n    this-&gt;response-&gt;waitForReadyRead(-1);\n\n    QEventLoop loop;\n    connect(this-&gt;response, SIGNAL(finished()), &amp;loop, SLOT(quit()));\n    connect(this-&gt;response, SIGNAL(error(QNetworkReply::NetworkError)), this, SLOT(download_error(QNetworkReply::NetworkError)));\n    connect(this-&gt;response, SIGNAL(downloadProgress(qint64,qint64)), this, SLOT(download_progress(qint64,qint64)));\n    loop.exec();\n\n    QByteArray data = response-&gt;readAll();\n    if (data.size() == 0)\n    {\n        qDebug() &lt;&lt; \"Didn't download anything for \" &lt;&lt; filename;\n        return NULL;\n    }\n    else\n    {\n        QFile output(path_to_downloadedfile);\n        if(output.open(QFile::WriteOnly))\n        {\n            output.write(data);\n            output.close();\n        }\n\n        return path_to_downloadedfile;\n    }\n}\n</code></pre>\n\n<p>There are 2 classes that inherit from ACAbstractReader. These 2 classes have multiple instances and their instances, as the first step, to call download_file to download these files from FTP and parse them.</p>\n\n<p><strong>Problem</strong><br />\nNow, I've verified that the URLs (using CURL on the command line and using my browser) do exist. The request gets sent through to the FTP Server and the signal for downloadProgress is emitted and caught by download_progress. The <i>download_progress</i> method simply calls qDebug() and returns the output. The following is the output that I get that I've setup (using qDebug()):</p>\n\n<pre><code>RemoteFilename:  \"16Sep12.22z.g15.tpwc_merged_cimss_exp_rets2_a.Z\" \nPath To Downloaded File:  \"&lt;path_to_file&gt;/16Sep12.22z.g15.tpwc_merged_cimss_exp_rets2_a.Z\" \nURL:  \"ftp://&lt;hostname&gt;/&lt;path_to_file&gt;/16Sep12.22z.g15.tpwc_merged_cimss_exp_rets2_a.Z\" \nDownloading ... 0 / 0 \nDidn't download anything for  \"16Sep12.22z.g15.tpwc_merged_cimss_exp_rets2_a.Z\" \n</code></pre>\n\n<p>This is a public site so you can go ahead and download the data yourself to see what I'm talking about.</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11185020,"title":"How to save state of a dialog in Qt?","body":"<p>Suppose there are checkboxes, options etc controls in a dialog box, how could I save the state of the dialog in Qt? </p>\n\n<p>Should I use QSettings or something else? </p>\n\n<p>Thanks.</p>\n"},{"tags":["python","qt","pyqt","ipython","spyder"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12447986,"title":"IPython embedded QT widget without kernel","body":"<p>New Question that builds on <a href=\"http://stackoverflow.com/questions/12431555/enabling-code-completion-in-an-embedded-python-interpreter\">this one</a>. I think IPython is a much more suitable alternative for what I am aiming for than the vanilla interpreter</p>\n\n<p>Does anyone know of a class/code I could pickup that instantiates a IPython embedded shell in a QT Widget without launching a kernel ?</p>\n\n<p>I want to be able to provide the intepreter variables of my PyQt app just like one would do when instantiating a native python embedded interpreter. I also want the intepreter to be able make calls to the parent app (via the locals passed to the interpreter). </p>\n\n<p>I have had a cursory glance over spyderlib's IPython interpreter machinery and it seems to instantiate a kernel as part of it's widget initialization.</p>\n\n<p>In case you are wondering what I am trying to achieve, I'm creating a research platform for text analysis. So I'm bridging forum data, stored in a postgres database, to the python nltk project via a GUI application.</p>\n"},{"tags":["c++","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12445925,"title":"Qt - Open single instance of a window","body":"<p>How do I check if a window/dialog is already open? I used this code to open a new dialog box but everytime I click it the dialog keeps on opening. Obviously not the way settings dialog works.</p>\n\n<pre><code>Class *someClass = new Class();\nsomeclass-&gt;show();\n</code></pre>\n"},{"tags":["qt","make","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12445445,"title":"How to configure qmake so my app is install with \"make install\"?","body":"<p>I have a written a small qt app that I use qmake to build, but I am missing the make install target.\nHow to configure qmake so my binary is copied to /usr/local/bin/ when I run \"make install\"?</p>\n\n<ol>\n<li>qmake</li>\n<li>make </li>\n<li>make install</li>\n</ol>\n\n<p>What do I need to add to my .pro file to get the \"install\" target and how do I control what file and path will be used?</p>\n\n<hr>\n\n<p>Btw the install will be on Linux pc:s like Debian and Ubuntu.</p>\n"},{"tags":["c++","qt","signals-slots","qmenu"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12447972,"title":"QAction won't connect to my slot","body":"<p>I'm trying to make an IHM with Qt, and I started by making a basic menu (File,Edit...).\nSo far, I have my menu containing \"File\", which then display \"New Project, Open Project, Exit\".\nLook great, but my problem is I can't seem to trigger these Action (clicking them or by key shortcut).</p>\n\n<p>Here is my slot:</p>\n\n<pre><code>void KoriganEngine::launchNewProjectWidget(){\n   //External QWidget\n   m_nwProj = new NewProjectWidget(NULL,Qt::MSWindowsFixedSizeDialogHint);\n   m_nwProj-&gt;show();\n}\n</code></pre>\n\n<p>If I use this slot with a pushbutton connected, my new QWidget is displayed properly.\nHowever, impossible to do the same thing with an action...</p>\n\n<p>Here is the code of my actions and menu:</p>\n\n<pre><code>    void KoriganEngine::KG_createMenus(){\n//init actions\nKG_createMenuActions();\n\n//add menu to the bar\nm_fileMenu = menuBar()-&gt;addMenu(\"File\");\nm_fileMenu-&gt;addAction(m_newProjAction);\nm_fileMenu-&gt;addAction(m_openProjAction);\nm_fileMenu-&gt;addSeparator();\nm_fileMenu-&gt;addAction(m_quitAction);\n\nm_editMenu = menuBar()-&gt;addMenu(\"Edit\");\n</code></pre>\n\n<p>}</p>\n\n<pre><code>    void KoriganEngine::KG_createMenuActions(){\nm_newProjAction = new QAction(\"New Project...\", this);\nm_newProjAction-&gt;setShortcuts(QKeySequence::New);\nm_newProjAction-&gt;setStatusTip(QString(\"Create a new Project\"));\nconnect(m_newProjAction, SIGNAL(trigerred()), this, SLOT(slottest()));\n\nm_openProjAction = new QAction(\"Open Project...\", this);\nm_openProjAction-&gt;setShortcuts(QKeySequence::Open);\nm_openProjAction-&gt;activate( QAction::Hover);\nconnect(m_openProjAction, SIGNAL(trigerred()), this, SLOT(launchNewProjectWidget())); //TODO replace the slots\n\nm_quitAction = new QAction(\"Exit\", this);\nconnect(m_quitAction, SIGNAL(trigerred()), this, SLOT(quit()));\n</code></pre>\n\n<p>}</p>\n\n<p>And the code that works with a button:</p>\n\n<pre><code>connect(m_button, SIGNAL(clicked()), this, SLOT(launchNewProjectWidget()));\n</code></pre>\n\n<p>So I don't really get why it should not react the same, I've read the Qt examples over and over... I must have missed something, but if anyone as an idea, I'll be more than grateful, as it's starting to make me hate life :p</p>\n\n<p>Thank you all.</p>\n\n<p>PS: Ok, not sure I handle great the code blocks buisness, in my defence it's really weird to use... :p</p>\n"},{"tags":["qt","gui","cross-platform","desktop-application","d"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":239,"score":2,"question_id":11963265,"title":"Garbage collected languages for desktop GUI applications","body":"<p>I'm still a newbie programmer and I am looking at some garbage collected languages that are suited for writing desktop GUI applications. The language must be available on Windows, OSX and Linux. I say \"garbage collected\" instead of high level since a language like D isn't quite high level (imo) but is garbage collected, compiles to native code and gives near C++ performance. However the most developed GUI toolkit for D is DWT, wich is a port of SWT. The few SWT apps I have used look ugly on every platform. If D had a Qt binding that would be great, but the only thing I could find was QtD which seems to be a dead project.</p>\n\n<p>Languages I am aware of:<br>\nJava<br>\nPython<br>\nD</p>\n\n<p>I'd rather not use C# with Mono and syntax-wise I prefer languages similar to C/C++.</p>\n\n<p>Are there any others, and what would you suggest?</p>\n\n<p>EDIT: The language doesn't have to compile to native code, compiling to bytecode and running in a VM is just fine.</p>\n"},{"tags":["c++","qt","gui","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":65,"score":0,"question_id":12446507,"title":"QT gui application build settings in qt creator","body":"<p>While I develop a small GUI application using QT creator(mingw in windows), the compilation is successful, and the binary is generated.\nBut application is not ran , It gets crashed. </p>\n\n<p>Below is my configuration setup:\nQt Version: 4.8.2\nmingw: compilerpath:C:\\MinGW\\bin\\g++  debugger: C:\\MinGW\\bin\\gdb</p>\n\n<p>If i don't use qt classes(q application or qwidget or qstring) , it works fine. i mean if i use std lib functions , it works fine.\nCan any one suggest please</p>\n\n<p>Thanks  alot</p>\n"},{"tags":["c++","qt","events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":8964481,"title":"Qt QGraphicsProxyWidget never receives dragEnterEvent","body":"<p>I am trying to do drag and drop between widgets added to QGraphicScene with addWidget.</p>\n\n<p>I implementing drag and drop as Qt documentation suggests:</p>\n\n<ul>\n<li>Enabling drops with setAcceptDrops(true) for target widget</li>\n<li>In my mousePressEvent I am creating QDrag object run QDrag::exec() for this object.</li>\n</ul>\n\n<p>but dragEnterEvent is never called nor for my custom widget neither for proxywidget returned by addWidget.</p>\n\n<p>Other events are forwarded to my widget ok.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["qt","drawing","image-viewer","paintevent"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12446425,"title":"Drawing on Qt ImageVeiwer example (from qt-project.org)","body":"<p>I'm new to Qt and started developing an app based on one of the sample projects qt provides: \"Image Viewer\".</p>\n\n<p>Here's the examle project itself: <a href=\"http://qt-project.org/doc/qt-4.8/widgets-imageviewer.html\" rel=\"nofollow\">http://qt-project.org/doc/qt-4.8/widgets-imageviewer.html</a></p>\n\n<p>To make sure I didn't do anything wrong thying to extend project's functionality, I created a new project and simply copied files from example project (see section \"Files\" at the top of <a href=\"http://qt-project.org/doc/qt-4.8/widgets-imageviewer.html\" rel=\"nofollow\">\"Image Viewer Example\" page</a>)</p>\n\n<p>Then, I edited <em>imageviewer.h</em> file:</p>\n\n<p>added </p>\n\n<pre><code>#include &lt;QPainter&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>protected:\n    void paintEvent(QPaintEvent *);\n</code></pre>\n\n<p>to ImageViewer class.</p>\n\n<p>Then I defined <em>paintEvent</em> in <em>imageviewe.cpp</em>:</p>\n\n<pre><code>void ImageViewer::paintEvent(QPaintEvent * e)\n{\n    QPainter p(this);\n\n    p.drawLine(0,0,100,100);\n} \n</code></pre>\n\n<p>I expected that to draw a line in the top-left corner, but it didn't.</p>\n\n<p>It seems to me, that the point is that <em>scrollArea</em> overlaps the line, making it \"invisible\". So, I commented out the line </p>\n\n<pre><code>setCentralWidget(scrollArea);\n</code></pre>\n\n<p>within <em>ImageViewer::ImageViewer()</em> definition.</p>\n\n<p>The line appeared, but the images were not showed, of coruse.</p>\n\n<p>Then I tried drawing on <em>scrollArea</em> itself, changing <em>paintEvent</em> code:</p>\n\n<pre><code>void ImageViewer::paintEvent(QPaintEvent * e)\n{\n    QPainter p(scrollArea);\n\n    p.drawLine(0,0,100,100);\n}\n</code></pre>\n\n<p>which resulted in messages like</p>\n\n<blockquote>\n  <p>QPainter::begin: Paint device returned engine == 0, type: 1</p>\n</blockquote>\n\n<p>Tried googling it, but the solutions have nothing to do with <em>scrollArea</em> overlapping the line (or just don't work).</p>\n\n<p>Would appreciate any help on this.</p>\n"}]}
{"total":16229,"page":17,"pagesize":100,"questions":[{"tags":["c++","qt","gui"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":138,"score":1,"question_id":12445113,"title":"QT or MFC which is better to learn","body":"<p>I want to have working experience in c++ application programming. I am in dilemma to choose game programming or standalone programming. please suggest me which framework/API is beneficial for me to learn. </p>\n\n<p>Qt mobile / QT gui programming , any other APIs , \nwhat about learning MFC instead of QT, \nare there any other gui framework than qt </p>\n"},{"tags":["c++","qt","compilation","example"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12444934,"title":"Qt example notepad program not displaying any controls","body":"<p>I am following the Qt example listed in the QtSDK titled: \"Getting Started Programming with Qt\". My problem is that the program doesn't display any of the objects.</p>\n\n<p>My main.cpp looks like so: </p>\n\n<pre><code>#include &lt;QtGui&gt;\n\n#include &lt;notepad.h&gt;\n\nint main(int argv, char **args)  {\n    QApplication app(argv, args);\n\n    QVBoxLayout layout;\n\n    Notepad notepad();\n\n    QWidget window;\n    window.setLayout(&amp;layout);\n\n    window.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>The 'notepad.h' file: </p>\n\n<pre><code>#ifndef NOTEPAD_H\n#define NOTEPAD_H\n\n#include &lt;QtGui&gt;\n\nclass Notepad : public QMainWindow  {\n    Q_OBJECT\n\n    public:\n        Notepad();\n\n    private slots:\n        void open();\n        void save();\n        void quit();\n\n    private:\n        QTextEdit *text_edit;\n\n        QAction *open_action;\n        QAction *save_action;\n        QAction *exit_action;\n\n        QMenu *file_menu;\n};\n\n#endif // NOTEPAD_H\n</code></pre>\n\n<p>The 'notepad.cpp' file:</p>\n\n<pre><code>#include \"notepad.h\"\n\nNotepad::Notepad()  {\n    open_action = new QAction(tr(\"&amp;Open\"), this);\n    save_action = new QAction(tr(\"&amp;Save\"), this);\n    exit_action = new QAction(tr(\"&amp;Exit\"), this);\n\n    connect(open_action, SIGNAL(triggered()), this, SLOT(open()));\n    connect(save_action, SIGNAL(triggered()), this, SLOT(save()));\n    connect(exit_action, SIGNAL(triggered()), qApp, SLOT(quit()));\n\n    file_menu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n    file_menu-&gt;addAction(open_action);\n    file_menu-&gt;addAction(save_action);\n    file_menu-&gt;addSeparator();\n    file_menu-&gt;addAction(exit_action);\n\n    text_edit = new QTextEdit;\n    setCentralWidget(text_edit);\n\n    setWindowTitle(tr(\"Notepad\"));\n}\n\nvoid Notepad::open()  {\n    ...\n}\n\nvoid Notepad::save()  {\n    ...\n}\n\nvoid Notepad::quit()  {\n}\n</code></pre>\n\n<p>Any help in resolving the matter would be much appreciated.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>My original question asked why I was I was getting a compile time error for not implementing the \"quit\" function incase you are wondering :).</p>\n"},{"tags":["python","qt","pyside"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12427922,"title":"Any guidelines to develop a Qt UI with Pyside?","body":"<p>I'm <strong>new</strong> to Qt and Pyside, and confused with lots of dazzling concepts and tools.</p>\n\n<p><strong>Instead of using IDE provided, I prefer to vim.</strong> </p>\n\n<p>So I wonder what the generic guideline is. That is to say, what're the QML, Qt Creator, Qt Designer? Do I need to use all of them? And what's the normal workflow?</p>\n\n<p>And at last, there're few tutorials about Qt in python, so can I invoke the Qt C++ docs for help (any big differences between C++ Qt programming and Python one)?</p>\n"},{"tags":["qt","taglib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12443058,"title":"QFile and FileRef for the same file","body":"<p>I have a little problem with my Qt program.<br>\nThere is a function which downloads a mp3 file (using QFile) and is called each time new datas are available to be written.<br>\nOnce these datas have been written, I 'd like to construct a TagLib::FileRef variable, to read the bitrate of the file. The problem is this variable is always null, because the file is already opened.<br>\nHow can I process, without having to close and re-open the file each time ?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","opengl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12440085,"title":"Location of OpenGL module when using Qt","body":"<p>I am new to using OpenGL with Qt Creator and I have been playing around with the information I got from various tutorials. However, I never was able to find out where the OpenGL function definitions actually are!</p>\n\n<p>I was thinking that when I linked the opengl module to the qmake file like this:</p>\n\n<pre><code>QT += core gui opengl\n</code></pre>\n\n<p>the OpenGL stuff was included, but then I thought again when I was reading about the QGLWidget.</p>\n\n<p>So where does the OpenGL API become included into my code? </p>\n\n<p>P.S. My OS is Windows 7 and I my graphics card is AMD Radeon HD 6250 Graphics.</p>\n"},{"tags":["c++","qt"],"answer_count":7,"favorite_count":7,"up_vote_count":15,"down_vote_count":0,"view_count":9882,"score":15,"question_id":2224155,"title":"Game development with Qt: where to look first?","body":"<p>So, I'm going to develop my <a href=\"http://stackoverflow.com/questions/2217183/c-pac-man-sdl-or-qt\">Pac-Man clone with Qt</a>. The problem is that I do not really know where to start.</p>\n\n<p>I quickly take a look at the documentation and some demo. I also downloaded some game sources on qt-apps.org. And it seems that there is a lot of ways to develop a game with Qt!</p>\n\n<p>In your experience, which part of Qt should I consider to develop a Pac-Mac clone ?</p>\n\n<ul>\n<li>The Animation Framework</li>\n<li>The Graphics View Framework</li>\n<li>The Paint System</li>\n<li>Qt Declarative</li>\n</ul>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12440321,"title":"Qt - Change value of LineEdit when Dialog Box closes","body":"<p>How do I do this:</p>\n\n<p>For instance, label username = \"user\"</p>\n\n<p>I click a button and a dialog box appears which asks for an input. I enter \"name\" in the input box and click ok. Now how do i make it so that the label username will automatically change to \"name\" when I click on the ok button on the dialog box?</p>\n\n<p>This value goes to the Settings value. I know how to load a value from a setting, but if my label username and the input box in which i entered \"name\" are in 2 different classes, how do i cause the change? please help.</p>\n"},{"tags":["qt","audio","sdk","sound-api","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12434485,"title":"Qt audio editing","body":"<p>I want to create a qt application similar to Audacity that can run on mobile. Al that I want at the moment is the ability to change volume levels, pitch and tempo. I also want the ability to select, copy and paste parts of the audio file.</p>\n\n<p>Do any of you know a API, SDK or something for Qt that would allow this?</p>\n\n<p>All built in stuff I could find in Qt is QtMultimedia which allows me to import a audio file and then play it but it doesn't seem to have editing(except for bitrate, channel, etc.) or manipulation.</p>\n\n<p>This is for Symbian, and can be built on windows or kubuntu.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12437937,"title":"Changing Char of a textbox to it's next char","body":"<p>In Qt, I want to make something which will show the next char of the char input.</p>\n\n<p>For example, I entered 'a' into a QTextEdit, it automatically turns to 'b' in another QTextEdit, and when I again enter 'b', it turns to 'c'. Which algorithm is perfect for this?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12430488,"title":"Qt c++ play sound on key press - stops working after a few seconds","body":"<p>I'm making an apllication which needs to play .wav file when user type something inside QTextEdit. I made some code but after minute or less the sound stops, so I made silly workarround. After 30 clicks I invoke sound->stop(); and then the loop start again, that works, but it's not good, can you give better solution. Here is my code:</p>\n\n<pre><code>int count = 0;\nbool MainWindow::eventFilter(QObject *o, QEvent *e){\n    if(e-&gt;type() == QEvent::KeyPress)\n       {\n        tipka-&gt;play();\n        tipka-&gt;seek(0);\n        count++;\n        if(count == 30){\n            tipka-&gt;pause();\n            count = 0;\n        }\n       }\n    return false;\n}\n</code></pre>\n"},{"tags":["qt","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12438395,"title":"Where can I find QtWebKitd5.lib?","body":"<p>After installing Qt 5.0.0 Beta I am trying to rebuild the application because of the new V8 engine, hoping to solve the SLOWing issue. But the problem is that the system needs QtWebKitd5.lib that has not come with the Qt 5.0.0 Beta installation package . . . Even Google doesn't know where it is . . . Any ideas?</p>\n\n<p>Thanks in advnace for your help!</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12434988,"title":"Error Occured while designing Dialog in Qt","body":"<p>The program name is GoToCell in the form I created a label and two push buttons and I wrote the code in main.cpp as follows:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include&lt;QDialog&gt;\n#include \"ui_GoToCell.h\"\n#include \"GoToCell.h\"\n\nint main(int argc, char *argv[]) {\n    QApplication a(argc, argv);\n    Ui::GoToCell ui;\n    QDialog *dialog=new QDialog;\n    ui.setupUi(dialog);\n    dialog-&gt;show();\n    return a.exec();\n}\n</code></pre>\n\n<p>While running it I'm getting the following errors:\nGoToCell is not a member of ui\nWhat should I do?</p>\n"},{"tags":["qt","stylesheet","qwidget","phonon","qslider"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12436386,"title":"How to Set style sheet for a Phonon::SeekSlider in Qt","body":"<p>I want to know how can I set a style sheet for a <strong>Phonon::SeekSlider</strong> as like as a <strong>QSlider</strong> in Qt. With QSliders we can assign so many attributes by easily calling something like this.</p>\n\n<pre><code>QSlider::handle:horizontal {\nbackground:white;\nborder: 1px solid white;\nwidth: 6px;\nmargin-top: -2px;\nmargin-bottom: -2px;\nborder-radius: 0px;\n}\n</code></pre>\n\n<p>But how can I do this same with SeekSlider.I cannot set attributes by calling Phonon::SeekSlider or QSlider. Only I can do is set attributes by calling <strong>QWidget {}</strong> and it has no use on SeekSlider. I must be able to customize the handle,page etc...\nPlease anyone has ideas...Help me !!!</p>\n"},{"tags":["qt","memcpy","qglwidget","slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12419898,"title":"Copy Bits to QtImage in QGLWidget","body":"<p>Maybe someone can help me with the following problem:\nI want to draw the content of a QImage in a QGLWidget, but the widget is painted in black. </p>\n\n<pre><code>class QGLCanvas {\n    public:\n    QGLCanvas(QWidget* parent) : QGLWidget(parent) {\n    }\n\n    void setImage(const QImage* image) {\n      img = image;\n    }\n\n    void paintEvent(QPaintEvent*) {\n      // From Painter Documentation Qt\n      QPainter p(this);\n      p.setRenderHint(QPainter::SmoothPixmapTransform, 1);\n      p.drawImage(this-&gt;rect(), *img);\n      p.end();\n    }\n\n    public slots:\n    void rgb_data(const void *data) {\n      memcpy((void *)img-&gt;bits(), data, img-&gt;byteCount()); // data will be copied (sizes are known)\n      // img.save(\"text.png\"); // saves right image\n      this-&gt;update(); // calls repaint, but does not draw the image.\n   }\n   private:\n   QImage *img;\n}\n</code></pre>\n\n<p>The Bug:\nWhen the slot is called, the memory is copied to the image. If the image is saved, the content is correct. But the repaint method just draws black content to the widget.</p>\n\n<p>The Fix:\nIf the memcpy line is implemented outside the slot, the image content is drawn to the widget. This fix increased code complexity a lot. Thus, i've got the following question:</p>\n\n<p>The Question:\nWhy does the memcpy not work within the slot? Is this a general problem with Qt?</p>\n"},{"tags":["c++","multithreading","qt","label"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12434816,"title":"Qt setting parent from a different thread when not working with threads","body":"<p>I'm trying to make a simple program that draws 9 boxes, and when one of these boxes are clicked, \"X\" is drawed on it. So i drawed 9 boxes and i created a class, ClickableLable. This class inherits QLabel and reimplements the function mousePressEvent, so that i can add an image to every clicked label.</p>\n\n<p>The problem is that, when i compile, the application crash and Qt Creator gives me an \"warning\": \nQObject::setParent: Cannot set parent, new parent is in a different thread</p>\n\n<p>I'm not working with any threads/processes or similar things. I've searched this error on the internet but i didn't find any solutions.</p>\n\n<p>clickablelabel.h</p>\n\n<pre><code>#ifndef CLICKABLELABEL_H\n#define CLICKABLELABEL_H\n\n#include &lt;QLabel&gt;\n#include &lt;QPixmap&gt;\n#include &lt;QMouseEvent&gt;\n\nclass ClickableLabel : public QLabel\n{\nQ_OBJECT\npublic:\nClickableLabel(QWidget *parent = 0);\n\nprotected:\nvoid mousePressEvent(QMouseEvent *ev);\n\nprivate:\nQPixmap *zero;\nQPixmap *x;\n\n};\n\n#endif // CLICKABLELABEL_H\n\nClickableLabel.cpp\n\n#include \"clickablelabel.h\"\n\nClickableLabel::ClickableLabel(QWidget *parent) :\nQLabel(parent)\n{;\nx = new QPixmap(\"x.png\");\n}\n\nvoid ClickableLabel::mousePressEvent(QMouseEvent *ev){\nif (ev-&gt;button() == Qt::LeftButton) {\n    this-&gt;setPixmap(*x);\n}\n}\n</code></pre>\n\n<p>Mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include \"clickablelabel.h\"\n#include &lt;QtGui&gt;\n\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:\nMainWindow(QWidget *parent = 0);\nvoid set_up_widgets();\n\nprotected:\nvoid paintEvent(QPaintEvent *event);\n\nprivate:\nClickableLabel *lab1;\nClickableLabel *lab2;\nClickableLabel *lab3;\nClickableLabel *lab4;\nClickableLabel *lab5;\nClickableLabel *lab6;\nClickableLabel *lab7;\nClickableLabel *lab8;\nClickableLabel *lab9;\n\nQHBoxLayout *lay1;\nQHBoxLayout *lay2;\nQHBoxLayout *lay3;\n\nQVBoxLayout *layout;\n\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>ClickableLabel.cpp</p>\n\n<pre><code>#include \"clickablelabel.h\"\n\nClickableLabel::ClickableLabel(QWidget *parent) :\nQLabel(parent)\n{;\nx = new QPixmap(\"x.png\");\n}\n\nvoid ClickableLabel::mousePressEvent(QMouseEvent *ev){\nif (ev-&gt;button() == Qt::LeftButton) {\n    this-&gt;setPixmap(*x);\n}\n}\n</code></pre>\n\n<p>Main.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n\nvoid center(QWidget &amp;widget){\nQDesktopWidget *desktop = QApplication::desktop();\n\nint x = 800;\nint y = 600;\n\nint sWidth = (desktop-&gt;width() - 800) / 2;\nint sHeight = (desktop-&gt;height() - 600) / 2;\n\nwidget.setGeometry(sWidth, sHeight, x, y);\n}\n\nint main(int argc, char *argv[])\n{\nQApplication a(argc, argv);\nMainWindow w;\ncenter(w);\nw.show();\n\nreturn a.exec();\n}\n</code></pre>\n\n<p>Mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) : QMainWindow(parent)\n{\nthis-&gt;setWindowTitle(\"T\");\nthis-&gt;setToolTip(\"T\");\n\nset_up_widgets();\n}\n\nvoid MainWindow::paintEvent(QPaintEvent *event){\nQPainter painter(this);\nQPen pen(Qt::blue, 7, Qt::SolidLine, Qt::RoundCap);\n\nint x = this-&gt;width() - 14;\nint y = this-&gt;height() - 14;\n\nint thirth_x = x / 3;\nint thirth_y = y / 3;\n\npainter.setPen(pen);\n\npainter.drawLine(thirth_x, 0, thirth_x, y);\npainter.drawLine(thirth_x * 2 + 14, 0, thirth_x * 2 + 14, y);\npainter.drawLine(0, thirth_y, x, thirth_y);\npainter.drawLine(0, thirth_y * 2 + 14, x, thirth_y * 2 + 14);\n\n}\n\nvoid MainWindow::set_up_widgets(){\nlab1 = new ClickableLabel(this);\nlab2 = new ClickableLabel(this);\nlab3 = new ClickableLabel(this);\nlab4 = new ClickableLabel(this);\nlab5 = new ClickableLabel(this);\nlab6 = new ClickableLabel(this);\nlab7 = new ClickableLabel(this);\nlab8 = new ClickableLabel(this);\nlab9 = new ClickableLabel(this);\n\nlay1 = new QHBoxLayout();\nlay2 = new QHBoxLayout();\nlay3 = new QHBoxLayout();\n\nlay1-&gt;addWidget(lab1);\nlay1-&gt;addWidget(lab2);\nlay1-&gt;addWidget(lab3);\n\nlay2-&gt;addWidget(lab4);\nlay2-&gt;addWidget(lab5);\nlay2-&gt;addWidget(lab6);\n\nlay3-&gt;addWidget(lab7);\nlay3-&gt;addWidget(lab8);\nlay3-&gt;addWidget(lab9);\n\nlayout-&gt;addLayout(lay1);\nlayout-&gt;addLayout(lay2);\nlayout-&gt;addLayout(lay3);\n\nsetLayout(layout);\n}\n</code></pre>\n"},{"tags":["javascript","performance","qt","text","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12425357,"title":"QtWebView (QtWebKit) Javascript dom and array operations VERY SLOW issue","body":"<p>Right now I am having a problem regarding JavaScript text rendering in QtWebView in Windows Application. The below provided script does the following thing: It counts the free space available, than it counts how many words could be put on the screen and when the certain place is not enough it takes the rest of the text to the next page. When the text is already drawn on the screen first JavaScript clears it and after that runs the above mentioned operations. </p>\n\n<p>And when I'm going from one page to the another it needs about 2-4 seconds to load the text, while the web version of the application runs those operations far faster. e.g. Chrome or Firefox need 0.5 sec max . . . </p>\n\n<p>Could you please tell if you had the problems with JavaScript time issues in QtWebKit and how did you solve them. Do you know if there is any way to optimize Qt configuration to make these JavaScript operations faster? And finally is there any other way to solve this problem?</p>\n\n<p>P.S. Script is long but for interested parties I'll post it anyway . . .</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//var reader = window.parent;\nvar trace = function(msg){reader.printConsole(\"JavaScriptLog: \" + msg);};\nvar page = 2;\nvar line_height = 20;\nvar page_width = 0;\nvar page_height = 0;\nvar TIME;\nvar SECTIONS = [];\nvar SelectionStartLeft = true;\nvar SelectionEndLeft = true;\nvar spanId;\n\nvar P1, P2;\nvar S1, S2;\nvar _Spans1 = [];\nvar _Spans2 = [];\nvar _FromId = null;\nvar _ToId = null;\nvar _LastSpan = null;\nvar _Interval;\nvar _Chapter;\nvar _PageInfo = {\n    StartId: null,\n    EndId: null\n};\nvar _BOOKENDID = 0;\nvar DivIds = [];\nfunction SetBookEndId(id){\n    _BOOKENDID = parseInt(id);\n}\nfunction Loading(bool) {\n    bool ? $('div#Loader').css('display', 'block') : $('div#Loader').css('display', 'none');\n};\n\n\nfunction GetPageInfo_StartId() {\n    return _PageInfo.StartId;\n}\nfunction GetPageInfo_EndId() {\n    return _PageInfo.EndId;\n}\n\nfunction GetPage1FirstWordId() {\n    var first = P1.find('span:first');\n    return first.length == 0 ? 0 : parseInt(first.attr('id'));\n};\nfunction GetPage2FirstWordId() {\n    var first = P2.find('span:first');\n    return first.length == 0 ? 0 : parseInt(first.attr('id'));\n};\n\n\nfunction _InitSpans() {\n    _ClearAllDiv();\n    _Spans1 = [];\n    _Spans2 = [];\n    DivIds = [];\n\n\n    var selectP1Spans = P1.find('span');\n    var selectP2Spans = P2.find('span');\n\n    $.each(selectP1Spans, function () {\n        _Spans1.push(\n            $(this).on('mousedown', _SpanMouseDown).on('mouseenter', _SpanMouseEnter)\n        );\n\n    });\n\n    $.each(selectP2Spans, function () {\n        _Spans2.push(\n            $(this).on('mousedown', _SpanMouseDown).on('mouseenter', _SpanMouseEnter)\n        );\n\n    });\n\n\n    try { \n        reader.SetPlace(parseInt(selectP1Spans.first()[0].id));\n    } catch (err) {\n        reader.SetPlace(parseInt(selectP2Spans.first()[0].id));\n    }\n\n    Loading(false);\n\n};\n\nfunction ShowHtmlElement(ElementId) {\n    if (!$.isNumeric(ElementId))\n        return true;\n    for (var i = 0; i &lt; DivIds.length; i++) {\n        if (ElementId == DivIds[i])\n            return false;\n    }\n    return true;\n};\nvar _InsertMarkers_LIST = [];\n\n\n\n\nfunction SetChapter(chapterId,startId,endId){\n    _Chapter = {\n        Id : chapterId,\n        StartId : startId,\n        EndId:endId,\n        Sections : []\n    };\n}\nfunction SetSection(sectionId,startId,endId) {\n    _Chapter.Sections.push({\n        Id : sectionId,\n        StartId:startId,\n        EndId:endId\n    });\n}\nfunction LoadChapter(wordId,StartFromEnd) {\n\n    P1.html('');\n    P2.html('');\n\n    if (StartFromEnd) {\n        _AddHtmlSectionReverse(_Chapter.EndId, true, true);\n    } else {\n        if (wordId == 0) {\n            _AddHtmlSection(_Chapter.Sections[0].Id, 0, true, true);\n        } else {\n            _GoToWord(wordId);\n        }\n    }\n    Loading(false);\n};\n\nfunction _CanLoadSection(sectionId) {\n    return true;\n};\n\nfunction _CanGoToWord(spanId) {\n    spanId = parseInt(spanId);\n    if (1 &lt;= spanId &amp;&amp; spanId &lt;= _BOOKENDID)\n        return true;\n    return false;\n};\n\nfunction _GoToWord(spanId) {\n    P1.html('');\n    P2.html('');\n    S1.html('');\n    S2.html('');\n\n    return _AddHtmlSection(0, spanId, true, true);\n};\n// =======================================================================================================================\nfunction _AddHtmlSection(sectionId, startId, AddHtmlToFirstPage, addingFirst) {\n\n    if (addingFirst) {\n        P1.html('');\n    }\n\n    var html;\n    var ENDID = null;\n    var LASTID = null;\n    var addingEndOnFirstPage = true;\n    var spansToRemove = [];\n\n\n    if (sectionId == 0) {\n        var str = reader.GetSectionInfoFromSpanId(startId).split(':');\n        var info = {\n            ChapterId : str[0],\n            SectionId : str[1]\n        };\n        if (info.SectionId != null &amp;&amp; _CanLoadSection(info.SectionId))\n            sectionId = info.SectionId;\n    }\n\n    if (sectionId == 0 /*|| !_CanLoadSection(sectionId)*/) {\n        _InitSpans();\n        return addingFirst ? false : true;\n    }\n\n    html = reader.GetSection(sectionId.toString());\n\n    if (AddHtmlToFirstPage) {\n        // adding for page 1\n        P1.append(html);\n\n        var children = P1.children();\n        var spansToAppend = [];\n        var StartAppending = false;\n        for (var i = 0; i &lt; children.length; i++) {\n            $this = $(children[i]);\n\n            if ($this[0].tagName == \"DIV\" &amp;&amp; ShowHtmlElement($this[0].id)) {\n                continue;\n            }\n\n            if (addingFirst &amp;&amp; ($this[0].tagName == \"BR\" || $this[0].tagName == \"DIV\") &amp;&amp; LASTID &lt; startId) {\n                $this.remove();\n                continue;\n            }\n            LASTID = parseInt($this[0].id);\n\n            if (addingFirst &amp;&amp; LASTID &lt; startId) {\n                $this.remove();\n                continue;\n            }\n\n            if (StartAppending || $this[0].offsetTop + $this[0].offsetHeight &gt; page_height) {\n                P2.append($this).append(' ');\n                StartAppending = true;\n                if (ENDID == null &amp;&amp; $this[0].offsetTop + $this[0].offsetHeight &gt; page_height) {\n                    ENDID = LASTID - 1;\n                    spansToRemove.push($this);\n                } else {\n                    if (ENDID != null)\n                        spansToRemove.push($this);\n                }\n\n                addingEndOnFirstPage = false;\n            }\n        }\n    } else {\n        // adding for P2\n        P2.append(html);\n        var children = P2.children();\n\n        addingEndOnFirstPage = false;\n        for (var i = 0; i &lt; children.length; i++) {\n            $this = $(children[i]);\n\n            LASTID = parseInt($this[0].id);\n\n            if ($this[0].offsetTop + $this[0].offsetHeight &gt; page_height) {\n\n                if (ENDID == null) {\n                    ENDID = LASTID - 1;\n                    spansToRemove.push($this);\n                } else {\n                    spansToRemove.push($this);\n                }\n            }\n        }\n    }\n\n    for (var i = 0; i &lt; spansToRemove.length; i++) {\n        spansToRemove[i].remove();\n    }\n\n\n    if (!$.isNumeric(LASTID))\n        LASTID = addingEndOnFirstPage ? parseInt(P1.find('span:last')[0].id) : parseInt(P2.find('span:last')[0].id);\n\n    _PageInfo = {\n        StartId: parseInt($('#P1 span:first')[0].id),\n        EndId: ENDID == null ? LASTID : ENDID\n    };\n\n    if (LASTID != ENDID &amp;&amp; ENDID == null)\n        return _AddHtmlSection(0, LASTID + 1, addingEndOnFirstPage, false);\n    _InitSpans();\n    return true;\n};\n\n\n\nfunction NextPage() {\n    TIME = new Date().getTime();\n    P1.html('');\n    P2.html('');\n    $('div#popWrapper').remove();\n    var NPage = _AddHtmlSection(0, _PageInfo.EndId + 1, true, true);\n\n    return NPage === false ? false : true;\n};\n\n$(function () {\n    var str = reader.GetBookSizes().split(':');\n\n    $('#Book2').width(parseInt(str[0])*2+100);\n    $('#page1, #page2').width(parseInt(str[0])).height(parseInt(str[1]));\n    $('body').removeClass('fc1').removeClass('fc2').removeClass('fc3').addClass('fc'+str[2]);\n    page_width = $('div#page1').width();\n    page_height = $('div#page1').height();\n    line_height = parseInt($(document.body).css('line-height').replace('px',''));\n\n    P1 = $('div#P1');\n    P2 = $('div#P2');\n\n    S1 = $('div#S1');\n    S2 = $('div#S2');\n\n    reader.InitBook();\n});\n</code></pre>\n"},{"tags":["c++","multithreading","qt","thread-safety","static-members"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12433128,"title":"Qt library - thread safety of static members functions","body":"<p>Qt's documentation states that all QDateTime functions are reentrant which in Qt terms it means that if you create new object of QDateTime in another thread you can safely work with it. But are the following static members thread safe: QDateTime::currentDateTime and QDateTime::fromTime_t? </p>\n\n<p>Code in a secondary thread:</p>\n\n<pre><code> // Is line below thread safe?\n QDateTime tDateTimeNow1 = QDateTime::currentDateTime(); \n\n // The below code should be no different then the one above..\n QDateTime tDateTimeNow2; \n tDateTimeNow2 = tDateTimeNow2.currentDateTime(); \n</code></pre>\n\n<p>I'm confused by the following statement in this article <a href=\"http://doc.qt.nokia.com/4.7-snapshot/thread-basics.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/thread-basics.html</a> :\n\"QDateTime::currentDateTime() isn't marked as thread-safe in Qt documentation, however we can get away with using it in this small example because we know that the QDateTime::currentDateTime() static method isn't used in any other threads.\" </p>\n\n<p>If QDateTime::currentDateTime() cannot be used in secondary threads than how can we create QDateTime object with current date time in a thread safe manner?</p>\n\n<p>Here are other static member functions similar like the one above that I don't know if they can be safely used in threads:\n1) QTimer::singleShot \n2) QString::fromUtf8 \n3) QString:number </p>\n"},{"tags":["qt","destructor","quazip"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12356684,"title":"QStringList of quazip::getFileNameList casts error by destruction","body":"<p>in Qt Creator (qt 4.8, winxp) I wrote</p>\n\n<pre><code>QuaZip* zipfile = new QuaZip;\nzipfile-&gt;setZipName(\"myzipfile.zip\");\nzipfile-&gt;open(QuaZip::mdUnzip);\n\nif(zipfile-&gt;isOpen()){\n  QStringList files = zipfile-&gt;getFileNameList();\n}   // here the error occurs\n</code></pre>\n\n<p>when files is destroyed, a messagebox says</p>\n\n<blockquote>\n  <p>Debug Assertion Failed!</p>\n  \n  <p>Expression: _CrtIsValidHeapPointer(pUserData)</p>\n</blockquote>\n\n<p>In the debugger I have the following function stack:</p>\n\n<pre><code>0   DbgBreakPoint   ntdll       0x7c90120e  \n1   RtlpBreakPointHeap  ntdll       0x7c96c201  \n2   RtlpValidateHeapEntry   ntdll       0x7c96c63e  \n3   RtlValidateHeap ntdll       0x7c9603b0  \n4   HeapValidate    kernel32        0x7c85f8d7  \n5   _CrtIsValidHeapPointer  dbgheap.c   2103    0x102d1ac9  \n6   _free_dbg_nolock    dbgheap.c   1317    0x102d0b3a  \n7   _free_dbg   dbgheap.c   1258    0x102d09e0  \n8   free    dbgfree.c   49  0x102d8990  \n9   qFree   qmalloc.cpp 60  0x5e2f1d    \n10  QString::free   qstring.cpp 1235    0x65dd22    \n11  QString::~QString   qstring.h   880 0x5ac0d3    \n12  QString::`scalar deleting destructor'   QuizSet     0x4120e0    \n13  QList&lt;QString&gt;::node_destruct   qlist.h 433 0x412180    \n14  QList&lt;QString&gt;::free    qlist.h 759 0x4115fb    \n15  QList&lt;QString&gt;::~QList&lt;QString&gt; qlist.h 733 0x410967    \n16  QStringList::~QStringList   MyApp       0x414d9f    \n17  MyApp::myFunction   myapp.cpp   561 0x420e1c\n...\n</code></pre>\n\n<p>line 433 in qlist.h is where the debugger stops:</p>\n\n<pre><code>while (from != to) --to, reinterpret_cast&lt;T*&gt;(to)-&gt;~T();\n</code></pre>\n\n<p>the error occurs only if I call ::getFileNameList(), if I fill the list manual it works fine.\nOther operations with quazip work, I can unzip and zip data, only the getFileNameList makes trouble.</p>\n\n<p>EDIT: I found the cause: the quazip1.dll I used was the release version of it, only in debug-running this problem arised. So if I use the debug quazip.dll, it works fine. Annoying they're called the same, so I have to rename everytime I switch from debug to release. Anybody knows a workaround to this?</p>\n"},{"tags":["qt","email","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":66,"score":1,"question_id":12340030,"title":"Qt cannot send email","body":"<p>I got some source from <a href=\"http://www.qtforum.org/article/26688/2/sending-e-mail-with-qt4.html\" rel=\"nofollow\">here</a> about how to send email using qt's socket. But the code is not sending email, rather it's stucked after connected to smtp server.</p>\n\n<p>My output is like</p>\n\n<pre><code>1 \nstateChanged  QAbstractSocket::HostLookupState \nstateChanged  QAbstractSocket::ConnectingState \nstateChanged  QAbstractSocket::ConnectedState \nConnected  \nconstructor\n2 \n</code></pre>\n"},{"tags":["regex","string","qt","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12362151,"title":"Extract specific string","body":"<p>I have the following QString that I want to extract only the access_token value which is \"http%3a%2f%2fschemas.xmlsoap.....\" How to do that?</p>\n\n<blockquote>\n  <p>{\"token_type\":\"http://schemas.xmlsoap.org/ws/2009/11/swt-token-profile-1.0\",\"access_token\":\"http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=asdasr21321214a%2f%2fschemas.microsoft.com%2faccwresscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fdatamarket.accesscontrol.windows.net%2f&amp;Audience=http%3a%2f%2fapi.microsofttranslator.com&amp;ExpiresOn=1347332993&amp;Issuer=https%3a%2f%2fdatamarket.accesscontrol.windows.net%2f&amp;HMACSHA256=sFqvp2a2xXc3VBdxYZ6xHQf%2fKkOydnuX6VK7A6Yf55k%3d\",\"expires_in\":\"599\",\"scope\":\"http://api.microsofttranslator.com\"}</p>\n</blockquote>\n"},{"tags":["c++","linux","qt","x11"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12428879,"title":"X11 Widget from QT QWidget","body":"<p>Is it possible to extract an X11/Xt Widget from QT QWidget. I know there is a function WinId() on QWidget which gives me a Window but I need a Widget object.</p>\n"},{"tags":["image","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12432113,"title":"Qt create and write 16 bit png images","body":"<p>is it possible to create and write a 16 bit greyscale png image using QT? I have an array of integers and want to write it to a 16 bit buffer, create a qimage and write it. I saw there is something called as depth to set number of bits, but could not find syntax to create an image of 16 bits. <a href=\"http://doc.qt.nokia.com/4.7-snapshot/qimage.html#depth\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/qimage.html#depth</a></p>\n"},{"tags":["c++","qt","events","qt-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12428045,"title":"Qt Using Hover Events","body":"<p>So, I am having trouble capturing the hover enter and hover leave events in a QGraphicsRectItem.</p>\n\n<p>I have subclassed this object, and reimplemented the hover enter and hover leave handlers... or at least I think I have. I am new to Qt. I also set accepts hover event to true in the constructor. </p>\n\n<p>The event is never fired, however. Nothing happens, and breakpoints inside the handlers are never hit.</p>\n\n<p>Here is the class:</p>\n\n<pre><code>#include \"qhgraphicsrectitem.h\"\n\nQhGraphicsRectItem::QhGraphicsRectItem(QGraphicsRectItem *parent) :\n    QGraphicsRectItem(parent)\n{\n    setAcceptHoverEvents(true);\n    setAcceptsHoverEvents(true);\n}\n\nvoid QhGraphicsRectItem::hoverEnterEvent(QGraphicsSceneHoverEvent *event) {\n    oldBrush = brush();\n    setBrush(QBrush(QColor((oldBrush.color().red() + (0.5 * (255-oldBrush.color().red()))),(oldBrush.color().green() + (0.5 * (255-oldBrush.color().green()))),(oldBrush.color().blue() + (0.5 * (255-oldBrush.color().blue()))))));\n}\n\nvoid QhGraphicsRectItem::hoverLeaveEvent(QGraphicsSceneHoverEvent *event) {\n    setBrush(oldBrush);\n}\n</code></pre>\n\n<p>What is it that I am doing wrong?</p>\n"},{"tags":["qt","makefile","qt-creator","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":12380171,"title":"qmake not generating binary resource files","body":"<p>Specs: Qt Creator 2.5.1, Qt 4.7.4(32bit)</p>\n\n<p>It is my understanding from the <a href=\"http://doc.qt.nokia.com/4.7-snapshot/resources.html\" rel=\"nofollow\">Qt documentation</a> that including a resource (.qrc) in the .pro file of Qt is all that is required to get qmake to generate the correct qrc_*.cpp files.  That doesn't seem to be the case for my project.  When running qmake the makes files are created and there are references to the qrc_ file I'm looking for under compiler_rcc_clean, just not in the build chain.</p>\n\n<p>[Update]\nAt a suggestion from comments below the makefile generated by qmake was tested directly w/ NMAKE.  The correct qrc_filter_ao.cpp file was created.  However the IDE still fails to properly generate this file when I build from Qt Creator.</p>\n\n<p>.pro:</p>\n\n<pre><code>include (../../shared.pri)\n\nTARGET = filter_ao\nQT += opengl\n\nHEADERS += ./filter_ao.h\nSOURCES += ./filter_ao.cpp\n\nRESOURCES += \\\n    filter_ao.qrc\n</code></pre>\n\n<p>shared.pri</p>\n\n<pre><code>include (./general.pri)\nVCGDIR = ../$$VCGDIR\nTEMPLATE      = lib\nCONFIG       += plugin\nCONFIG       += resources\nQT += opengl\nQT += xml\nQT += xmlpatterns\nQT += script\n\nwin32-msvc2008:  LIBS += ../../distrib/common.lib\nwin32-msvc2008:DEFINES += GLEW_STATIC _USE_MATH_DEFINES\n\nINCLUDEPATH  *= ../.. $$VCGDIR ../$$GLEWDIR/include\nDEPENDPATH += ../.. $$VCGDIR\n\nwin32-msvc2008:DEFINES  += _CRT_SECURE_NO_DEPRECATE\nCONFIG(release,debug | release){\n  # Uncomment the following line to disable assert in mingw\n  #DEFINES += NDEBUG\n}\n\nDESTDIR       = ../../distrib/plugins\ncontains(TEMPLATE,lib) {\n  CONFIG(debug, debug|release) {\n     unix:TARGET = $$member(TARGET, 0)_debug\n     else:TARGET = $$member(TARGET, 0)d\n  }\n}\nwin32-msvc2008: RCC_DIR = $(ConfigurationName)\n</code></pre>\n\n<p>general.pri</p>\n\n<pre><code> VCGDIR = ../../../vcglib\n GLEWDIR = ../external/glew-1.7.0\n win32:DEFINES += NOMINMAX\n</code></pre>\n"},{"tags":["c++","qt","deployment","dynamic-linking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12431069,"title":"First time Deploying Qt Application, dynamically link?","body":"<p>I'm starting to look into deploying a Qt application I've been developing but I've never had to deploy any C++ application before this.</p>\n\n<p>I want to be able to ship my product as a pre-compiled executable that dynamically links against shared library files(Qt) for Linux/Windows so that there is an executable that looks in its own sub directories for libraries instead of libraries that may be installed as a result of other Qt products.</p>\n\n<p>Is this something that is possible? Or must the Qt library files be installed separately for an application to link against them? I want to avoid requiring the end user to install ANYTHING on their systems while also avoiding static linking.</p>\n"},{"tags":["c++","qt","enumeration","flags"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":121,"score":0,"question_id":12430620,"title":"Using enum flags in C++","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1448396/how-to-use-enums-as-flags-in-c\">How to use enums as flags in C++?</a>  </p>\n</blockquote>\n\n\n\n<p>To explain what I'm trying to do, I'm trying to get a flags integer containing update check information, such as</p>\n\n<pre><code>int flags = keyPress | mouseClick | mouseMove; \n</code></pre>\n\n<p>from my enum of events;</p>\n\n<pre><code>enum mEvents {\n     keyPress = QEvent::KeyPress,\n     keyRelease = QEvent::KeyRelease,\n     mouseClick = QEvent::MouseButtonPress,\n     mouseDoubleClick = QEvent::MouseButtonDblClick,\n     mouseMove = QEvent::MouseMove\n};\n</code></pre>\n\n<p>so that I can then check for what event types occurred like so; </p>\n\n<pre><code>void Lib::Update(QEvent *e) {\n     if (e-&gt;type() == flags)\n         stateManager-&gt;updateCurrentState(e);\n}\n</code></pre>\n\n<p>What I'm trying to do is say, if the event type is any of the following in 'flags' then update. However, that isn't working. To be more precise, it works for key presses, but not for mouse clicks or move events.</p>\n\n<p>So I'm wondering, if what I'd like to do is even possible, and if so how can I achieve this? (I'm pretty sure it is, I know SDL uses a similar flag system for it's screen creation) \nAny help is greatly appreciated.)</p>\n"},{"tags":["qt","fault","segmentation","qtablewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":716,"score":0,"question_id":5443822,"title":"QTableWidget setItem() segmentation fault using Qt","body":"<p>I'm using the following code to add a row to a QTableWidget.</p>\n\n<pre><code>QTableWidgetItem *item = new QTableWidgetItem(fileName);\nitem-&gt;setCheckState(Qt::Checked);\n\nQComboBox *cmb = new QComboBox(this-&gt;list);\ncmb-&gt;addItem(\"one\");\ncmb-&gt;addItem(\"two\");\n\nthis-&gt;list-&gt;setRowCount(this-&gt;list-&gt;rowCount()+1);\nthis-&gt;list-&gt;setItem(this-&gt;list-&gt;rowCount()-1,0,item);\nthis-&gt;list-&gt;setCellWidget(this-&gt;list-&gt;rowCount()-1,1,cmb);\n</code></pre>\n\n<p>There are 2 columns in the table. 'item' is placed in the first one, 'cmb' in the second one. Using this code I can succesfully add 1 row to the table, but when I try to add a second row, I get a segmentation fault.\nIt crashes on the this->list->setItem() call.</p>\n\n<p>Any idea of why it crashes?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","inheritance","qlist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":9748447,"title":"Reference QList Inherited from Derived Class","body":"<p>If have a class, Book, that just inherited QList&lt; char >, I am wondering if it is possible to reference the QList from within Book?</p>\n\n<p>For example, if I want to iterate through element in the QList, how would I do so? Below is the code of how I would do this if Book did not inherit QList.</p>\n\n<pre><code>QList&lt;char&gt; list;\n\nforeach (char element, list) {\n    cout &lt;&lt; element &lt;&lt; endl;\n}\n</code></pre>\n"},{"tags":["c++","qt","qtreeview","qscrollarea"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12429272,"title":"Disable automatic scrolling when clicking an item","body":"<p>I have a QTreeView with a custom item delegate. The delegate creates an editor that can be very wide (let's say, 2000px width), so the user will scroll horizontally to edit the data.</p>\n\n<p><img src=\"http://i.stack.imgur.com/o0AqH.png\" alt=\"Step 1\"></p>\n\n<p>Image 1: I scrolled to the frame #300. Notice that the scrollbar is already offseted.</p>\n\n<p><img src=\"http://imageshack.us/a/img801/9887/image2zb.png\" alt=\"Step 2\"></p>\n\n<p>Image 2: I click some part of the editor; then the scrollbar goes to the starting position automatically. It happens because the current selected row have changed. Is there any way to disable the automatic scrolling?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","qt","height","pyqt4","tabbar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12428917,"title":"PyQt4: Set size of the tab bar in QTabWidget","body":"<p>How would you change the height of the tab bar in a QTabWidget? </p>\n"},{"tags":["qt","opengl","opencl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":12085953,"title":"Qt with OpenGL extensions and OpenCL","body":"<p>Use Qt as my GUI library.</p>\n\n<p>Now I need to use OpenGL with extensions and maybe with OpenCL. \nFirst of all I need to load OpenGL extensions.</p>\n\n<p>In glextensions.cpp/glextensions.h (c:\\QtSDK\\Demos\\4.7\\boxes) it's done in such way: </p>\n\n<pre><code>#define RESOLVE_GL_FUNC(f) ok &amp;= bool((f = (_gl##f) context-&gt;getProcAddress(QLatin1String(\"gl\" #f))));  \n\nRESOLVE_GL_FUNC(GenFramebuffersEXT);\n</code></pre>\n\n<p>Can you explain how it works?</p>\n\n<p>Also I need to create special type of context to use OpenGL in conjuction with OpenCL.</p>\n\n<p>Can I do it with QGLContext? </p>\n"},{"tags":["qt","graphics","mouseevent","selection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12427850,"title":"Several QGraphicItems moved by mouse (Qt GUI with C++)","body":"<p><strong>Problem</strong></p>\n\n<p>(See the solution further down)</p>\n\n<p>I would like to be able to move custom QGraphicsItems independently by the default methods (of which I could not find more specific documentation than \"<em>[<a href=\"http://doc-snapshot.qt-project.org/4.8/qgraphicsitem.html#mouseMoveEvent\" rel=\"nofollow\">mouseMoveEvent</a>'s] default implementation handles basic item interaction, such as selection and moving.</em>\"):</p>\n\n<pre><code>setFlag(QGraphicsItem::ItemIsMovable, true);\nsetFlag(QGraphicsItem::ItemIsSelectable,true);\n</code></pre>\n\n<p>I subclass GGraphicsView, QGraphicsScene and add several subclassed QGraphicsItems. I reimplement most mouse events but also call the base-class' method, e.g. <code>QGraphicsItem::mouseReleaseEvent(event);</code> (before doing that [not sure which event exactly caused this], I observed an offset and incorrect position handling of the item when moving).</p>\n\n<p>Presently, items move correctly, but as soon one has been moved, it will move along any other item that is moved (i.e. new items that have not been moved yet are not affected).</p>\n\n<p>I'm hoping someone can point me to the general source of the problem without me having to provide a minimal example.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>I was going to write that I may be creating the items incorrectly so there may be a pointer problem. Or that I was missing an event handler and that the item needs to be 'released' in some way.\nWhat I failed to understand is that <code>ItemIsSelectable</code> enables a selection mechanism that apparently allows more than one selected item by default. And I thought the flag was a requirement for an item to be movable..</p>\n\n<p>(Qt 4.8.1 and MSVC2010)</p>\n"},{"tags":["qt","qmessagebox"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12421755,"title":"Subclassing QMessageBox","body":"<p>I need to customize QMessageBox. I need to remove the frame and title bar and add my own title bar and close button. Also need to replace the standard buttons and probably redo the background color of the box. </p>\n\n<p>Is it possible to subclass it and achieve the above? is there any example anywhere for this? Or, should I just subclass Dialog and create my own message box?</p>\n"},{"tags":["c++","qt","events","event-handling","resize"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":535,"score":2,"question_id":7753795,"title":"Qt user resize event ends (stops)","body":"<p>I have a QWidget and i need to do some actions (refresh a picture in widget) when resize event ends. How can i catch this action?\nI need to catch moment when user ENDs all his resize actions by releasing mouse button. It is not a good practice in my application to refresh image every pixel resized. It should calls only when mouse released and resize actions ends.</p>\n\n<p>I am just tried to reimplement QMouseReleaseEvent to catch it, but it do not works when user presses on the border of widget to resize it. It means does not working in our situation.</p>\n\n<p>Then i was tried to create my own QSizeGrip and insert it on the bottom of my widget, but reimplemented event QMouseReleaseEvent again did not work in it. Event did not generates any time user released mouse. I do not know why.</p>\n\n<p>Anybody can help me with that problem?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","visual-c++","qtablewidget","qtablewidgetitem"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":11205368,"title":"How to update a QTableWidgetItem in a QTableWidget with time?","body":"<p>I am planning to make a countdown timer for passes. A file is given from which i read time given as string and then subtract it from the system time to get the time remaining. This value is to be shown in a QTableWidget as a QTableWidgetItem.</p>\n\n<p>How can you update that cell in the table with time?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12420724,"title":"qt png in resource corrupted after static linking","body":"<p>We're developing a quite large Qt-based project on linux, and we reached final RC1 stage.</p>\n\n<p>Now, we encountered something really strange: in order to go into production, we added another .a library in our list of static linking libs.</p>\n\n<p>The library is linked and the application runs, but every .png in the resource file is corrupted, here's the output on startup:</p>\n\n<p>libpng error: IHDR: CRC error</p>\n\n<p>seems like libpng cant handle those invalid png (of course). The files are there and the size is right, they just turned blank after static linking that final library. The library itself is not used anywhere, it is just linked.</p>\n\n<p>Has anyone encountered such a situation before? is there a known workaround? We're using Qt 4.7.4 x64 on QtCreator 2.3.0, we would like not to upgrade for now, but it is the only option that comes into our mind for now.</p>\n"},{"tags":["qt","qtgui"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12342602,"title":"Responsiveness of Qt GUI","body":"<p>I'm doing a lot of activity in the Qt GUI thread on application startup (creating/preallocating and hiding literally over a thousand widgets, mostly as a runtime/initialization tradeoff, it's an embedded system that needs to stay responsive during it's operation).</p>\n\n<p>The goal of a responsive operation has been met - but now I have a challenge of making the initialization more responsive. Threading the initialization off to the worker thread is not an option - most of the CPU load comes from within calls to QtGui, and those need to take place in the main thread.</p>\n\n<p>So, I wonder if there is an option to yield the control over to the app to handle all the other events? do the redraws, etc? </p>\n"},{"tags":["qt","cursor","override"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12417636,"title":"qt : show mouse position like tooltip","body":"<p>As I write on title, I hope to show mouse position like tooltip.<br>\nTo do that, I think that I have to override QCursor, right?<br>\nBut I don't know the details of QCursor and how to make a new cursorShape.<br>\nIs there any example like this?</p>\n"},{"tags":["qt","progress-bar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12407584,"title":"QT Progressbar Centering","body":"<p>I am trying to center my progressbar to my screen center, but it is always on the top left...\nHere is the code:</p>\n\n<pre><code>QProgressBar vBar;\nvBar.setWindowFlags(Qt::FramelessWindowHint);\nvBar.setRange(0,9);\nvBar.setAlignment(Qt::AlignCenter);\nvBar.show();\nfor (int i = 0; i &lt; 10; i++) {\n  vBar.setvalue(i);\n}\n</code></pre>\n"},{"tags":["qt","scripting","prototype"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12382922,"title":"Declaring a signal in Qt script prototype","body":"<p>I tried declaring a signal in a prototype and then connecting it is script funcition for some reason it does not work as I hoped. My code is as follows. Could some one help me in this.</p>\n\n<p>What I expected was, once I called <code>p.setText('New String')</code> in the script code, since setText emits the textChanged signal it should invoke the slot which is <code>catchSignal(text)</code> already connected in the script code.</p>\n\n<p>Prototype header</p>\n\n<pre><code>#ifndef SCRIPTACTION_H\n#define SCRIPTACTION_H\n\n#include &lt;QObject&gt;\n#include &lt;QtScript&gt;\n\nclass ScriptAction : public QObject , public QScriptable\n{\n    Q_OBJECT\n\n public:\n    ScriptAction(QObject *parent = 0);\n\n signals:\n    void textChanged(const QString changedString);\n\n};\n\n#endif // SCRIPTACTION_H\n</code></pre>\n\n<p>Class</p>\n\n<pre><code>#include \"scriptaction.h\"\n#include &lt;QAction&gt;\n\nQ_DECLARE_METATYPE(QAction*)\n\n\nScriptAction::ScriptAction(QObject *parent) : QObject(parent)\n{\n}\n</code></pre>\n\n<p>Main Class</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QAction&gt;\n#include \"scriptaction.h\"\n#include &lt;QPushButton&gt;\n\nQ_DECLARE_METATYPE(QAction*)\n\nQScriptValue qAction_Constructor(QScriptContext *ctx, QScriptEngine *eng)\n{\n    qDebug() &lt;&lt; \"QAction is called\";\n    if(ctx-&gt;isCalledAsConstructor())\n    {\n        QObject *parent = ctx-&gt;argument(0).toQObject();\n        QAction *action = new QAction(\"Test\",parent);\n        return eng-&gt;newQObject(action, QScriptEngine::ScriptOwnership);\n    } else {\n        return QString(\"invalid call. Use new Constructor\");\n    }\n}\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc,argv);\n    QScriptEngine engine;\n    //Evaluating a simaple expresssion\n    qDebug() &lt;&lt; engine.evaluate(\"1+2\").toNumber();\n    QPushButton button;\n    QScriptValue buttonScript= engine.newQObject(&amp;button);\n    engine.globalObject().setProperty(\"button\", buttonScript);\n    engine.evaluate(\"button.text ='Hello Text'; button.show()\");\n\n    //QAction Prototype\n    ScriptAction qsAction ;\n    QScriptValue script_proto = engine.newQObject(&amp;qsAction);\n    engine.setDefaultPrototype(qMetaTypeId&lt;QAction*&gt;(), script_proto);\n    QScriptValue ctor = engine.newFunction(qAction_Constructor , script_proto);\n    QScriptValue metaObject = engine.newQMetaObject(&amp;QObject::staticMetaObject, ctor);\n    engine.globalObject().setProperty(\"QSAction\" , metaObject);\n    engine.evaluate(\"var p = new QSAction(button);p.textChanged.connect(catchSignal);\");\n    engine.evaluate(\"function catchSignal(text) { print ('PROTOTYPE SIGNAL IS CALLED ',text); } p.setText('New String'); \" );\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["qt","sdl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12380932,"title":"Convert QPixmap to SDL_Surface and present it on the screen","body":"<p>I'm trying to integrate a Qt library with an SDL application. I'd like to convert a QPixmap to an SDL_Surface, and then display that surface. How can I do this? I've not been able to find any good examples.</p>\n\n<p>I've managed the following code so far:</p>\n\n<pre><code>Uint32 rmask = 0x000000ff;\nUint32 gmask = 0x0000ff00;\nUint32 bmask = 0x00ff0000;\nUint32 amask = 0xff000000;\n\nSDL_FillRect(screen, NULL, SDL_MapRGBA(screen-&gt;format, 255, 255, 255, 255));\n\nconst QImage *qsurf = ...;\n\nSDL_Surface *surf = SDL_CreateRGBSurfaceFrom((void*)qsurf-&gt;constBits(), qsurf-&gt;width(), qsurf-&gt;height(), 32, qsurf-&gt;width() * 4, rmask, gmask, bmask, amask);\nSDL_BlitSurface(surf, NULL, screen, NULL);\nSDL_FreeSurface(surf);\nSDL_Flip(screen);\n</code></pre>\n\n<p>This works, but the only problem is that each time my QImage-based surface is painted, the underlying area is not cleared and the transparent parts \"fade\" into solid over the course of a few frames.</p>\n\n<p>I do have <code>SDL_FillRect</code> which I would imagine clears the screen but it doesn't seem to be doing so. <code>screen</code> is the primary SDL surface.</p>\n"},{"tags":["c++","r","qt","rcpp","rinside"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":131,"score":2,"question_id":12280707,"title":"using rinside with qt in windows","body":"<p>I am beginning using rinside and rcpp within c++. I just want to start from zero so my QT project has nothing but the creation of a RInside instance and I have a problem I cannot solve. I have only one dialog form in the project.</p>\n\n<p>My project file:</p>\n\n<pre><code>QT       += core gui\n\nTARGET = rcpp-rinside\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n    dialog.cpp\n\nHEADERS  += dialog.h\n\nFORMS    += dialog.ui\n\n\nINCLUDEPATH += C:\\R\\R-2.15.1\\include\nINCLUDEPATH += C:\\R\\R-2.15.1\\library\\Rcpp\\include\nINCLUDEPATH += C:\\R\\R-2.15.1\\library\\RInside\\include\n\nLIBS += -LC:\\R\\R-2.15.1\\bin\\i386 -lR\nLIBS += -LC:\\R\\R-2.15.1\\library\\Rcpp\\lib\\i386\\ -lRcpp\nLIBS += -LC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\ -lRInside\n</code></pre>\n\n<p>The main file:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"dialog.h\"\n\nint main(int argc, char *argv[])\n{\n    RInside R(argc, argv);\n\n    QApplication a(argc, argv);\n\n    Dialog w;\n\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>For the other files, there is nothing there because it's only an empty form.\nWhen I build this, I got a lot of errors like the following:</p>\n\n<pre><code>C:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x39c): undefined reference to `__gxx_personality_sj0'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x3bb): undefined reference to `_Unwind_SjLj_Register'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x419): undefined reference to `_Unwind_SjLj_Unregister'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x471): undefined reference to `_Unwind_SjLj_Resume'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x4cc): undefined reference to `__gxx_personality_sj0'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x4eb): undefined reference to `_Unwind_SjLj_Register'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x608): undefined reference to `_Unwind_SjLj_Unregister'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x64c): undefined reference to `_Unwind_SjLj_Unregister'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x746): undefined reference to `_Unwind_SjLj_Unregister'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x7f6): undefined reference to `_Unwind_SjLj_Resume'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x84c): undefined reference to `__gxx_personality_sj0'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x86b): undefined reference to `_Unwind_SjLj_Register'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x8c6): undefined reference to `_Unwind_SjLj_Unregister'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x9c5): undefined reference to `_Unwind_SjLj_Resume'\nC:\\R\\R-2.15.1\\library\\RInside\\lib\\i386\\/libRInside.a(RInside.o):RInside.cpp:(.text+0x9ec): undefined reference to `__gxx_personality_sj0'\n</code></pre>\n\n<p>I am using R-2.15.1, RInside 0.2.7, Rcpp 0.9.10, QT 4.8.0, MinGW 4.6.1.</p>\n"},{"tags":["qt","qslider"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12409559,"title":"QSlider makes unnecessary steps","body":"<p>I am trying to use a QSlider, but if somebody clicks on a position X, where he wants to put the slider to, the slider always sets the value to maximum or minimum at first and then to the value X. So there is an unnecessary step in-betweeen.\nHow can I avoid this step?</p>\n\n<p>I implemented the slider with the help of QTDesigner.\nThe code for the remaining setup is the following:</p>\n\n<pre><code>_ui-&gt;horizontalSlider-&gt;setRange(1, aMaximalValue);\n_ui-&gt;horizontalSlider-&gt;setValue(theCurrentValue);\nconnect(_ui-&gt;horizontalSlider, SIGNAL(valueChanged(int)), this, SLOT(onValueOfSliderChanged(int)));\n</code></pre>\n"},{"tags":["qt","connect","qwidget","qpushbutton"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12404283,"title":"Qt - Connected but doesn't work","body":"<p>I have problem with one class in my project, after click appears new window with QTableWidget and QPushButton, after clicking the button I should have \"test\" on stdout, but nothing shows, here are parts of this code:</p>\n\n<p>Header:</p>\n\n<pre><code>class ClientsSelector : public QWidget {\nQ_OBJECT\n\npublic:\nClientsSelector(InvoiceTab* parent);\nQWidget *window;\n\nprivate:\nQPushButton *accept;\n\npublic slots:\nvoid loadData();\n</code></pre>\n\n<p>Constructor:</p>\n\n<pre><code>window = new QWidget();\nlayout = new QGridLayout();\nlayout-&gt;addWidget(table, 0, 0);\n\n/*code*/\n\naccept = new QPushButton(QString::fromUtf8(\"Load data\"));\nconnect(accept, SIGNAL(clicked()), this, SLOT(loadData()));\nlayout-&gt;addWidget(accept, 0, 1);\n\n/*code*/\n\nwindow-&gt;setLayout(layout);\n\nwindow-&gt;show();\n</code></pre>\n\n<p>Method:</p>\n\n<pre><code>void ClientsSelector::loadData() {\n\nQTextStream std(stdout);\nstd &lt;&lt; \"test\" &lt;&lt; endl;\n\n}\n</code></pre>\n\n<p>I have not even one warning nor error. I have nothing on stdout, it looks like button was connected to wrong object(?)</p>\n"},{"tags":["performance","qt","debugging","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12360605,"title":"Troubleshooting Performance Using Qt Debugger","body":"<p>Hi I am student programmer using Qt to build some editing applications for work and I'm hitting an issue in my debugging practices that I am not sure how to approach. I have QTableWidget that takes at least 10 secs to fill when 100+ rows are brought in. </p>\n\n<p>I am wondering if Qt's debugger has any tools to help pinpoint where the operation is taking the most of its time at. I have looked over the operation several times and everything looks right and efficient so I am left pretty lost. I have looked over the <a href=\"http://doc.qt.nokia.com/qtcreator-2.5/creator-testing.html\" rel=\"nofollow\">debugging and analyzing</a> sections of the debugger and didn't see anything that looked helpful as I'm pretty sure my symptoms aren't that of a memory leak. Thanks for reading my post and thanks in advance for any help in this issue.</p>\n"},{"tags":["c","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":162,"score":3,"question_id":12417210,"title":"How to convert unsigned char * to QString","body":"<p>I know this is a very basic question but sometimes it happens that you loose your basic concept :) \nTried Goggling but not enough support on that too.</p>\n\n<p>I am using predefined library from one of our device owner. They have a declaration as : </p>\n\n<pre><code>unsigned char FamilySerialNum[0][8]\n</code></pre>\n\n<p>This variable gets the serial number of the device in hexadecimal. Now i am using this library  in Qt to display the serial number in QLineEdit. For that I need to convert it to QString.</p>\n\n<p>Tried using QString::UTF8, strcpy(), sprintf() etc. but getting garbage data.</p>\n\n<p>So can anyone suggest me some way to get it done.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":122,"score":2,"question_id":9403825,"title":"Qt slot with default argument ","body":"<p>I have a block of spin controls which change individual elements of an array\nRather than having separate receiver slot functions, I wanted to just specify which control sent the message in the signal</p>\n\n<p>You can do this with a QSignalMapper - but is there anyway of doing it simply as below?</p>\n\n<pre><code>spin0 = new QDoubleSpinBox;\nconnect(spin0,SIGNAL(valueChanged(double)),this,SLOT(handler(0,double));\n\nspin1 = new QDoubleSpinBox;\nconnect(spin1,SIGNAL(valueChanged(double)),this,SLOT(handler(1,double));\n....\n\nprivate slot:\nvoid handler(int element,double value);\n</code></pre>\n"},{"tags":["qt","osx","powerpc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":140,"score":2,"question_id":6273299,"title":"Qt Mac binary installs won't run on PowerPC/G5","body":"<p>I installed the 32 bit Cocoa binary for mac on a G5, none of the Qt apps would run, so I uninstalled it, installed the Carbon binary, &amp; none of those apps would run. What am I doing wrong?  I get error messages saying the \"application is not supported on this platform\".</p>\n\n<ul>\n<li>Mac 10.5.8</li>\n<li>Xcode 3.1.2</li>\n<li>Qt 4.7.3</li>\n</ul>\n\n<p>1.8 GHz G5 with 2.5 GB RAM.</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":7,"up_vote_count":10,"down_vote_count":0,"view_count":424,"score":10,"question_id":5878522,"title":"QT overview/tutorial?","body":"<p>Does anyone know of any good tutorials/articles which give a broad overview of QT? I'm not looking for a verbose \"type this in and this is what it does\" kind of tutorial (e.g. <a href=\"http://doc.qt.nokia.com/4.3/tutorial.html\" rel=\"nofollow\">Nokia's/Troll Tech's tutorials</a>, I can look at the api docs up for this stuff), but rather something which explains the thought process and considerations which go into making a QT app (for example, the idea of connecting signals to slots, what a widget is and isn't, how the API is organized, etc.).</p>\n"},{"tags":["c++","qt","network-programming","state","qtcpsocket"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":791,"score":5,"question_id":10445122,"title":"QTcpSocket state always connected, even unplugging ethernet wire","body":"<p>I have a QTcpSocket and I am reading into a loop. Each time a full packet has been read, or there has been an error, I manually check the status of the socket inside the loop, with:</p>\n\n<pre><code>    while(true){\n    if(socket-&gt;state()==QAbstractSocket::ConnectedState){\n        qDebug()&lt;&lt;\"Socket status: connected. Looking for packets...\";\n        if(socket-&gt;waitForReadyRead(2000)){\n        //...\n    }\n</code></pre>\n\n<p>When I execute de program, once connected and the loop starts, it always prints <code>qDebug()&lt;&lt;\"Socket status: connected. Looking for packets...\"</code>; and then stucks at <code>waitForReadyRead</code> until some data is ready to be read.</p>\n\n<p>The problem is that disconnections are not detected. If I disconnect from network from the OS options, or even if I unplug the ethernet wire, it behaves the same: Socket state equals <code>QAbstractSocket::ConnectedStat</code>e, so it goes on, but without receiving anything of course.</p>\n\n<p>I also tried to detect disconnections connecting <code>disconnected()</code> signal (after fist connection) to a reconnect function:</p>\n\n<pre><code>// Detect disconnection in order to reconnect\n    connect(socket, SIGNAL(disconnected()), this, SLOT(reconnect()));\n\nvoid MyClass::reconnect(){\n    qDebug()&lt;&lt;\"Signal DISCONNECTED emitted. Now trying to reconnect\";\n    panelGUI-&gt;mostrarValueOffline();\n    socket-&gt;close();\n    prepareSocket((Global::directionIPSerialServer).toLocal8Bit().data(), 8008, socket);\n    qDebug()&lt;&lt;\"Reconnected? Status: \"&lt;&lt;socket-&gt;state();\n}\n</code></pre>\n\n<p>But signal is never emited, because this code is never executed. Which is logical, since it looks like socket state is always <code>ConnectedState</code>.</p>\n\n<p>If I plug again, connection is restored and starts to receive data again, but I do want to detect disconnections to show \"Disconnected\" at the GUI.</p>\n\n<p>Why is QTcpSocket behaving this way, and how can I solve this problem?</p>\n\n<p>EDIT: I'm creating socket at the class constructor, and then initialising calling prepareSocket function:</p>\n\n<pre><code>socket = new QTcpSocket();\nsocket-&gt;moveToThread(this);\n\nbool prepareSocket(QString address, int port, QTcpSocket *socket) {\n    socket-&gt;connectToHost(address, port);\n    if(!socket-&gt;waitForConnected(2000)){\n        qDebug()&lt;&lt;\"Error creating socket: \"&lt;&lt;socket-&gt;errorString();\n        sleep(1);\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["qt","visual-studio-2008","export","qt-creator","projects-and-solutions"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12408694,"title":"Can't export Visual Studio project to Qt Creator","body":"<p>I want to export a visual studio project or the entire solution and I installed the Qt Visual Studio add-in but the menu actions are not clickable:</p>\n\n<p><a href=\"http://img88.imageshack.us/img88/756/capturebba.png\" rel=\"nofollow\">http://img88.imageshack.us/img88/756/capturebba.png</a></p>\n\n<p>What can I do to export the project or solution?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12410937,"title":"Qt - Edit just QGraphicsLineItems within a QGraphicsScene","body":"<p>I am using Qt to draw out some data visualisations. I have lines which indicate certain important points along a timeline, but I would like to be able to remove these lines from view so that the information underneath is more clearly visible.</p>\n\n<p>I understand how to remove them from sight, but the problem is how to find which QGraphicsItems in the scene's view are Lines and which are not.</p>\n\n<p>I have tried using </p>\n\n<pre><code>try {\n    qgraphicsitem_cast&lt;QGraphicsLineItem&gt;(scene-&gt;items()[i]);\n} catch (...) {\n}\n</code></pre>\n\n<p>But this doesn't even compile. I tried checking the output of qgraphicsitem_cast() to see if was 0, but the compiler didn't like that, either.</p>\n\n<p>This is my most current code:</p>\n\n<pre><code>void Plotter::showHideLines() {\n    int i;\n    QGraphicsLineItem l;\n\n    for (i = 0; i &lt; scene-&gt;items().count(); i++) {\n        try {\n            qgraphicsitem_cast&lt;QGraphicsLineItem&gt;(scene-&gt;items()[i]);\n            scene-&gt;items()[i]-&gt;setVisible(!scene-&gt;items()[i]-&gt;isVisible());\n        } catch (...) {\n        }\n    }\n}\n</code></pre>\n\n<p>Ignore \"l\", I didn't bother to delete it after trying something else.</p>\n\n<p>I am pretty new to Qt, I have just been learning it over the last few days. Can anybody help?</p>\n"},{"tags":["c++","qt","function","gui"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12410433,"title":"Forcing the Qt GUI to update before entering a separate function","body":"<p>This seems like it should be automatic, but apparently it's not.  I have the following code:</p>\n\n<pre><code>    ui.my_label-&gt;setText(\"Test 1...\");\n    ui.my_label-&gt;adjustSize();\n\n    processThatTakesAbout30SecondsToFinish(files[0].toStdString());\n\n    ui.my_label-&gt;setText(\"Finished.\");\n    ui.my_label-&gt;adjustSize();\n</code></pre>\n\n<p>What is happening is that I <em>never</em> see <code>\"Test1...\",</code> as the GUI seems to hang until the following function completes, and I eventaully only see \"Finished.\".  </p>\n\n<p>How can I make sure the GUI is updating before it enters that function?<br>\nThanks.</p>\n"},{"tags":["c++","qt","stylesheet","qss"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12409070,"title":"Change style on Hover state of parent QWidget in Qt","body":"<p>I have a composite control in Qt that is a QWidget with a QHBoxLayout containing 3 sub controls (QWidget > QHBoxLayout > 3 QLabels). On one of those controls, which is just a QLabel displaying an icon, I want it to change it's icon when hovering over the entire control. I can get it to work when actually hovering over that icon</p>\n\n<pre><code>QLabel#stateIcon {\n    image: url(:/icons/stateNormal);\n}\n\nQLabel#stateIcon:hover {\n    image: url(:/icons/stateHover);\n}\n</code></pre>\n\n<p>However, I would like it to show the hover icon when the mouse is <em>anywhere</em> over the whole control.</p>\n\n<p>I tried something like the following:</p>\n\n<pre><code>QLabel#stateIcon::parent:hover {\n    image: url(:/icons/stateHover);\n}\n</code></pre>\n\n<p>and even</p>\n\n<pre><code>QLabel#stateIcon::parent::parent:hover {\n    image: url(:/icons/stateHover);\n}\n</code></pre>\n\n<p>Hoping that it would activate on the hover-state of the parent but it does nothing.</p>\n\n<p>Is there a way to do this purely in stylesheets?</p>\n\n<p>If not, is there a way to propagate the parent hover state to it's children in code?</p>\n"},{"tags":["qt","windows-ce"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12409434,"title":"Start application rotate of 90 degrees","body":"<p>Is there anyway to start the application rotate of 90 degrees? I read about qt-gfx-transformed, but it seems to be only for the Qt embedded linux and I am on Windows ce. Any suggestion?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","qslider"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12408011,"title":"Position of QSlider in a widget","body":"<p>I am trying to draw a line between two sliders in Qt. When I move either of the sliders, I want the line to move such that it always joins the two sliders. See attached pic<img src=\"http://i.stack.imgur.com/ZYaVB.png\" alt=\"enter image description here\"> </p>\n\n<p>(I have drawn the line for illustration - not programatically)\nHow do I do that? The problem is with identifying the position of the sliders. How do I get their locations? either within the widget or within the screen? Once I get their positions, I will be able to draw the line.</p>\n\n<p>Any ideas? Let me know if you want me to post the code, but basically, all I have is two QSliders - one on top and one at the bottom.</p>\n"},{"tags":["qt","drag-and-drop","qlistwidget","qtreewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12397492,"title":"How to set custom data in an event as for Drag and Drop?","body":"<p>I have a listwidget and a treewidget.\nI want the listwidgetitems to be able to move inside the listwidget via drag and drop, and I also want the listwidget to accept drops from dragged items from the treewidget, but, prior to this, I want to do some processing to the data.</p>\n\n<p>I can do all of these things right now, but I am unable to find out how to set custom data to the drag event starting from the treewidget.</p>\n\n<p>For example, I have a topLevelItem in my treewidget with the text \"Add DrawEffect\" and with a QIcon as well, which, when I drag and drop inside the listwidget, I want to add a new item to the listwidget, saying:</p>\n\n<pre><code>DrawEffect 0x0x0x0 effect-here\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>Add DrawEffect (showing its QIcon as well)\n</code></pre>\n\n<p>WHEN should I set this data?</p>\n\n<p>This is my code so far that works completely fine when dragging and dropping listwidgetitems inside the listwidget, and it works for drag and dropping qtreewidgetitems inside the listwidget, but it copies them as are, while I want to do further processing prior to adding them:</p>\n\n<p>At my treewidget's constructor:</p>\n\n<pre><code>this-&gt;setDragDropMode(QAbstractItemView::DragOnly);\nthis-&gt;setDefaultDropAction(Qt::CopyAction);\n</code></pre>\n\n<p>At my listwidget's constructor:</p>\n\n<pre><code>this-&gt;setAcceptDrops(true);\nthis-&gt;setDragDropMode(QAbstractItemView::DragDrop);\nthis-&gt;setDefaultDropAction(Qt::MoveAction);\n</code></pre>\n\n<p>re-implementing listwidget's dropEvent:</p>\n\n<pre><code>if(event-&gt;source()-&gt;inherits(\"QTreeWidget\"))\n    qDebug() &lt;&lt; \"The dragged item comes from the TreeWidget.\";\nelse\n    qDebug() &lt;&lt; \"The dragged item comes from the ListWidget itself.\";\nQListWidget::dropEvent(event);\n</code></pre>\n\n<p>As you can see I can distinguish between the treewidget and the listwidget items but I don't know what to do after this...</p>\n\n<p>I guess that something like this would be OK:</p>\n\n<pre><code>if(event-&gt;source()-&gt;inherits(\"QTreeWidget\")){\n    //treewidget item, it needs further processing\n}\nelse\n    QListWidget::dropEvent(event); //listwidget item, no further processing needed\n</code></pre>\n\n<p>Thanks :/</p>\n"},{"tags":["qt"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":240,"score":0,"question_id":10798916,"title":"Using system command in Qt","body":"<p>How can I use the <code>system</code> command where the command is written in a QString?</p>\n\n<p>Like:</p>\n\n<pre><code>QString command=\"chmod -R 777 /opt/QT/examples/code/TestGUI/Data\";    \nsystem(command);\n</code></pre>\n\n<p>While compiling, I get this error:</p>\n\n<pre><code>cannot convert ‘QString’ to ‘const char*’\n  for argument ‘1’ to ‘int system(const char*)’\n</code></pre>\n\n<p>Can anyone suggest something?</p>\n"},{"tags":["qt","matlab"],"answer_count":4,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":155,"score":1,"question_id":12350282,"title":"How can I call a Qtproject from matlab?","body":"<p>I have a function in matlab that writes a file.txt which i use in my qt project.</p>\n\n<p>So, </p>\n\n<p>I have a Matlab file when I get a qt compiled executable to run using the unix(), but I'm getting an error.</p>\n\n<p>the code:</p>\n\n<pre><code>unix('/home/matt/Desktop/PlaneVolumeFinal/PlaneVolumeGui');\n</code></pre>\n\n<p>the error:</p>\n\n<pre><code>/home/matt/Desktop/PlaneVolumeFinal/PlaneVolumeGui: symbol lookup error: /home/matt/Desktop\n/PlaneVolumeFinal/PlaneVolumeGui: undefined symbol: _ZN9QListData7detach3Ev\n</code></pre>\n"},{"tags":["qt","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1577,"score":2,"question_id":5946896,"title":"How to execute shell command after compile finished from .pro in QT?","body":"<p>In QT,</p>\n\n<p>Suppose I want to execute <code>chmod</code> command or execute the output binary file, or do some other operations .</p>\n\n<p>What shall I do to the pro file?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","debugging","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":12058172,"title":"How to configure Qt debugger and what is needed for it to work","body":"<p>Ok so Im really confused here, I got the same erroe as Martin.kv who started this thread <a href=\"http://stackoverflow.com/questions/9975949/how-to-configure-cdb-in-qt-creator/12057804#12057804\">How to configure CDB in Qt Creator?</a></p>\n\n<p>which said \"The preferred debugger engine for debugging binaries of type 'x86-windows-msvc2010-pe-32bit' is not available....Details: There is no CDB binary available for binaries in format 'x86-windows-msvc2010-pe-32bit\"  </p>\n\n<p>I assume I have to download some stuff to fix this, so I went here <a href=\"http://msdn.microsoft.com/en-us/windows/hardware/gg463009.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/windows/hardware/gg463009.aspx</a> and I have Windows 7 on a 32-bit system so I went under this title \"Install the Windows 7 Version of Debugging Tools for Windows\" and went here <a href=\"http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=8279\" rel=\"nofollow\">http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=8279</a> to download the Debugging tools for windows. </p>\n\n<p>From all the stuff I've read, on the thread I referenced and a few others, what I downloaded seemed to be the right thing.</p>\n\n<p>I admit I screwed up a little because I forgot to check where it was putting the Debugger Tools because while it started downloading I was still searching for what to do after the download. But I'm pretty sure it is in \"C:\\Program Files\\Microsoft Windows Performance Toolkit\" but I dont have anything called Windows Kits, which everyone else is saying theirs is in, and I still dont seem to have a cdb.exe..</p>\n\n<p>did I download the wrong thing? What do I need to do/download instead? and also where can I get the Symbol Server that the Qt site and many other people suggest?? </p>\n\n<p>Sorry I'm new to Qt and some what to programming in general and my program for my internship is due at the end of the day and last night it stopped working so I'm kind of freaking out a little but I figure the debugger could help because it doesnt really make sense why it stopped working. </p>\n"},{"tags":["c++","qt","type-conversion"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":12398138,"title":"Qt QString::toDouble() returns int 0","body":"<p>I'm reading from an xml file and trying to parse the data to a double. It is reading the data and displays the appropriate string in the application output but wont convert from string to double. This is the section of code doing the conversion.</p>\n\n<pre><code>if ( !(imgDur = QString ( xmlReader-&gt;readElementText() ).toDouble()) ){\n        imgDur = 10;\n}\n</code></pre>\n\n<p>this returns the number 0. I get zero errors and the code compiles. Why wont this work? Thank you for you time.</p>\n\n<p>The entire loop that reads the XML file </p>\n\n<pre><code>//Parse the XML until we reach end of it\n    while(!xmlReader-&gt;atEnd() &amp;&amp; !xmlReader-&gt;hasError()) {\n            // Read next element\n            QXmlStreamReader::TokenType token = xmlReader-&gt;readNext();\n            //If token is just StartDocument - go to next\n            if(token == QXmlStreamReader::StartDocument) {\n                    continue;\n            }\n            //If token is StartElement - read it\n            if(token == QXmlStreamReader::StartElement) {\n\n                    if(xmlReader-&gt;name() == \"time_delay\") {\n                        qWarning() &lt;&lt; xmlReader-&gt;readElementText(); // OUTPUTS 15\n\n                        if ( !(imgDur = QString (xmlReader-&gt;readElementText()).toDouble()  ) ){\n                            qWarning() &lt;&lt; \"AS AN DOUBLE\" &lt;&lt; imgDur;  // OUTPUTS 0\n                            imgDur = 10;\n                        }\n\n                    }\n\n                    if(xmlReader-&gt;name() == \"value\") {\n                        qWarning() &lt;&lt; xmlReader-&gt;readElementText(); // OUTPUTS 8\n                    }\n\n            }\n    }\n</code></pre>\n"},{"tags":["c++","qt","mutex","qthread","readwritelock"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12382271,"title":"QReadWriteLock recursion","body":"<p>I'm using QReadWriteLock in recursive mode.</p>\n\n<p>This code doesn't by itself make sense, but the issues I have arise from here:</p>\n\n<pre><code>lock-&gt;lockForWrite();\nlock-&gt;lockForRead();\n</code></pre>\n\n<p>lockForRead is blocked. Note that this is in recursive mode.</p>\n\n<p>The way i see it is that Write is a \"superior\" lock, it allows me to read and write to the protected data, where Read lock only allows reading.</p>\n\n<p>Also, i think that write lock should not be blocked if the only reader is the same one asking for the write lock.</p>\n\n<p>I can see from the qreadwritelock.cpp source codes that there is no attempt to make it work like what i would like. So it's not a bug, but a feature I find missing.</p>\n\n<p>My question is this, should this kind of recursion be allowed? Are there any problems that arise from this kind of implementation and what would they be?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12398498,"title":"Adding set of images into a Qt project","body":"<p>How can I add set of images from my computer to Qt project file so that I can start coding on it</p>\n"},{"tags":["linux","qt","quickfix","dynamic-library"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":12380377,"title":"Issue with Qt dynamic library in Linux","body":"<p>I built an application based on QuickFIX Engine in Qt, named <code>fixapp</code>; it works fine. My broker asked me to specify a local port to connect to them. Then I couldn't find such configuration file, so I modified the source code of QuickFix.</p>\n\n<p>I used the examples of <code>tradeclient</code> and <code>executor</code> brought by QuickFIX source code to test. This works. <code>tradeclient</code> binds to a local port I specified in configuration file.</p>\n\n<p>However, when I turn to <code>fixapp</code>, using the library built by the modified QuickFIX source code, it doesn't bind to the local port I specified. It seems that the part I modified didn't change the behavior of the program.</p>\n\n<p>What are the potential problems here?</p>\n\n<p>Update:\nI tried to set some breakpoints in <code>QuickFix</code> source code. In one cpp file I modified, my breakpoint is ignored. It is Debug Mode, not release mode. I feel like that it is running the old cpp file and showing the new cpp file.</p>\n\n<p>Solution:\nI found that quickfix library path is .../quickfix/lib, and the path I reference to the external lib in <code>fixapp</code> is also .../quickfix/lib. However when I checked the library path in /usr/lib, the library is still the old one. Once I replaced the one in /usr/lib, the <code>fixapp</code> works. I don't know why the path I referenced in qt doesn't work but the /usr/lib works. Anyway, it's solved.</p>\n"},{"tags":["c++","web-services","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12398373,"title":"QNetworkReply reply has no members in finishedSlot","body":"<p>Qt Creator is used as the ide for this small app that is being developed</p>\n\n<p>I am attempting to use QNetworkAccessManager to retrieve some information from a website.  After the request is 'posted' to the web, the finished() signal is triggered, however the pointer that is passed to the finishedSlot() function does not appear to be pointing to an instantiated object, it is just address of the ponter.  The code for the button click that starts the request and the code for the finishedSlot() method is shown below.</p>\n\n<p>In the watch window, I would have expected to see a triangle next to 'reply' that when expaned would show all the data member of QNetworkReply object.  Instead it has a single value of @0x80c770 which looks like the pointer address.</p>\n\n<p>I'd appreciate input from anyone who can help me to understand why my pointer doesn't appeart to be pointing the the QNetworkReply object.</p>\n\n<pre><code>void MainWindow::on_btnGetOAuthToken_clicked()\n{\n\n\n    QUrl serviceUrl(\"https://api.ProPhotoWebsite.com/services/oauth/authorize.mg\");\n    QUrl postData;\n    postData.addQueryItem(\"method\", \"ProPhotoWebsite.auth.getRequestToken\");\n    postData.addQueryItem(\"oauth_consumer_key\", \"AAAAAAAAAAAAAAAAAAAAAAAA\"); //example key\n    postData.addQueryItem(\"oauth_nonce\",QUuid::createUuid().toString());\n    postData.addQueryItem(\"oauth_signature_method\",\"PLAINTEXT\");  \n    postData.addQueryItem(\"oauth_signature\",\"999999999999999999999999999\"); //example\n    postData.addQueryItem(\"oauth_timestamp\", QString::number(QDateTime::currentMSecsSinceEpoch()/1000));\n    postData.addQueryItem(\"oauth_version\",\"1.0\");\n\n    //...\n    QNetworkRequest request(serviceUrl);\n    request.setHeader(QNetworkRequest::ContentTypeHeader,\n                      \"application/x-www-form-urlencoded\");\n\n    // Call the webservice\n    QNetworkAccessManager *nam = new QNetworkAccessManager(this);\n    connect(nam, SIGNAL(finished(QNetworkReply*)),\n            SLOT(finishedSlot(QNetworkReply*)));\n    nam-&gt;post(request,postData.encodedQuery());\n\n}\n\nvoid MainWindow::finishedSlot(QNetworkReply *reply)\n{\n    // Reading attributes of the reply\n    // e.g. the HTTP status code\n    QVariant statusCodeV =\n            reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n    // Or the target URL if it was a redirect:\n    QVariant redirectionTargetUrl =\n            reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n    // see CS001432 on how to handle this\n\n    // no error received?\n    if (reply-&gt;error() == QNetworkReply::NoError)\n    {\n\n        QByteArray bytes = reply-&gt;readAll();  // bytes\n        QString string(bytes); // string\n        ui-&gt;lblWarning-&gt;setText(string);\n\n    }\n    else\n    {\n        // handle errors here\n    }\n\n    // need to dispose reply\n    delete reply;\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","maya"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":241,"score":0,"question_id":6789157,"title":"Tooltips or status bar not working in a PyQt app from Maya","body":"<p>I've got a PyQt4 QDialog that I'm launching from python in Autodesk Maya. I want to have a status bar in the window or, if need be, tooltips. Maya doesn't seem to approve of either. I've implemented it using the method described here:</p>\n\n<p><a href=\"http://www.qtcentre.org/threads/10593-QDialog-StatusBar\" rel=\"nofollow\">http://www.qtcentre.org/threads/10593-QDialog-StatusBar</a></p>\n\n<p>If I launch my app standalone, both work correctly. Running from Maya, though, the status updates get sent to the general Maya status bar (which is not very obvious if you're in a different window), and Maya seems to steal the events completely from me: if I monitor the events that my event() method is getting, it never gets a QEvent.StatusTip event. I've tried swapping my QDialog for a QMainWindow, but it doesn't seem to change anything.</p>\n\n<p>Any suggestions for avenues to look down to get this working?</p>\n"},{"tags":["qt","opengl","qt3d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":11091993,"title":"Qt3d + glShadeModel","body":"<p>Recently I began to use qt3d (with it's QGlView and QGLSceneNode). I provide per-vertex normals for generated model and now want to use GL_FLAT shading model for my modeling app. But simple call to glShadeModel(GL_FLAT) doesnt do anything - shading is doing look like in smooth mode</p>\n\n<p>I tried to find where qt3d/qopengl calls that function but besides QGLBuilder couldn't find anything.</p>\n\n<p>It seems to me that I have to do something with QOpenGLContext to make native opengl functions work (I have same problems with some other opengl functions) </p>\n\n<p>or maybe QGLPainter/QGLSceneNode internally sets shading model and I have not to use it at all?</p>\n"},{"tags":["linux","qt","ubuntu","gtk","ribbon"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":459,"score":0,"question_id":10135758,"title":"Ribbon interface  for gtk and qt","body":"<p>Is it possible to implement ribbon interface in windows7 in gtk or qt? .If yes how to do it</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","qpushbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12391125,"title":"QPushButton css pressed","body":"<p>I need to change the background image of a <code>QPushButton</code> when its state is pressed. I tried with this css:</p>\n\n<pre><code>QPushButton { background: transparent; border: none;} \nQPushButton:pressed { image: url(\\mypath\\settings_press.png); }\n</code></pre>\n\n<p>but a runtime I got the following error:</p>\n\n<blockquote>\n  <p>Could not parse stylesheet of widget</p>\n</blockquote>\n\n<p>Any idea?</p>\n"},{"tags":["python","qt","gui","pyqt4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12395796,"title":"Pyqt default progress bar not scaling properly","body":"<p>I have just started with Pyqt, my OS is Lubuntu 12.04. I have created a progress bar in a empty window with the Qt designer, the problem is that it seems that it isnt scaling right.</p>\n\n<p>When the values are between 0 and 2, the progress bar image is still there and looks ugly:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4ovc8.png\" alt=\"0%\">\n.</p>\n\n<p>The start of the progress bar should be empty (or at least thats what I think)</p>\n\n<p>I dont know if its OS related problem, or just I did something wrong. Any way to fix it?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":83,"score":-1,"question_id":12230602,"title":"How to prevent closing QMessageBox after clicking a button","body":"<p>I have 3 buttons on QMessageBox added by QMessageBox::addButton() method. Is it possible to prevent closing the message box if a button has been clicked? By defult every button closes the window, but I don't want to do it for one button.</p>\n\n<p>EDIT:\nWhy is this downvoted?</p>\n"},{"tags":["c++","qt","qimage"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":137,"score":3,"question_id":12382301,"title":"QT QImage, how to extract RGB?","body":"<p>I want to extract RGB from each pixel in QImage. Ideally, I want to use the img.bits() function.</p>\n\n<pre><code>QImage img;\n\nif( img.load(\"Red.jpg\") )\n{\n    uchar *bits = img.bits();\n\n    for (int i = 0; i &lt; 12; i++)\n    {\n        std::cout &lt;&lt; (int) bits[i] &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>How to manipulate the returned bits? I expected all red because the picture is a pure red image created in Paint. However, I get 36, 27, 237, 255, 36 etc...</p>\n"},{"tags":["qt","qml","qabstractlistmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12394751,"title":"QAbstractListModel insertRows not working properly","body":"<p>I have a subclass of QAbstractListModel and attached this model subclass with GridView. When I remove rows from my subclass, the GridView gets updated but when I insert rows in the model the GridView does not gets updated. I have implemented the removeR</p>\n\n<p>I have a very simple subclass of QAbstractListModel and I have attached with it a QML GridView. I have two buttons Add/Remove on the GUI. Pressing Add adds a string to the model and gui updated and pressing remove removes last string from the model and gui updates. My problem is when I add only one row is inserted and when I remove nothing happens on the GUI. Given is the implementation of my model subclass and QML file.</p>\n\n<p>namesmodel.cpp</p>\n\n<pre><code>NamesModel::NamesModel(QObject *parent) :\n    QAbstractListModel(parent)\n{\n    QHash&lt;int, QByteArray&gt; roles;\n    roles[Qt::UserRole + 1]  = \"name\";\n    setRoleNames(roles);\n}\nint NamesModel::rowCount(const QModelIndex &amp;parent) const\n{\n    return this-&gt;namesList.count();\n}\nQVariant NamesModel::data(const QModelIndex &amp;index, int role) const\n{\n    if (!index.isValid())\n        return QVariant();\n\n    switch(role) {\n    case (Qt::UserRole + 1):\n        return this-&gt;namesList.at(index.row());\n    default:\n        return QVariant();\n    }\n    return QVariant();\n}\nbool NamesModel::insertRow(int row, const QModelIndex &amp;parent)\n{\n    if ( parent.isValid() )\n        return false;\n    qDebug() &lt;&lt; \"Row = \" &lt;&lt; row;\n    beginInsertRows(parent, row, row);\n    this-&gt;namesList.insert(row, (\"Hello World \" + QString(\"%1\").arg(row)));\n    endInsertRows();\n    return true;\n}\nbool NamesModel::insertRows(int row, int count, const QModelIndex &amp;parent)\n{\n    int existing_count = this-&gt;namesList.count();\n    beginInsertRows(parent, row, count);\n    for ( int i = existing_count; i &lt; (existing_count + count); i++ )\n        this-&gt;namesList.insert(i, QString(\"Multi Hello World = %1\").arg(i));\n    endInsertRows();\n    return true;\n}\nbool NamesModel::removeRows(int row, int count, const QModelIndex &amp;parent)\n{\n    int existing_count = this-&gt;namesList.count();\n    beginRemoveRows(parent, row, count);\n    for ( int i = (existing_count + count); i &lt; existing_count; i-- )\n        this-&gt;namesList.removeAt(i);\n    endRemoveRows();\n    return true;\n}\n\nbool NamesModel::removeRow(int row, const QModelIndex &amp;parent)\n{\n     beginRemoveRows(parent, row, row);\n     this-&gt;namesList.removeAt(row);\n     endRemoveRows();\n}\n\nvoid NamesModel::addName()\n{\n    int index = this-&gt;namesList.count();\n    //insertRow(index, QModelIndex());\n    insertRows(index, 5, QModelIndex());\n    emit layoutChanged();\n    emit dataChanged(this-&gt;index(index), this-&gt;index(this-&gt;namesList.count()));\n}\nvoid NamesModel::removeName()\n{\n    int index = this-&gt;namesList.count();\n    //removeRow(index, QModelIndex()/*this-&gt;index(this-&gt;namesList.count())*/);\n    removeRows(index, 5, QModelIndex());\n    emit layoutChanged();\n    emit dataChanged(this-&gt;index(index), this-&gt;index(index + 5));\n}\n</code></pre>\n\n<p>main.qml</p>\n\n<pre><code>Rectangle {\n    width: 360\n    height: 360\n    Text {\n        height: 20\n        width: 360/2;\n        text: \"Add Name\"\n        MouseArea {\n            anchors.fill: parent\n            onClicked: {\n                names.addName();\n                console.log(\"Add Name\");\n            }\n        }\n    }\n    Text {\n        height: 20;\n        width: 360/2;\n        x: 360/2\n        text: \"Remove Name\";\n        MouseArea {\n            anchors.fill: parent\n            onClicked: {\n                names.removeName();\n                console.log(\"Remove Name\");\n            }\n        }\n    }\n\n    Component {\n        id: gridDelegate\n\n        Text {\n            width: 19;      // These are the dimensions of icon image.\n            height: 16\n            font.pixelSize: 12\n            text: name;\n        }\n    }\n    GridView {\n        y: 21\n        boundsBehavior: Flickable.StopAtBounds\n\n        focus: true\n        model: names;\n        delegate: gridDelegate\n    }\n}\n</code></pre>\n\n<p>I am calling beginInsertRows / endInsertRows and beginRemoveRows / endRemoveRows but it does not seems to work. As suggested on other similar threads I have also called layoutChanged / dataChanged after begin / end InserRows but no effect.</p>\n\n<p>Actually I have almost the same problem with my actual project. I have created this application to test whats wrong with this beginInsertRows etc.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Regards\nFarrukh Arshad.</p>\n"},{"tags":["c++","qt","char","int"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":120,"score":0,"question_id":12235089,"title":"Cannot convert parameter 4 from 'void' to 'const char *'","body":"<p>I'm trying to make a simple program to calculate 2 numbers and give the sum on a label in Qt.\nBut I got an error and I don't know what I did wrong.</p>\n\n<p>I got this error: </p>\n\n<pre><code>K:\\QtSDK\\QT_files\\les4-build-desktop-Qt_4_8_1_for_Desktop_-  _MSVC2010__Qt_SDK__Debug\\..\\les4\\calcu.cpp:40: error: C2664: 'bool QObject::connect(const     QObject *,const char *,const QObject *,const char *,Qt::ConnectionType)' : cannot convert     parameter 4 from 'void' to 'const char *'\nExpressions of type void cannot be converted to other types\n</code></pre>\n\n<p>So basicly I make a connect when the value change in the first textedit it will go to the bereken function, that will get the 2 values of the textedits and will calculate them.</p>\n\n<p>Calcu.h</p>\n\n<pre><code>#ifndef CALCU_H\n#define CALCU_H\n\n#include &lt;QWidget&gt;\n#include &lt;QLineEdit&gt;\n#include &lt;QLabel&gt;\n\nnamespace Ui {\nclass calcu;\n}\n\nclass calcu : public QWidget\n{\nQ_OBJECT\n\npublic:\nexplicit calcu(QWidget *parent = 0);\n~calcu();\n public slots:\nvoid bereken(void);\n\n\nprivate:\nUi::calcu *ui;\nQLineEdit *number1 ;\nQLineEdit *number2 ;\nQLabel *sum;\n};\n\n#endif // CALCU_H\n</code></pre>\n\n<p>calcu.ccp</p>\n\n<pre><code>#include \"calcu.h\"\n#include \"ui_calcu.h\"\n#include &lt;QLineEdit&gt;\n#include &lt;QLabel&gt;\n#include &lt;QHBoxLayout&gt;\n#include &lt;QMessageBox&gt;\n#include &lt;QString&gt;\n\ncalcu::calcu(QWidget *parent) :\nQWidget(parent),\nui(new Ui::calcu)\n{\nui-&gt;setupUi(this);\n\nQGridLayout *grid = new QGridLayout;\n\nnumber1 = new QLineEdit;\nnumber2 = new QLineEdit;\nQLabel *sign = new QLabel(\"+\");\nQLabel *equal = new QLabel(\"=\");\nsum = new QLabel;\n\nQHBoxLayout *layout = new QHBoxLayout;\n\nlayout-&gt;addWidget(number1);\nlayout-&gt;addWidget(sign);\nlayout-&gt;addWidget(number2);\nlayout-&gt;addWidget(equal);\nlayout-&gt;addWidget(sum);\n\n   // this-&gt;setLayout(layout);\nui-&gt;groupBox-&gt;setLayout(layout);\nui-&gt;groupBox-&gt;setTitle(\"Enter som\");\n\nsetWindowTitle(tr(\"Group Boxes\"));\n   // resize(480, 320);\n\nsetLayout(grid);\n\nQObject::connect(number1, SIGNAL(textChanged(QString)),this,bereken());\n\n   // bereken();\n\n}\n\ncalcu::~calcu()\n{\ndelete ui;\n}\n\nvoid calcu::bereken(){\n\nint som;\nQString number;\nnumber = number1-&gt;text();\nsom = number.toInt();\n\nnumber = number2-&gt;text();\nsom = som + number.toInt();\n\n\nsum-&gt;setText(QString::number(som));\n}\n</code></pre>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12392395,"title":"QtableWidget: How to find value in specific column","body":"<p>I need to check wether a specific value is in a specific column using qtablewidget.\nIn my case I need to check the first column wether an ID is allready existing, if yes I need the number of the containing row to update this row otherwise I like to add the row. \nIs there any solution provided by QT to check the column or shou </p>\n"},{"tags":["c++","qt","qt4"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":920,"score":1,"question_id":2050462,"title":"Prevent a QMenu from closing when one of its QAction is triggered","body":"<p>I'm using a QMenu as context menu. This menu is filled with QActions. One of these QActions is checkable, and I'd like to be able to check/uncheck it without closing the context menu (and having to re-open it again to choose the option that I want).</p>\n\n<p>I've tried disconnecting the signals emitted by the checkable QAction with no luck.</p>\n\n<p>Any ideas? Thanks.</p>\n"},{"tags":["qt","qpainter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12391517,"title":"how to get the end position of drawItemText in Qt","body":"<p>I am trying to customize a QPUshButton by subclassing it and overriding the paintEvent. I am writing the text, followed by the icon as below:</p>\n\n<pre><code>paintEvent(QPaintEvent *paint)\n    {\n         QStyleOption opt;\n         opt.init(this);\n         QPainter p(this);\n        //Draw the base\n         style()-&gt;drawPrimitive(QStyle::PE_Widget, &amp;opt, &amp;p, this);\n\n        //Draw the text\n         style()-&gt;drawItemText(&amp;p,this-&gt;rect(),Qt::AlignCenter,(this-&gt;palette()), true, this-&gt;text());\n\n    //How do I make the image immediately follow the text\n\n         if(!this-&gt;icon().isNull())\n            //Draw the icon at 75% button height\n            style()-&gt;drawItemPixmap(&amp;p, this-&gt;rect(),Qt::AlignRight|Qt::AlignVCenter, this-&gt;icon().pixmap(this-&gt;rect().height()  * 0.75));\n\n    }\n</code></pre>\n\n<p>I am center aligning the text, and right aligning the icon. However, this causes a gap between the text and the icon. Is there any way for me to draw the icon immediately after the text, instead of aligning?</p>\n\n<p>In other words, is there any way to get the position where the <strong>drawItemText</strong> finished?</p>\n"},{"tags":["qt","qtgui"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12390592,"title":"Why is Qt QColor a part of QtGUI - possible workarounds?","body":"<p>I'm building a commandline version of an an application that utilizes QColor for cross-platform handling of color data. </p>\n\n<p>For some reason, this datatype is a part of QtGUI even thou it doesn't have anything to do with Widgets - any way to get this class without linking with GUI?</p>\n"},{"tags":["qt","drag-and-drop","implementation","qlistwidget"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12388458,"title":"I want to extend dropEvent() (QListWidget), should I completely reimplement it?","body":"<p>I have a QListWidget and I have set it to accept drops, the mode to be DragDrop etc and I can move QListWidgetItems all around the place (inside the QListWidget of course).</p>\n\n<p>I like this behavior and I want it to let it as is, but I also want my QListWidget to accept drops from a QTreeWidget as well. If I attempt to reimplement the dropEvent() of my QListWidget then I lose the default behavior.</p>\n\n<p>Is there any way to just extend the current behavior so as to have both drag-drop between listwidget items and drag-drop from the treewidget to the listwidget or I have to completely re-write both behaviors in my dropEvent() reimplementation?</p>\n\n<p>Thanks a lot for any answers :)</p>\n"},{"tags":["cocoa","qt","qfiledialog"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12385917,"title":"QFileDialog::getOpenFileName is very slow on mac","body":"<p>I am working on sample qt project which involves reading the existing directories , requirement is that i have to use getOpenFileName function and while working on it i have observed that this function works well on windows but on mac by using the native the window its responsiveness is very slow can anyone know how to speed up this?? currently i am using following function </p>\n\n<p>QFileDialog::getOpenFileName(this, Caption, defaultPath, filters);</p>\n"},{"tags":["c++","qt","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":10821076,"title":"BlackBerry 10: Cascades and ForeignWindow","body":"<p>I am using the Cascades UI and I need to use ForeignWindow in order to develop a control which will show an image will be able to zoom and pan in it. The ImageView control simply is incapable of doing this.</p>\n\n<p>My question is: how and where am I supposed to handle touch events (in order to pan or zoom) for the window I am going to use as ForeignWindow.\nRegarding that unlike the native SDK which uses an event loop, Cascades applications use App as a main class, so where am I supposed to handle the screen_event_t and/or gesture events I would normally handle if I were developing in Native for a window?</p>\n"},{"tags":["qt","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":344,"score":1,"question_id":7782842,"title":"Fast batch executions in PostgreSQL","body":"<p>I have a lots of data and I want to insert to DB in the least time. I did some tests. I created a table (using the below script) in PostgreSQL:</p>\n\n<pre><code>CREATE TABLE test_table\n(\n  id serial NOT NULL,\n  item integer NOT NULL,\n  count integer NOT NULL,\n  CONSTRAINT test_table_pkey PRIMARY KEY (id)\n)\nWITH (\n  OIDS=FALSE\n);\nALTER TABLE test_table OWNER TO postgres;\n</code></pre>\n\n<p>I wrote test code, created 1000 random values and insert to <code>test_table</code> in two different ways. First, using <code>QSqlQuery::exec()</code></p>\n\n<pre><code>int insert() {\nQSqlDatabase db = QSqlDatabase::addDatabase(\"QPSQL\");\n\ndb.setHostName(\"127.0.0.1\");\ndb.setDatabaseName(\"TestDB\");\ndb.setUserName(\"postgres\");\ndb.setPassword(\"1234\");\n\nif (!db.open()) {\n    qDebug() &lt;&lt; \"can not open DB\";\n    return -1;\n}\n\nQString queryString = QString(\"INSERT INTO test_table (item, count)\"\n        \" VALUES (:item, :count)\");\n\nQSqlQuery query;\nquery.prepare(queryString);\n\nQDateTime start = QDateTime::currentDateTime();\n\nfor (int i = 0; i &lt; 1000; i++) {\n\n    query.bindValue(\":item\", qrand());\n    query.bindValue(\":count\", qrand());\n\n    if (!query.exec()) {\n        qDebug() &lt;&lt; query.lastQuery();\n        qDebug() &lt;&lt; query.lastError();\n    }\n\n} //end of for i\n\nQDateTime end = QDateTime::currentDateTime();\nint diff = start.msecsTo(end);\nreturn diff;\n}\n</code></pre>\n\n<p>Second using <code>QSqlQuery::execBatch</code>:</p>\n\n<pre><code>int batchInsert() {\nQSqlDatabase db = QSqlDatabase::addDatabase(\"QPSQL\");\n\ndb.setHostName(\"127.0.0.1\");\ndb.setDatabaseName(\"TestDB\");\ndb.setUserName(\"postgres\");\ndb.setPassword(\"1234\");\n\nif (!db.open()) {\n    qDebug() &lt;&lt; \"can not open DB\";\n    return -1;\n}\n\nQString queryString = QString(\"INSERT INTO test_table (item, count)\"\n        \" VALUES (:item, :count)\");\n\nQSqlQuery query;\nquery.prepare(queryString);\n\nQVariantList itemList;\nQVariantList CountList;\n\nQDateTime start = QDateTime::currentDateTime();\n\nfor (int i = 0; i &lt; 1000; i++) {\n\n    itemList.append(qrand());\n    CountList.append(qrand());\n\n} //end of for i\n\nquery.addBindValue(itemList);\nquery.addBindValue(CountList);\n\nif (!query.execBatch())\n    qDebug() &lt;&lt; query.lastError();\n\nQDateTime end = QDateTime::currentDateTime();\nint diff = start.msecsTo(end);\nreturn diff;\n}\n</code></pre>\n\n<p>I found that there is no difference between them:</p>\n\n<pre><code>int main() {\nqDebug() &lt;&lt; insert() &lt;&lt; batchInsert();\nreturn 1;}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>14270 14663 (milliseconds)\n</code></pre>\n\n<p>How can I improve it?</p>\n\n<p>In <a href=\"http://doc.qt.nokia.com/stable/qsqlquery.html#execBatch\" rel=\"nofollow\">http://doc.qt.nokia.com/stable/qsqlquery.html#execBatch</a> has been cited:</p>\n\n<blockquote>\n  <p>If the database doesn't support batch executions, the driver will\n  simulate it using conventional exec() calls.</p>\n</blockquote>\n\n<p>I'm not sure my DBMS support batch executions or not?\nHow can I test it?</p>\n"},{"tags":["qt","focus","hover","tooltip","visible"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":12367022,"title":"Qt, how to make Tooltip visible without hovering over the control?","body":"<p>I want tooltips to be <strong>visible by default</strong> when the container widget gets <strong>focus/visible</strong>. </p>\n\n<p>I want tooltip to appear without being mouse hover on the respective control.</p>\n"},{"tags":["c++","qt","winapi"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":168,"score":1,"question_id":12372099,"title":"win32 C++ print string to printer","body":"<p>After a few days of searching the net on how exactly I can go about printing an arbitrary string to an arbitrary printer on windows, I finally came up with this code.</p>\n\n<pre><code>LPBYTE pPrinterEnum;\nDWORD pcbNeeded, pcbReturned;\nPRINTER_INFO_2 *piTwo = NULL;\nHDC printer;\nEnumPrinters(PRINTER_ENUM_LOCAL,NULL,2,NULL,0,&amp;pcbNeeded,&amp;pcbReturned);\npPrinterEnum = new BYTE[pcbNeeded];\nif (!EnumPrinters(PRINTER_ENUM_LOCAL,NULL,2,pPrinterEnum,pcbNeeded,&amp;pcbNeeded,&amp;pcbReturned)) {\n    qDebug() &lt;&lt; \"In Print, could not enumerate printers\";\n} else {\n    piTwo = ((PRINTER_INFO_2*)pPrinterEnum);\n    for (int i = 0; i &lt; pcbReturned; i++) {\n        QString name = QString::fromWCharArray(piTwo[i].pPrinterName);\n        if (this-&gt;m_printer_path == name) {\n            const WCHAR * driver = L\"WINSPOOL\\0\";\n            printer = CreateDC(NULL,piTwo[i].pPrinterName,NULL,NULL);\n        }\n    }\n}\nif (printer == 0) {\n    qDebug() &lt;&lt; \"No Printer HDC\";\n    return;\n} else {\n    qDebug() &lt;&lt; \"Printer seems okay!\";\n}\n\nqDebug() &lt;&lt; \"Starting Document\";\nDOCINFO di;\nmemset( &amp;di, 0, sizeof( di ) );\ndi.cbSize = sizeof( di );\nWCHAR * text = new WCHAR[ba.length()];\nQString(ba).toWCharArray(text);\nStartDoc(printer,&amp;di);\n    qDebug() &lt;&lt; \"Writing text\";\n    TextOut(printer,0, 0, text, ba.length());\n    qDebug() &lt;&lt; \"Text Written\";\nEndPage(printer);\nqDebug() &lt;&lt; \"Page ended\";\nDeleteDC(printer);\nqDebug() &lt;&lt; \"DC Deleted\";\n</code></pre>\n\n<p>Some basic caveats:</p>\n\n<p>1) I cannot use QPrinter. I need to write raw text, no postscript.\n2) I do not know the name of the printer until the user sets it, and I do not know the size of the string to print until the user creates it.</p>\n\n<p>Additional information:</p>\n\n<p>a) The printer works, I can print from Notepad, Chrome, just about everything to the printer that I want.\nb) I am willing to implement just about any hack. Ones like write it to a text file and issue the copy command don't seem to work, that is, I get a failed to initialize device error.</p>\n\n<p>This works:\nnotepad /P Documents/test_print.txt\nThis does not work:\ncopy Documents\\test_print.txt /D:EPSON_TM_T20\ncopy Documents\\test_print.txt /D \\MYCOMPUTER\\epson_tm_t20 (leads to access denied, printer is shared)\nprint Documents\\test_print.txt (Unable to initialize device)</p>\n\n<p>I have tried just about every recommended way to print a text file from the command line, just doesn't work. I have installed, reinstalled driver, added printer, mucked with ports and done it all again.</p>\n\n<p>Obviously there is something simple about windows printing that I am missing due to inexperience.</p>\n\n<p>What I want to accomplish is:</p>\n\n<p>1) Best Scenario( Directly write text to the printer)\n2) Second best scenario (Write text to a file, then execute some program to print it for me) Notepad adds an annoying amount of space to the bottom of the printout wasting paper.</p>\n\n<p>Since the program is for end users, I have to find a way to do this automagically for them, so I can't expect them to click checkbox a in tab 36 after running command obscure_configuration from a powershell.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>/Jason</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is the working code, before I go through an spruce it up a bit, which prints the contents of a QByteArray to a thermal printer.</p>\n\n<pre><code>qDebug() &lt;&lt; \"Executing windows code\";\nBOOL     bStatus = FALSE;\nDOC_INFO_1 DocInfo;\nDWORD      dwJob = 0L;\nDWORD      dwBytesWritten = 0L;\nHANDLE     hPrinter;\nwchar_t * name = new wchar_t[this-&gt;m_printer_path.length()+1];\nthis-&gt;m_printer_path.toWCharArray(name);\nname[this-&gt;m_printer_path.length() + 1] = 0;\nqDebug() &lt;&lt; \"opening printer\";\nbStatus = OpenPrinter(name,&amp;hPrinter, NULL);\n\nif (bStatus) {\n    qDebug() &lt;&lt; \"Printer opened\";\n    DocInfo.pDocName = L\"My Document\";\n    DocInfo.pOutputFile = NULL;\n    DocInfo.pDatatype = L\"RAW\";\n    dwJob = StartDocPrinter( hPrinter, 1, (LPBYTE)&amp;DocInfo );\n    if (dwJob &gt; 0) {\n        qDebug() &lt;&lt; \"Job is set.\";\n        bStatus = StartPagePrinter(hPrinter);\n        if (bStatus) {\n            qDebug() &lt;&lt; \"Writing text to printer\";\n            bStatus = WritePrinter(hPrinter,ba.data(),ba.length(),&amp;dwBytesWritten);\n            EndPagePrinter(hPrinter);\n        } else {\n            qDebug() &lt;&lt; \"could not start printer\";\n        }\n        EndDocPrinter(hPrinter);\n        qDebug() &lt;&lt; \"closing doc\";\n    } else {\n        qDebug() &lt;&lt; \"Couldn't create job\";\n    }\n    ClosePrinter(hPrinter);\n    qDebug() &lt;&lt; \"closing printer\";\n} else {\n    qDebug() &lt;&lt; \"Could not open printer\";\n}\nif (dwBytesWritten != ba.length()) {\n    qDebug() &lt;&lt; \"Wrong number of bytes\";\n} else {\n    qDebug() &lt;&lt; \"bytes written is correct \" &lt;&lt; QString::number(ba.length()) ;\n}\n</code></pre>\n\n<p><strong>Note</strong>: I do owe an apology to Skizz, what he wrote was actually helpful in debugging the fundamental issue. The characters in the QByteArray are preformatted specifically for the printer, the problem is, they contain several NULL bytes. When trying to send them to the printer, this causes TextOut to truncate the text, only printing the first few lines. Using WritePrinter, as suggested in the answer ignores null bytes and accepts a void * and a length, and just puts it all there.</p>\n\n<p>Further, his response recommending the use of PrintDlg did work to fectch the correct printer HDC, the issus is that, the user first chooses a printer once, and then doesn't need to choose it each time they print, because they will be printing alot (It's a Point of Sale).</p>\n\n<p>The problem with getting the printer HDC from the string name was due to not adding the all important NULL byte to wchar_* which was solved this way:</p>\n\n<pre><code>wchar_t * name = new wchar_t[this-&gt;m_printer_path.length()+1];\nthis-&gt;m_printer_path.toWCharArray(name);\nname[this-&gt;m_printer_path.length() + 1] = 0;\n</code></pre>\n\n<p>In the above, m_printer_path is a string representation of the name of the printer taken from Print Manager.</p>\n\n<p>Because the string has all the formatting necessary for the printer, there's no need to worry about new lines, or any formatting.</p>\n\n<p>All three answers to this question were actually very helpful in implementing the final working solution, and I have voted up each answer, and I appreciate the time each person took in responding.</p>\n"},{"tags":["qt","matlab"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12385601,"title":"Error calling a qt executable in Matlab","body":"<p>I have a Matlab file when I get a qt compiled executable to run using the unix(), but I'm getting an error.</p>\n\n<p>the code:</p>\n\n<pre><code>unix('/home/matt/Desktop/PlaneVolumeFinal/PlaneVolumeGui');\n</code></pre>\n\n<p>the error:</p>\n\n<pre><code>/home/matt/Desktop/PlaneVolumeFinal/PlaneVolumeGui: symbol lookup error: /home/matt/Desktop\n/PlaneVolumeFinal/PlaneVolumeGui: undefined symbol: _ZN9QListData7detach3Ev\n</code></pre>\n"},{"tags":["qt","opencv","kinect","openni"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1366,"score":0,"question_id":5176069,"title":"OpenNI + OpenCV + Qt","body":"<p>I'm trying to make an app using Kinect (OpenNI), processing the image (OpenCV) with a GUI.</p>\n\n<p>I tested de OpenNI+OpenCV and OpenCV+Qt </p>\n\n<p>Normally when we use OpenCV+Qt we can make a QWidget to show the content of the camera (VideoCapture) .. Capture a frame and update this querying for new frames to device.</p>\n\n<p>With OpenNI and OpenCV i see examples using a for cycle to pull data from Kinect Sensors (image, depth) , but i don't know how to make this pulling routing mora straightforward. I mean, similar to the OpenCV frame querying.</p>\n\n<p>The idea is embed in a QWidget the images captured from Kinect. The QWidget will have (for now) 2 buttons \"Start Kinect\" and \"Quit\" ..and below the Painting section to show the data captured.</p>\n\n<p>Any thoughs?</p>\n"},{"tags":["windows","qt","build","libqxt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":122,"score":1,"question_id":12385486,"title":"Windows 7 Qt Creator libqxt","body":"<blockquote>\n  <p>SDK: Qt Creator 2.4.1 (Qt 4.7.4 (32 bit)) running on Windows 7 <br>\n  Software: libqxt <br>\n  Final target platform: Harmattan (Nokia N9) <br></p>\n</blockquote>\n\n<p>I am developing an application that is suppose to use qt-Brisa which in turn uses libqxt so I am trying to install libqxt.</p>\n\n<p>In the end I am doing a Nokia N9 (Harmattan) application so I need static library of libqxt</p>\n\n<p>However I get problems when trying to install libqxt both if I try the command prompt or with  Qt Creator.</p>\n\n<p>What is the correct approach,  I assume using the Qt Creator is the correct way to build it?</p>\n\n<h2>Try 1</h2>\n\n<p>Using command Prompt approach (according to <a href=\"http://dev.libqxt.org/libqxt/wiki/user_guide\" rel=\"nofollow\">http://dev.libqxt.org/libqxt/wiki/user_guide</a>)</p>\n\n<pre><code>C:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2010\\bin\n\nconfigure.bat -static -no-db -debug_and_release\n   Testing for qmake...\n   Testing for mingw32-make...\n   Testing for nmake...\n   Testing for GNU make...\n       Using GNU make.\n   Testing for optional external libraries.\n   If tests fail, some features will not be available.\n   Testing for Zero Conf...\n       Zero Conf disabled.\n   Configuration successful.\n   Generating makefiles...\nProject MESSAGE: building docs\nProject MESSAGE: building core module\nProject MESSAGE: building widgets module\nProject MESSAGE: building network module\nProject MESSAGE: building sql module\nProject MESSAGE: building web module\nReading C:/temp/Project/libqxt/libqxt/tools/3rdparty/qdoc3/qdoc3.pro\nReading C:/temp/Project/libqxt/libqxt/src/core/core.pro\nReading C:/temp/Project/libqxt/libqxt/src/widgets/widgets.pro\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nReading C:/temp/Project/libqxt/libqxt/src/designer/designer.pro\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nProject MESSAGE: Warning: unknown QT: widgets\nReading C:/temp/Project/libqxt/libqxt/src/network/network.pro\nReading C:/temp/Project/libqxt/libqxt/tools/jsonrpcclient/jsonrpcclient.pro\nReading C:/temp/Project/libqxt/libqxt/src/sql/sql.pro\nReading C:/temp/Project/libqxt/libqxt/src/web/web.pro\n   Makefiles generated. Run make now.\n\nmake\nMakefile:280: *** multiple target patterns.  Stop.\n</code></pre>\n\n<p>Why is it using GNU make and not qmake or am I doing somethign wrong ?</p>\n\n<h2>Try 2</h2>\n\n<p>Using Qt Creator</p>\n\n<p>I also tried to load the libqxt project into the Creator (which I would like to prefer) \nbut the compile output windows show the following</p>\n\n<pre><code> 11:05:50: Running build steps for project libqxt...\n 11:05:50: Starting: \"c:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2010\\bin\\qmake.exe\"\n C:\\temp\\Project\\libqxt\\libqxt\\libqxt.pro -r -spec win32-msvc2010 \"CONFIG+=declarative_debug\"\n WARNING: features.path is not defined: install target not created\n\n 11:05:50: The process \"c:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2010\\bin\\qmake.exe\" exited normally.\n 11:05:50: Starting: \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" \n\n jom 1.0.6 - empower your cores\n\n 11:05:51: The process \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" exited normally.\n</code></pre>\n\n<p>But that did not compile either  <br>\n(WARNING: features.path is not defined: install target not created)</p>\n\n<p>When it compiles, how do I \"add\" the libqxt to the rest of the Qt environment so another project can \"see\" the libqxt libraries, is it by \"Deploy All\" ?</p>\n\n<p>Regards Stefan</p>\n"},{"tags":["c++","qt","gui","qt4","tabs"],"answer_count":6,"favorite_count":1,"up_vote_count":10,"down_vote_count":1,"view_count":1231,"score":9,"question_id":5099917,"title":"QDockWidget Draggable Tabs","body":"<p>I am using QDockWidgets and placing two of them on the left side of my application so that tabs can be used to select between them.  However, Qt's default behavior for this looks horrible and is unintuitive.  Instead of being able to drag the tabs to move the widgets, it places another bar below the selected tab (with the same name) that must be dragged instead.  As a user, it would be hard to figure this out.</p>\n\n<p><img src=\"http://i.stack.imgur.com/00NH8.png\" alt=\"enter image description here\"></p>\n\n<p>(My QDockWidgets are \"Attributes\" and \"Library\")</p>\n\n<p>Is there a way to get rid of this second bar and make it so I can move my QDockWidgets by dragging the tabs themselves?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12383177,"title":"Fitting the label text of tab widet Qt","body":"<p>I have a tab widget with two tabs in it in my Qt application. When I set the label text for a tab to a long word like 'Difference', some of the text goes out of the boundary of the tab and is not shown. How do I fix this so that the entire label text fits exactly in the tab?</p>\n\n<p>Thanks,\nRakesh.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":8,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":15158,"score":4,"question_id":3360548,"title":"Console output in a Qt GUI app?","body":"<p>I have a Qt GUI application running on Windows that allows command-line options to be passed and under some circumstances I want to output a message to the console and then quit, for example:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n  QApplication a(argc, argv);\n\n  if (someCommandLineParam)\n  {\n    std::cout &lt;&lt; \"Hello, world!\";\n    return 0;\n  }\n\n  MainWindow w;\n  w.show();\n\n  return a.exec();\n}\n</code></pre>\n\n<p>However, the console messages do not appear when I run the app from a command-prompt.  Does anyone know how I can get this to work?</p>\n"},{"tags":["c++","multithreading","qt","qthread"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":8403433,"title":"QReadWriteLock Recursion mode not working","body":"<p>Under Linux qt 4.7.4 using gcc 4.4.3\nthe following code compiles fine and gives no runtime error.</p>\n\n<pre><code>class TestThread: public QThread {\n  private:\n      QReadWriteLock mutex;\n\n  public:\n    bool mStop;\n\n    TestThread(): mutex(QReadWriteLock::NonRecursive),mStop(false) {}\n    void run() {\n      while(!mStop) {\n        mutex.lockForRead();        \n        qDebug() &lt;&lt; \"Tread running\";\n        msleep(100);        \n      }\n    }\n};\n</code></pre>\n\n<p>The lock is locked by the same thread several times and nothing happens. According to the manual <a href=\"http://doc.qt.nokia.com/4.7.1/qreadwritelock.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7.1/qreadwritelock.html</a></p>\n\n<p>the lock should only be lockable once by the same thread. Is this some serious bug or am I misunderstanding the manual ?</p>\n\n<p>In Reply to Chris: The lock has to be unlocked several times in NonRecursive as well, the following code never prints \"Writing\" if one unlock is commented out.</p>\n\n<pre><code>class TestThread: public QThread {\n  private:\n    QReadWriteLock mutex;\n\n  public:\n    TestThread(): mutex(QReadWriteLock::NonRecursive){}\n    void run() {\n        mutex.lockForRead();\n        mutex.lockForRead();\n        qDebug() &lt;&lt; \"Tread running\";\n        //mutex.unlock();\n        mutex.unlock();\n        mutex.lockForWrite();\n        qDebug() &lt;&lt; \"Writing\";\n        mutex.unlock();\n        msleep(50);\n    }\n};\n\n\nint main(int argc, char *argv[]) {\n  TestThread myThread;\n\n  myThread.start();\n  usleep(500000);\n  myThread.terminate();\n}\n</code></pre>\n"},{"tags":["qt","inheritance","qt4","signals-slots","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12380107,"title":"In QTableView, What \"signal\" triggers the editing mode","body":"<p>I'm trying to write some Inherit class (Let's call  it A) from QTableView, and hope to overwrite the slot</p>\n\n<blockquote>\n  <p>void edit ( const QModelIndex &amp; index )</p>\n</blockquote>\n\n<p>from QAbstractItemView. I know that this function can trigger editing mode, but here is my question: I hope that whenever editing mode are triggered by user in this class A, the program can go inside the overwritten slot <strong>A::edit</strong>.</p>\n\n<p>However, it seems only when <strong>A::edit</strong> are directly called, the program can get in. </p>\n\n<p>Since QTableView comes from QAbstractItemView, if the editing mode is triggered by other way(such as mouse double click), the program will run default <strong>QAbstractItemView::edit</strong> instead of <strong>A::edit</strong>.</p>\n\n<p>I tried to connect the signal \"activated\", but apparently it's not the correct signal to trigger editing mode. Is there anyway to do something every time when an editor is triggered?</p>\n\n<p>Also, I'd like to do something when the editing mode is ended by pressing Enter or ESC or mouse clicking on other place. The same situation happens at the slot </p>\n\n<blockquote>\n  <p>void editorDestroyed ( QObject * editor )</p>\n</blockquote>\n\n<p>Can anyone help me to solve this problem?\nI'll really appreciate it, thanks!</p>\n"},{"tags":["c++","qt","inline"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12347916,"title":"Calling an inline function from an inline function call?","body":"<p>I noticed that both std::min and std::max are inlined in the stl_algobase.h header and I'm wondering if a line like this can be problematic to (any, but especially gcc) compiler:</p>\n\n<pre><code>a = std::max(b, std::min(c, d));\n</code></pre>\n\n<p>What actually happens here when this expression is inlined?</p>\n\n<hr>\n\n<p><strong>Explanation:</strong></p>\n\n<p>I've had <a href=\"http://stackoverflow.com/questions/12297478/a-change-in-eventfilter-function-causes-weird-qgraphicscene-behavior\">this</a> bug that didn't make sense at all. I traced the error to these lines:</p>\n\n<pre><code>float mouseScenePosX = mouseEvent-&gt;scenePos().x();\nmouseScenePosX = max((float)0,\n    min(mouseScenePosX, (float)scene-&gt;getSceneRect().width()-1));\n</code></pre>\n\n<p>I always get 0 in mouseScenePosX, although both mouseScenePosX and scene->getSceneRect().width()-1 are larger than 0.\nStrangely, when I removed the -O2 flag from the makefile the bug disappeared, and also, when I used my own min and max implementations.\nSo, I'm wondering whether it can be caused by an error in the inlining.</p>\n"},{"tags":["c++","qt","stdout","cout"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1443,"score":2,"question_id":7565941,"title":"Qt standard output. cout does no print","body":"<p>I saw this question already on this forum but i do not know why the proposed answer does not work in my case. So I try to ask for other slution.</p>\n\n<p>I'm a complete newby in c++ Qt programming.\nI just got my Qt crator running under linux.</p>\n\n<p>i do not understand why my: </p>\n\n<pre><code>cout &lt;&lt; \"This does not appear\";\n</code></pre>\n\n<p>does not print in console while qdebug does</p>\n\n<pre><code>qDebug() &lt;&lt; \"This appears\";\n</code></pre>\n\n<p>this is what is contained in my .pro file:</p>\n\n<pre><code>QT       += core gui\n\nTARGET = aaa\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp \\\n    IeplcModule.cpp\n\nHEADERS  += mainwindow.h \\\n    IeplcModule.h\n\nFORMS    += mainwindow.ui\n\n#enable console\nCONFIG += console\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>Cheers,</p>\n\n<p>Stefano</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":433,"score":2,"question_id":8427446,"title":"Making QLabel behave like a hyperlink","body":"<p>how can I make a QLabel to behave like a link? What I mean is that I'd like to be able to click on it and then this would invoke some command on it.</p>\n"},{"tags":["python","qt","pyqt4","ipython"],"answer_count":3,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":663,"score":2,"question_id":11513132,"title":"Embedding IPython Qt console in a PyQt application","body":"<p>I'd like to embed an IPython qt console widget in a PyQt application I am working on. The code provided below (and adapted from <a href=\"http://stackoverflow.com/a/9796491/1332492\">http://stackoverflow.com/a/9796491/1332492</a>) Accomplishes this for IPython v0.12. However, this crashes in IPython v0.13 at the line <code>self.heartbeat.start()</code> with <code>RuntimeError: threads can only be started once</code>. Commenting out this line brings up the widget, but doesn't respond to user input.</p>\n\n<p>Does anyone know how to achieve the equivalent functionality for IPython v0.13?</p>\n\n<pre><code>\"\"\"\nAdapted from\nhttp://stackoverflow.com/a/9796491/1332492\n\"\"\"\nimport os\nimport atexit\n\nfrom IPython.zmq.ipkernel import IPKernelApp\nfrom IPython.lib.kernel import find_connection_file\nfrom IPython.frontend.qt.kernelmanager import QtKernelManager\nfrom IPython.frontend.qt.console.rich_ipython_widget import RichIPythonWidget\nfrom IPython.config.application import catch_config_error\nfrom PyQt4 import QtCore\n\n\nclass IPythonLocalKernelApp(IPKernelApp):\n    DEFAULT_INSTANCE_ARGS = ['']\n\n    @catch_config_error\n    def initialize(self, argv=None):\n        super(IPythonLocalKernelApp, self).initialize(argv)\n        self.kernel.eventloop = self.loop_qt4_nonblocking\n\n    def loop_qt4_nonblocking(self, kernel):\n        \"\"\"Non-blocking version of the ipython qt4 kernel loop\"\"\"\n        kernel.timer = QtCore.QTimer()\n        kernel.timer.timeout.connect(kernel.do_one_iteration)\n        kernel.timer.start(1000*kernel._poll_interval)\n\n    def start(self, argv=DEFAULT_INSTANCE_ARGS):\n        \"\"\"Starts IPython kernel app\n        argv: arguments passed to kernel\n        \"\"\"\n        self.initialize(argv)\n        self.heartbeat.start()\n\n        if self.poller is not None:\n            self.poller.start()\n\n        self.kernel.start()\n\n\nclass IPythonConsoleQtWidget(RichIPythonWidget):\n    _connection_file = None\n\n    def __init__(self, *args, **kw):\n        RichIPythonWidget.__init__(self, *args, **kw)\n        self._existing = True\n        self._may_close = False\n        self._confirm_exit = False\n\n    def _init_kernel_manager(self):\n        km = QtKernelManager(connection_file=self._connection_file, config=self.config)\n        km.load_connection_file()\n        km.start_channels(hb=self._heartbeat)\n        self.kernel_manager = km\n        atexit.register(self.kernel_manager.cleanup_connection_file)\n\n    def connect_kernel(self, connection_file, heartbeat=False):\n        self._heartbeat = heartbeat\n        if os.path.exists(connection_file):\n            self._connection_file = connection_file\n        else:\n            self._connection_file = find_connection_file(connection_file)\n\n        self._init_kernel_manager()\n\n\ndef main(**kwargs):\n    kernelapp = IPythonLocalKernelApp.instance()\n    kernelapp.start()\n\n    widget = IPythonConsoleQtWidget()\n    widget.connect_kernel(connection_file=kernelapp.connection_file)\n    widget.show()\n\n    return widget\n\nif __name__ == \"__main__\":\n    from PyQt4.QtGui import QApplication\n    app = QApplication([''])\n    main()\n    app.exec_()\n</code></pre>\n\n<p>Traceback for v0.13</p>\n\n<pre><code>RuntimeError                              Traceback (most recent call last)\n/Users/beaumont/terminal.py in &lt;module&gt;()\n     80     from PyQt4.QtGui import QApplication\n     81     app = QApplication([''])\n---&gt; 82     main()\n        global main = &lt;function main at 0x106d0c848&gt;\n     83     app.exec_()\n\n/Users/beaumont/terminal.py in main(**kwargs={})\n     69 def main(**kwargs):\n     70     kernelapp = IPythonLocalKernelApp.instance()\n---&gt; 71     kernelapp.start()\n        kernelapp.start = &lt;bound method IPythonLocalKernelApp.start of     &lt;__main__.IPythonLocalKernelApp object at 0x106d10590&gt;&gt;\n     72 \n     73     widget = IPythonConsoleQtWidget()\n\n/Users/beaumont/terminal.py in start(self=&lt;__main__.IPythonLocalKernelApp object&gt;, argv=[''])\n     33         \"\"\"\n     34         self.initialize(argv)\n---&gt; 35         self.heartbeat.start()\n        self.heartbeat.start = &lt;bound method Heartbeat.start of &lt;Heartbeat(Thread-1, started daemon 4458577920)&gt;&gt;\n     36 \n     37         if self.poller is not None:\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.pyc in start(self=&lt;Heartbeat(Thread-1, started daemon 4458577920)&gt;)\n    487             raise RuntimeError(\"thread.__init__() not called\")\n    488         if self.__started.is_set():\n--&gt; 489             raise RuntimeError(\"threads can only be started once\")\n        global RuntimeError = undefined\n    490         if __debug__:\n    491             self._note(\"%s.start(): starting thread\", self)\n\nRuntimeError: threads can only be started once\n</code></pre>\n"},{"tags":["c++","qt","ip","cidr"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":185,"score":0,"question_id":12363596,"title":"How to determine whether my internet IP belongs to a given IP list using Qt","body":"<p>I have following IP list (in CIDR format) stored in a TXT file:&lt;</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>58.200.0.0/13\n202.115.0.0/16\n121.48.0.0/15\n219.224.128.0/18\n...\n</code></pre>\n\n<p>But I don't know how can I determine whether my IP belongs to this list. I use the Qt C++ framework on Windows platform.</p>\n"},{"tags":["qt","matlab"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":12371515,"title":"How to run a file.m from qt","body":"<p>I have a file.m, which is a file from matlab, and I want it to run when I run my qt project. </p>\n\n<p>I noticed I could use this <code>-r MATLAB_command    - Start MATLAB and execute the MATLAB_command.</code></p>\n\n<p>and this, </p>\n\n<pre><code>-nodesktop           - Do not start the MATLAB desktop. Use the current\n                           terminal for commands. The Java virtual machine\n                           will be started.\n</code></pre>\n\n<p>from the matlab help, but i'm not sure if I'm thinking the right way.</p>\n\n<p>My main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n#include &lt;cmath&gt;\n\n#include &lt;QProcess&gt;\n#include \"planevolume.h\"\n#include \"dialog.h\"\n\nint main(int argc, char *argv[])\n{\n    // Start MATLAB MAIN.m\n    QProcess* p = new QProcess(NULL);\n    p-&gt;start( QString( \"/usr/local/MATLAB/R2011b/bin/matlab\"),\n              QStringList() &lt;&lt; QString(\"-r /home/matt/Desktop/PlaneVolumeExec/MAIN.m\")\n                            &lt;&lt; QString(\"-nosplash\")\n                            &lt;&lt; QString(\"-nodesktop\"));\n\n    QApplication app(argc, argv);\n\n    Dialog *dialog= new Dialog;\n\n    if (dialog-&gt;exec())\n    {\n        planevolume mainwindow(dialog-&gt;getdirprefix(),dialog-&gt;getxpax(), dialog-&gt;getypax(), dialog-&gt;getzpax(), dialog-&gt;getxmmax(), dialog-&gt;getymmax(), dialog-&gt;getzmmax(), dialog-&gt;getintzminp(), dialog-&gt;getintzmaxp(), dialog-&gt;getintzminm(), dialog-&gt;getintzmaxm());\n        mainwindow.show();\n        return app.exec();\n    }\n\nreturn 0;\n}\n</code></pre>\n\n<p>Matlab help</p>\n\n<pre><code>/*-h|-help             - Display arguments.\n    -n                   - Display final environment variables,\n                           arguments, and other diagnostic\n                           information. MATLAB is not run.\n    -e                   - Display ALL the environment variables and\n                           their values to standard output. MATLAB\n                           is not run. If the exit status is not\n                           0 on return then the variables and values\n                           may not be correct.\n    -arch                - Start MATLAB assuming architecture arch.\n    v=variant            - Start the version of MATLAB found\n                           in bin/glnxa64/variant instead of bin/glnxa64.\n    v=arch/variant       - Start the version of MATLAB found\n                           in bin/arch/variant instead of bin/glnxa64.\n    -c licensefile       - Set location of the license file that MATLAB\n                           should use.  It can have the form port@host or\n                           be a colon separated list of license files.\n                           The LM_LICENSE_FILE and MLM_LICENSE_FILE\n                           environment variables will be ignored.\n    -display Xdisplay    - Send X commands to X server display, Xdisplay.\n    -nodisplay           - Do not display any X commands. The MATLAB\n                           desktop will not be started. However, unless\n                           -nojvm is also provided the Java virtual machine\n                           will be started.\n    -nosplash            - Do not display the splash screen during startup.\n    -mwvisual visualid   - The default X visual to use for figure windows.\n    -debug               - Provide debugging information especially for X\n                           based problems.\n    -desktop             - Allow the MATLAB desktop to be started by a\n                           process without a controlling terminal. This is\n                           usually a required command line argument when\n                           attempting to start MATLAB from a window manager\n                           menu or desktop icon.\n    -nodesktop           - Do not start the MATLAB desktop. Use the current\n                           terminal for commands. The Java virtual machine\n                           will be started.\n    -nojvm               - Shut off all Java support by not starting the\n                           Java virtual machine. In particular the MATLAB\n                           desktop will not be started.\n    -jdb [port]          - Enable remote Java debugging on port (default 4444)\n    -r MATLAB_command    - Start MATLAB and execute the MATLAB_command.\n    -logfile log         - Make a copy of any output to the command window\n                           in file log. This includes all crash reports.\n    -Ddebugger [options] - Start debugger to debug MATLAB.*/\n</code></pre>\n"},{"tags":["qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":147,"score":1,"question_id":12372301,"title":"Sharing data across Qt threads","body":"<p>I'm new to Qt so please excuse the simplicity of the question but I'm a bit confused on the Qt threading.  Let's say I have 3 threads: the main default GUI thread, and 2 threads of my own creation (called WorkerThread).  Each of my WorkerThreads inherits from QThread and are permanent threads that every so often wake up and send data out a socket and post status on a GUI element.  How is the best way to 1) allow the GUI thread to set data in the WorkerThread object that the WorkerThread thread can use? 2) allow the WorkerThread to send status to the GUI thread to be displayed for the user? 3) Allow both WorkerThreads to use the same socket?  </p>\n\n<p>It seems from the documentation that when I create a WorkerThread object it is owned by the creating thread (except for the run method that is a new thread).  So how does one set data for the new thread to execute on?  Must all the data the new thread uses be global?  For instance, I would like the GUI to allow the user to select a packet type for each of the WorkerThreads to send when they wake up.  I had assumed that I would put in some slots in the WorkerThread that the GUI thread would signal. When the WorkerThread object received a signal to SetPacketType it would set a member variable that the run method references on each iteration.  But after reading the documentation I'm not sure that is the way to do it.  If the WorkerThread object is owned by the creating thread (GUI thread in this case) then sending signals to it doesn't cross thread boundaries does it?</p>\n\n<p>Also, what is the proper technique for sharing the socket connection across threads?</p>\n\n<p>Thanks in advance.</p>\n"}]}
{"total":16229,"page":18,"pagesize":100,"questions":[{"tags":["c++","qt","enums"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":132,"score":2,"question_id":12368712,"title":"How to use enums in Qt signals and slots","body":"<p>I have some trouble with using <code>enum</code> types in signals. Basicly I have two classes, a state machine and a thread handling the state machine. When the state is changed I want to send a signal with the new state. I also want to represent the state using an <code>enum</code>. In my full blown code the state machine is implemented in a separate shared library, but the code below gives the exact same error.</p>\n\n<p>When I run the code I get the following behaviour:</p>\n\n<pre><code>kotte@EMO-Ubuntu:sigenum $ ./sigenum \nObject::connect: No such slot MyThread::onNewState(state)\nTest signal \nTest signal \n...\n</code></pre>\n\n<p>I have four files in my sample code: <code>statemachine.h</code>, <code>statemachine.cpp</code>, <code>main.h</code> and <code>main.cpp</code>. The main function simply starts the thread, the thread then creates an instance of the <code>StateMachine</code> and processes signals from the <code>StateMachine</code>. I am pretty new to Qt, so I was a bit puzzled when I realised that you have to enclose the enum with <code>Q_ENUMS</code> and register it with the type system. So It's fully possible that I've made some rookie mistake</p>\n\n<p>The code below is a bit long, but I wanted it to be as similar to my real code as possible.</p>\n\n<p><code>statemachine.h</code> looks like:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// statemachine.h\n#ifndef _STATEMACHINE_H\n#define _STATEMACHINE_H\n\n#include &lt;QtCore&gt;\n\nclass StateMachine : public QObject\n{\n    Q_OBJECT\n    Q_ENUMS(state)\n\npublic:\n    enum state {S0, S1, S2};\n\n    void setState(state newState);\n\nsignals:\n    void stateChanged(state newState);\n    void testSignal(void);\n};\n\nQ_DECLARE_METATYPE(StateMachine::state);\n\n#endif\n</code></pre>\n\n<p>And it is implemented as:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// statemachine.cpp\n#include &lt;QtCore&gt;\n\n#include \"statemachine.h\"\n\nvoid StateMachine::setState(state newState)\n{\n    emit stateChanged(newState);\n    emit testSignal();\n}\n</code></pre>\n\n<p>The thread is defined as</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// main.h\n#ifndef _MAIN_H\n#define _MAIN_H\n\n#include &lt;QtCore&gt;\n\n#include \"statemachine.h\"\n\nclass MyThread : public QThread\n{\n    Q_OBJECT\n\nprivate:\n    void run(void);\n\nprivate slots:\n    void onNewState(StateMachine::state);\n    void onTestSignal(void);\n\nprivate:\n    StateMachine *myStateMachine;\n};\n\n#endif\n</code></pre>\n\n<p>And it is implemented as follows:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// main.cpp\n#include &lt;QtCore&gt;\n#include &lt;QApplication&gt;\n\n#include \"statemachine.h\"\n#include \"main.h\"\n\nvoid MyThread::run()\n{\n    myStateMachine = new StateMachine();\n\n    qRegisterMetaType&lt;StateMachine::state&gt;(\"state\");\n\n    // This does not work\n    connect(myStateMachine, SIGNAL(stateChanged(state)),\n            this, SLOT(onNewState(state)));\n\n    // But this does...\n    connect(myStateMachine, SIGNAL(testSignal()),\n            this, SLOT(onTestSignal()));\n\n    forever {\n        // ...\n        myStateMachine-&gt;setState(StateMachine::S0);\n    }\n}\n\nvoid MyThread::onTestSignal()\n{\n    qDebug() &lt;&lt; \"Test signal\";\n}\n\nvoid MyThread::onNewState(StateMachine::state newState)\n{\n    qDebug() &lt;&lt; \"New state is:\" &lt;&lt; newState;\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12368959,"title":"QTreeview : How to change the defalut position of the text item","body":"<p>Could you please let me know how to chage the position of the item in QTreeView.By default the item displayed at Left most and in the center of the item box.But how should i change it so that it will display in top </p>\n"},{"tags":["string","qt","split"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12353306,"title":"Splitting Strings by slashes","body":"<p>I'm just wondering how i can split a string by both front slashes (/) &amp; backslashes (). So for example, these types of strings;</p>\n\n<pre><code>\"X:/Blah/blah/\"\n\"X:\\Blah\\blah\\\"\n</code></pre>\n\n<p>And also mixed slashes;</p>\n\n<pre><code>\"X:/Blah\\blah/\"\n</code></pre>\n\n<p>Would work &amp; in each case return:\n   \"X:\", \"Blah\", \"blah\" </p>\n\n<p>I believe i will need to use a QRegExp, <a href=\"http://doc.qt.nokia.com/4.7-snapshot/qregexp.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/qregexp.html</a> but i'm just not sure what character set i will need to use. </p>\n"},{"tags":["c++","osx","qt","qtreeview","qfilesystemmodel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":119,"score":2,"question_id":12357756,"title":"QFileSystemModel setRootPath","body":"<p>I am attempting to create a Qt application which shows the contents of a folder (“Users” folder in Mac OS).\nHere is the code:</p>\n\n<pre><code>QFileSystemModel *dirModel = new QFileSystemModel;\ndirModel-&gt;setRootPath(\"/Users\");\n\nui-&gt;listView-&gt;setModel(dirModel);\n</code></pre>\n\n<p>I also attempted using <a href=\"http://stackoverflow.com/questions/9877796/setrootpath-with-qt-qfilesystemmodel-on-mac-os-x\">this code</a></p>\n\n<p>When i run the application, instead of showing the content of the “/Users” Folder, it shows the root drive (note: not the content of the drive). The folder does exist and i also tried using other folders.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12368523,"title":"QTreeView How to change vertical scroll bar styles(shape and color etc)?","body":"<p>Could you pls tell me for class QTreeView How to change vertical scroll bar styles(shape and color etc) through coding?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","lgpl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12366469,"title":"LGPL compliance on embedded devices","body":"<p>Having a good think about using Qt on an embedded platform (Windows CE device) including licensing options, and have a question for which I haven't been able to find much in the way of existing discussion.  Now I know I should be asking a lawyer an all that, but it would help to hear what others think.</p>\n\n<p>Am I right in thinking that when distributing an embedded device that incorporates LGPLed software, in order to comply with the license we would need to provide the recipients with the ability update/modify the LGPL code on the device as and when they saw fit, if such an upgrade was at all possible?</p>\n\n<p>Thanks</p>\n\n<p>Richard</p>\n"},{"tags":["javascript","c++","qt","webkit","device"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1639,"score":1,"question_id":4264601,"title":"Qt programming: How to extend Javascript API in webkit","body":"<p>I am new to Qt and what I am trying to do is:</p>\n\n<ol>\n<li>Create a Linux app using the Qt framework.</li>\n<li>This app displays some web pages from the Internet.</li>\n<li>I want to extend the JavaScript API to access some device and device based data, which means some devices can be controlled using JavaScript in Webkit.</li>\n</ol>\n\n<p>But how do I add some customized functions/classes to Webkit in Qt?</p>\n"},{"tags":["c++","qt","gps","symbian","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12367953,"title":"Why Symbian can't obtain user's position?","body":"<p>I have the Symbian/MeeGo project which uses qt-mobility to obtain user's location.\nThe problem is that the following code works fine on Meego (Nokia N9) and doesn't work at all on Symbian (tested on C6-01 and N8). \nIt looks like the GPS adapter starts fine but it can't receive any position info. So we can see the \"Satellite\" icon near system clock but no coordinates are receiving. I've tested in a different conditions (inside/outside building, different weather conditions) and the result is always the same.</p>\n\n<p>What can be the reason of this behaviour?</p>\n\n<p>My code:</p>\n\n<p>.pro</p>\n\n<pre><code>&lt;...&gt;\nCONFIG += mobility\nMOBILITY += location\nsymbian:TARGET.CAPABILITY += NetworkServices Location\n&lt;...&gt;\n</code></pre>\n\n<p>.h</p>\n\n<pre><code>&lt;...&gt;\n#include &lt;QGeoPositionInfoSource&gt;\n#include &lt;QGeoPositionInfo&gt;\n#include &lt;QDebug&gt;\n&lt;...&gt;\nQTM_USE_NAMESPACE\n\nprivate:\n   QGeoPositionInfoSource* mManager;\n\nprivate slots:\n   void newPos(QGeoPositionInfo);\n&lt;...&gt;\n</code></pre>\n\n<p>.cpp</p>\n\n<pre><code>&lt;...&gt;\n mManager = QGeoPositionInfoSource::createDefaultSource(this);\n mManager-&gt;setUpdateInterval(1000);\n mManager-&gt;setPreferredPositioningMethods(QGeoPositionInfoSource::AllPositioningMethods);\n\n connect(mManager, SIGNAL(positionUpdated(QGeoPositionInfo)),\n            this, SLOT(newPosition(QGeoPositionInfo)));\n&lt;...&gt;\nvoid QmlContext::newPosition(QGeoPositionInfo pos){\n    qDebug() &lt;&lt; pos;\n}\n&lt;...&gt;\n</code></pre>\n"},{"tags":["c++","qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":12366881,"title":"Changing cursor hides the cursor","body":"<p>In my Qt application I am saving some data when application is being closed. Saving data is performed in the closeEvent(QCloseEvent*) method. I wanted to change the cursor before the saving data and restore it back after saving.</p>\n\n<p>From what I have read over the Internet the setCursor( const QCursor&amp; ) doesn't work globally, but only in the scope of some specified widget. Therefore I tried to use SetCursor( HCURSOR ) from WinAPI.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>void mainWin::closeEvent( QCloseEvent* e ) {\n    SetCursor( LoadCursor( GetModuleHandle( NULL ), ( LPCWSTR )IDC_WAIT ) );\n    saveData();\n    SetCursor( LoadCursor( GetModuleHandle( NULL ), ( LPCWSTR )IDC_ARROW ) );\n    e-&gt;accept();\n}\n</code></pre>\n\n<p>However, the first SetCursor() method just hides the cursor for the time when the data is saving instead of changing it to some kind of hourglass. Why?</p>\n"},{"tags":["qt","qt-creator","qml","qt4.7","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12192780,"title":"QML: Assigning Keyboard Shortcuts to QML Components","body":"<p>I am deep into building a Desktop Application with QML and QT Creator and I am currently researching keyboard handling and how it works with QML elements. I am already aware of the lack of proper QML replacements for Desktop Widgets.</p>\n\n<p>My current problem is that I wish to assign some global keyboard shortcuts to some particular QML components (like assigning keyboard shortcuts to buttons on the GUI) which should activate them. The best I could manage is to use FocusScopes and Key Navigation to be able to just navigate the GUI via keyboards, but this isn't the same thing.</p>\n\n<p>Can anyone suggest what to do in this scenario? Is there any such feature coming in with QT 5? I couldn't find any information on this on the internet.</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","fonts","pango"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12365493,"title":"Font weights in Pango and Qt","body":"<p>I'm converting some Pango code to Qt, and regarding font weight, Pango appears to use a scale from (0?) 100 to 1000, whereas Qt uses a scale from 0 to 99. Are the scales linear; can I simply divide the Pango weight by 9.9 and obtain the correct result?</p>\n\n<p>The reason I ask is because Qt's \"normal\" is weight 50 (half its own scale) whereas Pango's \"normal\" is weight 400... which is less than half its own scale.</p>\n"},{"tags":["c++","image","qt","qtextedit"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1856,"score":2,"question_id":3254652,"title":"Several ways of placing an image in a QTextEdit","body":"<p>I think this is a very simple question, but when I copy an image I can't paste it in a QTextEdit? Paste is inactive! Also I would like to know <strong>how to drag-and-drop a picture.</strong></p>\n\n<p>BTW I use the following code in order to insert a picture into a QTextEdit:</p>\n\n<pre><code>QTextEdit *textEditor = new QTextEdit(0);\nQTextDocumentFragment fragment;\nfragment = QTextDocumentFragment::fromHtml(\"&lt;img src='C:\\\\aaa.jpg'&gt;\");\ntextEditor-&gt;textCursor().insertFragment(fragment);\ntextEditor-&gt;setVisible(true);\n</code></pre>\n\n<p>Is it recommended? How do you do this operation?</p>\n"},{"tags":["visual-studio","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12336825,"title":"Add struct in Visual Studio [Visualizer]?","body":"<p>I'm trying to add a section for QHostAddress in the [Visualizer] section of autoexp.dat, but the data in QHostAddress is actually held in QHostAddressPrivate which isn't known to Visual Studio (because it's private to Qt). Is there any way of defining a struct in autoexp.dat, casting an unknown pointer or something similar so I can show the IP address held within?</p>\n\n<p>Update:</p>\n\n<p>I played around with this and managed to get the code below to work. However, it's a bit clunky for several reasons:</p>\n\n<ol>\n<li>It's using a lot of casting. It would be much neater to declare a struct and use this.</li>\n<li>I can only show the IPv6 groups as hex with the '0x' header which makes the address a bit messy.</li>\n<li>I'd like to be able to show both the IPv4 and IPv6 data as children but I can't figure out how to create strings with multiple parts in the \"children\" section.</li>\n<li>Visual Studio won't accept colons in the IPv6 address, even when declared in a string. If I do this I get the error:</li>\n</ol>\n\n<blockquote>\n  <p>ERROR! Autoexp.dat:line(1687) for 'QHostAddress|<em>::QHostAddress':\n  Expected ')' for end of #else\n  ERROR! Autoexp.dat:line(1687) for 'QHostAddress|</em>::QHostAddress':\n  Preview rule failed to parse\n  ERROR! Autoexp.dat:line(1687) for 'QHostAddress|*::QHostAddress':\n  Failed to match ')' for preview/children rule</p>\n</blockquote>\n\n<pre><code>[Visualizer]\n;QT_DEBUG_START\nQHostAddress|*::QHostAddress{\n    preview\n    (\n        #(\n            #if (*((quint32 *)$c.d.d) != 0) (\n                #(\"IPv4=\", [*(((quint8 *)$e.d.d) + 3), u],\n                \".\", [*(((quint8 *)$e.d.d) + 2), u],\n                \".\", [*(((quint8 *)$e.d.d) + 1), u],\n                \".\", [*(((quint8 *)$e.d.d) + 0), u])\n            ) #elif ((*(((quint32 *)$e.d.d) + 1)) + (*(((quint32 *)$e.d.d) + 2)) + (*(((quint32 *)$e.d.d) + 3)) + (*(((quint32 *)$e.d.d) + 4)) != 0) (\n                #(\"IPv6=\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x04) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x05))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x06) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x07))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x08) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x09))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x0A) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x0B))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x0C) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x0D))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x0E) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x0F))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x10) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x11))), x],\n                \".\",\n                [(quint16)((*(((quint8 *)$e.d.d) + 0x12) &lt;&lt; 0x8) | (*(((quint8 *)$e.d.d) + 0x13))), x])\n            )\n        )\n    )\n    children\n    (\n        #(\n            [d]: [$c.d.d, x]\n        )\n    )\n}\n;QT_DEBUG_END\n</code></pre>\n"},{"tags":["qt","text","scroll","scrollview","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12351819,"title":"Qt - Scrolling the Text under a widget","body":"<p>Can anyone plz try to solve my problem. i have a frame, in that am scrolling a text. now i have added 2 widgets at both the ends of the frame. Using the stylesheet i had changed the color of the 2 widgets in black color. Now my text starts scrolling above the black color of the widget. But what i want to do is, the <strong><em>text should start scroll below the widget</em></strong> and it should <strong><em>end by scrolling below the widget</em></strong>. How can i do this? Hope u guyz got my question... Herewith i had attached the screenshot of my frame for your reference. Plz Help.. Thanks in Advance.!</p>\n\n<p><img src=\"http://i.stack.imgur.com/GeceG.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","window","shadow","borderless"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12347776,"title":"How to put a shadow to a Frameless window in Qt","body":"<p>I'm trying to create a Frameless window that has a shadow under it.When we create a borderless window with <strong>Qt::FramelessWindowHint</strong> flag it doesn't contain a shadow.\nBut we can put shadows to a child widgets easy by creating a <strong>QGraphicsDropShadowEffect</strong> object and then pass it to the widget through <strong>setGraphicsEffect</strong> function. But this doesn't seem to work for QMainWindow. Please help me to put shadow to a frameless window in Qt...  </p>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12362486,"title":"Rotating a QLabel with Mouse Drag","body":"<p>I am sub-classing a <code>QLabel</code> and am trying to rotate it as the user drags (or rotates) an image with the mouse. Currenty I am just rotating clock-wise with every mouse moved event:</p>\n\n<pre><code>void RotoTest::slotMouseMoved()\n{\n    currentRotation += 1;\n    rotate(currentRotation % 360);\n}\n\nvoid RotoTest::rotate(int degree)\n{\n    QPixmap pixmap(originalPixmap);\n    QPixmap rotatedMap(pixmap.size());\n    QPainter p(&amp;rotatedMap);\n    p.translate(pixmap.size().width() / 2, pixmap.size().height() / 2);\n    p.rotate(degree);\n    p.translate(-pixmap.size().width() / 2, -pixmap.size().height() / 2);\n    p.drawPixmap(0, 0, pixmap);\n    this-&gt;setPixmap(rotatedMap);\n}\n</code></pre>\n\n<p>This works and rotates, but the problem is that the image becomes very laggy, jittery and unresponsive, especially the quicker or longer the mouse is moved for a given instance. I suspect this is happening due to the large amount of signals being sent when the mouse moves. Does anybody have any suggestions for a way for a nice smooth rotation? I am looking for the image to rotate as nicely as the <code>QDial</code> does.</p>\n"},{"tags":["c++","c","qt","curl","libcurl"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12360994,"title":"cUrl command C++ code replacement","body":"<p>I have this cUrl command that I need to execute in my C++ program under Linux, I am using Qt how and included libcUrl, I need to know the exact method call that is equavilant to this cUrl command:</p>\n\n<pre><code>curl -d 'grant_type=client_credentials&amp;client_id=mdme2323&amp;client_secret=asdaeqwedsa24124ewesiou&amp;scope=http://api.microsofttranslator.com' https://datamarket.accesscontrol.windows.net/v2/OAuth2-13 | python -m json.tool\n</code></pre>\n"},{"tags":["qt","internationalization","lgpl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12361876,"title":"Qt LGPL and .qm/ts file licence","body":"<p>I'm writing a small application based on Qt (LGPL). I do not want to release the source code of the application, so I've linked dinamically to the Qt libraries.</p>\n\n<p>My question is, if I have to include the translations (for example in a Qt resource file - .qrc), under which licence I have to distribute it?</p>\n\n<p>This translations are tipically the .qm files, which are binary compilations of the .ts files, so are to be considered \"derivative works\" even if I do not change them?</p>\n"},{"tags":["c++","qt","user-interface","dialog","qmainwindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12361039,"title":"Taking data from a Dialog in Qt and using it in a Ui","body":"<p>So I'm making a text editor using Qt and right now I have a button that opens a dialog called \"Format text\". I want it to work kind of like the dialog in notepad called \"font\" where you select a few text attributes from some drop down lists and it shows you what your text will look like. Right now I have it working where you can select the font style, font color, and font size and hit preview and it shows you in a box in the dialog what your text will look like. However, I have a button called \"okay\" which is supposed to change the highlighted text or the text you are about to type, but I can't figure out how to display those changes on the main window. The .ui files are private and a lot of the already made functions and pointers are the same in every ui file so if I change the ui file to pubic I have to change a whole bunch of things. Can anyway give me a simple answer? I'm trying to do this with as little confusion as possible. More coding and less confusion is better than less coding and more confusion for someone of my skill level. Sorry that this is all one giant paragraph and that I didn't provide any code, but I didn't think the code was necessary, however if you do need some of the code i'd be happy to share it.\n    Thank you for your help and your time. I hope you all have a nice evening.</p>\n"},{"tags":["c++","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12360111,"title":"QPushButton in QTableView","body":"<p>I'm working on a project where i'm trying to add a QPushButton into a QTableView.\nalso i want to connect that button to open a document from a database. So far i added the button and i wrote the connect statement for it but when i click on the button nothing happened.</p>\n\n<p>here is my code </p>\n\n<pre><code>void MainWindow::DocumentTable()\n{\ntableview = new QTableView;\nquery = new QSqlQueryModel(this);\nsignalMapper = new QSignalMapper(this);\n\nforeach(it,treeWidget-&gt;selectedItems())\n{\n    for (int col=0; col&lt; it-&gt;columnCount(); ++col)\n    {\n        qDebug() &lt;&lt; col &lt;&lt; it-&gt;text(col);\n\nQSqlQuery qry;\nqry.prepare(\"select * from document where Folno=:Folno\");\nqry.bindValue(\":Folno\", it-&gt;text(col));\nqry.exec();\n\n\nquery-&gt;setQuery(qry);\ntableview-&gt;setModel(query);\ntableview-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);\n\nfor (int i = 0; i&lt; 1000; i++)\n{\n    button= new QPushButton(\"Open Document\");\n    tableview-&gt;setIndexWidget(tableview-&gt;model()-&gt;index(i, 0), button);\n    signalMapper-&gt;setMapping(button, i);\n}\n\nconnect(signalMapper, SIGNAL(mapped(int)), this, SLOT(imageFROMdatabase()));\n\ntableview-&gt;show();\n\nDocwidget= new QDockWidget(this);\nDocwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\nDocwidget-&gt;setWidget(tableview);\naddDockWidget(Qt::RightDockWidgetArea,Docwidget);\n\nDocwidget-&gt;show();\n\nif(!query-&gt;submit())\n  {\n     QMessageBox::warning(0,\"Error\",query-&gt;lastError().text());\n\n  }\n\n db.close();\n\n}\n\n         }\n          }\n</code></pre>\n\n<p>and this is the slot function </p>\n\n<pre><code>   void MainWindow::imageFROMdatabase()\n {\n\n\nQSqlQuery imageQuery;\n\nimageQuery.prepare(\"SELECT * from doc_page where doc_no=:doc_no and f_number=:f_number\");\nimageQuery.bindValue(\":doc_no\", 1);\nimageQuery.bindValue(\":f_number\",1);\nimageQuery.exec();\nimageQuery.next();\n\nif( imageQuery.lastError().isValid())\n    {\n    QMessageBox::warning(0,\"Error\",imageQuery.lastError().text());\n\n  //  QSqlDatabase::database().rollback();\n     }\nelse\n{\n   // QByteArray ba1 = imageQuery.value(1).toByteArray();\n    QPixmap pic;\n    pic.loadFromData( ba);\n\nscrollArea = new QScrollArea;\nscrollArea-&gt;setBackgroundRole(QPalette::Dark);\nscrollArea-&gt;setEnabled(true);\n\nQString fileName = QFileDialog::getOpenFileName(this,\"Open Image File\",QDir::currentPath());\nQImage image(fileName);\n\nscene = new QGraphicsScene();\nview = new QGraphicsView(scene);\nitem = new QGraphicsPixmapItem(QPixmap::fromImage(image));\nscene-&gt;addItem(item);\n\n     xwidget= new QDockWidget(this);\n     xwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\n     xwidget-&gt;setWidget(view);\n     addDockWidget(Qt::RightDockWidgetArea,xwidget);\n     xwidget-&gt;show();\n\n     db.close();\n     }\n }\n</code></pre>\n\n<p>please tell if anything wrong in these codes. </p>\n"},{"tags":["qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12353178,"title":"Qt Creator not suggesting member methods of objects inside non-Qt containers","body":"<p>In Qt Creator, if I have a <code>QList&lt;SomeClass*&gt;</code> called <code>someList</code>, and I type</p>\n\n<pre><code>someList[0].\n</code></pre>\n\n<p>it shows a list of all the members of SomeClass, and converts the \".\" into \"->\", which is great. However, if I do the same with an std::vector, I get no suggestions nor a conversion. I can still type out the code myself and it will work, though.</p>\n\n<p>Is there any way I can make Qt Creator suggest the members of objects in non-Qt containers?</p>\n\n<p>I'm using Qt Creator 2.4.1.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":206,"score":0,"question_id":9877796,"title":"SetRootPath with QT, QFileSystemModel on Mac OS X","body":"<p>I'm trying to create a file explorer in qt which is working but I cannot set the root path. I am running Mac OS X and no matter what root path I put in, the treeView always begins with</p>\n\n<p>\"/\" the top folder.</p>\n\n<p>I've spent 2 hours trying to figure this out.</p>\n\n<pre><code>if(QDir(\"SavedOutlines\").exists()){\n    fileModel = new QFileSystemModel;\n    QDir dir;\n    QString rootpath = dir.absolutePath() + \"/SavedOutlines/\";\n    //QString path = \"/Users/\";\n    fileModel = new QFileSystemModel(this);\n\n    QModelIndex idx = fileModel-&gt;setRootPath(rootpath);\n    ui-&gt;treeView-&gt;setCurrentIndex(idx);\n    ui-&gt;treeView-&gt;setModel(fileModel);\n    ui-&gt;treeView-&gt;show();\n}\n</code></pre>\n\n<p>It seems like it's doing it at first and then resetting itself back to the top \"/\"</p>\n"},{"tags":["qt","focus","keyboard-events","qwidget"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":12282351,"title":"Qt : keyboard focus","body":"<p>I am writing a program in Qt that looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dx4hr.png\" alt=\"Screen Capture\"></p>\n\n<p>The main window is my class <code>Window : QWidget</code>, it has a <code>QGridLayout</code> containing four other widgets (<code>Input_Menu : QWidget</code> and <code>Output_Menu : QWidget</code>, and then two <code>Canvas : QWidget</code>)</p>\n\n<p>I would like to trigger certain events when the user strikes a key. The problem is, the <code>Window</code> sometimes loses focus (it goes, say to <code>Input_Menu</code>, or maybe a button in <code>Input_Menu</code>...)</p>\n\n<p>I have tried the following solutions, but they seem unsatisfactory (and dirty):</p>\n\n<ol>\n<li>Give <code>Window</code> the focus whenever it loses it.</li>\n<li>Tell each widget who could have the focus to trigger <code>Window</code>'s <code>KeyPressEvent</code> function (or a clone of it) whenever it receives a keyboard event.</li>\n</ol>\n\n<p>Ideally, I would like that if a widget receives an event (say a keyboard event) and doesn't know what to do with it, it should automatically call its parent's event handler. I would have hoped this to be a default feature of Qt but it doesn't look like it. On the other hand I am really confused about the whole focus thing, I don't really get what's going on. Can someone explain this to me: I have included a <code>std::cout &lt;&lt; \"key pressed\" &lt;&lt; std::endl;</code> in my <code>Window::KeyPressEvent</code> function. When I first run my program, it seems the focus is on the top QComboBox in <code>Input_Menu</code>: if I hit the Up/Down keys, I navigate in that box and no \"key pressed\" is showed in my console. If I hit most letters, nothing happens. But if I hit Left/Right keys, I do get a \"key pressed\" in my console!?</p>\n\n<p>Thanks a lot in advance for your insights.</p>\n"},{"tags":["qt","size","qwidget"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12357441,"title":"Qt : Qwidget size","body":"<p>I am writing a program with Qt that looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qoKSP.png\" alt=\"screen capture\"></p>\n\n<p>The main window is a class <code>Window : QWidget</code> that I have defined. It has a <code>QGridLayout</code> which basically has 1 row and 3 columns. As you can see, the first column contains a menu (which is a class <code>Menu  :QWidget</code>), the second and third columns each contain a canvas (a class <code>Canvas : QWidget</code> that I have also defined).</p>\n\n<p>I am having a really hard time trying to figure out how the sizes work. So far, I have just defined a minimum size for the first column's width (in my window's layout) to fix the menu's width, and I have set a fixed size for <code>Canvas</code> in its constructor (like this: <code>setFixedSize(QSize(size_in_pixels, size_in_pixels));</code>).</p>\n\n<p>The problem is of course that this behaves badly under rescaling the window by the user. I guess what I would like to do is sort of set my canvas's <code>sizeHint</code> to <code>size_in_pixels</code> (my preferred size) but this hardly seems possible. I would also like my canvases to have same height and width at all times. I have been reading Qt documentation and trying several things but I can't come up with a solution.</p>\n\n<p>What would be the way to go according to you? Thanks a lot for your insights.</p>\n"},{"tags":["qt","testing","qttest"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":89,"score":4,"question_id":12353786,"title":"Qt \"monkey\" Testing - simulate random clicks and keypresses","body":"<p>Is there a framework to simulate a deterministically pseudorandom series of clicks imposed upon a Qt application - in order to try to trigger any memory leaks, threading errors etc - typical monkey-testing? </p>\n\n<p>Some exotic, monkey use for QTestLib?</p>\n"},{"tags":["c++","osx","qt","daemon","launch-daemon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12354860,"title":"Load/Unload LaunchDaemon via cpp or QT on mac","body":"<p>I'm writing a QT GUI App in cpp that needs to be able to start/stop a Launch Daemon running on Mac.  To do this, the user needs root privileges.  Is there a way to elevate user privileges to start/stop the LaunchDaemon using standard CPP/QT functions?  I've tried some direct system calls (calling sudo -A, etc), but havent had any success.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","gui"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12353703,"title":"QLayout inside of a QPushButton","body":"<p>I know that I can add an <code>Icon</code> and <code>Text</code> to a <code>QPushButton</code>, but I am dissatisfied with the layout of them.\nIs there a way to add a <code>QLayout</code> with whatever controls I want to a <code>QPushButton</code>? For example so that I can have an <code>Icon</code>, two rows of text and then another icon on the right.</p>\n"},{"tags":["qt","clipboard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12353226,"title":"Signal that text is inserted from clipboard","body":"<p>I meet a problem in my Qt developemnt of data managed application.\nDialog frame window (QFrame) has edit box (QLineEdit) with path and tree view with QFileSystemModel.\nI want to make following features:\n- If user enter path by keyboard and then press Enter then open the path in tree view. It's easy, I made it by connecting my slot to returnPressed signal.\n- If user insert path from clipboard by Shift+Insert or Ctrl+V or middle mouse button in Unix then straight open the path in tree view, user no need to insert from clipboard and press Enter. I checked signals and didn't find clipboardInserted signal.\nHow could I make it? Is the only way override QLineEdit and implement my paste() slot?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":608,"score":1,"question_id":2799412,"title":"How to use QMetaMethod with QObject::connect","body":"<p>I have two instances of QObject subclasses and two QMetaMethod instances of signal in one of objects and slot in another object. I want to connect this signal and slot with each other.</p>\n\n<p>I've looked through the qobject.h file and find that SIGNAL() and SLOT() macro are just add \"1\" or \"2\" character to the beginning of method signature so it looks like it should be possible to add the same character to the beginning of string returned by QMetaMethod::signature() but this approach depends on some undocumented internals of toolkit and may be broken at any time by a new version of Qt.</p>\n\n<p>Does anybody know reliable way to connect signals and slots through their QMetaMethod reflection representation?</p>\n\n<p><b>Edited:</b>\nI've created suggestion in Qt issue tracker:\n<a href=\"http://bugreports.qt.nokia.com/browse/QTBUG-10637\" rel=\"nofollow\">http://bugreports.qt.nokia.com/browse/QTBUG-10637</a>\nIf anybody also interested in this feature you can vote for this ticket there.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12348411,"title":"QtDataStream::writeRawData reorders my bytes","body":"<p>I am trying to save a raw byte array into a file:</p>\n\n<pre><code>mDataStream.writeRawData( ( (const char *)&amp;testPacket), 188);\n</code></pre>\n\n<p>The test packet is just an array of unsigned char, the packet is copied in the right size, but the bytes are reordered. ie: 0x47 0x00 0x10 0x20 ... becomes 0x00 0x47 ox20 0x10.</p>\n\n<p>This looks like an endianness problem, but i've tried setting the byte order to little endian with unsuccessful results.</p>\n"},{"tags":["qt","network-programming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12351556,"title":"How can I send a huge amount of data from a client to a server in Qt?","body":"<p>In my Qt GUI application how can I send a huge data from client to server? I am able to \nsend some data using <code>write()</code> function. But it can't solve my problem. Please tell me the\nway of sending data continuously to server.</p>\n"},{"tags":["c++","windows","qt","qt4","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1823,"score":2,"question_id":8359550,"title":"LNK4099 linker warning with clean install of Qt SDK and Visual C++ 2008","body":"<p>Did a clean install on a new Windows 7 computer with:</p>\n\n<ul>\n<li>Visual Studio 2008 SP1</li>\n<li>Qt SDK 1.1.4</li>\n</ul>\n\n<p>Then I created a new project in Qt Creator.  I picked \"Qt Gui Application\" under \"Qt Widget Project\" and had it target desktops with Visual C++ 2008, both debug &amp; release (basically default settings).</p>\n\n<p>Then I pressed Build, and got....</p>\n\n<pre><code>qtmaind.lib(qtmain_win.obj):-1: warning: LNK4099: PDB 'vc90.pdb' was not\nfound with 'c:\\QtSDK\\Desktop\\Qt\\4.7.4\\msvc2008\\lib\\qtmaind.lib' or at\n'C:\\Users\\JamesJ\\Desktop\\QtTest-build-desktop-Qt_4_7_4_for_Desktop_-\n_MSVC2008__Qt_SDK__Debug\\debug\\vc90.pdb'; linking object as if no debug info\n</code></pre>\n\n<p>I must be missing something obvious - surely the out-of-box experience with Qt isn't supposed to involve compiler/linker warnings?!?!</p>\n\n<p>How do I resolve this linker warning?  I prefer to treat warnings as errors, so... I'd like to get this fixed.</p>\n"},{"tags":["qt","qwidget","qt-designer"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12351398,"title":"Qt, QWizard, QWizardPage and Qt Designer","body":"<p>I have a project where I would really like to use the Designer to visually design my wizard. </p>\n\n<p>When I first did this, I had the QWizard widget and each QWizardPage in seperate .ui files and then built the wizard by calling addPages(). This worked but was messy because my project suddenly had one set of .h/.cpp/.ui files per page in the wizard. </p>\n\n<p>Then I realized the designer could add QWizardPage's to a QWizard itself and \"promote\" pages too so that I could use my own class functionality. With that, I just had one .ui file for the QWizard and only two sets of .h/.cpp files (one for the QWizard and one for each QWizardPage). </p>\n\n<p>So, my project looks kinda like this:</p>\n\n<ul>\n<li>Wizard.ui - contains all GUI elements for the wizard and\ncorresponding pages</li>\n<li>Wizard.h/.cpp - contains code for the QWizard derived class</li>\n<li>WizardPages.h/.cpp - contains code for each QWizardPage</li>\n</ul>\n\n<p>This worked great! Until I started adding implementation. The first thing I wanted to do was register a field in the first page (say WizardPage1). </p>\n\n<pre><code>WizardPage1::WizardPage1(QWidget* parent)\n    : QWizardPage(parent)\n{\n    this-&gt;registerField(\"text*\", textLineEdit);\n}\n</code></pre>\n\n<p>But 'textLineEdit' is actually a member of the QWizard object. So, I figured I could register the field by using the QWizardPage's parent, however the generated code in the ui_Wizard.h file creates the QWizardPage objects without a parent. And when I try this:</p>\n\n<pre><code>Wizard::Wizard(QWidget *parent)\n    : QWizard(parent)\n{\n    setupUi(this); // Wizard inherits QWizard and the deginer generated class\n\n    // 'WizardPage1' is also the class name and variable name as\n    // generated by Qt\n    WizardPage1-&gt;setParent(this);\n}\n</code></pre>\n\n<p>But this causes a crash when I do:</p>\n\n<pre><code>Wizard* wizard = new Wizard(this);\nwizard-&gt;open(); // crashes\n</code></pre>\n\n<p>Has anyone tried something like what I'm trying to accomplish and gotten it to work?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12350658,"title":"Qt How to Find Object on a widget using x() and y() position","body":"<p>I have a MainWindow. On MainWindow I have multiple Qlabel's. Now, i need to find the QLabel clicked.\nUsing  MousePressEvent, i can get the X() and Y() position of the mouse clicked.</p>\n\n<p>How can i use this Co-ordinate to identify the QLabel??</p>\n\n<p>Is there any function in QT to find the Object clicked using X() and Y() co-ordinate??</p>\n"},{"tags":["qt","licensing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":12350399,"title":"Qt commercial license","body":"<p>We are wondering if someone has experience with the way Qt license works. We want to develop a closed source, proprietary license  application (with static linking to Qt libraries), which will be installed to several computers (> 100). We might consider purchasing a commercial license, but we are not sure whether the license fee is:</p>\n\n<ol>\n<li>per developer</li>\n<li>per workstation</li>\n<li>per company</li>\n<li>per installation</li>\n<li>per team</li>\n<li>anything else?</li>\n</ol>\n\n<p>Anyone has experience in this area?</p>\n"},{"tags":["qt","binary","img","vtk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12348552,"title":"Read a file.img, a 3D binary volume","body":"<p>I have a file.img that is a 3D binary file.</p>\n\n<p>I've searched and I can't find a way to render it in vtk, or open it on qt so I can then use it in vtk.</p>\n\n<p>I came across this page, <a href=\"http://forum.codecall.net/topic/51524-reading-and-writing-files-in-c/\" rel=\"nofollow\">http://forum.codecall.net/topic/51524-reading-and-writing-files-in-c/</a></p>\n"},{"tags":["qt","custom-build-step","qt-stylesheet","qss"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12321274,"title":"Qt compilation and stylesheet","body":"<p>Each time I compile my Qt project after modifying my qss stylesheet file, the modifications aren't taken into account, unless I rebuild everything.</p>\n\n<p>Any idea on a workaround for this, so that I don't have to wait 5 minutes each time I change my qss ?</p>\n\n<p>Notes: I use Qt 4.8, and my stylsheet is declared in a resource file (qrc).</p>\n\n<p>EDIT: As suggested by <strong>Luca Carlon</strong>, when a qss is reference in the project through a .qrc file, the changes in the qss don't affect the qrc, and the compiler ignores it. To avoid that, I added a Custom Build Step to my project:</p>\n\n<ul>\n<li>before the qmake step!</li>\n<li>calls a .bat file without any argument</li>\n<li>the .bat contains the real command <em>copy /b files.qrc +,,</em></li>\n</ul>\n"},{"tags":["qt","gcc","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12347219,"title":"FindQt4 in CMake not recognize flag -m32","body":"<p>I try to build x86 application on x86_64 platform (Fedora16). In this application I'm using Qt and build system is cmake.\nIn CMakeLists.txt I'm using:</p>\n\n<p><code>find_package(Qt4 REQUIRED qtmain QtCore QtGui QtWebKit)</code></p>\n\n<p><code>include(${QT_USE_FILE})</code></p>\n\n<p>cmake command for generate Makefile like this:</p>\n\n<p><code>cmake -DCMAKE_CXX_FLAGS=\"-fpermissive -m32\"\n-DCMAKE_CXX_LINKER_PREFERENCE=\"-m32\"\n-DCMAKE_EXE_LINKER_FLAGS=\"-m32\"\n-DCMAKE_SHARED_LINKER_FLAGS=\"-m32\"</code></p>\n\n<p>So, after compiling linker cannot find compatible Qt library. Error like this:</p>\n\n<p><code>/usr/bin/ld: skipping incompatible /usr/lib64/libQtWebKit.so when searching for -lQtWebKit</code></p>\n\n<p>It's ok. In /usr/lib64 library has x64 platform. Desired library in /usr/lib, and they exist! But I don't understand, why FindQt4 not recognize platform? This script set following variable: QT_LIBRARY_DIR, QT_LIBRARIES and so one. Such variables set to following:</p>\n\n<p><code>-- QT_LIBRARY_DIR: /usr/lib64</code></p>\n\n<p><code>-- QT_LIBRARIES: optimized;/usr/lib64/libQtWebKit.so;debug;/usr/lib64/libQtWebKit_debug.so;optimized;/usr/lib64/libQtXmlPatterns.so;debug;/usr/lib64/libQtXmlPatterns_debug.so;optimized;/usr/lib64/libQtGui.so;debug;/usr/lib64/libQtGui_debug.so;optimized;/usr/lib64/libQtNetwork.so;debug;/usr/lib64/libQtNetwork_debug.so;optimized;/usr/lib64/libQtCore.so;debug;/usr/lib64/libQtCore_debug.so</code></p>\n\n<p>My question: why not /usr/lib? and how can i fix it?</p>\n"},{"tags":["qt","qpushbutton"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12348417,"title":"QPushButton when subclassed draws box around icon","body":"<p>I am trying to customize a QPUshButton by subclassing it and overriding the paintEvent. I am writing the text, followed by the icon as below:</p>\n\n<pre><code>paintEvent(QPaintEvent *paint)\n    {\n         QStyleOption opt;\n         opt.init(this);\n         QPainter p(this);\n        //Draw the base\n         style()-&gt;drawPrimitive(QStyle::PE_Widget, &amp;opt, &amp;p, this);\n\n        //Draw the text\n         style()-&gt;drawItemText(&amp;p,this-&gt;rect(),Qt::AlignCenter,(this-&gt;palette()), true, this-&gt;text());\n\n         if(!this-&gt;icon().isNull())\n            //Draw the icon at 75% button height\n            style()-&gt;drawItemPixmap(&amp;p, this-&gt;rect(),Qt::AlignRight|Qt::AlignVCenter, this-&gt;icon().pixmap(this-&gt;rect().height()  * 0.75));\n\n    }\n</code></pre>\n\n<p>However, the button I get is as below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/whWgi.png\" alt=\"enter image description here\"></p>\n\n<p>If you can see, there is a box around the icon image. How do I remove that? (The icon size appears bigger because I took the snapshot before I reduced the size. However, the box appears even if the image is much smaller and fits into the image).</p>\n"},{"tags":["qt","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":275,"score":0,"question_id":5412208,"title":"After executing a shell script, the QT GUI is blocked","body":"<p>I have a GUI implemented with QT. The GUI has many buttons and one of them executes a shell script:   </p>\n\n<pre><code>system(\"/bin/sh executeScene.sh\");\n</code></pre>\n\n<p>The script is executed properly but, the GUI is blocked until I close the script that was previously called. Is there a way to execute my shell script without blocking the GUI?   </p>\n\n<p>The GUI has another button to stop the shell script but, as the GUI is blocked, I cannot stop the script.</p>\n"},{"tags":["qt","opengl-es","lighthouse"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":155,"score":2,"question_id":12338706,"title":"qt 4.8.2 qpa QGraphicsView ( QGLWidget ) rendering produces black screen","body":"<p>I'm trying to render some simple qt application, that uses <code>QGraphicsView</code> with\n<code>QGLWidget</code> as a <code>viewport</code> ( slightly modified collidingmice ) on <code>armv7 embedded platform</code>\n( <code>beagleboard</code> ). Starting application like this:</p>\n\n<pre><code>collidingmice -platform eglfs\n</code></pre>\n\n<p>But screen is always remains dark. ( textures example is working fine ). \nIs qt lighthouse able to render painting throught opengles with platform like elgfs?\nI can't find any precise information about it.<br>\nThanks in Advance.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":12346712,"title":"By using Qwidget is it possible to open the file in QT","body":"<p>While Is it possible to load all the images from the file to Qwidget in QT ?????</p>\n\n<p>For loading the images should i use QTextstream or QDataStream</p>\n\n<p>If i use QtextStream i can able to load only the last image.</p>\n\n<pre><code> QTextStream InputDataFile(&amp;file);\n           while(!InputDataFile.atEnd())\n          {\n          line = InputDataFile.readLine();\n}\n</code></pre>\n\n<p>Instead of <strong>atend</strong> what can i use it, I have tried some other things also. But my condidtion failed in this way.</p>\n\n<p>can any one please help me for this question</p>\n"},{"tags":["osx","qt","deployment","cmake","macdeployqt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12346722,"title":"A working combination of Qt and OSX for deploying universal binaries","body":"<p>Since I ran across many many problems in setting up a build system for building large qt projects and deploying them as universal OSX binaries, I just want to ask if somebody know a flawless combination of operating system (OSX leopard, snow leopard, lion, mountain lion) and Qt version to have a deploy system that just works.</p>\n\n<p>I just want the following things:</p>\n\n<p>1) No compilator issues\n2) A <strong>working</strong> macdeployqt command\n3) Full compatibility with CMake to build projects.</p>\n\n<p>A combination of these last 3 points seemed to be such a pain in the back for me when I was trying to make a universal dmg with OSX 10.5.8 (leopard with gcc 4.0.1), Qt 4.7.1 and CMake 2.8.7!</p>\n"},{"tags":["c++","qt","installer","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":79,"score":4,"question_id":12340795,"title":"Simple installer for Qt C++ project, targeting Windows only","body":"<p>For a small C++ / Qt project I'd like to create an installer. </p>\n\n<ol>\n<li>Code written in Qt Creator</li>\n<li>Basically (when some Qt dlls have been added), a simple xcopy install is possible</li>\n<li>I could just pack (zip/rar) the files, but I want to \"have a little installer feeling\"</li>\n<li>There are no registry entries, etc.</li>\n<li>Code is for Win Desktop only, so no cross platform requirements</li>\n</ol>\n\n<p>Basically the installer shall</p>\n\n<ol>\n<li>Ask for target dir</li>\n<li>Ask for license acceptance</li>\n<li>.. and install</li>\n</ol>\n\n<p>From my perspective (as programmer) the installer should be <strong>easy to setup and learn</strong>. I'd be ideal if I could create it from within Qt Creator. Since it is for a non-commercial open source project the installer software <strong>has to be free</strong> (or at least very reasonable priced).</p>\n\n<p>What would you recommend? </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12346073,"title":"Loading all the Images from the file QT","body":"<p>I want to load all the images from the text file to widget in QT.</p>\n\n<p>I have written the code in this way,</p>\n\n<pre><code>void project::showfile()\n{\n   QString fileName = \"/home/main/Desktop/image_file.txt\";\n   show_image(fileName);\n}\n\nvoid project :: show_image(const QString &amp;fileName)\n{\n    Widget *wid1=new Widget(ui-&gt;scrollArea_2);\n\n\n\n        QFile file(fileName);\n        qDebug()&lt;&lt;\"test\";\n\n           if (!file.open(QIODevice::ReadWrite | QIODevice::Text))\n           {\n               qDebug()&lt;&lt;\"test---hello\";\n\n               qDebug() &lt;&lt; \"Error opening file\";\n           }\n\n           QString line;\n           QTextStream InputDataFile(&amp;file);\n           while(!InputDataFile.atEnd())\n          {\n          line = InputDataFile.readLine();\n\n          QPixmap pixmap(line);\n           wid1-&gt;setPixmap(line);\n\n\n           wid1-&gt;resize(pixmap.size());\n           wid1-&gt;show();\n }\n\n\n\n        file.close();\n\n}\n</code></pre>\n\n<p>For your example my image_file.txt contains</p>\n\n<p>/home/keerthana/Desktop/images/2_222_31.jpg</p>\n\n<p>while i am using this code i can load only the last image in the file. I want to load all the images to the GUI</p>\n\n<p>can any one help me ??? that how can i load every thing.</p>\n"},{"tags":["linux","qt","unity3d","menubar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12342214,"title":"Check which desktop enviroment is the user using (Linux) in Qt","body":"<p>is it possible to check which desktop environment is the user is using (say KDE or Unity).\nThe issue is that I have a window which has a menubar, but depending on the desktop environment, the menu is drawn on it or not (for example, in Unity, the menubar is drawn on the panel).\nI know that I could just disable the nativeMenuBar feature, but I would prefer to have it enabled.\nIn my case, I cannot use layouts, so the only two options are to check the desktop enviroment or disable the nativeMenuBar feature.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","python","qt","render","movie"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12304427,"title":"How to render QGraphicsScene animations out to a movie file?","body":"<p>Does anybody know how to render an animation from QGraphicsView / QGraphicsScene out to a movie file format (AVI, MPG, MP4, MOV, something) on disk? I've seen examples for rendering the scene out to an image file with QPrinter. Any ideas on if rendering animations to movies is possible?</p>\n\n<p>I suppose worst case would be to step frame-by-frame and save images, then combine the images into a movie with some external tool... Any better suggestions? Is it possible to do this from QT directly somehow?</p>\n\n<p>Thanks!\n- Brian</p>\n"},{"tags":["c++","qt","layout","qscrollarea"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12335861,"title":"How do I stay at the same scroll position while adding items in Qt?","body":"<p>I have a QScrollArea which contains a QWidget which has a QVBoxLayout. I want to implement an infinite scroll whereby when you get 80% to the bottom of the scroll, it loads more items so you can scroll even more. </p>\n\n<p>The problem is that when I get to the 80% and I try to add more items to the QVBoxLayout, all the items get shifted up so that you see all the new items. How do I get the QScrollArea to stay in the same relative place while the new items are added?</p>\n"},{"tags":["multithreading","qt","qtconcurrent"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12344650,"title":"Thread id of QtConcurrent run","body":"<p>I am doing multi-thread programs with QT.</p>\n\n<p>I use this code to try whether it acts as i expected.</p>\n\n<pre><code>QFuture&lt;void&gt; t1 = QtConcurrent::run(thread_process1, (void *)this);\nQFuture&lt;void&gt; t2 = QtConcurrent::run(thread_process2, (void *)this);\n</code></pre>\n\n<p>and both thread_process1 and 2 are only one line which is </p>\n\n<pre><code>qDebug()&lt;&lt;\"thread id: \"&lt;&lt;QString(\"%1\").arg((int) QThread::currentThreadId(), 0, 16) ;\n</code></pre>\n\n<p>however, they both show \nthread id:  \"ffffffffb6085b40\"</p>\n\n<p>am I do it wrong??\nQFutureWatcher seems to do no help.</p>\n"},{"tags":["qt","inheritance"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12343072,"title":"What happens when you promote a widget in QtCreator?","body":"<p>Lets say I have everything that is needed to promote a widget (I will use a QLineEdit in this example) to a class called <code>MyClass</code>. <code>MyClass</code> inherits from QWidget and defines its own functions.</p>\n\n<p>When I promote the QLineEdit to an instance of <code>MyClass</code>, what happens behind the scenes? I know that the QLineEdit is a child of QWidget, so <code>MyClass</code> and QLineEdit are related in that factor. But what happens to the properties? Does the QLineEdit still retain the properties specific to a QLineEdit? How does it just change \"types\"?</p>\n\n<p>Other than the fact that QLineEdit still retains the properties of QWidget (<code>MyClass</code> inherits from the class), I am unsure what happens behind this promotion of widgets.</p>\n"},{"tags":["c++","qt","qscrollarea"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12313943,"title":"How do I place the QScrollBar on the content of the QScrollArea?","body":"<p>I want to make a scrollbar that fades in and out depending on usage. I subclassed QScrollBar and got the look that I want. The problem is that the scrollbar is placed next to the content. How do I instead make it go on top of the content?</p>\n"},{"tags":["c++","qt","paint"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12323637,"title":"How do I paint on the right side of the parent widget?","body":"<p>I am creating a custom QScrollBar on top of the QScrollArea. I did <code>scroll_bar-&gt;setParent(acroll_area)</code> and now the ScrollBar::painEvent is painted on the QScrollArea, only problem is that it is painted on the left side. How do I get it to paint on the right side.</p>\n"},{"tags":["c++","qt","layout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12341145,"title":"How do I get the height of a layout after inserting new items?","body":"<p>In Qt:</p>\n\n<pre><code>QVBoxLayout *layout = (QVBoxLayout*)this->layout();\n\nprintf(\"Before: %d %d\\n\", this->height(), layout->totalSizeHint().height());\n\nQWidget *widget = new SubWidget();\nlayout->insertWidget(0, widget);\nthis->updateGeometry();\nthis->adjustSize();\nthis->update();\nthis->repaint();\n\nprintf(\"After: %d %d %d\\n\", this->height(), layout->totalSizeHint().height(), widget->height());\n</code></pre>\n\n<p>The problem is that I get the same numbers for before and after despite the widgets height being nonzero (about 400 in my case). Why?</p>\n"},{"tags":["qt","qt4","pyqt","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12334224,"title":"Mouse Over in Qt Designer","body":"<p>I made the gui in Qt Designer and then converted it into python using pyuic4. Now i want to capture the mouseover event on the buttons.</p>\n\n<pre><code>class window_b(QtGui.QDialog):\n    def __init__(self,parent=None):\n        super(window_b, self).__init__(parent)\n        window_a.setEnabled(False)\n        self.ui = Ui_Form_window_b()\n        self.ui.setupUi(self)\n        self.setFocusPolicy(QtCore.Qt.StrongFocus)\n    def mouseMoveEvent (self,event):\n        source= self.sender()\n        #print source.name()\n        # The action I want to do when the mouse is over the button:\n        source.setStyleSheet(\"background-color:#66c0ff;border-radiu‌​s: 5px;\")\n</code></pre>\n\n<p>I put the <code>mouseMoveEvent</code> method on the widget and I want to detect which button on the Dialog sent the mouseOver event. I tried <code>source.name()</code> but it throws me this error</p>\n\n<pre><code>print source.name()\nAttributeError: 'NoneType' object has no attribute 'name'\n</code></pre>\n\n<p>Any suggestion.</p>\n"},{"tags":["qt","qplaintextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12342052,"title":"Adding end line marker in QPlainTextEdit","body":"<p>I would like to add a vertical line that would mark 80 characters in <code>QPlainTextEdit</code>. I looked at docs but I couldn't see anything in docs. Do I need to paint it somehow myself?</p>\n"},{"tags":["c++","qt","opengl","3d","qt3d"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12341775,"title":"Advice on setting up a Qt3D scene with redundant objects","body":"<p>I'm new to the Qt3D module and am currently writing a game in Qt5/C++ using Qt3D. This question is about \"Am I on the correct path?\" or \"Can you give me some advice on...\".</p>\n\n<p>The scene of the game has a static part (the \"world\") and some objects (buildings and movable units). Some of the buildings might be animated in the future, but most of them are very static (but of course destructible).</p>\n\n<p>I divide the quesion into two parts: How to handle copies of the same model placed at different positions in the scene and how to manage the scene as a whole in the viewer class.</p>\n\n<p><strong>Redundant objects in the scene:</strong></p>\n\n<p>Of course the objects share the same library of buildings / movable units, so it would be dumb to upload the models for these objects to the graphics card for every instance of such a unit. I read through the documentation of QGLSceneNode, from which I guess that it is designed to share the same QGeometryData among multiple scene nodes, but apply different transformations in order to place the objects at different positions in my scene. Sharing the same QGLSceneNode for all instances of a building would be the wrong way, I guess.</p>\n\n<p>I currently have a unit \"library class\" telling me the properties of each type of building / movable unit, among other things the geometry including textures. Now, I'd provide a QGeometryData for each building in this library class, which is uploaded on the loading procedure of the game (if I decide to do this for <em>all</em> buildings at startup...).</p>\n\n<p>When creating a new instance of a unit, I'd now create a new QGLSceneNode, request the QGeometryData (which is explicitly shared) from the library and set it on the node. Then I set the transformation for this new node and put it in my scene. This leads us to the second part of my question:</p>\n\n<p><strong>Manage the scene as a whole:</strong></p>\n\n<p>My \"scene\" currently is neither a QGLSceneNode nor a QGLAbstractScene, but a struct of some QGLSceneNodes, one for each object (or collection of objects) in the scene. I see three approaches:</p>\n\n<ul>\n<li><p>My current approach, but I guess it's \"the wrong way\".</p></li>\n<li><p>The composition: Putting everything as child nodes in one root QGLSceneNode. This seemed the correct way for me, until I realized that it is very difficult to access specific nodes in such a composition. But when would I even need to access such \"specific\" nodes? Most operations require to take all nodes into account (rendering them, updating positions for animations), or even operate on a signal-slot-basis so I even don't need to find the nodes manually at all. For example, animations can be done using QPropertyAnimations. Acting on events can also be done by connecting a QObject in the game engine core (all buildings are QObjects in the engine's core part) with the corresponding QGLSceneNode.</p>\n\n<p>But this approach has another downside: During rendering, I might need to change some properties of the QGLPainter. I'm not sure which properties I need to change, this is because I don't know Qt3D enough and can't guess what can be done without changing the properties (for example: using a specific shader to render a specific scene node).</p></li>\n<li><p>Then I found QGLAbstractScene, but I can't see the advantages when comparing with the two solutions above, since I can't define the rendering process in the scene. But maybe it's not the correct location where to define it?</p></li>\n</ul>\n\n<p><strong>Which is the best approach to manage such a scene in Qt3D?</strong></p>\n\n<p>With \"best\" I mean: What am I going to do wrong? What can I do better? What other things should I take into account? Have I overlooked anything important in the Qt3D library?</p>\n"},{"tags":["qt","position","center"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":12341132,"title":"Qt - How does this center the window","body":"<p>I saw an example that uses the following to create a point that will be used to centre a window in <code>Qt</code>:</p>\n\n<blockquote>\n  <p>x = (screenWidth - WIDTH) / 2;</p>\n  \n  <p>y = (screenHeight - HEIGHT) / 2;</p>\n</blockquote>\n\n<p>Provided that <code>screenWidth</code> and <code>screenHeight</code> are found using the <code>width()</code> and <code>height()</code> functions respectively of <code>QDesktopWidget</code>.</p>\n\n<p>How does the preceding code centre the window? Yes, I know it centres the window, but couldn't understand it from a calculation point of view.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","qt","pyqt4","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12316577,"title":"Python PyQt: TypeError while pressing the button to change the color of Circle","body":"<p>I am new in Python and using PyQt4 for developing the Gui. I want to change the color of circles while pressing the toggle button. But I am getting the error in slot.</p>\n\n<p>My code is:</p>\n\n<pre><code>import sys\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtCore import *\n\nclass MyFrame(QWidget):\n    def __init__(self, parent=None):\n        QWidget.__init__(self)\n\n        self.scene=QGraphicsScene(self)\n        self.scene.setSceneRect(QRectF(0,0,245,245))\n        self.bt=QPushButton(\"Press\",self)\n        self.bt.setGeometry(QRect(450, 150, 90, 30))\n        self.bt.setCheckable(True)\n        self.color = QColor(Qt.green)\n        self.color1= QColor(Qt.magenta)\n        self.show()\n        self.connect(self.bt, SIGNAL(\"clicked()\"), self.changecolor)\n\n    def paintEvent(self, event=None):\n        paint=QPainter(self)\n        paint.setPen(QPen(QColor(Qt.magenta),1,Qt.SolidLine))\n        paint.setBrush(self.color)\n        paint.drawEllipse(190,190, 70, 70)\n        paint.setPen(QPen(QColor(Qt.green),1,Qt.SolidLine))\n        paint.setBrush(self.color1)\n        paint.drawEllipse(300,300, 70, 70)\n\n    def changecolor(self):\n        if pressed:\n         self.color = QColor(Qt.red)\n         self.color1= QColor(Qt.blue)\n        else:\n         self.color=QColor(Qt.yellow)\n         self.color1=QColor(Qt.gray)\n\n        self.update()\n\napp=QApplication(sys.argv)\nf=MyFrame()\nf.show()\napp.exec_()\n</code></pre>\n"},{"tags":["c++","qt","qtreeview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12331435,"title":"QTreeview children indicators repaint","body":"<p>Good day, i have QTreeView and some background threads, not gui threads add in model items, the problem is when displaying my view children-indicator not repaint but they exists (if you press to the place where they placed the node expanded), i emit signals dataChange, but my children-indicator not repaint.What i doing wrong?\nThis is code in background thread i call:</p>\n\n<pre><code>void notify()\n    {\n        if (file_item_type::parent())\n        {\n            file_item_type::parent()-&gt;notify(this);\n        }\n        file_item_type::filesystem_type::s_notify.dataChange(this);\n    }\n</code></pre>\n\n<p>then in model </p>\n\n<pre><code>void FileItemModel::dataChangeItem(void *it)\n{\n    file_item_type *item = static_cast&lt;file_item_type*&gt;(it);\n    if(item&amp;&amp;isWatchedDir(item))\n    {\n        int row = indexOfChild(item);\n        if (row&gt;=0)\n        {\n            QModelIndex indexT = createIndex(row, eDC_Name, item);\n            QModelIndex indexL = createIndex(row, eDC_Size, item);\n            emit dataChanged(indexT,indexL);\n        }\n    }\n}\n</code></pre>\n\n<p>and after that i catch my dataChanged signal in proxy model </p>\n\n<pre><code>void FileProxyTreeModel::sourceDataChanged( const QModelIndex&amp; from, const QModelIndex&amp; to )\n{\n    emit dataChanged( mapFromSource( from ), mapFromSource( to ) );\n}\n</code></pre>\n"},{"tags":["qt","compiler-errors","run"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12339465,"title":"Qt - Running a simple Qt program","body":"<p>I have done the following to run a simple <code>Qt</code> program:</p>\n\n<ul>\n<li>Created a <code>hello</code> folder</li>\n<li>Created a <code>hello.cpp</code> program as follows:</li>\n</ul>\n\n<blockquote>\n<pre><code>   #include &lt;QApplication&gt;\n    #include &lt;QLabel&gt;\n\n    int main(int argc, char* argv[])\n    {\n    QApplication app(argc, argv);\n    QLabel *label = new QLabel(\"Hello...\");\n    label-&gt;show();\n    return app.exec();\n    }\n</code></pre>\n</blockquote>\n\n<ul>\n<li>Ran <code>qmake -project</code></li>\n<li>Ran <code>qmake hello.pro</code> ---> Here I get <code>Makefile</code></li>\n<li>Ran 'make', and here, I get something like this and which seems to continue proceeding unless I stop it:</li>\n</ul>\n\n<blockquote>\n  <p>c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe\n  c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello\n      make -f Makefile.hello\n      make[1]: Entering directory <code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello\n      make -f Makefile.hello.hello\n      make[2]: Entering directory</code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello.hello\n      make -f Makefile.hello.hello.hello\n      make[3]: Entering directory <code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello.hello.hello\n      make -f Makefile.hello.hello.hello.hello\n      make[4]: Entering directory</code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello.hello.hello.hello\n      make -f Makefile.hello.hello.hello.hello.hello\n      make[5]: Entering directory <code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello.hello.hello.hello.hello\n      make -f Makefile.hello.hello.hello.hello.hello.hello\n      make[6]: Entering directory</code>/c/Users/Ola/Desktop/hello'\n      c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe c:\\Users\\Ola\\Desktop\\hello\\hell\n      o.pro -o Makefile.hello.hello.hello.hello.hello.hello.hello\n      make -f Makefile.hello.hello.hello.hello.hello.hello.hello\n      make[6]: <strong>* [sub-hello-pro-make_default] Interrupt\n      make[5]: *</strong> [sub-hello-pro-make_default] Interrupt\n      make[4]: <strong>* [sub-hello-pro-make_default] Interrupt\n      make[3]: *</strong> [sub-hello-pro-make_default] Interrupt\n      make[2]: <strong>* [sub-hello-pro-make_default] Interrupt\n      make[1]: *</strong> [sub-hello-pro-make_default] Interrupt\n      make: <em>*</em> [sub-hello-pro-make_default] Interrupt</p>\n</blockquote>\n\n<p>How can I run the program?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","make"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12339099,"title":"What does the \"missing separator\" make error mean when using Qt?","body":"<p>I'm creating a simple Qt program, and when I run <code>make</code>, I get the following:</p>\n\n<pre><code>make -f Makefile.Debug\nmake[1]: Entering directory `/c/Users/Ola/Desktop/gotocell'\nMakefile.Debug:59: *** missing separator.  Stop.\nmake[1]: Leaving directory `/c/Users/Ola/Desktop/gotocell'\nmake: *** [debug] Error 2\n</code></pre>\n\n<p>What do those errors mean? And, if <code>make</code> proceeds correctly, what output should I expect (i.e. <code>.exe</code>)?</p>\n\n<p>The contents of the <code>.pro</code> file is as follows:</p>\n\n<p><strong>EDIT</strong> added <code>target</code></p>\n\n<pre><code>######################################################################\n# Automatically generated by qmake (2.01a) Sun Sep 9 08:26:50 2012\n######################################################################\n\nTEMPLATE = app\nTARGET = gotocell.exe\nDEPENDPATH += .\nINCLUDEPATH += .\n\n# Input\nFORMS += gotocelldialog.ui\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>After modifying the target in <code>.pro</code>, I get the following:</p>\n\n<pre><code>c:\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\bin\\qmake.exe -o Makefile gotocell.pro\nmake -f Makefile.Debug\nmake[1]: Entering directory `/c/Users/Ola/Desktop/gotocell'\nMakefile.Debug:59: *** missing separator.  Stop.\nmake[1]: Leaving directory `/c/Users/Ola/Desktop/gotocell'\nmake: *** [debug] Error 2\n</code></pre>\n"},{"tags":["qt","command-line","run"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12336935,"title":"How to build and run a Qt application from the command line?","body":"<p>I'm trying to create a simple Qt project. I  have done inside of a <em>folder</em> the following:</p>\n\n<ul>\n<li>Created a <code>.ui</code> file</li>\n<li>ran <code>qmake -project</code></li>\n<li>Made a <code>.pro</code> file</li>\n<li>Made a <code>main.cpp</code> file</li>\n</ul>\n\n<p>How can I run this project using a command line?</p>\n"},{"tags":["qt","widget","fullscreen","qtgui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12338548,"title":"Qt Widget temporarily fullscreen","body":"<p>Consider a QWidget, normally a child in some Layout. </p>\n\n<p>Supposed I want to make it fullScreen for a while, then have it return to it's old spot.</p>\n\n<p><code>QWidget::setFullScreen()</code> requires that the widget needs to be an independent window - any ideas how to work it out?</p>\n"},{"tags":["qt","qwidget","qmainwindow","qlabel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12338675,"title":"widgets in qmainwindow are small","body":"<p>I am fairly new in gui programming. For my current project i am using qt to develop symbian applications. However when i add any widget in the main window using qt designer or manually writing them, the widgets appear to be too tiny...</p>\n\n<p>Currently i want to show an image using q label, alongwith a toolbar. The toolbar shows fine, but the label appears tiny.</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent)\n: QMainWindow(parent)//, ui(new Ui::MainWindow)\n{\n\n//ui-&gt;setupUi(this);\nlabel= new QLabel(this);\nimage=new QImage(\":/Images/lena.jpg\");\nlabel-&gt;setPixmap(QPixmap::fromImage((*image)));\nlabel-&gt;setScaledContents(true);\nlabel-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\ntoolbar=new QToolBar(this);\nQToolButton *load=new QToolButton();\nQToolButton *gray=new QToolButton();\nQToolButton *bin=new QToolButton();\nQToolButton *bye=new QToolButton();\nQToolButton *save=new QToolButton();\nQToolButton *reset=new QToolButton();\n/*layout=new QVBoxLayout(this);\nlayout-&gt;addWidget(label);\nlayout-&gt;addWidget(toolbar);*/\n\nload-&gt;setIcon(QIcon(\":/Icons/new_file.png\"));\ngray-&gt;setIcon(QIcon(\":/Icons/grayscale.png\"));\nbin-&gt;setIcon(QIcon(\":/Icons/bit_clock.png\"));\nbye-&gt;setIcon(QIcon(\":/Icons/exit.png\"));\nsave-&gt;setIcon(QIcon(\":/Icons/save.png\"));\nreset-&gt;setIcon(QIcon(\":/Icons/reset.png\"));\n//label-&gt;show();\n\naddToolBar(Qt::BottomToolBarArea, toolbar);\n\ntoolbar-&gt;addWidget(load);\ntoolbar-&gt;addWidget(gray);\ntoolbar-&gt;addWidget(bin);\ntoolbar-&gt;addWidget(save);\ntoolbar-&gt;addWidget(reset);\ntoolbar-&gt;addWidget(bye);\n\nload-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\ngray-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\nbin-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\nbye-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\nsave-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\nreset-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Preferred);\ntoolbar-&gt;setMovable(false);\ntoolbar-&gt;setIconSize(QSize(35,35));\n\nconnect(load, SIGNAL(clicked()), this, SLOT(loadNewImage()));\nconnect(gray, SIGNAL(clicked()), this, SLOT(loadGrayImage()));\nconnect(bin, SIGNAL(clicked()), this, SLOT(loadBinImage()));\nconnect(bye, SIGNAL(clicked()), this, SLOT(close()));\nconnect(save, SIGNAL(clicked()), this, SLOT(saveImage()));\nconnect(reset, SIGNAL(clicked()), this, SLOT(resetImage()));\n//setCentralWidget(label);\n//this-&gt;setLayout(layout);\n//this-&gt;showExpanded();\n</code></pre>\n\n<p>}</p>\n\n<p>The portions i have blocked using '//' are not helping either. i have tried to make a layout, but it comes to no avail. Using setcentralwidget results in showing just d label and no toolbar. i have blocked qt designer portions as i am not using them. I would have attached a pic showing output but i am a new user and am not allowed to do so. Plz help guys...</p>\n\n<p>P.S. : here's the \n<a href=\"http://www.freeimagehosting.net/62af1\" rel=\"nofollow\">output image</a></p>\n"},{"tags":["python","qt","installation","segmentation-fault","mayavi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":253,"score":1,"question_id":7720411,"title":"MayaVi installation on Qt4 leads to segmentation faults","body":"<p>I am trying to install MayaVi on my computer.  I'm on a MacBook Air with OS X 10.6.8, 4 GB RAM.</p>\n\n<p>My python and most of my stack is built through Homebrew or pip. In particular this is true for python2.7, ipython, Qt4, numpy, scipy, vtk, etc. VTK was installed with --python and --qt-extern flags in Homebrew, and all the builds were fine. I do not have wxPython installed, as I failed to get it working through pip, manual building, or the binaries.</p>\n\n<p>If I run <code>ipython -q4thread</code>, I cannot successfully execute <code>from mayavi import mlab</code> as I get an error related to usage of two different APIs for PyQt: <a href=\"http://groups.google.com/group/spyderlib/browse_thread/thread/36a35baec74ca144\" rel=\"nofollow\">http://groups.google.com/group/spyderlib/browse_thread/thread/36a35baec74ca144</a></p>\n\n<p>However, if I run <code>ipython</code> alone, I can successfully run <code>from mayavi import mlab</code>. Then I try to follow this example: <a href=\"http://github.enthought.com/mayavi/mayavi/example_using_with_scipy.html\" rel=\"nofollow\">http://github.enthought.com/mayavi/mayavi/example_using_with_scipy.html</a>, which includes these commands:</p>\n\n<pre><code>import numpy as np\n\ndef V(x, y, z):\n    \"\"\" A 3D sinusoidal lattice with a parabolic confinement. \"\"\"\n    return np.cos(10*x) + np.cos(10*y) + np.cos(10*z) + 2*(x**2 + y**2 + z**2)\n\nX, Y, Z = np.mgrid[-2:2:100j, -2:2:100j, -2:2:100j]\n\nfrom mayavi import mlab\nmlab.contour3d(X, Y, Z, V)\n</code></pre>\n\n<p>This all works fine, and I get a window that pops up and I can rotate the 3d plot etc. However, then I click on the icon to open up the pipeline, which opens another window. The tutorial then says to double-click on the \"isosurface\" to change its properties. As soon as I do that, I get a reproducible segmentation fault.</p>\n\n<p>I have no idea how to begin to figure out what the problem is.</p>\n\n<p>Alternatively, I can run MayaVi from the command line: <code>mayavi2</code>, and the GUI pops up. When I do so I get the following output:</p>\n\n<pre><code>Warning: Unable to import the wx backend for pyface due to traceback: Traceback (most recent call last):\n      File \"/usr/local/Cellar/python/2.7.1/lib/python2.7/site-packages/pyface/toolkit.py\", line 45, in _init_toolkit\n        be = import_toolkit(tk)\n      File \"/usr/local/Cellar/python/2.7.1/lib/python2.7/site-packages/pyface/toolkit.py\", line 31, in import_toolkit\n        __import__(be + 'init')\n      File \"/usr/local/Cellar/python/2.7.1/lib/python2.7/site-packages/pyface/ui/wx/init.py\", line 14, in &lt;module&gt;\n        import wx\n    ImportError: No module named wx\n</code></pre>\n\n<p>Although the GUI does pop up, if I try to do any operation, I get a segfault.</p>\n\n<p>Please let me know if you have any thoughts on troubleshooting this, or perhaps guidance on reinstalling the package successfully.</p>\n\n<p>Thanks!</p>\n\n<p>Uri</p>\n"},{"tags":["qt","hadoop","hadoop-streaming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12337642,"title":"Using hadoop with Qt","body":"<p>Does anybody know how to use hadoop with Qt , any tutorials for hadoop with Qt or any Qt wrapper or hadoop streaming with Qt</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12337328,"title":"Empty file in Qt","body":"<p>I have a file named DBFile.\nI am using the following code:</p>\n\n<pre><code>QString DBfile =\"C:/Users/E543925/Desktop/VikuTB.xml\";\nQFile newFile(DBfile);\nnewFile.open( QIODevice::WriteOnly);\n</code></pre>\n\n<p>Now I want to write something inside the file if it is empty.\nHow can I check whether a file is empty or not in Qt?</p>\n"},{"tags":["c++","qt","visual-c++","mingw","static-libraries"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":180,"score":0,"question_id":12336977,"title":"Custom static library linking error with MinGW and QT Creator","body":"<p>I have made a static library Win32 (it doesn't actually contain Win32 code) library in MSVC 2008 and I am currently trying to link to it in QT Creator. But whenever I compile, I get the error:</p>\n\n<pre><code>C:\\Users\\Snowball\\Documents\\QT Creator\\Libraries\\FontSystem\\main.cpp:-1: error: undefined reference to `NGUI::CFont::CFont()'\n</code></pre>\n\n<p>The library is a font system that loads a PNG using FreeImage and then \"cuts\" it up into individual symbols then passes the image data to <code>gluBuild2DMipMaps()</code> which then creates an OpenGL texture out of it to be used later on when drawing strings. I have ALL my class methods defined and the whole class is part of a namespace called <code>NGUI</code>. This way the font system won't be confused with another if for some reason two are in use. To link this library, I simply added the following code to my .pro file: <code>LIBS += FontSystem.lib</code></p>\n\n<p>and the only file in the application right now is this:</p>\n\n<pre><code>#include \"fontsystem.h\"\nusing namespace NGUI;\n\nint main(int argc, char *argv[])\n{\n    cout&lt;&lt; \"Starting the FontSystem...\"&lt;&lt; endl;\n\n    CFont *cFont = new CFont();\n    cout&lt;&lt; \"FontSystem Started!\"&lt;&lt; endl;\n\n    system(\"sleep 1\");\n    return 0;\n}\n</code></pre>\n\n<p>The file fontsystem.h looks like this:</p>\n\n<pre><code>#ifndef FONTSYSTEM_H\n#define FONTSYSTEM_H\n\n// Include the Basic C++ headers.\n#include &lt;cstdio&gt;\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;assert.h&gt;\n#include &lt;limits&gt;\nusing namespace std;\n\n// Include the OpenGL and Image Headers.\n#include &lt;GL/gl.h&gt;\n#include &lt;GL/glu.h&gt;\n#include \"utilities.h\"\n\n// Macros.\n#define DIM(x) (sizeof(x)/sizeof(*(x)))\n\n/*\n    The Font System works by loading all the font images (max image size 32px^2) into memory and storing\n  the OpenGL texture ID's into an array that can be access at all times. The DrawString() functions will\n  search through the string for the specified character requested to draw and then it will draw a quad\n  and paint the texture on it. Since all the images are pre-loaded, no loading of the images at load time\n  is necessary, this is memory consuming but efficiant for the CPU. ALL functions WILL return a character\n  string specifing errors or success. A function will work as long as it can and when an error happens,\n  unless the error is fatal, the functions will NOT rollback changes! This ensures that during testing, a\n  very certain bug can be spotted.\n*/\n\nnamespace NGUI // This namespace is used to ensure no confusion happens. This font system paints 2D fonts for GUIs.\n{\n    class CFont\n    {\n    public:\n        CFont();\n        ~CFont();\n\n        template&lt;typename tChar&gt; char* DrawString(tChar *apString, int aiSize, int aiX, int aiY);\n        template&lt;typename tNum&gt; char* DrawString(tNum anNumber, int aiSize, int aiX, int aiY);\n\n    private:\n        char* SetupFont(); // This function will load as many images as possible into memory.\n\n        GLuint miTextIDs[36];\n        int miDrawIDs[1024];\n    };\n}\n\n#endif // FONTSYSTEM_H\n</code></pre>\n\n<p>EDIT:\nHere is the implementation file for fontsystem.h</p>\n\n<pre><code>    #include \"fontsystem.h\"\n\n#include \"fontsystem.h\"\n\nnamespace NGUI\n{\n    CFont::CFont()\n    {\n        SetupFont();\n    }\n\n    CFont::~CFont() {}\n\n    template&lt;typename tChar&gt;\n    char* CFont::DrawString(tChar *apString, int aiSize, int aiX, int aiY)\n    {\n        // Search the string from most significant character to least significant.\n        int iSelectIndex = 0;\n        for(size_t i = 0; apString[i] != NULL; ++i)\n        {\n            iSelectIndex = apString[i] &gt;= '0' &amp;&amp; apString[i] &lt;= '9' ? (apString[i] - '0') :\n                           apString[i] &gt;= 'A' &amp;&amp; apString[i] &lt;= 'Z' ? (apString[i] - 'A' + 10) :\n                           apString[i] &gt;= 'a' &amp;&amp; apString[i] &lt;= 'z' ? (apString[i] - 'a' + 10) :\n                           apString[i] == ' ' ? 36 : // This is a special case, This see's if the current character is a space or not.\n                           -1;\n\n            if(iSelectIndex == -1)\n            {\n                return \"The String Is Corrupt! Aborting!\";\n            }\n\n            // Add the current selected character to the drawing array.\n            miDrawIDs[i] = iSelectIndex;\n        }\n\n        // Go through and draw each and every character.\n        for(size_t i = 0; i &lt; DIM(miDrawIDs); ++i)\n        {\n            // Paint each qaud with the X,Y coordinates. After each quad has been successfully drawn,\n            // Add the size to the X coordinate. NOTE: Each character is square!!!\n\n            if(miDrawIDs[i] != 36)\n            {\n                glBindTexture(GL_TEXTURE_2D, miDrawIDs[i]);\n            }\n\n            // The font color is always white.\n            glColor4f(1.0, 1.0, 1.0, 0.0); // The alpha argument in the function call is set to 0 to allow color only where image data is present.\n\n            glBegin(GL_QUADS);\n                glTexCoord2i(0, 0);\n                glVertex2i(aiX, aiY);\n\n                glTexCoord2i(1, 0);\n                glVertex2i(aiX + aiSize, aiY);\n\n                glTexCoord2i(1, 1);\n                glVertex2i(aiX + aiSize, aiY + aiSize);\n\n                glTexCoord2i(0, 1);\n                glVertex2i(aiX, aiY + aiSize);\n            glEnd();\n\n            // Now, increase the X position by the size.\n            aiX += aiSize;\n        }\n\n        return \"Successful Drawing of String!\";\n    }\n\n    template&lt;typename tNum&gt;\n    char* CFont::DrawString(tNum anNumber, int aiSize, int aiX, int aiY)\n    {\n        // Convert the supplied number to a character string via snprintf().\n        char *vTempString = new char[1024];\n        snprintf(vTempString, 1024, \"%f\", anNumber);\n\n        // Next, run DrawString().\n        return DrawString&lt;char&gt;(vTempString, aiSize, aiX, aiY);\n    }\n\n    char* CFont::SetupFont()\n    {\n        // First Load The PNG file holding the font.\n        FreeImage_Initialise(false);\n\n        FIBITMAP *spBitmap = FreeImage_Load(FIF_PNG, \"Font.png\", BMP_DEFAULT);\n\n        if(!spBitmap)\n        {\n            return \"Was Unable To Open/Decode Bitmap!\";\n        }\n\n        // Do an image sanity check.\n        if(!FreeImage_HasPixels(spBitmap))\n        {\n            return \"The Image doesn't contain any pixel data! Aborting!\";\n        }\n\n        // The Image will have the red and blue channel reversed, so we need to correct them.\n        SwapRedBlue32(spBitmap);\n\n        // Retrieve all the image data from FreeImage.\n        unsigned char *pData = FreeImage_GetBits(spBitmap);\n        int iWidth = FreeImage_GetWidth(spBitmap);\n\n        // Cutup the PNG.\n        int iFontElementSize = (32*32)*4; // The first two numbers, are the dimensions fo the element, the last number (4) is the number of color channels (Red Green Blue and Alpha)\n        bool bDone = false; // This bit is only set when the entire image has been loaded.\n        unsigned char *pElemBuff = new unsigned char[iFontElementSize]; // The temporary element buffer.\n        int iDataSeek = 4; // Start with an offset of 4 because the first byte of image data starts there.\n        int iTexIdx = 0; // This is an offset specifing which texture to create/bind to.\n\n        // Create all 36 OpenGL texures. 0-9 and A-Z and finally space (' ')\n        glGenTextures(37, miTextIDs);\n\n        while(!bDone)\n        {\n            // Now load the an element into the buffer.\n            for(int i = 0, iXCount = 0, iYCount = 0;\n                i &lt; iFontElementSize; ++i, ++iXCount)\n            {\n                if(iXCount &gt;= (32*4))\n                {\n                    iXCount = 0; // Reset the column offset.\n                    ++iYCount; // Move down 1 row.\n                    iDataSeek += ((iWidth * 4) - (32*4)); // Set the data seek to the next corrosponding piece of image data.\n                }\n\n                if(pData[iDataSeek] == NULL)\n                {\n                    break;\n                }\n\n                pElemBuff[i] = pData[iDataSeek];\n            }\n\n            // Check to see if we are done loading to prevent memory corruption and leakage.\n            if(bDone || iTexIdx &gt;= 37)\n            {\n                break;\n            }\n\n            // Create The OpenGL Texture with the current Element.\n            glBindTexture(GL_TEXTURE_2D, miTextIDs[iTexIdx]);\n            gluBuild2DMipmaps(GL_TEXTURE_2D, GL_RGBA, 32, 32, GL_RGBA, GL_UNSIGNED_BYTE, pElemBuff);\n\n            // Create the correct texture envirnment to the current texture.\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST_MIPMAP_NEAREST);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP);\n        }\n\n        // Do a little house cleaning!\n        delete[] pElemBuff;\n        delete pData;\n        FreeImage_Unload(spBitmap);\n        FreeImage_DeInitialise();\n    }\n}\n</code></pre>\n\n<p>PLEASE NOTE: this code hasn't been tested yet but compile fine (according to MSVC 2008)</p>\n\n<p>I forgot to change the <code>system(\"sleep 1\");</code> to <code>system(\"PAUSE\");</code> and the reason I had it invoking that command is because I originally was building this in linux.</p>\n\n<p>EDIT 2: I have updated the implementation code to reflect the file.</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":195,"score":0,"question_id":3843052,"title":"does Qt implement _countof or equivalent?","body":"<p>I really like using the _countof() macro in VS and I'm wondering if there is an OS-generic implementation of this in Qt.</p>\n\n<p>For those unaware, _countof() gives you the number of elements in the array. so,</p>\n\n<p>wchar_t buf[256];</p>\n\n<p>_countof(buf) => 256 (characters)\nsizeof(buf) => 512  (bytes)</p>\n\n<p>It's very nice for use with, say, unicode strings, where it gives you character count.</p>\n\n<p>I'm hoping Qt has a generic version.</p>\n"},{"tags":["python","qt","tutorials","pyqt","pyside"],"answer_count":5,"favorite_count":6,"up_vote_count":6,"down_vote_count":0,"view_count":5562,"score":6,"question_id":4234028,"title":"Getting started with PySide","body":"<p>I decided to learn Python Gui development and, as PyQt is non-free, the choice was PySide for it. But, unlike PyQt, PySide doesn't have any tutorials or screencasts, just documentation useless for very beginners. I have no Qt experience, so even setting up development environment in Ubuntu is a problem. Could you advice something to learn from? </p>\n"},{"tags":["qt","gui","gtk","ncurses"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12336458,"title":"Are there any negatives to using libYUI (Yast2)?","body":"<p>If I wanted an application to have a a GUI front end native to Qt, GTK and ncurses, are there any negatives to making use of libYUI <a href=\"http://libyui.sourceforge.net/\" rel=\"nofollow\">(YaST2-UI library)</a> aside from the obvious:</p>\n\n<ul>\n<li>Requires me to use C++ for the GUI side of things, since there aren't as many language bindings as QT, GTK and ncurses</li>\n<li>Would mean my application requires libYUI.</li>\n</ul>\n\n<p>Can you think of anything else that might be a negative?</p>\n"},{"tags":["qt","animation","qt4","transition","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12333112,"title":"QML animations visible property changes","body":"<p>I want an animation to be painted when an element becomes visible (is should appear smoothly, not the whole at all)</p>\n\n<p>I tried this</p>\n\n<pre><code>states: State\n{\n    name: \"iconOff\"\n    when: iconOnSwitch.checked == false\n    PropertyChanges { target: selectIconRow; visible: false }\n}\n\ntransitions: Transition\n{\n    reversible: true\n    from: \"\"\n    to: \"iconOff\"\n    PropertyAnimation\n    {\n        properties: \"x,y,visible\"\n        easing.type: Easing.InOutQuad\n        from: selectIconRow\n        property: \"visible\"\n    }\n}\n</code></pre>\n\n<p>But the selectIconRow still appears immediately</p>\n\n<p>How can I use such an animation?</p>\n"},{"tags":["qt","qt4","qtcpsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12334958,"title":"QtcpSocket without signals/slots","body":"<p>Is it possible to use <strong>QTcpSocket</strong> without using <strong>readyRead</strong> slots ?</p>\n\n<p>I tried this code for reading datas from a tcp server :</p>\n\n<pre><code>QByteArray ba;\n\nforever\n{\nsck.waitForReadyRead();\nba.append( sck.readAll() );\n\nif (sck.bytesAvailable() == 0)\n  break;\n}\n</code></pre>\n\n<p>but sometimes I don't receive all the datas from server !?</p>\n"},{"tags":["osx","qt","qmessagebox","sheets"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12331175,"title":"Qt::Sheet and QMessageBox::show() on Mac","body":"<p>I have an application where I want to ask the user a question in a QMessageBox and then respond accordingly. The problem is that on a Mac I want the dialog to show up as a Sheet, but using the open() method returns immediately.</p>\n\n<pre><code>QMessageBox* msgBox = new QMessageBox(\n    QMessageBox::Question,\n    \"Delete Record?\",\n    \"Are you sure you want to delete this record?\"\n    QMessageBox::Yes | QMessageBox::No,\n    this,\n    Qt::Sheet);\n\nint ret = msgBox-&gt;exec(); // does not show up as a sheet on Mac\nmsgBox-&gt;open(); // shows up as a sheet but returns immediately\n</code></pre>\n\n<p>Is there anyway I can get which button the user pressed on a sheet without having to implement my own QDialog? Is there any signal from msgBox I connect?</p>\n"},{"tags":["c++","qt","audio","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12332662,"title":"QT Phonon Audio jumping bars","body":"<p>Im only here to ask one question. Well im working in an application, but I would like to create that jumping bars, that jumps with the music. I dont know if you understand me, here is an image of what i want to do:\n<br />\n<br />\n<img src=\"http://i46.tinypic.com/11uw2s3.png\" alt=\"example\">\n<br />\n<br />\nI dont know how to create that bars, so I dont know if you can help me.\nThank you very much.</p>\n\n<hr>\n\n<p>With Phonon, how can I handle the frequencies?</p>\n"},{"tags":["sql","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":11650427,"title":"How to access elements returned from QSqlquerymodel set query","body":"<p>I am having trouble understanding how i access the returned elements when i implement a QSqlQueryModel.</p>\n\n<p>I know that you can do\n    QSqlQuery query;</p>\n\n<pre><code>query.prepare(\"select * from database\");\n\nquery.exec();\n\nquery.next();\n\nqDebug() &lt;&lt; \"value in 0 is \" &lt;&lt; query.value(0).SomeFormat;\n</code></pre>\n\n<p>So i want to do something like that with QSqlQueryModel (apparently the better way to go).. where i set the query, then i can output the values to another lot of boxes i have.\nwhat i have so far is... </p>\n\n<pre><code>QSqlQuery selectAllUserFields;\n\nselectAllUserFields.prepare(QString(\"SELECT * from %1 WHERE %2=:firstName and %3=:lastName;\")\n                            .arg(dbase::c_userTableName)\n                            .arg(dbase::c_colUserFirstName)\n                            .arg(dbase::c_colUserSecondName));\n\n// finds the index of the current selection, so we can select the row\nQModelIndexList tableIndex = m_ui-&gt;populatedUserBox-&gt;selectionModel()-&gt;selection().indexes();\n\n\nQString firstName = tableIndex.at(0).data().toString();\n\nQString lastName = tableIndex.at(1).data().toString();\n\nQSqlQueryModel dbUsers;\n\ndbUsers.setQuery(selectAllUserFields);\n\nqDebug() &lt;&lt; \"DEBUG: {temp} \" &lt;&lt; dbUsers.record(0).value(0).toString();\n</code></pre>\n\n<p>I am beginnerish, so would appreciate a nudge in the right direction if anyone could assist.</p>\n\n<p>Thanks\nGrant</p>\n"},{"tags":["qt","events","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12332838,"title":"Why is the widget not getting resizeEvent?","body":"<p>I am trying to implement a new custom scrollbar. In order to do so, I have placed it onto the parent manually with <code>this-&gt;setParent(area);</code></p>\n\n<pre><code>\nclass QMacScrollBar : public QScrollBar\n{\n    Q_OBJECT\npublic:\n    QMacScrollBar(QAbstractScrollArea *area, Qt::Orientation orientation, QWidget *parent = 0);\n\n    virtual void paintEvent ( QPaintEvent * );\n    QAbstractScrollArea *area;\n\nsignals:\n\npublic slots:\n    virtual void resizeEvent(QResizeEvent *event);\n};\n\nQMacScrollBar::QMacScrollBar(QAbstractScrollArea *area, Qt::Orientation orientation, QWidget *parent) :\n    QScrollBar(area)\n{\n    this->setMouseTracking(true);\n    this->setOrientation(orientation);\n    this->setParent(area);\n    this->area = area;\n}\n\nvoid QMacScrollBar::resizeEvent(QResizeEvent *event){\n    QRect geometry = QRect(QPoint(0, 0), event->size());\n    if (area != NULL){\n        geometry.setHeight(area->height());\n        geometry.moveRight(area->width());\n        geometry.adjust(-5, 0, -5, 0);\n        this->setGeometry(geometry);\n    }\n    QScrollBar::resizeEvent(event);\n}\n</code></pre>\n\n<p>I do get the first few resizes, but none after that. So far my guess is that when I resize the window, the QScrollArea doesnt actually resize, it just hides more of the viewport. I need the resize event because I need to move the place that I display the bar. How do I fix this?</p>\n\n<p>EDIT: The only resizes I am getting are the ones that I spawn via connecting to the underlying scrollbar's <code>setRange</code> signal.</p>\n"},{"tags":["c++","qt","delete"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12020015,"title":"Deleting widget that is in layout","body":"<p>What will happen if we will run <code>delete widget</code> for <code>widget</code> that is in layout? If this case was written in documentation, please give me the link (I didn't find).</p>\n\n<p>Code example:</p>\n\n<pre><code>QLabel *l1 = new QLabel(\"1st\");\nQLabel *l2 = new QLabel(\"2nd\");\nQVBoxLayout *layout = new QVBoxLayout;\nlayout-&gt;addWidget(l1);\nlayout-&gt;addWidget(l2);\n\nQWidget *mainWidget = new QWidget;\nmainWidget-&gt;setLayout(layout);\nmainWidget-&gt;show();\n\ndelete l1;\nl2-&gt;deleteLater();\n</code></pre>\n\n<p>Can things that will happen be different for <code>l1</code> and <code>l2</code>?</p>\n"},{"tags":["qt","qt-creator","qttest"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12330622,"title":"QtCreator subdirs project","body":"<p>I'm going to achieve the following hierarchy in my QtCreator project based on subdirs template:</p>\n\n<p>Project:</p>\n\n<ul>\n<li>subproject1 - static library </li>\n<li>subproject2 - static library </li>\n<li>subproject3 - unittests executable</li>\n</ul>\n\n<p>The only one executable will be in subproject3, which will link against subproject1 and subproject 2.</p>\n\n<p>However build works fine I've noticed some usability issue. When I run the whole project it tries to find executables in my libraries - and fails. I have to run subproject3 instead of the main one.\nIs it possible to avoid such situation?</p>\n"},{"tags":["c++","qt","project-files"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12326401,"title":"QT - Specify DLL path in pro. file","body":"<p>So as the question title says, i'm specifically wondering how to include the path to a .dll file in the actually project file. I know it's the better practice to include the dll file with the project file, but i'd still just like to know if it's possible to be done? </p>\n\n<p>Currently my .pro file consists of the following;</p>\n\n<pre><code>QT       += core gui\n\nTARGET = Test\nTEMPLATE = app\n\nwin32 {\n    INCLUDEPATH += \"D:/Projects/Build Output/include/\"\n\n    CONFIG(debug, debug|release) {\n        LIBS += \"D:/Projects/Build Output/libs/debug/myLib.lib\"\n        LIBS += \"D:/Projects/Build Output/bin/x86 debug/myLib.dll\"\n    } \n    else {\n        LIBS += \"D:/Projects/Build Output/libs/release/myLib.lib\"\n        LIBS += \"D:/Projects/Build Output/bin/x86 release/myLib.dll\"\n    }\n}\n\nSOURCES += main.cpp\\\n    mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>Would be cool, just to know that it can be done, thanks in advance for your help :). </p>\n"},{"tags":["qt","background","focus","mouse","symbian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12329818,"title":"Qt get mouse pressed event without focus","body":"<p>How can I get the location of where the mouse was pressed from an application running in the background (so it doesn't have focus)? I do not want to grab the mouse from all other apps I just want to know where it is pressed because I want it to react to the mouse being pressed on a certain position no matter what app is currently active and in focus?</p>\n\n<p>I have tried creation a QWidget like this:</p>\n\n<pre><code>#ifndef MOUSECLICK_H\n#define MOUSECLICK_H\n\n#include \"QWidget\"\n#include &lt;QMouseEvent&gt;\n#include &lt;QDebug&gt;\n\nclass mouseClick : public QWidget\n{\n    void mousePressEvent(QMouseEvent* event)\n    {\n        QPoint position = event-&gt;pos();\n        qDebug() &lt;&lt; position.x();\n        printf(\"%d %d,positon.x,position.y\");\n    }\n};\n\n#endif // MOUSECLICK_H\n</code></pre>\n\n<p>And then I just used its show() function from main, but it doesn't respond once another app becomes active and in focus.</p>\n\n<p>If it makes a difference this is for Symbian(Belle).</p>\n\n<p>I think an event filter might be the answer but I have no idea how to configure it to intercept events before the focused window does, I do not know on what object to install it?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12327518,"title":"Downloaded QT Sdk but the run button is inactive.","body":"<p>I just read throw a few of posts or comment from this website about how good it is to use QT Sdk for GUI development in C++ on Imac, however once i downloaded, i was not able to run the template programs that comes with it. i followed a tutorial but the run button in the bottom left of the application is not active, do i need to do something specific before i can get it working? your support will be appreciated.</p>\n"},{"tags":["c++","qt","gui","widget","shadow"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12328251,"title":"How would I draw a shadow under a widget in Qt?","body":"<p>I am wondering how I would draw a shadow under a widget (which isn't the main widget, say, a label.) in Qt. Would I neeed use a stylesheet or would I code it (in C++)?</p>\n"},{"tags":["qt","background","symbian","textinput","touch-event"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12328803,"title":"Qt background task touch event","body":"<p>I have a Symbian Qt \"background\" app that displays a button type thing using CWindowDrawer derived from CActive that is visible on top of everything. I want it to be visible when the a textinput is active or the virtual keyboard is visible, preferably when a textinput is active because some phones have a hardware keyboard. When it is visible I want it to receive all touch positions as to determine if it is being pressed without it taking focus and closing the keyboard?</p>\n\n<p>Basically I need a way to determine when a textinput is activated and I need a way to listen for all touch positions from a non qwidget that is also not in focus.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>PS. This is for Symbian Belle and Symbian C++ is also supported within a Qt application if necessary.</p>\n"},{"tags":["qt","opencv","rotation","qt-creator","runtime-error"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12305552,"title":"OpenCV error when using Rodrigues function in Qtcreator","body":"<p>I encounter a problem in QtCreator when using function cv::Rodrigues from OpenCV.\nI always get run-time error while converting Rotation matrix to rotation vector using rodrigues.\nI don't have such a problem when going from rot vector to rot matrix but it sucks vice versa.\nHere is a simple code using this function. \nIt's well mentioning that it works out in Visual studio.</p>\n\n<pre><code>        cv::Mat R(3,3,CV_32F);\n\n        R.at&lt;float&gt;(0,0)=0;\n        R.at&lt;float&gt;(0,1)=0;\n        R.at&lt;float&gt;(0,2)=1;\n        R.at&lt;float&gt;(1,0)=0;\n        R.at&lt;float&gt;(1,1)=1;\n        R.at&lt;float&gt;(1,2)=0;\n        R.at&lt;float&gt;(2,0)=-1;\n        R.at&lt;float&gt;(2,1)=0;\n        R.at&lt;float&gt;(2,2)=0;\n\n        cv::Mat rvec_result;\n        cv::Rodrigues(R,rvec_result);\n</code></pre>\n\n<p>R is a 3x3 matrix representing 90 degree rotation around Y axis.\nWhen I trace it in debug mode, I get Segmentation fault(SIGSEGV) at calling rodrigues().</p>\n\n<p>I'm using OpenCV 2.4.1 and my system is 64bits.\nCan any one help me to cope with this problem?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","linux","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12327951,"title":"Terminating all Child Processes in Qt","body":"<p>I made an application in Qt, in which I use QProcess to start a process as root, after showing a dialog to enter the root password. The new process runs as root. If I terminate the application using a button, the child process doesnt terminate. How do I ensure that the child process also terminates when the main application terminates?</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12326117,"title":"Why aren't QVariant.toFoo() and QVariant.convert(Foo) equivalent?","body":"<p>I'm trying to convert a QVariant to a QSize.</p>\n\n<pre><code>from PyQt4.QtCore import (                                                     \n    QVariant,                                                                  \n    QSize,                                                                      \n    )                                                                          \n\ns = QSize(4,3)                                                                 \nx = QVariant(s)                                                                \n\n#Check, and hopefully do conversion                                            \nprint x.canConvert(QVariant.Size) #True                                           \nprint x.convert(QVariant.Size)    #True                                           \nprint type(x)                     #&lt;class 'PyQt4.QtCore.QVariant'&gt;...why??                \nprint type(x.toSize())            #&lt;class 'PyQt4.QtCore.QSize'&gt;\n</code></pre>\n\n<p>Why do I have to do x.toSize for the type of x to be QSize? I expected x.convert() would make x an instance of QSize.</p>\n\n<p>This wasn't of much help to me...  <a href=\"http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qvariant.html#convert\" rel=\"nofollow\">http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qvariant.html#convert</a>\n...because it says that convert() \"casts the variant to the requested type...\"</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["c++","qt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12325080,"title":"QGraphicscene strange behavior (don't update screen with negative numbers)","body":"<p>I have a QGraphicscene that don't update screen with negative numbers.The image explain all.</p>\n\n<p><a href=\"http://s16.postimage.org/4b59m8hx1/problem.jpg\" rel=\"nofollow\">http://s16.postimage.org/4b59m8hx1/problem.jpg</a></p>\n\n<p>That's the simple code.</p>\n\n<pre><code>if (dinA){ //assume its always true\n      int sx=dinA-&gt;getX();\n      int sy=dinA-&gt;getY();\n      dis-&gt;scene.addRect(QRectF(300,100-sy, sx, sy),QPen(), QBrush(Qt::FDiagPattern));\n }\n\n //** 300,100-sy ** because of my work-area is 600*300\n</code></pre>\n\n<p>What could be the cause?</p>\n"},{"tags":["qt","gui","transparency","embedded-linux","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12321360,"title":"Embedded Qt GUI Artifacts Appear when Dismissing Widgets","body":"<p>I am working on a touchscreen GUI for an embedded Linux device that will sit over a video feed. Therefore, I need my GUI to be transparent and disappear after some timeout so the user can just view the video feed. The main.cpp of my GUI ensures that the background of the entire application running with the -qws option is transparent with the following code:</p>\n\n<pre><code>QApplication a(argc, argv, QApplication::GuiServer);\nQWSServer::instance()-&gt;setBackground(QBrush(Qt::NoBrush));\nQWSServer::setCursorVisible (false);\n</code></pre>\n\n<p>I have a main, bottom level widget that owns every other widget in the GUI. I set the background to transparent with the following pallete related code.</p>\n\n<pre><code>QPalette transparentPallete;\ntransparentPallete.setColor(QPalette::Window, Qt::transparent);\nsetAutoFillBackground(true);\nsetPalette(transparentPallete);\n</code></pre>\n\n<p>I also overrode the paintEvent method to try to ensure that the background would always be in a clean transparent state:</p>\n\n<pre><code>void MainWidget::paintEvent(QPaintEvent *event)\n{\n    QPainter p(this);\n\n    // Fill background\n    p.setPen(Qt::NoPen); // no outlines\n    p.fillRect(0,0,width(),height(),QColor(255, 255, 255, 0)); // Fill rectangle with color\n\n}\n</code></pre>\n\n<p>Now I can launch my application and view my GUI over the raw video feed and I can interact by touch to bring up different windows within the GUI and have them disappear. </p>\n\n<p>What I cannot accomplish is to get rid of artifacts that are left behind when I hit 'cancel' or order certain portions of the GUI to disappear. These artifacts look really ugly ( multiple vertical lines / wrong colors ) and only disappear when another part of the GUI is summoned that replaces that location on the screen. They are there regardless of whether I have the video feed enabled ( which lives on a different overlay controlled by the processor dss anyway ). </p>\n\n<p>How can I get rid of these artifacts that are left behind after dismissing some widgets?</p>\n\n<p>NOTE: This definetly is correlated with the following line:</p>\n\n<pre><code>QWSServer::instance()-&gt;setBackground(QBrush(Qt::NoBrush)); // Allows transparent pixels to be written to frame buffer\n</code></pre>\n\n<p>If I turn this line off, I cannot see the underlying overlay but I also do not get any strange behavior whatsoever and my performance becomes much better. How can I achieve transparency but also lose the strange artifacts?</p>\n"},{"tags":["qt","function","script"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12316218,"title":"Qt Script function wrapping","body":"<p>I am going through the documentation of Qt Scripting and came up to it is totally confusing and full if mis guiding text. Could some please explain in simple English how to wrap a function and access it in script code after wrapping. I have included my example below.\nWrapper function. This is a simple wrapper which I need to return the string that is passed as the parameter. following is the code.</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QtScript/QScriptEngine&gt;\n#include &lt;QtScript/QScriptContext&gt;\n#include &lt;QDebug&gt;\n\nQScriptValue returnProperty(QScriptContext *context , QScriptEngine *engine)\n{\n    qDebug() &lt;&lt; \"running returnValues Function \"&lt;&lt; context-&gt;argument(0).toString();\n    return context-&gt;thisObject().property(\"returnValue\");\n} \n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc,argv);\n    QScriptEngine engine;\n    //Evaluating a simaple expresssion\n    qDebug() &lt;&lt; engine.evaluate(\"1+2\").toNumber();\n\n    QScriptValue func = engine.globalObject();\n    func.setProperty(\"foo\",engine.newFunction(returnProperty),QScriptValue::PropertyGetter);\n    engine.evaluate(\"var v= foo('name') ; print( 'This prints values from addValues funtion :',v) ;\");\n}\n</code></pre>\n\n<p>And the output is as follows</p>\n\n<pre><code>3\nRunning returnValues Function  \"undefined\" \n</code></pre>\n\n<p>If I am understanding this correctly this is what I should do and if I call engine.newObject() as it is mentioned in the doc function does not even get called.</p>\n\n<p>what I do not get here is that in what is the property I am assigning in func.setproperty line and what can I do with the property foo once I set it. How can I set a value in the function.</p>\n\n<p>I appreciate if someone explain what I am doing wrong here. </p>\n"},{"tags":["c++","delphi","qt","dll","qimage"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":200,"score":3,"question_id":12312968,"title":"Passing binary data from Qt/C++ DLL into Delphi host application","body":"<p>In a Program I want to uses QImage.bits() in Delphi. So, in Qt I was created a dll. the dll Source Code Listed in below:</p>\n\n<p>test.h:</p>\n\n<pre><code>  #ifndef TEST_H\n    #define TEST_H\n\n    #include \"test_global.h\"\n\n\n    extern \"C\"{\n    TESTSHARED_EXPORT uchar* testFunc();\n    }\n\n\n    #endif // TEST_H\n</code></pre>\n\n<p>test.cpp:</p>\n\n<pre><code> #include \"test.h\"\n#include &lt;QtGui&gt;\n\nQImage image;\n\nuchar* testFunc(){\n    image.load(\"c:\\\\1.png\",\"PNG\");\n    return (uchar*)image.constBits();\n}\n</code></pre>\n\n<p>and in the Delphi Side I use this code for using Qt dll:</p>\n\n<pre><code>    function testFunc(): PByteArray; external 'test.dll';\n// ...\n\nprocedure TForm3.Button1Click(Sender: TObject);\nvar\n  bStream: TBytesStream;\n  P: PByteArray;\n  Size: Cardinal;\nbegin\n  P := testFunc;\n  Size := Length(PAnsiChar(P)); // AnsiChar = 1 Byte\n  bStream := TBytesStream.Create();\n  try\n    bStream.Write(P[0], Size); // Works Fine (^_^)\n    bStream.Position := 0;\n    bStream.SaveToFile('c:\\scr.txt');\n  finally\n    bStream.Free;\n  end;\nend;\n</code></pre>\n\n<p>when I call dll function no any data returned! \ncan you help me?</p>\n\n<p><strong>Update 1:</strong>\nIn real situation my Qt function is very complex and I can't write it in Delphi for many reasons. In fact orginal function taked a screenShot from a device and work on It in Main Memory. and as a result I want send this image bytes to Delphi for Show It on a TImage whit no save It on Hard Disk and similar memories. and in this topic I just created a simple similar function for simple debugging and testability. Is It Possible to help me by Writing a True Simple code for this problem? thanx a lot for you. (-_-)</p>\n"},{"tags":["osx","qt","deployment","cmake","macdeployqt"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":74,"score":2,"question_id":12317724,"title":"How to include Qt libraries with CMake inside a .app project on OSX?","body":"<p>I've created a Qt project using CMake as build system. I would like to include in the deployment phase, the necessary Qt frameworks </p>\n\n<pre><code>Qt3Support.framework/ QtNetwork.framework/  QtXml.framework/\nQtCore.framework/     QtOpenGL.framework/   \nQtGui.framework/      QtSql.framework/ \n</code></pre>\n\n<p>in order to be ready to distribute my program as standalone dmg.</p>\n\n<p>This is usually done with <code>macdeployqt</code> command but it gives me a lot of errors like this:</p>\n\n<pre><code>ERROR: \"strip: for architecture x86_64 object:\n/Users/rs/build/myapp.app/Contents/Frameworks/QtXmlPatterns.framework/Versions/4/QtXmlPatterns\n malformed object (unknown load command 5)\n</code></pre>\n\n<p>so I want to be able to do it directly in the deployment phase, is it possible?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12323287,"title":"Qt Creator - C++ Library, No executable found?","body":"<p>So im a bit confused by what to-do with this current pop-up im having from QT. Not entirely sure what it means. \nSo i'm trying to  create a C++ Library, as a static linked library. Currently the library has no code in it whatsoever. \nImmediately hitting the build button to make sure everything runs fine the following pop-up below is displayed.</p>\n\n<p>Im not sure what this means exactly. Or indeed, why it is even being shown in the first place. building any of my other project files works fine without issue. But this does not. </p>\n\n<p><img src=\"http://i.stack.imgur.com/Av4G6.png\" alt=\"The Pop-Up\">. </p>\n\n<p>As for what i have, i am using the Qt SDK, version 4.8.1. \nAny help solving this issue would be greatly appreciated :).</p>\n"},{"tags":["qt","qstring","qregexp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12322427,"title":"Qt remove regular expression from string","body":"<p>I have a QString that I have replaced \"=\" and\",\" with \" \". Now I would like to write a regular expression that would remove every occurrence of a certain string followed immediately by parenthesis containing a 1 to 2 character long number. \nFor Example: \"mat(1) = 5, mat(2) = 4, mat(3) = 8\" would become \"5 4 8\"</p>\n\n<p>So this is what I have so far:</p>\n\n<pre><code>text = text.replace(\"=\", \" \"); \ntext = text.replace(\",\", \" \"); \ntext = text.remove( QRegExp( \"mat\\([0-9]{1,2}\\)\" ) );\n</code></pre>\n\n<p>The regular expression is not correct, how can I fix it to do what i want? Thanks!</p>\n"},{"tags":["qt","cryptography","hash","botan"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":11899826,"title":"Error while compiling botan sample example in Qt","body":"<p>I am trying to find out the error for two days but still haven't got this unknown reason figure out. </p>\n\n<p>I have configured and compiled Botan library. Everything goes ok but when try to write this sample code to be run..</p>\n\n<pre><code>S2K* s2k = get_s2k(\"PBKDF2(SHA-256)\");\ns2k-&gt;set_iterations(4049);\nSecureVector&lt;byte&gt; key_and_IV = s2k-&gt;derive_key(48, passphrase).bits_of();\nSymmetricKey key(key_and_IV, 32);\n</code></pre>\n\n<p>it says error: 'class Botan::PBKDF' has no member named 'set_iterations'</p>\n\n<p>How can I solve this problem ?</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12322216,"title":"How to add a widget to a qt Tool bar","body":"<p>I have the following problem:\nI have added a spinner to my qt Tool Bar, which is located from top to buttom. This works fine. But now I want to order some buttons in a special order, but with mainToolBar->addWidget(button_name) it would be among one other. So how can I solve it? I tried to make a new widget \"widget_1\" and added some buttons to this widget, but when I write mainToolBar->addWidget(widget_1) nothing appears, only the one slider I have already added. Can anyone help me?\nThanks a lot :)</p>\n"},{"tags":["c++","qt","qlabel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12319944,"title":"Qt QLabel default text","body":"<p>My code is very simple:</p>\n\n<pre><code>Widget::Widget(QWidget *parent) : QWidget(parent), ui(new Ui::Widget)\n{\n    lineEdit = new QLineEdit();\n    label = new QLabel(\"\");\n    connect(lineEdit, SIGNAL(textChanged(QString)), label, SLOT(setText(QString)));\n    ui-&gt;setupUi(this);\n}\n</code></pre>\n\n<p>I compiled it, and no error or warning.</p>\n\n<p>But When I run it, The UI like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/zYPh3.png\" alt=\"enter image description here\"></p>\n\n<p>Why <code>QLabel</code>'s default text was <code>TextLabel</code>?</p>\n"},{"tags":["c++","qt","qstring"],"answer_count":6,"favorite_count":7,"up_vote_count":23,"down_vote_count":0,"view_count":23192,"score":23,"question_id":4214369,"title":"How to convert QString to std::string?","body":"<p>I am trying to do something like this:</p>\n\n<pre><code>QString string;\n// do things...\nstd::cout &lt;&lt; string &lt;&lt; std::endl;\n</code></pre>\n\n<p>but the code doesn't compile.\nHow to output the content of qstring into the console (e.g. for debugging purposes or other reasons)? How to converst QString to std::string?</p>\n"},{"tags":["qt","get","request","response","signals-slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1127,"score":0,"question_id":5220652,"title":"Qt: How to get the response from a GET?","body":"<p>I'm having trouble collecting the response from a web request i do. (Because i'm new to Qt).</p>\n\n<p>Why do i have trouble?</p>\n\n<p>I have a request class which send a request and receive a response. But i can't get the response to the parent of the request object, because i have to wait for a \"finished\" signal from the NetworkAccessMaanager which handles the response.</p>\n\n<p>So i handle the response in a \"finished\" slot, but i can't return the info to the parent main window holding the request object. How can i do this?</p>\n\n<p>Here's the code:</p>\n\n<p><strong>Main window.cpp:</strong></p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent), ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_buttonLogin_clicked()\n{\n    request-&gt;sendRequest(\"www.request.com\");\n}\n</code></pre>\n\n<p><strong>Request.cpp:</strong></p>\n\n<pre><code>Request::Request()\n{\n  oNetworkAccessManager = new QNetworkAccessManager(this);\n  QObject::connect(oNetworkAccessManager,SIGNAL(finished(QNetworkReply*)),this,SLOT(finishedSlot(QNetworkReply*)));\n}\n\n/*\n * Sends a request\n */\nQNetworkReply* Request::sendRequest(QString url)\n{\n    QUrl httpRequest(url);\n    QNetworkRequest request;\n    request.setSslConfiguration(QSslConfiguration::defaultConfiguration()); // Set default ssl config\n    request.setUrl(httpRequest); // Set the url\n    QNetworkReply *reply = oNetworkAccessManager-&gt;get(QNetworkRequest(httpRequest));\n\n    return reply;\n}\n\n/*\n * Runs when the request is finished and has received a response\n */\nvoid Request::finishedSlot(QNetworkReply *reply)\n{\n       // Reading attributes of the reply\n       // e.g. the HTTP status code\n       QVariant statusCodeV = reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n       // Or the target URL if it was a redirect:\n       QVariant redirectionTargetUrl =\n       reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n       // see CS001432 on how to handle this\n\n       // no error received?\n       if (reply-&gt;error() == QNetworkReply::NoError)\n       {\n           // Reading the data from the response\n           QByteArray bytes = reply-&gt;readAll();\n           QString jsonString(bytes); // string\n\n           bool ok;\n           QVariantMap jsonResult = Json::parse(jsonString,ok).toMap();\n           if(!ok)\n           {\n               qFatal(\"An error occured during parsing\");\n               exit(1);\n           }\n\n\n           // Set the jsonResult\n           setJsonResult(jsonResult);\n\n\n       }\n       // Some http error received\n       else\n       {\n           // handle errors here\n       }\n\n       // We receive ownership of the reply object\n       // and therefore need to handle deletion.\n       delete reply;\n}\n\n/*\n * Set the json result so that other functions can get it\n */\nvoid Request::setJsonResult(QVariantMap jsonResult)\n{\n    m_jsonResult = jsonResult;\n}\n\n/*\n * Get the json result\n * Return null if there is no result\n */\nQVariantMap Request::getJsonResult()\n{\n    return m_jsonResult;\n}\n</code></pre>\n\n<p>Any ideas of how i can do this?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12318255,"title":"QML: wait until animations finished","body":"<p>I am trying to make visible animations sequential. I have a javascript function, which call myModel.move() two times. I have a GridView to show myModel and I have \"Behavior on x\" animation, thus I can visualy see the movements. But, both movement animatons runs in paralell (the small delay between them is not noticeable).</p>\n\n<p>My idea was to add a counter of how many animations was started and how many of them already finished. Something like this;</p>\n\n<pre><code>Behavior on x {\n    NumberAnimation {\n        id: animationX;\n        duration: 500;\n        onRunningChanged: {\n            if (animationX.running) {\n                console.log(\"Animation start\");\n                myModel.busy = myModel.busy + 1\n            } else {\n                console.log(\"Animation stop\");\n                myModel.busy = myModel.busy - 1\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This works as expected. Then, I add a loop to my javascript function to wait until all the animations started.</p>\n\n<pre><code>ListModel {\n    id: myModel\n    ...\n\n    function doSomething() {\n        myModel.move(...)\n        while (myModel.busy) {}\n        myModel.move(...)\n    }\n}\n</code></pre>\n\n<p>Here is the problem. I can see that after the first move() all neccessary animations started, but nothing can be seen and none of the animation finished. I have some kind of a deadlock. How to solve this?</p>\n"}]}
{"total":16229,"page":19,"pagesize":100,"questions":[{"tags":["linux","qt","filesystems","embedded","arm"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":181,"score":1,"question_id":12296217,"title":"Segmentation fault while running Qt Helloworld on embedded system","body":"<p>I cross-compiled a <code>Helloworld</code> executable for <strong>ARM</strong>. It worked well on my friend's development board, but failed with a <strong>\" segmentation fault \"</strong> on my board. The two boards are slightly different in both hardware and software.</p>\n\n<p>My question is, how can I debug in my board? Is it relatively easy to debug such a simple program? Does it indicate that there's nothing wrong with the executable and the problem most probably lies in the filesystem of my board?</p>\n\n<p>Below is the code:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QPushButton&gt;\n\nint main(int argc, char *argv[])\n{\nQApplication app(argc, argv);\n\nQPushButton hello(\"Hello world\");\nhello.resize(100, 30);\n\nhello.show();\nreturn app.exec();\n}\n</code></pre>\n\n<p>And the executable is generated by the following commands:</p>\n\n<pre><code>qmake -project\nqmake\nmake\n</code></pre>\n\n<hr>\n\n<p>EDITED AFTER PROBLEM SOLVED.</p>\n\n<p>Eventually, Segmentation Fault solved accidentally.</p>\n\n<p>What caused this \"segmentation fault\" is exactly the software difference of the board. Specifically, the environmenat variable LD_LIBRARY_PATH was predefined in the failed board. And I added my path by the command</p>\n\n<pre><code>export LD_LIBRARY_PATH=$LD_LIBRARAY_PATH:/my/qt/path\n</code></pre>\n\n<p>Thus the predefined paths caused the problem ( still don't know in what way ).</p>\n\n<p>If I change the command to</p>\n\n<pre><code>export LD_LIBRARY_PATH=/my/qt/path\n</code></pre>\n\n<p>the executable works.</p>\n"},{"tags":["qt","fonts","arabic","qtwebkit","text-justify"],"answer_count":0,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":108,"score":3,"question_id":12269764,"title":"displaying Arabic fonts in QtWebKit","body":"<p>I wrote a program with QtWebkit. I used Arabic fonts in this application. But the text as shown below was inapplicable. Whether there is a solution to fix it?\n<img src=\"http://www.shiaupload.ir/images/47343138299124526783.jpg\" alt=\"text shown inapplicable in QtWebkit :\">\n<img src=\"http://i.stack.imgur.com/FbGuP.jpg\" alt=\"text shown inapplicable:\"></p>\n\n<p><a href=\"http://filesave.me/file/22481/arabicFontInWebkit-rar.html\" rel=\"nofollow\">an example code in here</a></p>\n\n<p>html code:\n{</p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n &lt;html&gt;\n &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n &lt;/head&gt;\n\n\n&lt;style&gt;\n/*Twe Arabic font for test:*/\n@font-face {\n        font-family: '__me_quran';\n        src: url(me_quran.ttf) format('truetype');\n    }\n@font-face {\n        font-family: '__traditionalArabic';\n        src: url(trado.ttf) format('truetype');\n    }\n #para1\n{\n font-family :/*__me_quran*/__traditionalArabic;\n text-align : justify;/*In this project i need justify alinement*/\n direction:rtl;\n}\n\n\n&lt;/style&gt;\n&lt;script type=\"text/javascript\" &gt;\n    var step=1;\n    function plusZoom1(){\n        document.getElementById(\"para1\").style.zoom = parseFloat(step);\n        step +=0.5;\n    }\n\n    function minusZoom1(){\n        step -=0.5;\n        document.getElementById(\"para1\").style.zoom = parseFloat(step);\n    }\n&lt;/script&gt;\n&lt;body&gt;\n&lt;input type=\"button\" value=\"+\" onclick=\"plusZoom1();\" /&gt;\n&lt;input type=\"button\" value=\"-\" onclick=\"minusZoom1();\" /&gt;\n&lt;p id=\"para1\"&gt;\n       بِسْمِ اَللّٰهِ اَلرَّحْمٰنِ اَلرَّحِيمِ ( 1 )  اَلْحَمْدُ لِلّٰهِ رَبِّ اَلْعٰالَمِينَ ( 2 )  اَلرَّحْمٰنِ اَلرَّحِيمِ ( 3 )  مٰالِكِ يَوْمِ اَلدِّينِ ( 4 )  إِيّٰاكَ نَعْبُدُ وَ إِيّٰاكَ نَسْتَعِينُ ( 5 )  اِهْدِنَا اَلصِّرٰاطَ اَلْمُسْتَقِيمَ ( 6 )  صِرٰاطَ اَلَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ اَلْمَغْضُوبِ عَلَيْهِمْ وَ لاَ اَلضّٰالِّينَ ( 7 ) \n&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>qt code :\n{</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QWebView&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QWebView wv;\n    wv.setUrl(QUrl::QUrl(\"qrc:/rc/a.html\"));\n    wv.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["c++","qt","c++11","type-conversion","locale"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":159,"score":1,"question_id":12316972,"title":"c++11 how to tweak std::stod (string to double) for decimal separator and number of digits","body":"<p>is there a way to tweak std::stod() in order to increase the number of decimal digits in the (string to double) conversion and to force it to use the US locale?</p>\n\n<p>I have a Qt application that can be run in both console or gui mode:</p>\n\n<pre><code>if (opt-&gt;getFlag( 'c' ) || opt-&gt;getFlag( \"console\" ) ){\n  ThreadManager  modelMainThread;\n  modelMainThread.runFromConsole(inputFileName,scenarioName);\n}\nelse {\n  QApplication app(argc, argv);\n  MainWindow mainWin;\n  mainWin.show();\n  return app.exec();\n}\n</code></pre>\n\n<p>Within this application I have a string to double method that wraps the new C++11 stod:</p>\n\n<pre><code>double s2d ( const string &amp;string_h) const {\n  try {\n    return stod(string_h);\n  } catch (...) {\n    if (string_h == \"\") return 0;\n    else {\n      cout &lt;&lt; \"error!\" &lt;&lt; endl;\n    }\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Odd enough, while in the console mode the string to double conversion expects a string with dot as decimal separator, in the gui mode it instead expects a string with comma.\nFurthermore, as I was previously using istringstream:</p>\n\n<pre><code>istringstream totalSString( valueAsString );\ntotalSString &gt;&gt; valueAsDouble;\n</code></pre>\n\n<p>I noticed that stod truncates the resulting double to just 3 decimal digits, much less than istringstream.</p>\n\n<p>So is there a way to increase the number of decimal digits and to force std::stod to use the US locale for the conversion ?</p>\n\n<p>Thanks :-)</p>\n\n<p><strong>EDITED</strong>:</p>\n\n<p>If I try this script: </p>\n\n<pre><code>// testing stod() ..\nvector&lt;string&gt; numbers;\nnumbers.push_back(\"123.1234567890\");\nnumbers.push_back(\"123.1234\");\nnumbers.push_back(\"123,1234567890\");\nnumbers.push_back(\"123,1234\");\ndouble outd;\nfor(uint i=0;i&lt;numbers.size();i++){\n    try {\n        outd =  stod(numbers[i]);\n        cout &lt;&lt; \"Conversion passed: \" &lt;&lt; numbers[i] &lt;&lt; \"  -  \" &lt;&lt; outd &lt;&lt; endl;\n    } catch (...) {\n        cout &lt;&lt; \"Conversion DID NOT passed: \" &lt;&lt; numbers[i] &lt;&lt; \"  -  \" &lt;&lt;endl;\n    }\n}\n</code></pre>\n\n<p>I got these results:</p>\n\n<p>\"console\" mode:</p>\n\n<pre><code>Conversion passed: 123.1234567890  -  123.123\nConversion passed: 123.1234  -  123.123\nConversion passed: 123,1234567890  -  123\nConversion passed: 123,1234  -  123\n</code></pre>\n\n<p>\"gui\" mode:</p>\n\n<pre><code>Conversion passed: 123.1234567890  -  123\nConversion passed: 123.1234  -  123\nConversion passed: 123,1234567890  -  123.123\nConversion passed: 123,1234  -  123.123\n</code></pre>\n\n<p>So clearly there is something influencing stod() behaviour !</p>\n"},{"tags":["c++","qt","qtableview","qabstracttablemodel"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12316808,"title":"QTableView - add named row","body":"<p>Im using a using a <code>QTableView</code> in conjuction with table model derived from <code>QAbstaractTableModel</code>. Now I want to insert rows/columns (which represent states/input chars) but I need to pass a string as a label (which is then shown in the HeaderView) for state/input char down to my data classes. </p>\n\n<pre><code>bool TransTableModel::insertRows(int position, int rows, const QModelIndex &amp;index)\n{\n    beginInsertRows(index, position, position+rows-1);\n\n    garage-&gt;addUsedState(\"q6\");\n\n    endInsertRows();\n}\n</code></pre>\n\n<p><code>TransTableModel</code> is my custom model. My problem: how do I obtain this string from user? In this case I hardcoded <code>\"q6\"</code> as a label, but I need this to be user-supplied. Is there a way? Should I open an input dialog? From the model class?</p>\n"},{"tags":["qt","qt-creator","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12315521,"title":"QtCreator: QML Debugger, connection refused - switch off QML debugger?","body":"<p>In QtCreator (2.5.2, Win7) I get a permanent / repeating output in the Debugger window. Debugging etc. all fine. Since I do not need QML debugging, how can I switch off the QML debugger? Or fix the issue in order to get rid of the repeating message.</p>\n\n<pre><code>QML Debugger: Error: (0) Connection refused\nQML Debugger: Connecting to debug server 127.0.0.1:3768\nQML Debugger: resolving host...\nQML Debugger: connecting to debug server...\n</code></pre>\n\n<p>Have tried <code>CONFIG -= declarative_debug</code> with no effect.</p>\n\n<p>Screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/pmGls.png\" alt=\"QML debugger message\"></p>\n"},{"tags":["mysql","visual-studio","qt","plugins","build"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":1096,"score":0,"question_id":5299087,"title":"Problem with building MySQL-Plugin in Qt 4.7.2","body":"<p>i have here a linker problem with building the MySQL Driver in Qt 4.7.2</p>\n\n<p>I have installed Qt 4.7.2 for VS2008 and MySQL 5.5.9 Community Edition, both in a path without spaces (C:\\Qt, C:\\MySQL). \nI take the commands from the Qt-Doc and creating the MakeFiles are no problem, there is only the message:</p>\n\n<pre><code>C:\\Qt\\4.7.2\\src\\plugins\\sqldrivers\\mysql&gt;C:\\Qt\\4.7.2\\bin\\qmake \"INCLUDEPATH+=C:\\MySQL\\include\" \"LIBS+=C:\\MYSQL\\lib\\libmysql.lib\" mysql.pro\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: (internal):1: Unescaped backslashes are deprecated.\n</code></pre>\n\n<p>Then i run nmake and get following result:</p>\n\n<pre><code>C:\\Qt\\4.7.2\\src\\plugins\\sqldrivers\\mysql&gt;nmake\n\nMicrosoft (R) Program Maintenance Utility Version 9.00.30729.01\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        \"C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\nmake.exe\" -f Makefile.Debug\n\nMicrosoft (R) Program Maintenance Utility Version 9.00.30729.01\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        C:\\Qt\\4.7.2\\bin\\moc.exe -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQ\nT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"..\\..\\..\\..\\include\\QtCore\" -I\"..\\..\\..\\..\\include\\QtSql\" -I\"..\\..\\..\\..\\include\" -I\"c:\\MySQL\\include\" -I\"..\\..\\..\\..\\include\\ActiveQt\n\" -I\"debug\" -I\"..\\..\\..\\..\\mkspecs\\default\" -D_MSC_VER=1500 -DWIN32 ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.cpp -o debug\\qsql_mysql.moc\n        C:\\Qt\\4.7.2\\bin\\moc.exe -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQ\nT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"..\\..\\..\\..\\include\\QtCore\" -I\"..\\..\\..\\..\\include\\QtSql\" -I\"..\\..\\..\\..\\include\" -I\"c:\\MySQL\\include\" -I\"..\\..\\..\\..\\include\\ActiveQt\n\" -I\"debug\" -I\"..\\..\\..\\..\\mkspecs\\default\" -D_MSC_VER=1500 -DWIN32 ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.h -o debug\\moc_qsql_mysql.cpp\n        rc -D_DEBUG -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -\nDQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -fo debug\\qsqlmysqld_resource.res qsqlmysqld_resource.rc\nMicrosoft (R) Windows (R) Resource Compiler Version 6.1.6723.1\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LI\nB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"..\\..\\..\\..\\include\\QtCore\" -I\"..\\..\\..\\..\\include\\QtSql\" -I\"..\\..\\..\\..\\include\" -I\"\nc:\\MySQL\\include\" -I\"..\\..\\..\\..\\include\\ActiveQt\" -I\"debug\" -I\"..\\..\\..\\..\\mkspecs\\default\" -Fodebug\\ @C:\\Users\\MASTER~1\\AppData\\Local\\Temp\\nmF5B5.tmp\nmain.cpp\n        cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LI\nB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"..\\..\\..\\..\\include\\QtCore\" -I\"..\\..\\..\\..\\include\\QtSql\" -I\"..\\..\\..\\..\\include\" -I\"\nc:\\MySQL\\include\" -I\"..\\..\\..\\..\\include\\ActiveQt\" -I\"debug\" -I\"..\\..\\..\\..\\mkspecs\\default\" -Fodebug\\ @C:\\Users\\MASTER~1\\AppData\\Local\\Temp\\nmFE8C.tmp\nqsql_mysql.cpp\n        cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_DLL -DQT_PLUGIN -DQT_SQL_LI\nB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"..\\..\\..\\..\\include\\QtCore\" -I\"..\\..\\..\\..\\include\\QtSql\" -I\"..\\..\\..\\..\\include\" -I\"\nc:\\MySQL\\include\" -I\"..\\..\\..\\..\\include\\ActiveQt\" -I\"debug\" -I\"..\\..\\..\\..\\mkspecs\\default\" -Fodebug\\ @C:\\Users\\MASTER~1\\AppData\\Local\\Temp\\nm6E7.tmp\nmoc_qsql_mysql.cpp\n        link /LIBPATH:\"c:\\Qt\\4.7.2\\lib\" /NOLOGO /DEBUG /DLL /MANIFEST /MANIFESTFILE:\"debug\\qsqlmysqld.intermediate.manifest\" /VERSION:4.72 /OUT:debug\\qsqlmysqld4.dll @C:\\Users\\MASTER~1\\AppData\\Local\\T\nemp\\nmE28.tmp\n   Creating library debug\\qsqlmysqld4.lib and object debug\\qsqlmysqld4.exp\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_fetch_field@4 referenced in function \"public: bool __thiscall QMYSQLResultPrivate::bindInValues(void)\" (?bindInValues@QMYSQLResultPriv\nate@@QAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_num_fields@4 referenced in function \"public: bool __thiscall QMYSQLResultPrivate::bindInValues(void)\" (?bindInValues@QMYSQLResultPriva\nte@@QAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_result_metadata@4 referenced in function \"public: bool __thiscall QMYSQLResultPrivate::bindInValues(void)\" (?bindInValues@QMYSQLR\nesultPrivate@@QAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_close@4 referenced in function \"protected: void __thiscall QMYSQLResult::cleanup(void)\" (?cleanup@QMYSQLResult@@IAEXXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_store_result@4 referenced in function \"protected: void __thiscall QMYSQLResult::cleanup(void)\" (?cleanup@QMYSQLResult@@IAEXXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_next_result@4 referenced in function \"protected: void __thiscall QMYSQLResult::cleanup(void)\" (?cleanup@QMYSQLResult@@IAEXXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_free_result@4 referenced in function \"protected: void __thiscall QMYSQLResult::cleanup(void)\" (?cleanup@QMYSQLResult@@IAEXXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_fetch_row@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetch(int)\" (?fetch@QMYSQLResult@@MAE_NH@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_data_seek@12 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetch(int)\" (?fetch@QMYSQLResult@@MAE_NH@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_fetch@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetch(int)\" (?fetch@QMYSQLResult@@MAE_NH@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_data_seek@12 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetch(int)\" (?fetch@QMYSQLResult@@MAE_NH@Z)\n\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_errno@4 referenced in function \"class QSqlError __cdecl qMakeStmtError(class QString const &amp;,enum QSqlError::ErrorType,struct st_\nmysql_stmt *)\" (?qMakeStmtError@@YA?AVQSqlError@@ABVQString@@W4ErrorType@1@PAUst_mysql_stmt@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_error@4 referenced in function \"class QSqlError __cdecl qMakeStmtError(class QString const &amp;,enum QSqlError::ErrorType,struct st_\nmysql_stmt *)\" (?qMakeStmtError@@YA?AVQSqlError@@ABVQString@@W4ErrorType@1@PAUst_mysql_stmt@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_num_rows@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetchLast(void)\" (?fetchLast@QMYSQLResult@@MAE_NXZ\n)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_num_rows@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::fetchLast(void)\" (?fetchLast@QMYSQLResult@@MA\nE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_fetch_lengths@4 referenced in function \"protected: virtual class QVariant __thiscall QMYSQLResult::data(int)\" (?data@QMYSQLResult@@MAE\n?AVQVariant@@H@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_fetch_field_direct@8 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::reset(class QString const &amp;)\" (?reset@QM\nYSQLResult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_affected_rows@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::reset(class QString const &amp;)\" (?reset@QMYSQLR\nesult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_field_count@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::reset(class QString const &amp;)\" (?reset@QMYSQLRes\nult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_real_query@12 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::reset(class QString const &amp;)\" (?reset@QMYSQLRes\nult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_errno@4 referenced in function \"class QSqlError __cdecl qMakeError(class QString const &amp;,enum QSqlError::ErrorType,class QMYSQLDriverP\nrivate const *)\" (?qMakeError@@YA?AVQSqlError@@ABVQString@@W4ErrorType@1@PBVQMYSQLDriverPrivate@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_error@4 referenced in function \"class QSqlError __cdecl qMakeError(class QString const &amp;,enum QSqlError::ErrorType,class QMYSQLDriverP\nrivate const *)\" (?qMakeError@@YA?AVQSqlError@@ABVQString@@W4ErrorType@1@PBVQMYSQLDriverPrivate@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_insert_id@4 referenced in function \"protected: virtual class QVariant __thiscall QMYSQLResult::lastInsertId(void)const \" (?lastInsertI\nd@QMYSQLResult@@MBE?AVQVariant@@XZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_insert_id@4 referenced in function \"protected: virtual class QVariant __thiscall QMYSQLResult::lastInsertId(void)const \" (?lastIn\nsertId@QMYSQLResult@@MBE?AVQVariant@@XZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_field_seek@8 referenced in function \"protected: virtual class QSqlRecord __thiscall QMYSQLResult::record(void)const \" (?record@QMYSQLR\nesult@@MBE?AVQSqlRecord@@XZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_param_count@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::prepare(class QString const &amp;)\" (?prepare@\nQMYSQLResult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_prepare@12 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::prepare(class QString const &amp;)\" (?prepare@QMY\nSQLResult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_init@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::prepare(class QString const &amp;)\" (?prepare@QMYSQLR\nesult@@MAE_NABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_store_result@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\n\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_attr_set@12 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_bind_result@8 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_affected_rows@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ\n)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_execute@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_bind_param@8 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_stmt_reset@4 referenced in function \"protected: virtual bool __thiscall QMYSQLResult::exec(void)\" (?exec@QMYSQLResult@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_character_set_name@4 referenced in function \"class QTextCodec * __cdecl codec(struct st_mysql *)\" (?codec@@YAPAVQTextCodec@@PAUst_mysq\nl@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_thread_init@0 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;,c\nlass QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_get_server_version@4 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString co\nnst &amp;,class QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_get_client_version@0 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString co\nnst &amp;,class QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_set_character_set@8 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString con\nst &amp;,class QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_options@12 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;,clas\ns QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_close@4 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;,class Q\nString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_select_db@8 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;,cla\nss QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_real_connect@32 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;\n,class QString const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_init@4 referenced in function \"public: virtual bool __thiscall QMYSQLDriver::open(class QString const &amp;,class QString const &amp;,class QS\ntring const &amp;,class QString const &amp;,int,class QString const &amp;)\" (?open@QMYSQLDriver@@UAE_NABVQString@@000H0@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_thread_end@0 referenced in function \"public: virtual void __thiscall QMYSQLDriver::close(void)\" (?close@QMYSQLDriver@@UAEXXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_list_tables@8 referenced in function \"public: virtual class QStringList __thiscall QMYSQLDriver::tables(enum QSql::TableType)const \" (\n?tables@QMYSQLDriver@@UBE?AVQStringList@@W4TableType@QSql@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_list_fields@12 referenced in function \"public: virtual class QSqlRecord __thiscall QMYSQLDriver::record(class QString const &amp;)const \"\n(?record@QMYSQLDriver@@UBE?AVQSqlRecord@@ABVQString@@@Z)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_query@8 referenced in function \"protected: virtual bool __thiscall QMYSQLDriver::beginTransaction(void)\" (?beginTransaction@QMYSQLDriv\ner@@MAE_NXZ)\nqsql_mysql.obj : error LNK2019: unresolved external symbol _mysql_real_escape_string@16 referenced in function \"public: virtual class QString __thiscall QMYSQLDriver::formatValue(class QSqlField const\n &amp;,bool)const \" (?formatValue@QMYSQLDriver@@UBE?AVQString@@ABVQSqlField@@_N@Z)\ndebug\\qsqlmysqld4.dll : fatal error LNK1120: 50 unresolved externals\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\link.EXE\"' : return code '0x460'\nStop.\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\n</code></pre>\n\n<p>At the Qt-Doc is another path to the MySQL libs, but i changed that. I have no opt-Path, the libaries are in the folder above.</p>\n\n<p>I have tried to build the plugin in VS2008/2010 Command Prompt, there is no difference.</p>\n\n<p>Hope someone can help me,\nthanks</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12316309,"title":"QT QTreeWidgetItem --> how to set an image for the row","body":"<p>I want to add text(in the starting for the row) and an image at the end of the row.I can set the text but how to set an image at the end of the row item in QTreeWidgetItem.</p>\n\n<p>Pls help me.</p>\n\n<p>Thanks,\nBhaskar.</p>\n"},{"tags":["qt","html5","qtwebkit","qwebview"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2434,"score":0,"question_id":3066055,"title":"QtWebKit problems playing HTML5 video","body":"<p>I have a simple Qt application that launches a window with a QWebView. I tried several sites using the video tag with h.264, and it either can't play the video at all (as in youtube or <a href=\"http://jilion.com/sublime/video\" rel=\"nofollow\">sublime video</a>), or it renders the video poorly, with black lines covering parts of it, like when viewing the video <a href=\"http://webkit.org/blog/140/html5-media-support/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Is this a known issue with QtWebKit, or have I neglected to do something that would make it work better? My code is below.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QWebView&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QWebView *view = new QWebView();\n    view-&gt;load(QUrl(\"http://webkit.org/blog/140/html5-media-support/\"));\n    view-&gt;show();\n\n    return a.exec();\n}\n</code></pre>\n"},{"tags":["qt","qglwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12209727,"title":"QGLWidget not working correctly under Mac OS X Lion","body":"<p>As you see -- I have no idea why it's not working at all.</p>\n\n<p>When the program run, it will look like this:<img src=\"http://i.stack.imgur.com/EO9OS.png\" alt=\"broken display\"></p>\n\n<p>I'm using qt4-mac(v4.8.2) from macports. It seems that the package was pre-compiled.</p>\n\n<p>And here's the source:</p>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n\n#include \"GLPlayerWindow.hpp\"\n\nint main(int argc, char *argv[])\n{\n     QApplication app(argc, argv);\n\n     GLPlayerWindow window;\n     window.show();\n     window.resize(800, 600);\n\n     return app.exec();\n}\n</code></pre>\n\n<p>GLPlayerWindow.hpp:</p>\n\n<pre><code>#ifndef __GLPLAYERWINDOW__HPP__DEFINED__\n#define __GLPLAYERWINDOW__HPP__DEFINED__\n\n#include &lt;string&gt;\n\n#include &lt;QGLWidget&gt;\n#include &lt;QMouseEvent&gt;\n#include &lt;QKeyEvent&gt;\n#include &lt;QTimer&gt;\n\n#include &lt;SimpleAV_SDL.h&gt;\n\nclass GLPlayerWindow : public QGLWidget\n{\n     Q_OBJECT\n\npublic:\n     GLPlayerWindow(QWidget *parent = NULL);\n     ~GLPlayerWindow();\n\nprotected slots:\n     void paintGL();\n\nprotected:\n     void initializeGL();\n     void resizeGL(int w, int h);\n     void keyPressEvent(QKeyEvent *event);\n};\n\n#endif\n</code></pre>\n\n<p>GLPlayerWindow.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include \"GLPlayerWindow.hpp\"\n#include &lt;GL/glu.h&gt;\n\nGLPlayerWindow::GLPlayerWindow(QWidget *parent)\n     : QGLWidget(parent) {\n     setMouseTracking(true);\n}\n\nGLPlayerWindow::~GLPlayerWindow() {\n}\n\nvoid GLPlayerWindow::initializeGL() {\n     glDisable(GL_DEPTH_TEST);\n     glDisable(GL_COLOR_MATERIAL);\n     glEnable(GL_TEXTURE_2D);\n     glEnable(GL_BLEND);\n     glEnable(GL_POLYGON_SMOOTH);\n     glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n     glClearColor(1.0f, 0.0f, 0.0f, 0);\n}\n\nvoid GLPlayerWindow::resizeGL(int w, int h) {\n     glViewport(0, 0, w, h);\n     glMatrixMode(GL_PROJECTION);\n     glLoadIdentity();\n     gluOrtho2D(0, w, 0, h); // set origin to top left corner\n     glMatrixMode(GL_MODELVIEW);\n     glLoadIdentity();\n}\n\nvoid GLPlayerWindow::paintGL() {\n     glClear(GL_COLOR_BUFFER_BIT);\n     return;\n}\n\nvoid GLPlayerWindow::keyPressEvent(QKeyEvent* event) {\n}\n</code></pre>\n\n<p>And the .pro file:</p>\n\n<pre><code>QT += opengl\nTEMPLATE = app\nTARGET = \nDEPENDPATH += .\nINCLUDEPATH += .\n\nCONFIG += link_pkgconfig\nPKGCONFIG += libavcodec libavformat libavutil libswscale SimpleAV_SDL sdl SDL_mixer gl glu\n\n# LIBS += `pkg-config --libs SimpleAV_SDL SDL_mixer sdl`\n# CFLAGS += -g -O2 -Wall -W `pkg-config --cflags SimpleAV_SDL SDL_mixer sdl`\nCFLAGS += -g -O2 -Wall -W\n\n# Input\nHEADERS += GLPlayerWindow.hpp\nSOURCES += GLPlayerWindow.cpp main.cpp\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12312598,"title":"Does QBuffer write data in system dependent byte order?","body":"<p>The documentation says that QDataStream writes data in system independent way, but it says nothing about QBuffer. I develop a program that saves data in a file like this:</p>\n\n<pre><code>QByteArray a;\nQBuffer b(&amp;a);\nb.open(QIODevide::WriteOnly);\nquint32 x = 1;\nb.write((char*)&amp;x, sizeof(x));\nb.close();\nQFile f(...);\nf.open(QIODevide::WriteOnly);\nf.write(a.constData(), a.size());\nf.close();\n</code></pre>\n\n<p>, and i want this file can be read in any other OS (win, linux, Mac OS). Will this code work or i must use QDataStream instead?</p>\n"},{"tags":["c++","qt","topmost"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":2,"view_count":555,"score":2,"question_id":10210754,"title":"How to make a window appear on top of everything (even full screen games!) c++/Qt","body":"<p>I'm trying to make an application displaying a crosshair at the center of the screen and staying on top of everything else.\nThe aim is to have a crosshair in some FPS games that doesn't provide one.\nI've succesfully made my window topmost for everything except the games :/</p>\n\n<p>Here is my code : (everything is in the main since im only testing the core functionalitys of my app, I've commented it extensively to try and make my problem more accessible)</p>\n\n<pre><code>QApplication app(argc, argv);\n\nDWORD error;\nQWidget window;\nQLabel *label = new QLabel(&amp;window);\nlabel-&gt;setText(\"&lt;strong&gt;O&lt;strong&gt;\");//I'm using an \"O\" as a crosshair until I can figure out how to display image transparency.\nwindow.setGeometry(960-label-&gt;width()/2,540-label-&gt;height()/2,label-&gt;width(),label-&gt;height());//here I'm making my window appear in the center of my screen\nwindow.setWindowFlags(Qt::FramelessWindowHint | Qt::WindowStaysOnTopHint);// here making the window frameless and topMost via qt\nwindow.setAttribute(Qt::WA_TranslucentBackground);//making the window see through\nwindow.setWindowTitle(\"Crosshair\");\nwindow.show();\n\n//in this next part I tried using windows api to make my window appear on top of the game.\nHWND handle, myHandle;\nmyHandle = FindWindow(NULL,TEXT(\"Crosshair\"));//retieving my own application window handle\nif(myHandle == 0){cout &lt;&lt; \"no own handle\" &lt;&lt; endl;}//it successfully retrieves it\n\nhandle = FindWindow(NULL,TEXT(\"Killing Floor\"));//retrieving a game window handle\nif(handle == 0){cout &lt;&lt; \"no KF handle\" &lt;&lt; endl;}//it successfully retrieves it\n\nif(handle != 0 &amp;&amp; myHandle != 0)\n{\n    if(SetWindowPos(handle,myHandle,0,0,0,0,SWP_NOSIZE | SWP_NOMOVE) == 0){cout &lt;&lt; \"couldnt set notopmost\" &lt;&lt; endl;}//here SetWindowPos returns 0 (function failed)\n}\n          // I've also tried using SetWindowPos to set the game to Not TOPMOST, it didnt work either.\n          // here was my code : SetWindowPos(handle, HWND_NOTOPMOST, 0, 0, 0, 0, SWP_NOSIZE | SWP_NOMOVE);\n\nerror = GetLastError();// i tried using GetLastError to understand what was happening\ncout &lt;&lt; error &lt;&lt; endl;// but it only returns \"5\", I've read that you can look in WINNT.H for information about the meanings of error codes\n                      // however its a pretty big file and I wasn't able to understand where the relevant part was.\n\n\nreturn app.exec();\n</code></pre>\n\n<p>My guess is that application such as games have a more direct control over the display device.\nI'm looking for any solution to this problem (not neccesseraly one involving a transparent topmost window).\nAlso on a sidenote if someone could explain to me how to effectively use GetLastError(), and also why are game behaving differently than a common window.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","opencv","qimage"],"answer_count":6,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":6923,"score":8,"question_id":5026965,"title":"how to convert an opencv cv::Mat to qimage","body":"<p>I am wondering how would I convert the OpenCV C++ standard cv::Mat type to Qimage. I have been searching around, but have no luck. I have found some code that converts the IPlimage to Qimage, but that is not what I want. Thanks</p>\n"},{"tags":["c++","qt","ubuntu-10.04","vtk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12300310,"title":"Reading .vtk file","body":"<p>I'm working on <code>VTK (Qt on ubuntu 10.04)</code>.<br>\nI'm trying to read a <code>.vtk</code> file having 3D image. As I could understand, this </p>\n\n<p><a href=\"http://www.vtk.org/Wiki/VTK/Examples/Cxx/IO/GenericDataObjectReader\" rel=\"nofollow\">http://www.vtk.org/Wiki/VTK/Examples/Cxx/IO/GenericDataObjectReader</a> </p>\n\n<p>makes it possible to read any vtk file. However, it does not work. All I get is :</p>\n\n<pre><code>Starting /home/taha/Downloads/VTK/Examples/qtcreator-build/GenericDataObjectReader...\nUsage: /home/taha/Downloads/VTK/Examples/qtcreator-build/GenericDataObjectReader InputFilename\n/home/taha/Downloads/VTK/Examples/qtcreator-build/GenericDataObjectReader exited with code 1\n</code></pre>\n\n<p>1) Does the code I'm using work properly? Should I change something?</p>\n\n<p>Even though I know that I need to pass the filename as arguments, I may not know how to do it from command prompt.  I searched on internet in detail for this but the ways I'm following might be wrong.</p>\n\n<p>2) How could one pass filename as arguments to program in C++? </p>\n"},{"tags":["qt","repeat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12310749,"title":"qt : repeat the last command","body":"<p>Can I repeat the last command?<br>\nI just want to store the \"ACTION\" in a variable,<br>\nand when I press a \"KEY\" do it again.<br>\nBut, I don't know how to do.<br>\nIs it similar to use QUndoStack?  </p>\n"},{"tags":["qt","qgraphicsitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12310329,"title":"How can I create dynamic QGraphicsItems","body":"<p>Currently I have a class 'Polygon' which inherits QGraphicsItem. I have class 'PolygonFactory' which creates, and configures Polygons. The PolygonFactory reads information from a DB, and from that information it creates Polygons. My problem is that if I inherit QGraphicsItem, I have to specify it's shape as a constant, but I need the Polygons to be created on the fly. You may say \"don't inherit QGraphicsItem\" but I need to, because I need user interaction with the Polygons in my GraphicsScene. I hope I'm being clear, but if you need more information let me know.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12307119,"title":"QGraphicsScene::items returns no items for a given rect","body":"<p>I'd like to select all items within a certain area and change their opacity. I'm using <code>QGraphicsScene::items()</code> to do this, but I can't seem to get it to return any items. An example:</p>\n\n<pre><code>#include \"MainWindow.h\"\n#include \"ui_MainWindow.h\"\n\n#include &lt;QDebug&gt;\n#include &lt;QKeyEvent&gt;\n#include &lt;QGraphicsPixmapItem&gt;\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n  , scene(new QGraphicsScene())\n{\n    ui-&gt;setupUi(this);\n\n    ui-&gt;graphicsView-&gt;setScene(scene);\n    ui-&gt;graphicsView-&gt;installEventFilter(this);\n    ui-&gt;graphicsView-&gt;show();\n\n    for (int y = 0; y &lt; 20; ++y) {\n        for (int x = 0; x &lt; 20; ++x) {\n            QPixmap pixmap(\"desert.png\");\n            QGraphicsPixmapItem* newItem(scene-&gt;addPixmap(pixmap));\n            newItem-&gt;setPos(x * 25, y * 25);\n            newItem-&gt;setOpacity(0.0);\n            qDebug() &lt;&lt; newItem;\n        }\n    }\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n    delete scene;\n}\n\nbool MainWindow::eventFilter(QObject *obj, QEvent *event)\n{\n    if(event-&gt;type() == QEvent::KeyPress) {\n        QKeyEvent *keyEvent = static_cast&lt;QKeyEvent*&gt;(event);\n        if (keyEvent-&gt;key() == Qt::Key_Space) {\n            QRectF rect(0, 0, 25 * 3, 25 * 3);\n            QList&lt;QGraphicsItem*&gt; items(scene-&gt;items(rect, Qt::ContainsItemBoundingRect, Qt::AscendingOrder));\n            qDebug() &lt;&lt; items;\n            foreach (QGraphicsItem *item, items) {\n                item-&gt;setOpacity(1.0);\n            }\n        }\n        return true;\n    }\n    return QObject::eventFilter(obj, event);\n}\n</code></pre>\n\n<p>I'm pretty sure that I don't need to supply the <code>deviceTransform</code> argument, and I know that the rect I'm passing in should cover 9 tiles. What am I doing wrong?</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12301251,"title":"how to get the index of QList according to QSignalMapper","body":"<p>I have <code>QList</code> of <code>QPushButton</code>'s and <code>QSignalMapper</code> to recognize which button is pushed.\nSo I did something like that (my project is very big, so I cut just the lines needed to the question)</p>\n\n<pre><code>QList&lt;QPushButton*&gt; Buttons;\nQList &lt;QLabel*&gt; LabelList1;\nQList &lt;QLabel*&gt; LabelList2;\nQList &lt;QLabel*&gt; LabelList3;\nQList &lt;QLabel*&gt; LabelList4;\nQSignalMapper *ButtonsMapper;\nButtonsMapper= new QSignalMapper(this);\nconnect(ButtonsMapper, SIGNAL(mapped(int)),this,SIGNAL(ButtonsClicked(int)));\nconnect(this, SIGNAL(ButtonsClicked(int)),this,SLOT(deleteButton(int)));\n\nButtons.append(new QPushButton(tr(\"0\")));//first button \nLabelList1.append(new QLabel(tr(\"0\")));\nLabelList2.append(new QLabel(tr(\"0\")));\nLabelList3.append(new QLabel(tr(\"0\")));\nLabelList4.append(new QLabel(tr(\"0\")));\nQPushButton * pb1 = Buttons.last();//pointer to the last button\nconnect(pb1, SIGNAL(clicked()), ButtonsMapper, SLOT(map()));\nButtonsMapper-&gt;setMapping(pb1,0);\n\nButtons.append(new QPushButton(tr(\"1\")));//second button\nLabelList1.append(new QLabel(tr(\"1\")));\nLabelList2.append(new QLabel(tr(\"1\")));\nLabelList3.append(new QLabel(tr(\"1\")));\nLabelList4.append(new QLabel(tr(\"1\"))); \nQPushButton * pb2 = Buttons.last();//pointer to the last button\nconnect(pb2, SIGNAL(clicked()), ButtonsMapper, SLOT(map()));\nButtonsMapper-&gt;setMapping(pb2,1);\n</code></pre>\n\n<p>and the function <code>deleteButton</code> supposed to delete the button was pressed. If I do something like that</p>\n\n<pre><code>void myclass::deleteButton(int i){ \n   delete (Buttons.takeAt(i));\n   delete ( LabelList1.takeAt(i));\n   delete ( LabelList2.takeAt(i));\n   delete( LabelList3.takeAt(i));\n   delete( LabelList4.takeAt(i));\n    }\n</code></pre>\n\n<p>that function can lead to <code>index out of range</code> error, if I delete the first button, and then I press on the second button, the function <code>Buttons.takeAt(i)</code> point to not exist button.</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12297463,"title":"Checkbox in tableview checked based on selection","body":"<p>I've implemented a custom tablemodel based on <code>QAbstractItemModel</code>. The first column in the ttble includes a checkbox. Selection of a row is enabled. \nI'm trying to implement following behaviour:\nIf I click on the row I want that the checkbox in the first column to be checked or unchecked. How can I do that? It only works if I click on the checkbbox since a <code>setData()</code> with <code>QtCore.Qt.CheckStateRole</code> is triggered.</p>\n"},{"tags":["qt","properties","qt4","qml","qtdeclarative"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12284151,"title":"Invalid write to global property QML","body":"<p>I have this signal</p>\n\n<pre><code>class SystemUICfgScanner \n{\n    /*code here*/\nsignals:\n    void error(QString desc);\n    /*more code*/\n};\n</code></pre>\n\n<p>In QML I use an InfoBanner this way:</p>\n\n<pre><code>InfoBanner\n{\n    property string infodetails: \"\"\n    id: systemuicfgErrorBanner\n    text: \"Error: \" + infodetails\n    Connections\n    {\n        target: cfgScanner\n        onError: infodetails = desc\n    }\n}\n</code></pre>\n\n<p>When error(QString) signal is emitted, I'm getting this error</p>\n\n<pre><code>Invalid write to global property \"infodetails\"\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12304768,"title":"QML Infinite Animations with memory leak?","body":"<p>I'm developing a QML Desktop application using Qt 4.8.1 on Windows. The thing is: I'm having memory leaks when using Script Actions inside infinite animation loops. Even when there is no script actually running. Here's an example inside a MouseArea. </p>\n\n<pre><code>    SequentialAnimation\n    {\n        id: loadFisicaAnim\n        loops: Animation.Infinite;\n        ScriptAction\n        {\n            script: \n            {\n\n            }\n        }\n    }\n</code></pre>\n\n<p>This generates a small memory leak. When the animation is stopped the memory seems to be freed. However, letting it run for ever obviously crashes the program.</p>\n\n<p>Is this how Qt manages memory with ScriptActions? Am I doing anything wrong?</p>\n\n<p>Theo</p>\n"},{"tags":["qt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12304293,"title":"synchronize scrollbar in Qt","body":"<p>I have 2 graphicsview each with a separate scrollbar, as seen in the <a href=\"http://www.qtcentre.org/attachment.php?attachmentid=8192&amp;d=1346939235\" rel=\"nofollow\">image</a>. I wonder how I can synchronize, so that the move one the other moves too.</p>\n\n<p>thanks</p>\n"},{"tags":["c++","qt","wizard","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12303508,"title":"QWizard with common components of pages","body":"<p>hi all am working in project with qt creator, I am trying to create a wizard with 3 pages, I have common components that must be in the three pages so i put them in the main wizard and I tried to fix pages' size to fit with those components but I couldn't.</p>\n\n<p>here is the code :</p>\n\n<pre><code>VolumeCreationWind::VolumeCreationWind(QWidget *parent)  : QWizard(parent)\n\n{setFixedSize (600, 350) ;\nsetWindowIcon(QIcon(\"icon2.png\"));\nsetWindowTitle(\" Volume Creation\");\naddPage(new Page1);\naddPage(new Page2);\naddPage(new Page3);\nlabelTitle=new QLabel(this);\nlabelImage=new QLabel(this);\nimage= QImage(\"C:/Users/o.maddouri/MyProjects/DiskCrypt/disklocked.png\");\nlabelTitle-&gt;setText(\"DiskCrypt Volume Creation Options\");\nlabelTitle-&gt;setFont(QFont(\"Arial\", 12, QFont::Bold));\nlabelTitle-&gt;setGeometry(295,10,280,40);\n\nframe-&gt;setFrameShape(QFrame::StyledPanel);\nframe-&gt;setGeometry(2, 2, 596, 310);\nlabelImage-&gt;setGeometry(8,8,260,298);\nlabelImage-&gt;setPixmap(QPixmap::fromImage(image).scaled(260,298));\nb_Help=new QPushButton(\"Help\",this);\nb_Help-&gt;move(15,563);}\n\nPage1::Page1(QWidget *parent)    : QWizardPage(parent) \n{\n page-&gt;setTitle(\"Introduction\");\n QLabel *label = new QLabel(\"This wizard will help you .\");\n label-&gt;setWordWrap(true);\n QVBoxLayout *layout = new QVBoxLayout;\n layout-&gt;addWidget(label);\n layout-&gt;setgeometry(295,30,200,100);\n page-&gt;setLayout(layout);}\n</code></pre>\n\n<p>I get in my wizard page1 and my common components over it\nwhat shall I do?</p>\n\n<p>any help will be appreciated,thank you in advance.  </p>\n"},{"tags":["c++","qt","network-programming","udp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":12302476,"title":"How to check if a UDP packet is sent at transmitter","body":"<p>I am trying to send a packet using UDP. I know that if the channel is not free the packet will not be sent. I am using QT's <code>udpSocket-&gt;writeDatagram</code> to send a UDP packet. I am doing it in a loop, I want to make sure I do not send another packet before the previous packet has been sent. Is there a flag, or any other way that I can check and make sure the packet is sent?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12301484,"title":"How to treat a QString as a file location and get its directory","body":"<p>I gather a list of files into a QStringList from a Qt GUI.  Each of these files is a <code>.txt</code> file, with a corresponding video file in <code>same_folder_as_txt/videos/</code>.  </p>\n\n<p>Is there an easy way to manipulate QString objects as file paths?  For example, given <code>C:/some/path/foo.txt</code> , I want to retrieve <code>C:/some/path/videos/foo.avi</code></p>\n"},{"tags":["c++","qt","templates"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12283107,"title":"Having issues with templates in derived classes","body":"<p>I have a set of classes that are used to prepare data for serialization. All of them are derived from the base class <code>cBase</code>, which doesn't hold anything related to the question. </p>\n\n<p>Among the derived classes there are:</p>\n\n<pre><code>class cValue: public cBase\n{\npublic:\n    cValue(){}\n    template&lt; class T &gt; void set( const T &amp; value ){ data_ = value; }\n\nprotected:\n    QVariant data_;\n};\n</code></pre>\n\n<p>This is the class for holding simple values like a string or a number. And here is a class to represent an object (basically something that can hold \"name-value\" pairs:</p>\n\n<pre><code>class cObject: public cBase\n{\npublic:\n    cObject(){}\n\n    void addAttribure( const QString &amp; name, cBase * value )\n    {\n        if( attributes_.contains( name ) )\n            delete attributes_[name];\n        attributes_[name] = value;\n    }\n\n    template&lt; class T &gt; void addAttribure( const QString &amp; name, const T &amp; value )\n    {\n        cValue * tmp = new cValue();\n        tmp-&gt;set( value );\n        addAttribure( name, tmp );\n    }\nprotected:\n    QMap&lt; QString, cBase * &gt; attributes_;\n};\n</code></pre>\n\n<p>The purpose of this is to be able to add attributes both with already-created objects: <code>addAttribute(someName, someObject);</code> and with raw values: <code>addAttribute(\"name\", 42);</code></p>\n\n<p>Now, as it is, this code compiles. However, if I try to create an object like this:</p>\n\n<pre><code>cValue *tmp = new cValue();\ntmp-&gt;set( 42 );\ncObject obj;\nobj.addAttribure(\"The Answer\", tmp);\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>/usr/include/qt4/QtCore/qvariant.h:429:12: error: 'QVariant::QVariant(void*)' is private\n../../source/private/../include/MyClasses.h:36:51: error: within this context\n</code></pre>\n\n<p>The error appears on the line where <code>cValue</code>'s <code>set()</code> function is declared. \nNow if I remove the templated version of <code>addAttribute()</code>, and place the exact same code from that function into my main:</p>\n\n<pre><code>cObject obj;\ncValue * tmp = new cValue();\ntmp-&gt;set( 42 );\nobj.addAttribure( \"The Answer\", tmp );\n</code></pre>\n\n<p>it works fine. I figure it has something to do with the fact that both <code>addAttribute()</code> and <code>set()</code> functions are templated, but I fail to understand how to fix this issue, or at least how to make a workaround. </p>\n\n<p><em>Note</em>: if possible, I would like to <em>not</em> make the classes themselves templated, only the functions. </p>\n"},{"tags":["android","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":163,"score":1,"question_id":12284186,"title":"Android using qt library","body":"<p>it's necessary to use Qt library in my project, so what you please advice me how better to use sources written in pure Qt? I don't need a UI, just some code, is it necessary to use Necessitas or just include into project build QtEverywhere sources &amp; that's it? \njust .so with using of code written in Qt without any UI dependencies.\nThanks.</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12269688,"title":"Qt QML TextEdit component do no get a slidebar when the text is to large to fit","body":"<p>SDK: Qt Creator 2.4.1</p>\n\n<p>Target: Nokia N9 and Windows 7</p>\n\n<p>If I do the following in a qml file</p>\n\n<pre><code>import QtQuick 1.1\nimport com.nokia.meego 1.0\n\n\nPage {\n    id: myShowChangeLogPage\n\n\n     TextEdit  {\n        id: changeLogArea\n        anchors.top: titleBackground.bottom\n        width: parent.width\n        height: 300\n        text: \"1\\n1\\n1\\n1\\n2\\n1\\n1\\n1\\n1\\n1\\n3\\n1\\n1\\n1\\n4\\n1\\n1\\n1\\n1\\n5\\n1\\n1\\n1\\n6\\n1\\n1\\n1\\n7\\n1\\n1\\n1\\n8\\n\\n\\n\\n\\n9\"\n        font.pixelSize: 20\n        textFormat: TextEdit.AutoText\n        readOnly: true\n        wrapMode: TextEdit.WordWrap\n    }\n}\n</code></pre>\n\n<p>The TextEdit area do not behave as I expected.</p>\n\n<ol>\n<li><p>The String will be printed outside the size of the TextEdit area, that is, \nit continues beneath the bottom screen edge.</p></li>\n<li><p>There is no scrollbar/slider to the right </p></li>\n</ol>\n\n<p>I was expecting that the the TextEdit element should automatically create a \nscrollbar/slider if the string is to large to fit within the boundaries.</p>\n\n<p>I have been told that TextEdit should do this and there is no need for a Flicker \nor ScrollArea.</p>\n\n<p>I have tried other type of components such as Text and TextEdit and also encapsulate \nthe TextEdit in a rectangle without any luck.</p>\n\n<p>Regards</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12296515,"title":"Adding a node to QDomNodeList","body":"<p>I have one empty QDomNodeList (list1) and another one (list2) containing direct child nodes of node A as mentioned in above XMl.</p>\n\n<pre><code>&lt;A&gt;\n    &lt;P&gt;&lt;/P&gt;\n    &lt;P&gt;&lt;/P&gt;\n    &lt;Q&gt;\n       &lt;P&gt;&lt;/P&gt;\n    &lt;/Q&gt;\n&lt;/A&gt;\n</code></pre>\n\n<p>Now i want to copy only those nodes from list2 to listq which have name Q.</p>\n\n<p>I am not able to copy nodes from list2 to list1.</p>\n\n<pre><code>QDomNodeList list1,list2;\nlist2 = a.childNodes(); // copying child nodes of a tag in list 2 \n\nfor(int i = 0 ; i &lt; list2.count() ; i++)\n{\n    if(list2.at(i).nodeName() == \"Q\")\n    {\n        cout&lt;&lt;\"i : \"&lt;&lt;i&lt;&lt;endl;\n        // Appending is giving error \"Calling appendChild() on a null node does nothing\"\n        list1.at(i).appendChild(list2.at(i));\n    }\n}\ncout&lt;&lt;\"No of Q : \"&lt;&lt;list1.count()&lt;&lt;endl;\n</code></pre>\n\n<p>How can i do same?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","documentation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12294287,"title":"Creating Documentation Using QtHelp Module","body":"<p>Qt provides two kinds of help files: Qt Compressed Help (.qch) and Qt Help Collection (.qhc).\nThe first one actually contains compressed help data (html pages, images etc). The second one contains references to different compressed help files.</p>\n\n<p>Both Qt Assistant and QHelpEngine are using collection files to display help. So I need at least two files to provide documentation for my application: .qch and .qhc.</p>\n\n<p>I want to have a single help file to be used by Qt Help API (e.g. like a .chm help file in Windows).</p>\n\n<p>Is it possible?</p>\n"},{"tags":["c++","qt","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12297478,"title":"A change in eventFilter function causes weird QGraphicScene behavior","body":"<p>I have a Qt program with a QGraphicScene inside a QGraphicsView on top of QMainWindow.\nThe events are handled by the QMainWindow using an eventFilter function.\nThe function body looks similar to this code:</p>\n\n<pre><code>bool Window::eventFilter(QObject *, QEvent *event) {\n  QEvent::Type type = event-&gt;type();\n\n  if (type == QEvent::KeyPress) {\n    QKeyEvent *keyEvent = static_cast&lt;QKeyEvent *&gt;(event);\n\n    switch(keyEvent-&gt;key()) {\n    case Qt::Key_A:\n    case Qt::Key_B:\n    case Qt::Key_C:\n    case Qt::Key_D:\n      // call a function that uses the current mouse position on the graphics scene\n      break;\n    default:\n      QLocale loc = QApplication::keyboardInputLocale();\n      if(loc.language() != QLocale::English) {\n        QString message = \"A non-English key was pressed\";\n        showMessage(message, QMessageBox::Warning);\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n</code></pre>\n\n<p>I recently added the \"default\" part and since then the coordinates that are used in the A,B,C,D cases are totally wrong. In addition, if I add a simple cout print anywhere in the function the bug disappears and the correct mouse coordinates are used.</p>\n\n<p>What can possibly cause this?</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":159,"score":3,"question_id":12182133,"title":"PyQt4: combine textChanged and editingFinished for QLineEdit","body":"<p>Is there a way to combine <code>textChanged</code> and <code>editingFinished</code> for <code>QLineEdit</code>? The problem is that <code>editingFinished</code> is emitted even if I only move the cursor away from <code>QLineEdit</code> without any changes. Whereas I want to emit a signal only when any changes were performed after I finished editing.</p>\n\n<p>I can imagine only to store somewhere the current text, compare the entered text with it and do something only if it differs. But I wonder if there is any solution purely based on signals handling.</p>\n\n<p><strong>EDIT:</strong> At the end I had to store the current text and compare with the new text and not follow the proposed solution. I realized that in my application \"1.2345\" and \"1.23\" would be the same text but nevertheless I have to update some other values in this case and so on. I really appreciate detailed answer and comments by @Avaris and @ekhumoro, and will accept it since it seems to solve originally posted problem.</p>\n"},{"tags":["qt","serial-port","priority"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12279552,"title":"Set priority to events","body":"<p>I am making an application in QT. I use QExtSerialPort to recieve data from the serial port of my comp (whenever the readyread() signal is emitted). I also have some timers running doing other stuff at certain intervals. Now I noticed that when the timers are turned on, not all the data of the readyread signal is emitted a lot less, then when the timers are not turned on. Is there a way in QT to make sure that all the data of the serial port is recieved? Maybe by setting a high priority to the readyread event or something like that?</p>\n\n<p>Thx in advance!</p>\n"},{"tags":["qt","phantomjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12286041,"title":"phantomJS signal connected to signal","body":"<p>Going through the phantomJS code i ran into this in the webpage.cpp file (line 315)</p>\n\n<pre><code>connect(m_networkAccessManager, SIGNAL(resourceRequested(QVariant)),\n            SIGNAL(resourceRequested(QVariant)));\n</code></pre>\n\n<p>And i don't quite understand how this works, i'm aware that you can connect signals to signals in Qt.\nOn the Qt documentation i found out that you can also connect signals directly to a method (<a href=\"http://doc.qt.nokia.com/4.7-snapshot/qobject.html#connect-2\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/qobject.html#connect-2</a>) , seeing that it's a 3 parameters call i thought that this would be the desired function on the webpage.cpp code, but connecting a signal to the same signal...i got completely lost there, any help?</p>\n\n<p>thanks in advance</p>\n\n<p>PD: not very experienced in Qt i should say, sorry if it's a dumb question</p>\n"},{"tags":["qt","qt4","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":95,"score":3,"question_id":12295514,"title":"How to disable adding 'd' suffix to debug library name in qmake on windows?","body":"<p>I created project for QML C++ plugin in QtCreator and debug version have 'd' suffix appended to the name, for example <code>plugind.dll</code> instead of <code>plugin.dll</code>. How can configure project not to add this suffix? Qt version 4.8.1, windows 7.</p>\n"},{"tags":["qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1172,"score":1,"question_id":9118699,"title":"How to insert ListElement in a QML ListModel by C++?","body":"<p>Well, i'm learning to work with QML and i have one doubt. In my example, i have a ListModel with ListElements at QML and i have a QML main file with a rectangle, PathView etc.</p>\n\n<p>I have a QWidget also, than is my main window. In this QWidget i include the QML UI like a component. Ok!</p>\n\n<p>My problem is, how can i to handle QML ListElements by C++? Note: when i say \"to handle\", i want to say include element for example.</p>\n\n<p>Below there is parts of the my code...</p>\n\n<p>QML containing my ListElement, called \"Menu1\":</p>\n\n<pre><code>import QtQuick 1.0\n\nListModel {\n    id: listMovieModel\n    ListElement { name: \"Image 1\"; iconSource: \"pics/image_1.jpg\" }\n    ListElement { name: \"Image 2\"; iconSource: \"pics/image_2.jpg\" }\n    ListElement { name: \"Image 3\"; iconSource: \"pics/image_3.jpg\" }\n    ListElement { name: \"Image 4\"; iconSource: \"pics/image_4.jpg\" }\n    ListElement { name: \"Image 5\"; iconSource: \"pics/image_5.jpg\" }\n    ListElement { name: \"Image 6\"; iconSource: \"pics/image_6.jpg\" }\n}\n</code></pre>\n\n<p>My main QML:</p>\n\n<pre><code>Rectangle {\n    width: 500\n    height: 600\n    color: \"transparent\"\n\n    PathView {\n        id: view\n        focus: true\n        width: parent.width\n        height: parent.height + y\n        y: -150\n        model: Menu1 {} //First QML showed\n        delegate: Image {\n            source: iconSource\n            width: 64\n            height: 90\n            scale: PathView.isCurrentItem ? 3.5 * y / parent.height : 2.0 * y / parent.height\n            z: y\n            smooth: true\n        }\n        path: MyGeometricFigure { //This a another file, but is confidential\n            width: view.width\n            height: view.height\n        }\n        preferredHighlightBegin: 0\n        preferredHighlightEnd: 0\n        highlightRangeMode: PathView.StrictlyEnforceRange\n        Keys.onLeftPressed: decrementCurrentIndex()\n        Keys.onRightPressed: incrementCurrentIndex()\n    }\n}\n</code></pre>\n\n<p>And as i use QML like a component for my QWidget actually:</p>\n\n<pre><code>MainForm::MainForm(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::MainForm)\n{\n    ui-&gt;setupUi(this);\n    this-&gt;resize(1024, 576);\n\n    QDeclarativeView *myQMLTest = new QDeclarativeView(QUrl::fromLocalFile(\"myMainQML.qml\"));\n    myQMLTest-&gt;setStyleSheet(QString(\"background: transparent; width: 600px\"));\n\n    this-&gt;ui-&gt;frameListVideoGallery-&gt;layout()-&gt;addWidget(myQMLTest);\n    myQMLTest-&gt;setFocus();\n    myQMLTest-&gt;installEventFilter(this);\n}\n</code></pre>\n\n<p>I saw some articles about this, but i can't to change my LisModel by C++. I saw here <a href=\"http://doc.qt.nokia.com/4.7/qdeclarativemodels.html#c-data-models\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/qdeclarativemodels.html#c-data-models</a> and here in examples using PathView <a href=\"http://doc.qt.nokia.com/4.7/qdeclarativeexamples.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/qdeclarativeexamples.html</a></p>\n\n<p>Can someone help me?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","listview","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12279572,"title":"Image disappearing when hiding then re-showing ListView","body":"<p>I'm currently working on part of an app which shows a news snippet next to an image (if an image exists). This list of news is part of a SegmentedControl \"tab\" page, and may be hidden and re-shown as required by the user. As the images are loaded over the network, they are handled by an ImageTracker and only set as a property once fully loaded.</p>\n\n<p>The problem I'm having is that while these images load fine first time, these images then disapprear if I navigate away to a different SegmentControl \"tab\" and then navigate back to the News tab. The act of hiding is done by setting the visibility of non-active containers to false, and setting the visibility of the active container to true.</p>\n\n<p>This is how I'm defining the data bindings:\n    ListView {\n        id: lstShowNews\n        objectName: \"lstShowNews\"</p>\n\n<pre><code>    listItemComponents: [\n        ListItemComponent {\n            type: \"item\"      \n            Detail_Tabs_NewsCell {\n                newsHeadline: ListItemData.headline\n                newsBlurbPreview: ListItemData.content\n                newsTimeAdded: ListItemData.time    \n                newsImageVisible: ListItemData.hasImage\n                newsImage: ListItemData.image                              \n            } \n        }\n    ]\n}\n</code></pre>\n\n<p>The aliases/properties for the custom list item:</p>\n\n<pre><code>property alias newsImageVisible: newsImage.visible\nproperty alias newsHeadline: newsTitle.text\nproperty alias newsImage: newsImage.image\nproperty string newsBlurbPreview: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam condimentum tellus vel magna dapibus aliquam. Nunc iaculis metus ut arcu tempus semper.\"\nproperty string newsTimeAdded: \"News Source - 3 hours ago\"\n</code></pre>\n\n<p>The section of C++ code that handles the loading of the list:</p>\n\n<pre><code>/*!\n * Handles loading for each tab page. Enables data to only be loaded on demand.\n * @param index - The new selected index on the SegmentedControl\n */\nvoid MyClass::onSegmentChanged(int index) {\nif(index == 2) {\n    if(!mNewsLoaded) {\n        // Load the news\n        NewsRequester* news = new NewsRequester(mId);\n        connect(news, SIGNAL(requestDone(QList&lt;NewsItem*&gt;)), this, SLOT(onNewsReceieved(QList&lt;NewsItem*&gt;)));\n        indNews-&gt;start();         // Activity indicator\n        news-&gt;requestNews();\n    }\n    else {\n      // Caching functions\n    }\n}\nelse {\n    // Stuff for other tabs\n}\n}\n\nvoid MyClass::onNewsReceieved(QList&lt;NewsItem*&gt; newsItems) {\n    qDebug() &lt;&lt; \"Received news reply\";\n    indNews-&gt;stop();\n    indNews-&gt;setVisible(false);\n\n    mNewsItems = newsItems;\n    setNewsModel();\n\n}\n\nvoid MyClass::setNewsModel() {\nGroupDataModel* newsModel = new GroupDataModel(QStringList() &lt;&lt; \"news\");\nnewsModel-&gt;setGrouping(ItemGrouping::None);\n\n// Move the list items to the data model\nfor(int i = 0; i &lt; mNewsItems.size(); i++) {\n    mNewsItems.at(i)-&gt;loadImage();\n    newsModel-&gt;insert(mNewsItems.at(i));\n}\n\nListView* lstNews = root-&gt;findChild&lt;ListView*&gt;(\"lstShowNews\");\nlstNews-&gt;setDataModel(newsModel);\n}\n</code></pre>\n\n<p>Functionality for tracking the image and ensuring it's loaded properly before being passed to the list:\n    /*!\n     * Tracks the status of the current local image and displays when ready\n     */\n    void NewsItem::trackImage() {\n    // Load cascades image\n    mTracker = new ImageTracker(mLocalImage);\n    connect(mTracker, SIGNAL(stateChanged (bb::cascades::ResourceTracker::State)),\n            this, SLOT(onStateChanged (bb::cascades::ResourceTracker::State)));\n    }</p>\n\n<pre><code>/*!\n * Passes the downloaded image's path to the list\n */\n\nvoid NewsItem::onImageRetrieved(QString path) {\n//qDebug() &lt;&lt; \"Received image \" &lt;&lt; path;\nmLocalImage = QUrl(path);\ntrackImage();\n}\n\n/*!\n * Display the image if it's been fully loaded in memory\n */\nvoid NewsItem::onStateChanged(bb::cascades::ResourceTracker::State state) {\nif(state == bb::cascades::ResourceTracker::Loaded) {\n    qDebug() &lt;&lt; \"Image loaded\";\n    mLocalCascadesImage = mTracker-&gt;image();\n    emit localImageChanged();\n}\n}\n</code></pre>\n\n<p>Property for mLocalCascadesImage:</p>\n\n<pre><code>Q_PROPERTY(bb::cascades::Image image READ localImage NOTIFY localImageChanged)\n</code></pre>\n\n<p>Is there any reason as to why the ListView would misbehave in this way? Thanks.</p>\n"},{"tags":["qt","button","stylesheet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":181,"score":1,"question_id":12292592,"title":"Qt - Stylesheet for custom button on mouse hovered and clicked","body":"<p>I would like to have an invisible button, but when the user hovers the mouse on it, I would like to have a light blue color, and when he clicks it, I would like to have a darker blue.</p>\n\n<p>After I did some research, I figured out I can use the stylesheets feature, but im new on Qt and I don't have any experience on Qt, so I would prefer to ask and learn.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":287,"score":0,"question_id":7253976,"title":"How do i add an icon to QComboBox in QT?","body":"<p>I want to add an icon with text into the <code>QComboBox</code> in QT, how can I implement it?</p>\n\n<p>Please give me an explanation and a code snippet.</p>\n"},{"tags":["c++","qt","operator-overloading","qlist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":180,"score":0,"question_id":10598768,"title":"How to make QList<Type*> work with indexOf() and custom operator==()?","body":"<p>Given the following code:</p>\n\n<pre><code>QList&lt;Vertex*&gt; _vertices; //this gets filled\n\n//at some other point i want to check if there's already\n//a vertex with the same payload inside the list\nVertex* v = new Vertex(payload);\nint result = _vertices.indexOf(v);\nif (result == -1){\n    //add the vertex to the list\n} else {\n    //discard v and return pointer to match\n}\n\n//overloaded Vertex::operator==\nbool Vertex::operator==(Vertex* other){\n    //i return true if my payload and the others\n    //payload are the same\n}\n</code></pre>\n\n<p>As far as I can see indexOf() never ends up calling my operator==. I assume this is because of QList encapsulating a pointer type and indexOf() comparing the pointers. Is there a way of keeping ponters in the QList and still using my own operator==()?</p>\n\n<p>Like <code>Vertex*::operator==(Vertex* other)</code></p>\n\n<p>Related Questions: <a href=\"http://stackoverflow.com/q/7539084/1387061\">removing in pointer type Qlists</a> | <a href=\"http://stackoverflow.com/q/8924606/1387061\">not working because of pointer type</a></p>\n\n<p><strong>Edit</strong>: Intention.</p>\n\n<p>Two vertices are considered equal iff. identifiers carried by their payload are equal.</p>\n\n<p><code>Vertex</code> is part of a <code>Graph</code> class. I want clients of that class to be able to call <code>Graph::addEdge(Payload,Payload)</code> to populate the graph. Graph objects then take care of wrapping up Payloads in Vertex objects and building Edges. Hence Graph needs to check if a Vertex encapsulating a given payload doesn't already exist. Using QList seemed like the \"simplest thing that might work\" at the time of writing the code.</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":11872266,"title":"Connect not working properly while using QDialog as a popup","body":"<p>I am having a problem with connect in the program I am currently writing. I first create a \"main window\" dialog that contains buttons, line edits, etc. (which all work perfectly fine with my custom slots). One of the buttons (the \"Add Class\" button) should create a new pop up dialog that is a child of the mainWindow dialog. I wrote a new .h and .cpp for this new dialog (addClass.h and addClass.cpp). When I click the button, the dialog modality is set to ApplicationModal and up to this point, the code works; when I click \"Add Class\" and new dialog shows up as a pop up with all the labels, line edits, and buttons that I want. The problem comes in when I try and use the connect using this new class. Upon clicking the ok button the connect is not executed. The program compiles properly (using qmake and then make) and gives no errors during run time. I also took the .h and .cpp files from the pop up dialog and tested them with their own main.cpp and the connect worked perfectly. I am stumped as to what the problem could be, so any help would be awesome!</p>\n\n<p>Here are some snipets of code that might be helpful:</p>\n\n<p>the custom slot that initiates the pop up dialog in mainWindow.cpp (works and I include \"addClass.h\" in mainWindow.cpp):</p>\n\n<pre><code>void mainWindow::addClassCombo(){\n    addClass aC(win);\n}\n</code></pre>\n\n<p>addClass.h:</p>\n\n<pre><code>#ifndef ADDCLASS_H\n#define ADDCLASS_H\n\n#include &lt;QDialog&gt;\n#include &lt;QHBoxLayout&gt;\n#include &lt;QVBoxLayout&gt;\n#include &lt;QLabel&gt;\n#include &lt;QLineEdit&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QString&gt;\n\nclass addClass : public QDialog{\n\n    Q_OBJECT\n\npublic:\n    addClass(QWidget *parent = 0);\n\nprivate slots:\n    void addToTxt();\n\nprivate:\n    QDialog *addMathClass;\n    QVBoxLayout *mainLayout;\n    QHBoxLayout *layoutOkCanc;\n    QLabel *nameL;          //label for name of math class to be added\n    QLineEdit *name;        //line edit for name\n    QPushButton *ok;        //ok button\n    QPushButton *canc;      //cancel button\n};\n\n#endif\n</code></pre>\n\n<p>addClass.cpp (works with its own main.cpp but not the one with my mainWindow.cpp):</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;QTextStream&gt;\n\n#include \"addClass.h\"\n\n#include &lt;iostream&gt;\n\naddClass::addClass(QWidget *parent):QDialog(parent){\n\n    addMathClass = new QDialog(parent);\n\n    mainLayout = new QVBoxLayout(addMathClass);\n    layoutOkCanc = new QHBoxLayout();\n\n    nameL = new QLabel(\"Math Class Name:\");\n    name = new QLineEdit;\n    nameL-&gt;setBuddy(name);\n\n    ok = new QPushButton(\"Ok\");\n    canc = new QPushButton(\"Cancel\");\n\n    QObject::connect(canc, SIGNAL(clicked()), addMathClass, SLOT(close()) ); //&lt;-works\n    QObject::connect(ok, SIGNAL(clicked()), this, SLOT(addToTxt()) );     //&lt;-doesn't work\n    QObject::connect(ok, SIGNAL(clicked()), addMathClass, SLOT(close()) );  //&lt;-works\n\n    layoutOkCanc-&gt;addStretch();\n    layoutOkCanc-&gt;addWidget(ok);\n    layoutOkCanc-&gt;addWidget(canc);\n\n    mainLayout-&gt;addWidget(nameL);\n    mainLayout-&gt;addWidget(name);\n    mainLayout-&gt;addLayout(layoutOkCanc);\n\n    addMathClass-&gt;setWindowModality(Qt::ApplicationModal);\n    addMathClass-&gt;setWindowTitle(\"Add Class\");\n    addMathClass-&gt;show();\n}\n\nvoid addClass::addToTxt(){\n    std::cout&lt;&lt;\"testing\"&lt;&lt;std::endl;\n}\n</code></pre>\n"},{"tags":["qt","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":1057,"score":7,"question_id":6742663,"title":"Where does QtCreator save its settings?","body":"<p>I would like to locate the folder where QtCreator save all its settings (text editor preferences, syntax highlighting, etc.) so that I can back them up. Does anybody know where they are?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":11092998,"title":"Strange memory management using vector and QVector","body":"<p>I am developing an application based on QT, I need to use vectors in a dynamic (QVector ). When checking the size of the vector, this was higher than it should, I tested with STL vector and the result is the same. Below I present code the problem with STL vector. This situation prevents us from knowing the actual size of the vector and use it properly. How to fix?. Thank you for your help.</p>\n\n<ul>\n<li>Compiler: GCC 4.5.2</li>\n<li>OS: Linux Ubuntu 11.04</li>\n<li>Observations: the capacity or size of the vector is always a power of base 2</li>\n</ul>\n\n<p>The code is:</p>\n\n<pre><code>double PI = 3.1415926536, delta = PI/(100/2);\nvector&lt;double&gt; A(0);\nvector&lt;double&gt; B(0);\ncout&lt;&lt;\"Capacity A = \"&lt;&lt;A.capacity()&lt;&lt;\"; Capacity B = \"&lt;&lt;B.capacity()&lt;&lt;endl;\nfor (int i = 0; i &lt; 100; i++) {\n    A.push_back(i*delta);\n    B.push_back( sin( A[i]  ) );\n    cout&lt;&lt;\"A(\"&lt;&lt;i&lt;&lt;\") = \" &lt;&lt;A[i]&lt;&lt;\"; B(\"&lt;&lt;i&lt;&lt;\") = \" &lt;&lt;B[i]&lt;&lt;\" \"&lt;&lt;\"Size A = \"&lt;&lt;A.capacity()&lt;&lt;\"; Size B = \"&lt;&lt;B.capacity()&lt;&lt;endl;\n}\n\nfor (int i = 0; i &lt; A.capacity(); i++) {\n   cout&lt;&lt;\"A(\"&lt;&lt;i&lt;&lt;\") = \" &lt;&lt;A[i]&lt;&lt;\"; B(\"&lt;&lt;i&lt;&lt;\") = \" &lt;&lt;B[i]&lt;&lt;\" \"&lt;&lt;\"Size A = \"&lt;&lt;A.capacity()&lt;&lt;\"; Size B = \"&lt;&lt;B.capacity()&lt;&lt;endl;\n}\ncout&lt;&lt;\"Size A = \"&lt;&lt;A.capacity()&lt;&lt;\"; Size B = \"&lt;&lt;B.capacity()&lt;&lt;endl;\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Capacity A = 0; Capacity B = 0\nA(0) = 0; B(0) = 0 Size A = 1; Size Y = 1    \nA(1) = 0.0628319; B(1) = 0.0627905 Size A = 2; Size B = 2    \nA(2) = 0.125664; B(2) = 0.125333 Size A = 4; Size B = 4    \nA(3) = 0.188496; B(3) = 0.187381 Size A = 4; Size B = 4    \n.    \nA(99) = 6.22035; B(99) = -0.0627905 Size A = 128; Size B = 128    \n.    \nA(126) = 0; B(126) = 1.31947 Size A = 128; Size B = 128    \nA(127) = 0; B(127) = 1.3823 Size A = 128; Size B = 128   \nSize A = 128; Size B = 128\n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12278729,"title":"QT (on Windows) setting privilege-level to \"requireAdministrator\"","body":"<p>I am using QT creator and struggling to make the exe file to run as administrator by default.</p>\n\n<p>Reading through all the solutions online I tried to put this line in my .pro file:</p>\n\n<pre><code>QMAKE_LFLAGS += /MANIFESTUAC:\"level='requireAdministrator' uiAccess='false'\"\n</code></pre>\n\n<p>But still when I check my exe (using notepad) it contains :</p>\n\n<pre><code>&lt;requestedExecutionLevel level=\"asInvoker\" uiAccess=\"false\"&gt;&lt;/requestedExecutionLevel&gt;\n</code></pre>\n\n<p>Can someone tell me, How to add requireAdministrator?</p>\n\n<p><strong>Temporary Solution:</strong>\nTill now I could not find a solution so I made a temporary hack. I made an exe called \n'LaunchAnother.exe' Which will launch my 'main.exe' using following code:</p>\n\n<pre><code>SHELLEXECUTEINFO shExInfo = {0};\nshExInfo.cbSize = sizeof(shExInfo);\nshExInfo.fMask = SEE_MASK_NOCLOSEPROCESS;\nshExInfo.hwnd = 0;\nshExInfo.lpVerb = _T(\"runas\");                // Operation to perform\nshExInfo.lpFile = _T(\"main.exe\");       // Application to start    \nshExInfo.lpParameters = \"\";                  // Additional parameters\nshExInfo.lpDirectory = 0;\nshExInfo.nShow = SW_SHOW;\nshExInfo.hInstApp = 0;  \n\nif (ShellExecuteEx(&amp;shExInfo))\n{\n    WaitForSingleObject(shExInfo.hProcess, INFINITE);\n    CloseHandle(shExInfo.hProcess);\n}\n</code></pre>\n\n<p>Still waiting for a better solution.</p>\n"},{"tags":["qt","spider","qnetworkaccessmanager"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":12287310,"title":"Unmatching results from browser and code while retrieving a page with QNetworkRequest and QNetworkAccessManager","body":"<p>I'm writing a simple web spider.\nThe idea is to get a page programmatically using QNetworkAccessManager, QNetworkReply and QNetworkRequest, everything works fine.</p>\n\n<p>The problem I encounter is that (for some pages) I get different/unmatching results programmatically or by visiting \"manually\" the page with a browser.\nI always get sintactically correct HTML pages, but they look to me like some sort of \"spider protection\" answers.\nThe pages I'm referring AREN'T POST pages, the tests I'm doing are with very simple url pages, sometimes with parameters (e.g. www.sample.com/index.php?param=something), sometimes even with plain page.html urls.</p>\n\n<p>The pseudocode is as follows:<br></p>\n\n<pre><code>QNetworkRequest req;\nreq.setUrl(QUrl(myurl));\nreq.setRawHeader(*I did try this one with no success*);\nQNetworkAccessManager man;\nQNetworkReply rep = man-&gt;get(req);\n//finish and error slots connection code here\n</code></pre>\n\n<p>.\n.\n.</p>\n\n<pre><code>void replyFinished()\n{\n    QNetworkReply* rep = qobject_cast&lt;QNetworkReply *&gt;(sender());\n    if (rep-&gt;error() == QNetworkReply::NoError)\n    {\n        // read data from QNetworkReply here\n        QByteArray bytes = rep-&gt;readAll();\n        QString stringa(bytes); \n        qDebug() &lt;&lt; stringa;\n    }\n}\n</code></pre>\n\n<p>\nIn the finish() slot I'm printing the data from the networkreply and sometimes I get unmatching results from the simple \"View Source\" operation in the browser got by visiting by hand the url.</p>\n\n<p>Sometimes I get a custom \"Not found\" page, sometimes some more weird pages with logins forms or other unexpected contents.\nMaybe it's some kind of spider protection ? Can anyone help ?</p>\n"},{"tags":["c++","qt","post","https","qnetworkaccessmanager"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1354,"score":0,"question_id":6204621,"title":"Sending an HTTP request using QNetworkAccessManager","body":"<p>I've got a problem trying to send a request using QNetworkAccessManager from a QObject derived class.</p>\n\n<p>Firstly in my constructor I do the following:</p>\n\n<pre><code>QObject::connect( &amp;mAccessManager, SIGNAL( finished( QNetworkReply* ) ), this, SLOT( requestFinished( QNetworkReply* ) ) );\n</code></pre>\n\n<p>Then when I wish to send the request I do the following:</p>\n\n<pre><code>QNetworkRequest checkLogin( QUrl( address ) );\ncheckLogin.setHeader( QNetworkRequest::ContentTypeHeader, \"application/x-www-form-urlencoded\" );\n\nmByteArray  = QByteArray( \"POST \\\"client\\\" : oxres\" );\nQNetworkReply* pReply   = mAccessManager.post( checkLogin, mByteArray );\n</code></pre>\n\n<p>Now at this point I expect to wait around for a few seconds and then receive a response to my class's slot requestFinished.  It doesn't however get called.</p>\n\n<p>I'm at a loss as to what I'm doing wrong.  Anyone got any ideas? (I'm sure its something stupidly simple). </p>\n\n<p><strong>Edit</strong>: Ok this is very weird.  I have wireshark collecting packets in the background and when i generate that post request I see nothing happening in wireshark.  So why isn't it sending?? </p>\n\n<p><strong>Edit 2</strong>: Hmm it seems that the problem lies with me sending a request to an https:// address ... why would that be??</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":69,"score":0,"question_id":12285725,"title":"Class refactoring : inheritance with parameter","body":"<p>I have a class declared using this form</p>\n\n<pre><code>MainWindow(QWidget *parent) :\n        QMainWindow(parent),\n        ui(new Ui::MainWindow)\n{\n    ...\n}\n</code></pre>\n\n<p>I want to refactor it with this form looking like this :</p>\n\n<pre><code>class MainWindow : QMainWindow, ui \n{\n    MainWindow(QWidget *parent)\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p>But I removed the parameters that were in the first form. What do this parameters mean ?</p>\n\n<p>How to keep them in the second form ? Please explain me the first syntax (or point to tutorial). I don't understand inheritance with parameters.</p>\n\n<p>EDIT:</p>\n\n<p>I understand the problem now, the class was initialised in a separate .h file which I did not saw at first look. I thought : after the method definition was inheritance operator, whereas it is member initialization operator.</p>\n"},{"tags":["qt","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12289743,"title":"Can't make urlChanged signal work","body":"<p>I'm writing an application with QWebView class and I want to catch when it redirectes to the other url address using urlChanged(const QUrl&amp;) signal, but at run time I get this</p>\n\n<blockquote>\n  <p>Object::connect: No such signal QWebView::urlChanged(url)</p>\n</blockquote>\n\n<p>here is my code</p>\n\n<pre><code>   #include &lt;QString&gt;\n   #include \"test.h\"\n   #include &lt;QUrl&gt;\n   #include &lt;QWebView&gt;\n   #include &lt;stdio.h&gt;\n   QFapp::QFapp(QWidget* parent):QWidget(parent)\n   {\n      QWebView*view = new QWebView;\n      QUrl url(\"http://google.com\");\n      view-&gt;load(url);\n      view-&gt;show();\n      connect(view,SIGNAL(urlChanged(url)),this,SLOT(GetToken()));\n   }\n  void QFapp::GetToken()\n  {\n     printf(\"Signal is emited\");\n  }\n</code></pre>\n\n<p>and this is the header file</p>\n\n<pre><code>   #include &lt;QWidget&gt;\n   #include &lt;QString&gt;\n   #include &lt;QUrl&gt;\n   #include &lt;QWebView&gt;\n   class QFapp: public QWidget\n   {\n      Q_OBJECT\n    public:\n        QFapp(QWidget* parent = 0);\n    public slots:\n      void GetToken();\n    private:\n      QWebView* view;\n        QUrl url;\n     };\n</code></pre>\n\n<p>and there are no compile time warnings.</p>\n\n<p>I don't understand what am I doing wrong. This is my first experience with Qt (not a school assignment ) so any hint will be appreciated.</p>\n"},{"tags":["c++","qt","templates","widget","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12283814,"title":"How to create a template widget class with Qt Designer?","body":"<p>My goal is to create two widgets for editing histogram plots (1D and 2D). They are both composed of several standard widgets (sliders, spin boxes, buttons and so on) and the actual plot widget. Except for the plot widget they are completely identical. I thought it would be best to create a template class with the plot widget class as template parameter, in order to avoid code duplication.</p>\n\n<p>The problem now is: I’d like to be able to build/modify this editor widget with Qt Designer. But I can’t think of a way to achieve this.</p>\n\n<p>Do you have any idea if this is possible?</p>\n\n<p>I’d prefer not having to put together this widget in pure C++ code...</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":83,"score":-1,"question_id":12286046,"title":"Why Qt default project use separate header files for manwindow.cpp?","body":"<p>I just created a Qt default project with a Qt designer form.</p>\n\n<p>The class MainWindow is declared in a mainwindow.h and then included in mainwindows.cpp.</p>\n\n<p>Why is it done this way ? Why not a declaration of this form directly in mainwindows.cpp ?:</p>\n\n<pre><code>class MainWindow\n{\n    ...\n}\n</code></pre>\n\n<p>What is the proper way to add my code ? For example, a button that trigger a method.</p>\n"},{"tags":["c++","regex","qt","qregexp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12287282,"title":"QRegExp Pattern For URLs","body":"<p>I am trying to match google urls from some text that is stored in a variable, using the pattern below.</p>\n\n<p>The urls use double quotes</p>\n\n<pre><code>QRegExp regExp;\nregExp.setPattern(\"http://www.google.com/(.*)\");\n</code></pre>\n\n<p>I manage to match the url but it unwontedly matches all of the text that is contained after it. I have tried using similar variants like the ones below, but they don't seem to work.</p>\n\n<pre><code>regExp.setPattern(\"http://www.google.com/(.*)\\\"is\"); \nregExp.setPattern(\"http://www.google.com/^(.*)$\\\"\");\n</code></pre>\n\n<p>Any help to get a regular expression that matches just the url alone.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","redirect","filter","message","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12282981,"title":"Redirecting an Qt mouse message in viewportEvent to another window is not working","body":"<p>I want to implement an extended \"QScrollArea\" widget that supports scrolling the scrollbar (contents) with the mouse by dragging the mouse somewhere within the widget. For this purpose I want to ignore any child widgets so that the focus don't accidently goes to some of the children.</p>\n\n<p>My solution (which is not working) is to set content widget attribute <code>WA_TransparentForMouseEvents</code> so that all the mouse events goes to viewportEvent() method in my <code>QScrollAreaEx</code>. Here I want to handle the mouse messages. For example I could determine if the intention was to drag the scrollbar position or to interact with some of the child widgets (activate, select, move caret, ...).</p>\n\n<p>My first try was to redirect the messages <strong>MouseButtonPress</strong> and <strong>MouseButtonRelease</strong> events only to the child widget underneath (widget()->childAt(e->pos())) which had been focused if <code>WA_TransparentForMouseEvents</code> were not set. However that didn't worked, none of the widgetd received the focus. But why?</p>\n\n<pre><code>bool viewportEvent(QEvent* e) {\n    bool IsMouseEvent = e-&gt;type() == QEvent::MouseButtonPress || e-&gt;type() == QEvent::MouseButtonRelease || e-&gt;type() == QEvent::MouseMove;\n    QMouseEvent* me = (QMouseEvent*) e;\n\n    bool IsHandled = false;\n\n    if (IsMouseEvent) {\n        if (e-&gt;type() == QEvent::MouseButtonPress) {\n            _PressEvent = *me;\n            IsHandled = true; // Eating press event\n        } else if (e-&gt;type() == QEvent::MouseButtonRelease) {\n            QPoint PressPoint = _PressEvent.pos();\n            widget()-&gt;setAttribute(Qt::WA_TransparentForMouseEvents, false);\n            QWidget* w = widget()-&gt;childAt(PressPoint);\n            if (w) {\n                QPoint p1 = w-&gt;mapFrom(widget(), _PressEvent.pos());\n                QPoint p2 = w-&gt;mapFrom(widget(), me-&gt;pos());\n                QMouseEvent* e1 = new QMouseEvent(QEvent::MouseButtonPress, p1, Qt::LeftButton, Qt::LeftButton, Qt::NoModifier);\n                QMouseEvent* e2 = new QMouseEvent(QEvent::MouseButtonRelease, p2, Qt::LeftButton, Qt::LeftButton, Qt::NoModifier);\n                QCoreApplication::postEvent(w, e1);\n                QCoreApplication::postEvent(w, e2);\n            }\n            widget()-&gt;setAttribute(Qt::WA_TransparentForMouseEvents, true);\n        }\n    }\n    if (IsHandled) return true;\n    return QScrollArea::viewportEvent(e);\n}\n</code></pre>\n\n<p>Second test was:</p>\n\n<pre><code>bool viewportEvent(QEvent* e) {\n    bool IsMouseEvent = e-&gt;type() == QEvent::MouseButtonPress || e-&gt;type() == QEvent::MouseButtonRelease || e-&gt;type() == QEvent::MouseMove;\n    QMouseEvent* me = (QMouseEvent*) e;\n\n    bool IsHandled = false;\n\n    if (IsMouseEvent) {\n        if (e-&gt;type() == QEvent::MouseButtonPress) {\n            _PressEvent = *me;\n            IsHandled = true; // Eating press event\n        } else if (e-&gt;type() == QEvent::MouseButtonRelease) {\n            QPoint PressPoint = _PressEvent.pos();\n            widget()-&gt;setAttribute(Qt::WA_TransparentForMouseEvents, false);\n            QWidget* w = widget()-&gt;childAt(PressPoint);\n            if (w &amp;&amp; w != widget()) {\n                QCoreApplication::sendEvent(widget(), &amp;_PressEvent);\n                QCoreApplication::sendEvent(widget(), e);\n            }\n            widget()-&gt;setAttribute(Qt::WA_TransparentForMouseEvents, true);\n        }\n    }\n    if (IsHandled) return true;\n    return QScrollArea::viewportEvent(e);\n}\n</code></pre>\n\n<p>None of them was working. Why does the redirection not work. Is there a better solution for my purpose?</p>\n"},{"tags":["qt","qt4","tcl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":12046700,"title":"QProcess::readAllStandardOutput gives flaky outputs","body":"<p>I am trying to create a GUI in Qt4 for my tcl based tool. In order to populate widgets I need to execute some tcl commands. I read about QProcess and I am invoking tcl scripts using QProcess and then grabbing their output from stdout. \nSuppose I execute 3 commands in tcl then when  I query stdout I believe I should see 3 outputs corresponding to each of the three commands, however this is not happening consistently. Behavior is flaky. </p>\n\n<p>As you can see in the main.cpp I am executing multiple commands using runTclCommand() function and in the end executing getData() function to read stdout. </p>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QProcess&gt;\n#include &lt;QDebug&gt;\n#include \"Tclsh.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QByteArray out;\n    Tclsh *tcl = new Tclsh;\n    tcl-&gt;startTclsh();\n    tcl-&gt;runTclCommand(\"set ::tcl_interactive 1\\n\");\n    tcl-&gt;runTclCommand(\"set a 23\\n\");\n    tcl-&gt;runTclCommand(\"puts $a\\n\");\n    tcl-&gt;runTclCommand(\"set a 40\\n\");\n    tcl-&gt;runTclCommand(\"puts $a\\n\");\n   // out = idl-&gt;getData();\n    out = tcl-&gt;getData();\n}\n</code></pre>\n\n<p>Tclsh.cpp:</p>\n\n<pre><code>#include &lt;QProcessEnvironment&gt;\n#include &lt;QProcess&gt;\n#include &lt;QDebug&gt;\n#include \"Tclsh.h\"\n\nvoid Tclsh::startTclsh() {\n    QString program = \"/usr/bin/tclsh8.4\";\n    this-&gt;setProcessChannelMode(QProcess::MergedChannels);\n    this-&gt;start(program);\n    if ( !this-&gt;waitForStarted()) {\n        qDebug()&lt;&lt;\"ERROR Starting tclsh\";\n    }\n    return;\n}\n\nvoid Tclsh::runTclCommand(const char *cmd) {\n    qDebug()&lt;&lt;\"CMD:\"&lt;&lt;cmd;\n    this-&gt;write(cmd);\n    if (!this-&gt;waitForBytesWritten()) {\n        qDebug()&lt;&lt;\"Error in writing data\";\n    }\n}\n\nQByteArray Tclsh::getData() {\n    if (!this-&gt;waitForReadyRead()) {\n        qDebug()&lt;&lt;\"Error in reading stdout: Ready read signal is not emitted\";\n    }\n    QByteArray data = this-&gt;readAllStandardOutput();\n    qDebug()&lt;&lt;\"DATA:\"&lt;&lt;data;\n    return data;\n}\n</code></pre>\n\n<p>However, sometime I get the following output:</p>\n\n<pre><code>CMD: set ::tcl_interactive 1\n\nCMD: set a 23\n\nCMD: puts $a\n\nCMD: set a 40\n\nCMD: puts $a\n\nDATA: \"1\n% 23\n% 23\n% \"\n</code></pre>\n\n<p>And sometimes this:</p>\n\n<pre><code>CMD: set ::tcl_interactive 1\n\nCMD: set a 23\n\nCMD: puts $a\n\nCMD: set a 40\n\nCMD: puts $a\n\nDATA: \"1\n\" \n</code></pre>\n\n<p>I do not understand why this is happening. I would really appreciate if someone can point me to the error in my approach here.</p>\n\n<p>Thanks,\nNewbie</p>\n\n<p><strong>Edit: After some more research, here are my thoughts</strong></p>\n\n<p>According to Qt manual, readyRead signal will be emitted whenever new data is available (as specified by @Frank Osterfeld also, thanks!). It will not wait for  complete output data to be available (which is justified since it does not know when will that happen). Hence my approach is not good. What I can do is something like this:\nstart the process -> wait for process to finish -> read stdout </p>\n\n<p>This will ensure that flaky behavior does not arise as process is already finished when I am reading hence no new data can come.</p>\n\n<p>However, in this proposed approach I am not clear about one thing: Does stdout is specific to a process? I mean can it happen that process which was supposed to read stdout output from process1, can get other stdout data from some other process which happen to write stdout at the same time as process1?</p>\n\n<p>Thanks,\nNewbie</p>\n"},{"tags":["c++","multithreading","qt","timer"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":139,"score":3,"question_id":12284067,"title":"Implement precise timer in Qt","body":"<p>Since I need a more precise timer than the Qt one with its ~15ms resolution i tried to implement my own timer using QueryPerformanceCounter() from the windows api. </p>\n\n<p>My first shot was to inherit from QObject and build a timer with an infinite loop that fires a signal every second. I tried to move this timer to its own thread with moveToThread() so that it would just update my main window every second and not block the whole thing. However the main window would never show up, removing the infinite loop -> main window shows up.</p>\n\n<p>So I tried a singleshot approach, the basic idea is: </p>\n\n<pre><code> connect( highPerformanceTimer, SIGNAL(timer_tick()), this, SLOT(timeOutSlot()) );\n connect( this,  SIGNAL(graphics_updated()), highPerformanceTimer, SLOT(timer_start()));\n</code></pre>\n\n<p>So, timer ticks, ui (opengl) gets updated, at the end of the update a signal is generated to restart the timer. </p>\n\n<p>Still my main window will not show up as long as i don't remove the restart of the timer from the end of the ui update code. </p>\n\n<p>In the debugger I can see that the code seems to work like it should, it jumps from timer to ui and back. Without breakpoints it will result in a sudden segmentation fault. </p>\n\n<p>I would be thankful for any hint where the problem could be or if there is a better way to implement this in Qt.       </p>\n\n<p>Edit: Some more code</p>\n\n<p>highperformancetimer.h</p>\n\n<pre><code>#ifndef HIGHPERFORMANCETIMER_H\n#define HIGHPERFORMANCETIMER_H\n\n#include &lt;QObject&gt;\n#include &lt;windows.h&gt;\n\nclass HighPerformanceTimer : public QObject\n{\n    Q_OBJECT\npublic:\n    HighPerformanceTimer();\n\nsignals:\n    void timer_tick();\n\npublic slots:\n    void timer_start();\n\nprivate:\n    // some variables\n    LARGE_INTEGER highPerformanceCounterValue, highPerformanceCounterFrequency, highPerformanceCounterValueOld;\n    int interval;\n    float value;\n    float last_tick_value;\n\n};\n\n#endif // HIGHPERFORMANCETIMER_H\n</code></pre>\n\n<p>highperformancetimer.cpp</p>\n\n<pre><code>#include \"highperformancetimer.h\"\n#include \"windows.h\"\n#include \"QThread\"\n\n\nHighPerformanceTimer::HighPerformanceTimer()\n{\n\n    QueryPerformanceFrequency(&amp;highPerformanceCounterFrequency);\n}\n\n\n\nvoid HighPerformanceTimer::timer_start(){\n    float i = 0;\n// just burn some time\n    while( i&lt;1000000 ) i++;\n    emit HighPerformanceTimer::timer_tick();   \n}\n</code></pre>\n\n<p>Some Code from the main OpenGl Widget:</p>\n\n<pre><code>HighPerformanceTimer *highPerformanceTimer;\nprotected slots:\n    virtual void timeOutSlot();\n\nNeHeChapter5( QWidget *parent=0, char *name=0 ) : NeHeWidget( 50, parent, name )\n    {\n        highPerformanceTimer = new HighPerformanceTimer();\n\n        connect( highPerformanceTimer, SIGNAL(timer_tick()), this, SLOT(timeOutSlot()) );\n        connect( this,  SIGNAL(graphics_updated()), highPerformanceTimer, SLOT(timer_start()));\n        highPerformanceTimer-&gt;moveToThread(&amp;timerThread);\n        highPerformanceTimer-&gt;timer_start();\n    }\n\nvoid NeHeChapter5::timeOutSlot(){\n    timeOut();\n}\n\nvoid NeHeChapter5::timeOut()\n{\n    updateGL();\n}\n\nvoid NeHeChapter5::paintGL()\n{\n//opengl code *snip*\nemit graphics_updated();\n}\n</code></pre>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12278640,"title":"Drag and drop widget outside source application widgets","body":"<p>I have a Qt Desktop aplication which has several top-level widgets. Subwidgets of top-level widgets can be moved between top-level widgets by using drag-and-drop mechanism. </p>\n\n<p>The problem i have now is to drop a sub-widget outside any of existing top-level widgets and create a new top-level widget to contain this one. Lets call this separation. </p>\n\n<p>Can this be done using drag-and-drop? I could not find a way where my dropEvent goes? \nCan i want to handle the drop event in my application even if the drop place is not allowed? Maybe a mouse release or something?</p>\n\n<p>I cannot change everything now but also a question for the future. Is docking/undocking a better way to do this?</p>\n\n<p>Regards\nMihai</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12285286,"title":"Getting QProcess::state() to a QString for some operations","body":"<p>I want to get the QProcess state and if it the state() returns \"Running\" then I want to do few operations but if I do like this</p>\n\n<pre><code>QProcess myprocess;\nQString mystring = myprocess.state()\nif(mystring==\"Running\")\n {\n//*My code\n }\nelse\n {\n//*Other code\n }\n</code></pre>\n\n<p>But actually this gives me error as <code>error: conversion from 'QProcess::ProcessState' to non-scalar type 'QString' requested</code> </p>\n\n<p>I know I am doing this in a wrong way. Can anyway point me to correct way?</p>\n\n<p>Thank you</p>\n"},{"tags":["qt","layout","widget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12283763,"title":"QGridLayout issue","body":"<p>I have a problem with when setting my centralwidget with QGridLayout. I have three widgets in my centralwidget. One is one bar in the top that covers all the horizontal length of the centralwidget and the other two are two frames, one square in the left and other one in the right. </p>\n\n<p>My purpose is that the top bar won't change vertically and the left square can expand both vertical and horizontal, and the right on stays without expansion and always in the right corner of the centralwidget giving the left one space to expand. </p>\n\n<p>The problem is when setting the size policy of the right one. If I put fixed the left one will take all the space. </p>\n\n<p>I don't know if you get the idea. Sorry, this is the best I can explain. I would be very appreciated if you could help me.</p>\n"},{"tags":["qt","qt4","qtoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12283789,"title":"How can I customize the appearance of the actions in my QToolBar?","body":"<p>I have just changed some toolbars from Q3ToolBars (with QToolButtons explicitly added to them) into Q4 toolbars (with actions added to them straight away instead.) </p>\n\n<p>The old tool buttons had a nice outline around them, but this is not displayed in the new version; the QActions in the Q4 toolbar just look like a line of icons. Is there a way to change the 'button' style in the new version (assuming these actions can be considered as such) and give them the outline? I've looked through the QToolBar reference, but the toolButtonStyle() function only appears to work with whether you want to display icon, text, etc. </p>\n\n<p>...Or will I have to just make actual tool buttons and/or QPushButtons and use addWidget()? </p>\n"},{"tags":["qt","visual-c++"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":51,"score":-2,"question_id":12267351,"title":"How to adjust my QT UI when it's re-sized to full screen resolution to be shown nicely?","body":"<p>I need urgent answer. How can i re-size my application to full screen resolution?</p>\n\n<p>i cant put pictures coz of i dont have enough reputation. </p>\n\n<p>i want my qt Application to change when i click full screen.</p>\n\n<p>when we click to any web-site its size is changed according to resolution of screen. how can i make when user click to maximize to be shown nicely.</p>\n"},{"tags":["qt","qmake","moc"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":500,"score":3,"question_id":8486992,"title":"How to add specific flags to moc in a qmake project?","body":"<p>I compile a Qt executable using <code>qmake &amp;&amp; make</code> on the following <code>project.pro</code> file:</p>\n\n<pre><code>INCLUDEPATH *= ../../dependencies/boost\nQT *= opengl xml\nCONFIG *= qt opengl static\n\nTARGET = myexe\nHEADERS = Viewer.hpp MainWindow.hpp Inspector.hpp\nSOURCES = main.cpp Viewer.cpp MainWindow.cpp Inspector.cpp\n</code></pre>\n\n<p>However, when compiling, <code>moc</code> chokes on a boost macro which it cannot parse. To work around <a href=\"https://bugreports.qt.nokia.com/browse/QTBUG-22829\" rel=\"nofollow\">this bug</a>, I need to pass the flag <code>-DBOOST_TT_HAS_OPERATOR_HPP_INCLUDED</code> to moc, but I cannot manage to do so.</p>\n\n<p>How to I edit my <code>.pro</code> file to pass a given flag to <code>moc</code>? (but not to <code>g++</code>, as <code>QMAKE_CXXFLAGS</code> does)</p>\n"},{"tags":["qt","range","qslider","qspinbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":78,"score":0,"question_id":12265684,"title":"use a created vector as range for QDoubleSpinBox and QSlider","body":"<p>I've created a vector v with 128 elements from -3000 to 3000 and I want to associate it to a <code>QDoubleSpinBox</code> and a <code>QSlider</code>, because dividing 6000 to 128 and setting the <code>QDoubleSpinBox</code> we have always the round problem. So can we set the range and the stepsize both to a <code>QDoubleSpinBox</code> and <code>QSlider</code> with a vector like this?</p>\n\n<pre><code>  std::vector&lt;double&gt; v(128);\n\n  for (int i = 0; i &lt; 128; ++i)\n  {\n      v[i] = -3000.0 + 6000.0 * (i) / 127.0;\n  }\n</code></pre>\n"},{"tags":["qt","qlabel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12281396,"title":"QLabel auto multiple lines","body":"<p>For example we have a <code>QLabel</code> and MaximumWidth set to 400.<br>\nIf set text with \"length\" more than 400 it will be cuted off.<br>\nIs there any way to make QLabel to display this string in multiple lines without using QFontMetrics or thms else?</p>\n"},{"tags":["qt","comments","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12279425,"title":"QtCreator: Central \"header\" for source code (copyright, author)","body":"<p>Is there a chance to define a central header (remark) being included in all source code files (automatically) in QtCreator?</p>\n\n<p>The header shall contain just a remark with legal information, copyright, web site of the project etc.</p>\n\n<p>I want to keep it in one central place in order I need to change it. If I manually add it to each <code>.h</code> / <code>.cpp</code> file, I need to change it everywhere in case I want to make adjustments.</p>\n"},{"tags":["qt","qml","qt5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12243764,"title":"QML DropArea accept external drag","body":"<p>I've noticed a new DropArea component in Qt5. I'm trying to drag a file from Finder (Mac) but only onEntered method is called.</p>\n\n<pre><code>import QtQuick 2.0\n\nRectangle {\n    id: background;\n    color: \"white\";\n    width: 300;\n    height: 300;\n\n    DropArea {\n        id: dropArea;\n        anchors.fill: parent;\n        onEntered: {\n            background.color = \"gray\";\n            drag.accept (Qt.CopyAction);\n            console.log(\"onEntered\");\n        }\n        onDropped: {\n            console.log (\"onDropped\");\n        }\n        onExited: {\n            bckground.color = \"white\";\n            console.log (\"onExited\");\n        }\n    }\n}\n</code></pre>\n\n<p>and here is window creation code:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QQuickView qmlView;\n    qmlView.setGeometry(0, 200, 600, 400);\n    qmlView.setResizeMode (QQuickView::SizeRootObjectToView);\n    qmlView.setSource(QUrl::fromLocalFile(\"/Users/ivann/Projects/QtGuiTestApp/testView.qml\"));\n    qmlView.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"},{"tags":["qt","build","x64"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2112,"score":1,"question_id":4628045,"title":"Qt building 64 bits","body":"<p>I have downloaded the source package of Qt, and am trying to build a 64 bit version, on a 64 bit, Windows 7 machine.  I have read as much as I can on building Qt, but I must be missing something somewhere.</p>\n\n<p>I open a 64 bit command shell, which some descriptions seem to think is the only thing necessary. </p>\n\n<p>Next I call configure.  However, should I be specifying a platform option?  If so which one?  There doesn't seem to be a win64 option, or anything similar.</p>\n\n<p>Then I call nmake, which builds a bunch of stuff, but it still builds in 32 bits.</p>\n\n<p>What am I missing?  Any help would be amazing.</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12269203,"title":"QT: Best way to load new content (or .ui) in a window (or dialog)","body":"<p>I want to create an application whose content of the window will change based on some events. E.g. I have created different .ui files for different content:</p>\n\n<p>a.ui</p>\n\n<p>b.ui</p>\n\n<p>c.ui</p>\n\n<p>After some time (or after some user action) I want to load b.ui into same window. Any idea how to do this? </p>\n\n<p>(I tried to close one window and launch another. But if the user drags one then pushes 'Next' Button it will not open at same location.)</p>\n"},{"tags":["linux","visual-studio","qt","makefile","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12276599,"title":"Creating a qt makefile from an existing visual studio project","body":"<p>I have a simple visual studio project that works.\nI want to create a makefile for it on linux.\nthe project has 3 files (main.cpp, a.h, a.cpp)\ni wrote a .pro file:</p>\n\n<pre><code>######################################################################\n# Automatically generated by qmake (2.01a) ???�? 4. ??? 15:22:14 2012\n######################################################################\n\nTARGET = YetAnotherQtApp\nCONFIG += qt\nHEADERS += a.h\nSOURCES += main.cpp a.cpp\n</code></pre>\n\n<p>I ran in the shell: </p>\n\n<pre><code>&gt;&gt;qmake -o Makefile YetAnotherQtApp.pro \n</code></pre>\n\n<p>works great.\nit created for me a Makefile\nbut when i ran 'make' in the shell it does not compile at all.\nit basically gives an error about every thing in the project (includes, variables etc')</p>\n\n<p>what am i doing wrong here?</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["qt","keyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12257357,"title":"qt : Can I get keyboard like QCursor?","body":"<p>I want to get pressed keyboard in drag/drop work.<br>\nI made a process to DO drag/drop in dropMimeData().<br>\nSo, I can't detect \"ctrl\" in that process.<br>\nIn case of mouse, I can get the infomation with QCursor, right?<br>\nIs there any way like QCursor for keyboard?  </p>\n"},{"tags":["c++","linux","qt","opencv"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12275162,"title":"Qt OpenCv \"VIDIOC_QUERYCTRL: Input/output error\" causing application shutdown","body":"<p>I am working on USB WebCamera using OpenCv in Qt.The code works fine for taking images, saving images etc. But randomly it generates error \"VIDIOC_QUERYCTRL: Input/output error\" causing my whole qt application to shutdown.</p>\n\n<p>Actually The Scenario of my application is as follow:</p>\n\n<p>In MainWindow.c, I have a pushbutton, which is when pressed starts the camera:</p>\n\n<pre><code>void MainWindow::on_pushButton_continue_pressed()\n{\n    camcapture = new CamCapture( imgResolution, defaultPath, this);\n    connect(camcapture, SIGNAL(imgChange(QString)), this, SLOT(changeImg(QString)));\n    camcapture-&gt;show();\n}\n</code></pre>\n\n<p>and Here is piece of my CamCapture Class:</p>\n\n<pre><code>CamCapture::CamCapture( int Resolution, QString path, QWidget *parent) :\n    QFrame(parent),\n    ui(new Ui::CamCapture), timer_(this), counter_(0)\n{\n    ui-&gt;setupUi(this);\n\n    /*----some variable initialization---*/\n\n    camInit();\n\n    timer_.start(100);\n    connect(&amp;timer_,SIGNAL(timeout()), this,SLOT(captureLoop()));\n}\n\nvoid CamCapture::camInit()\n{\n    capture_ = cvCaptureFromCAM(0); \n    if (!capture_)\n    {\n        qDebug()&lt;&lt;\"cannot get webcam...\";\n        ui-&gt;label_image-&gt;setText(\"No webcam!\");\n        ui-&gt;label_image-&gt;setAlignment(Qt::AlignCenter);\n        buttonActiveStatus( false, false, false );\n        return;\n    }\n\n    cvGrabFrame(capture_); // Grabs frame from camera or file\n\n    image_ = cvRetrieveFrame(capture_); // Gets the image grabbed with cvGrabFrame\n\n    qDebug() &lt;&lt; \"image size : \" &lt;&lt; image_-&gt;width &lt;&lt; \"x\" &lt;&lt; image_-&gt;height;\n\n    qDebug() &lt;&lt; \"\\n\" &lt;&lt;  ui-&gt;label_image-&gt;x();\n    qDebug() &lt;&lt; \"\\n\" &lt;&lt;  ui-&gt;label_image-&gt;y();\n}\n\n\nQImage CamCapture::Ipl2QImage(const IplImage *newImage)\n{\n    QImage qtemp;\n    if (newImage &amp;&amp; cvGetSize(newImage).width &gt; 0)\n    {\n        int x;\n        int y;\n        char* data = newImage-&gt;imageData;\n\n        qtemp= QImage(newImage-&gt;width, newImage-&gt;height,QImage::Format_RGB32 );\n        for( y = 0; y &lt; newImage-&gt;height; y++, data +=newImage-&gt;widthStep )\n            for( x = 0; x &lt; newImage-&gt;width; x++)\n            {\n                uint *p = (uint*)qtemp.scanLine (y) + x;\n                *p = qRgb(data[x * newImage-&gt;nChannels+2],\n                          data[x * newImage-&gt;nChannels+1],data[x * newImage-  &gt;nChannels]);\n            }\n    }\n    return qtemp;\n}\n\nvoid CamCapture::captureLoop()\n{\n    if ( !capture_ )\n    {\n        return;\n    }\n\n    cvGrabFrame(capture_);\n    image_ = cvRetrieveFrame(capture_);\n    if (image_)\n    {\n        counter_ ++;\n        qImage_ = Ipl2QImage(image_);\n        ui-&gt;label_image-    &gt;setPixmap(QPixmap::fromImage(qImage_.scaled(width(),height()),Qt::AutoColor));\n    }\n}\n\n\nvoid CamCapture::on_pushButton_cancel_pressed()\n{\n\n      cvReleaseCapture( &amp;capture_ );\n      cvDestroyAllWindows();\n      delay(100);\n      qDebug() &lt;&lt; \"nb frames :\" &lt;&lt; counter_;\n      CamCapture::close();\n}\n\nvoid CamCapture::on_pushButton_capture_pressed()\n{\n    savePath = _imgPath;\n    timer_.stop();\n\n    frame = cvQueryFrame(capture_); // Gets the image grabbed with cvGrabFrame\n}\n\nvoid CamCapture::on_pushButton_retake_pressed()\n{\n    timer_.start(100);\n    captureLoop();\n}\n\nvoid CamCapture::on_pushButton_save_pressed()\n{\n    int iwidth  = _imgWidth  * _imgResolution * scaledFactor;\n    int iheight = _imgHeight * _imgResolution * scaledFactor;\n\n    QString str = savePath;\n\n    IplImage *small;\n\n    small = cvCreateImage(cvSize(iwidth,iheight), 8, 3);\n    cvResize(frame, small);\n    cvSaveImage(savePath.toUtf8().constData(),small);\n\n    delay(100);\n    _imgNum++;\n    emit imgChange(savePath);\n    on_pushButton_cancel_pressed(); \n}\n</code></pre>\n\n<p>The above code randomly generates error ( causing my application shutdowm ) as follow:</p>\n\n<pre><code>   Debugging starts\n   &amp;\"warning: GDB: Failed to set controlling terminal: Invalid argument\\n\"\n   Corrupt JPEG data: bad Huffman code\n   image size :  640 x 480 \n\n   5 \n\n   10 \n   nb frames : 11 \n   VIDIOC_QUERYCTRL: Input/output error\n   Debugging has finished\n</code></pre>\n\n<p>Commonly, the Error is generated Either while pressing pushButton_continue from MainWindow.c or While pressing pushButton_Save from CamCapture.c</p>\n\n<p>Unable to find any solution on google.</p>\n\n<p>Need some suggestions/help/link to solve this issue. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":10490444,"title":"removing whitespaces from a QRegExpValidator","body":"<p>I have a code someone wrote and there</p>\n\n<pre><code> this-&gt;llBankCode = new widgetLineEditWithLabel(tr(\"Bankleitzahl\"), \"\", Qt::AlignTop, this);\n QRegExpValidator *validatorBLZ = new QRegExpValidator(this);\n validatorBLZ-&gt;setRegExp(QRegExp( \"[0-9]*\", Qt::CaseSensitive));\n this-&gt;llBankCode-&gt;lineEdit-&gt;setValidator(validatorBLZ);\n</code></pre>\n\n<p>as it can be seen from this code, is that <code>validatorBLZ</code> can accept only numbers between 0 and 9. I would like to change it, that <code>validatorBLZ</code> would be able to get as an input whitespace as well (but not to start with a whitespace), but it wont be shown.</p>\n\n<p>Example:\nif i try to copy &amp; paste a string of the format '22 34 44', the result would be an empty field. What i would like to happen is that the string '22 34 44' will be shown in the field as '223444'.</p>\n\n<p>How could i do it?</p>\n"},{"tags":["qt","qt4"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":725,"score":3,"question_id":5052148,"title":"How to use Dcmtk in Qt?","body":"<p>I am working on a project where I have to read a dicom image.  </p>\n\n<p>I am unable to install dcmtk.  I am using win7 64-bit and vs2010.</p>\n\n<p>Please explain the procedure to include dcmtk in my program.</p>\n"},{"tags":["c++","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12272910,"title":"QtPushButton wont click","body":"<p>Hello Im working through Qt <a href=\"http://zetcode.com/gui/qt4/firstprograms/\" rel=\"nofollow\">tutorials</a> I've have copy the code for the communicate section of this tutorial. the code compiles and shows but none of my buttons are clickable.</p>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\nclass QPushButton;\nclass QLabel;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\nprivate slots:\n    void OnPlus();\n    void OnMinus();\nprivate:\n    Ui::MainWindow *ui;\n    QLabel *label;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;QtGui&gt;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    QPushButton *plus = new QPushButton(\"+\", this);\n    plus-&gt;setGeometry(50, 40, 75, 30);\n\n    QPushButton *minus = new QPushButton(\"-\", this);\n    minus-&gt;setGeometry(50, 100, 75, 30);\n\n    label = new QLabel(\"0\", this);\n    label-&gt;setGeometry(190, 80, 20, 30);\n\n    connect(plus, SIGNAL(clicked()), this, SLOT(OnPlus()));\n    connect(minus, SIGNAL(clicked()), this, SLOT(OnMinus()));\n\n    ui-&gt;setupUi(this);\n}\n\n\nvoid MainWindow::OnPlus()\n{\n  int val = label-&gt;text().toInt();\n  val++;\n  label-&gt;setText(QString::number(val));\n}\n\nvoid MainWindow::OnMinus()\n{\n  int val = label-&gt;text().toInt();\n  val--;\n  label-&gt;setText(QString::number(val));\n}\n\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n    }\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include &lt;QPushButton&gt;\n#include &lt;QLabel&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    MainWindow window;\n    window.show();\n\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["qt","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12272831,"title":"Qt - How to list all existing databases on PostgreSQL server using Qt interface","body":"<p>Could someone please explain how to obtain a list of all existing databases on a PostgreSQL server, to which the user already has access, using Qt? PostgreSQL documentation suggests the following query:</p>\n\n<pre><code>SELECT datname FROM pg_database WHERE datistemplate = false;\n</code></pre>\n\n<p>What are the correct parameters to the following functions:</p>\n\n<pre><code>QSqlDatabase::setDatabaseName(const QString &amp; name) //\"postgres\" or \"pg_database\"?\nQSqlDatabase::setUserName(const QString &amp; name) //actual user name?\nQSqlDatabase::setPassword(const QString &amp; password) //no password? or user password?\n</code></pre>\n\n<p>Much appreciated. Thank you in advance.</p>\n"},{"tags":["c++","qt","hex","signed","hexadecimal-notation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":159,"score":2,"question_id":12270446,"title":"Qt Convert Negative Hex String to Signed Integer","body":"<p>I am reading the registers of an i2c device and the range of the return value is -32768 to 32768, signed integers. Below is an example:</p>\n\n<pre><code># i2cget -y 3 0x0b 0x0a w\n0xfec7\n</code></pre>\n\n<p>In Qt, I get this value ( 0xfec7 ) and want to display it in a QLabel as a signed integer. The variable stringListSplit[0] is a QString with the value '0xfec7'.</p>\n\n<pre><code>// Now update the label\nint milAmps = stringListSplit[0].toInt(0,16); // tried qint32\nqDebug() &lt;&lt; milAmps;\n</code></pre>\n\n<p>The problem is no matter what I try I always get unsigned integers, so for this example I am getting 65223 which exceeds the maximum return value specified. I need to convert the hex value to a signed integer, so I need to treat the hex value as being expressed with 2s complement. I am not seeing a simple method in the QString documentation. How can I achieve this in Qt?</p>\n\n<p>NOTE: </p>\n\n<p>QString::toShort returns 0:</p>\n\n<pre><code>// Now update the label\nshort milAmps = stringListSplit[0].toShort(0,16);\nqDebug() &lt;&lt; \"My new result: \" &lt;&lt; milAmps;\n</code></pre>\n\n<p>For an input of stringListSplit[0] equal to '0xfebe', I get an output of -322, using the C-style casting answered by Keith like so:</p>\n\n<pre><code>// Now update the label\nint milAmps = stringListSplit[0].toInt(0,16);\nqDebug() &lt;&lt; \"My new result: \" &lt;&lt; (int16_t)milAmps;\n</code></pre>\n"},{"tags":["qt","script","constructor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12252215,"title":"Qt Script constructor function","body":"<p>I am reading through the Qt scripting documentation and came across this passage. </p>\n\n<blockquote>\n  <p>Note that, even though it is not considered good practice, there is\n  nothing that stops you from choosing to ignore the default constructed\n  (this) object when your function is called as a constructor and\n  creating your own object anyway; simply have the constructor return\n  that object. The object will \"override\" the default object that the\n  engine constructed</p>\n</blockquote>\n\n<p>I am confused as to what this means. What it means by 'this'  object and the constructor object. Does this mean it is favored to have a this object rather than having a constructor?</p>\n\n<p>Could some please explain. </p>\n"},{"tags":["python","qt","opengl","video","fixed"],"answer_count":0,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":615,"score":7,"question_id":7687864,"title":"Phonon's VideoWidget show wrong colors on a QGLWidget (Qt, Python) ","body":"<p>I have a pet project that contains a videoplayer with a feature to display subtitles.\nUntil now I was working on the other parts of my project, but now I have to implement the subtitle rendering part, in the best way.</p>\n\n<p>I didn't find anything useful towards that end, except <a href=\"http://stackoverflow.com/questions/3692712/python-qt-display-text-label-above-another-widgetphonon\">this</a></p>\n\n<p>But when I use this code I get a wrong picture of the video.. \n<img src=\"http://i.stack.imgur.com/ZYP3h.png\" alt=\"enter image description here\"></p>\n\n<p>Colors are modified... red --> blue, blue --> red, etc.</p>\n\n<p>my example code is <a href=\"http://pastebin.com/ZgT6vT8r\" rel=\"nofollow\">here</a></p>\n\n<p>Can someone help me with this code, or show me another solution to render subtitles on top of a video? (On Qt)</p>\n\n<p>ps.: I tested it with PySide 1.0.0, 1.0.6 and on Arch and Ubuntu linux.</p>\n\n<p>edit: an ugly hack is available (thanks to <a href=\"http://stackoverflow.com/users/894321/alexisdm\">akexisdm</a>):</p>\n\n<pre><code>import sys\nfrom PySide.QtGui import QApplication, QMessageBox\n# overlay\nfrom PySide.QtGui import QGraphicsScene, QGraphicsView, QGraphicsProxyWidget, QPainter, QImage\nfrom PySide.QtOpenGL import QGLWidget\n\nfrom PySide.phonon import Phonon\n\ntry:\n    from OpenGL import GL\nexcept ImportError:\n    app = QApplication(sys.argv)\n    QMessageBox.critical(None, \"OpenGL 2dpainting\",\n                            \"PyOpenGL must be installed to run this example.\",\n                            QMessageBox.Ok | QMessageBox.Default,\n                            QMessageBox.NoButton)\n    sys.exit(1)\n\n\n#class CustomProxy(QGraphicsProxyWidget):\n#    def __init__(self, parent=None):\n#        QGraphicsProxyWidget.__init__(self, parent)\n#\n#\n#    def boundingRect(self):\n#        return QGraphicsProxyWidget.boundingRect(self).adjusted(0, 0, 0, 0);\n\n\nclass CustomProxy(QGraphicsProxyWidget):\n    def __init__(self, parent=None):\n        QGraphicsProxyWidget.__init__(self, parent)\n\n\n    def boundingRect(self):\n        return QGraphicsProxyWidget.boundingRect(self).adjusted(0, 0, 0, 0);\n\n# This is the magic:\n    def paint(self, painter, option, widget=None):\n        painter_inverted = QPainter()\n        brect= QGraphicsProxyWidget.boundingRect(self)\n        invertedColor = QImage(brect.width(),brect.height(),QImage.Format_RGB32)\n        painter_inverted.begin(invertedColor)\n        QGraphicsProxyWidget.paint(self,painter_inverted, option, widget)\n        painter_inverted.end()\n        painter.drawImage(0,0,invertedColor.rgbSwapped())\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    app.setApplicationName(\"tete\")\n\n    scene = QGraphicsScene()\n\n    media = Phonon.MediaObject()\n    video = Phonon.VideoWidget()\n    Phonon.createPath(media, video)\n\n    proxy = CustomProxy()\n    proxy.setWidget(video)\n    rect = proxy.boundingRect()\n    #proxy.setPos(0, 0)\n    #proxy.show()\n    scene.addItem(proxy)\n\n    media.setCurrentSource(\"/home/boo/Development/mindmap/test/resources/glvideo.avi\")\n    media.play()\n\n    titem = scene.addText(\"Bla-bla-bla\")\n    titem.setPos(130, 130)\n    #titem.setPos(rect.width()/2, rect.height()/2)\n\n    view = QGraphicsView(scene)\n    vp = QGLWidget()\n    view.setViewport(vp)\n\n    #view.setRenderHints(QPainter.Antialiasing | QPainter.SmoothPixmapTransform)\n    view.setViewportUpdateMode(QGraphicsView.BoundingRectViewportUpdate)\n    view.setWindowTitle(\"Eternal fire\")\n\n    view.show()\n    sys.exit(app.exec_())\n</code></pre>\n"},{"tags":["c++","qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12267620,"title":"QML: GridView does not update after change its model in C++","body":"<p>My starting point is the following QML source, where GridView is showing ListModel with nice animation of item swaps:</p>\n\n<pre><code>import QtQuick 1.1\nGridView {\n    id: mainGrid\n    width: 825; height: 400; cellWidth: 165; cellHeight: 95\n    model: myModel\n    delegate: myButton\n\n    ListModel {\n        id: myModel\n        function createModel() {\n            for (var i=1; i&lt;=20; i++) {\n                myModel.append({\"display\":i})\n            }\n        }\n        function moveItem(inx1,inx2) {\n            myModel.move(inx1,inx2,1)\n        }\n        Component.onCompleted: {createModel()}\n    }\n\n    Component {\n        id: myButton\n        Item {\n            id: item\n            width: 160; height: 90\n            Rectangle {\n                id: box\n                parent: mainGrid\n                x: item.x; y: item.y; width: item.width; height: item.height; border.width: 1\n                Behavior on x {NumberAnimation { duration: 1000;} }\n                Behavior on y {NumberAnimation { duration: 1000;} }\n                Text {\n                    anchors.centerIn: parent\n                    text: display\n                }\n                MouseArea {\n                    anchors.fill: parent\n                    onClicked: { mainGrid.model.moveItem(index,0) }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Instead of QML ListModel I want to use a C++ model which is derived from QStandardItemModel:</p>\n\n<pre><code>class MyTable : public QStandardItemModel\n{\n    Q_OBJECT\n    ...\n}\n</code></pre>\n\n<p>This model is exposed to QML via <code>qmlRegisterType&lt;MyTable,1&gt;(\"MyTable\",1,0,\"MyTable\")</code>.\nThe problem is, that I do not get the nice animation effect and I am also not sure if after the swap the model is correctly updated (in this simple example the results looks OK but when I add more code I notice problem with indices).</p>\n\n<p>The related (problematic) C++ functions are here:</p>\n\n<pre><code>void MyTable::createModel()\n{\n    for (unsigned int i=0; i&lt;20; i++) {\n        table[i]=i;\n        QStandardItem* item = new QStandardItem(QString(\"%1\").arg(table[i]));\n        setItem(i,0,item);\n    }\n}\n\nvoid MyTable::moveItem(int inx1, int inx2) {\n    //SOME MATH, IT WORKS\n    int tmp = table[inx1];\n    if (inx1&lt;inx2) {\n        for (int i=inx1; i&lt;inx2; i++) table[i] = table[i+1];\n        table[inx2] = tmp;\n    } else if (inx2&lt;inx1) {\n        for (int i=inx1; i&gt;inx2; i--) table[i] = table[i-1];\n        table[inx2] = tmp;\n    }\n    //UPDATE MODEL - IS SOMETHING MISSING HERE?\n    for (unsigned int i=0; i&lt;20; i++) {\n        QStandardItem* item = new QStandardItem(QString(\"%1\").arg(table[i]));\n        setItem(i,0,item);\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12266685,"title":"Increasing progress bar value by decimal value and few more problems in Qt","body":"<p>I have following problems.</p>\n\n<p>A) How can i increase value of progress bar by decimal values? I tried </p>\n\n<p><code>ui->progressBar->setValue(0.5);</code> and increased this using while loop by added 0.5.\nBut all I got is empty progress bar. Any idea why?</p>\n\n<p>p.s:I got warning 'This statement has no effect' on the line <code>ui->progressBar->setValue(0.5);</code></p>\n\n<p>B)  While making a progress bar I made a while loop with progress bar value increments by 1 and added Sleep(600) so that progress bar doesn't complete very fast. That isn't the problem, my problem is while the progress bar is increasing, my app lags a lot. I tried putting <code>QCoreApplication::processEvents();</code> all over my while loop and all over in my code but that didn't work. What to do?</p>\n"},{"tags":["qt","dialog","vtk"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12259657,"title":"Storing variables from dialog and using it in a qvtkwidget","body":"<p>I've created a dialog where I ask for some lengths of a number of slices, as xmax, ymax, and zmax as the number of slices. I intend to use those numbers in the mainwindow in the qvtkwidget. I'll simplify and make the example to only one variable so you can understand and help me.</p>\n\n<p>Here's my dialog.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QDir&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\n#include \"dialog.h\"\n#include \"ui_dialog.h\"\n\n// Create getters to transfer variables to main.cpp\ndouble Dialog::getxpax()\n{\n    return xpax;\n}\n\n// Start the mainwindow\nvoid Dialog::startplanevolume()\n{\n  // Getting some proprieties for the lenght of the volume\n    QString XMAX=ui-&gt;lineEdit-&gt;text();\n    xpax=XMAX.toDouble();\n\n    if (xpax==0)\n    {\n        ui-&gt;label_17-&gt;setText(\"Error: Can't start, invalid \\nmeasures\");\n        ui-&gt;label_17-&gt;setStyleSheet(\"QLabel { color : red; }\");\n    }\n    else\n    {\n        this-&gt;accept();        \n    }\n}\n\nDialog::Dialog(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Dialog)\n{\n    ui-&gt;setupUi(this);\n\n  // Control volume measures\n    // Making the lineedit objects only accept numbers\n    ui-&gt;lineEdit-&gt;setValidator(new QDoubleValidator(this));\n\n  // Start planevolume\n    connect(ui-&gt;pushButton, SIGNAL(clicked()), this, SLOT(startplanevolume()));\n    connect(ui-&gt;pushButton_2, SIGNAL(clicked()), this, SLOT(hide()));\n\n}\n</code></pre>\n\n<p>The pushbutton is the ok button and the pushbutton_2 is the cancel button.</p>\n\n<p>In my mainwindow I created a setter function to set the value of the xmax.</p>\n\n<p>here's some code.</p>\n\n<pre><code>// Get stored data from dialog\nvoid planevolume::setxpax(double xpax)\n{\n    xp=xpax;\n}\n</code></pre>\n\n<p>and when I use qDebug() the xp inside the settter shows me that the xp actually gets the xpax value.</p>\n\n<p>here's my main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\n#include \"planevolume.h\"\n#include \"dialog.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    Dialog *dialog= new Dialog;\n\n    if (dialog-&gt;exec())\n    {\n        planevolume mainwindow;\n        mainwindow.setxpax(dialog-&gt;getxpax());\n        mainwindow.show();\n        return app.exec();\n    }\n\nreturn 0;\n}\n</code></pre>\n\n<p>So the only problem is that is here, at mainwindow as planevolume.cpp when I need it, the value has not been set,</p>\n\n<pre><code>planevolume::planevolume(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::planevolume)\n\n{\n    ui-&gt;setupUi(this);\n\n// My vtk statements are here in the code, but they are \n// executed before the setter gives the value to my new \n// variable xp, so when I need the value it has not been set yet.\n</code></pre>\n\n<p>Any ideas guys?</p>\n"},{"tags":["qt","properties","qt4","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12252357,"title":"Reset page to initial state qml","body":"<p>I'm using this code to load a page</p>\n\n<pre><code>            onClicked:\n            {\n                creationDetailsSheetLoader.source = \"CreationDetailsPage.qml\"\n                creationDetailsSheetLoader.item.reset()\n                pageStack.push(creationDetailsSheetLoader.item)\n            }\n</code></pre>\n\n<p>I'd like to have the data</p>\n\n<pre><code>property string iconPath: \"\"\nproperty string iconName: \"\"\nproperty string appNameString: \"\"\nproperty string desktop: \"\"\n</code></pre>\n\n<p>reset after each exit from the page</p>\n\n<p>I have components properties set this way</p>\n\n<pre><code>                text: ( desktop == \"\" ) ? \"No app selected\" : desktop\n</code></pre>\n\n<p>If I do</p>\n\n<pre><code>function reset()\n{\n    iconName = \"\"\n    iconPath = \"\"\n    appNameString = \"\"\n    desktop = \"\"\n}\n</code></pre>\n\n<p>and call this onLoaded of the loader, the component properties, as the above specified stay the same\nWhat am I doing wrong?\nOr is there any easy way of resetting the page to the initial state</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","c++11","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":161,"score":2,"question_id":12264824,"title":"How to configure QtCreator to work with C++11?","body":"<p>I wrote some project using QtCreator 2.5.1 and Qt 4.8.0. I added to *.pro file:</p>\n\n<pre><code>QMAKE_CXXFLAGS += -std=c++0x\n</code></pre>\n\n<p>And all compiles and works correct, but IDE still highlights C++11-style pieces of code as wrong. E.g. this string:</p>\n\n<pre><code>QVector&lt;int&gt; colwi{100,70,30,40,25,25,25,25,25};\n</code></pre>\n\n<p>Can this be fixed?</p>\n"},{"tags":["mysql","qt","dll"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12044333,"title":"MySQL compile libs","body":"<p>I am having real problem with compiling MySQL libraries for Qt in Windows and Mac. Essentially, I cannot use mysql with a Qt application because of missing the file QMYSQL. I am pretty much new when it comes to configure and install applications in Unix-like systems. However, building libraries for Qt looks like this. I have read a little bit about GNU C and GNU Make to understand what is done but it is still overwhelming me.</p>\n\n<p>The guide in Qt Project says I should have folder include and lib/opt in which I should have libmysql.lib file. There's no such folder like opt/ but there is the file libmysql.lib and libmysql.dll in /lib folder. Qt Project website does not say that but I have copied everything to C:/QtSDK/QtSources/4.8.1/src/plugins/sqldriver/mysql where I also found mysql.pro. I run this command:</p>\n\n<pre><code>qmake \"INCLUDEPATHS+=include\" \"LIB+=libmysql.lib\" mysql.pro\n</code></pre>\n\n<p>and the program generated a Makefile for me. When I run \"make\", or \"make release\" etc. make stops always at the same point and states there is no \"mysql.lib\" file. I cannot find this file anywhere.</p>\n\n<p>Does anybody has any idea how to do it? Please, at least direct me where I could start looking.</p>\n"},{"tags":["qt","make","qmake","qtestlib"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12263841,"title":"qmake incorrect target generation","body":"<p>I have a .pro file that looks like this:</p>\n\n<pre><code>BASEDIR = ../../..\nCLEBS *= buildplugin apextools apexdata apexmain\nTARGET = maintest\nTEMPLATE = app\ninclude($$BASEDIR/clebs.pri)\n\nCONFIG *= qtestlib\n\nQT *= testlib gui\n\nSOURCES *= \\\napexmaintest.cpp \\\n\nHEADERS *= \\\napexmaintest.h \\\n</code></pre>\n\n<p>But, the makefile it produces has the following targets:</p>\n\n<pre><code>QMAKE_TARGET  = maintest\nDESTDIR       = ../../../bin/debug/\nTARGET        = libmaintest.so\nTARGETD       = libmaintest.so\n</code></pre>\n\n<p>Accordingly gcc produces a library. However I want an executable to be produced as specified in the .pro file. </p>\n\n<p>I dont understand why this awkward thing is happening? Any pointers are appreciated.</p>\n\n<p>Thank you </p>\n\n<p>P.S. this is the .pro file for a unit test using qtestlib framework.</p>\n"},{"tags":["qt","serialization","printing"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12253363,"title":"Persisting / Serializing QPrinter (QPrintDialog) between execution","body":"<p>In a Qt Desktop application, how can I persist the QPrinter selection between application runs? </p>\n\n<p>Consider the following code:</p>\n\n<pre><code>printDialog = new QPrintDialog();\nif (printDialog-&gt;exec() == QDialog::Accepted) {\n    qDebug() &lt;&lt; printDialog-&gt;printer(); // Gives just a pointer value,\n                                        // no real use for serializing.\n    view-&gt;print(printDialog-&gt;printer());\n}\n</code></pre>\n\n<p>I'd like to be able to do both:</p>\n\n<pre><code>printDialog = new QPrintDialog(\"some-previously stored settings\") \n</code></pre>\n\n<p>and, without even invoking QPrintDialog, simply print to the pre-selected printer like that:</p>\n\n<pre><code>view-&gt;print(new QPrinter(\"some previously stored settings\"))\n</code></pre>\n\n<p>There is a function that deals with QPrinterInfo, but it merely returns the printer name.. Any other suggestions?</p>\n"},{"tags":["qt","label","word-wrap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12262123,"title":"QLabel word wrap mode","body":"<p>I have a label thet sometimes contain a long text with no spaces(path in the computer).</p>\n\n<p>So wrod wrap wraps it very weird.</p>\n\n<p>Is there a way to make word-wrap of the label that will break in the middle of the word or not only at whitespaces?</p>\n"},{"tags":["c++","qt","qgridlayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12261405,"title":"QGridLayout's addWidget block my project","body":"<p>The problem seems simple but I don't solved it in 2 hours.I Have this Layout:</p>\n\n<pre><code>QGridLayout* view = new QGridLayout(this);\nview-&gt;setSpacing(15);\nview-&gt;addWidget(x0,2,1);\nview-&gt;addWidget(x1,1,1);\nview-&gt;addWidget(keyboard,2,0);\nview-&gt;addWidget(x2,1,0);\nview-&gt;addWidget(draw,0,0,0,1);\nresize ( 650,650);\nthis-&gt;setLayout(view);\n</code></pre>\n\n<p>I need that \"draw\" (the graphical part of the project),occupies the top end of the project (row 0, column 0 to column 1). </p>\n\n<p>The problem is that whatever value I put in the constructor:</p>\n\n<pre><code>void QGridLayout :: addWidget (QWidget * widget, int fromRow, fromColumn int, int rowSpan, columnSpan int, Qt :: Alignment alignment = 0) \n</code></pre>\n\n<p><em><strong>All other Widgets are like blocked and I can not interact when my program is running.</em></strong></p>\n\n<p>With classic constructor </p>\n\n<pre><code>void QGridLayout :: addWidget (QWidget * widget, int row, int column, Qt :: Alignment alignment = 0) \n</code></pre>\n\n<p>No problems, but the Widget \"draw\" is not where I want to (only 1 column instead of 2). </p>\n\n<p>Anyone know where I'm doing it wrong? </p>\n\n<p>PS: Widgets have no layout settings (apart a numeric keypad to fix the minimum height for the keys).</p>\n"},{"tags":["qt","osx","gcc","openmp"],"answer_count":4,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":1235,"score":8,"question_id":6252822,"title":"How a recent version of GCC (4.6) could be used together with Qt under Mac OS?","body":"<p>My problem is related to the one discussed here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3106455/is-there-a-way-that-openmp-can-operate-on-qt-spanwed-threads/6252380#6252380\">Is there a way that OpenMP can operate on Qt spanwed threads?</a></p>\n\n<p>Upon trying to run my Qt-based program under Mac OS that has an OpenMP clause in a secondary thread, it crashed.  After browsing through the web, now I understand that it is caused by a bug in the rather old version (4.2) of gcc supplied by Apple.</p>\n\n<p>Then I downloaded the latest 4.6 version of gcc from <a href=\"http://hpc.sourceforge.net\" rel=\"nofollow\">http://hpc.sourceforge.net</a> and tried to compile the project, but I got the following errors from g++ compiler:</p>\n\n<p>unrecognized option ‘-arch’\nunrecognized option ‘-Xarch_x86_64’</p>\n\n<p>I learned that this is because these are options, which can be only interpreted by the custom-configured Apple-gcc compiler, but not by standard gcc. </p>\n\n<p>Could anybody please help me  could I overcome this issue and configure g++ 4.6 to use with Qt in order to get a bug-free OpenMP support? I admit that I'm a newbie under Mac OS platform with regard to compilers and programming and would like to port my code from Visual Studio-Qt environment.  </p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["qt","scroll","mouse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12261267,"title":"Scroll event detection in qt","body":"<p>How do I detect a scroll event in a qt widget? I want to use it to scroll a QWT plot. I have tried using a qmouseevent, but I could only find options for movement and pressing/releasing the mouse.</p>\n\n<p>Thx!</p>\n"},{"tags":["c++","osx","qt","osx-lion"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":273,"score":0,"question_id":10960688,"title":"How to suppress this - qglobal.h:320:6: warning: #warning \"This version of Mac OS X is unsupported\"?","body":"<p>I am encountering the following warning</p>\n\n<pre><code>/path/QtSDK/Desktop/Qt/474/gcc/include/QtCore/qglobal.h:320:6:\nwarning: #warning \"This version of Mac OS X is unsupported\"\n</code></pre>\n\n<p>Here is qglobal.h</p>\n\n<pre><code> 301 #ifdef Q_OS_DARWIN\n 302 #  ifdef MAC_OS_X_VERSION_MIN_REQUIRED\n 303 #    undef MAC_OS_X_VERSION_MIN_REQUIRED\n 304 #  endif\n 305 #  define MAC_OS_X_VERSION_MIN_REQUIRED MAC_OS_X_VERSION_10_4\n 306 #  include &lt;AvailabilityMacros.h&gt;\n 307 #  if !defined(MAC_OS_X_VERSION_10_3)\n 308 #     define MAC_OS_X_VERSION_10_3 MAC_OS_X_VERSION_10_2 + 1\n 309 #  endif\n 310 #  if !defined(MAC_OS_X_VERSION_10_4)\n 311 #       define MAC_OS_X_VERSION_10_4 MAC_OS_X_VERSION_10_3 + 1\n 312 #  endif\n 313 #  if !defined(MAC_OS_X_VERSION_10_5)\n 314 #       define MAC_OS_X_VERSION_10_5 MAC_OS_X_VERSION_10_4 + 1\n 315 #  endif\n 316 #  if !defined(MAC_OS_X_VERSION_10_6)\n 317 #       define MAC_OS_X_VERSION_10_6 MAC_OS_X_VERSION_10_5 + 1\n 318 #  endif\n 319 #  if (MAC_OS_X_VERSION_MAX_ALLOWED &gt; MAC_OS_X_VERSION_10_6)\n 320 #    warning \"This version of Mac OS X is unsupported\"\n 321 #  endif\n 322 #endif\n</code></pre>\n\n<p>I am on 10.7 and hence the warning. But how do I suppress it?</p>\n\n<p>Also are there any serious consequences? My program is otherwise getting compiled fine.</p>\n"},{"tags":["qt","model-view"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12259351,"title":"\"Noise\" in image","body":"<p>I use Qt to create a data files managed application. \nI use dialog Model-View QTreeView to show tree structure. \nOn Win# it works fine. On Linux sometimes I get following \"noise\":</p>\n\n<p><a href=\"http://imageshack.us/photo/my-images/268/bugloader.jpg/\" rel=\"nofollow\">http://imageshack.us/photo/my-images/268/bugloader.jpg/</a></p>\n\n<p>The noise is shown only if user open several (more then 4) expansion levels.\nAny one could help me?</p>\n"},{"tags":["python","qt","python-2.7","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12215008,"title":"Retrieving pen pressure with Python 2.7 via PySide","body":"<p>I'm using Python 2.7 with PySide and want to use <a href=\"http://www.pyside.org/docs/pyside/PySide/QtGui/QTabletEvent.html#PySide.QtGui.QTabletEvent\" rel=\"nofollow\">this</a> to retrieve pen pressure from my wacom pen.</p>\n\n<p>So I tried setting up the following</p>\n\n<pre><code>import PySide\nfrom PySide import QtCore, QtGui\npressure = PySide.QtGui.QTabletEvent.pressure()\nprint pressure\n</code></pre>\n\n<p>That threw the following error</p>\n\n<pre><code>pressure = PySide.QtGui.QTabletEvent.pressure()\nTypeError: descriptor 'pressure' of 'PySide.QtGui.QTabletEvent' object needs an argument\n</code></pre>\n\n<p>The object it needs is a \"PySide.QtGui.QTabletEvent\" Object. But I have no idea how can I retrieve such an object.</p>\n\n<p>So my question is, how do I retrieve the wacom penpressure using QTabletEvent?</p>\n"},{"tags":["qt","widget","symbian","visibility","qml"],"answer_count":0,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":148,"score":2,"question_id":11990294,"title":"Always visible qml","body":"<p>I have qml button file that I want to be visible above the keyboard when the keyboard is visible.</p>\n\n<p>I just want to know what I should do with my QmlApplicationViewer so that my small qml block is always visible on top of all other applications but you should still have access to the application below.</p>\n\n<p>I have already implemented a way for the file to become visible when the keyboard is visible and I can easily get it right above the keyboard later but now I am struggling to prevent it from stealing focus and closing the keyboard, because the moment a keyboard is opened my button appears and the keyboard closes. The moment I close my app the button disappears and the keyboard reopens in the app where I originally opened it. I want this to be a background task which supplements the keyboard functionality, the button will allow for speech input.</p>\n\n<p><strong>main.qml:</strong></p>\n\n<pre><code>import QtQuick 1.1\nimport com.nokia.symbian 1.1\n\nButton{\n    signal keyActive()\n\n    x: 0\n    y: 0\n    text: \"Voice\"\n    property bool bob: inputContext.visible\n    onBobChanged: console.log(\"keyboard\" + bob), bob ? keyActive() : null\n}\n</code></pre>\n\n<p><strong>main.cpp:</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"qmlapplicationviewer.h\"\n#include &lt;QObject&gt;\n#include &lt;QGraphicsObject&gt;\n\nQ_DECL_EXPORT int main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    QmlApplicationViewer viewer;\n    viewer.setMainQmlFile(QLatin1String(\"qml/topwidget/main.qml\"));\n\n    viewer.setWindowFlags(Qt::WindowStaysOnTopHint);\n    viewer.setAttribute(Qt::WA_ShowWithoutActivating);\n    viewer.move(10, 20);\n    viewer.releaseKeyboard();\n    viewer.show();\n\n    QObject *rootObject = viewer.rootObject();\n    QObject::connect(rootObject, SIGNAL(keyActive()), &amp;viewer, SLOT(raise()));\n\n    return app.exec();\n}\n</code></pre>\n\n<p>PS. I do know when the keyboard opens and closes, all I want to know is how to display my button without the keyboard automatically closing?</p>\n"},{"tags":["qt","symbian","speech-recognition","cmusphinx","carbide"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":11963923,"title":"How to compile SpeechMe","body":"<p>I am trying to compile the SpeechMe project: <a href=\"http://projects.developer.nokia.com/speechme/wiki\" rel=\"nofollow\">http://projects.developer.nokia.com/speechme/wiki</a> so that I can use the voice recognition in another project I want to make.</p>\n\n<p>I have followed all the instructions and downloaded the full sources of Sphinxbase and Pocketsphinx and used them to add all the missing files to the Sphinxbase and Pocketsphinx directories included in SpeechMe. I have compiled them all in the order the wiki says and they all returned: \"***Build Complete\" but it seems that they did not produce any output files?</p>\n\n<p>I then tried compiling SpeechMe in Qt Creator but it gives me these three errors:</p>\n\n<p>Here is the build log for all configurations: <a href=\"http://sdrv.ms/PxlD6r\" rel=\"nofollow\">http://sdrv.ms/PxlD6r</a></p>\n\n<p>Please help, I really don't understand why this is not working!</p>\n"},{"tags":["qt","gui","keyboard-shortcuts"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11934077,"title":"QAction Qt::Key_Return shortcut is triggered by user entering values in GUI","body":"<p>I have an issue with associating a keypress to a <code>QAction</code>. I'm mapping <kbd>Enter</kbd> to an action like this:</p>\n\n<pre><code>myAction-&gt;setShortcut(Qt::Key_Return);\n</code></pre>\n\n<p>The problem is that the <code>QAction</code> is also triggered when I type a value in a <code>QSpinBox</code> and then press <kbd>Enter</kbd>. I was expecting the spinbox to consume the event (so it's not caught by the mainwindow) but it's not working like that.</p>\n\n<p>I've seen that I can add a context to my shortcut, I tried all values but this does not solve my issue.</p>\n\n<p>@Matthew It is indeed rejecting the event:</p>\n\n<pre><code>case Qt::Key_Enter:\ncase Qt::Key_Return:\n    d-&gt;edit-&gt;d_func()-&gt;control-&gt;clearUndo();\n    d-&gt;interpret(d-&gt;keyboardTracking ? AlwaysEmit : EmitIfChanged);\n    selectAll();\n    event-&gt;ignore();\n    emit editingFinished();\n    return;\n</code></pre>\n\n<p>I find this behavior quite strange.</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":12175438,"title":"How to set image with QLabel in Qt?","body":"<pre><code>ui-&gt;label-&gt;setStyelSheet(\"image:url(:/1.png); border-image:url(:/2.png);\");  \n</code></pre>\n\n<p>Why can't the image be displayed after run? But the border-image display normal.<br>\nIt can display normal in Qtcreator. It can display image in compiler even did not run.</p>\n"},{"tags":["qt","sockets","networking"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12255605,"title":"How to maintain a tcp socket in qt?","body":"<p>I have overloaded the incomingConnection function of QTcpServer at the server side with following code</p>\n\n<pre><code>void CtiServer::incomingConnection(int socketDescriptor)\n{\n    qDebug() &lt;&lt; QString(\"CtiServer thread id = %1, thread = %2\").arg(QString::number((uint)QThread::currentThreadId(), 16)).arg(QString::number((qlonglong)QThread::currentThread(), 16));\n    ServerThread *thread = new ServerThread(socketDescriptor, this);\n    connect(thread, SIGNAL(finished()), thread, SLOT(deleteLater()));\n    thread-&gt;start();\n}\n</code></pre>\n\n<p>Then in every thread i created a new QTcpSocket subclass object named ServerSocket,</p>\n\n<pre><code>void ServerThread::run()\n{\n    qDebug() &lt;&lt; QString(\"ServerThread thread id = %1, thread = %2\").arg(QString::number((uint)QThread::currentThreadId(), 16)).arg(QString::number((qlonglong)QThread::currentThread(), 16));\n    serverSocket = new ServerSocket();\n    serverSocket-&gt;setSocketDescriptor(socketDescriptor);\n    connect(serverSocket, SIGNAL(readyRead()), serverSocket, SLOT(handleRequest()));\n    serverSocket-&gt;waitForDisconnected(-1);\n}\n</code></pre>\n\n<p>The problem is whether <code>serverSocket-&gt;waitForDisconnected(-1)</code> is right or not. </p>\n\n<p>I am trying to maintain the socket with this statement, util client send some message to notify the server socket that the connection should be shutdown, so that I could keep a long connection between server and client. </p>\n\n<p>As a result, I could connect the disconnected signal and know when the client is down without bothering to set up some heart-beat protocol to detect whether a client is still alive or dead.</p>\n\n<p>Or should I set up a heart-beat protocol and use code like following:</p>\n\n<pre><code>sock.disconnectFromHost();\nsock.waitForDisconnected();\n</code></pre>\n\n<p>instead of <code>sock.waitForDisconnected(-1)</code>.</p>\n"},{"tags":["qt","model","qt4","model-view"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":144,"score":2,"question_id":12130788,"title":"Is properly tracking source model row movement a part of QSortFilterProxyModel's contract?","body":"<p>Suppose I have a source model, within which the row movements are decorated with</p>\n\n<pre><code>beginMoveRows()\nendMoveRows()\n</code></pre>\n\n<p>(and hence emit <code>layoutChanged()</code>).</p>\n\n<p>Then, there's a <a href=\"http://doc.qt.nokia.com/4.7-snapshot/qsortfilterproxymodel.html\" rel=\"nofollow\">QSortFilterProxyModel</a> instance set up to filter rows of the source model.\nAs I get it from the sources, the source model layout changes lead to respective readjustments of the proxy model (since it listens to <code>layoutChanged()</code> signals and properly adjusts itself).</p>\n\n<p>But the docs say only:</p>\n\n<blockquote>\n  <p>Note: By default, the model does not dynamically re-sort and re-filter data whenever the original model changes. This behavior can be changed by setting the dynamicSortFilter property.</p>\n  \n  <p>dynamicSortFilter : bool\n  This property holds whether the proxy model is dynamically sorted and filtered whenever the contents of the source model change.</p>\n</blockquote>\n\n<p>My question: </p>\n\n<ul>\n<li>(1) does that \"whenever the original model changes\" include \"when the rows are moved within the original model\"</li>\n<li>(2) if so, is the order of items within the proxy model guaranteed to be the same as in the source model, and </li>\n<li>(3) has anyone got experience relying on the above behavior in development?</li>\n<li>(4) <strong>[Extra question]</strong> do I get it right that if I try tracking source model's rows(AboutToBe)Moved signals within a QSortFilterProxyModel subclass and call beginMoveRows/endMoveRows there (with appropriately mapped row indices), that will mess the proxy, since beginMoveRows/endMoveRows calls will try to adjust persistent indices already adjusted by QSortFilterProxyModelwhen handling onLayoutChanged source model's signal?</li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["qt","blackberry","qt4","mingw","playbook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12238695,"title":"Left -j off mingw32-make command for Qt4?","body":"<p>I accidentally left off the <a href=\"http://www.gnu.org/software/make/manual/html_node/Options-Summary.html#Options-Summary\" rel=\"nofollow\">-j [jobs]</a> when compiling the <a href=\"http://qt.gitorious.org/\" rel=\"nofollow\">Qt4 <strong>git://gitorious.org/qt/qt.git</strong></a> repository from mingw32-make as per the <a href=\"http://qt-project.org/wiki/Building-Qt5-for-Blackberry\" rel=\"nofollow\">Building Qt4</a> documentation. Will this make any other difference beside the amount of time it takes to compile?</p>\n\n<p><strong>My understanding of the command.</strong></p>\n\n<ul>\n<li>My understanding of the command is that it controls the amount of\njobs being performed but if nothing is set after -j in [jobs] then it\nmay be pointless to have.</li>\n<li>I could be wrong because I still don’t have a complete understanding\nof the configure.exe command syntax (<em>eg. configure.exe -opensource\n-confirm-license -release -xplatform unsupported/blackberry-armv7le-qcc -arch arm -nomake examples nomake\ndemos -no-neon -opengl es2 -prefix c:\\dev\\qt4install</em>).</li>\n</ul>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12254439,"title":"QListWidget Selected Item not Changed After Call to setCurrentItem","body":"<p>The following code does not move the highlight back over the item set by the call to <code>QListWidget::setSelectedItem(QListWidgetItem *);</code>.</p>\n\n<pre><code>connect(mPtrQListWidget, SIGNAL(itemEntered(QListWidgetItem*)),\n    this, SLOT(slotListItemChanged2(QListWidgetItem*)));\n</code></pre>\n\n<p>...</p>\n\n<pre><code>void ListBasedDialog::slotListItemChanged2(QListWidgetItem *tmpItem) {\n    std::cout &lt;&lt; \"Item entered \" &lt;&lt; std::endl;\n\n    if (tmpItem != mPtrPreviousItem) {\n        mPtrQListWidget-&gt;setCurrentItem(mPtrPreviousItem);\n        mPtrQListWidget-&gt;viewport()-&gt;update();\n        mPtrQListWidget-&gt;repaint();\n        std::cout &lt;&lt; \"Current item is \"\n            &lt;&lt; mPtrQListWidget-&gt;currentItem()-&gt;text().toStdString()\n            &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>The purpose for this desired behavior is because I have to wait for network confirmation to be able to move the \"highlight\" from off the previous selected item to the one the user wants to select.</p>\n"},{"tags":["qt","menu","external-links"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12237782,"title":"How to open \"external link\" by clicking a menu item?","body":"<p>I need to open some link (in my default browser) in a way similar to <code>setOpenExternalLink</code> on Qlabel, but by clicking on an item in the menu.</p>\n\n<p>Is there some simple way?\nI think about using Qlabel with required link and use some action/event to pretend the click on it, meanwile the Qlabel was hidden.</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12239197,"title":"Qt N9 Changing scroll direction when showing a page","body":"<p>Language: Qt Quick (QML)</p>\n\n<p>Platform: Qt Creator 2.4.1</p>\n\n<p>Target device N9</p>\n\n<p>Hi</p>\n\n<p>Normally when a new Page is showed, for example with </p>\n\n<pre><code>      onClicked: {\n          pageStack.push(Qt.resolvedUrl(\"ExitDialog.qml\"))\n      }\n</code></pre>\n\n<p>the new page is \"sliding in from the right\", is it possible to change this behaviour ?</p>\n\n<p>I want to change the the sliding so the new window comes in from the left and \nis \"leaving\" to the left when closing.</p>\n\n<p>Is there a tag to Page/PageStackWindow which change this ?</p>\n\n<p>Regards </p>\n"}]}
{"total":16229,"page":20,"pagesize":100,"questions":[{"tags":["c++","qt","gcc","compilation","clang"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12253297,"title":"Qt compiler flags order","body":"<p>My goal is to get rid of some types of compiler warnings. I found out that I can do that by adding compiler flags in my .pro file:</p>\n\n<pre><code>QMAKE_CXXFLAGS += -Wno-unused-variable -Wno-reorder\n</code></pre>\n\n<p>The problem is that they are added before flags that are generated by Qt build system. I've examined my compiler output:</p>\n\n<blockquote>\n  <p>g++-4.2 -c -pipe -Wno-unused-variable -Wno-reorder -g -gdwarf-2 -arch\n  x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -Wall -W\n  -DQT_OPENGL_LIB -DQT_GUI_LIB -DQT_CORE_LIB</p>\n</blockquote>\n\n<p>So as you can see <em>-Wall</em> goes after my flags and discards them. What should I do to add those flags after ?</p>\n"},{"tags":["c++","qt","opengl","graphics","qglwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":170,"score":0,"question_id":11531165,"title":"Qt QPainter in paintEvent eliminates the graphic drawn with paintGL","body":"<p>I have the following code</p>\n\n<pre><code>void QMyWidget::paintEvent(QPaintEvent *event)\n{\n\n    updateGL(); // This calls for initializeGL and then paintGL and draws a nice openGL 3D scene\n\n\n    QPainter painter(this); \n    // Draw something with QPainter..\n}\n</code></pre>\n\n<p>the problem is that the QPainter line calls several times initializeGL and paintGL and eventually creates a BLANK/GRAY area over my openGL rendered scene.. if I try to draw something like a drawText with the QPainter, the text is shown but the background of the text is a gray rect that covers ENTIRELY my openGL drawn scene.</p>\n\n<p>What's wrong with this?</p>\n"},{"tags":["python","qt","pyqt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":12249875,"title":"PyQt4 : MousePressEvent, position offset in QGraphicsView","body":"<p>I've some difficulties with QGraphicsView and QGraphicsScene. \nWhen I zoom/unzoom in the scene and create items with mousePressEvent, i have an offset in the position. How to avoid this ?\nevent.pos() seems to be the problem.. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from PyQt4 import QtCore, QtGui\n\nclass graphicsItem (QtGui.QGraphicsItem):\n    def __init__ (self):\n        super(graphicsItem, self).__init__()\n        self.rectF = QtCore.QRectF(0,0,10,10)\n    def boundingRect (self):\n        return self.rectF\n    def paint (self, painter=None, style=None, widget=None):\n        painter.fillRect(self.rectF, QtCore.Qt.red)\n\nclass graphicsScene (QtGui.QGraphicsScene):\n    def __init__ (self, parent=None):\n        super (graphicsScene, self).__init__ (parent)\n\nclass graphicsView (QtGui.QGraphicsView):\n    def __init__ (self, parent = None):\n        super (graphicsView, self).__init__ (parent)\n        self.parent = parent\n    def mousePressEvent(self, event):\n        super (graphicsView, self).mousePressEvent(event)\n        item = graphicsItem()\n        position = QtCore.QPointF(event.pos()) - item.rectF.center()\n        item.setPos(position.x() , position.y())\n        self.parent.scene.addItem(item)\n    def wheelEvent (self, event):\n        super (graphicsView, self).wheelEvent(event)\n        factor = 1.2\n        if event.delta() &lt; 0 :\n            factor = 1.0 / factor\n        self.scale(factor, factor)\n\nclass window (QtGui.QMainWindow):\n    def __init__ (self, parent = None ) :\n        super (window, self).__init__(parent)\n        self.width = 800\n        self.height = 600\n\n        self.resize(self.width,self.height)\n        self.mainLayout = QtGui.QVBoxLayout(self)\n\n        self.view = graphicsView(self)\n        self.scene = graphicsScene(self)\n        self.view.setScene (self.scene)\n\n        factor = 1\n        self.scene.setSceneRect(0, 0, self.width * factor, self.height * factor)\n        self.view.setMinimumSize(self.width, self.height)\n\n        self.mainLayout.addWidget(self.view)\n\n    def show (self):\n        super (window, self).show()  \n</code></pre>\n"},{"tags":["unit-testing","qt","qt4","code-coverage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":749,"score":0,"question_id":4483370,"title":"Qt and gcov, coverage files are not generated","body":"<p>I am trying to obtain code coverage for a component I am writing for the Arora browser, that is written using C++ and Qt framework.</p>\n\n<p>I am not able to use the gcov program, neither under Gnu/Linux nor Mac Os X. I tried everything I was able to find on the Internet, also by forcing things automatically editing the Makefile generated by the .pro file.</p>\n\n<p>Can somebody help me please? This is my very simple pro file:</p>\n\n<pre><code>TEMPLATE = app\nTARGET =\nDEPENDPATH += .\nINCLUDEPATH += .\nLIBS += -lgcov\nQMAKE_CXXFLAGS += -g -fprofile-arcs -ftest-coverage -O0\nQMAKE_LDFLAGS += -g -fprofile-arcs -ftest-coverage  -O0\n\n\ninclude(../autotests.pri)\n\n# Input\nSOURCES += tst_quickview.cpp\nHEADERS +=\n</code></pre>\n\n<p>The Makefile does correctly contain the flags. I also tried the <code>--coverage</code> option. But nothing happens. When I run the executable, no gcov files are generated. There are no errors and no warnings. I am using the QTestLib framework.</p>\n\n<p>Thank you</p>\n"},{"tags":["qt","macros","qobject"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12250863,"title":"Qt - Q_OBJECT and macros","body":"<p>In <code>Qt</code>, we know that <code>Q_OBJECT</code> is a <strong>macro</strong>. What does <em>macro</em> mean in this context? Especially that I have found that the term <em>macro</em> may have several different definitions.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","shared-libraries"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":109,"score":-1,"question_id":12247869,"title":"Which is the best c++ library for creating an ip scanner for LAN","body":"<p>I wish to create an ip scanner in C++/Qt, which library would be best, and of course thread safe.</p>\n"},{"tags":["qt","constructor","subclass"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12250107,"title":"Constructor of a subclass of QTreeWidgetItem","body":"<p>I made a subclass of QTreeWidgetItem.I need the constructor of QTreeWidgetItem which itself needs an QTreeWidgetItem as argument to connect two items. I think I am actually doing something wrong because I receive error LNK1120 unresolved externals. I hope someone can help me. Here is the Code. </p>\n\n<pre><code>#include &lt;QtGui&gt;\n\n#include &lt;QTreeWidgetItem&gt;\n\n\n\nnamespace rs{\nnamespace ui{\n\nclass ModelReferenceItem :\npublic QTreeWidgetItem\n{\npublic:\nModelReferenceItem(QTreeWidget *parent=0);\nModelReferenceItem(ModelReferenceItem *parent=0);\n~ModelReferenceItem(void);\n\nbool isTopLevelItem;\nbool isModel;\n};\n\n}}\n</code></pre>\n\n<p>and the .cpp</p>\n\n<pre><code>#include \"ui/ModelReferenceItem.h\"\n\n\nusing namespace rs::ui;\n\nModelReferenceItem::ModelReferenceItem(QTreeWidget *parent):QTreeWidgetItem(parent)\n{\n}\nModelReferenceItem::ModelReferenceItem(ModelReferenceItem *parent)\n{\n}\nModelReferenceItem::~ModelReferenceItem(void)\n{\n}\n</code></pre>\n"},{"tags":["qt","vtk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12249432,"title":"Ajust QVTKWidget to window","body":"<p>How can I make my QVTKwidget to adjust when I make my window expand or shrink? I have more widgets in my layout. I want them to stay the same, just expand shrink the QvtkWidget. I found some things about the layout, but I can't use it on QVTKWidget.</p>\n"},{"tags":["osx","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":12248809,"title":"My Mac app after recompiling now says it requies X11?","body":"<p>After recompiling my Qt application from some newer sources, after running the application it is now saying it requires X11 to run? None my previous builds required X11 so I am wondering what could have changed this.</p>\n"},{"tags":["c++","database","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12243917,"title":"connect QTreeWidgetItem to database","body":"<p>Im working on a project where im trying to build a QTreeWidget that has multiple QTreeWidgetItems\nand once i click on a particular item it connects to a database and shows a query result in a tableview model, until now every thing works fine.</p>\n\n<p>the problem is that i want each item to output different resut depending on some criteria on the same table where this criteria is only changing the value of an attribute, and this value is the same of the item name. for example item named 122 and the table has atribute called no. when we click on item 122 the result of this query must be shown (select * from table where no=122) </p>\n\n<p>any help :)</p>\n"},{"tags":["qt","qt-creator","unresolved-external"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":202,"score":0,"question_id":12246491,"title":"Getting unresolved external symbol when trying to compile a Qt application","body":"<p>I created a simple GUI application in QtCreator (QT 4.8.2) and added a function to check the network connectivity:</p>\n\n<pre><code>bool MainWindow::CheckNetworkConnectivity()\n{\n    QList&lt;QNetworkInterface&gt; interface = QNetworkInterface::allInterfaces();\n    for(int i = 0; i &lt; interface.count();i++)\n    {\n        QNetworkInterface inface = interface.at(i);\n        if(inface.IsUp &amp;&amp; !inface.IsLoopBack)\n        {\n            ui-&gt;lstLog-&gt;addItem(inface.name()+QDateTime::currentDateTime().toString(\"h:m:s ap\"));\n            ui-&gt;chkConStatus-&gt;setChecked(true);\n        }\n        else{\n            ui-&gt;chkConStatus-&gt;setChecked(false);\n        }\n    }\n    return  ui-&gt;chkConStatus-&gt;checkState();\n}\n</code></pre>\n\n<p>After that any attempts to compile the code generates the following errors:</p>\n\n<pre><code>    15:21:11: Running steps for project MasterVPN...\n15:21:11: Configuration unchanged, skipping qmake step.\n15:21:11: Starting: \"C:\\Qt\\Designer\\bin\\jom.exe\" \n    C:\\Qt\\Designer\\bin\\jom.exe -f Makefile.Debug\n    cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"c:\\Qt\\4.8.2\\include\\QtCore\" -I\"c:\\Qt\\4.8.2\\include\\QtGui\" -I\"c:\\Qt\\4.8.2\\include\" -I\"c:\\Qt\\4.8.2\\include\\ActiveQt\" -I\"debug\" -I\".\" -I\"..\\MasterVPN\" -I\".\" -I\"c:\\Qt\\4.8.2\\mkspecs\\win32-msvc2010\" -Fodebug\\ @C:\\Users\\Master\\AppData\\Local\\Temp\\mainwindow.obj.4156.31.jom\nmainwindow.cpp\n    link /LIBPATH:\"c:\\Qt\\4.8.2\\lib\" /NOLOGO /DYNAMICBASE /NXCOMPAT /DEBUG /MANIFEST /MANIFESTFILE:\"debug\\MasterVPN.intermediate.manifest\" /SUBSYSTEM:WINDOWS \"/MANIFESTDEPENDENCY:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' publicKeyToken='6595b64144ccf1df' language='*' processorArchitecture='*'\" /OUT:debug\\MasterVPN.exe @C:\\Users\\Master\\AppData\\Local\\Temp\\MasterVPN.exe.4156.5422.jom\nmainwindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: __thiscall QNetworkInterface::~QNetworkInterface(void)\" (__imp_??1QNetworkInterface@@QAE@XZ) referenced in function \"public: bool __thiscall MainWindow::CheckNetworkConnectivity(void)\" (?CheckNetworkConnectivity@MainWindow@@QAE_NXZ)\nmainwindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: class QString __thiscall QNetworkInterface::name(void)const \" (__imp_?name@QNetworkInterface@@QBE?AVQString@@XZ) referenced in function \"public: bool __thiscall MainWindow::CheckNetworkConnectivity(void)\" (?CheckNetworkConnectivity@MainWindow@@QAE_NXZ)\nmainwindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: __thiscall QNetworkInterface::QNetworkInterface(class QNetworkInterface const &amp;)\" (__imp_??0QNetworkInterface@@QAE@ABV0@@Z) referenced in function \"public: bool __thiscall MainWindow::CheckNetworkConnectivity(void)\" (?CheckNetworkConnectivity@MainWindow@@QAE_NXZ)\nmainwindow.obj : error LNK2019: unresolved external symbol \"__declspec(dllimport) public: static class QList&lt;class QNetworkInterface&gt; __cdecl QNetworkInterface::allInterfaces(void)\" (__imp_?allInterfaces@QNetworkInterface@@SA?AV?$QList@VQNetworkInterface@@@@XZ) referenced in function \"public: bool __thiscall MainWindow::CheckNetworkConnectivity(void)\" (?CheckNetworkConnectivity@MainWindow@@QAE_NXZ)\ndebug\\MasterVPN.exe : fatal error LNK1120: 4 unresolved externals\njom: C:\\Users\\Master\\Documents\\Qt\\MasterVPN-build-desktop-Qt_4_8_2__4_8_2__Debug\\Makefile.Debug [debug\\MasterVPN.exe] Error 1120\njom: C:\\Users\\Master\\Documents\\Qt\\MasterVPN-build-desktop-Qt_4_8_2__4_8_2__Debug\\Makefile [debug] Error 2\n15:21:17: The process \"C:\\Qt\\Designer\\bin\\jom.exe\" exited with code 2.\nError while building/deploying project MasterVPN (target: Desktop)\nWhen executing step 'Make'\n</code></pre>\n\n<p>Can someone please point out what the cause could be?</p>\n"},{"tags":["c++","qt","qgraphicsview","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12246267,"title":"QGraphicsScene clear display","body":"<p>I'm new here and i can't solve this thing.\nI have a QGraphicScene (which at first initializes a Cartesian plane) in which it draw points \\ lines with the methods AddLine \\ ecc.Everything works.But I want to have a method that delete all \"objects\" drawn on the scene and reloads the cartesian plane.Any suggestion?</p>\n\n<p>Here you can find my classes:</p>\n\n<pre><code>class draw: public QWidget\n{\n    Q_OBJECT\n\nprivate:\n\n    QGraphicsScene scene;\n    int x1;\n    int y1;\n    int x2;\n    int y2;\n\npublic:\n    disegna (QWidget *parent = 0);\n    void setdot(QString,QString);\n    void setsegment(QString,QString,QString,QString);\n    ~disegna(){}\n    };\n\ndraw::draw(QWidget *parent) : QWidget(parent) { \n    scene.setBackgroundBrush(Qt::white);\n    scene.addRect(QRectF(0,0, 600, 200));\n    scene.addLine(0, 100 ,600, 100);\n    scene.addLine(300, 0 ,300, 200);\n    scene.addEllipse(297.5,97.5,5,5,QPen(), QBrush(Qt::red));\n\n    int i=0;\n    for (int a=0;a&lt;120;a++) {\n        scene.addLine(i+5, 98 ,i+5, 102);\n        i=i+5;\n    }\n\n    int j=0;\n    for (int a=0;a&lt;40;a++) {\n        scene.addLine(298,j+5,302,j+5);\n        j=j+5;\n    }\n\n    QGraphicsView * view = new QGraphicsView(&amp;scene,this);\n    view-&gt;show();\n}\n\nvoid draw::setdot(QString x1,QString y1){\n    scene.addEllipse(x1.toInt()+298, 98-y1.toInt(),4,4,QPen(), QBrush(Qt::blue));\n}\n\nvoid draw::setsegment(QString x1,QString y1,QString x2,QString y2) {\n    scene.addLine(x1.toInt()+300, 100-y1.toInt(),x2.toInt()+300, 100-y2.toInt(),QPen());\n    scene.addEllipse(x1.toInt()+298, 100-y1.toInt(),4,4,QPen(), QBrush(Qt::blue));\n    scene.addEllipse(x2.toInt()+298, 100-y2.toInt(),4,4,QPen(), QBrush(Qt::blue));\n}\n</code></pre>\n"},{"tags":["qt","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12246953,"title":"Alternative to QLineEdit to get a double","body":"<p>I have a QLineEdit which I use to get a double. But is there a more suitable way to get it? Here it is my code.</p>\n\n<pre><code>ui-&gt;lineEdit-&gt;setValidator(new QIntValidator(this));\n\nQString XMAX=ui-&gt;lineEdit-&gt;text();\ndouble xmax=XMAX.toDouble();\n</code></pre>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":91,"score":-2,"question_id":12236960,"title":"Real time disabling widgets in Qt","body":"<p>I have two radio buttons. When clicking one of them it should disable some widgets and activate some other. What should I do for that?</p>\n\n<p>e.g If I check <code>radioButton1</code> then it should disable a lineEdit instantly and if I check <code>radioButton2</code> it should enable the first line edit and disable lineEdit2.</p>\n\n<p>All this in real time.</p>\n"},{"tags":["c++","qt","nmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12245345,"title":"Qt SDK 1.2.1 -- cannot find nmake","body":"<p><strong>EDIT: It seems I can use the nmake from \\Microsoft Visual Studio 10.0\\VC\\bin\\nmake.exe, but it would be nice (and much more user-friendly) if the \"Qt 4.8.1 for Desktop\" took care of this automatically.</strong></p>\n\n<p>I installed Qt SDK under Windows 7, 64 bit, using the online installer. I used the default installation options.</p>\n\n<p>Now I am trying to build the Notepad app under <strong>\\QtSDK\\Examples\\4.7\\tutorials\\gettingStarted\\gsQt</strong>. I am using the supplied \"Qt 4.8.1 for Desktop\" command line.</p>\n\n<p>For the first two steps of the build, <strong>qmake</strong> runs perfectly, but then <strong>nmake</strong> cannot be found in my installation. It's not a problem of setting a path -- I cannot find nmake.exe (or anything resembling nmake) anywhere in the QtSDK folder and subfolders. </p>\n\n<p>If I use <strong>make</strong> or <strong>mingw32-make</strong>, I get the famous missing separator error:</p>\n\n<pre><code>c:/qtsdk/mingw/bin/mingw32-make -f Makefile.Debug\nmingw32-make[1]: Entering directory `C:/Workspace/qt_notepad'\nMakefile.Debug:59: *** missing separator.  Stop.\nmingw32-make[1]: Leaving directory `C:/Workspace/qt_notepad'\nmingw32-make: *** [debug] Error 2\n</code></pre>\n\n<p>Is this a buggy installation, or am I overlooking something?</p>\n"},{"tags":["qt","header","treeview","settext"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12245262,"title":"Set the header text of a QTreeView header","body":"<p>I have the same problem as:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/9943866/what-is-the-method-to-set-the-text-for-a-qtreewidgets-header\">What is the method to set the text for a QTreeWidget&#39;s header?</a></p>\n\n<p>with one difference: I'm using a treeView, not tree widget, so the answer there didn;t help.</p>\n\n<p>I couldn't find in the documentatiin how to it.</p>\n\n<p>So - how so I set the header text of a QTreeView?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12245015,"title":"How to create multiple threads using QtConcurrent::run()","body":"<p>I tried running QtConcurrent::run() in a loop, but program crashes: (i am using libsmbclient)</p>\n\n<pre><code>void Scanner::scan()\n{\n    for(int i=0;i&lt;ipList.length();i++)\n    {\n        QtConcurrent::run(this,&amp;Scanner::scanThread,i);\n    }\n}\nvoid Scanner::scanThread(int i)\n{\nint dh;\nQString ip;\nip=\"smb://\"+ipList[i]+\"/\";\ndh= smbc_opendir(ip.toAscii());  // debugger points to this location\nif(dh&lt;0)\n    return;\nemit\n        updateTree(i,dh);         // on commenting this line, it still crashes \n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>talloc: access after free error - first free may be at ../lib/util/talloc_stack.c:103<br>\n    Bad talloc magic value - access after free<br>\n    The program has unexpectedly finished.</p>\n</blockquote>\n"},{"tags":["qt","http","sourceforge"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12213138,"title":"How to download files from SourceForge using Qt","body":"<p>I'm writing a C++ application using Qt framework that needs to download a file from SourceForge.</p>\n\n<p>I have to download this file <a href=\"https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml\" rel=\"nofollow\">https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml</a></p>\n\n<p>I wrote the following code using Qt and the QHttp class:</p>\n\n<pre><code>QFile tmpfile;\nint hostreqid;\nint checkreqid;\n...\n...\ntmpfile.setFileName(\"updates.xml\");\nhostreqid = http.setHost(\"sourceforge.net\",QHttp::ConnectionModeHttp);\ncheckreqid = http.get(QString(QUrl::toPercentEncoding(\"/projects/meshlab/files/updates/1.3.3/updates.xml\")),&amp;tmpfile);\n...\n...\nvoid parseAnswer( int id,bool error )\n{\n    if (!error &amp;&amp; (id == checkreqid))\n    {\n            ...\n        tmpfile.close();\n    }\n    if (error)\n    {\n        QHttp::Error err = http.error();\n        QString errstrg = http.errorString();\n    }\n}\n</code></pre>\n\n<p>Both QHttp::setHost and QHttp::get are not blocking functions returning immediately an int id. When the http file transfer completed the parseAnswer function is automatically called. \nThe problem is that inside the updates.xml file I got, instead the data I was expecting I received an html file from SouceForge reporting an \"Invalid Project\" error.</p>\n\n<p>I noticed that when I access the <a href=\"https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml\" rel=\"nofollow\">https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml</a> from browser I have been redirected to <a href=\"https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml/download\" rel=\"nofollow\">https://sourceforge.net/projects/meshlab/files/updates/1.3.3/updates.xml/download</a> page. I tried also this other address but nothing changed.</p>\n\n<p>Please, notice that I'm using Http protocol (QHttp::ConnectionModeHttp) instead of the https. If I could I would wish to avoid to use the https. Can be the source of the problem?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["qt","drag-and-drop","qgraphicsitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12239700,"title":"Update a QGraphicsItem whilst a drag is occuring","body":"<p>I'm creating a <code>QGraphicsView</code>-derived widget which, amongst other things, needs to create connections between items in it - a little like a control flow graph.  But I am having trouble implementing a method to 'draw' the connections </p>\n\n<p>I've tried two approaches:</p>\n\n<ol>\n<li>Creating a <code>QGraphicsLineItem</code>-derived object when the source object's <code>mouseMoveEvent(..)</code> is fired, and updating it with each subsequent move.  The line is drawn and updated successfully, but ultimately this does not work because it seems that moving the mouse 'locks' the event loop into only handling mouse move events, so the other object's hoverEnterEvent(..)/hoverMoveEvent(..)/etc. methods are not called (these are required to finalise the connection).</li>\n<li>Creating a <code>QDrag</code> instance in the mouseMoveEvent(..) to create the connection between two objects allows the two objects to form a connection once dropped, but ultimately this does not work because the <code>QDrag::exec()</code> call provides no means for other objects to be notified of the mouse moving - so the drawn connection cannot be updated.</li>\n</ol>\n\n<p>I really need a mix of the two: in a perfect world the <code>QDrag::exec()</code> call would allow other some sort of notification of a mouse move, so I could update the object that represents the connection.  Does anybody have a suggestion?</p>\n\n<p>Similar to this <a href=\"http://stackoverflow.com/questions/3845615/detect-when-mouse-enter-qgraphicsitem-with-button-down?rq=1\">question</a>.</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12243501,"title":"how to do drawing over QLablel in QT","body":"<p>I have to create one screen in QT in which i have to show a remote having lot of buttons in it and when user click some button on actual remote, corresponding button in the image get highlighted. so what I have done is, I have used Qlabel and set the remote image as background image and then i have put small rectangular label for each button and filled them with semi transparent color and when user click button in actual remote label color changes, but by using this method lot of lables are getting used making code looking inefficiant, so I was thinking of drawing on QLable(which has a remote as background image) over buttons.Can anybody suggest me, which API of QT should i use, and how to follow up on this?</p>\n"},{"tags":["c++","qt","touchscreen","qpushbutton"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":12217290,"title":"touch screen QT Application","body":"<p>I am developing a application with QT.\nI have a push button and I'm using signal/slot for setting a different text.</p>\n\n<p>The problem is that I want to use it with touch screen. I have the coordinates when I touch the screen.\nso far I can change the text by pressing on the touch screen(any coordinate) but i don't know how to do it only when I push the button .</p>\n\n<p>If you have any ideas I would appreciate it.</p>\n\n<p>Thanks</p>\n"},{"tags":["python","qt","matplotlib","pyqt","qscrollarea"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12234917,"title":"Show several plots in a scrollable widget with PyQt and matplotlib","body":"<p>Since I didn't get an answer for <a href=\"http://stackoverflow.com/questions/12179893/creating-a-scrollable-multiplot-with-pythons-pylab\">this</a> question I tried solving it with PyQt.\nApparently, it's not that easy, when QScrollArea is involved...</p>\n\n<p>I wrote a small test that basically does what I'm looking for, but it's not showing the scroll area and the plots inside it as I expected:</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\nimport os,sys\n\n#import matplotlib\nfrom matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas\nfrom matplotlib.backends.backend_qt4agg import NavigationToolbar2QTAgg as NavigationToolbar\nfrom matplotlib.figure import Figure\n\nqapp = QtGui.QApplication(sys.argv)\nqwidget = QtGui.QWidget()\nqwidget.setGeometry(QtCore.QRect(0, 0, 500, 500))\nqlayout = QtGui.QHBoxLayout(qwidget)\nqwidget.setLayout(qlayout)\n\nqscroll = QtGui.QScrollArea(qwidget)\nqscroll.setGeometry(QtCore.QRect(0, 0, 500, 500))\nqscroll.setFrameStyle(QtGui.QFrame.NoFrame)\nqlayout.addWidget(qscroll)\n\nqscrollContents = QtGui.QWidget()\nqscrollLayout = QtGui.QVBoxLayout(qscrollContents)\nqscrollLayout.setGeometry(QtCore.QRect(0, 0, 1000, 1000))\n\nqscroll.setWidget(qscrollContents)\nqscroll.setWidgetResizable(True)\n\nfor i in xrange(5):\n  qfigWidget = QtGui.QWidget(qscrollContents)\n  fig = Figure((5.0, 4.0), dpi=100)\n  canvas = FigureCanvas(fig)\n  canvas.setParent(qfigWidget)\n  toolbar = NavigationToolbar(canvas, qfigWidget)\n  axes = fig.add_subplot(111)\n  axes.plot([1,2,3,4])\n  qscrollLayout.addWidget(qfigWidget)\n\nqscrollContents.setLayout(qscrollLayout)\n\nqwidget.show()\nexit(qapp.exec_()) \n</code></pre>\n\n<p>Can anyone explain why it's not working?</p>\n"},{"tags":["python","qt","pyqt","taskbar","pyside"],"answer_count":1,"favorite_count":4,"up_vote_count":17,"down_vote_count":0,"view_count":472,"score":17,"question_id":7136179,"title":"Integrate Qt with Windows 7 taskbar using python?","body":"<p>I'm looking for a way to using some of the Windows 7 task bar features - specifically progressbar and jump lists - in a python application that uses Qt for the UI. The questions I've seen on SO are all 1-2 years old and either say Qt isn't there yet but the next version will have it (which has since been released) or point me to <a href=\"http://www.strixcode.com/q7goodies/\" rel=\"nofollow\" title=\"Q7Goodies\">Q7Goodies</a> which I'd prefer not to use for cost reasons. </p>\n\n<p>Does anyone know if Qt and a python binding, either PyQt or PySide, can interact with the Windows 7 taskbar?</p>\n\n<p>I am using Python 2.7.x and Qt 4.6. I can upgrade to 4.7 if needed, I can't move up to Python 3.x just yet. </p>\n"},{"tags":["c++","qt","ms-word","word"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12234511,"title":"How to get enumeration type value from MS Word 2007?","body":"<p>I need to get current page in my document, with set range. I found that it is possible to do by:</p>\n\n<pre><code>Range.Information(wdActiveEndPageNumber)     //example in C#\n</code></pre>\n\n<p>but i have problem with that. In <a href=\"http://msdn.microsoft.com/en-us/library/office/bb148663%28v=office.12%29\" rel=\"nofollow\">documentation</a>, information is visible as property. So when i use </p>\n\n<pre><code>QString number = myRange-&gt;property(\"Information(wdActiveEndPageNumber)\").toString()\n</code></pre>\n\n<p>i'm getting nothing. I also tried dynamicCall, but either doesn't work. Simple properties as Text or Start works perfectly fine, but i have no idea what to do with these enumerations.</p>\n\n<p>Whole code:</p>\n\n<pre><code>QAxObject *word, *doc;\nword = new QAxObject(\"Word.Application\", this);\nword-&gt;setProperty(\"DisplayAlerts\", false);\nword-&gt;setProperty(\"Visible\", true);\ndoc = word-&gt;querySubObject(\"Documents\");\ndoc-&gt;dynamicCall(\"Open(const QString&amp;)\", \"path to file\");\nQAxObject *act = word-&gt;querySubObject(\"ActiveDocument\");\nQAxObject *next = act-&gt;querySubObject(\"Content\");\nnext-&gt;dynamicCall(\"Select()\");\nnext-&gt;dynamicCall(\"Copy()\");\nQClipboard *clip = QApplication::clipboard();\nmyTextEdit-&gt;setText(clip-&gt;text());\nQString number = next-&gt;property(\"Information(3)\").toString();\nQMessageBox::information(this, tr(\"cos\"), tr(\"%1\").arg(number)); //here i need to know how many pages i've got\n</code></pre>\n"},{"tags":["c++","qt","mfc","cmake"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":160,"score":0,"question_id":11785918,"title":"try/catch with Qt, MFC and CMake","body":"<p>I use CMake to create my projects. In the project I use mainly Qt C++ and some MFC functions for hardware interface. Does it make any sense to use <strong>try/catch e->ReportError()</strong> or some other exception statements in the code?</p>\n"},{"tags":["c++","qt","interface"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12236513,"title":"Qt interface based on panels","body":"<p>I want to build interface which looks like this:<img src=\"http://i.stack.imgur.com/z417L.png\" alt=\"enter image description here\"></p>\n\n<p>There are panels <code>QDockPanel</code> to the sides. The main question is how to make main viewport (which is dark in the screen). When I resize, for example, right panel, it also changes the size. Could I use <code>QDockPanel</code> with layouts to achieve this?</p>\n"},{"tags":["qt","object"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":30,"score":0,"question_id":12234207,"title":"Qt - the object receiving the signal","body":"<p>In a <code>Qt</code> application, if we have the following for example:</p>\n\n<pre><code>.\n.\n.\nQApplication a(argc, argv);\n.\n.\n.\nQObject::connect(&amp;button, SIGNAL(clicked()), &amp;a, SLOT(quit()));\n.\n.\n.\n</code></pre>\n\n<p>Here, I know <code>button</code> is the object that will send the signal. Thus, <code>a</code> is the object that will respond to the signal. In this case, <code>a</code> is a <code>QApplication</code> object. But, what does it really represent? For example, we knew that <code>button</code> is a button object, then what does <code>a</code> represent? Is it simply a <em>window</em>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","c++11","gentoo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12234319,"title":"How to add \"c++0x\" use flag to make.conf in gentoo?","body":"<p>I'm trying to emerge, for example, qt-core with \"c++0x\" use flag. But I can't.</p>\n\n<pre><code>sudo USE=\"c++0x\" emerge -av qt-core\n\n[ebuild  N     ] x11-libs/qt-core-4.8.2  USE=\"exceptions glib iconv icu ssl (-aqua) (-c++0x) -debug -optimized-qmake -pch (-qpa) -qt3support\" 233,505 kB\n</code></pre>\n\n<p>\"c\\+\\+0x\" doesn't work too.</p>\n\n<p>What I'm doing wrong?</p>\n"},{"tags":["sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12151608,"title":"QSqlRelationalTableModel insertRecord doesn't work if call setRelation","body":"<p>editlistofcustomers.h</p>\n\n<pre><code>QSqlRelationalTableModel *RelationalModel;\nTreeModel *CategoriesModel;\nQSqlRecord Record;\n</code></pre>\n\n<p>editlistofcustomers.cpp\nEditListOfCustomers::EditListOfCustomers // constructor</p>\n\n<pre><code>RelationalModel = new QSqlRelationalTableModel(this, *SupportObj-&gt;GetDataBase());\nRelationalModel-&gt;setTable(SupportObj-&gt;GetCustomersTableName());\nRelationalModel-&gt;setEditStrategy(QSqlTableModel::OnManualSubmit);\nRelationalModel-&gt;select();\nRelationalModel-&gt;setHeaderData(1, Qt::Horizontal, QObject::tr(\"Название/имя покупателя\"));\nRecord = RelationalModel-&gt;record();\nRelationalModel-&gt;setRelation(2, QSqlRelation(SupportObj-&gt;GetCategoriesOfCustomersTableName(),\n                         SupportObj-&gt;GetCategoriesOfCustomersPattern()[0].GetName(), // ID.\n                         SupportObj-&gt;GetCategoriesOfCustomersPattern()[2].GetName())); // Name.\nCategoriesModel = new TreeModel(QObject::tr(\"Категории\"),\n                SupportObj-&gt;GetCategoriesOfCustomersTableName(),\n                SupportObj, this);\n\n\n//Setup model view delegate.\nui-&gt;TV_ListOfCustomers-&gt;setModel(RelationalModel);\nui-&gt;TV_ListOfCustomers-&gt;setItemDelegate(new QSqlRelationalDelegate(ui-&gt;TV_ListOfCustomers));\nui-&gt;TV_ListOfCustomers-&gt;setSelectionBehavior(QAbstractItemView::SelectRows);\nui-&gt;TV_ListOfCustomers-&gt;setSortingEnabled(true);\n\nui-&gt;TV_CategoryOfCustomer-&gt;setModel(CategoriesModel);\nSupportObj-&gt;GetDataBase()-&gt;transaction()\n</code></pre>\n\n<p>EditListOfCustomers::AddCustomer</p>\n\n<pre><code>QString customerName = ui-&gt;LE_CustomerName-&gt;text();\nif(!customerName.isEmpty())\n{\n    Record.setValue(SupportObj-&gt;GetCustomersPattern()[1].GetName(), QVariant(customerName)); // Name.\n    int categoryID = CategoriesModel-&gt;GetItemID(ui-&gt;TV_CategoryOfCustomer-&gt;currentIndex());\n    Record.setValue(SupportObj-&gt;GetCustomersPattern()[2].GetName(), QVariant(categoryID)); // Category ID.\n    Record.setValue(SupportObj-&gt;GetCustomersPattern()[3].GetName(), QVariant(ui-&gt;LE_CustomerTelephoneNumbers-&gt;text())); // Telephone numbers.\n    Record.setValue(SupportObj-&gt;GetCustomersPattern()[4].GetName(), QVariant(ui-&gt;LE_CustomerAddress-&gt;text())); // Address.\n    Record.setValue(SupportObj-&gt;GetCustomersPattern()[5].GetName(), QVariant(ui-&gt;TE_CustomerComment-&gt;toPlainText())); // Comment.\n    RelationalModel-&gt;insertRecord(-1, Record);\n    if(!RelationalModel-&gt;submitAll())\n    {\n        QMessageBox::warning(this, \"CategoriesEditor::CategoriesEditor\", SupportObj-&gt;GetDataBase()-&gt;lastError().text());\n    }\n\n    // Clear fields\n    ui-&gt;LE_CustomerName-&gt;clear();\n    ui-&gt;TV_CategoryOfCustomer-&gt;setCurrentIndex(QModelIndex());\n    ui-&gt;LE_CustomerTelephoneNumbers-&gt;clear();\n    ui-&gt;LE_CustomerAddress-&gt;clear();\n    ui-&gt;TE_CustomerComment-&gt;clear();\n\n    ui-&gt;LE_CustomerName-&gt;setFocus();\n    ui-&gt;TV_ListOfCustomers-&gt;sortByColumn(0, Qt::AscendingOrder);\n}\n</code></pre>\n\n<p>If comment \"RelationalModel->setRelation( ... )\" everything work fine: transaction, adding, deleting, commit or rollback. If uncomment nothing work, but show everything right(ID replaced by category name), but I can't insert new row using \"insertRecord\". I try <a href=\"http://blog.oh-mypixel.com/qt-qsqlrelationaltablemodel-and-insertrecord-foreign-key-cannot-be-null/\" rel=\"nofollow\">this</a>\nsuggestion, but unsuccessfully.</p>\n\n<p>Any suggestion?</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12234271,"title":"Qt - Qml debugging is enabled. Only use this in a safe environment","body":"<p>I'm trying to run a very simple program that just closes the window when clicking the `exit button, but get the following output provided that the application window that contains the button does <em>not</em> show up:</p>\n\n<pre><code>Starting C:\\Users\\Ola\\Desktop\\signal_slot1-build-desktop-Qt_4_8_1_for_Desktop_-_MSVC2008__Qt_SDK__Debug\\debug\\signal_slot1.exe...\nQml debugging is enabled. Only use this in a safe environment!\n</code></pre>\n\n<p>What should I do in this case?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","windows","linux","qt","porting"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":127,"score":1,"question_id":11961891,"title":"Qt migrating code from Linux to Windows","body":"<p>I use <a href=\"http://id3lib.sourceforge.net\" rel=\"nofollow\">id3Tag</a> library for my project. I set headers and libraries successfully on Linux and compiled without troubles, but I have some troubles with moving code to Windows. (I only started to study Windows, so sorry in advance for my possible ignorance).\n My environment is Qt Creator </p>\n\n<p>The problem is with headers from id3 tag library (there are no such problems on Linux!)                                                                                                 My .pro file is: \n <img src=\"http://i.stack.imgur.com/b6gOX.png\" alt=\"enter image description here\"></p>\n\n<p>My errors are: \n<img src=\"http://i.stack.imgur.com/a71jc.png\" alt=\"enter image description here\"></p>\n\n<p>It's compiled perfectly if I don't include that header \"id3/tag.h\".\nWhat can be a reason?  Actually  I never programmed for Windows yet.<br>\nMy steps are:<br>\n1. I complied part of code for Linux <br> 2.Copied folder with source code that was successful compiled under Linux to Windows (headers are lying in the current folder). <br> 3. Compiled code without that header (\"id3/tag.h\").<br>\n4. Added that header (\"id3/tag.h\") <br>\n5. And got a ton of complains from compiler</p>\n\n<p>Thanks in advance, for any tips!</p>\n"},{"tags":["c++","oop","qt","memory-management","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12233754,"title":"What are implicitly shared classes?","body":"<p>I have been working with Qt for the past 6 months and I am still struggling to understand the concept of <strong>Implicitly shared classes</strong>. I have the following questions:</p>\n\n<ol>\n<li>What are implicitly shared classes and how do they work?</li>\n<li>Trolltech's website of Qt says that it maximizes resource usage and minimizes copying. Please explain me how this happens.</li>\n<li>Can anyone give any example for better understanding? A link to any site explaining this concept with or wihtout example is also welcome.</li>\n</ol>\n\n<p>Thanx guys for all the answers..i came around another point regarding this topic is stack objects point to heap allocated shared data..this is the diagram...<img src=\"http://i.stack.imgur.com/brnfL.png\" alt=\"this image..\"></p>\n\n<p>any takes on this ???...and what exactly is a reference count??is it kind of a counter the incereses when objects refer to common shared data..and vice versa?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1196,"score":3,"question_id":6336543,"title":"How would I open a new window from a button in the main window using Qt Creator?","body":"<p>This seems like a simple task, but I haven't been able to figure out how I would do it. I have two windows designed in Qt Creator, one of which is meant to open when a button is pressed in my main window. Here is the code I am trying to use to open it:</p>\n\n<pre><code>void MainWindow::on_generateDomain_clicked()\n{\n    DomainGeneration dg;\n    dg.show();\n}\n</code></pre>\n\n<p>DomainGeneration is the name of my window's class. The header and source code for this have not been altered from the default Qt Creator generated for me. Am I doing something wrong? I don't get any errors, the window just doesn't open when the button is pressed.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12232290,"title":"Making an Qt HTTP request and receiving the response in a single function call","body":"<p>I'm attempting to create a library whose API will be used in the following way:</p>\n\n<pre><code>WebService *service = new WebService( username, password );\nUser *user = service-&gt;getAuthenticatedUser();\nUserAssets *assets = user-&gt;assets();\n// And so on\n</code></pre>\n\n<p>Neither the authenticated user, nor their assets, will be downloaded when the <code>WebServer</code> instance is created, rather they will only be retrieved if explicitly requested.</p>\n\n<p>Whenever I've had to retrieve data from the network before using Qt, I've followed the standard pattern of connection the <code>finished()</code> signal of the <code>QNetworkReply</code> to the appropriate slot and using that slot to handle the returned data.</p>\n\n<p>My problem here is that pattern does not seem to accommodate my desired use-case. I would like the users of my library (other developers) to be able to use a single line to request and receive the data they desire, but the 'Qt way' seems, at least from my point of view, to require them to initiate the request on one line, and then connect some signal to some other slot to get the data back, which is not the experience I would like them to have.</p>\n\n<p>I'm new to network programming, both in general and with Qt, but I've used libraries written in Python, communicating with the exact same service, that are able to achieve this, so it does seem to be possible.</p>\n\n<p><strong>Is it possible to perform the full lifecycle of a HTTP request with Qt with a single function call?</strong></p>\n"},{"tags":["c++","image","qt","plugins","qwebview"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":10904497,"title":"How to statically link Qt image formats plugins for WebKit?","body":"<p>I need a <code>QWebView</code> to display images, instead of the question marks it currently displays. </p>\n\n<p>I have found that i need to link some image plugins to my application to do so. I have researched this problem for a while now, and I haven't found a satisfying solution.  </p>\n\n<p><strong>I followed these steps:</strong></p>\n\n<p><strong>1)</strong> I have added in my project folder and the folder in which the application is compiled a folder named: <code>imageformats/</code> in which i have put these folowing plugins: <code>libqgif.so</code> and <code>libqjpeg.so</code></p>\n\n<p><strong>2)</strong> I have added to my project configuration file (.pro) this:</p>\n\n<pre><code> QTPLUGIN     += qjpeg \\\n                 qgif \n</code></pre>\n\n<p><strong>3)</strong> And I have added to the .cpp containg the main function of my project this:</p>\n\n<pre><code>#include &lt;QtPlugin&gt;\n\nQ_IMPORT_PLUGIN(qjpeg)\nQ_IMPORT_PLUGIN(qgif)\n</code></pre>\n\n<p>And i get the following errors:</p>\n\n<pre><code>main.cpp:(.text.startup+0xce): undefined reference to `qt_plugin_instance_qjpeg()'\nmain.cpp:(.text.startup+0xda): undefined reference to `qt_plugin_instance_qgif()'\n</code></pre>\n\n<p>I also tried changing the directory to <code>plugins/imageformats/</code>, but it made no difference whatsoever.</p>\n"},{"tags":["qt","qstring"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12231980,"title":"QString function for only alpha characters?","body":"<p>I am newbie in QT(4.7.4) and I am search for function, that checks an QString for alpha-characters and returns \"true\" if in this QString contains only characters.\nShould I write this simple function myself? :( I hope it exists such function as isText() in VBA, but in Google and documentation I have not found it.</p>\n\n<p>Thanks for answers and sorry for my english :)</p>\n"},{"tags":["c++","qt","widget","sizing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12223774,"title":"How can I create a properly sizing QWebView?","body":"<p>I want to make a QWebView appear expanding to the width and height so that ideally it will have no scroll bars. Some websites may have fixed widths that wont allow this, but I am not concerned with those. In any case, I cannot do as I wish because QWebView implements sizeHint as follows:</p>\n\n<pre><code>QSize QWebView::sizeHint() const\n{\n    return QSize(800, 600); // ####...\n}\n</code></pre>\n\n<p>This is incorrect on a number of levels. 1. It doesnt at all take into account the size of the actual web page. 2. It doesnt take into account that the height and width are related to each other. (To prove #2 think about text in web pages that wraps to the next line.) </p>\n\n<p>As a simple fix I tried to do (where QResizingWebView extends QWebView):</p>\n\n<pre><code>QSize QResizingWebView::sizeHint() const{\n    return this->page()->mainFrame()->contentsSize();\n}\n</code></pre>\n\n<p>While this is closer to the result, it also has 2 flaws. 1. It doesnt take into account the relation between the displayed width/height. 2. <code>this-&gt;page()-&gt;mainFrame()-&gt;contentsSize()</code> is inaccurate from what I can tell from my preliminary testing (it has returned heights larger than it should under many cases, although this may be related to #1). </p>\n\n<p>Does anyone have any tips to fix this?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12231266,"title":"Qt compiling error: \"out of memory allocating 134mb\" \"cc1plus.exe not found\"","body":"<p>I'm developing a windows game that needs a lot of small different images, that I put in resources.qrc, they are in tot. 14mb.</p>\n\n<p>When I try to compile the only error is: \"out of memory allocating 134mb\" \"cc1plus.exe not found\".</p>\n\n<p>How can I handle this?\nThank you very much.</p>\n"},{"tags":["c++","qt","c++11"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12221552,"title":"mainwindow.ui and dialog.ui to set/read communication date","body":"<p>I have two windows: <strong>mainwindow.ui</strong> and <strong>dialog.ui</strong>. In the <strong>mainwindow.cpp</strong> I initialise some objects on the heap of another class for Ethernet-communication and use functions of these objects to read date from the bus and show the values in the <strong>mainwindow.ui</strong>. In <strong>dialog.ui</strong> I would like to set the values on the bus, but the problem is to access the communication-functions and objects in <strong>mainwindow.cpp</strong>.\nI wanted to define dialog.cpp as friend class, but I make something wrong. Here is some code:</p>\n\n<p><strong>mainwindow.h</strong></p>\n\n<pre><code>class MainWindow : public QMainWindow \n{protected: DateReg *myPosReg;...}\n</code></pre>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>...   \nmyPosReg = new DateReg(DateValue-&gt;AddReg());\n...\nmyPosReg-&gt;GetValue(a,b,c);\nmyPosReg-&gt;setValue(a,b,c);\n    ...\n</code></pre>\n\n<p>Can I somehow access <em>setValue()</em> function in <strong>dialog.cpp</strong>?  Should I allways use <strong>dialog.cpp</strong> for the <strong>dialog.ui</strong> or there is some possibility work with <strong>dialog.ui</strong>-date in <strong>mainwindow.cpp</strong>? To set the values in <strong>dialog.ui</strong> I use QDoubleSpinBox. \nIn the <strong>mainwindow.ui</strong> I call <strong>dialog.ui</strong>.\nExcuse me for my English.</p>\n"},{"tags":["qt","batch","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12230174,"title":"QProcess limitations assistance","body":"<p>Hello all I have come around a limitation of QProcess. If I use '|' then it skips the process but I need that '|' character in my process</p>\n\n<p>Suppose I have a exe and I need '|' in its arguments list then it doesn't work because command prompt takes '|' as OR. and therefore it skips the preceding part.</p>\n\n<pre><code>e.g: myfile.exe arguments1 | arguments2\n</code></pre>\n\n<p>Now in above code you can see the '|' the arguments which separates the two arguments and is required by myfile.exe to perform the operation but due to '|' character it skips the part before that and it gives me output as</p>\n\n<pre><code>'arguments2' is not recognized as internal or external, operable program or  batch file\n</code></pre>\n\n<p>How do I overcome this weird situation? I need '|' in my arguments list but process recognizes it as a OR.</p>\n\n<p>Let me tell you guys the actual sitation. I am trying to extract a .cpio.gz archive using</p>\n\n<pre><code>gzip -d -c myarchive.cpio.gz | cpio -i\n</code></pre>\n\n<p>but due to | in the arguments I get output as</p>\n\n<pre><code>'cpio' is not recognized as internal or external, operable program or  batch file\n</code></pre>\n\n<p>but if I run the ported linux binary of gzip in ubuntu then it works exactly as i wanted because the linux terminal doesn't recognizes | as OR</p>\n\n<p>Please I need help \nThank you</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12229435,"title":"pointer to class A is passed to class B, but when B is deleted, A is as well. How to keep A?","body":"<p>in a C++-project in Qt-creator I have a class Settings that stores some settings which I want to use in class App (App can manipulate Settings and I need this updated data after the deletion of App).\nFirst I defined a pointer for each class, declared it and passed Settings to App.</p>\n\n<p>settings.h:</p>\n\n<pre><code>class Settings {\npublic:\n  Settings();\n// ...\n}\n</code></pre>\n\n<p>app.h:</p>\n\n<pre><code>class App {\npublic:\n  App(Settings *set);\nprivate:\n  Settings *s;\n// ...\n}\n</code></pre>\n\n<p>app.cpp:</p>\n\n<pre><code>App::App(Settings *set){\ns = set;\n// manipulate s...\n}\n</code></pre>\n\n<p>main.h</p>\n\n<pre><code>Settings* s;\nApp* a;\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>// ...\ns = new Settings;\na = new App(s);\n\n// ...\nif(!aIsNeeded)\n delete a;\n// from here, s is deleted too\n</code></pre>\n\n<p>That works fine, until I need App again with the same Settings. When I call\n    a = new App(s);\nthere is an exception because s seems to be deleted too.</p>\n\n<p>Is there a better aproach for this? Why is s deleted?</p>\n\n<p>Thanks for answers!</p>\n\n<p>Edit: the problem was that Settings as QWidget was added to the ui of App and therefore became a child of App. I solved it with adding this line in the destructor of <code>a</code> before <code>delete ui;</code>:</p>\n\n<pre><code>s-&gt;setParent(0);\n</code></pre>\n\n<p>Thanks for all the hints!</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1851,"score":5,"question_id":5075741,"title":"setting multiple selection in Qtreeview","body":"<p>I have a need here regarding mulitple selection of items in the qtreeview. I have two widgets, QTreeView on left and another QGLWidget on the right. If I do a multiple selection, I must highlight the items in the glwidget. vice versa, I need to highlight the items in the tree view if multiple selection is done on the glwidget. Currently, I am able to update single item by setting the current idex of the tree view. Any ideas on how to update the selection of multiple items on the tree view with multiple selection on glwidget?? </p>\n\n<p>Thanks!!</p>\n"},{"tags":["c++","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12229445,"title":"Adding multiple QTreeWidgetItems","body":"<p>Im trying to build a QTreeWidget that has multiple QTreeWidgetItems, i tried to add some of them manually and it works. My question is how can i add the items using a for or a while loop. </p>\n\n<p>here is a part of my code</p>\n\n<pre><code>Dwidget= new QDockWidget(this);\nDwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\ntreeWidget= new QTreeWidget(Dwidget);\n\nTitem= new QTreeWidgetItem(treeWidget);\nTitem1= new QTreeWidgetItem();\nTitem2= new QTreeWidgetItem();\nTitem3= new QTreeWidgetItem();\n\nTitem-&gt;setText(0,\"WriterIdenSystem\");\nTitem-&gt;setIcon(0,*(new QIcon(\"D:/Users/200656336/Documents/Writer Identification/data_repository_icon.jpg\")));\n\nTitem1-&gt;setText(0,\"Database for Writer Identification\");\nTitem1-&gt;setIcon(0,*(new QIcon(\"D:/Users/200656336/Documents/Writer Identification/card_file.png\")));\nTitem2-&gt;setText(0,\"0001\");\nTitem2-&gt;setIcon(0,*(new QIcon(\"D:/Users/200656336/Documents/Writer Identification/Folder Open.png\")));\n\nTitem3-&gt;setText(0,\"0002\");\nTitem3-&gt;setIcon(0,*(new QIcon(\"D:/Users/200656336/Documents/Writer Identification/Folder Open.png\")));\n\nTitem-&gt;addChild(Titem1);\nTitem1-&gt;addChild(Titem2);\nTitem1-&gt;addChild(Titem3);\ntreeWidget-&gt;addTopLevelItem(Titem);\n\nconnect(treeWidget, SIGNAL(itemClicked(QTreeWidgetItem*,int)), SLOT(on_actionRetrieve_Documents_triggered()));\n\nDwidget-&gt;setWidget(treeWidget);\naddDockWidget(Qt::LeftDockWidgetArea,Dwidget);\nDwidget-&gt;show();\n</code></pre>\n\n<p>any ideas?? :) </p>\n"},{"tags":["qt","terminal","qprocess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12229239,"title":"Run a program from Qt","body":"<p>I am working with Qt in Linux. I need to run the \"evince\" pdf reader from Qt.</p>\n\n<p>I have been searching and as I understand I can use Qprocess to make it work. Something like this:</p>\n\n<pre><code>QStringList args;\n    args.append(\"/home/user/presentacion0.pdf\");\n    QProcess p(this);\n    p.start(\"/usr/bin/evince\", args, QIODevice::ReadWrite);\n    p.waitForFinished();\n    QString p_stdout = p.readAllStandardOutput();\n    QString p_stderr = p.readAllStandardError();\n</code></pre>\n\n<p>But I always get the following error:</p>\n\n<p><em>No protocol specified\nCannot parse arguments: Cannot open display:</em></p>\n\n<p>So I tried the <code>system(char *cmd)</code> from <code>stdlib.h</code> and does not work\nsystem(\"/usr/bin/evince /home/user/presentacion0.pdf\");</p>\n\n<p>I think system() does not work because \"evince\" is a graphical application. However I can run \"ls\", \"mkdir\", etc. commands with <code>system()</code> without problems.</p>\n\n<p>Please I need help with this topic.</p>\n\n<p>I Really appreciate your help in advance.</p>\n\n<p>Thank you.</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4","qtgui"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":12226930,"title":"Overriding QPaintEvents in PyQt","body":"<p>I'm trying to create a TextEdit widget that will have a delimiter line. As a start, I've created a <code>MyTextEdit</code> class (as a subclass of a <code>QTextEdit</code>) and overridden its <code>paintEvent()</code> method:</p>\n\n<pre><code>import sys\nfrom PyQt4.QtGui import QApplication, QTextEdit, QPainter\n\nclass MyTextEdit(QTextEdit):\n    \"\"\"A TextEdit widget derived from QTextEdit and implementing its\n       own paintEvent\"\"\"\n\n    def paintEvent(self, event):\n        painter = QPainter(self)\n        painter.drawLine(0, 10, 10, 10)\n        QTextEdit.paintEvent(self, event)\n\napp = QApplication(sys.argv)\ntextEdit = MyTextEdit()\ntextEdit.show()\n\nsys.exit(app.exec_())\n</code></pre>\n\n<p>Trying to execute this code, I get <strong>lots</strong> of the following errors:</p>\n\n<pre><code>QPainter::begin: Widget painting can only begin as a result of a paintEvent\nQPainter::begin: Widget painting can only begin as a result of a paintEvent\n...\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["c++","qt","button","titlebar"],"answer_count":1,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":221,"score":8,"question_id":11996801,"title":"How is Teamviewers Quickconnect button accomplished?","body":"<p>For those of you who do not know what I am talking about:\n<a href=\"http://www.teamviewer.com/images/presse/quickconnect_en.jpg\">http://www.teamviewer.com/images/presse/quickconnect_en.jpg</a></p>\n\n<p>Teamviewer overlays that button on all windows to allow you to quickly share a window with someone else. I would like any ideas on implementing something similar -- if you have example code, even better (specifically, the button -- not the sharing). I am interested in C++ and QT... but I would be interested in good solutions in other languages/libraries if there are any.</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","qtableview","qabstracttablemodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12197044,"title":"Qt QAbstractModel: remove checkbox","body":"<p>I started to learn Qt, and I would like to implement a table filled with data via QTableView. My problem is, that I don't know how to remove the checkboxes from the cells. It seems like they are put in by default.</p>\n\n<p>However, I read that I had to return a NULL-QVariant, but that's not what I was looking for as I still have data to put in.</p>\n\n<p>That's my code so far:</p>\n\n<pre><code>QVariant MyModel::data(const QModelIndex &amp;index, int role) const\n{\nint row = index.row();\nint col = index.column();\nQString daten;\n\nswitch (col)\n{\ncase 0:\n{\n    daten = \"column 1\";\n    break;\n}\ncase 1:\n{\n    daten = \"column 2\";\n    break;\n}\ncase 2:\n{\n    daten = \"column 3\";\n    break;\n}\ncase 3:\n{\n    daten = \"column 4\";\n    break;\n}\n}\n\nreturn daten;\n}\n</code></pre>\n\n<p>Now, as you can see, I want to fill the cell with the QString called \"daten\". But next to the String there is a Checkbox in every cell.</p>\n\n<p>Does somebody know how to remove the checkbox but still fill the content with \"daten\"?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","netbeans","signals-slots","qt-designer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12227993,"title":"Qt Designer, missing \"go to slot\" in context menu?","body":"<p>I've been watching a Qt tutorial series on YouTube, in which the author shows how to call a function, when a button is pressed. <a href=\"http://www.youtube.com/watch?v=2edb0VOkx-k3#t=361s\" rel=\"nofollow\">He right-clicked on the button in Qt Creator IDE and chose \"Go to slot\", from where he chose the signal which would fire the generated function</a>. Since I am used to develop with Netbeans, I simply tried to follow his example using the embedded Qt Designer. Unfortunately, there is no \"Go to slot...\" entry when I right-click on my button or any widget. I could, of course, create a new slot for my main window and then connect the button's signal to it, but doing it with a single function just seems way more convenient and clean to me. Is there a way to fix is, or if not, at least a way to do with via code entirely, without having to add a new slot to the main window for every single button that servers a different purpose? Thanks for your help.</p>\n"},{"tags":["c++","qt","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4012,"score":2,"question_id":4341707,"title":"QPainter not active","body":"<p>The following code results in a bunch of errors:</p>\n\n<pre><code>void MainWindow::displayBoard()\n{\n    QPixmap pix(0,0);\n    pix.fill(Qt::white);\n    QPainter painter(&amp;pix);\n    painter.setBrush(Qt::black);\n    for(int row = 0; row &lt; 8; row++)\n        for(int col = 0; col &lt; 8; col++)\n            painter.drawRect(row * 10, col * 10, 10, 10);\n    ui-&gt;label-&gt;setPixmap(pix);\n}\n</code></pre>\n\n<p>The errors:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>QPainter::begin: Paint device returned engine == 0, type: 2\nQPainter::setBrush: Painter not active\nQPainter::drawRects: Painter not active\n</code></pre>\n\n<p>How can I resolve this error?</p>\n"},{"tags":["c++","json","qt","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":2803402,"title":"how to convert complex json to somthing i can work with in c++","body":"<p>I'm using qt, and I parse a complex JSON data structure but I find my self doing to many \nloops each time I need to parse this JSON.  What is the best way to parse complex large and complex JSON structures?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":12220083,"title":"How to create a custom multi-progress bar in Qt","body":"<p>I am working on a multi -segment download manager. I want to display the segmentation procedure. QGraphicsScene works fine but , unfortunately it slows the download. Is there any better option, other than using QProgressBars.\n  I am using QNetworkAccessManager to download files. If I connect the downloadProgress signal of QNetworkManager object to a slot of Main Gui Thread which draws on QGraphicsView, the download speed decreases even upto 10 times in some cases</p>\n\n<pre><code>    // a custom progress bar\nvoid Download::showGProgress(int num, float prgrss)                                 //slot\n{\n    prgrss=prgrss/100;\n    x_coord=(ui-&gt;graphicsView_2-&gt;width()-3)*prgrss;                              \n    for(float b=0;b&lt;=x_coord;b=b+0.5)\n    {\n        progress.addRect(0,0,x_coord,y_coord);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12226649,"title":"how to get process name of loaded process in QT","body":"<p>i have written QT dll which is loaded by a process. how can i get the process name in Dll using QT api's ?</p>\n\n<p>Please help me</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt","qt-designer"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12223847,"title":"Why can't I set a layout for a page in a QStackedWidget in designer?","body":"<p>Steps to reproduce in designer for Qt 4.8.0</p>\n\n<ul>\n<li>I create a new dialog form in Qt Designer</li>\n<li>I add a QStackedWidget to the dialog</li>\n<li>I set the layout of the dialog to make the stacked layout size with the dialog</li>\n<li>I add a few controls to page one in the stacked widget</li>\n<li>I select the first page in the stacked widget in the right hand tree view of controls</li>\n<li>The icon next to that page (which is a QWidget) shows the page is missing a layout</li>\n</ul>\n\n<p>When I click one of the layout buttons above, it doesn't change the layout of the page QWidget, it changes the layout of the dialog even though I had explicitly selected the page.</p>\n\n<p>Is this a bug in designer? Am I missing something? I really don't want to add the layouts programatically as that prevents me from being able to layout the pages in designer in the same .ui file</p>\n"},{"tags":["qt","embedded-linux","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12222095,"title":"QLCDNumber Does Not Name a Type","body":"<p>I am trying to compile a test application for an ARM embedded device. If I use my Desktop Qt SDK version of Qt, this header file compiles just fine. If I use my Linaro GCC for the Embedded target from within Qt Creator, I get the error \"'QLCDNumber' does not name a type\" on the line of the private declaration for lcdNumber. I've googled around but do not see any solutions that work for this.</p>\n\n<p>Is the problem that my embedded version of qt is missing support for QLCDNumber?\nIf so, why doesn't it complain about the #include ?\nAlso, if this is the case, does anyone happen to know what I need to enable in ./configure to enable support for QLCDNumber?</p>\n\n<pre><code>#ifndef BATTERYMONITOR_H\n#define BATTERYMONITOR_H\n\n#include &lt;QtGui&gt;\n#include &lt;QWidget&gt;\n#include &lt;QLabel&gt;\n#include &lt;QRadioButton&gt;\n#include &lt;QLCDNumber&gt;\n\nclass BatteryMonitor : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    BatteryMonitor(QWidget *parent = 0);\n\npublic slots:\n    void clickedBatteryStatus();\n\nprivate:\n    QRadioButton *temperature;\n    QRadioButton *voltage;\n    QRadioButton *current;\n    QRadioButton *relativeStateOfCharge;\n    QRadioButton *batteryStatus;\n    QRadioButton *runTimeToEmpty;\n    QLCDNumber *lcdNumber;\n};\n\n#endif // BATTERYMONITOR_H\n</code></pre>\n"},{"tags":["c++","qt","dll","mingw","dependency-walker"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12224080,"title":"Unable to run Qt applications in Windows","body":"<p>I created an executable of the default MainWindow (changed no code whatsoever) with MinGW GCC, and moved the .exe file from the debug directory to another directory in which I have <strong>QtCored4.dll</strong>, <strong>QtGuid4.dll</strong>, and <strong>QtNetworkd4.dll</strong>.</p>\n\n<p>When I click on the executable, I get the error message:</p>\n\n<blockquote>\n  <p>The procedure entry point _ZN7QWidget8winEventEP6tagMSGPI could not be located in the dynamic link library QtGuid4.dll.</p>\n</blockquote>\n\n<p>Opening my executable with Dependency Walker gives me the following notifications:</p>\n\n<blockquote>\n  <p>Error: At least one module has an unresolved import due to a missing export function in an implicitly dependent module.\n  Warning: At least one delay-load dependency module was not found.\n  Warning: At least one module has an unresolved import due to a missing export function in a delay-load dependent module.</p>\n</blockquote>\n\n<p>I really don't know where I'm going wrong, and would appreciate any help. Thanks!</p>\n"},{"tags":["c++","qt","printing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12224039,"title":"Print function using Qt","body":"<p>I will make this fairly quick as it's a very simple question. How do I make a slot in Qt that prints out everything inside of my text editor. Simply a print button that behaves as you'd expect a print button to behave. I'm reading about a QPrintDialog, but I can't get it to work. This is what I tried:</p>\n\n<pre><code>QPrintDialog printDialog(printer, this);\nif(printDialog.exec() == QDialog::Accepted){\n    ui-&gt;textBox-&gt;print(printer);\n}\n</code></pre>\n\n<p>I tried doing QPrinter *printer = new QPrinter before it... but that gave me all sorts of errors, which I kind of figured it would. I already have #include QPrintDialog so how do I actually get this to work? Any help or advice is much appreciated.</p>\n\n<p>Edit: I was looking for an answer for my question and I found a code that seems to be closer to working if that makes sense.</p>\n\n<p>QPrinter printer;</p>\n\n<pre><code>QPrintDialog *printDialog = new QPrintDialog(&amp;printer, this);\nprintDialog-&gt;setWindowTitle(\"Print Document\");\nif (printDialog-&gt;exec() != QDialog::Accepted)\n         return;\n</code></pre>\n\n<p>However, now I get an error that says:</p>\n\n<pre><code>C:\\Documents and Settings\\Me\\My Documents\\C++ Projects\\Qt Gui Applications\\WordWrite-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\\..\\WordWrite\\wordwritemain.cpp:130: error: aggregate 'QPrinter printer' has incomplete type and cannot be defined\n</code></pre>\n"},{"tags":["c++","qt","qlistwidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12222594,"title":"How can i iterate through QListWidget items and work with each item?","body":"<p>In CSharp its as simple as writting :</p>\n\n<pre><code>listBox1.Items.Add(\"Hello\");\nlistBox1.Items.Add(\"There\");\n\nforeach (string item in listBox1.Items )\n{\n    MessageBox.Show(item.ToString());\n}\n</code></pre>\n\n<p>and i can easily add different objects to a list box and then retrieve them using foreach. \nI tried the same approach in Qt 4.8.2 but it seems they are different.though they look very similar at first.I found that Qt supports foreach so i went on and tried\nsomething like :</p>\n\n<pre><code>foreach(QListWidgetItem&amp; item,ui-&gt;listWidget-&gt;items())\n{\n    item.setTextColor(QColor::blue());\n}\n</code></pre>\n\n<p>which failed clearly.It says the items() needs a  parameter which confuses me.I am trying to iterate through the ListBox itself, so what does this mean?\nI tried passing the ListBox object as the parameter itself this again failed too:</p>\n\n<pre><code>foreach(QListWidgetItem&amp; item,ui-&gt;listWidget-&gt;items(ui-&gt;listWidget))\n{\n    item.setTextColor(QColor::blue());\n}\n</code></pre>\n\n<p>So here are my questions:</p>\n\n<ul>\n<li>How can I iterate through a QListWidget items in Qt?</li>\n<li>Can i store objects as items in QListWidgets like C#?</li>\n<li>How can i convert an object in QListWidgets to string(C#s ToString counter part in Qt) ?</li>\n</ul>\n\n<p>(suppose i want to use a QMessagBox instead of that setTextColor and want to print out all string items in the QlistWidget.)</p>\n"},{"tags":["qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12222171,"title":"How to make a target depend on another target's QMAKE_EXTRA_COMPILERS","body":"<p>My project has top-level directory <code>proj</code> with subdirectories <code>runtime</code> and <code>test</code>. Basically, <code>test</code> depends on <code>runtime</code>, but it's a little more complicated. </p>\n\n<p><strong>Expected behavior</strong>: If you modify a file in <code>runtime</code>, then make <code>runtime</code>, then make <code>test</code>, this should rebuild <code>test</code>. </p>\n\n<p><strong>Actual behavior</strong>: For <code>test</code>, you get \"make: Nothing to be done for `first'.\"</p>\n\n<p>Here are the relevant excerpts from the project files. </p>\n\n<p>proj.pro:</p>\n\n<pre><code>test.depends = runtime\n</code></pre>\n\n<p>runtime.pro: </p>\n\n<pre><code>TEMPLATE = lib\nCONFIG = no_link target_predeps staticlib\nTARGET =\n\n# Avoid building libruntime.a\nQMAKE_AR_CMD = @true\nQMAKE_RANLIB = @true\n\ninclude(../proj.pri)\n\nRUNTIME_SOURCES += \\\n    foo.c\n    bar.c\n</code></pre>\n\n<p>proj.pri:</p>\n\n<pre><code>CLANG_RUNTIME_FLAGS = -emit-llvm\nruntime.input = RUNTIME_SOURCES\nruntime.output = lib${QMAKE_FILE_IN_BASE}.bc\nruntime.commands = $$CLANG $$CLANG_RUNTIME_FLAGS -c ${QMAKE_FILE_IN} -o ${QMAKE_FILE_OUT}\nQMAKE_EXTRA_COMPILERS += runtime\n</code></pre>\n\n<p>In <code>runtime</code>'s Makefile, there is a rule for target <code>compiler_runtime_make_all</code> that seems to correspond to the <code>QMAKE_EXTRA_COMPILERS</code>. The files built by this rule (foo.bc and bar.bc) are in the <code>OBJECTS</code> list, so they get built when you make this Makefile. </p>\n\n<p>In <code>test</code>'s Makefile, there is also a rule for target <code>compiler_runtime_make_all</code>, but it has no recipe and it's not referred to anywhere. </p>\n\n<p>So how do I tell <code>test</code> that it should depend on the <code>QMAKE_EXTRA_COMPILERS</code> for <code>runtime</code>? </p>\n"},{"tags":["c++","qt","save","text-editor","rich-text"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12223166,"title":"Saving and loading text files that aren't plain text","body":"<p>So, I'm making a text editor in Qt. And It does mostly very basic functions. New file, save, open, cut, copy, paste, bold, underline, italic, undo, and redo. But, when I bold, italicize, or underline text and then open the text file again It opens as plain text. As in if you open a file, bold some text, save it and then open it again it will be in plain text not bolded or anything. I have tried reading about how to make it work the way I want, but with no luck. My program can even create/open rich text files, but it works the exact same way. I understand that the way I have written the code makes it work the way it does. I just don't know how to \"fix\" it. </p>\n\n<p>Here are the blocks of code I have written that save and open files using the QFileDialog:</p>\n\n<pre><code>void WordWriteMain::on_actionOpen_File_triggered()\n{\n    QString fileName = QFileDialog::getOpenFileName(this,\"Open a file\",\"\",\"Text (*.txt);;Rich Text (*.rtf)\");\n    QFile file(fileName);\n    if(file.open(QIODevice::ReadOnly|QIODevice::Text)){\n    ui-&gt;textBox-&gt;setText((file.readAll()));\n    }\n}\n\nvoid WordWriteMain::on_actionSave_triggered()\n{\n    QString fileName = QFileDialog::getSaveFileName(this,\"Open a file\",\"\",\"Text (*.txt);;Rich Text (*.rtf)\");\n    QFile file(fileName);\n    if(file.open(QIODevice::WriteOnly|QIODevice::Text)){\n        file.write(ui-&gt;textBox-&gt;toPlainText().toUtf8());\n    }\n}\n</code></pre>\n\n<p>Is what I'm trying to do even possible using QFileDialog? And like I said I understand the line file.write(ui->textBox->toPlainText().Utf8()); converts all of the text into plain text, but I don't know how to make the save slot work without doing it that way.\nAs always thank you so much for dedicating your time to help me and for reading my question. If there is any more information needed I would be more than happy to provide it. EDIT: Also, I would like in the future to be able to add paragraph aligning so should I make my text editor strictly rich text? </p>\n"},{"tags":["qt","compilation","lua"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12223138,"title":"Building qt lua on windows","body":"<p>While building qtlua i get this error:</p>\n\n<pre><code>libqtlua-1.4\\src\\qtluastate.cc: In member function 'void QtLua::State::gc_collect()':\n\nlibqtlua-1.4\\src\\qtluastate.cc:665:29: error: 'lua_setgcthreshold' was not declared in this scope\n\nmingw32-make[2]: *** [CMakeFiles/qtlua.dir/src/qtluastate.cc.obj] Error 1\nmingw32-make[1]: *** [CMakeFiles/qtlua.dir/all] Error 2\nmingw32-make: *** [all] Error 2\n</code></pre>\n\n<p>Any idea how to solve?</p>\n"},{"tags":["c++","qt","layout","widget","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12221345,"title":"How to get the QLayouts to expand properly?","body":"<p>My structure is as follows:</p>\n\n<pre>QWidget\n    -QHBoxLayout\n         -QLabel\n         -QVBoxLayout\n              -QLabel\n              -QWebView\n</pre>\n\n<p>I want the HBoxLayout to fill the width however large the container may be but go no more or less. However, I want the QVBoxLayout to expand to accommodate the size of its contents in the vertical direction.</p>\n\n<pre>\n+-------------+------------------------------+\n| FixedTitle: | Expanding to Width Title     +\n|             |------------------------------+\n|             |                              +\n|             | this is a test which wraps to+\n|             | the next line                +\n|             |                              +\n|             |                              +\n|             |                              +\n|             | bla bla bla                  +\n|             |                              +\n|             |                              +\n|             |                              +\n|             | there are no vertical scroll +\n|             | bars here                    +\n+-------------+------------------------------+\n</pre>\n\n<p>In this example, FixedTitle's width is however big it needs to be, but does not resize ever. Expanding to Width Title fills up the remaining horizontal space.</p>\n\n<p>So far, I have:</p>\n\n<pre><code>\nthis->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Fixed);\nQHBoxLayout *layout = new QHBoxLayout;\nthis->setLayout(layout);\n\nlayout->addWidget(new QLabel(QString(\"FixedTitle\")), 0, Qt::AlignTop);\n\nQVBoxLayout *v_layout = new QVBoxLayout;\nv_layout->setSizeConstraint(QLayout::SetNoConstraint);\nlayout->addLayout(v_layout);\n\nv_layout ->addWidget(new QLabel(QString(\"Expanding to Width Title\")), 1, Qt::AlignTop | Qt::AlignLeft);\n\nQWebView *view = new QWebView();\n\nQTextEdit text;\ntext.setPlainText(QSString(\"\\nthis is a test which wraps to the next line\\n\\n\\nbla bla bla\\n\\n\\nthere are no vertical scroll bars here\"));\nview->setHtml(text.toHtml());\n\nint width = view->page()->mainFrame()->contentsSize().width();\nint height = view->page()->mainFrame()->contentsSize().height();\nview->page()->setViewportSize(QSize(width, height));\nview->resize(width, height);\nview->setFixedSize(width, height);\n\nv_layout->addWidget(view);\n\n</code></pre>\n\n<p>There are two problems with this: 1. It ignores the width of the container and 2. It still doesnt get the height of the QWebView correct.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11890268,"title":"Qml - error : module \"QtMobility.location\" is not installed","body":"<p>I installed Qt SDK 1.2.1. when I write a program using QtQuick and I want to use of <code>QtMobility.location 1.2</code> the following error will occur : </p>\n<code>module \"QtMobility.location\" is not installed</code> </p>\nCan anyone help me ? When I install Qt  sdk , is Qt mobility installed automatically ? </p>\n"},{"tags":["windows","qt","arm","cross-compiling"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":12214542,"title":"Build Qt from source on Windows targeting Linux/ARM","body":"<p>I started out with <a href=\"http://raspberrypi.stackexchange.com/questions/1715/compile-qt-application-for-pi-from-windows\">this</a> post on the Raspberry Pi exchange, which has led me down the path of building Qt from source.</p>\n\n<p>After following <a href=\"http://stackoverflow.com/questions/11420984/qtcreator-on-windows-to-cross-compile-for-linux-arm-with-codesourcery-toolchain\">this stackoverflow question</a> AND the example on <a href=\"http://c2143.blogspot.com/?view=classic\" rel=\"nofollow\">this blog post</a>, I can run <code>configure.exe</code> and generate the makefile with no errors (although that doesn't mean I did everything completely right), <strong>but I get errors when I run make</strong>.</p>\n\n<p><strong>Here's my current setup:</strong> MSVC2010 as the host compiler, and Sourcery CodeBench Lite as the cross compiler.  When I run <code>configure.exe</code>, I build for arm-none-linux-gnueabi-g++.  And of course, before I try to build anything, I run vcvarsall.bat from the command prompt I'm working in.</p>\n\n<p><strong>Here's the problem:</strong> After the makefile is generated, if I use jom to build, it will run for about 5 minutes, and then end with this error:</p>\n\n<pre><code>jom: C:\\qt-pi\\src\\coreLib\\Makefile [..\\..\\lib\\libQtCore4.dll] Error 1\njom: C:\\qt-pi\\src\\coreLib\\Makefile [all] Error 2\njom: C:\\qt-pi\\Makefile [sub-sorelib-make_default-ordered] Error 2\njom: C:\\qt-pi\\Makefile [all] Error 2\n</code></pre>\n\n<p>Does anybody have any idea what I need to do to build Qt on Windows for Linux/ARM?  Thanks!</p>\n"},{"tags":["c++","qt","qabstractitemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12220489,"title":"QTreeView not displaying data","body":"<p>I have derived from QAbstractItemModel to encode my own tree of data, but the QTreeView is not displaying. </p>\n\n<p>Most of the answers I saw to similar questions were solved because of wrong variable life time, so here is my code for allocation of the model:</p>\n\n<pre><code>ui.tvHierarchy-&gt;setModel(\n    new MetaHierarchyModel(\n        cutOffExtension(\n            fileName.toStdString()\n        )\n    )\n);\n</code></pre>\n\n<p>On construction the model gets its root node filled with data and later shall load more data as needed (via <code>fetchMore</code>).</p>\n\n<p>I began outputting every function that is called. This is a log of the call sequence:</p>\n\n<pre><code>columnCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \ncolumnCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \ncolumnCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \nhasChildren( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  true \nhasChildren( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  true \ncanFetchMore( QModelIndex(-1,-1,0x0,QObject(0x0) ) )) \n    return  false \nrowCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \nindex( 0 ,  0 ,  QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  \nhasChildren( QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  ) \n    return  true \ncolumnCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \nparent( QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  ) \n    return  QModelIndex(-1,-1,0x0,QObject(0x0) ) \nindex( 0 ,  0 ,  QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  \ndata( QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  ,  13 ) \n    return  \"Metaparticle 1\" \ncolumnCount( QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  1 \nparent( QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  ) \n    return  QModelIndex(-1,-1,0x0,QObject(0x0) ) \nindex( 0 ,  0 ,  QModelIndex(-1,-1,0x0,QObject(0x0) ) ) \n    return  QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  \ndata( QModelIndex(0,0,0x987aa0,MetaHierarchyModel(0xa16970) )  ,  13 ) \n    return  \"Metaparticle 1\" \n</code></pre>\n\n<p>Output of <code>roleNames()</code>:</p>\n\n<pre><code>QHash((0, \"display\")(1, \"decoration\")(2, \"edit\")(3, \"toolTip\")(4, \"statusTip\")(5, \"whatsThis\")) \n</code></pre>\n\n<p>The last four lines are then repeated forever (or at least until I loose my patience).\nTo me it looks like the root data are fetched, but they never get displayed. It is strange, that the last parameter of <code>data</code> - which is <code>int role</code>, has the value 13, which is not defined as any role (still I give back valid strings unconditionally).</p>\n\n<p>Is there anything I missed when implementing this?</p>\n"},{"tags":["c++","qt","checkbox"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":901,"score":2,"question_id":8175122,"title":"QTreeView Checkboxes","body":"<p>I know this has been asked a bunch of times, but I cant seem to find anything relevant.</p>\n\n<p>Using <a href=\"http://doc.qt.nokia.com/latest/itemviews-simpletreemodel.html#setting-up-the-data-in-the-model\" rel=\"nofollow\">this</a> tutorial, how would I add checkboxes?</p>\n"},{"tags":["c++","qt","mp4","phonon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":356,"score":0,"question_id":10596038,"title":"Playing mp4 video using Phonon","body":"<p>I'm trying to write a very simple video player using QT and Phonon, on Windows. My backend is phonon_ds94. First of all, here is the code when I click on \"Play\" :</p>\n\n<pre><code>if (!this-&gt;_files.empty()) {\n    QString file = this-&gt;_files.front();\n\n    this-&gt;_files.pop();\n\n    Phonon::MediaSource _src(file);\n    this-&gt;ui.videoPlayer-&gt;play(_src);\n}\n</code></pre>\n\n<p>(Here, file is a std::queue of files to read)</p>\n\n<p>If I want to play a .avi ou .wmv, everything works fine. My video play, it's perfect.</p>\n\n<p>But when I want to play a .mp4 file, nothing happen. The videoPlayer stay black. </p>\n\n<p>I've search on the web and see that there is a BackendCapabilities::availableMimeTypes, so I've try it to be sure that my backend is compatible with mp4 - it's in the list. Here is the list of available mime types:</p>\n\n<blockquote>\n  <p>application/vnd.ms-wpl application/x-mplayer2 application/x-ms-wmd\n  application/x-ms-wmz audio/3gpp audio/3gpp2 audio/aiff audio/basic\n  audio/mid audio/midi audio/mp3 audio/mp4 audio/mpeg audio/mpegurl\n  audio/mpg audio/vnd.dlna.adts audio/wav audio/x-aiff audio/x-mid\n  audio/x-midi audio/x-mp3 audio/x-mpeg audio/x-mpegurl audio/x-mpg\n  audio/x-ms-wax audio/x-ms-wma audio/x-wav midi/mid unknown video/3gpp\n  video/3gpp2 video/avi <strong>video/mp4</strong> video/mpeg video/mpg video/msvideo\n  video/quicktime video/vnd.dlna.mpeg-tts video/x-mpeg video/x-mpeg2a\n  video/x-ms-asf video/x-ms-asf-plugin video/x-ms-wm video/x-ms-wmv\n  video/x-ms-wmx video/x-ms-wvx video/x-msvideo vnd.ms.wmhtml</p>\n</blockquote>\n\n<p>I've also connected the <code>stateChanged</code> signal of the <code>mediaObject</code> to a slot, and when I try to read my video, there is an error saying that file format is not supported.</p>\n\n<p>How can I have Phonon to support it? Should I install a codec pack, even if mp4 is in my list?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":11210667,"title":"QWebView not displaying simple HTML","body":"<p>My Qt code is pretty simple:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;QWebView&gt;\n\nint main(int argc, char** argv) {\n\n  QApplication app(argc, argv);\n\n  QWebView* view = new QWebView;\n  view-&gt;setUrl(QUrl::fromLocalFile(\"C:\\\\Users\\\\Me\\\\Documents\\\\website.html\"));\n  view-&gt;show();\n\n  return app.exec();\n}\n</code></pre>\n\n<p>However, this just displays a blank page when the application starts up.  Any ideas?  I'm trying to follow simple tutorials and have searched.  I even tried loading Google and that failed.</p>\n"},{"tags":["windows","qt","make","copy","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":102,"score":2,"question_id":12215535,"title":"How to make Qt Creator's jom.exe to copy files in paths with spaces?","body":"<p>When I put in my <code>.pro</code> file</p>\n\n<pre><code>INSTALLS += INSTALL\nINSTALL.files += install/**\nINSTALL.path = bin\n</code></pre>\n\n<p>The <code>jom.exe install</code> command tries to copy the files using absolute paths</p>\n\n<pre><code>copy /y c:\\Some Project\\install\\QtGui4.dll c:\\Some Project\\bin\n</code></pre>\n\n<p>this fails with</p>\n\n<blockquote>\n  <p>The number of parameters is invalid</p>\n</blockquote>\n\n<p>A better command would be quoting the paths</p>\n\n<pre><code>copy /y \"c:\\Some Project\\install\\QtGui4.dll\" \"c:\\Some Project\\bin\"\n</code></pre>\n\n<p>which succedes. How to make jom.exe quote the absolute paths or to use relative paths instead?</p>\n"},{"tags":["c++","qt","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12218683,"title":"Qt - Display several, selectable lines","body":"<p>Im writing a tool that simulates Turing machines. </p>\n\n<p>Here, Ive got a transition table of a such a machine</p>\n\n<p><img src=\"http://i.stack.imgur.com/0End9.png\" alt=\"enter image description here\"></p>\n\n<p>When a cell is double-clicked, a little dialog pops up (which is a custom widget, derived from <code>QFrame</code>) and should allow editing the contens of a cell. A cell may contain several rules (those <code>|q2, 3, R|</code> and such)  and I want that little dialog to show these. The thing is that a user should be able to add and remove rules. At first, I wanted to  use <code>QLabel</code>s for that, which is fine with the adding aspect, but how do I remove existing rules? I planned having the user select the rules and click \"Remove\" but do I make sure the entire rule (<code>QLabel</code>) is selected? </p>\n\n<p>Or should I take a completely ddifferennt approach to removing? Like letting every label have an own checkbox?</p>\n\n<p>I would like to keep it as simple as possible. For example, <code>QTableWidget</code> is too \"fat\" for this, I feel like</p>\n"},{"tags":["qt","gui","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12218530,"title":"QT Layout, Splitter and Widget Size","body":"<p>I have a MainWindow in which I have three widgets inside two different splitters. Splitter1 contains two different widgets and Splitter2 contains Splitter1 and the black widget, as seen in the image. </p>\n\n<p>It seems that QT has cleverly adjust the width of each widget to be 1/3 the total width of the outer containing object:</p>\n\n<p><a href=\"http://www.anothermessageboard.com/misc/window.png\" rel=\"nofollow\">how the window looks now</a></p>\n\n<p>What I want is for the the black widget to be much smaller when the program launches and look something like this:</p>\n\n<p><a href=\"http://www.anothermessageboard.com/misc/window2.png\" rel=\"nofollow\">how i want the window to look at startup</a></p>\n\n<p>I have played around with Size policies both in the Designer and progmatically. I have also tried progmatically setting the black widget's size when the program launches by calling blackWidget->resize(x,y) but that doesn't work either.</p>\n\n<p>How can I make the default size of that widget smaller like I want? </p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12217400,"title":"Getting exiting directory path in unix style in Qt","body":"<p>When I use</p>\n\n<pre><code>QString mydir = QFileDialog::getExistingDirectory(this, \"Select the directory\",\"/Home\");\n</code></pre>\n\n<p>I get path as D:\\Myfolder but I need it in unix style i.e like this D:/Myfolder, how can I do this?</p>\n\n<p>When I use getfilename(used to get filepath) then it is in my favour i.e in unix style but why Qt Engineers didn't do the same for getExistingDirectory? Is there any workaround for this?</p>\n\n<p>I m on Windows 7</p>\n"},{"tags":["linux","qt","xorg"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12212397,"title":"Linux startx qt border","body":"<p>I am run my programm with next command, <code>startx -e qtapp</code> . But all dialog windows shows without border. How to resolve this problem?</p>\n"},{"tags":["visual-studio-2010","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12217412,"title":"QT recompiles my VS2010 project","body":"<p>I am developing a QT GUI application using Visual Studio 2010 and linking statically. The point is that VS2010 recompiles my project each time I run the application, even if I have already built the project. Is there any way to avoid recompiling if it is already compiled?</p>\n\n<p>Thanks in advance,</p>\n"},{"tags":["qt","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12216529,"title":"Building Error for VTK","body":"<p>I'm using Qt on Ubuntu 10.04. I tried to test it with a vtk example following the instructions told here [http://www.vtk.org/Wiki/VTK/Examples/Instructions/ForUsers] after installation process of programs.</p>\n\n<p>But it gives an error like:\nStarting /home/taha/Downloads/VTK/Examples/Tutorial/Step1/Cxx/Cone...\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nXlib:  extension \"GLX\" missing on display \":0.0\".\nERROR: In /home/taha/Downloads/VTK/Rendering/vtkXOpenGLRenderWindow.cxx, line 398\nvtkXOpenGLRenderWindow (0x9812928): Could not find a decent visual</p>\n\n<p>The program has unexpectedly finished.\n/home/taha/Downloads/VTK/Examples/Tutorial/Step1/Cxx/Cone exited with code 0</p>\n\n<p>How to fix this?</p>\n"},{"tags":["qt","opencv","mingw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":204,"score":0,"question_id":12216410,"title":"qt creator, mingw, opencv 2.4.2 , windows 7 combination is peppered with seg faults","body":"<p>I was wondering if anyone has any insights on the following?    I switched from Linux to Windows 7 for my openCV application.   Every thing ran fine on Ubuntu using Qt and opencv.\nUsing CMake, I built openCV using mingw from the QtSDK.   Everything built without a hitch.  I then modified the PATH to match the built library and then added the libraries needed to the Project file.   My project builds just fine and launches just fine.   It just seems like some things execute fine...however peppered throughout my application there are some opencv function calls that causes seg faults.   On unbuntu I did not have this problem.   I checked the sample code from opencv that uses the same functions and they crash as well just like my application.</p>\n\n<p>Problems with cv::SiftFeatureDetector detect...cv::MserFeatureDetctor detect...etc</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12216267,"title":"QT4: Updating individual icons in a QListView","body":"<p>I have a QListView which uses a QFileSystemModel and is set to QListView.IconMode. Once setRootIndex is called, it happily shows icons for the files. The icons are retrieved using a class XFileIconProvider derived from QFileIconProvider where XFileIconProvider.icon usually simply.calls QFileIconProvider.icon</p>\n\n<p>However, at a later time I'd like to be able to selectively change the icons (without there being any change in the file system). XFileIconProvider.icon looks in a lookup table to see if there is a special icon for the file, so what I've tried is putting the new icon in the lookup table, then calling QListView.dataChanged for the corresponding item. I was hoping that the icon provider will be called again, but nothing happens.</p>\n\n<p>Ideas? Am I doing something silly? Is there something I need to do</p>\n"},{"tags":["qt","qtableview","qitemdelegate","qcheckbox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":345,"score":0,"question_id":11800946,"title":"checkbox and itemdelegate in a tableview","body":"<p>I'm doing an implementation of a CheckBox that inherits from QitemDelegate, to put it into a QTableView.</p>\n\n<p>the problem is that I get when inserted flush left and I need it centered.</p>\n\n<p>As I understand the method that is responsible for the Paint. I have it written as follows:</p>\n\n<pre><code>void CheckBoxDelegate::paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const\n{\nbool checkValue;\n\nQStyleOptionButton BtnStyle;\nBtnStyle.state = QStyle::State_Enabled;\n\nif(index.model()-&gt;data(index, Qt::DisplayRole).toBool() == true)\n{\nBtnStyle.state |= QStyle::State_On;\ncheckValue = true;\n}else{\nBtnStyle.state |= QStyle::State_Off;\ncheckValue = false;\n}\n\n\nBtnStyle.direction = QApplication::layoutDirection();\nBtnStyle.rect = option.rect;\nQApplication::style()-&gt;drawControl(QStyle::CE_CheckBox,&amp;BtnStyle,painter );\nQApplication::style()-&gt;drawControl(QStyle::CE_CheckBox,&amp;BtnStyle,painter );\n}\n</code></pre>\n\n<p>what is missing to appear centered?</p>\n\n<p>so I have the delegated:</p>\n\n<p>.h</p>\n\n<pre><code>class BooleanWidget : public QWidget\n{\n    Q_OBJECT\n    QCheckBox * checkBox;\n\n    public:\n    BooleanWidget(QWidget * parent = 0)\n    {\n        checkBox = new QCheckBox(this);\n        QHBoxLayout * layout = new QHBoxLayout(this);\n        layout-&gt;addWidget(checkBox,0, Qt::AlignCenter);\n\n    }\n\n    bool isChecked(){return checkBox-&gt;isChecked();}\n    void setChecked(bool value){checkBox-&gt;setChecked(value);}\n};\n\nclass CheckBoxDelegate : public QItemDelegate\n{\n    Q_OBJECT\nprivate:\n    BooleanWidget *checkbox;\n\npublic:\n    CheckBoxDelegate(QObject *parent);\n    ~CheckBoxDelegate();\n    void setEditorData( QWidget *editor,const QModelIndex &amp;index )const;\n    void setModelData( QWidget *editor,QAbstractItemModel *model,const QModelIndex &amp;index )const;\n    QWidget *createEditor( QWidget *parent,const QStyleOptionViewItem &amp;/* option */,const QModelIndex &amp;/* index */ )const;\n    void paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const;\n\npublic slots:\n    void changed( bool );\n\n};\n</code></pre>\n\n<p>.cpp</p>\n\n<pre><code>void CheckBoxDelegate::changed( bool value )\n{\n    BooleanWidget *checkbox = static_cast&lt;BooleanWidget*&gt;( sender() );\n    emit commitData( checkbox );\n    emit closeEditor( checkbox );\n}\n\nQWidget *CheckBoxDelegate::createEditor( QWidget *parent,const QStyleOptionViewItem &amp;/* option */,const QModelIndex &amp;/* index */ ) const\n{\n  BooleanWidget *editor = new BooleanWidget( parent );\n  connect( editor, SIGNAL( toggled ( bool ) ), this, SLOT( changed( bool ) ) );\n\n  return editor;\n}\n\nvoid CheckBoxDelegate::setEditorData( QWidget *editor,const QModelIndex &amp;index ) const\n{\n    int value = index.model()-&gt;data(index, Qt::DisplayRole).toInt();\n\n    BooleanWidget *checkbox = static_cast&lt;BooleanWidget*&gt;(editor);\n\n    if(value == 1)\n    {\n        checkbox-&gt;setChecked(true);\n    }\n    else\n    {\n        checkbox-&gt;setChecked(false);\n    }\n\n\n}\n\nvoid CheckBoxDelegate::setModelData( QWidget *editor,QAbstractItemModel *model,const QModelIndex &amp;index ) const\n{\n    BooleanWidget *checkBox = qobject_cast&lt;BooleanWidget*&gt;( editor );\n    Qt::CheckState value;\n\n    if(checkBox-&gt;isChecked())\n        value = Qt::Checked;\n    else\n        value = Qt::Unchecked;\n\n    model-&gt;setData( index, value, Qt::DisplayRole);\n}\n\nvoid CheckBoxDelegate::paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const\n{\n    drawCheck(painter, option, option.rect, index.data().toBool() ? Qt::Checked : Qt::Unchecked);\n    drawFocus(painter, option, option.rect);\n}\n</code></pre>\n"},{"tags":["c++","qt","printing","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12208758,"title":"How to divide a QGraphicsScene on multiple pdf pages","body":"<p>I'm facing big difficulties trying to get the content of my <code>QGraphicsScene</code> into a pdf made of multiple pages. I somehow manage to get a pdf file with its 2 pages different from one another, but I am not able to place custom <code>QGraphicsItem</code> at the place I want them to be. </p>\n\n<p>Here's an example : my custom class derived from <code>QGraphicsScene</code> has the size of two A4 landscape pages and I would like to render the first half to the first page and the other half to the second. Here's what I do : </p>\n\n<pre><code>myScene = new Scene();\nmyScene-&gt;setSceneRect(0.0, 0.0, 297.0, 210.0 * 2.0);\n//populate myScene with custom class derived from QGraphicsItem\nmyView = new View(myScene);\n\n//to export to pdf\nQPrinter myPrinter(QPrinter::HighResolution);\nmyPrinter.setResolution(50); \nmyPrinter.setOrientation(QPrinter::Landscape);\nmyPrinter.setPaperSize(QPrinter::A4);\nmyPrinter.setOutputFileName(targetFileName);\nmyPrinter.setOutputFormat(QPrinter::PdfFormat);\nQPainter myPainter(&amp;myPrinter);\n\n//print first page\nQRect view = QRect(0.0, 0.0, 297.0, 420.0); \nmyView-&gt;setSceneRect(view);\nmyView-&gt;render(&amp;myPainter, view, view);\n\n//print second page\nmyPrinter.newPage();\nQRect view2 =QRect(0.0, 421.0, 297.0, 420.0);\nmyView-&gt;setSceneRect(view2);\nmyView-&gt;render(&amp;myPainter, view, view);\n</code></pre>\n\n<p>Each object of my custom item has a name and an order for placing them on the scene (<code>setPos(10, order * PROCESS_HEIGHT);</code>). In the paint method, they draw their name : </p>\n\n<pre><code>QRectF textRect(10, 10, 200, 10);\nQString message(QString::number(order) + \" process \" + name);\npainter-&gt;drawText(textRect, message);\n</code></pre>\n\n<p>The pdf created shows a list of name but they are displayed at the middle of the page although their position is set to (10, 10), (10, 20), ... And the string is not complete but I checked the <code>boundingRect()</code> and it is larger enough. </p>\n\n<p>Several problems that I don't get :</p>\n\n<ol>\n<li><p>Why do I must choose 50 dpi in <code>setResolution</code> ? It seems very low but bigger values output very little texts.  </p></li>\n<li><p>Why do I have to set the height of the area of the scene visualized by myView to 420 and not 210 as this should be half the scene's height ? </p></li>\n<li><p>What must I do to get the result wanted ? 2 pages, each one with a different half of the scene and with entire names starting from the left (I tried changing the x position to -150 but the first lines on second page are still on the middle...)</p></li>\n</ol>\n\n<p>Obviously I don't get something, but what ?! Thanks for the reading and helping</p>\n"},{"tags":["qt","filter","qml","qt-mobility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":11577749,"title":"Filtering with QML Document Gallery (Qt Mobility)","body":"<p>I want to filter albums for only one artist, but nothing is shown. </p>\n\n<p>My code is:</p>\n\n<p>SelectArtistPage.qml:</p>\n\n<pre><code>import QtQuick 1.1\nimport com.nokia.meego 1.0\nimport QtMobility.gallery 1.1\n\nPage\n{\n    id: selectArtistPage\n    tools: backtoolbar\n    property string selectedartist\n\n    ListView\n    {\n        id: galleryView\n        anchors.fill: parent\n        clip: true\n        model: artistModel\n        delegate: Item\n        {\n            height: 60\n            width: parent.width\n            Button\n            {\n                height: 50\n                width: parent.width - 20\n                text: (artist != \"\") ? artist : \"(unknown artist)\"\n                onClicked:\n                {\n                    selectedartist = (text != \"(unknown artist)\") ? text : \"\"\n                    selectAlbumPageLoader.source = \"SelectAlbumPage.qml\"\n                    pageStack.push(selectAlbumPageLoader.item)\n                }\n            }\n        }\n    }\n\n    DocumentGalleryModel\n    {\n        id: artistModel\n        rootType: DocumentGallery.Artist\n        properties: [\"artist\"]\n    }\n}\n</code></pre>\n\n<p>SelectAlbumPage.qml:</p>\n\n<pre><code>import QtQuick 1.1\nimport com.nokia.meego 1.0\nimport QtMobility.gallery 1.1\n\nPage\n{\n    id: selectAlbumPage\n    tools: backtoolbar\n    property string selectedalbum\n\n    ListView\n    {\n        id: galleryView\n        anchors.fill: parent\n        clip: true\n        model: albumModel\n        delegate: Item\n        {\n            height: 60\n            width: parent.width\n            Button\n            {\n                height: 50\n                width: parent.width - 20\n                text: (albumTitle != \"\") ? albumTitle : \"(unknown album)\"\n                onClicked:\n                {\n                    selectedalbum = (text != \"(unknown album)\") ? text : \"\"\n                    // here should be launching the last page\n                }\n            }\n        }\n    }\n\n    DocumentGalleryModel\n    {\n        id: albumModel\n        rootType: DocumentGallery.Album\n        properties: [\"albumTitle\", \"artist\"]\n        filter: GalleryEqualsFilter\n        {\n            property: \"artist\"\n            value: selectedartist\n        }\n    }\n}\n</code></pre>\n\n<p>When I select an artist in SelectArtistPage another page opens, no buttons with albums names are painted. \nIf I remove the filter all the albums are shown. </p>\n\n<p>What am I doing wrong? I'm using Qt Mobility 1.2 package for Maemo (I'm testing on N900).</p>\n"},{"tags":["c++","qt","events","event-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12213890,"title":"Between windows events","body":"<p>I have a application with two main windows and I want to catch events from one to another. For example at button1_MouseClick event(where button 1 is situated on Form1), I want to change text to label1(where label1 is on form2). Is that possible in qt c++, and if yes, how? Could you post some code snippets, please?</p>\n\n<p>P.S. I have achieved what I want using a timer and a global boolean value, but I don't like that</p>\n\n<p>Thank you</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12188419,"title":"Qt Access Webcam on Linux OS without downloading any package","body":"<p>I am looking for some Links/Tutorials/Examples to Access my Webcam on Linux OS without downloading any packages. </p>\n\n<p>Actually, I am working on a very compact OS (with already removed unnecessary packages).We are space conscious for this project.</p>\n\n<p>I tried OpenCv (on other machine with full OS version) and it worked fine for me but its package is more than 100 Mb and in my project i cant afford that much space. Also, since many packages are already removed from this OS (to make it compact), I am unable to install Opencv on my machine to test it(Because of its missing dependencies).</p>\n\n<p>So I wonder, Is there any other way to access webcam without downloading any packages??</p>\n\n<p>Adding headers/files would be fine in my case.</p>\n\n<p>Any help, suggestion would be really appreciated.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","winapi","qt","wallpaper","desktop-wallpaper"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3078,"score":2,"question_id":3331682,"title":"Change wallpaper programmatically using c++ and windows api","body":"<p>I've been trying to write an application, using Qt and mingw32, to download images and set them as the background Wallpaper. I have read several articles online about how to do this, in VB and C#, and to some extent how to do it in c++. I am currently calling the <code>SystemParametersInfo</code> with what seems to be all the correct arguments (no compiler errors) and it fails. No great crash of cymbals, just a <code>0</code> returned. <code>GetLastError()</code> returns an equally enlightening <code>0</code>.</p>\n\n<p>Below is the code I am using (In a slightly modified form, so you do not have to view the object internals).</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n#include &lt;QString&gt;\n\nvoid setWall()\n{\n    QString filepath = \"C:\\\\Documents and Settings\\\\Owner\\\\My Documents\\\\Wallpapers\\\\wallpaper.png\";\n    char path[150];\n    strcpy(path, currentFilePath.toStdString().c_str());\n    char *pathp;\n    pathp = path;\n\n    cout &lt;&lt; path;\n\n    int result;\n    result = SystemParametersInfo(SPI_SETDESKWALLPAPER, 0, pathp, SPIF_UPDATEINIFILE);\n\n    if (result)\n    {\n        cout &lt;&lt; \"Wallpaper set\";\n    }\n    else\n    {\n        cout &lt;&lt; \"Wallpaper not set\";\n        cout &lt;&lt; \"SPI returned\" &lt;&lt; result;\n    }\n}\n</code></pre>\n"},{"tags":["c++","qt","text","rich-text"],"answer_count":3,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":8720,"score":9,"question_id":1464591,"title":"How to create a bold, red text label in Qt?","body":"<p>I want to write a single, bold red line in my application using Qt.</p>\n\n<p>As far as I understand, I would create a QLabel, set its textFormat to rich text and give it a rich text string to display:</p>\n\n<pre><code>QLabel *warning = new QLabel;\nwarning-&gt;setTextFormat(Qt::RichText);\nwarning-&gt;setText(\"{\\\\rtf1\\\\ansi\\\\ansicpg1252 {\\\\fonttbl\\\\f0\\\\fswiss\\\\fcharset0 Helvetica;} {\\\\colortbl;\\\\red255\\\\green0\\\\blue0;} \\\\f0 \\\\cf0 this is bold red text}\");\n</code></pre>\n\n<p>I tested this rich text string in a rich text editor and it displays fine.</p>\n\n<p>But Qt displays the whole string with all braces, keywords and backslashes instead of \"this is bold red text\". What am I doing wrong?</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12210698,"title":"QTableView closes immediately","body":"<p>I tried to use QTableView in a program. I've already fixed all bugs I got in the model in another testproject I started. </p>\n\n<p>Now, I tried to insert the model and the QTableView in my mainproject, but in contrast to the other project, the QTableView just opens for half a second and then closes immediately! However, the same code was working well in the testproject. </p>\n\n<p>This is my code in the testproject:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QTableView&gt;\n#include \"start.h\"\n#include \"mymodel.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QTableView tableView;\n    MyModel myModel(0);\n    tableView.setModel(&amp;myModel);\n    tableView.setSelectionBehavior(QAbstractItemView::SelectRows);\n    tableView.show();\n    //Start w;\n    //w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>And this is the relevant code in the main project:</p>\n\n<pre><code>void Startseite::on_ButtonOK_clicked()\n{\n    switch (ui-&gt;menuLeiste-&gt;currentIndex()) {\n\n    case 0:\n    {\n        QTableView tableview;\n        Model myModel(0);\n        tableview.setModel(&amp;myModel);\n        tableview.setSelectionBehavior(QAbstractItemView::SelectRows);\n        tableview.show();\n        break;\n    }\n\n    case 1:\n    {\n        // other functions...\n    }\n}\n}\n</code></pre>\n\n<p>Model is a QAbstractTableModel.</p>\n\n<p>Does anyone knows, why the TableView closes?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12210382,"title":"VS2010 change Path Macro","body":"<p>Hi I have a VS2010 projekt witch i moved from one machine to another. And on the new machine the QT installation is in a different place.</p>\n\n<p>Now the projekt can´t find the QT headers and libs. When i look in the projekt properties I see that all QT path are set with the makro $(QTDIR) and this path is the path of the old machine. \nIs there any way to change the value of the makro?</p>\n\n<p>THX for help</p>\n\n<p><img src=\"http://i.stack.imgur.com/BF00i.png\" alt=\"prop manager\"></p>\n"},{"tags":["qt","user-interface","model","widget","designer"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12141889,"title":"Qt custom widgets with custom items - Qt Designer/ uic","body":"<p>I have started working with Qt again. What we want to do is to automatically generate graphical user interfaces. Therefore I have taken a closer look at the .ui file format (which is a XML based file format). These files are generated by the Qt Designer but can be easily be created by any other software. This part works so far.</p>\n\n<p>But: we want to add some custom widgets. Creating custom widgets is also not that difficult. Some good websites exist out there: <a href=\"http://doc.qt.nokia.com/4.7-snapshot/designer-creating-custom-widgets.html\" rel=\"nofollow\">Creating Custom Widgets for Qt Designer</a>, <a href=\"http://doc.qt.nokia.com/4.7-snapshot/designer-using-custom-widgets.html\" rel=\"nofollow\">Using Custom Widgets with Qt Designer</a>, (more hyperlinks held back),...</p>\n\n<p>My question is rather: how can you implement custom widgets displaying custom items. Let's take one example. We have a QComboBox and a QSpinBox. The combobox has three items</p>\n\n<ul>\n<li>A</li>\n<li>B</li>\n<li>C.</li>\n</ul>\n\n<p>When selecting \"A\" I want the spinbox' minimum set to 1, maxiumum set to 9; when selecting \"B\" the spinbox' minimum should be set to 10, and its' maximum to 99; selecting \"C\" should set the spinbox' minimum to 100 and the maximum to 999. How is this done properly?</p>\n\n<p>At the moment I set the data in a QTableWidget which is a helper class for me. Each row has three columns/cells:</p>\n\n<pre><code>item |  min | max\n-----+------+-----\n  A  |   0  |   9\n  B  |  10  |  99\n  C  | 100  | 999\n</code></pre>\n\n<p>And I have my custom widget which contains the QComboBox and the QSpinBox. At runtime I tell the custom widget to take data/model from the QTableWidget and copy to itself by a method called setFriendContainer() [it's even a public slot which should be connected to a signal from the tablewidget which is emitted automatically]. Afterwards the tablewidget is not needed any more! I don't even want to show it to the user at all (this is why some size properties are set to 0; but it's partly still visible).</p>\n\n<p>I think this is not really a clean way to implement it. What would be better/ an alternative? The items are also generated and should be contained in the same .ui file. Of course it would be possible to load it at runtime from another file, but I think this isn't rather an option. Do you think my workaround is ok, or is it too \"ugly\"? There are some examples where you can see how to add single custom properties, but I think this is something different - if you want to add whole containers (lists or tables of items, whatever). But including it in the .ui files might even be against the whole model/view concept?!</p>\n\n<p>Any help welcome!</p>\n\n<p>Thanks,\nMatthias</p>\n"},{"tags":["qt","layout","restore","qmainwindow","qdockwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12210471,"title":"QDockwidget save/restore layout in QMainWindow - different \"views\"","body":"<p>I have played around with the <a href=\"http://doc.qt.nokia.com/4.7-snapshot/demos-mainwindow-mainwindow-cpp.html\" rel=\"nofollow\">QMainWindow example</a> from Qt. I was able to customize it to my needs. But now I am facing some problems, especially concerning the saveLayout/loadLayout functionality.</p>\n\n<p>I have a method named \"autoSetupDockWidgets\" which is called from the \"setupDockWidgets\" method (which is available in the example), I made it empty for the moment. In this method I have several lines like:</p>\n\n<pre><code>QDockWidget* DockWidget_instance;\n\nDockWidget_instance = new QDockWidget;\nUi::FoobarClass FoobarClass_instance;\nFoobarClass_instance.setupUi(DockWidget_instance);\nm_widgetInstancesMap.insert(\"CategoryA\", DockWidget_instance);\n\nDockWidget_instance = new QDockWidget;\nUi::JustAnotherFoobarClass JustAnotherFoobarClass_instance;\nJustAnotherFoobarClass_instance.setupUi(DockWidget_instance);\nm_widgetInstancesMap.insert(\"CategoryA\", DockWidget_instance);\n\nDockWidget_instance = new QDockWidget;\nUi::WeLikeThisAndSoHaveSomeMore WeLikeThisAndSoHaveSomeMore_instance;\nWeLikeThisAndSoHaveSomeMore_instance.setupUi(DockWidget_instance);\nm_widgetInstancesMap.insert(\"CategoryB\", DockWidget_instance);\n/* ... */\n</code></pre>\n\n<p>Probably I should mention what m_widgetInstancesMap looks like:</p>\n\n<pre><code>QMultiMap&lt;QString, QDockWidget*&gt; m_widgetInstancesMap;\n</code></pre>\n\n<p>The thing is: I do not always want to display all QDockWidgets, but I want to have several views/perspectives/layouts where only specific QDockWidgets are visible. This is why I use the QMultiMap here with the QString containing a name for each view/perspective/layout (in my example \"CategoryA\", \"CategoryB\" and so on.</p>\n\n<p>I automatically add some menu entries for each of these views/perspectives/layouts:</p>\n\n<pre><code>QString key;\nforeach( key, m_widgetInstancesMap.uniqueKeys() ) // not: .keys() !\n{\n  QAction *action = m_pSubaddressMenu-&gt;addAction( key );\n  connect(m_pSubaddressMenu, SIGNAL(triggered(QAction*)), this, SLOT(showCategory(QAction*)));\n}\n</code></pre>\n\n<p>This works perfectly good so far. The showCategory method looks something like this:</p>\n\n<pre><code>hideAllDockWidgets();\n\n// find out who has activated the action and what to do!\n//QWidget *sender = (QWidget*)sender();\nQString key = action-&gt;text();\n\n// show those with the category expected\nQList&lt;QDockWidget*&gt; values = m_widgetInstancesMap.values( key );\n\nfor( /* special iteration over the list is here */ )\n{\n    addDockWidget( Qt::LeftDockWidgetArea, values.at(i) );\n    values.at(i)-&gt;show(); // else they might not show up, because they are hidden!\n}\n</code></pre>\n\n<p>This still works so far, hooray!\nBy the way my hideAllDockWidgets method iterates again over all the QDockWidgets and calls </p>\n\n<pre><code>removeDockWidget( values.at(i) );\n</code></pre>\n\n<p>I also tried to do:</p>\n\n<pre><code>values.at(i)-&gt;hide();\n</code></pre>\n\n<p>It still works. But maybe I am missing something here. Because when I now call save layout, exit the program and try to restore the layout this unfortunately does not work. Only after I have shown this category once. Am I missing something here? The layout file is only containg data for the at save time visible dock widgets, which is quite ok, if they could also be restored (made visible)!</p>\n\n<p>Thanks for your help!\nMatthias</p>\n\n<p>PS: Btw it should also be possible to save/restore mixed views of categories (i.e. some dockwidgets of \"CategoryA\" and some of \"CategoryB\".</p>\n"},{"tags":["python","qt","qtwebkit","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12210217,"title":"How to enable redirects in QWebView","body":"<p>I'm trying to automatically create snapshots of some pages, to later put them on a webpage. I'm just playing around with <a href=\"https://gist.github.com/3140831\" rel=\"nofollow\">some code I've found</a>.</p>\n\n<p>The problem is that for some websites it shows only empty pages. According to the Wireshark data, it looks like that some pages start with a redirect. The best example I could find is Twitter (but I've seen the same behaviour with other sites too), which if I try to connect it with a mobile browser redirects me by both JavaScript and       <code>meta http-equiv=\"refresh\"</code> to <code>http://mobile.twitter.com</code>. But the page otherwise contains only an empty <code>body</code> tag.</p>\n\n<p>And it looks like that for some reason redirects just didn't work for pages like this. (Neither the JavaScript, nor the <code>meta</code> tag.) Is there a way to enable redirects for a <code>QWebView</code> in python or to circumvent the problem some other way? (I really wouldn't like to handle all the strange behaving URLs manually and doing the redirects by hand.)</p>\n"},{"tags":["xml","qt","qxmlstreamreader"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12196798,"title":"How can I read the atributes of XML nodes in Qt?","body":"<p>I need to read the a,b,c values(wheqre a,b,c are the name of some atributes) foreach node and list them in a table, but I don't know how to read the node values. Could you give an example code, please?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","image","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12205571,"title":"Why doesnt QWebView display any images when loaded via setHtml?","body":"<p>Whenever I try to load a page via:</p>\n\n<pre><code>QWebView *view = new QWebView();\nview-&gt;settings()-&gt;setAttribute(QWebSettings::AutoLoadImages, true);\nview-&gt;settings()-&gt;setAttribute(QWebSettings::LocalContentCanAccessRemoteUrls, true);\nview-&gt;settings()-&gt;setAttribute(QWebSettings::LocalContentCanAccessFileUrls, true);\nview-&gt;settings()-&gt;setAttribute(QWebSettings::LocalStorageEnabled, true);\nview-&gt;setUrl(QUrl(QString(\"https://registration.experient-inc.com/HTMLProduction/ShowCES131/ConfirmationImages/CES131_Header.JPG\"))); // this does not load images\n//view-&gt;setUrl(QUrl(QString(\"http://www.google.com\"))); // &lt;= this does load images\n</code></pre>\n\n<p>Why does loading via a string not load the related images? How do I get it to do so? (The related images are on the web and are specified using absolute URLs)</p>\n\n<p>Thanks!</p>\n\n<p>UPDATE: this appears to related to the fact that the url for the image is <code>https</code>. When I manually changed it to http, it loaded the image. This is not a fix however, as sometimes the website will require https. Furthermore, i get a connection timed out when I check the error. This is odd because it can access the non-https version of the site and so can any other browser.</p>\n"},{"tags":["c++","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12189352,"title":"QT Button Press On Widget","body":"<p>pretty new to using Qt. I have a custom widget that i need to have recieving button presses, then from that button press finding the position of the mouse on the widget. \nUnfortunately, currently the mousePressEvent(QMouseEvent *me) doesn't seem to be working correctly. \nSo i'm wondering what exactly i'm doing wrong, code below;</p>\n\n<p>Header File:</p>\n\n<pre><code>#ifndef TILESHEETPANE_H\n#define TILESHEETPANE_H\n\n#include &lt;QWidget&gt;\n#include \"global.h\"\n\nclass tileSheetPane : public QWidget\n{\n   Q_OBJECT\n\n public:\n     tileSheetPane(int scnWidth, Global *global, QWidget *parent);\n\n protected:\n     void mousePressEvent(QMouseEvent *me);\n     void paintEvent(QPaintEvent *);\n\n private:\n     Global *tempGlobal;\n     QPoint cursorPos;\n     int tileSheetPaneWidth, tileSheetPaneHeight, renderOffsetY;\n };\n\n #endif // TILESHEETPANE_H\n</code></pre>\n\n<p>Src File:</p>\n\n<pre><code>   #include &lt;QPainter&gt;\n   #include &lt;QMouseEvent&gt;\n   #include \"tilesheetpane.h\"\n\n   //Constructor &amp; Paint Event .. \n\n   void tileSheetPane::mousePressEvent(QMouseEvent *me)\n   {\n        cursorPos = me-&gt;pos();\n   }\n</code></pre>\n\n<p>CursorPos's values just say at their initialized 0. So any help would be greatly appreciated :), as i said, pretty new to using QT only started probably 2 days ago so i'm still trying to figure out things :D. </p>\n\n<p>Edit;\nSo after trying out some of the suggestions in the comments, nothing seems to be working. I do indeed have setMouseTracking(true) but still nothing. I inserted a qDebug call into the function as suggested and it seems that the mousePressEvent never gets called. </p>\n\n<pre><code> void tileSheetPane::mousePressEvent(QMouseEvent *me)\n {\n     cursorPos = me-&gt;pos();\n\n     //These Never Show Up!\n     qDebug() &lt;&lt; me-&gt;pos().x();\n     qDebug() &lt;&lt; me-&gt;pos().y();\n }\n</code></pre>\n\n<p>Something perhaps is blocking or stopping this being called but im not sure what it could be?</p>\n"},{"tags":["c++","qt","networking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12194306,"title":"Is QTcpSocket stateChanged suitable for heart-beat check?","body":"<p>If the client is been shutdowned, is the QTcpSocket will recvieve the stateChanged signal immediately?</p>\n"},{"tags":["qt","python-3.x","gtk","cairo","pycairo"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12185721,"title":"Example of using cairo in python3 for vectorial animations","body":"<p>I'd like to display some simple game/interactive vector drawings using <code>pycairo</code> and <code>python3</code>.</p>\n\n<p>I think I'll also need a \"widget toolkit\" to manage creating the window itself since I don't think <code>pycairo</code> can do that part alone (it only saves output to files).</p>\n\n<p>I've looked into <code>PySide</code> (based on <code>Qt</code>, seems pretty complex) and <code>gi</code> (based on gtk3 I guess, there's even <code>gi-cairo</code> but couldn't find a tutorial or example). I don't really know how to integrate those with <code>pycairo</code>.</p>\n\n<p>I heard of <code>pygame</code> but doesn't seem to be supported on <code>python3</code> (at least I have no python3-pygame showing up in apt).</p>\n\n<p>Can I have a starter example of using <code>pycairo</code> with <code>python3</code> and some standard windowing toolkit to create a window and draw some simple animation?</p>\n\n<p><strong>EDIT:</strong> Bonus points if the example is animated.</p>\n"},{"tags":["qt","moc","qtreewidgetitem"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12204227,"title":"subclass of QTreeWidgetItem leads to compile errors when getting deleted","body":"<p>I have derived a class from QTreeWidgetItem. When I call the destructor I get an access violation error. I run out of ideas. Maybe someone can help me. Here is my code.</p>\n\n<p>AutoScanTreeItem.h:</p>\n\n<pre><code>#ifndef AUTOSCANTREEITEM\n#define AUTOSCANTREEITEM\n\n\n#include &lt;QTreeWidget&gt;\n#include &lt;QString&gt;\n\nnamespace rs {\nnamespace ui {\n\n\nclass AutoScanTreeItem :\n    public QTreeWidgetItem\n{\n\npublic:\n    AutoScanTreeItem(QTreeWidgetItem* itm);\n    AutoScanTreeItem(QTreeWidget* tree);\n\n    QString _modelType;\n\n    ~AutoScanTreeItem(void);\n};\n\n\n}}\n\n#endif \n</code></pre>\n\n<p>AutoScanTreeItem.cpp:</p>\n\n<pre><code>#include \"AutoScanTreeItem.h\"\n\n\nusing namespace rs::ui;\n\nAutoScanTreeItem::AutoScanTreeItem(QTreeWidgetItem* itm): QTreeWidgetItem(itm){}\n\nAutoScanTreeItem::AutoScanTreeItem(QTreeWidget* tree): QTreeWidgetItem(tree){}\n\n\nAutoScanTreeItem::~AutoScanTreeItem(void)\n{\n}\n</code></pre>\n\n<p>Thanks a lot.</p>\n\n<p>Maaschn</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12201709,"title":"QtSDK first compile error","body":"<p>I've downloaded the QtSDK for windows and installed it.</p>\n\n<p>I'm using QtCreator to run their test program but run into this problem:</p>\n\n<pre><code>17:03:30: Running build steps for project keepintouch...\n17:03:30: Configuration unchanged, skipping qmake step.\n17:03:30: Starting: \"C:\\QtSDK\\mingw\\bin\\mingw32-make.exe\" \nC:/QtSDK/mingw/bin/mingw32-make.exe -f Makefile.Debug\nmingw32-make.exe[1]: Entering directory `C:/QtSDK/Examples/QtMobility/keepintouch-  build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug2'\ng++ -c -g -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL - DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN  - I\"..\\..\\..\\Desktop\\Qt\\4.8.1\\mingw\\include\\QtCore\" -I\"..\\..\\..\\Desktop\\Qt\\4.8.1\\mingw\\include\\QtGui\" -I\"..\\..\\..\\Desktop\\Qt\\4.8.1\\mingw\\include\" -I\"..\\..\\src\\messaging\" -I\"..\\..\\src\\contacts\" -I\"..\\..\\src\\contacts\\details\" -I\"..\\..\\src\\contacts\\filters\" -I\"..\\..\\src\\contacts\\requests\" -I\"..\\..\\..\\Desktop\\Qt\\4.8.1\\mingw\\include\\ActiveQt\" -I\"debug\" -I\"..\\keepintouch\" -I\".\" -I\"..\\..\\..\\Desktop\\Qt\\4.8.1\\mingw\\mkspecs\\win32-g++\" -o debug\\addressfinder.o ..\\keepintouch\\addressfinder.cpp\nmingw32-make.exe[1]: Leaving directory `C:/QtSDK/Examples/QtMobility/keepintouch-build-  desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug2'\n mingw32-make.exe[1]: *** [debug/addressfinder.o] Error 1\n mingw32-make.exe: *** [debug] Error 2\n 17:03:31: The process \"C:\\QtSDK\\mingw\\bin\\mingw32-make.exe\" exited with code 2.\n Error while building project keepintouch (target: Desktop)\n When executing build step 'Make'\n</code></pre>\n"},{"tags":["qt","store","qdialog","qmainwindow"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":12195117,"title":"store variables from a qdialog to use in qmainwindow","body":"<p>I've created a dialog.h, dialog.cpp and a dialog.ui, and I have qlineedit in the dialog, as well as ok and cancel button, and i want to store those linedit information to use in a mainwindow in a different file. here's my dialog code.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"dialog.h\"\n#include \"ui_dialog.h\"\n\nvoid Dialog::startplanevolume()\n{\n    if (xMax==0)\n    {\n        ui-&gt;label_17-&gt;setText(\"Error: Can't start, invalid \\nmeasures\");\n    }\n    else\n    {\n        this-&gt;accept();        \n    }\n}\n\n// Define the length of the volume\nvoid Dialog::bmprange()\n{\n// Getting some proprieties for the lenght of the volume\nQString XMAX=ui-&gt;lineEdit-&gt;text();\nxMax=XMAX.toDouble();\n\nif (xMax==0)\n{\n    ui-&gt;label_17-&gt;setText(\"Error: invalid measures\");\n}\nelse\n{\n    ui-&gt;label_17-&gt;setText(\"Valid measures\");\n}\n}\n\nDialog::Dialog(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Dialog)\n{\n    ui-&gt;setupUi(this);\n\n  // Control volume measures\n    // Making the lineedit objects only accept numbers\n    ui-&gt;lineEdit-&gt;setValidator(new QIntValidator(this));\n    connect(ui-&gt;lineEdit, SIGNAL(textChanged(QString)), this, SLOT(bmprange()));\n\n\n  // Start planevolume\n    connect(ui-&gt;pushButton, SIGNAL(clicked()), this, SLOT(startplanevolume()));\n    connect(ui-&gt;pushButton_2, SIGNAL(clicked()), this, SLOT(hide()));\n\n}\n\nDialog::~Dialog()\n{\n    delete ui;\n}\n\nvoid Dialog::changeEvent(QEvent *e)\n{\n    QDialog::changeEvent(e);\n    switch (e-&gt;type()) {\n    case QEvent::LanguageChange:\n        ui-&gt;retranslateUi(this);\n        break;\n    default:\n        break;\n    }\n}\n</code></pre>\n\n<p>how can i get to use the value of xMax in mainwindow.cpp??</p>\n\n<p>here's my dialog.h</p>\n\n<pre><code>#ifndef DIALOG_H\n#define DIALOG_H\n\n#include &lt;QDialog&gt;\n\nnamespace Ui {\n    class Dialog;\n}\n\nclass Dialog : public QDialog {\n    Q_OBJECT\npublic:\n    Dialog(QWidget *parent = 0);\n    ~Dialog();\n\nprotected:\n    void changeEvent(QEvent *e);\n\nprivate:\n    Ui::Dialog *ui;\n    double xMax, yMax, zMax, xMMax, yMMax, zMMax, list[6];\n\npublic slots:\n    void bmprange();\n    void startplanevolume();\n\n};\n\n#endif // DIALOG_H\n</code></pre>\n\n<p>here's my main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n\n#include \"planevolume.h\"\n#include \"dialog.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    Dialog *dialog= new Dialog;\n\n    if (dialog-&gt;exec())\n    {\n        planevolume mainwindow;\n        mainwindow.show();\n        return app.exec();\n    }\n\nreturn 0;\n}\n</code></pre>\n\n<p>so then I want to use xMax to calculate something in planevolume.cpp, the mainwindow</p>\n"},{"tags":["qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12195413,"title":"qt how to link win32 libraries","body":"<p>I am using QT Creator 2.4.1. I want to make a network utility. I am using windows function:\nGetAdaptersInfo().</p>\n\n<p>This requires iphlpapi.lib to be linked. </p>\n\n<p>To link the libraries I tried to add following argument in <strong>Projects->Build-Setup->Additional Arguments</strong> :</p>\n\n<p>LIBS += -liphlpapi</p>\n\n<p>or</p>\n\n<p>win32:LIBS += -liphlpapi</p>\n\n<p>or</p>\n\n<p>LIBS += iphlpapi.lib</p>\n\n<p>Without any success. I tried to give full path too. Can anyone tell me whats the correct way of linking?</p>\n"},{"tags":["c++","visual-studio","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":117,"score":1,"question_id":11950493,"title":"Unresolved externals and some warnings while building the qt solution","body":"<p>I have Qt libraries 4.8.1 for Windows (VS 2010 ultimate) with Qt Visual Studio Add-in. This is my very simple app :</p>\n\n<pre><code>#include&lt;qobject.h&gt;\n#include&lt;qstring.h&gt;\n#include&lt;memory&gt;\n\nclass MyClass : public QObject{\nQ_OBJECT\n\npublic:\nMyClass( const QString &amp;text, QObject *parent = 0 ) : m_text(text) {}\n\npublic slots:\nvoid setText( const QString &amp;text );\n\nsignals:\nvoid textChanged( const QString&amp; );\n\nprivate:\nQString m_text;\n};\n\nvoid MyClass::setText( const QString &amp;text ){\nif( m_text == text ) return;\nm_text = text;\nemit textChanged( m_text );\n}\n\nint main(int argc, char *argv[]){\n    std::shared_ptr&lt;MyClass&gt; a(new MyClass(\"foo\"));\n    std::shared_ptr&lt;MyClass&gt; b(new MyClass(\"bar\"));\n\nQObject::connect( a.get(), SIGNAL(textChanged(const QString&amp;)),\nb.get(), SLOT(setText(const QString&amp;)) );\na-&gt;setText(\"changed\");\n}\n</code></pre>\n\n<blockquote>\n  <p>Errors I get related to unresolved externals :  Error 6   error LNK2001:\n  unresolved external symbol \"public: virtual int __thiscall\n  MyClass::qt_metacall(enum QMetaObject::Call,int,void * *)\"\n  (?qt_metacall@MyClass@@UAEHW4Call@QMetaObject@@HPAPAX@Z)</p>\n  \n  <p>Error 4   error LNK2001: unresolved external symbol \"public: virtual\n  struct QMetaObject const * __thiscall MyClass::metaObject(void)const \"\n  (?metaObject@MyClass@@UBEPBUQMetaObject@@XZ)</p>\n  \n  <p>Error 5   error LNK2001: unresolved external symbol \"public: virtual\n  void * __thiscall MyClass::qt_metacast(char const *)\"\n  (?qt_metacast@MyClass@@UAEPAXPBD@Z)   </p>\n  \n  <p>Error 3   error LNK2019: unresolved external symbol \"protected: void\n  __thiscall MyClass::textChanged(class QString const &amp;)\" (?textChanged@MyClass@@IAEXABVQString@@@Z) referenced in function\n  \"public: void __thiscall MyClass::setText(class QString const &amp;)\"\n  (?setText@MyClass@@QAEXABVQString@@@Z)</p>\n</blockquote>\n\n<p>and two warnings :</p>\n\n<blockquote>\n  <p>Warning   1   warning MSB8017: A circular dependency has been detected\n  while executing custom build commands for item\n  \"GeneratedFiles\\Debug\\main.moc\". This may cause incremental build to\n  work incorrectly.</p>\n  \n  <p>Warning   2   warning : No resources in\n  'C:\\Users\\Anonymous\\documents\\visual studio\n  2010\\Projects\\qtWorld\\qtWorld\\qtworld.qrc'.</p>\n</blockquote>\n\n<p><strong>I didn't use any qmake / nmake . They ain't required when you get latest Qt Visual Studio Add-in 1.1.11 (even Intellisense recognizes the keywords <code>slots:</code> <code>signals:</code>), right?</strong></p>\n\n<p><strong>Now my questions :</strong></p>\n\n<ol>\n<li>I heard many errors are resolved by just rebuilding the whole solution , why is that ?</li>\n<li>Please explain why I get these errors in deep and their possible solutions.</li>\n</ol>\n\n<p>p.s please be good at explanation, don't be rep whorer</p>\n"},{"tags":["qt","graphics","widget","window","transparent"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12198325,"title":"Qt widget without decoration","body":"<p>I want to write a widget in Qt that doesn't have decoration. And here I mean no title bar or any of that \"gray area\" a normal widget has. For example I want to draw a circle using QPainter:</p>\n\n<pre><code>QPainter painter(this);\npainter.setRenderHint(QPainter::Antialiasing);\npainter.setBrush(QBrush(QColor(100, 100, 100,255), Qt::SolidPattern));\npainter.drawEllipse(QPoint(200, 200), 50, 50);\n</code></pre>\n\n<p>and I want that circle to be the actual widget. For example when I click outside the circle on position (249,249) (which is outside the circle but inside the circle's circumscribed square) to activate the entity beneath it(so to be a circle window, not a sqare one).</p>\n\n<p>I've done some research but I didn't get any further from a QSplashScreen which was the nearest thing to what i want (id doesn't have decoration, i can draw on it but it still has that gray square area that forms the window and is clickable) </p>\n\n<p>Can this be done in Qt? </p>\n"},{"tags":["qt","crash","ubuntu-12.04"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":11859227,"title":"qt QCoreApplication::exec() crash on ubuntu 12.04","body":"<p>I am developing a system application with signal slot on sockets in qt, ubuntu  </p>\n\n<pre><code>void Receiver::startServer()\n{\n....\nconnect(udpSocket, SIGNAL(readyRead()), this, SLOT(receiveFunc()));\n}\n\nvoid Receiver::receiveFunc()\n{\n\n\nemit receiveForwarder();\n{\n\n\nHandler::start()\n{\nreceiver= new Receiver();\nthread=new QThread()\nreceiver-&gt;moveToThread(thread);\nreceiver-&gt;startServer();\n\nconnect(receiver, SIGNAL(receiveForwarder()), this, SLOT(processTexts()));\n}\n\nHandler::processTexts()\n{\n\n\n\n//emit another signal that is in another thread\n}\n</code></pre>\n\n<p>I have a processTexts function that is either a slot for a thread and also emits a signal to another thread. If I omit the second emit in Handler the problem is not solved but program crashes somewhat later. But it does not disapear. it creashes after a minute or two. program processes texts that comes from UDP socket. and sends it via another QTcpSocket to another program.</p>\n\n<p>The crash signature is :</p>\n\n<pre><code>0[bt:0]/application/collector/main.cpp::exceptionHandler(int)::30\n./collector(_Z16exceptionHandleri+0x56)[0x422156]\n/lib/x86_64-linux-gnu/libc.so.6(+0x364c0)[0x7fbf348f54c0]\n/usr/lib/x86_64-linux-gnu/libQtCore.so.4(+0x1a9b24)[0x7fbf35558b24]\n/lib/x86_64-linux-gnu/libglib-2.0.so.0(g_main_context_check+0x183)[0x7fbf33db1a33]\n/lib/x86_64-linux-gnu/libglib-2.0.so.0(+0x47f96)[0x7fbf33db1f96]\n/lib/x86_64-linux-gnu/libglib-2.0.so.0(g_main_context_iteration+0x34)[0x7fbf33db2124]\n/usr/lib/x86_64-linugnu-libQtCore.so.4(_ZN20QEventDispatcherGlib13processEventsE6QFlagsIN10QEventLoop17ProcessEven    tsFlagEE+0xd6)[0x7fbf35559426]\n/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN10QEventLoop13processEventsE6QFlagsINS_17ProcessEventsFlagEE+0x32)       [0x7fbf35528c82]\n/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN10QEventLoop4execE6QFlagsINS_17ProcessEventsFlagEE+0xf7)      [0x7fbf35528ed7]\n  /usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN16QCoreApplication4execEv+0x87)[0x7fbf3552df67]\n  ./collector(main+0x216)[0x4234c6]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed)[0x7fbf348e076d]\n</code></pre>\n\n<p>I analyzed it with valgrind and it says:</p>\n\n<pre><code>==31981== Conditional jump or move depends on uninitialised value(s)\n==31981==    at 0x556AB14: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n==31981==\n==31981== Invalid read of size 2\n==31981==    at 0x556AB45: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n==31981==  Address 0xa8bf0c6 is 6 bytes inside a block of size 16 free'd\n==31981==    at 0x4C2A4BC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==31981==    by 0x556AB44: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n\n==31981==\n==31981== Invalid read of size 2\n==31981==    at 0x556AB4D: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n==31981==  Address 0xa8bf0c4 is 4 bytes inside a block of size 16 free'd\n==31981==    at 0x4C2A4BC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==31981==    by 0x556AB44: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n\n==31981==\n==31981== Thread 2:\n==31981== Invalid write of size 2\n==31981==    at 0x6C281FA: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C291D1: g_source_add_poll (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B7A9: QEventDispatcherGlib::registerSocketNotifier(QSocketNotifier*) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x5145E59: QUdpSocket::readDatagram(char*, long long, QHostAddress*, unsigned short*) (in /usr/lib/x86_64-linux-gnu/libQtNetwork.so.4.8.1)\n==31981==    by 0x4205F1: LogReceiver::receiveLog() (udpSocket.cpp:52)\n==31981==    by 0x42B630: LogReceiver::qt_static_metacall(QObject*, QMetaObject::Call, int, void**) (moc_udpSocket.cpp:54)\n==31981==    by 0x5555445: QObject::event(QEvent*) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553BE9B: QCoreApplication::notifyInternal(QObject*, QEvent*) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FC69: QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x556AF92: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AC99: g_main_context_dispatch (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B05F: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==  Address 0xa8bf0c6 is 6 bytes inside a block of size 16 free'd\n==31981==    at 0x4C2A4BC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n==31981==    by 0x556AB44: ??? (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x6C2AA32: g_main_context_check (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2AF95: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x6C2B123: g_main_context_iteration (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.1)\n==31981==    by 0x556B3BE: QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AC81: QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553AED6: QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x553FF66: QCoreApplication::exec() (in /usr/lib/x86_64-linux-gnu/libQtCore.so.4.8.1)\n==31981==    by 0x4234C5: main (main.cpp:170)\n</code></pre>\n\n<p>I analyzed the program and I removed all my bugs I do not know if it is a Qt bug or ubuntu bug or GCC or my fault.</p>\n\n<p>Besides I wanted to know if anybody tried a system application with more than 20 events per second. It crashes after a while.</p>\n\n<p>Thank you all in advance.</p>\n"}]}
