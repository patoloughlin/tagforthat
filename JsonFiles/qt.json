{"count":16204,"tag":"qt","questions":[{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13281349,"title":"Transfering values between two forms in Qt","body":"<p><br>\nI have a lineEdit called myVal in a form called MainWindow. In a second form entitled SecondWindow, I have a lineEdit called myVal2 and an Ok button called \"OKButton\". </p>\n\n<p>I think the best solution is to use signals and slots. I searched different sites but I tried to use.\nconnect(ui.OKButton, SIGNAL(clicked()), MainWindow, SLOT(transferValue)); However, I was unable to get it to work. I'm still new at QT and any help would be great.<br>Thanks</p>\n"},{"tags":["visual-studio","qt","visual-c++","shared-libraries","gsl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13277856,"title":"How to build GSL with msvc2010?","body":"<p>I'm working with Qt 4.8.3 and QtCreator, which I've compiled with msvc2010 as per the instructions <a href=\"http://stackoverflow.com/questions/12113400/compiling-qt-4-8-2-for-visual-studio-2012\">here</a>.  Now however I need to link to GSL (Gnu Scientific Library), but currently I only know how to build it with g++ which produces linker errors just as described <a href=\"http://stackoverflow.com/questions/579556/cygwin-compile-error-in-sys-types-h\">here</a>, undoubtedly for the reason given in the answer by @EvanTeran.  However, in my case, building Qt with g++ via cygwin is probably not an option--I've just come off a multi-day nightmare during which I tried to do just this, but could not, as recorded <a href=\"http://stackoverflow.com/questions/13217734/cant-build-qt-in-windows-from-source-perl-installed-but-still-cant-find-heade\">here</a>.  Surely there is a way to build gsl with msvc2010, but how?  I have VS 2012 Express installed (though I've never used it before) in case there's a solution using it.</p>\n\n<p><strong>EDIT:</strong> Looking at CMake, it seems the best I can to is to manually create an entire hierarchy of CMakeLists.txt files for GSL.  That's just a little too much so instead I've put a 100pt. bounty on the question mentioned above.  Solving my problem the Visual Studio route (here) OR with g++ will get the bounty and the answer to both questions.</p>\n"},{"tags":["c++","qt","crash","qtcpsocket","qtcpserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13280436,"title":"Solved: QTcpServer crashes on close","body":"<p>I was programming a server, I programmed the service and a manager. When I stop the server with the UI Server Manager, the server calls a function called \"stopServer()\", that function contains the following:</p>\n\n<pre><code>qDebug() &lt;&lt; \"Stopping the server...\";\n// Clear the vector and free the memory by deleting pointers\nqDebug() &lt;&lt; clients.size();\nfor(int i=0;i&lt;clients.size();i++){\n    clients.get(i)-&gt;getSocket()-&gt;flush();\n    clients.get(i)-&gt;getSocket()-&gt;close();\n    clients.get(i)-&gt;getSocket()-&gt;disconnectFromHost();\n    clients.get(i)-&gt;getSocket()-&gt;waitForDisconnected(3);\n}\nclients.destroy();\n// Close the server\nsocket_server-&gt;close();\n// Stop the handler\nqDebug() &lt;&lt; \"Stopped.\";\n</code></pre>\n\n<p>Actually, that \"clients\" variable it's only a vector that contains the user data, he close the QTcpSocket for each connection, and then clean the clients variable and reset it to 0.</p>\n\n<p>When I have one connection on the server (the UI Manager works as one of that connection), and I try to stop it, it fails. I removed that vector system. And it's stills not working, it don't give me any error, just crashes the application.</p>\n\n<p>If you need all the code, just tell me!</p>\n\n<p>(Sorry for my bad english...)</p>\n\n<p>Update: If I remove \"socket_server->close()\" it works without any problem.\nUpdate #2: It seems that it's a problem with a pointer deletion. Idk....</p>\n\n<p>SOLVED: Omg I was a dumb! socket_server was a null pointer... I just fixed that, and that's it!</p>\n"},{"tags":["windows","qt","build","configure"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13217734,"title":"Can't build Qt in Windows from source, Perl installed but still can't find headers","body":"<p>I'm using Cygwin on Windows 7, 64-bit.  I downloaded the 4.8.3. source and followed the instructions <a href=\"http://qt-project.org/doc/qt-4.8/install-win.html\" rel=\"nofollow\">here</a>, putting <code>&lt;qtdir&gt;/bin</code> in PATH along with the path to my chosen compiler.  Configure fails immediately,</p>\n\n<blockquote>\n  <p>$ ./configure</p>\n  \n  <p>Creating qmake. Please\n  wait... g++ -c -o makefile.o -pipe -DQMAKE_OPENSOURCE_EDITION -g -I.\n  -Igenerators -Igenerators/unix -Igenerators/win32 -Igenerators/mac -Igenerators/symbian -Igenerators/integrity -I/cygdrive/c/Qt/4.8.3/include -I/cygdrive/c/Qt/4.8.3/include/QtCore -I/cygdrive/c/Qt/4.8.3/src/corelib/global -I/cygdrive/c/Qt/4.8.3/src/corelib/xml -I/cygdrive/c/Qt/4.8.3/tools/shared -DQT_NO_PCRE -DQT_BUILD_QMAKE -DQT_BOOTSTRAPPED -DQLIBRARYINFO_EPOCROOT -DQT_NO_TEXTCODEC -DQT_NO_UNICODETABLES -DQT_NO_COMPONENT -DQT_NO_STL -DQT_NO_COMPRESS -I/cygdrive/c/Qt/4.8.3/mkspecs/cygwin-g++ -DHAVE_QCONFIG_CPP -DQT_NO_THREAD -DQT_NO_QOBJECT -DQT_NO_GEOM_VARIANT -DQT_NO_DEPRECATED  generators/makefile.cpp</p>\n  \n  <p>In file included from ./option.h:45:0,\n                   from generators/makefile.h:45,\n                   from generators/makefile.cpp:42: ./project.h:45:25: fatal error: qstringlist.h: No such file or directory compilation\n  terminated. make: <em>*</em> [makefile.o] Error 1</p>\n</blockquote>\n\n<p>Discussions <a href=\"http://qt-project.org/forums/viewthread/5360\" rel=\"nofollow\">here</a> and <a href=\"http://stackoverflow.com/questions/2084766/how-to-build-latest-qt-from-git-repository-on-windows\">here</a> identify the problem as being with Perl; however Perl is on my system and on the path.  To be sure I went and downloaded/installed ActivePerl, after which I added <code>Perl64/bin</code> to the path.  Same result.  Would very much appreciate some help out with this.</p>\n\n<p><strong>Edit</strong>, for completeness:</p>\n\n<blockquote>\n  <p>$ whereis perl</p>\n  \n  <p>perl: /bin/perl.exe /usr/bin/perl.exe /usr/share/perl\n  /cygdrive/c/Perl64/bin/perl.exe /cygdrive/c/Perl64/bin/perl516.dll</p>\n  \n  <p>$ echo $PATH</p>\n  \n  <p>/cygdrive/c/Perl64/bin:/cygdrive/c/gcc/bin:/bin: ...\n  /cygdrive/c/Qt/4.8.3/bin</p>\n</blockquote>\n\n<p><strong>Edit</strong>: The line that fails is:</p>\n\n<pre><code>#include &lt;qstringlist.h&gt;\n</code></pre>\n\n<p>This specific error goes away if I replace with an absolute path.  (Of course, numerous other errors then arise.) Yet</p>\n\n<blockquote>\n  <p>$whereis qstringlist.h</p>\n  \n  <p>qstringlist:\n  /cygdrive/c/Qt/4.8.3/include/QtCore/qstringlist.h</p>\n</blockquote>\n\n<p>which is explicitly <code>-I</code> included in the g++ command, and FWIW</p>\n\n<blockquote>\n<pre><code>$echo $PATH\n\n... /cygdrive/c/Qt/4.8.3/include/QtCore\n</code></pre>\n</blockquote>\n\n<p>...</p>\n"},{"tags":["c++","qt","bluetooth","virtual","hid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13280850,"title":"Code example for virtual HID (Human Interface Device)","body":"<p>I need example of code (or some tutorial) for making virtual HID (Human Interface Device).\nIf possible with bluetooth integration and made for linux using QT/C++.</p>\n\n<p>Practically, I want to make my own cellphone application which will have few buttons (but it will work as keyboard - sending keystrokes), without requiring server-side application (it will control windows/linux/mac operating systems), and HID seems to me best choice. Unfortunately, I can't find any code samples or tutorials for that.</p>\n\n<p>The thing is I don't know how I am supposed to make service and register it (make it available over bluetooth so OS can recognize it as keyboard and pair with it).</p>\n\n<hr>\n\n<p>So far I have found about BlueZ, but as I mentioned, I cant find any code samples or tutorials.</p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13271178,"title":"Is there a way in qt interface builder to set the window to appear in the centre of the screen","body":"<p>When I show my windows they appear off centre. Ive seen examples of fixing this by setting the windows position to the relevant screen co-ordinate. But is there a way of doing this through the the UI Designer. </p>\n"},{"tags":["qt","directory","absolute-path","mkdir"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":744,"score":1,"question_id":9641807,"title":"QDir mkdir with absolutepath","body":"<p>I have problem with the creation of dir with Qt.\nI would like to create a dir in documents'dir so, I make some things like that :</p>\n\n<pre><code>QString path = C:/Users/Me/Documents/MyApp/profiles/;\nQdir dir = QDir::root();\ndir.mkdir(path);\n</code></pre>\n\n<p>But thaht doesn't work! I have test with \"/\" and \"\\\" for the separators but in the two cases that not work.</p>\n\n<p>How I can create my dir?</p>\n\n<p>Thank you.</p>\n"},{"tags":["qt","python-2.7","pyside","qgraphicsitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13273785,"title":"Only move QGraphicsItem when mouse in specific region","body":"<p>I'm trying to create something similar to terragens node network view in python using PySide.<br>\nI subclassed QGraphicsRectItem using this code.</p>\n\n<pre><code>class Node(QGraphicsRectItem):\n    def __init__(self,pos):\n        QGraphicsRectItem.__init__(self,pos.x()-100,pos.y()-30,200,60)\n        self.setFlag(QGraphicsItem.ItemIsMovable,True)\n    (...)\n</code></pre>\n\n<p>Which gives this (with some fancy painting):</p>\n\n<p><img src=\"http://i.stack.imgur.com/lWSOy.png\" alt=\"enter image description here\"></p>\n\n<p>I'd like to implent connecting nodes by dragging the mouse from one small rectangle to another, but this results in moving the whole node.</p>\n\n<p>So I don't want the QGraphicsRectItem getting moved when the mouse is pressed inside a small rectangle. How would I be able to do this.</p>\n\n<p>(if needed, I can define something like <code>isInDraggingArea(x,y)</code>)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":12091495,"title":"Access items of QStandardItemModel from QML","body":"<p>In main program I define an instance of QStandardItemModel:</p>\n\n<pre><code>QScopedPointer&lt;QApplication&gt; app(createApplication(argc, argv));\nQmlApplicationViewer viewer;\n\nQStandardItemModel* model = new QStandardItemModel(5,10,app.data());\nfor( int r=0; r&lt;2; r++ ) {\n    for( int c=0; c&lt;2; c++)  {\n        QStandardItem* item = new QStandardItem( QString(\"Row:%0, Column:%1\").arg(r).arg(c) );\n        model-&gt;setItem(r,c,item);\n    }\n}\n</code></pre>\n\n<p>Then, I register the model to QML with:</p>\n\n<pre><code>viewer.rootContext()-&gt;setContextProperty(\"cppModel\",model);\n</code></pre>\n\n<p>QStandardItemModel is a table,isn't it? Then, how can I write a delegate to\nshow items in a simple GridView:</p>\n\n<pre><code>    GridView {\n        model: cppModel\n        delegate: Rectangle {\n            Text { text: ??? } //WHAT MUST BE USED HERE ???\n        }\n    }\n</code></pre>\n\n<p>Do I have to use named roles or can I just use properly created indices?</p>\n\n<p>Please, do not discuss the form, i.e how to get 5 rows with 10 columns,\nbut how to access items. I have already tried with more general question\n( <a href=\"http://stackoverflow.com/questions/11820894/change-c-model-with-qml\">Change C++ model with QML</a> ) but I\ndidn't get enough information to understand the solution.</p>\n"},{"tags":["qt","qt4","qlabel"],"answer_count":5,"favorite_count":2,"up_vote_count":16,"down_vote_count":0,"view_count":26490,"score":16,"question_id":2749798,"title":"QLabel: set color of text and background","body":"<p>How do I set color of text and background of a <code>QLabel</code> ?</p>\n"},{"tags":["linux","qt","window","fork","porting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13278668,"title":"Multi-platform Plotting Application - Porting App to Windows","body":"<p>I'm a student programmer using Qt to create an assistive desktop application. After the number crunching and preferences are selected in my GUI I rely on XMGR to plot the users results. In this regard, data block files are created and script is generated to run data from the files into XMGR. I need to port to windows and I don't know of application like XMGR in which to do this same or similar type of operation. I built the application to be flexible based on the governing OS so integrating dependence on a different application should only be as difficult as the plotting application wants to make it. </p>\n\n<p><em><strong>Basically I'm looking for some suggestions as to what plotting application I should use.</em></strong></p>\n\n<p><em>It would need to be able to be called while data is passed into it.\nIt would be preferable if the application is able to be freely distributed; additionally it would be nice if it was multiplatform.</em> </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13274567,"title":"Determining super class for registered user types","body":"<p>I am attempting to determine which classes are subclassed from several different types. For example, if E1 extends A, E2 extends A, and E3 extends B, I want to find all classes that are subclassed from A and return a list of the types E1 and E2. These types are registered with the QMetaSystem.</p>\n\n<p>My first attempt was to iterate over the user declared types, instantiate it, and get the superClass name:</p>\n\n<pre><code>int type = QMetaType::User;\nwhile( QMetaType::isRegistered(type) ) {\n    QObject *o = (QObject*)QMetaType::construct(type);\n    QString parent = o-&gt;metaObject()-&gt;superClass()-&gt;className();\n}\n</code></pre>\n\n<p>This seemed like a bad idea when I wrote it and didn't expect it to work. Unsurprisingly, it segfaults when attempting to get the metaObject.</p>\n\n<p>Is it possible to get the information I need from the QMetaType or is there another way of getting this information?</p>\n"},{"tags":["windows","qt","configuration","installation","make-install"],"answer_count":6,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":3942,"score":6,"question_id":4699311,"title":"How to install Qt on Windows after building?","body":"<p>I can't find any information on how to install Qt built on Windows.<br>\nIn wiki article <a href=\"http://developer.qt.nokia.com/wiki/Qt_shadow_builds\">How to set up shadow builds on Mac and Linux</a> there's description of <code>-prefix</code> option in <code>configure</code> script but this option is not available on Windows.<br>\nI know I can use Qt right from the build folder but it does not seem the right thing not to perform an install step. One problem with this approach is size; Qt's build folder takes about 4GB space whereas after installing using binary installer Qt takes about 1GB space. I guess the difference is due to temporary files created during building. I hope some install procedure would install (copy) only needed files leaving temporary files in the build folder.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13278281,"title":"Custom QGraphicItem and Repaint Issues","body":"<p>All, I implemented a QGraphicsItem which is a polygon.  I sped up development by using <code>QGraphicsEllipseItem</code> as the points (for the dragging capabilities.)  However, I am now having difficulty in <code>update()</code> functionality.  My code is posted at the end, my questions are:</p>\n\n<ol>\n<li>Am I taking the right approach here?  I am starting to doubt myself</li>\n<li>Am I supposed to be calling <code>QGraphicsItem::update()</code> in my implementation?  I call it alot</li>\n</ol>\n\n<p>Some other info:</p>\n\n<ul>\n<li>I did a dirty little hack.  In my actual code I also inherit from <code>QObject</code>.  This allows me to install an <code>eventFilter</code> on the scene() (which I know has been set using <code>itemChange</code>).  From the scene I filter <code>QGraphicsSceneMouseEvent</code> during mouse moves and call <code>QGraphicsItem::update()</code> otherwise my lines wouldn't be redrawn.</li>\n<li>When I remove my <code>InteractivePolygon</code> from the scene now, my lines are not removed!  I have to call scene()->update.  I feel like something's not right.</li>\n</ul>\n\n<hr>\n\n<p>declaration:</p>\n\n<pre><code>class InteractivePolygon : public QGraphicsItem\n{\n\npublic:\n   //Only important methods\n   QRectF boundingRect() const;\n   void paint(bla bla bla);\n   bool eventFilter(QObject *, QEvent *);\n\nprivate:\n   QList&lt;QGraphicsEllipseItem *&gt; m_points;\n\n   void AddPolygonPoint(QPointF);\n   QGraphicsEllipseItem * MakeNewPoint(QPointF);\n}\n</code></pre>\n\n<p>implementation:</p>\n\n<pre><code>QRectF InteractivePolygon::boundingRect() const\n{\n   return childrenBoundingRect();\n}\n\nvoid InteractivePolygon::paint(QPainter painter.. otherstuf)\n{\n   QPen line_pen(QColor(255,0,0));\n   painter-&gt;setPen(line_pen);\n\n   if(m_points.count() &gt; 1)\n   {\n      for(int i = 1; i &lt; m_points.count(); ++i)\n          painter-&gt;drawLine(m_points[i-1]-&gt;pos(), m_points[i]-&gt;pos());\n   }\n}\n\nvoid AddPolygonPoint(QRectF point)\n{\n   QGraphicsEllipseItem * new_item = MakeNewPoint(point);\n   new_item-&gt;setParent(this);\n\n   m_points-&gt;push_front(new_item);\n\n   update();  \n}\n\nQGraphicsEllipseItem * InteractivePolygon::MakeNewPoint(QPointF &amp; new_point)\n{\n   QGraphicsEllipseItem * result = 0;\n   result = new QGraphicsEllipseItem();\n   result-&gt;setPos(new_point);\n   result-&gt;setRect(-4, -4, 8, 8);\n   result-&gt;setFlags(QGraphicsItem::ItemIsMovable | QGraphicsItem::ItemIsSelectable)\n\n   return result;\n}\n\n//Lets pretend this method is correctly setup/exists\nbool InteractivePolygon::eventFilter(QObject *object, QEvent *event)\n{\n   if(event-&gt;type() == QEvent::QEvent::GraphicsSceneMouseMove)\n   {\n      QGraphicsSceneMouseEvent * mouse_move = (QGraphicsSceneMouseEvent *)event;\n      //Selected index is set else, let's assume it works\n      if(selected_index)\n      {\n         update(); //If I don't do this, my lines in my paint() are not redrawn.\n      }\n   }\n}\n</code></pre>\n"},{"tags":["qt","source","webpage","symbol","unresolved-external"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13277903,"title":"QT: unresolved external symbol while trying to get webpage source code","body":"<p>I started developing with Qt and I'm trying to get webpage source code. Here's what I have :</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n#include &lt;QString&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QUrl&gt;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\n/**/\n\nclass GetHTMLSource : public QObject\n{\nQ_OBJECT\n\npublic:\n    GetHTMLSource();\n    void GetSource();\n\npublic slots:\n    void GetDone(QNetworkReply*);\n\nprivate:\n    QNetworkAccessManager* NetManager;\n};\n\n\nGetHTMLSource::GetHTMLSource()\n{\n    NetManager = new QNetworkAccessManager(this);\n\n    connect(NetManager, SIGNAL(finished(QNetworkReply*)),\n         this, SLOT(GetDone(QNetworkReply*)));\n\n}\n\nvoid GetHTMLSource::GetSource()\n{\n    NetManager-&gt;get(QNetworkRequest(QUrl(\"http://stackoverflow.com\")));\n}\n\nvoid GetHTMLSource::GetDone(QNetworkReply* ReplyIn)\n{\n\n    QByteArray DataIn=ReplyIn-&gt;readAll();\n    QString DataString(DataIn);\n\n    //process str any way you like!\n\n}\n\n/**/\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    GetHTMLSource Test;\n    Test.GetSource();\n}\n</code></pre>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_pushButton_clicked();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>.pro</p>\n\n<pre><code>QT       += core gui\n\nTARGET = TestGetPageSource\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nQT += network\n</code></pre>\n\n<p>Errors are :</p>\n\n<blockquote>\n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual struct QMetaObject const * __thiscall\n  GetHTMLSource::metaObject(void)const \"\n  (?metaObject@GetHTMLSource@@UBEPBUQMetaObject@@XZ)</p>\n  \n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual void * __thiscall GetHTMLSource::qt_metacast(char const *)\"\n  (?qt_metacast@GetHTMLSource@@UAEPAXPBD@Z)</p>\n  \n  <p>mainwindow.obj:-1: error:LNK2001: unresolved external symbol \"public:\n  virtual int __thiscall GetHTMLSource::qt_metacall(enum\n  QMetaObject::Call,int,void * *)\"\n  (?qt_metacall@GetHTMLSource@@UAEHW4Call@QMetaObject@@HPAPAX@Z)</p>\n</blockquote>\n"},{"tags":["linux","qt","qt4","debian","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13277936,"title":"How does QMediaRecorder::supportedCodec() Work?","body":"<p>I'm running Linux x86, debian-based distro.</p>\n\n<p>Qt 4.7.3 with QtMobility for Desktop</p>\n\n<p>I would like to know the architecture behind this funtion (QMediaRecorder::supportedCodec()) of QtMultimediaKit.</p>\n\n<p>Where does this funtion read the list of supportedCodec from? Where could I find it in my system? And how can I add another Codec to this funtion?</p>\n\n<p>Any Help, Reply, Suggestion, Answer are highly apreciated!!</p>\n\n<p>Best Regard!</p>\n\n<p>A.0.A.B</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13277873,"title":"qt 5 release date","body":"<p>Does anyone know when QT 5 will be released. I can't seem to find any information on it except someone set in November(this month). I'm waiting to get started with QT until 5 since it seems like a major update and there is no need to learn something that will be antiquated in a few weeks.</p>\n"},{"tags":["qt","qt4","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13274844,"title":"QML newbie needing help accessing Item properties from within C++","body":"<p>I am developing an application in QT and QML to access some XML data and display the results.</p>\n\n<p>The XML is downloaded / parsed from C++ and this works fine.\nI have a QML application designed to display the custom layout and that also works fine.</p>\n\n<p>To make the app look more polished I have an initial \"splash screen\" that's displayed whilst the C++ side completes the initial download / parse, I have created a property inside the main QML view to represent the current application \"state\" so I can swap to the correct screen when the data is ready.</p>\n\n<p><strong>Main.qml</strong></p>\n\n<pre><code>Item\n{\n   id: mainScreen\n   width: 800; height: 600;   \n   property int activeState: 0       // This controls what screen is displayed\n\n   Item \n   {\n       // screen layout .. removed .. \n   }\n}\n</code></pre>\n\n<p>The C++ code is generated by the QT creator app wizard and is based around the basic <code>QmlApplicationViewer</code> class.</p>\n\n<p>I've read (and re-read) the online QT docs and supposedly all I have to do to access the individual properties of <code>mainScreen</code> is to call the <code>findChild&lt;QObject *&gt;</code> method of the application viewers <code>rootContext()</code> to return a <code>QObject</code> pointer to the <code>mainScreen</code> instance and then call the <code>setProperty</code> method like so.</p>\n\n<pre><code>QObject *mainView = ROOT_CONTEXT-&gt;findChild&lt;QObject *&gt;(\"mainScreen\");\n\nqDebug(\"mainView = %08X\",(uint)mainView);\n\nif(mainView)\n{\n    mainView-&gt;setProperty(\"activeState\",1);\n}\nelse\n    qDebug(\"Unable to find the mainScreen QML object\");\n</code></pre>\n\n<p>Where <code>ROOT_CONTEXT</code> is defined elsewhere as </p>\n\n<pre><code>QDeclarativeContext *ROOT_CONTEXT;\nQDeclarativeEngine  *ROOT_ENGINE;\nQGraphicsObject     *ROOT_OBJECT;\n\nvoid QmlApplicationViewer::createMyApplication(void)\n{\n    ROOT_CONTEXT = this-&gt;rootContext();\n    ROOT_OBJECT  = this-&gt;rootObject();\n    ROOT_ENGINE  = this-&gt;engine();\n\n    pMyApplication = new MyApplication(this);\n}\n</code></pre>\n\n<p>and <code>void QmlApplicationViewer::createMyApplication(void)</code> is called after the main QML file has been setup ie </p>\n\n<pre><code>QmlApplicationViewer viewer;\n\nviewer.setMainQmlFile(QLatin1String(\"main.qml\"));\nviewer.showExpanded();\nviewer.createMyApplication();\n</code></pre>\n\n<p>BUT...</p>\n\n<p>The problem I'm running into is that that the value returned from <code>findChild&lt;QObject *&gt;(\"mainScreen\");</code> is always NULL.  I've tried enumerating through the hierarchy of objects in my QML file using the following code </p>\n\n<pre><code>QList&lt;QObject*&gt; list = ROOT_OBJECT-&gt;findChildren&lt;QObject*&gt;();\n\nqDebug(\"list = %d\",list.count());\nint i;\n\nfor(i=0;i&lt;list.count();i++)\n{\n    QObject *obj = list[i];\n\n    qDebug() &lt;&lt; \"Object\" &lt;&lt; i &lt;&lt; obj-&gt;objectName();\n}\n</code></pre>\n\n<p>and I get a list of ~120 items but they all have a blank string (\"\") for their name.</p>\n\n<p>Looking back at the QT docs all the examples seem to suggest creating the individual parts by hand (ie creating an instance of <code>QDeclarativeEngine</code>, <code>QDeclarativeComponent</code> and <code>QDeclarativeItem</code>) and linking them together instead of using the <code>QApplicationViewer</code> class as shown on this blog entry <a href=\"http://xizhizhu.blogspot.co.uk/2010/10/hybrid-application-using-qml-and-qt-c.html\" rel=\"nofollow\">http://xizhizhu.blogspot.co.uk/2010/10/hybrid-application-using-qml-and-qt-c.html</a>, but I'd much rather stick with the code I've already written.</p>\n\n<p>Can anyone please help and suggest where I'm going wrong or point me in the direction where I can find a \"simple\" example of being able to change a property of an Item in a QML file from C++.</p>\n\n<p>Many (many) thanks in advance.</p>\n\n<p>Jon...</p>\n"},{"tags":["c++","qt","c++11"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13275106,"title":"for(auto e : xxx) conflict with constructor","body":"<p>I defined a class \"eventZone\" which is used in my class \"configuration\"</p>\n\n<p><code>class configuration { ... QMap&lt;QString, eventZone&gt; zones ... }</code></p>\n\n<p>Until rescently I succesfully used a for loop like saw</p>\n\n<pre><code>for(eventZone evz : config.zone.values()) { ... }\n</code></pre>\n\n<p>However this doesnt work since I implemented a copy constructor for eventZone (needed to serialize it and be able to save configurations)</p>\n\n<p>The error I get is </p>\n\n<pre><code>/home/.../zonedisplay.cpp:43: erreur : no matching function for call to 'eventZone::eventZone(eventZone&amp;)'\n</code></pre>\n\n<p>My new constructor has type :</p>\n\n<pre><code>explicit eventZone(const eventZone &amp;cpy);\n</code></pre>\n\n<p>How to make those two coexist ?</p>\n"},{"tags":["qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13274123,"title":"Make buffer of cv mat Point to the buffer of QImage","body":"<p>I would like to make the buffer of cv::mat point to the buffer of QImage but not copy\nthe data of QImage into the cv::mat.</p>\n\n<pre><code>cv::Mat const reference_qimage_to_mat(QImage const &amp;img, int format)\n{\n    cv::Mat mat(img.height(), img.width(), format);\n\n    for(int i = 0; i != mat.rows; ++i)\n    {\n        //pseudo code, wouldn't work\n        //mat.ptr(i) = img.scanLine(i);\n    }\n\n    return mat;\n}\n</code></pre>\n\n<p>I try to search the answer by google but I could only find how to copy\nthe data of QImage into cv::mat.Thanks</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13269936,"title":"Python QT ProgressBar","body":"<p>When using the following code my application stalls after a couple of seconds.\nAnd by stalls I mean hangs. I get a window from Windows saying wait or force close.</p>\n\n<p>I might add that this only happens when I click either inside the progress bar window or when I click outside of it so it loses focus. If I start the example and do not touch anything it works like it should.</p>\n\n<pre><code>from PyQt4 import QtCore\nfrom PyQt4 import QtGui\n\n\nclass ProgressBar(QtGui.QWidget):\n    def __init__(self, parent=None, total=20):\n        super(ProgressBar, self).__init__(parent)\n        self.name_line = QtGui.QLineEdit()\n\n        self.progressbar = QtGui.QProgressBar()\n        self.progressbar.setMinimum(1)\n        self.progressbar.setMaximum(total)\n\n        main_layout = QtGui.QGridLayout()\n        main_layout.addWidget(self.progressbar, 0, 0)\n\n        self.setLayout(main_layout)\n        self.setWindowTitle(\"Progress\")\n\n    def update_progressbar(self, val):\n        self.progressbar.setValue(val)   \n</code></pre>\n\n<p>Using this like so:</p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\nbar = ProgressBar(total=101)\nbar.show()\n\nfor i in range(2,100):\n    bar.update_progressbar(i)\n    time.sleep(1)\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["c++","qt","png","osm","qpixmap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13274747,"title":"Why can't I load this specific PNG into my QPixmap?","body":"<p>Why can't I load this png into my QPixmap?\n<a href=\"http://otile2.mqcdn.com/tiles/1.0.0/osm/8/137/79.png\" rel=\"nofollow\">Open street map png</a></p>\n\n<pre><code>Q_ASSERT(fakeMap.load(\"C:/map71.png\"));\n</code></pre>\n\n<p>This renders an ASSERT.</p>\n\n<p>Does not render an ASSERT if I open it in MS paint and re saves it either as a jpeg or png (but larger in size). Same path and syntax.</p>\n"},{"tags":["qt","qt4","qtreeview","qfilesystemwatcher"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13275084,"title":"recursive delete of directory failed in QTreeView","body":"<p>I want to delete a directory in a QTreeView wish is not empty,when i do it recursively the children are deleted but the parent is not,I noticed that if the parent file isn't expended the delete work is just fine but when i expand it and I close it,the deleting is impossible.</p>\n\n<p>the output : QFileSystemWatcher: FindNextChangeNotification failed!! </p>\n\n<p>when I close the all application the parent directory is removed.</p>\n\n<p>thx </p>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13273653,"title":"how to creat a Quad which is bent at midle point using QGLWidget or QGLBuilder?","body":"<p>how to creat a Quad which is bent at midle point using QGLWidget or QGLBuilder?\nactually i want to bend the quad i such a manner that can be looked like cutting of a sphere.</p>\n"},{"tags":["linux","qt","gdb","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13239643,"title":"Debugging Helpers in Qtcreator don't work on Linux","body":"<p>and sorry for mess English.</p>\n\n<p>In theory while debugging in qt-creator show fields of classes defined in Qt.\nBut it doesn't do it and display only  or mem address.</p>\n\n<p>I think that the problem in GDB or Python scripts. </p>\n\n<p>GDB loaded from <a href=\"http://origin.releases.qt-project.org/gdb/\" rel=\"nofollow\">http://origin.releases.qt-project.org/gdb/</a> gives what is described above.</p>\n\n<p>I tried to Build GDB myself with config flags</p>\n\n<pre><code>configure --prefix=&lt;DIR&gt; --target x86_64-linux-gnu --with-python\n</code></pre>\n\n<p>and</p>\n\n<pre><code>configure --target x86_64-linux-gnu --disable-nls --with-libiconv --with-expat --with-python\n</code></pre>\n\n<p>but they crash while starting from Qtcreator</p>\n\n<p>i'm running on Ubuntu 12.10 x64\nQt version is 4.8.4 (from Git)\nand creators are 2.5.2(from qt-project site) and 2.6.81 (git)\nGDB versions: \n build myself - 7.5\n download from qt-project - 7.4.1</p>\n\n<p>on Win8 subject works fine in combination QtCreator(2.6.81)-Qt-4.8.4-MinGW-GDB-7.5(build myself from source with Py. support)</p>\n\n<p>UPD: Try to build with <a href=\"http://qt.gitorious.org/qt-creator/qt-creator/trees/master/dist/gdb\" rel=\"nofollow\">http://qt.gitorious.org/qt-creator/qt-creator/trees/master/dist/gdb</a> \nit didn’t help</p>\n"},{"tags":["c++","qt","gcc4.7"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":87,"score":4,"question_id":13270738,"title":"const QList<int> warnings = QList<int>() << 0; segfaults with gcc 4.7.2","body":"<p>So the code mentioned on the topic line causes segmentation fault with Qt 4.8.3 &amp; gcc 4.7.2</p>\n\n<p>This is at outside of any classes/structs at .cpp-file and works with gcc 4.4</p>\n\n<p>const QList warnings = QList() &lt;&lt; 0 &lt;&lt; 3 &lt;&lt; 7;</p>\n\n<p>Traces gives these two hints:</p>\n\n<pre><code>__do_global_ctors()\n__static_initialization_and_destruction_0\n</code></pre>\n\n<p>So it seems that \"warning\" is not yet available when its inserting latter list into it.</p>\n\n<p>Works with 4.7.2 if i change it into this:</p>\n\n<p>global scope: QList&lt; int> warnings;</p>\n\n<p>This is inisde some function: warnings = QList() &lt;&lt; 0 &lt;&lt; 3;</p>\n\n<p>I'm wondering why this happens?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I guess i clipped a bit too much stuff out from my question originally, but warnings is supposed to be const at file scope (.cpp-file) for holding bunch enums. </p>\n"},{"tags":["c++","qt","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13273017,"title":"C++ application using a map/route api","body":"<p>For my final year project (for my BSc in computer science) i am working on a taxi booking management system (writen in c++), one of the requirements is when the user enters a pick up point or destination, they get get an auto-complete or suggestions, kind of like on google maps when you start to enter an address, there should also be the option of showing the route next to it, the route will be needed to work out milage for costing etc.</p>\n\n<p>the problem i am having is finding an API which i can use for this, i was thinking that i could use something with Google maps but i read yesterday that it is against their toc to use it on an application that isnt web based or something.</p>\n\n<p>I am going to be using QT and wondered if anyone might have a suggestion of where i could find a mapping/route api that i could possibly use, and also if anyone could point me in the direction of a resource which might help me withe the auto complete/suggestion functionality\nthanks</p>\n"},{"tags":["c++","qt","drag-and-drop","qtableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13272899,"title":"Drag and drop between different table views","body":"<p>I have two different Qtable views (I'm using QT) and I don't know how to implement drag&amp;drop functionality between them. It seems to work only when dealing with a single model view (drag&amp;dropping inside the same table). Can someone give me a simple example?</p>\n"},{"tags":["qt","user-interface","pyside","qfiledialog"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13250654,"title":"Is it possible to have a QFileDialog allowing either 'files only' or 'directories only'?","body":"<p>For a QFileDialog, is it possible to have either files or directories selectable, the choice being given to user on the same UI (like the way a user selects different filetypes amongst filters and the filelist updates accordingly)?</p>\n"},{"tags":["qt","video","video-streaming","overlay","phonon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1066,"score":0,"question_id":4473709,"title":"Play a video with custom overlay graphics","body":"<p>I want to play a video (with sound) in a simple GUI with \"play\" and \"stop\" buttons etc. There are classes and widgets in Qt's Phonon module for doing that, and several examples. OK, so that seems to be simple.</p>\n\n<p>But now I need to draw some custom graphics (that depend on the current time in the video) on top of the streamed video image. I have not found anything about this in the Qt documentation. What's the canonical way of doing this? Do I just create a custom VideoWidget widget and override its paintEvent? In another question here, some guy seemed to have trouble with this.</p>\n\n<p>Any pointers would be appreciated.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":22,"score":3,"question_id":13270016,"title":"get size of each row in QTextEdit","body":"<p>Hi I'm new in Qt programming and I'm want to know, if possible, how to get the size of each row in QTextEdit.</p>\n\n<p>PS: Sorry for my bad english.</p>\n\n<p>Regards.\nThanks for the help.</p>\n"},{"tags":["xcode","osx","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13269758,"title":"qmake Projects and Mac OS X SDKs","body":"<p>What is the most sensible way to use Mac OS SDKs from a Qt project? You need to have a path to the base SDK (MacOSX10.X.sdk), paths to the headers you need, and to indicate the frameworks you are using.</p>\n\n<p>At the moment I am doing this in my pro file (with help from here; <a href=\"http://www.agile-workers.com/web/2012/03/qt-qmake-osx_sdk-xcode/\" rel=\"nofollow\">Qt, Qmake and Mac Os X SDKs</a>):</p>\n\n<pre><code>MAC_SDK  = /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk\nif( !exists( $$MAC_SDK) ) {\n  error(\"The selected Mac OSX SDK does not exist at $$MAC_SDK!\")\n}\nQMAKE_MAC_SDK = $$MAC_SDK\n\nINCLUDEPATH += $$QMAKE_MAC_SDK/System/Library/Frameworks/CoreFoundation.framework/Versions/A/Headers\n\nDEPENDPATH  += $$QMAKE_MAC_SDK/System/Library/Frameworks/CoreFoundation.framework/Versions/A/Headers\n\nLIBS += -framework CoreFoundation\n</code></pre>\n\n<p>The SDKs are in the Xcode app bundle, what the hell? I was wondering if there is an environment variable which stores the path to the SDKs. Also, switching SDK versions, I have to go the the MAC_SDK path and change 10.7 to something else, is that the best way?</p>\n"},{"tags":["c++","qt","winapi","unicode","filenames"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13267667,"title":"FILE_NOTIFY_INFORMATION doesn't support Utf-8 file name","body":"<p>I am trying to watch a folder changes and notify the added filename so here is my code</p>\n\n<pre><code>bool FileWatcher::NotifyChange()\n{\n    // Read the asynchronous result of the previous call to ReadDirectory\n    DWORD dwNumberbytes;\n    GetOverlappedResult(hDir, &amp;overl, &amp;dwNumberbytes, FALSE);\n\n    // Browse the list of FILE_NOTIFY_INFORMATION entries\n\n    FILE_NOTIFY_INFORMATION *pFileNotify = (FILE_NOTIFY_INFORMATION *)buffer[curBuffer];\n    // Switch the 2 buffers\n    curBuffer = (curBuffer + 1) % (sizeof(buffer)/(sizeof(buffer[0])));\n    SecureZeroMemory(buffer[curBuffer], sizeof(buffer[curBuffer]));\n    // start a new asynchronous call to ReadDirectory in the alternate buffer\n    ReadDirectoryChangesW(\n         hDir, /* handle to directory */\n         &amp;buffer[curBuffer], /* read results buffer */\n         sizeof(buffer[curBuffer]), /* length of buffer */\n         FALSE, /* monitoring option */\n         FILE_NOTIFY_CHANGE_FILE_NAME  ,\n         //FILE_NOTIFY_CHANGE_LAST_WRITE, /* filter conditions */\n         NULL, /* bytes returned */\n         &amp;overl, /* overlapped buffer */\n         NULL); /* completion routine */    \n\n    for (;;) {\n         (pFileNotify-&gt;Action == FILE_ACTION_ADDED)\n        {\n                qDebug()&lt;&lt;\"in NotifyChange if \";\n                char szAction[42];\n                char szFilename[MAX_PATH] ;\n                memset(szFilename,'\\0',sizeof( szFilename));\n                strcpy(szAction,\"added\");\n                wcstombs( szFilename, pFileNotify-&gt;FileName, MAX_PATH);\n                qDebug()&lt;&lt;\"pFileNotify-&gt;FileName : \"&lt;&lt;QString::fromWCharArray(pFileNotify-&gt;FileName)&lt;&lt;\"\\nszFilename : \"&lt;&lt;QString(szFilename);                       \n\n        }\n\n        // step to the next entry if there is one\n        if (!pFileNotify-&gt;NextEntryOffset)\n            return false;\n        pFileNotify = (FILE_NOTIFY_INFORMATION *)((PBYTE)pFileNotify + pFileNotify-&gt;NextEntryOffset);\n    }\n    pFileNotify=NULL;\n    return true;\n}\n</code></pre>\n\n<p>It works fine unless a file with Arabic name was added so I get</p>\n\n<pre><code>pFileNotify-&gt;FileName :  \"???  ???????.txt\" \nszFilename :  \"\"  \n</code></pre>\n\n<p>How can I support the UTF-8 code file name ???\nany idea please.</p>\n"},{"tags":["qt","qml","transitions","flip","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":31,"score":0,"question_id":13251157,"title":"QML : Flippable issue","body":"<p>I am trying to make a flippable clock in QML.\nBut am not able to get the flippable effect as desired, I have referred the documentation of flip method, took that as base for further development. </p>\n\n<p>Tried various approaches but didn't succeed. Any idea how to get that effect.</p>\n\n<p>Below is the referred documentation code snippet</p>\n\n<pre><code>import QtQuick 1.0\n\n Flipable {\n     id: flipable\n     width: 240\n     height: 240\n\n     property bool flipped: false\n\n     front: Image { source: \"front.png\"; anchors.centerIn: parent }\n     back: Image { source: \"back.png\"; anchors.centerIn: parent }\n\n     transform: Rotation {\n         id: rotation\n         origin.x: flipable.width/2\n         origin.y: flipable.height/2\n         axis.x: 1; axis.y: 0; axis.z: 0     // set axis.x to 1 to rotate around y-axis\n         angle: 0    // the default angle\n     }\n\n     states: State {\n         name: \"back\"\n         PropertyChanges { target: rotation; angle: 180 }\n         when: flipable.flipped\n     }\n\n     transitions: Transition {\n         NumberAnimation { target: rotation; property: \"angle\"; duration: 4000 }\n     }\n\n     MouseArea {\n         anchors.fill: parent\n         onClicked: flipable.flipped = !flipable.flipped\n     }\n }\n</code></pre>\n"},{"tags":["xml","qt","serialization","properties","qtxml"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12647092,"title":"Qt XML serialization/deserialization to Q_PROPERTY","body":"<p>QJson (<a href=\"http://qjson.sourceforge.net\" rel=\"nofollow\">http://qjson.sourceforge.net</a>) implements a very convenient API for serializing and deserializing Q_OBJECTS - by converting their Q_PROPERTIES to qVariant, it allows for a convenient serialization and deserialization of arbitrary model instances.</p>\n\n<p>Is there anything similar for XML? Both QDom* and QXml* families are fairly limited. </p>\n"},{"tags":["qt","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13252158,"title":"QML Basics : Property concept","body":"<p>I just want to know do we have any concept access specifiers like private property in QML as we have in C++.</p>\n\n<p>If not if would like to know in case i have about 10 properties in my QML component but i have to limit the access to only 2 properties. how can we achieve this scenario.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12754007,"title":"Does Qt's moc Preprocessor Need All C++ Preprocessor Flags","body":"<p>I noticed that qmake passes all C++ preprocessor flags to the moc utility. I tried moc without these flags on one file and it produced identical results. My question is: would there be cases in which moc would need these flags?</p>\n"},{"tags":["c++","qt","linker-error"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":113,"score":3,"question_id":12338147,"title":"LNK4099 linker warning with QT Creator","body":"<p>So every time i build up my program i keep getting the following warning message;</p>\n\n<pre><code>qtmaind.lib(qtmain_win.obj):-1: warning: LNK4099: PDB 'vc100.pdb' was not found with 'qtmaind.lib(qtmain_win.obj)' or at 'D:\\Projects\\Test-2\\blah-build-desktop-Qt_4_8_1_for_Desktop_-_MSVC2010__Qt_SDK__Debug\\debug\\vc100.pdb'; linking object as if no debug info\n</code></pre>\n\n<p>I can just ignore it as described in the question here;\n<a href=\"http://stackoverflow.com/questions/8359550/lnk4099-linker-warning-with-clean-install-of-qt-sdk-and-visual-c-2008\">LNK4099 linker warning with clean install of Qt SDK and Visual C++ 2008</a></p>\n\n<p>But its getting rather annoying to see it all the time, and the fact is that vc100.pdb gets built but not into the debug folder. As you can see in the image below;</p>\n\n<p><img src=\"http://i.stack.imgur.com/zhc7L.png\" alt=\"enter image description here\"></p>\n\n<p>So the linker is looking for \"vc100.pdb\" in the debug folder but the \"vc100.pdb\" file is located in the top level directory. So i'm wondering how in-fact do i change in QT creator the look-up directory or infact if it is possible to move \"vc100.pdb\" into the debug folder? </p>\n"},{"tags":["qt","properties"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13259707,"title":"Q_PROPERTY read only instance","body":"<p>Is there a way to disable write accessors for all properties for a given instance of QObject, effectively turning them into a no-op? </p>\n"},{"tags":["qt","open","codec"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":7,"score":2,"question_id":13267934,"title":"QMediaRecorder::supportedAudioCodecs() to regconize audio/opus?","body":"<p>I'm trying to make <a href=\"http://qt-project.org/doc/qt-5.0/qmediarecorder.html#supportedAudioCodecs\" rel=\"nofollow\">QMediaRecorder::supportedAudioCodecs()</a> to include <a href=\"http://www.opus-codec.org/\" rel=\"nofollow\">Opus Codec</a>.</p>\n\n<p>I'm using Linux x86; QtVersion 4.7.3 with QtMobility.</p>\n\n<p>I have installed all libOpus, Opustool and Opusfile.</p>\n\n<p>But unlike other codec like vorbis and speechx,QMediaRecorder won't list Opus after install it.</p>\n\n<p>Is this because QtMultimediaKit not support Opus? Or is there anyway to work around with this? My current task is to try recording to Opus Codec on Qt.</p>\n\n<p>Thanks for any reply!</p>\n\n<p>A.0.A.B</p>\n"},{"tags":["c++","linux","qt","qtcpsocket","qtcpserver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13188824,"title":"QTcpSocket emits \"Connection Refused Error\" after few Successful connection?","body":"<p>I am designing an application for accessing a remote desktop using Qt creator. In order to get \"Quit\" Signal from the Remote desktop (after completing my purpose), i am using Tcpserver and Tcpsocket. My Pc acts as a Server while remote pc acts as a Client. I am using a following concept:</p>\n\n<p>Server pc\n1. Press PushButton to access the remote screen (in full screen mode using tightvnc).\n2. Start server and listen for any active connection (i am using port 9876).\n3. Active connection found. Connected to the client.\n4. Close the remote access.\n5. switch back to the local screen.\n6. Server Close</p>\n\n<p>Client Pc\n1. Press Quit button to close Remote access.\n2. When Quit button pressed\n3. connect to host.\n4. send \"Quit\" to the server\n5. disconnect from host\n6. close connection.</p>\n\n<p>It works fine for few attempts ( lets say 10 times)</p>\n\n<p>but there after it starts giving error \"Connection refused Error\". And I am unable to get back from the remote access untill i reboot my remote Pc.</p>\n\n<p>I have tried using Reset but the result is same.</p>\n\n<p>Any one have any idea ???</p>\n\n<p>Here is my code for Client side</p>\n\n<pre><code>#include \"ctrlboardclient.h\"\n#include &lt;QHostAddress&gt;\n#include &lt;QObject&gt;\n#include &lt;QtGui/QApplication&gt;\n#include &lt;QDebug&gt;\n\n\nbool CtrlBoardClient::status_flag = false;           /* Flag to check the transfer status of Data */\n\n\nCtrlBoardClient::CtrlBoardClient()\n{\n    connect(&amp;client, SIGNAL(connected()),    this,  SLOT(startTransfer()));\n    connect(&amp;client, SIGNAL(readyRead()),    this,  SLOT(recieve_msg()));\n    connect(&amp;client, SIGNAL(disconnected()), this,  SLOT(disconnectstatus()));\n    connect(&amp;client, SIGNAL(error(QAbstractSocket::SocketError)), this, SLOT(getErrorCode(QAbstractSocket::SocketError)));\n}\n\n\nbool CtrlBoardClient::start(QString address, quint16 port)\n{\n    QHostAddress addr(address);\n    bool rval = client.reset();\n    qDebug() &lt;&lt; \"Reset before Connect to Host = \" &lt;&lt; rval;\n    client.connectToHost(address, port);\n\n    if (!client.waitForConnected(3000)) {\n        bool rval = client.reset();\n        qDebug() &lt;&lt; \"Reset after Connect to Host = \" &lt;&lt; rval;\n        qDebug() &lt;&lt; \"Client is unable to connect to Server \";\n        return false;\n    }\n    qDebug() &lt;&lt; \"Client Server Connection Successful\";\n    status_flag = false;\n    return true;\n}\n\nvoid CtrlBoardClient::getErrorCode(QAbstractSocket::SocketError errorCode)\n{\n    qDebug() &lt;&lt; \"Socket Error = \" &lt;&lt; errorCode;\n}\n\n\nvoid CtrlBoardClient::SendMessage(QString Message)\n{\n    status_flag = true;\n    msg = Message;\n    startTransfer();\n    qDebug() &lt;&lt; \"Message sent to the Server\";\n    client.disconnectFromHost();\n    while (!client.waitForDisconnected(3000));\n    qDebug() &lt;&lt; \"Disconnected from the Host\";\n    return;\n}\n\n\nvoid CtrlBoardClient::startTransfer()\n{\n    if (status_flag) {\n        QByteArray block = \"\";\n        block.append(msg);\n        client.write(block);\n    }\n\n    status_flag = false;\n    return;\n}\n\n\nQByteArray CtrlBoardClient::RecieveMessage()\n{\n    return indata;\n}\n\n\nvoid CtrlBoardClient::recieve_msg()\n{\n    indata = \"\";\n    indata.append(client.readAll());\n    emit recievemsg();\n}\n\n\nvoid CtrlBoardClient::disconnectstatus()\n{\n    qDebug() &lt;&lt; \"Closing Client connection\";\n    CloseClientConnection();\n    emit connection_aborted();\n}\n\n\nvoid CtrlBoardClient::CloseClientConnection()\n{\n    bool rval = client.reset();\n    qDebug() &lt;&lt; \"Reset after Disconnect from Host = \" &lt;&lt; rval;\n    client.close();\n}\n</code></pre>\n\n<p>My Server code is:</p>\n\n<pre><code>#include \"mainboardserver.h\"\n\nMainBoardServer::MainBoardServer()\n{\n   connect(&amp;mainserver, SIGNAL(newConnection()), this, SLOT(acceptConnection()));\n   connect(this, SIGNAL(disconnected()), this, SLOT(DisconnectMessage()) );\n\n    if (!mainserver.listen(QHostAddress::Any, 9876)) {\n        emit no_incoming_connection();\n    }\n}\n\nvoid MainBoardServer::acceptConnection()\n{\n    ctrlclient = mainserver.nextPendingConnection();\n    connect(ctrlclient, SIGNAL(readyRead()), this, SLOT(startRead()));\n    connect(ctrlclient, SIGNAL(disconnected()), this, SLOT(DisconnectMessage()));\n    emit connection_found();\n}\n\nvoid MainBoardServer::startRead()\n{\n    char buffer[1024] = {0};\n    ClientChat = \"\";\n    ctrlclient-&gt;read(buffer, ctrlclient-&gt;bytesAvailable());\n    ClientChat.append(buffer);\n    ctrlclient-&gt;close();\n    emit data_recieved();\n}\n\nQString MainBoardServer::RecieveData()\n{\n    return ClientChat;\n}\n\nvoid MainBoardServer::TransferData(QByteArray data)\n{\n    ctrlclient-&gt;write(data);\n}\n\nvoid MainBoardServer::DisconnectMessage()\n{\n    emit connection_lost();\n}\n\n\nvoid MainBoardServer::closeServer()\n{\n    mainserver.close();\n    emit disconnected();\n}\n</code></pre>\n\n<p>Any idea how to resolve this issue ?? what mistake i am committing ???</p>\n"},{"tags":["qt","processes","uac"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1441,"score":2,"question_id":4526787,"title":"QProcess::startDetached blocked by UAC (running an updater)","body":"<p>I have an update function in my app - it downloads and verifies the installer (a setup.exe, created with NSIS). To actually kick off the update, I have simply been doing:</p>\n\n<pre><code>QString path = .. absolute path to the downloaded file ...\nQProcess::startDetached(path, QStringList());\n</code></pre>\n\n<p>This works fine on XP - but on Vista and Win7, nothing happens once the download completes. If I browse to the downloaded update and run it manually, it works fine. I assume what's happening is that UAC is blocking the installer at CreateProcess time, but this is where my knowledge runs out.</p>\n\n<p>Additional complication - when I'm running a debug build from the command line, the steps above work - I get the UAC prompt and can run the installer. It's the release builds, started form the start menu/shortcut, which have the issue - I assume there's a difference in the auth token when running from a command shell.</p>\n"},{"tags":["qt","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13267575,"title":"Widget become transparent when created with a parent","body":"<p>This is pretty straightforward. I have WidgetA, which acts like the main window, and WidgetB which has some extra controls that I want to show/hide. WidgetB is created with WidgetA as it's parent with something like this:</p>\n\n<pre><code>QWidget * WidgetB = new MyDerivedWidget( WidgetA )\n</code></pre>\n\n<p>Now, after that the child widget loses it's background and becomes transparent, so they both look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/wyF47.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, that's a little messy... How do I tell the child widget to retain it's background? </p>\n\n<p>When I open the child widget's .ui file in QtDesigner, it looks fine, it's Opacity is set to 1. But even If I manually change it's background (from QtDesigner, that is), it gets lost once the widget is being created inside another one. </p>\n"},{"tags":["c++","qt","cryptography","botan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13262225,"title":"Convert Botan SHA256 output to base64 to match .NET SHA256Managed().ComputeHash()","body":"<p>I'm porting a portion of a .NET application to Qt on Linux. I am trying to replicate the results of a .NET function to create the SHA-256 hash of a password + salt. The .NET code is</p>\n\n<pre><code>return new SHA256Managed().ComputeHash(buffer);\n</code></pre>\n\n<p>I have code that creates the hash but it isn't in a form that will allow me to embed it in a json object.</p>\n\n<pre><code>// create the hash of the salt+password\nBotan::SecureVector&lt;Botan::byte&gt; passwordHash = HashData(salt,StringToArray(m_password));\n// convert to a QByteArray\nQByteArray qPasswordHash;\nfor(uint i=0; i&lt;passwordHash.size();++i){\n    qPasswordHash[i]= passwordHash[i];\n}\n</code></pre>\n\n<p>For reference, the StringToArray method is shown below</p>\n\n<pre><code>QByteArray StringToArray(QString szInput){\n    QByteArray buffer = szInput.toUtf8().data();\n    return buffer;\n}\n</code></pre>\n\n<p>Does the qPasswordHash need to be put through a Base64 filter such as the one shown in the <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1Base64__Encoder.html#a123d6ba8ff59c02636e00f87a5dc9a8c\" rel=\"nofollow\">Documentation</a> in order to match the output from the .NET class?  If so is could you point me to example code or provide an example of the correct syntax for using this Botan method?</p>\n"},{"tags":["c++","windows","qt","drag-and-drop","skype"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13120627,"title":"QDrag and Skype issue (win only)","body":"<p>I am writing a little file/archives explorer and got an issue with interaction between qt-based app and Skype chat window on Windows platform only.</p>\n\n<p>When I try to drag-drop file (provided by QDrag with file-urls mime data) from my app to skype chat window, file is sent twice. The same I’ve got when tried to modify one of Qt drag-drop examples.</p>\n\n<p>Skype version is 5.10.0.116. Bug is reproducible on Qt versions 4.7.3, 4.8.1, 4.8.3.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Have tried drag-drop interactions between several apps</p>\n\n<ul>\n<li>My app -> Explorer = ok </li>\n<li>My app -> Notepad++ = ok (displays content of file only in one tab) </li>\n<li>My app -> WinRar = ok (creates archive with\nonly one file) </li>\n<li>My app -> TotalCommander = ok </li>\n<li>My app -> ICQ = ok (only    one file is    sent)</li>\n<li>My app -> Clementine (Qt based music player) = ok    (only one file\nis added to playlist)</li>\n<li>Explorer -> Skype = ok</li>\n</ul>\n\n<p><strong>But</strong></p>\n\n<ul>\n<li>My app -> Skype - file is sent twice</li>\n<li>Clementine -> Skype - file is sent twice</li>\n</ul>\n\n<p><strong>EDIT2:</strong></p>\n\n<p>Also, qt-created mime data differs from created by explorer.\nQt: </p>\n\n<ul>\n<li>0 \"text/uri-list\" \"file:///C:/Users/user/Pictures/myfile.ext\"</li>\n<li>1 \"application/x-qt-windows-mime;value=\"UniformResourceLocatorW\"\"\n\"...\" (I've replaced QByteArray contents with ellipsis)</li>\n</ul>\n\n<p>Explorer:</p>\n\n<ul>\n<li>0 \"application/x-qt-windows-mime;value=\"Shell IDList Array\"\" \"...\"</li>\n<li>1 \"application/x-qt-windows-mime;value=\"UsingDefaultDragImage\"\"\n\"...\"</li>\n<li>2 \"application/x-qt-windows-mime;value=\"DragImageBits\"\" \"...\"</li>\n<li>3 \"application/x-qt-windows-mime;value=\"DragContext\"\" \"...\"</li>\n<li>4 \"application/x-qt-windows-mime;value=\"DragSourceHelperFlags\"\"\n\"...\"</li>\n<li>5 \"application/x-qt-windows-mime;value=\"InShellDragLoop\"\" \"...\"</li>\n<li>6 \"text/uri-list\" \"file:///C:/Users/user/Pictures/myfile.ext\"</li>\n</ul>\n"},{"tags":["c++","linux","qt","remote-access"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13192599,"title":"linux: How to disconnect Remote user access?","body":"<p>I am designing an application to access remote screen using vncviewer through QProcess in Qt.\n( I am using vino-server at remote desktop)\nAfter login to the remote screen (in fullscreen mode), i want to disconnect the remote sharing and switch back to local screen.</p>\n\n<p>Is there any Qt way to do it?</p>\n\n<p>How to achieve this through linux command line ??</p>\n\n<p>I am using Linux Os (ubuntu).</p>\n\n<p>any idea / suggestions are appreciated.</p>\n"},{"tags":["c++","qt","xml-parsing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13265366,"title":"Ignoring a Invalid XML-Tag using Qdom?","body":"<p>I try to parse XML file which contains a attribute tag like this: </p>\n\n<pre><code>a=\"(USA &amp; CANADA)\"\n</code></pre>\n\n<p>But i found out that it isn't well-formed XML because the\"&amp;\" should be URL-encoded (&amp;)</p>\n\n<p>Is there a way to tell QDom to ignore the invalid text to parse the file anyway? Because i can't just fix all XML-files.</p>\n\n<p>I'd greatly appreciate any solutions to this problem.</p>\n\n<p>EDIT: I figured out that there is a function setInvalidDataPolicy(AcceptInvalidChars) but either this doesn't work when using setContent() for the QDomDocument or I'm just using it the wrong way...</p>\n\n<pre><code>QDomDocument xmlcontent;\nQDomImplementation impl;\nimpl.setInvalidDataPolicy(QDomImplementation::AcceptInvalidChars);\nQFile XMLContentFile(pathString);\nxmlcontent.setContent(&amp;XMLContentFile)\n</code></pre>\n\n<p>Anyone any ideas? Thanks in advance!</p>\n"},{"tags":["c++","qt","object"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":157,"score":6,"question_id":13261364,"title":"Why can't I chain a method to a constructor?","body":"<p>I'm trying to set a permission for a file. I thought I could save a line of code while dealing with a <code>QFile</code> object, like so.</p>\n\n<pre><code>QFile(\"somefile.txt\").setPermissions(QFile::WriteOther);\n</code></pre>\n\n<p>It compiled and ran, but didn't do anything. Of course, when I did it the <strong>right</strong> way, it worked. (no surprise, there.)</p>\n\n<pre><code>QFile tempFileHandle(\"somefile.txt\");\ntempFileHandle.setPermissions(QFile::WriteOther);\n</code></pre>\n\n<p>I think this is a good opportunity to understand the C++ syntax. I'll accept that my original way doesn't work, but <em>why?</em></p>\n"},{"tags":["c#","qt","tcp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13256775,"title":"How can I compare arrived TCP/IP data in Qt","body":"<p>I’m trying to compare arrived data in TCP-Client with a QString. But I think, it’s a wring format for comparison. My TCP client is written in Qt and TCP server in C#. Here is example code of Qt my read-function: </p>\n\n<pre><code>void MyClient::slotReadyRead()\n{\n    QString okStr = \"OK!\";\n    ui-&gt;textEdit-&gt;append(okStr);\n    ui-&gt;textEdit-&gt;append(\"Reading...\");\n    QString str = socket-&gt;readAll();\n    ui-&gt;textEdit-&gt;append(str);\n    if(str == okStr)\n        ui-&gt;textEdit-&gt;append(\"OK! is true\");\n    else\n        ui-&gt;textEdit-&gt;append(\"OK! is false\");\n}\n</code></pre>\n\n<p>And here is C#-server code for writing commands “OK!”:</p>\n\n<pre><code>private void WriteOutput(Commands cmd)\n{\n    if (NS == null)\n        return;\n\n    string str = Enum.GetName(typeof(Commands), cmd);\n    StreamWriter writer = new StreamWriter(NS);\n    writer.WriteLine(str + \"!\");\n    writer.Flush();\n}\n</code></pre>\n\n<p>In this case cmd would be <strong>„OK“</strong>.In Qt-TCP Client I get following messages:\n<strong>OK!\nReading...\nOK!</strong></p>\n\n<p>OK! is false\nBut I would like to have a <strong>OK! is true</strong> :). Which data-format should I choose?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13264460,"title":"QT M/V Deligate","body":"<p>I want to show QDateTimeWIdget when user selects the QTableView cell(Which contains datetime).I have written deligate ,How can i know column type of using model index dynamically in deligate create editor method?.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","qmainwindow","qdockwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13264395,"title":"How to disable resizing the QDockWidget?","body":"<p>I need to disable the resizing of QDockWidget's in the QMainWindow. can I do this without a setFixedSize() ?</p>\n\n<p>Thx.</p>\n"},{"tags":["qt","fullscreen","openscenegraph"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13188565,"title":"OSG +QT switching to full screen and back","body":"<p>I am integrating a single osgQt::GLWidget in a Qframe and using the pattern here: <a href=\"http://trac.osgeo.org/ossim/browser/trunk/ossimPlanetQt/src/gui/ossimPlanetQtMainWindow.cpp\" rel=\"nofollow\">http://trac.osgeo.org/ossim/browser/trunk/ossimPlanetQt/src/gui/ossimPlanetQtMainWindow.cpp</a> to switch between full-screen mode and back. Basically consuming the keystrokes within the widget and setting full screen from there.</p>\n\n<p>I also have an event consumer in osgViewer::Viewer - osgViewer::WindowSizeHandler which handles the viewer size switch.</p>\n\n<p>Is there a better pattern to implement this ?</p>\n"},{"tags":["c++","qt","drag-and-drop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13261902,"title":"Differences in dropEvent across versions of Qt4","body":"<p>I have 2 versions of Qt4 I am playing with both 64bit-Windows</p>\n\n<p>1: Obtained via PCL downloads - <a href=\"http://pointclouds.org/downloads/windows.html\" rel=\"nofollow\">http://pointclouds.org/downloads/windows.html</a>\n2: Compiled by hand from 4.8.3 using MSVC 2010</p>\n\n<p>In the PCL version dropEvents are being called from a simple example such as this - <a href=\"http://www.trinitydesktop.org/docs/qt4/draganddrop-dropsite.html\" rel=\"nofollow\">http://www.trinitydesktop.org/docs/qt4/draganddrop-dropsite.html</a>, but in the newer version which I built since the PCL version does not have some Qt options enabled such as QtScript, the dropEvents are not working. dragEnterEvent and dragMoveEvent both respond.</p>\n\n<p>Is there a specific Qt compilation option to enable dropEvent ? </p>\n"},{"tags":["c++","qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13258345,"title":"OpenGL VAO's - Handling VAO's in multiple contexts","body":"<p>I have run into an issue that I am afraid is going to be very hard to resolve, at least as far as google searching has show me. </p>\n\n<p>I have an Editor utility using Qt which creates multiple OpenGL contexts for different tools in the editor, their is a 'World' editor which hosts a QGLWidget of my games scene, and a material editor which has a 'preview' QGLWidget which displays the currently built material.</p>\n\n<p>I have been able to get context sharing working fine, I use gDEBugger to see the OpenGL contexts, and they are sharing Textures, VBO's, shaders etc. But one stipulation has me wondering how this will work, you can't share Vertex Array Objects between contexts. As I understand it, Vertex Array Objects are the standard now, and we should really be using them as apposed to using VBO's without VAO's. </p>\n\n<p>I have thought of a 2 ways to get around this but I don't exactly think either are ideal</p>\n\n<ol>\n<li>Generate the VAO's before each render, but this seems to defeat the purpose of the VAO's</li>\n<li>use a std::map to map a GL context to a VAO, if the current context does not have this VAO, then generate one for the said context, this seems bad and may not even work.</li>\n</ol>\n\n<p>What other solutions are there that I am overlooking? I have also considered somehow having everything in one context and using seperate viewports for each required opengl widget, which I hoped would be possible but I am having no luck figuring it out using Qt and it's QGLWidget.</p>\n\n<p><em>Edit</em></p>\n\n<p>Ok, so I have tried to get this working but it is giving me alot of grief, I tried 2 different ways and they are both causing me errors.</p>\n\n<p>1) I create a QGLContext, and then pass it to my QGLWidgets when they are being created.</p>\n\n<pre><code>QGLFormat    fmt = QGLFormat();\nQGLContext*  pContext = new QGLContext(fmt);\n\nQGLWidget*   pWidget1 = new QGLWidget(pContext);\nsomeLayout-&gt;addWidget(pWidget1);\n\nQGLWidget*   pWidget2 = new QGLWidget(pContext);\nanotherLayout-&gt;addWidget(pWidget2);\n</code></pre>\n\n<p>The error here is that as soon as I add the widget to a layout, or set it as the central widget for a Main Window, it deletes the context, really weird. If I then try to pass in the context from the first widget to the second</p>\n\n<pre><code>QGLFormat    fmt = QGLFormat();\nQGLContext*  pContext = new QGLContext(fmt);\n\nQGLWidget*   pWidget1 = new QGLWidget(pContext);\nsomeLayout-&gt;addWidget(pWidget1);\n\npContext = (QGLContext*)pWidget1-&gt;context();\nQGLWidget*   pWidget2 = new QGLWidget(pContext);\nanotherLayout-&gt;addWidget(pWidget2);\n</code></pre>\n\n<p>I Get a Qt error saying QGLWidget::setContext: Context must refer to this widget</p>\n\n<p>2) I create my first widget and use it's context for all the others</p>\n\n<pre><code>QGLWidget* pWidget1 = new QGLWidget();\n\nQGLContext* pContext = (QGLContext*)pWidget-&gt;context();\nQGLWidget* pWidget2 = new QGLWidget(pContext);\n</code></pre>\n\n<p>This gives me the same error that I got from the end of my first method, it says\nQGLWidget::setContext: Context must refer to this widget.</p>\n\n<p>Something is not right here and I feel I am missing something.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13260206,"title":"layout resizing in QStackedWidget Page","body":"<p>I'm trying to get a widget placed on a page in a QStackedWidget to resize automatically when the parent QStackedWidget resizes. This simple task seems impossible to do with Qt Creator. Adding a layout to the page does not seem to do anything, the layout just stays at whatever size it's designed as, and will not resize. This is (I think?) because the layout is being added into the page widget as a child and not directly attached to the page widget. There seems to be no way to actually add a layout to page.</p>\n\n<p>How do a get a widget to resize in a QStackedWidget with Qt Creator???</p>\n\n<p>As a side comment, I really wish Qt would abandon it's layout system, it is far far harder to use then an anchoring based system.</p>\n"},{"tags":["c++","multithreading","qt","qnetworkaccessmanager"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13259068,"title":"im doing something wrong with QNetworkAccessManager thread request (the threads never get free)","body":"<p>i know that in version 4.8 each http request gets its own thread to run ,<br>\nim doing links checker app that doing allot of http request in while loop<br>\ni notice in the windows task manager that my app is using more then 1600 threads over time \nand the number never gos down only up until its crash the app . ( i guessing it is the couse )\nmy question is does QNetworkAccessManager has option to use thread pool ?<br>\nor it has option to clean its thread after it finish its http request?  </p>\n\n<p>this is the main loop :</p>\n\n<pre><code>while(!rpm_urlStack-&gt;isEmpty())\n{\n    QString url = rpm_urlStack-&gt;top();\n    rpm_urlStack-&gt;pop();\n\n    QString urlForReq(url);\n\n    bool returnVal = true;\n    QNetworkRequest request;\n\n    request.setUrl(QUrl(urlForReq));\n    request.setRawHeader(\"User-Agent\", USER_AGENT.toUtf8());\n    request.setRawHeader(\"Accept-Charset\", \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\");\n    request.setRawHeader(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\");\n    request.setRawHeader(\"Accept-Language\", \"en-us,en;q=0.5\");\n    request.setRawHeader(\"Connection\", \"Keep-Alive\");\n\n    QEventLoop loop;\n    reply = m_networkManager-&gt;get(request);\n    connect(reply, SIGNAL(finished()), &amp;loop, SLOT(quit()));\n    loop.exit();\n\n    if(!loop.isRunning()) {\n        loop.exec();\n    }\n\n    RequestFinishedHandler(reply);\n}\n\nRequestFinishedHandler(QNetworkReply *reply)\n{\n    if (reply-&gt;error() &gt; 0) {\n        QNetworkReply::NetworkError networkError = reply-&gt;error();\n        QString err = reply-&gt;errorString();\n\n    } else {\n        QVariant vStatusCodeV = reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n        QMutexLocker lock(_pMutex); // _pMutex defined as class member\n        char *buffer;\n        buffer = getCurrentDateTime();\n        QTextStream out(m_file);\n        out &lt;&lt; buffer &lt;&lt;\"  \"&lt;&lt; _sCurrentUrl &lt;&lt; \"\\n\";\n        lock.unlock();\n\n        if(vStatusCodeV.toInt() == 200) {\n            QString ApiResponse;\n            QByteArray data;\n            data=reply-&gt;readAll();\n            ApiResponse.append(QString::fromUtf8(data));\n        }\n    }\n\n    reply-&gt;deleteLater();\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","pyqt4","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13260407,"title":"Qt: Take over system open file dialog","body":"<p>I would like to automate the upload of a file to a website using PyQt4's QWebView, but there's a part I can't figure out yet. To upload the file, the website has a button, which opens a dialog from which you are supposed to select the local file. So, these are my questions :) Is there a way to control that dialog once I click the button? Is there a better way to achieve this?</p>\n"},{"tags":["debugging","qt","creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":407,"score":1,"question_id":9404190,"title":"Qt debug won't stop on breakpoint","body":"<p>I just installed qt creator sdk and the windows debug thing. When I try to debug the debugger comes with the warning:</p>\n\n<p>Preferred debugger engine for debugging binaries of type 'x86-windows-msys-pe-23bit' is not available. \nThe debugger engine Cdb engine will be used as a fallback\nDetails: There is no gdb binary available for binaries in format 'x86-windows-msys-pe-32bit'\nThen the program start building.</p>\n\n<p>When I set breakpoints into the program the debugger won't stop at de breakpoints. I've tried a lot of things to let the debugger work properly but nothing has helped so far. If anybody has a suggestion please let me know. I think it maybe has something to do with the compiler I'm using which is something like mingw but i have no idea how to set another compiler or something like that</p>\n"},{"tags":["qt","mplayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13259678,"title":"playback issues with mplayer on windows","body":"<p>I am using mplayer for playback in my application. I am using Qt 4.8 on windows 7 64 bit. The issue that I am facing is that if I am watching some video using MPC player or VLC player independant of my application, then the playback in my application stops !? QtCreator and the application become dead slow and gdb goes crazy with memory. Its pretty strange but I am confused if that is a problem with Windows or mplayer ? Anybody facing similar issues ?</p>\n"},{"tags":["qt","treeview","model-view","qstandarditemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13258725,"title":"Qt Model / View framework, tree view","body":"<p>I’m experimenting with Qt and the Model/View framework.<br>\nI have some data that I would like to display and edit in a tree view.<br>\nI have read the documentation and <a href=\"http://qt-project.org/doc/qt-4.8/modelview.html\" rel=\"nofollow\">this</a> tutorial, but I’m still unsure about what is the best practice in my case.<br>\nThe data comes from a server and looks something like this:</p>\n\n<pre><code>int id;\nint parentId;\nQString name;\nfloat price;\n</code></pre>\n\n<p>The id’s are “running” numbers and all unique so the data might look like this.</p>\n\n<pre><code>Id =1\nparentId =0 \nname= food\n\nid = 5 \nparentId =1\nname = pizza\n</code></pre>\n\n<p>The id is of no interest to the end user and should not be displayed.</p>\n\n<p>Getting this in to a hierarchy should be pretty straight forward using a recursive function. (But any ideas here are also most welcome)</p>\n\n<ol>\n<li>Should I put the data I get from the server straight in to a QStandardItemModel?</li>\n<li>Is there any point in creating my own class and inherit QStandardItemModel/item?</li>\n<li>Would each field (id,name,price) be it’s own QStandardItem?</li>\n</ol>\n\n<p>If yes on #3, When I edit the item that contains a name, how do I get the id connected to that name so I can post the change back to the server.</p>\n\n<p>As you understand these are basics, a sketch of a recommended structure would be great.</p>\n"},{"tags":["windows","qt","opengl","qglwidget","ogre"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":874,"score":1,"question_id":5024328,"title":"Embedding Ogre into a qt application on windows platform","body":"<p>Embedding Ogre into a qt application\n<a href=\"http://www.ogre3d.org/tikiwiki/QtOgre&amp;structure=Cookbook\" rel=\"nofollow\">Link:QtOgre</a></p>\n\n<p>But it is mac and linux  platform，I try to migrate to windows platform, but failed.\nMy app run like this:\n<img src=\"http://i.stack.imgur.com/NJ0US.png\" alt=\"enter image description here\"></p>\n\n<pre><code>enter code here\n#ifndef OGREWIDGET_H\n#define OGREWIDGET_H\n#include \"XVQCUGLLIB_Global.h\"\n#include &lt;QGLWidget&gt;\n#include &lt;Ogre/Ogre.h&gt;\n\n\nclass XVQCUGLFXLIB_API OgreWidget : public QGLWidget\n{\n    //Q_OBJECT;\n\npublic:\n    OgreWidget( QWidget *parent=0 );\n    virtual ~OgreWidget();\n\nprotected:\n     virtual void initializeGL();\n    virtual void resizeGL( int, int );\n    virtual void paintGL();\n\n    void init();\n\n    virtual Ogre::RenderSystem* chooseRenderer( Ogre::RenderSystemList* );\n\n    Ogre::Root *mOgreRoot;\n    Ogre::RenderWindow *mOgreWindow;\n    Ogre::Camera *mCamera;\n    Ogre::Viewport *mViewport;\n    Ogre::SceneManager *mSceneMgr;\n};\n#endif // OGREWIDGET_H\n</code></pre>\n\n<p>///////////////////////////////////////</p>\n\n<pre><code>  #include \"XVQCUGLLIB_Internal.h\"\n\n #include \"OgreWidget.h\"\n #define THIS OgreWidget\n\n OgreWidget::OgreWidget(QWidget *parent)\n     : QGLWidget( parent ),\n     mOgreWindow(NULL)\n {\n     init();\n }\n\n OgreWidget::~OgreWidget()\n {\n     mOgreRoot-&gt;shutdown();\n     delete mOgreRoot;\n     destroy();\n }\n\n /**\n  * @brief init the object\n  * @author kito berg-taylor\n  */\n      void THIS::init()\n      {\n   // create the main ogre object\n   mOgreRoot = new Ogre::Root;\n\n   mOgreRoot-&gt;loadPlugin(\"RenderSystem_GL_d\");\n   Ogre::String rName(\"OpenGL Rendering Subsystem\");\n   Ogre::RenderSystemList rList = mOgreRoot-&gt;getAvailableRenderers();\n   Ogre::RenderSystemList::iterator it = rList.begin();\n   Ogre::RenderSystem *rSys = 0;\n   while(it != rList.end())\n   {\n       rSys = * (it++);\n       Ogre::String strx=rSys-&gt;getName();\n       if(strx == rName)\n       {\n           mOgreRoot-&gt;setRenderSystem(rSys);\n           break;\n       }\n   }\n   mOgreRoot-&gt;initialise(false); // don't create a window\n }\n\n /**\n  * @brief setup the rendering context\n  * @author Kito Berg-Taylor\n  */\n void THIS::initializeGL()\n {\n\n   //== Creating and Acquiring Ogre Window ==//\n\n   // Get the parameters of the window QT created\n\n   Ogre::String winHandle=Ogre::StringConverter::toString((size_t)(HWND)winId());\n\n   Ogre::NameValuePairList params;\n   params[\"parentWindowHandle\"] = winHandle;\n\n   mOgreWindow = mOgreRoot-&gt;createRenderWindow( \"QOgreWidget_RenderWindow\",\n                            this-&gt;width(),\n                            this-&gt;height(),\n                            false,\n                            &amp;params );\n\n   //mOgreWindow-&gt;setActive(true);\n   //WId ogreWinId = 0x0;\n   //mOgreWindow-&gt;getCustomAttribute( \"WINDOW\", &amp;ogreWinId );\n\n   //assert( ogreWinId );\n\n   //this-&gt;create( ogreWinId );\n   setAttribute( Qt::WA_PaintOnScreen, true );\n   setAttribute( Qt::WA_NoBackground );\n\n   //== Ogre Initialization ==//\n   Ogre::SceneType scene_manager_type = Ogre::ST_EXTERIOR_CLOSE;\n\n   mSceneMgr = mOgreRoot-&gt;createSceneManager( scene_manager_type );\n   mSceneMgr-&gt;setAmbientLight( Ogre::ColourValue(1,1,1) );\n\n   mCamera = mSceneMgr-&gt;createCamera( \"QOgreWidget_Cam\" );\n   mCamera-&gt;setPosition( Ogre::Vector3(0,1,0) );\n   mCamera-&gt;lookAt( Ogre::Vector3(0,0,0) );\n   mCamera-&gt;setNearClipDistance( 1.0 );\n\n   Ogre::Viewport *mViewport = mOgreWindow-&gt;addViewport( mCamera );\n   mViewport-&gt;setBackgroundColour( Ogre::ColourValue( 1.0,1.0,1.0 ) );\n }\n\n /**\n  * @brief render a frame\n  * @author Kito Berg-Taylor\n  */\n void THIS::paintGL()\n {\n     //QGLWidget::paintGL();\n   assert( mOgreWindow );\n\n\n   mOgreRoot-&gt;_fireFrameStarted();\n\n  mOgreWindow-&gt;update();\n\n  // mOgreRoot-&gt;renderOneFrame();\n\n   mOgreRoot-&gt;_fireFrameEnded();\n }\n\n /**\n  * @brief resize the GL window\n  * @author Kito Berg-Taylor\n  */\n void THIS::resizeGL( int width, int height )\n {\n//QGLWidget::resizeGL(width,height);\n   assert( mOgreWindow );\n   mOgreWindow-&gt;windowMovedOrResized();\n   mCamera-&gt;setAspectRatio(Ogre::Real(width) / Ogre::Real(height));\n }\n\n /**\n  * @brief choose the right renderer\n  * @author Kito Berg-Taylor\n  */\n Ogre::RenderSystem* THIS::chooseRenderer( Ogre::RenderSystemList *renderers )\n {\n   // It would probably be wise to do something more friendly \n   // that just use the first available renderer\n   return *renderers-&gt;begin();\n }\n</code></pre>\n"},{"tags":["qt","cross-compiling","qdbusxml2cpp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13248091,"title":"Getting qdbusxml2cpp","body":"<p>Here is my trouble: On my Debian 6 machine (32bit) I have a cross-compiled Qt for mipsel. This is used in the compilation and linking of my application which uses QDbus. the only thing is, that the executable qdbusxml2cpp was NOT being built while I configured the Qt because I did not find any options to build it.</p>\n\n<p>Now, I want to have that executable too to run on MY machine, but when I want to compile it with my configured Qt it tries compile with the mips compiler and to link to the mips libraries... this is right. That's how it was configured.</p>\n\n<p>I am also aware that there is a libqt4-dev package supplying the qdbsuxml2cpp, but that comes bundled with qt 4.6.3 and I need the 4.7.1 and I don't want to mess up the system more than it is right now.</p>\n\n<p>Do you have any ideas how to get the qdbusxml2cpp without recompiling the entire qt for the native format?</p>\n"},{"tags":["visual-studio-2010","qt","qt-vs-addin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13258013,"title":"Qt VS Add-in cannot run project in Release Mode","body":"<p>I'm relatively new to using Qt but wanted a quick way to design a simple GUI and I found out about the Qt-Addin for Visual Studio.</p>\n\n<p>Everything is working fine in my GUI if I run in <strong>Debug</strong> mode. However, as soon as I try to compile in <strong>Release</strong> mode, I cannot seem to do so. The error I get is:</p>\n\n<pre><code>error C1083: Cannot open include file: 'ui_gui.h': No such file or directory\n</code></pre>\n\n<p>But in my file structure, I can clearly see ui_gui.h is present under Generated Files -> Release -> qrc_gui.cpp and ui_gui.h</p>\n\n<p>The error is generated when my gui.h file calls the following statement:</p>\n\n<pre><code>#include \"ui_gui.h\"\n</code></pre>\n\n<p>If I try to uncomment that include statement. I get a whole set of errors such as:</p>\n\n<pre><code>error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\nerror C2653: 'Ui' : is not a class or namespace name\nerror C2653: 'QDateTime'\n...\n</code></pre>\n\n<p>My <strong>gui.h</strong> file quite simply includes this:</p>\n\n<pre><code>#ifndef GUI_H\n#define GUI_H\n\n#include &lt;QtGui/QMainWindow&gt;\n#include \"ui_gui.h\"\n\nclass GUI : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    GUI(QWidget *parent = 0, Qt::WFlags flags = 0);\n    ~GUI();\n\nprivate:\n    Ui::GUIClass ui;\n\n\n};\n\n#endif // GUI_H\n</code></pre>\n\n<p>Can someone please give me some suggestions to resolving this issue?</p>\n"},{"tags":["qt","qmake"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4170,"score":2,"question_id":5303634,"title":"QMAKE: QMAKESPEC has not been set","body":"<p>I have recently recompiled Qt so that I can use static instead of shared libraries. But now, when I try to compile my project, I get the following error:</p>\n\n<blockquote>\n  <p>QMAKESPEC has not been set, so configuration cannot be deduced.</p>\n</blockquote>\n\n<p>It seems like a common problem and I did do some research before posting. What's puzzling me is that I did set the QMAKESPEC env var. Here is the output of <strong><em>printenv QMAKESPEC</em></strong></p>\n\n<blockquote>\n  <p>/usr/local/Trolltech/Qt-4.4.0/mkspecs/linux-g++</p>\n</blockquote>\n\n<p>Also, here is the output of <strong><em>qmake -query QMAKESPEC</em></strong></p>\n\n<blockquote>\n  <p>linux-g++</p>\n</blockquote>\n\n<p>I have also tried playing around with the values, but it seems that qmake can't see that variable at all... QTDIR is also specified properly.</p>\n\n<p>I have also tried to recompile Qt and reinstall it.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["qt","gui","qlineedit"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":24,"score":3,"question_id":13255061,"title":"QLineEdit could not set shortcuts when it's in focus","body":"<p>I'm implementing a text-based to-do program. So there is the CommandInput widget inherent from QLineEdit. Basically there are a few commands, starting with keywords \"add\", \"delete\", \"edit\", and a few more.</p>\n\n<p>I want to implement a few short cut.\n1. \"Ctrl+A\" s.t. when the widget is in focus, I can setText(\"add \\\"\\\"\"), cursor at the second last position, so it appears to be\nadd \"|\"\n2. \"Tab\" s.t. when the widget is in focus, when user type in the first keyword, for example, \"add\", then the use press \"Tab\", the text will be set to \"add \\\"\\\"\"</p>\n\n<p>The key problem is that when the widget is in focus, the shortcuts are not working. I've tried the following ways:</p>\n\n<ol>\n<li><p>Override keyPressEvent. The \"Tab\" key does not work as intended. And even if it works, I don't know how to do that for keySequence like \"Ctrl+A\".</p>\n\n<p>void CommandInput::keyPressEvent(QKeyEvent *keyEvent)</p>\n\n<p>{\n    switch(keyEvent->key())</p>\n\n<pre><code>{\ncase Qt::Key_Tab;\n    emit add_activated();\ndefault:\n    QLineEdit::keyPressEvent(keyEvent);\n}\n</code></pre>\n\n<p>}</p></li>\n<li><p>Create shortcuts when initializing. This doesn't work either.</p>\n\n<p>CommandInput::CommandInput(QWidget *parent)\n    : QLineEdit(parent)\n{\n    tab_shortcut = new QShortcut(QKeySequence(\"Tab\"),this);\n    add_shortcut = new QShortcut(QKeySequence(\"Ctrl+A\"),this);</p>\n\n<pre><code>connect(tab_shortcut, SIGNAL(activated()),\n        this, SIGNAL(tab_activated()));\nconnect(add_shortcut, SIGNAL(activated()),\n        this, SIGNAL(add_activated()));\n</code></pre>\n\n<p>}</p></li>\n</ol>\n\n<p>Hope you could help me on this issue. Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":13241034,"title":"Prevent QGraphicsItem::itemAt() On a \"Background Item\"","body":"<p>I am trying to set up a GUI using plugins.  In my current phase I need the user to click and specify locations of points.</p>\n\n<p>The plugin architecture I have setup requires the plugin to return QGraphicsItem that the plugin wishes to use.  In the main program (which future plugin writers won't have access to), I set a background image to guide clicks.  The plugins can sneakily access the scene() using an itemChange() and installing an eventFilter() on the scene being set.  This allows for the plugins to have access to scene clicks and process whatever information it needs.  However, the background picture is being returned by itemAt() calls.</p>\n\n<p>I wish to prevent this background Pixmap from returning with an itemAt() for all future plugins.  Is this possible?</p>\n\n<hr>\n\n<p>Tried:</p>\n\n<pre><code> setEnabled(false); //No success\n</code></pre>\n"},{"tags":["c++","qt","qtwebkit","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13255281,"title":"How to use QWebView as Stand alone JavaScript engine?","body":"<p>In my current project, we were using c++, QT, QTWebview. Complete business logic resides in JavaScript which was loaded into the .exe/.app using QWebView. Native OS logic resides in C++. The to and fro communication from C++ to Javascript is heavy achieved using QT Signal &amp; Slots . Inside Javascript, we were also using HTML5 web workers, just to make sure the C++ QT UI thread is responsive to the end user.</p>\n\n<p>In fact, the Javascript doesn't need any DOM interactions. We were using Javascript as a plain programming language. As the complete QT webkit involves both Layout engine &amp; Javascript engine. I feel that memory consumption is some what heavy. </p>\n\n<p>Will it be possible to use QWebView as plain Javascript engine?</p>\n\n<p>Also It will be great if you can suggest me any best memory management techniques dealing with QWebView. We are seeing the memory consumption is growing heavily</p>\n"},{"tags":["c++","qt","setfocus","qprocess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13254670,"title":"qt focus issue with launching osk.exe","body":"<p>In windows, I want to launch the built-in on screen keyboard utility when the user clicks inside a textbox. I chose to use the <code>mouseClick</code> event rather than the <code>focusInEdit</code> because the textbox is first on screen and it's a little annoying to automatically popup the keyboard while switching screens. Anyways, this is the code I have </p>\n\n<pre><code>QProcess* oskProcess = new QProcess();\nconnect(oskProcess, SIGNAL(finished(int)), oskProcess, SLOT(deleteLater()));\nbool ret = connect(oskProcess, SIGNAL(started()), this, SLOT(setFocus()));\noskProcess-&gt;startDetached(\"OSK.exe\");   // Start the OSK.exe, On-Screen KeyBoard\n</code></pre>\n\n<p><strong>The first time it works fine. but if <code>osk.exe</code> is already open or minimized, running it again \"restores\" it (That that the built-in behavior of osk.exe which is what I want) but the textbox that the used clicked into loses focus so the keyboard does not work.</strong> </p>\n\n<p>I tried to use the <code>started()</code> signal to bring the focus with the slot <code>setFocus()</code> but that didn't help either. Any input on this issue would be much appreciated.</p>\n"},{"tags":["qt","windows-phone-7","qml","email-client","blackberry-cascades"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13254801,"title":"What are equivalents for Windows 7 Phone PhoneCallTask, EmailCompmoseTask, and BingMapsTask in Blackberry Cascades","body":"<p>I am trying to find equivalents for Windows 7 Phone PhoneCallTask, EmailComposeTask, and BingMapsTasks in Blackberry Cascades Beta 3 SDK - I found one for the PhoneCallTask which is (bb::system::phone::Phone phone) - which has a function called requestDialpad, which is supposed to bring up a dialpad, but it does not do that (I am using Blackbery 10 Dev Alpha Simulator) - so I was wondering how to fix that or if there is a better class for phone calls.  Also for EmailComposeTask - I haven't managed to find anything for that.  For BingMapsTasks - I am using a WebView for displaying a Bing map at the location I want - but it doesn't show the map (it's just black) - maybe that's an issue with the simulator - but I was wondering if there was something better for that too.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13254672,"title":"QSystemtrayicon: no image on Mac","body":"<p>Hello,</p>\n\n<p>I've got a problem with the QSystemTrayIcon class on Mac and Linux.</p>\n\n<p>I made a program creating a System tray icon, and I have no problem on windows, but under linux (ubuntu 12) and Mac (OSX 10.8), the tray icon is here, but the image on it doesn't shows up.</p>\n\n<p>This is what i'm doing in the ctor of my class:</p>\n\n<pre><code>icon = new QIcon(\"trayIcon.png\");\nm_pTrayIcon = new QSystemTrayIcon();\nm_pTrayIcon-&gt;setIcon(*icon);\nm_pTrayContextMenu = new QMenu();\nm_pTrayContextMenu-&gt;addAction(openSettings);\nm_pTrayContextMenu-&gt;addAction(switchSyncMode);\nm_pTrayContextMenu-&gt;addAction(openFolder);\nm_pTrayContextMenu-&gt;addSeparator();\nm_pTrayContextMenu-&gt;addAction(quit);\nm_pTrayIcon-&gt;setContextMenu(m_pTrayContextMenu);\nm_pTrayIcon-&gt;show();\n</code></pre>\n\n<p>I'm using the Qt 4.8 library.</p>\n\n<p>Anyone have an idea?\nTanks in advance =)</p>\n"},{"tags":["qt","cmake","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13253970,"title":"Maintaining CMake on Qt Creator","body":"<p>I wonder, how do people maintain CMake projects on Qt creator? When you open the project you run CMake generator and after that you can't change much. In order to add another class to the project you have to create class files by hand, add them to CMakeLists.txt and rerun CMake again. Moreover, changing the class name is a nightmare.</p>\n\n<p>I do actually like CMake (except its syntax), since it has some nice features. However, maintaining a project is a nightmare. Am I missing or doing something wrong?</p>\n"},{"tags":["qt","installation","qmake"],"answer_count":4,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":14740,"score":12,"question_id":1245011,"title":"How to build qt out of source","body":"<p>I was searching a lot through Qt forums and Google for the last few days, but I could not find any obvious answer to this question.</p>\n\n<p>I found the <code>-prefix</code> option (not even documented on Windows) that can be supplied to configure to specify different install directory, but this is not clear separation of the sources and binaries at all, since the build is still done in the source directory and then the files needed for installation are copied to the install directoy. I tried this <code>-prefix</code> option, and came to some problems. (i.e It doesn't  copy the <code>.pdb</code> files to the install directory.)</p>\n\n<p>Then I found <a href=\"http://doc.trolltech.com/main-snapshot/shadow-builds-wince.html\" rel=\"nofollow\">this link</a> about doing shadow builds but it has the big limitation that the build dir must be at the same level as the source dir.</p>\n\n<hr>\n\n<blockquote>\n  <p>I'm guessing you didn't try make\n  install? So try that. It should\n  install Qt to a separate directory\n  away from the sources.</p>\n</blockquote>\n\n<p>Are you saying that after I do configure, I should do nmake install instead just nmake? I know that nmake will process the generated makefiles from qmake and will place them in the source Qt dir, but what nmake install will exactly do i.e in which directory will install the files and how to specify the directory where the files will be installed.</p>\n\n<p>Note that I already do this:</p>\n\n<pre><code>configure -prefix builddir -platform win32-msvc2005\nnmake install\n</code></pre>\n\n<p>The effect of the above two lines was that qt was compiled in the source dir and not directly to my builddir specified with prefix. Then the compiled files were copied in my builddir. I was hoping for something that will build my Qt files directly to the build dir, cause this way I  stil need 4 Gb space for my source dir during the compilation. Also the pdb files were not copied to my buildir which is another issue.</p>\n"},{"tags":["qt","filesystems"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2769,"score":4,"question_id":1732717,"title":"How to determine how much free space on a drive in Qt?","body":"<p>I'm using Qt and want a platform-independent way of getting the available free disk space.</p>\n\n<p>I know in Linux I use <em>statfs</em> and in Windows I use <em>GetDiskFreeSpaceEx()</em>.  I know boost has a way (<em>boost::filesystem::space(Path const &amp; p);</em>).  </p>\n\n<p>I don't want those.  I'm in Qt and would like to do it in a Qt-friendly way.</p>\n\n<p>I looked at QDir, QFile, QFileInfo -- nothing!</p>\n"},{"tags":["qt","qtreewidgetitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249062,"title":"return a derivated QTreeWidgetItem","body":"<p>I think that this is not a question regarding especially Qt but a quaestion of a lack of programming expeience.</p>\n\n<p>I derived a class from QTreeWidgetItem and I added some bolean flags. When i initialize a QTreeWidget I add two of them by</p>\n\n<pre><code>_NewItem1=MyQTreeWidgetItem(_treewidget);\n</code></pre>\n\n<p>than later I add some items by</p>\n\n<pre><code>_NewItem1_1=MyQTreeWidgetItem(_NewItem1);\n_NewItem1_1-&gt;boleanvalue1=true;\n</code></pre>\n\n<p>If I later want to return these Items I call </p>\n\n<pre><code>(MyQTreeWidgetItem)_NewItem1-&gt;child(i)\n</code></pre>\n\n<p>but this of course just returns me a MyQTreeWidgetItem with newly initialized bolean flags.</p>\n\n<p>Do I have to override the child function to retun the true Items which I initialized earlier?</p>\n"},{"tags":["windows","qt","linker","mingw","linker-error"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13227354,"title":"warning: cannot find entry symbol nable-stdcall-fixup; defaulting","body":"<p>This <code>mingw</code> contains <code>gcc 4.6.3</code>, with name - i686-w64-mingw32.  </p>\n\n<p>On <strong>Windows,</strong> a Qt's<code>.pro</code> file w.r.t a hello world program:</p>\n\n<pre><code>QT          += core gui\nTEMPLATE    = app\nTARGET      = ef\n\nSOURCES     = ef.cpp\nDEPENDPATH  += .\n\nINCLUDEPATH += . \nINCLUDEPATH += c:/R-2.15.1/include\nINCLUDEPATH += c:/R-2.15.1/library/Rcpp/include\nINCLUDEPATH += c:/R-2.15.1/library/RInside/include\n\nLIBS        += -L c:/R-2.15.1/bin/i386 -lR\nLIBS        += -L c:/R-2.15.1/library/Rcpp/libs/i386 -lRcpp\nLIBS        += -L c:/R-2.15.1/library/RInside/libs/i386 -lRInside \n</code></pre>\n\n<p>The program compiles as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/3BfZz.png\" alt=\"enter image description here\"></p>\n\n<p>Notice there is a warning at the end.</p>\n\n<p>System PATH is as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/84N9w.png\" alt=\"enter image description here\"></p>\n\n<p>Qt's Path:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jiCmu.png\" alt=\"enter image description here\"></p>\n\n<p>Please point out the point that I am missing.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<hr>\n\n<p>Now I have updated the <code>qmake.conf</code> as follows:</p>\n\n<pre><code>#\n# qmake configuration for win32-g++\n#\n# Written for MinGW\n#\n\nMAKEFILE_GENERATOR  = MINGW\nTEMPLATE        = app\nCONFIG          += qt warn_on release link_prl copy_dir_files debug_and_release debug_and_release_target precompile_header\nQT          += core gui\nDEFINES         += UNICODE QT_LARGEFILE_SUPPORT\nQMAKE_COMPILER_DEFINES  += __GNUC__ WIN32\n\nQMAKE_EXT_OBJ           = .o\nQMAKE_EXT_RES           = _res.o\n\nQMAKE_CC        = gcc\nQMAKE_LEX       = flex\nQMAKE_LEXFLAGS      =\nQMAKE_YACC      = byacc\nQMAKE_YACCFLAGS     = -d\nQMAKE_CFLAGS        =\nQMAKE_CFLAGS_DEPS   = -M\nQMAKE_CFLAGS_WARN_ON    = -Wall\nQMAKE_CFLAGS_WARN_OFF   = -w\nQMAKE_CFLAGS_RELEASE    = -O2\nQMAKE_CFLAGS_DEBUG  = -g\nQMAKE_CFLAGS_YACC   = -Wno-unused -Wno-parentheses\n\nQMAKE_CXX       = g++\nQMAKE_CXXFLAGS      = $$QMAKE_CFLAGS\nQMAKE_CXXFLAGS_DEPS = $$QMAKE_CFLAGS_DEPS\nQMAKE_CXXFLAGS_WARN_ON  = $$QMAKE_CFLAGS_WARN_ON\nQMAKE_CXXFLAGS_WARN_OFF = $$QMAKE_CFLAGS_WARN_OFF\nQMAKE_CXXFLAGS_RELEASE  = $$QMAKE_CFLAGS_RELEASE\nQMAKE_CXXFLAGS_DEBUG    = $$QMAKE_CFLAGS_DEBUG\nQMAKE_CXXFLAGS_YACC = $$QMAKE_CFLAGS_YACC\nQMAKE_CXXFLAGS_THREAD   = $$QMAKE_CFLAGS_THREAD\nQMAKE_CXXFLAGS_RTTI_ON  = -frtti\nQMAKE_CXXFLAGS_RTTI_OFF = -fno-rtti\nQMAKE_CXXFLAGS_EXCEPTIONS_ON = -fexceptions -mthreads\nQMAKE_CXXFLAGS_EXCEPTIONS_OFF = -fno-exceptions\n\nQMAKE_INCDIR        =\nQMAKE_INCDIR_QT     = $$[QT_INSTALL_HEADERS]\nQMAKE_LIBDIR_QT     = $$[QT_INSTALL_LIBS]\n\nQMAKE_RUN_CC        = $(CC) -c $(CFLAGS) $(INCPATH) -o $obj $src\nQMAKE_RUN_CC_IMP    = $(CC) -c $(CFLAGS) $(INCPATH) -o $@ $&lt;\nQMAKE_RUN_CXX       = $(CXX) -c $(CXXFLAGS) $(INCPATH) -o $obj $src\nQMAKE_RUN_CXX_IMP   = $(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $&lt;\n\nQMAKE_LINK      = g++\nQMAKE_LINK_C        = gcc\nQMAKE_LFLAGS        = -Wl, -enable-stdcall-fixup -Wl,-enable-auto-import -Wl,-enable-runtime-pseudo-reloc\nQMAKE_LFLAGS_EXCEPTIONS_ON = -mthreads\nQMAKE_LFLAGS_EXCEPTIONS_OFF =\nQMAKE_LFLAGS_RELEASE    = -Wl,-s\nQMAKE_LFLAGS_DEBUG  =\nQMAKE_LFLAGS_CONSOLE    = -Wl,-subsystem,console\nQMAKE_LFLAGS_WINDOWS    = -Wl,-subsystem,windows\nQMAKE_LFLAGS_DLL        = -shared\nQMAKE_LINK_OBJECT_MAX   = 10\nQMAKE_LINK_OBJECT_SCRIPT= object_script\n\n\nQMAKE_LIBS      =\nQMAKE_LIBS_CORE         = -lkernel32 -luser32 -lshell32 -luuid -lole32 -ladvapi32 -lws2_32\nQMAKE_LIBS_GUI          = -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lws2_32 -lole32 -luuid -luser32 -ladvapi32\nQMAKE_LIBS_NETWORK      = -lws2_32\nQMAKE_LIBS_OPENGL       = -lopengl32 -lglu32 -lgdi32 -luser32\nQMAKE_LIBS_COMPAT       = -ladvapi32 -lshell32 -lcomdlg32 -luser32 -lgdi32 -lws2_32\nQMAKE_LIBS_QT_ENTRY     = -lmingw32 -lqtmain\n\n!isEmpty(QMAKE_SH) {\n    MINGW_IN_SHELL      = 1\n    QMAKE_DIR_SEP       = /\n    QMAKE_COPY      = cp\n    QMAKE_COPY_DIR      = xcopy /s /q /y /i\n    QMAKE_MOVE      = mv\n    QMAKE_DEL_FILE      = rm\n    QMAKE_MKDIR     = mkdir\n    QMAKE_DEL_DIR       = rmdir\n    QMAKE_CHK_DIR_EXISTS = test -d\n} else {\n    QMAKE_COPY      = copy /y\n    QMAKE_COPY_DIR      = xcopy /s /q /y /i\n    QMAKE_MOVE      = move\n    QMAKE_DEL_FILE      = del\n    QMAKE_MKDIR     = mkdir\n    QMAKE_DEL_DIR       = rmdir\n    QMAKE_CHK_DIR_EXISTS    = if not exist\n}\n\nQMAKE_MOC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}moc.exe\nQMAKE_UIC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}uic.exe\nQMAKE_IDC       = $$[QT_INSTALL_BINS]$${DIR_SEPARATOR}idc.exe\n\nQMAKE_IDL       = midl\nQMAKE_LIB       = ar -ru\nQMAKE_RC        = windres\nQMAKE_ZIP       = zip -r -9\n\nQMAKE_STRIP     = strip\nQMAKE_STRIPFLAGS_LIB    += --strip-unneeded\nload(qt_config)\n</code></pre>\n\n<p>The errors have now changed to:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GKyqS.png\" alt=\"enter image description here\"></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I just removed the space between <code>Wl, and -enable-std</code>.. and the above error is gone:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8tKFq.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","plot","qwt"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1555,"score":3,"question_id":6611678,"title":"Need fast c++ qt/qwt scatter plot","body":"<p>I have huge - about 3 millions of pairs - array of 2D points, which I need to render with reasonable speed in Qt-based application.</p>\n\n<p>I've tried using QGraphicsScene, but its very slow even on 400000 primitives, so I was looking into qwt library instead.</p>\n\n<p>It has <a href=\"http://qwt.sourceforge.net/scatterscreenshots.html\" rel=\"nofollow\">scatter plot example screenshot</a> on its sf page, which looks like exactly what I need, but I cannot find neither any kind of actual code that can be used for this data, nor according API in qwt docs - it mentions only different types of curves.</p>\n\n<p>So it would be good to get some pointers for scatter plot examples and some advice on its performance.\nSuggestions for other c++ qt-compatible plotting libraries which can cope with this amount of data are also welcome.</p>\n"},{"tags":["c++","qt","qml","qlabel"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":13217380,"title":"How to flip an image in Qt?","body":"<p>I found <a href=\"http://www.youtube.com/watch?v=eZyV4f9r5m8\" rel=\"nofollow\">that video</a> on Youtube. It shows how to flip something called QML Flipable. I'm completely unfamiliar with QML so I have the following questions:</p>\n\n<p>1) Is it possible to flip an ordinary QLabel like this? If yes how do I do that?</p>\n\n<p>2) If it's not possible then how do I add that Flipable entity to my QMainWindow?</p>\n\n<p>Thanks, everyone</p>\n"},{"tags":["qt","embedded","keyboard-layout","keymapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13239590,"title":"qt setting QWSServer keymap from code","body":"<p>I need to a keymap for my embedded QWSServer application.</p>\n\n<p>Using environmental variables like this</p>\n\n<pre><code>QWS_KEYBOARD=\"TTY:keymap=/german_keyboard.qmap\"\nexport QWS_KEYBOARD\n</code></pre>\n\n<p>works, but isn't optimal for me.</p>\n\n<p>I tried to set it from code using </p>\n\n<pre><code>QWSServer* wsServer = QWSServer::instance();\nQWSKeyboardHandler * kh = QKbdDriverFactory::create(\"TTY\", \"keymap=/german_keymap.qmap\");\nwsServer-&gt;setKeyboardHandler(kh);\n</code></pre>\n\n<p>as mentioned <a href=\"http://stackoverflow.com/a/2682657/1306186\">here</a>.</p>\n\n<p>However, it is not working. Any ideas how to fix it?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13250928,"title":"Function from C# to C++ via Qt lib","body":"<p>Could you tell me how these function from C# can be re-written to C++ via Qt lib?\n<code></p>\n\n<pre><code>private MemoryStream _memoryStream= new MemoryStream();\n</code></pre>\n\n<p>//WriteUTFBytes</p>\n\n<pre><code>public void WriteUTFBytes(string value)\n{\n    //Length - max 65536.\n    UTF8Encoding utf8Encoding = new UTF8Encoding();\n    byte[] buffer = utf8Encoding.GetBytes(value);\n    if (buffer.Length &gt; 0)\n    WriteBytes(buffer);\n}\n</code></pre>\n\n<p>//WriteBytes</p>\n\n<pre><code>public void WriteBytes(byte[] buffer)\n{\n\n        for (int i = 0; buffer != null &amp;&amp; i &lt; buffer.Length; i++)\n            _memoryStream.WriteByte(buffer[i]);\n}\n</code></pre>\n\n<p>//WriteByte</p>\n\n<pre><code>public void WriteByte(int value)\n    {\n        _memoryStream.WriteByte((byte)value);\n    }\n</code></pre>\n\n<p>//WriteShort</p>\n\n<pre><code>public void WriteShort(int value)\n    {\n        byte[] bytes = BitConverter.GetBytes((ushort)value);\n        WriteBigEndian(bytes);\n    }\n</code></pre>\n\n<p>//WriteBigEndian</p>\n\n<pre><code>private void WriteBigEndian(byte[] bytes)\n    {\n        if (bytes == null)\n            return;\n        for (int i = bytes.Length - 1; i &gt;= 0; i--)\n        {\n            _memoryStream.WriteByte(bytes[i]);\n        }\n    }\n</code></pre>\n\n<p></code></p>\n"},{"tags":["c++","qt","script"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":13248034,"title":"Is it possible to develop a desktop app with Qt Script?","body":"<p>I heard of qt script but don't know much about it. Is it possible to develop an app totally with script only(or most)?</p>\n"},{"tags":["qt","cryptography"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12886341,"title":"How to check why QCA DHPrivateKey did not create symetric key","body":"<p>I have program who exchange session key via Diffie-Helman algorithm, or almost exchange. All action is 2 classes: one receives data and calculates private key, set it to second class, where symetric key is calculated after receiving public part of DH.\nProgram is using Qt and QCA.\nPrivate key is stored as widget class member:</p>\n\n<pre><code>QCA::DHPrivateKey m_localKey;\n</code></pre>\n\n<p>after receiving public part of other side key (as QByteArray) it calculates symetric key:</p>\n\n<pre><code>QCA::Initializer init;\nQCA::DLGroup group(prime, p);\nQCA::SecureArray remoteKey(m_remoteKey);\nQCA::DHPublicKey pk(group, remoteKey);\nm_sessionKey = m_localKey.deriveKey(pk);\n</code></pre>\n\n<p>but session key is always empty (m_sessionKey.isEmpty() and m_sessionKey.isNull() are true).\nValues are set and they are exchange correct (remote part public key is received as it is), \nm_localKey.isNull() and pk.isNull() returns correct values (false).</p>\n\n<p>strange part is that when I run test, it works. Test use same order operations just private keys are created in one class, but logic to get symetric key is same, and class used for that is same.</p>\n\n<p>My question would be why it could behave different in test and separate programs. And is it possible to get any error/debug information from QCA::DHPrivateKey about what went wrong in deriveKey()?</p>\n"},{"tags":["qt","qt4","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13249729,"title":"behaviour of Qwebview window in secondary monitor","body":"<p><strong>Set up Environment: Windows 7 Os, with 2 monitors connected .</strong></p>\n\n<p>I have created a sample QWebview application which plays you tube videos using Qwebview . while video is playing if i select <strong>fullscreen</strong> option from flash menu. adobe flash will create new independent window. I’m trying to make this <strong>new window as a child of some other existing window application.</strong> . whenever i do this, full screen window will be placed within parent window. <strong>This is working as expected when the Qwebview application window is in primary monitor.</strong></p>\n\n<p>if i am trying to do the same with placing my <strong>Qwebview application window in secondary monitor,</strong> when i set the new fullscreen window as child of some other window , then the fullscreen window is disappearing.</p>\n\n<p>Why this weird behaviour ? Why its not working if i created new flash fullscreen window using Qwebview when placing application @ secondary monitor ? while the same thing is working fine when the application was in primary monitor ?</p>\n"},{"tags":["c++","qt","gui","documentation","view-helpers"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249305,"title":"Qt Assistant doesn't show my changes. What am i missing?","body":"<p>I am developing a Qt application and using the Qt Help Framework. I followed the example <a href=\"http://doc.qt.digia.com/qt/help-simpletextviewer.html\" rel=\"nofollow\">here</a> and worked it successfully. Now, I am changing the html files, only the inside the html files not their name to adapt the documentation to my program. (Next, I will change the html file names also) </p>\n\n<p>After changing the html files, I am executing the following commands</p>\n\n<pre><code>qhelpgenerator simpletextviewer.qhp -o simpletextviewer.qch\nassistant -register simpletextviewer.qch\nqcollectiongenerator simpletextviewer.qhcp -o simpletextviewer.qhc\nassistant -collectionFile simpletextviewer.qhc\n</code></pre>\n\n<p>But my changes isn't shown on both Qt Assistant and my program. What am i missing? I changed </p>\n\n<pre><code>&lt;startPage&gt;qthelp://com.trolltech.examples.simpletextviewer/doc/index.html&lt;/startPage&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;startPage&gt;qthelp://index.html&lt;/startPage&gt;\n</code></pre>\n\n<p>in the qhcp file only. but nothing changed. What am i missing? Thanks, in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13243356,"title":"Setting QSharedPointer","body":"<p>I'm coming from a C# background and still getting my head around c++ and Qt smart pointers.  This should be a basic question:</p>\n\n<p>In myClass.h</p>\n\n<pre><code>QSharedPointer&lt;AccessFlags&gt; m_flags;\n</code></pre>\n\n<p>In myClass.cpp I'm trying to set (is set the correct word?) the m_flags pointer</p>\n\n<pre><code>if(m_flags.isNull())\n    m_flags = new AccessFlags();\n\n\nclass AccessFlags{\npublic:\n     QHash&lt;QString,int&gt; flags;\n     AccessFlags();  //The dictionary is setup in the constructor\n};\n</code></pre>\n\n<p>The compiler complains \"no match for 'operator=' in..\nHow do I set the pointer?</p>\n"},{"tags":["python",".net","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13246470,"title":"Is it possible to prevent .NET runtime from unloading DLLs on exit?","body":"<p>We're writing a mixed mode application in Python, Qt4 (4.6.1 at the moment) and .NET (for integration reasons).</p>\n\n<p>Now, when the app exists normally, the .NET runtime is unloaded, which sens PROCESS_DETACH to all DLLs. This seem to cause a crash when QHostInfoLookupManager' destriuctor estrys the threadpool.</p>\n\n<p>Is there some way to prevent this, besides:</p>\n\n<ul>\n<li>TerminateProcess?</li>\n<li>Move .NET code to separate process to avoid Qt issues.</li>\n</ul>\n\n<p>The call stack is as follows, when I get a crash:</p>\n\n<pre><code>python26.dll!1e02edbf()     \n[Frames below may be incorrect and/or missing, no symbols loaded for python26.dll]  \npython26.dll!1e078aba()     \nQtCore.pyd!01971058()   \nQtCore4.dll!qt_message_output(QtMsgType msgType=QtWarningMsg, const char * buf=0x077526a8)  Line 2223 + 0x1c bytes  C++\nQtCore4.dll!qt_message(QtMsgType msgType=QtWarningMsg, const char * msg=0x671b8464, char * ap=0x0012f1d4)  Line 2297    C++\nQtCore4.dll!qWarning(const char * msg=0x671b8464, ...)  Line 2378 + 0x11 bytes  C++\nQtCore4.dll!QWaitCondition::~QWaitCondition()  Line 156 C++\nQtCore4.dll!QThreadPoolPrivate::~QThreadPoolPrivate()  + 0xa2 bytes C++\nQtCore4.dll!QThreadPoolPrivate::`scalar deleting destructor'()  + 0x8 bytes C++\nQtCore4.dll!QObject::~QObject()  Line 992 + 0x16 bytes  C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 430 + 0xf bytes   C++\nQtNetwork4.dll!QHostInfoLookupManager::~QHostInfoLookupManager()  Line 454 + 0x23 bytes C++\nQtNetwork4.dll!QHostInfoLookupManager::`scalar deleting destructor'()  + 0x8 bytes  C++\nQtNetwork4.dll!`theHostInfoLookupManager'::`8'::`dynamic atexit destructor for 'cleanup''()  + 0x14 bytes   C++\nQtNetwork4.dll!_CRT_INIT(void * hDllHandle=0x00385f30, unsigned long dwReason=3694344, void * lpreserved=0x00385f08)  Line 449  C\nQtNetwork4.dll!__DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000000)  Line 560 + 0x8 bytes  C\nQtNetwork4.dll!_DllMainCRTStartup(void * hDllHandle=0x64000000, unsigned long dwReason=0, void * lpreserved=0x00000001)  Line 510 + 0xe bytes   C\nntdll.dll!_LdrpCallInitRoutine@16()  + 0x14 bytes   \nntdll.dll!_LdrShutdownProcess@0()  - 0xfe bytes \nkernel32.dll!__ExitProcess@4()  + 0x42 bytes    \nkernel32.dll!7c81cb26()     \nmscorwks.dll!SafeExitProcess()  + 0xb7 bytes    \nmscorwks.dll!DisableRuntime()  - 0x199708 bytes \nmscoreei.dll!RuntimeDesc::ShutdownAllActiveRuntimes()  + 0x873e bytes   \nmscoreei.dll!_CorExitProcess@4()  + 0x26 bytes  \nmscoree.dll!_ShellShim_CorExitProcess@4()  + 0x94 bytes \nmsvcr90.dll!__crtCorExitProcess(int status=0)  Line 716 C\nmsvcr90.dll!__crtExitProcess(int status=0)  Line 722 + 0x8 bytes    C\nmsvcr90.dll!doexit(int code=0, int quick=0, int retcaller=0)  Line 632  C\nmsvcr90.dll!exit(int code=0)  Line 412 + 0xc bytes  C\npython26.dll!1e030405()     \npython26.dll!1e02cd93()     \npython26.dll!1e02e887()     \npython26.dll!1e02ccba()     \nMyApp.exe!orz::runPythonFile(const char * file=0x00a203f0, QDir pydir={...}, QString pypath={...})  Line 66 + 0x3e bytes    C++\nMyApp.exe!orz::the_main(int argc=2, char * * argv=0x003860e0)  Line 132 + 0x50 bytes    C++\nMyApp.exe!main(int argc=2, char * * argv=0x003860e0)  Line 152 + 0xd bytes  C++\nMyApp.exe!_WinMain@16()  + 0xb8 bytes   \nkernel32.dll!_BaseProcessStart@4()  + 0x23 bytes    \n</code></pre>\n\n<p>Maybe there's something my message handling, but I don't want the dll unload from .net anyway. I tried altering the my logging a bit to avoid the python call, but then I  get stuck \"no usermode threads running, app is deadlocked\",  seems related to <a href=\"http://qt-project.org/forums/viewthread/20462\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/20462</a>.</p>\n\n<pre><code>ntdll.dll!_KiFastSystemCallRet@0()  \nntdll.dll!_NtWaitForSingleObject@12()  + 0xc bytes  \nkernel32.dll!_WaitForSingleObjectEx@12()  + 0x8b bytes  \nkernel32.dll!_WaitForSingleObject@8()  + 0x12 bytes \nQtCore4.dll!QWaitCondition::wait(QMutex * mutex=0x07ccf200, unsigned long time=4294967295)  Line 175 + 0x15 bytes   C++\nQtCore4.dll!QThreadPoolPrivate::waitForDone()  Line 295 + 0x10 bytes    C++\nQtCore4.dll!QThreadPool::~QThreadPool()  Line 429   C++\n</code></pre>\n\n<p>Qt does not support dll unloading, as quoted from the above post</p>\n\n<blockquote>\n  <p>“To be perfectly honest, I don’t know what to do with this task. I\n  seem to recall seeing cases where Windows threads would disappear at\n  application exit, yet the HANDLE to those threads would not be\n  signaled (meaning your app would deadlock if waiting on the handle).</p>\n  \n  <p>I am tempted to simply mark this as “Out of Scope”, since, as Thiago\n  says, we do not test nor really support unloading the Qt libraries\n  from the application once they have been loaded.”</p>\n</blockquote>\n"},{"tags":["javascript","qt","inheritance","qtscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":4932004,"title":"Javascript object that inherits QWidget","body":"<p>I am doing something in Javascript and Qt, and for my purpose, I need a <strong>javascript object that inherits QWidget</strong>. So far, I have tried the following:</p>\n\n<pre><code>function Test()\n{\n    QWidget.call(this);\n    this.button = new QPushButton(\"test\");\n    this.layout().insertWidget(1,this.button);\n    this.button.clicked.connect(this.slot);\n}\n\nTest.prototype.slot = function()\n{\n    print(\"Test button clicked\");\n}\n\nTest.prototype = new QWidget();\n</code></pre>\n\n<p>I instantiate object from the class \"Test\" and with the call of the <code>show()</code> method, I get the widget:</p>\n\n<pre><code>var testVariable = new Test();\ntestVariable.show();\n</code></pre>\n\n<p>However, I get the following interpreter error:</p>\n\n<blockquote>\n  <p>Error: In run/evaluate: TypeError:\n  Function.prototype.connect: target is\n  not a function</p>\n</blockquote>\n\n<p>If I change the line <code>this.button.clicked.connect(this.slot);</code> to call a static method defined like this: </p>\n\n<pre><code>    this.button.clicked.connect(Test.slot);\n...\n...\n    Test.slot = function () { /* code */ }\n</code></pre>\n\n<p>the program runs fine, but static method is a no-no. I don't want anyone to call <code>slot()</code> except the instantiated object.</p>\n\n<p>What is wrong with this picture? Has anyone had experience with Javascript objects inheriting Qt objects?\nThanks in advance</p>\n"},{"tags":["linux","osx","qt","distribution"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13245368,"title":"Where can I find binarycreator in QT sdk for creating Qt Installer","body":"<p>I am creating <code>Qt Installer</code> for some QT application, When I gone through the <a href=\"http://doc-snapshot.qt-project.org/qtifw-1.2/index.html\" rel=\"nofollow\">Qt Installer Framework Manual</a> at <a href=\"http://doc-snapshot.qt-project.org/qtifw-1.2/ifw-tools.html#binarycreator\" rel=\"nofollow\">some point</a> I found to rum <code>binarycreator</code> please see the image <img src=\"http://i.stack.imgur.com/9zipy.png\" alt=\"below image\"> , but I am unable to find that binary file in <code>Qt SDK</code>, Please can any one help for this.</p>\n"},{"tags":["qt","qt4","operating-system"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13243124,"title":"How would i go about implementing First come first serve scheduling algorithm using threading in Qt C++ Programming?","body":"<p>I am asking for direction on how to add  processes to a dynamic list then schedule those processes using the first come first serve scheduling algorithm. The scheduling algorithm should only run a max of 5 processes concurrently and when a process has been terminated it should it should emit a signal to indicate termination. Then when a process has been terminated, another process should be scheduled by the scheduling algorithm once there are processes in the queue. </p>\n\n<p>Note also that each process has access to a shared list of integer which only one process can access at a time. I already know how to do this part by locking the shared integer list using QMutex. Can someone help by to figure it out via a simple example as i am baffled\n    //mutex example\n    QMutex mutex\n    while(!mutex->tryLock()){\n        //enter code here\n    }\n    this->performTask(); // \n    mutex.unlock();</p>\n"},{"tags":["qt","build","mingw","entry-point"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12086941,"title":"Qt apps break after build on MinGW","body":"<p>When I build Qt 4.8.2 it builds successfuly. But when I run any Qt pre-built apps (qtdemo.exe, designer.exe etc) it throws a procedure entry point error.</p>\n\n<p>This is what it says:</p>\n\n<p><img src=\"http://i.stack.imgur.com/UcNhk.png\" alt=\"enter image description here\"></p>\n\n<p>I just can't get it to work!</p>\n\n<p>I have build debug and release DLLs, without Phonon, Script, Qt3support, or webkit.</p>\n\n<hr>\n\n<p>I opened the app in Dependency Walker and this is what it said in bold red text:</p>\n\n<blockquote>\n  <p>Error: At least one module has an unresolved import due to a missing export function in an implicitly dependent module. </p>\n  \n  <p>Error: Modules with\n  different CPU types were found. </p>\n  \n  <p>Warning: At least one delay-load\n  dependency module was not found. Warning: At least one module has an\n  unresolved import due to a missing export function in a delay-load\n  dependent module.</p>\n</blockquote>\n"},{"tags":["windows","qt","mingw"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":25,"score":3,"question_id":13246424,"title":"No output from hello world - Qt SDK 2010 - Mingw (gcc 4.6.3) - WindowsXP","body":"<p>Qt: <code>qt-sdk-win-opensource-2010.01</code>\nMingw: <code>1686-mingw32-gcc-4.6.3-release</code> : </p>\n\n<p>The <strong>.pro</strong> file:</p>\n\n<pre><code>TEMPLATE    = app\nTARGET      = \nSOURCES     += ef.cpp\nDEPENDPATH  += .\nINCLUDEPATH += . \n</code></pre>\n\n<p>The <strong>.cpp</strong>:</p>\n\n<pre><code>#include &lt;stdio.h&gt;    \nint main(int argc, char *argv[]) \n{\n    printf (\"\\nhjhjk\\n\");\n}\n</code></pre>\n\n<p>The compilation and the executable output is as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/JGAb0.png\" alt=\"enter image description here\"></p>\n\n<p>The executable called <code>temp</code> and an object file called <code>ef.o</code> get created in the <code>debug</code> folder.</p>\n\n<p>I have edited the <code>qmake.conf</code> file as described <a href=\"http://stackoverflow.com/questions/13227354/warning-cannot-find-entry-symbol-nable-stdcall-fixup-defaulting\">here.</a></p>\n\n<p><strong>The print statement doesn't get printed. Please help.</strong></p>\n"},{"tags":["c++","python","qt","client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13236859,"title":"C++ Qt - QTcpSocket emit readyRead() but canReadLine() always false","body":"<p>I am writing a client in C++ and a server in Python.</p>\n\n<p>The server accepts the connection from the client, and sends to the client its player ID number, formated for the regular expression \"id\\s\\d\". (e.g. \"id 3\")</p>\n\n<pre><code> if s is serversocket:\n            print \"Listening...\"\n            if accept_connection or nb_player &lt; 5:\n                connection, client_address = s.accept();\n                print 'New connection from ', client_address\n                connection.setblocking(0)\n                inputs.append(connection)\n        # Send player I to new connection\n        connection.send(\"id \"+str(len(inputs)-1))\n</code></pre>\n\n<p>The client initializes its socket, and connect. I implemented <code>connected()</code> to display a message on the GUI, if it is emitted. It is emitted without problem. Same thing on the server side, I receive the connection without issues.</p>\n\n<pre><code>Window::Window(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Window)\n{\n    ui-&gt;setupUi(this);\n\n    /* Initialize socket */\n    socket = new QTcpSocket(this);\n    socket-&gt;connectToHost(\"localhost\", 13456);\n\n    connect(socket, SIGNAL(readyRead()), this, SLOT(data_received()));\n    connect(socket, SIGNAL(connected()), this, SLOT(connected()));\n}\n</code></pre>\n\n<p>The server receives data from the client without problem. <strong>It is the client that does not receive the information correctly.</strong> </p>\n\n<pre><code>void Window::data_received(){\n\n    QRegExp id_re(\"id\\\\s(\\\\d)\");\n\n    while (socket-&gt;canReadLine()){\n        /* Read line in socket (UTF-8 for accents)*/\n        ui-&gt;log-&gt;append(\"listening...\");\n        QString line = QString::fromUtf8(socket-&gt;readLine()).trimmed();\n\n        /* Player ID returned by server */\n        if ( id_re.indexIn(line) != -1){\n            //Test\n            ui-&gt;log-&gt;append(\"The ID arrived\");\n            //Extract ID\n            QString id_str = id_re.cap(1);\n            //Put in data structure of player\n            player-&gt;set_player_id(id_str);\n            //Display message\n            ui-&gt;log-&gt;append(QString(\"You are Player \"+ player-&gt;get_player_id()));\n\n        }\n    }\n}\n</code></pre>\n\n<p><code>get_player_id()</code> returns a <code>QString</code></p>\n\n<p>I targeted my problem down, and it seems that canReadLine() is never returning true, therefore I can never read it. What could cause that?</p>\n"},{"tags":["qt","phone","qml","blackberry-10","blackberry-cascades"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13241050,"title":"How to show a phonepad with a certain number in Blackberry Cascades","body":"<p>I am using Blackberry Cascades 10 Beta 3 SDK with C++ QT &amp; QML with the Blackberry 10 Dev Alpha Simulator and the QNX Momentics IDE, and I'm trying to implement the ability to click on a button with a phone number from QML and have it bring up a dialpad with that number in from at which point the user should be able to press call and it would call that number.  The following is the sort of thing I have done:</p>\n\n<pre><code>Button {\n    text: \"555-555-5555\" //just a sample number - I don't actually use this number\n    onClicked: Foo.phone(text) //I don't actually use the class name Foo\n}\n</code></pre>\n\n<p>and I have:\n    ...</p>\n\n<pre><code>class Foo : public QObject {\n    Q_OBJECT\npublic:\n    ...\n    Q_INVOKABLE void phone(QString number);\n}\n...\n</code></pre>\n\n<p>and I have:</p>\n\n<pre><code>void Foo::phone(QString number) {\n    bb::system::phone::Phone phone;\n    phone.requestDialpad(number, bb::system::phone::LineType::Cellular);\n}\n</code></pre>\n\n<p>But when I click on the button it doesn't do anything - I need the dialpad to show up - does anyone have any idea what I'm doing wrong?</p>\n"},{"tags":["c++","qt","qwebview","qwebpage","qtnetwork"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13243275,"title":"QWebView,How to determine whether this link is a new window?","body":"<p>code </p>\n\n<pre><code>  News::News(QWidget *parent) :\n   QDialog(parent),\n  ui(new Ui::News)\n  {\n   ui-&gt;setupUi(this);\n   ui-&gt;webView-&gt;page()-&gt;setLinkDelegationPolicy(QWebPage::DelegateAllLinks);\n   connect(ui-&gt;webView,SIGNAL(linkClicked(QUrl)),this,SLOT(openUrl(QUrl)));\n  }\n\nvoid News::openUrl(QUrl url){\n  if(the new window)\n        QDesktopServices::openUrl(url);\n  }else{\n    ui-&gt;webView-&gt;load(url);\n  }\n}\n</code></pre>\n\n<p>How do I judge instead of a new window link function openUrl?\nHow I'm going to write this code、?\nthanks!!!</p>\n"},{"tags":["css","qt","stylesheet","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13243510,"title":"Styling QTabWidget","body":"<p>I have a QTabWidget with a background gradient and two problems.</p>\n\n<ol>\n<li><p>How dow I remove the anoying outline around the active tab (see image)? I tried \"outline: none\" like with push buttons but it does not seem to have an effect.</p></li>\n<li><p>How do I style disabled tabs? I tried :disabled and :!enabled but both do not work. <strong>// Edit: This works with :disabled but not with all properties. Seems like I tried the only not supported.</strong></p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/tNpp7.png\" alt=\"Anoying focus\"></p>\n\n<p>The qt documentation was no help. Google either. :-(</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13243651,"title":"Create function that returns a QList<int>","body":"<p>Coming from a C# background, I have some habbits that need to be changed.  I'm tring to return a QList&lt;int&gt; from a function.  The compiler error message is conversion from 'QList*' to non-scalar type 'QList' requested.  Here is the function:</p>\n\n<pre><code>QList&lt;int&gt; toCategories(QVariant qv)\n{\n    QList&lt;int&gt;categories = new QList&lt;int&gt;();\n    if(qv.isValid() &amp;&amp; qv.type() == QVariant::List)\n    {\n        foreach(QVariant category,qv.toList()){\n            categories.append(category.toInt() );\n        }\n    }\n    return categories;\n}\n</code></pre>\n\n<p>I'd appreciate a link to the documentation or a function using the correct syntax</p>\n"},{"tags":["c++","qt","malloc","jpeg","dicom"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":68,"score":2,"question_id":13163070,"title":"IImebra code in C++ app with QT gives malloc: *** error for object xxxxxx: pointer being freed was not allocated","body":"<p>I'm trying to convert dicom .dcm file to .jpeg using Imebra in C++ app using QT Creator as dev environment. </p>\n\n<p>I've downloaded Imebra and was able to run QT project example for Dicom2Jpeg conversion successfully. But when I tried to copy same code to my C++ app it failed to run with following error msg:</p>\n\n<p>malloc: <strong>* error for object xxxxxx: pointer being freed was not allocated\n *</strong> set a breakpoint in malloc_error_break to debug</p>\n\n<p>I have followed steps on adding Imebra files to my project as it was shown on Imebra site. Also used their qt project as example. My main.cpp open dicom file, then loads it to dataset, then calls my dialog window. It crashes on loading dataset.</p>\n\n<pre><code>#include \"QApplication.h\"\n#include \"QHBoxLayout.h\"\n#include \"mydialog.h\"\n#include \"iostream.h\"\n\ninclude \"library/imebra/include/imebra.h\"\nint main( int argc, char ** argv ){\n\n    using namespace puntoexe;\n    ptr&lt;stream&gt; readStream(new stream);\n    readStream-&gt;openFile(\"/pathToDcmFile/test.dcm\",std::ios_base::in);\n\n    ptr&lt;streamReader&gt; reader(new streamReader(readStream));\n\n    ptr&lt;imebra::codecs::codecFactory&gt;  cFactory(imebra::codecs::codecFactory::getCodecFactory());\n    ptr&lt;imebra::dataSet&gt; tdataSet;\n    tdataSet=cFactory-&gt;load(reader,2048);\n\n    Q_INIT_RESOURCE(images);\n\n    QApplication a( argc, argv );\n\n    MyDialog md;\n    md.show();\n\n    return a.exec();\n</code></pre>\n\n<p>}</p>\n\n<p>Deeper debugging showed that source of error is in JpegCodec.cpp file readStream() function when checking JpegSignature to see if it's in wrong format with resulting internal PUNTOEXE error \"detected a wrong format\".</p>\n\n<p>Interesting thing is that while running same test dcm file using given dicom2jpeg example (which has exact same code of opening file and loading it) gives no errors and converts to jpeg successfully. So I know it's not the file issue, but the way imebra code is integrated into my C++ app.</p>\n\n<p>My dev environment: macbook pro with Lion OS, QT Creator, QT project, C++ code, ITK library added, Imebra files are completely integrated as part of the Qt project.</p>\n\n<p>So, my question is how do I work/link/reference/call Imebra functionality in QT project? Am I forgetting to link something, or some object is not instantiated/deleted on time? </p>\n\n<p>Any ideas are highly appreciated,</p>\n\n<p>Evushka </p>\n\n<p>Solution: As it was suggested I have changed codec factory to dicm factory and it fixed the problem. My new code is given below.</p>\n\n<pre><code>imebra::codecs::dicomCodec* pTmp = new imebra::codecs::dicomCodec();\n\nptr&lt;stream&gt; readStream(new stream);\nreadStream-&gt;openFile(argv[0],std::ios_base::in);\n\nptr&lt;streamReader&gt; reader(new streamReader(readStream));\n\nptr&lt;imebra::dataSet&gt; tdataSet;\ntdataSet=pTmp-&gt;read(reader,2048);\n\ndelete pTmp;\n</code></pre>\n"},{"tags":["c++","qt","gps"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":6956785,"title":"Error Including QGeoPositionInfo","body":"<p>I am new to Qt ,</p>\n\n<p>I have been given this task where i should use GPS</p>\n\n<p>so to use to GPS ,i only did this one line of code</p>\n\n<pre><code> #include &lt;QGeoPositionInfo&gt;\n</code></pre>\n\n<p>and the following error appeared </p>\n\n<pre><code>In file included from ..\\Project\\mainwindow.cpp:3:\n..\\Project\\/form.h:7:28: error: QGeoPositionInfo: No such file or directory\n</code></pre>\n\n<p>how can i solve this issue ? how can i get this file ? </p>\n\n<p>please note that i have tried re installing Qt Creator... </p>\n\n<p><strong>Please be specific i would really appreciate that...</strong></p>\n"},{"tags":["python","qt","delegates","pyside","qtableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13242442,"title":"PySide delegate on QTableView with text and tick","body":"<p>I'm implementing a <code>QTableView</code> with a custom model and I need a cell that looks like this:\n<img src=\"http://oi47.tinypic.com/2jirkw.jpg\"/></p>\n\n<p>Currently I use the delegate below (adapted from other answers) to draw a flag (an html coloured text) on a single cell, clicking on the whole cell changes the flag.</p>\n\n<pre><code>class HTMLDelegate(QtGui.QStyledItemDelegate):\ndef Doc(self, options):\n    if options.text == \"0\":\n        return \"\"\n    elif options.text == \"1\":\n        return \"&lt;b&gt;&lt;font align='right' color='green'&gt;V&lt;/font&gt;&lt;/b&gt;\"\n    elif options.text == \"2\":\n        return \"&lt;font align='right' color='#FF8400'&gt;!!&lt;/font&gt;\"\n    elif options.text == \"3\":\n        return \"&lt;b&gt;&lt;font align='right' color='#CC0000'&gt;F&lt;/font&gt;&lt;/b&gt;\"\n    elif options.text == \"4\":\n        return \"&lt;b&gt;&lt;font align='right' color='#000000'&gt;X&lt;/font&gt;&lt;/b&gt;\"\n\ndef paint(self, painter, option, index):\n    options = QtGui.QStyleOptionViewItemV4(option)\n    self.initStyleOption(options,index)\n\n    style = QtGui.QApplication.style() if options.widget is None else options.widget.style()\n\n    doc = QtGui.QTextDocument()\n\n    background = None\n    doc.setHtml(self.Doc(options))\n\n    options.text = \"\"\n    style.drawControl(QtGui.QStyle.CE_ItemViewItem, options, painter);\n\n    ctx = QtGui.QAbstractTextDocumentLayout.PaintContext()\n\n    # Highlighting text if item is selected\n    #if (optionV4.state &amp; QStyle::State_Selected)\n    #    ctx.palette.setColor(QPalette::Text, optionV4.palette.color(QPalette::Active, QPalette::HighlightedText));\n\n    textRect = style.subElementRect(QtGui.QStyle.SE_ItemViewItemText, options, None)\n    painter.save()\n    if background:\n        painter.fillRect(options.rect, QtCore.Qt.yellow)\n    painter.translate(textRect.topLeft())\n    painter.setClipRect(textRect.translated(-textRect.topLeft()))\n\n    doc.documentLayout().draw(painter, ctx)\n\n    painter.restore()\n\ndef editorEvent(self, event, model, option, index):\n    if not (index.flags() &amp; QtCore.Qt.ItemIsEditable) &gt; 0:\n        return False\n\n    # Do not change the checkbox-state\n    if event.type() == QtCore.QEvent.MouseButtonRelease or event.type() == QtCore.QEvent.MouseButtonDblClick:\n        if event.button() != QtCore.Qt.LeftButton:\n            return False\n        if event.type() == QtCore.QEvent.MouseButtonDblClick:\n            return True\n    elif event.type() == QtCore.QEvent.KeyPress:\n        if event.key() != QtCore.Qt.Key_Space and event.key() != QtCore.Qt.Key_Select:\n            return False\n    else:\n        return False\n\n    # Change the flag-state\n    self.setModelData(None, model, index)\n    return False\n\n\ndef setModelData (self, editor, model, index):\n    '''\n    The user wanted to change the old flag into the next\n    '''\n    #newValue = not bool(index.model().data(index, QtCore.Qt.DisplayRole))\n    #model.setData(index, newValue, QtCore.Qt.EditRole)\n    oldFlagIndex = model.index(index.row(), COD_COL_FLAGS)\n    oldFlag = model.data(oldFlagIndex)\n\n    if type(oldFlag) == long:\n        newFlag = oldFlag + 1\n        if newFlag &gt; 4:\n            newFlag = 0\n    else:\n        newFlag = 0\n    model.setData(index, newFlag, QtCore.Qt.EditRole)\n</code></pre>\n\n<p>How can I accomplish this ?<br>\nThe options that I have in mind are:</p>\n\n<ul>\n<li><p>A delegate that draws text (rich or simple) along with a pixmap to the right</p></li>\n<li><p>A delegate that draws two strings of text (one normal and one rich, or both rich text) aligned one to the left and one to the right</p></li>\n</ul>\n\n<p>As an exercise, but not required for the app, it would be nice to trigger the flag change only when clicking on it instead of the whole cell.</p>\n\n<p>Thanks</p>\n"},{"tags":["html","qt","qtextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13241362,"title":"Qt QTextEdit Qt4.2 Valid HTML String","body":"<p>I am trying to generate the correct HTML to render to a QTextEdit Using Qt 4.2 on RHEL 5.3. \nSo far my algorithm generates the following html. I am not an expert web developer, but to me this string seems valid.</p>\n\n<pre><code>319:14:27:22:   &lt;font color=\"rgb(255,0,0)\" bgcolor=\"rgb(255,0,0)\"&gt;Message&lt;/font&gt;&lt;br&gt;\n</code></pre>\n\n<p>What needs to change to get the colours to render. Currently it just renders as black text on a white background. </p>\n"},{"tags":["python","qt","pyqt","pyside","pyqtgraph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13240066,"title":"Graph (pyqtgraph) is not getting plotted inside QML generated window","body":"<p>I am trying to plot a graph inside a qml generated window. Since i need to use QML for GUI ( client requirement). I manage to get the graph window inside QML, but its plotting nothing. I dont know my code is correct or not, please suggest, point me in the right direction.</p>\n\n<p>main.py:</p>\n\n<pre><code>#! /usr/bin/python\n\nimport os\nimport sys\nfrom PySide import QtGui \nfrom PySide import QtCore\nfrom PySide import QtDeclarative\nimport numpy as np\nimport pyqtgraph as pg\n\nclass Graph (QtDeclarative.QDeclarativeItem):\n    def __init__(self, parent = None):\n        QtDeclarative.QDeclarativeItem.__init__(self, parent)\n\n        #----------- self.setFlag(QtGui.QGraphicsItem.ItemHasNoContents, False )\n\n\n        self.dataPlot = np.cos(np.linspace(0, 5 *np.pi , 1000))\n\n        self.graph = pg.PlotItem()\n        self.graph.plot( self.dataPlot, pen=(0,255,0))\n        self.graph.showGrid(x=True, y=True)\n\n\n        self.view = pg.GraphicsView()\n        self.view.setCentralItem(self.graph)\n        #-------------------------------------- self.setCentralWidget(self.view)\n\n        mProxy = QtGui.QGraphicsProxyWidget(self)\n        mProxy.setWidget(self.view)\n\n\nif __name__ == '__main__':    \n    app = QtGui.QApplication(sys.argv)\n\n    QtDeclarative.qmlRegisterType(Graph, 'myPyQtGraph', 1, 0, 'PyQtGraph')\n\n    view = QtDeclarative.QDeclarativeView()    \n    view.setSource(QtCore.QUrl('main.qml'))\n    view.setResizeMode(QtDeclarative.QDeclarativeView.SizeRootObjectToView)\n\n    rootObject = view.rootObject() \n    view.connect(view.engine() , QtCore.SIGNAL('quit()') ,app.instance( ) , QtCore.SLOT('quit()') )\n\n    view.show()    \n    sys.exit(app.exec_())\n</code></pre>\n\n<p>main.qml:</p>\n\n<pre><code>import QtQuick 1.1\nimport myPyQtGraph 1.0\n\nRectangle {\n    id : page\n    width: 900\n    height: 400\n    color:  \"#343434\"\n\n    PyQtGraph {\n        id: angleGraphID\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 50\n            leftMargin: 50\n        }\n        width: 800\n        height: 300\n        //color: \"#f5deb3\"\n    }\n\n    Text {\n        id: text_Heading\n        anchors{\n            top: parent.top\n            left: parent.left\n            topMargin: 20\n            leftMargin: 50\n        }\n        text: qsTr(\"PyqtGraph QML Test\")\n        font.pixelSize: 12\n    }\n}\n</code></pre>\n\n<p>this is what i am getting right now:\n<img src=\"http://i.stack.imgur.com/xDqoi.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":179,"score":3,"question_id":5831313,"title":"size[policy] of nested QMainWindows","body":"<p>I've got a <code>QMainWindow</code> in a <code>QTabWidget</code> in a[n otherwise empty] <code>QVBoxLayout</code> in a <code>QWidget</code> in a <code>QTabWidget</code> in a <code>QMainWindow</code>.</p>\n\n<p>But the size of the internal <code>QMainWindow</code> is being reported as 640x480 (the size of the external <code>QMainWindow</code>) when the <code>sizeHint</code> is reported as 70x26 (smaller than the widgets inside the internal <code>QMainWindow</code>). It looks like 70x26 to me.</p>\n\n<p>How can I adjust the size to stretch to fill the internal <code>QTabWidget</code>/<code>QVBoxLayout</code>/<code>QWidget</code>?</p>\n\n<p>The internal <code>QMainWindow</code> has a <code>QTextEdit</code> for the central widget and a <code>QComboBox</code> in a <code>QDockWidget</code> on the bottom docking area. The external <code>QTabWidget</code> has other <code>QWidget</code>s which work fine.</p>\n"},{"tags":["c++","xml","qt","design-patterns","gui"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13236294,"title":"Design approaches to read/write different version of same config file","body":"<p>In our project we got an application that uses an external configuration file (say server.xml). Now we need to design a setup tool GUI in C++/QT to read/edit such configuration file and it should be able to handle all the different versions of such file. The user will choose the file version and then proceed with the editing. From one version to another doesn't change too much, maybe there is a new xml tag, a tag with a different name or in a different position.  </p>\n\n<p>What's the best design approach to do so? We are planning to go for a standard MVC design pattern but how to deal with all the different configuration versions without rewriting the same GUI code again n again?</p>\n\n<p>Here the sample config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Server_configuration ver=\"11\"&gt;\n  &lt;core&gt;\n    &lt;enable-tms&gt;true&lt;/enable-tms&gt;\n    &lt;enable-gui-messages&gt;true&lt;/enable-gui-messages&gt;\n    &lt;waiting-for-config-timeout&gt;10000&lt;/waiting-for-config-timeout&gt;\n    &lt;remoting&gt;\n      &lt;port&gt;50000&lt;/port&gt;\n      &lt;join-timeout&gt;5000&lt;/join-timeout&gt;\n      &lt;ismultithread&gt;true&lt;/ismultithread&gt;\n      &lt;maxconcurrentrequests&gt;20&lt;/maxconcurrentrequests&gt;\n    &lt;/remoting&gt;\n  &lt;/core&gt;\n  &lt;content&gt;\n    &lt;ftp&gt;\n      &lt;ip&gt;192.168.0.227&lt;/ip&gt;\n      &lt;port&gt;21&lt;/port&gt;\n      &lt;userid&gt;******&lt;/userid&gt;\n      &lt;passwd&gt;******&lt;/passwd&gt;\n    &lt;/ftp&gt;\n    &lt;library&gt;\n      &lt;ip&gt;192.168.0.227&lt;/ip&gt;\n      &lt;port&gt;50023&lt;/port&gt;\n    &lt;/library&gt;\n    &lt;local&gt;\n      &lt;asset-root&gt;/assetroot&lt;/asset-root&gt;\n      &lt;kdm-expiration-warning&gt;172800000&lt;/kdm-expiration-warning&gt;\n    &lt;/local&gt;\n    &lt;hula-store-daemon&gt;\n      &lt;ip&gt;127.0.0.1&lt;/ip&gt;\n      &lt;port&gt;5567&lt;/port&gt;\n    &lt;/hula-store-daemon&gt;\n  &lt;/content&gt;\n&lt;/Server_configuration&gt;\n</code></pre>\n"},{"tags":["javascript","c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":7400787,"title":"Qt and JavaScript mapping data","body":"<p>What is the correct way to map Qt data types in JavaScript. I pass a Qt object to JavaScript that I load in the QWebView control. It's not a problem to call an object method from JavaScript if there's no parameters buf if a method has parameters the code doesn't work. For example I have the structure Location:</p>\n\n<pre><code>struct Location\n{\n    QString country;\n    QString city;\n};\n</code></pre>\n\n<p>I have the method:</p>\n\n<pre><code>void UpdateLocation(const Location&amp; location);\n</code></pre>\n\n<p>How to call this method from JavaScript?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":333,"score":2,"question_id":12381205,"title":"Qt 4.8.2 With GCC 4.7.0.1 Keeps Crashing","body":"<p>I've downloaded Qt 4.8.2 library, Qt Creator 2.5.2, and manually installed MingW with w32api version 3.13 and GCC/g++ version 4.7.0.1. My OS is Windows 7 Ultimate x64.</p>\n\n<p>I can create a sample \"Plain C++ project\" in Qt Creator; compile and run that console application using g++ without any issue.</p>\n\n<p>But I cannot <strong>run</strong> a Qt application. I used Qt Creator, created a dummy Qt Application using Creator's \"Qt Gui Application\" template. The project can be compiled successfully, without any error or warning. But the binary keeps crashing when I try to run (both from <code>Qt Creator</code> and <code>Windows Explorer</code>) it. Both debug and release builds crash. It crashes even before showing main window.</p>\n\n<p>MingW is installed in <code>C:\\MingW</code> and <code>C:\\MingW\\bin</code> is in <code>PATH</code>. Qt is installed in <code>C:\\Qt\\4.8.2</code> and <code>C:\\Qt\\4.8.2\\bin</code> is in <code>PATH</code>.</p>\n\n<p>I analyzed generated exe of the Qt Gui Application output with Dependency Walker and found that it found all required DLLs:</p>\n\n<ul>\n<li>c:\\windows\\system32\\KERNEL32.DLL</li>\n<li>c:\\windows\\system32\\MSVCRT.DLL</li>\n<li>c:\\mingw\\bin\\LIBGCC_S_DW2-1.DLL</li>\n<li>c:\\mingw\\bin\\LIBSTDC++-6.DLL</li>\n<li>c:\\qt\\4.8.2\\bin\\QTCORE4.DLL</li>\n<li>c:\\qt\\4.8.2\\bin\\QTGUI4.DLL</li>\n</ul>\n\n<p>So, what's causing the runtime crash?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I also tried Qt's example projects: 2dpainting and addressbook - both crashed when they were launched.</p>\n"},{"tags":["c++","qt","plot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":64,"score":-1,"question_id":13239482,"title":"Scientific libraries for for Qt in C++ easy to install and use?","body":"<p>Need to use scientific libraries for calculus and 2D and 3D plotting capabilities to use with a C++ program I'm developing within Qt.\nI have found PLplot, Mathgl, qwtplot3d and boost.</p>\n\n<p>Unfortunately I have failed installing it to run in my win7 machine.\nI find the installation instructions patchy to say the least in all of them.\nIdeally would be fantastic if was possible to compile a Scilab with Qt this way all the numerical and plotting would be sorted out...</p>\n\n<p>Can someone help of how I can install one of the libraries mentioned above, or any other scientific plotting library that you may know of that you think is better?</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13239235,"title":"QNetworkRequest and QUrl encoding c++","body":"<p>Im trying to connect to gmail and consume the atom file.\nIm having problem with passwords that contain !#$%^&amp;* chars.</p>\n\n<pre><code>    pNetworkManager = new QNetworkAccessManager(this);\n\n    connect(pNetworkManager, SIGNAL(finished(QNetworkReply*)), \n            this, SLOT(result(QNetworkReply*)));\n\n    Settings settings;\n    settings.load();\n    QString url;\n\n    url.append(\"https://\");\n    url.append(settings.getUserName());\n    url.append(\":\");\n    url.append(QUrl::toPercentEncoding(settings.getPassword()));\n    url.append(\"@mail.google.com/mail/feed/atom\");\n\n\n    pNetworkManager-&gt;get(QNetworkRequest(QUrl(url.toUtf8())));\n</code></pre>\n\n<p>I get reply \"Protocol \"\" is unknown\"<br>\nQt 4.8</p>\n\n<p>How is this done properly </p>\n"},{"tags":["c++","qt","qtoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13223845,"title":"How to set a tool bar between two others","body":"<p>I have multiple tool bars that are all next too each other. I want the toolbar that is first to be third or before another. I can not figure out how to make it happen. Could anyone help?</p>\n\n<p>here is what is in my .cpp</p>\n\n<pre><code>&gt;     QPixmap pix(16, 16);\n&gt;     pix.fill(Qt::black);\n&gt;     fntColorAct = new QAction(pix, tr(\"&amp;Color\"), this);\n&gt;     connect(fntColorAct, SIGNAL(triggered()), this, SLOT(fontColor()));\n&gt; \n&gt;     fontToolBar = new QToolBar(this);\n&gt;     fontToolBar-&gt;setAllowedAreas(Qt::TopToolBarArea | Qt::BottomToolBarArea);\n&gt;     addToolBar(fontToolBar);\n&gt;     fontToolBar-&gt;setWindowTitle(tr(\"&amp;Format Actions\"));\n&gt;     addToolBarBreak(Qt::TopToolBarArea);\n&gt;     addToolBar(fontToolBar);\n&gt; \n&gt;     cmbStyle = new QComboBox(fontToolBar);\n&gt;     fontToolBar-&gt;addWidget(cmbStyle);\n&gt;     cmbStyle-&gt;addItem(\"Standard\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Disc)\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Circle)\");\n&gt;     cmbStyle-&gt;addItem(\"Bullet List (Square)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Decimal)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Alpha lower)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Alpha upper)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Roman lower)\");\n&gt;     cmbStyle-&gt;addItem(\"Ordered List (Roman upper)\");\n&gt;     connect(cmbStyle, SIGNAL(activated(int)), this, SLOT(fontStyle(int)));\n&gt; \n&gt;     fntComboBox = new QFontComboBox(fontToolBar);\n&gt;     fontToolBar-&gt;addWidget(fntComboBox);\n&gt;     connect(fntComboBox, SIGNAL(activated(QString)), this, SLOT(fontFamily(QString)));\n&gt; \n&gt;     cmbSize = new QComboBox(fontToolBar);\n&gt;     cmbSize-&gt;setObjectName(\"cmbSize\");\n&gt;     fontToolBar-&gt;addWidget(cmbSize);\n&gt;     cmbSize-&gt;setEditable(true);\n&gt; \n&gt;     QFontDatabase database;\n&gt;     foreach(int size, database.standardSizes())\n&gt;         cmbSize-&gt;addItem(QString::number(size));\n&gt; \n&gt;     connect(cmbSize, SIGNAL(activated(QString)),\n&gt;             this, SLOT(fontSize(QString)));\n&gt;     cmbSize-&gt;setCurrentIndex(cmbSize-&gt;findText(QString::number(QApplication::font().pointSize())));\n&gt; }\n&gt; \n&gt; void MainWindow::createMenus() {\n&gt;     fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n&gt;     fileMenu-&gt;addAction(newAct);\n&gt;     fileMenu-&gt;addAction(openAct);\n&gt;     fileMenu-&gt;addAction(saveAct);\n&gt;     fileMenu-&gt;addAction(saveAsAct);\n&gt;     fileMenu-&gt;addSeparator();\n&gt;     fileMenu-&gt;addAction(printAct);\n&gt;     fileMenu-&gt;addAction(printPreviewAct);\n&gt;     fileMenu-&gt;addSeparator();\n&gt;     fileMenu-&gt;addAction(exitAct);\n&gt; \n&gt;     editMenu = menuBar()-&gt;addMenu(tr(\"&amp;Edit\"));\n&gt;     editMenu-&gt;addAction(cutAct);\n&gt;     editMenu-&gt;addAction(copyAct);\n&gt;     editMenu-&gt;addAction(pasteAct);\n&gt;     editMenu-&gt;addSeparator();\n&gt;     editMenu-&gt;addAction(undoAct);\n&gt;     editMenu-&gt;addAction(redoAct);\n&gt; \n&gt;     formatMenu = menuBar()-&gt;addMenu(tr(\"Format\"));\n&gt;     formatMenu-&gt;addAction(boldAct);\n&gt;     formatMenu-&gt;addAction(underlineAct);\n&gt;     formatMenu-&gt;addAction(italicsAct);\n&gt;     formatMenu-&gt;addSeparator()-&gt;setText(tr(\"Alignment\"));\n&gt;     formatMenu-&gt;addAction(alignLeftAct);\n&gt;     formatMenu-&gt;addAction(alignCenterAct);\n&gt;     formatMenu-&gt;addAction(alignRightAct);\n&gt;     formatMenu-&gt;addAction(justifyAct);\n&gt;     formatMenu-&gt;addAction(fntColorAct);\n&gt; \n&gt;     menuBar()-&gt;addSeparator();\n&gt;     helpMenu = menuBar()-&gt;addMenu(tr(\"&amp;Help\"));\n&gt;     helpMenu-&gt;addAction(aboutAct);\n&gt; \n&gt;     menuBar()-&gt;addSeparator();\n&gt;     settingsMenu = menuBar()-&gt;addMenu(QIcon(\":/icons/cog.png\"), tr(\"&amp;Settings\")); }\n&gt; \n&gt; void MainWindow::createToolBars() {\n&gt;     fileToolBar = addToolBar(tr(\"File\"));\n&gt;     fileToolBar-&gt;addAction(newAct);\n&gt;     fileToolBar-&gt;addAction(openAct);\n&gt;     fileToolBar-&gt;addAction(saveAct);\n&gt; \n&gt;     editToolBar = addToolBar(tr(\"Edit\"));\n&gt;     editToolBar-&gt;addAction(cutAct);\n&gt;     editToolBar-&gt;addAction(copyAct);\n&gt;     editToolBar-&gt;addAction(pasteAct);\n&gt;     editToolBar-&gt;addAction(undoAct);\n&gt;     editToolBar-&gt;addAction(redoAct);\n&gt; \n&gt;     formatToolBar = addToolBar(tr(\"Format\"));\n&gt;     formatToolBar-&gt;addAction(boldAct);\n&gt;     formatToolBar-&gt;addAction(underlineAct);\n&gt;     formatToolBar-&gt;addAction(italicsAct);\n&gt;     formatToolBar-&gt;addAction(alignLeftAct);\n&gt;     formatToolBar-&gt;addAction(alignCenterAct);\n&gt;     formatToolBar-&gt;addAction(alignRightAct);\n&gt;     formatToolBar-&gt;addAction(justifyAct);\n&gt;     formatToolBar-&gt;addAction(fntColorAct); }\n</code></pre>\n"},{"tags":["qt","glibc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13238931,"title":"`GLIBC_2.14' not found","body":"<p>I want to install a QT library that is needed by another program in a Linux machine that I do not have a root access to. Instead I installed it on my machine which is an Ubuntu 12.04 which I have a root access. I then take the installed version to this other machine and start to install my new program that requires the Qt Libraries.</p>\n\n<p>But I came across an error:</p>\n\n<p>/home/test/qt/bin/qmake: /lib/libc.so.6: version `GLIBC_2.14' not found (required by /home/test/local/qt/bin/qmake)</p>\n\n<p>The \"/lib/libc.so.6\" is indeed exists in the new machine that I can not have access to.</p>\n\n<p>How can I able to solve this hurdle ?</p>\n\n<p>Kind regards\nYacob </p>\n"},{"tags":["c++","qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13238130,"title":"How to draw image using QGraphicsItem?","body":"<p>I need to draw an Image and a couple of lines, using my sub-classed <code>QGraphicsItem</code></p>\n\n<p>Here is my code(header file)-</p>\n\n<pre><code>#ifndef LED_H\n#define LED_H\n\n#include &lt;QtGui&gt;\n#include &lt;QGraphicsItem&gt;\n\nclass LED : public QGraphicsItem\n{\npublic:\n    explicit LED();\n\n    QRectF boundingRect() const;\n\n    void paint(QPainter *painter, const QStyleOptionGraphicsItem *option,\n               QWidget *widget);\n\nprivate:\n    static QPixmap *led_on; //&lt;--Problem\n};\n\n#endif // LED_H\n</code></pre>\n\n<p>Note- <code>LED</code> will be added to <code>QGraphicsScene</code></p>\n\n<p>Now I don't know how to approach it(drawing image using QGraphicsItem), but decided to use a <code>static QPixmap</code>, which shall be shared by all the instances of <code>LED</code> class.</p>\n\n<p>And in cpp file added this-></p>\n\n<pre><code>QPixmap* LED::led_on = new QPixmap(\":/path\");\n</code></pre>\n\n<p>But I am getting this error on build and run-</p>\n\n<pre><code>QPixmap: Cannot create a QPixmap when no GUI is being used\nQPixmap: Must construct a QApplication before a QPaintDevice\nThe program has unexpectedly finished.\n</code></pre>\n\n<p>Please tell me how to do it. (I am new to Qt)\nShould I use <code>QImage</code> or something else instead?</p>\n"},{"tags":["c++","mvc","qt","qtreeview","qtreewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":244,"score":0,"question_id":9668983,"title":"QTreeView vs setIndexWidget","body":"<p>I am using QStandardItemModel with QStandardItem's.</p>\n\n<p>I don't want to write my own model and any delegates.</p>\n\n<p>I just want to have tree of checkboxes with QComboBox'es in second column...</p>\n\n<pre><code>m_model-&gt;setColumnCount(2);\nfor (int i = 0; i &lt; sectionCount; i++)\n{\n    QStandardItem * section = new QStandardItem(tr(\"Section %1\").arg(i+1));\n    section-&gt;setCheckable(true);\n    section-&gt;setCheckState(Qt::Checked);\n\n    for (int j = 0; j &lt; itemsCount; j++)\n    {\n        QStandardItem * item = new QStandardItem(tr(\"Item %1\").arg(j+1));\n        item-&gt;setCheckable(true);\n        item-&gt;setCheckState(Qt::Checked);\n\n        QStandardItem * item2 = new QStandardItem(\"xxx\");\n\n        section-&gt;appendRow(QList&lt;QStandardItem*&gt;() &lt;&lt; item &lt;&lt; item2);\n\n        QComboBox * combo = new QComboBox();\n        QModelIndex index = m_model-&gt;index(j, 1, );\n\n        // HERE i have index = {-1;-1}\n\n        ui-&gt;treeView_options-&gt;setIndexWidget(index, combo);\n    }\n    m_model-&gt;appendRow(section);\n}\n</code></pre>\n\n<p>Is it possible to use setIndexWidget this way?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have no QComboBox in second column... Why?</p>\n"},{"tags":["qt","slots"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13237169,"title":"why do i get an error when I add a slot to my code?","body":"<p>Why when I add <code>slots</code> to my code do I get an error?</p>\n\n<p>Error:\nsymbols not found  for architecture x86_64\ncollect2: id returned 1 exit status</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:\nexplicit MainWindow(QWidget *parent = 0);\n~MainWindow();\n\nvoid timmerFired();\n\npublic slots:\nvoid timmerSlot();\n\nprivate:\nUi::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>when adding <code>public slots:</code> I get the error</p>\n\n<p><img src=\"http://i.stack.imgur.com/92gYo.png\" alt=\"origional code\">\n<img src=\"http://i.stack.imgur.com/zBoWQ.png\" alt=\"after adding slots\"></p>\n"},{"tags":["c++","qt","data-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13237083,"title":"Qt: changing user variable indicates the change of control's state","body":"<p>Is it possible to simply indicate the change of some Qt control's property by changing value of user defined variable (perform an action on changing value). Eg. I declared <code>int a</code> which is frequently used by multiple functions. Now I need to construct a relation: <code>if ( a == 0 ) then</code> my control is inactive <code>else</code> my control is active. (I was inspired by C# data bindings.)</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13237349,"title":"Which video format to use for QT Phonon app on Win/OSX?","body":"<p>I am writing an application that must display short instructional video snippets with QT/Phonon on the Windows (XP and up) and Mac (Snow Leopard and up) platforms. Which video format should I use? I'm not a video guy, so I'm not sure which formats are supported by both Quicktime and the direct x backends.</p>\n\n<p>thx,\nA</p>\n"},{"tags":["c++","qt","delete","valgrind"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13235062,"title":"Qt delete works with Valgrind but not normal execution","body":"<p>I'm checking for memory leaks in my Qt program using QtCreator and Valgrind. I am deleting a few entries in a QHash in my destructor like this:</p>\n\n<pre><code>QHash&lt;QString, QVariant*&gt; m_Hash;\n\n/**\n * @brief\n * Destruct a Foo Class instance\n */\nFoo ::~Foo ()\n{\n\n    // Do Cleanup here\n\n    // Delete hash leftovers\n    foreach( QString key, m_Hash.keys() )\n    {\n\n        qDebug() &lt;&lt; \"Deleting an entry..\";\n\n        // Delete the hash item\n        delete m_Hash.take(key);\n\n    }\n\n}\n</code></pre>\n\n<p>If I debug with Valgrind this code is fine and deletes the contents when the destructor is called:</p>\n\n<pre><code>&gt;&gt; Deleting an entry.. \n&gt;&gt; Deleting an entry.. \n</code></pre>\n\n<p>If I launch with GDB within QtCreator, launch without GDB from QtCreator, or just run my Qt App from the command line I get Segmentation Faults!</p>\n\n<pre><code>Signal name : \nSIGSEGV\nSignal meaning : \nSegmentation fault\n</code></pre>\n\n<p>If I commend out the 'delete' line then I can run my app just fine using any method but I do leak memory.</p>\n\n<p>What gives? Does valgrind introduce some sort of delay that allows my destructor to work? How can I solve this?</p>\n"},{"tags":["flash","qt","webkit","qtwebkit","qwebview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":319,"score":2,"question_id":10353303,"title":"Is it possible to play Flash animations in a QWebView in a 64 bit build of Qt on Mac OS X?","body":"<p>Previously it wasn't possible to play Flash animations in a QWebView in a 64 bit build of Qt on Mac OS X because a 64 bit version of Adobe's Flash Player wasn't yet released.  See here:</p>\n\n<p><a href=\"http://qt-project.org/forums/viewthread/5338\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/5338</a></p>\n\n<p>Since then Adobe has released Flash Player 11 in 64 bit. However, Flash animations still don't seem to work, I just get but the \"blue lego block\"instead of flash animations in pages I load.  </p>\n\n<p>I'm doing a basic build of Qt (i.e. configure, make, make install) and testing with the browser demo app.  There are no console error messages about not finding the correct architecture in the Flash Player plugin and Browser.app appears to load the plugin from disk fine, i.e. \"info shared\" in GDB outputs:</p>\n\n<pre><code>164 Flash Player                 - 0x11bc8e000        dyld Y Y /Library/Internet Plug-Ins/Flash Player.plugin/Contents/MacOS/Flash Player at 0x11bc8e000 (offset 0x11bc8e000)\n165 FlashPlayer-10.6             - 0x11bc97000        dyld Y Y /Library/Internet Plug-Ins/Flash Player.plugin/Contents/PlugIns/FlashPlayer-10.6.plugin/Contents/MacOS/FlashPlayer-10.6 at 0x11bc97000 (offset 0x11bc97000)\n</code></pre>\n\n<p>Am I doing something wrong with configuring Qt?  Has anyone else gotten this working?  I'm using the Qt browser demo app, so I'm (fairly) certain that it is properly turning on plugin support for it's QWebView.  Everything works fine if use a 32 bit build of Qt instead.</p>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":395,"score":0,"question_id":7152597,"title":"Qt- unable to save jpeg files","body":"<p>I am trying to save images in Qt. I am able to save all the formats except jpeg. I have the following libraries under the plugins/imageformats folder. </p>\n\n<p>libqgif.so, \nlibqjpeg.so. </p>\n\n<p>Do I have to place them in a different folder to make this work? Is there any new libraries that I have to install to make this work. I work on linux platform and my application is supported on all linux platforms. \nSo do I have to install separate libraries for each platform?</p>\n\n<p>Thanks,</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":639,"score":4,"question_id":3748844,"title":"Qt and Jpeg plugin problem","body":"<p>When I try to save pixmap in jpg format then I get an error in console QJpegHandler: unable to write image of format 7 and the result image is corrupt.</p>\n\n<p>How to fix this problem?</p>\n\n<p>Qt 4.6.2 on windows mobile. On symbian it works fine without any problems.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","gui","application"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13235747,"title":"Qt Creator don't have \"Qt Gui Application\" to choose when creating new project","body":"<p>After installing Qt Creator, from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> - \"Qt Creator 2.5.2 for Windows (31 MB)\" when I choose File->New File [...]</p>\n\n<p><a href=\"http://i.imgur.com/iMw8u.png\" rel=\"nofollow\">http://i.imgur.com/iMw8u.png</a></p>\n\n<p>It's probably stupid question, but don't now why it is so.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13235342,"title":"Setting QWidget to maximize within parent in Qt Creator/Designer?","body":"<p>I have dragged and dropped a widget within a parent widget in the designer within qt creator.</p>\n\n<p>It has an arbitrary fixed position rectangle within its parent.</p>\n\n<p>I want to modify it such that it will conform to its parents dimensions.  That is it should be \"maximized\" within its parent.</p>\n\n<p>What button in the designer do I press to do this?</p>\n"},{"tags":["xcode","osx","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13233393,"title":"Installing QT libraries on OS X","body":"<p>I'm trying to install the QT 4.8.3 precompiled libraries downloaded from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> on my OS X 10.6 machine. Unfortunately the package doesn't seem to actually install any libraries (although it claims to do so in the readme)</p>\n\n<p>I've read loads of instructions of how to configure and build QT from source but these are precompiled, as in 'you don't have to compile them yourself'. So I must be missing something.</p>\n\n<p>Is there anyone out there who knows how to actually install QT on OS X\nso that it is possible to link against them -without- building the whole thing from source.</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13224435,"title":"Qt Editing Custom Data Structures","body":"<p>I am trying to utilize the Model/View architecture to accomplish my goal but I am unsure as to whether this is the proper tool to use for this task.</p>\n\n<p>I have a Material System I have been using, which I more recently have created an editor for using Qt, it uses a QGraphicsView to display items which are interconnected to form a final fragment shader code, this works extremely well however, I am having difficulties finding a way to display these custom data structures without hand coding widgets for each type of item.</p>\n\n<p>These custom data structures are simply classes with members which I wish to modify using an interface depending on each members type. For instance if the item is a 'Value' which in my material system represents a single variable, like a texture, I would like to be able to have 2 editable areas, one for the texture's path on disk, and one for the name of the variable. </p>\n\n<p>What is the best approach for interpreting custom structures like this and creating widgets based on their type, and then mapping those widgets to edit/display them. All the google searching I found led me to the Model/View architecture however it seems this is more made for things like SQL databases and XML files.</p>\n\n<pre><code>class Value\n{\n\nstd::string     m_strType, m_strName, m_strValue, m_strLocation;    \n};\n</code></pre>\n"},{"tags":["linux","qt","fonts"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":435,"score":1,"question_id":7296118,"title":"qtconfig fonts list on linux","body":"<p>I've built qt 4.7.4 on ubuntu and my application fonts look terrible. I used qtconfig to try and make the font more pleasing to the eye, but most look really bad (not aliased, and the list of fonts appears incomplete; e.g the clearlooks font in gnome uses \"sans\", but this doesn't appear in the list of available fonts in qtconfig).</p>\n\n<p>However, if I install qtconfig-qt4 using aptitude, the fonts rendered in that application look great and there are loads more fonts available. The settings however are not applied to my qt applications.</p>\n\n<p>I have no idea where qtconfig is picking up the font settings it makes available nor where it is saving the settings. The qt docs don't seem to help as far as I can see.</p>\n\n<p>If someone could help me with either setting up the qtconfig in my install (maybe I need to configure with some different options - I used -debug-and-release -fast -qt-libtiff -no-webkit ?) or getting my apps to pick up the qtconfig-qt4 settings I would be most grateful! I would prefer the former!</p>\n\n<p>Cheers!</p>\n"},{"tags":["c++","linux","qt","mono"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":75,"score":-7,"question_id":13233198,"title":"Mono in Ubuntu,good or bad","body":"<p>i'm trying writing server/client desktop application on Linux with GUI, it's good to write with MONO or C++/Qt (Urgent)</p>\n"},{"tags":["c++","qt","qml","touch-event","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13161796,"title":"Get target of cascades TouchEvent not working","body":"<p>I'm having problems trying to reach for the target of the Touch Event from BB10 cascades API. I have several containers, one below the other, and each one of them have the same Touch signal and slot assigned. Everything is being dynamically loaded from C++. So, in order to catch each touch event, I need to know which container triggered the event. I've read that I just need to use the TARGET property from the TouchEvent, but is not working and I dont know why. So I'm asking for help</p>\n\n<p>Here's my code:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    QmlDocument *qml = QmlDocument::create(\"asset:///customComponents/TableRow.qml\").parent(this);\n\n    Container *passivesRow = qml-&gt;createRootObject&lt;Container&gt;();\n    passivesRow-&gt;setProperty(\"labelTextOne\", \"Hello_\" + i);\n\n    bool res = QObject::connect(passivesRow,         \n        SIGNAL(touch(bb::cascades::TouchEvent*)), this,\n        SLOT(handleAccountTouch(bb::cascades::TouchEvent*)));\n\n    Q_ASSERT(res);\n    Q_UNUSED(res);\n\n    myCurrentPageContainer-&gt;add(passivesScroll);\n}\n\nvoid PosicionConsolidada::handleAccountTouch(bb::cascades::TouchEvent* event) {\n    if (event-&gt;touchType() == TouchType::Up) {\n        qDebug() &lt;&lt; \"event catched\";\n\n        VisualNode *p = event-&gt;target();\n        qDebug() &lt;&lt; \"object p: \" &lt;&lt; p-&gt;property(\"labelTextOne\"); //Print nothing\n    }\n}\n</code></pre>\n\n<p>Everything else is working just fine. My list of Containers is being created fine with their respective texts. When I click one of them, the event is being catched successfuly. I also tried to cast the VisualNode object to Container and it didn't work either. Please help!.</p>\n"},{"tags":["qt","qthread"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13231051,"title":"How to listen for a \"finished\" indication after moving the execution to another thread in Qt","body":"<p>I have a non-GUI operation which I intend to perform in a worker thread. \nAfter some googling, I figured out a simple way to achieve this <a href=\"http://qt-project.org/wiki/Threads_Events_QObjects\" rel=\"nofollow\">here</a></p>\n\n<p>In particular, the <code>QMetaObject::invokeMethod()</code> suits me fine. I have also taken care of not sub-classing QThread and instead subclassing QObject to create my worker object and then moving the thread affinity of this object to a newly created thread. (decribed in some detail <a href=\"http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow\">here</a></p>\n\n<p>Now my question:</p>\n\n<p>I will begin queuing methods from my main thread (I imagine this happens under the hood using a QEventLoop, even though I have not set one up and even though I have not re-implemented <code>QThread::run()</code> or called <code>QThread::exec()</code>) \nI need to find out when my worker has finished processing. In other words, I need to know when the QEventLoop is empty. I thought I could use the signal finished() for this. But it does not appear to work.\nCan someone throw some light on how to find out when a worker thread has finished execution?\nIf you need more info/code, just let me know. </p>\n\n<p>Class Plugin is a subclass of QObject</p>\n\n<pre><code>Plugin::Plugin()\n{\n    m_workerThread = new QThread(this);\n    m_workerThread-&gt;start(QThread::IdlePriority);\n    m_worker = new DataWorker(this);\n    connect(m_workerThread, SIGNAL(finished()), m_worker, SLOT(deleteLater()));    \n    m_worker-&gt;moveToThread(m_workerThread);\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Plugin::updateData()\n{\n....\nif( true == QMetaObject::invokeMethod(m_worker, \"RunFProcToGetData\", Qt::QueuedConnection, Q_ARG(QString, foo)))\n            {\n                qDebug() &lt;&lt; \"successfully invoked RunFProcToGetData\";\n            }\n            if( true == QMetaObject::invokeMethod(m_worker, \"updateDataIntoDB\", Qt::QueuedConnection, Q_ARG(QSqlDatabase, db),                                                Q_ARG(QString, foo)))\n            {\n                qDebug() &lt;&lt; \"successfully invoked updateDataIntoDB\";\n            }\n....\n}\n</code></pre>\n\n<p>In Dataworker class</p>\n\n<pre><code>Dataworker::RunProcToGetData(const QString &amp;foo)\n{\n// invoke a program to get the Data\n}\n\n\nDataworker::updateDataIntoDB(const QSqlDatabase&amp; db, const QString &amp;foo)\n{\n// Update database \n}\n</code></pre>\n\n<p>So when there are no more updateDataIntoDB and RunFProcToGetData left to process, I need a trigger</p>\n"},{"tags":["qt","qt4","qt-signals"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13232489,"title":"Sending an event when an QRect intersects another","body":"<p>I'm facing a problem about rectangle intersections. Notice I don't have any code written for this until now. I'm just thinking how to solve the problem.\nOk, here we go. In my SceneView, I have some <a href=\"http://doc.qt.digia.com/qt/qgraphicspixmapitem.html\" rel=\"nofollow\">QGraphicsPixmapItems</a> that will move continously in my scene. I want to trap all of them to move only in the limits of my scene.</p>\n\n<p>I had the idea to add a signal to my QGraphicsPixmapItems to notify my scene each time a move is occured. And in my scene I could have another signal to notify my items when one of them are out of bounds of my sceneRect. The problem with this approach is processing. If I emit a signal each time a move occurs this characterizes polling and this is not I want.</p>\n\n<p>I know about methods intersected() and intersects() of QRect. But again, calling each time a move occurs for me it's not a good idea.\nDo you know a good idea for this problem?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":13231878,"title":"is Qt's event loop is FIFO?","body":"<p>When you send a signal into a thread that it is not the GUI thread (by instance from a socket thread), the signal is enqueued in the event loop of the receiver's thread.(I believe this, tell me if I am wrong)</p>\n\n<p>I am wondering if this queue is FIFO ? I can't find it with google..</p>\n"},{"tags":["c++","qt","thread-safety","progress-bar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13229308,"title":"QProgresdialog: busy waiting bar is not moving while function is executing","body":"<p>I'm trying to show a busy waiting bar when one function is executing, my problem is it stop moving once the function starts.</p>\n\n<pre><code>MyProgressDialog *progBar= new MyProgressDialog();\n    QProgressBar* bar = new QProgressBar(progBar);\n    bar-&gt;setRange(0, 0);\n    bar-&gt;setValue(0);\n\n    progBar-&gt;setBar(bar);\n    QString labeltext=QString(\"&lt;qt&gt; &lt;center&gt;&lt;big&gt;&lt;b&gt;%1&lt;/b&gt;&lt;/big&gt;&lt;/center&gt; &lt;br&gt;&lt;b&gt;%2&lt;/b&gt;&lt;br&gt; %3 &lt;br&gt;&lt;b&gt;%4&lt;/b&gt;&lt;br&gt; %5&lt;/qt&gt;\")\n                         .arg(progBar-&gt;labeltext)\n                         .arg(\"File in :\")\n                         .arg(FileI)\n                         .arg(\"File out :\")\n                         .arg(FileO);\n    progBar-&gt;label-&gt;setText(labeltext);    \n    progBar-&gt;setValue(10);\n    progBar-&gt;show();\n    progBar-&gt;setValue(20);\n    Sleep(500);\n    progBar-&gt;setValue(50);\n    Sleep(500);\n    MyFunction(FileI,FileO,mode,key);\n    Sleep(500);\n    progBar-&gt;setValue(80);\n    Sleep(500);\n    progBar-&gt;setValue(100);\n    progBar-&gt;close();\n    delete bar;\n    delete progBar;\n</code></pre>\n\n<p>I warpped my function with a sleep and set value in purpose to let it moving but in vain, when I remove them MyProgressdialog didn't show its contents, am I need to lunch my function in a separate thread ?\n I tried to use QFutureWatcher:</p>\n\n<pre><code> QFutureWatcher&lt;void&gt; futureWatcher;\n                       QFuture&lt;void&gt; f1 = run(\n                                              MyFunction,\n                                              filePath,\n                                              file.absolutePath()+\"/OUT_\"+fileN,\n                                              1,\n                                              key\n                                              );\n                       QObject::connect(&amp;futureWatcher, SIGNAL(finished()), progBar, SLOT(reset()));\n                       QObject::connect(progBar, SIGNAL(canceled()), &amp;futureWatcher, SLOT(cancel()));\n                       QObject::connect(&amp;futureWatcher, SIGNAL(progressRangeChanged(int,int)), progBar, SLOT(setRange(int,int)));\n                       QObject::connect(&amp;futureWatcher, SIGNAL(progressValueChanged(int)), progBar, SLOT(setValue(int)));\n\n                       // Start the computation.\n                       futureWatcher.setFuture(f1);\n                       // Display the dialog and start the event loop.\n                       progBar-&gt;exec();\n                       futureWatcher.waitForFinished();\n                       delete progBar;\n</code></pre>\n\n<p>It works fine and my bar is moving when I call MyFunction just one time (for one file) but the problem occurs when I call MyFunction more than one time (for many files successively): it works but I get the same OUT_file for all files treated, I think it is multithreading issue.</p>\n\n<p>Any idea please.\nThanks in advance.</p>\n\n<p><strong>EDIT:</strong>  <code>class MyProgressDialog</code></p>\n\n<pre><code>class MyProgressDialog: public QProgressDialog\n{\n  Q_OBJECT\n\n  public:\n\n    MyProgressDialog()\n      {\n\n      qDebug()&lt;&lt;\"MyProgressDialog constructor\";\n\n      label=new QLabel(this);\n\n      QPalette* palette = new QPalette();\n      palette-&gt;setColor(QPalette::Window,\"#F8F8FF\");\n      setPalette(*palette);\n\n      QFont* font = new QFont(\"Courier New\");\n          font-&gt;setItalic(true);\n          font-&gt;setPixelSize(15);\n      setFont(*font);\n      adjustSize();\n\n     setWindowIcon(QIcon(QApplication::applicationDirPath()+\"/icons/icon1.png\"));\n     setWindowFlags(Qt::WindowStaysOnTopHint);\n     setMinimumWidth(500);\n     setMinimumHeight(200);\n     labeltext=QString(\"Please wait until Encryption/Decryption was done\");\n     label-&gt;setText(labeltext);\n     label-&gt;adjustSize();\n     label-&gt;setWordWrap (true);\n     setLabel(label);\n\n     setRange(0,100);\n     setWindowTitle(\"MyFunction progress\");        \n     setModal(true);    \n\n    }\n    ~MyProgressDialog()\n    {\n        qDebug()&lt;&lt;\"MyProgressDialog destructor\";\n        delete label;\n    }\n\n\n\npublic:\n\n  int value;     \n  QString labeltext;\n  QLabel* label;\n\n};\n</code></pre>\n"},{"tags":["windows","qt","mingw","throw"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":31,"score":3,"question_id":13231273,"title":"Exceptions cause crash (Qt SDK 1.2.1 - Qt4.8.1, MinGW, windows)","body":"<p>I have an ugly problem and would appreciate any help!! My program crashes on windows any time there an exception is thrown, e.g.:</p>\n\n<pre><code>try\n{\n   throw QString(\"lala\");\n}\ncatch(QString &amp;s)\n{\n  ...\n}\n</code></pre>\n\n<p>I’m using Qt 4.8.1 with MinGW in the QtCreator. I found quite a few discussions and tried</p>\n\n<ul>\n<li>rebuilding the source code with -exceptions</li>\n<li>adding QMAKE_CXXFLAGS += -fexceptions</li>\n</ul>\n\n<p>but no change. Windows tells me that the program crashed at the point where I throw the error. Under Linux everything works fine.</p>\n\n<p>Without wanting to discuss the pros and cons of using exceptions at all, I wonder if it’s a problem with Qt or MinGW and what I can do to get rid of the problem.</p>\n"},{"tags":["qt","signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13230660,"title":"emit and slots order execution","body":"<p>One thread do an <code>emit signal1();</code></p>\n\n<p>A second thread do an <code>emit signal2();</code> after that first thread has sent its signal ( there is the same mutex locked before emit call on both thread and I logged it, I can see in my log that first thread acquire lock before second thread)</p>\n\n<p>first thread and second thread or not the GUI thread.</p>\n\n<p>Is there any guarentees that signal1's slot will be call before signal2's slot ?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13228690,"title":"QT Docking with docking arrow best way to design","body":"<p>I am new to QT GUI design and am having difficulty in finding any third party library to accelerate my requirements , so it looks like we will have to implement this ourselves. What we need is a docking window setup similar to the Visual studios GUI with docking assists with docking arrow. </p>\n\n<p>My question is what is best strategy to get this done as quick as possible? are there any examples/ samples to start this thing off?  </p>\n"},{"tags":["c++","qt","polygon","intersection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13228045,"title":"Finding fully contained squares in a QPolygon?","body":"<p>I am looking for an approach to find a set of squares that are fully contained inside a QPolygon, which is not necessarily convex. My naive approach so far looks like this:</p>\n\n<pre><code>QRectF boundingRect(mShape-&gt;boundingRect());\nfor (int x = boundingRect.x() - 1; x &lt; boundingRect.width(); x++)\n{\n    for (int y = boundingRect.y() - 1; y &lt; boundingRect.height(); y++)\n    {\n        QRectF rect(x, y, 1, 1);\n        QPolygonF cell(rect);\n        QPolygonF intersection = mShape-&gt;polygon().intersected(cell);\n        if (!intersection.empty())\n        {\n            // Cell is fully contained\n        }\n    }\n}\n</code></pre>\n\n<p>When I visualise the result, it looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/5eLQw.png\" alt=\"Cells intersecting with the polygon are not left out\"></p>\n\n<p>This is almost what I want, except that the cells intersecting with the \"outline\" of the polygon shouldn't be there. Does anyone have a nice idea how I could construct a set of squares that are entirely \"inside\" the polygon?</p>\n"},{"tags":["qt","qt-creator","qpixmap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13226625,"title":"C++ Qt - QPixmap does not load with Qt Creator, but load when run via terminal","body":"<p>I am coding a GUI using Qt. When I run the application using <code>QtCreator</code>, my images do not load, and I receive the following error:</p>\n\n<pre><code>QPixmap::scaled: Pixmap is a null pixmap\n</code></pre>\n\n<p>Yet, when I run the application via command line, everything displays perfectly.</p>\n\n<p>Why so? And how can I get <code>QtCreator</code> to load my images properly?</p>\n\n<p>NB: Those images are barely 20ko each, so what I read about images being too big can't apply.</p>\n\n<p>EDIT: A typical filename is <code>'Images/Cards/Base/card01.jpg'</code>, where <code>Images</code> is a subdirectory of my project directory (the code being at the root)</p>\n"},{"tags":["c++","qt","types","protocol-buffers"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":1888,"score":7,"question_id":4252912,"title":"Qt + protobuf, types?","body":"<p>I would like to dip into Google's protocol buffers in Qt development, but I am having trouble figuring out how to incorporate them best.</p>\n\n<p>Ultimately, I want to send with <code>QUdpSocket</code> and <code>QTcpSocket</code> using protocol buffers.</p>\n\n<p>What is the best method for going between a protocol buffer <code>message</code> to sending the data over a socket (<code>QByteArray</code>) and then back again at the other side?</p>\n\n<p>Thanks!\n-J</p>\n"},{"tags":["c++","qt","qt4","qt-creator","cdb"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":3303,"score":5,"question_id":5318691,"title":"How to get Qt Creator to work with CDB?","body":"<p>I'm using <a href=\"http://en.wikipedia.org/wiki/Qt_Creator\" rel=\"nofollow\">Qt Creator</a> 2.01 32-bit with Qt 4.7.1 on Windows 7 64-bit.  I compiled my Qt library using Microsoft Visual C++ 2010.  Now I want to use <a href=\"http://msdn.microsoft.com/en-us/library/ff539051%28v=vs.85%29.aspx\" rel=\"nofollow\">CDB</a> with Qt Creator (or <a href=\"http://en.wikipedia.org/wiki/GNU_Debugger\" rel=\"nofollow\">GDB</a> if that works, or whatever is the best option).  What exactly do I need to do to be able to debug with CDB (so I can set break points and see symbols)?</p>\n\n<p>Please don't just point me to <a href=\"http://doc.qt.nokia.com/qtcreator-snapshot/creator-debugger-engines.html\" rel=\"nofollow\">http://doc.qt.nokia.com/qtcreator-snapshot/creator-debugger-engines.html</a> because I've been there and I'm still missing something.  I have Windows SDK installed with debugger tools (but I think it's the 64-bit version).  What I'm looking for is what options I need to set in Qt Creator to get this all setup.</p>\n\n<p><strong>EDIT:</strong>\nAlso I should clarify I think the debugger kind of works because I can hit F5 and my application starts and then I can select \"debug->interrupt\" and it seems to stop.  But in the call stack the function names look mangled and breakpoints set in the editor don't break.  If I hit <kbd>F10</kbd>, then it steps through the code in what looks like assembly.  Maybe it's because I'm building a DLL and I set <kbd>F5</kbd> to run the parent application which in turn loads and calls my DLL.</p>\n"},{"tags":["c++","qt","qtcpsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13225756,"title":"C++ Qt - QTcpSocket - File not found","body":"<p>I am using <code>Qt</code> and <code>QTcpSocket</code> to create a small chat client/server application.</p>\n\n<p>When I compile my code, the compiler returns the following error:</p>\n\n<pre><code>main.cpp:3:22: fatal error: QTcpSocket: No such file or directory\n</code></pre>\n\n<p>This refers to <code>#include &lt;QTcpSocket&gt;</code>.</p>\n\n<p>Where is this library located and how can I install it?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13214730,"title":"QTimer timeout signal not invoking slot when run on a different thread","body":"<p>I have a subclass of QObject referred to as myObject, which has a QTimer data member allocated on the heap in the constructor. myObject also has a slot which is connected to the QTimer timeout() signal in the constructor. I refer to the pointer of myObject as myObject_ptr.</p>\n\n<p>I want to run myObject on a different thread from the main thread. Following the relatively new recommendations, I DO NOT subclass QThread. In the main thread, I use myObject as follows:</p>\n\n<pre><code>QThread *thread = new QThread(this);\nmyObject_ptr-&gt;moveToThread(thread);\nconnect(myObject_ptr, SIGNAL(destroyed(), thread, SLOT(quit())); //thread not needed if no object\nconnect(thread, SIGNAL(finished()), thread, SLOT(deleteLater())); //to avoid memory leak\nconnect(thread, SIGNAL(terminated()), thread, SLOT(deleteLater())); //to avoid memory leak\nthread-&gt;start();\n</code></pre>\n\n<p>The main thread invokes a function of myObject_ptr which in turn starts the QTimer data member. When it times out, nothing happens, but I expect the slot of myObject to which the timer's timeout() signal is connected to be invoked. What is the problem? How do you make this work. It works flawlessly if myObject is run on the same thread where it was created i.e. main thread.</p>\n\n<p>From all the readings I've done, I think the new thread I am creating might not be processing events because it doesn't have it's own event loop. I also read documentation/articles contrary to that, saying that when the thread starts, the run() function calls exec() and you have an event loop.</p>\n\n<p>Could someone help me please?</p>\n\n<p>I could probably get it to work correctly if I subclass QThread, but based on current recommendations, I would prefer to avoid doing that.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c++","qt","user-interface","qt-creator","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13224434,"title":"Qt creator - .ui form displaying in new window","body":"<p>I'm in the process of creating a GUI in Qt creator. Right now I have different .ui forms that correspond with different parts of my GUI. My login.ui window appears when you first run the program. When you click the loginButton, a new window displays with my MainMenuScreen.ui form. My problem is I don't want the MainMenuScreen to open in a new window...I want the application to only have one window and the contents change...any way I can do this by keeping separate .ui forms and without using StackedWidgets? My LoginScreen.ui and MainMenuScreen.ui both extend QWidget and in my Login.cpp I have an onclick event function which calls show() and creates the new window of my MainMenuScreen.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","winapi","kinect","bstr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13224445,"title":"Why BSTR and how to convert it to QString?","body":"<p>I'm working with a Microsoft Kinect SDK where functions return BSTR. I need to get a QString or std::string.</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>BSTR bstr = s-&gt;NuiUniqueId();\n\n// QString qs((QChar*)bstr, SysStringLen(bstr));\n\nstd::wstring ws(bstr);\n\nui-&gt;lblDetails-&gt;setText(QString::fromStdWString(ws));\n</code></pre>\n\n<p>With this solution the program crashes. With the line that is commented out I get \"unresolved external symbol SysStringLen\".</p>\n\n<p>Is SysStringLen the way to go, but I need to add some additional libraries (wouldn't the API include it already) or is there another solution?</p>\n\n<hr>\n\n<p>Additional question: why does Microsoft do it? I mean:</p>\n\n<pre><code>#if !defined(_NATIVE_WCHAR_T_DEFINED)\ntypedef unsigned short WCHAR;\n#else\ntypedef wchar_t WCHAR;\n#endif\ntypedef WCHAR OLECHAR;\ntypedef OLECHAR* BSTR;\ntypedef BSTR* LPBSTR;\n</code></pre>\n\n<p>What's the reason behind stuff like this? And even if they find it beneficial to use it internally, couldn't they just use normal char array or std::(w)string in the API to make other's life easier?</p>\n"},{"tags":["c++","linux","qt","qwidget","qpainter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12740848,"title":"QPainter Save State","body":"<p>I have a QWidget in which I use a QPainter object to draw some dots but when update() method is invoked, the QWidget's draw is cleared completely. Is there any way to save the actual state and just add dots, or i have to save every dot and paint them in every paintEvent() call ? Basically when I press an arrow, I must show a line on the QWidget (it's for a car rally).</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13222287,"title":"remove \"?\"-button from QT dialog","body":"<p>I wanted to remove the \"?\"-button from a qt dialog like explained <a href=\"http://stackoverflow.com/questions/81627/how-can-i-hide-delete-the-help-button-on-the-title-bar-of-a-qt-dialog\">here</a>, but somehow it doesn't work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>Qt::WindowFlags flags;\nflags = (Qt::Dialog | Qt::WindowStaysOnTopHint) &amp; ~Qt::WindowContextHelpButtonHint;\nsetWindowFlags( flags );\n</code></pre>\n\n<p>I think that there is something wrong with the bitwise operators, but I don't know what..</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13219350,"title":"How to generate memory leak by QString and other implicit sharing data structure of Qt","body":"<p>QString and many data structure of Qt are implicit sharing</p>\n\n<p>How could I make their memory leak?     </p>\n\n<p>Circular dependency would cause memory leak if it is shared_ptr\nWould QString and other QString like data structure in Qt memory leak too?\nI want to know how to make the memory of QString leak, so I would not fall \ninto the trap of it.</p>\n\n<p>After some study, looks like I don't have to worry about circular dependency when\nit is QString? Thanks to your reply, now I don't have to worry about it.</p>\n"},{"tags":["qt","tooltip","statusbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13223797,"title":"QT WhatsThis Help Hover but no click","body":"<p>do you know if there is a way to use the QT WhatsThis help not by clicking on the component in a \"WhatsThis mode\" but just in a separate help window (QTextBrowser) by mouse hover (mouse move) over the component.</p>\n\n<p>I am just imagining a tooltip but not pop up a small window but display a small detailed help in an additional window.</p>\n\n<p>Thank you and best regards\nM.S</p>\n"},{"tags":["qt","post"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13222465,"title":"Error POSTing data with Qt","body":"<p>I want to POST data to a PHP form using this code, but after compiling I have message: </p>\n\n<blockquote>\n  <p>Object::connect: No such signal NetworkReplyImpl::finished(QNetworkReply*):</p>\n</blockquote>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent)\n{\n    QUrl params;\n    QUrl url(\"localhost/test2.php\");\n    params.addQueryItem(\"name\",\"aaa\");\n    params.addQueryItem(\"country\",\"bbb\");\n\n    QByteArray data;\n    data.append(params.toString());\n    data.remove(0,1);\n\n    QNetworkAccessManager *manager = new QNetworkAccessManager(this);\n    QNetworkReply *reply = manager-&gt;post(QNetworkRequest(url), data);\n    connect(reply, SIGNAL(finished(QNetworkReply*)), this,SLOT(replyFinished(QNetworkReply*)));\n\n}\n\n\nMainWindow::~MainWindow()\n{\n\n}\nvoid MainWindow::replyFinished(QNetworkReply *reply)\n{\n    QString data = reply-&gt;readAll().trimmed();\n    qDebug() &lt;&lt; data;\n}\n</code></pre>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13219150,"title":"What's the header file of gluLookAt in Qt?","body":"<p>I got some code for using OpenGL in Qt. And when I run it I got error as below:</p>\n\n<pre><code>C:\\Users\\Administrator\\Desktop\\NeHe6\\NeHe6-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\\..\\NeHe6\\nehewidget.cpp:54: error: 'gluLookAt' was not declared in this scope\n</code></pre>\n\n<p>It seems the header is missing. And the current headers are:</p>\n\n<pre><code>#include \"nehewidget.h\"\n#include &lt;QtGui&gt;\n#include &lt;qtopengl\\QtOpenGL&gt;\n</code></pre>\n\n<p>And \"nehewidget.h\" contains below headers:</p>\n\n<pre><code>#include &lt;qtopengl\\QGLWidget&gt;\n#include &lt;QTimer&gt;\n</code></pre>\n\n<p>Could anyone tell me what is the missing header? Thanks!</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":1158,"score":-1,"question_id":5350413,"title":"how to play a wav file in qt","body":"<p>can anyone tell me how to play a .wav file in qt</p>\n"},{"tags":["qt","iframe","qtwebkit"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13189296,"title":"How to get the QWebFrame for an iframe/frame QWebElement?","body":"<p>I have simple Qt GUI application which uses QtWebkit. I am loading complex page with a lot of nested IFRAME-tags. And I want to traverse complete DOM tree (like Chrome browser does in debug-panel) including content of iframes.</p>\n\n<p>My code is:</p>\n\n<pre><code>QWebElement doc = ui-&gt;webView-&gt;page()-&gt;mainFrame()-&gt;documentElement();\nQWebElement iframe = doc.findFirst(\"iframe[id=someid]\");\nQWebFrame *webFrame = ....? // how to get the QWebFrame for an iframe/frame QWebElement?\n</code></pre>\n\n<p>Note:\nI can traverse over all frames (including nested):</p>\n\n<pre><code>void MainWindow::renderFramesTree(QWebFrame *frame, int indent)\n{\n    QString s;\n    s.fill(' ', indent * 4);\n    ui-&gt;textLog-&gt;appendPlainText(s + \" \" + frame-&gt;frameName());\n    foreach (QWebFrame *child, frame-&gt;childFrames())\n        renderFramesTree(child, indent + 1);\n}\n</code></pre>\n\n<p>But my question is not about that. I need to get corresponding QWebFrame* of iframe-QWebElement.</p>\n\n<p>Thanx!</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13215298,"title":"Centering a QDialog relative to its parent while using RestoreGeometry()","body":"<p>I have a program that has several QDialogs. Most are a fixed size, but one is a resizable editor. The editor dialog gets its geometry restored from a QByteArray. </p>\n\n<p>The problem I'm having is the Editor is <strong>not</strong> being centered correctly. (only the window's x/y dimensions) The Editor usually appears in the upper left corner when it is instantiated. </p>\n\n<p>The Editor class gets instantiated like this in MainWindow:</p>\n\n<pre><code>Editor e(this);\ne.exec();\n</code></pre>\n\n<p>For some reason, restoring the window geometry breaks the Editor's automatic centering relative to its parent. Before I implemented the SaveGeometry and RestoreGeomentry code today, the editor worked fine.</p>\n\n<p>Here's the SaveGeometry code in Editor.cpp: (it gets executed right before the current Editor object is destroyed)</p>\n\n<pre><code>// Remember current window size\nQByteArray geo=saveGeometry();\nSettingsManager s;\ns.SaveEditorSize(geo);\n</code></pre>\n\n<p>Here's the restore code in Editor.cpp: (this is part of a function that sets up the UI, assigns a layout, etc.) </p>\n\n<pre><code>if(!Buffer::editor_geometry.isEmpty()){\n    restoreGeometry(Buffer::editor_geometry);\n}\n</code></pre>\n\n<p>Does anyone know what the problem is? </p>\n\n<p>Edit: Actually, it does remember where it was last time, it just won't center.</p>\n"},{"tags":["qt","ubuntu","build"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13220499,"title":"Compiling Qt 4.8.3 on Ubuntu 12 failing","body":"<p>I am new to Ubuntu and i am getting a message while building Qt 4.8.3 on Ubuntu 12:</p>\n\n<blockquote>\n  <p>Basic XLib functionality test failed!  You might need to modify the\n  include and library search paths by editing  QMAKE_INCDIR_X11 and\n  QMAKE_LIBDIR_X11 in\n  /home/majidmax/qt-everywhere-opensource-src-4.8.3/mkspecs/linux-g++.</p>\n</blockquote>\n\n<p>what the proper steps to build Qt on Ubuntu?</p>\n"},{"tags":["qt","plugins","desktop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13219653,"title":"QT Quick Desktop Components","body":"<p>I tried to install QT Quick Desktop Components,\nbut I got an error like:</p>\n\n<blockquote>\n  <p>module \"QtDesktop\" plugin \"styleplugin\" not found \n       import QtDesktop 0.1 \n       ^</p>\n</blockquote>\n\n<p>Can anyone help me with that please???</p>\n"},{"tags":["c++","qt","boost-msm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13218011,"title":"boost meta state machine and Qt(moc issue)","body":"<p>I would like to combine boost meta state machine with Qt\nbut there are a problem I can't solve</p>\n\n<pre><code>#include &lt;boost/msm/back/state_machine.hpp&gt;\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\n  class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n  Q_OBJECT\n\n  public:\n    explicit MainWindow(QWidget *parent = 0);\n   ~MainWindow();\n\n  private:\n    Ui::MainWindow *ui;\n};\n</code></pre>\n\n<p>Will show error messages like</p>\n\n<p>:-1: error: [debug/moc_MainWindow.cpp] Error 1\nfile not fount</p>\n\n<p>I upload the whole file onto <a href=\"http://www.sendspace.com/file/2dhrlu\" rel=\"nofollow\">http://www.sendspace.com/file/2dhrlu</a></p>\n\n<p>I checked it and confirm it is the whole error message, nothing more</p>\n\n<p>I am using Qt4.8.2, mingw4.6.2, win7 64bits, pc is lenova G770</p>\n\n<p>The .pro file</p>\n\n<p>QT += core gui</p>\n\n<p>CONFIG += console exceptions rtti</p>\n\n<p>INCLUDEPATH += ../../boost_1_51_0</p>\n\n<p>greaterThan(QT_MAJOR_VERSION, 4): QT += widgets</p>\n\n<p>TARGET = test_moc TEMPLATE = app</p>\n\n<p>SOURCES += main.cpp\\ MainWindow.cpp</p>\n\n<p>HEADERS += MainWindow.hpp</p>\n\n<p>FORMS += MainWindow.ui</p>\n\n<p>How could I solve this question?Thanks</p>\n"},{"tags":["c++","qt","soci"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13218297,"title":"Using SOCI with Qt = how to write a good *.pro file?","body":"<p>I would like to write a GUI app using Qt and SOCI. How to write a good *.pro file to compile project with no errors? I wrote this:</p>\n\n<pre><code>QT       += core gui\n\nTARGET = example-project\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nINCLUDEPATH += /usr/local/include/soci\\\n                /usr/include/postgresql/\nLIBS += -lsoci_core -lsoci_postgresql -ldl -lpq\n</code></pre>\n\n<p>and it works but I dont know if its correct :)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13199267,"title":"Authenticating users on a Qt Server","body":"<p>I am trying to implement an authentication system using C++/QtTcpSocket for a personal project (A Multiplayer Chess Game).</p>\n\n<p>My friend suggested a method for verifying a user but I wanted to ask if there was an easier or better way. Coming from a Python background and mostly doing this project to develop a deeper understanding of C++.</p>\n\n<p>I will post the method my friend suggested and ask for maybe a better solution.</p>\n\n<p>He built it in a kind of pseudo code fashion. The server is mostly built, I am now hoping to implement Authentication</p>\n\n<p>*cheers</p>\n\n<pre><code>void process_packet(PACKET *pkt)\n{\n    switch(pkt-&gt;PacketID)\n    {\n        case 0: // let's say packet id 0 is the logon packet; packet contents are username and password\n        {\n            //let's say packet size is 101 bytes; packet id was already received, so get the other 100 bytes\n            unsigned char BUFFER[101] = {0}; // i always add an extra byte to the end of the buffer to allow for off-by-one errors ^_^\n\n            int result = recv_packet(pkt-&gt;cSocket, 100, BUFFER);\n\n            if(result &lt;= 0)\n                return; // connection error; no packet data was received\n\n            unsigned char *UserName = BUFFER+0; //+0 is not neccessary, but the username starts at the beginning. just getting the point across.\n            unsigned char *PassWord = BUFFER+50;\n\n            //side note: if we did \"unsigned long *blah = BUFFER+4\" or something, we would have to make sure the byte order is right. network byte order is BIG ENDIAN\n            //  WINDOWS byte order is LITTLE ENDIAN\n\n            result = QueryDatabase(\"SELECT username, password FROM chess_players WHERE username = '%s'\", FILTER_INVALID_CHARS(UserName));\n\n            // check result\n\n            unsigned char ServerResponse[2] = {0};\n\n            if(result['password'] == PassWord)\n            {\n                ServerResponse[0] = 1; // packet id will be 1. the next byte can be 1 or 0 to indicate logon success or failure.\n                ServerResponse[1] = true; // so packet 0x0101 mean logon success, packet 0x0100 means logon failure\n                send_packet(pkt-&gt;cSocket, ServerResponse, 2);\n            } else {\n\n                ServerResponse[0] = 1;\n                ServerResponse[1] = false;\n                send_packet(pkt-&gt;cSocket, ServerResponse, 2);\n            }\n        }\n        break;\n\n        default:\n        {\n            // received an unknown packet id; send a packet to the client that indicates an error_status_t\n\n            unsigned char *ServerResponse[2] = {0};\n            ServerResponse[0] = 2; // packet id 2 means server error\n            ServerResponse[1] = 0; // error code 0 means 'unknown packet id'\n\n            send_packet(pkt_cSocket, ServerResponse, 2);\n        }\n        break;\n    }\n\n    delete pkt; // must delete pkt, was created with 'new' in get_client_packets()\n}\n</code></pre>\n"},{"tags":["qt","ms-word","activex"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13217231,"title":"Missing scrolbar when viewing word docucment in QAxWidget","body":"<p>I want to view a word document within a QT application. The QT version I have is 4.7.2, compiled with visual studio 2010 service pack 2. I have MS word 2003 installed. I have the following code:</p>\n\n<pre><code>QAxWidget* WordDocument=new QAxWidget (\"Word.Document\",this);\nWordDocument-&gt; setGeometry (QRect (10, 10, 621, 471));\nWordDocument-&gt;setControl (\"c:\\\\tset.doc\");\nWordDocument-&gt; show ();\n</code></pre>\n\n<p>I can see the word document, however the scrollbars are missing. Any ideas what is wrong?</p>\n"},{"tags":["c++","xml","qt","xsd","code-generation"],"answer_count":5,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":4967,"score":7,"question_id":445905,"title":"XML Schema to C++ Classes","body":"<p>I have to write a C++ Application (using the Qt Framework for the GUI) that can edit data stored in xml files described by a xsd schema file. Is there a tool to convert the xsd schema into C++ Classes?</p>\n"},{"tags":["python","qt","webkit","headless","headless-browser"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13215120,"title":"How do I make Python, QT, and Webkit work on a headless server?","body":"<p>I have Debian Linux server that I use for a variety of things.  I want it to be able to do some web-scraping jobs I need done regularly.  </p>\n\n<p>This code can be <a href=\"http://bit.ly/QeqvzX\" rel=\"nofollow\">found here</a>.</p>\n\n<pre><code>import sys  \nfrom PyQt4.QtGui import *  \nfrom PyQt4.QtCore import *  \nfrom PyQt4.QtWebKit import *  \n\nclass Render(QWebPage):  \n  def __init__(self, url):  \n    self.app = QApplication(sys.argv, False)  # Line updated based on mata's answer\n    QWebPage.__init__(self)  \n    self.loadFinished.connect(self._loadFinished)  \n    self.mainFrame().load(QUrl(url))  \n    self.app.exec_()  \n\n  def _loadFinished(self, result):  \n    self.frame = self.mainFrame()  \n    self.app.quit()  \n</code></pre>\n\n<p>A simple test of it would look like this:</p>\n\n<pre><code>url = 'http://example.com'\nprint Render(url).frame.toHtml()\n</code></pre>\n\n<p>On the call to the constructor it dies with this message (it's printed to stdout, not an uncaught exception).</p>\n\n<pre><code>: cannot connect to X server \n</code></pre>\n\n<p>How can I use Python (2.7), QT4, and Webkit on a headless server?  Nothing ever needs to be displayed, so I can tweek any settings or anything that need to be tweeked.  </p>\n\n<p>I've looked into alternatives, but this is the best fit for me and my projects.  If I did have to install an X server, how could I do it with minimal overhead?</p>\n"},{"tags":["qt","post","upload","qthread"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13211786,"title":"Qt Signals and slots in a QThread","body":"<p>I am currently experiencing issues on a Qt thread.</p>\n\n<p>I have to upload a list of files in a QThread, but apparently one upload doesn't work and/or my slots are never called. If I put the methods out of the thread it works perfectly.</p>\n\n<p>Here is the run() method :</p>\n\n<pre><code>void UploadThread::run()\n{\n    for (int i = 0; i &lt; Window::_listUpload.size(); i++) {\n        qDebug() &lt;&lt; Window::_listUpload[i].getPath();\n        this-&gt;sendFile(Window::_listUpload[i].getPath());\n    }\n}\n</code></pre>\n\n<p>Here is the sendFile() method :</p>\n\n<pre><code>void UploadThread::sendFile(const QString &amp; path)\n{\n    QFreeDesktopMime mime;\n    QNetworkAccessManager *manager = new QNetworkAccessManager;\n    QFileInfo fInfo(path);\n    QNetworkRequest request(QUrl(\"http://my-url/\"));\n    QNetworkReply *reply;\n\n    QString bound = \"---------------------------723690991551375881941828858\";\n    QByteArray data(QString(\"--\"+bound+\"\\r\\n\").toAscii());\n    data += \"Content-Disposition: form-data; name=\\\"action\\\"\\r\\n\\r\\n\";\n    data += \"\\r\\n\";\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += \"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"\"+fInfo.fileName()+\"\\\"\\r\\n\";\n    data += \"Content-Type: \"+mime.fromFile(path)+\"\\r\\n\\r\\n\";\n\n    QFile file(fInfo.absoluteFilePath());\n    file.open(QIODevice::ReadOnly);\n    data += file.readAll();\n    data += \"\\r\\n\";\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += QString(\"--\" + bound + \"\\r\\n\").toAscii();\n    data += \"Content-Disposition: form-data; name=\\\"desc\\\"\\r\\n\\r\\n\";\n    data += \"Description for my image here :)\\r\\n\";\n    data += \"\\r\\n\";\n    request.setRawHeader(QString(\"Accept-Encoding\").toAscii(), QString(\"gzip,deflate\").toAscii());\n    request.setRawHeader(QString(\"Content-Type\").toAscii(),QString(\"multipart/form-data; boundary=\" + bound).toAscii());\n    request.setRawHeader(QString(\"Content-Length\").toAscii(), QString::number(data.length()).toAscii());\n\n    reply = manager-&gt;post(request, data);\n\n    QObject::connect(reply, SIGNAL(uploadProgress(qint64,qint64)), currentThread(), SLOT(receiveUploadProgress(qint64, qint64)));\n    QObject::connect(manager, SIGNAL(finished(QNetworkReply*)), currentThread(), SLOT(uploadFinished(QNetworkReply*)));\n}\n</code></pre>\n\n<p>And here are my slots :</p>\n\n<pre><code>void UploadThread::uploadFinished(QNetworkReply *reply)\n{\n    _isFinished = true;\n}\n\nvoid UploadThread::receiveUploadProgress(qint64 bytesSent, qint64 bytesTotal)\n{\n    qDebug() &lt;&lt; bytesSent &lt;&lt; \" \" &lt;&lt; bytesTotal;\n}\n</code></pre>\n\n<p>Do you see a problem in my code ?\nThank you.</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13214647,"title":"QPainter::end() slow when multiple QGLWidgets visible","body":"<p>In my MDI sub-window GUI I have two tabs: in one tab is a single large <code>QGLWidget</code> derived class, and in the other four <code>QGLWidget</code>s separated by splitters.  They each have their own OpenGL contexts (for the actual painting), share another across all 5 (for geometry data), and share one application-wide (for shaders).</p>\n\n<p>When drawing in the single viewport tab, it's very fast as expected; but when drawing in the quad view (each viewport is updated from a timer in creation order), the rendering speed plummets and gets worse with each viewport as the list is iterated through.</p>\n\n<p>I began to profile and narrowed down the search to a <code>Qt</code> call that was taking so much longer in quad view than single view:</p>\n\n<pre><code>QPainter::end();\n</code></pre>\n\n<p>So when only the large single viewport is visible, I get <code>QPainter::end()</code> timings (in microseconds) like this:</p>\n\n<pre><code>Total time(us): 981\nNumber of calls: 32\nAverage call time(us): 30.656250\n</code></pre>\n\n<p>Quite reasonable.  But when I switch to the quad view:</p>\n\n<pre><code>Viewport 1:\nTotal time(us): 196023\nNumber of calls: 32\nAverage call time(us): 6125.718750\n\nViewport 2:\nTotal time(us): 509769\nNumber of calls: 32\nAverage call time(us): 15930.281250\n\nViewport 3:\nTotal time(us): 518504\nNumber of calls: 32\nAverage call time(us): 16203.250000\n\nViewport 4:\nTotal time(us): 518226\nNumber of calls: 32\nAverage call time(us): 16194.562500\n</code></pre>\n\n<p>Vastly longer for what is supposed to be the same amount of work.  Even stranger, is that it increases 200x(!), and then 2.5x for the next viewport before stabilising.  If I run the tests for longer they give almost exactly the same readings - it doesn't increase any further.</p>\n\n<p>The <code>QPainter</code> code in question is simply:</p>\n\n<pre><code>QPainter p;\np.begin( this );\np.beginNativePainting();\nglUseProgram( program_ );\n\nglActiveTexture( GL_TEXTURE0 );\nglBindTexture( GL_TEXTURE_2D, buffer2d_-&gt;texture() );\nglActiveTexture( GL_TEXTURE1 );\nglBindTexture( GL_TEXTURE_2D, buffer3d_-&gt;texture() );\n\nsurfaceBuf_.bind();\nglDrawArrays( GL_TRIANGLE_FAN, 0, 4 );\nsurfaceBuf_.unbind();\n\np.endNativePainting();\np.end();\n</code></pre>\n\n<p>I browsed through the source code of the <code>QPainter::end()</code> and <code>QOpenGLPaintEngine::end()</code>, but it just seems to be state reversion and making sure the draw queue has been flushed.  Considering I don't set any state requests, or do any drawing through Qt (all my calls are raw OpenGL) - it shouldn't have anything to do.</p>\n\n<p>Why does the time increase even though the <code>QPainter</code> instance is created on the stack, and each viewport is doing the same amount of work?</p>\n"},{"tags":["linux","qt","gui","qt4.8"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":13188567,"title":"Qt 4.8.3 GUI application on Linux looks old and doesn't match the designer preview","body":"<p>I installed Qt 4.8.3 and Qt Creator 2.5.2 on Fedora 17 and Ubuntu 12.04.\nWhen I create a GUI application, the visual elements look good in the Qt Designer preview window. However when I run the application, the resulting application has an older style which is inconsistent with the OS and does not match the preview in Qt Designer.</p>\n\n<p>In both of the images below, the top part is the preview from Qt Designer and the bottom part is the compiled application. </p>\n\n<ul>\n<li>Qt was installed by compiling the source located at <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a></li>\n<li>During ./configure phase of the installation, the \"open source\" version was chosen.</li>\n<li>This issue occurs whether the application is run from the OS or launched from the IDE</li>\n</ul>\n\n<p>Is there a way to make the compiled GUI application appear properly?</p>\n\n<p><strong>Fedora:</strong></p>\n\n<ul>\n<li>Top Half = Qt Designer preview (desired)</li>\n<li>Bottom Half = resulting application</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/h2Z6l.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Ubuntu:</strong></p>\n\n<ul>\n<li>Top Half = Qt Designer preview (desired)</li>\n<li>Bottom Half = resulting application</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/agPAs.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Addendum:</strong>\nHere is an image showing a 4.8.1 compiled application (how it's supposed to look like)\n<img src=\"http://i.stack.imgur.com/Elq6q.png\" alt=\"enter image description here\"></p>\n\n<p>Additionally, If I install both 4.8.1 and 4.8.3 on the same computer, even 4.8.1 compiled applications will not appear properly:\n<img src=\"http://i.stack.imgur.com/RGtmY.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","qt","pyqt","qwebview","pyside"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1995,"score":1,"question_id":2304952,"title":"QWebView not loading external CSS","body":"<p>I am using a QWebView to display some content and I want to use custom CSS to spruce up the output.  I found that I can use the <code>QWebSettings.setUserStyleSheetUrl()</code> method to load my own CSS into the view.  The <code>.css</code> file is in the same directory as my main program.</p>\n\n<pre><code>self.webview = QWebView(MainWindow)\nself.webview.settings().setUserStyleSheetUrl(QUrl.fromLocalFile(\"myCustom.css\"))\n</code></pre>\n\n<p>However, the custom stylings don't load when I add the content to the page using <code>setHtml()</code>.  I have tested that the CSS is properly applying to the HTML in a standard browser.</p>\n\n<p>Any idea what I am doing wrong?</p>\n"},{"tags":["windows","qt","selection","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13201427,"title":"How do i remove the selection drawing from a Qt QGraphicsTextItem","body":"<p>I am developing a Qt 4.8 application using QGraphicsScene on Windows XP. \nWhen the user double clicks on a QGraphicsTextItem, i call </p>\n\n<pre><code>textItem-&gt;setTextInteractionFlags(Qt::TextEditorInteraction);\n</code></pre>\n\n<p>At the next selection change i call</p>\n\n<pre><code>textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n</code></pre>\n\n<p>This works correctly, but i find no way to remove the inversion of the background color that remains from editing. In the screen shot below, i first double clicked on the first text item and selected the characters \"2927\". Then i clicked on the second test item and selected \"est\". I find no way to get rid of the still inverted \"2927\" in the first text item (although its not in edit mode anymore). </p>\n\n<p><img src=\"http://i.stack.imgur.com/IYWTX.jpg\" alt=\"enter image description here\"></p>\n\n<p>I also tried to call:</p>\n\n<pre><code>    textItem-&gt;textCursor().clearSelection();\n    textItem-&gt;update();\n    textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n    textItem-&gt;clearFocus();\n</code></pre>\n\n<p>But his does not at all change the behavior. </p>\n\n<p>So now i found a workaround:</p>\n\n<pre><code>    QString s = textItem-&gt;toPlainText();\n    textItem-&gt;setPlainText(\"\");\n    textItem-&gt;setPlainText(s);\n    textItem-&gt;setTextInteractionFlags(Qt::NoTextInteraction);\n</code></pre>\n\n<p>I dont like that, but it works. </p>\n\n<p>Any hint for a cleaner solution?</p>\n"},{"tags":["qt","qt-creator","blackberry-10","blackberry-qnx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13193288,"title":"Error while configuring Qt Creator 2.6 beta with BlackBerry NDK","body":"<p>I am facing a problem configuring Qt Creator, unable to add Qt Version.\nError is shown below :</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZqQuE.png\" alt=\"Problem Reported\"></p>\n\n<p>I had installed Cascades native NDK and the BB simulator.</p>\n\n<p>Help me out of this problem....</p>\n"},{"tags":["qt","url","browser","qt4","openurl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13197731,"title":"Open a URL in a certain browser tab/window","body":"<p>From within my Qt application, I would like to open URLs repeatedly in the same browser tab/window. (Kind of \"refreshing\" this tab programmatically)</p>\n\n<p>Using</p>\n\n<pre><code>QDesktopServices::openUrl(QUrl(\"http://www.domain.tld\"));\n</code></pre>\n\n<p>opens a new tab/window for every call. Is there a possibility to add a \"target=\" parameter somewhere?</p>\n"},{"tags":["python","qt","matplotlib","figure"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13213832,"title":"MathTextParser: Fit output to figsize","body":"<p>I am using <code>MathTextParser</code> to depict some equations in Qt. Therefore i get the required tex string out of a dict, parse it using the to_rgba method of the parser i created (handing over a general fontsize and dpi) and finally hand this to my <code>FigureCanvas</code> of the <code>QWidget</code> by <code>figimage</code>.<br>\nHave a look: </p>\n\n<pre><code>class MathWidget(QWidget):\n    def __init__(self, parent = None):\n            QWidget.__init__(self, parent)\n            ...\n            self.canvas = MathCanvas() # The FigureCanvas to display the teximage\n            ...\n            self.parser = mathtext.MathTextParser(\"Bitmap\")\n\n    def render(self,metric):\n            equation = self.equations[metric]\n            rgb, d = self.parser.to_rgba(equation, color='black', fontsize=8, dpi=200)\n            self.canvas.fig.figimage(rgb.astype(float)/255., 0, 0)\n            self.canvas.draw()\n</code></pre>\n\n<p>My problem now is, that the equations to be parsed are of varying length whereas the  <code>FigureCanvas</code> has a fixed size (as it needs to have) so that it happens, that some equations result in an image, which exceeds the figure in its size so that some part of the equation is cut off/not visible, like in this example:<br>\n<a href=\"http://wwwpub.zih.tu-dresden.de/~s4901563/exceed.png\" rel=\"nofollow\">Cut off equation</a><br>\nWhat i wouldn't like to do is to somehow predefine a fontsize for every tex string depeding on its length, for the reason that even user defined equations (of unpredictable length) need to be parsed and displayed.<br>\nSo is there by any chance a way to make the parser fit the e.g. fontsize, so that the output is a rasterized tex of a fixed size independently of the equation size/length?  </p>\n\n<p>Besides: In comparison to e.g. numpy/scipy the docs of matplotlib seem inscrutable to me for some reason, thus if somebody could comment on how <code>to_rgba</code> and <code>figimage</code> exactly work i'd be grateful, too.. e.g. concerning to_rgba: what means the following quote elucidating depth?: </p>\n\n<blockquote>\n  <ul>\n  <li>depth is the offset of the baseline from the bottom of the image in pixels</li>\n  </ul>\n</blockquote>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13200666,"title":"Qt Data Model With Two Different Views","body":"<p>All, I am having trouble determining a good way to handle this.  I have a Data Model, which we will call <code>MyData</code>.  I have modelled my data as a <code>QObject</code> and thus it has signals and slots.</p>\n\n<p>To modify any data in the model, you can either connect to its slots, or directly call the slots.  When that modification occurs, the model signals that its data has changed. eg:</p>\n\n<pre><code>class MyData : public QObject\n{\n   ...\npublic slots:\n     void AddPoint(QPointF);\n\nsignals:\n     void AddedPoint(QPointF);\n};\n\nvoid MyData::AddPoint(QPointF p)\n{\n    //added the point\n    emit AddedPoint(p);\n}\n</code></pre>\n\n<p>Now my views are two seperate things:</p>\n\n<ol>\n<li>I have a <code>QGraphicsView</code>which represents the point using <code>QGraphicsEllipseItem</code></li>\n<li>I have a <code>QListView</code> which uses a <code>QAbstractItemModel</code> to list the points.</li>\n</ol>\n\n<p>I sync these two graphical views using signals and slots (I subclasses QGraphicsItem to inherit from QObject).</p>\n\n<p><strong>The question:</strong> When a table makes the change, it signals <code>MyData</code>, which in turn signals <code>AddedPoint</code> which is connected to the QGraphicsView.  <strong>However</strong>, <code>MyData::AddedPoint</code> is also connected to the table, and thus two identical points are added when it attempts to sync.  Could anyone offer any advice on how to proceed?</p>\n\n<hr>\n\n<p>My thoughts and ideas so far:</p>\n\n<ul>\n<li>I could check if the point exists, and prevent repeats.  Works great for insertions, not so great for removal and updating.</li>\n<li><strong>What I think is best the best approach:</strong> In the <code>MyData</code> slots, block the sender() for a second, then unblock.</li>\n</ul>\n\n<hr>\n\n<p><strong>Edit:</strong> <code>MyData</code> is really a \"controller/interface\" class, the real model uses OpenCV types and as thus I would like to keep it separated from the Qt architecture.</p>\n"},{"tags":["c++","qt","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13213003,"title":"Qt Custom Plugin Will Not Load - \"Shared Library Not Found\"","body":"<p>I am trying to build a QtPlugin architecture but I can't even get off the ground with the simplest plugin.  I created this plugin using the the examples and reading all over the websites, but no matter what I cannot load my plugin.</p>\n\n<p>Upon calling <code>instance()</code> I get a  <code>0</code> and the <code>errorString()</code> says <code>could not find shared library.</code></p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13212947,"title":"Enum signal parameter","body":"<p>I'm trying to use Qt's signals-and-slots mechanism with custom enumeration types.</p>\n\n<p>I have read all the following, and none of it helped:</p>\n\n<ul>\n<li><a href=\"http://doc.qt.digia.com/4.7-snapshot/qtbinding.html#using-enumerations-of-a-custom-type\" rel=\"nofollow\">http://doc.qt.digia.com/4.7-snapshot/qtbinding.html#using-enumerations-of-a-custom-type</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2610151/qt-no-such-signal-error\">Qt - no such signal error</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7030601/qt-signal-with-an-enum-as-a-parameter\">Qt signal with an enum as a parameter</a></li>\n</ul>\n\n<p>DetectorEngineThread.h:</p>\n\n<pre><code>class DetectorEngineThread : public QThread\n{\n    Q_OBJECT\n    Q_ENUMS(ErrorCode)\n    Q_ENUMS(Status)\n\npublic:\n    enum ErrorCode\n    {\n        ...\n    };\n\n    enum Status\n    {\n        ...\n    };\n...\n\nsignals:\n    void statusChanged(Status newStatus);\n    void processingError(ErrorCode code);\n};\n\nQ_DECLARE_METATYPE(DetectorEngineThread::ErrorCode)\nQ_DECLARE_METATYPE(DetectorEngineThread::Status)\n</code></pre>\n\n<p>MainWindow.h:</p>\n\n<pre><code>...\n#include \"DetectorEngineThread.h\"\n...\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n    ...\n\nprivate:\n    DetectorEngineThread* m_detEng;\n    ...\n\nprivate slots:\n    void on_detEng_statusChanged(DetectorEngineThread::Status newStatus);\n    void on_detEng_processingError(DetectorEngineThread::ErrorCode errorCode);\n    ...\n};\n</code></pre>\n\n<p>MainWindow.cpp:</p>\n\n<pre><code>...\n#include \"MainWindow.h\"\n...\n\nMainWindow::MainWindow(...) : ...\n{\n    ...\n    qRegisterMetaType&lt;DetectorEngineThread::Status&gt;(\"DetectorEngineThread::Status\");\n    qRegisterMetaType&lt;DetectorEngineThread::ErrorCode&gt;(\"DetectorEngineThread::ErrorCode\");\n    ...\n\n    m_detEng = new DetectorEngineThread(...);\n\n    connect(m_detEng, SIGNAL(statusChanged(DetectorEngineThread::Status)),\n            this, SLOT(on_detEng_statusChanged(DetectorEngineThread::Status)), Qt::QueuedConnection);\n\n    connect(m_detEng, SIGNAL(processingError(DetectorEngineThread::ErrorCode)),\n            this, SLOT(on_detEng_processingError(DetectorEngineThread::ErrorCode)), Qt::QueuedConnection);\n    ...\n}\n...\n\nvoid MainWindow::on_detEng_statusChanged(DetectorEngineThread::Status newStatus)\n{\n    ...\n}\n\nvoid MainWindow::on_detEng_processingError(DetectorEngineThread::ErrorCode errorCode)\n{\n    ...\n}\n...\n</code></pre>\n\n<p>During runtime, I get the following messages (in the Application Output panel in Qt Creator):</p>\n\n<blockquote>\n  <p>Object::connect: No such signal<br>\n  DetectorEngineThread::statusChanged(DetectorEngineThread::Status) in ...<br>\n  Object::connect: No such signal<br>\n  DetectorEngineThread::processingError(DetectorEngineThread::ErrorCode) in ...</p>\n</blockquote>\n\n<p>And obviously the slots' code never run, despite the fact that matching signals are emitted.</p>\n\n<p>I tried:</p>\n\n<ul>\n<li>moving the enums into global scope, but the problem remained.</li>\n<li>having the signals and the slots connected automatically via QMetaObject::connectSlotsByName, but that met with the same issue.</li>\n<li>using the local names (e.g. Status instead of DetectorEngineThread::Status) in qRegisterMetaType and Q_DECLARE_METATYPE, and also tried to use these in the SIGNAL and SLOT macros.</li>\n</ul>\n"},{"tags":["multithreading","qt","qt4","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13212623,"title":"QThread hungs up when calling isRunning on it","body":"<p>I have a <code>QThread</code> that fetches data from the web. Sometimes the user asks for something else, and the data needs to be fetched changes as well.</p>\n\n<p>In my current configuration, I call <code>terminate()</code> upon the thread, change the input data, and call <code>start()</code> on the thread again. Now, that works fine, but sometimes I get the main eventloop stuck when calling <code>isRunning()</code> or <code>isFinished()</code> upon a terminated thread. It gets stuck forever, and does not recover until I kill the process.</p>\n\n<ol>\n<li>Why would <code>isRunning()</code> or <code>isFinished()</code> hung in the first place? They don't suppose to block.</li>\n<li>Is this workflow acceptable? If not, how can I stop a thread's process when I don't need it no more (or how can I abandon it)?</li>\n</ol>\n"},{"tags":["qt","qregexp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13211026,"title":"QScriptEngine with negative numbers, pe: 5*-2","body":"<p>I'm trying to run a script which evaluates only expressions that have add, subs, mults and divs, but can use negative numbers. This negative numbers are taken from instructions like this:</p>\n\n<pre><code>set 1, 5 * D[5]\n</code></pre>\n\n<p>This implies that you have to store the result of <code>5 * [whatever it's in a variable]</code>. If this variable contains a negative number, let's say <code>-2</code>, the expression will be <code>5*-2</code>, and this expression is evaluated by QScriptEngine, resulting 0 (Error). I need to parse expressions like this to be <code>5*(-2)</code>. In PERL, a RegExp to do it will be:</p>\n\n<pre><code>$expresion =~ s/\\[\\\\*\\\\+\\\\-\\\\/](\\\\-\\d+)/($1)/g;\n</code></pre>\n\n<p>How can I do this in Qt?</p>\n"},{"tags":["linux","qt","mingw","cross-compiling"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":580,"score":6,"question_id":10934683,"title":"How do I configure Qt for cross-compilation from Linux to Windows target?","body":"<p>I want to cross compile the Qt libraries (and eventually my application) for a Windows x86_64 target using a Linux x86_64 host machine. I feel like I am close, but I may have a fundamental misunderstanding of some parts of this process.</p>\n\n<p>I began by installing all the mingw packages on my Fedora machine and then modifying the <code>win32-g++</code> qmake.conf file to fit my environment. However, I seem to be getting stuck with some seemingly obvious configure options for Qt: <code>-platform</code> and <code>-xplatform</code>. Qt documentation says that <code>-platform</code> should be the host machine architecture (where you are compiling) and <code>-xplatform</code> should be the target platform for which you wish to deploy. In my case, I set <code>-platform linux-g++-64</code> and <code>-xplatform linux-win32-g++</code> where linux-win32-g++ is my modified win32-g++ configuration.</p>\n\n<p>My problem is, that after executing configure with these options, I see that it invokes my system's compiler instead of the cross compiler (x86_64-w64-mingw32-gcc). If I omit the <code>-xplatform</code> option and set <code>-platform</code> to my target spec (linux-win32-g++), it invokes the cross compiler but then errors when it finds some Unix related functions aren't defined.</p>\n\n<p>Here is some output from my latest attempt: <a href=\"http://pastebin.com/QCpKSNev\">http://pastebin.com/QCpKSNev</a></p>\n\n<hr>\n\n<ol>\n<li><p>When cross-compiling something like Qt for Windows from a Linux host, should the native compiler <em>ever</em> be invoked? That is, during a cross compilation process, shouldn't we use <em>only</em> the cross compiler? I don't see why Qt's configure script tries to invoke my system's native compiler when I specify the <code>-xplatform</code> option.</p></li>\n<li><p>If I'm using a mingw cross-compiler, when will I have to deal with a specs file? Spec files for GCC are still sort of a mystery to me, so I am wondering if some background here will help me.</p></li>\n<li><p>In general, beyond specifying a cross compiler in my qmake.conf, what else might I need to consider?</p></li>\n</ol>\n\n<p>I realize I don't have a solid question, but if someone could help me clear some things up that'd be great.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","linux","qt","cocos2d-x","meego"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13211653,"title":"Cocos2d-x Particle System Performance Drop from Version 1.x to 2.x","body":"<p>we wanna change our base system from Cocos2d-x 1.0 (Qt Port 0.6) to Cocos2d-x 2.0 (Qt Port 1.0) but there are several tasks which need to be tested before changing the system. One of those tasks is the performance of the particle system. In mind that the performance will increase when changing from 1.0 to 2.0 we discovered the opposite. <strong>Version 1.0 seems to perform much better than Version 2.0</strong>. Now we would like to discover if this can be right or not and hopefully someone can give us a hint what we could miss (wrong settings of Cocos2d-x, wrong settings, ... ).</p>\n\n<p>To test the performance, we created a simple test scenario: Using one particle system which can be added multiple times whenever pressing the scene. This particle system uses different sized textures (4x4px and 32x32px) and a Quad Particle System.</p>\n\n<p>The base of the test is the HelloWorld example of Cocos2d-x. Additionally, we enabled the touch receiver, created the batch (if needed), converted a label to a counter and added the particle system insertion routine. The source code and resources are attached as link for a zip archive below.  </p>\n\n<p>We compared the Linux version of Cocos2d-x and the Qt (MeeGo Harmattan) version of Cocos2d-x. The test results can be found in the excel sheet <a href=\"http://www.fantasyhaze.com/sof/Particle_Performance_Tests.ods\" rel=\"nofollow\">http://www.fantasyhaze.com/sof/Particle_Performance_Tests.ods</a>. In every test case the 1.0 version was performer than 2.0. In every test case, the batched particle system had the same performance as the unbatched particle system from Cocos2d-x 2.0. The performance was measured in FPS/Particle Systems.</p>\n\n<p><em><strong>Results:</em></strong></p>\n\n<p>No performance difference between batched and unbatched systems can be seen because of the small texture which was used by every effect. So there aren't many OpenGL state changes. Maybe a stronger effect could be seen when using huge textures with a lot transparency or much more particles (which is not possible due to the performance drop) or when using different particles which use different textures to fore OpenGL state changes.</p>\n\n<p>Therefore, the performance drop in general might not be only on the graphic side, but more on the high utilization of the CPU (calculating the positions of the particles in each frame for thousands of particles i.e.: 47 particle systems with 350 particles produce a payload of 47*350 = 16450 particles, which need to be recalculated each frame). When using batched particles this is also the highest amount of particles which can be used because the GL draw function uses an unsigned short value which is reached with 16450 particles. 16450 * 4 (vertices) = 65800 (ushort = 65535). This can be seen (on the screenshots) when using batched particles vs. unbatched particles on a desktop machine. After 47 inserted particles into the batch, it will stop displaying the new effects. When more effects are added the performance still continues to decrease which illustrates that the performance-loss is mainly based on the CPU side rather than on the GPU. This can also be notices when using 4x4px textures instead of 32x32px only about 10 more effects can be placed (on desktop).</p>\n\n<p><em><strong>Related Topics:</em></strong></p>\n\n<ul>\n<li><p><a href=\"http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:2_0_0\" rel=\"nofollow\">http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:2_0_0</a></p></li>\n<li><p><a href=\"http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:1_0_0\" rel=\"nofollow\">http://www.cocos2d-iphone.org/wiki/doku.php/perf_test:1_0_0</a></p></li>\n<li><p><a href=\"http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Performance\" rel=\"nofollow\">http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Performance</a></p></li>\n</ul>\n\n<p>The excelsheet, screenshots and source code can be found in the archive - <a href=\"http://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.zip\" rel=\"nofollow\">http://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.zip</a>\nhttp://www.fantasyhaze.com/sof/Particle_Perfromance_Tests.ods</p>\n"},{"tags":["qt","plot","qwt"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":13067411,"title":"What are the advantages/disadvantages of QCustomPlot, compared to Qwt?","body":"<p>I am using Qwt now for two years. I like its object oriented classes, which makes it very easy to adapt the plots and functionality.\nThese days QCustomPlot is becoming more an more popular and competes with Qwt.\nOf course I did compare the APIs. However I am interested in the testimonies of experienced users from both libraries. What is convenient? What not? Are there any pitfalls?</p>\n"},{"tags":["qt","signals-slots"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3377,"score":4,"question_id":2610151,"title":"Qt - no such signal error","body":"<p>I'm trying to trigger a signal when a double click happens in one of the draggable widgets on the <a href=\"http://doc.qt.nokia.com/4.6/draganddrop-fridgemagnets.html\" rel=\"nofollow\">fridge magnets example</a>. Here's the changes I made to the example source:</p>\n\n<p>DragLabel:</p>\n\n<pre><code>class DragLabel : public QLabel\n{\npublic:\n    DragLabel(const QString &amp;text, QWidget *parent);\n    QString labelText() const;\n\npublic slots:\n    void testSlot(){qDebug()&lt;&lt;\"testSlot\";}    //&lt;-- implemented this slot\n\nprotected:\n    void mouseDoubleClickEvent(QMouseEvent *ev){emit testSignal();}    //&lt;-- overriden this method\n\nprivate:\n    QString m_labelText;\n\nsignals:\n    void testSignal();    //&lt;-- added this signal\n\n};\n</code></pre>\n\n<p>The only thing I changed in the implementation file is adding <code>connect(this,SIGNAL(testSignal()),this,SLOT(testSlot()));</code> to DragLabel's constructor.</p>\n\n<p>Trying to compile the project resulted in '<em>undefined reference to `DragLabel::testSignal()</em>' and '<em>collect2: ld returned 1 exit status</em>' errors. </p>\n\n<p>When I comment out the call to the signal, it compiles and runs, but gives off '<em>Object::connect: No such signal QLabel::testSignal() in draglabel.cpp</em>' warning in the application output. Apparently testSignal() isn't being recognized as a signal.</p>\n\n<p>I've tried to add the Q_OBJECT macro to DragLabel but it results in 4 '<em>undefined reference to `vtable for DragLabel'</em>' warnings and a '<em>collect2: ld returned 1 exit status</em>' error.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["python","qt","pyqt","qdialog"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":4883,"score":5,"question_id":406939,"title":"PyQt: getting widgets to resize automatically in a QDialog","body":"<p>I'm having difficulty getting widgets in a QDialog resized automatically when the dialog itself is resized.</p>\n\n<p>In the following program, the textarea resizes automatically if you resize the main window.  However, the textarea within the dialog stays the same size when the dialog is resized.</p>\n\n<p>Is there any way of making the textarea in the dialog resize automatically?  I've tried using <code>setSizePolicy(QSizePolicy.Ignored, QSizePolicy.Ignored)</code> on the dialog itself and the two widgets within, but that seems to have no effect.</p>\n\n<p>I'm using Qt version 3.3.7 and PyQt version 3.5.5-29 on openSuSE 10.2, if that's relevant.</p>\n\n<pre><code>import sys\nfrom qt import *\n\n# The numbers 1 to 1000 as a string.\nNUMBERS = (\"%d \" * 1000) % (tuple(range(1,1001)))\n\n# Add a textarea containing the numbers 1 to 1000 to the given\n# QWidget.\ndef addTextArea(parent, size):\n    textbox = QTextEdit(parent)\n    textbox.setReadOnly(True)\n    textbox.setMinimumSize(QSize(size, size*0.75))\n    textbox.setText(NUMBERS)\n\n\nclass TestDialog(QDialog):\n    def __init__(self,parent=None):\n        QDialog.__init__(self,parent)\n        self.setCaption(\"Dialog\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 400)\n        everything.resize(everything.sizeHint())\n\n\nclass TestMainWindow(QMainWindow):\n    def __init__(self,parent=None):\n        QMainWindow.__init__(self,parent)\n        self.setCaption(\"Main Window\")\n        everything = QVBox(self)\n\n        addTextArea(everything, 800)\n\n        button = QPushButton(\"Open dialog\", everything)\n        self.connect(button, SIGNAL('clicked()'), self.openDialog)        \n\n        self.setCentralWidget(everything)\n        self.resize(self.sizeHint())\n\n        self.dialog = TestDialog(self)\n\n    def openDialog(self):\n        self.dialog.show()\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    mainwin = TestMainWindow(None)\n    app.setMainWidget(mainwin)\n    mainwin.show()\n    app.exec_loop()\n</code></pre>\n"},{"tags":["file","qt","if-statement","multiple","labels"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":31,"score":-2,"question_id":13209377,"title":"Changing label text using if statement","body":"<p>I've 2 years experience programming with console applications (thou not really an advanced programming either I can structs file handling and all the basics over there). </p>\n\n<p>After programming in school for two years I noticed that I want to do something more than just an console application. I started with Qt GUI.</p>\n\n<p>I have big problems with multiple files sometimes I don't know where I should put some code main, header or even maybe main window.</p>\n\n<p>My problem is that I wanted to do an if statement to change text inside an label. If I'm right the if statement code has to be inside the <code>mainwindow.cpp</code> because I noticed that's the only place where I can use an ui-> command.</p>\n\n<p>For example I created an label called \"updates\" and I tried to write something like this in <code>mainwindow.cpp</code> without <code>void MainWindow</code>...</p>\n\n<pre><code>if(1==1) { ui-&gt;updates-&gt;setText(\"Test\"); }\n</code></pre>\n\n<p>That doesn't really work because I get some unknown if syntax errors. Looks like I do something really wrong if I can't handle an if statement. If try to do this in <code>main.cpp</code> I get <code>'ui' : undeclared identifier</code>. I know how to change an label text using an button but I want to do it using if statement.</p>\n\n<p>What I'm doing wrong? Looks like I lack the fundamentals about files. </p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13204800,"title":"Displaying and editing date in QTableView","body":"<p>I have simple application which show table from sqlite database in QTableView. One column of table is for storing date. I want to provide user easy way to modify date in this column. I have reimplemented <code>data</code> method of <code>QtSql.QSqlTableModel</code> to change <code>QVariant</code> type to <code>QDate</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    [...]\n\n    def data(self, index, role=QtCore.Qt.DisplayRole):\n        if index.column() == 3:\n            return super(Model, self).data(index, role).toDate()\n        return super(Model, self).data(index, role)\n\n    [...]\n</code></pre>\n\n<p>After this change I got column:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rfQzO.png\" alt=\"date column\"></p>\n\n<p>But user dont have possibility to have empty date. How can I fix that?</p>\n\n<p>Is it possible to have calendar popup instead of this date edit? Should I use delegate or there is other way go? If delegate is best way, how to set delegate for single QTableView column?</p>\n"},{"tags":["c++","windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13208679,"title":"include Qt Plugin/Libraries in Project","body":"<p>is there any way to include plugin and Qt's libraries in project ? I'd like to make executable that will be like portable. I don't like RarSFX, or things like that. Is there any other way to do it? I've heard that I can put DLLs in projects resources and use from there, but I don't know how to do that. Thank you!</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":66,"score":4,"question_id":13055423,"title":"Virtual column in QTableView?","body":"<p>I'm started to learning Qt4 Model/View Programming and I have beginner question.</p>\n\n<p>I have simple application which show sqlite table in <code>QTableView</code>:</p>\n\n<pre><code>class Model(QtSql.QSqlTableModel):\n    def __init__(self, parent=None):\n        super(Model, self).__init__(parent)\n        self.setEditStrategy(QtSql.QSqlTableModel.OnFieldChange)\n\n        self.setTable(\"test\")\n        self.select()\n\nclass App(QtGui.QMainWindow):\n    def __init__(self, model):\n        QtGui.QMainWindow.__init__(self)\n\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n\n        self.ui.tableView.setModel(model)\n\nif __name__ == \"__main__\":\n    myDb = QtSql.QSqlDatabase.addDatabase(\"QSQLITE\")\n    myDb.setDatabaseName(\"test.db\")\n\n    if not myDb.open():\n        print 'FIXME'\n\n    model = Model()\n\n    app = QtGui.QApplication(sys.argv)\n    window = App(model)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Here how database looks like:</p>\n\n<pre><code>sqlite&gt; create table test (a INTEGER, b INTEGER, c STRING);\nsqlite&gt; insert into test VALUES(1, 2, \"xxx\");\nsqlite&gt; insert into test VALUES(6, 7, \"yyy\");\n</code></pre>\n\n<p>So I'm getting something like:</p>\n\n<pre><code>+---+---+-----+\n| a | b |  c  |\n+---+---+-----+\n| 1 | 2 | xxx |\n+---+---+-----+\n| 6 | 7 | yyy |\n+---+---+-----+\n</code></pre>\n\n<p>Is it possible to modify <code>Model</code> to have in <code>QTableView</code> something like virtual column? For example something like:</p>\n\n<pre><code>+---+---+-----+-----+\n| a | b | sum |  c  |\n+---+---+-----+-----+\n| 1 | 2 |  3  | xxx |\n+---+---+-----+-----+\n| 6 | 7 | 13  | yyy |\n+---+---+-----+-----+\n</code></pre>\n\n<p>Or maybe I should do it in some other way?</p>\n"},{"tags":["qt","ubuntu","gtk"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":558,"score":0,"question_id":10600675,"title":"ugly Qt app look under ubuntu","body":"<p>I'm involed in developing some Qt application build under Linux. I have downloaded the source code and compiled it under Windows 7 firstly, but then I decided to work under Ubuntu. The problem is, the application in Linux looks like in Win95 times. I have installed Qt4 Settings and chosen GTK+ style, but this improved the look only a little bit, though it still looks very ugly (like 256 collors pallette, font is italic). I have also installed many gtk libraries, but nothing helped. I use Qt-4.7.4. I know that it should look different, beacuse on Windows the problem doesn't appear, even on my boss' computer, who is also using Ubuntu, the application looks much better.</p>\n\n<p>The app changes style to QPlasticStyle itself.</p>\n\n<p>Thanks in advance for every answer.</p>\n\n<hr>\n\n<p>Well, another lot of tries, but nothing changed. Maybe I will show you the problem. How the app should look like (more or less) (ss made by one of my co):\n<a href=\"http://postimage.org/image/70p6sw7xd/full/\" rel=\"nofollow\">http://postimage.org/image/70p6sw7xd/full/</a></p>\n\n<p>and how it actually looks like (ss made by me):\n<a href=\"http://postimage.org/image/48psktnuj/full/\" rel=\"nofollow\">http://postimage.org/image/48psktnuj/full/</a></p>\n\n<p>There are two things that I haven't done so far:<br/>\n1) At the beginning, I installed Qt-4.8.1, but it was generating some OpenGL errors with <code>make</code> so I then downloaded 4.7.4 version (the one that my boss and cos are using) and was strugling with installation. Finally, I just overwrote qt-make from 4.8.1 with the one from 4.7.4 and it compiled fine. But then I encountered the 'Question thing'. The point - all Qt applications tells (Help-> About Qt) that they are using Qt-4.8.1 and I wonder if it has some connection with the problem.</p>\n\n<p>2) Second thing is my graphics. I have MSI CX640 notebook with Nvidia Optimus on board. After installing Ubuntu I had to make it using the integrated Intel HD3000 instead of the dedicated GT520M (it was making the fan behave noisely unnecessary). I have googled for the way to do so and actually succeded in disabling GT520M. What is the point of it - I'm not sure, but I remember some OpenGL things were mentioned on sites where I was searching for the solution). I think this has nothing in common with the problem, but I'm so frustraded tha now I'm insighting everything.</p>\n\n<p>Maybe these can give better overview of the problem. </p>\n\n<p>PS. Thanks for your attemps, I appreciate them.</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13204322,"title":"qtoolbutton menu: making icons larger/wider","body":"<p>When using a QToolButton with a menu, it seems I can only get a 16x16 icon to the left of some text.  Is it possible to redefine this to have a larger/wider icon area.</p>\n\n<p>I <em>think</em> I need to use a proxy style but having trouble knowing where to start. Can somebody point me in the direction of a useful example please?</p>\n"},{"tags":["c++","linux","qt","shell","ubuntu"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":13204177,"title":"how to find out if running from terminal or GUI","body":"<p>I am trying to build a class that would behave is a different way if run using a shell or from a GUI.</p>\n\n<p>It could be included in both forms using #include \"myclass.h\"...</p>\n\n<p>However, in the constructor I would like to differentiate between Shell runs and GUI runs.</p>\n\n<p>I can easily achieve it using a parameter that would be passed to the constructor when declaring it but I want to explore my options.</p>\n\n<p>I am using C++ on ubuntu and my GUI is using Qt.</p>\n"},{"tags":["c++","qt","rte"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13188192,"title":"Having trouble with rich text editing in QT","body":"<p>I am trying to add rich text editing to my application and I cant seem to get it to work. This is just one example but I cant get it to work. Can anyone please tell me what I am missing?</p>\n\n<p>Here is the code that I have so far...this is in the \".h\" file</p>\n\n<pre><code>private slots:\nvoid newFile();\nvoid open();\nbool save();\nbool saveAs();\nvoid about();\nvoid documentWasModified();\nvoid bold();\n</code></pre>\n\n<p>and this is in the .cpp file...also I have #include QTextEdit></p>\n\n<pre><code>    void MainWindow::bold()\n{\n}\n</code></pre>\n\n<p>along with this down the page a little more</p>\n\n<pre><code>boldAct = new QAction(tr(\"&amp;Bold\"), this);\n    boldAct-&gt;setCheckable(true);\n    boldAct-&gt;setShortcut(QKeySequence::Bold);\n    boldAct-&gt;setStatusTip(tr(\"Make the text bold\"));\n    connect(boldAct, SIGNAL(triggered()), this, SLOT(bold()));\n</code></pre>\n"},{"tags":["c++","windows","qt","communication"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1602,"score":1,"question_id":5839132,"title":"C++ How to make two programs communicate?","body":"<p>Question: <em>What is the best way to make two programs (both running on the same computer) communicate and interact? (Windows, C++)</em></p>\n\n<p>Theoretical situation:</p>\n\n<ol>\n<li><p>On a Windows PC, I have a <strong>3rd party software</strong> that you use to do stuff (like open/edit/save files...it's not really important). This <strong>3rd party software</strong> has an available <strong>C++ SDK</strong> so you can develop plugins for it.</p></li>\n<li><p>I develop a separate <strong>standalone</strong> Windows C++ program (most likely using Qt) with a GUI. This program is made to run on the same Windows computer as the 3rd party software. This program would act as a <strong>remote control</strong> or sender.</p></li>\n<li><p>Using the 3rd party software's SDK, I develop a tiny <strong>plugin</strong> for the <strong>3rd party software</strong>. This program acts as a receiver, so that my Qt GUI can send commands that this plugin would receive and thus <em>remote control the 3rd party software accordingly</em>.</p></li>\n</ol>\n\n<p>So for a basic example, I could press a button on my standalone GUI that would communicate with the plugin that would then open a specified file in the 3rd party software. </p>\n\n<p>What I'm essentially looking for is to develop standalone software that would communicate back and forth with a plugin that I would develop for the 3rd party software.</p>\n\n<p>What is the best approach to this? I really have no clue where to start or what to look at. Are there common C++ libraries that make this type of thing easy?</p>\n\n<p>I'm relatively new to C++ and very new to Qt, so please try to elaborate. Please don't just say \"Use Shared Memory\" or something like that cause I'm not gonna know exactly what you are talking about.</p>\n\n<p>The program would NOT be run on a separate computer, so no network stuff is necessary here I don't think.</p>\n\n<p>Some questions I was thinking about:</p>\n\n<ol>\n<li><p>What if user has multiple copies of 3rd party software open at the same time. How does my standalone software know which one to communicate with?</p></li>\n<li><p>If I already have my standalone software running and open the 3rd party software, does the plugin somehow have to register or find my standalone software to communicate with it?</p></li>\n<li><p>If I already have the 3rd party software running and then open my standalone software does it have to scan for the plugin to see if its running or how does it find it?</p></li>\n</ol>\n\n<p>Any help would be greatly appreciated. I've done a search on the topic on SO but didn't see many questions for C++ specifically and most of them didn't have many answers or weren't very clear or didn't specifically refer to software communication with a plugin for a 3rd party program.</p>\n"},{"tags":["qt","dll","shared-libraries","so"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13202952,"title":"Qt generates multiple .so files - which one to use?","body":"<p>I am learning about <em>shared objects (.so)</em> / <em>dynamic link libraries (.dll)</em>. Since I'm on Linux only <em>.so</em> files are relevant. Anyway, when I compile a shared library, I get multiple <em>.so</em> files - most of which are only links. Here is a screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iKPVK.png\" alt=\"enter image description here\"></p>\n\n<p>Then I created another Qt console application project to test this SO. I had set up all the header files, copied every .so file from previous screenshot to this new project and added </p>\n\n<pre><code>LIBS += \"libAritmeticnoKodiranjeDLL.so\"\n</code></pre>\n\n<p>to project settings. If I compile the project it goes through OK. But when running my test app I get this error:</p>\n\n<p><em>./DLLTester: error while loading shared libraries: libAritmeticnoKodiranjeDLL.so.1: cannot open shared object file: No such file or directory</em></p>\n\n<p>Where is the problem and why do I get so many .so files?</p>\n"},{"tags":["qt"],"answer_count":7,"favorite_count":5,"up_vote_count":17,"down_vote_count":0,"view_count":16124,"score":17,"question_id":696209,"title":"In Qt, how to make the QDialog non-resizeable and have a fixed size?","body":"<p>I have a Qt dialog application. Now I dont want that dialog to be resizeable. I am not sure how to achieve this. I tried a bunch of things but still when the dialog launches this dialog can be resized. </p>\n\n<p>What is the property that i should set to disable the dialog/Widget resize.</p>\n\n<p>I also tried</p>\n\n<pre><code>setSizePolicy(QSizePolicy::Fixed);\n</code></pre>\n\n<p>But i get an error saying.. </p>\n\n<pre>\nsource\\nimcac_settingsMain.cpp(36) : error C2248:\n**'QSizePolicy::QSizePolicy' : cannot access private member declared in class 'QSizePolicy'**\n        p:\\ThirdPartyExports\\Qt\\export\\4.3\\4.3.1f14\\include\\QtGui\\../../src\\gui\\\nkernel\\qsizepolicy.h(177) : see declaration of 'QSizePolicy::QSizePolicy'\n        p:\\ThirdPartyExports\\Qt\\export\\4.3\\4.3.1f14\\include\\QtGui\\../../src\\gui\\\nkernel\\qsizepolicy.h(34) : see declaration of 'QSizePolicy'\n</pre>\n\n<p>Kindly help me out with this.</p>\n\n<p>Regards,\nArjun</p>\n"},{"tags":["c++","qt","qstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12981868,"title":"Error when declaring QStringList","body":"<p>I have a public function:</p>\n\n<pre><code>void determineAction(QStringList tempL); // in header file\n\nvoid CompArch::determineAction(QStringList tempL)\n{\n\n\n}\n\n//in cpp file\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>CompArch.cpp:127:6: error: ‘tempL’ has incomplete type\n/usr/include/qt4/QtCore/qstring.h:77:7: error: forward declaration of ‘struct QStringList’\n</code></pre>\n\n<p>any ideas why this might be.</p>\n"},{"tags":["python","qt","pyqt","scheduled-tasks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13202014,"title":"Passing a parameter to QTimer timeout signal?","body":"<p>I'm using Python and PySide (the PyQt alternative). I have an application that runs in a background and I'd like to use QTimer to schedule some tasks to be performed.</p>\n\n<p>However, I need the QTimer to call one method in my program, but this method requires the \"initialization parameters\" that will specify what exactly is method supposed to do.</p>\n\n<p>Am I correct in thinking that I would need to subclass QTimer and override either the <code>timeout</code> or the <code>start</code> method? If so, then which one and how would I go about that? I have almost no experience overriding existing methods and Googling didn't turn up a lot of results (there were some with C++ which I don't understand). I have managed to do something (for example I overrode the <code>start()</code> method, but then the code of the original start method does not execute (understandably) and I have no idea what that code is supposed to be.</p>\n\n<p>Or is there some other way?</p>\n"},{"tags":["c++","qt","qwidget","qt5"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13198367,"title":"How to put QWindow into QWidget's layout (Qt5)","body":"<p>I want to insert QQuickView to my old qt4 application in some widget layout. How to mix QWidget and QWindow in a single application?</p>\n\n<p>Are there any examples?</p>\n"},{"tags":["osx","qt","ssl","ssl-certificate"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":71,"score":4,"question_id":13093025,"title":"Qt on OSX 10.5.8: \"The root CA certificate is not trusted for this purpose\"","body":"<p>I have a Qt application which succeeds in making an HTTPS request to our website on OSX 10.7, but fails on 10.5.8 with the QSslError::errorString \"The root CA certificate is not trusted for this purpose\".</p>\n\n<p>I am setting the root certificate with:</p>\n\n<pre><code>QFile certFile1(\":/Equifax_Secure_Certificate_Authority.pem.txt\");\nQSslCertificate cert1(&amp;certFile1, QSsl::Pem);\ncertList.append(cert1);\n\nQSslConfiguration sslConfig(request.sslConfiguration());\nsslConfig.setCaCertificates(certList);\nrequest.setSslConfiguration(sslConfig);\n</code></pre>\n\n<p>If I set some other certificate, I get two error strings \"The issuer certificate of a locally looked up certificate could not be found\" AND \"The root CA certificate is not trusted for this purpose\", on both OSX 10.5.8 and 10.7. This is what I'd expect.</p>\n\n<p>What makes Qt not trust the Equifax certificate only on 10.5.8?</p>\n\n<p>EDIT: Possible clue (or red herring): looking at the respective WireShark traces, the 10.5.8 client doesn't include Server Name Indication or Session Ticket TLS extensions in its client hello handshake.</p>\n\n<p>EDIT 2: Building as 32-bit on 10.5.8 works. Also, building as universal (32 and 64-bit Intel) on 10.7 and running on 10.5.8, linking against 32-bit Qt libraries built on 10.5.8 works.</p>\n\n<p>EDIT 3: I have placed an example at <a href=\"https://github.com/cdemel/SO_examples/tree/master/soqtssl\" rel=\"nofollow\">https://github.com/cdemel/SO_examples/tree/master/soqtssl</a>, using a different website (Twitter) and root cert, with the same behavior.</p>\n"},{"tags":["c++","qt","table","row","item"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13198724,"title":"How to get the correct row from QTableWidget::item after sortting by column (Qt BUG ?)?","body":"<p>I'm doing some table stuff in <code>Qt C++</code>, and today I found something very suspicious after I set <code>sortEnabled(true)</code>. I wanted to sort <code>QTableWidget</code> by columns and that's why I set that property to <code>true</code>. Logically I've got what I wanted but I've noticed that when I <code>double click</code> on a <code>row of a table</code> a modal dialog that corresponds to other row is opening. \nI put in that table <code>QTableWidgetItem-s</code>. </p>\n\n<pre><code> QTableWidgetItem* widgetItem = new QTableWidgetItem();\n widgetItem-&gt;setData(Qt::UserRole, it-&gt;id);\n</code></pre>\n\n<p>On <code>double click signal</code> I'm extracting the row item with <code>QTableWidget::item(int aRow, int aCol)</code>, then I'm getting the custom unique ID (at each row I've assigned unique ids). </p>\n\n<p>The point is: after click on column header and sort I'm getting the ID of the row which was on that position before the sorting. The ID that I've got now corresponds to other row because I have sorted by other column. </p>\n\n<p>How I can escape from that problem? Did I do something wrong. Or I have forgotten to set some property to true/false?</p>\n\n<p>I'm thinking that <code>sort</code> affects just the visual side of the table, but not in structural way...</p>\n\n<p>I just want the proper Id, nothing else.</p>\n\n<p>Here Is a short example of the table situation:</p>\n\n<p>Before soring:</p>\n\n<pre><code>===id=======category==\n|   47   |     b     |\n|   48   |     a     |\n|   49   |     c     |\n|   50   |     d     |\n======================\n</code></pre>\n\n<p>When double click on <code>b</code> item(1,1) returns the <code>correct QTableWidget*</code> and <code>ID = 47</code></p>\n\n<p>Now I'm clicking catetegory header to sort</p>\n\n<p>After Sorting:</p>\n\n<pre><code>===id=======category==\n|   48   |     a     |\n|   47   |     b     |\n|   49   |     c     |\n|   50   |     d     |\n======================\n</code></pre>\n\n<p>When double click on <code>a</code> item(1,1) returns the <code>the old one QTableWidget*</code> and <code>ID = 47</code> <strong>AGAIN</strong>!!??   <strong>I want to get 48 not 47..</strong></p>\n\n<p>Can anyone help me?</p>\n"},{"tags":["qt","opengl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":262,"score":0,"question_id":10731626,"title":"Qt OpenGLScene working example","body":"<p>I'm using an OpenGLScene as a wrapper of the openGL, and I've started with <a href=\"http://doc.qt.nokia.com/qq/qq26-openglcanvas.html\" rel=\"nofollow\">the most simple example of that I've found on the internet</a>. I've just copied everything from the link where they have a zip.</p>\n\n<p>I compiled and run the program, and apparently this warning is always coming up (in the drawbackground method):</p>\n\n<pre><code>if (painter-&gt;paintEngine()-&gt;type()\n                != QPaintEngine::OpenGL) {\n            qWarning(\"OpenGLScene: drawBackground needs a \"\n                     \"QGLWidget to be set as viewport on the \"\n                     \"graphics view\");\n            return;\n</code></pre>\n\n<p>Does anyone knows why (I'm on a Mac)? Does anyone has a more \"stable\" example? Is this warning relevant?</p>\n\n<p>Basically, I would like to know why this warning is appearing, and how can I get rid of it...</p>\n\n<p>I don't really know where to start. I've tried several simple things (making the QGLWidget current Context for instance), but I don't know enough Qt to understand the when and how is the drawbackground method called.</p>\n"},{"tags":["qt","qt4","signals-slots","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13190258,"title":"Would the slot get called multiple times if I connect the same slots for multiple times?","body":"<p>If I connect the same signal with the same slot twice, would this cause a bug? e.g the slot get called twice when the signal is emitted?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13196651,"title":"Qt: How to select the window frame in a mouseMoveEvent?","body":"<p>I know this can be done with a QSizeGrip, but it looks clunky, so I’d prefer to use the usual window edges. Thanks!</p>\n"},{"tags":["qt","qmake","gdcm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13196772,"title":"gdcm libs link order","body":"<p>I am trying to link my Qt app to gdcm library.\nWhen I build it, I get several errors like this: undefined reference to 'gdcm::System::FileExists(char const*)'.\nI think the problem comes from the link order specified in my .pro file:</p>\n\n<pre><code>LIBS += -lgdcmMSFF \\\n    -lgdcmCommon \\\n    -lgdcmDICT \\\n    -lgdcmDSED \\\n    -lgdcmIOD \\\n    -lgdcmMEXD \\\n    -lgdcmcharls \\\n    -lgdcmexpat \\\n    -lgdcmjpeg12 \\\n    -lgdcmjpeg16 \\\n    -lgdcmjpeg8 \\\n    -lgdcmopenjpeg \\\n    -lgdcmzlib \\\n    -lgdcmgetopt \\\n    -lsocketxx \\\n</code></pre>\n\n<p>Can anybody provide me the correct order for gdcm libs ?\nThanks</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13138868,"title":"qt qml: fade image horizontally (i.e from left to right ... not whole image)","body":"<p><img src=\"http://i.stack.imgur.com/ZvY9l.png\" alt=\"enter image description here\">i m showing 3 images horizontally at a time using PathLine. \nThe left and right image need to be shown as 50% faded from left &amp; 50% faded from right.\nHere i cannot use a black rectangle gradient to show the fade effect as my parent is 20% transparent &amp; it floats on a background video.</p>\n\n<p>So is there any ways to apply the opacity property as a horizontal fade animation?</p>\n"},{"tags":["c++","qt","graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13194127,"title":"Qt4.8 QGraphicsWidget usage","body":"<p>I can't figure out from the docs, how to use QGraphicsWidget to draw something on it.</p>\n\n<p>Can you help me please? I try this code but when I add it to the graphics scene it shows nothing.</p>\n\n<pre><code>class Platform : public QGraphicsWidget\n{\n\n    public:\n        Platform()\n        {\n\n            QGraphicsEllipseItem elipse(0,0,10,10,this);\n            setGraphicsItem(&amp;elipse);\n\n        }\n\n};\n</code></pre>\n"},{"tags":["c++","windows","qt","cross-compiling","raspberry-pi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":502,"score":3,"question_id":11786004,"title":"Windows 7 and c++ : Cross compiling application for use on Raspberry Pi","body":"<p>I recently got a Raspberry Pi and I've installed the Raspbian “wheezy” image onto it. My main development machine is running Windows 7, and I'm using Qt Creator as my development environment. I'm trying to find a tool chain that my main computer can use to compile my c++ application for the Raspberry Pi. I've looked all over the place for tutorials and articles on how to do this but all I can find is tutorials for compiling from linux to windows. Which is the opposite of what I'm trying to do. I also noticed that there's a image available that comes with the Qt SDK but I'd rather use the Raspbian image for now. Has anyone been able to find a way get there programs from windows to there Pi? I'm a serious novice when it come's to cross-compiling. D:</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13195083,"title":"qt sdk 1.2.1 not possible to download anymore","body":"<p>It seems that there is not possible to download qt sdk version from\n<a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a>\nWhen i try to download the linux offline variant 64 bits  i will be redirect to</p>\n\n<p><a href=\"http://www.developer.nokia.com/dp?uri=http%3A%2F%2Fsw.nokia.com%2Fid%2F14b2039c-0e1f-4774-a4f2-9aa60b6d5313%2FQt_SDK_Lin64_offline\" rel=\"nofollow\">http://www.developer.nokia.com/dp?uri=http%3A%2F%2Fsw.nokia.com%2Fid%2F14b2039c-0e1f-4774-a4f2-9aa60b6d5313%2FQt_SDK_Lin64_offline</a></p>\n\n<p>i become a member there but i can not download the sdk.\nDoes anyone knows any alternative place to download the qt sdk 1.2.1 for linux (or windows)</p>\n"},{"tags":["qt","qml","blackberry-10","blackberry-cascades"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13191863,"title":"How do I react to a QML button click in C++","body":"<p>I am trying to launch a different QML Page from my C++ code by hooking into the clicked() slot of a button in my QML but it's not working.</p>\n\n<pre><code>    Button {\n        objectName: btnLogin\n        text: qsTr(\"Login\")\n        id: btnLogin\n    }\n</code></pre>\n\n<p>And the c++</p>\n\n<pre><code>QObject *newButton = root-&gt;findChild&lt;QObject*&gt;(\"btnLogin\");\nQObject::connect(newButton, SIGNAL(clicked()), this, SLOT(loginClick()));\n</code></pre>\n\n<p>The slots in my hpp file:</p>\n\n<pre><code> public slots:  \n    void loginClick();\n</code></pre>\n\n<p>And my clicked method:</p>\n\n<pre><code>void GConnectBB::loginClick() {\n    int i = 0;\n\n    Button *newButton = root-&gt;findChild&lt;Button*&gt;(\"btnLogin\");\n    if (newButton)\n        newButton-&gt;setProperty(\"text\", \"New button text\");\n}\n\n\nQObject *newButton = root-&gt;findChild&lt;QObject*&gt;(\"btnLogin\"); \n</code></pre>\n\n<p>Is null when I check through the debugger. I am extremely rusty with C++ and completely new to Qt, please be gentle :) What could I be doing wrong?</p>\n"},{"tags":["json","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13193146,"title":"How to Pass JsonObject as a parameter in a function using evaluateJavascript() in QT","body":"<p>Well I have updated my QT version to version 5 (Latest release) ... </p>\n\n<p>I have to pass a JsonObject as a parameter </p>\n\n<p>I am using this statement to pass the argument :</p>\n\n<pre><code>QString dnames = QString(\"getNameList(%1)\").arg(data);  \n</code></pre>\n\n<p>here data is the JSON object , and it dosent compiles and throws type Casting error.</p>\n\n<p>Please if someone provide me an alternative how to pass this JSonObject as a parameter to the above function.</p>\n\n<pre><code>m_d-&gt;m_webView-&gt;page()-&gt;mainFrame-&gt;evaluateJavascript(dnames);\n</code></pre>\n"},{"tags":["c++","qt","multiple-inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13188814,"title":"Qt QSharedDataPointer Multiple Inheritance diamond pattern?","body":"<p>I have 2 classes defined in the .h file of my app</p>\n\n<pre><code>class GroupElement : public QSharedData\n{\npublic:\n    int Id;\n    int GroupIndex;\n    QString Title;\n    QSharedDataPointer&lt;AccessDescriptor&gt; pAccessDescriptor;\n    QString Owner;\n};\n\nclass Class2 : public GroupElement\n{\npublic:\n    QSharedDataPointer&lt;QList&lt;int&gt; &gt;  Categories;\n    // ... many other class members\n}\n\nclass3 : public QObject\n{\n  Q_OBJECT\npublic:\ntemplate &lt;class T&gt; QSharedDataPointer&lt;QList&lt;T&gt; &gt; toTQList(QVariant qv );\n//...more ....\n}\n</code></pre>\n\n<p>In another function I try to assign a value to 'Categories'</p>\n\n<pre><code>QSharedDataPointer&lt;Class2&gt;\nClass3::afunction(QVariantMap o)\n{\n\n    QSharedDataPointer&lt;Class2&gt; getResult(new Class2());\n\n    getResult-&gt; Categories = toTQList&lt;int&gt;(o[\"Categories\"]);\n\n    // ... more code ...\n}\n</code></pre>\n\n<p>When compiling the code as shown, the compiler complains \"class ...has no member named 'ref'\".  This usually indicates that I need to add public QSharedData as the base class.  But in this case Class2 is already derived from GroupElement which has QSharedData as a base class.  If I add QSharedData as a base class to Class 2, I get warning messages \"direct base 'QSharedData' inaccessible in 'Class2' do to ambiguity.  I think may have run into one of the 'diamond problem' with multiple inheritance but I'm not experienced enough in Qt or c++ to know how to resolve it.  </p>\n\n<p>Help would be greatly appreciated.</p>\n"},{"tags":["qt","compiler","network-programming","qfile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13190274,"title":"Transmitting an exe file via network in Qt","body":"<p>I am trying to create a Remote compiling system in Qt. What I am trying to do is to get the C/C++ source from the client and calling the locally available GCC via QProcess on the server, create the exe file and then transmit the exe back to the client. Simple right?</p>\n\n<p>The exe file is being generated perfectly but Qt is just not able to read the file into an array to transmit it.</p>\n\n<p>My Code is:</p>\n\n<pre><code>QByteArray arr;\nqDebug() &lt;&lt; \"To Client: exe\";\nQFile f(\"compiled.exe\");\nqDebug() &lt;&lt; f.exists(); //output = false\nQString path = QDir::toNativeSeparators(QFileInfo(f).absoluteFilePath()); \nqDebug() &lt;&lt; path; //perfect path is coming\nqDebug() &lt;&lt; f.open(QIODevice::ReadOnly); //output = flase\narr = f.readAll(); // size of arr is 0\nf1.close();\nclient-&gt;write(arr); //zero bytes written\n</code></pre>\n\n<p>Although the exe file is very much present, I am getting such outputs. I tried with other files in the same directory, it works absolutely perfectly. Only exe files wont work.\nI am using Qt 4.8.1 32 bit on Windows using MSVC v16.00.40219.10 as the compiler.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["qt","qt4","qdialog","qmainwindow","qt4.8"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12953983,"title":"Detect end of movement of QMainWindow / QDialog (Qt 4.8)","body":"<p>I’m using Qt 4.8.3 on X11.</p>\n\n<p>I need to know when the user ends with dragging a window around the screen,\nthis in order to read the final position and eventually start an animation to adjust the window position to an “allowed” one.</p>\n\n<p>I noticed that the QWidget::moveEvent is called for each small movement, but this is very unconvenient because I must perform position checking (and eventually strat the animation) only when the user releases the mouse button and the movement is completely finished.</p>\n\n<p>This is the real problem: it seems that there is no way to detect the mouse release event (or to get the mouse buttons status) when the user clicks on the titlebar, since it is controlled by the OS and not by Qt.\nI tried also with the QWidget::x11event(XEvent* e)… but the events are collected only inside the window, not the title bar, as well.</p>\n\n<p>Does someone know a way to achieve this?</p>\n\n<p>I suspect that I will have to reimplement the titlebar myself… too bad…</p>\n\n<p>thank you! ;-)</p>\n"},{"tags":["qt","glsl","qml","alphablending"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13161296,"title":"Strange alpha blending results with ShaderEffectItem","body":"<p>I'm trying to apply a simple alpha mask on a QML item using <code>ShaderEffectItem</code>.</p>\n\n<p>Here is a minimal (non-)working example: I have a red-to-write gradient as the background and want to draw a green 200x200 square on top of it. The alpha mask for this square should be 0.0 at the left and 1.0 at the right border, so it should be transparent at the left border.</p>\n\n<pre class=\"lang-qml prettyprint-override\"><code>import QtQuick 1.1\nimport Qt.labs.shaders 1.0\n\nRectangle {\n    width: 300\n    height: 300\n\n    id: wrapper\n\n    gradient: Gradient {\n        GradientStop { position: 0.0; color: \"red\" }\n        GradientStop { position: 1.0; color: \"white\" }\n    }\n\n    Rectangle {\n        id: square\n        anchors.centerIn: parent\n        width: 200\n        height: 200\n        color: \"green\"\n    }\n\n    ShaderEffectItem {\n        anchors.centerIn: parent\n        width: 200\n        height: 200\n\n        property variant source: ShaderEffectSource {\n            sourceItem: square\n            hideSource: true\n        }\n\n        fragmentShader: \"\n        varying vec2 qt_TexCoord0;\n        uniform sampler2D source;\n        void main(void)\n        {\n            vec4 sourceColor = texture2D(source, qt_TexCoord0);\n            float alpha = qt_TexCoord0.x; // = 0.0 at left, 1.0 at right border\n            sourceColor.a *= alpha;       // apply alpha mask\n            gl_FragColor = sourceColor;\n        }\n        \"\n    }\n}\n</code></pre>\n\n<p>I expected the following output (drawn with GIMP):</p>\n\n<p><img src=\"http://i.stack.imgur.com/rzcrt.png\" alt=\"Expected result\"></p>\n\n<p>But this is actually shown:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Tkv4Z.png\" alt=\"Actual result\"></p>\n\n<p>What am I doing wrong?</p>\n\n<p>I'm using <strong>qmlviewer</strong> (Qt 4.8.2) to display the QML file with the <code>-opengl</code> option in order to enable the shader effect.</p>\n\n<p>Maybe this is related to <a href=\"http://stackoverflow.com/questions/12306894/wrong-alpha-blending-when-rendering-on-a-qglframebufferobject\">this strange behavior with alpha blending on QGLFramebufferObjects</a> I found some weeks ago...</p>\n"},{"tags":["c++","qt","class","file-io","static"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13190848,"title":"Should file declaration in class be static?","body":"<p>I have simple class that bean created allot , in this class I write to one central file \nI protect the file with mutex's,beacose few class instances can be doing write operation in the same time.<br>\nI don't pass the file reference into the class as argument .<br>\nwhat if I create the file as static member in the class  , so it will be created once .<br>\nis it better ?\nthis is what I have now :</p>\n\n<pre><code>CollectorWorker::CollectorWorker()\n{\n   m_pFileOutput = new QFile(\"my_result.txt\");\n   if (!m_pFileOutput-&gt;open(QIODevice::WriteOnly\n                          | QIODevice::Text | QIODevice::Append))\n   {\n     LOG_MSG(\"my_result.txt can't be open\")\n   } \n}\n\n//header\nQFile* m_pFileOutput;\n</code></pre>\n\n<p>or this with static</p>\n\n<pre><code>QFile* CollectorWorker::m_pFileOutput = new QFile(\"my_result.txt\");\nCollectorWorker::CollectorWorker()\n{\n  if (!m_pFileOutput-&gt;open(QIODevice::WriteOnly\n                         | QIODevice::Text | QIODevice::Append))\n  {\n    LOG_MSG(\"my_result.txt can't be open\")\n  } \n}\n\n//header\nstatic QFile* m_pFileOutput;\n</code></pre>\n"},{"tags":["c++","qt","profiling","verysleepy"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":250,"score":0,"question_id":8753924,"title":"Profiling Qt app with very Sleepy , how to analyze the results?","body":"<p>Im trying to find why my Qt application get delay in some point for second , this sec delay happens each add to list operation , and way i used the free profiler \"Very Sleepy\"\nand it gave some snapshot that i have hard time to analyze.\nhere is the top snapshot :\nfirst of all it seams that this winapi methods takes long:</p>\n\n<pre><code>Name,Exclusive,Inclusive\n    GetModuleFileNameA,983.451654,983.451654,87.500001,87.500001,kernel32,[unknown],0 \n</code></pre>\n\n<p>and there is no stack print .\nthe second method that taks long is :</p>\n\n<pre><code>GetLastInputInfo,128.507105,128.507105,11.433579,11.433579,USER32,[unknown],0\n</code></pre>\n\n<p>and in this stack trace i see heavy calling to QSettings::allKeys coming from QtCore4\ni dont call QSettings::allKeys</p>\n\n<p>and then i have :</p>\n\n<pre><code>QPixmap::alphaChannel,1.159998,140.493087,0.103208,12.499999,QtGuid4,[unknown],0\n</code></pre>\n\n<p>and here i do create images from bytarray info i download from the web , small 50X50 images\nusing :</p>\n\n<pre><code>QImage thumbnail = QImage::fromData(bytarray );\n</code></pre>\n\n<p>how  can i save here and maybe stop this app delays?</p>\n"},{"tags":["qt","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13176705,"title":"Qt installation on Mountain Lion from installer","body":"<p>I wanted to install Qt on Mountain Lion. For this, I went to <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> and downloaded the newest Qt library installer (4.8.3). I then followed the instructions, and at the end of the installation process, I got a message saying \"The installation failed\". Did anyone encounter problems with this version of Qt under Mountain Lion? </p>\n\n<p>Thanks a lot! </p>\n\n<p>Thomas. </p>\n\n<p>P.S.: This is the full log from the installer: </p>\n\n<pre><code>Nov  1 10:48:43 Macintosh.local Installer[99200]: @(#)PROGRAM:Install  PROJECT:Install-735\nNov  1 10:48:43 Macintosh.local Installer[99200]: @(#)PROGRAM:Installer  PROJECT:Installer-614\nNov  1 10:48:43 Macintosh.local Installer[99200]: Hardware: MacBookPro9,1 @ 2.60 GHz (x 8), 8192 MB RAM\nNov  1 10:48:43 Macintosh.local Installer[99200]: Running OS Build: Mac OS X 10.8.2 (12C60)\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: PATH=/usr/bin:/bin:/usr/sbin:/sbin\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: TMPDIR=/var/folders/3x/1w64hbq54698swps28n102q00000gp/T/\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: SHELL=/bin/bash\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: HOME=/Users/twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: USER=twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: LOGNAME=twalter\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: SSH_AUTH_SOCK=/tmp/launch-yL5eiv/Listeners\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: Apple_Ubiquity_Message=/tmp/launch-kEy9gO/Apple_Ubiquity_Message\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: Apple_PubSub_Socket_Render=/tmp/launch-gkJ0hE/Render\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: DISPLAY=/tmp/launch-WODr77/org.macosforge.xquartz:0\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: COMMAND_MODE=unix2003\nNov  1 10:48:43 Macintosh.local Installer[99200]: Env: __CF_USER_TEXT_ENCODING=0x1F6:0:0\nNov  1 10:48:43 Macintosh.local Installer[99200]: Qt  Installation Log\nNov  1 10:48:43 Macintosh.local Installer[99200]: Opened from: /Volumes/Qt 4.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = x-disc://Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: fileURLForURL = file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:48:44 Macintosh.local Installer[99200]: Product archive /Volumes/Qt 4.8.3/Qt.mpkg trustLevel=100\nNov  1 10:48:44 Macintosh.local Installer[99200]: Referenced component packages (8) trustLevel=100\nNov  1 10:49:58 Macintosh.local Installer[99200]: InstallerStatusNotifications plugin loaded\nNov  1 10:50:09 Macintosh.local runner[99252]: Administrator authorization granted.\nNov  1 10:50:09 Macintosh.local Installer[99200]: ================================================================================\nNov  1 10:50:09 Macintosh.local Installer[99200]: User picked Standard Install\nNov  1 10:50:09 Macintosh.local Installer[99200]: Choices selected for installation:\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt.mpkg : Qt Packages : 0.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Tools\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_tools.pkg : com.trolltech.qt4.tools : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Libraries\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_libraries.pkg : com.trolltech.qt4.libs : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Install: \"Qt Documentation\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_docs.pkg : com.trolltech.qt4.docs : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Install: \"Qt Examples\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_examples.pkg : com.trolltech.qt4.examples : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Headers\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_headers.pkg : com.trolltech.qt4.headers : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Imports\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_imports.pkg : com.trolltech.qt4.imports : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Plugins\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_plugins.pkg : com.trolltech.qt4.plugins : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]:   Upgrade: \"Qt Translations\"\nNov  1 10:50:09 Macintosh.local Installer[99200]:       Qt_translations.pkg : com.trolltech.qt4.translations : 4.8.0.4.8\nNov  1 10:50:09 Macintosh.local Installer[99200]: ================================================================================\nNov  1 10:50:09 Macintosh.local Installer[99200]: It took 0.00 seconds to summarize the package selections.\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFPKGDerivedDocument sortedPackageLocations]: result = (\n        \"file://localhost\"\n    )\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: location = file://localhost\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: -[IFDInstallController(Private) _buildInstallPlan]: file://localhost/Volumes/Qt%204.8.3/Qt.mpkg\nNov  1 10:50:09 Macintosh.local Installer[99200]: Set authorization level to root for session\nNov  1 10:50:09 Macintosh.local runner[99252]: Administrator authorization granted.\nNov  1 10:50:09 Macintosh.local Installer[99200]: Will use PK session\nNov  1 10:50:09 Macintosh.local Installer[99200]: Starting installation:\nNov  1 10:50:09 Macintosh.local Installer[99200]: Configuring volume \"Macintosh HD\"\nNov  1 10:50:09 Macintosh.local Installer[99200]: Preparing disk for local booted install.\nNov  1 10:50:09 Macintosh.local Installer[99200]: Free space on \"Macintosh HD\": 700.85 GB (700845834240 bytes).\nNov  1 10:50:09 Macintosh.local Installer[99200]: Create temporary directory \"/var/folders/3x/1w64hbq54698swps28n102q00000gp/T//Install.992003AWHIN\"\nNov  1 10:50:09 Macintosh.local Installer[99200]: IFPKInstallElement (10 packages)\nNov  1 10:50:09 Macintosh.local Installer[99200]: Using authorization level of root for IFPKInstallElement\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: ----- Begin install -----\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: request=PKInstallRequest &lt;10 packages, destination=/&gt;\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: packages=(\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/Qt.mpkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg&gt;\",\n        \"PKJaguarPackage &lt;file://localhost/Volumes/Qt%204.8.3/Qt.mpkg&gt;\"\n    )\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.tools (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.libs (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.headers (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.imports (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.plugins (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Will do receipt-based obsoleting for package identifier com.trolltech.qt4.translations (prefix path=)\nNov  1 10:50:09 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_tools.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:10 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_libraries.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:11 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_docs.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:16 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:20 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_headers.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_imports.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_plugins.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: Extracting file://localhost/Volumes/Qt%204.8.3/packages/Qt_translations.pkg (destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root, uid=0)\nNov  1 10:50:21 Macintosh.local installd[38810]: PackageKit: update_dyld_shared_cache -overlay /var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: prevent user idle system sleep\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: suspending backupd\nNov  1 10:50:25 Macintosh.local installd[38810]: PackageKit: Shoving /var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/Cleanup At Startup/PKInstallSandboxManager/1.sandbox/Root (3 items) to /\nNov  1 10:50:26 Macintosh.local install_monitor[99260]: Temporarily excluding: /Applications, /Developer, /Library, /System, /bin, /private, /sbin, /usr\nNov  1 10:50:33 Macintosh.local installd[38810]: PackageKit: Executing script \"./postflight\" in /Volumes/Qt 4.8.3/packages/Qt_docs.pkg/Contents/Resources\nNov  1 10:50:33 Macintosh.local installd[38810]: PackageKit: Executing script \"./postflight\" in /Volumes/Qt 4.8.3/packages/Qt_examples.pkg/Contents/Resources\nNov  1 10:50:33 Macintosh.local installd[38810]: ./postflight: env: python: No such file or directory\nNov  1 10:50:33 Macintosh.local install_monitor[99260]: Re-included: /Applications, /Developer, /Library, /System, /bin, /private, /sbin, /usr\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: releasing backupd\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: allow user idle system sleep\nNov  1 10:50:34 Macintosh.local installd[38810]: PackageKit: Install Failed: Error Domain=PKInstallErrorDomain Code=112 \"An error occurred while running scripts from the package “Qt_examples.pkg”.\" UserInfo=0x7feaaa815be0 {NSFilePath=./postflight, NSURL=file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg, PKInstallPackageIdentifier=com.trolltech.qt4.examples, NSLocalizedDescription=An error occurred while running scripts from the package “Qt_examples.pkg”.} {\n        NSFilePath = \"./postflight\";\n        NSLocalizedDescription = \"An error occurred while running scripts from the package \\U201cQt_examples.pkg\\U201d.\";\n        NSURL = \"file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg\";\n        PKInstallPackageIdentifier = \"com.trolltech.qt4.examples\";\n    }\nNov  1 10:50:34 Macintosh.local Installer[99200]: install:didFailWithError:Error Domain=PKInstallErrorDomain Code=112 \"An error occurred while running scripts from the package “Qt_examples.pkg”.\" UserInfo=0x7f9cd43c6ca0 {NSFilePath=./postflight, NSURL=file://localhost/Volumes/Qt%204.8.3/packages/Qt_examples.pkg, PKInstallPackageIdentifier=com.trolltech.qt4.examples, NSLocalizedDescription=An error occurred while running scripts from the package “Qt_examples.pkg”.}\nNov  1 10:50:35 Macintosh.local Installer[99200]: Install failed: The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance.\nNov  1 10:50:35 Macintosh.local Installer[99200]: IFDInstallController D4020140 state = 7\nNov  1 10:50:35 Macintosh.local Installer[99200]: Displaying 'Install Failed' UI.\nNov  1 10:50:35 Macintosh.local Installer[99200]: 'Install Failed' UI displayed message:'The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance.'.\n</code></pre>\n"},{"tags":["linux","qt","pid","xlib"],"answer_count":7,"favorite_count":1,"up_vote_count":8,"down_vote_count":1,"view_count":6065,"score":7,"question_id":2041532,"title":"Getting pid and details for topmost window","body":"<p>Does anyone know how to get the PID of the top active window and then how to get the properties of the window using the PID? I mean properties like process name, program name, etc.</p>\n\n<p>I'm using Qt under Linux (Ubuntu 9.10).</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":13188532,"title":"QtConcurrent programming","body":"<pre><code>#include &lt;QtGui&gt;\n\ntemplate &lt;typename T&gt;\nclass QRunFunctionTaskBase : public QRunnable\n{\npublic:\n    QFuture&lt;T&gt; start(int priority = 0)\n    {\n        futureInterface.setRunnable(this);\n        futureInterface.reportStarted();\n        QFuture&lt;T&gt; future = futureInterface.future();\n        QThreadPool::globalInstance()-&gt;start(this, priority);\n        return future;\n    }\n\nprotected:\n    QFutureInterface&lt;T&gt; futureInterface;\n};\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nclass QRunFunctionTask : public QRunFunctionTaskBase&lt;T&gt;\n{\npublic:\n    inline QRunFunctionTask(FunctionPointer _function, const Arg&amp; _arg) :\n      function(_function),\n      arg(_arg)\n    {}\n    void run()\n    {\n        if (!futureInterface.isCanceled()) {\n            try {\n                this-&gt;result = function(futureInterface, arg);\n            } catch (QtConcurrent::Exception &amp;e) {\n                futureInterface.reportException(e);\n            } catch (...) {\n                futureInterface.reportException(QtConcurrent::UnhandledException());\n            }\n\n            futureInterface.reportResult(result);\n        }\n        futureInterface.reportFinished();\n    }\n    T result;\n    FunctionPointer function;\n    Arg arg;\n};\n\ntemplate &lt;typename FunctionPointer, typename Arg&gt;\nclass QRunFunctionTask&lt;void, FunctionPointer, Arg&gt; : public QRunFunctionTaskBase&lt;void&gt;\n{\npublic:\n    inline QRunFunctionTask(FunctionPointer _function, const Arg&amp; _arg) :\n      function(_function),\n      arg(_arg)\n    {}\n    void run()\n    {\n        if (!futureInterface.isCanceled()) {\n            try {\n                function(futureInterface, arg);\n            } catch (QtConcurrent::Exception &amp;e) {\n                futureInterface.reportException(e);\n            } catch (...) {\n                futureInterface.reportException(QtConcurrent::UnhandledException());\n            }\n        }\n        futureInterface.reportFinished();\n    }\n    FunctionPointer function;\n    Arg arg;\n};\n\nclass QMultiTaskBase : public QObject, public QRunnable\n{\n    Q_OBJECT\npublic:\n    explicit QMultiTaskBase(QObject *parent = 0);\n\nsignals:\n\npublic slots:\n\nprotected slots:\n    virtual void cancelSelf() = 0;\n    virtual void setFinished() = 0;\n    virtual void setProgressRange(int min, int max) = 0;\n    virtual void setProgressValue(int value) = 0;\n    virtual void setProgressText(QString value) = 0;\n};\n\ntemplate &lt;typename R, typename FunctionPointer, typename Arg&gt;\nclass QMultiTask : public QMultiTaskBase\n{\npublic:\n    QMultiTask(const QList&lt;FunctionPointer&gt; &amp;functions, const QList&lt;Arg&gt; &amp;args) :\n        functions(functions),\n        args(args)\n    {\n        maxProgress = 100*functions.size()*args.size();\n    }\n\n    QFuture&lt;R&gt; future()\n    {\n        futureInterface.reportStarted();\n        return futureInterface.future();\n    }\n\n    void run()\n    {\n        QThreadPool *threadPool = QThreadPool::globalInstance();\n//        int limit = threadPool-&gt;maxThreadCount();\n//        threadPool-&gt;setMaxThreadCount(functions.size() * args.size());\n        threadPool-&gt;releaseThread();\n        futureInterface.setProgressRange(0, maxProgress);\n        watchers.clear();\n        foreach (FunctionPointer function, functions)\n        {\n            foreach (Arg arg, args)\n            {\n                QPair&lt;FunctionPointer, Arg&gt; key(function, arg);\n                QFutureWatcher&lt;R&gt; *watcher = new QFutureWatcher&lt;R&gt;();\n                finished.insert(watcher, false);\n                watchers.insert(key, watcher);\n                QObject::connect(watcher, SIGNAL(finished()), this, SLOT(setFinished()));\n                QObject::connect(watcher, SIGNAL(progressRangeChanged(int,int)), this, SLOT(setProgressRange(int,int)));\n                QObject::connect(watcher, SIGNAL(progressValueChanged(int)), this, SLOT(setProgressValue(int)));\n                QObject::connect(watcher, SIGNAL(progressTextChanged(QString)), this, SLOT(setProgressText(QString)));\n                watcher-&gt;setFuture(runTask&lt;R&gt;(function, arg));\n            }\n        }\n        selfWatcher = new QFutureWatcher&lt;R&gt;();\n        QObject::connect(selfWatcher, SIGNAL(canceled()), this, SLOT(cancelSelf()));\n        selfWatcher-&gt;setFuture(futureInterface.future());\n        loop = new QEventLoop;\n        loop-&gt;exec();\n        futureInterface.reportFinished();\n        threadPool-&gt;reserveThread();\n//        threadPool-&gt;setMaxThreadCount(limit);\n        qDeleteAll(watchers);\n        delete selfWatcher;\n        delete loop;\n    }\nprotected:\n    void cancelSelf()\n    {\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n            watcher-&gt;future().cancel();\n    }\n\n    void setFinished()\n    {\n        QFutureWatcher&lt;R&gt; *watcher = static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender());\n        updateProgress(watcher);\n        if (finished.contains(watcher))\n            finished[watcher] = true;\n        bool allFinished = true;\n        foreach (bool isFinished, finished) {\n            if (!isFinished) {\n                allFinished = false;\n                break;\n            }\n        }\n        if (allFinished)\n            loop-&gt;quit();\n    }\n\n    void setProgressRange(int min, int max)\n    {\n        Q_UNUSED(min)\n        Q_UNUSED(max)\n        updateProgress(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\n\n    void setProgressValue(int value)\n    {\n        Q_UNUSED(value)\n        updateProgress(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\n\n    void setProgressText(QString value)\n    {\n        Q_UNUSED(value)\n        updateProgressText(static_cast&lt;QFutureWatcher&lt;R&gt; *&gt;(sender()));\n    }\nprivate:\n    void updateProgress(QFutureWatcher&lt;R&gt; *sender)\n    {\n        int progressSum = 0;\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n        {\n            int min = watcher-&gt;progressMinimum();\n            int max = watcher-&gt;progressMaximum();\n            if (min != max)\n            {\n                progressSum += 100*(watcher-&gt;progressValue() - min)/(max - min);\n            }\n            else if (watcher-&gt;future().isFinished() &amp;&amp; !watcher-&gt;future().isCanceled())\n            {\n                progressSum += 100;\n            }\n        }\n        futureInterface.setProgressValue(progressSum);\n    }\n\n    void updateProgressText(QFutureWatcher&lt;R&gt; *sender)\n    {\n        QString text;\n        foreach (QFutureWatcher&lt;R&gt; *watcher, watchers)\n        {\n            if (!watcher-&gt;progressText().isEmpty())\n            {\n                text += watcher-&gt;progressText();\n                text += QLatin1Char('\\n');\n            }\n        }\n        text = text.trimmed();\n        futureInterface.setProgressValueAndText(futureInterface.progressValue(), text);\n    }\n\n    QList&lt;FunctionPointer&gt; functions;\n    QList&lt;Arg&gt; args;\n\n    QFutureInterface&lt;R&gt; futureInterface;\n    QFutureWatcher&lt;R&gt; *selfWatcher;\n    QMap&lt; QPair&lt;FunctionPointer, Arg&gt;, QFutureWatcher&lt;R&gt; *&gt; watchers;\n    QMap&lt;QFutureWatcher&lt;R&gt; *, bool&gt; finished;\n    QEventLoop *loop;\n    int maxProgress;\n};\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nQFuture&lt;T&gt; runTask(FunctionPointer function, const Arg&amp; arg, int priority = 0)\n{\n    return (new QRunFunctionTask&lt;T, FunctionPointer, Arg&gt;(function, arg))-&gt;start(priority);\n}\n\ntemplate &lt;typename T, typename FunctionPointer, typename Arg&gt;\nQFuture&lt;T&gt; runTasks(const QList&lt;FunctionPointer&gt; &amp;functions, const QList&lt;Arg&gt; &amp;args, int priority = 0)\n{\n    QMultiTask&lt;T, FunctionPointer, Arg&gt; *task = new QMultiTask&lt;T, FunctionPointer, Arg&gt;(functions, args);\n    QFuture&lt;T&gt; future = task-&gt;future();\n    QThreadPool::globalInstance()-&gt;start(task, priority);\n    return future;\n}\n\nstruct File\n{\n    File(QString name, int start, int end):\n        name(name),start(start), end(end)\n    {}\n\n    QString name;\n    int start;\n    int end;\n};\n\ninline bool operator &lt;(const File &amp;f1, const File &amp;f2)\n{\n    return (f1.start&lt; f2.start) &amp;&amp; (f1.end&lt; f2.end);\n}\n\nvoid doJob(QFutureInterface&lt;void&gt; &amp;future, const File &amp;file)\n{\n    const int work = 1000 * 1000 * 40;\n    volatile int v = 0;\n    future.setProgressRange(file.start, file.end);\n    int start = file.start;\n    while (!future.isCanceled() &amp;&amp; start &lt; file.end)\n    {\n        for (int j = 0; j &lt; work; ++j)\n            ++v;\n        if (future.isProgressUpdateNeeded() || future.progressValue() == 0)\n            future.setProgressValueAndText(start,\n                                           QObject::tr(\"Working on file %1 in thread %X\", 0,(int)QThread::currentThreadId()).arg(file.name));\n        start++;\n    }\n    if (!future.isCanceled())\n        future.setProgressValue(file.end);\n    else\n        future.setProgressValueAndText(start, QString(\"Working on file %1 :Canceled\").arg(file.name));\n}\n\nint main(int argc, char **argv)\n{\n    QApplication app(argc, argv);\n\n    // Prepare the vector.\n    QList&lt;File&gt; files;\n    files &lt;&lt; File(\"File1\", 10, 50) &lt;&lt; File(\"File2\", 20, 60);\n    QList&lt;void (*)(QFutureInterface&lt;void&gt; &amp;, const File &amp;)&gt; functions;\n    functions &lt;&lt; &amp;doJob;\n\n    // Create a progress dialog.\n    QProgressDialog dialog;\n    dialog.setLabelText(QString(\"Progressing using %1 thread(s)...\").arg(QThread::idealThreadCount()));\n\n    // Create a QFutureWatcher and connect signals and slots.\n    QFutureWatcher&lt;void&gt; futureWatcher;\n    QObject::connect( &amp;futureWatcher, SIGNAL(finished()), &amp;dialog, SLOT(reset()));\n    QObject::connect( &amp;futureWatcher, SIGNAL(progressRangeChanged(int,int)), &amp;dialog, SLOT(setRange(int,int)));\n    QObject::connect( &amp;futureWatcher, SIGNAL(progressValueChanged(int)), &amp;dialog, SLOT(setValue(int)));\n    QObject::connect( &amp;futureWatcher, SIGNAL( canceled() ), &amp;dialog, SIGNAL( canceled() ) );\n    QObject::connect( &amp;dialog, SIGNAL(canceled()), &amp;futureWatcher, SLOT(cancel()));\n\n    // Start the computation.\n    futureWatcher.setFuture(runTasks&lt;void&gt;(functions, files));\n\n    // Display the dialog and start the event loop.\n    dialog.exec();\n\n    futureWatcher.waitForFinished();\n\n    // Query the future to check if was canceled.\n    qDebug() &lt;&lt; \"Canceled?\" &lt;&lt; futureWatcher.future().isCanceled();\n}\n</code></pre>\n\n<p>i've modify multitask.h from qt-creator to take multiple function with multiple args. all use the same progress. what wrong in my code? i have no parallel task(the task are execute sequentialy) and no progress message printed.\ncan someone help thank's.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13188099,"title":"Get QObject Which Called Slot","body":"<p>I need a way to find out which widget was responsible for calling a slot via a signal. This is assuming that I have multiple widget's signals connected to the same slot within my application. </p>\n\n<p>QSignalMapper seems like a valid answer, but I can't figure out how to get the object that triggered the signal to be passed into my slot.  </p>\n"},{"tags":["multithreading","qt","qt4"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13184555,"title":"Creating a QWidget in a non-GUI thread","body":"<p>Yes, I know that you cannot use GUI things from non-GUI threads. However, it seems reasonable to be able to create a QWidget object, send it to the GUI thread, and then send signals to it. However, when I try to do so, I get errors that widgets cannot be moved. However, this seems to works:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QDialog&gt;\n\nclass BasicViewer : public QDialog\n{\nQ_OBJECT\n\npublic:\n  void Function(const float a)\n  {\n    std::cout &lt;&lt; a &lt;&lt; std::endl;\n  }\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer WrappedBasicViewer;\n\n  void Function(const float a)\n  {\n    WrappedBasicViewer.Function(a);\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n\n  basicViewerWrapper.Function(2.0f);\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n\n<p>I have created a wrapper class with the same API as the QWidget that stores an instance of the QWidget I wanted to create directly. I AM allowed to create that wrapper, move it to the GUI thread, and then use it. My question is, is there a way to do this without having to write this wrapper? It seems quite tedious, and since the concept works, I don't understand why it cannot be done directly. Any thoughts?</p>\n\n<p>----------- EDIT ---------------</p>\n\n<p>The first example was a bad one, because it did not attempt to do anything with GUI elements. This example indeed generates \"Cannot create children for a parent that is in a different thread.\"</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass BasicViewer : public QMessageBox\n{\nQ_OBJECT\n\npublic:\n\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer WrappedBasicViewer;\n\n  void exec()\n  {\n    WrappedBasicViewer.exec();\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n  basicViewerWrapper.exec();\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>----------- EDIT 2 ----------------</p>\n\n<p>I thought this would work, since the member object gets created after the thread of the Wrapper has been moved:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass BasicViewer : public QMessageBox\n{\nQ_OBJECT\n\npublic:\n\n};\n\nstruct BasicViewerWrapper : public QObject\n{\nQ_OBJECT\npublic:\n  BasicViewer* WrappedBasicViewer;\n\n  void exec()\n  {\n    WrappedBasicViewer-&gt;exec();\n  }\n\n  void create()\n  {\n    WrappedBasicViewer = new BasicViewer;\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid Function2()\n{\n  BasicViewerWrapper basicViewerWrapper;\n  basicViewerWrapper.moveToThread(QCoreApplication::instance()-&gt;thread());\n  basicViewerWrapper.create();\n  basicViewerWrapper.exec();\n}\n\nvoid Function1()\n{\n  Function2();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(Function1);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>Unfortunately, it does not. Can anyone explain why?</p>\n\n<p>--------------- EDIT 3 --------------------</p>\n\n<p>I'm unsure why this works? It uses a signal to trigger the GUI component, but isn't the GUI object (the QDialog) still created in the non-GUI thread?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal(int* returnValue);\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal(int*) ), this, SLOT(MySlot(int*)), Qt::BlockingQueuedConnection );\n  }\n\n  void EmitSignal(int* returnValue)\n  {\n    emit MySignal(returnValue);\n  }\n\npublic slots:\n  void MySlot(int* returnValue)\n  {\n    std::cout &lt;&lt; \"input: \" &lt;&lt; *returnValue &lt;&lt; std::endl;\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;addButton(QMessageBox::Yes);\n    dialog-&gt;addButton(QMessageBox::No);\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result == QMessageBox::Yes)\n    {\n      *returnValue = 1;\n    }\n    else\n    {\n      *returnValue = 0;\n    }\n\n    delete dialog;\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction()\n{\n  DialogHandler* dialogHandler = new DialogHandler;\n  dialogHandler-&gt;moveToThread(QCoreApplication::instance()-&gt;thread());\n\n  int returnValue = -1;\n  dialogHandler-&gt;EmitSignal(&amp;returnValue);\n\n  std::cout &lt;&lt; \"returnValue: \" &lt;&lt; returnValue &lt;&lt; std::endl;\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  QtConcurrent::run(MyFunction);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n"},{"tags":["regex","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13186326,"title":"QRegExp Extract Two Numbers","body":"<p>All I am trying to extract two numbers from a user string.  I have the regexp working, but the second number capture is not being greedy enough!  I can't figure out how to reformat this to my needs, I am submitting my reg exp any advice would be great!</p>\n\n<pre><code>QRegExp valid_input(\".*(-?\\\\d*\\\\.?\\\\d+)[\\\\s,]+(-?\\\\d*.?\\\\d+)[^\\d]*\");\nvalid_input.setMinimal(true);\n\nif(valid_input.indexIn(value.toString()) == -1)\n    return false;\n\nQPointF new_point(valid_input.cap(1).toDouble(), valid_input.cap(2).toDouble());\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156, 264</code></p>\n\n<p><strong>Expected Output:</strong> <code>156</code> and <code>264</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156.2 264.52</code></p>\n\n<p><strong>Expected Output:</strong> <code>156.2</code> and <code>264.52</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n\n<hr>\n\n<p><strong>Example input:</strong> <code>156.2 264.52)</code></p>\n\n<p><strong>Expected Output:</strong> <code>156.2</code> and <code>264.52</code></p>\n\n<p><strong>My Output:</strong> <code>156</code> and <code>2</code></p>\n"},{"tags":["qt","gui","2d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13185808,"title":"how to render a map defined by a matrix of cells using QT Gui?","body":"<p>I have to render using QT a map defined by a matrix of cells in overview mode (think GPS map). I'd like to be able to zoom on it and each cell is defined by its color and some properties (bitmaps to put on the cell). I also need, like in a GPS, to be able to move around (using the directional arrows) in the map.</p>\n\n<p>Right now, I'm thinking about drawing a matrix of QImages on my screen, and loading each one of them with the info of the cells I need, but it doesn't seem like a very good solution. </p>\n\n<p>Thank you for every possibility you might provide.</p>\n"},{"tags":["qt","gnu-make","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13185008,"title":"Qmake: Avoid file name conflicts in different folders without inroducing libraries","body":"<p>I have a project with some folders which happen to contain source files with the same names.</p>\n\n<p>My source tree looks like this:</p>\n\n<pre><code>project.pro\n\nfoo/\n    conflict.h\n    conflict.cpp\n\nbar/\n    conflict.h\n    conflict.cpp\n\nsome.h\nother.h\nfiles.h\nmain.cpp\n</code></pre>\n\n<p>Per default, qmake generates a Makefile which will produce a build tree like this:</p>\n\n<pre><code>conflict.o\nmain.o\ntarget\n</code></pre>\n\n<p>Where <code>conflict.o</code> is the object file resulting for <strong>both <code>foo/conflict.cpp</code> and <code>foo/conflict.h</code></strong>.</p>\n\n<p>I can't to <strong>change their names</strong> because they are generated using an external tool and forcing different file names would imply to change their contents, so this is not an option.</p>\n\n<p>I also don't want to use qmake <strong><code>SUBDIRS</code></strong> template because this would imply that (1) every subdir is built separately as a library and thus very much complicate the overall build process (in my eyes at least) and (2) in the top level directory I can't have any source files. Or am I wrong?</p>\n\n<p>Can't I just tell qmake to write the object files into separate directories within the build directory? So my build tree will look like this:</p>\n\n<pre><code>foo/\n    conflict.o\n\nbar/\n    conflict.o\n\nmain.o\ntarget\n</code></pre>\n\n<p>Or are there any other solutions neither requiring to rename the source files nor introducing something complicated like static libraries? I just can't believe that Qt didn't solve this (in my eyes simple) problem for years. (I already hat this problem 4 years ago but could rename the files in that project, while here I can't.)</p>\n\n<p>If it's important: I use Qt 4.8 on both Ubuntu with G++ and Windows with mingw32.</p>\n"},{"tags":["qt","qt-creator","simulator","blackberry-playbook","playbook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13180509,"title":"Connect Playbook simulator to Qt Creator","body":"<p>I have the playbook simulator with VMware Player. From this, I can navigate to internet. I configured the network adapter of this way:</p>\n\n<ul>\n<li>Bridged</li>\n<li>Replicated physical network connection state (checked)</li>\n<li>Configure adapters (Realtek driver PCIe GBE Family - VirtualBox Bridged Networking Driver iniport)</li>\n</ul>\n\n<p>But I can't connect the simulator with Qt Creator. Anyone knows how to do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13184250,"title":"Is there any way to remove a QWidget in a QGridLayout?","body":"<p>What I want is to completely remove a widget (purge it, delete it, etc...), but it's in a gridlayout, so even when calling <code>removeWidget</code>, it still keeps a pointer, so python doesn't want to remove the object. Here is the (stripped) code:</p>\n\n<pre><code>def addRow(self, row):\n    self.entries.insert(row, QtGui.QLineEdit())\n    self.gridlayout.addWidget(self.entries[row], row, 0)\n...\ndef remRow(self, row):\n    self.gridlayout.removeWidget(self.entries[row])\n    del(self.entries[row])\n...\n(in another function)\nfoo.addRow(0)\nfoo.remRow(0)\n</code></pre>\n\n<p>It removes the widget from the gridlayout, but it doesn't remove it completely, so it actually gets packed beneath(?) the layout, and the widget is apparently bigger than the layout (not sure though, as I cannot see the end).</p>\n\n<p>So again, is there any way to completely remove a widget that was inside a QGridLayout?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","qt","openscenegraph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13134560,"title":"Creating a dynamic sphere in OSG","body":"<p>I want to create a dynamic sphere in OSG which would be created(moved) by the mouse left click at that location (center) and with a dynamic radius of the mouse pointer current location's distance to the center....<BR></p>\n\n<p>I understand that for this reason I need to create an osgGA::GUIEventHandler Object and implement the virtual handle function but I miss other details like finding the sphere object it self from the scene and changing its attributes.</p>\n\n<p>I also tried to change <a href=\"http://osgqsg.googlecode.com/svn-history/r2/trunk/Examples/Picking/PickingMain.cpp\" rel=\"nofollow\">A picking example</a> but failed to detect the sphere in the nodePath or creating a new sphere</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13165659,"title":"How can I initialize a default value of QComboBox without to click it?","body":"<p>How can I initialize a default value of QComboBox without to click it?  I tried with</p>\n\n<pre><code>ui-&gt;combBox-&gt;setCurrentIndex(1);\n</code></pre>\n\n<p>but when I read the value at first I get unfortunately a <strong>-1</strong> and only after the QComboBox was clicked its value become <strong>1</strong>.</p>\n"},{"tags":["qt","ubuntu","opencv","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1037,"score":0,"question_id":10692848,"title":"OpenCV 2.4 on Ubuntu 12.04 with QtCreator","body":"<p>I moved to Ubuntu recently and I can't get openCV working with QtCreator. As described in the OpenCv install guide I built and installed the openCV library in <code>/usr/local/lib</code>, I updated <code>opencv.conf</code> in <code>/etc/ld.so.conf.d/</code> and run <code>sudo ldconfig -v</code>.</p>\n\n<p>But when I try to run a simple \"hello world\" program that shows an image in a namedWindow I get the following error:</p>\n\n<blockquote>\n  <p>OpenCv Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file /home/wedontplay/documenti/Library Installer/OpenCV-2.4.0/modules/core/array.cpp, line 2482 terminate called after throwing an instace of 'cv::Excepton' what(): /home/wedontplay/Library Installer/OpenCV-2.4.0/modules/core/src/array.cpp:2482: error: (-206) Unrecognized or unsupported array type in function cvGetMat</p>\n</blockquote>\n\n<p>Why does Qt search in <code>/home/wedontplay/Documenti/...</code> instead of <code>/usr/local/lib</code> (it is searching in the folder where I have the OpenCv libs source code)?</p>\n\n<p>Any suggestion would be really appreciated.</p>\n"},{"tags":["qt","qt-stylesheet"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13012410,"title":"QDockWidget::title (Need to change the font & size)","body":"<p>I have following style sheet set for QDockWidgets in my QT app. All the things mentioned in the style are working except for the font. Why is \"font\" is not detected &amp; how could I change the font &amp; size of QDockWidget title ?</p>\n\n<pre><code>QDockWidget::title\n{\n    font: 18pt \"Roboto Lt\";\n    background: lightgray;\n    padding-left: 10px; \n    padding-top: 4px;\n}\n</code></pre>\n"},{"tags":["c++","qt","gcc","linker"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":122,"score":-1,"question_id":11767169,"title":"Using libgrib2c in c++ application, linker error \"Undefined reference to...\"","body":"<p>EDIT: If you're going to be doing things with GRIB files I would recommend the <a href=\"http://www.gdal.org/\" rel=\"nofollow\">GDAL library</a> which is backed by the <a href=\"http://www.osgeo.org/\" rel=\"nofollow\">Open Source Geospatial Foundation</a>. You will save yourself a lot of headache :) </p>\n\n<p>I'm using Qt creator in Ubuntu creating a c++ app.  I am attempting to use an external lib, libgrib2c.a, that has a header grib2.h.  Everything compiles, but when it tries to link I get the error:</p>\n\n<blockquote>\n  <p>undefined reference to 'seekgb(_IO_FILE*, long, long, long*, long*)</p>\n</blockquote>\n\n<p>I have tried wrapping the header file with:</p>\n\n<pre><code>extern \"C\"{\n#include \"grib2.h\"\n}\n</code></pre>\n\n<p>But it didn't fix anything so I figured that was not my problem. In the .pro file I have the line:</p>\n\n<pre><code>include($${ROOT}/Shared/common/commonLibs.pri)\n</code></pre>\n\n<p>and in commonLibs.pri I have:</p>\n\n<pre><code>INCLUDEPATH+=$${ROOT}/external_libs/g2clib/include\nLIBS+=-L$${ROOT}/external_libs/g2clib/lib\nLIBS+=-lgrib2c\n</code></pre>\n\n<p>I am not encountering an error finding the library.  If I do a nm command on the libgrib2c.a I get:</p>\n\n<pre><code>nm libgrib2c.a | grep seekgb\nseekgb.o:\n00000000 T seekgb\n</code></pre>\n\n<p>And when I run qmake with the additional argument of LIBS+=-Wl,--verbose I can find the lib file in the output:</p>\n\n<pre><code>attempt to open /usr/lib/libgrib2c.so failed\nattempt to open /usr/lib/libgrib2c.a failed\nattempt to open /mnt/sdb1/ESMF/App/ESMF_App/../external_libs/linux/qwt_6.0.2/lib/libgrib2c.so failed\nattempt to open /mnt/sdb1/ESMF/App/ESMF_App/../external_libs/linux/qwt_6.0.2/lib/libgrib2c.a failed\nattempt to open ..//Shared/Config/lib/libgrib2c.so failed\nattempt to open ..//Shared/Config/lib/libgrib2c.a failed\nattempt to open ..//external_libs/libssh2/lib/libgrib2c.so failed\nattempt to open ..//external_libs/libssh2/lib/libgrib2c.a failed\nattempt to open ..//external_libs/openssl/lib/libgrib2c.so failed\nattempt to open ..//external_libs/openssl/lib/libgrib2c.a failed\nattempt to open ..//external_libs/g2clib/lib/libgrib2c.so failed\nattempt to open ..//external_libs/g2clib/lib/libgrib2c.a succeeded\n</code></pre>\n\n<p>Although it doesn't show any of the .o files in the library is this because it is a c library in my c++ app?  </p>\n\n<p>in the .cpp file that I am trying to use the library I have:</p>\n\n<pre><code>#include \"gribreader.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;external_libs/g2clib/include/grib2.h&gt;\n#include &lt;Shared/logging/Logger.hpp&gt;\n\n//------------------------------------------------------------------------------\n/// Opens a GRIB file from disk.\n///\n/// This function opens the grib file and searches through it for how many GRIB\n/// messages are contained as well as their starting locations.\n///\n/// \\param a_filePath. The path to the file to be opened.\n/// \\return True if successful, false if not.\n//------------------------------------------------------------------------------\nbool GRIBReader::OpenGRIB(std::string a_filePath)\n{\n  LOG(notification)&lt;&lt;\"Attempting to open grib file: \"&lt;&lt; a_filePath;\n  if(isOpen())\n  {\n    CloseGRIB();\n  }\n  m_filePath = a_filePath;\n  m_filePtr = fopen(a_filePath.c_str(), \"r\");\n\n  if(m_filePtr == NULL)\n  {\n    LOG(error)&lt;&lt;\"Unable to open file: \" &lt;&lt; a_filePath;\n    return false;\n  }\n  LOG(notification)&lt;&lt;\"Successfully opened GRIB file\";\n\n  g2int currentMessageSize(1);\n  g2int seekPosition(0);\n  g2int lengthToBeginningOfGrib(0);\n  g2int seekLength(32000);\n  int i(0);\n  int iterationLimit(300);\n  m_GRIBMessageLocations.clear();\n  m_GRIBMessageSizes.clear();\n  while(i &lt; iterationLimit)\n  {\n    seekgb(m_filePtr, seekPosition, seekLength,\n           &amp;lengthToBeginningOfGrib, &amp;currentMessageSize);\n    if(currentMessageSize != 0)\n    {\n      LOG(verbose) &lt;&lt; \"Adding GRIB message location \" &lt;&lt; lengthToBeginningOfGrib\n                   &lt;&lt; \" with length \" &lt;&lt; currentMessageSize;\n      m_GRIBMessageLocations.push_back(lengthToBeginningOfGrib);\n      m_GRIBMessageSizes.push_back(currentMessageSize);\n\n      seekPosition = lengthToBeginningOfGrib + currentMessageSize;\n      LOG(verbose) &lt;&lt; \"GRIB seek position moved to \" &lt;&lt; seekPosition;\n    }\n    else\n    {\n      LOG(notification)&lt;&lt;\"End of GRIB file found, after \"&lt;&lt; i\n                      &lt;&lt; \" GRIB messages.\";\n      break;\n    }\n  }\n  if(i &gt;= iterationLimit)\n  {\n    LOG(warning) &lt;&lt; \"The iteration limit of \" &lt;&lt; iterationLimit\n                 &lt;&lt; \"was reached while searching for GRIB messages\";\n  }\n  return true;\n}\n</code></pre>\n\n<p>And the header grib2.h is as follows:</p>\n\n<pre><code>#ifndef _grib2_H\n#define _grib2_H\n#include&lt;stdio.h&gt;\n\n#define G2_VERSION \"g2clib-1.4.0\"\n#ifdef __64BIT__\ntypedef int g2int;\ntypedef unsigned int g2intu;\n#else\ntypedef long g2int;\ntypedef unsigned long g2intu;\n#endif\ntypedef float g2float;\n\nstruct gtemplate {\n   g2int type;           /* 3=Grid Defintion Template.                       */\n                         /* 4=Product Defintion Template.                    */\n                         /* 5=Data Representation Template.                  */\n   g2int num;            /* template number.                                 */\n   g2int maplen;         /* number of entries in the static part             */\n                         /*                    of the template.              */\n   g2int *map;           /* num of octets of each entry in the               */\n                         /*         static part of the template.             */\n   g2int needext;        /* indicates whether or not the template needs      */\n                         /*     to be extended.                              */\n   g2int extlen;         /* number of entries in the template extension.     */\n   g2int *ext;           /* num of octets of each entry in the extension     */\n                         /*                      part of the template.       */\n};\n\ntypedef struct gtemplate gtemplate;\n\nstruct gribfield {\n   g2int   version,discipline;\n   g2int   *idsect;\n   g2int   idsectlen;\n   unsigned char *local;\n   g2int   locallen;\n   g2int   ifldnum;\n   g2int   griddef,ngrdpts;\n   g2int   numoct_opt,interp_opt,num_opt;\n   g2int   *list_opt;\n   g2int   igdtnum,igdtlen;\n   g2int   *igdtmpl;\n   g2int   ipdtnum,ipdtlen;\n   g2int   *ipdtmpl;\n   g2int   num_coord;\n   g2float *coord_list;\n   g2int   ndpts,idrtnum,idrtlen;\n   g2int   *idrtmpl;\n   g2int   unpacked;\n   g2int   expanded;\n   g2int   ibmap;\n   g2int   *bmap;\n   g2float *fld;\n};\n\ntypedef struct gribfield gribfield;\n\n\n/*  Prototypes for unpacking API  */\nvoid seekgb(FILE *,g2int ,g2int ,g2int *,g2int *);\ng2int g2_info(unsigned char *,g2int *,g2int *,g2int *,g2int *);\ng2int g2_getfld(unsigned char *,g2int ,g2int ,g2int ,gribfield **);\nvoid g2_free(gribfield *);\n\n/*  Prototypes for packing API  */\ng2int g2_create(unsigned char *,g2int *,g2int *);\ng2int g2_addlocal(unsigned char *,unsigned char *,g2int );\ng2int g2_addgrid(unsigned char *,g2int *,g2int *,g2int *,g2int ); \ng2int g2_addfield(unsigned char *,g2int ,g2int *,\n                       g2float *,g2int ,g2int ,g2int *,\n                       g2float *,g2int ,g2int ,g2int *);\ng2int g2_gribend(unsigned char *);\n\n/*  Prototypes for supporting routines  */\nextern double int_power(double, g2int );\nextern void mkieee(g2float *,g2int *,g2int);\nvoid rdieee(g2int *,g2float *,g2int );\nextern gtemplate *getpdstemplate(g2int);\nextern gtemplate *extpdstemplate(g2int,g2int *);\nextern gtemplate *getdrstemplate(g2int);\nextern gtemplate *extdrstemplate(g2int,g2int *);\nextern gtemplate *getgridtemplate(g2int);\nextern gtemplate *extgridtemplate(g2int,g2int *);\nextern void simpack(g2float *,g2int,g2int *,unsigned char *,g2int *);\nextern void compack(g2float *,g2int,g2int,g2int *,unsigned char *,g2int *);\nvoid misspack(g2float *,g2int ,g2int ,g2int *, unsigned char *, g2int *);\nvoid gbit(unsigned char *,g2int *,g2int ,g2int );\nvoid sbit(unsigned char *,g2int *,g2int ,g2int );\nvoid gbits(unsigned char *,g2int *,g2int ,g2int ,g2int ,g2int );\nvoid sbits(unsigned char *,g2int *,g2int ,g2int ,g2int ,g2int );\n\nint pack_gp(g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *, g2int *, g2int *,\n            g2int *, g2int *, g2int *);\n\n#endif  /*  _grib2_H  */\n</code></pre>\n\n<p>I have been scratching my head for two days on this. If anyone has an idea on what to do or can point me in some sort of direction, I'm stumped.  Also, if you have any comments on how I can improve this post I'd love to hear them, kinda new at this posting thing.  Usually I'm able to find an answer in the vast stores of knowledge already contained on the web.</p>\n"},{"tags":["c++","qt","memory-management","memory-leaks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13147427,"title":"Delete QStringList in Qt","body":"<p>In Qt I understand that if you create an object that inherits from QObject and set it's parent, then the parent is responsible for deleting the children. I also understand that if you create objects on the stack that they are deleted when they go out of scope. </p>\n\n<p>I'm not wrapping my head around the case where I want to explicitly delete items in a QStringList ( or any QList ) and then the list itself. </p>\n\n<p>Consider if I create a QStringList and populate it like below: </p>\n\n<pre><code>QStringList multiPartPortionList;\nmultiPartPortionList = multiPartPortion.split(QRegExp(\"[\\r\\n]\"),QString::SkipEmptyParts);\n</code></pre>\n\n<p>Then I do stuff with it and call this method in attempt to explicitly delete the items contained within the list and then the list itself:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = new QStringList(list);\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>I can't call qDeleteall(list) because it expects a pointer, and I also can't do just do:</p>\n\n<pre><code>delete list;\n</code></pre>\n\n<p>Since it errors with <strong>'argument given to 'delete', expected pointer'</strong>, expecting a pointer.</p>\n\n<p>I get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = &amp;list; // &lt;--- Seg fault with this\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>I also get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = &amp;list;\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete &amp;(list.takeAt(0)); // &lt;--- Seg fault with this\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n\n}\n</code></pre>\n\n<p>And then I also get segmentation faults with:</p>\n\n<pre><code>void MyClass::deleteList(QStringList list) {\n\n    // Now cleanup\n    QStringList *delList = new QStringList(list);\n    int numObjects = delList-&gt;count();\n    for (int i=0; i &lt; numObjects; i++)\n        delete (new QString(list.takeAt(0)));\n    delList-&gt;clear();\n    delete delList;\n    delList = 0;\n    delete &amp;list; // &lt;--- Seg fault with this\n\n}\n</code></pre>\n\n<p>I don't think this is quite, or even close, to being right. How can I best achieve what I want - that is to explicitly delete all items in a list and then the list itself?</p>\n"},{"tags":["c++","qt","opengl","opencv","iplimage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13181475,"title":"How can I display an IPLImage stream on Qt interface using OpenGL for rendering?","body":"<p>What is the best way to integrate and display an IplImage into a Qt GUI? Can this be done using OpenGL? If yes, how?</p>\n"},{"tags":["qt","drag-and-drop","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13180884,"title":"When Dragging and Dropping QTreeWidgetItems within a QTreeWidget, how can I catch the Item that was moved so i can retrieve its new parent?","body":"<p>I have a simple TreeWidget populated with subclassed TreeWidgetItems. When one of these Items is moved through an Internal Drag and Drop event, how do I catch the Item that was moved?</p>\n\n<p>When the Item is moved, I want to catch the item so i can get its new parent item. </p>\n\n<p>I have tried using an eventFilter to look for a ChildRemoved event, but when I ask the event for the child, it returns a generic QObject, instead of my subclassed item. What am I missing?</p>\n\n<pre><code>def eventFilter(self, sender, event):\n    if event.type() == QtCore.QEvent.ChildRemoved:\n        widgetItemThatMoved = event.child()\n        self.updateSomething(widgetItemThatMoved)\n    return False\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["c++","performance","qt","foreach","for-loop"],"answer_count":10,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":15199,"score":8,"question_id":771008,"title":"'for' loop vs 'foreach' in C++","body":"<p>Which is better (or faster), a C++ <code>for</code> loop or the <code>foreach</code> operator provided by Qt? For example, the following condition</p>\n\n<pre><code>QList&lt;QString&gt; listofstrings;\n</code></pre>\n\n<p>Which is better?</p>\n\n<pre><code>foreach(QString str, listofstrings)\n{\n    //code\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>int count = listofstrings.count();\nQString str = QString();\nfor(int i=0;i&lt;count;i++)\n{\n    str = listofstrings.at(i);\n    //Code\n}\n</code></pre>\n"},{"tags":["qt","qt4","qtableview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13179040,"title":"Set a maximum sizehint for a specific column in a table","body":"<p>I have the following table (presented with <code>QTableView</code>, and uses a <code>QAbstractTableModel</code> derived class as a table model):</p>\n\n<p><img src=\"http://i.stack.imgur.com/7fKa9.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, some columns take too much space, such as the \"Bitrate\" or \"Length\" cloumns. How can I set a sizehint for a specific column, or somehow limit it's maximum size?</p>\n\n<p>I've tried using <code>horizontalHeader</code>'s <code>setMinimumSectionSize</code>, but it seems to have no effect on the table.</p>\n"},{"tags":["c++","qt","gui","qmenu"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":11622147,"title":"Is there a way to have multiple columns in a QMenu?","body":"<p>Is there a way to have multiple columns in a QMenu? I'm using Qt with C++. I have searched and there does not seem to be a way to do this built in to Qt. The question then is how do I add this functionality to my program? Has anyone built a custom menu that can have multiple columns?</p>\n"},{"tags":["c++","windows","qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13172257,"title":"Replace system menu popup on windows","body":"<p>I want to replace the default sys menu(Restore, Move, Size etc.) with my custom entries. The menu I'm talking about can be opened either by clicking left button on window icon or by clicking right button on window title.\nI can remove all the items and populate this menu with my own entries. But if I remove all entries then minimize, maximize and close buttons become inactive. So they depend on those menu items.</p>\n\n<p>I want to have min, max, close buttons working as usual but system menu which contains my own items(like it is done in Windows Media Player).\nI'm using Qt, but I'm almost sure it can't be done with it so any solution would be appreciated.</p>\n"},{"tags":["c++","qt","mingw","qmake","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13172929,"title":"failing to build a QJson app for Windows, from Debian","body":"<p>My source code:</p>\n\n<pre><code>#include &lt;qjson/serializer.h&gt;\n#include &lt;QDebug&gt;\n\nint main() {\n   QVariantMap numbers;\n   numbers.insert(\"one\", 1);\n   numbers.insert(\"two\", 2);\n\n   QJson::Serializer serializer;\n   qDebug() &lt;&lt; serializer.serialize(numbers);\n\n   return 0;\n}\n</code></pre>\n\n<p>My project file:</p>\n\n<pre><code>TEMPLATE = app\nLIBS += -lqjson\nSOURCES += main.cpp\n</code></pre>\n\n<p>This works well if I build (and run) it on Debian:</p>\n\n<pre><code>$ qmake &amp;&amp; make \ng++ -c -m64 -pipe -O2 -Wall -W -D_REENTRANT -DQT_WEBKIT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/share/qt4/mkspecs/linux-g++-64 -I. -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4 -I. -o main.o main.cpp\ng++ -m64 -Wl,-O1 -o jsongen main.o    -L/usr/lib/x86_64-linux-gnu -lqjson -lQtGui -lQtCore -lpthread \n$ ./jsongen\n\"{ \"one\" : 1, \"two\" : 2 }\" \n</code></pre>\n\n<p>It however fails if I build it for Windows:</p>\n\n<pre><code>$ i686-pc-mingw32-qmake &amp;&amp; make \nmake -f Makefile.Release\nmake[1]: Entering directory `/home/wena/src/dcp/apps/j1939/winapp/play'\ni686-pc-mingw32-g++ -c -pipe -fno-keep-inline-dllexport -O2 -frtti -fexceptions -mthreads -Wall -Wextra -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_THREAD_SUPPORT -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtCore' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtGui' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/ActiveQt' -I'release' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/mkspecs/win32-g++-4.6' -o release/main.o main.cpp\ni686-pc-mingw32-g++ -Wl,-s -mthreads -Wl,-subsystem,windows -o release/jsongen.exe release/main.o  -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -lmingw32 -lqtmain -lqjson -lQtGui -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lmsimg32 -lmng -llcms -L/home/wena/src/mxe/usr/i686-pc-mingw32/lib -ltiff -llzma -ljpeg -lQtCore -lpng -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32 -lz \nrelease/main.o:main.cpp:(.text.startup+0xcc): undefined reference to `_imp___ZN5QJson10SerializerC1Ev'\nrelease/main.o:main.cpp:(.text.startup+0xf2): undefined reference to `_imp___ZN5QJson10Serializer9serializeERK8QVariant'\n/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: release/main.o: bad reloc address 0xf2 in section `.text.startup'\n/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: final link failed: Invalid operation\ncollect2: error: ld returned 1 exit status\nmake[1]: *** [release/jsongen.exe] Error 1\nmake[1]: Leaving directory `/home/wena/src/dcp/apps/j1939/winapp/play'\nmake: *** [release] Error 2\n</code></pre>\n\n<p>Note that the cross-build environment, e.g. <strong>Qt</strong> (4.8.3), <strong>QJson</strong> (0.7.1), and <code>i686-pc-mingw32-qmake</code>, was built with the help of <a href=\"http://mxe.cc/\" rel=\"nofollow\">MXE</a>:</p>\n\n<pre><code>$ cd &lt;path to mxe root&gt;\n$ make qjson\n(wait about an hour on a recent machine with decent internet connection)\n$ export PATH=&lt;path to mxe root&gt;:$PATH\n</code></pre>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13178522,"title":"3D cube with video on each side in Qt","body":"<p>I've got a project where I need to be able to display video on all six sides side of a cube that moves and rotates in three dimensions, using Qt. I know the question is vague, but I'm completely new to graphics, so a high-level description of which classes I should look and how they should link together would be a lot of help.  Should I use GLRenderer or the ordinary one?  Is Qt even the right tool for the job?</p>\n"},{"tags":["c++","qt","signals","qml","slot"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13176239,"title":"qml c++ signal slot not working","body":"<p>In C++ code below I load a qml file. But c++ slot not working. No error or warnings occurs but debug message is always \"a\" character. No \"b\" character appears. Can you tell me why? Thanks.</p>\n\n<p>c++ side code</p>\n\n<pre><code>    ::::::::::::::\n    view=new QDeclarativeView;\n    view-&gt;setSource(QUrl(\"qml/groundMenu/Ground.qml\"));\n    rootObject = dynamic_cast&lt;QObject*&gt;(view-&gt;rootObject());\n    QObject::connect(rootObject, SIGNAL(qmlSignal()),this, SLOT(qmlLoadedProcess()));\n:::::::::::::::::\nvoid MainWindow::qmlLoadedProcess()\n{\n    qDebug()&lt;&lt;\"b\";\n}\n\n//qml side code \n    Rectangle\n    {\n      signal qmlSignal()\n      Component.onCompleted:\n      {\n         qmlSignal()\n         console.log(\"a\")\n      }\n    }\n</code></pre>\n"},{"tags":["c++","linux","qt","ipc","embedded-linux"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":13160464,"title":"Functionality implementation: Processes or Threads division?","body":"<p>I'm working on an application (C++ combined with Qt for graphic part) to be run on an embedded Linux platform. I need know how to divide the application in different \"cores\" each one taking care of a different part of the application in such a way to improve stability, efficiency and security of the application itself.</p>\n\n<p>My doubt is: is it more convenient to divide functionalities into threads or to fork different processes?</p>\n\n<p>Let me provide a functional view of the application: there are different user interfaces each one allowing users to do more or less the same things (don't mind about data consistency, I've already solved this problem). Each of these interfaces must act as a stand-alone (like different terminal of the same system). I want all of them to send and receive messages from the same \"core\" which will take care of updating application data or do other proper stuff.</p>\n\n<p>What's the best way to implement the division between the inner \"core\" and a user interface?</p>\n\n<p>For sure I'm missing some knowledge but so far I came up with two alternatives:\n1 - fork a child from father \"core\" and let the child execute a specific UI program (I have no practical experience of doing this so how, in this case, can I make father and child communicate (baring in mind that child is a new process)?)\n2 - create different threads for each core and UI.</p>\n\n<p>I need this division because the application is required to be as stable as possible and capable of restarting a UI in the case of a crash. Keep in mind also that the overall application wont have infinite memory and resources available.</p>\n\n<p>Thanks in advance for your help, regards.</p>\n"},{"tags":["qt","plugins","webos","enyo","pdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13176679,"title":"webOS PDK Plug-ins","body":"<p>I want to create a plug-in for an enyo. I need only one function with a parameter, using the Qt libraries.</p>\n\n<p>How can I do it, as I didn't find any such example in the docs</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["windows","qt","make","mingw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13157068,"title":"make is not recognized as an internal or external command - Qt SDK - Windows","body":"<p>I installed <code>Qt</code> through <code>Qt-SDK 2010.01</code>.</p>\n\n<p>How to run <code>make</code> on <code>Qt</code>'s terminal now?</p>\n\n<p><strong>I have set the System path:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/4eFeE.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Qt path command prompt:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/UMs1s.png\" alt=\"enter image description here\"></p>\n\n<p>Please help. :( :(</p>\n"},{"tags":["json","qt","symbian","qjson"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2181,"score":4,"question_id":5117384,"title":"JSON in Qt using QVariantMap","body":"<p>I would like to parse this JSON output in a symbian application:</p>\n\n<pre><code>[\n    {\"ID\":\"9\",\"titel\":\"wouter\",\"plaatsID\":\"2616\",\"prio\":\"3\"},\n    {\"ID\":\"8\",\"titel\":\"pasta\",\"plaatsID\":\"3780\",\"prio\":\"3\"},\n    {\"ID\":\"6\",\"titel\":\"Muts prikken\",\"plaatsID\":\"3780\",\"prio\":\"2\"\n    {\"ID\":\"5\",\"titel\":\"doorplannen\",\"plaatsID\":\"3840\",\"prio\":\"2\"}\n    {\"ID\":\"4\",\"titel\":\"Gasfles\",\"plaatsID\":\"3780\",\"prio\":\"2\"}\n]\n</code></pre>\n\n<p>For this, I wrote following code, but I can't read the data. Other single JSON output it works fine, but a multiple output doesn't work:</p>\n\n<pre><code>     void start::finishedSlot(QNetworkReply * reply)\n    {\n        // Reading attributes of the reply\n        // e.g. the HTTP status code\n        reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n    reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute);\n    // see CS001432 on how to handle this\n    // no error received?\n    if (reply-&gt;error() == QNetworkReply::NoError)\n    {\n            QByteArray data = reply-&gt;readAll();\n        bool ok;\n        QVariantMap result = Json::parse(QString(data), ok).toMap();\n\n        if(!ok) {\n            qFatal(\"An error occurred during parsing\");\n            exit(1);\n        }\n        QMapIterator&lt;QString, int&gt; i(result);\n        while (i.hasNext()) {\n            i.next();\n            cout &lt;&lt; i.key() &lt;&lt; \": \" &lt;&lt; i.value() &lt;&lt; endl;\n        }\n\n    ui-&gt;log-&gt;setText(\"het gaat goed\");\n    }\n    // Some http error received\n    else\n    {\n     ui-&gt;log-&gt;setText(\"gaat NIET goed\");\n    }\n    delete reply;\n}\n</code></pre>\n"},{"tags":["qt","qt-stylesheet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":11988540,"title":"How to make tabs in Qt look like tabs in Google Chrome?","body":"<p>I don't want my tabs to have a Drag and Drop feature like Chrome (as covered by this question: <a href=\"http://stackoverflow.com/questions/4700829/apply-chrome-like-tabs-in-qt\">Apply chrome like tabs in Qt</a>) - I just want them to look like Chrome tabs.</p>\n\n<p>I'm currently using <code>QTabWidget</code>, but its built-in shape <code>QTabWidget::Triangular</code> is so ugly. What do I need to use? Stylesheet or image or something else?</p>\n"},{"tags":["qt","tabs","qtscript","qt-stylesheet"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12993268,"title":"Define tabs background with stylesheets without changing QWidget?","body":"<p>I want to make a very basic GUI: tabs, text area.</p>\n\n<p>But I want to color my tabs and make them always looking the same on MAC, Windows and Linux.</p>\n\n<p>So, I tryed to use a stylesheet:</p>\n\n<pre><code>QTabWidget::pane\n{\n    border-top: 2px solid #1B1B1B;\n    background-color: #262626;\n}\n\nQTabWidget::tab-bar\n{\n    left: 5px;\n    alignment: left;\n    background: #3E3E3E;\n}\n\nQTabBar::tab\n{\n    background: transparent;\n    color: #757575;\n    padding: 15px 5px 15px 5px;\n}\n\nQTabBar::tab:hover\n{\n    text-decoration: underline;\n}\n\nQTabBar::tab:selected\n{\n    color: #DEF600;\n    background: qlineargradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #262626, stop: 1.0 #3D3D3D );\n}\n</code></pre>\n\n<p>But even if the tabs looks well, there is a problem: The tab  pane is still transparent...</p>\n\n<p>I can force a background color by adding:</p>\n\n<pre><code>QWidget\n{\n    background-color: #262626;\n}\n</code></pre>\n\n<p>But as you know, this change the background color of ALL the widgets, even my QPlainTextEdit that I still want to have a white background. And more annoying, this reset the OS skin and display ugly scrollbars (I really want to keep them as they were).</p>\n\n<p>Is there a way to change the tabs pane background without having to reskin all the components ?</p>\n"},{"tags":["qt","animation","timer","qml","qt-quick"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13172355,"title":"Timer not working correctly","body":"<p>We have to make progress bar consisting with slider, which has colour transition as the slider proceeds as shown in the figure below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Q6Fjr.jpg\" alt=\"Progress Bar\"></p>\n\n<p>I tried my hand with below logic but could not get the desired effect. Any help or suggestion how to implement the same.</p>\n\n<p>Below is my code snippet</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    id: container\n\n    width: 500; height: 400\n\n    Row {\n        id:repeaterid\n        x: 75\n        y: 280\n        anchors.bottom: parent.bottom\n        anchors.bottomMargin: 114\n        spacing: 4\n        Repeater {\n            model: 50\n            Rectangle {\n                id: smallrect\n                color: \"red\"\n                width:4\n                height:4\n            }\n        }\n    }\n\n    Timer {\n        id: progressTimer\n        interval: 50\n        running: true\n        repeat: true\n        onTriggered: {\n            if (slider.x &lt; 460)\n            {\n                slider.x += repeaterid.spacing + 4\n                smallrect.color = \"green\"\n            }\n        }\n    }\n\n    Rectangle {\n        id: slider\n        x: repeaterid.x\n        y: repeaterid.y\n        width: 6; height: 6\n        color: \"blue\"\n    }\n}\n</code></pre>\n\n<p>I have tried to use ColorAnimation, but got any luck.</p>\n"},{"tags":["c++","windows","qt","windows-shell"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13162693,"title":"windows 8 IShellIconOverlayIdentifier shell extension not working properly","body":"<p>I have an application where i want to have icon overlays for specific files and folders. </p>\n\n<p>For this purpose i've written a shell extension that implements the IShellIconOverlayIdentifier interface. Its written in c++ / Qt (<a href=\"http://doc.qt.digia.com/qt/activeqt.html\" rel=\"nofollow\">activeqt</a>) as a dll that connects to the application in question using tcp to query the application to decide wether to show the icon overlay or not. Its buildt much the same way <a href=\"http://www.qtcentre.org/threads/32104-howto-making-a-windows-shell-extension-with-qt-open-source-edition\" rel=\"nofollow\">this</a> is.</p>\n\n<p>It works fine in XP/Vista/7 but it wont work in windows 8.</p>\n\n<p>In windows 8 the dll is loaded. I can see it in <a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\" rel=\"nofollow\">process explorer</a> and also as a part of debugging it also logs output to a file so i can see whats happening and infer whats not. </p>\n\n<p>Using <a href=\"http://www.nirsoft.net/utils/shexview.html\" rel=\"nofollow\">ShellExView</a> i can also see thats its registered, not disabled and in general everything looks ok.</p>\n\n<p>The class declaration looks more or less like this:</p>\n\n<pre><code>class Q_DECL_EXPORT OverlayClass :\n    public QAxAggregated,\n    public IShellIconOverlayIdentifier{\npublic:\n    // Implements IUnknown\n    QAXAGG_IUNKNOWN; \n\n    JShellOverlayWorking();\n\n    // Implements IShellIconOverlayIdentifier\n    STDMETHOD(GetOverlayInfo)(LPWSTR pwszIconFile, int cchMax, int *pIndex, DWORD* pdwFlags);\n    STDMETHOD(GetPriority)(int* pPriority);\n    STDMETHOD(IsMemberOf)(LPCWSTR pwszPath, DWORD dwAttrib);\n\n    //pure virtual from QAxAggregated\n    long queryInterface(const QUuid &amp;iid, void**iface); \n};\n</code></pre>\n\n<p>Whats happens on XP/Vista/7 :</p>\n\n<ul>\n<li>that explorer on load first call queryInterface() and gets an S_OK if iid == IID_IShellIconOverlayIdentifier and E_NOINTERFACE for all other iid's</li>\n<li>and then it goes on to call GetOverlayInfo() to initialize stuff. Get the icon file path etc. </li>\n<li>And then as the shell needs to it calls IsMemberOf() to see if it should display the icon for a file or folder.</li>\n</ul>\n\n<p>What happens on windows 8 :</p>\n\n<ul>\n<li>that explorer on load calls queryInterface() and gets an S_OK when iid == IID_IShellIconOverlayIdentifier and E_NOINTERFACE for all other iid's</li>\n</ul>\n\n<p>And nothing else. queryInterface() is getting called, but after that nothing happens. I can see my application connecting successfully to the tcp socket created by the shell extension and IPC is working( i can send data back and forth between the application and the dll, but again. Nothing else happens. Explorer is not using the implemented interface. </p>\n\n<p>The dll is registered using:</p>\n\n<pre><code>regsvr32.exe shellext.dll\n</code></pre>\n\n<p>and the registry key below is also added</p>\n\n<pre><code>HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\ShellIconOverlayIdentifiers\\Shellextname ( value = CSLID )\n</code></pre>\n\n<p>for testing on windows 8 i've also added the following key to </p>\n\n<pre><code>HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Shell Extensions\\Approved\n</code></pre>\n\n<p>with my shell extensions CSLID as the name and data = Shellextname ( as above in the previous key) though this doesn't seem to matter on XP/Vista/7 so i'm guessing its inconsequential here as well.</p>\n\n<p>Again, this works on every windows( >= xp) except windows 8. </p>\n\n<p>What am i missing? Where do i go from here to find out?</p>\n"},{"tags":["c++","qt","qml","blackberry-10","blackberry-qnx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13129000,"title":"Add/Insert dynamically QML element into QML view with C++","body":"<p>I'mt trying to add a custom QML element that I create into another QML view already loaded from C++.</p>\n\n<p>The context is the following: I'm loading a QML view from C++, and I need to inject another QML custom component that I build into this QML view. All in C++. </p>\n\n<p>I've been searching for 4 hours and I haven't found a way to acomplish this. </p>\n\n<p>Here's some code to give you a better perspective:</p>\n\n<pre><code>QmlDocument *qml = QmlDocument::create(\"asset:///PosicionConsolidad.qml\").parent(this);\nqml-&gt;setContextProperty(\"pos\", this);\n\nPage *page = qml-&gt;createRootObject&lt;Page&gt;();\nmyST = GlobalST::getInstance();\nLoadInfo();\n\n_mRoot-&gt;push(page);\n_app-&gt;setScene(_mRoot);\n\nvoid Project::LoadInfo() {\n    QmlDocument *qml = QmlDocument::create(\"asset:///customComponents/TableRow.qml\").parent(this);\n    //Here's where I need to append this new QML custom element to the \n    //page previously loaded.\n    //I don't know if I can just inject it or I need to make a find child to \n    //maybe a parent container in the QML view and then add it there. But I \n    //also tried that and didn't work out.\n}\n</code></pre>\n\n<p>Please help. Regards.</p>\n"},{"tags":["qt","qt-stylesheet","qheaderview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13174084,"title":"QHeaderView::section:selected","body":"<p>I have following style segment applied to QHeaderView</p>\n\n<pre><code>QHeaderView::section:selected\n    {\n        padding-left: 16px;\n        background-color: #1c1c1c;\n    }\n</code></pre>\n\n<p>for some reason \"selected\" Pseudo-State for QHeaderView is not working but in the documentation it says it should work. I have tried following and it works:</p>\n\n<pre><code>QHeaderView::section:first\n{\n    padding-left: 16px;\n    background-color: #1c1c1c;\n}\n</code></pre>\n\n<p>My question is, how can apply a different style for the selected Header TIA</p>\n"},{"tags":["c++","qt","blackberry-10","blackberry-qnx"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":168,"score":2,"question_id":12811027,"title":"BB10 Cascades Command Line Development","body":"<p>Since programming for BB10 is now supposedly much easier if you know Qt, I decided to give it a go and I have been reading this: <a href=\"https://developer.blackberry.com/cascades/documentation/getting_started/index.html\" rel=\"nofollow\">https://developer.blackberry.com/cascades/documentation/getting_started/index.html</a></p>\n\n<p>I noticed that all of RIM's tutorials, and all of the online tutorials that I can find centre around the QNX Momentics IDE - a customized Eclipse.</p>\n\n<p>Because I'm old school, and I like VIM, I would really prefer to work with command line tools. However, I can't seem to find any documentation on how to set up a project, the build process, or a device/emulator deployment outside of this IDE. Is that even possible? If so, does anyone have any leads on some documentation or tutorials?</p>\n"},{"tags":["c++","windows","qt","make"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13171263,"title":":= versus = error: undefined reference to qMain(int, char**)","body":"<p><strong>Qt 4.6.1</strong></p>\n\n<p>In the following .pro file, when I use the statement</p>\n\n<pre><code>sources = ef.cpp\n</code></pre>\n\n<p>I get following errors:</p>\n\n<pre><code>RInside.h: No such file or directory\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/aupRQ.png\" alt=\"enter image description here\"></p>\n\n<p>Then when I replace = with := like:</p>\n\n<pre><code>sources := ef.cpp\n</code></pre>\n\n<p>the above error vanishes, and I get a new error:</p>\n\n<pre><code>error: undefined reference to qMain(int, char**)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/Qfcre.png\" alt=\"enter image description here\"></p>\n\n<p>From here: <a href=\"http://stackoverflow.com/a/448939/462608\">http://stackoverflow.com/a/448939/462608</a></p>\n\n<blockquote>\n  <p>VARIABLE = value Normal setting of a variable - values within it are\n  recursively expanded when the variable is used, not when it's declared</p>\n  \n  <p>VARIABLE := value Setting of a variable with simple expansion of the\n  values inside - values within it are expanded at declaration time.</p>\n</blockquote>\n\n<p><strong>I wish to understand what's happening here, and what's the solution.</strong></p>\n\n<p><strong>.cpp</strong></p>\n\n<pre><code>#include &lt;RInside.h&gt;\nint main(int argc, char *argv[]) \n{\n    RInside R(argc, argv);\n\n    R[\"txt\"] = \"Hello, world!\\n\";\n\n    R.parseEvalQ (\"cat(txt)\");\n\n    exit(0);\n}\n</code></pre>\n\n<p><strong>.pro</strong></p>\n\n<pre><code>TEMPLATE    = app\nTARGET      = \nDEPENDPATH  += .\nINCLUDEPATH += .\n\nR_HOME  := 'c:/R-2.15.1'\n\n# Input\nsources  = ef.cpp\nprograms := $(sources:.cpp=)\n\n## include headers and libraries for R\nRCPPFLAGS :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config --cppflags)\nRLDFLAGS  :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config --ldflags)\nRBLAS     :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config BLAS_LIBS)\nRLAPACK   :=        $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config LAPACK_LIBS)\n\n## include headers and libraries for Rcpp interface classes\nRCPPINCL  :=        $(shell echo 'Rcpp:::CxxFlags()' | $(R_HOME)/bin/R $(R_ARCH) --vanilla \n\n--slave)\nRCPPLIBS  :=        $(shell echo 'Rcpp:::LdFlags()'  | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\n\n\n## include headers and libraries for RInside embedding classes\nRINSIDEINCL :=      $(shell echo 'RInside:::CxxFlags()' | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\nRINSIDELIBS :=      $(shell echo 'RInside:::LdFlags()'  | $(R_HOME)/bin/R $(R_ARCH) --vanilla --slave)\n\n\n## compiler etc settings used in default make rules\nCXX        := $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXX)\nCPPFLAGS   := -Wall $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CPPFLAGS)\n#CXXFLAGS  := $(RCPPFLAGS) $(RCPPINCL) $(RINSIDEINCL) $(shell $(R_HOME)/bin/R $(R_ARCH) \n\nCMD config CXXFLAGS)\nQMAKE_CXXFLAGS := $(RCPPFLAGS) $(RCPPINCL) $(RINSIDEINCL) $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXXFLAGS)\nLDFLAGS    = -s\nQMAKE_LIBS := $(RLDFLAGS) $(RBLAS) $(RLAPACK) $(RINSIDELIBS) $(RCPPLIBS)\nCC         := $(shell $(R_HOME)/bin/R $(R_ARCH) CMD config CXX)\n</code></pre>\n"},{"tags":["qt","touch","meego"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":109,"score":3,"question_id":7357935,"title":"How to programmatically simulate touch event in Meego?","body":"<p>I need to use an input text file as an alternative to touch input for a meego based device , I want to know how I can do this.</p>\n\n<p>What input parameters are actually passed by the touch screen on meego device to invoke the respective touch event?</p>\n\n<p>Whether the input type is coordinates, screen, any id? </p>\n\n<p>I know I can use <code>QTouchEvent</code> class instance and pass it <code>QApplication:: sendEvent()</code>,\nbut how to programatically post the touch event which will be processed just as an actual human touch?</p>\n\n<p>Please suggest alternative solution.</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","keyboard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":11560557,"title":"How to get current language in Qt?","body":"<p>Tell me please how to get current language of keyboard in Qt?\nIf I use this:</p>\n\n<pre><code>QLocale loc = QApplication::keyboardInputLocale();\nQString keyBoardLang = loc.languageToString(loc.language());\nqDebug()&lt;&lt;keyBoardLang;\n</code></pre>\n\n<p>I always get the same results independent of chosen language.\nI would prefer a crossplatform answer.</p>\n"},{"tags":["qt","drop-down-menu","navigation","qt-creator","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13138259,"title":"ListView issue in QML","body":"<p>I'm trying to develop an application which has multi-layered navigation in drop-downs.\nBelow is the snapshot of the requirement. On clicking QSR only the subitems of QSR should pop out with proper alignment.</p>\n\n<p><img src=\"http://i.stack.imgur.com/YE91o.png\" alt=\"original requirement\"></p>\n\n<p>But with my implementation, I'm getting following result. The pop out window is not aligned, but extending itself to the list.</p>\n\n<p><img src=\"http://i.stack.imgur.com/fGKG2.png\" alt=\"my implementation\"></p>\n\n<p>Below is the my code snippet </p>\n\n<pre><code>import QtQuick 1.1\n\nItem {\n    width: 500\n    height: 300\n\n    ListView {\n        anchors.fill: parent\n        model: nestedModel\n        delegate: categoryDelegate\n    }\n\n    ListModel {\n        id: nestedModel\n        ListElement {\n            categoryName: \"QSR\"\n            collapsed: true\n\n            subItems: [\n                ListElement { itemName: \"KFC\" },\n                ListElement { itemName: \"Mc Donalds\" },\n                ListElement { itemName: \"Pizza Hut\" },\n                ListElement { itemName: \"Brain's\" }\n            ]\n        }\n\n        ListElement {\n            categoryName: \"Drinks\"\n            collapsed: true\n            subItems: [\n                ListElement { itemName: \"Pepsi\" },\n                ListElement { itemName: \"Coke\" },\n                ListElement { itemName: \"7up\" },\n                ListElement { itemName: \"Bacardi\" }\n            ]\n        }\n    }\n\n    Component {\n        id: categoryDelegate\n        Column {\n            width: 200\n\n            Rectangle {\n                id: categoryItem\n                border.color: \"black\"\n                border.width: 5\n                color: \"white\"\n                height: 50\n                width: 200\n                anchors.left: parent.right\n\n                Text {\n                    anchors.right: parent.right\n                    x: 15\n                    font.pixelSize: 24\n                    text: categoryName\n                }\n\n                MouseArea {\n                    anchors.fill: parent\n                    onClicked: nestedModel.setProperty(index, \"collapsed\", !collapsed)\n                }\n\n            }\n\n\n            Loader {\n                id: subItemLoader\n                visible: !collapsed\n                property variant subItemModel : subItems\n                sourceComponent: collapsed ? null : subItemColumnDelegate\n                onStatusChanged: if (status == Loader.Ready) item.model = subItemModel\n            }\n        }\n\n    }\n\n    Component {\n        id: subItemColumnDelegate\n        Column {\n            property alias model : subItemRepeater.model\n            width: 200\n            Repeater {\n                id: subItemRepeater\n                delegate: Rectangle {\n                    color: \"#cccccc\"\n                    height: 40\n                    width: 200\n                    border.color: \"black\"\n                    border.width: 2\n\n                    Text {\n                        anchors.verticalCenter: parent.verticalCenter\n                        x: 30\n                        font.pixelSize: 18\n                        text: itemName\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Any help to achieve original requirement will be appreciable.</p>\n"},{"tags":["c++","qt","directx-11"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13111617,"title":"Interrupt in Qt event","body":"<p>I am working with Qt, Directx 11 and C++. When my widget opens I start an Engine with system->Run(). This function calls every frame a function named Frame() as long as the variable done is set to false. </p>\n\n<p>When the closing event is called in my Qt class, then I want to shutdown the engine. So I made a function named isDone() which sets the variable done to false and then I release all variables I have created with System->Shutdown(). But the problem is that the program crashes because when the closing event is called, the System->Run() function is interrupted as long as the closing event is over, but I want that the Run() function is executed after the call from the function isDone() before the System->Shutdown() function is executed. </p>\n\n<p>Is there any possibility to make an interrupt in the closing event, so that other things in the queue are executed?</p>\n"},{"tags":["c++","xcode","osx","qt","cmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13169556,"title":"How can I make Qt CMake project link in Xcode for an i386 architecture?","body":"<p>I have developed an application that works on Windows and I'm now trying to get it to compile for Mac. I've tried to keep everything portable, using Qt with CMake and the library Cinder but inevitably it is not turning out to be that simple.</p>\n\n<p>I'm running Xcode 4.4.1 on Mac OS 10.7.5 and Qt 4.8.3 - I'm also using the LGPL licence of Qt which requires me to use dynamic rather than static linking. I downloaded Qt as an installer from <a href=\"http://qt-project.org/downloads\" rel=\"nofollow\">http://qt-project.org/downloads</a> and have not compiled it myself (nor am I entirely certain how to do so on a Mac).</p>\n\n<p>Using CMake to create an Xcode project and with a bit of tweaking I've managed to get to the compile stage but I'm stuck with this line which then causes all Qt linkages to fail:</p>\n\n<p><em>ignoring file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtXml.framework/QtXml, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtXml.framework/QtXmlignoring file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtCore.framework/QtCore, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks/QtCore.framework/QtCore</em></p>\n\n<p>It's also worth mentioning that I need to build for 32 bit architecture (i386) with the 10.6 SDK for compatibility with Cinder.</p>\n\n<p>So, the question is, how can I get past this error? I gather that the problem may be that Qt has been built only for 64 bit architecture but how do I build the right version and point my Xcode project to it?</p>\n"},{"tags":["qt","pyqt","qpainter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13149793,"title":"How do I combine a QImage and QPixmap?","body":"<p>I'm using PyQt, and I've loaded an image from disk into a <code>QPixmap</code>.  I've also created a mask, using:</p>\n\n<pre><code>self.mask = QImage(self.image.width(), self.image.height(), QImage.Format_Mono)\nself.mask.fill(0)\n</code></pre>\n\n<p>I'd like to combine the two for display, such that any pixels colored black in the mask are drawn in translucent red over the image when I render it.</p>\n\n<p>I've created a custom widget, that renders the image in the paint event like so:</p>\n\n<pre><code>def paintEvent(self, event):\n    p = QPainter(self)\n    r = event.rect()\n\n    p.drawPixmap(r, self.image, r)\n</code></pre>\n\n<p>This works fine.  What I'm less clear on is how to take the data in the mask and paint a translucent red only over those pixels in the destination image.</p>\n\n<p>I've tried turning the mask into a clipping region, like this:</p>\n\n<pre><code>mask = QPixmap.fromImage(self.mask.createMaskFromColor(self.mask.color(0)))\np.setClipRegion(QRegion(mask))\n\ncolor = QColor(255, 0, 0, 128)\np.setPen(Qt.NoPen)\np.setBrush(QBrush(color))\np.drawRect(r)\n</code></pre>\n\n<p>... but it doesn't draw anything (and draws a translucent red box over the whole image if I don't call <code>setClipRegion</code>).</p>\n\n<p>I also tried creating the mask as a <code>QImage.Format_ARGB4444_Premultiplied</code>, and using transparency.  And while this does work, and I can edit the mask in my program (and verify that some portions of the mask are transparent and some portions are opaque) the <code>self.mask.createAlphaMask()</code> method returns a solid white rectangle.</p>\n\n<p>Do the \"create mask\" methods actually do anything?</p>\n"},{"tags":["qt","build","qt-creator","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":138,"score":2,"question_id":11593165,"title":"QTCreator copy files to output directory with INSTALLS","body":"<p>I have two sub directories <code>docroot</code> and <code>config</code> in my Qt project. Files in these directories shall be copied to the build directory whenever I build / debug the project.</p>\n\n<p>As of <a href=\"http://stackoverflow.com/a/3991210/356726\">http://stackoverflow.com/a/3991210/356726</a> this is possible by using <code>INSTALLS</code> (<a href=\"http://doc.trolltech.com/main-snapshot/qmake-variable-reference.html#installs\" rel=\"nofollow\">QtDoc</a>), which seems to be much easier than running copy command (e.g <a href=\"http://stackoverflow.com/a/3984180/356726\">here</a>). A similar approach is described <a href=\"http://stackoverflow.com/a/6776872/356726\">here</a>.</p>\n\n<pre><code>config.path    = $${DESTDIR}/config\nconfig.files   = config/*\ndocroot.path   = $${DESTDIR}/docroot\ndocroot.files  = docroot/*\nINSTALLS       += config docroot\n</code></pre>\n\n<p>However, when I run a build in Qt Creator nothing happens. This <a href=\"http://stackoverflow.com/a/6292967/356726\">here</a> says I need to run <code>make install</code> . Can I somehow trigger / do this from within Qt Creator automatically whenever I build. I would need always the latest version of the files.</p>\n\n<p>EDIT: Eventually I have used <code>$$OUT_PWD</code> instead of <code>$$DESTDIR</code></p>\n\n<p>Original comment from Logan <a href=\"http://stackoverflow.com/a/10058744/356726\">here</a>:\n\"Just a note: I used <code>$$OUT_PWD</code> instead of <code>$$DESTDIR</code> to make it work. For reference <code>$$OUT_PWD</code> is the folder that the program is built to, and <code>$$PWD</code> is the folder that the program is Being built from -in other words it's where the .pro file is.\"</p>\n"},{"tags":["c++","qt","qt4","qt-creator","qmake"],"answer_count":3,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1140,"score":8,"question_id":8391964,"title":"How to copy Qt runtime DLLs to project output","body":"<p>I have a simple project created in Qt Creator (installed using Qt SDK 1.1.4).  It runs just fine from within Qt Creator, but if I then browse to the output directory in Windows and double-click the EXE, I'll get an error like:</p>\n\n<pre><code>The program can't start because QtCored4.dll is missing from your computer.\nTry reinstalling the program to fix this problem.\n</code></pre>\n\n<p>That's obviously because Qt isn't in my PATH (and I don't want it to be, in case I have multiple versions of Qt on my computer), and Qt Creator / qmake didn't copy the Qt DLLs to the project output.</p>\n\n<p>What I would like to do is use qmake to copy the necessary Qt files to the project output directory - wherever it may be.  How do I do this?</p>\n\n<p>(I tried creating a custom target in qmake, but I'm not getting too far...)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13148487,"title":"Empty scrollArea QT C++","body":"<p>I am loading data from xml executed by timer. xml is parsed and populated in entity object.\nIn a loop im taking the data from entity object and populate QCommandLinkButton's. and in the end a batch of buttons are set into the verticalLayout and then in scrollArea.</p>\n\n<p>but every time data is loaded its appends to the old data. How can I empty the content of the srollArea before repopulating scrollArea.</p>\n\n<pre><code>MainWindow::methodExecudedByTimer(){\n\n    foreach(int i, map.keys()){ \n        QCommandLinkButton* buttonEmail = new QCommandLinkButton(this);\n        Email em = map[i];\n        buttonEmail-&gt;setText(em.__toString());\n\n        ui-&gt;verticalLayout-&gt;addWidget(buttonEmail);\n    }\n    ui-&gt;scrollArea-&gt;setLayout(ui-&gt;verticalLayout);\n}\n</code></pre>\n"},{"tags":["linux","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":13127264,"title":"Qmake does not include the library path for qt","body":"<p>I just install qt on my slax box, \nAnd I tried to write and compile using qmake.</p>\n\n<p>But the problem is qmake does not write it's 'Makefile' to include -Lqt-mt or -Lqt.\nI have to give it manually otherwise there are unresolved links are there. What I could \ndo for this?Any workaround on this?</p>\n\n<p><img src=\"http://i.stack.imgur.com/nVA3f.png\" alt=\"enter image description here\"></p>\n\n<p>And this is the 'Makefile' output by the qmake.</p>\n\n<pre><code>#############################################################################\n# Makefile for building: hello\n# Generated by qmake (2.01a) (Qt 4.5.3) on: Tue Feb 2 04:04:03 2010\n# Project:  hello_world.pro\n# Template: app\n# Command: /usr/bin/qmake -unix -o Makefile hello_world.pro\n#############################################################################\n\n####### Compiler, tools and options\n\nCC            = gcc\nCXX           = g++\nDEFINES       = \nCFLAGS        = -pipe $(DEFINES)\nCXXFLAGS      = -pipe $(DEFINES)\nINCPATH       = -I/usr/lib/qt-3.3.8b/mkspecs/linux-g++ -I.\nLINK          = g++\nLFLAGS        = \nLIBS          = $(SUBLIBS)   \nAR            = ar cqs\nRANLIB        = \nQMAKE         = /usr/bin/qmake\nTAR           = tar -cf\nCOMPRESS      = gzip -9f\nCOPY          = cp -f\nSED           = sed\nCOPY_FILE     = $(COPY)\nCOPY_DIR      = $(COPY) -r\nINSTALL_FILE  = $(COPY_FILE)\nINSTALL_DIR   = $(COPY_DIR)\nINSTALL_PROGRAM = $(COPY_FILE)\nDEL_FILE      = rm -f\nSYMLINK       = ln -sf\nDEL_DIR       = rmdir\nMOVE          = mv -f\nCHK_DIR_EXISTS= test -d\nMKDIR         = mkdir -p\n\n####### Output directory\n\nOBJECTS_DIR   = ./\n\n####### Files\n\nSOURCES       = hello_world.cpp \nOBJECTS       = hello_world.o\nDIST          = hello_world.pro\nQMAKE_TARGET  = hello\nDESTDIR       = \nTARGET        = hello\n\nfirst: all\n####### Implicit rules\n\n.SUFFIXES: .o .c .cpp .cc .cxx .C\n\n.cpp.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.cc.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.cxx.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.C.o:\n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n.c.o:\n    $(CC) -c $(CFLAGS) $(INCPATH) -o \"$@\" \"$&lt;\"\n\n####### Build rules\n\nall: Makefile $(TARGET)\n\n$(TARGET):  $(OBJECTS)  \n    $(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJCOMP) $(LIBS)\n\nMakefile: hello_world.pro  /usr/lib/qt-3.3.8b/mkspecs/linux-g++/qmake.conf \n    $(QMAKE) -unix -o Makefile hello_world.pro\nqmake:  FORCE\n    @$(QMAKE) -unix -o Makefile hello_world.pro\n\ndist: \n    @$(CHK_DIR_EXISTS) .tmp/hello1.0.0 || $(MKDIR) .tmp/hello1.0.0 \n    $(COPY_FILE) --parents $(SOURCES) $(DIST) .tmp/hello1.0.0/ &amp;&amp; (cd `dirname .tmp/hello1.0.0` &amp;&amp; $(TAR) hello1.0.0.tar hello1.0.0 &amp;&amp; $(COMPRESS) hello1.0.0.tar) &amp;&amp; $(MOVE) `dirname .tmp/hello1.0.0`/hello1.0.0.tar.gz . &amp;&amp; $(DEL_FILE) -r .tmp/hello1.0.0\n\n\nclean:compiler_clean \n    -$(DEL_FILE) $(OBJECTS)\n    -$(DEL_FILE) *~ core *.core\n\n\n####### Sub-libraries\n\ndistclean: clean\n    -$(DEL_FILE) $(TARGET) \n    -$(DEL_FILE) Makefile\n\n\ncompiler_clean: \n\n####### Compile\n\nhello_world.o: hello_world.cpp \n    $(CXX) -c $(CXXFLAGS) $(INCPATH) -o hello_world.o hello_world.cpp\n\n####### Install\n\ninstall:   FORCE\n\nuninstall:   FORCE\n\nFORCE:\n</code></pre>\n\n<p>And here is my .pro file that I used.</p>\n\n<pre><code>TEMPLATE=app\nCONFIG+= qt warn_on release\nHEADERS=\nSOURCES=hello_world.cpp\nTARGET=hello\n</code></pre>\n\n<p>I already set the $QTDIR and I think everything is in place. \nWhere I missed? Why I have to give it manually? Why qmake does not work in first\nplace?</p>\n\n<p>EDIT:\nThere in makefile </p>\n\n<pre><code>LIBS          = $(SUBLIBS) \n</code></pre>\n\n<p>What I did is change it to,</p>\n\n<pre><code>LIBS          = $(SUBLIBS)  -lqt-mt\n</code></pre>\n\n<p>After I changed everything works fine ! The problem is again , why I have to do such \na thing manually?</p>\n\n<p>FOR @Frank Osterfeld\nI think I'm using correct 'qmake' because ,\nWhen I hit, qmake --version , I do get this.</p>\n\n<pre><code>QMake version 2.01a\nUsing Qt version 4.5.3 in /usr/lib/qt/lib\n</code></pre>\n\n<p>--Thanks in advance--</p>\n"},{"tags":["c++","qt","table","pdf"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13167460,"title":"QTextBrowser and painter","body":"<p>i have pdf i want to print, this pdf must have a table which is a text for which i am using QTextBrowser. i then use Painter to render the graph. my issue is you cant render with QTextBrowser there are some issue  below is the code for the table this has no graphics just text so this is fine. </p>\n\n<pre><code> QGraphicsTextItem *painters;\n    painters-&gt;\n    QPrinter *printer = new QPrinter(QPrinter::HighResolution);\n    printer-&gt;setPaperSize(QPrinter::A4);\n    printer-&gt;setOutputFormat(QPrinter::PdfFormat);\n    printer-&gt;setOrientation(QPrinter::Portrait);\n    printer-&gt;setFullPage(true);\n    printer-&gt;setOutputFileName(fileName);\n\n\n\n// Print Summary\n\nQTableWidget *summaryTab=new QTableWidget();\nm_mainApp-&gt;m_table-&gt;SetTableWidget(summaryTab);\nsummaryTab-&gt;setGeometry(0,0,printer-&gt;pageRect().width(),printer-&gt;pageRect().height());\nsummaryTab-&gt;setAutoScroll(false);\nm_mainApp-&gt;m_table-&gt;InitTableSummary(summaryTab);\nm_mainApp-&gt;m_table-&gt;FillTableSummary(summaryTab,index);\nsummaryTab-&gt;setAlternatingRowColors(true);\nsummaryTab-&gt;setFrameShape(QFrame::NoFrame);\nQTextBrowser *editor= new QTextBrowser;\nQTableWidget2QTextBrowser(summaryTab,editor);\n</code></pre>\n\n<p><strong>This is where the issue comes in</strong></p>\n\n<pre><code> if(m_mainApp-&gt;mLoggerList[index].recCurrentAddress)\n    {\n\n\n\n//            // Print Graph\n\n////        QwtPlotRenderer renderer;\n////        renderer.setDiscardFlag(QwtPlotRenderer::DiscardBackground,false);\n////        renderer.setLayoutFlag(QwtPlotRenderer::KeepFrames,true);\n////        renderer.render(m_plot,&amp;painter,QRect(0,printer-&gt;height()/2,printer-&gt;width(),printer-&gt;height()/2.2));\n////        printer-&gt;newPage();\n</code></pre>\n\n<p>I have tried to use paintEngine and still had issue maybe i didnt set it up accordingly, was also looking into QGraphicTextItem as seen on top these graphics are not html but simple graphics.I cant swwtich to html so this must stay as an graphic or image. so how do i get this to work please understand i am new to Qt and im entry so please explain set by set or a fully as you can. thank you for your help</p>\n"},{"tags":["qt","gui","drag-and-drop","draggable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13166686,"title":"Making part of a QWidget draggable","body":"<p>I have a USB device that can</p>\n\n<ul>\n<li>\"move\" along a linear axis,</li>\n<li>stop at a target,</li>\n<li>report its position,</li>\n<li>report its target,</li>\n<li>have its target set by the host application.</li>\n</ul>\n\n<p>Now I want to create a widget that I can use to indicate position and target, but I also want the target indicator to be draggable with the mouse. What I have accomplished so far is the indicating part, which looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/0UMH0.png\" alt=\"enter image description here\"></p>\n\n<p>The black, filled triangle is the position; the target indicator is green.</p>\n\n<p>What I want is to be able drag the target indicator around. While this is being done, the device's target should be updated with the current target indicator's value. I'm new to gui programming (until now I only took care of the USB stuff; this is my first custom widget), and I'm not sure how I can accomplish this.</p>\n\n<p>Is it a good idea to leave the target indicator as a part of the widget, or should it be some kind of child? I'm pretty sure there are common patterns for this kind of job, but I don't know the right keywords to find them. Googling for things like \"QWidget drag\" only leads me to the drag and drop functions, which is not quite what I need.</p>\n"},{"tags":["c++","qt","bit-manipulation","bit-shift"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13166393,"title":"QBitArray shift","body":"<p>How can I shift a QBitArray in QT? </p>\n\n<p>For example, I have <em>0010000</em> which I'd like to shift left, so I would get <em>0100000</em>. There is no function for this in <a href=\"http://harmattan-dev.nokia.com/docs/library/html/qt4/qbitarray.html\" rel=\"nofollow\">QT's documentation</a> concerning QBitArray.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":572,"score":3,"question_id":4269774,"title":"Display and get the result of a QMessageBox from outside of a QObject","body":"<p>I am trying to display and get the result a message box from outside of a QObject class. I seem to be able to generate the dialog like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal();\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal() ), this, SLOT(MySlot()) );\n  }\n\n  void EmitSignal()\n  {\n    emit MySignal();\n  }\n\npublic slots:\n  void MySlot()\n  {\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result)\n    {\n      std::cout &lt;&lt; \"ok\" &lt;&lt; std::endl;\n    }\n    else\n    {\n      std::cout &lt;&lt; \"invalid\" &lt;&lt; std::endl;\n    }\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction(DialogHandler* dialogHandler)\n{\n  dialogHandler-&gt;EmitSignal();\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  DialogHandler* dialogHandler = new DialogHandler;\n\n  MyFunction(dialogHandler);\n\n  return app.exec();\n}\n</code></pre>\n\n<p>To get the result back in MyFunction, it seems to work to do simply pass an object to fill with the result like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;QApplication&gt;\n#include &lt;QtConcurrentRun&gt;\n#include &lt;QMessageBox&gt;\n\nclass DialogHandler : public QObject\n{\nQ_OBJECT\n\nsignals:\n  void MySignal(int* returnValue);\n\npublic:\n  DialogHandler()\n  {\n    connect( this, SIGNAL( MySignal(int*) ), this, SLOT(MySlot(int*)), Qt::BlockingQueuedConnection );\n  }\n\n  void EmitSignal(int* returnValue)\n  {\n    emit MySignal(returnValue);\n  }\n\npublic slots:\n  void MySlot(int* returnValue)\n  {\n    std::cout &lt;&lt; \"input: \" &lt;&lt; *returnValue &lt;&lt; std::endl;\n    QMessageBox* dialog = new QMessageBox;\n    dialog-&gt;addButton(QMessageBox::Yes);\n    dialog-&gt;addButton(QMessageBox::No);\n    dialog-&gt;setText(\"Test Text\");\n    dialog-&gt;exec();\n    int result = dialog-&gt;result();\n    if(result == QMessageBox::Yes)\n    {\n      *returnValue = 1;\n    }\n    else\n    {\n      *returnValue = 0;\n    }\n  }\n};\n\n#include \"main.moc\" // For CMake's automoc\n\nvoid MyFunction(DialogHandler* dialogHandler)\n{\n  int returnValue = -1;\n  dialogHandler-&gt;EmitSignal(&amp;returnValue);\n\n  std::cout &lt;&lt; \"returnValue: \" &lt;&lt; returnValue &lt;&lt; std::endl;\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication app(argc, argv);\n\n  DialogHandler* dialogHandler = new DialogHandler;\n\n  QtConcurrent::run(MyFunction, dialogHandler);\n\n  std::cout &lt;&lt; \"End\" &lt;&lt; std::endl;\n  return app.exec();\n}\n</code></pre>\n\n<p>Does that seem reasonable? Is there a better way to do it?</p>\n"},{"tags":["qt","qvariant","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":370,"score":0,"question_id":7010956,"title":"QVariantMap crash in destructor","body":"<p>I am building a JSON-object with Qt and convert it to a QString using QJson. This (normally) works fine and it does in this case but in the destructor of my Qt data structure, it crashes with an Access Violation. The Object is built fine, it is sent over my network connection and after the function ends, my application crashes.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>void bar()\n{\n    QVariantMap data;\n    data.insert(\"Id\", 1);\n    QList&lt;QVariant&gt; list; //QVariantList\n\n    for (QMap&lt;...&gt;:ConstIterator ... ) //Loop through a Map\n    {\n        QMap&lt;QString, QVariant&gt; singleEntry; //QVariantMap\n        singleEntry.insert(\"LocalId\", it.value());\n        QList&lt;QVariant&gt; entryList; //QVariantList\n        for (...) //Loop through another structure\n        {\n            entryList.append(\"foo\");\n        }\n        singleEntry.insert(\"List\", entryList);\n        list.append(singleEntry);\n    }\n    data.insert(\"Entries\", list);\n\n    QJson::Serializer.serialize(data); // Works fine\n} // Crash here\n</code></pre>\n\n<p>If I remove the inner loop, which builds up <code>entryList</code>, everything works fine. It seems that the destructor of <code>data</code> cannot delete the contents but I have no idea, why. The whole data structure seems to be fine while serializing it (and I hope that QJson does not change anything in the given data) but it cannot be cleaned up..</p>\n\n<p>Best Regards,\nTobias</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":562,"score":2,"question_id":3716963,"title":"QVarientMap _ Json Parsing in QT","body":"<p>I am using the following code for parsing:</p>\n\n<pre><code>QJson::Parser parser;\nbool ok;\nQVariantMap result=parser.parse (cityReply-&gt;readAll(),&amp;ok).toMap();\nif (!ok)\n{\n    qFatal(\"An error occurred during parsing\");\n    exit (1);\n}\n\nforeach (QVariant city, result.toList())\n{\n    QVariantMap names = city.toMap();\n    qDebug() &lt;&lt; \"\\t-\" &lt;&lt; names[\"name\"].toString();\n}\n</code></pre>\n\n<p>My json String is <code>[{\"id\":2,\"name\":\"AAA\"},{\"id\":1,\"name\":\"BBB\"}]</code>.</p>\n\n<p>I got the following error:</p>\n\n<blockquote>\n  <p>'class QVariantMap' has no member named 'toList'.</p>\n</blockquote>\n\n<p>is it possible to convert the QMap to QList?</p>\n"},{"tags":["c++","qt","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":377,"score":0,"question_id":3717839,"title":"Undefined reference to a local class","body":"<p>I've just played with qjson library and got \"undefined reference\" error. This is the code:</p>\n\n<pre><code>#include &lt;qjson/qobjecthelper.h&gt;\n#include &lt;qjson/serializer.h&gt;\n\nclass Person: public QObject {\n\n    Q_OBJECT\n\n    Q_PROPERTY(QString name READ name WRITE setName)\n    Q_PROPERTY(Gender gender READ gender WRITE setGender)\n    Q_ENUMS(Gender)\n\npublic:\n    Person(QObject *parent = 0);\n    ~Person();\n\n    QString name() const;\n    void setName(const QString &amp;name);\n\n    enum Gender{Male, Female};\n    Gender gender() const;\n    void setGender(Gender gender);\n\nprivate:\n    QString m_name;\n    Gender m_gender;\n\n};\n\nint main ()\n{\n\n    Person person;\n\n    QJson::Serializer serializer;\n\n    person.setName(\"Nick\");\n    person.setGender(Person::Male);\n    QVariantMap person_map = QJson::QObjectHelper::qobject2qvariant(&amp;person);\n\n    QByteArray json = serializer.serialize(person_map);\n    return 0;\n}\n</code></pre>\n\n<p>So, compiler says that <code>undefined reference to Person::Person</code> and all other functions in <strong>Person</strong> class. Why?</p>\n"},{"tags":["qt","qjson","custom-data-type"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":561,"score":0,"question_id":6210877,"title":"How to register the following datatype to allow serialization?","body":"<p>I am using <a href=\"http://qjson.sourceforge.net/\" rel=\"nofollow\">QJson</a> to serialize a <code>QObject</code>-derived class. I am able to serialize the class itself without any problems, but when it comes to one of its members, I am having a bit of trouble.</p>\n\n<p>The class is named <code>CProject</code> and it contains a property <code>files</code> which is defined as:</p>\n\n<pre><code>QList&lt;CProjectFile&gt; files;\n</code></pre>\n\n<p>When serializing an instance of <code>CProject</code>, I get a message in the console:</p>\n\n<blockquote>\n  <p><code>QMetaProperty::read: Unable to handle unregistered datatype 'QList&lt;CProjectFile&gt;' for property 'CProject::files'</code></p>\n</blockquote>\n\n<p>I read somewhere that I have to register the datatype, so I added the following after the declaration of <code>CProject</code>:</p>\n\n<pre><code>Q_DECLARE_METATYPE(QList&lt;CProjectFile&gt;)\n</code></pre>\n\n<p>...and when that did nothing, I added:</p>\n\n<pre><code>qRegisterMetaType&lt; QList&lt;CProjectFile&gt; &gt;();\n</code></pre>\n\n<p>Nothing is working. What am I doing wrong?</p>\n"},{"tags":["json","qt","json-decode","qstring","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":502,"score":1,"question_id":6463449,"title":"convert json array of hashes to Qt list of QHashes","body":"<p>I have a QString of JSON-encoded dictionaries.  Is there a simple way to convert them to a list of QHashes?  I've looked at this post <a href=\"http://stackoverflow.com/questions/1825892/best-json-parser-for-qt\">Best JSON parser for Qt?</a>, but haven't been able to get a valid QHash out (says it's empty).  </p>\n\n<pre><code>\"[{ 'var' : 'xres', 'name' : 'Image Width', 'type' : 'int', 'min' : 1, 'max' : 4096},{ 'var' : 'yres', 'name' : 'Image Height', 'type' : 'int', 'min' : 1, 'max' : 4096}]\"\n</code></pre>\n\n<p>and I'd like them in something like <code>QList&lt;QHash&lt;QString,QVariant&gt;&gt;</code>.  </p>\n\n<p>SOLVED:</p>\n\n<pre><code>QScriptValue sc;\nQScriptEngine engine;\nsc = engine.evaluate(atts); // In new versions it may need to look like engine.evaluate(\"(\" + QString(result) + \")\");\n\nQVariantList attsList;\nqScriptValueToSequence(sc, attsList);\n\nforeach (QVariant item, attsList) {\n    //std::cout &lt;&lt; item.typeName() &lt;&lt; std::endl;\n    QMap&lt;QString,QVariant&gt; attribute = item.toMap();\n    attribute[\"name\"].toString() // etc.\n</code></pre>\n"},{"tags":["c++","json","qt","serialization","qjson"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":756,"score":1,"question_id":4987560,"title":"How to serialize to JSON in Qt","body":"<p>How can I JSON serialize a QVariant (or other type of data) in Qt. \nI don't want to use an external third party library like <a href=\"http://qjson.sourceforge.net/\" rel=\"nofollow\">QJson</a></p>\n"},{"tags":["qt","opengl","opencv","video-streaming","iplimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":27,"score":-2,"question_id":13163412,"title":"Opengl based renderer for OpenCV IplImage video streams","body":"<p>Ok, this is not really a question, rather it's something that might help someone who needs to display video streams in a high level qt gui.<br>\nI have been working with OpenCV since a year now and many times I have had to write code that opens a video file and streams it.<br>\nLately, I have been using Qt to provide the high level gui and I came up with a solution to display IplImages on a Qt GUI using OpenGL(which I spent a lot of time struggling with but succeeded finally). Although, OpenCV can be built with Qt highgui support, I was keen in learning a bit of  OpenGL and using it in my application.<br>\nI thought it would be helpful for people who need a basic framework for running videos for their applications.<br>\nThis basic framework can be used in a wide range of applications like video content analysis, face recognition, pattern recognition and more. In the broader sense, this is basically a video player without audio support. So if you want you can add audio support and make this a video player. It will play almost all formats as opencv uses ffmpeg to play videos.\nI have created a C++ library for the same which I use quite extensively: <a href=\"https://www.dropbox.com/s/pbhku266dvp04zo/QVideo.tar.gz\" rel=\"nofollow\">https://www.dropbox.com/s/pbhku266dvp04zo/QVideo.tar.gz</a>  </p>\n\n<p>The main classes are: </p>\n\n<ul>\n<li><B>QVideo</B> : The main widget, providing functionality to open a video/rtsp stream and play it </li>\n<li><B>QIplImage</B>: The core display widget. It's a QGLWidget which renders an IplImage</li>\n<li><B>BackgroundWorker</B>: This is a thread which runs in the background to retrieve images from the stream. It is mandatory to run the frame grabber in a background thread, otherwise it interferes with the GUI thread. All the image processing can be done in this thread</li>\n</ul> \n\n<p>The source code is provided so you can modify it to your needs.<br>\nOnce the library is installed, you can use it in your qt application like so:<br>\n    <code>//Create an object<br>\n    QVideo* video=new QVideo(\"Name\",);<br>\n    //set geometry (optional)<br>\n    setCentralWidget(video);<br>\n</code></p>\n\n<p>To build the library, you will need qt and opencv(with ffmpeg support) installed.<br>\nThe library gets installed in /usr/lib or /usr/lib64 based on the architecture.<br>\nThe include files get installed in /usr/local/include<br>\nOf course, all this can be changed in the project file if needed.<br>\nTo install, just unzip the package, and run qmake, make and sudo make install.<br>\nNote: The project is configured for unix and would need to be changed for windows builds. Drop me a message for more information.</p>\n"},{"tags":["json","qt","parsing","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":5285,"score":6,"question_id":4169988,"title":"easiest way to parse JSON in Qt 4.7","body":"<p>I need to parse JSON object through Qt. What is the easiest/fastest way to do it?</p>\n"},{"tags":["c++","qt","cmake","osx-snow-leopard","qjson"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":171,"score":0,"question_id":9122443,"title":"How do I build qjson for Mac OS X 10.5?","body":"<p>I am building an application that makes use of qjson, an open source JSON parser for Qt. I've been able to get my main application building for Mac OS X 10.5 using Mac OS X 10.6.8 and Qt 4.8.0, but I haven't been able to figure out how to build qjson using the Mac OS X 10.5 SDK. I'm using Xcode 3.2.6 in order to keep compatibility with Mac OS X 10.5. I understand if I add a line like this to my pro file, I can build for Mac OS X 10.5:</p>\n\n<pre><code>macx:QMAKE_MAC_SDK = /Developer/SDKs/MacOSX10.5.sdk\n</code></pre>\n\n<p>However, it doesn't appear to be as simple with building qjson. I tried adding the above line to the src.pro file within the git repository I cloned from Gitorious, but it doesn't appear to build using the Mac OS X 10.5 SDK. When trying to run my app on Leopard, I get these messages:</p>\n\n<pre><code>myApp.app/Contents/MacOS/../Frameworks/libqjson.0.dylib:\nunknown required load command 0x80000022\nmyApp.app/Contents/MacOS/../Frameworks/libqjson.0.dylib:\nunknown required load command 0x80000022\n</code></pre>\n\n<p>I have tried building some of the Qt 4.7 examples and have successfully deployed the applications my Leopard deployment machine. The library, qjson, uses CMAKE, a build system that I'm not quite familiar with, but there must be something I'm missing in configuring the SDK to use. Please let me know if you have any suggestions on what should be done. Thanks much.</p>\n\n<p>EDIT:\nAfter some research about CMAKE command line arguments, I have been able to set the SDK using:\ncmake -DCMAKE_OSX_SYSROOT=\"/Developer/SDKs/MacOSX10.5.sdk\" ..\nHowever, the build fails using the 10.5 SDK. Any thoughts?</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":334,"score":2,"question_id":3732998,"title":"QJSON using in Mac - getting some issues","body":"<p><br>\nI am using the QJson for parsing. But I am stuck up with some issues. I have used the following code.  </p>\n\n<pre><code>void CityBook ::getCityList(QUrl url)  \n{  \n        //!connect(cityReply, SIGNAL(readyRead()),this, SLOT(httpReadyRead()));  \n        cityGuideNetworkAccessManager = new QNetworkAccessManager(this);  \n        connect(cityGuideNetworkAccessManager, SIGNAL(finished(QNetworkReply*)),  \n             this, SLOT(httpReadyRead(QNetworkReply*)));  \n     QNetworkRequest cityRequest(url);  \n     cityGuideNetworkAccessManager-&gt;get(cityRequest);  \n}  \n\nvoid CityBook::httpReadyRead(QNetworkReply *reply)  \n{  \n    QMessageBox::information(this, tr(\"HTTP\"),  \n                              tr(reply-&gt;readAll()),QMessageBox::NoButton  \n                            );  \n    QJson::Parser parser;  \n    bool ok;  \n    const QByteArray &amp;resultbyte = reply-&gt;readAll();  \n    qDebug() &lt;&lt; resultbyte;  \n    QVariant result1 = parser.parse(reply-&gt;readAll(), &amp;ok);  \n    qDebug() &lt;&lt; result1;  \n    QVariantList result=parser.parse(resultbyte,&amp;ok).toList();  \n    qDebug()&lt;&lt; result.size();  \n    if (!ok)  \n    {  \n        qFatal(\"An error occurred during parsing\");  \n        exit (1);  \n    }  \n    qDebug() &lt;&lt;\"error String\"&lt;&lt; parser.errorString();   \n    qDebug() &lt;&lt;\"error\" &lt;parser.errorLine();  \n    //! QVariantList entries = result[\"name\"].toList();  \n    foreach (QVariant city, result) {   \n        QVariantMap names = city.toMap();  \n        qDebug() &lt;&lt; \"\\t-\" &lt;&lt; names.value(\"name\");  \n    }  \n}  \n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>Starting /Users/QT Developement/CityBook-build-desktop/CityBook.app/Contents/MacOS/CityBook...  \n\"\"   \nQVariant(, )  \n0   \nerror String \"\"   \nerror 0  \n</code></pre>\n\n<p>Please help me .. Where I have done mistake…\nThanks is advance.</p>\n"},{"tags":["windows","json","qt","qt-creator","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":148,"score":1,"question_id":9446181,"title":"How to build QJson under Windows for use with QtCreator?","body":"<p>I would like to know how to build QJson under Windows. I've downloaded sources, but I have no idea how to proceed with it. There are multiple instructions how to add a DLL from QJson, but how to I get the library file?</p>\n"},{"tags":["c++","json","qt","undefined-reference","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":11226009,"title":"Undefined reference to QJson::Parser::Parser","body":"<p>I've successfully(?) installed the QJson library following the instructions in the archive. But the compiler gives me this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Undefined reference to QJSon::Parser::Parser().\n</code></pre>\n\n<p>I've found where library files have been installed: it's <code>/usr/local/include/json</code> directory. But there are only <code>*.h</code> files in it.</p>\n\n<p>The minimal code:</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;qjson/parser.h&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QJson::Parser parser;\n    return a.exec();\n}\n</code></pre>\n\n<p>I use linux.</p>\n\n<p>Where are <code>*.cpp</code> files? What did I do wrong? Why isn't the library complete?</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":1119,"score":0,"question_id":3708121,"title":"Parsing JSON using QJSON","body":"<p>My json output look like [{\"id\":2,\"name\":\"AAA\"},{\"id\":1,\"name\":\"BBB\"}]. I want to parse this using Qjson in mac. I am trying to parsing but I could not get any outputs . please help me. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","nokia","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":397,"score":0,"question_id":4151759,"title":"install QJson in windows - 7","body":"<p>I want to install the qjson in my windows machine. I installed the cmake and nokia qt sdk in my window 7 and use the following commands but I am getting the error..</p>\n\n<pre><code>C:\\Program Files\\qjson\\build&gt;cmake -G \"MinGW Makefiles\" ..\n'cmake' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>Please help me.. Thanks in advance.</p>\n"},{"tags":["json","qt","qt-creator","qjson"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":316,"score":0,"question_id":9452824,"title":"use of qjson library","body":"<p>When I try to use QJson library application cannot even start. I get message path\\app.exe exited with code 128.\nI include QJson in app.pro as follows<code>LIBS += qjson/lib/qjson0.dll</code>\nQJson is in my project directory and I includ eserializer.h <code>#include \"qjson/src/serializer.h\"</code>\nThen when I try to declare Serializer object<code>QJson::Serializer serializer;</code>I got this code 128 error when trying to run application. I tried to debug it and check on what line it has problems but it seems like it doesn't even start to execute main function, although the process mingw32-make.exe exited normally.</p>\n"},{"tags":["qt","qt4","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":410,"score":2,"question_id":3698279,"title":"Install QJson in Mac","body":"<p>How to install the Qjson in mac?</p>\n"},{"tags":["c++","qt","dll","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":11382832,"title":"Installing QJson on Windows","body":"<p>Now I'm porting my project from Linux to Windows.</p>\n\n<p>I've built QJson using QtCreator by <a href=\"http://qjson.sourceforge.net/get_it/windows.html\" rel=\"nofollow\">instructions</a>, and now I have one simple question: where I should move the library dll-file, and what I should specify in <code>LIBS +=</code> line in the <code>.pro</code> file?</p>\n\n<p>Here's content of that line in Linux:</p>\n\n<pre><code>LIBS += -L/usr/local/lib -lqjson\n</code></pre>\n"},{"tags":["qt","registry","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":569,"score":2,"question_id":8484610,"title":"Check if a value registry exists with QSettings","body":"<p>What i'm trying to do is to check if a registry key (NOT VALUE, KEY) exists in the registry. I can't find any way to check that.</p>\n\n<p>Idea?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":237,"score":1,"question_id":5201095,"title":"Qt Run Configurations","body":"<p>In Qt Creator->Projects tab, I have multiple build environments and each one generates a different executable name.</p>\n\n<p>I have added a Custom Executable run configuration for each of the build environments to launch the executable from Qt Creator. This requires specifying the path to the executable.  This works ok but when I move the project I have to update the run configuration to match the new path.  Is there a way I could make it relocatable as with a default run configuration?</p>\n\n<p>Defaut Run configuration Types generate this (and more) XML in the .pro.user file:<br>\n<code>\n    <code>&lt;data&gt;<br>\n    &lt;variable&gt; RunConfiguration0-type&lt;/variable&gt;<br>\n    &lt;value type=\"QString\"&gt;Qt4ProjectManager.Qt4RunConfiguration&lt;/value&gt;<br>\n    &lt;/data&gt;</code>\n</code>  </p>\n\n<p>The problem with this is there is no way to change the name of the executable</p>\n\n<p>A Custom Executable Run configuration Type generates this(and more) XML in the .pro.user file:<br>\n<code> \n    <code>&lt;data&gt;<br>\n    &lt;variable&gt;RunConfiguration2-type&lt;/variable&gt;<br>\n    &lt;value type=\"QString\"&gt;ProjectExplorer.CustomExecutableRunConfiguration&lt;/value&gt;<br>\n    &lt;/data&gt;</code><br>\n</code>  </p>\n\n<p>The problem with this is that I have to specify the path of the executable and If I move the project then I have to update the location of the executable in the projects tab.</p>\n\n<ol>\n<li>Is there a way to use a variable pointing to the build dir in a .pro.user files?</li>\n<li>Where can I find documentation on .pro.user files?</li>\n</ol>\n"},{"tags":["c++","qt","qt4","const"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13162010,"title":"Qt ignores const specifier","body":"<p>I've created simple snippet to show strange behavior I noticed. That's it:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QLineEdit&gt;\n\nclass MyObject : public QWidget\n{\npublic:\n    explicit MyObject(QWidget *parent = 0) : QWidget(parent) {\n        editor = new QLineEdit(this);\n    }\n\n    void setValue(const QString &amp;s) const {\n        editor-&gt;setText(s);\n        editor-&gt;setReadOnly(true);\n        editor-&gt;setMaxLength(s.length());\n    }\n\nprivate:\n    QLineEdit *editor;\n};\n\nint main(int argc, char **argv)\n{\n    QCoreApplication app(argc, argv);\n    return app.exec();\n}\n</code></pre>\n\n<p><code>MyObject::setValue</code> function has <code>const</code> specifier, but this code is compiled well. Note that <code>setText</code>, <code>setReadOnly</code> and <code>setMaxLength</code> functions aren't <code>const</code>:</p>\n\n<pre><code>void setText(const QString &amp;);\nvoid setReadOnly(bool);\nvoid setMaxLength(int);\n</code></pre>\n\n<p>I just want to know what causes such behavior?\nI use Qt 4.7.4 with MingGW 4.6.2.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13156703,"title":"Qt: Where to place a connect statement?","body":"<p>I have a widget (mainWidget) and another widget (childWidget), that's a child of it.</p>\n\n<p>I want to:</p>\n\n<pre><code>connect(childWidget, SIGNAL(somethingHappened(...)), mainWidget, SLOT(handleIt(...));\n</code></pre>\n\n<p>My question is: does one place the connect statement in mainWidget or childWidget?</p>\n\n<ul>\n<li><p>If I create the childWidget in the mainWidget's constructor and place\nthe connect statement on the next line, it works. But, let's say the \nchildWidget, upon being created, does something and then signals to<br>\nthe mainWidget success. You could have a situation where the connect \nstatement only comes after a function (of childWidget) that emits the\nsignal.</p></li>\n<li><p>If I place the connect statements in the childWidget's constructor,<br>\nthe problem is that it doesn't know anything about the parent's<br>\nslots. If I make childWidget inherit mainWidget, it does know about<br>\nthe slots - but this feels like a bad solution to me. Couldn't get it\nto work anyway. There is probably a proper way to do this - I'm still\nlooking.</p></li>\n</ul>\n\n<p>I'm quite new to Qt programming.\nIn advance: thank you for any help.</p>\n"},{"tags":["qt","nokia","qt-mobility","nokia-location-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11066524,"title":"Getting my position in QtQuick","body":"<p>I need to get my location in nokia QT.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>Rectangle {\n            id: page\n            width: 350\n            height: 350\n            PositionSource {\n                id: positionSource\n                updateInterval: 1000\n                active: true\n            onPositionChanged: {\n                console.log(\"latitude : \"+positionSource.position.coordinate.latitude);\n                console.log(\"longitude :\"+positionSource.position.coordinate.longitude);\n            }\n        }\n}\n</code></pre>\n\n<p>In the project file I have set the capability and mobility configuration:</p>\n\n<pre><code>symbian:\n{\n    TARGET.CAPABILITY +=  Location\n    CONFIG += mobility\n    MOBILITY +=location\n}\n</code></pre>\n\n<p>This code is run fine on the simulator, but on the real handset (Nokia 5530 XpressMusic) it doesn't work and I got this message:</p>\n\n<pre><code>[Qt Message] QGeoPositionInfoSource::createDefaultSource() requires the Symbian Location capability to succeed on the Symbian platform\n</code></pre>\n\n<p>What is the problem?</p>\n"},{"tags":["c++","qt","web-services","qtwebkit"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3253,"score":3,"question_id":3078486,"title":"How to Create a webservice by QT","body":"<p>I am looking for a tool or plugin that help me to create web service as DOT NET does for Linux</p>\n\n<p>thanks</p>\n\n<p>===============================</p>\n\n<p>After search, I found that Qt does not have any thing to write web services</p>\n\n<p>gSOAP is an Open Source Solution for this problem, currently we use it.</p>\n"},{"tags":["osx","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13156066,"title":"Qt App Built on MAC 10.7.4 not working on 10.6","body":"<p>Hi I have created an Qt Appliation on Mac 10.7.4. and I got an .app file i.e ex myApp.app\nWhen I try to run it on MAC 10.6 I am getting an error as showed in the below <img src=\"http://i.stack.imgur.com/hYVxV.png\" alt=\"Error Image\">image</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13157044,"title":"RuntimeError: startApplication() failed when using squish for testing Qt applications","body":"<p>I am using <code>Squish 4.2.2</code> for testing a <code>GUI</code> developed in <code>Qt version 4.7</code> on <code>linux</code>. The <code>AUT</code> is built using statically linked Qt libraries. Since squish doesnot allow recording for statically linked Qt libraries, I am planning to manually create the test cases. However the squish test case fails with following error</p>\n\n<pre><code>Error Script Error Oct 31, 2012\nDetail RuntimeError: startApplication() failed \n</code></pre>\n\n<p>The test case contains a single line to start the AUT. The server log shows only the following warning</p>\n\n<pre><code>AUT does not appear to be dynamically linked against Qt, hooking might fail.\n</code></pre>\n\n<p>Has anyone else faced a similar issue when testing Qt applications that are statically linked to Qt libraries? Kindly provide pointers for this issue.</p>\n\n<p>Regards\nadj</p>\n"},{"tags":["qt","gui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13157066,"title":"CTK for Gui in QT","body":"<p>I'm trying to use CTK in QT and I don't find enough information how to build it.\ndoes someone have any experience with that?</p>\n"},{"tags":["linux","qt","opengl","alpha","fbo"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13135181,"title":"Wrong color with QGLFrameBufferObject rendering in linux","body":"<p>I have encountered some problem with QGLFrameBufferObject, when I change my OS from win7 to Ubuntu 12.04 LTS. After recompiling the code in the new ubuntu system, the color goes wrong. So I made a minimal test. I just clear the color buffer with color (1.0, 0.0, 0.0, 0.8), and that's it.</p>\n\n<p>I get the correct result when I render directly to the screen, with all pixels being (1.0, 0.0, 0.0, 0.8).</p>\n\n<p>However, the result from offline rendering (with QGLFrameBufferObject) is wrong, as given by offline.png. This color is (0.3, 0.0, 0.0, 0.8).</p>\n\n<p>This problem happens when alpha>0.0 and &lt;1.0. For 0.0 and 1.0 it works fine.</p>\n\n<p>I've compiled this test code on another computer (computer A) with win7 OS, everything works fine. Also tried on one more computer (computer B) with ubuntu OS, everything works fine.</p>\n\n<p>I'm using a NVidia GeForce GTX 570 GPU, and have tried the latest stable driver (304.60) and an older version (290.10, used for computer B) for linux-64bit, but nothing changes.</p>\n\n<p>Anyone knows why? Below is the code.</p>\n\n<pre><code>mywidget::mywidget(QWidget * parent) :\n    QGLWidget(parent)\n{\n}\n\nvoid mywidget::resizeGL(int width, int height )\n{\n    glViewport(0, 0, width, height);\n\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n    gluOrtho2D(0.0, 1.0, 0.0, 1.0);\n\n    glMatrixMode(GL_MODELVIEW);\n    glLoadIdentity();\n}\n\nvoid mywidget::paintGL()\n{\n    glClearColor(1.0, 0.0, 0.0, 0.8);\n\n    // DRAW ON THE SCREEN\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n    }\n\n    QGLFramebufferObject fbo(width(), height());\n    fbo.bind();\n\n    // DRAW ON THE FBO USING THE SAME CODE AND THE SAME CONTEXT\n    {\n        glClearColor(1.0, 0.0, 0.0, 0.8);\n        glClear(GL_COLOR_BUFFER_BIT);\n    }\n\n    fbo.release();\n    fbo.toImage().save(\"offline.png\");\n}\n</code></pre>\n\n<p>I have noticed that there are two similar posts, but with no answer or detailed answer:\n<a href=\"http://stackoverflow.com/questions/12306894/wrong-alpha-blending-when-rendering-on-a-qglframebufferobject\">Wrong alpha blending when rendering on a QGLFramebufferObject</a>; <a href=\"http://stackoverflow.com/questions/9913957/alpha-compositing-wrong-when-rendering-to-qglframebufferobject-vs-screen\">Alpha compositing wrong when rendering to QGLFrameBufferObject vs screen</a></p>\n"},{"tags":["c++","qt","graphics","embedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13143410,"title":"Qt GraphicsItem transformation affects all items in scene","body":"<p>I have this embedded Qt application that uses the QGraphics framework to display a web view.\nThe dimensions of the web view are 1280*720 pixels, and the QGraphicsView is set to render the scene at these coordinates (0,0, 1280x720).</p>\n\n<p>I'm trying to add a loading indicator on the top right corner (at 1100,50), which is a simple PNG image that I rotate every now and then using a QTimeLine.</p>\n\n<p>Code looks like this (I found the transformation trick on the internet):</p>\n\n<pre><code>// loading_indic initialization:\nQGraphicsPixmapItem *loading_indic = \n             new QGraphicsPixmapItem( QPixmap(\"./resources/loading_64.png\") );\nloading_indic-&gt;setPos(QPoint(1100.0,50.0));\n\nQTimeLine timeline = new QTimeLine(1000);\ntimeline-&gt;setFrameRange(0,steps);\nconnect(timeline, SIGNAL(valueChanged(qreal)), this, SLOT(updateStep(qreal)));\ntimeline-&gt;start();\n\n// called at each step of a QTimeLine:\nvoid updateStep(qreal step) {\n    QTransform transformation = QTransform()\n                // place coordinate system to the center of the image\n                .translate(  width/2.0,  height/2.0) \n                // rotate the image in this new coordinate system\n                .rotate(new_angle) \n                // replace the coordinate system to the original\n                .translate( -width/2.0, -height/2.0);\n\n    loading_indic-&gt;setTransform(transformation);\n}\n</code></pre>\n\n<p>Now, my problem is that when doing this, it looks like the WebView is translated as well, resulting in everything being displayed in the center of the screen.</p>\n\n<p>Result looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/EA4yA.jpg\" alt=\"problem\"></p>\n\n<p>The webview is supposed to fill the screen, and the loading indicator should be on top right...</p>\n\n<p>My scene contains only two items:</p>\n\n<pre><code>Scene\n  |\n  |---- QGraphicsWebView\n  |---- QGraphicsPixmapItem // loading indicator\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"},{"tags":["c++","qt","qt4","shared-memory"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13120374,"title":"QSharedMemory inconsistent behaviour in Windows","body":"<p>I'm playing with <code>QSharedMemory</code> and I'm not sure if I just found a serious bug or I'm doing something wrong. The case is that docs say that <code>QSharedMemory::create()</code> should return true if no memory with the same key exists, otherwise it should return false and <code>QSharedMemory::error()</code> should be checked to see what happened.</p>\n\n<p>My current code is:</p>\n\n<pre><code>QSharedMemory sm(\"smtest\");\nsm.setKey(\"smtest\"); // &lt;--- not needed as I already set the key in the initializator, but I'm leaving it anyways, just for the test\nqDebug() &lt;&lt; sm.create(1);\nqDebug() &lt;&lt; sm.create(1); //&lt;--- I expect this to return false, but it returns true.\nqDebug() &lt;&lt; sm.error(); //&lt;--. I expect this to return QSharedMemory::AlreadyExists, but QSharedMemory::NoError is returned instead.\n//wtf?!\n</code></pre>\n\n<p>My question is: did I just found a really big bug in Qt4 or I'm doing something wrong?</p>\n\n<p>PS: This code is ran on Windows 7 x64</p>\n\n<p>EDIT: Just to make it clear, if I run that code twice, the second app should detect the first one, but it doesn't.</p>\n\n<p>EDIT 2: I reported a bug here <a href=\"https://bugreports.qt-project.org/browse/QTBUG-27744\" rel=\"nofollow\">https://bugreports.qt-project.org/browse/QTBUG-27744</a></p>\n"},{"tags":["c++","qt","build"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13155594,"title":"build exist c++ project with qt","body":"<p>There is one project written with c++ and python. The output project show in shell as text. I want replace the text with GUI and also change some source code. <br/></p>\n\n<p>I can build project with command line with running script insight project. How run all command that run in shell with GUI. I choose qt for design GUI.<br/></p>\n\n<p><strong>thank you</strong></p>\n"},{"tags":["python","qt","select","folder","explorer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13154583,"title":"direction explorer with Qt Framework in Python","body":"<p><br>\nAt the moment I'm on a GUI (using the Qt framework) for a measurement program. On the screenshot, you can see an Entry Field (called \"TargetDirectoryEntry\") and a Button (called \"ExplorerButton\"). When I click on the Button, I would like to select a folder for the measurement result file. After, the past should be copied into the Entry Field.</p>\n\n<p><br>\n<img src=\"http://i.stack.imgur.com/nvlZM.jpg\" alt=\"enter image description here\"></p>\n\n<p>Thanks for your help.</p>\n\n<p>eljobso</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13154953,"title":"Programatically set read-only for QTimeEdit","body":"<p>QTimeEdit has a read-only property, which I can set from Designer (it is in the QAbstractSpinBox properties category).</p>\n\n<p>But there is no setReadOnly member in QTimeEdit. </p>\n"},{"tags":["c++","qt","encoding","char","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13153281,"title":"Qt char* to QString","body":"<p>I am trying to convert char* to QString. It should be a trivial task but the problem is, I am having the following input</p>\n\n<pre><code>item    char [512] \"N\"  char [512]\n    [0] 78 'N'  char\n    [1] 0 '\\0'  char\n    [2] 73 'I'  char\n    [3] 0 '\\0'  char\n    [4] 70 'F'  char\n    [5] 0 '\\0'  char\n    [6] 84 'T'  char\n    [7] 0 '\\0'  char\n    [8] 89 'Y'  char\n    [9] 0 '\\0'  char\n    [10]    0 '\\0'  char\n</code></pre>\n\n<p>Notice the null character after each character '\\0'. Simply trying to convert it just yields the string <strong>\"N\"</strong> where as it should result into string <strong>\"NIFTY\"</strong>.</p>\n\n<p>I am not sure if it is unicode or Ansi string (in fact I don't know much about it). Can anyone please sort out what is going wrong here or what am I missing ?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13153286,"title":"How can I make the items in QTreeWidget expanded by default?","body":"<p>I have to call expandAll() in the constructor, but that looks unnecessary,</p>\n\n<p><img src=\"http://i.stack.imgur.com/jGHAk.png\" alt=\"enter image description here\"></p>\n\n<p>The stuff I've added in form editor was just collapsed, and I failed to find an property in the right box, how should I make it all expanded by default?</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13154109,"title":"3rd party libraries for QT GUI development","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2372756/is-there-a-good-source-for-3rd-party-qt-gui-controls\">Is there a good source for 3rd party QT GUI controls?</a>  </p>\n</blockquote>\n\n\n\n<p>Are there any widget libraries (3rd party commercial) to shorted development times for QT ? similar to devexpress and telerik for WPF and silverlight? </p>\n"},{"tags":["qt","opengl","format","save","qimage"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13153031,"title":"QImage does not save correctly with premultipled format","body":"<p>I'm trying to create a QImage in the memory and save it to the disk. I have tried two different format for the image.</p>\n\n<p>Format_ARGB32 works well, the color is indeed the input (255, 0, 0, 127).</p>\n\n<p>Format_ARGB32_Premultiplied gives wrong color, the color is (0, 0, 0, 127).</p>\n\n<p>Not only do I get wrong color when I save the QImage to file directly, I get the same wrong color when I bind it as a texture and render in OpenGL. This issue happends both on ubuntu OS and win7 OS.</p>\n\n<p>The reason that I test Format_ARGB32_Premultiplied is that I need to use this format. This is the default image format given by QGLFrameBufferObject.toImage() on my ubuntu OS. However, Format_ARGB32 is the default given by win7 OS.</p>\n\n<p>Anyone knows why? Below is the code:</p>\n\n<pre><code>#include &lt;QImage&gt;\n\nint main(int argc, char *argv[])\n{\n    //I would like to create image with this transparent red color\n    QRgb c = qRgba(255, 0, 0, 127);\n\n    //first I use Format_ARGB32, I get the correct result\n    QImage img_nopre(100, 100, QImage::Format_ARGB32);\n    for(int i=0; i&lt;100; i++)\n        for(int j=0; j&lt;100; j++)\n            img_nopre.setPixel(i,j,c);\n    img_nopre.save(\"img_nopre.png\");\n\n    //later I use Format_ARGB32_Premultiplied, the result is wrong\n    QImage img_pre(100, 100, QImage::Format_ARGB32_Premultiplied);\n    for(int i=0; i&lt;100; i++)\n        for(int j=0; j&lt;100; j++)\n            img_pre.setPixel(i,j,c);\n    img_pre.save(\"img_pre.png\");\n\n    return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":5,"favorite_count":4,"up_vote_count":16,"down_vote_count":1,"view_count":24734,"score":15,"question_id":1814189,"title":"How to change string into QString?","body":"<p>What is the most basic way to do it?</p>\n"},{"tags":["c++","qt","md5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13149040,"title":"Mismatching MD5 hash using QCryptographicHash on CentOS and Win7","body":"<h3>Preamble</h3>\n\n<p>I'm working on a project that requires FTP file transfer between two machines, a client and a server. I would like to verify the integrity of the file after transfer by comparing an MD5 checksum generated on the client with one generated on the server. I wrote a command line program using Qt's QCryptographicHash class to do this. Minus error checking, this is the code in its entirety:</p>\n\n<h3>Minimal Working Example</h3>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QByteArray&gt;\n#include &lt;QFile&gt;\n#include &lt;QCryptographicHash&gt; \n#include &lt;QTextStream&gt;\n#include &lt;QStringList&gt;\n\nint main (int argc, char* argv[]) {\n    QCoreApplication app(argc, argv);\n    QTextStream cout(stdout, QIODevice::WriteOnly);\n    QStringList arglist = app.arguments();\n\n    QFile file(arglist.at(1));\n    if(!file.open(QIODevice::ReadOnly)){\n        /*error checking*/\n    }\n\n\n    QCryptographicHash cryptoHash(QCryptographicHash::Md5);\n    while(!file.atEnd()){\n        cryptoHash.addData(file.readLine());\n    }\n\n    QByteArray hashByteArray = cryptoHash.result();\n\n    cout &lt;&lt; hashByteArray.toHex() &lt;&lt;endl;\n    file.close();\n    return 0;\n}\n</code></pre>\n\n<h3>The Problem</h3>\n\n<p>On any machine, this code will give a repeatable MD5 hash of any input file. However, different hashes are being generated for the same file when hashed on my client than when hashed on my server. I've been fighting with this awhile, and just can't seem to determine why these hashes aren't matching. My last thought is that it may be an issue related to architecture, <a href=\"http://stackoverflow.com/questions/697361/md5-hash-calculates-differently-on-server\">as discussed in this SO post</a>. However, in my case, I'm using Qt's implementation of MD5 hashing, so I want to make sure there isn't something else I'm missing before I either abandon Qt's approach or tinker with their source (which is here <a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/3rdparty/md5/md5.h\" rel=\"nofollow\">md5.h</a> and here <a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/3rdparty/md5/md5.cpp\" rel=\"nofollow\">md5.cpp</a>, BTW).</p>\n\n<p>Machine specifics. Server: CentOS 5.8 64-bit. Client: Win7 64-bit, but on Windows this application was compiled using a 32-bit build of Qt, and is a 32-bit application.</p>\n\n<p>As an aside, I intended on distributing both 32-bit and 64-bit versions of my application. How can I reconcile this issue if it is architecture related and I'm stuck using Qt's source?</p>\n\n<p><strong>EDIT 1</strong>: I forgot to mention that I'm transferring all files in Binary mode through FTP and the file sizes do match on the client and the server. I was initially convinced this was a line ending issue, but it doesn't appear to be the case since I'm encountering the issue even in Binary mode FTP transfer.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12679018,"title":"setCentralWidget not declared in scope","body":"<pre><code>#include &lt;QtGui&gt;\n#include &lt;QWidget&gt;\n#include \"notepad.h\"\n\nnotepad::notepad()\n{\n    textField = new QTextEdit;\n    setCentralWidget(textField);\n    setWindowTitle(tr(\"The building of a notepad....\"));\n}\n</code></pre>\n\n<p>This is a file of one of my Qt project. There is some error with the setCentralWidget part. The error is that it is not declared in the scope. But I have included the QWidget class under which it gets included. What is the mistake?</p>\n"},{"tags":["c++","qt","qfilesystemwatcher"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13148830,"title":"QFileSystemWatcher: detects removed & added files but not modified one","body":"<p>I'm developing an app on windows with Qt and I need to detect changes in a specific folder.\nSo I used a QFileSystemWatcher, and I connect the directoryChanged signal to a function that will send a message in case of changes.</p>\n\n<p>The problem is that the \"slot\" function connected to directoryChanged is not called if I modify a file's content, but only when a file or directory is removed or added.</p>\n\n<p>However, the documentation says that this signal is emitted when \"the directory at a specified path, is modified (e.g., when a file is added, <strong>modified</strong> or deleted) or removed from disk.\"</p>\n\n<p>Does anyone have an explanation?\nThanks in advance =)</p>\n"},{"tags":["perl","qt","cmake","cpan","qwt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13099181,"title":"Perl QtCore4 won't install","body":"<p>I can't build the QtCore4 package, I get an error regarding \"SMOKE_QWT_LIBRARY\" not being set during make. I'm running perlbrew Perl 5.14.2 on Ubuntu 12.04. I've tried manually building the module as well as through CPAN, and also installing on system Perl (also 5.14.2) and perl 5.16.1. I've looked in the files in the directory referenced in the error message. The file CMakeLists.txt contains the reference to \"SMOKE_QWT_LIBRARY\" but there is no directory reference or obvious way to re-configure the file (and I'm not sure what to reconfigure it to!).</p>\n\n<p>Can anyone help with this please?</p>\n\n<p>This is the make output:<br>\n    Running install for module 'QtCore4'\n    Running make for C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n    Checksum for /home/sillymoose/.cpan/sources/authors/id/C/CB/CBUREL/Qt4-\n    0.99.0.tar.bz2 ok</p>\n\n<pre><code>  CPAN.pm: Building C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n\n-- The C compiler identification is GNU\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/gcc\n-- Check for working C compiler: /usr/bin/gcc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Found Perl: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/bin/perl \n-- Found PerlLibs: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE/libperl.a (found version \"5.14.2\")\n-- Looking for Q_WS_X11\n-- Looking for Q_WS_X11 - found\n-- Looking for Q_WS_WIN\n-- Looking for Q_WS_WIN - not found.\n-- Looking for Q_WS_QWS\n-- Looking for Q_WS_QWS - not found.\n-- Looking for Q_WS_MAC\n-- Looking for Q_WS_MAC - not found.\n-- Found Qt4: /usr/bin/qmake (found version \"4.8.1\")\n-- Found QScintilla2: /usr/lib/libqscintilla2.so\n-- Found QImageBlitz: /usr/include/qimageblitz \n-- Phonon Version: 4.6.0\n-- Found Phonon: /usr/lib/x86_64-linux-gnu/libphonon.so\n-- Found Phonon Includes: /usr/include/qt4/KDE;/usr/include/qt4\n-- Found Qwt: /usr/lib/libqwt-qt4.so\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Build PerlQt bindings: \nPhonon;QImageBlitz;QScintilla;Qt3Support;QtDBus;QtDeclarative;QtGui;QtHe\nlp;QtNetwork;QtOpenGL;QtScript;QtSql;QtSvg;QtTest;QtUiTools;QtWebKit;QtX\nml;QtXmlPatterns;Qwt\n-- Skip PerlQt bindings: QtMultimedia\n\n------------------------------------------------------------------------\n-----\n-- The following external packages were located on your system.\n-- This installation will have the extra features provided by these \npackages.\n------------------------------------------------------------------------\n-----\n   * QScintilla2 - QScintilla2 libraries\n   * QImageBlitz - QImageBlitz library\n   * Phonon - Phonon multimedia framework\n   * Qwt5 for Qt4 - Qwt5 libraries for Qt4\n\n------------------------------------------------------------------------\n-----\n-- Congratulations! All external packages have been found.\n------------------------------------------------------------------------\n-----\n\nCMake Error: The following variables are used in this project, but they \nare set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the \nCMake files:\nSMOKE_QWT_LIBRARY (ADVANCED)\n    linked by target \"perl_qwt\" in directory \n/home/sillymoose/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src\n\n-- Configuring incomplete, errors occurred!\nNo 'Makefile' created  CBUREL/Qt4-0.99.0.tar.bz2\n  /home/sillymoose/perl5/perlbrew/perls/perl-5.14.2/bin/perl Makefile.PL \n-- NOT OK\n</code></pre>\n\n<p>And this is the contents of ~/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src/CMakeLists.txt</p>\n\n<pre><code>include_directories(\n    ${CMAKE_SOURCE_DIR}/qtcore/src\n    ${PERL_INCLUDE_PATH}\n    ${QT_INCLUDES} )\n\n# Run doxsubpp.pl to run xsubpp on Qwt.xs\nadd_custom_command(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   COMMAND ${PERL_EXECUTABLE} ARGS ${CMAKE_SOURCE_DIR}/qtcore/src/doxsubpp.pl ${PERL_EXECUTABLE} Qwt.xs ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/Qwt.xs\n                   WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}\n)\n# Make sure we build Qwt.c as c++ code\nset_source_files_properties( ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c \n    PROPERTIES LANGUAGE CXX\n)\n\nset( CMAKE_CXX_FLAGS ${PERL_CXX_FLAGS} )\n\nset(qwt_LIBRARY_SRC\n    ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n    qwthandlers.cpp\n)\n\nif(WIN32)\n    set(libraryName PerlQwt)\nelse()\n    set(libraryName Qwt)\nendif(WIN32)\n\nset(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/blib/arch/auto/${libraryName})\nadd_library(perl_qwt SHARED ${qwt_LIBRARY_SRC})\n\ntarget_link_libraries(perl_qwt\n    ${SMOKE_QWT_LIBRARY}\n    perlqtcore4)\n\nset_target_properties(perl_qwt PROPERTIES OUTPUT_NAME ${libraryName})\nset_target_properties(perl_qwt PROPERTIES PREFIX \"\")\n\ninstall(TARGETS perl_qwt DESTINATION ${CUSTOM_PERL_SITE_ARCH_DIR}/auto/${libraryName}/)\n</code></pre>\n"},{"tags":["qt","position","content","bug","qdockwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13114540,"title":"QDockWidget Content bug with titlebar","body":"<p>Here is my problem: I created a QDockWidget and put a QGraphicsView in it, while it is floating everything shows up correctly, but if Dock it somewhere, the starting X and Y of my content is on the titlebar of the QDockWidget. Obviously, it should be under:</p>\n\n<pre><code>tilesetWindow = new QDockWidget(tr(\"Tileset\"), this);\ntilesetWindow-&gt;setMinimumSize(256,256);\ntilesetWindow-&gt;setFloating(true);\nconnect(tilesetWindow, SIGNAL(visibilityChanged(bool)), this, SLOT(triggeredTileset()));\n\ntilesetViewer = new QGraphicsView(tilesetWindow);\ntilesetViewer-&gt;resize(256,256);\ntilesetViewer-&gt;show();\n</code></pre>\n\n<p>An image to illustrate this: <a href=\"http://img86.xooimage.com/files/d/7/6/problem-391a96a.png\" rel=\"nofollow\">http://img86.xooimage.com/files/d/7/6/problem-391a96a.png</a></p>\n\n<p>I've tried to put the QGraphicsView in a container and then in the QDockWidget but had the same result as above. it's the only place where I write code for the QDockWidget.</p>\n\n<p>How can I make it start at the right place when it is Docked?</p>\n\n<p>Edit:</p>\n\n<p>I tried in a new QtProject and made a QDockWidget with a QTextBrowser in it and had the same bug:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QDockWidget *dock = new QDockWidget(this, 0);\n    dock-&gt;setFloating(true);\n\n    QTextBrowser *t = new QTextBrowser(dock);\n    t-&gt;show();\n}\n</code></pre>\n\n<p>I'm missing something I think... </p>\n\n<p>Qt Creator 2.4.1 \nBased on Qt 4.7.4 (32 bit)</p>\n"},{"tags":["qt","user-interface","colors"],"answer_count":5,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3316,"score":3,"question_id":282938,"title":"QT: show result of Color selection?","body":"<p>What is the best way to give the user feedback for a color selection?<br />\nI have a dialog with a \"Select Color\" push button which pops a QColorDialog. After the selection is made I want to show the user the color selected.<br />\nUsually I do this using a QLabel and changing it's background color in the palette. This method is cumbersome and I think not very portable.<br />\nIs there a standard way of doing this?</p>\n"},{"tags":["qt","proxy","network-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":397,"score":1,"question_id":7009259,"title":"QTcpSocket stucks sometimes for dynamic created java script","body":"<p>I am trying to connect to a website through a proxy. I implemented a QTcpServer and a QTcpSocket.\nThe server passes the connection to the socket.\nIt works well, but for some sites, expecially for those which have dynamically created javascript, the socket stucks at some point and nothing is shown in the navigator.\nAttach the code, hope clear.</p>\n\n<pre><code>            #include \"webproxy.h\"\n            #include &lt;QtNetwork&gt;\n            #include &lt;QMessageBox&gt;\n            #include &lt;QtGui&gt;\n            #include &lt;QHash&gt;\n\n\n            WebProxy::WebProxy(QObject *parent,int port): QObject(parent)\n\n                {\n                    qDebug()&lt;&lt;\" Listen...\";\n                    authMethod = \"\";\n                    QTcpServer *proxyServer = new QTcpServer(this);\n                    if (!proxyServer-&gt;listen(QHostAddress::Any, port)) {\n                       emit error(1);\n\n                        return;\n                    }\n\n                    connect(proxyServer, SIGNAL(newConnection()), this, SLOT(manageQuery()));\n                    qDebug() &lt;&lt; \"Proxy server running at port\" &lt;&lt; proxyServer-&gt;serverPort();\n\n\n\n\n\n\n            void WebProxy::manageQuery() {\n                    QTcpServer *proxyServer = qobject_cast&lt;QTcpServer*&gt;(sender());\n                    QTcpSocket *socket = proxyServer-&gt;nextPendingConnection();\n                    connect(socket, SIGNAL(readyRead()), this, SLOT(processQuery()));\n                    connect(socket, SIGNAL(disconnected()), socket, SLOT(deleteLater()));\n\n                    qDebug()&lt;&lt;\"New connection started...\"&lt;&lt;socket-&gt;peerAddress();\n                }\n            QUrl WebProxy::getUrl(QList&lt;QByteArray &gt; &amp;entries)\n               {\n\n                   QByteArray method = entries.value(0);\n                   QByteArray address = entries.value(1);\n                   QByteArray version = entries.value(2);\n\n                   qDebug()&lt;&lt;method;\n                   qDebug()&lt;&lt;address;\n                   qDebug()&lt;&lt;version;\n                   QUrl url = QUrl::fromEncoded(address);\n                   if (!url.isValid()) {\n\n                       qWarning() &lt;&lt; \"Invalid URL:\" &lt;&lt; url;\n\n                       return QString();\n                   }\n\n\n                   return url;\n               }\n\n              void WebProxy::processQuery() {\n\n                    int wSize = 0;\n                    QTcpSocket *socket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    QByteArray requestData = socket-&gt;readAll();\n\n\n             qDebug()&lt;&lt;\"Request \"&lt;&lt;requestData;\n\n                    int pos = requestData.indexOf(\"\\r\\n\");\n\n\n                    QByteArray requestLine = requestData.left(pos);\n                    requestData.remove(0, pos + 2);\n\n                    QList&lt;QByteArray&gt; entries = requestLine.split(' ');\n                    QByteArray method         = entries.value(0);\n                    QByteArray address        = entries.value(1);\n                    QByteArray version        = entries.value(2);\n\n                    QByteArray auth;\n                    QByteArray authMethod;\n\n                    QUrl url = QUrl::fromEncoded(address);\n                    if (!url.isValid()) {\n                        qWarning() &lt;&lt; \"Invalid URL:\" &lt;&lt; url;\n                        socket-&gt;disconnectFromHost();\n                        return;\n                    }\n\n                    QString host              = url.host();\n\n\n                    int port = (url.port() &lt;= 0) ? 80 : url.port();\n                    QByteArray req = url.encodedPath();\n                    if (url.hasQuery())\n                        req.append('?').append(url.encodedQuery());\n\n\n                    requestLine = method + \" \" + req + \" \" + version + \"\\r\\n\";\n                    if (!authMethod.isEmpty())\n                    {\n                         requestLine.append(requestLine);\n                         requestLine.append(authMethod);\n                         requestLine.append(\"\\r\\n\");\n                     }\n\n                    QString key = host + ':' + QString::number(port);\n                    QTcpSocket *proxySocket = socket-&gt;findChild&lt;QTcpSocket*&gt;(key);\n\n                    if (proxySocket) {\n                        proxySocket-&gt;setObjectName(key);\n                        proxySocket-&gt;setProperty(\"url\", url);\n                        proxySocket-&gt;setProperty(\"requestData\", requestData);\n                        wSize = proxySocket-&gt;write(requestData);\n\n\n                    } else {\n                        proxySocket = new QTcpSocket(socket);\n                        proxySocket-&gt;setObjectName(key);\n                        proxySocket-&gt;setProperty(\"url\", url);\n                        proxySocket-&gt;setProperty(\"requestData\", requestData);\n                        connect(proxySocket, SIGNAL(connected()), this, SLOT(sendRequest()));\n                        connect(proxySocket, SIGNAL(readyRead()), this, SLOT(transferData()));\n                        connect(proxySocket, SIGNAL(disconnected()), this, SLOT(closeConnection()));\n                        connect(proxySocket, SIGNAL(error(QAbstractSocket::SocketError)), this, SLOT(closeConnection()));\n                        proxySocket-&gt;connectToHost(host, port);\n                    }\n                }\n\n            void WebProxy::sendRequest() {\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    QByteArray requestData = proxySocket-&gt;property(\"requestData\").toByteArray();\n                    int wSize = 0;\n                    wSize     = proxySocket-&gt;write(requestData);\n\n                }\n\n            void WebProxy::transferData() {\n\n\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n\n                    QByteArray data = proxySocket-&gt;readAll();\n\n            qDebug()&lt;&lt;\"READ TRANSFER SIZE...\"&lt;&lt;data.size();\n\n                    QString host = proxySocket-&gt;peerAddress().toString();\n                    QByteArray    filtered(data);\n\n                    QTcpSocket *socket  = qobject_cast&lt;QTcpSocket*&gt;(proxySocket-&gt;parent());\n                    int wSize           = 0;\n                    if (!data.trimmed().isEmpty())\n                    {\n                        wSize = socket-&gt;write(filtered);\n                        if (wSize==-1)\n                             qDebug()&lt;&lt;\"WP error\";\n                        else\n                             qDebug()&lt;&lt;\"TRANSFER WRITE SIZE = \"&lt;&lt;wSize&lt;&lt;\" READ SIZE\"&lt;&lt;filtered.size();\n\n                    }\n\n                }\n\n            void WebProxy::closeConnection() {\n\n                    QTcpSocket *proxySocket = qobject_cast&lt;QTcpSocket*&gt;(sender());\n                    if (proxySocket) {\n                        QTcpSocket *socket = qobject_cast&lt;QTcpSocket*&gt;(proxySocket-&gt;parent());\n                        if (socket)\n                            socket-&gt;disconnectFromHost();\n                        if (proxySocket-&gt;error() != QTcpSocket::RemoteHostClosedError)\n                            qWarning() &lt;&lt; \"Error for:\" &lt;&lt; proxySocket-&gt;property(\"url\").toUrl()\n                                    &lt;&lt; proxySocket-&gt;errorString();\n                        proxySocket-&gt;deleteLater();;\n                    }\n                }\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1102,"score":2,"question_id":4259994,"title":"QFileDialog alternative that uses default file dialog defined by OS?","body":"<p>I tried using a <code>QFileDialog</code> in a program of mine, but I prefer the default file dialog that is used by the host's OS. In my case, since I use Windows 7, it should look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dlrV2.jpg\" alt=\"Windows' file open dialog\"></p>\n\n<p>Is there a way to make Qt use the default file dialog that is used by the host's OS?</p>\n\n<hr>\n\n<p>My code:</p>\n\n<pre><code>QFileDialog saveDialog(this);\nsaveDialog.setAcceptMode(QFileDialog::AcceptSave);\n\nif (!saveDialog.exec())\n    return;\n</code></pre>\n"},{"tags":["json","parsing","qt"],"answer_count":4,"favorite_count":4,"up_vote_count":18,"down_vote_count":0,"view_count":13039,"score":18,"question_id":1825892,"title":"Best JSON parser for Qt?","body":"<p>I'm using QT for Symbian and need a simple json parser. I need to be able to go from json to Qt-variant and the other way around. Is there a simple json parser that I can use? I don't want to write my own.</p>\n"},{"tags":["c++","qt","symbian"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13146912,"title":"Play alarm sound in Qt for Symbian","body":"<p>I'm making a countdown timer, and when it reaches 0 I want to play the system alarm sound - the one used by the built-in clock and calendar apps.</p>\n"},{"tags":["python","qt","pyside","qt-designer"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13145934,"title":"Calling custom class in .ui file fails","body":"<p>I get this error when I try to refer to my custom class from <code>.ui</code> file. What's wrong with what I do? </p>\n\n<pre><code>\"QFormBuilder was unable to create a custom widget of the class 'TimelinePane'; defaulting to base class 'QWidget'.\" \n</code></pre>\n\n<p><code>QWidget</code> pops up with the layout I'm specifying in <code>.ui</code> file. Problem is just the custom class.</p>\n\n<p>To add the custom class' description, I modified <code>.ui</code> file manually (added the entire <code>&lt;customwidgets&gt;</code> section), which is why I have to open a new question since I haven't found the same Q yet. I suspect the path of the class in <code>.ui</code> file but none of the options I tried (see the part I commented out) worked. I also guess that using <code>python</code> should not be the matter here but am not entirely sure. Haven't tried <code>C++</code> yet.</p>\n\n<pre><code>from PySide import QtGui  \nfrom PySide import QtCore\nfrom PySide import QtUiTools\n\nclass MyWidget(QtGui.QMainWindow):\n    def __init__(self, *args):  \n       apply(QtGui.QMainWindow.__init__, (self,) + args)\n\n       loader = QtUiTools.QUiLoader()\n       file = QtCore.QFile('./src/prove_qt_ui_file/prove_main_widget.ui') \n       file.open(QtCore.QFile.ReadOnly)\n       self.myWidget = loader.load(file, self)\n       file.close()\n       self.setCentralWidget(self.myWidget)\n\nif __name__ == '__main__':  \n   import sys  \n   import os\n   print(\"Running in \" + os.getcwd() + \" .\\n\")\n   app = QtGui.QApplication(sys.argv)  \n   win  = MyWidget()  \n   win.show()\n   app.exec_()\n</code></pre>\n\n<p>prove_main_widget.ui</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;MyWidget&lt;/class&gt;\n &lt;widget class=\"QWidget\" name=\"MyWidget\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;687&lt;/width&gt;\n    &lt;height&gt;698&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;Runtime Monitor&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;layout class=\"QVBoxLayout\"&gt;\n   &lt;property name=\"spacing\"&gt;\n    &lt;number&gt;0&lt;/number&gt;\n   &lt;/property&gt;\n   &lt;property name=\"margin\"&gt;\n    &lt;number&gt;0&lt;/number&gt;\n   &lt;/property&gt;\n   &lt;item&gt;\n    &lt;widget class=\"QSplitter\" name=\"splitter\"&gt;\n     &lt;property name=\"orientation\"&gt;\n      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;\n     &lt;/property&gt;\n     &lt;property name=\"handleWidth\"&gt;\n      &lt;number&gt;9&lt;/number&gt;\n     &lt;/property&gt;\n     &lt;widget class=\"QTreeWidget\" name=\"warn_tree\"&gt;\n      &lt;attribute name=\"headerVisible\"&gt;\n       &lt;bool&gt;false&lt;/bool&gt;\n      &lt;/attribute&gt;\n      &lt;column&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string notr=\"true\"&gt;1&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/column&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"QTreeWidget\" name=\"tree_all_devices\"&gt;\n      &lt;attribute name=\"headerVisible\"&gt;\n       &lt;bool&gt;false&lt;/bool&gt;\n      &lt;/attribute&gt;\n      &lt;column&gt;\n       &lt;property name=\"text\"&gt;\n        &lt;string notr=\"true\"&gt;1&lt;/string&gt;\n       &lt;/property&gt;\n      &lt;/column&gt;\n     &lt;/widget&gt;\n     &lt;widget class=\"TimelinePane\" name=\"timeline_pane\" native=\"true\"&gt;\n      &lt;property name=\"minimumSize\"&gt;\n       &lt;size&gt;\n        &lt;width&gt;0&lt;/width&gt;\n        &lt;height&gt;80&lt;/height&gt;\n       &lt;/size&gt;\n      &lt;/property&gt;\n      &lt;property name=\"whatsThis\"&gt;\n       &lt;string extracomment=\"Timeline\"/&gt;\n      &lt;/property&gt;\n     &lt;/widget&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n  &lt;/layout&gt;\n &lt;/widget&gt;\n &lt;customwidgets&gt;\n  &lt;customwidget&gt;\n   &lt;class&gt;TimelinePane&lt;/class&gt;\n   &lt;extends&gt;QWidget&lt;/extends&gt;\n&lt;!--   &lt;header&gt;timeline_pane&lt;/header&gt; --&gt; &lt;!-- NG --&gt;\n&lt;!--   &lt;header&gt;prove_qt_ui_file.timeline_pane&lt;/header&gt; --&gt; &lt;!-- NG --&gt;\n   &lt;header&gt;src.prove_qt_ui_file.timeline_pane&lt;/header&gt;  &lt;!-- NG --&gt;\n  &lt;/customwidget&gt;\n &lt;/customwidgets&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n</code></pre>\n\n<p>timeline_pane.py</p>\n\n<pre><code>from PySide.QtGui import QWidget, QGraphicsScene, QGraphicsView, QColor, QHBoxLayout, QPushButton\nclass TimelinePane(QWidget):\n    def __init__(self, parent):\n        super(TimelinePane, self).__init__()\n        print '\\tTimelinePane init 1' # This doesn't print.\n</code></pre>\n\n<p>(Environment) Ubuntu 12.04, python 2.7.3</p>\n"},{"tags":["qt","opengl","buffer","qt4.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13140859,"title":"Qt - What are Sample Buffers?","body":"<p>I am learning the basics of OpenGL with Qt and it seems sample buffers are Qt specific, and I don’t really understand what information they store for the screen. What is a Sample Buffer and what is it used for?</p>\n"},{"tags":["osx","qt","osx-lion","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1028,"score":0,"question_id":8816708,"title":"Brew, Lion, Qt 4.8.0","body":"<p>I've installed qt under Mac OS X Lion with brew through this command:</p>\n\n<p><code>brew install qt --build-from-source</code>.</p>\n\n<p>How could I use Qt now? Has brew installed Qt Creator too? If yes, where?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4","phonon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13130804,"title":"Phonon's VolumeSlider doesn't change the volume","body":"<p>I'm trying to create a <code>VolumeSlider</code> widget that changes the volume of my audio output.</p>\n\n<pre><code>log.debug(\"Starting audio player (%s)...\" % url)\nmediaSource = Phonon.MediaSource(url)\nmediaSource.setAutoDelete(True)\n\nself.player = Phonon.createPlayer(Phonon.VideoCategory, mediaSource)\nself.player.setTickInterval(100)\nself.player.tick.connect(self.updatePlayerLength)\nself.mediaSlider.setMediaObject(self.player)\n\naudioOutput = Phonon.AudioOutput(Phonon.MusicCategory)\nPhonon.createPath(self.player, audioOutput)\nself.mediaVolumeSlider.setAudioOutput(audioOutput)\n\nself.player.play()\n</code></pre>\n\n<p>However even though I can move the volume slider, the actual volume doesn't change. What did I miss?</p>\n"},{"tags":["html5","qt","canvas","webview","blackberry-simulator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13144099,"title":"How to get a html5 canvas bigger than 311 by 211 in Blackberry 10 Dev Alpha Simulator","body":"<p>I am trying to display graphs in html5 canvas in Blackberry 10 Dev Alpha Simulator running in VMWare, using C++ QT QML Blackberry 10 Cascades Beta 3 in a qml WebView.  I was having issues making that happen, but I tried the html5 sample from: <a href=\"http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_canvas_first\" rel=\"nofollow\">http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_canvas_first</a>, which is the following code...</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;canvas id=\"myCanvas\" width=\"200\" height=\"100\" style=\"border:1px solid #c3c3c3;\"&gt;\nYour browser does not support the HTML5 canvas tag.\n&lt;/canvas&gt;\n\n&lt;script&gt;\n\nvar c=document.getElementById(\"myCanvas\");\nvar ctx=c.getContext(\"2d\");\nctx.fillStyle=\"#FF0000\";\nctx.fillRect(0,0,150,75);\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and then after some testing that that red square only showed up if I kept the width no more than 311 and the height no more than 211.  But I need to make my graphical content in the html5 canvas in my webview larger than that.  Does anyone know any solutions to this problem?</p>\n"},{"tags":["c++","sql","qt","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13143448,"title":"SQLite UPDATE 100ms","body":"<p>I'm using the <a href=\"http://doc.qt.digia.com/qt/qsqlquery.html\" rel=\"nofollow\">Qt database abstraction</a> layer to interface with Sqlite3.</p>\n\n<pre><code>int x = GetTickCount();\ndatabase.exec(\"UPDATE controls SET dtype=32 WHERE id=2\");\nqDebug() &lt;&lt; GetTickCount()-x;\n</code></pre>\n\n<p>The table is:</p>\n\n<pre><code>CREATE TABLE controls (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    internal_id TEXT,\n    name TEXT COLLATE NOCASE,\n    config TEXT,\n    dtype INTEGER,\n    dconfig TEXT,\n    val TEXT,\n    device_id INTEGER REFERENCES devices(id) ON DELETE CASCADE\n); \n</code></pre>\n\n<p>Results in an update time of  ~100 ms! Even though nothing else is accessing the db and there are a grand total of 3 records in that table.</p>\n\n<p>That seems ridiculously long to me. 10 records would already take a second to complete. Is this the performance I should expect from sqlite or is something messing me up somewhere? SELECT queries are fast enough ~1ms.</p>\n\n<p><hr>\n<strong>Edit 1</strong></p>\n\n<p>So it's not Qt.</p>\n\n<pre><code>sqlite3 *db;\nif ( sqlite3_open(\"example.db\",&amp;db ) != SQLITE_OK )\n{\n    qDebug() &lt;&lt; \"Could not open\";\n    return;\n}\n\nint x = GetTickCount();\nsqlite3_exec(db, \"UPDATE controls SET dtype=3 WHERE id=2\",0,0,0);\nqDebug() &lt;&lt; \"Took\" &lt;&lt; GetTickCount() - x;\n\nsqlite3_close(db);\n</code></pre>\n\n<p>This guy takes just the same amount of time.</p>\n"},{"tags":["multithreading","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13142051,"title":"Qt threading stopped UI from responding","body":"<p>I think I might misunderstood several concepts in Qt's threading,</p>\n\n<p>In my window class, which is derived from QWidget:</p>\n\n<pre><code>class Widget \n{\n   Q_OBJECT\npublic:\n   Widget::Widget (QObject *parent = 0) : QObject(parent)\n   {\n     moveToThread(&amp;th); // still stuck\n     connect (&amp;th, SIGNAL(started()), SLOT(doWork())); \n     th.start();\n   }\nprivate:\n   QThread th;\nprivate slots:\n  void doWork () \n  { \n     // hmm, this stuck the UI\n     while (1) \n     { \n       qDebug() &lt;&lt; \"Sleeping\"; \n     } \n  };\n};\n</code></pre>\n\n<p>The forever loop stuck the UI, it shouldn't be, since that was called by the QThread.\nCan anyone point out what's wrong about this code?</p>\n"},{"tags":["c++","image","osx","qt","cgimage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13142032,"title":"CGImage: List of supported image formats","body":"<p>I want to query a list of all supported image formats (and file extensions) in Mac OS X, so that I can include those file extensions in a Qt \"Open Image\" dialog. I use CGImage to load the image.</p>\n\n<p>At the moment I use a static list, but I want to dynamically query a list of formats and extensions on the users system.</p>\n"},{"tags":["c++","qt","qtreeview","qt4.8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13124016,"title":"How to know exactly when a user expands a QTreeView item?","body":"<p>Is there a way to know exactly when an expand operation begins when a user, lets say clicks the expand arrow in a QTreeView?</p>\n\n<p>For the case when he double clicks I can catch the double-click event.</p>\n\n<p>I tried reimplementing this slot <code>void expand(const QModelIndex &amp;index);</code> from QTreeView but it doesn't seem to work.</p>\n\n<p>There is a signal called <code>void expanded(const QModelIndex &amp;index);</code> in QTreeView but it seems to be sent after the expansion happened.</p>\n\n<p>I am using QT 4.8.2</p>\n"},{"tags":["c++","qt","kinect","kinect-sdk"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12935790,"title":"How to pass a kinect image frame to a Qt label?","body":"<p>I'm using the Kinect SDK and Qt toolkit to make a application that shows the depth frame in a GUI window. For a normal opencv camera image i use to do this:</p>\n\n<pre><code>qimage = QImage(image.data, 640, 480, QImage::Format_Indexed8);\n    pixmap = QPixmap::fromImage(qimage);\n    ui.DepthView-&gt;adjustSize();\n</code></pre>\n\n<p>But with the Kinect sdk this doesn't work. When i grab a frame like this:</p>\n\n<pre><code>hr = m_pNuiSensor-&gt;NuiImageStreamGetNextFrame(m_pDepthStreamHandle, \n1000, &amp;imageFrame);\n</code></pre>\n\n<p>I can't convert it to an Qimage. I also tryed to use the texture after grabbing the frame:</p>\n\n<pre><code>hr = m_pNuiSensor-&gt;NuiImageFrameGetDepthImagePixelFrameTexture(m_pDepthStreamHandle,\n&amp;imageFrame, &amp;nearMode, &amp;pTexture);\n</code></pre>\n\n<p>And then i tryed to convert the pTexture to a Qimage, but that doesn't work either.</p>\n\n<p>I cleary do something wrong here, can anybody give me some pointers with this?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","database","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12277176,"title":"Selection of QTreeWidgetItem","body":"<p>In this function im trying to connect each QTreeWidgetItem with its corresponding query,\nonce i select an item a Dock widget that has a query result in tableview model is shown.</p>\n\n<p>what i want is that when i select a new item the shown dock widget hide and  new one appears with a new result. what i have until now is that each item i select a new Dock widget appears . I want to see only one dock widget.</p>\n\n<p>here is my function</p>\n\n<pre><code>void MainWindow::DocumentTable()\n{\ntableview = new QTableView;\nquery = new QSqlQueryModel(this);\n\nforeach(it,treeWidget-&gt;selectedItems())\n{\n    for (int col=0; col&lt; it-&gt;columnCount(); ++col)\n    {\n        qDebug() &lt;&lt; col &lt;&lt; it-&gt;text(col);\n\nQSqlQuery qry;\nqry.prepare(\"select * from document where Folno=:Folno\");\nqry.bindValue(\":Folno\", it-&gt;text(col));\nqry.exec();\n\nquery-&gt;setQuery(qry);\n\n    tableview-&gt;setModel(query);\ntableview-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);\ntableview-&gt;show();\n\nDocwidget= new QDockWidget(this);\nDocwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\nDocwidget-&gt;setWidget(tableview);\naddDockWidget(Qt::RightDockWidgetArea,Docwidget);\nDocwidget-&gt;show();\n\n\nif(!query-&gt;submit())\n  {\n     qDebug() &lt;&lt; \"Error \" &lt;&lt; query-&gt;lastError().text();\n  }\n\n db.close();\n\n}\n}\n   }\n</code></pre>\n\n<p>any ideas ??  :)</p>\n"},{"tags":["c++","osx","qt","qt-creator","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12977739,"title":"Qt Creator or qmake on MacOSX build library as \".so\" not dylib","body":"<p>I need to build my plugin/library as a .so on Mac. That happens without extra trick on Linux and works like a charm.</p>\n\n<p>What extra options I need to add to my .pro file?</p>\n\n<pre><code>CONFIG += debug\nQT += xml\nTEMPLATE = lib\nTARGET = mylib\nDEPENDPATH += .\nmacx:INCLUDEPATH += ../../../Test \\\n  /usr/local/include/\n\nmacx:LIBS += -L../../../Test/lib\n\nDEFINES += CORE_EXPORT=\nDEFINES += GUI_EXPORT=\n\nHEADERS += test.h testGui.h\nFORMS += testGui.ui\nSOURCES += test.cpp testGui.cpp\nRESOURCES += test.qrc\n</code></pre>\n"},{"tags":["c++","qt","key","keyboard-shortcuts","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":12373221,"title":"QInputDialog - confirm with enter-key","body":"<p>Im trying to use QInputDialog without buttons. It looks just like I want, but I connot confirm input (using it for text input). Is there a possibility to confirm with the enter key, so that <code>exec()</code> returns <code>QInputDialog::Accepted</code> ? Just like escape key makes the dialog return <code>QInputDialog::Rejected</code> ?</p>\n"},{"tags":["qt","drop","shadow","qmenu"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":63,"score":3,"question_id":12691490,"title":"Qt QMenu remove drop shadow","body":"<p>I have a QMenu with a translucent background and rounded edges (border-radius). Unfortunately, Windows 7 draws a drop shadow for this menu, which does not fit to the rounded edges. Its the shadow that would be drawn for normal rectangular menues.</p>\n\n<p>Is there either\n - a way to completely disable drawing drop shadows for QMenu\nor\n - a way to make the shadow fit to the rounded edges\n?</p>\n\n<p>Here is a minimalistic example where it occurs:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QMenu&gt;\n\nint main(int argc, char *argv[]) {\n    QApplication a(argc, argv);\n    QPushButton b(\"press me\");\n    QMenu m;\n    m.addAction(\"hello\"); m.addAction(\"world\");\n    m.setWindowFlags(m.windowFlags() | Qt::FramelessWindowHint);\n    m.setAttribute(Qt::WA_TranslucentBackground);\n    m.setStyleSheet(\"background:rgba(255,0,0,50%); border-radius:5px;\");\n    b.setMenu(&amp;m);\n    b.show();\n    return a.exec();\n}\n</code></pre>\n"},{"tags":["c++","qt","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13138594,"title":"Qt equivalent to winapi InterlockedIncrement?","body":"<p>i try to find equivalent in Qt c++ to winapi InterlockedIncrement\ni was reading : \n<a href=\"http://harmattan-dev.nokia.com/docs/library/html/qt4/qatomicint.html\" rel=\"nofollow\">http://harmattan-dev.nokia.com/docs/library/html/qt4/qatomicint.html</a><br>\nbut i didnt understand it , can someone please give me simple example </p>\n"},{"tags":["osx","qt","qt4","install","32bit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13099397,"title":"Install Qt SDK on Mac OS X Snow Leopard 32 bit","body":"<p>I want to install Qt on Mac OS X Snow Leopard 32-bit but on the qt-project website only the version for 64 bit is available. </p>\n\n<p>I tried to install the libraries and the Qt Creator IDE separately but it doesn't work, I get the error \"<code>:-1: error: /Developer/Tools/Qt/moc: Bad CPU type in executable</code>\". </p>\n\n<p>I also tried to compile the sources which i got from <a href=\"http://download.qt.nokia.com/qt/source/qt-everywhere-opensource-src-4.8.1.tar.gz\" rel=\"nofollow\">here</a> but all i got were errors:</p>\n\n<pre><code>make[3]: *** No rule to make target `../../WebCore/debug/libwebcored.a', needed by `../../../../../../lib/QtWebKit.framework/QtWebKit_debug'.  Stop.\nmake[2]: *** [debug-install] Error 2\nmake[1]: *** [sub-WebKit-qt-QtWebKit-pro-install_subtargets-ordered] Error 2\nmake: *** [sub-webkit-install_subtargets-ordered] Error 2\n</code></pre>\n\n<p>Everywhere I search on the web i get broken links from the old Nokia Qt website or people telling that Qt is not available for 32bit on Mac.\nI'd like to install Qt on his Mac even if it's an older version.</p>\n\n<p>Does anyone know a link to the source code that works or a .dmg file for the entire Qt SDK bundle that works for Snow Leopard 32-bit?</p>\n\n<p>I also installed XCode 3.2.6.</p>\n\n<p>Thanks!</p>\n"},{"tags":["visual-studio","qt","cmake","qobject"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":882,"score":4,"question_id":3650433,"title":"Qt, CMake, Visual Studio and Q_OBJECT in cpp files","body":"<p>I'm developing a large project using Qt 4.6, CMake 2.8 and Visual Studio 2008 for the Windows platform.</p>\n\n<p>As far the build system goes, it's all standard stuff: I'm using CMake's <code>QT4_WRAP_CPP</code> macro to generate moc files from header files, which are then linked into the final executable in the <code>add_executable</code> command. Everything is working as expected.</p>\n\n<p>The only restriction with this setup is that I can't define widgets or helper using   <code>Q_OBJECT</code> in <em>.cpp</em> files. This would be very convenient for small, context-specific helpers classes that should appear right next to where they're used.</p>\n\n<p>I tried to pass the whole list of source files (both <em>.h</em> and <em>.cpp</em>) to <code>QT4_WRAP_CPP</code>, instead of just the header files, but that doesn't work (linking fails because some moc-related symbols are undefined).</p>\n\n<p>I think the problem is that, for a given pair of files <em>foo.h</em> and <em>foo.cpp</em>, the <code>QT4_WRAP_CPP</code> macro will generate the same moc file (<em>moc_foo.cxx</em>) in the same directory, and obviously that means the first file will be overwritten by the second one, and as a result symbols will be missing at link-time.</p>\n\n<p>Is there a way to fix or work around that problem? For instance, I tried to add a specific rule for <em>foo.cpp</em> of the form</p>\n\n<pre><code>QT4_GENERATE_MOC(directory/foo.cpp directory/foo.moc)\n</code></pre>\n\n<p>and then add</p>\n\n<pre><code>#include \"foo.moc\"\n</code></pre>\n\n<p>at the end of <em>foo.cpp</em>. I think this ought to work, but alas Visual Studio only allows one build rule per file, and <em>.cpp</em> files already have a build rule (compilation to object file), so this approach doesn't work, at least with Visual Studio.</p>\n\n<p>Another idea that I had was to create a new macro, say <code>QT4_WRAP_CPP_WITH_PREFIX</code>, based on <code>QT4_WRAP_CPP</code> (which is defined in <em>share/cmake-2.8/Modules/Qt4Macros.cmake</em>), that would take an additional prefix argument and would add this prefix to the generated moc files. That way, I would call <code>QT4_WRAP_CPP_WITH_PREFIX</code> twice, once for <em>.h</em> files and once for <em>.cpp</em> files, with different prefixes. What I just dislike about this approach is that I'd be messing with the internals of CMake's Qt support, instead of using the public API.</p>\n\n<p>Any better idea?</p>\n\n<p>Cheerz, Franz</p>\n"},{"tags":["qt","dll","dllimport","dllexport"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13132340,"title":"should I add the CPP files into *.pro when I trying to load the DLL","body":"<p>I need to compile some source code into a DLL, and load it in other project.  I have an entry called</p>\n\n<pre><code>extern \"C\" LTCPOS_LSHARED_EXPORT tcpClient_Os* getClientInst(VhostInfo hostInfo, CtcpOpt *tcpOpt, QObject *parent = 0);\n</code></pre>\n\n<p>The type of \"tcpClient_OS\" is a self-defined class.  When I load the DLL using QLibrary in a different project it appears that I must add the <strong>source file (cpp files)</strong> into the *.pro in order to make the project compiled without errors.  Why?</p>\n\n<p>What is the normal routine of building a DLL with a funtion returning self-defined class pointer and how do I load it?</p>\n"},{"tags":["c++","qt","setvalue","class-members"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13136196,"title":"Set class member value by its name","body":"<p>I've a class, derived of <code>QObject</code> and it has some members.\nI load a configuration file with <code>param value</code> syntax. Each <code>param</code> is a member of the class and I want to set it's value to <code>value</code>.</p>\n\n<p>How is it possible, if it actually is? Thanks much!</p>\n\n<p>PS I could have made an associative array but it's not the way I prefer.</p>\n"},{"tags":["qt","qt-stylesheet","qtabbar"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13137069,"title":"QT Tab close button position","body":"<p>I want to style my tabs in my QT app as follows:</p>\n\n<p><img src=\"http://i.stack.imgur.com/aIZf0.png\" alt=\"enter image description here\"></p>\n\n<p>I used following style sheet:</p>\n\n<pre><code>QTabBar{background-color: #fff; border-top: 0px;}\nQTabBar::tab {\n    border-image: url(:/New_UI/tab_inactive.png) 7 17 7 2;\n    margin-left: 2px;\n    border-right: 17px;\n    border-top: 5px;\n    border-bottom: 5px;\n    font: 400 9.2pt \"Segoe UI\";\n    color: #ccc;\n    padding: 0px 13px 0px 5px;\n    max-height: 26px;\n }\n\nQTabBar::tab:selected, QTabBar::tab:hover {\n    border-image: url(:/New_UI/tab_active.png) 6 17 6 2;\n}\n\nQTabBar::close-button {\n    image: url(:/New_UI/tab_close.png);\n    subcontrol-origin: padding;\n    subcontrol-position: right; \n    width: 13px;\n    height: 13px;\n\n}\n</code></pre>\n\n<p>The result is as follows (close button position is not as I wanted):</p>\n\n<p><img src=\"http://i.stack.imgur.com/PWcJQ.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong &amp; how could I get my desired result ? </p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13132485,"title":"How to scroll QLabel?","body":"<p>I am trying to implement Picture Zoom In/Out and Picture Scroll on <em>Meego/Qt/QML</em>.</p>\n\n<p>I have written a class A which is inherited from <em>QLabel</em>.</p>\n\n<pre><code>A::A( \"parent\" )\n{\n  setAlignment();\n  setGeometry();\n  setScaledContents();\n}\n</code></pre>\n\n<p>Now I have a Controller class B. This class is responsible to handle the events from <em>QML</em> to the my Class A. In my controller class I have instantiate in the following way.</p>\n\n<pre><code>B :: B()\n{\n a = new A();\n proxyWidget = new QGraphicsProxyWidget();\n proxyWidget-&gt;setWidget(a); \n}\n</code></pre>\n\n<p>Since this is a <em>QML</em> based application I am handling events from QML.</p>\n\n<p>For Zoom I have used <code>PinchArea</code>. Whenever I am getting <code>PinchUpdated</code> event I am setting the <code>setGeometry</code>of the <em>QLabel</em> accordingly. I am zooming in and zooming out.</p>\n\n<p>For scroll I have used <code>MouseArea</code> with <code>onPositionChanged</code> event. However I am unable to scroll the label event after calling the scroll API of the <em>QLabel</em>.</p>\n\n<p>Can someone please tell me where am I doing wrong?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13133761,"title":"Qt: Qt Designer button panel error","body":"<p>I've created a modal dialog named 'new_dialog' with ok/cancel buttons. Now I want to work on slot for the OK button. I right-click on the button pane, select \"Go to slot\" command from context menu; and get an error: </p>\n\n<blockquote>\n  <p>Couldn't find class with Ui::new_dialog in mainwindow.cpp. Check\n  include directives\n  (this is a translation into English)</p>\n</blockquote>\n\n<p>How can I assign a slot to the button?</p>\n\n<p>Thanks!</p>\n\n<p>Some code:</p>\n\n<p>There is new.ui and ui_new.h, directive in mainwindow.cpp:</p>\n\n<pre><code>#include \"ui_new.h\"\n</code></pre>\n\n<p>The dialog is called from mainwindow:</p>\n\n<pre><code>void MainWindow::on_pushButton_clicked()\n{\n    QDialog *new_dialog = new QDialog(0,0);\n    Ui_New newUi;\n    newUi.setupUi(new_dialog);\n    new_dialog-&gt;exec();\n}\n</code></pre>\n\n<p>ui_new.h:</p>\n\n<pre><code>#ifndef UI_NEW_H\n#define UI_NEW_H\n\n#include &lt;QtCore/QVariant&gt;\n#include &lt;QtGui/QAction&gt;\n#include &lt;QtGui/QApplication&gt;\n#include &lt;QtGui/QButtonGroup&gt;\n#include &lt;QtGui/QDialog&gt;\n#include &lt;QtGui/QDialogButtonBox&gt;\n#include &lt;QtGui/QHeaderView&gt;\n#include &lt;QtGui/QLabel&gt;\n#include &lt;QtGui/QLineEdit&gt;\n\nQT_BEGIN_NAMESPACE\n\nclass Ui_New\n{\npublic:\n    QDialogButtonBox *buttonBox;\n    QLabel *label;\n    QLabel *label_2;\n    QLineEdit *lineEdit;\n    QLineEdit *lineEdit_2;\n\n    void setupUi(QDialog *new_dialog)\n    {\n        if (new_dialog-&gt;objectName().isEmpty())\n            new_dialog-&gt;setObjectName(QString::fromUtf8(\"Dialog\"));\n        new_dialog-&gt;setWindowModality(Qt::ApplicationModal);\n        new_dialog-&gt;resize(250, 180);\n        new_dialog-&gt;setModal(false);\n        buttonBox = new QDialogButtonBox(new_dialog);\n        buttonBox-&gt;setObjectName(QString::fromUtf8(\"buttonBox\"));\n        buttonBox-&gt;setGeometry(QRect(40, 140, 181, 32));\n        buttonBox-&gt;setOrientation(Qt::Horizontal);\n        buttonBox-&gt;setStandardButtons(QDialogButtonBox::Cancel|QDialogButtonBox::Ok);\n        label = new QLabel(new_dialog);\n        label-&gt;setObjectName(QString::fromUtf8(\"label\"));\n        label-&gt;setGeometry(QRect(20, 40, 46, 13));\n        label_2 = new QLabel(new_dialog);\n        label_2-&gt;setObjectName(QString::fromUtf8(\"label_2\"));\n        label_2-&gt;setGeometry(QRect(20, 70, 46, 13));\n        lineEdit = new QLineEdit(new_dialog);\n        lineEdit-&gt;setObjectName(QString::fromUtf8(\"lineEdit\"));\n        lineEdit-&gt;setGeometry(QRect(70, 40, 113, 20));\n        lineEdit_2 = new QLineEdit(new_dialog);\n        lineEdit_2-&gt;setObjectName(QString::fromUtf8(\"lineEdit_2\"));\n        lineEdit_2-&gt;setGeometry(QRect(70, 70, 113, 20));\n\n        retranslateUi(new_dialog);\n        QObject::connect(buttonBox, SIGNAL(accepted()), new_dialog, SLOT(accept()));\n        QObject::connect(buttonBox, SIGNAL(rejected()), new_dialog, SLOT(reject()));\n\n        QMetaObject::connectSlotsByName(new_dialog);\n    } // setupUi\n\n    void retranslateUi(QDialog *new_dialog)\n    {\n        new_dialog-&gt;setWindowTitle(QApplication::translate(\"Dialog\", \"New person\", 0, QApplication::UnicodeUTF8));\n        label-&gt;setText(QApplication::translate(\"Dialog\", \"Name\", 0, QApplication::UnicodeUTF8));\n        label_2-&gt;setText(QApplication::translate(\"Dialog\", \"Surname\", 0, QApplication::UnicodeUTF8));\n    } // retranslateUi\n\n};\n\nnamespace Ui {\n    class new_dialog: public Ui_New {};\n} // namespace Ui\n\nQT_END_NAMESPACE\n\n#endif // UI_NEW_H\n</code></pre>\n"},{"tags":["c++","qt","url","host"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13121922,"title":"Qt or general c++ How to get or detect the host of the <a href=\"file.html\" > in c++","body":"<p>i have simple app the gets all the links from web page , im using libexml2 to parse the html \nand extract the html links that are inside the  \nand Qt QNetworkAccessManager for the http requests .\nnow the problem is how to detecte automatcly the host name of the links if i have for example :</p>\n\n<pre><code>&lt;a href=\"thelink.html\" &gt;\nor \n&lt;a href=\"../../../thelink.html\" &gt;  \nor\n&lt;a href=\"../foo/boo/thelink.html\" &gt; \ni need to convert it to full host path like :\n( just example .. ) \n&lt;a href=\"http://www.myhost.com/thelink.html\" &gt;\nor \n&lt;a href=\"http://www.myhost.com/foo/boo/thelink.html\" &gt;  \nor\n&lt;a href=\"http://www.myhost.com/m/thelink.html\" &gt; \n</code></pre>\n\n<p>is there any way to do it programmatically ? without manually doing string manipulation</p>\n\n<p>if you know perl its called : Return a relative URL if possible\nfrom the : <a href=\"http://search.cpan.org/~rse/lcwa-1.0.0/lib/lwp/lib/URI/URL.pm\" rel=\"nofollow\">http://search.cpan.org/~rse/lcwa-1.0.0/lib/lwp/lib/URI/URL.pm</a></p>\n\n<p>$url->rel([$base])</p>\n\n<p>code example that dosnt work ( Qt ) \n<a href=\"http://qt.digia.com/support/\" rel=\"nofollow\">http://qt.digia.com/support/</a></p>\n\n<pre><code>QString s(\"/About-us/\");\nQString base(\"http://qt.digia.com\");\nQString urlForReq;\n\n     if(!s.startsWith(\"http:\"))\n     {       \n         QString uu = QUrl(s).toString();\n         QString   rurl = baseUrl.resolved(QUrl(s)).toString();\n         urlForReq = rurl;\n     }\n</code></pre>\n\n<p>the urlForReq value is \"/About-us/\"</p>\n"},{"tags":["qt","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":110,"score":3,"question_id":12306894,"title":"Wrong alpha blending when rendering on a QGLFramebufferObject","body":"<p>I write an OpenGL based vector graphics renderer for my application. It needs to render to a framebuffer object rather to the screen directly. Since I write the application in Qt, I use a QGLFramebufferObject which is a wrapper class for a OpenGL framebuffer object.</p>\n\n<p>I created a minimal example which shows a wrong result I also get when rendering more complex stuff (for example using a fragment shader which sets colors with a non-one alpha value). I just render a red circle and a half-transparent green one on a black cleared screen, and then the same on the FBO:</p>\n\n<pre><code>void MainWidget::initializeGL()\n{\n    glEnable(GL_BLEND);\n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n    glClearColor(0, 0, 0, 0);\n}\n\nvoid MainWidget::resizeGL(int w, int h)\n{\n    glViewport(0, 0, w, h);\n}\n\nvoid MainWidget::paintGL()\n{\n    // DRAW ON THE SCREEN\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n        glPointSize(100);\n        glEnable(GL_POINT_SMOOTH);\n        glBegin(GL_POINTS);\n        glColor4f(1, 0, 0, 1);\n        glVertex2f(-.2, 0);\n        glColor4f(0, 1, 0, .5);\n        glVertex2f( .2, 0);\n        glEnd();\n    }\n\n    QGLFramebufferObject fbo(width(), height());\n    fbo.bind();\n\n    // DRAW ON THE FBO USING THE SAME CODE AND THE SAME CONTEXT\n    {\n        glClear(GL_COLOR_BUFFER_BIT);\n        glPointSize(100);\n        glEnable(GL_POINT_SMOOTH);\n        glBegin(GL_POINTS);\n        glColor4f(1, 0, 0, 1);\n        glVertex2f(-.2, 0);\n        glColor4f(0, 1, 0, .5);\n        glVertex2f( .2, 0);\n        glEnd();\n    }\n\n    fbo.release();\n    fbo.toImage().save(\"debug.png\");\n}\n</code></pre>\n\n<p>The result looks like this on the screen (scaled 400%):</p>\n\n<p><img src=\"http://i.stack.imgur.com/oJ0NM.png\" alt=\"enter image description here\"></p>\n\n<p>The rendering to the QGLFramebufferObject looks like this (also scaled 400%):</p>\n\n<p><img src=\"http://i.stack.imgur.com/vPLGJ.png\" alt=\"enter image description here\"></p>\n\n<p>Note that this image is not fully opaque, so here it is the same image with a checkerboard added behind it:</p>\n\n<p><img src=\"http://i.stack.imgur.com/6xbY6.png\" alt=\"enter image description here\"></p>\n\n<p>Even the area in which the two circles overlap isn't fully opaque. And the anti-aliasing looks pretty ugly.</p>\n\n<p><strong>How does this happen? And how can I fix this?</strong></p>\n\n<p>I already tried:</p>\n\n<ul>\n<li>Different blend functions.</li>\n<li>Explicitly disabling the depth buffer, stencil buffer and sampling on the QGLFramebufferObject. I'm not sure if the QGLFramebufferObject default format adds something I don't want.</li>\n</ul>\n"},{"tags":["c++","qt","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":40,"score":0,"question_id":13132155,"title":"QWidget show function strange","body":"<p>two UI class, also called the theme.\nAnd then write some control over events.\nthis  is  My main code</p>\n\n<pre><code>  if(ui==1){\n    theme1=new theme1();\n    connect(theme1-&gt;ui-&gt;btn_send1,SIGNAL(clicked()),this,SLOT(Btn_Click_send1()));      \n    connect(theme1-&gt;ui-&gt;btn_send2,SIGNAL(clicked()),this,SLOT(Btn_Click_send2()));       \n\n }else{\n     theme2=new theme2();\n     connect(theme2-&gt;ui-&gt;btn_send1,SIGNAL(clicked()),this,SLOT(Btn_Click_send1()));     \n    connect(theme2-&gt;ui-&gt;btn_send2,SIGNAL(clicked()),this,SLOT(Btn_Click_send2()));      \n }\n void testCode::Btn_Click_send1(){\n  run1=new Run1();\n   run1.show();\n }\nvoid testCode::Btn_Click_send2(){\nrun2=new Run2();\nrun2.show();\n</code></pre>\n\n<p>}</p>\n\n<p>UI is equal to 1, the code is good, but equal to other UI appears BUG。</p>\n\n<p>Debugging, when errors are found in the show ()。</p>\n\n<p>Run1 and Run2 Run in the other classes, but it is good.</p>\n\n<p>I do not know why！！！ A week, and I am anxious！</p>\n\n<p>thanks all!</p>\n"},{"tags":["c++","qt","arduino","qextserialport"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":965,"score":1,"question_id":3142038,"title":"QextSerialPort connection problem to Arduino","body":"<p>I'm trying to make a serial connection to an Arduino Diecimila board with QextSerialPort. My application hangs though everytime I call port->open(). The reason I think this is happening is because the Arduino board resets itself everytime a serial connection to it is made. There's a way of not making the board reset described <a href=\"http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1204641836\" rel=\"nofollow\">here</a>, but I can't figure out how to get QextSerialPort to do that. I can only set the DTR to false after the port has been opened that's not much help since the board has already reset itself by that time.</p>\n\n<p>The code for the connection looks like this:</p>\n\n<pre><code> port = new QextSerialPort(\"/dev/tty.usbserial-A4001uwj\");\n port-&gt;open(QIODevice::ReadWrite);\n port-&gt;setBaudRate(BAUD9600);   \n port-&gt;setFlowControl(FLOW_OFF);\n port-&gt;setParity(PAR_NONE);    \n port-&gt;setDataBits(DATA_8);   \n port-&gt;setStopBits(STOP_1);\n port-&gt;setDtr(false);\n port-&gt;setRts(false);\n</code></pre>\n\n<p>Any ideas on how to get this done. I don't necessarily need to use QextSerialPort should someone know of another library that does the trick.</p>\n\n<p>I'm new to C++ and Qt.</p>\n\n<p>UPDATE:\nI noticed that if I run a python script that connects to the same port (using pySerial) before running the above code, everything works just fine.</p>\n"},{"tags":["windows","qt","qextserialport"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12959612,"title":"QextSerialPort::read() does not return until timeout expired but data is available","body":"<p>I am using QextSerialPort with Qt 4.8.1 on Win32.  When \"polling\" query mode is set, and a timeout set using QextSerialPort::setTimeout().  When I call QExtSerialPort::read(), even when data is available, the read function does not return until the entire timeout period has expired, even though it returns with data.</p>\n\n<p>For example:</p>\n\n<pre><code>m_port-&gt;setTimeout( 3000 ) ;\nchar data = 0 ;\nint count = m_port-&gt;read( &amp;data, 1 ) ;\n// Returns after three seconds, but count is 1, and data set as expected\n</code></pre>\n\n<p>I would expect it to return as soon a the specified number or bytes are read <em>or</em> the timeout expires - which ever occurs first. </p>\n\n<p>Should this work or am I misunderstanding this interface?  Is there a way of achieving the expected behaviour in polling mode.</p>\n"},{"tags":["c++","linux","qt","memory-leaks","embedded-linux"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":13098976,"title":"Qt application killed because Out Of Memory (OOM)","body":"<p>I am running a Qt application on embedded Linux platform. The system has 128 MB RAM, 512MB NAND, no swap. The application uses a custom library for the peripherals, the rest are all Qt and c/c++ libs. The application uses SQLITE3 as well.</p>\n\n<p>After 2-3 hours, the machine starts running very slow, shell commands take 10 or so seconds to respond. Eventually the machine hangs, and finally OOM killer kills the application, and the system starts behaving at normal speed.</p>\n\n<p>After some system memory observations using <strong>top</strong> command reveals that while application is running, the system <strong>free</strong> memory is decreasing, while <strong>slab</strong> keeps on increasing. These are the snaps of <strong>top</strong> given below.  The application is named <strong>xyz</strong>.</p>\n\n<p>At Application start : </p>\n\n<pre><code>Mem total:126164 anon:3308 map:8436 free:32456\n slab:60936 buf:0 cache:27528 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  776 29080  9228  8036   528   968     0    84 ./xyz -qws\n  781  3960   736  1976  1456   520     0    84 sshd: root@notty\n  786  3676   680  1208   764   416     0    88 /usr/libexec/sftp-server\n  770  3792   568  1948  1472   464     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   956   688   252     0    84 /usr/sbin/sshd\n  388  1864   284   552   332   188     0    84 udevd --daemon\n  789  2832   272   688   584    84     0    84 top\n  774  2828   268   668   560    84     0    84 -sh\n  709  2896   268   556   464    80     0    84 /usr/sbin/inetd\n  747  2828   268   596   516    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  777  2824   264   444   368    68     0    84 tee out.log\n  785  2824   264   484   416    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264   556   488    64     0    84 init\n</code></pre>\n\n<p>After some time :</p>\n\n<pre><code>    Mem total:126164 anon:3312 map:8440 free:9244\n slab:83976 buf:0 cache:27584 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  776 29080  9228  8044   528   972     0    84 ./xyz -qws\n  781  3960   736  1976  1456   520     0    84 sshd: root@notty\n  786  3676   680  1208   764   416     0    88 /usr/libexec/sftp-server\n  770  3792   568  1948  1472   464     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   956   688   252     0    84 /usr/sbin/sshd\n  388  1864   284   552   332   188     0    84 udevd --daemon\n  789  2832   272   688   584    84     0    84 top\n  774  2828   268   668   560    84     0    84 -sh\n  709  2896   268   556   464    80     0    84 /usr/sbin/inetd\n  747  2828   268   596   516    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  777  2824   264   444   368    68     0    84 tee out.log\n  785  2824   264   484   416    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264   556   488    64     0    84 init\n</code></pre>\n\n<p>Funnily though, I can not see any major changes in the output of <strong>top</strong> involving the application itself. Eventually the application is killed, <strong>top</strong> output after that :</p>\n\n<pre><code>    Mem total:126164 anon:2356 map:916 free:2368\n slab:117944 buf:0 cache:1580 dirty:0 write:0\nSwap total:0 free:0\n  PID   VSZ VSZRW^  RSS (SHR) DIRTY (SHR) STACK COMMAND\n  781  3960   736   708   184   520     0    84 sshd: root@notty\n  786  3724   728   736   172   484     0    88 /usr/libexec/sftp-server\n  770  3792   568   648   188   460     0    84 {sshd} sshd: root@pts/0\n  766  3792   568   252     0   252     0    84 /usr/sbin/sshd\n  388  1864   284   188     0   188     0    84 udevd --daemon\n  819  2832   272   676   348    84     0    84 top\n  774  2828   268   512   324    96     0    84 -sh\n  709  2896   268    80     0    80     0    84 /usr/sbin/inetd\n  747  2828   268    68     0    68     0    84 /sbin/getty -L ttymxc0 115200 vt100\n  785  2824   264    68     0    68     0    84 sh -c /usr/libexec/sftp-server\n    1  2824   264    64     0    64     0    84 init\n</code></pre>\n\n<p>The <strong>dmesg</strong> shows :</p>\n\n<pre><code>sh invoked oom-killer: gfp_mask=0xd0, order=2, oomkilladj=0\n[&lt;c002d4c4&gt;] (unwind_backtrace+0x0/0xd4) from [&lt;c0073ac0&gt;]              (oom_kill_process+0x54/0x1b8)\n[&lt;c0073ac0&gt;] (oom_kill_process+0x54/0x1b8) from [&lt;c0073f14&gt;] (__out_of_memory+0x154/0x178)\n[&lt;c0073f14&gt;] (__out_of_memory+0x154/0x178) from [&lt;c0073fa0&gt;] (out_of_memory+0x68/0x9c)\n[&lt;c0073fa0&gt;] (out_of_memory+0x68/0x9c) from [&lt;c007649c&gt;] (__alloc_pages_nodemask+0x3e0/0x4c8)\n[&lt;c007649c&gt;] (__alloc_pages_nodemask+0x3e0/0x4c8) from [&lt;c0076598&gt;] (__get_free_pages+0x14/0x4c)\n[&lt;c0076598&gt;] (__get_free_pages+0x14/0x4c) from [&lt;c002f528&gt;] (get_pgd_slow+0x14/0xdc)\n[&lt;c002f528&gt;] (get_pgd_slow+0x14/0xdc) from [&lt;c0043890&gt;] (mm_init+0x84/0xc4)\n[&lt;c0043890&gt;] (mm_init+0x84/0xc4) from [&lt;c0097b94&gt;] (bprm_mm_init+0x10/0x138)\n[&lt;c0097b94&gt;] (bprm_mm_init+0x10/0x138) from [&lt;c00980a8&gt;] (do_execve+0xf4/0x2a8)\n[&lt;c00980a8&gt;] (do_execve+0xf4/0x2a8) from [&lt;c002afc4&gt;] (sys_execve+0x38/0x5c)\n[&lt;c002afc4&gt;] (sys_execve+0x38/0x5c) from [&lt;c0027d20&gt;] (ret_fast_syscall+0x0/0x2c)\nMem-info:\nDMA per-cpu:\nCPU    0: hi:    0, btch:   1 usd:   0\nNormal per-cpu:\nCPU    0: hi:   42, btch:   7 usd:   0\nActive_anon:424 active_file:11 inactive_anon:428\n inactive_file:3 unevictable:0 dirty:0 writeback:0 unstable:0\n free:608 slab:29498 mapped:14 pagetables:59 bounce:0\nDMA free:692kB min:268kB low:332kB high:400kB active_anon:0kB inactive_anon:0kB active_file:4kB inactive_file:0kB unevictable:0kB present:24384kB pages_scanned:0 all_unreclaimable? no\nlowmem_reserve[]: 0 103 103\nNormal free:1740kB min:1168kB low:1460kB high:1752kB active_anon:1696kB inactive_anon:1712kB active_file:40kB inactive_file:12kB unevictable:0kB present:105664kB pages_scanned:0 all_unreclaimable? no\nlowmem_reserve[]: 0 0 0\nDMA: 3*4kB 3*8kB 5*16kB 2*32kB 4*64kB 2*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 692kB\nNormal: 377*4kB 1*8kB 4*16kB 1*32kB 2*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 1740kB\n30 total pagecache pages\n0 pages in swap cache\nSwap cache stats: add 0, delete 0, find 0/0\nFree swap  = 0kB\nTotal swap = 0kB\n32768 pages of RAM\n687 free pages\n1306 reserved pages\n29498 slab pages\n59 pages shared\n0 pages swap cached\nOut of memory: kill process 774 (sh) score 339 or a child\nKilled process 776 (xyz)\n</code></pre>\n\n<p>So it's obvious that there is a memory leak, it must be my app since my app is killed. But I am not doing any <strong>malloc</strong> s from the program. I have taken care as to limit the scope of variables so that they are deallocated after they are used. So I am at a complete loss as to why is <strong>slab</strong> increasing in the <strong>top</strong> output. I have tried <a href=\"http://valgrind.org/docs/manual/faq.html#faq.reports\" rel=\"nofollow\">http://valgrind.org/docs/manual/faq.html#faq.reports</a> but didn't work.</p>\n\n<p>Currently trying to use Valgrind on desktop (since I have read it only works for arm-cortex) to check my business logic.</p>\n\n<p>Addittional info :</p>\n\n<pre><code>root@freescale ~/Application/app$ uname -a\nLinux freescale 2.6.31-207-g7286c01 #2053 Fri Jun 22 10:29:11 IST 2012 armv5tejl GNU/Linux\nCompiler : arm-none-linux-gnueabi-4.1.2 glibc2.5\ncpp libs : libstdc++.so.6.0.8\nQt : 4.7.3 libs\n</code></pre>\n\n<p>Any pointers would be greatly appreciated...</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13129380,"title":"show a dialog before closing the program in Qt","body":"<p>I want to show the dialog before closing the program in Qt whether the user wants to cancel or save the program, i.e. by clicking on cancel the user has chance to return to program with uncleaned state, like windows paint, or notepad in which the aware dialog before closing appear alerting the users?\nby the way I use Qt</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13127140,"title":"Replacing QPen's - How Do I Delete","body":"<p>I am developing a GUI which will allow the user to modify ellipses using mouse/QSpinBox events on top of a background picture.</p>\n\n<p>I want to set it up so that when a user clicks on an ellipse, the ellipse changes color and has been \"selected.\"</p>\n\n<p>I am using QGraphicsView/Scene with QGraphicsEllipseItem.  Here in lies my problem, the <code>setPen(QPen &amp; const)</code> call is a reference thus:</p>\n\n<ul>\n<li>If I allocate a pen on the stack and pass it in, I get a segfault.</li>\n<li>If I allocate a pen on the heap, it doesn't get deleted when I set a new pen</li>\n<li>The accessor method returns a copy of the pen</li>\n</ul>\n\n<p>Anyways, I must be approaching this wrong, could any offer any suggestions?</p>\n\n<p>P.S. - I would like to avoid making yet ANOTHER member variable.  I am going to have many ellipses, each one should not have its own pen variable!</p>\n\n<hr>\n\n<p>This code will cause a segfault:</p>\n\n<pre><code>void MyClass::SetupEllipses()\n{\n    QPen pen();\n    pen.setColor(QColor(255,0,0));\n    pen.setWidth(2);\n\n    m_ellipse = new QGraphicsItemEllipse(); //This is a member variable of MyClass\n    m_ellipse-&gt;setRect(some ssize here);\n    m_ellipse-&gt;setPen(pen);\n\n    m_graphicsview-&gt;scene()-&gt;addItem(m_ellipse); //m_graphicsview is also a member variable of MyClass and has had a scene added to it.\n}\n</code></pre>\n"},{"tags":["c++","qt","qt4","undo"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":861,"score":3,"question_id":4213349,"title":"Implementing Undo feature (like Ctrl+Z) in Qt/C++","body":"<p>I am using <code>Qt 4.5</code> and <code>C++</code> on Windows XP.</p>\n\n<p>Basically I will be having an UI where the user will enter some data. He can go and modify the values available in the UI. The UI will have basic Qt UI elements like <code>QLineEdit</code>,<code>QTableWidget</code> etc.,</p>\n\n<p>So now, if the user presses <code>Undo</code> button (or <kbd>Ctrl+Z</kbd>) the previous value should be retained in the corresponding UI element. </p>\n\n<p>Say, if there is <code>QLineEdit</code> with the text 25. Now the user modifies to 30. Now by clicking Undo, the older value 25 should be retained.</p>\n\n<p>Like the Undo feature that usually available in many applications. Is there any way to do it? </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13112940,"title":"MS Access and QSqlQuery","body":"<p>My english is not very good but i’ll try to describe my problem.\n So, i have primitive code:</p>\n\n<pre><code>    base = QSqlDatabase::addDatabase(\"QODBC\");\n\n QSettings sets(\"FlowModel\",\"Settings\");\n\n currentBase = sets.value(\"currentBase\").toString();\n\n    base.setHostName(\"localhost\");\n\n    base.setDatabaseName(QString(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DBQ=%1\").arg(currentBase));\n\n if(base.open())\n\n  QMessageBox::information(0,\"Все отлично!\",\"База данных открыта\",\"Ок\");\n\n else\n\n  QMessageBox::information(0,\"Все не ахти!\",base.lastError().text(),\"Ок\");\n\n\n\n QSqlQuery queryMaterials(\"SELECT * FROM Материал\",base);\n\n int fieldNo = queryMaterials.record().indexOf(\"Название\");\n\n int i = 0;\n\n while (queryMaterials.next()) {   \n\n  comboBox-&gt;insertItem(i++,queryMaterials.value(fieldNo).toString());\n\n     }\n\n queryMaterials.clear();\n</code></pre>\n\n<p>It works correctly and combo box takes all materials from Database;\nBut next is going this code:</p>\n\n<pre><code>QSqlQuery queryInfo(\"SELECT * FROM Свойства_материала WHERE Название='Вода'\",base);\n\nfieldNo = queryInfo.record().indexOf(\"P\");\n\npLine-&gt;setText(queryInfo.value(fieldNo).toString());\n</code></pre>\n\n<p>And it didn’t work! Query returns an empty string (”“), but must be a number. I test this SQL-query in Access and there it works correct. Please help to understand what a problem i have.\nThank you.\nP.S. I’m tried to use QSqlQuery::lastError().text() method, but it report me nothing.\nI can’t understand what is that… Because this table can be opened by this code:</p>\n\n<pre><code>QSqlDatabase accessBase = QSqlDatabase::addDatabase(\"QODBC\");\n\n accessBase.setHostName(\"localhost\");\n\n accessBase.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DBQ=D:/ИТ.mdb\");\n\n if(accessBase.open())\n\n  QMessageBox::information(0,\"Все отлично!\",\"База данных открыта\",\"Ок\");\n\n else\n\n  QMessageBox::information(0,\"Все не ахти!\",accessBase.lastError().text(),\"Ок\");\n\n QTableView tableGhost;\n\n QSqlTableModel tableDB;\n\n QString whtpn = QInputDialog::getText(0, \"Какую таблицу открыть?\",\n\n   \"Какую таблицу открыть?\");\n\n tableDB.setTable(whtpn);\n\n tableDB.select();\n\n tableDB.setEditStrategy(QSqlTableModel::OnFieldChange);\n tableGhost.setModel(&amp;tableDB);\n\ntableGhost.show();\n</code></pre>\n\n<p>And all ok. But by query no(</p>\n"},{"tags":["c++","qt","aero-glass"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13125011,"title":"How to use QDwm in Qt gui application","body":"<p>How can i use the QDwm to extend the aero glass in qt window? I don't found any documentation of how to do this. Link: <a href=\"http://sourceforge.net/projects/qdwm/\" rel=\"nofollow\">http://sourceforge.net/projects/qdwm/</a></p>\n"},{"tags":["c++","qt"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2263,"score":3,"question_id":9370264,"title":"Qt & C++: Error: symbol(s) not found for architecture x86_64, collect2: ld returned 1 exit status","body":"<p>I have been struggling for a while with an issue on Qt.</p>\n\n<p>Here is my code:</p>\n\n<p>hexbutton.h:</p>\n\n<pre><code>#ifndef HEXBUTTON_H\n#define HEXBUTTON_H\n\n#include &lt;QPushButton&gt;\n#include &lt;QWidget&gt;\n#include &lt;QIcon&gt;\n\nclass HexButton : public QPushButton\n{\n    Q_OBJECT\n\npublic:\n    HexButton(QWidget *parent, QIcon &amp;icon, int i, int j);\n\npublic slots:\n    void changeIcon();\n};\n\n#endif // HEXBUTTON_H\n</code></pre>\n\n<p>Hexbutton.cpp:</p>\n\n<pre><code>#include \"hexbutton.h\"\n\nHexButton::HexButton(QWidget *parent, QIcon &amp;icon, int i , int j) : QPushButton(parent){\n    //setFlat(true);\n    setIcon(icon);\n    setGeometry((i*40)+((j*40)/2), j*40, 40, 40);\n}\n\nvoid HexButton::changeIcon(){\n        setIcon(QIcon(\"/Users/jonathanbibas/Documents/Workspace Qt/Test/hexagon.gif\"));\n}\n</code></pre>\n\n<p>MyWindow.h:</p>\n\n<pre><code>#ifndef MYWINDOW_H\n#define MYWINDOW_H\n\n#include &lt;QApplication&gt;\n#include &lt;QWidget&gt;\n#include &lt;QPushButton&gt;\n#include &lt;QLCDNumber&gt;\n#include &lt;QSlider&gt;\n#include &lt;QProgressBar&gt;\n#include \"hexbutton.h\"\n\n\n\nclass MyWindow : public QWidget\n{\n\npublic:\n    MyWindow();\n    ~MyWindow();\n\nprivate:\n    HexButton * myButtons[11][11];\n};\n\n\n\n#endif // MYWINDOW_H\n</code></pre>\n\n<p>MyWindow.cpp:</p>\n\n<pre><code>#include \"MyWindow.h\"\n#include &lt;QColor&gt;\n#include &lt;QIcon&gt;\n\n\nMyWindow::MyWindow() : QWidget() {\n\n\n    setFixedSize(740, 440);\n\n    QIcon icon = QIcon(\"/Users/jonathanbibas/Documents/Workspace Qt/Test/whitehexagon.png\");\n\n    for(int i =0 ; i &lt; 11 ; i ++){\n        for(int j =0 ; j &lt; 11 ; j ++){\n\n\n            myButtons[i][j] = new HexButton(this, icon, i, j);\n\n            QObject::connect(myButtons[i][j], SIGNAL(clicked()), myButtons[i][j], SLOT(changeIcon()));\n        }\n    }\n}\n\n\n\nMyWindow::~MyWindow()\n{\n    delete myButtons;\n\n}\n</code></pre>\n\n<p>And finally, Main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"MyWindow.h\"\n\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n        MyWindow fenetre;\n        fenetre.show();\n\n        return app.exec();\n}\n</code></pre>\n\n<p>Just in case, here is the Test.pro</p>\n\n<pre><code>SOURCES += \\\n    Main.cpp \\\n    MyWindow.cpp \\\n    hexbutton.cpp\n\nHEADERS += \\\n    MyWindow.h \\\n    hexbutton.h\n</code></pre>\n\n<p>And I get the 2 errors:</p>\n\n<p>1) symbol(s) not found for architecture x86_64</p>\n\n<p>2) collect2: ld returned 1 exit status</p>\n\n<p>It also says 121 times (11*11):</p>\n\n<p>Object::connect: No such slot QPushButton::changeIcon() in ../Test/MyWindow.cpp:19</p>\n\n<p>and on the compile output it says:</p>\n\n<p>18:22:15: Running build steps for project Test...\n18:22:15: Configuration unchanged, skipping qmake step.\n18:22:15: Starting: \"/usr/bin/make\" -w\nmake: Entering directory <code>/Users/jonathanbibas/Documents/Workspace Qt/Test-build-desktop-Desktop_Qt_4_8_0_for_GCC__Qt_SDK__Debug'\ng++ -c -pipe -g -gdwarf-2 -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -Wall -W -DQT_GUI_LIB -DQT_CORE_LIB -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/mkspecs/macx-g++ -I../Test -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/lib/QtCore.framework/Versions/4/Headers -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include/QtCore -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/lib/QtGui.framework/Versions/4/Headers -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include/QtGui -I../../../QtSDK/Desktop/Qt/4.8.0/gcc/include -I. -I../Test -I. -F/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -o hexbutton.o ../Test/hexbutton.cpp\ng++ -headerpad_max_install_names -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -o Test.app/Contents/MacOS/Test Main.o MyWindow.o hexbutton.o moc_MyWindow.o   -F/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -L/Users/jonathanbibas/QtSDK/Desktop/Qt/4.8.0/gcc/lib -framework QtGui -framework QtCore \nUndefined symbols for architecture x86_64:\n  \"vtable for HexButton\", referenced from:\n      HexButton::HexButton(QWidget*, QIcon&amp;, int, int)in hexbutton.o\n      HexButton::HexButton(QWidget*, QIcon&amp;, int, int)in hexbutton.o\n  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\nmake: *** [Test.app/Contents/MacOS/Test] Error 1\nmake: Leaving directory</code>/Users/jonathanbibas/Documents/Workspace Qt/Test-build-desktop-Desktop_Qt_4_8_0_for_GCC__Qt_SDK__Debug'\n18:22:20: The process \"/usr/bin/make\" exited with code 2.\nError while building project Test (target: Desktop)\nWhen executing build step 'Make'</p>\n\n<p>Apparently the error comes from the Q_OBJECT (needed for the slots definition), but there is something wrong with my code, not with my compiler (because I have when slots are in MainWindow, it works fine).</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["c++","qt","winapi"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":190,"score":1,"question_id":11813782,"title":"Using Win32 API in QT for Windows","body":"<p>i'm migrating from .net C# to QT C++, and I'm trying to use this Win32 function to emulate drive in QT:</p>\n\n<pre><code>[DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\nprivate static extern bool DefineDosDevice(int flags, string devname, string path);\n\n[DllImport(\"kernel32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\nprivate static extern int QueryDosDevice(string devname, StringBuilder buffer, int bufSize);\n</code></pre>\n\n<p>The code above is in C# but i'm have no idea how to use them in QT, someone can give me an example how to do this and how to use any Win32 API in QT?</p>\n"},{"tags":["qt","qt4","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13119534,"title":"Resize images inside qt-label","body":"<p>I have a qt label which by default has a place holder image in it:</p>\n\n<pre><code>self.label.setPixmap(QtGui.QPixmap(_fromUtf8(\"place_holder.jpg\")))\n</code></pre>\n\n<p>There is a function to update the image contained in the label which is:</p>\n\n<pre><code>def selectFile(self):\nimage = QtGui.QFileDialog.getOpenFileName(None, 'Select Reference Image', '', '*.jpg')\nself.label.setPixmap(QtGui.QPixmap(_fromUtf8(image)))\n</code></pre>\n\n<p>This works fine (the image is updated), but it is also deformed if the image used to update the label has different size from the place holder image.</p>\n\n<p>Is there any way to fix this? I mean to adapt the image and to keep fix the size of the label?</p>\n"},{"tags":["qt","permissions","qdir"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13081612,"title":"QDir::mkPath and Permissions","body":"<p>I am working on Ubuntu 12.04 LTS and 10.04 LTS platforms and I am having a problem with QDir::mkPath.\nI am trying to create a path using mkPath, lets say /john/play/games and then copy a file game.htm to the /home/john/play. After I copy the file I set the permissions on the file to rwxr - - r - -. So that 3rd party applications can read the file game.htm. But the directories /john, /john/play and /john/play/games are created with permissions drwxr - x - - - due to which other applications and other users are not able to read the file game.htm.</p>\n\n<p>I have also observed in a different application that the same QDir::mkpath creates the dir with drwxr - xr - x . I want to understand with what permissions does QDir::mkpath creates the directories and how to control or set the permissions.</p>\n"},{"tags":["c++","regex","qt","directory","nsregularexpression"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":89,"score":0,"question_id":13122492,"title":"Regular expression for valid folder name c++ (windows)","body":"<p>I am trying to valid a given folder name using a regular expression, I tried some tests and it works fine, please let me know if I am totally safe or  my reg expression miss something:</p>\n\n<pre><code> QRegExp regExp(\"^( [a-zA-Z] )( ( [a-zA-Z_\\-\\s0-9\\.\\)\\(] )( [^\\\\!@#$%^&amp;/:*?&lt;&gt;\"\"|]* ) )*$\" );\n        QStringList ForbidenNameU;\n        ForbidenNameU&lt;&lt;\"CON\"&lt;&lt;\"PRN\"&lt;&lt;\"AUX\"&lt;&lt;\"NUL\"&lt;&lt;\"COM\"&lt;&lt;\"COM1\"&lt;&lt;\"COM2\"&lt;&lt;\"COM3\"&lt;&lt;\"COM4\"&lt;&lt;\"COM5\"&lt;&lt;\"COM6\"&lt;&lt;\"COM7\"&lt;&lt;\"COM8\"&lt;&lt;\"COM9\"&lt;&lt;\"LPT\"&lt;&lt;\"LPT1\"&lt;&lt;\"LPT2\"&lt;&lt;\"LPT3\"&lt;&lt;\"LPT4\"&lt;&lt;\"LPT5\"&lt;&lt;\"LPT6\"&lt;&lt;\"LPT7\"&lt;&lt;\"LPT8\"&lt;&lt;\"LPT9\";\n        QStringList ForbidenName;\n        ForbidenName&lt;&lt;\"con\"&lt;&lt;\"prn\"&lt;&lt;\"aux\"&lt;&lt;\"nul\"&lt;&lt;\"com\"&lt;&lt;\"com1\"&lt;&lt;\"com2\"&lt;&lt;\"com3\"&lt;&lt;\"com4\"&lt;&lt;\"com5\"&lt;&lt;\"com6\"&lt;&lt;\"com7\"&lt;&lt;\"com8\"&lt;&lt;\"com9\"&lt;&lt;\"lpt\"&lt;&lt;\"lpt1\"&lt;&lt;\"lpt2\"&lt;&lt;\"lpt3\"&lt;&lt;\"lpt4\"&lt;&lt;\"lpt5\"&lt;&lt;\"lpt6\"&lt;&lt;\"lpt7\"&lt;&lt;\"lpt8\"&lt;&lt;\"lpt9\";\n\n        if((Dirname-&gt;text().contains(regExp))&amp;&amp; !ForbidenNameU.contains(Dirname-&gt;text())&amp;&amp; !ForbidenName.contains(Dirname-&gt;text()))\n        {\n            validname=true;\n            qDebug()&lt;&lt;\"match in dir name = \"&lt;&lt;regExp.cap(0);\n            emit completeChanged();\n        }...\n</code></pre>\n\n<p>PS(I don't want to use <code>GetInvalidFileNameChars()</code> or any other api )</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c++","windows","qt","memory","memory-leaks"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13122851,"title":"How to Detect Memory leaks for Qt windows desktop application, using QtCreator","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4527325/memory-leak-checking-on-windows-with-qt-and-mingw32\">Memory leak checking on Windows with QT and MinGW32</a>  </p>\n</blockquote>\n\n\n\n<p>I have looked for a solution to this problem for a while, and have not been able to find anything. I need to be able to detect small memory leaks in my Qt application, which I develop in QtCreator. <a href=\"http://stackoverflow.com/questions/6825376/how-to-detect-memory-leaks-in-qtcreator-on-windows\">this question</a> talks about detecting Qt memory leaks in Qt applications, but not through QtCreator. I would run my application on a linux machine and use Valgrind, but I have some windows specific stuff in it, so it's not fully portable. Can anyone help?</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13121554,"title":"Howto serialize and deserialize between unknown typedef struct and QByteArray","body":"<p>I am an absolute beginner to C++ and Qt.</p>\n\n<p>I am broadcasting different data via tcp using Qt. The process of sending and retrieving data works fine but I have problems on interpreting the data on the receivers side.</p>\n\n<p>The data is represented in different structs which have in common that they have a commandId and a state. The rest could be anything like an error message, a filename or something else. This code is not written on my own and I am not allowed to change it (e.g: define and implement a common interfaces...)</p>\n\n<pre><code>typedef struct\n{\n  uint8_t commandId;\n  State state;\n  //special data\n  QString errorMessage;\n} Command1;\n\ntypedef struct\n{\n  uint8_t commandId;\n  State state;\n  //special data\n  uint8_t amountSensors;\n} Command2;\n\nenum State {\n  STATID_PAUSE = 50000\n  STATID_RECORD = 50001\n  STATID_PLAY = 50002\n  STATID_ERROR = 50003\n}\n</code></pre>\n\n<p>The sender is converting a struct into a QByteArray this way:</p>\n\n<pre><code>Command1 example;\nexample.commandId = 134;\nexample.state = STATID_ERROR;\n\nchar *p_Char;\np_char = reinterpret_cast&lt;char*&gt;(&amp;example);\nQByteArray qba(p_char, sizeof(p_char));\n</code></pre>\n\n<p>Now I have to write a receiver, but the receiver doesn't know what he gets (Command1, Command2 or something else). He would be able to interpret if he could read out the commandId and the state.</p>\n\n<p>At this moment I am able to read out the commandId   like this:</p>\n\n<pre><code>commandId = static_cast&lt;uint8_t&gt;(qba[0]);\n</code></pre>\n\n<p>but how could I read out the <code>State</code> which is an <code>enum</code>?</p>\n"},{"tags":["qt","drag-and-drop","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12668797,"title":"Qt: Reordering ListView Items using drag and drop","body":"<p>I have implemented the following methods for drag and drop</p>\n\n<pre><code>void mousePressEvent(QMouseEvent *event);\nvoid dragEnterEvent(QDragEnterEvent *event);\nvoid dragMoveEvent(QDragMoveEvent *event);\nvoid dropEvent(QDropEvent *event);\nvoid startDrag(Qt::DropActions supportedActions);\n</code></pre>\n\n<p>I have a QListView and have used setIndexWidget() to show a custom widget at each modelindex. I am trying to arrange the items in the listview using drag and drop, However the items in the listview are not arranged properly, I have written the following code:-</p>\n\n<pre><code>MyListView::MyListView(QWidget *parent) :\n    QListView(parent)\n{\n    setSelectionMode(QAbstractItemView::SingleSelection);\n    setDragEnabled(true);\n    setAcceptDrops(true);\n    setDragDropMode(QAbstractItemView::InternalMove);\n    setDefaultDropAction(Qt::MoveAction);\n    setDropIndicatorShown(true);\n    setDragDropOverwriteMode(true);\n    setMovement(QListView::Snap);\n    setFlow(QListView::TopToBottom);\n//    setStyleSheet(\"QListView::item {\"\n//                  \"height: 50px;\"\n//                  \"border: 1px solid black;}\");\n}\n\nvoid MyListView::setModel(QAbstractItemModel *model)\n{\n    QListView::setModel(model);\n\n    for (int i=0; i&lt;model-&gt;rowCount(); i++)\n    {\n        QModelIndex index = model-&gt;index(i,0);\n        ListWidgetItem *widget = new ListWidgetItem;\n        widget-&gt;setIndex(i);;\n        setIndexWidget(index,widget);\n    }\n}\n\nvoid MyListView::mousePressEvent(QMouseEvent *event)\n{\n    QModelIndex i = indexAt(event-&gt;pos());\n    if (event-&gt;button() ==  Qt::LeftButton)\n    {\n        ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(event-&gt;pos()));\n\n        if (!item)\n            return;\n\n        y = event-&gt;pos().y()-item-&gt;pos().y();\n\n        QModelIndex indx = indexAt(event-&gt;pos());\n        currentPixmap = QPixmap::grabWidget(item);\n        dragPoint = event-&gt;pos();\n        if (event-&gt;pos().x() &lt; 25 &amp;&amp; indx.row() &gt;= 0)\n            startDrag(Qt::MoveAction);\n    }\n}\n\nvoid MyListView::dragEnterEvent(QDragEnterEvent *event)\n{\n   if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\"))\n   {\n       event-&gt;accept();\n   }\n    else\n        event-&gt;ignore();\n}\n\nvoid MyListView::dragMoveEvent(QDragMoveEvent *event)\n{\n    ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(event-&gt;pos()));\n    if(!item)\n        return;\n\n    itemList.append(item);\n\n    foreach (ListWidgetItem *widget,itemList)\n    {\n        if (widget == item)\n            widget-&gt;setStyleSheet(\"#ListWidget { border-top: 2px solid red; }\");\n        else\n            widget-&gt;setStyleSheet(\"#ListWidget { border-top: 0px solid black; }\");\n    }\n    if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\"))\n    {\n        event-&gt;setDropAction(Qt::MoveAction);\n        event-&gt;accept();\n    } else\n        event-&gt;ignore();\n}\n\nvoid MyListView::dropEvent(QDropEvent *event)\n{\n    if (event-&gt;mimeData()-&gt;hasFormat(\"application/x-QListView-DragAndDrop\")) {\n        QByteArray itemData = event-&gt;mimeData()-&gt;data(\"application/x-QListView-DragAndDrop\");\n        QDataStream dataStream(&amp;itemData,QIODevice::ReadOnly);\n\n        QPoint itemPoint;\n        dataStream &gt;&gt; itemPoint;\n\n        ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt; (childAt(itemPoint));\n        if(!item)\n            return;\n\n        QModelIndex index = indexAt(event-&gt;pos());\n        int row = index.row();\n        model()-&gt;insertRows(row,1);\n\n        QModelIndex idx =model()-&gt;index(row,0);\n        setIndexWidget(idx,item);\n\n        if (event-&gt;source() == this) {\n            event-&gt;setDropAction(Qt::MoveAction);\n            foreach (ListWidgetItem *widget,itemList)\n            {\n                widget-&gt;setStyleSheet(\"#ListWidget { border-top: 0px solid black; }\");\n            }\n            itemList.clear();\n//            model()-&gt;removeRow(n+1);\n\n            event-&gt;accept();\n        }\n    } else{\n        event-&gt;ignore();\n    }\n}\n\nvoid MyListView::startDrag(Qt::DropActions supportedActions)\n{\n    QByteArray itemData;\n    QDataStream dataStream(&amp;itemData, QIODevice::WriteOnly);\n\n    ListWidgetItem *item = dynamic_cast&lt;ListWidgetItem *&gt;(childAt(dragPoint));\n\n    dataStream &lt;&lt; dragPoint;\n\n    QMimeData *mimeData = new QMimeData;\n    mimeData-&gt;setData(\"application/x-QListView-DragAndDrop\", itemData);\n\n    drag = new QDrag(this);\n    drag-&gt;setMimeData(mimeData);\n    drag-&gt;setHotSpot(mapToParent(QPoint(item-&gt;x(),y)));\n    drag-&gt;setPixmap(currentPixmap);\n\n    QModelIndex indx = indexAt(dragPoint);\n    if (drag-&gt;exec(Qt::MoveAction | Qt::CopyAction) == Qt::MoveAction)\n     {\n        model()-&gt;removeRow(indx.row());\n     }\n\n}\n</code></pre>\n\n<p>I have searched but didnt get any proper solution.\nThanks</p>\n"},{"tags":["multithreading","qt","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13121310,"title":"Adding signal to custom Qthread","body":"<p>I´m trying to add a signal to my qthread, but I get an some errors: </p>\n\n<p>error: undefined reference to `vtable for RFDongleCommunication'</p>\n\n<p>error: undefined reference to `RFDongleCommunication::newLogger(unsigned char, unsigned char)'</p>\n\n<p>This is my header file:</p>\n\n<pre><code>#ifndef RFDONGLECOMMUNICATION_H\n#define RFDONGLECOMMUNICATION_H\n#include &lt;QThread&gt;\n#include \"qextserialport.h\"\n#include &lt;QtGui&gt;\n\nclass RFDongleCommunication: public QThread\n{\n    Q_OBJECT\n\npublic:\n    explicit RFDongleCommunication(QextSerialPort * port);\n\n    QextSerialPort * rfport;\n    QByteArray data;\n\nsignals:\n\n    void newLogger(uchar,uchar);\n\nprivate:\n\n    void run();\n\n};\n\n#endif // RFDONGLECOMMUNICATION_H\n</code></pre>\n\n<p>And the cpp file</p>\n\n<pre><code>#include \"rfdonglecommunication.h\"\n#include \"QDebug\"\n\nRFDongleCommunication::RFDongleCommunication(QextSerialPort * port)\n{\n    rfport=port;\n}\n\nvoid RFDongleCommunication::run()\n{\n    while(!(rfport-&gt;bytesAvailable()));\n    data = rfport-&gt;readAll();\n\n    uchar id = data[1];\n    uchar type = data[2];\n    emit newLogger(id,type); \n}\n</code></pre>\n\n<p>Does anybody see what I´m doing wrong?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13120486,"title":"Adjusting QPen thickness when scaling QGraphicsView?","body":"<p>One amazing feature of <code>QGraphicsView</code> is its ability to scale itself with its scene's content (every QGraphicsItem inserted in the scene actually). The <code>QPixmap</code> that I have inserted scales correctly, meaning that if I provide a scale factor of 4x4 with this:</p>\n\n<pre><code>view-&gt;scale(4,4);\n</code></pre>\n\n<p>Pixmap are zoomed as I want to do.</p>\n\n<p>But this is not the case of the rects that I am used to drawing; they aims to surrounds the pixmaps that I draw on my scene and regardless of the scale factor, they keep a thickness of 1 instead of - I guess - 4.</p>\n\n<p>I have been searching documentation about all of that stuff, trying to figure out the exact purpose of \"cosmetics pen\", but I still can't manage to make my rectangle go thicker.</p>\n\n<p>Last notice: I have a custom <code>QGraphicsItem</code> and the QPen which is used to draw the rectangled is instanciated on-the-fly in the </p>\n\n<pre><code>virtual void paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget *widget);\n</code></pre>\n\n<p>method.</p>\n\n<p>Does it matter?</p>\n\n<p>Thanks in advance and apologies for my lack of experience / knowledge in both the Qt framework and the drawing algorithms fields...</p>\n"},{"tags":["qt","compiler-errors"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1212,"score":3,"question_id":2872005,"title":"qt moc.exe error","body":"<p>i'm using QT Creator 1.3.1 and trying to compile, but get this error...\nplease help me get rid of it</p>\n\n<pre><code>mingw32-make[1]: Leaving directory `C:/Documents and Settings/eyalk/My Documents/My QT Projects/XML'\nmingw32-make: Leaving directory `C:/Documents and Settings/eyalk/My Documents/My QT Projects/XML'\n'C:/Qt/2010.02.1/qt/bin\\moc.exe' is not recognized as an internal or external command,\noperable program or batch file.\nmingw32-make[1]: *** [debug/moc_mainwindow.cpp] Error 1\nmingw32-make: *** [debug] Error 2\nExited with code 2.\nError while building project XML\nWhen executing build step 'Make'\n</code></pre>\n"},{"tags":["qt","installation","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13120443,"title":"Qt Creator issue : Cannot open include file: ‘windows.h’","body":"<p>I have installed ‘Qt Creator 2.4.1 Based on Qt 4.7.4 (32 bit)’ on Windows 7 with Visual studio 2008. But on creating the basic project am getting following error :</p>\n\n<pre><code> c:\\qtsdk\\desktop\\qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\\..\\win32-msvc2005\\qplatformdefs.h:67: \nerror: C1083: Cannot open include file: 'windows.h': No such file or directory\n</code></pre>\n\n<p>Also I checked the windows.h its present in following location : C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0A\\Include\\</p>\n\n<p>I would like to mention that I can’t use the MinGW target due to project specifications.</p>\n\n<p>Requesting everyone to help me out of this situation.</p>\n"},{"tags":["c++","qt","modal-dialog","messagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":13118914,"title":"Modal QMessageBox does not behave like native Windows dialogs","body":"<p>My application has a dialog that asks the user via a <code>QMessageBox</code> whether he wants to discard all changes he made or wants to keep editing. I want this dialog to be modal to the whole application.</p>\n\n<p>I read somewhere that this is the standard behavior for a <code>QMessageBox</code>, so I dont have to set it explicitly with something like:</p>\n\n<pre><code>mbox.setWindowModality(Qt::ApplicationModal);\n</code></pre>\n\n<p>I wonder why it behaves differently from other modal dialogs in the OS (Windows 7 in my case). On the one hand it functions like it should, i.e. all other input methods in the application are blocked until the user answeres the dialog. However, it doesn't 'blink'* if the user clicks any other window of the application. Is there any way to get Qt to behave like a native Windows dialog?</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>*<em>If you don't know what I mean with this 'blinking': Just open notepad on a Windows OS, type some text and try to close it. A dialog pops up that asks to save, discard or keep editing. Now click somewhere on the editor window -> the border and titlebar of the dialog flashes/blinks a few times.</em></p>\n"},{"tags":["qt","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13118549,"title":"Qt: how do I populate QTableWidget with data from table?","body":"<p>I have a QTableWidget and need to fill it with data from a db table. How do I do it?</p>\n\n<p>I previously used QTableView:</p>\n\n<pre><code>ui-&gt;tableView-&gt;setModel(model);\n</code></pre>\n\n<p>I hoped there would be a similar way for QTableWidget, but this class does not have setModel method. What is the basic approach?</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","layout","widget"],"answer_count":9,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":2125,"score":8,"question_id":1874426,"title":"Hiding Qt widget and keeping widget space","body":"<p>In a simple form I made a few buttons and put a horizontal layout. When mouse leaves the area one of the buttons, the last one, should be hided. Using button->hide() it works, but all the buttons are rearranged by the layout manager. What I want is that all other buttons continue in their positions. I tried replacing the widget with a widget place holder and swapping the button and placeholder hide()/show(), calling placeholder->resize(button->size()), but the layout manager don't respect the resize and the placeholder is set with its minimum size. What is the best way to remove a widget and keeping its space?</p>\n"},{"tags":["qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13118307,"title":"Qt: QTableView how to add a row?","body":"<p>I have got a QTableView with data in it. What is the simplest way to add a row?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","class","data","static"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":13111944,"title":"C++ static class for data storing","body":"<p>I'm pretty new to C++ language. I'm using it with Qt to create a cross-platform user interface.\nThe user interface will show different graphs and plots by using the same data. So I would like to have my data stored in a class (Data_Class) accessible from all the other classes.\nIn the data class, I am using private static variables and public static methods (get/set).</p>\n\n<p>What is not clear to me is how to access the data class from the other classes. In other words, how to get data values in Class_B (from Data_Class) after I write them in Class_A (to Data_Class).\nThanks in advance!</p>\n"},{"tags":["qt","memory-leaks","model","qthread","qtreeview"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13117869,"title":"QThread and creating new object for main gui thread","body":"<p>Good day, now i write program where a use QThread and derived work to some long task.I have a model and subclass of QTreeView, i create root node for model in main guithread then i separate my work to some threads code like this: </p>\n\n<pre><code>struct node:public QObject\n        {\n            node(node *parent):QObject(parent){}\n        };\n        class ModelEx:public QAbstractItemModel\n        {\n        Q_SLOTS:\n            void inserted(node *item)\n            {\n                beginInsertRows()\n                    root-&gt;insert(item);\n                endInsertRows()\n            }\n        };\n        class Worker: public QThread\n        {\n        public: Worker(node *root,QString driver_name):root_(root),is_stop(false){}\n                void run()\n                {\n                     node *drive = new node(nullptr);\n                     root-&gt;add_node(drive);\n                    while(is_stop)\n                    {\n                        //many many nodes create here\n                        node *child = new node(drive);\n                        insert(child);\n                    }\n                      drive-&gt;moveToThread(root_-&gt;threadid());\n                      drive-&gt;setParent(root_);\n                }\n                void stop()\n                {\n                    is_stop=true;\n                }\n        Q_SIGNALS:\n            void insert(node *);\n        private:\n            node *root_;\n            bool is_stop;\n        }\n        //in main thread:\n            node *root_s = new node();\n            ModelEx *model = new ModelEx(root_s);\nQStringList drives = QDir::drives()\nfor(auto it = drives.begin();it!=drives.end;++it)\n{\n            Worker worker* =new Worker(root_s,*it);            \n            connect(worker,SIGNAL(insert(node *)),model,SLOT(inserted(node *item)));\n    worker-&gt;start();\n}\n</code></pre>\n\n<p>in this code in each thread i create new nodes notify my model where this nodes inserted to the tree and in end run function i want to move all generated sub tree connect to main root, but my view not display anything,why? and how can i solve my main problem fill tree in separated threads and refresh model immediate?And i would like to get tree which delete subnodes when parent deleted, it is famous for my. </p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13117297,"title":"why QProcess doesn't work properly?","body":"<p>I want zip and unzip a file with <code>QProcess</code> class. This part of code didn't work for me but it works in another program:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QProcess&gt;\n#include &lt;QDebug&gt;\n#include &lt;QFile&gt;\nint main(int argc, char *argv[])\n\n{\n    QCoreApplication a(argc, argv);\n    QString fileName = \"C:/1.xml\";\n    QFile::setPermissions( fileName , QFile::ReadOther | QFile::WriteOther | File::ExeOther ); \n    QProcess *myProcess = new QProcess();\n    myProcess-&gt;setStandardErrorFile(\"C:/tidy-output.txt\");\n    QStringList arguments;\n    arguments &lt;&lt; \"-r\" &lt;&lt; fileName &lt;&lt; \"OPS\";\n    myProcess-&gt;start(\"zip\", arguments);\n\n    if( !myProcess-&gt;waitForFinished() )\n        return -1;\n\n    if( myProcess-&gt;exitCode() != 0 )\n        qDebug() &lt;&lt; \"zip exit code: \" &lt;&lt; myProcess-&gt;exitCode();//return 3\n\n    delete myProcess;\n    qDebug() &lt;&lt; \"Done.\";\n\n    return a.exec();\n}\n</code></pre>\n\n<p>But this part of code works for tidy program with this ghange:</p>\n\n<pre><code>QString tmpFilename = \"C:/1.xml\";\nQFile::setPermissions( tmpFilename , QFile::ReadOther | QFile::WriteOther | QFile::ExeOther  );\n\n// run them through HTML Tidy first\nQProcess *myProcess = new QProcess();\n    myProcess-&gt;setStandardErrorFile(\"C:/tidy-output.txt\");\nQStringList arguments;\n    arguments &lt;&lt; \"-utf8\" &lt;&lt; \"-asxhtml\" &lt;&lt; \"-m\" &lt;&lt; tmpFilename;\nmyProcess-&gt;start(\"tidy\", arguments);\n\nif( !myProcess-&gt;waitForFinished() )\n    return -1;\nif( myProcess-&gt;exitCode() == 2 )\n    qDebug() &lt;&lt; \"tidy exit code: \" &lt;&lt; myProcess-&gt;exitCode();\n\nqDebug() &lt;&lt; \"Done.\";\n</code></pre>\n"},{"tags":["qt","ms-access"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13117498,"title":"Qt, strange behaviour of query to *.mdb","body":"<p>Good day for all! I write code:</p>\n\n<pre><code>AccessDBWorker::AccessDBWorker()\n{\n    mDb = QSqlDatabase::addDatabase(\"QODBC\");\n    mDb.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DSN='';DBQ=C:\\\\Base\\\\base.mdb\");\n    if (!mDb.open()) \n    {\n        qDebug() &lt;&lt; \"opening failed\";\n    }\n    QSqlQuery query;\n    query.prepare(\"SELECT * FROM Stations\");\n    if( query.exec() )\n    {\n        while( query.next() )\n        {\n            QVariant id        = query.value(1);\n        }\n    }\n}\n</code></pre>\n\n<p>It works good. But when I take out query execution to other method i receive error: \"driver not loaded\". Why???</p>\n\n<pre><code>AccessDBWorker::AccessDBWorker()\n{\n    mDb = QSqlDatabase::addDatabase(\"QODBC\");\n    mDb.setDatabaseName(\"DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DSN='';DBQ=C:\\\\Base\\\\base.mdb\");\n    if (!mDb.open()) \n    {\n        qDebug() &lt;&lt; \"opening failed\";\n    }\n}\n\nvoid AccessDBWorker::GetList()\n{\n     QSqlQuery query;\n     bool r = query.prepare(\"SELECT * FROM Stations\");\n     if( query.exec() )\n     {\n         while( query.next() )\n         {\n        int id = query.value(1).toInt();\n         }\n     }\n     qDebug() &lt;&lt; mDb.lastError(); // Error: driver not loaded\n</code></pre>\n\n<p>When i use QSQLITE driver and base.sqlite, this code works fine.</p>\n\n<p>Thank you. Sorry for my english.</p>\n"},{"tags":["c++","qt","gcc","windows-vista","stack-size"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13113971,"title":"Setting stack size with GCC 4.6.2 C++ Qt, MinGW, Vista","body":"<p>I want to increase the stack size of my program because I have a complex recursive algorithm it would be a REAL pain to rewrite iteratively.</p>\n\n<p>I am using GCC C++ 4.6.2. MinGw, building with a Qt .pro file (I'm using Qt for the GUI front end), on Vista.</p>\n\n<p>Advice on this website is to use:-</p>\n\n<pre><code>gcc -Wl,--stack,4194304\n</code></pre>\n\n<p>and to send this to the g++ link phase with:-</p>\n\n<pre><code>LIB += -Wl,--stack,4194304\n</code></pre>\n\n<p>but the linker errors with:-</p>\n\n<blockquote>\n  <p>g++: error: unrecognized option '--stack,4194304'</p>\n</blockquote>\n\n<p>I have tried sending the options to the compile phase with QMAKE_CXXFLAGS += but g++ still barfs.</p>\n\n<p>The only option that does not barf is -fno-stack-limit from the GCC documentation (.pdf 4.5.0, p.260), but my stack still overflows. The other options mentioned in that para. barf.</p>\n"},{"tags":["qt","modal-dialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13116863,"title":"Qt show modal dialog (.ui) on menu item click","body":"<p>I want to make a simple 'About' modal dialog, called from Help->About application menu. I've created a modal dialog window with QT Creator (.ui file). </p>\n\n<p>What code should be in menu 'About' slot?</p>\n\n<p>Now I have this code, but it shows up a new modal dialog (not based on my about.ui):</p>\n\n<pre><code>void MainWindow::on_actionAbout_triggered()\n{\n    about = new QDialog(0,0);\n    about-&gt;show();\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13115577,"title":"QWebView Memory Leak","body":"<p>this is  code</p>\n\n<pre><code>QWebView* webView=new QWebView(this); \n webView-&gt;page()-&gt;setLinkDelegationPolicy(QWebPage::DelegateAllLinks);\nwebView-&gt;load(QUrl(newsUrl));\n</code></pre>\n\n<p>After Delete any case, there will be some memory can not be deleted</p>\n"},{"tags":["java","c++","android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3734,"score":1,"question_id":5422931,"title":"How to build my HelloWorld Android application with Necessitas (qt port)?","body":"<p>I have ant 1.8.2. Latest version of Android SDK, NDK. Thats my build log.</p>\n\n<pre><code>Running build steps for project test2...\nConfiguration unchanged, skipping qmake step.\nStarting: \"/usr/bin/make\" -w\nmake: Вход в каталог `/home/andrew/work/qt/test2-build-android'\nmake: Цель `first' не требует выполнения команд.\nmake: Выход из каталога `/home/andrew/work/qt/test2-build-android'\nThe process \"/usr/bin/make\" exited normally.\nCopy Qt app &amp; libs to Android package ...\nStripping libraries, please wait\nCreating package file ...\nPackage Creation: Running command '/home/andrew/eclipse/apache-ant-1.8.2/bin/ant debug'\nBuildfile: /home/andrew/work/qt/test2/android/build.xml\n\n    [setup] Android SDK Tools Revision 10\n\n    [setup] Project Target: Android 1.5\n    [setup] API level: 3\n    [setup] \n    [setup] ------------------\n    [setup] Resolving library dependencies:\n    [setup] No library dependencies.\n    [setup] \n    [setup] ------------------\n    [setup] \n    [setup] WARNING: No minSdkVersion value set. Application will install on all Android versions.\n    [setup] \n    [setup] Importing rules file: tools/ant/main_rules.xml\n\n-debug-obfuscation-check:\n\n-set-debug-mode:\n\n-compile-tested-if-test:\n\n-pre-build:\n\n-dirs:\n     [echo] Creating output directories if needed...\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/bin\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/gen\n    [mkdir] Created dir: /home/andrew/work/qt/test2/android/bin/classes\n\n-aidl:\n     [echo] Compiling aidl files into Java classes...\n\n-renderscript:\n     [echo] Compiling RenderScript files into Java classes and RenderScript bytecode...\n\n-resource-src:\n     [echo] Generating R.java / Manifest.java from the resources...\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'largeScreens' in package 'android'\n\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'normalScreens' in package 'android'\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'anyDensity' in package 'android'\n     [aapt] /home/andrew/work/qt/test2/android/AndroidManifest.xml:14: error: No resource identifier found for attribute 'smallScreens' in package 'android'\n\nBUILD FAILED\n/home/andrew/eclipse/android-sdk-linux_x86/tools/ant/main_rules.xml:310: null returned: 1\n\nTotal time: 1 second\nPackaging Error: Command '/home/andrew/eclipse/apache-ant-1.8.2/bin/ant debug' failed.Exit code: 1\nError while building project test2 (target: Android)\nWhen executing build step 'Packaging for Android'\n</code></pre>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13109128,"title":"PyQt QAbstractTableModel never updates when rows are added","body":"<p>I've got a PyQt <code>QTableView</code>, hooked up to a <code>QAbstractTableModel</code>, which itself is hooked up to a custom class managing a list of items.  I can insert an item on the end of the list, and it appropriately notifies my model, which then calls <code>beginInsertRows</code> and <code>endInsertRows</code>.  I can verify that it calls both those functions, and the list has updated itself, but the table never calls <code>data</code> to retrieve the updated rows.</p>\n\n<p>What's going on?  How can I fix it?</p>\n\n<pre><code>class FigureTableModel(QAbstractTableModel):\n    def __init__(self):\n        QAbstractTableModel.__init__(self)\n\n        def changed(index):\n            start_index = self.createIndex(index, 0)\n            end_index = self.createIndex(index, COLUMNS - 1)\n            self.dataChanged.emit(start_index, end_index)\n\n        def adding_row(index):\n            self.beginInsertRows(self.createIndex(0, 0), index, index)\n            print 'adding ', index\n\n        def added_row(index):\n            self.endInsertRows()\n            print 'added'\n\n        figures.dataChanged.connect(changed)\n        figures.rowAdding.connect(adding_row)\n        figures.rowAdded.connect(added_row)\n\n    def rowCount(self, parent):\n        return len(figures)\n\n    def columnCount(self, parent):\n        return COLUMNS\n\n    def data(self, index, role):\n        print 'in data'\n        if not index.isValid():\n            return EMPTY\n\n        return figures[index.row()].get_table_item(index.column(), role)\n</code></pre>\n"},{"tags":["c++","qt","dll","so"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12763194,"title":"QPluginLoader instance always returns null","body":"<p>I am in the process of building a Qt application. While I have programmed lots of GUI things before and the framework itself isn't presenting a problem, I have not ever programmed anything (outside of C# .NET applications) that has the capability to load plugins. The project I am trying to build has plugins as an integral part of it and I thought the Qt framework looked nice for this because it was almost universally cross-platform and seems to have a very nice system for plugins.</p>\n\n<p>My problem is this: <em>I can't seem to get the QPluginLoader.instance() method to return anything but a null value</em>.</p>\n\n<p>From my readings, this is because it finds no plugin. I think I am probably forgetting to do something, but I can find very little documentation on actually writing plugins (there are examples, but they aren't incredibly detailed). There are plenty of examples of loading plugins and I think I am doing that right, but I haven't really found an example of actually making a plugin.</p>\n\n<p>This is what I have done:</p>\n\n<p>Using Qt-Creator I have created two projects: A windowed application to pretend that it is my plugin receiving application and a Shared Library project to pretend to be the plugin</p>\n\n<p>In my windowed application I have a header file as follows:</p>\n\n<pre><code>#ifndef PLUGININTERFACE_H\n#define PLUGININTERFACE_H\n\n#include &lt;QtPlugin&gt;\n\nclass QStringList;\n\nclass PluginInterface\n{\npublic:\n    virtual ~PluginInterface() {};\n\n    virtual QStringList messages() const = 0;\n};\n\nQ_DECLARE_INTERFACE(PluginInterface,\n                    \"com.kevincuzner.LearningPlugins.PluginInterface/1.0\")\n\n#endif // PLUGININTERFACE_H\n</code></pre>\n\n<p>In my shared library application I created a class called ATestPlugin (and this is also the TARGET value of the project):</p>\n\n<pre><code>#ifndef ATESTPLUGIN_H\n#define ATESTPLUGIN_H\n\n#include \"ATestPlugin_global.h\"\n#include \"../LearningPlugins/PluginInterface.h\"\n\n#include &lt;QStringList&gt;\n\n\nclass ATESTPLUGINSHARED_EXPORT ATestPlugin : public PluginInterface, public QObject\n{\n\n    Q_OBJECT\n    Q_INTERFACES(PluginInterface)\n\npublic:\n    ATestPlugin();\n\n    virtual QStringList messages() const\n    {\n        //this part is actually defined in the .cpp file, but I don't feel like pasting that here\n        QStringList ret;\n        ret &lt;&lt; \"foo\" &lt;&lt; \"bar\" &lt;&lt; \"noms\" &lt;&lt; \"Hello\";\n\n        return ret;\n    }\n};\n\n#endif // ATESTPLUGIN_H\n</code></pre>\n\n<p>At the end of the ATestPlugin.cpp file I have placed <code>Q_EXPORT_PLUGIN2(ATestPlugin, ATestPlugin)</code></p>\n\n<p>Then in my main.cpp file in the main method I do the following (&amp;w points to the main window):</p>\n\n<pre><code>QString text = QFileDialog::getOpenFileName(&amp;w, \"Get a file\");\nQPluginLoader loader(text);\nQObject* plugin = loader.instance();\nif (plugin)\n{\n    QMessageBox msgBox;\n    msgBox.setText(text);\n    msgBox.exec();\n}\n</code></pre>\n\n<p>When I run the program and select libATestPlugin.so from the build directory of my library project in the file dialog that pops up, I see no message box which means *plugin is null. Previously I had the messagebox always pop up and show the selected file name, so I know that part is working.</p>\n\n<p>Does anyone have any ideas as to what I need to do to make my plugin visible to QPluginLoader?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":11512314,"title":"QPluginLoader cant find module","body":"<p>I have created plugin for my application.It I dont use GDAL library in my code, my application can use this plugin( QPlugin loads it ) and it works fine. But if I use classes from GDAL library QPluginLoader cant load it and errorstring() method returns \"../serverplugin.dll Cant find module\".\nThere are two  exported symbols  qt_plugin_instance и qt_plugin_query_verification_data in plugin dll (I found them with Dependicy walker). QPluginLoader uses the QLibrary class internally to interface the C symbols exported to the DLL. If I dont use GDAL I have only two exported symbols in all plugin at the beginning. When I use GDAL these these two symbols are moved at the end of big list  exported symbols. Maybe these two exported symbols should be at the beginning. \nWhat am I doing wrong?</p>\n"},{"tags":["multithreading","qt","mvc","model-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13113743,"title":"Qt application with MVC and multithreading","body":"<p>This Qt application I am working on has model view controller in main thread, while the data structure under dataModel and the data model are modified by a network working thread (basically it is getting data from server). \nThe application crashes ramdonly. Based on my triage, it shows it crashes at some Qt deep model functions triggered by my data model modification. So I put lock on those data model functions. But now it still crashes. </p>\n\n<p>What is right design for this case? I also tried to promote data model modification to main thread, which means once data structure is changed, it emits a signal to controller, then the slot function in controller modifies the data model. This crashes too. plus this design looks weird. data structure changes model directly seems a better design, but it will keep model in working thread. I looked at a lot of model/view examples, all of them model contains data and model is not in worker thread. So none of them is my case.</p>\n\n<p>Thanks,</p>\n"},{"tags":["c++","qt","osx","eclipse-cdt","cross-compiling"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":688,"score":3,"question_id":6975290,"title":"Cross-compiling in Eclipse CDT with Qt under Mac OSX","body":"<p>Let me list all that I have setup:</p>\n\n<p>OS: Mac OSX - 10.6.8</p>\n\n<p>IDE: Eclipse CDT Indigo</p>\n\n<p>Framework: Qt 4.7.2</p>\n\n<p>As known, the Qt doesn't have integration to Eclipse on Mac, so I installed everything using this tutorial here:\n<a href=\"http://www.hyper-world.de/en/2009/05/13/qt-and-eclipse-under-mac-os-x/\" rel=\"nofollow\">http://www.hyper-world.de/en/2009/05/13/qt-and-eclipse-under-mac-os-x/</a></p>\n\n<p>I was able to compile a simple program to MacOS without a problem.</p>\n\n<p>The issue here is that I need to cross compile my apps to Windows and to Linux. But I'm new to cross compiling, so I need some directions:</p>\n\n<ol>\n<li><p>I used this cross compilers for MacOS here: <a href=\"http://crossgcc.rts-software.org/doku.php\" rel=\"nofollow\">http://crossgcc.rts-software.org/doku.php</a>. Do you guys think that is the best approach?</p></li>\n<li><p>I currently using automatically generated makefiles from Eclipse. Can Eclipse generate, from a single project, 3 different OSs outputs without using external make builders?</p></li>\n<li><p>If I send to another developer this project, can he compile it under Windows or Linux (Ubuntu)?</p></li>\n<li><p>If a step-by-step tutorial can be provided for that or any sample project files for Eclipse with this configs, I appreciate.</p></li>\n</ol>\n"},{"tags":["facebook","qt","login","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":765,"score":1,"question_id":7377222,"title":"Error when login in Facebook Mobile","body":"<p>I have a problem when I try to login to facebook mobile.</p>\n\n<p>I develop program on mobile with Qt QML.</p>\n\n<p>At first, I use this code for a while and it worked fine. But a few days ago, it stopped working as usual.</p>\n\n<p>So, I tried to write a very simple code sample, just for testing, and it gave me a same error.</p>\n\n<p>This is my simple code:</p>\n\n<pre><code>import QtQuick 1.0\nimport QtWebKit 1.0\n\nRectangle {\n  width: 360\n  height: 640\n\n  WebView {\n    id: web\n    //anchors.fill: parent\n    preferredHeight: 640\n    preferredWidth: 360\n    url: \"http://www.facebook.com/dialog/oauth/?scope=email,user_birthday&amp;client_id=MY_APP_ID&amp;redirect_uri=http://www.gimme5.co.cc/login_success.html&amp;response_type=token&amp;display=touch\"\n  }\n\n}\n</code></pre>\n\n<p><em>I already replace the app id when I run it.</em></p>\n\n<p>It gave me an error in a pink square like this:</p>\n\n<pre><code>This page contains the following errors\nerror on line 2 at column 212 : Expected ';' but got '='\nBelow is a rendering of the page up to\n</code></pre>\n\n<p>So, what should I do?</p>\n"},{"tags":["qt","make","install","pyqt","configure"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":263,"score":0,"question_id":7856341,"title":"PyQt make error while compiling the source code","body":"<p>I want to install PyQt for Qt 4.7.4 and i downloaded the packages SIP and <a href=\"http://www.riverbankcomputing.co.uk/software/pyqt/download\" rel=\"nofollow\">PyQt</a> from riverbankcomputing.co.uk.</p>\n\n<p>I configured and installed SIP successfully and configured PyQt successfully. But when i ran <code>make</code> in the terminal i got this error:</p>\n\n<pre><code>/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp: In function ‘PyObject* meth_QThread_currentThreadId(PyObject*, PyObject*)’:\n\n/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp:325:50: error: invalid conversion from ‘void*’ to ‘long unsigned int’\n\n/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore/sipQtCoreQThread.cpp:325:50: error: initializing argument 1 of ‘PyObject* PyLong_FromUnsignedLong(long unsigned int)’\n\nmake[1]: *** [sipQtCoreQThread.o] Error 1\n\nmake[1]: Leaving directory `/home/user/Desktop/PyQt-x11-gpl-4.8.5/QtCore'\n\nmake: *** [all] Error 2 \n</code></pre>\n\n<p>The full log is here: <a href=\"http://www.text-upload.com/read.php?id=176672&amp;c=5376703\" rel=\"nofollow\">http://www.text-upload.com/read.php?id=176672&amp;c=5376703</a></p>\n\n<p>Can you help me fix this error, please? Thank you!</p>\n"},{"tags":["qt","file","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":216,"score":1,"question_id":3859498,"title":"Why is Qt reporting > 14000 errors in this one page source file?","body":"<p>Here is the code:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QProcess&gt;\n#include &lt;QProcessEnvironment&gt;\n\nint main(int argc, char *argv[])\n{\n    QProcessEnvironment env;\n\n    // Environment variables required by CGI apps\n\n    env.insert(\"QUERY_STRING\",      url.encodedQuery());\n    env.insert(\"REQUEST_URI\",       url.toString());\n    env.insert(\"REQUEST_METHOD\",    \"GET\");\n    env.insert(\"REMOTE_ADDR\",       pSocket-&gt;peerAddress().toString());\n\n    //==========\n\n    QProcess process;\n    process.setProcessEnvironment(env);\n    process.start(\"php-cgi\",QProcess::ReadWrite);\n\n    process.write(\"&lt;?php print_r($_GET); ?&gt;\");\n    process.closeWriteChannel();\n\n    process.waitForFinished();\n\n    qDebug(process.readAll().data());\n\n    return 0;\n}\n</code></pre>\n\n<p>Qt Creator reports more than 14000 errors. Here is a small sample of them:</p>\n\n<pre>\nIn file included from ../QProcess/main.cpp:2:\n../QProcess/QProcess:1: error: stray ‘\\177’ in program\n../QProcess/QProcess:1: error: stray ‘\\2’ in program\n../QProcess/QProcess:1: error: stray ‘\\1’ in program\n../QProcess/QProcess:1: error: stray ‘\\1’ in program\nIn file included from ../QProcess/main.cpp:2:\n../QProcess/QProcess:1:8: warning: null character(s) ignored\n../QProcess/QProcess:1: error: stray ‘\\2’ in program\n</pre>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":269,"score":3,"question_id":7654422,"title":"No Keyboard input if QLineEdit on frameless popup window","body":"<p>When a parent widget is defined with:</p>\n\n<pre><code>setWindowFlags(Qt::FramelessWindowHint | Qt::Popup);\n</code></pre>\n\n<p>Any edit box widget placed on top of it will not receive keyboard input. Mouse will work, right click, context menu, paste will work -- but not direct keyboard input. Any ideas why and how it can be fixed?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":710,"score":0,"question_id":3778493,"title":"How to visualize model data in different ways in QTableView?","body":"<p>I have a model containing in one column floats (ex: 22.7). Now, I want that \nin QTableView, it will be visualized together with the unit (MB): 22.7 MB.\nThe reason I am doing so is because I want that sorting is based on floats, but\nthe visualization is as I said with units.</p>\n\n<p>I created a Model, a Filter and a View. But it does not work. Here is a piece of my code:</p>\n\n<pre><code>QStandardItemModel* model = new QStandardItemModel(this);\nQSortFilterProxyModel *filterModel = new QSortFilterProxyModel(0);\nfilterModel-&gt;setSourceModel(model);\n\nQStandardItem* vSItem6 = new QStandardItem();\nvSItem6-&gt;setData(22.7, Qt::DisplayRole); \nmodel-&gt;setItem(1, 7, vSItem6);\nQModelIndex index = model-&gt;index(1, 7, QModelIndex());\nQString itext = model-&gt;data(index, Qt::DisplayRole).toString(); \nfilterModel-&gt;setData(index, itext + \" MB\", Qt::DisplayRole);\n\n\nmUi.tableView-&gt;setModel(filterModel);\nmUi.tableView-&gt;setSortingEnabled(true);\nmUi.tableView-&gt;show();\n</code></pre>\n\n<p>Everything seems to be fine, but in QTableView, only the float number is visualized (without the unit MB). Can anybody please help me? Thanks</p>\n"},{"tags":["sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13112478,"title":"Qt: How to connect to SQLite?","body":"<p>I installed SQLite3 (unpacked to c:/sqlite), created a database (c:/sqlite/mzsales). Now I am trying to show its content in a QTableView.</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QSQLITE\");\ndb.setHostName(\"localhost\");\ndb.setDatabaseName(\"mzsales\");\nbool db_ok = db.open();\n</code></pre>\n\n<p>db_ok is true. Then</p>\n\n<pre><code>QSqlTableModel *model = new QSqlTableModel(0, db);\nmodel-&gt;setTable(\"person\");\nmodel-&gt;setEditStrategy(QSqlTableModel::OnManualSubmit);\nbool tbl_ok = model-&gt;select();\n</code></pre>\n\n<p>tbl_ok is false.</p>\n\n<p>What do I do wrong? How do I connect to db? Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5052,"score":2,"question_id":3016899,"title":"Qt QMainWindow at Close","body":"<p>Hey, this may seem like a very simple question, but I want to dump some data whenever the QMainWindow closes, so I used the following piece of code:</p>\n\n<blockquote>\n  <p>QObject::connect(MainWindow.centralwidget, SIGNAL(destroyed()), this, SLOT(close()));</p>\n</blockquote>\n\n<p>but this doesnt seem to make it call close(). Am I doing this wrong? Isnt the centralwidget suppose to be destroyed? Or perhaps the application closes before close() can be called? Any other ways of doing it then?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","windows-7","shortcuts","hotkeys","modifier-key"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13112466,"title":"modifier key removed in qt menu-shortcuts in win7","body":"<p>I wrote a program in qt-creator 2.4.1 (Qt 4.7.4, 32bit) with a menu. The actions in the menus are assigned to shortcuts with the built in function in qt-cretaor, i.e. instead of clicking on an entry you can press a key-combination. For example \"Ctrl + O\" for open a file.</p>\n\n<p>This works fine for win-xp, where I developed the program. When I use the program on a different machine with win7, the shortcuts a shortened to the letter-part, i.e. for open a file, you only have to press 'O', \"Ctrl + O\" doesn't work anymore. The menu-text is even adapted, in winxp it says \"open file... Ctrl + O\", in win 7 it says \"open file... O\".</p>\n\n<p>I have no idea, what could cause this. Anybody with same experiences, ideas or solutions?</p>\n"},{"tags":["c++","windows","qt","hook"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":51,"score":-1,"question_id":13110587,"title":"Triggering an event in a Qt window from a keyboard hook","body":"<p>I implemented a LowLevelKeyboardProc to record the keyboard key that was pressed, and I'm trying to call an event when it happens, I tried to call a public void but did not work. Is there any method to do this? Trigger event when a variable's value is changed or antother way?\nCode:</p>\n\n<pre><code>HHOOK hhkLowLevelKybd;\n\nLRESULT CALLBACK LowLevelKeyboardProc(int nCode, WPARAM wParam, LPARAM lParam)\n{\n    if (nCode == HC_ACTION)\n    {\n        PKBDLLHOOKSTRUCT p = (PKBDLLHOOKSTRUCT)lParam;\n        int tempkey = (int)p-&gt;vkCode;\n        MainWindow* mw = new MainWindow();\n        mw-&gt;getkey(tempkey);\n        return 1;\n    }\n    return(CallNextHookEx(NULL, nCode, wParam, lParam));\n}\n\nvoid MainWindow::getkey(int key)\n{\n    ui-&gt;label-&gt;setText(QString::number(key));\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    hhkLowLevelKybd = SetWindowsHookEx(WH_KEYBOARD_LL, LowLevelKeyboardProc, 0, 0 );\n}\n\nvoid MainWindow::on_pushButton_2_clicked()\n{\n    UnhookWindowsHookEx(hhkLowLevelKybd);\n}\n</code></pre>\n\n<p>I defined as public void, the code compiles but nothing happens when the program runs.</p>\n"},{"tags":["c++","qt","qmessagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13111669,"title":"Yes/No message box using QMessageBox","body":"<p>I'm looking for the Qt equivalent of the MB_YESNO style message box in winapi, i.e., how to do this:</p>\n\n<pre><code>if (IDYES == MessageBox(hParent, \"title\", \"question\", MB_YESNO)\n{\n\n}\n</code></pre>\n"},{"tags":["qt","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13111291,"title":"Displaying a triangle with Qt and OpenGL","body":"<p>I am trying to display a triangle with OpenGL and Qt but only get a black window.\nWhat am I doing wrong?</p>\n\n<p>glwidget.h:</p>\n\n<pre><code>#pragma once\n#include &lt;QGLWidget&gt;\n\nclass GLWidget : public QGLWidget {\npublic:\n    GLWidget(QWidget *parent = 0);\n   ~GLWidget();\n   QSize sizeHint() const {  return QSize(400, 400); }\n\nprotected:\n    void initializeGL();\n    void paintGL();\n    void resizeGL(int width, int height);\n};\n</code></pre>\n\n<p>glwidget.cpp:</p>\n\n<pre><code>#include \"glwidget.h\"\n\nGLWidget::GLWidget(QWidget *parent) : QGLWidget(parent) {}\n\nGLWidget::~GLWidget(){ }\n\nvoid GLWidget::initializeGL() { }\n\nvoid GLWidget::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    glLoadIdentity();\n    glTranslatef(-1.5f,0.0f,-6.0f);\n\n    glBegin(GL_TRIANGLES);\n     glVertex3f( 0.0f, 1.0f, 0.0f);\n     glVertex3f(-1.0f,-1.0f, 0.0f);\n     glVertex3f( 1.0f,-1.0f, 0.0f);\n    glEnd(); \n}\n\nvoid GLWidget::resizeGL(int w, int h)\n{\n    QGLWidget::resize(w,h);\n}\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n    GLWidget glWidget;\n    glWidget.show();\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["c++","qt","prepare"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13111130,"title":"Qt QSqlQuery prepare and bindValue not working","body":"<p>I have a problem with prepare and bindValue :(</p>\n\n<pre><code>db.open();\nQSqlQuery q;\n    q.prepare(\"SELECT id_malade,nom,prenom FROM Malade WHERE nom LIKE %:p% OR prenom = %:f% ;\");\n    q.bindValue(\":p\",ui-&gt;lineEdit-&gt;text());\n    q.bindValue(\":f\",ui-&gt;lineEdit-&gt;text());\n    qDebug() &lt;&lt; q.boundValue(0) &lt;&lt; \" \" &lt;&lt; q.boundValue(1);\n    qDebug() &lt;&lt; q.executedQuery().toStdString().c_str(); db.close();\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>QVariant(QString, \"zit\")   QVariant(QString, \"zit\") \nSELECT id_malade,nom,prenom FROM Malade WHERE nom LIKE %?% OR prenom = %?% ;\n</code></pre>\n\n<p>I tried to change :p and :f with ? and use int positions in bindValue but no luck.\nThe query got executed with success so I couldn't fetch the exact error.\nI used prepare and bindValue a lot in my program and it works fine the problem is only on this class :/</p>\n"},{"tags":["c++","qt","opengl","opengl-3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":456,"score":1,"question_id":11000014,"title":"Can't set desired OpenGL version in QGLWidget","body":"<p>I'm trying to use QGLWidget in Qt 4.8.2. I noticed that the default context QGLWidget creates doesn't show any output for OpenGL above 3.1. <a href=\"http://qt-project.org/wiki/How_to_use_OpenGL_Core_Profile_with_Qt\" rel=\"nofollow\">The Qt wiki has a tutorial</a> that demonstrates using OpenGL 3.3 to draw a simple triangle. When I try to run the tutorial, I get a blank screen. If I change the OpenGL version to 3.1, I get the expected output (a red triangle).</p>\n\n<p>My video card supports OpenGL 4.2, and calling <code>QGLFormat::openGLVersionFlags()</code> before creating the QGLWidget shows that Qt detects OpenGL 4.2 and all previous desktop versions.</p>\n\n<p>Here's another minimal example:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QGLWidget&gt;\n#include &lt;QDebug&gt;\n#include &lt;QtDeclarative/qdeclarativeview.h&gt;\n\nint main(int argc, char * argv[])\n{\n    QApplication app(argc, argv);\n\n    qDebug() &lt;&lt; \"OpenGL Versions Supported: \" &lt;&lt; QGLFormat::openGLVersionFlags();\n\n    QGLFormat qglFormat;\n    qglFormat.setVersion(4,2);  // get expected output with (3,1) and below, else blank window\n    qglFormat.setProfile(QGLFormat::CoreProfile);\n    qglFormat.setSampleBuffers(true);\n\n    QGLWidget* qglWidget = new QGLWidget(qglFormat);\n\n    QString versionString(QLatin1String(reinterpret_cast&lt;const char*&gt;(glGetString(GL_VERSION))));\n    qDebug() &lt;&lt; \"Driver Version String:\" &lt;&lt; versionString;\n    qDebug() &lt;&lt; \"Current Context:\" &lt;&lt; qglWidget-&gt;format();\n\n    QDeclarativeView mainView;\n    mainView.setViewport(qglWidget);\n    mainView.setSource(QString(\"helloworld.qml\"));\n    mainView.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>OpenGL Versions Supported:  QFlags(0x1|0x2|0x4|0x8|0x10|0x20|0x40|0x1000|0x2000|0x4000|0x8000|0x10000) \nDriver Version String: \"4.2.0 NVIDIA 295.53\" \nCurrent Context: QGLFormat(options QFlags(0x1|0x2|0x4|0x10|0x20|0x80|0x200|0x400) , plane  0 , depthBufferSize  24 , accumBufferSize  16 , stencilBufferSize  8 , redBufferSize  8 , greenBufferSize  8 , blueBufferSize  8 , alphaBufferSize  -1 , samples  4 , swapInterval  0 , majorVersion  4 , minorVersion  2 , profile  1 )  \n</code></pre>\n\n<p>The <code>QFlags()</code> enum list on the first line describes the OpenGL versions supported. The list shows I support all variants except for OpenGL/ES versions. QFlags() on the third line describes format options (alpha channel, stencil buffer, etc).</p>\n\n<p>Anyone know why QGLWidget won't work with anything >= 3.1? I'm on Linux, have an Nvidia GT440, and glxinfo shows it supports OpenGL 4.2.0. The driver version is printed in the sample output above. I'm not too sure what else to try.</p>\n\n<p><em>Edit: I made some pretty bad mistakes/assumptions with my explanation of the problem before this edit. The issue is still similar, but hopefully makes a bit more sense now. Sorry for any confusion.</em></p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":167,"score":-3,"question_id":7013102,"title":"Installing My Qt app on the Symbian test device","body":"<p>after I have finished my code , it run perfectly. i want to try it on a Symbian Device ...</p>\n\n<p>I connected My phone via usb and then i choose Sync and connect\nI am using Qt Creator so i checked for Symbian device down left of the window.... and i run</p>\n\n<p>I got the following error:</p>\n\n<pre><code>No device is connected. Please connect a device and try again.\nError while building project Project (target: Symbian Device)\n</code></pre>\n"},{"tags":["qt","translate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13109034,"title":"How to not translate hot keys with QActions in Qt?","body":"<p>In my current project we are using Qt and its translation system for making the GUI localized for many languages.</p>\n\n<p>My main problem is the translation of hot keys.</p>\n\n<p>When the user opens the main menu he can see all menu items and hot keys associated with them. This information is stored within QAction. When we change the language (for example to arabic) the user can see the translated menu item texts and its hot key will also be translated. But I don't want the hot key to be translated.</p>\n\n<p>I did some research on this problem and found the flag \"translatable\" for shortcuts in QtDesigner. But this flag did not help because it's needed only when we want to add this shortcut to our translate system, for example different hot keys for the same action for different languages.</p>\n\n<p>The main problem in that is that Qt gets the string for any hot key by using <a href=\"https://qt-project.org/doc/qt-4.8/qkeysequence.html#toString\" rel=\"nofollow\"><code>QKeySquence::toString()</code></a>. But this method automatically translates \"Ctrl\", \"Del\", \"Alt\" and other words, using QShortcut context. And all QShortcut translations are stored in the default <code>qm</code> files in Qt that we have included in our project.</p>\n\n<p>So how to <em>not translate</em> hot keys? </p>\n"},{"tags":["qt","qwidget","qtreewidget","qtreewidgetitem"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":9042367,"title":"Why is there a 1 at the top of a QTreeWidget?","body":"<p>There is a 1 at the top of a QtreeWidget. How do i fix it?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13109035,"title":"How to strech the scene with view or how to fix shift while adding (again)","body":"<p>To reduce the amount of text I add the link to my previous topic about shift when drawing:\n<a href=\"http://stackoverflow.com/questions/12963794/draw-shift-when-drawing-on-qgraphicsview\">Draw shift when drawing on QGraphicsView</a></p>\n\n<p>So what is the problem now...</p>\n\n<p>That solutions worked fine before I started to test it on another examples. First I added a lot of vertices (points) on view (about 1000 vertics) and the problem was that my scene hasn't any scroll bars, so 1000 vertices didn't fit on screen.</p>\n\n<p>The code of my class constructor which inherits QGraphicsView was:</p>\n\n<pre><code>GraphWidget::GraphWidget(QWidget *parent)\n    :QGraphicsView(parent)\n{\n    QGraphicsScene *scene = new QGraphicsScene(this);\n    scene-&gt;setItemIndexMethod(QGraphicsScene::NoIndex);\n    scene-&gt;setSceneRect(0, 0, 400, 400);\n    setScene(scene);\n\n    setCacheMode(CacheBackground);\n    setViewportUpdateMode(BoundingRectViewportUpdate);\n    setRenderHint(QPainter::Antialiasing);\n\n\n    generateRandomNodes();\n}\n</code></pre>\n\n<p>I've commented the line </p>\n\n<pre><code>scene-&gt;setSceneRect(0, 0, 400, 400);\n</code></pre>\n\n<p>and problem was fixed - all nodes were adding finely and I scrollbars appeared.</p>\n\n<p>But then I realized that I encountered with the new problem: when I add vertices they [again] appear on wrong places with big shift. Actually when I add first vertex - it appears in the wrong place, when I add second - it appears in the wrong place too + previous vertex is shifted too.</p>\n\n<p>Please help, what should I do? How to solve that and why is it happening?</p>\n\n<p>Thanks. </p>\n"},{"tags":["c++","qt","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13097852,"title":"QListWidget::setEditTriggers(QAbstractItemView::AnyKeyPressed) not working","body":"<p>From the book I'm reading:</p>\n\n<blockquote>\n  <p>By default, QListWidget is read-only. If we wanted the user to edit\n  the items, we could set the view's edit triggers using\n  QAbstractItemView::setEditTriggers(); for example, a setting of\n  QAbstractItemView::AnyKeyPressed means that the user can begin editing\n  an item just by starting to type.</p>\n</blockquote>\n\n<p>So, I call the function in my code:</p>\n\n<pre><code>ui-&gt;listWidget-&gt;setEditTriggers(QAbstractItemView::AnyKeyPressed);\n</code></pre>\n\n<p>But when I select an item and start typing, nothing happens.</p>\n"},{"tags":["qt","qtwebkit","qtgui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13108578,"title":"Default Font-family is not working in QtWebkit if font-family is given wrong?","body":"<p>I have specified default standard font family as below:</p>\n\n<p><strong>QWebSettings::globalSettings()->setFontFamily(QWebSettings::StandardFont,\"Times New Roman\");</strong></p>\n\n<p>Now I have a sample html page as below:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n\n#test1\n{\nfont-family:\"hello\";  \n}\n\n#test2\n{\nfont-family:\"Times New Roman\";\n}\n\n#test3\n{\nfont-family:\"\";\n}\n\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p id='test1'&gt;hello&lt;/p&gt; &lt;!-- does not fallback to default font specified --&gt;\n&lt;p id='test2'&gt;hello&lt;/p&gt;  &lt;!-- Works !! --&gt;\n&lt;p id='test3'&gt;hello&lt;/p&gt; &lt;!-- Works !! fallbacks to default font --&gt;\n&lt;p &gt;hello&lt;/p&gt; &lt;!-- Works !! fallbacks to default font --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have not observed such odd behavior in other webkit based browsers like Chrome and Safari.</p>\n\n<p>Can anyone help me out ?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene","qmainwindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13107244,"title":"Best practice to handle multiple documents in QMdiArea?","body":"<p>I need to design and develop a kind of graphics piece of software, which can edit customised files containing graphical elements, etc.</p>\n\n<p>I expect the piece of software to contain many documents thanks to the <code>QMdiArea</code> which is actually my central widget inside of my <code>QMainWindow</code>.</p>\n\n<p>For each document, I will need both a <code>QGraphicsView</code> and a <code>QGraphicsScene</code> as well, since they work together.</p>\n\n<p>Now... My question is... Should I inherit <code>QGraphicsView</code> with a protected/private member to its own <code>QGraphicsScene</code>, or should I create a class which inherits <code>QWidget</code> and handles instances of <code>QGraphicsView</code> / <code>QGraphicsScene</code> ?</p>\n\n<p>Or is there any solution left that I didn't think about? I'm afraid that I miss skills in software design, especially with Qt.</p>\n\n<p>Many thanks.</p>\n"},{"tags":["qt","qt4","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13105226,"title":"Close the main window and open a new one - PyQt","body":"<p>In PyQt, is it any way to close the main window and open a new one? </p>\n\n<p>In particular, I am trying to close a window and open the same window all over again. I've tried every way I could think of without success (with some resulting in segmentation fault). I need to do this because the new window will have some features according to the parameters that are passed.</p>\n"},{"tags":["c++","visual-studio-2010","qt","linker"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1245,"score":3,"question_id":7231764,"title":"Visual Studio 2010 Qt Link Problem","body":"<p>I spent the weekend trying to figure this out and I'm on the last step. My goal: to get visual studio 2010 and Qt 4.7.3 to work together. </p>\n\n<p>I installed Qt from source, specifying to build with the following configuration:</p>\n\n<p>configure.exe -debug-and-release -opensource -platform win32-msvc2010 -no-webkit -no-phonon -no-phonon-backend -no-script -no-scripttools -no-qt3support -no-multimedia -no-ltcg</p>\n\n<p>After configuration, I ran nmake, no problems.</p>\n\n<p>In my visual studio 2010 solution, I have two projects. \n<img src=\"http://i.imgur.com/iXiTI.png\" alt=\"Image\" title=\"My Visual Studio Solution\">\nIt's complaining that it cannot link the Qt libraries. In the Common properties</p>\n\n<p>AssetIO was originally built using the Qt IDE, and I used the Qt addin within visual studio to import the project. Compiling the project AssetIO works perfectly fine. However, compiling the Short project results in the following linker errors:\n<img src=\"http://i.imgur.com/r6PkI.png\" alt=\"LinkerErrors\" title=\"Linker errors when building the solution\">\nRight click on the Short project, select properties. I added AssetIO as a reference. Clicking on the Configuration properties, VC++ Directories, I have the following Include directories added:</p>\n\n<p><img src=\"http://i.imgur.com/xnBUn.png\" alt=\"Include Directories\" title=\"Include Directories\">\nHere are the library files I have for the project:\n<img src=\"http://i.imgur.com/ntzqb.png\" alt=\"Library Directories\" title=\"Library Directories\">\nRather then post more screen-shots, my include directories for the AssetIO project is:\nC:\\qt_source\\4.7.3\\include</p>\n\n<p>my library directory for the AssetIO project is:\nC:\\qt_source\\4.7.3\\bin</p>\n\n<p>Here is the simple source code of the project I am trying to get working (my simple test project)</p>\n\n<pre><code>main.cpp\nint main(int argc, char* argv[])\n{\n    AssetIO::LevelLoader a;\n    a.dostuff();\n\n    return 0;\n}\n</code></pre>\n\n<p>LevelLoader.h</p>\n\n<pre><code>#ifndef LEVELLOADER_HPP\n#define LEVELLOADER_HPP\n\nnamespace AssetIO\n{\n    class LevelLoader {\n    public:\n        explicit LevelLoader();\n        ~LevelLoader();\n\n        void dostuff();\n    };\n}\n\n#endif // LEVELLOADER_HPP\n</code></pre>\n\n<p>LevelLoader.cpp</p>\n\n<pre><code>#include \"LevelLoader.hpp\"\n#include &lt;QDomDocument&gt;\n#include &lt;QFile&gt;\n#include &lt;QDebug&gt;\n#include &lt;QString&gt;\n\nusing namespace AssetIO;\n\nenum ComponentType { Drawable = 0, Position };\n\n// This will definitely be changed, to return a full-blown component. Passing the tagname directly to the\n// component factory.\nComponentType ConvertToComponentType(QString tagName)\n{\nif(tagName.toLower() == \"Drawable\") {\n    return Drawable;\n}\nelse if(tagName.toLower() == \"Position\") {\n    return Position;\n}\nelse {\n    // LOG\n    exit(EXIT_FAILURE);\n}\n}\n\nLevelLoader::LevelLoader()\n{\n}\n\nLevelLoader::~LevelLoader()\n{\n}\n\nvoid LevelLoader::dostuff()\n{\nQDomDocument doc(\"la\");\nQFile file(\"../../../Resources/input.sto\");\n\nif(!file.open(QIODevice::ReadOnly)) {\n    // TODO: log this, something\n    exit(EXIT_FAILURE);\n}\n\nif( !doc.setContent(&amp;file)) {\n    // TODO: log\n    file.close();\n}\n// we close the file now the doc has control (i think)\nfile.close();\n\n// Read the root element\nQDomElement root = doc.documentElement();\nif(root.tagName() != \"Root\") {\n    // TODO: log\n    exit(EXIT_FAILURE);\n}\n\n// Read the Header Info\nQDomNode headerNode = root.firstChild();\n\nQDomElement e = headerNode.toElement();\nif(e.tagName().toLower() != \"HeaderInfo\") {\n    // LOG\n}\n\nQDomNodeList componentNode = headerNode.childNodes();\nint s = componentNode.count();\n\nQString componentTag(componentNode.at(0).toElement().tagName());\nQDomNamedNodeMap a = componentNode.at(0).attributes();\n}\n</code></pre>\n\n<p>I cannot figure out what I am doing incorrectly. Does anyone have any ideas? I have looked everywhere for a solution.</p>\n"},{"tags":["c++","qt","libraries","creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":55,"score":-3,"question_id":13103376,"title":"Qt: some functions not included","body":"<p>Im starting using Qt for a GUI, but i have some problems with headers/libraries because im missing some functions. </p>\n\n<p>Two of them are:</p>\n\n<p>.setModal(true);\n.exec();</p>\n\n<p>They should work fine as in the video im following:\n<a href=\"http://www.youtube.com/watch?v=wUH_gu2HdQE&amp;feature=relmfu\" rel=\"nofollow\">http://www.youtube.com/watch?v=wUH_gu2HdQE&amp;feature=relmfu</a>\n(at 6:30)</p>\n\n<p>Because i did exacly what he done, so my clue is his version isn't equal mine (oh shit, i hate when they change version and the functions change too!!)</p>\n\n<p>I want to know which header should I include.</p>\n\n<p>Heres my code:</p>\n\n<pre><code>void MainWindow::on_actionNew_Window_triggered()\n{\n    MyDialog mDialog;\n    mDialog.setModal(true);\n    mDialog.exec();\n\n}\n</code></pre>\n\n<p>Even with:</p>\n\n<pre><code>#include &lt;QDialog&gt;\n</code></pre>\n\n<p>Still doesn't work. It says: </p>\n\n<p>C:\\QtSDK\\teste-build-desktop-Qt_4_8_1_for_Desktop_-<em>MinGW</em>_Qt_SDK__Debug..\\teste\\mainwindow.cpp:22: error: 'class MyDialog' has no member named 'setModal'.</p>\n\n<p>mydialog.h code:</p>\n\n<pre><code>#ifndef MYDIALOG_H\n#define MYDIALOG_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QDialog&gt;\n\nnamespace Ui {\nclass MyDialog;\n}\n\nclass MyDialog : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MyDialog(QWidget *parent = 0);\n    ~MyDialog();\n\nprivate:\n    Ui::MyDialog *ui;\n};\n\n#endif // MYDIALOG_H\n</code></pre>\n\n<p>Its included on mainwindow.cpp and (ofc) mydialog.cpp (the header is just the class)</p>\n"},{"tags":["qt","install","osx-snow-leopard","qt-creator","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13103879,"title":"Setup qmake for Qt Creator on Mac","body":"<p>I installed the qt debug and release libraries and qt creator.</p>\n\n<p>I can't make it build because of qmake. How can i make qt creator know of <code>qmake</code>?</p>\n\n<p>I went to <code>Preferences-&gt;Build&amp;Run</code> and click <code>Add</code> but I can't select anything, not even <code>qmake</code> after I find it.</p>\n\n<p>I have qmake, I can run it from the command line but I can't make the <code>QtCreator</code> know about it.</p>\n\n<p>Please help me, I feel like I'm gonna blow up.</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13085314,"title":"QSettings: Copy, modify but avoid changing underlying .ini file","body":"<p>I read some <code>QSettings</code> from an .ini file:</p>\n\n<pre><code>QSettings* settingsDocRoot=new QSettings(_settingsFile ,QSettings::IniFormat, parent);\n</code></pre>\n\n<p>This is passed to some object. However, I then do a copy <code>QSettings* s2= new QSettings(settingsDocRoot);</code> and modify one particular value <code>s2-&gt;setValue(\"path\", whateverNewPath);</code></p>\n\n<p>Basically I want to pass a slightly modified <code>QSettings</code> object to another object. But how do I <strong>avoid that the original ini file is updated</strong> with the changed value (<code>s2-&gt;setValue</code>)?</p>\n\n<p>One idea was, simply to set the path to \"\". However, according to <a href=\"http://stackoverflow.com/questions/4031838/qsettings-where-is-the-location-of-the-ini-file\">Qsettings - where is the location of the ini file?</a> then a default location will be assumed (OK, original file will not be changed, but unnecessary file will be written).</p>\n"},{"tags":["python","qt","pyqt","pyqt4"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2739,"score":2,"question_id":4528347,"title":"Clear all widgets in a layout in pyqt","body":"<p>Is there a way to clear (delete) all the widgets in a layout?</p>\n\n<pre><code>    self.plot_layout = QtGui.QGridLayout()\n    self.plot_layout.setGeometry(QtCore.QRect(200,200,200,200))\n    self.root_layout.addLayout(self.plot_layout)\n    self.plot_layout.addWidget(MyWidget())\n</code></pre>\n\n<p>Now I want to replace the widget in <code>plot_layout</code> with a new widget. Is there an easy way to clear all the widgets in <code>plot_layout</code>? I don't see any method such.</p>\n"},{"tags":["c++","qt","event-handling","qwidget"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13019550,"title":"How can I catch the change of a child Widget in Qt?","body":"<p>I have some dynamically added QWidgets and I want to carry out some task when they are changed.<br>\nI think I can't use connect() because I also need the name of the QWidget that triggered the change.<br>\nHow can I also see which QWidget was changed and still catch the value change event with a common handler?</p>\n"},{"tags":["qt","compiler-errors","debian","cross-compiling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":13075577,"title":"build failure when trying to cross-compile Qt 4.8.3 on Debian, for win32","body":"<p>I am trying to build a pristine Qt 4.8.3 tarball, and I configured the build with this command:</p>\n\n<pre><code>./configure -opensource -xplatform win32-g++ -device-option CROSS_COMPILE=i686-w64-mingw32-\n</code></pre>\n\n<p>Following is a result of (re)running <code>make</code>:</p>\n\n<pre><code>$ make\ncd src/tools/bootstrap/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/bootstrap'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/bootstrap'\ncd src/tools/moc/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/moc'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/moc'\ncd src/tools/rcc/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/rcc'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/rcc'\ncd src/tools/uic/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/tools/uic'\nmake[1]: Nothing to be done for `first'.\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/tools/uic'\ncd src/winmain/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake -f Makefile.Debug all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[2]: Nothing to be done for `all'.\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake -f Makefile.Release all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[2]: Nothing to be done for `all'.\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/winmain'\ncd src/corelib/ &amp;&amp; make -f Makefile \nmake[1]: Entering directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake -f Makefile.Debug all\nmake[2]: Entering directory `/home/wena/src/qt-4.8.3/src/corelib'\ni686-w64-mingw32-g++ -shared -mthreads -Wl,--out-implib,/home/wena/src/qt-4.8.3/lib/libQtCored4.a -o ../../lib/QtCored4.dll object_script.QtCored.Debug  -L'/home/wena/src/qt-4.8.3/lib' -L'/home/wena/src/qt-4.8.3/lib' -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32 .obj/debug-shared/QtCored_resource_res.o \nCreating library file: /home/wena/src/qt-4.8.3/lib/libQtCored4.a\n./.obj/debug-shared/qtextcodec.o: In function `setup':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:771: undefined reference to `QGb18030Codec::QGb18030Codec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:772: undefined reference to `QGbkCodec::QGbkCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:773: undefined reference to `QGb2312Codec::QGb2312Codec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:774: undefined reference to `QEucJpCodec::QEucJpCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:775: undefined reference to `QJisCodec::QJisCodec()'\n/home/wena/src/qt-4.8.3/src/corelib/codecs/qtextcodec.cpp:776: undefined reference to `QSjisCodec::QSjisCodec()'\n./.obj/debug-shared/qtextcodec.o: In function `QEucKrCodec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/kr/qeuckrcodec.h:77: undefined reference to `vtable for QEucKrCodec'\n./.obj/debug-shared/qtextcodec.o: In function `QCP949Codec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/kr/qeuckrcodec.h:91: undefined reference to `vtable for QCP949Codec'\n./.obj/debug-shared/qtextcodec.o: In function `QBig5Codec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/tw/qbig5codec.h:56: undefined reference to `vtable for QBig5Codec'\n./.obj/debug-shared/qtextcodec.o: In function `QBig5hkscsCodec':\n/home/wena/src/qt-4.8.3/src/corelib/codecs/../../plugins/codecs/tw/qbig5codec.h:70: undefined reference to `vtable for QBig5hkscsCodec'\ncollect2: ld returned 1 exit status\nmake[2]: *** [../../lib/QtCored4.dll] Error 1\nmake[2]: Leaving directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake[1]: *** [debug-all] Error 2\nmake[1]: Leaving directory `/home/wena/src/qt-4.8.3/src/corelib'\nmake: *** [sub-corelib-make_default-ordered] Error 2\n</code></pre>\n\n<p>I am building on latest Debian 7 (Wheezy).</p>\n"},{"tags":["c++","api","qt","internet-connection"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13035493,"title":"Control internet connection","body":"<p>I am trying to develop an application (C++/Qt preferably for multi-platform) that controls and filters the data stream entering and leaving the network (mainly internet), and restricts access to certain URLs in the browser.</p>\n\n<p>Is that possible with Qt? If not are there libraries that can do this? Or are there any APIs that I can use to control the connection on the computer?</p>\n"},{"tags":["qt","qlistwidget"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":498,"score":2,"question_id":9248001,"title":"Storing pointers using QListWidgetItem::setData","body":"<p>I have a <code>QListWidget</code> of calendars. Each <code>QListWidgetItem</code> is logically associated with an instance of <code>Calendar</code>, which is a class that belongs to the Model side of the application.</p>\n\n<p>Can I store this association in the form of a pointer using <code>QListWidgetItem::setData</code>? When I attempt to do this, I get the following error:</p>\n\n<blockquote>\n  <p>error: 'QVariant::QVariant(void*)' is private</p>\n</blockquote>\n"},{"tags":["qt","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13102787,"title":"Prevent QGraphicsItem from moving outside of QGraphicsScene","body":"<p>I have a scene which has fixed dimensions from (0;0) to (481;270):</p>\n\n<pre><code>scene-&gt;setSceneRect(0, 0, 481, 270);\n</code></pre>\n\n<p>Inside of it, I have a custom GraphicsItem and I can move it thanks to the flag ItemisMovable, but I would like it to stay within the Scene; I actually mean I don't want it to have coordinates neither under (0;0) nor over (481;270).</p>\n\n<p>I tried several solutions like overriding QGraphicsItem::itemChange() or even QGraphicsItem::mouseMoveEvent() but I still cannot manage to reach what I want to do.</p>\n\n<p>What is the suitable solution for my needs? Do I use QGraphicsItem::itemChange() badly?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["cocoa","qt","open-source","libraries","differences"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13102665,"title":"Difference between Qt mac open source and qt mac cocoa libraries","body":"<p>What is the difference between qt mac open source and qt mac cocoa libraries?</p>\n\n<p>I found on <a href=\"http://releases.qt-project.org/qt4/source/\" rel=\"nofollow\">http://releases.qt-project.org/qt4/source/</a> these dmg files and i don't know what's the difference between them:</p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4-debug-libs.dmg</code> and <code>qt-mac-opensource-4.6.4-debug-libs.dmg</code></p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4.dmg</code> and <code>qt-mac-opensource-4.6.4.dmg</code></p>\n"},{"tags":["c++","qt","iterator","random-access","qhash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13102506,"title":"QHash - hot to get a random key and value","body":"<p>I want to get a random pair with number <code>n</code> from my QHash.</p>\n\n<p>Now I do it this way:</p>\n\n<pre><code>QHash&lt;QString,QString&gt;::iterator iterator = dictionary.begin();\niterator+= n;\nquestion-&gt;setText(iterator.key());\n</code></pre>\n\n<p>But this seems just ridiculous... There must be a normal way. Can you help me please? I've read the whole entire man-page for QHash already</p>\n"},{"tags":["qt","sqlcipher"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13101618,"title":"Qt, SQLCipher and table models","body":"<p>Good morning --</p>\n\n<p>I'm working with SQLCipher in my Qt application and I'm noticing something odd, so I was wondering if anyone else has seen it and if so is there a way around it...</p>\n\n<p>I can open my unencrypted database fine using QSQLCIPHER library, I can query it fine, but when I use a QSqlTableModel on a table, I see no data in the model.  I can then via my application add data to my model, but when I try to submit it, I get errors.  As long as I connect to a unncrypted DB using QSQLITE things work smoothly with the models, but using QSQLCIPHER things don't work so smoothly.</p>\n\n<p>Also, if I try to use the PRAGMA statement on an encrypted DB (that I've verified works outside of my app), my query.exec() fails...</p>\n\n<p>Any thoughts?</p>\n\n<p>Scott</p>\n"},{"tags":["visual-studio-2010","qt","qt4","mingw","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1316,"score":0,"question_id":7176559,"title":"Using both mingw and msvc under QtCreator","body":"<p>I want to make QtCreator able to compile with mingw and msvc but i don't know how.</p>\n\n<p>I found some information over the internet but didn't work for me.</p>\n\n<p>I tried by installing </p>\n\n<ol>\n<li>QtSDK + qtvs2008 + qt visual studio addin                         <strong>[FAIL]</strong></li>\n<li>QtCreator standalone + mingw + qtvs2008 + qt visual studio addin  <strong>[FAIL]</strong></li>\n<li>QtCreator compiled with visual studio + mingw + qtvs2008          <strong>[FAIL]</strong></li>\n</ol>\n\n<p>I don't know what else to try so i will need some help here.\nIs this thing possible? </p>\n"},{"tags":["qt","sqlite","qt4","qtsql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":496,"score":0,"question_id":5373184,"title":"QtSQL + Sqlite and support for .size() function?","body":"<p>I'm wondering does QtSql + Sqlite support QSqlQuery::size() function ?</p>\n\n<p>Thx.</p>\n"},{"tags":["qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13100276,"title":"Compile & build qt4 on ubuntu 12.04","body":"<p>I am trying to compile and build Qt 4.8.3 from source. When I do ./configure, I get the following error message : </p>\n\n<pre><code>./configure: 183: ./configure: /^(QMAKE_CXX)=/ { print substr($0, index($0, \"=\") + 1) }: not found\nERROR: Cannot set the compiler for the configuration tests\n</code></pre>\n\n<p>Is this happening because I need to explicitly set the QMAKE_CXX variable? Thanks</p>\n"},{"tags":["sqlite","qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13099830,"title":"QT / QTableView / SQLite how to connect?","body":"<p>This is my first time QT programming. I am to make an address book on relational database to keep track of calls and events, related to persons and companies. A simple home-made sales tool. I am in great need of it.</p>\n\n<p>Using QT Designer I have created a main window and placed a QTableView widget. Installed SQLite, created a database. Now I need to connect it to the QTableView. I spent several hours, and still couldn't do it. </p>\n\n<p>Can someone please help?</p>\n\n<p>Thanks!</p>\n\n<p>Some code:</p>\n\n<p>untitled9.pro:</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-26T14:35:12\n#\n#-------------------------------------------------\n\nQT       += core gui\nQT       += sql\n\nTARGET = untitled9\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_menu_exit_triggered();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include &lt;QTableView&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n\n    w.show();\n\n    QTableView *tableView;\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_menu_exit_triggered()\n{\n  QCoreApplication::quit ();\n}\n</code></pre>\n\n<p>And, there is also a long xml in mainwindow.ui. I'll post it here in case of need.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","mediaplayer","symbian","symbian3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13099858,"title":"Simulate Symbian Play/Pause button","body":"<p>I am trying to simulate a play/pause button in Symbian as well as next and previous button. I have seen Nokia's example on how to receive events of these being pressed: <a href=\"http://www.developer.nokia.com/Community/Wiki/TSS000432_-_Utilising_media_keys\" rel=\"nofollow\">http://www.developer.nokia.com/Community/Wiki/TSS000432_-_Utilising_media_keys</a> and tried moddifying it to simulate these keys being pressed. I have sofar got this code:</p>\n\n<p>mediakeycontroller.h:</p>\n\n<pre><code>#ifndef MEDIAKEYSOBSERVER_H\n#define MEDIAKEYSOBSERVER_H\n\n#include &lt;remconinterfaceselector.h&gt;\n#include &lt;remconcoreapicontroller.h&gt;\n#include &lt;remconcoreapicontrollerobserver.h&gt;\n\nclass MediaKeysObserver : public MRemConCoreApiControllerObserver\n{\npublic:\n    MediaKeysObserver(QObject *parent = 0);\n    virtual ~MediaKeysObserver();\n\nprivate:\n    CRemConInterfaceSelector *interfaceSelector;\n    CRemConCoreApiTarget *coreTarget;\n    CRemConCoreApiController *coreController;\n};\n\n#endif // MEDIAKEYSOBSERVER_H\n</code></pre>\n\n<p>mediakeycontroller.cpp:</p>\n\n<pre><code>#include \"mediakeysobserver.h\"\n\nMediaKeysObserver::MediaKeysObserver(QObject *parent) : QObject(parent)\n{\n    interfaceSelector = CRemConInterfaceSelector::NewL();\n    coreController = CRemConCoreApiController::NewL(*interfaceSelector, *this);\n    interfaceSelector-&gt;OpenTargetL();\n    TRequestStatus aStatus;\n    TUint aNumRemotes;\n    coreController-&gt;PausePlayFunction(*aStatus, *aNumRemotes, ERemConCoreApiButtonClick);\n}\n\nMediaKeysObserver::~MediaKeysObserver()\n{\n    delete interfaceSelector;\n}\n</code></pre>\n\n<p>I don't know if using MRemConCoreApiController ws the right way to modify it but this does compile the problem is that I get three thread crashes:</p>\n\n<p>Thread has crashed: Thread 0x971 has panicked. Category: RemConIfSel; Reason: 6\nThread has crashed: Thread 0x972 has panicked. Category: RemConIfSel; Reason: 6\nThread has crashed: Thread 0x973 has panicked. Category: RemConIfSel; Reason: 6</p>\n\n<p>Do you any idea what I am doing wrong? I have added SWEvent and System as well as User read and write abilities but it doesn't help.</p>\n"},{"tags":["xml","performance","query","qt","xquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13098726,"title":"Qt: how to make generic (X)Query in Qt to different XML documents?","body":"<p>I'm new to QXmlQuery lib and I want to learn what is capable on with XML documents. I have maybe more than 1000 XML documents, some of them are the same (the xml scheme is the same), some of them are different.. But all of them have one common element called 'list' and this element have always children called 'item' (many items). I don't know the absolute path to the list element in each document, but I know that it is somewhere in. I want to make one query to all of this files and extract the 'items'.\nMay be this will illustrate my idea better:</p>\n\n<pre><code>QXmlQuery xquery;\nxquery.setQuery( \"doc('some_doc.xml')/list/item\");\nif (xquery.isValid())\n{\n    QXmlResultItems itemResult;\n    xquery.evaluateTo( &amp;itemResult );\n    //take an iterator or QStringList.. nevermind\n}\n</code></pre>\n\n<p>I have a code somewhere like this.</p>\n\n<p>There are two examples of these xml docs:</p>\n\n<pre><code>&lt;globalroot&gt;\n  &lt;list&gt;\n    &lt;item&gt;20.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;21.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;22.15.14447.2214&lt;/item&gt;\n  &lt;/list&gt;\n&lt;/globalroot&gt;\n</code></pre>\n\n<p>and the second example:</p>\n\n<pre><code>&lt;root&gt;\n &lt;sdmlt&gt;random text, not important&lt;/sdmlt&gt;\n &lt;localroot&gt;\n  &lt;list&gt;\n    &lt;item&gt;40.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;41.15.14447.2214&lt;/item&gt;\n    &lt;item&gt;42.15.14447.2214&lt;/item&gt;\n  &lt;/list&gt;\n &lt;/localroot&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The output must look like this:</p>\n\n<pre><code> //I need an iterator or QStringList that contains following down elements:\n //from the first doc:\n 20.15.14447.2214\n 21.15.14447.2214\n 22.15.14447.2214\n\n //from the second doc:\n 40.15.14447.2214\n 41.15.14447.2214\n 42.15.14447.2214\n</code></pre>\n\n<p>How can I make such a generic query? I know how to iterate over the tree and just run the xQuery over each node until (isValid() == true), but I need some mechanism in Qt that allows me to do that implicitly. Is it possible? If you know something about it you can give me a short example; suggestions, similar topics are welcomed too.</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":410,"score":3,"question_id":9267545,"title":"Qt QMainWindow central widget deletion","body":"<p>my application requires the user to switch between several screens. The way I'm doing this is by creating different QFrames for each screen, and then setting the Qframes as central widgets on the MainWindow. The problem is that every time I call setCentralWidget(frame), the old frame gets deleted and I can't access it later. How can save that old frame so that I can access it later?</p>\n\n<p>Please let me know if I am unclear in my question.</p>\n"},{"tags":["c++","qt","qt4.8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13098189,"title":"What is the fastest way to get QWidget pixel color under mouse?","body":"<p>I need to get the color of pixel under mouse, inside <code>mouseMoveEvent</code> of a QWidget (Breadboard). Currently I have this code-></p>\n\n<pre><code>void Breadboard::mouseMoveEvent(QMouseEvent *e)\n{\n    QPixmap pixmap = QPixmap::grabWindow(winId());\n    QRgb color = pixmap.toImage().pixel(e-&gt;x(), e-&gt;y());\n    if (QColor(color) == terminalColor)\n        QMessageBox::information(this, \"Ter\", \"minal\");\n}\n</code></pre>\n\n<p>Take a look at (scaled down) screenshot below-</p>\n\n<p><img src=\"http://i.stack.imgur.com/OUy1X.png\" alt=\"enter image description here\"></p>\n\n<p>When user moves his mouse on breadboard, the hole should get highlighted with some different color (like in red circle). And when the mouse exits, the previous color (grey) should be restored. So I need to do following steps- </p>\n\n<ol>\n<li>Get color under mouse</li>\n<li>According to color, floodfill the hole. (Different holes are distinguished using color)</li>\n<li>On mouse out, restore the color. There would be wires going over holes, so I can't update the small rectangle (hole) only.</li>\n</ol>\n\n<p>What is the fastest way of doing this? My attempt to extract color is not working i.e the Message box in my above code never displays. Moreover I doubt if my existing code is fast enough for my purpose. Remember, how fast you will be moving your mouse on breadboard.</p>\n\n<p>Note - I was able to do this using wxWidgets framework. But due to some issues that project got stalled. And I am rewriting it using Qt now.<br>\nYou are invited to look at code <a href=\"https://github.com/vinayak-garg/dic-sim\" rel=\"nofollow\">https://github.com/vinayak-garg/dic-sim</a> </p>\n"},{"tags":["qt","signals-slots"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":1,"view_count":14,"score":0,"question_id":13098092,"title":"error C2976: 'QMap' : too few template arguments in QMetaObject::invokeMethod","body":"<p>i tryt to invoke QMetaObject::invokeMethod from object to the caller object\ni have this from the object :</p>\n\n<pre><code>bool bReturnInvokeMethod = false;\nbool bInvokeMethod1= QMetaObject::invokeMethod(m_pCollector,\n                            \"setStack\",\n                            Qt::BlockingQueuedConnection,\n                            Q_ARG(QMap&lt;QString,QVector&lt;std::string &gt; &gt;, linksQTResultMap));\n</code></pre>\n\n<p>but im getting this error:</p>\n\n<pre><code>error C2976: 'QMap' : too few template arguments\n</code></pre>\n\n<p>why its well defined type</p>\n"},{"tags":["c++","linux","windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13097693,"title":"QTcpSocket reading some extra bytes while reading bulk data?","body":"<p>I am currently working on Qt GUI application which receives data packets from server (LINUX Server).</p>\n\n<p>In normal cases, its working fine but when bulk amount of data packets has been written by server on socket, client side socket enters into loop to process that data but at the end 8 extra bytes are left which does not belong to my application and application never come out from the loop which makes my application unresponsive.\nI am receiving all data without any loss.</p>\n\n<p>My code will clear bit more:</p>\n\n<pre><code>connect(tcpSocket, SIGNAL(readyRead()), this, SLOT(receiveData()));\n\nvoid MyClass::receiveData()\n{\n    char recvbuf[MAXPACKET]; // MAXPACKET = 4096\n    char* packet = 0;\n    int bytesAvailable = 0;\n    int bufSize = MAXPACKET;\n\n    while((bytesAvailable &gt; 0) || tcpSocket -&gt;bytesAvailable())\n    {\n       if (bytesAvailable == 0 &amp;&amp; tcpSocket -&gt;bytesAvailable())\n       {\n          qint64 requestBytes = bufSize - bytesAvailable;\n          bytes = tcpSocket-&gt;read(recvbuf + bytesAvailable, requestBytes);\n          bytesAvailable += bytes;\n       }\n\n       //createPAcket and process Packets method works here\n       if (packet)\n         processPacket(packet);\n    }\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","scheduled-tasks","pyside"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13096650,"title":"Check something at regular intervals in a Python (Qt) application","body":"<p>I'm writing a GUI application using Python and Qt as a GUI library. I would like to perform certain scheduled actions after e.g. 3 days or so (but some more often, some even more rare etc). </p>\n\n<p>I have discovered the QTimer() app but my understanding is that it only tracks time while the software is running. </p>\n\n<p>So, for example, suppose a user has checked the option to check the automatic updates every 5 days. If he runs it on day one, everything is fine. The countdown clock starts ticking. But if he runs it for the second time on day 6, how to make sure the application does indeed download an update (other than writing the date every time to some file and comparing the two)? </p>\n\n<p>I hope I'm clear enough, if I'm not, please let me know and I'll try to elaborate even better.</p>\n"},{"tags":["c++","osx","qt","qt4"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1085,"score":1,"question_id":2344288,"title":"Qt Asynchronous Action During aboutToQuit","body":"<p>I've got some Asynchronous cleanup activity I need to do as my Qt application is shutting down.</p>\n\n<p>My current approach is to trap the aboutToQuit signal. I launch my Asynchronous behavior, and then the application shuts down. Is there any way to block Qt from shutting down until my asynchronous behavior is complete?</p>\n\n<p>This works on windows by trapping the main window's closeEvent and calling ignore() on the event. But on Mac, when a user quits, my ignore() isn't honored, and the Application shuts down before my asynchronous activity is complete.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","json","qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12908728,"title":"Qjson handling an returned array of ojbects","body":"<p>I'm using Qjson to parse a json object that is returned from a web service.  I'm stuck on handling an array of complex ojects.</p>\n\n<p>At the first level the web service returns a map consisting of \"error\", \"id\", and \"return\".  If there are no errors I can get the first level value by using</p>\n\n<pre><code> nestedMap = m_jsonObject[\"result\"].toMap();\n group = new Group();\n group-&gt;Caption = nestedMap[\"Caption\"].toString();\n group-&gt;CollectionCount = nestedMap[\"CollectionCount\"].toInt();\n</code></pre>\n\n<p>I can even get a date item value that is at the second level using</p>\n\n<pre><code>group-&gt;ModifiedOn = nestedMap[\"ModifiedOn\"].toMap()[\"Value\"].toDateTime();\n</code></pre>\n\n<p>I have an object called \"Elements\" that consists of 29 key-value pairs.  The web service is returning an array of these \"Elements\" and I am unable to find the right way to parse it.  In the header file the container for the elements is defined as </p>\n\n<pre><code>QList&lt;GroupElement&gt; Elements;\n</code></pre>\n\n<p>The line</p>\n\n<pre><code>group-&gt;Elements = nestedMap[\"Elements\"].toList();\n</code></pre>\n\n<p>causes the compiler to throw an error 'error: no match for 'operator=' in '((MyClass*)this)->MyClass::group->Group::Elements = QVariant::toMap() const()'</p>\n\n<p>I would like to learn the correct syntax to put this element into the class.</p>\n"},{"tags":["c++","qt","templates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13096292,"title":"c++ function pointer used to convert a QVariant to {a custom type","body":"<p>A QVariant is holding a QMap object that is to be converted into a custom type, MyClass or MyClass2.  </p>\n\n<p>Example:</p>\n\n<pre><code>class MyClass{\n   int item1;\n   int item2;\n   QString string1;\n   AnotherClass subclass;\n};\n\nclass MyClass2{\n   int item1;\n   QString string1;\n   AnotherClass subclass;\n};\n</code></pre>\n\n<p>functions have been written to convert the QVariant to the associated classes</p>\n\n<pre><code>MyClass QVariantToMyClass1(QVariant);\nMyClass2 QVariantToMyClass1(QVariant);\n</code></pre>\n\n<p>My question is, in a template function what is the proper way to pass in the function pointer?  The code shown below returns an error 'const class QVariant has no member named convFunct'</p>\n\n<pre><code>template&lt;class T&gt;\nQList&lt;T&gt; QVariantToQList(QVariant &amp; qv,T (* convFunct)() )\n{\n    // Create the list that will hold the return values\n    QList&lt;T&gt; qListOfMembers;\n    if(qv.typeName() == \"QVariantMap\"){\n        foreach(QVariant const&amp; mapMember,qv.toMap())\n        {\n            qListOfMembers.append(mapMember.convFunct());\n        }\n    }\n    else if (qv.typeName() == \"QVariantList\"){\n        foreach(QVariant const&amp; listMember,qv.toList())\n        {\n            qListOfMembers.append(listMember.convFunct());\n        }\n    }\n    else\n    {\n        qDebug()&lt;&lt; \"QVariantToQList currently is implemented only for QMap and QList types\";\n        throw ;\n    }\n    return qListOfMembers;\n}\n</code></pre>\n\n<p>This is a <a href=\"http://stackoverflow.com/questions/13087966/function-pointer-for-qvariant-toxxx-function\">follow-up question to a previous question</a>  The difference between that question and this one is the T is 'MyClass' or 'MyClass2' instead of a type that is normally held by a QVariant.</p>\n"},{"tags":["qt","kinect","kinect-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":49,"score":-2,"question_id":13096315,"title":"How to use Kinect SDK with Qt creator in windows","body":"<p>is this possible to use kinect sdk with Qt in windows ? \ni mean is this possible :\n    #include \"NuiApi.h\"<br>\nand use it like visual studio ?</p>\n"},{"tags":["c++","qt","qtcpsocket","qtnetwork","qtcpserver"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13095834,"title":"Console Chat Using QTcpSocket and QTcpServer","body":"<p>I want to write a console chat program in qt framework.I have a problem with sending messages.</p>\n\n<p>Client sends messages to server but server doesn't take the messages until client program is closed.When client is closed, server displays all messages.I don't want that.I want server to get my messages when i send to it.</p>\n\n<p>I wrote the codes below.You will see what i want to do if you look at main function of client.</p>\n\n<pre><code>    /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Client interface\n\n    */\n\n    #ifndef CLIENT_H\n    #define CLIENT_H\n\n    #include &lt;QtNetwork&gt;\n    #include &lt;QObject&gt;\n    #include &lt;QtNetwork/QTcpSocket&gt;\n\n    namespace NetworkArdic\n    {\n\n    class Client : public QObject\n    {\n        Q_OBJECT\n        public:\n\n            Client(QObject * obj = 0,QString add=\"localhost\", quint16 port = 4000);\n\n\n            void SendData(QString data);\n\n            virtual ~Client();\n\n        private slots:\n\n\n            void ReadData();\n\n            void connected();\n\n        private:\n\n            QTcpSocket *socket;\n    };\n\n    }\n\n    #endif\n\n\n /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Client source file\n\n    */\n\n    #include \"Client.h\"\n    #include &lt;QHostAddress&gt;\n    #include &lt;iostream&gt;\n    using namespace std;\n\n    namespace NetworkArdic{\n\n    Client::Client(QObject * obj, QString add, quint16 port) : QObject(obj)\n    {\n\n        socket = new QTcpSocket(this);\n\n\n        connect(socket, SIGNAL(readyRead()), this, SLOT(ReadData()));\n        connect(socket, SIGNAL(connected()), this, SLOT(connected()));\n\n        socket-&gt;connectToHost(QHostAddress(add), port);\n    }\n\n    Client::~Client(){\n        socket-&gt;close();\n        delete socket;\n    }\n\n\n\n    void Client::SendData(QString data)\n    {\n        if(!data.isEmpty())\n        {\n            socket-&gt;write(QString(data + \"\\n\").toUtf8());\n        }\n    }\n\n    void Client::ReadData()\n    {\n        while(socket-&gt;canReadLine())\n        {\n\n            QString line = QString::fromUtf8(socket-&gt;readLine()).trimmed();\n            qDebug() &lt;&lt; line;\n        }\n    }\n\n    void Client::connected()\n    {\n        socket-&gt;write(QString(\"Client : Server connection has been made (: \\n\").toUtf8());\n    }\n\n    }\n\n    int main(int argc, char *argv[])\n    {\n        QCoreApplication a(argc, argv);\n\n        Client cli(0,\"127.0.0.1\",4000);\n\n        string line;\n        while(line!=\"exit\"){\n            cout &lt;&lt; \"Message : \";\n            cin &gt;&gt; line;\n            cli.SendData(QString(line.c_str()));\n        }\n\n        return a.exec();\n    }\n\n     /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Server interface\n\n\n    */\n\n    #ifndef SERVER_H\n    #define SERVER_H\n\n    #include &lt;QtNetwork&gt;\n    #include &lt;QObject&gt;\n    #include &lt;QtNetwork/QTcpServer&gt;\n    #include &lt;QtNetwork/QTcpSocket&gt;\n\n    namespace NetworkArdic\n    {\n\n        class Server: public QTcpServer\n        {\n\n            Q_OBJECT\n            public:\n\n              Server(QObject * parent = 0 , quint16 port = 4000);\n              virtual  ~Server();\n\n            private slots:\n\n              void acceptConnection();\n              void startRead();\n              void disconnected();\n\n            private:\n\n              QTcpSocket * client;\n\n        };\n\n    }\n\n    #endif // SERVER_H\n\n\n\n   /*\n\n    Created BY : \n    Creation DATE : 26/10/2012\n\n    Server source file\n\n    */\n\n\n    #include \"Server.h\"\n    #include &lt;iostream&gt;\n    using namespace std;\n\n    namespace NetworkArdic{\n\n    Server::Server(QObject* parent , quint16 port): QTcpServer(parent)\n    {\n      connect(this, SIGNAL(newConnection()),this, SLOT(acceptConnection()));\n\n      listen(QHostAddress::Any, port );\n    }\n\n    Server::~Server()\n    {\n      delete client;\n      close();\n    }\n\n    void Server::acceptConnection()\n    {\n      client = nextPendingConnection();\n\n      connect(client, SIGNAL(readyRead()), this, SLOT(startRead()));\n      connect(client, SIGNAL(disconnected()), this, SLOT(disconnected()));\n\n      qDebug() &lt;&lt; \"New client from:\" &lt;&lt; client-&gt;peerAddress().toString();\n    }\n\n    void Server::startRead()\n    { \n        while(client-&gt;canReadLine())\n        {\n            QString line = QString::fromUtf8(client-&gt;readLine()).trimmed();\n            qDebug() &lt;&lt; \"Client :\" &lt;&lt; line;\n\n            client-&gt;write(QString(\"Server : I've taken your message (:\\n\").toUtf8());\n        }\n\n    }\n\n    void Server::disconnected()\n    {\n\n        qDebug() &lt;&lt; \"Client disconnected:\" &lt;&lt; client-&gt;peerAddress().toString();\n\n        client-&gt;write(QString(\"Server : I wish you didn't leave ):\\n\").toUtf8());\n\n    }\n\n    }\n</code></pre>\n"},{"tags":["qt","mingw","qt-creator","msvs"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2120,"score":3,"question_id":6996768,"title":"How to force Qt Creator to use MinGW instead of Visual Studio","body":"<p>We're trying to compile a project with MinGW on the machine that has both MinGW (with Qt) and Visual Studio installed. Unfortunately, Qt creator prefers MSVS by default, and doesn't see it's very own MinGW (<a href=\"http://img220.imageshack.us/img220/9967/85149939.jpg\" rel=\"nofollow\">screenshot</a>). Sadly, this results in a lot of obscure errors, because application was written and debugged with MinGW. Is there way to make Qt Creator to use MinGW without killing MSVS?</p>\n"},{"tags":["c++","qt","encryption","openssl","des"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13095335,"title":"QPixmap encryption using OpenSSL DES","body":"<p>I am trying to encrypt an image converted to base64 encoding to be saved later encrypted in a database.\nI am using a code to encrypt like thi:</p>\n\n<pre><code>//Get the image bytes\nQByteArray ba;\nQBuffer buff(&amp;ba);\nui-&gt;label-&gt;pixmap()-&gt;save(&amp;buff, \"JPG\");\n\n//Convert image bytes to base64 QByteArray\nQByteArray base64 = ba.toBase64();\n\n//Convert base64 to char*\nchar charArray[base64.length()];\nmemcpy(charArray, base64, base64.length());\n\nCCipher ciph;\nchar key[] = \"12345678\";\nchar *encrypted;\n\nencrypted = (char*)malloc(sizeof(charArray));\nmemcpy(encrypted,\n       ciph.Encrypt(key, charArray, sizeof(charArray)),\n       sizeof(charArray));\n\n//Out the encrypted to file\nSaveLogText(\"encrypted.txt\", encrypted);\n</code></pre>\n\n<p>The encrypt function is like:</p>\n\n<pre><code>char *CCipher::Encrypt(char *Key, char *Msg, int size)\n{\n    static char*    Res;\n    int             n=0;\n    DES_cblock      Key2;\n    DES_key_schedule schedule;\n\n    Res = ( char * ) malloc( size );\n\n    /* Prepare the key for use with DES_cfb64_encrypt */\n    memcpy( Key2, Key,8);\n    DES_set_odd_parity( &amp;Key2 );\n    DES_set_key_checked( &amp;Key2, &amp;schedule );\n\n    /* Encryption occurs here */\n    DES_cfb64_encrypt( ( unsigned char * ) Msg, ( unsigned char * ) Res,\n                       size, &amp;schedule, &amp;Key2, &amp;n, DES_ENCRYPT );\n\n    return (Res);\n}\n</code></pre>\n\n<p>The problem is: only the first few bytes of the image is encrypted not the whole image.\nWhat am I doing wrong and how can I do it right?</p>\n"},{"tags":["php","qt","hash"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":11673179,"title":"QMultiHash php, same key, multiple values","body":"<p>I try to convert some code from C++/Qt to php.  The original code has some hash like this:</p>\n\n<p><code>\n<code>QMultiHash&lt;int, QString&gt; Var;</code>\n</code></p>\n\n<p>It means that there can be many values associated to the same key, and at the same time, like:</p>\n\n<p>0 => \"Zero\"</p>\n\n<p>0 => \"0\"</p>\n\n<p>0 => \"etc.\"</p>\n\n<p>How can it be done in php?</p>\n"},{"tags":["c++","qt","windows-live-messenger"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13079432,"title":"Windows Live Messenger \"What I'm listening to\" function","body":"<p>How can I use the Windows Live Messenger \"What I'm listening to\" function? How can I communicate with the WLM to send the song info, so Messenger can set the status? I'm coding in C++ (Qt)</p>\n\n<p>I searched all the net but found nothing about it, not even in other programming languages.</p>\n\n<p>EDIT:</p>\n\n<p>Looks like i didn't make myself clear. I don't want a walkthrough. I want to know if there is an API, or library, or anything to communicate with the Windows Live Messenger to use that function, like media players such as WMP, Winamp and iTunes do.</p>\n\n<p>I searched the Live Connect API, but I haven't found anything about that.</p>\n"},{"tags":["c#","qt","windows-phone-7","bluetooth","symbian"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13093367,"title":"Symbian Windows Phone bluetooth communication","body":"<p>If wanted to communicate bluetooth messages between Symbian and Windows Phone using Qt and C# respectively,how would I go about it? What apis or classes would be able to communicate between the two platforms?</p>\n"},{"tags":["c++","qt","qml","qt-quick","friend-class"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":13071366,"title":"Why we need a \"friend\" here? (C++)","body":"<p>The qml viewer (for 4.8 and 5.0) is implemented like that:</p>\n\n<p>In the .h(eader) we have:</p>\n\n<pre><code>class QtQuick2ApplicationViewer : public QQuickView\n{\n    Q_OBJECT\n\n...\n\nprivate:\n    class QtQuick2ApplicationViewerPrivate *d;\n};\n</code></pre>\n\n<p>Then in the .CPP file:</p>\n\n<pre><code>class QtQuick2ApplicationViewerPrivate\n{\n    QString mainQmlFile;\n    friend class QtQuick2ApplicationViewer;\n    static QString adjustPath(const QString &amp;path);\n};\n\nQtQuick2ApplicationViewer::QtQuick2ApplicationViewer(QWindow *parent)\n    : QQuickView(parent)\n    , d(new QtQuick2ApplicationViewerPrivate())\n{\n    connect(engine(), SIGNAL(quit()), SLOT(close()));\n    setResizeMode(QQuickView::SizeRootObjectToView);\n\n#ifdef Q_OS_ANDROID\n    engine()-&gt;setBaseUrl(QUrl::fromLocalFile(\"/\"));\n#endif\n}\n</code></pre>\n\n<p>Why is using <code>friend</code> necessary here? I don't see any reason why would anybody use a <code>friend</code> class. Is there any real use for friend classes (except for exotics that anybody could live without)?</p>\n\n<p><strong>.h</strong>\n    #include </p>\n\n<pre><code>class QtQuick2ApplicationViewer : public QQuickView\n{\n    Q_OBJECT\n\npublic:\n    explicit QtQuick2ApplicationViewer(QWindow *parent = 0);\n    virtual ~QtQuick2ApplicationViewer();\n\n    void setMainQmlFile(const QString &amp;file);\n    void addImportPath(const QString &amp;path);\n\n    void showExpanded();\n\nprivate:\n    class QtQuick2ApplicationViewerPrivate *d;\n};\n</code></pre>\n\n<p><strong>.cpp</strong></p>\n\n<pre><code>#include \"qtquick2applicationviewer.h\"\n\n#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QtCore/QDir&gt;\n#include &lt;QtQml/QQmlEngine&gt;\n\nclass QtQuick2ApplicationViewerPrivate\n{\n    QString mainQmlFile;\n    friend class QtQuick2ApplicationViewer;\n    static QString adjustPath(const QString &amp;path);\n};\n\nQString QtQuick2ApplicationViewerPrivate::adjustPath(const QString &amp;path)\n{\n#ifdef Q_OS_UNIX\n#ifdef Q_OS_MAC\n    if (!QDir::isAbsolutePath(path))\n        return QString::fromLatin1(\"%1/../Resources/%2\")\n                .arg(QCoreApplication::applicationDirPath(), path);\n#elif !defined(Q_OS_ANDROID)\n    const QString pathInInstallDir =\n            QString::fromLatin1(\"%1/../%2\").arg(QCoreApplication::applicationDirPath(), path);\n    if (QFileInfo(pathInInstallDir).exists())\n        return pathInInstallDir;\n#endif\n#endif\n    return path;\n}\n\nQtQuick2ApplicationViewer::QtQuick2ApplicationViewer(QWindow *parent)\n    : QQuickView(parent)\n    , d(new QtQuick2ApplicationViewerPrivate())\n{\n    connect(engine(), SIGNAL(quit()), SLOT(close()));\n    setResizeMode(QQuickView::SizeRootObjectToView);\n\n#ifdef Q_OS_ANDROID\n    engine()-&gt;setBaseUrl(QUrl::fromLocalFile(\"/\"));\n#endif\n}\n\nQtQuick2ApplicationViewer::~QtQuick2ApplicationViewer()\n{\n    delete d;\n}\n\nvoid QtQuick2ApplicationViewer::setMainQmlFile(const QString &amp;file)\n{\n    d-&gt;mainQmlFile = QtQuick2ApplicationViewerPrivate::adjustPath(file);\n    setSource(QUrl::fromLocalFile(d-&gt;mainQmlFile));\n}\n\nvoid QtQuick2ApplicationViewer::addImportPath(const QString &amp;path)\n{\n    engine()-&gt;addImportPath(QtQuick2ApplicationViewerPrivate::adjustPath(path));\n}\n\nvoid QtQuick2ApplicationViewer::showExpanded()\n{\n#if defined(Q_WS_SIMULATOR)\n    showFullScreen();\n#else\n    show();\n#endif\n}\n</code></pre>\n"},{"tags":["c++","xml","qt","escaping"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13078977,"title":"How do I stop QXmlStreamWriter from escaping quotation marks?","body":"<p>Let me begin by expressing my understanding that what I'm trying to do is <strong>not</strong> normal, nor is it typically well advised. I'm fully aware that in normal XML, the <code>\"</code> character is reserved. </p>\n\n<p>I'm generating <code>.vcxproj</code> files to use in Visual Studio 2010, using a Qt application. I'm taking advantage of the <code>QXmlStreamWriter</code> class to write the XML needed for the project file. However, I'm running into a problem due to Microsoft's non-compliance with the XML standard.</p>\n\n<p>In <code>CustomBuild</code> elements, the user needs to specify the command for building the file. In the case of Qt projects within Visual Studio, you end up with something like this:</p>\n\n<pre><code>  &lt;Command Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\"&gt;\"$(QTDIR)\\bin\\moc.exe\"  \"%(FullPath)\" -o \"..\\myproj\\moc_%(Filename).cpp\"  -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_CORE_LIB -DQT_GUI_LIB -DQT_XML_LIB -DQT_SQL_LIB -DQT_OPENGL_LIB -DQT_QT3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB \"-I.\" \"-I$(QTDIR)\\include\" \"-I$(QTDIR)\\include\\QtCore\" \"-I$(QTDIR)\\include\\QtGui\" \"-I$(QTDIR)\\include\\QtXml\" \"-I$(QTDIR)\\include\\QtSql\" \"-I$(QTDIR)\\include\\QtOpenGL\" \"-I$(QTDIR)\\include\\Qt3Support\" \"-I$(QTDIR)\\include\\QtSvg\" \"-I$(QTDIR)\\include\\QtTest\" \"-I..\\myproj\"&lt;/Command&gt;\n</code></pre>\n\n<p>Yucky, but <em>c'est la vie</em>, especially with Microsoft. Unfortunatey, my <code>QXmlStreamWriter</code> object produces this (fully compliant) output:</p>\n\n<pre><code>  &lt;Command Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\"&gt;$(QTDIR)\\bin\\moc.exe&amp;quot; &amp;quot;%(FullPath)&amp;quot; -o &amp;quot;..\\myproj\\moc_%(Filename).cpp&amp;quot;   -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_CORE_LIB -DQT_GUI_LIB -DQT_XML_LIB -DQT_SQL_LIB -DQT_OPENGL_LIB -DQT_QT3SUPPORT_LIB -DQT3_SUPPORT -DQT_SVG_LIB &amp;quot;-I.&amp;quot; &amp;quot;-I$(QTDIR)\\include&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtCore&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtGui&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtXml&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtSql&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtOpenGL&amp;quot; &amp;quot;-I$(QTDIR)\\include\\Qt3Support&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtSvg&amp;quot; &amp;quot;-I$(QTDIR)\\include\\QtTest&amp;quot; &amp;quot;..\\myproj&amp;quot;&lt;/Command&gt;\n</code></pre>\n\n<p>Naturally, Visual Studio isn't impressed. What are my options here? I could probably read back the file and un-escape it, but that doesn't sound particularly efficient or intelligent.</p>\n"},{"tags":["c++","qt","class","header"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13093865,"title":"C++ header and class file - undefined reference","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>  </p>\n</blockquote>\n\n\n\n<p>.h:</p>\n\n<pre><code>class ArithmeticCoding\n{\npublic:\n    ArithmeticCoding();\n    static void test(QString text);\n\n    static QMap&lt;QChar,int&gt; letters_freq;\n}\n</code></pre>\n\n<p>.cpp:</p>\n\n<pre><code>QMap&lt;QChar, int&gt; letters_freq;\n\nArithmeticCoding::ArithmeticCoding()\n{\n}\n\nvoid ArithmeticCoding::test(QString text)\n{\n    for(int i=0; i&lt;text.length(); i++) letters_freq[text.at(i)]++;\n}\n</code></pre>\n\n<p>I am getting </p>\n\n<blockquote>\n  <p>arithmeticcoding.cpp:-1: error: undefined reference to\n  `ArithmeticCoding::letters_freq'</p>\n</blockquote>\n\n<p>Why?</p>\n"},{"tags":["c++","qt","charts","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":13057437,"title":"How to make charts/graphs (such as line graphs, bar graphs, circle graphs), etc. in C++, QT, QML, Blackberry 10 Cascades Beta 3 SDK?","body":"<p>I need to know how to make charts/graphs in Blackberry 10 Cascades Beta 3 SDK, QML, QT, C++.  If anyone can show me an example or point me to something that shows me how to do this, it would be much appreciated.</p>\n"},{"tags":["ruby","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13092762,"title":"Why doesn't Ruby Qt clock update?","body":"<p>I'm trying to write a custom clock widget in Ruby Qt <code>gem install qtbindings</code> The clock should update every second with the current time. It doesn't, the code seems perfect, why doesn't this work?</p>\n\n<pre><code>require \"Qt4\"\n\nclass ClockLabel &lt; Qt::Label\n    attr_accessor :timer\n    def initialize(date_format = '%Y-%d-%mT%H:%M:%S')\n        super()\n        @date_format = date_format\n        self.set_text(Time.now.strftime date_format)\n    end\n\n    def paint_event(event)\n        super(event)\n        painter = Qt::Painter.new(self)\n        painter.draw_text(event.rect.x, event.rect.y, Time.now.strftime(@date_format))\n    end\n\n    def start\n        @timer = Qt::Timer.new(self)\n        self.connect(@timer, SIGNAL('timeout()'), self, SLOT('update()'))\n        @timer.start(1000)\n    end\nend\n\nif __FILE__ == $PROGRAM_NAME\n    app = Qt::Application.new([])\n    clock = ClockLabel.new()\n    clock.start\n    clock.show\n    app.exec()\nend\n</code></pre>\n"},{"tags":["qt","screen-capture","dual-monitor"],"answer_count":4,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":1933,"score":3,"question_id":3966429,"title":"Capture multiple screens desktop image using Qt4","body":"<p>i am writing a screen capture application in Qt4 with c++. I have a problem when tuning on dual screens. I am unable to get an image with the second screen. I tried a c# application and that will grab all the desktops in one image and i could extract from there each screen desktop image.\nHere is the c# code</p>\n\n<pre><code>    using System;\nusing System.Drawing;\nusing System.Runtime.InteropServices;\n\npublic class TestGrab\n{\n  [STAThread]\n  static void Main(string[] args)\n  {\n    IntPtr hDC = WindowsNative.GetDC(WindowsNative.GetDesktopWindow());\n    IntPtr hBitmap = WindowsNative.GetCurrentObject(hDC,\n    WindowsNative.OBJ_BITMAP);\n    System.Drawing.Bitmap imageDesktop = System.Drawing.Image.FromHbitmap(\n    hBitmap);\n    imageDesktop.Save(@\"c:\\zzzzdesktop.png\");\n  }\n}\n\npublic class WindowsNative\n{\n  [DllImport(\"user32.dll\")]\n  public static extern IntPtr GetDesktopWindow();\n\n  [DllImport(\"user32.dll\")]\n  public static extern IntPtr GetDC(IntPtr ptr);\n\n  public const int OBJ_BITMAP = 7;\n  [DllImport(\"gdi32.dll\")]\n  public static extern IntPtr GetCurrentObject(IntPtr hdc, uint\n  uiObjectType);\n}\n</code></pre>\n\n<p>The Qt code is smaller,also i tested if the native windows handle to the desktop is different from the Qt desktop0>winId() but them are equal</p>\n\n<pre><code>QPixmap CaptureWinDesktop()\n{\n    WId desktop=GetDesktopWindow();\n    WId desktop2=QApplication::desktop()-&gt;winId();\n    if(desktop!=desktop2)\n    {\n        qDebug(\"sunt fdiferite WId\");\n    }\n     QPixmap entireDesktop= QPixmap::grabWindow(desktop);\n     return entireDesktop;\n}\n</code></pre>\n\n<p>I am not sure if this is a bug in Qt or is a feature, using the same window handle it retries only the first desktop when in fact the desktop it is relay composed from the 2 screens . One idea is to use native windows calls and save the image in a temp file and load a QPixmap from there, but that is not simple to save a HBITMAP in a file in c++ without MFC.\nConclusion: what do you think is that a bug in Qt? any idea how to work around it(no MFC )</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13092795,"title":"linking Qt Creator plugin editor / highlighter","body":"<p>I'm working on a qt creator plugin that adds support for certain types of files by supplying customized editors, etc. Right now it registers a new IEditorFactory which produces editors that I based off of the TextEditor::BaseTextEditor and TextEditor::BaseTextEditorWidget.</p>\n\n<p>Eventually I will be creating and using specialized highlighters and other things, but for now I want to utilize things from other qt creator plugins, and this is where I run into trouble. </p>\n\n<p>In particular I want to use the TextEditor::Internal::Highlighter, which can load and utilize kate files. I'm already using other classes from the TextEditor plugin so I have </p>\n\n<pre><code>include($$QTCREATOR_SOURCES/src/plugins/texteditor/texteditor.pri)\n</code></pre>\n\n<p>added to my project file. Inside texteditor.pri everything seems good</p>\n\n<pre><code>include(texteditor_dependencies.pri)\nLIBS *= -l$$qtLibraryName(TextEditor)\n</code></pre>\n\n<p>and, indeed, I'm able to compile my editor (which is dependent on things inside the texteditor plugin).</p>\n\n<p>The only difference with the TextEditor::Internal::Highlighter -as far as I can tell- is that it's in a subfolder of the texteditor plugin. This should be fine, and the object files seem to all land in the same directory, but when I say</p>\n\n<pre><code>new TextEditor::Internal::Highlighter()\n</code></pre>\n\n<p>(just as is done in texteditor/plaintexteditor.cpp) I get a linker error</p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"TextEditor::Internal::Highlighter::Highlighter(QTextDocument*)\", referenced from:\n      MyPlugin::MyEditorWidget::MyEditorWidget(QWidget*)in myeditor.o\n      MyPlugin::MyEditorWidget::MyEditorWidget(QWidget*)in myeditor.o\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>What am I doing wrong? Are there more dependencies I have to declare? Is there a command I can use to force a folder of object files to be in my path while compiling?</p>\n\n<p>Thnaks!</p>\n"},{"tags":["c++","qt","qt-creator","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":56,"score":-3,"question_id":13091848,"title":"What is the equivalent of anchor in Qt C++?","body":"<p>i need to resize an element when the main window is resized, i thought at anchor which is what i used in Visual Basic .NET, but i dosen't found it in Qt Designer, What i should use ?</p>\n\n<p>Details :\nThe element to resize : label\nThe main form is named : Form</p>\n\n<p>Thanks !</p>\n"},{"tags":["qt","qt4","qspinbox"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12892129,"title":"How to prevent QSpinBox from automatically highlighting contents","body":"<p><code>QSpinBox</code> makes its contents selected (highlighted) upon using up/down buttons. Is there any way to disable this?\nIs there any way to clear selection, other than use my own subclass of <code>QSpinBox</code> to access the underlying <code>QLineEdit</code>?</p>\n"},{"tags":["sql-server","database","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":7792293,"title":"Retrieving SCOPE_IDENTITY() with QSqlQuery","body":"<pre><code>bool ok = query.exec(\"CREATE TABLE person ( IdTable INTEGER IDENTITY(1,1) NOT NULL PRIMARY KEY, LastName varchar(255), FirstName varchar(255)  )\");            \nbool ok1 = query.exec(\"INSERT INTO person VALUES ('Wijethilake','Tharanga')\");            \nQSqlQuery scope_Identity(\"SELECT SCOPE_IDENTITY() AS Current_Identity;\");\nQSqlRecord rec = scope_Identity.record();\nqDebug() &lt;&lt; scope_Identity.isValid();\n</code></pre>\n\n<p>This returns false. IS it that something wrong with qt or is my scope Identity statement wrong. I really appreciate someone's help on this.</p>\n\n<p>Thank you. </p>\n"},{"tags":["linux","qt","distribution"],"answer_count":5,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":4950,"score":7,"question_id":934950,"title":"How to make binary distribution of Qt application for Linux","body":"<p>I am developing cross-platform Qt application.\nIt is freeware though not open-source. Therefore I want to distribute it as a compiled binary.</p>\n\n<p>On windows there is no problem, I pack my compiled 'exe' along with MinGW's and Qt's DLLs and everything goes great.</p>\n\n<p>But on Linux there is a problem because the user may have shared libraries in his/her system very different from mine.</p>\n\n<p>Qt deployment guide suggests two methods: static linking and using shared libraries.\nThe first produces huge executable and also require static versions of many libraries which Qt depends on, i.e. I'll have to rebuild all of them from scratches. The second method is based on reconfiguring dynamic linker right before the application startup and seems a bit tricky to me.</p>\n\n<p>Can anyone share his/her experience in destributing Qt applications under Linux? What method should I use? What problems may I confront with? Are there any other methods to get this job done?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","tee","qnetworkaccessmanager","qwebkit","qwebpage"],"answer_count":1,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":1171,"score":1,"question_id":4475647,"title":"How to read data from QNetworkReply being used by QWebPage?","body":"<p>I use <a href=\"http://doc.qt.nokia.com/latest/qwebpage.html\" rel=\"nofollow\"><code>QWebPage</code></a> to download a webpage as well as all its resources. At the same time I'd like to get hold on raw data being downloaded by Qt during this process. Doing this by reading data from <a href=\"http://doc.qt.nokia.com/latest/qnetworkreply.html\" rel=\"nofollow\"><code>QNetworkReply</code></a> in <a href=\"http://doc.qt.nokia.com/latest/qnetworkaccessmanager.html#finished\" rel=\"nofollow\"><code>void QNetworkAccessManager::finished(QNetworkReply * reply)</code></a>\nsignal is not a good solution as data could have been already read by <code>QWebPage</code> itself. This is because</p>\n\n<blockquote>\n  <p>QNetworkReply is a sequential-access\n  QIODevice, which means that once data\n  is read from the object, it no longer\n  kept by the device.</p>\n</blockquote>\n\n<p>according to <a href=\"http://doc.qt.nokia.com/latest/qnetworkreply.html#details\" rel=\"nofollow\">detailed description</a> of <code>QNetworkReply</code>.</p>\n\n<p>However <code>QWebPage</code> can be configured to use custom <a href=\"http://doc.qt.nokia.com/latest/qnetworkaccessmanager.html\" rel=\"nofollow\"><code>QNetworkAccessManager</code></a> with overriden <code>createRequest</code> method</p>\n\n<pre><code>QNetworkReply * QNetworkAccessManager::createRequest ( Operation op, const QNetworkRequest &amp; req, QIODevice * outgoingData = 0 )\n</code></pre>\n\n<p>I think the right solution would be to create a proxy for <code>QNetworkReply</code> and return it in the <code>createRequest</code> method. This proxy should allow for reading data from reply as is the case with the original <code>QNetworkReply</code> (so that <code>QWebPage</code> could read data from it) but at the same time this proxy should allow for reading data by other objects after it have been read by <code>QWebPage</code>. In other words we need <a href=\"http://en.wikipedia.org/wiki/Tee_%28command%29\" rel=\"nofollow\">tee</a> for <code>QNetworkReply</code>'s <code>IODevice</code> base class.</p>\n\n<p>How to write this proxy?</p>\n"},{"tags":["windows","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13089740,"title":"Qt modal QDialog with Qt::CustomizeWindowHint display wrong on Windows","body":"<p>I have a Qt dialog application, both with Qt::CustomizeWindowHint flag on. In this case, QMainWindow on maximize overrides task bar.  The call of QDialog doesn't lead to anything. Why?</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    setWindowFlags(Qt::CustomizeWindowHint);\n    showMaximized();\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    TestDialog dlg(this);\n    dlg.exec();\n}\n\n\nTestDialog::TestDialog(QWidget *parent) :\n    CustomQDialog(parent),\n    ui(new Ui::TestDialog)\n{\n    ui-&gt;setupUi(this);\n    setWindowFlags(Qt::CustomizeWindowHint);\n}\n\nTestDialog::~TestDialog()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>Example project: <a href=\"http://rghost.ru/41171471\" rel=\"nofollow\">http://rghost.ru/41171471</a></p>\n"},{"tags":["qt","time"],"answer_count":5,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":9388,"score":10,"question_id":244646,"title":"Qt: Fast way to measure time?","body":"<p>I'm looking for the equivalent in Qt to GetTickCount()</p>\n\n<p>Something that will allow me to measure the time it takes for a segment of code to run as in:</p>\n\n<pre><code>uint start = GetTickCount();\n// do something..\nuint timeItTook = GetTickCount() - start;\n</code></pre>\n\n<p>any suggestions?</p>\n"},{"tags":["c++","qt","phonon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":215,"score":0,"question_id":9095341,"title":"QT phonon playback is failing when a QFILE is used for mediaSource, works fine when a string is passed","body":"<p>Below is the code I am using to play a video</p>\n\n<pre><code> QFile* file =new QFile(“C:\\\\Video\\\\test.avi”);\n   media-&gt;setCurrentSource(Phonon::MediaSource(file));\n   media-&gt;play();\n</code></pre>\n\n<p>Using this code the playback fails -what I see is the play bar at the bottom but the video never starts.</p>\n\n<p>If I change the code to the following everything works as expected</p>\n\n<pre><code>  media-&gt;setCurrentSource(Phonon::MediaSource(“C:\\\\Video\\\\test.avi”));\n  media-&gt;play();\n</code></pre>\n\n<p>Are there additional initialization steps required when using an iodevice? Ultimately my code will be using a custom iodevice which is not working as well. </p>\n"},{"tags":["c++","qt","templates"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13087966,"title":"Function pointer for QVariant.toXXX function","body":"<p>I don't know how to create a function pointer to a method in the Qt library that handles QVariant.  I have a number of places in my code where I convert a QVariantList to a QList where SomeType can be QString, int, QMap or other variables that can be held in the QVariant object.  At the time I'm going to use the method, the type is known.  </p>\n\n<p>Can I write a method using templates?  Below is the pseudo code of the method I'd like to write</p>\n\n<pre><code>template &lt;class T&gt;\nQList&lt;T&gt; QVariantListToQList(QVariantList qvList, (* QVariant::toXXX()) convert)\n{\n    QList&lt;T&gt; qlistOfMembers;\n    foreach(T listMember, qvList)\n    {\n        qlist.OfMember.append(listMmeber.convert());\n    }\n    return qlistOfMembers;\n}\n</code></pre>\n\n<p>A link to the documentation where this is discussed or a method using the correct syntax would be appreciated.</p>\n"},{"tags":["qt","ffmpeg"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13088749,"title":"Efficient conversion of AVFrame to QImage","body":"<p>I need to extract frames from a video in my Qt based application. Using ffmpeg libraries I am able to fetch frames as AVFrames which I need to convert to QImage to use in other parts of my application. This conversion needs to be efficient. So far it seems <code>sws_scale()</code> is the right function to use but I am not sure what source and destination pixel formats are to be specified.</p>\n"},{"tags":["qt","netbeans","jni"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13088313,"title":"Qt, NetBeans, C++ plugin : Code editor live parsing error","body":"<p>I have a simple problem with the live parsing on NetBeans, which only affects the editor;</p>\n\n<p>The code works correctly and all dependencies are been satisfied.\nBut the code editor seems not work correctly. </p>\n\n<p>I've done several searches on the web, but I not found anything, just some old bugs of C++ plugin, but they all have been resolved.</p>\n\n<p><strong>My setup is this (<em>QT library</em>):</strong></p>\n\n<ul>\n<li>OS: Mint 13 - 32x86</li>\n<li>NetBeans: 7.2</li>\n<li>Plugin C++: 1.18.1.1</li>\n<li>Qmake: 4.7</li>\n<li>Project type: Dynamic QT C++ Library</li>\n<li>Include JNI ref. : Yes;</li>\n<li>Include QT ref. : Yes;</li>\n</ul>\n\n<p><a href=\"http://s1322.beta.photobucket.com/user/RTOSkit/media/Screenshot-10262012-021945PM.png.html\" rel=\"nofollow\">NetBeans with Error-> http://s1322.beta.photobucket.com/user/RTOSkit/media/Screenshot-10262012-021945PM.png.html</a></p>\n\n<p><em>You can also see in the first image, which in the \"navigator\" missing prototype of the function</em></p>\n\n<p><strong>In this type of configuration(<em>C++ library with QT include</em>), the error disappears:</strong></p>\n\n<ul>\n<li>OS: Mint 13 - 32x86</li>\n<li>NetBeans: 7.2</li>\n<li>Plugin C++: 1.18.1.1</li>\n<li>GCC: 4.6</li>\n<li>Project type: C++ Dynamic Library</li>\n<li>Include JNI ref. : Yes;</li>\n<li>Include QT ref. : Yes;</li>\n</ul>\n\n<p>It's just a graphic problem, the project works perfectly,\nBut in each line of code that I write, the code editor mark  me a totally nonexistent error.</p>\n\n<p>Is there any solution to this problem? or am I just missing something in the configuration of the IDE?</p>\n\n<p>Thanks to all in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":13087179,"title":"Multi-threading in Qt problematic?","body":"<p>I have been learning Qt for a while and a few days ago I decided to go on multi-threading by <code>QThread</code>. I have been following <a href=\"https://www.youtube.com/watch?v=yazMHbIew0Q&amp;list=SP2D1942A4688E9D63&amp;index=35&amp;feature=plpp_video\" rel=\"nofollow\">this</a> person. Since he says that subclassing <code>QThread</code> is not the appropriate way but by using <code>QObject</code> is. I am following his method. But he has created another class which inherits from <code>QObject</code>. I decided to make a few changes:</p>\n\n<pre><code>class myclass\n{\nprivate:\n    dowork();\n\nprivate slots:\n    slota();\n    slotb();\n    slotc();\n}\n\nmyclass::dowork()\n{\n    QThread lett;\n    QThread latt;\n    QThread pltt;\n    QObject lethread;\n    connect(&amp;lett, SIGNAL(started()), this, SLOT(slota()));\n    lethread.moveToThread(&amp;lett);\n    QObject lathread;\n    connect(&amp;latt, SIGNAL(started()), this, SLOT(slotb()));\n    lathread.moveToThread(&amp;latt);\n    QObject plthread;\n    connect(&amp;pltt, SIGNAL(started()), this, SLOT(slotc()));\n    plthread.moveToThread(&amp;pltt);\n\n    lett.start();    \n    latt.start();\n    pltt.start();/*\n    lett.wait();\n    latt.wait();\n    pltt.wait();*/\n    while(lett.isRunning())\n    {\n        //qDebug() &lt;&lt; \"Still Running!\";\n    }\n    lett.quit();\n}\n</code></pre>\n\n<p>If I run the program it keeps running <code>while</code> loop infinitely! It doesn't come out of that at all.\nI used <code>qdebug</code> inside the implementation of the 3 slots to check whether it is entering them or not, and surprisingly none of the slots gets called. Why is that so?\nIf I remove the comments for <code>.wait</code> then the program pauses.</p>\n\n<p>What is wrong in this method? I want to avoid that extra class as my program is very small.</p>\n"},{"tags":["c++","qt","event-handling","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":30,"score":4,"question_id":13086787,"title":"CancelEvent equivalent in Qt signals","body":"<p>I'm usually used to the .net framework and recently got the chance to work on a project using C++/Qt. In this context, I want to implement the following functionality: (to simplify things lets say I have a ListView and a Textbox/Textedit)</p>\n\n<ul>\n<li>If I select an item of the ListView -> show the corresponding text in the textedit <strong>(done)</strong></li>\n<li>If I edit the text and click on another item in the list -> show a dialog that asks whether to save or cancel the changes <strong>(done)</strong>. The textedit gets a signal from the list telling it that the selected item has changed.</li>\n<li>If the user presses save -> save it back and refresh the item in the list, the new item which the user clicked gets selected in the list <strong>(done)</strong></li>\n<li>If the user presses cancel -> don't select the other item which the user clicked <strong>(this is where my problem is)</strong></li>\n</ul>\n\n<p>Basically I see two solutions (there may be more) to this:</p>\n\n<ul>\n<li>Send a signal back from the textedit to the list, telling the list to restore the previous selection. I personally dont like this solution very much, because I have to couple them stronger (the list sends signals to the textedit and now also the other way around). Also, this 'forced' selection restoration could again trigger subsequent signals that would have to be blocked again...</li>\n<li>A much nicer solution (I think) would be to have some Veto-mechanism in the signals. I could imagine the list to send two signals: \n<ul>\n<li>lets call the first one <code>aboutToChangeSelection(proposedSelection, vetoObj)</code> </li>\n<li>and another one after the action is done: <code>changedSelection(newSelection)</code></li>\n</ul></li>\n</ul>\n\n<p>The first signal would be sent to the textedit, which would then eventually make use of its veto. After this, the same signal would be sent to the list itself, do the action depending of the veto and send the second signal if it actually changed the selection. </p>\n\n<p>In the .NET world there exists such a mechanism, with the help of <a href=\"http://msdn.microsoft.com/en-us/library/system.componentmodel.canceleventargs%28v=vs.80%29.aspx\" rel=\"nofollow\"><code>CancelEventArgs</code></a>. I know that .NET events and Qt signals have quite a different working principle, but is there any Qt equivalent to archieve the same effect?</p>\n\n<p>Thanks a lot for any help!</p>\n"},{"tags":["c++","visual-studio","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":804,"score":0,"question_id":4800004,"title":"QNetworkAccessManager finished signal is not emitted when compiled in release mode (VS 2005)","body":"<p>I have a class that reads web pages. It works as expected when it is build in the debug mode in Visual studio, but doesn't work when it is build in release mode. Basically, the QNetworkAccessManager's finished signal never gets emitted.</p>\n\n<p>I have the code stripped to the bare working minimum and it still doesn't work. I have tried to use QtNetworkd4.lib in release mode (the same library as in debug mode) and disable optimization, but no effect.</p>\n\n<p>I would really appreciate any tips on how I can approach this problem. Thanks in advance!</p>\n\n<p>QT version 4.4</p>\n\n<p><strong><em>Edit</em></strong><br>\nHere is some sample code.</p>\n\n<p><strong>Header:</strong></p>\n\n<pre><code>#include &lt;QNetworkAccessManager&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QStringList&gt;\n\nclass WebReader : public QObject{\n    Q_OBJECT\n\npublic:\n    QStringList *pageData_;\n    WebReader();\n    ~WebReader();\n    void fetch(const QString &amp;url);\n\npublic slots:\n    void slotReplyFinished(QNetworkReply *reply);\n\nprotected:\n    QNetworkAccessManager *netManager_;\n\nprivate: \n    QNetworkReply *netReply_;\n};\n</code></pre>\n\n<p><strong>Cpp:</strong></p>\n\n<pre><code>WebReader::WebReader(){\n    netManager_ = new QNetworkAccessManager(this);\n    pageData_ = NULL;\n    connect(netManager_, SIGNAL(finished(QNetworkReply *)), \n                            this, SLOT(slotReplyFinished(QNetworkReply *)));\n}\nWebReader::~WebReader(){    \n}\n\n// Send a request to read a web page\nvoid WebReader::fetch(const QString &amp;url){\n    netReply_ = netManager_-&gt;get(QNetworkRequest(QUrl(url)));\n}\n\n// SLOT that accepts the read data from the webpage\nvoid WebReader::slotReplyFinished(QNetworkReply *reply){\n    if (NULL != pageData_){\n        delete pageData_;\n    }\n    pageData_ = new QStringList(QString(reply-&gt;readAll()).split(QString(\"\\n\")));\n    netReply_-&gt;deleteLater();\n}\n</code></pre>\n\n<p>As you see, it is stripped down to a bare minimum that works in debug mode.</p>\n"},{"tags":["python","qt","pyside","qtreewidget","qtreewidgetitem"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":13062327,"title":"How to delete QTreeWidgetItem","body":"<p>Several webpages say that <code>QTreeWidgetItem</code> can be deleted by deleting or <code>QTreeWidget.clear</code>ing. But my code sample below doesn't seem to do so. Am I doing anything wrong?</p>\n\n<pre><code>#!/usr/bin/python\nimport sys\nfrom PySide.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem\n#from PyQt4.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem # Result was the same with `PySide`\nimport time\n\nclass TreeWidgetItemChild(QTreeWidgetItem):\n    def __init__(self):\n        super(TreeWidgetItemChild, self).__init__()\n        print 'TreeWidgetItemChild init'\n\n    def __del__(self):\n        print 'TreeWidgetItemChild del'\n\ndef test_QTree_clear_children():\n    tree = QTreeWidget()\n    tree.setHeaderLabel('funksoul')\n    i = TreeWidgetItemChild()    \n    tree.addTopLevelItem(i)    \n    print 'Before clearing'\n    #tree.clear()                  # Didn't call destructor (__del__)\n    #tree.removeItemWidget (i, 0)  # Didn't call destructor\n    #i.__del__()                   # Called destructor but it's called again afterward\n    del i                          # Didn't call destructor\n    time.sleep(1)\n    print 'After clearing'\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    test_QTree_clear_children()\n</code></pre>\n\n<p>Printed as:</p>\n\n<pre><code>TreeWidgetItemChild init\nBefore clearing\nAfter clearing\nTreeWidgetItemChild del\n</code></pre>\n\n<p>Looks to me <code>TreeWidgetItemChild</code> gets deleted upon the termination of process, not by any of my deletion actions.</p>\n"},{"tags":["qt","vector","stack"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13083580,"title":"Qt fastest way to add QVector elements to QStack , avoiding loop","body":"<p>i have main </p>\n\n<pre><code>QStack&lt;TypeFoo*&gt; MainStack\n</code></pre>\n\n<p>now i have from different objects methods output </p>\n\n<pre><code>QVector&lt;TypeFoo*&gt; OutPutVec\n</code></pre>\n\n<p>i like to add the elements of OutPutVec to MainStack without looping , just add them to the bottom if the stack , what is the best way to do this ? do i need to convert my OutPutVec\nto QStack?</p>\n\n<p>is this good and fast more then loop ?</p>\n\n<pre><code>QVector&lt;T&gt; &amp; QVector::operator+= ( const QVector&lt;T&gt; &amp; other )\n</code></pre>\n"},{"tags":["qt","open-source","widget","drawing","diagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13086796,"title":"Qt open-source library to draw routers with links?","body":"<p>I want to draw a network topology diagram with qt.<br>\nTo simplify, I only need to draw routers, pcs and links between them, but I want the routers able to <strong>be dragged with links with mouse</strong> and to save all the widgets into a file and reopened if possible.<br>\nThe diagram will be only part of my program, I plan to configure the routers and computers and complete other functions, too.<br>\nAny good links or suggestions? </p>\n"},{"tags":["qt","gstreamer","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13086930,"title":"Phonon video player (gstremer) stops playing after some time","body":"<p>I have a small phonon application which tries to play videos in an infinite loop. I basically have connected the finished signal() to the play() slot. I use a simple logic to change the videos. I also have a timer for 5 sec which helps me change the video every 5 secs. What I expect is that the application plays the videos forever changing the video every 5 secs.</p>\n\n<p>But, The app stops playing the videos after about an hour or so. When I check it memory usage, every time the video changes its memory increases by 7-10mb and never decreases. By the time the app stops playing videos it was occupying about 2.4G!! The app itself never crashes though.</p>\n\n<p>On Ubuntu 10.04 LTS I can see this memory behavior in the System Monitor and using top. Also at the end I see the following message in the terminal \"mmap() failed: Cannot allocate memory\".</p>\n\n<p>On Ubuntu 12.04 LTS I dont see the memory being taken up but eventually the app stops playing the videos.</p>\n\n<p>The behavior is the same with or without the Timer. Without the timer each video plays for its full duration and hence it takes longer for the app to reach the same state.</p>\n\n<p>For me this looks like a bug or a memory leak some where either in Phonon or in the backend gstreamer. Can anyone confirm that?</p>\n\n<p>Also, to avoid this i am currently trying to build phonon with gstreamer1.0 which hopefully will not have the same bug. Please do suggest any resources for building phonon with gstreamer1.0.</p>\n\n<p>Sky.</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13086544,"title":"QTableWidget: What should I do to keep rows selection while clicking among selected rows?","body":"<p>Mouse clicking among selected items selects current, deselects others. </p>\n"},{"tags":["qt","qml","nokia","meego-harmattan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13085715,"title":"Is there an easy (and not too slow) way to compare two images in Qt/QML to detect motion","body":"<p>I would like to implement a motion detecting camera in Qt/QML for Nokia N9.  I hoped that there would be some built in methods for computing image differences but I can't find any in the Qt documentation.  </p>\n\n<p>My first thoughts were to downscale two consecutive images, convert to one bit per pixel, compute XOR, and then count the black and white pixels.</p>\n\n<p>Or is there an easy way of using a library from somewhere else to achieve the same end?</p>\n\n<p>Edit:\nI've just found some example code on the Qt developer network that looks promising:\n<a href=\"http://qt-project.org/doc/qt-4.8/painting-imagecomposition.html\" rel=\"nofollow\">Image Composition Example</a>.</p>\n"},{"tags":["c++","qt","visual-studio-2012"],"answer_count":2,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":2414,"score":6,"question_id":12113400,"title":"Compiling Qt 4.8.2 for Visual Studio 2012","body":"<p>What steps should I take to compile Qt (the latest version 4.8.2) for Visual Studio 2012?</p>\n\n<p>I already carefully followed the instructions in the accepted answer of <a href=\"http://stackoverflow.com/questions/5601950/how-to-build-qt-for-visual-studio-2010\">this question</a> (which is for VS 2010), but WebKit module failed to compile (I'm not sure if the error message was logged anywhere during compilation).</p>\n\n<p>I also saw <a href=\"http://stackoverflow.com/questions/10863466/how-to-set-visual-studio-2012-rc-compiler-for-qt-instead-of-mingw\">this question</a> which asks the same, but for VS 2012 RC (which is why I thought this wouldn't be a duplicate question). Furthermore, the answerer says he has compiled Qt for VS 2011 Beta, so there's a chance it may not work for VS 2012 (RTM). The compilation takes a <em>lot</em> of time, which is why I have not tried it yet.</p>\n\n<p>At least one problem I realized is that there's no <code>win32-msvc2012</code> directory in <code>Qt\\mkspecs</code>. Should I just create that directory and copy the files from <code>win32-msvc2010</code>, possibly with some modifications?</p>\n\n<p>Another sub-question is whether I should make some modifications to Qt sources before starting compilation.</p>\n"},{"tags":["qt","pyqt","gridlayout"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13080343,"title":"Laying Widgets in QGridLayout","body":"<p>I need to create the <code>QWidget</code>(<code>QtoolButton</code>) in <code>QgridLayout</code> without specifying the indices for row and column. It should automatically get created to next empty cell in the layout according to row and column mentioned.</p>\n\n<p>I was not able to find any method in <code>QgridLayout</code> help.</p>\n\n<p>I tried <code>.addWidget (self, QWidget w)</code>, but it add all the <code>QWidget</code> to the index of (0,0) and all the buttons lie over each other.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","opencv","libjpeg"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12150605,"title":"Why can't I link against opencv and qt when handling jpeg images?","body":"<p>Loading a QImage object from a jpeg file fails when the application is linked against OpenCV 2.3 or 2.4.  The program segfaults when I attempt to create a QImage from a jpeg file</p>\n\n<pre><code>QImage( \"some-jpeg.jpg\" )\n</code></pre>\n\n<p>This is only true if the application is linked against opencv's highgui library.</p>\n\n<p>I'm building on Ubuntu 12.04 with OpenCV 2.4 and Qt 4.8.1</p>\n\n<p>Does anyone know why this is happening and how I can work around this?  My research project uses OpenCV's image processing code and the frontend depends on Qt.</p>\n\n<p>I've put a bug report in to Qt (https://bugreports.qt-project.org/browse/QTBUG-27032).  I tried at OpenCV, but their registration project is borked or something, because it accepted registration info, but then denies attempts to log in...</p>\n\n<p>qt-cv-jpg-test.pro</p>\n\n<pre><code>QT += core gui\n\nTARGET = qt-cv-jpg-test\nTEMPLATE = app\n\nINCLUDEPATH += /usr/local/include\nLIBS += -L/usr/local/lib -lopencv_highgui -lopencv_core\n\nSOURCES += main.cpp\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QImage&gt;\n#include \"opencv2/core/core.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\nint main(int argc, char *argv[])\n{\n    QString fileName = \"some-jpeg.jpg\";\n    cv::Mat cvImage = cv::imread( fileName.toStdString() );\n    QImage qtImage( fileName );\n    return 0;\n}\n</code></pre>\n\n<p>The program segfaults, but here is the stack:</p>\n\n<pre><code>0   jpeg_CreateDecompress   /usr/local/lib/libopencv_highgui.so.2.4 0   0x7ffff7ae55fc  \n1   ??  /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqjpeg.so  0   0x7ffff0549ee7  \n2   ??  /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqjpeg.so  0   0x7ffff054a18f  \n3   QImageReader::read(QImage*) /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c3f0c8  \n4   QImageReader::read()    /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c3f6f7  \n5   QImage::load(QString const&amp;, char const*)   /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c348dc  \n6   QImage::QImage(QString const&amp;, char const*) /usr/lib/x86_64-linux-gnu/libQtGui.so.4 0   0x7ffff6c34a75  \n7   main    main.cpp    9   0x400d10\n</code></pre>\n\n<p>I don't really know why an opencv method is showing up at the bottom of the stack.  I built opencv telling it to use the libjpeg on the file system.  I have both libjepg 6.2 and libjpeg8 installed on the system.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13082616,"title":"Qt Object::connect: No such slot Signal to Thread Slot","body":"<p>i try to invoke Slot in thread object when threas started but getting this error:</p>\n\n<pre><code>Object::connect: No such slot Worker::doWork(pFoo)\n</code></pre>\n\n<p>the thread executing code:</p>\n\n<pre><code>// main class   \n\n            m_WorkerThread = new QThread();\n\n             FooStack* pfooStack = InternalStorageManager::getInstance()-&gt;getStack();\n             m_Worker = new Worker();\n             bool done = connect(m_WorkerThread,\n                                    SIGNAL(started()),\n                                    m_Worker,\n                                    SLOT(doWork(pfooStack))); \n\n             m_Worker-&gt;moveToThread(m_WorkerThread);          \n             m_WorkerThread-&gt;start();\n\n\n\n// class Worker\n // cpp imple            \nvoid Worker::doWork(FooStack *&amp; rp_urlsStack)\n{\n\n}\n// header \nclass Worker : public QObject\n{\n\n    Q_OBJECT\n\n    public :\n\n        Worker();\n        ~Worker();\n    public slots:\n        void doWork(FooStack *&amp;);\n\n};\n</code></pre>\n"},{"tags":["python","qt","pyqt","qtwebkit","qwebview"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":956,"score":3,"question_id":3072531,"title":"Loading page with frames for a screenshot","body":"<p>I have an app that renders a web page in a iframe, and then loads X number of images in a div that overlays the frame. </p>\n\n<p>So I have this python script that loads the url, and takes a screenshot. It works on regular web pages, but I think the frame is throwing it off. Below is my code, and a link to the screenshot it's taking.</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport signal\n\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtWebKit import QWebPage\n\ndef onLoadFinished(result):\n    if not result:\n        print \"Request failed\"\n        sys.exit(1)\n\n    #screen = QtGui.QDesktopWidget().screenGeometry()\n    size = webpage.mainFrame().contentsSize()\n    # Set the size of the (virtual) browser window\n    webpage.setViewportSize(webpage.mainFrame().contentsSize())\n\n    # Paint this frame into an image\n    image = QImage(webpage.viewportSize(), QImage.Format_ARGB32)\n    painter = QPainter(image)\n    webpage.mainFrame().render(painter)\n    painter.end()\n    image.save(\"/var/www/html/output.png\")\n    sys.exit(0)\n\n\nqtargs = [sys.argv[0]]\nqtargs.append(\"-display\")\nqtargs.append(\":0\")\n\napp = QApplication(qtargs,True)\n#app = QApplication(sys.argv)\nsignal.signal(signal.SIGINT, signal.SIG_DFL)\n\nwebpage = QWebPage()\nwebpage.mainFrame().setScrollBarPolicy(Qt.Horizontal, Qt.ScrollBarAlwaysOff)\nwebpage.mainFrame().setScrollBarPolicy(Qt.Vertical, Qt.ScrollBarAlwaysOff)\nwebpage.connect(webpage, SIGNAL(\"loadFinished(bool)\"), onLoadFinished)\nwebpage.mainFrame().load(QUrl(\"http://localhost/heatmap\"))\n\nsys.exit(app.exec_())\n</code></pre>\n\n<p>Screenshot taken:\n<a href=\"http://img28.imageshack.us/img28/7506/outputc.png\" rel=\"nofollow\">http://img28.imageshack.us/img28/7506/outputc.png</a></p>\n\n<p>As you can see in the above image, the page is shrunk into a small image with scroll bars, not showing the entire page with the iframe and div on top of it. Do I somehow need to load the stylesheets or force it to render like it is in the browser? Qt.ScrollbarAlwaysOff doesn't really seem to be working in my instance. The \"placeholder text\" is part of the webpage, and the image is what is making it kind of grey, with a blue smug and color key in the top left.</p>\n\n<p>When I print the contents of webpage.mainFrame().contentsSize() for my app, I get\nPyQt4.QtCore.QSize(400, 158)</p>\n\n<p>But when I render something like www.google.com, I get\nPyQt4.QtCore.QSize(617, 573)</p>\n\n<p>So something isn't being loaded properly to mess up the contentsSize(). Ideas on where I have gone wrong?</p>\n"},{"tags":["qt","embedded","x11","cross-compiling","powerpc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1255,"score":2,"question_id":3877425,"title":"How to cross-compile Qt X11 for PowerPC?","body":"<p>I have been trying to get Qt X11 cross compiled for PowerPC for a while now and kept having various problems.</p>\n\n<p>From the information given my Qt support, all one needs to do is:</p>\n\n<ol>\n<li>Create a new mkspec</li>\n<li>Copy an existing directory in <code>mkspec/</code>  I used linux-g++ and modified it.</li>\n<li>Modify qmake.conf to use your toolchain, libraries and includes</li>\n<li><p>Run the following configure command:</p>\n\n<p><code>./configure -arch &lt;your arch&gt; -xplatform &lt;your mkspec&gt; -prefix &lt;where you want Qt installed&gt; &lt;other options&gt;</code></p></li>\n<li><p>After configure is done, run <code>make</code> then <code>make install</code>.  You'll find Qt installed in the directory you specified in the <code>-prefix</code> option.</p></li>\n</ol>\n\n<p>Had all kinds of problems doing this.</p>\n"},{"tags":["c++","qt","mingw","protocol-buffers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":146,"score":2,"question_id":13000290,"title":"Generated Protobuf code crashes application","body":"<p>I'm trying to implement save-file for application, by using Protocol Buffers by Google.</p>\n\n<p><strong>Preparation</strong></p>\n\n<p>A simple test .proto file has been created to test functionality:  </p>\n\n<pre><code>message LessonFile {  \n  optional string creator = 1;  \n}\n</code></pre>\n\n<p>Created .pb.cc and .pb.h are included into project. Lib and include directory are specified in project's properties.</p>\n\n<p><strong>Problem</strong><br>\nIncluding newly generated code into project results application crash during runtime.</p>\n\n<p>By debugging crash state, it pointed on this function: </p>\n\n<pre><code>UnknownFieldSet::UnknownFieldSet()\n    : fields_(NULL) {} ---------here---------\n</code></pre>\n\n<p>while frame above points on:</p>\n\n<pre><code>LessonFile::LessonFile()\n    : ::google::protobuf::Message() { ---------here---------\n    SharedCtor();\n}\n</code></pre>\n\n<p>Call stack:</p>\n\n<blockquote>\n  <p>google::protobuf::UnknownFieldSet::UnknownFieldSet (this=0x770e3cc3)\n  LessonFile (this=0xba64b30) protobuf_AddDesc_LessonFile_2eproto ()\n  StaticDescriptorInitializer_LessonFile_2eproto (this=0x4bc108)\n  __static_initialization_and_destruction_0 (__initialize_p=1, __priority=65535) global constructors keyed to _Z38protobuf_AssignDesc_LessonFile_2eprotov ()\n  __do_global_ctors ()\n  __mingw_CRTStartup () WinMainCRTStartup ()</p>\n</blockquote>\n\n<p><strong>Additional info</strong><br>\nEnvironment: Netbeans; Windows7-64; Qt-4.8.1 + mingw, protobuf-2.4.1.<br>\nAlso there were problems with Protobuf compilation process: <em>make check</em> is constantly fails with this messages:</p>\n\n<blockquote>\n  <p>In file included from ./include/gtest/gtest-param-test.h:159:0,\n                   from ./include/gtest/gtest.h:59,\n                   from src/gtest.cc:34: ./include/gtest/internal/gtest-param-util-generated.h: In\n  instantiation of ::operator\n  testing::internal::ParamGenerator() const [with T = bool; T1 =\n  bool; T2 = bool]>: ./include/gtest/gtest-param-test.h:1186:28:<br>\n  required from here\n  ./include/gtest/internal/gtest-param-util-generated.h:80:26: error:\n   was not declared in this scope, and no declarations were\n  found by argument-dependent lookup at the point of instantiation\n  [-fpermissive] In file included from ./include/gtest/gtest.h:59:0,\n                   from src/gtest.cc:34: ./include/gtest/gtest-param-test.h:288:58: note:   testing::internal::ParamGenerator testing::ValuesIn(const Container&amp;)> declared\n  here, later in the translation unit</p>\n</blockquote>\n\n<p>though <em>libraries</em> and <em>protoc.exe</em> were compiled successfully and <em>make install</em> created include directory and lib*.a/lib*.dll.a files.</p>\n"},{"tags":["c++","qt","qt4.8"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13079102,"title":"QLabel wordWrap setting produces unexpected sizeHint","body":"<p>Below is a very simple Qt ui file to show my issue. (using Qt 4.8.0 on Windows 7 64bit)</p>\n\n<p>To reproduce the problem, load the file in designer on Windows (may happen on other OS's too) and press ctrl+R to display the dialog described by the file. Start typing in the edit field and then grab the lower right corner to resize the dialog. The size of the dialog will pop to fit the label's new text which is expected. What's not expected is that there is a variable amount of space at the bottom of the label depending on what gibberish you typed into the line edit (sometimes more, sometimes less).</p>\n\n<p>Why does a wordWrap QLabel get so confused as to how tall it should be when it basically has a fixed width?</p>\n\n<p>test.ui</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;Dialog&lt;/class&gt;\n &lt;widget class=\"QDialog\" name=\"Dialog\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;86&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"sizePolicy\"&gt;\n   &lt;sizepolicy hsizetype=\"Fixed\" vsizetype=\"Fixed\"&gt;\n    &lt;horstretch&gt;0&lt;/horstretch&gt;\n    &lt;verstretch&gt;0&lt;/verstretch&gt;\n   &lt;/sizepolicy&gt;\n  &lt;/property&gt;\n  &lt;property name=\"minimumSize\"&gt;\n   &lt;size&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;0&lt;/height&gt;\n   &lt;/size&gt;\n  &lt;/property&gt;\n  &lt;property name=\"maximumSize\"&gt;\n   &lt;size&gt;\n    &lt;width&gt;360&lt;/width&gt;\n    &lt;height&gt;16777215&lt;/height&gt;\n   &lt;/size&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;Dialog&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;layout class=\"QGridLayout\" name=\"gridLayout\"&gt;\n   &lt;item row=\"2\" column=\"0\"&gt;\n    &lt;widget class=\"QDialogButtonBox\" name=\"buttonBox\"&gt;\n     &lt;property name=\"orientation\"&gt;\n      &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;\n     &lt;/property&gt;\n     &lt;property name=\"standardButtons\"&gt;\n      &lt;set&gt;QDialogButtonBox::Ok&lt;/set&gt;\n     &lt;/property&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n   &lt;item row=\"1\" column=\"0\"&gt;\n    &lt;widget class=\"QLabel\" name=\"label\"&gt;\n     &lt;property name=\"alignment\"&gt;\n      &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n     &lt;/property&gt;\n     &lt;property name=\"wordWrap\"&gt;\n      &lt;bool&gt;true&lt;/bool&gt;\n     &lt;/property&gt;\n    &lt;/widget&gt;\n   &lt;/item&gt;\n   &lt;item row=\"0\" column=\"0\"&gt;\n    &lt;widget class=\"QLineEdit\" name=\"lineEdit\"/&gt;\n   &lt;/item&gt;\n  &lt;/layout&gt;\n &lt;/widget&gt;\n &lt;resources/&gt;\n &lt;connections&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;lineEdit&lt;/sender&gt;\n   &lt;signal&gt;textChanged(QString)&lt;/signal&gt;\n   &lt;receiver&gt;label&lt;/receiver&gt;\n   &lt;slot&gt;setText(QString)&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;120&lt;/x&gt;\n     &lt;y&gt;14&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;146&lt;/x&gt;\n     &lt;y&gt;47&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;buttonBox&lt;/sender&gt;\n   &lt;signal&gt;rejected()&lt;/signal&gt;\n   &lt;receiver&gt;Dialog&lt;/receiver&gt;\n   &lt;slot&gt;reject()&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;304&lt;/x&gt;\n     &lt;y&gt;76&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;286&lt;/x&gt;\n     &lt;y&gt;85&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;buttonBox&lt;/sender&gt;\n   &lt;signal&gt;accepted()&lt;/signal&gt;\n   &lt;receiver&gt;Dialog&lt;/receiver&gt;\n   &lt;slot&gt;accept()&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=\"sourcelabel\"&gt;\n     &lt;x&gt;236&lt;/x&gt;\n     &lt;y&gt;76&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=\"destinationlabel\"&gt;\n     &lt;x&gt;157&lt;/x&gt;\n     &lt;y&gt;85&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n &lt;/connections&gt;\n&lt;/ui&gt;\n</code></pre>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":13059321,"title":"Why won't my generated .sln file open in Visual Studio 2010?","body":"<p>I'm dealing with a fairly large C++ code base. The code base is normally intended to be compiled under Linux, using custom build scripts and makefiles. I'm porting the code into Visual Studio, which as anyone who's used Visual Studio would agree, is a pain to do manually. </p>\n\n<p>My own looking has been kind of fruitless, so I started writing my own utility in Qt to analyze the codebase and generate a solution file and accompanying <code>.vcxproj</code> files. I've been using the <code>QUuid</code> class to generate GUIDs for each of the projects, and I'm using <code>QTextStream</code> to write the <code>.sln</code> file.</p>\n\n<p>Now, here's the problem: When I open the generated <code>.sln</code> file, I see the following errors.\n<img src=\"http://i.stack.imgur.com/0gOTt.png\" alt=\"The selected file is not a valid solution file\">\n<img src=\"http://i.stack.imgur.com/6SPjb.png\" alt=\"The system can not find the file specified\"></p>\n\n<p>I'm currently trying to generate a solution that I've already manually created within the Visual Studio IDE. I've compared my generated <code>.sln</code> file against the the one Visual Studio created, and apart from the projects appearing in a different order and the GUIDs not matching (obviously), I can't spot a difference. I'm including a simplifed example of my problem here.</p>\n\n<p><strong>Visual Studio generated this:</strong></p>\n\n<pre><code>Microsoft Visual Studio Solution File, Format Version 11.00\n# Visual Studio 2010\nProject(\"{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}\") = \"mylib\", \"mylib\\mylib.vcxproj\", \"{35BAFEEE-35FA-4313-AF67-AF8AB7458451}\"\nEndProject\nGlobal\n    GlobalSection(SolutionConfigurationPlatforms) = preSolution\n        Debug|Win32 = Debug|Win32\n        Release|Win32 = Release|Win32\n    EndGlobalSection\n    GlobalSection(ProjectConfigurationPlatforms) = postSolution\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Debug|Win32.ActiveCfg = Debug|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Debug|Win32.Build.0 = Debug|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Release|Win32.ActiveCfg = Release|Win32\n        {35BAFEEE-35FA-4313-AF67-AF8AB7458451}.Release|Win32.Build.0 = Release|Win32\n    EndGlobalSection\n    GlobalSection(SolutionProperties) = preSolution\n        HideSolutionNode = FALSE\n    EndGlobalSection\nEndGlobal\n</code></pre>\n\n<p><strong>And I generated this:</strong></p>\n\n<pre><code>Microsoft Visual Studio Solution File, Format Version 11.00\n# Visual Studio 2010\nProject(\"{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}\") = \"mylib\", \"mylib\\mylib.vcxproj\", \"{A09FDB84-49CD-4C14-9D7D-D813D2D905EF}\"\nEndProject\nGlobal\n    GlobalSection(SolutionConfigurationPlatforms) = preSolution\n        Debug|Win32 = Debug|Win32\n        Release|Win32 = Release|Win32\n    EndGlobalSection\n    GlobalSection(ProjectConfigurationPlatforms) = postSolution\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Debug|Win32.ActiveCfg = Debug|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Debug|Win32.Build.0 = Debug|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Release|Win32.ActiveCfg = Release|Win32\n        {A09FDB84-49CD-4C14-9D7D-D813D2D905EF}.Release|Win32.Build.0 = Release|Win32\n    EndGlobalSection\n    GlobalSection(SolutionProperties) = preSolution\n        HideSolutionNode = FALSE\n    EndGlobalSection\nEndGlobal\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>What do these specifc error messages mean?</li>\n<li>Is there any way I can get more specific information on what's wrong with the <code>.sln</code> file?</li>\n<li>Is there something wrong with the GUIDs I'm generating? Should I be using the Visual Studio tool to create GUIDs?</li>\n<li>Is there some metadata or other invisible special sauce in the file that I'm missing?</li>\n</ol>\n\n<p>I'm pretty sure the issue isn't with text encoding--I used notepad to create a UTF-8 version of the <code>.sln</code> and tried opening that instead. </p>\n\n<p>In light of everything, it seems like my GUIDs are causing the issue--though I'm not sure how or why. </p>\n\n<h2>Update</h2>\n\n<p>The only major difference I noticed between these files was the file size. The two files differ by exactly 3 bytes, but I couldn't see anything in the file using my text editor. However, an article by <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow\">Joel Spolsky</a> got me thinking. There ain't no such thing as plain text--everything's just a representation of 1's and 0's, after all. </p>\n\n<p>I opened up the two files in a hex editor, and presto, I found the 3 bytes at the start of the Microsoft-generated file! (<code>0xEF, 0xBB, 0xBF</code>). These three bytes also appear in a Visual Studio 2008 solution I had lying around on a different machine. I could probably write my code to slip these bytes into the file before I start writing the solution, but that still begs the question:</p>\n\n<p><strong>What the heck are these bytes for, and why is Microsoft using them?</strong></p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13077803,"title":"Polymorphic C++ with Pure Virtual Function destructor","body":"<p>I am not sure if the following code is safe from memory leak.</p>\n\n<pre><code>#ifndef RENDERABLE_H\n#define RENDERABLE_H\n\nclass QGLShaderProgram;\nclass GLWidget;\nclass BoundingBox;\n\nclass Renderable{\n\npublic:\n    virtual void update(float duration) = 0;\n    virtual void render(QGLShaderProgram&amp; shader, float duration) = 0;\n    virtual BoundingBox* getBBox() const = 0;\n    virtual void translate(float xx, float yy, float zz) = 0;\n    virtual void rotate(float degrees_x, float degrees_y, float degrees_z) = 0;\n    virtual void scale(float xx, float yy, float zz) = 0;\n};\n\n#endif // RENDERABLE_H\n</code></pre>\n\n<p>The above \"interface\" is been implemented by object3d.cpp. We may then add many Object3D objects into a Scene object if they belong to the same scene. However, upon the end of the scene, I want to ensure there is no memory leak and so I would call delete on everything. However, in the scene object, I have the following variable:</p>\n\n<pre><code>QVector&lt;Renderable*&gt;* sceneObjects;\nQVector&lt;GLTexture2D*&gt;* sceneTextures;\nQMap&lt;QString, Material*&gt;* sceneMaterials;\n</code></pre>\n\n<p>As you can see, </p>\n\n<pre><code>delete sceneObjects;\ndelete sceneTextures;\ndelete sceneMaterials;\n</code></pre>\n\n<p>should delete the QVector and according to Qt, it should call the destructor of those objects in it. However, Qt documentation were not clear about object POINTERS. Would Qt delete object pointers with their proper destructor? Additionally, what happens to Renderable pointers? As you can see from the \"interface\" that it has no destructor.</p>\n\n<p>Thanks for any input.\nChaoSXDemon</p>\n"},{"tags":["c++","windows","qt","compilation","cmake"],"answer_count":6,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":889,"score":13,"question_id":7735979,"title":"Fast Qt C++ compile on windows","body":"<p>I have a large project that uses the Qt framework and am trying to find the fastest way to compile it on my Windows install.</p>\n\n<p>On my linux machine at home I use 3 year old Linux Mint setup with a dual core <em>(the machine is 3 years old not Linux Mint install)</em>, using: make -j2 both cores are used full(ish) and compiles the code relatively quick, around 10 minutes from clean build.</p>\n\n<p>However on my work Windows PC which is 2.0 GHz Intel Core 2 Quad (XP) I can never seem to get the compiles to be as fast as my Linux box.  The developer docs for the program recommend using Visual Studio C++ using the project file generated from cmake but that only seems to use one core and takes well over a hour to compile vs about 10 minutes (from clean build) on my Linux install.</p>\n\n<p>I have tred using <a href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=3&amp;ved=0CCsQFjAC&amp;url=http://labs.qt.nokia.com/2009/03/27/speeding-up-visual-c-qt-builds/&amp;rct=j&amp;q=jom%20qt&amp;ei=ky6VTsqoN-uTiAeSwsSHBg&amp;usg=AFQjCNHYl0IBb7iewb52bsXBJ3OiDeJpbw&amp;sig2=4FLQu_xxWtzUMqbt9YVkgw\" rel=\"nofollow\">jom</a> but even when using all the cores it still takes around an hour and half because it only seems to use small amounts of cpu on each core.</p>\n\n<p>Doesn't make sense to me that my old Linux machine builds quick but the quad core just slumps along.    </p>\n"},{"tags":["c++","arrays","qt","random"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13077356,"title":"Generate unique multiple random numbers","body":"<p>I want to generate unique random numbers and add item in function of these random numbers. Here is my code :</p>\n\n<p>The problem is when i verify if the number generated exist in the array with the code <code>results.contains(randomNb)</code> :</p>\n\n<pre><code>   int nbRandom = ui-&gt;randoomNumberSpinBox-&gt;value();\n   //nbRandom is the number of the random numbers we want\n   int i = 1;\n   int results[1000];\n   while ( i &lt; nbRandom ){\n       int randomNb = qrand() % ((nbPepoles + 1) - 1) + 1;\n       if(!results.contains(randomNb)){\n           //if randomNb generated is not in the array...\n           ui-&gt;resultsListWidget-&gt;addItem(pepoles[randomNb]);\n           results[i] = randomNb;\n           //We add the new randomNb in the array\n           i++;\n       }\n   }\n</code></pre>\n"},{"tags":["c++","qt","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13076953,"title":"How to know if a string exist in a item based ListView Qt C++","body":"<p>I want to know if a string exists in any item of a list view in C++ with Qt, how to do that ?</p>\n"},{"tags":["c++","arrays","qt","qt-creator","qfile"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13076388,"title":"How to add data in array QT C++","body":"<p>I want to read line by line a text file and add each line in a array, I try something like that, but something is wrong with my array, what ?</p>\n\n<pre><code>QFile inputFile(\"C:\\\\pepoles.txt\");\nif (inputFile.open(QIODevice::ReadOnly))\n{\n    QTextStream in(&amp;inputFile);\n    QString pepoles[1000];\n    while ( !in.atEnd() )\n    {\n        QString line = in.readLine();\n        pepoles[] = line;\n    }\n    ui-&gt;lineEdit-&gt;setText(pepoles[0]);\n}\nelse{\n    QMessageBox::critical(this, \"Ouups\",\n                          \"Le fichier est introuvable ou vide...\");\n}\n\ninputFile.close();\n}\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["c++","qt","dll"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13075258,"title":"how to call function in c++ from delphi compiled dll","body":"<p>I have a problem with using dll library made in delphi. I don't have sources for it - only dll and interface. I want to import it in my c++ program. I don't need to use QT for loading (but it would be probably the best option as ) - also standard Windows api is applicable. </p>\n\n<p>First, <strong>interface of the dll:</strong></p>\n\n<pre><code>Unit VPInterface;\ninterface\n\ntype\n TSignal     = array of double;\n ShortVector = array[0..11] of double;\n\nfunction VP(s: TSignal): ShortVector; stdcall;\n stdcall external 'VoicePrint.dll' name 'VP';\n\nimplementation\n\nEnd {VPInterface.pas}.\n</code></pre>\n\n<p><strong>The QT version:</strong></p>\n\n<pre><code>typedef double* (*VPFunct)(double[]);\nvector&lt;double&gt; v_double;\n// put some values in v_double\nQLibrary lib(\"VoicePrint.dll\");\nVPFunct vpfunct = (VPFunct) lib.resolve(\"VP\");\nif (vpfunct) {\n  double * res = vpfunct(&amp;v_double[0]);\n}\n</code></pre>\n\n<ol>\n<li>The function is called and some output is returned but it's rubbish. As you can see I passed internal vector's array (&amp;v_double[0]). I tried with double array on stack but the function haven't finished. Can someone explain it why?</li>\n<li><p>Why I don't see correct results? I have similar code in C# and it works:</p>\n\n<pre><code>namespace WAT_DLL_TEST\n{\npublic class VoicePrint\n{\n    [DllImport(\"VoicePrint.dll\", CharSet = CharSet.Ansi, EntryPoint = \"VP\", CallingConvention = CallingConvention.StdCall)]\n    [return: MarshalAs(UnmanagedType.Struct)]\n    public static extern ShortVector VP(double[] signal);\n\n\n    [StructLayout(LayoutKind.Explicit, Size = 48)]\n    public unsafe struct ShortVector\n    {\n        [FieldOffset(0)]\n        public fixed double m_buffer[6];\n    }\n\n}\n}\n</code></pre></li>\n</ol>\n\n<p>May a structure be the actual problem?</p>\n\n<p>And here is my code for running it using windows api:</p>\n\n<pre><code>HINSTANCE hinstDLL;\nVPFunct myFunct;\nBOOL fFreeDLL;\n\nhinstDLL = LoadLibrary(L\"VoicePrint.dll\");\nif (hinstDLL != NULL)\n{\n    myFunct = (VPFunct) GetProcAddress(hinstDLL, \"VP\");\n    if (myFunct != NULL) {\n        double * dptr = myFunct(&amp;v_double[0]);\n        for(int i=0; i&lt;11; i++)\n            cout &lt;&lt; dptr[i] &lt;&lt; endl;\n    }\n    fFreeDLL = FreeLibrary(hinstDLL);\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["c++","qt","vector"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13055792,"title":"Deleting from vector and QVBoxLayout","body":"<p>I use QT and have a vector and a QVBoxLayout filled with Widgets. It's no Problem to fill both with an <code>Add</code> Button, but deleting them doesn't really work.</p>\n\n<p>If I delete the Widgets from last to first everything works just fine, but when I try to delete them in any other way everything fails. Maybe someone has an idea?</p>\n\n<pre><code>void listwindow::remove_entry()\n{\n vector&lt;todo_list_entry *&gt;::iterator pos;\n\n int i=0;\n for (pos=list_entrys_vector.begin();pos&lt;=list_entrys_vector.end();pos++)\n {\n  if((**pos).check_delete()==true)\n  {\n   listenLayout-&gt;removeWidget(*pos);\n   listenLayout-&gt;update();\n   list_entrys_vector.erase(pos);\n   delete list_entrys_vector[i];\n   break;\n  }\n  i++;\n }\n} \n</code></pre>\n"},{"tags":["qt","licensing","qt4"],"answer_count":7,"favorite_count":5,"up_vote_count":16,"down_vote_count":1,"view_count":12593,"score":15,"question_id":352896,"title":"Qt commercial licenses?","body":"<p>Does anyone know the details of the Qt commercial license? Cost? Hidden policy gotchas, single and multi platform etc?</p>\n\n<p>Forgive my laziness, however their website offers few details and I thought I would ask here about anyone's specific experiences prior to submitting to the sales pitch.</p>\n\n<p>Is the commercial vs open source installation different in license only?</p>\n\n<p>What's to keep me from developing something in the Open Source version then buy the commercial license other than their policy?</p>\n\n<p>I think they might sell more licenses if they decreased the margin a bit...</p>\n\n<p>I do like the platform and it has been said that it's worth the expense. Thanks in advance for your thoughts.</p>\n\n<p><strong>UPDATE:</strong> Qt will become LGPL <a href=\"http://www.qtsoftware.com/about/licensing\">Link</a></p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13075643,"title":"Sorting by date in QTreeWidget","body":"<p>I have a QTreeWidget with 3 columns. It is used in a search function and the tree holds </p>\n\n<ol>\n<li>Result name</li>\n<li>Result date</li>\n<li>Number of hits in result for $searchterm. </li>\n</ol>\n\n<p>The default behavior is to sort by date descending. This originally worked perfectly since that was done through the SQL query and just loaded into the tree afterward. However, things got broken when I decided to allow the user to sort by the other columns and not just date. </p>\n\n<p>The dates are in mm/dd/yyyy format but the QTreeWidget ignores the year while sorting in favor of month and day. It seems to want to treat dates like integers. The month and day are sorted correctly but the years are mixed together when they should not be. ( 10/06/2012, 10/06/2011, 10/05/2012, etc.) Is there a way I can tell the QTreeWidget sort function to give year the top priority (so that everything from 2012 is grouped together, everything from 2011 is grouped together, etc.) or even tell it to use a date format in that column? </p>\n"},{"tags":["qt","sdk","compiler-errors","installer","compatibility"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13050251,"title":"Issues Making a SciDAVis Installer","body":"<p>I've been trying to make an installer for SciDAVis after adding a new .py to the source code on .  I've been following the steps discussed on the site: <a href=\"http://fossies.org/unix/privat/scidavis-0.2.4.tar.gz:a/scidavis-0.2.4/INSTALL.html\" rel=\"nofollow\">http://fossies.org/unix/privat/scidavis-0.2.4.tar.gz:a/scidavis-0.2.4/INSTALL.html</a>.  For all of the libraries the process worked just fine, but once I got to the section where you \"make\" scidavis, I get the warnings below:</p>\n\n<p>C:\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4>make</p>\n\n<p>bldmake bldfiles</p>\n\n<p>ABLD.BAT build winscw udeb</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\EXPORT.make\" EXPORT VERBOSE=-s\nmake[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>Nothing to do</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" MAKEFILE VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW MAKMAKE</p>\n\n<p>perl -S makmake.pl  -D \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54 WINSCW</p>\n\n<p>MMPFILE \"\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP\"</p>\n\n<p>ERROR: Unable to identify a valid CodeWarrior for Symbian OS installation</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(76) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(77) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\sys\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(90) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\oem\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(93) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(94) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(95) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(97) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\sc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(98) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\middleware\\loc\\sc\\\" not found</p>\n\n<p>WARNING: \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP(101) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\stlport\\\" not found</p>\n\n<p>make[1]: <em>*</em> [MAKEFILESCIDAVIS_0XECC45F54] Error 255</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" LIBRARY VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW LIB\nmake -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW\" LIBRARY</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [LIBRARYSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" RESOURCE CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB RESOURCE</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" RESOURCEUDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W</p>\n\n<p>INSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [RESOURCESCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" TARGET CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB BLD</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW\" UDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.WINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [TARGETSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" FINAL CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB FINAL\nmake -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational0 -f \"MAKEFILE_0XE22E90C0.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE22E90C0\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational1 -f \"MAKEFILE_0XE215DAF2.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE215DAF2\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\explin -f \"MAKEFILE_0XEC0F6EB3.MK\" TO_ROOT=..................\nEPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XEC0F6EB3\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\\nscidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\exp_saturation -f \"MAKEFILE_0XE7042D5D.MK\" TO_ROOT=.............\n..... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE7042D5D\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Data\\C\nompiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\Me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\planck_wavelength -f \"MAKEFILE_0XE0B487AA.MK\" TO_ROOT=...........\n....... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE0B487AA\\WINSCW TO_BLDINF=..................\\Users\\Me\\Desktop\\Projects\\Dat\na\\Compiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make[1]: Leaving directory `C:/Users/Me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>My OS is Windows 7 Professional 64-bit.  For the libraries I am using:</p>\n\n<p>qwt-5.0.1</p>\n\n<p>qwtplot3d-0.2.7</p>\n\n<p>sip-4.13.3</p>\n\n<p>PyQt4-win-gpl-4.9.4</p>\n\n<p>muparser_v2_2_2</p>\n\n<p>zlib-1.2.3</p>\n\n<p>scidavis-0.2.4</p>\n\n<p>I downloaded QTSDK 1.0 so I can use Qt 4.6.3 in order to qmake, make, and make install, since it has QAssistantClient, unlike the newer versions.  Does anyone have any suggestions on how to fix these Warnings and Errors?</p>\n\n<p>On a side note, I have tried searching the SciDAVis forums for help, but they have been fairly inactive for several months.</p>\n\n<p>Thank you.</p>\n\n<p>*<strong><em>UPDATE</em>*</strong></p>\n\n<p>10/25/2012</p>\n\n<p>So the warnings have been removed.  While I was trying to run \"make\" with a newer Qt (~ >4.6.3) I needed to change a few \\ to /, in order to fix some other warnings I was seeing.  Now that I have a more appropriate version of Qt (4.6.3), that change was causing the warnings.  After fixing the changes I now receive the following messages:</p>\n\n<p>bldmake bldfiles\nABLD.BAT build winscw udeb\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\EXPORT.make\" EXPORT VERBOSE=-s\nmake[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>Nothing to do</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" MAKEFILE VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW MAKMAKE</p>\n\n<p>perl -S makmake.pl  -D \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54 WINSCW</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP:40: unterminated string or character constant</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP:40: possible real start of unterminated constant</p>\n\n<p>ERROR: cpp.exe returned non-zero exit status (8448)\n        cpp.EXE -dU -undef -nostdinc -+  -I \"C:\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\" -I . -I \"C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0\n.2.4\\scidavis\\\" -D CW32=<strong>__<em>CW32 -D WINS=</em>_</strong><em>WINS -D WINSCW=</em>____WINSCW  -I </p>\n\n<p>\"C:\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\variant\" -include \"C:\\NokiaQtSDK\\Symbian\n\\SDK\\epoc32\\include\\variant\\Symbian_OS.hrh\" </p>\n\n<p>\"C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis\\SCIDAVIS_0XECC45F54.MMP\"</p>\n\n<p>make[1]: <em>*</em> [MAKEFILESCIDAVIS_0XECC45F54] Error 33</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" LIBRARY VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW LIB</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" LIBRARY</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [LIBRARYSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" RESOURCE CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB RESOURCE\nmake -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" RESOURCEUDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W\nINSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [RESOURCESCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" TARGET CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB BLD</p>\n\n<p>make -s  -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC\n45F54.WINSCW\" UDEB</p>\n\n<p>make[2]: \\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\WINSCW\\SCIDAVIS_0XECC45F54.W</p>\n\n<p>INSCW: No such file or directory</p>\n\n<p>make[2]: <em>*</em> No rule to make target `\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\SCIDAVIS_0XECC45F54\\\nWINSCW\\SCIDAVIS_0XECC45F54.WINSCW'.  Stop.</p>\n\n<p>make[1]: <em>*</em> [TARGETSCIDAVIS_0XECC45F54] Error 2</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\n  make -r  -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\WINSCW.make\" FINAL CFG=UDEB VERBOSE=-s</p>\n\n<p>make[1]: Entering directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\scidavis -f \"MAKEFILE_0XECC45F54.MK\" TO_ROOT=................ EPOCBLD=\\Nok\niaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XECC45F54\\WINSCW TO_BLDINF=................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4</p>\n\n<p>PLATFORM=WINSCW CFG=UDEB FINAL\nmake -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational0 -f \"MAKEFILE_0XE22E90C0.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE22E90C0\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\fitRational1 -f \"MAKEFILE_0XE215DAF2.MK\" TO_ROOT=..............\\\n.... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE215DAF2\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Com\npiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\explin -f \"MAKEFILE_0XEC0F6EB3.MK\" TO_ROOT=..................\nEPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XEC0F6EB3\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\\nscidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\exp_saturation -f \"MAKEFILE_0XE7042D5D.MK\" TO_ROOT=.............\n..... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE7042D5D\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Data\\C\nompiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make -s  -C \\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4\\fitPlugins\\planck_wavelength -f \"MAKEFILE_0XE0B487AA.MK\" TO_ROOT=...........\n....... EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0XE0B487AA\\WINSCW TO_BLDINF=..................\\Users\\me\\Desktop\\Projects\\Dat\na\\Compiler\\scidavis-0.2.4 PLATFORM=WINSCW CFG=UDEB FINAL</p>\n\n<p>make[1]: Leaving directory `C:/Users/me/Desktop/Projects/Data/Compiler/scidavis-0.2.4'</p>\n\n<p>C:\\Users\\me\\Desktop\\Projects\\Data\\Compiler\\scidavis-0.2.4>make install</p>\n\n<p>make: <em>*</em> No rule to make target `install'.  Stop.</p>\n"},{"tags":["qt","qtreeview","qtreewidget","qstyle"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13074643,"title":"QTreeWidget (Applying Styles for items)","body":"<p>I have a tree widget and there are three levels in the tree as follows</p>\n\n<pre><code>Example Tree\n============================\nLEVEL1\n    LEVEL2\n    LEVEL2\n       LEVEL3\n       LEVEL3\n    LEVEL2\n    LEVEL2\nLEVEL1\n</code></pre>\n\n<p>I want to apply different styles for items, depending their levels so that I can style, LEVEL1, LEVEL2 &amp; LEVEL3 differently. I can do this with a two level tree. Please help. I want to achieve this at CSS level (without touching the code)</p>\n\n<p>I went through following documenation. I guess distinguishing between LEVEL1 &amp; LEVEL2 is the hard part.</p>\n\n<p><a href=\"http://doc.qt.digia.com/main-snapshot/stylesheet-examples.html#customizing-qtreeview\" rel=\"nofollow\">http://doc.qt.digia.com/main-snapshot/stylesheet-examples.html#customizing-qtreeview</a></p>\n"},{"tags":["qt","qml"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1091,"score":2,"question_id":8894244,"title":"Qml and blurring image","body":"<p>I want to achieve a blur effect using QML.\nI found references about the \"effect: Blur\"<a href=\"http://qt.gitorious.org/~lscunha/qt-components/lscunha-qt-components/blobs/d78feec5670ab4e508f85e878a3b2e2971abaf47/demos/slideshow/duitheme/Settings.qml\" rel=\"nofollow\">(Example)</a> but in Qt 4.8 this does not work. \nAs far as I know this is implemented with C++ code. But how?</p>\n"},{"tags":["c++","qt","postgresql","insert"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13045677,"title":"insert array (binary data) into a postgres DB with qsql (c++ and qt)","body":"<p>Consider the following interraction with the postgres database:</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QPSQL\");\ndb.setHostName(\"acidalia\");\ndb.setDatabaseName(\"customdb\");\ndb.setUserName(\"mojito\");\ndb.setPassword(\"J0a1m8\");\nbool ok = db.open();\nQSqlQuery query(db);\n\nQSqlQuery query(db);\n\nQVector&lt;int&gt; byteArray(2); \nbyteArray[0] = 0;\nbyteArray[1] = 7;\n\nQVariant v = QVariant::fromValue(byteArray); \n\ncout &lt;&lt; \"dropping a table: \" &lt;&lt; query.exec(\"drop table aaa;\") &lt;&lt; endl; //gives 1\ncout &lt;&lt; \"creating a table: \" &lt;&lt; query.exec(\"create table aaa (gid integer, pos integer[])\") &lt;&lt; endl; // gives 0\nquery.prepare(\"INSERT INTO aaa (gid) VALUES (:gid, :pos)\");\nquery.bindValue(0, 1);\nquery.bindValue(1, v);\ncout &lt;&lt; \"inserting: \" &lt;&lt; query.exec() &lt;&lt; endl; // gives 0 :-(\n</code></pre>\n\n<p>Of course, one way to do that would be to send the data with a manually built sql statement, and execute the query as a normal query on the server (where the byte array would be inserted as a string), but I am looking for a somewhat nicer solution..</p>\n"},{"tags":["c++","qt","dependency-management","project-organization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13072203,"title":"To add or not to add Qt Libs and Headers to the Project Directory","body":"<p>Does it make sense to add relevant Qt Libs and headers (opensource version) to a projects repository or should I just reference them from the sdk directory ? </p>\n\n<hr>\n\n<p>I (alone) am developing a cross-platform (windows/linux) c++ application which, will be using a number of thirdparty opensource libraries including Qt, OpenCV, log4cpp to name a few.</p>\n\n<p>I started off development in Qt Creator for convenience (speedy GUI creation). Currently I have the Qt Sdk installed on both Linux and Windows outside the project directory.</p>\n\n<p>I'm planning to move to CMAKE to for better configurability, e.g out-of-source builds and independance from Qt Creator and I would like to have all dependencies included in the project directory structure -so that I or anyone else can checkout the project and build without needing to install any other dependancies.</p>\n\n<p>I have added all libs but Qt's to the directory as I am a little unsure weather its worth it -it seems like CMAKE depends on the Qt Sdk for compiling Qt specific files i.e moc, ui etc... (<a href=\"http://qt-project.org/quarterly/view/using_cmake_to_build_qt_projects\" rel=\"nofollow\">see here</a>) is this the case ? or is there a better suited build tool ? (Originally I was I going to use Scons but I decided not to as the there seemed to be limited support.. and there hasn't been developement on <a href=\"http://www.scons.org/wiki/Qt4Tool\" rel=\"nofollow\">Qt4 Tools</a> since 2010, which doesnt inspire confidence either.)</p>\n"},{"tags":["qt","listview","checkbox","qml","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":13012589,"title":"QMl ListView elements to C++","body":"<p>How can I select a few elements in the QML ListView and send the list of selected ListItemText to QListWidget in C++?</p>\n\n<p>I'm using 'contact model' as the model for ListView. The component has a ListItem. The ListItem has a Image(contact avatar), a ListItemText(name of the contact) and a CheckBox. The MouseArea fills the ListItem. Onclicking the ListItem, I can check or uncheck the CheckBox.</p>\n\n<p>Also, I have one more problem. After checking a few elements, if the ListView has a movement (i.e, When I scroll up or down), then all the selected elements are unchecked automatically. </p>\n\n<p>Edited:</p>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>void MainWindow::createList()\n{\nQContactManager *contactManager = new QContactManager(\"symbian\");    \nQList&lt;QContactLocalId&gt; contactIds = contactManager-&gt;contactIds();\nQContact currContact;\nQStandardItemModel *model = new QStandardItemModel();\nQImage m_thumbnail;\n\nforeach (const QContactLocalId&amp; id, contactIds)\n{\n    currContact = contactManager-&gt;contact(id);\n    if(currContact.type() == QContactType::TypeContact)\n    {\n        QContactThumbnail avatar(currContact.detail(QContactThumbnail::DefinitionName));\n        m_thumbnail = avatar.thumbnail();\n\n        QStandardItem *items = new QStandardItem();\n        //items-&gt;setData(currContact.displayLabel(), Qt::DisplayRole);\n        //items-&gt;setData(QPixmap::fromImage(m_thumbnail), Qt::DecorationRole);\n        items-&gt;setText(currContact.displayLabel());\n\n        if(m_thumbnail.isNull())\n        {\n            items-&gt;setIcon(contactIcon);\n        }\n        else\n        {\n            items-&gt;setIcon(QPixmap::fromImage(m_thumbnail));\n        }\n        model-&gt;appendRow(items);\n    }\n}\n}\n\nvoid MainWindow::viewQml()\n{\n        QDeclarativeView *qmlView = new QDeclarativeView;\n        qmlView-&gt;setSource(QUrl(\"qrc:/contacts.qml\"));\n        qmlView-&gt;rootContext()-&gt;setContextProperty(\"stdModel\", model);\n        qmlView-&gt;show();\n}\n</code></pre>\n\n<p><strong>contacts.qml</strong></p>\n\n<pre><code>ListView {\nid: listView\nanchors.top: statusBar.bottom\nanchors.right: parent.right\nanchors.left: parent.left\nanchors.bottom: toolBar.top\nclip: true\nmodel: stdModel\n//delegate: contactListDelegate\n}\n</code></pre>\n"},{"tags":["qt","sockets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":622,"score":1,"question_id":1362730,"title":"Bind QTcpSocket on dual-homed host","body":"<p>I have an application that is being built using Qt.  It will be running on machines that will have two (or more) network cards.  I need the ability for my application to select which ethernet interfaces for a TCP connection.  Before anyone suggests it I cannot guarenteed that routing tables will be setup correctly.  I know how to do this using the windows socket classes but have been unable to find anything about it for Qt.  Any help would be greatly appreciated!</p>\n"},{"tags":["c++","qt","http","serialization","protocol-buffers"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13070592,"title":"Whitespace in Protocol Buffer Serialization across HTTP with Qt","body":"<p>I am trying to send a Google Protocol Buffer serialized string across an HTTP connection and receive it back ( unmodified ) where I will deserialize it. My problem seems to be with the 'serializeToString' method which takes my string and seems to add newline characters ( and maybe other whitespace ) to the serialized string. In the example below, I am taking the string \"camera_stuff\" and after serializing it I get a QString with newlines at the front. I have tried other strings with the same result only with different whitespace and newlines added. This causes problems for my deserializing operation as the whitespace is not captured in the HTTP request and so the response containing the serialized string from the server cannot be successfully decoded. I can partially decode it if I guess the whitespace in the serialized string. How can I solve this? Please see the following code - thanks.</p>\n\n<p>I have a protocol buffer .proto file that looks like:</p>\n\n<pre><code>message myInfo {\n  required string data = 1;\n  required int32 number = 2;\n}\n</code></pre>\n\n<p>After running the protoc compiler, I construct in it Qt like this:</p>\n\n<pre><code>// Now Construct our Protocol Buffer Data to Send\nmyInfo testData;\ntestData.set_data(\"camera_stuff\");\ntestData.set_number(123456789);\n</code></pre>\n\n<p>I serialize my data to a string like this:</p>\n\n<pre><code>// Serialize the protocol buffer to a string\nstd::string serializedProtocolData; // Create a standard string to serialize the protocol buffer contents to\nmyInfo.SerializeToString(&amp;serializedProtocolData); // Serialize the contents to the string\nQString serializedProtocolDataAsQString = QString::fromStdString(serializedProtocolData);\n</code></pre>\n\n<p>And then I print it out like this:</p>\n\n<pre><code>// Print what we are sending\nqDebug() &lt;&lt; \"Sending Serialized String: \" &lt;&lt; serializedProtocolDataAsQString;\nqDebug() &lt;&lt; \"Sending Serialized String (ASCII): \" &lt;&lt; serializedProtocolDataAsQString.toAscii();\nqDebug() &lt;&lt; \"Sending Serialized String (UTF8): \" &lt;&lt; serializedProtocolDataAsQString.toUtf8();\nqDebug() &lt;&lt; \"Sending Serialized Protocol Buffer\";\nqDebug() &lt;&lt; \"Data Number: \" &lt;&lt; QString::fromStdString(myInfo.data());\nqDebug() &lt;&lt; \"Number: \" &lt;&lt; (int)myInfo.number();\n</code></pre>\n\n<p>When I send my data as part of an HTTP multipart message I see those print statements like this ( notice the newlines in the printouts! ):</p>\n\n<pre><code>Composing multipart message...\nSending Serialized String:  \"\n\ncamera_stuffï:\" \nSending Serialized String (ASCII):  \"\n\ncamera_stuffï:\" \nSending Serialized String (UTF8):  \"\n\ncamera_stuffÂÂÃ¯:\" \nSending Serialized Protocol Buffer \nData:  \"camera_stuff\" \nNumber:  123456789 \nLength of Protocol Buffer serialized message:  22 \nLoading complete...\n</code></pre>\n\n<p>The client deserializes the message like this:</p>\n\n<pre><code>// Now deserialize the protocol buffer\nstring = \"\\n\\n\" + string; // Notice that if I don't add the newlines I get nothing!\nmyInfo protocolBuffer;\nprotocolBuffer.ParseFromString(string.toStdString().c_str());\nstd::cout &lt;&lt; \"DATA: \" &lt;&lt; protocolBuffer.model() &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"NUMBER: \" &lt;&lt; protocolBuffer.serial() &lt;&lt; std::endl;\nqDebug() &lt;&lt; \"Received Serialized String: \" &lt;&lt; string;\nqDebug() &lt;&lt; \"Received Deserialized Protocol Buffer\";\nqDebug() &lt;&lt; \"Data: \" &lt;&lt; QString::fromStdString(protocolBuffer.data());\nqDebug() &lt;&lt; \"Number: \" &lt;&lt; (int)protocolBuffer.number();\n</code></pre>\n\n<p>The server gives it back without doing anything to the serialized string and the client prints the following:</p>\n\n<pre><code>RESPONSE:  \"camera_stuffï:\"  \nDATA: camera_stu\nNUMBER: 0\nReceived Serialized String:  \"\n\ncamera_stuffï:\" \nReceived Deserialized Protocol Buffer \nNumber:  \"camera_stu\"\n\nNumber:  0\n</code></pre>\n\n<p>So you see the issue is that I cannot guess the whitespace so I cannot seem to reliably deserialize my string. Any thoughts?</p>\n"},{"tags":["qt","x11"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13069901,"title":"X11 icon not always loading for application","body":"<p>I've got a QT application which has a regular PNG icon which gets installed into <code>/usr/share</code>, which is eventually referenced by the application's desktop definition file.</p>\n\n<p>The app's old icon works perfectly, but when I have tried replacing it with a newer icon it sometimes does not load, and so I see the generic X11 icon instead. I've run <code>file</code> and ImageMagick's <code>inspect</code> on both the old icon and the new one, and they have identical file formats and dimensions. Also, in the KDE launcher I still see the old icon, but I assume that's because KDE is somehow caching it.</p>\n\n<p>Am I missing something super obvious, or is there anything else that I need to do in order to get the new application icon to be visible?</p>\n"},{"tags":["c++","qt","sockets","character-encoding","qlocalsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13061079,"title":"QLocalSocket to QLocalServer message being corrupted during transfer","body":"<p>I haven't been able to find a similar issue, so here goes:</p>\n\n<p>I'm sending a QString from a QLocalSocket to a QLocalServer across two applications. The receiving (QLocalServer) application does receive the message, but it seems the encoding is completely wrong.</p>\n\n<p>If I send a QString = \"x\" from the QLocalSocket (client), I'm getting a foreign (Chinese?) symbol in the QLocalServer. My code is literally copied from the <a href=\"http://www.developer.nokia.com/Community/Wiki/File%3aLocalSocketIPC.zip\" rel=\"nofollow\">Nokia Developer website</a></p>\n\n<p>If I printout the message via QDebug, I get \"??\". If I fire it in a message box, Chinese characters are printed. I've tried re-encoding the received message to UTF-8, Latin1, etc., with no luck. </p>\n\n<p>Code is as follows:</p>\n\n<pre><code>//Client\nint main(int argc, char *argv[])\n{\nQLocalSocket * m_socket = new QLocalSocket();\nm_socket-&gt;connectToServer(\"SomeServer\");\n\nif(m_socket-&gt;waitForConnected(1000))\n{\n    //send a message to the server\n    QByteArray block;\n    QDataStream out(&amp;block, QIODevice::WriteOnly);\n    out.setVersion(QDataStream::Qt_4_7);\n    out &lt;&lt; \"x\";\n    out.device()-&gt;seek(0);\n    m_socket-&gt;write(block);\n    m_socket-&gt;flush();\n    QMessageBox box;\n    box.setText(\"mesage has been sent\");\n    box.exec();\n...\n}\n\n//Server - this is within a QMainWindow\nvoid MainWindow::messageReceived()\n{\nQLocalSocket *clientConnection = m_pServer-&gt;nextPendingConnection();\n\nwhile (clientConnection-&gt;bytesAvailable() &lt; (int)sizeof(quint32))\n    clientConnection-&gt;waitForReadyRead();\n\n\nconnect(clientConnection, SIGNAL(disconnected()),\n        clientConnection, SLOT(deleteLater()));\n\nQDataStream in(clientConnection);\nin.setVersion(QDataStream::Qt_4_7);\nif (clientConnection-&gt;bytesAvailable() &lt; (int)sizeof(quint16)) {\n    return;\n}\n\nQString message;\nin &gt;&gt; message;\n\nQMessageBox box;\nbox.setText(QString(message));\nbox.exec();\n}\n</code></pre>\n\n<p>Any help is highly appreciated.</p>\n"},{"tags":["qt","debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13059664,"title":"QGraphicsScene::setSceneRect() segmentation fault","body":"<p>I've got a QGraphicsScene to which I'm adding a subclassed QGraphicsRectItem called BorderRect that indicates the boundaries of the sceneRect. The BorderRect has grips that allow the user to change its size, which then changes the scene's sceneRect. All this works, except every once in awhile it causes a seg fault, with a back trace like:</p>\n\n<pre><code>#0  _int_malloc (av=0x7ffff587e620, bytes=32) at malloc.c:3415\n#1  0x00007ffff55592a4 in *__GI___libc_malloc (bytes=32) at malloc.c:2924\n#2  0x00007ffff5e4c40d in operator new(unsigned long) () from /usr/lib/gcc/x86_64-pc-linux-gnu/4.5.3/libstdc++.so.6\n#3  0x00007ffff723911e in QRegion::QRegion(QRect const&amp;, QRegion::RegionType) () from /usr/lib64/qt4/libQtGui.so.4\n#4  0x00007ffff72394de in QRegion::intersect(QRect const&amp;) const () from /usr/lib64/qt4/libQtGui.so.4\n#5  0x00007ffff7239509 in QRegion::operator&amp;(QRect const&amp;) const () from /usr/lib64/qt4/libQtGui.so.4\n#6  0x00007ffff723952f in QRegion::operator&amp;=(QRect const&amp;) () from /usr/lib64/qt4/libQtGui.so.4\n#7  0x00007ffff70e0c6b in QWidgetPrivate::subtractOpaqueSiblings(QRegion&amp;, bool*, bool) const ()\n  from /usr/lib64/qt4/libQtGui.so.4\n#8  0x00007ffff72b6141 in QWidgetPrivate::scrollRect(QRect const&amp;, int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#9  0x00007ffff712fe8a in QWidgetPrivate::scroll_sys(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#10 0x00007ffff70eefe5 in QWidget::scroll(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#11 0x00007ffff76b7fbb in QGraphicsView::scrollContentsBy(int, int) () from /usr/lib64/qt4/libQtGui.so.4\n#12 0x00007ffff6b7c0fa in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()\n  from /usr/lib64/qt4/libQtCore.so.4\n#13 0x00007ffff770ec7e in QAbstractSlider::valueChanged(int) () from /usr/lib64/qt4/libQtGui.so.4\n#14 0x00007ffff76b0dca in QGraphicsViewPrivate::recalculateContentSize() () from /usr/lib64/qt4/libQtGui.so.4\n#15 0x00007ffff76bab39 in ?? () from /usr/lib64/qt4/libQtGui.so.4\n#16 0x00007ffff6b7c0fa in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) ()\n  from /usr/lib64/qt4/libQtCore.so.4\n#17 0x00007ffff7687a45 in QGraphicsScene::sceneRectChanged(QRectF const&amp;) () from /usr/lib64/qt4/libQtGui.so.4\n#18 0x000000000042fef0 in BorderRectItem::sceneEventFilter (this=0xfc0070, watched=0xef6e80, event=0x7fffff800590)\n    at gui/BorderRectItem.cpp:193\n...\n</code></pre>\n\n<p>There are several more lines, but the line referred to at line 18 of the back trace corresponds to a call to setSceneRect with a QRectF that corresponds to the new dimensions of the BorderRect, in this case: </p>\n\n<pre><code>{xp = 20, yp = -59, w = 563.94193411401511, h = 436.5631806793956}\n</code></pre>\n\n<p>I don't know why this is crashing. I've checked the scene, and it's not null. I suspect this is going to be very difficult to debug, and what I'm really interested in is tips on how to go about doing this. In particular, it would be really helpful to check the state of variables in the Qt code as I move up and down through the back trace, and I don't know how to do that. I'm running Linux... can I rebuild Qt with debugging symbols or something?</p>\n"},{"tags":["c++","qt","qnetworkaccessmanager"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13068346,"title":"Qt QNetworkRequest::RedirectionTargetAttribute can't detect redirection","body":"<p>Im trying to do get request to web site , when i getting the site html in the : </p>\n\n<pre><code>reply = m_networkManager-&gt;get(\"www.siteexample.de\");  \nreply-&gt;readAll()\n</code></pre>\n\n<p>the response string is : </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;301 Moved Permanently&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Moved Permanently&lt;/h1&gt;\n&lt;p&gt;The document has moved &lt;a href=\"http://siteexample.de/\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;address&gt;Apache Server at www.siteexample.de Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>now in the finish slot i try to capture the rederect like this : ( based on the http example in Qt 4.8) and this link :\n<a href=\"http://www.developer.nokia.com/Community/Wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager\" rel=\"nofollow\">http://www.developer.nokia.com/Community/Wiki/Handling_an_HTTP_redirect_with_QNetworkAccessManager</a></p>\n\n<pre><code>QVariant vStatusCodeV =  reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute);\n\nif(vStatusCodeV.toInt() == 200)\n{\n     // do stuff ...\n} \nelse if (vStatusCodeV.toInt() == 301 || vStatusCodeV  == reply-&gt;attribute(QNetworkRequest::RedirectionTargetAttribute))\n{\n    // its resoulved to to http://www.siteexample.de so its never resolved to the new redirect url that is : http://siteexample.de\n    QUrl newUrl = reply-&gt;url().resolved(vStatusCodeV.toUrl());\n    // so im getting endless loop here \n    startRequest(newUrl);\n\n}\n</code></pre>\n"},{"tags":["qt","qmainwindow","qtoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13063022,"title":"QToolBar position (How to make it stay at a fixed position)","body":"<p>I initially needed to display two QToolBars in such a way, they are in two rows. I found the solution for that problem through this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1441143/how-to-set-the-line-where-a-qtoolbar-is-displayed\">How to set the line where a QToolBar is displayed?</a></p>\n\n<p>In my program there are a few QToolBars in the first row, they can be moved. In the second row I have another QToolBar which can't be moved (fixed).</p>\n\n<p>My requirement is to make the 2nd QToolbar stay always at the bottom row. As of now, if the top QtoolBars are moved, 2nd toolbar position changes accordingly.</p>\n"},{"tags":["c++","qt","drag-and-drop","ms-word"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13068144,"title":"Drag multiple images from Qt Application to MS Word","body":"<p>I want to put not one but multiple images into a QMimeData to drop into MS Word. </p>\n\n<p>The interface doesn't support this (multiple calls of setImageData() overwrite each other).</p>\n\n<p>Can this be done with QMimeData? Maybe with HTML? But where do you then put the images? Or do I have to do this with a native Windows API?</p>\n\n<p>Thx</p>\n"},{"tags":["qt","pyqt","qt-designer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12970466,"title":"Qt layout children float","body":"<p>I have an empty horizontal layout that I dynamically populate with three children. This is a card game so this layout gets dynamically populated with children that are QLabel which  have an image set. When I click on a card to play it and move it at the center of the screen I'd like the positions of the other cards to stay the same. Instead the cards tend to \"float\" to the right. How can I force them to stay in their original  position?</p>\n\n<pre><code>+-----------------+\n|                 |\n| [A] - [B] - [C] |\n|                 |\n+-----------------+\n</code></pre>\n\n<p>I tried putting an expandable horizontal spacer in between each card but it doesn't really work. I also tried with replacing the horizontal layout with a grid layout but this forces me to specify the initial coordinates of the cards which I'd rather not. I like the fact that I can append widgets with addWidget pretty much like I do in the HTML version.</p>\n\n<p>In the HTML version I use some wrapper divs with a fixed size around the cards. How can I do something similar in Qt?</p>\n\n<p>EDIT</p>\n\n<p>A little clarification on how the layout should look when one card (B) is played.</p>\n\n<pre><code>+-----------------+\n|                 |\n| [A] -     - [C] |\n|                 |\n+-----------------+\n</code></pre>\n\n<p>As I mentioned I managed to fill the layout with empty QWidget and put cards on top of them (not inside them). I actually got also rid of the horizontal spacers I had as they are not needed anymore. This seems to work as I expect, although I still didn't fully validate this approach.</p>\n"},{"tags":["qt","ssl","webkit","openssl","qtnetwork"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":404,"score":1,"question_id":5941296,"title":"Qt OpenSSL problem - blocked (?) on some computers","body":"<p>I write an app i qt which uses OpenSSL. All was alright, since yesterday. I compiled app and sent to my friend. On his computer application can open https. I open on other computer and it doesn't work. So I gave it to other friend and he can't open https websites. I was confused and gave other guy and on his computer my app is working. I don't understand situation. Previous versions worked without bugs. But i ran previous version which worked and it doesn't work too. I turned off all my firewalls. Nothing changed.</p>\n\n<p>Any suggestions?</p>\n\n<p>We all have 7 x64. I tested on XP HE and it works, bou on 7 x64 doesn't work. On my friend's computer 7 x64 works, but on XP HE doesn't works. IMO Operating System hasn't got any mean.</p>\n"},{"tags":["javascript","html5","qt","wt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13038709,"title":"Recommendation for converting from Qt app to Web app","body":"<p>I currently have a Qt-based GUI application that simply provides a graphical dashboard (guages, graphs, and such) displaying real-time data provided by another application via a TCP connection.  For architectural and security reasons, I have been told that my TCP connection is no longer allowed, and that an HTTPS websocket will be my only conduit.  It was suggested that I convert my app to a webapp using HTML5 and Javascript.  However, I'm not a web programmer, but may consider this an opportunity to learn a new technology.  I want to understand the landscape a little better before making a decision. So, I think my choices are:</p>\n\n<ol>\n<li><p>Convert my app to a web app, giving me all the advantages/disadvantages of web-based apps.  More work for me, as it's a new technology and I already have the Qt/TCP version working fine.  If this is the suggested approach, any suggestions on a development environment/tools would be appreciated.</p></li>\n<li><p>Convert my current Qt app to us a client HTTPS connection rather than a TCP connection. Not sure this is possible. From what I've read, this may not be possible with QtWebKit.  Seems strange?</p></li>\n</ol>\n\n<p>Maybe there's another choice I'm not considering?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13014145,"title":"Qt equivalent of PathAppend?","body":"<p><a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/bb773565%28v=vs.85%29.aspx\" rel=\"nofollow\">PathAppend</a> is a useful winapi function that lets you append one path to another while taking care of any trailing backslashes (or lack of them).</p>\n\n<p>Meaning that appending <code>\"/dir1\"</code> to <code>\"dir2\"</code>, or <code>\"/dir1\"</code> to <code>\"/dir2\"</code>, or <code>\"/dir1/\"</code> to <code>\"/dir2\"</code> would produce the same (correct) result - <code>\"/dir1/dir2\"</code> (while simply concatening would produce respectively <code>\"/dir1dir2\"</code>, <code>\"/dir1/dir2\"</code>, and <code>\"/dir1//dir2\"</code>).</p>\n\n<p>Is there any Qt function that does a similar thing?</p>\n"},{"tags":["qt","inheritance","signals-slots","cross-threading"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":495,"score":1,"question_id":6247703,"title":"qt inherited signal won't reach to slot","body":"<p>here's the code of my problem  </p>\n\n<pre><code>class Base : QThread  \n{\n   Q_OBJECT  \n virtual void run() = 0;  \nsignals:  \n void Ping(int);  \n};  \n\nclass Derived : public Base  \n{  \n  void run()  \n  {  \n    emit Ping(42);  \n  }  \n}  \n</code></pre>\n\n<p>the signal(42) won't reach/call to slots. what's wrong?\nthanks in advance.</p>\n"},{"tags":["qt","button","triggers","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13050810,"title":"PyQT button clicked name","body":"<p>I have dynamically created buttons<code>(QtoolButton)</code> in <code>gridLayout</code> in pyQT.\nHow can I get the name of the button clicked in the layout?</p>\n\n<p>I can't know the name before hand.\nIs there is any trigger to accomplish the task?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","distribution","publish"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12950823,"title":"Distribute Qt symbian app other than in OVI store","body":"<p>I have a Express signed Symbian app, developed in Qt. I don't want to publish it in Nokia OVI store. I want to distribute the app to some particular people only. What should I do?</p>\n\n<p>I think uploading the SIS file in my website and provide a link to download the app is not a feasible solution in my case. </p>\n\n<p>Can I just mail the SIS file to those set of people? Or is there anything like \"Targeted Distribution\" (like in the case of Windows Phone) for Qt apps?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13064118,"title":"avoid reusing setup file in Qt","body":"<p>I developed a code for android devices.now i want to make a setup file.can I add a piece of code to my app to delete the source file(the setup) after setup is executed?\nI want my customer not to access the setup anymore or not being able to use that for other devices, is there other solutions?</p>\n"},{"tags":["c++","qt","codeblocks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13058433,"title":"Code::Blocks Pre-build options inconsistent with command line (Qt)","body":"<p>I am trying to compile a simple Qt program with Code::Blocks. I am using Qt's build system, so instead of Code::Blocks compiling it, I have Code::Blocks' build target type set to \"Commands only\" and I am using the pre/post build steps options. The contents of my \"Pre-build steps\" are as follows:</p>\n\n<pre><code>qmake.exe GUI.pro\nC:/QtSDK/mingw/bin/mingw32-make.exe -f Makefile.Debug\n</code></pre>\n\n<p>When I compile within Code::Blocks, I get these errors:</p>\n\n<pre><code>c:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o): In function `WinMain@16':\nc:\\iwmake\\build_mingw_opensource\\src\\winmain/qtmain_win.cpp:93: undefined reference to `_Unwind_Resume'\nc:\\iwmake\\build_mingw_opensource\\src\\winmain/qtmain_win.cpp:135: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):c:\\iwmake\\build_mingw_opensource\\src\\winmain/../../include/QtCore/../../src/corelib/tools/qvector.h:512: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):c:\\iwmake\\build_mingw_opensource\\src\\winmain/../../include/QtCore/../../src/corelib/tools/qvector.h:513: undefined reference to `_Unwind_Resume'\nc:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\lib/libqtmaind.a(qtmain_win.o):qtmain_win.cpp:(.eh_frame+0x12): undefined reference to `__gxx_personality_v0'\ncollect2: ld returned 1 exit status\nmingw32-make.exe: *** [debug\\GUI.exe] Error 1\n</code></pre>\n\n<p>However, the strange thing is, when I enter the two commands above using Windows command line, it works fine. It successfully builds a .exe that works and shows a simple window.</p>\n\n<p>Both Code::Blocks and command line's build logs are exactly the same (I checked), except for Code::Blocks' errors.</p>\n\n<p>It seems like qmake and the makefile don't have anything to do with this, or at least the above happens when the makefiles don't change.</p>\n\n<p>I have made sure to delete the .o and .exe files in Debug every time I compile.</p>\n\n<p>Both Code::Blocks and cmd output the same 4 files (3 .o files and 1 .cpp file), except for cmd's .exe. However, I noticed that one file is 262kb when compiled with Code::Blocks, and 263kb when compiled via command line.</p>\n\n<p>In Pre-build steps, I've tried calling cmd with the commands, and I've tried calling a batch file, but the same errors come up.</p>\n"},{"tags":["qt","build","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":850,"score":2,"question_id":5211188,"title":"What are the different platforms for Qt's configure","body":"<p>I'm trying to build Qt on Windows with the following command:</p>\n\n<pre>configure -static -opensource -no-webkit -no-qt3support -no-audio-backend -no-exceptions -no-opengl -no-phonon -phonon-backend</pre>\n\n<p>and I get this error:</p>\n\n<pre>Unable to detect the platform from environment. Use -platform command lineargument</pre>\n\n<p>However I don't know what are the different possible values for the \"-platform\" argument. I tried \"win32\" and \"windows\" but none of them are right. I can't find any reference that would list the possible values. Does anybody know what I need to put for Windows 7 (developing with Qt Creator)?</p>\n"},{"tags":["qt","stdstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13047049,"title":"Qt and std::string","body":"<p>I have a strange problem. My tool is running properly when I open a file through my Qt file dialog.\nHowever, when I bind dlls from other library into my project in VS 2010, the tool crashes when I open a file. By debugging I discovered that it happens in the destructor of the basic string.\nThe following line is causing the problem:</p>\n\n<pre><code>std::string inputFilename = aFilenames.at(i).toStdString();\n</code></pre>\n\n<p>where aFilenames is a QStringList. If instead I write:</p>\n\n<pre><code>std::string inputFilename = \"C:\\\\test.txt\";\n</code></pre>\n\n<p>then it works. What is then going wrong with std::string and why this happens when I bind dlls from another library into my project?</p>\n"},{"tags":["qt","upload","metadata","photo","picasa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13060317,"title":"I am using QT and want to post photos to Picasa with metadata","body":"<p>I followed your sample in your PHP program that also uploaded an \"cat\" image to Picasa with metadata. However, I got errors, \"Not a valid image\" or \"Multipart must have Atom and media part\". The post body was just the same as yours and I used image.bits() to get the bits and got an unsigned char *. I transformed the rawXml to ByteArray and then appended the image bits. Finally, I also appended \"\\n--END_OF_PART--\" to the tail of that byte array. But errors kept prompting. I do not know why. Could give me some help? Thanks!</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13058669,"title":"How to obtain the frame buffer from within QWidget's paintEvent()","body":"<p>Is there any way to get the pixels that will be displayed on a QWidget, do some processing, and then display the processed pixels?</p>\n\n<p>I can't seem to overcome the limitations of paintEvent(), hopefully someone can help.</p>\n\n<p>QPixmap::grabWidget and QWidget::render will get me the pixels I need, but they cannot be called from within paintEvent(), since doing so will trigger an infinite loop.</p>\n\n<p>I have tried running a timer, taking a snapshot, doing my processing, forcing a repaint, and displaying the saved image.  This works to some extent, but on dynamic content (i.e. moving) it fails miserably.</p>\n\n<p>I need to be able to do this from within paintEvent().</p>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["qt","signals-slots","qtthread"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13054053,"title":"Qt: How to combine own message loop and Qt event loop?","body":"<p>I have a class derived from <code>QThread: class MyClass : public QThread</code>. In the run method I have \"my own\" message loop:</p>\n\n<pre><code>run() { \n  // exec(); // while not reached    \n  while (_runMessageLoop &amp;&amp; ...) {\n    hr = CallDispatch(.....);\n    if (hr== 0) QThread::msleep(100); \n    // QCoreApplication::processEvents(); // Does not work\n  }\n}\n</code></pre>\n\n<p>Since <code>exec()</code> is not executed, I have <strong>no</strong> Qt event loop. This obviously causes signal / slots <a href=\"http://stackoverflow.com/questions/12982489/qt-thread-object-only-sending-signal-as-qtdirectconnection-why\">not to work correctly</a>. <strong>Is there any chance to combine the Qt and my own message loop?</strong> Or do I need a frequently firing timer in order to do what I have accomplished in my infinite loop?</p>\n"},{"tags":["windows","visual-studio","qt","console","hide"],"answer_count":7,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":7299,"score":2,"question_id":2139637,"title":"Hide console of Windows Application","body":"<p>I have a Qt application, and when I run this application, there is a console opening behind it. In development it is nice because i see debug outputs on the console, but when I want to give this executable to the customer there should be no console window.\nhow do I hide it?</p>\n\n<p>(I am using Visual Studio 2008)</p>\n"},{"tags":["qt","winapi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12992541,"title":"What can you do in WinAPI that you cannot do in Qt?","body":"<p>I am into learning some GUI API in C++, so I searched a lot to see which one was best. I ended up with either Qt or WinAPI. I read some people saying that Qt was easier to work with but with WinAPI you could control everything. The argument proceeded and someone said that it was a fair exchange, a small piece of control so it could become easier. Now I want to know, what exactly are you losing when you chose Qt? Is it the interaction with the system? What exactly can you do in WinAPI that you cannot do in Qt?</p>\n"},{"tags":["c++","qt","interface","factory-pattern","pimpl-idiom"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":129,"score":4,"question_id":12902158,"title":"Pimpl idiom pointing to configurable implemenation","body":"<p>I've read that Pimpl is good for binary compatibility and interfaces are good for being able to easily switch out implementation.  I need to combine both of these techniques to allow my application to be able to switch the underlying implementation out via a config file.</p>\n\n<p><strong>Here is how my current design is laid out:</strong></p>\n\n<p>class Foo: provides the client facing API, I'm concerned with ABI compatibility here <BR>\nclass IFoo: interface class (all pure virtual methods, virtual dtor) <BR>\nclass Vendor1Foo: implements IFoo, using Vendor1's library <BR>\nclass Vendor2Foo: implements IFoo, using Vendor2's library <BR></p>\n\n<p>By not using pimpl and strictly using interfaces, client code might look like:</p>\n\n<pre><code>IFoo* foo = new Vendor1Foo();\n</code></pre>\n\n<p>The issue is that my client code cannot know about Vendor1 or Vendor2 at all and Foo is just one of many classes that I have to do this for. </p>\n\n<p>The over all concept of what I'm trying to do is the following:</p>\n\n<pre><code>class foo\n{\n  private:\n  QScopedPointer&lt;IFoo&gt; pimpl;\n  void initImpl();  // Reads from QSettings and initializes pimpl\n}\n</code></pre>\n\n<p><strong>Any ideas for an elegant solution to this problem?</strong></p>\n\n<p><strong>I'm hoping to come up with some macros or a template class/method to help standardize on how I deal with this and minimize violating DRY.</strong> </p>\n\n<p>The template class might serve as a pimpl helper like Herb Sutter's take on a generalized pimpl idiom for C++11: <a href=\"http://herbsutter.com/gotw/_101\" rel=\"nofollow\">herbsutter.com/gotw/_101</a> and it would also have to contain the logic for instantiating the correct implementation depending on the configuration</p>\n\n<p>There are elements of the pimpl idiom, the bridge pattern, and factory pattern here.  In my above example initImpl() can be thought of as a factory method.  I'm looking for a solution that may or may not use all of these patterns.</p>\n\n<p>I have already viewed <a href=\"http://stackoverflow.com/questions/5425065/c-pimpl-idiom-implementation-depending-on-a-template-parameter\">c++ pimpl idiom : Implementation depending on a template parameter</a> as well as most of the pimpl idiom questions on SO. The title seemed promising, but it didn't help with my particular use case.</p>\n\n<p>I cannot use C++11 and am using Qt.  <a href=\"http://qt-project.org/wiki/Dpointer\" rel=\"nofollow\">D-Pointers</a> do not solve my problem as they are bound to a single implementation.</p>\n\n<p><strong>UPDATE: Here is what I've come up with so far:</strong></p>\n\n<p><strong>PimpleHelper.h</strong> is a Pimpl helper class to reduce boiler plate code. Uses the VendorFactory to instantiate the correct vendor implementation. Multiple vendors will register the fact that they implement a given interface; only one vendor's implementation is ever instantiated for a given interface.</p>\n\n<pre><code>    #include &lt;QSettings&gt;\n    #include \"VendorFactory.h\"\n    #include &lt;cxxabi.h&gt;\n\n    // Pimpl Helper\n    template&lt;typename T&gt;\n    class PimplHelper\n    {\n        public:\n        PimplHelper()\n        {\n            m_interfaceNameImplemented = demangle(typeid(T).name());\n            initializeImpl();\n        }\n\n        T* getImpl()\n        {\n            return theImpl.data();\n        }\n\n        // Using the arrow operator defined below yields a\n        // \"has no member named\" error when used from Person.cpp, \n        // getImpl() defined above works just fine, but\n            // I'm not exactly sure why.\n    //  T* operator-&gt;() const\n    //  {\n    //      return theImpl.data();\n    //  }\n\n    //  T&amp; operator*() const\n    //  {\n    //      return *theImpl.data();\n    //  }\n\n        private:\n        QScopedPointer&lt; T &gt; theImpl;\n        QString m_interfaceNameImplemented;\n\n        void initializeImpl()\n        {\n\n            // Read in configuration\n            QSettings settings(\"AppSettings.ini\", QSettings::IniFormat);\n            QString vendorToUse = settings.value(\"VENDOR_IMPLEMENTATION_KEY\", \"Vendor1\").toString();\n\n            qDebug() &lt;&lt; \"Vendor to use is: \" &lt;&lt; vendorToUse &lt;&lt; \" Interface Implemented: \" &lt;&lt; m_interfaceNameImplemented;\n\n\n            // Obtain an instance of the vendor's class that implements the T interface\n            theImpl.reset(\n                            VendorFactory&lt;T&gt;::create(vendorToUse, m_interfaceNameImplemented)\n                         );\n\n            if(!theImpl)\n                qDebug() &lt;&lt; \"PimplHelper::initializeImpl, error resolving implementation for: \"\n                         &lt;&lt; vendorToUse &lt;&lt; \" Interface Implemented: \" &lt;&lt; m_interfaceNameImplemented;\n        }\n\n        const QString demangle(const char* name)\n        {\n            int status = -4;\n            char* res = abi::__cxa_demangle(name, NULL, NULL, &amp;status);\n            const char* const demangled_name = (status==0)?res:name;\n            QString ret_val(demangled_name);\n            free(res);\n            return ret_val;\n        }\n    };\n</code></pre>\n\n<p><strong>VendorFactory.h</strong> creates instances of classes implemented by various vendors.\nVendors register their implementations with the factory via a macro.</p>\n\n<pre><code>    #include &lt;QtCore&gt;\n\n    template&lt; class T&gt;\n    class VendorFactory\n    {\n        private:\n        typedef T* (*CreateFunc)();\n        typedef QMap&lt;QString, CreateFunc&gt; FunctionMap;\n\n        public:\n        static T * create(const QString&amp; vendorName, const QString&amp; interfaceName)\n        {\n            typename FunctionMap::iterator it = creators()-&gt;find(vendorName + interfaceName);\n            if (it == creators()-&gt;end())\n                return NULL;\n            return (it.value())();\n        }\n\n        static bool reg(const QString&amp; vendorName, const QString&amp; interfaceName, CreateFunc fun)\n        {\n            qDebug() &lt;&lt; \"Registering: \" &lt;&lt; vendorName + interfaceName &lt;&lt; endl;\n            creators()-&gt;insert(vendorName + interfaceName, fun);\n            return true;\n        }\n\n        static FunctionMap * creators()\n        {\n            static FunctionMap* creators = new FunctionMap;\n            return creators;\n        }\n\n        virtual ~VendorFactory() {}\n\n    };\n\n\n    /// @brief This registers a Vendor's class in the factory and adds a factory function named create_vendorImplClass()\n    /// and calls VendorFactory::reg() by the help of a dummy static variable to register the function.\n    /// @param vendorName A string representing the vendor's name\n    /// @param vendorImplClass The class implementing the interface given by the last parameter\n    /// @param interface The  interface implemented by the vendorImplClass\n    #define REGISTER_IN_FACTORY( vendorName, vendorImplClass, interface ) \\\n        namespace { \\\n        interface* create_ ## vendorImplClass() {  return new vendorImplClass; } \\\n        static bool vendorImplClass ## _creator_registered = VendorFactory&lt; interface &gt;::reg( vendorName, # interface, create_ ## vendorImplClass); }\n</code></pre>\n\n<p>And here is how they are used:</p>\n\n<p><strong>Person.h</strong>  (public-facing API)</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"PimplHelper.h\"\n\n// Public facing API\nclass Person: public IPerson\n{\n    public:\n\n    Person()\n    {\n        impl.reset( new PimplHelper&lt;IPerson&gt;());\n    }\n\n    QString GetFirstName();   \n    QString GetLastName();\n\n    private:\n    QScopedPointer&lt; PimplHelper&lt;IPerson&gt; &gt; impl;\n};\n</code></pre>\n\n<p><strong>Person.cpp</strong>  (public-facing API)</p>\n\n<pre><code>#include \"Person.h\"\n\n\nQString Person::GetFirstName()\n{   // I'd like to remove the call to getImpl() here\n    // and just use the overloaded -&gt; operator, but it\n    // gives me a \"has no member named GetFirstName()\" error\n    return impl-&gt;getImpl()-&gt;GetFirstName();\n}\n\nQString Person::GetLastName()\n{\n    return impl-&gt;getImpl()-&gt;GetLastName();\n}\n</code></pre>\n\n<p><strong>PersonImpl1.h</strong> contains Vendor1's implementation</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"VendorFactory.h\"\n\n\n// Private Implementation\nclass PersonImpl1: public IPerson\n{\n\n    public:\n\n    PersonImpl1():\n        FirstName(\"Jon\"), LastName(\"Skeet\")\n    {}\n\n    QString GetFirstName()\n    {\n        return FirstName;\n    }\n\n    QString GetLastName()\n    {\n        return LastName;\n    }\n\n    private:\n    QString FirstName;\n    QString LastName;\n\n};\n\nREGISTER_IN_FACTORY(\"Vendor1\", PersonImpl1, IPerson)\n</code></pre>\n\n<p><strong>PersonImpl2.h</strong> contains Vendor2's implementation</p>\n\n<pre><code>#include \"IPerson.h\"\n#include \"VendorFactory.h\"\n\n// Private Implementation\nclass PersonImpl2: public IPerson\n{\n\n    public:\n\n    PersonImpl2(): FirstName(\"Chuck\"), LastName(\"Norris\")\n    {}\n\n    QString GetFirstName()\n    {\n        return FirstName;\n    }\n\n    QString GetLastName()\n    {\n        return LastName;\n    }\n\n    private:\n    QString FirstName;\n    QString LastName;\n};\n\nREGISTER_IN_FACTORY(\"Vendor2\", PersonImpl2, IPerson)\n</code></pre>\n\n<p>Finally, the <strong>main.cpp</strong> file:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QDebug&gt;\n\n#include \"Person.h\"\n\n// The following needs to be included for the static/auto registration\n// with the VendorFactory to occur. I'm not exactly sure why.\n#include \"PersonImpl1.h\"\n#include \"PersonImpl2.h\"\n\nint main(int argc, char *argv[])\n{\n    Q_UNUSED(argc)\n    Q_UNUSED(argv)\n\n    Person* p = new Person();\n\n    qDebug() &lt;&lt; \"The person implemented is: \"\n             &lt;&lt; p-&gt;GetFirstName() &lt;&lt; \" \" &lt;&lt; p-&gt;GetLastName();\n\n    qDebug() &lt;&lt; \"exiting\";\n}\n</code></pre>\n\n<p>Here is a list of other SO questions that helped me so far:</p>\n\n<p><a href=\"http://stackoverflow.com/a/1096743\">Instantiate class from name?</a> <BR>\n<a href=\"http://stackoverflow.com/q/2850213/25882\">Dynamically register constructor methods in an AbstractFactory at compile time using C++ templates</a> <BR>\n<a href=\"http://stackoverflow.com/q/1310214/25882\">Register an object creator in object factory</a> <BR>\n<a href=\"http://gamedev.stackexchange.com/a/17759\">Entity/Component Systems in C++, How do I discover types and construct components?</a> <BR>\n<a href=\"http://stackoverflow.com/a/582456/25882\">Is there a way to instantiate objects from a string holding their class name?</a> <BR>\n<a href=\"http://stackoverflow.com/a/2720991/25882\">Static variable not initialized</a> <BR>\n<a href=\"http://stackoverflow.com/q/281818/25882\">Unmangling the result of std::type_info::name</a></p>\n\n<p><strong>Any input on what I have so far?</strong> </p>\n"},{"tags":["c++","qt","visual-c++","lua","cmake"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":8366141,"title":"Why is QObjectIterator::get_value_ref() not implemented in my source distribution of QtLua?","body":"<p>I am trying to build the QtLua module for Qt 4.7.4 on my windows machine and I have the project all set up (thanks to cmake) with the appropriate include/lib paths and compiler/linker settings. But now I have a problem where the library wont build because of a seemingly missing implementation for ValueRef QObjectIterator::get_value_ref() located at line 145 of  qtluaobjectiterator.cc. I don't really know what to do about this, I tried returning a default value but there was no default constructor for ValueRef. This was all that was in the source file for the function:</p>\n\n<pre><code>ValueRef QObjectIterator::get_value_ref()\n{\n    // Not used from lua script\n    std::abort();\n}\n</code></pre>\n\n<p>It also appears that another function is also not implemented. Or at least not implemented to be buildable in MSVC2010, I don't actually know whether gcc is okay with functions not returning values they're supposed to, but I highly doubt it. qtluaenumiterator.cc line 58</p>\n\n<pre><code>ValueRef EnumIterator::get_value_ref()\n{\n    abort();\n}\n</code></pre>\n\n<p>Info:</p>\n\n<ul>\n<li>Windows 7 x64 Ultimate</li>\n<li>Visual Studio 2010 ultimate (with MSVC10)</li>\n<li>luaforwindows v5.1.4-45</li>\n<li>QtLua v1.3</li>\n<li>QtSDK 4.7.4</li>\n<li>CMake 2.8.6</li>\n</ul>\n\n<p>I have found virtually 0 items on this topic via google search (1 was in Russian, so I don't know if it could've helped)</p>\n"},{"tags":["c++","qt","listview","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12922109,"title":"How do I get a web view in a list view in Blackberry Cascades, QML & C++, QT","body":"<p>I am trying to get a list of images from the internet to show up in a list view in QML.  I have code that looks like this:</p>\n\n<pre><code>ListView {\n\n    objectName: \"imageListView\"\n\n    listItemComponents: [\n\n        ListItemComponent {\n\n            type: \"item\"\n\n            Container {\n                WebView {\n                     url: ListItemData.imageSource\n                }    \n            }                           \n        }\n    ]\n}\n</code></pre>\n\n<p>The problem is this just causes the following error: \"Unable to assign [undefined] to QUrl url\"</p>\n\n<p>I know the ListItemData.imageSource contains the correct data, because I tested it using, Label { text: ListItemData.imageSource }, in place of the WebView, and it showed all the image urls that are needed.</p>\n"},{"tags":["c++","qt","download","qml","blackberry-10"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":12960592,"title":"Attempting to download an image in Blackberry Cascades QT, and QML","body":"<p>I am attempting to download images in Blackberry Cascades, C++, QT.</p>\n\n<p>I am basically using code that looks like this:</p>\n\n<pre><code>void MyClass::download() {\n\n    QUrl url(imagePath);\n    QNetworkRequest request(url);\n    Q_ASSERT(connect(networkAccessManager_, SIGNAL(finished(QNetworkReply *)), this, SLOT(saveImage(QNetworkReply *))));\n\n    networkAccessManager_-&gt;get(request);\n\n}\n\nvoid MyClass::saveImage(QNetworkReply *) {\n    QByteArray imageData = reply-&gt;readAll();\n\n    if (reply-&gt;error() != QNetworkReply::NoError) {\n        qDebug() &lt;&lt; \"an error occured downloading the image\";\n        return;\n    }\n\n    qDebug() &lt;&lt; imageData;\n    //...\n</code></pre>\n\n<p>When I do this, the imageData just contains: \"Ã¿Ã˜Ã¿Ã, instead of the entire content of the image I downloaded.</p>\n\n<p>Can someone explain this to me?, and how can I make this work?</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12982489,"title":"Qt Thread object only sending signal as Qt:DirectConnection - why?","body":"<p>I have a class derived from <code>QThread</code>:  <code>class MyClass : public QThread</code>\nThis class is connected with a slot of another object. Originally this was connected as <code>Qt::AutoConnection</code>. But then - as soon as the thread is started (<code>MyClass::run()</code>) - the signal is no longer \"reaching the slot\" (<strong>why?</strong>).</p>\n\n<pre><code>// connected before myObject-&gt;run()\ns = QObject::connect(\n_myObject, SIGNAL(signalLogMessage(const QString&amp;, QtMsgType)), \nthis, SLOT(slotLogMessage(const QString&amp;, QtMsgType)), Qt::DirectConnection);\n</code></pre>\n\n<p>My first idea was that I need to force <code>Qt::QueuedConnection</code> (<code>this</code> / <code>_myObject</code> will be cross threaded). In this case it does not work at all. Only <code>Qt::DirectConnection</code> works. After the thread is started, IMHO <code>Qt::QueuedConnection</code> is the correct choice (cross thread).</p>\n\n<p><strong>Any idea what is going wrong?</strong> The connection itself seems to be correct, otherwise it was not working at (mean even not with <code>Qt::DirectConnection</code>).</p>\n\n<p>Edit 1: -- As of hyde's answer / Nikos' comment</p>\n\n<p>As of right now I think hyde's answer / Nikos' comment are pointing out the root cause. My <code>QThread</code> is running it's own message loop for another application. This is the reason why it is running in its own thread and is basically an infinite loop</p>\n\n<pre><code>run() { \n  // exec(); // while not reached    \n  while (_runMessageLoop &amp;&amp; ...) {\n    hr = CallDispatch(.....);\n    if (hr== 0) QThread::msleep(100); \n    // QCoreApplication::processEvents();\n  }\n}\n</code></pre>\n\n<p>Guess due to this infinite loop the Qt message loop is not running and no signal / slots are processed (is this correct?) When forcing <code>Qt::DirectConnection</code> the methods are called directly with no Qt message loop required, this might be the reason why this is the only connection type working.</p>\n\n<p><strong>The question is now, how can I combine the Qt and my own message loop</strong> (if this is feasible)? Cannot call exec() before the loop (because then it is in the Qt loop), and just the <code>QCoreApplication::processEvents();</code> in \"my loop\" is still not working.</p>\n\n<p>=> see new Question here: <a href=\"http://stackoverflow.com/questions/13054053/qt-how-to-combine-own-message-loop-and-qt-event-loop\">Qt: How to combine own message loop and Qt event loop?</a> </p>\n"},{"tags":["python","qt","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":65,"score":0,"question_id":13032774,"title":"Pyqt English to Finnish Translation","body":"<p>I want to convert the langauge of pyqt application from english to finnish . I saw that pyqt has some methods for it and i try to use it but it didnt help me </p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\ntranslator = QtCore.QTranslator()\ntranslator.load(\"qt_fr.qm\")\napp.installTranslator(translator)\n</code></pre>\n\n<p>.qm file is present at right path (right now its taking french i guess) and on button i use this text</p>\n\n<pre><code> name = \"File\"\n button.setText(self.tr(QtCore.QString(name)))\n</code></pre>\n"},{"tags":["c++","qt","qfiledialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13054730,"title":"QFileDialog is crashing my application","body":"<p>QFileDialog in the following simple code is crashing my application. It worked the first 3 times I lunched my application and then without even change the function in which QFileDialog is used it is crashing on run-time.</p>\n\n<pre><code>void Browse::on_browseButton_clicked()\n{\n    QString direc=QFileDialog::getOpenFileName(this,tr(\"Open Directory\"),\"/home\",0,0,QFileDialog::DontUseNativeDialog);\n    ui-&gt;lineEdit-&gt;setText(direc);\n}\n</code></pre>\n\n<p>I used the </p>\n\n<pre><code>QFileDialog::DontUseNativeDialog;\n</code></pre>\n\n<p>as suggested by <a href=\"http://sarbojitqtexp.blogspot.com/2012/04/getting-crash-on-qfiledialog-static.html\" rel=\"nofollow\">this webpage</a>  by still it crashes.</p>\n\n<p>Any idea why? I am aiming to have the user browse the system to select a file or folder. If you have another work to perform this task let me know.</p>\n\n<p>Using ubuntu and Qt.</p>\n"},{"tags":["qt","qt4","random"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3079,"score":2,"question_id":3244999,"title":"Create a random string or number in Qt4","body":"<p>Is there any function or something like that by which I can create totally random strings or numbers?</p>\n"},{"tags":["qt","fonts","qt4","qgraphicsview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13054715,"title":"How to properly put text into a rectangle in QGraphicsView","body":"<p>I have a QGraphicsView in which I display few SVG images (with different sizes) like that:</p>\n\n<pre><code>scene()-&gt;setSceneRect(0, 0, 1.8, 1);\n\nQGraphicsSvgItem *msgBgSvg = new QGraphicsSvgItem(\":/images/messageBackground.svg\");\nQRectF msgBgSvgRect = msgBgSvg-&gt;sceneBoundingRect();\nmsgBgSvg-&gt;scale(1.2 / msgBgSvgRect.width(), 0.6 / msgBgSvgRect.height());\nmsgBgSvg-&gt;setPos(0.5, 0.2);\nscene()-&gt;addItem(msgBgSvg);\n// ...\n</code></pre>\n\n<p>I'd like to place text in a rectangle (namely <code>msgBgSvg-&gt;sceneBoundingRect()</code>). It is a plain text, but I'd like it to be centered and contained in that rectangle.\nWhen I simply tried to make the font small and <code>setTextWidth</code> of a QGraphicsTextItem, the font had to be really small (like 0.0001 or so) and the text was distorted anyway. Also, if displaying such small scene with constant size or rescaling svg like that is source of problems, please tell me.</p>\n\n<p>So, the question is: <em>How to put centered text in a rectangle with a properly sized font and wrapping of long lines?</em></p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13017769,"title":"Debugging a version of Qt Creator and plugins all built from source","body":"<p>My goal is to be working on / debugging qt creator plugins and, maybe, editing / debugging qt creator source code. Towards this end I've tried a couple of things:</p>\n\n<ol>\n<li><p>Downloading source for the qt sdk and qt creator, compiling each, and then making a qt creator plugin project and hooking everything together by hand. This got complicated pretty quickly (I tried to keep my plugin project outside the qt-creator/src/plugin/ folder) and doesn't really get me to a nice spot in terms of debugging.</p></li>\n<li><p>Using an installed version of the qt creator to open the qtcreator.pro that came along with the source, adding a qt creator plugin as a sub project, and building everything from the already installed version of qt creator.</p></li>\n</ol>\n\n<p>I like the second approach a lot because I have control over everything but I can rely on qt creators tools that make projects, enhance debugging, etc. There's just one small problem...</p>\n\n<p>When I run my shiny new build of qt creator (with my plugin project) from inside the installed version all I get is a popup called \"qtcreator_process_stub\" that says \"This is an internal helper of Qt Creator. Do not run it manually. Press  to close this window...\"</p>\n\n<p>So I'm not really sure how to debug my build of qt creator from my instance of qt creator. Any ideas? Note: if I run the generated Qt Creator.app I get a functioning instance of qt creator with my plugin loaded properly.</p>\n"},{"tags":["linux","qt","compiler"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":832,"score":0,"question_id":979143,"title":"Which cross compiler?","body":"<p>What is the difference between</p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/MinGW\" rel=\"nofollow\">MinGW</a> cross compiler and</li>\n<li><a href=\"http://en.wikipedia.org/wiki/GNU_Compiler_Collection\" rel=\"nofollow\">GCC</a> Cross compiler.</li>\n</ol>\n\n<p>Which one used in which operating system?</p>\n\n<p>I need to create an <a href=\"http://en.wikipedia.org/wiki/EXE\" rel=\"nofollow\">EXE</a> file in the Linux operating system using Qt, hence which is the cross compiler to be used?</p>\n"},{"tags":["c++","qt","cross-platform","compilation"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1057,"score":4,"question_id":2008433,"title":"Cross-platform compiling of a Qt application","body":"<p>I have written a C++ application that uses the Qt framework. I would like to make this application available on different platforms. Since I use Linux, I have no problems compiling the code for Linux. The questions is: </p>\n\n<p>Can I compile my code in such a way that it will run on Windows, Mac, etc.? As said above, I'm working on a Linux machine and can't possibly install all the different platforms out there. </p>\n\n<p>If it is possible, what steps are required (in simple terms)?</p>\n\n<p>If there is any documentation on this topic, I'm happy to read anything - please just point me in the right direction. </p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13051467,"title":"Qt - How to create widget asynchronously?","body":"<p>I would like to create a widget in asynchronously and then assign it to a dialog in the main thread. I have a functions to create the widget:</p>\n\n<pre><code>shared_ptr&lt;QTableWidget&gt; createTable() {\n    auto table = make_shared&lt;QTableWidget&gt;()\n\n    // ... add some items to the table\n\n    return table;\n}\n</code></pre>\n\n<p>When I call this function synchronously everything works as expected. Problem is when I call this function asynchronously:</p>\n\n<pre><code>auto futureWidget = QtConcurrent::run(createWidget);\n</code></pre>\n\n<p>I use <code>QFutureWatcher::finished()</code> signal and when the widget creation is done, I try to add that widget to the dialog in the main/GUI thread.</p>\n\n<p>The problem is that sometimes it just crashes with SIGSEG when I add an item to the table. Sometimes when it completes the created widget is not shown. Also there is a lot of warnings on the standard output about using pixmap outside GUI thread.</p>\n\n<p>Is that not possible to create widgets in different thread in Qt? If it is possible, how to do it?</p>\n"},{"tags":["c++","qt","winapi","hardware","hid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13053198,"title":"C++ / Qt interface to a presentation remote in Windows","body":"<p>I am looking to use a presentation remote such as the Kensington Wireless Presenter (33373) as an input controller for a C++/Qt base Windows application. It would be preferred if the application could receive input from the remote regardless the applications focus status.</p>\n\n<p>Do these devices use the HID interface? Are there any good libraries that provide a level of abstraction? What is the best way to read input from such as device?</p>\n"},{"tags":["windows","linux","qt","cross-compiling"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":2,"view_count":2908,"score":4,"question_id":1025687,"title":"Should I cross-compile in Linux or Windows?","body":"<p>To create a <code>.exe</code> in Linux using Qt SDK, should I cross compile my application in Linux or cross-compile my application in Windows?</p>\n"},{"tags":["qt","cross-compiling"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":334,"score":0,"question_id":7347736,"title":"How to compile for Windows if I am under Linux?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1025687/cross-compile-in-linux-or-windows\">Cross compile in Linux or Windows?</a>  </p>\n</blockquote>\n\n\n\n<p>Does this involve the mkspecs?</p>\n"},{"tags":["c++","qt","http","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13046137,"title":"can i know if QNetworkAccessManager done processing all http requests?","body":"<p>im using  QNetworkAccessManager in each httpClient object creation in my app and delete it after the HttpClass go out of stack, i have something like 300 http requests<br>\nim doing in aloop , i know that from 4.8 the http requests are Multithreading  so i have no fear to execute as meany as i like , and its working great .<br>\nthe problem is say how can i know when all the thread requests are done (all the 300 ) can i emit some signal ?\nthis is the loop of the request , in side the http client there are the usual http signals</p>\n\n<pre><code>    QMapIterator&lt;QString,QString&gt; i(m_urlMap);\n\n    while (i.hasNext())\n    {\n        i.next();        \n        QString sUrl = i.value();;\n         HttpClient* pHttpClient = new  HttpClient(m_pFileOutput,m_pMutex);\n         bool bReturnInvokeHttpClient = false;\n         bReturnInvokeHttpClient = pHttpClient-&gt;startRequest(sUrl);\n\n\n    }\n</code></pre>\n\n<p>do i need manully keep track on each httpclient m when it done its job ?</p>\n"},{"tags":["c","qt","visual-studio-2008","glib","matlab-deployment"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13038756,"title":"Cause of \"entry point could not be located\" in unrelated DLL?","body":"<p>Before you dismiss this question as a repeat, this question is different than the many other similar questions on SO because the <strong>function</strong> in the error message is <strong>completely unrelated</strong> to the <strong>DLL</strong>.</p>\n\n<h3>The app and version info</h3>\n\n<p>I've got a 32-bit app in Visual Studio 2008 RTM which uses a MATLAB Compiler 4.17 (R2012a) generated DLL, Glib (2.32.4, binaries from GStreamer SDK 2012.9 32-bit), and Qt (4.8.3-vs2008), all running on Windows 7 x64 SP1.</p>\n\n<h3>The problem</h3>\n\n<p>The <strong>debug build runs fine</strong>, but in release I get the infamous <code>The procedure entry point libXXXInitialize could not be located in the dynamic link library libglib-2.0-0.dll.</code> The bizarre thing is that this libXXXInitialize function (which does exist in the MATLAB-based DLL) is <strong>totally unrelated</strong> to libglib-2.0-0.dll.</p>\n\n<h3>My research</h3>\n\n<p>I checked the obvious, ensuring that all libraries were compiled with VS2008 (except for GStreamer/GLib which is compiled with mingw, but since it's straight C there shouldn't be any issues), and checking for any other versions of the DLLs in the path. It seems like it must be some sort of linker problem.</p>\n\n<h3>Update 1</h3>\n\n<p>In Dependency Walker x86, it shows this <code>libXXXInitialize</code> as an unresolved (parent) import from not only libglib-2.0-0.dll, but all the other GLib/GStreamer DLLs as well, however the function is correctly resolved in the DLL where it should be found, libXXX.dll.</p>\n\n<h3>Update 2</h3>\n\n<p>I removed the call to <code>libXXXInitialize</code> and called <code>mclInitializeApplication</code> from the MATLAB Compiler Runtime, and now that function is failing to be resolved from the glib DLL.</p>\n\n<p><strong>However I found a solution</strong> (at least temporary), changing the linker options from <a href=\"http://msdn.microsoft.com/en-us/library/bxwfs976%28v=vs.90%29.aspx\" rel=\"nofollow\"><code>/OPT:REF</code></a> to <code>/OPT:NOREF</code> fixed the problem (so the linker \"<em>keeps functions and/or data that are never referenced</em>). The bizarre thing is, I certainly use the <code>mclInitializeApplication</code> function explicitly, and if I turn on <code>/VERBOSE:REF</code>, it doesn't show it being removed.</p>\n\n<p>If anyone can tell me why this is happening, I'll mark it as the answer.</p>\n"},{"tags":["html","qt","desktop-application","dart","dartium"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":79,"score":3,"question_id":13042266,"title":"Embedding The Dart VM In A Desktop Graphical Stand - Alone Application","body":"<p>So I am writing a cross-platform (so far plans for Windows and Ubuntu) application for both the web and desktop.\nThis application\nis expected to at times be moderately graphically intensive and perform a substantial amount of file IO. I am writing it in Dart. Which may seem like a\n\"funny\" choice given the circumstances, however I did not want\nto deal with any heavy API's or have two code bases (NaCl and GCC with two different libs).\nIn short I am using Dart to interact with an HTML web page, and noticed the Dart VM does\nnot interact with a webpage unless you are in Dartium. But I want a \"desktop application\" as  well as a web application which eliminates Dartium as a choice, so alternately I plan to use a Qt Webview to make it look like a desktop app, but what I am wondering is would it be worth it to go through the trouble of embedding the Dart VM into my app? In doing so would it easily enough to get the Dart VM (running a dart script) to interact with the page in the Qt Webview (I am a bit new to Dart)? Thanks for reading!</p>\n"},{"tags":["qt","sockets","io","qfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13039041,"title":"File changes handle, QSocketNotifier disables due to invalid socket","body":"<p>I am developing for a touch screen and need to detect touch events to turn the screen back on. I am using Qt and sockets and have run into an interesting issue.</p>\n\n<p>Whenever my QSocketNotifier detects the event it sends me infinite notices about it. Therefore I need to close and open the event file to cycle the notifier (inputNotifier in the below code). The problem usually arises several minutes after the device has been running and the file (inputDevice) suddenly changes it's handle from 24 to something else (usually 17).</p>\n\n<p>I am not sure what to do, because the initial connect statement is linked to the initial Notifier pointer. If I create a new Notifier using the new handle, the connect is invalid. As far as I can tell there is no option to set a new socket value on a running QSocketNotifier. Suggestions? The relevant code is below:</p>\n\n<pre><code>#include \"backlightcontroller.h\"\n#include &lt;QTimer&gt;\n#include &lt;QFile&gt;\n#include &lt;syslog.h&gt;\n#include &lt;QDebug&gt;\n#include &lt;QSocketNotifier&gt;\n\n\n\n\nBacklightController::BacklightController(QObject *parent) :\n    QObject(parent)\n{\n    backlightActive = true;\n\n    // setup timer\n    trigger = new QTimer;\n    trigger-&gt;setSingleShot(false);\n    connect(trigger, SIGNAL(timeout()), SLOT(deactivateBacklight()));\n\n    idleTimer = new QTimer;\n    idleTimer-&gt;setInterval(IDLE_TIME * 1000);\n    idleTimer-&gt;setSingleShot(false);\n    connect(idleTimer, SIGNAL(timeout()), SIGNAL(idled()));\n    idleTimer-&gt;start();\n\n    // setup socket notifier\n    inputDevice = new QFile(USERINPUT_DEVICE);\n    if (!inputDevice-&gt;open(QIODevice::ReadOnly))\n    {\n        syslog (LOG_ERR, \"Input file for Backlight controller could not been opened.\");\n    }\n    else\n    {\n        inputNotifier = new QSocketNotifier(inputDevice-&gt;handle(), QSocketNotifier::Read);\n        inputNotifier-&gt;setEnabled(true);\n        connect(inputNotifier, SIGNAL(activated(int)), SLOT(activateBacklight()));\n    }\n\n    qDebug()&lt;&lt;\"backlight socket: \"&lt;&lt;inputNotifier-&gt;socket();\n\n    // read out settings-file\n    QString intensity = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_intensity\");\n    if (intensity.length() == 0) intensity = \"100\";\n    QString duration = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_duration\");\n    if (duration.length() == 0) duration = \"180\";\n    QString always_on = Global::system_settings-&gt;getValue(\"BelatronUS_backlight_always_on\");\n    if (always_on.length() == 0) always_on = \"0\";\n\n    setIntensity(intensity.toInt());\n    setDuration(duration.toInt());\n\n    if (always_on == \"0\")\n      setAlwaysOn(false);\n    else\n      setAlwaysOn(true);\n}\n\n\nBacklightController::~BacklightController()\n{\n    trigger-&gt;stop();\n    inputNotifier-&gt;setEnabled(false);\n    inputDevice-&gt;close();\n\n    delete trigger;\n    delete inputDevice;\n    delete inputNotifier;\n}\n\n\nvoid BacklightController::setCurrentIntensity(int intensity)\n{\n    // adapt backlight intensity\n    QFile backlightFile(\"/sys/class/backlight/atmel-pwm-bl/brightness\");\n    if (!backlightFile.open(QIODevice::WriteOnly))\n    {\n      syslog (LOG_ERR, \"Backlight intensity file could not been opened.\");\n    }\n    else\n    {\n      QString intensityString = QString::number(TO_BRIGHTNESS(intensity));\n      if (backlightFile.write(\n              qPrintable(intensityString), intensityString.length()\n              ) &lt; intensityString.length())\n      {\n        syslog (LOG_ERR, \"Backlight intensity could not been changed.\");\n      }\n      backlightFile.close();\n    }\n}\n\n\nvoid BacklightController::resetNotifier()\n{\n\n    inputDevice-&gt;close();\n    if (!inputDevice-&gt;open(QIODevice::ReadOnly))\n    {\n        syslog (LOG_ERR, \"BacklightController::%s: Input file could not been opened.\", __FUNCTION__);\n    }\n    qDebug()&lt;&lt;\"reset, handle: \"&lt;&lt;inputDevice-&gt;handle();\n    //inputNotifier=QSocketNotifier(inputDevice-&gt;handle(), QSocketNotifier::Read);\n\n\n    // restart timer after user input\n    idleTimer-&gt;start();\n}\n\n\nvoid BacklightController::activateBacklight()\n{\n    // only activate backlight, if it's off (avoid to useless fileaccess)\n    if (!backlightActive)\n    {\n        setCurrentIntensity(_intensity);\n        backlightActive = true;\n        emit backlightActivated();\n    }\n\n    // restart backlight timeout, but only if we don't want the backlight to shine all the time\n    if (!_alwaysOn)\n        trigger-&gt;start();\n\n    // reset notifier to be able to catch the next userinput\n    resetNotifier();\n}\n\n\nvoid BacklightController::deactivateBacklight()\n{\n    // don't turn it off, if it's forced on\n    if (!_alwaysOn)\n    {\n        if (backlightActive)\n        {\n            // only deactivate backlight, if it's on (avoid to useless fileaccess)\n            setCurrentIntensity(BACKLIGHT_INTENSITY_OFF);\n            backlightActive = false;\n            emit backlightDeactivated();\n        }\n    }\n    qDebug()&lt;&lt;\"trigger stopping\";\n    trigger-&gt;stop();\n}\n\n\nvoid BacklightController::setIntensity(int intensity)\n{\n    if (intensity &gt; 100)\n        intensity = 100;\n    else if (intensity &lt; 0)\n        intensity = 0;\n\n    _intensity = intensity;\n\n    // write new intensity to file if it's active at the moment\n    if (backlightActive)\n    {\n        setCurrentIntensity(_intensity);\n        trigger-&gt;start();\n    }\n}\n\n\nvoid BacklightController::setDuration(int duration)\n{\n    if (duration &lt; 1)\n        duration = 1;\n\n    _duration = duration;\n    trigger-&gt;setInterval(_duration * MS_IN_SEC);\n\n    // reset trigger after changing duration\n    if (backlightActive)\n    {\n        trigger-&gt;start();\n    }\n}\n\n\nvoid BacklightController::setAlwaysOn(bool always_on)\n{\n    _alwaysOn = always_on;\n\n    // tell the timer what to to now\n    if (_alwaysOn)\n    {\n        this-&gt;activateBacklight();\n        trigger-&gt;stop();\n    }\n    else\n    {\n        trigger-&gt;start();\n    }\n}\n</code></pre>\n"},{"tags":["qt","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":114,"score":1,"question_id":10893691,"title":"Phonon VideoWidget playback from updated QBuffer","body":"<p>I'm trying to create a video player that can decrypt video data in memory and play it without ever storing the decrypted data on the hard drive. I'm using the Qt Framework with the Video Widget and a QBuffer. I decrypt the first segment of the video and store it in a QBuffer and start playback. This works but after setCurrentSource is called, all data written to the QBuffer is ignored.</p>\n\n<p>I believe this has to do with the different backends. Is it possible to achieve playback directly from memory in Qt (pyQt) and if not are there any alternatives?</p>\n\n<pre><code>QFile file (\"/Users/user/video.mov\");\nfile.open(QIODevice::ReadOnly);\n\nQByteArray array1;\nQByteArray array2;\nQBuffer *playbackBuffer = new QBuffer();\nplaybackBuffer-&gt;open(QBuffer::ReadWrite);\n\narray1 = file.read(10000000);\narray2 = file.read(10000000);\n\nplaybackBuffer-&gt;write(array1);\n\nvideoMedia-&gt;setCurrentSource(playbackBuffer);\nvideoOutput-&gt;play();\nplaybackBuffer-&gt;write(array2);\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13039614,"title":"QDataStream QIODevice memory allocation","body":"<p>Say I have a function that creates a QIODevice (e.g. a QFile), then returns a pointer to a QDataStream constructed from the QIODevice. What is the best way to deal with the memory allocation here? Clearly the QIODevice must be heap allocated to stay available to the QDataStream upon function termination, however the destruction of a QDataStream does not destroy or close the device. Is there a standard way of dealing with this seemingly common problem?\nIdeally I want a function that returns an object (not a pointer to an object) that behaves like a QDataStream but upon destruction closes the device. Effectively a standard library input stream.</p>\n\n<p>Example code:</p>\n\n<pre><code>QDataStream* getStream(const QString&amp; filename) {\n  QFile* file = new QFile(filename); // needs to be explicitly deleted later\n  file-&gt;open(QIODevice::ReadOnly);\n  QDataStream* out = new QDataStream(&amp;file); // same here\n  return out;\n}\n</code></pre>\n"},{"tags":["c++","qt","design","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":48,"score":3,"question_id":13049896,"title":"QML : Navigation between qml pages from design perception","body":"<p>We need to develop a QtQuick project, where we have about 100 screens. </p>\n\n<p>I had tried to make a demo project for the navigation which has three screens on button click. I had used the concepts of 'States' in the navigation between the pages. Initially I tried the same using 'Loader' but loader was not able to retain the previous state of page, it was re-loading the entire page during the navigation.</p>\n\n<p>Below is the code snippet of main.qml</p>\n\n<pre><code>// import QtQuick 1.0 // to target S60 5th Edition or Maemo 5\nimport QtQuick 1.1\n\nRectangle {\n    id:main_rectangle\n    width: 360\n    height: 640\n\n    Page1{\n        id:page1\n    }\n\n    Page2{\n        id:page2\n    }\n\n    Page3{\n        id:page3\n    }\n\n    states: [\n        State {\n\n            name: \"page2\"\n\n            PropertyChanges { target: page3; visible:false; }\n            PropertyChanges { target: page1; visible:false; }\n            PropertyChanges { target: page2; visible:true; }\n        },\n        State {\n            name: \"page1\"\n            PropertyChanges { target: page3; visible:false; }\n            PropertyChanges { target: page2; visible:false; }\n            PropertyChanges { target: page1; visible:true; }\n        },\n\n        State {\n            name: \"page3\"\n            PropertyChanges { target: page1; visible:false; }\n            PropertyChanges { target: page2; visible:false; }\n            PropertyChanges { target: page3; visible:true; }\n        }\n\n    ]\n\n}\n</code></pre>\n\n<p>This runs well with the small POC with three screens, but its not feasible to define states for 100 screens.</p>\n\n<p>From designing aspect we concluded to make a C++ controller we controls the states, visibility of various pages.</p>\n\n<p>Need suggestions how to implement the 'State' logic in C++. </p>\n"},{"tags":["xml","qt","qt4","schematron"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13049961,"title":"Qt with Schematron?","body":"<p>Is it possible to use Schematron to validate XML with the QT XmlPattern framework?\nOr in any other easy way?</p>\n"},{"tags":["linux","qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12892324,"title":"qplatformdefs.h with cmake","body":"<p>I'm trying to compile my Qt program with cmake but I've got an arror when compiling <a href=\"https://raw.github.com/chindit/dadaword/master/qzip.cpp\" rel=\"nofollow\" title=\"qzip.cpp\">qzip.cpp</a> :</p>\n\n<blockquote>\n  <p>qzip.cpp:57:27: error fatal: qplatformdefs.h:  No such file or directory</p>\n</blockquote>\n\n<p>I've added these lines in <em>CMakeLists.txt</em> but it didn't work :</p>\n\n<blockquote>\n  <p>IF (QT_LIBRARY_DIR AND NOT QT_MKSPECS_DIR  OR  QT_QMAKE_CHANGED)</p>\n  \n  <p>EXEC_PROGRAM( ${QT_QMAKE_EXECUTABLE}</p>\n  \n  <blockquote>\n<pre><code>ARGS \"-query QMAKE_MKSPECS\"\n\nOUTPUT_VARIABLE qt_mkspecs_dirs )\n</code></pre>\n  </blockquote>\n  \n  <p># do not replace : on windows as it might be a drive letter</p>\n  \n  <p># and windows should already use ; as a separator</p>\n  \n  <p>IF(UNIX)</p>\n  \n  <blockquote>\n<pre><code>STRING(REPLACE \":\" \";\" qt_mkspecs_dirs \"${qt_mkspecs_dirs}\")\n</code></pre>\n  </blockquote>\n  \n  <p>ENDIF(UNIX)</p>\n  \n  <p>SET(QT_MKSPECS_DIR NOTFOUND)</p>\n  \n  <p>FIND_PATH(QT_MKSPECS_DIR qconfig.pri PATHS ${qt_mkspecs_dirs}</p>\n  \n  <blockquote>\n<pre><code>DOC \"The location of the Qt mkspecs containing qconfig.pri\"\n\n NO_DEFAULT_PATH )\n</code></pre>\n  </blockquote>\n  \n  <p>ENDIF (QT_LIBRARY_DIR AND NOT QT_MKSPECS_DIR  OR  QT_QMAKE_CHANGED)</p>\n  \n  <p>SET( QT_INCLUDES ${QT_QT_INCLUDE_DIR} ${QT_MKSPECS_DIR}/default ${QT_INCLUDE_DIR} )</p>\n</blockquote>\n\n<p>So, how can I add a link to <strong>qplatformdefs.h</strong> in my CMakeLists.cpp?</p>\n\n<p>Thanks a lot.</p>\n\n<p><strong>P.S.:</strong> I'm on Ubuntu 12.04 32bits</p>\n"},{"tags":["qt","locale","codec","qt4.7","qstring"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13049607,"title":"Qt use QIconvCodec as default codec on Mac, and QString::fromLocal8Bit() doesn't work properly","body":"<p>My code run on Windows and Mac. Now the QString::fromLocal8bit() works properly on Win but cannot deal with non-Latin1 characters (i.e. CJK Characters) on Mac. I had look into the source code and found On Both platform Qt will init its codec like this: </p>\n\n<pre><code>localeMapper = QTextCodec::codecForName(\"System\"); \n</code></pre>\n\n<p>executed in this function, Qt uses <strong>QWindowsLocalCodec</strong> on Win while it uses <strong>QIconvCodec</strong> on Mac. I found that if I set my prefered system language to \"Chinese\", then the function <strong>getMacLocaleName()</strong> &amp; <strong>getWinLocaleName()</strong> return \"<strong>zh_CH.lproj</strong>\" &amp; \"<strong>en_US_POSIX</strong>\" separately (<em>qlocale.cpp</em>). I guess that I should set something for the iconv library, so it will know the current locale and <strong>QString::fromLocal8bit()</strong> will properly work. Could anyone tell me how to make all things right and what is the machanism of Qt codec?</p>\n"},{"tags":["c++","qt","graph","qwt","linegraph"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":223,"score":1,"question_id":12227268,"title":"How to draw and edit line graphs in Qt","body":"<p>I need to draw a graph in Qt. User shold have an ability to create and delete vertices(dots) and edges(lines). Also user could move vertices with a mouse.</p>\n\n<p>Can <a href=\"http://qwt.sourceforge.net/\" rel=\"nofollow\">Qwt</a> help me with that or should i use something else (for example draw it my self with QWidget + QPainter)</p>\n\n<p>P.S. There could be vertices that are not connected. </p>\n"},{"tags":["c++","qt","smtp","email"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2301,"score":0,"question_id":3717018,"title":"How to send mail via SMTP and get it by using Qt?","body":"<p>As I unserstand I should use QTcpSocket class in order to send a mail, and QTcpServer class in order to listen the connection and get the mail. But as I am a begginer in this area I need an example that demonstrates a simple transaction. Please give an example.</p>\n"},{"tags":["xml","qt","qt4","xsd"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13047820,"title":"QT: XML Schema validation XSD, assert","body":"<p>I'd like to use the assert feature of XSD 1.1 using QXmlSchema.</p>\n\n<p>If tested it with the following xsd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n&lt;xsd:element name=\"root\"&gt;\n    &lt;xsd:complexType&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=\"node1\"&gt;\n                &lt;xsd:simpleType&gt;\n                    &lt;xsd:restriction base=\"xsd:integer\"&gt;\n                        &lt;xsd:minInclusive value=\"0\"/&gt;\n                        &lt;xsd:maxInclusive value=\"100\"/&gt;\n                    &lt;/xsd:restriction&gt;\n                &lt;/xsd:simpleType&gt;\n            &lt;/xsd:element&gt;\n            &lt;xsd:element name=\"node2\"&gt;\n                &lt;xsd:complexType&gt;\n                    &lt;xsd:sequence&gt;\n                        &lt;xsd:element name=\"x\" type=\"xsd:int\"/&gt;\n                        &lt;xsd:element name=\"y\" type=\"xsd:int\"/&gt;\n                    &lt;/xsd:sequence&gt;\n                    &lt;xsd:assert test=\"x+ y=0\"/&gt;\n                &lt;/xsd:complexType&gt;\n            &lt;/xsd:element&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:element&gt;\n</code></pre>\n\n<p></p>\n\n<p>and the following xml:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;node1&gt;1&lt;/node1&gt;\n    &lt;node2&gt;\n          &lt;x&gt;1&lt;/x&gt;\n          &lt;y&gt;3&lt;/y&gt;\n    &lt;/node2&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Now, the following code snippet returns valid schema and xml data, even though the assert should be false.</p>\n\n<pre><code> QXmlSchema schema;\n    schema.load(schemaData);\n    schema.isValid(); // true &lt;=====\n    QXmlSchemaValidator validator(schema);\n    validator.validate(xmlData)); //true &lt;=====\n</code></pre>\n\n<p>Any idea why?\nIs it because Xsd 1.1 is not implemented in Qt?\nIf so, why is the schema considered to be valid?</p>\n"},{"tags":["eclipse","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13047337,"title":"Qt C++ project doesn't compile in eclipse workspace","body":"<p>I'm working with eclipse Helios in the QT C++ perspective.\nWhenever I try to compile my project I get the following kind of errors on every QT class that I use:</p>\n\n<pre><code>expected ‘,’ or ‘...’ before ‘&amp;’ token\nISO C++ forbids declaration of ‘QString’ with no type\nexpected class-name before ‘{’ token\n‘QThread’ has not been declared\n</code></pre>\n\n<p>The project compiles in the linux shell, however.</p>\n\n<p>Also, I have a different project in a different workspace that is compiling perfectly with Qt. Somehow, those two workspaces don't look similar (project properties have different fields and options), although both of the projects are done in the Qt perspective.</p>\n\n<p>Can anyone help me figure this out?</p>\n"},{"tags":["qt","buffer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13045843,"title":"QBuffer::open return value ever false?","body":"<p>I is possible that QBuffer::open(OpenMode mode) ever returns false? Here is implementation:</p>\n\n<pre><code>bool QBuffer::open(OpenMode flags)\n{\n    Q_D(QBuffer);\n\n    if ((flags &amp; Append) == Append)\n        flags |= WriteOnly;\n    setOpenMode(flags);\n    if (!(isReadable() || isWritable())) {\n        qWarning(\"QFile::open: File access not specified\");\n        return false;\n    }\n\n    if ((flags &amp; QIODevice::Truncate) == QIODevice::Truncate) {\n        d-&gt;buf-&gt;resize(o);\n    }\n    if ((flags &amp; QIODevice::Append) == QIODevice::Append) // append to end of buffer\n        seek(d-&gt;buf-&gt;size());\n    else\n        seek(o);\n\n    return true;\n}\n\nbool QIODevice::isReadable() const\n{\n    return (openMode() &amp; ReadOnly) != 0;\n}\n\nbool QIODevice::isWritable() const\n{\n    return (openMode() &amp; WriteOnly) != 0;\n}\n</code></pre>\n\n<p>I would say no. I am making this research so my flexLint code analysis won't create new kind of warning.</p>\n"},{"tags":["qt","directory","move"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13045541,"title":"Move directory using Qt","body":"<p>I want to move a directory. My selected directory contains many sub directories and files.</p>\n\n<p>How can I implement the same using Qt?</p>\n"},{"tags":["qt","licensing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12654613,"title":"static linking Qt with open source version","body":"<p>I'm developing an application with the Qt open source edition. As I don't want to deliver the Microsoft Visual Visual C(++) redistributables, I'd like to use a static-linked version of Qt. \nThe Qt licensing information <a href=\"http://qt.digia.com/Product/Licensing\" rel=\"nofollow\">says</a> that I \"should\" develop with a commercial Qt license if I want to use static linking in my application, although when I use the <code>configure -static</code> command for building a static Qt library the command prompt asks me if I use the commercial or open source version of Qt.</p>\n\n<p>So it is possible to build Qt with the open source version? Do I need the commercial edition to use static linking? I won't sell the application.</p>\n"},{"tags":["qt","lgpl"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":2609,"score":5,"question_id":2277165,"title":"Qt single EXE with LGPL?","body":"<p>I don't know much about the LGPL/GPL when it comes to distributing programs (without a Qt license); If I made a program, could I statically link the libraries to the exe so I have a single file to distribute when:</p>\n\n<ul>\n<li><p>The program does not cost anything, it's just being distributed (closed source or open source)?</p></li>\n<li><p>When you have to pay for the program can you still statically link?</p></li>\n</ul>\n"},{"tags":["c++","qt","opengl","ubuntu","qglwidget"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2330,"score":5,"question_id":4526016,"title":"Undefined reference to vtable, Qt in Linux","body":"<p>I was trying to compile a Qt and OpenGL program under Code::Blocks in Ubuntu 10.04. I get the 'undefined reference to 'vtable for GLWidget'</p>\n\n<pre><code>#ifndef _GLWIDGET_H\n#define _GLWIDGET_H\n\n#include &lt;QtOpenGL/QGLWidget&gt;\n#include \"stdlib.h\"\n\nclass GLWidget : public QGLWidget {\n\n    Q_OBJECT // must include this if you use Qt signals/slots\n\npublic:\n    GLWidget(QWidget *parent = 0);\n    ~GLWidget();\nprotected:\n    void initializeGL();\n    void resizeGL(int w, int h);\n    void paintGL();\n    void keyPressEvent(QKeyEvent *event);\n};\n\n#endif  /* _GLWIDGET_H */\n</code></pre>\n\n<p>I borrowed the code from this guy to see if it works, because mine wasn't working because of the same reason. <a href=\"http://programanddesign.com/cpp/qt-opengl-code-example/\" rel=\"nofollow\">Code</a></p>\n\n<p>And here is the GLWidget.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QMouseEvent&gt;\n#include \"glwidget.h\"\n\nGLWidget::GLWidget(QWidget *parent) : QGLWidget(parent) {\n    setMouseTracking(true);\n}\n\nGLWidget::~GLWidget()\n{\n}\n\nvoid GLWidget::initializeGL() {\n   ...\n}\n\nvoid GLWidget::resizeGL(int w, int h) {\n   ...\n}\n\nvoid GLWidget::paintGL() {\n    ...\n}\n\nvoid GLWidget::keyPressEvent(QKeyEvent* event) {\n    ...\n    }\n}\n</code></pre>\n\n<p>I removed the code from the GL part to keep it shorter. Should you need it, I can always post it up.</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtOpenGL/QGLWidget&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char *argv[]) {\n\n    QApplication app(argc, argv);\n\n    GLWidget window;\n    window.resize(800,600);\n    window.show();\n\n    return app.exec();\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt","qtwebkit","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13040903,"title":"How to catch an event of a file being dragged & dropped from desktop to QWebView in a Qt (PyQt) application with javascript","body":"<p>I am working on an application in PyQt. I made the UI with QWebView which gets loaded with an HTML page. </p>\n\n<p>This HTML page contains a javascript code which detects if a file was dropped on a certain DIV.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    $(document).ready(function() {\n        jQuery.event.props.push('dataTransfer');\n\n\n        $('.input').bind('drop', function(e) {\n            var files = e.dataTransfer.files;\n            alert(files[0].name);\n        });\n    });\n</code></pre>\n\n<p>This works fine if I load the HTML code in Chrome.</p>\n\n<p>If I run my application and D&amp;D a file in QWebView that javascript code doesn't get executed. </p>\n\n<p>I extended the QWebView and added the events so I can catch the D&amp;D event with python. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class BrowserWindow(QtWebKit.QWebView):\ndef __init__(self, parent):\n    super(BrowserWindow, self).__init__(parent)\n    self.setAcceptDrops(True)\n\ndef dragEnterEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.accept()\n    else:\n        event.ignore()\n\ndef dragMoveEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.setDropAction(QtCore.Qt.CopyAction)\n        event.accept()\n    else:\n        event.ignore()\n\ndef dropEvent(self, event):\n    if event.mimeData().hasUrls:\n        event.setDropAction(QtCore.Qt.CopyAction)\n        event.accept()\n        urls = event.mimeData().urls()\n        print str(urls[0].toLocalFile())\n    else:\n        event.ignore()\n</code></pre>\n\n<p>Is there an option to catch such event directly with javascript in QWebView?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13044028,"title":"resizing a Widget is not affecting the pixmap that is present inside it - Qt/QML","body":"<p>I am trying to Zoom In / Out my Pixmap in my application of PDF viewer.</p>\n\n<p>I have used Poppler for pdf rendering.\nPoppler gives me a QImage.</p>\n\n<p>I have a class QDocWidget.cpp which is inherited from QLabel. \nInside this class I am getting the QImage of that PDF page and I am call setPixmap to set it.</p>\n\n<p>In my controller class I have QGraphicsProxyWidget instance and called setWidget with DocWidget instance.</p>\n\n<p>In my QML I have written a PinchArea for Zoom In/Out.</p>\n\n<p>I have tried the following two approaches:</p>\n\n<p>1) scaling the pixmap -> For every PinchUpdate call I get in QML i am scaling the pixmap by 0.01 , however this is very slow and blocking the UI.</p>\n\n<p>2) calling resize on the widget -> In this approach I have called resize on my proxy widget and my docwidget however the widget is getting resized but the pixmap isn't.</p>\n\n<p>I have not written any scroll area.</p>\n\n<p>Can anyone help me with this.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["c++","qt","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13042343,"title":"QMenuBar is missing or invisible on Linux","body":"<p>I have a Qt4 application which builds and runs correctly on Windows. However when I build and run it on Linux (ubuntu 12.04), the QMenuBar of my main window (QMainWindow) is missing. The space it takes appears to be allocated but its invisible/transparent.</p>\n"},{"tags":["c++","qt","undo","slots","redo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13042788,"title":"triggering redo after undo","body":"<p>I am trying to make it to where redo is only visible after undo is used. I cannot seem to get it to work. I know there is something wrong with my signals and slots i just cant figure out how to get it to work.</p>\n\n<p>here is the code for the undo and redo signal slots:</p>\n\n<pre><code>    cutAct-&gt;setEnabled(false);\n    copyAct-&gt;setEnabled(false);\n    undoAct-&gt;setVisible(false);\n    redoAct-&gt;setVisible(false);\n    connect(textEdit, SIGNAL(copyAvailable(bool)), cutAct, SLOT(setEnabled(bool)));\n    connect(textEdit, SIGNAL(copyAvailable(bool)), copyAct, SLOT(setEnabled(bool)));\n    connect(textEdit-&gt;document(), SIGNAL(modificationChanged(bool)), undoAct, SLOT(setVisible(bool)));\n    connect(undoAct, SIGNAL(triggered()), redoAct, SLOT(setVisible(bool)));\n</code></pre>\n"},{"tags":["c++","qt","dll"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":78,"score":-1,"question_id":13020652,"title":"Using DLLs Qt - Undefined Reference","body":"<p>I am trying to use and make a DLL in Qt. The DLL, <strong>does not</strong> use any Qt frameworks. Here is my library's .pro file:</p>\n\n<pre><code>TARGET = MyLib\nTEMPLATE = lib\n\ninclude(Botan.pri)\nwin32:INCLUDEPATH += \"C:/botan/include\"\nwin32:LIBS += \"C:/botan/libBotan.a\"\n\nunix:INCLUDEPATH += \"/usr/local/include/botan-1.10\"\nunix:LIBS += \"/usr/local/lib/libbotan-1.10.a\"\n\nHEADERS += \\\n    HEADERS HERE\n\nSOURCES += \\\n    SOUCRES HERE\n</code></pre>\n\n<p>My library is compiled successfully, and I get a MyLib.dll in my debug/release folder. I then copied my library sources completely, and removed everything besides the header files for the 'includes' folder.</p>\n\n<p>I then created a new project to use my library.</p>\n\n<p>I added this to my project file:</p>\n\n<pre><code>INCLUDEPATH += \"C:/Users/Stevie/Desktop/MyLib/include\"\nLIBS += \"C:/Users/Stevie/Desktop/MyLib/MyLib.dll\"\n</code></pre>\n\n<p>The headers have no problem, and it finds my DLL fine (if I change it to a non-existing path, it throw an error. It doesn't as of now.)</p>\n\n<p>Now when I go into my '.cpp' file, I include my header file, and try and use my library and it throws 'undefined reference to <code>MyLib::</code>...'. I have no idea why, as I am including the DLL and I believe it should be found perfectly fine.</p>\n\n<p>Also, I am 99% sure it isn't with Botan, as I use Botan often like this, and it works fine. Anyway, I include the 'Botan.dll' with it anyway just to be sure, but it's not throwing the undefined errors on Botan.</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","variables","signals-slots","preserve"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":38,"score":-2,"question_id":13042274,"title":"Preserving values between slots or functions in QT","body":"<p>I'm working with QT. Is there a way to preserve values between slots or functions in general? Just to keep it simple, let's say my form has three buttons on a toolbar and a line edit. I need the first button to set the value \"1\" to a variable, and the second button to set \"2\" to a variable. The third button takes this variable and shows it inside the line edit.</p>\n\n<p>So if I press the first button and then the third the line edit will show the number \"1\". If I press the second button and then the third the line edit will show the number \"2\". Basically this would make third button's slot look up the variable that was set by either the first or the second button and then display it. I realize this isn't the perfect example, but I think it illustrates the concept.</p>\n\n<p>The way's I've tried to think to do it are:</p>\n\n<ol>\n<li><p>They way I remember from a VB class I took in school... Create a hidden line edit and store the value there until I need it. \nSadly this will mean lots and lots of hidden line edits on a complex project. Yuck.</p></li>\n<li><p>Create a global variable in the int main() function and set that variable across all the functions. That can get confusing and anything can access it. So that can be messy.</p></li>\n<li><p>I've noticed that QT for a desktop application appears to have a class called \"ui\". I've thought of creating my own class with a getter and setter and inheriting everything out of ui...\nI believe this would work but it seems like overkill.</p></li>\n<li><p>Save the information in a tmp file and read it.\nThis seems like it could also be a pain when I just need short term variables.</p></li>\n</ol>\n\n<p>Is there a simple way to accomplish this task?</p>\n"},{"tags":["c++","windows","qt","p2p","voip"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":83,"score":3,"question_id":13039217,"title":"C++ and voIP using P2P","body":"<p>I am currently planning my final year project were I wish to create a application which supports voice over IP and text based chat (though not the \"next skype\"). I just really want a easy to use lightweight way to get the voIP part done with and it does not need extended amount of features, at least not to begin with.</p>\n\n<p>One of the features I wanted is that it doesn't go by a server, but that is because I do not want to maintain a server after the release of the application. So if it is possible to just give your IP to someone and they join using it would be preferable. </p>\n\n<p>I'm planning to use the Qt framework for GUI, though it can be changed and so can the language (C++), so nothing is written in stone. The software will run on windows.</p>\n\n<p>I have looked at H.323, sip and some other open source, but it seems just so difficult to get into and I cannot figure out whether they do what I need them to do.</p>\n\n<p>Any open source libraries I should look into that does partly the thing I want? Any sources I have missed? I'm completely new to the voIP world and could use a push in the right direction. Again if there is a language that does this in a simple fashion I can just switch since I am currently in a planning phase.\nThanks for any help I get.  </p>\n"},{"tags":["c++","qt","mingw","cross-compiling"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":127,"score":2,"question_id":13036895,"title":"cross compiling qt (linux/mingw -> windows): various undefined references","body":"<p>(Crosspost from <a href=\"http://www.qtcentre.org/threads/51647-cross-compiling-qt-%28linux-mingw-gt-windows%29-various-undefined-references\" rel=\"nofollow\">here</a>, since nobody seems to have an idea)</p>\n\n<p>Hello everyone,</p>\n\n<p>I am trying to cross compile qt 4.8.3 from my linux for my windows. The final goal is to build a static qt, but independent of building static or not I always get the same error. Playing around with various flags didn't help either:</p>\n\n<pre><code>./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x18dc): undefined reference to `QGb18030Codec::QGb18030Codec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x18ef): undefined reference to `QGbkCodec::QGbkCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1902): undefined reference to `QGb2312Codec::QGb2312Codec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1915): undefined reference to `QEucJpCodec::QEucJpCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1928): undefined reference to `QJisCodec::QJisCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x193b): undefined reference to `QSjisCodec::QSjisCodec()'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1956): undefined reference to `vtable for QEucKrCodec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x1971): undefined reference to `vtable for QCP949Codec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x198c): undefined reference to `vtable for QBig5Codec'\n./.obj/release-shared/qtextcodec.o:qtextcodec.cpp:(.text+0x19a7): undefined reference to `vtable for QBig5hkscsCodec'\n</code></pre>\n\n<p>I'm using the default win32-g++ configuration file in combination with mingw.</p>\n\n<p>I googled quite a bit around, but I have still no idea, where this comes from.. Maybe someone of you has the right hint for me ;-)</p>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2676,"score":2,"question_id":5714404,"title":"How to make a QPushButton disabled","body":"<p>I created lots of <a href=\"http://qt-project.org/doc/qpushbutton\" rel=\"nofollow\">QPushButtons</a>, added clicked signal and a slot name ´deneme()´ to all of the buttons with <code>QT DESIGNER</code> and the thing I want to do is; when I clicked any button, some operation should be done and lastly the button should be disabled but we do not know which button is clicked. I know I can disable the buttons with <code>setEnabled()</code> and <code>isEnabled()</code> but I do not know how to disable them.</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13039441,"title":"Qt Tooltips require html encoding","body":"<p>I have a <code>QAbstractTableModel</code> implementation which looks something like this:</p>\n\n<pre><code>QVaraint ManageTableModel::data(const QModelIndex &amp;index, int role) const\n{\n    if( role == Qt::DisplayRole || role == Qt::ToolTipRole )\n    {\n        return _value(index.column(), index.row());\n    }\n}\n</code></pre>\n\n<p>The values render as expected, in PlainText, in the table cells. However the tooltips are getting mangled because they (apparently) are rendered in RichText for some reason. How may I specify that tooltips are to be rendered in PlainText?</p>\n\n<p>In lieu of that, is there a Qt model I can use to do the html encoding so that I may write:</p>\n\n<blockquote>\n  <p>if( role == Qt::ToolTipRole ) return html_encode(_value(index.column(), index.row()));</p>\n</blockquote>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13039039,"title":"QComboBox Get The Varient When \"currentIndexChanged(int)\" Emitted","body":"<p>I am having difficulty finding documentation on this or an example.</p>\n\n<p>Could someone concretely show me how to access the QVariant of the currently selected index in a QComboBox</p>\n\n<pre><code> QComboBox * combo = new QComboBox();\n combo-&gt;addItem(\"Bla1\", QVariant(1));\n combo-&gt;addItem(\"Bla2\", QVariant(2));\n combo-&gt;addItem(\"Bla3\", QVariant(3));\n combo-&gt;addItem(\"Bla4\", QVariant(4));\n connect(combo, SIGNAL(currentIndexChanged(int)), this, slot(HANDLEITMAN(int))\n</code></pre>\n\n<p>And of course else where in the source</p>\n\n<pre><code> void TheCooler::HANDLEITMAN(int index)\n {\n      //What do I do with index?\n      //sender()?\n }\n</code></pre>\n"},{"tags":["c++","qt","opencv","camera"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":331,"score":0,"question_id":10423934,"title":"OpenCV 2.2 Does not open Camera","body":"<p>I would like to use camera and perform image processing on the input stream, but when program is executed a window appears asking 'Capture Source' after which when 'OK' or 'Apply' nothing happens.</p>\n\n<p>But if I use video file instead of camera, the program runs perfectly fine.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>int MainWindow::on_CameraOpen_triggered()\n{\n// programming done in Qt and using Opencv 2.2.\n// all the variables are defined &amp; declared in private of header file\n// there is no compilation error\n// return type of the function is 'int'\n// Following program works fine if name of video file is mentioned \n// instead of '0' is the line below\nVideoCapture capture(0);\n\nif(!capture.isOpened())\n    return 1;\n\n    bool stop(false);\n    double rate = capture.get(CV_CAP_PROP_FPS);\n    namedWindow(\"Extracted Frame\");\n    int delayVideo = 1000/rate;\n\n    while(!stop)\n    {\n        if(!capture.read(frame))\n        {\n            break;\n        }\n        imshow(\"Extracted frame\", frame);\n        if(waitKey(delayVideo)&gt;=0)\n        {\n            stop = true;\n        }\n    }\n\ncapture.release();\n}\n</code></pre>\n\n<p>I have tried to remove the bug which was rectified at following link: \n<a href=\"https://code.ros.org/trac/opencv/changeset/4400\" rel=\"nofollow\">https://code.ros.org/trac/opencv/changeset/4400</a></p>\n\n<p><a href=\"https://code.ros.org/trac/opencv/browser/trunk/opencv/modules/highgui/src/precomp.hpp?rev=4400\" rel=\"nofollow\">https://code.ros.org/trac/opencv/browser/trunk/opencv/modules/highgui/src/precomp.hpp?rev=4400</a></p>\n\n<p>Camera works fine on gtalk and other camera softwares.</p>\n\n<p>Kindly suggest/guide what can be done.</p>\n\n<p>Thank you very much.</p>\n\n<p>Regards,\ndbs</p>\n"},{"tags":["c++","xml","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":11595015,"title":"Qt QDomElement performance issue","body":"<p>I'm writing an application for working with <a href=\"http://www.topografix.com/gpx.asp\" rel=\"nofollow\">GPX files</a> and I'm having performance issues when using the QDomElement class to read large XML documents. Files with GPS paths containing thousands of waypoints can take half a minute to load.</p>\n\n<p>This is my code for reading paths (routes or tracks):</p>\n\n<pre><code>void GPXPath::readXml(QDomElement &amp;pathElement)\n{\n    for (int i = 0; i &lt; pathElement.childNodes().count(); ++i)\n    {\n        QDomElement child = pathElement.childNodes().item(i).toElement();\n        if (child.nodeName() == \"trkpt\" ||\n            child.nodeName() == \"rtept\")\n        {\n            GPXWaypoint wpt;\n            wpt.readXml(child);\n            waypoints_.append(wpt);\n        }\n    }\n}\n</code></pre>\n\n<p>When analysing the code with Apple's Instruments I noticed that QDomNodeListPrivate::createList() is responsible for most of the computing time and it is being called by both QDomNodeList::count() and QDomNodeList::item().</p>\n\n<p>It appears that this is not an efficient way of iterating through the child elements of a QDomElement as the list seems to be re-generated for every operation. What approach should I use instead?</p>\n"},{"tags":["c++","qt","class","containers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":116,"score":-3,"question_id":13035378,"title":"my class doesn't work perfect with containers","body":"<p>i have a class that has lot of problem with containers ,this time if i create my objects with non default constructor function  i can't control the object in a container at all(change value , visible ...) ; but if i define my object with default  constructor i can do it easily .</p>\n\n<p>Control.h</p>\n\n<pre><code>class Controls : public QObject\n{\n\nprivate:\n\n  QHBoxLayout *Layout ;\n  string Controlname;\n  QLabel *Label ;\n\n  QSpinBox *Spin ;\n\n\npublic:\n  QSlider *Slider ;\n  Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n  Controls(const Controls &amp;copy);\n  Controls();\n  Controls(QLayout &amp;Parent);\n  ~Controls();\n\n\n  QLabel *  Get_Label()const { return Label ; }\n  QSlider *  Get_Slider()const { return Slider ; }\n  QSpinBox *  Get_Spin()const { return Spin ; }\n  QHBoxLayout *  Get_Layout() {return Layout;}\n\n  void SetValue(const int &amp;newvalue);\n\n  Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>controls.cpp</p>\n\n<pre><code>#include \"Interface.h\"\nControls &amp;Controls::operator= (const Controls &amp;copy)\n{\n  Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(copy.Get_Label()-&gt;text());\n  Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n\n  return *this;\n}\n\nControls::Controls(const Controls &amp;copy)\n{\n  Label = new QLabel()   ;\n  Slider = new QSlider()   ;\n  Spin = new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(copy.Get_Label()-&gt;text());\n  Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n}\n\nControls::Controls()\n{\n  Label =  new QLabel()  ;\n  Slider = new QSlider()   ;\n  Spin = new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(0);\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(QString (\"unamed\"));\n  Spin-&gt;setValue(0);\n\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n}\n\n\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n  Controlname = name ;\n\n  Label =  new QLabel() ;\n  Slider = new QSlider()  ;\n  Spin =  new QSpinBox()  ;\n  Layout = new QHBoxLayout();\n\n  Slider-&gt;setValue(Default_value);\n  Slider-&gt;setOrientation(Qt::Horizontal);\n  Label-&gt;setText(QString (name.c_str()));\n  Spin-&gt;setValue(Default_value);\n\n\n  Layout-&gt;addWidget(Label , 0 , 0);\n  Layout-&gt;addWidget(Slider , 0 , 0);\n  Layout-&gt;addWidget(Spin , 0 , 0);\n\n  QObject::connect(Slider , SIGNAL(valueChanged(int) ) , \n                   Spin , SLOT(setValue(int)));\n  QObject::connect(Spin , SIGNAL(valueChanged(int) ) , \n                   Slider , SLOT(setValue(int)));\n\n  Parent.addItem(Layout);\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n  Slider-&gt;setValue(newvalue);\n}\n\nControls::~Controls()\n{\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>int main()\n{\n  QApplication app (argc , argv );\n\n  QVBoxLayout layout ;\n  QLabel  Image  ;\n  QWidget  Panel  ;\n  Camera  Cm   ;\n\n\n  vector &lt;Controls&gt; g ;\n  g.push_back(Controls(layout ,\"c1\" , 33));\n  g.push_back(Controls(layout ,\"c2\" , 13));\n  g.push_back(Controls(layout ,\"c3\" , 63));\n  g.push_back(Controls(layout ,\"c1\" , 33));\n\n\n  for ( int x =0 ; x&lt;g.size() ; x++)\n  {\n    g.at(x).SetValue(33); ////not work \n\n  }\n\n  vector &lt;Controls&gt; g2 ;\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n  g2.push_back(Controls());\n\n\n  for ( int x =0 ; x&lt;g2.size() ; x++)\n  {\n    layout.addItem(g2.at(x).Get_Layout());\n    g2.at(x).SetValue(33); ////this  work\n\n  }\n\n\n  Panel.setLayout(&amp;layout);\n  Panel. show();\n\n  return app.exec();\n\n  return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4548,"score":0,"question_id":5535661,"title":"#include <QtGui/QApplication> ---> No such file or directory","body":"<p>I'm using Qt Creator, and this line is generated automatically by the Qt Creator:</p>\n\n<p><code>#include &lt;QtGui/QApplication&gt;</code></p>\n\n<p>But, why am I getting this message?</p>\n\n<p><code>QtGui/QApplication&gt;:  No such file or directory</code></p>\n"},{"tags":["qt","release","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13032497,"title":"QtQuick Project exe issue in release mode","body":"<p>I have worked with VC++ project during my past days. Whenever the project is build in release mode or debug mode, the exe runs itself without any additional dependencies. We just have to click on the exe, and the project runs.</p>\n\n<p>But this is not working in QML project. I have both debug &amp; release desktop versions of project, but they are not running on clicking the exe.\nDo we need some additional component to make a sort of wrapper for exe to make it run.</p>\n\n<p>I would like to mention that I'm not asking regarding the deployment of QtQuick application.</p>\n"},{"tags":["c++","qt","directory","qfiledialog"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":353,"score":1,"question_id":9618381,"title":"How to specify the QFileDialog::getExistingDirectory() method?","body":"<p>With the method/command:</p>\n\n<pre><code>OpenCreateDirectory() \n{  \n    QString Directory = QFileDialog::getExistingDirectory(this,\n                        tr(\"Choose Or Create Directory\"),\n                        \"/home\",\n                        QFileDialog::DontResolveSymlinks);\n}\n</code></pre>\n\n<p>I can create a new directory or choose an existing one. Is there a way to disable the possibility to create a new directory? Also, is there a way to disable the possibility to choose an existing directory?</p>\n\n<p>To be more precise: When I use the method above, a window pops up in which I can create a new directory OR open an existing directory. What I want to do is to limit the method, so that I just can create a new directory without being able to just open an existing directory OR in the other case limit the method, so that I just can open an existing directory without being able to create a new directory.</p>\n"},{"tags":["qt","enums","comparison","qvariant","qdebug"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":393,"score":2,"question_id":6974082,"title":"Qt enums comparison and output to QDebug","body":"<p>i am registering enums to the Qt meta-object system. i have double checked that all of those have a meta-type ID, and everything looks perfect. But i have some kind of unresolved issue with the comparison of those.</p>\n\n<p>Let's consider this code for populating a combobox:</p>\n\n<pre><code>WgtEnumItemEditor::WgtEnumItemEditor (QVariant::Type t, QWidget *p) : QComboBox(p) {\n    QMetaObject const &amp;mo = staticMetaObject;\n    QString mtName = QMetaType::typeName(t);\n    mtName = mtName.mid( mtName.lastIndexOf(':')+1 );\n    qint32 const iEnum = mo.indexOfEnumerator( mtName.toLatin1() );\n    QMetaEnum const &amp;en = mo.enumerator( iEnum );\n    quint32 const cEnum = en.keyCount();\n\n    for (quint32 i=0; i&lt;cEnum; i++){\n        const char *key = en.key(i);\n        uint const val = en.value(i);\n        QVariant const var ( t, &amp;val );\n        addItem( classNameToNaturalString(key), var );\n        qDebug() &lt;&lt; var;\n    }\n}\n</code></pre>\n\n<p>It works good, my list gets populated with human readable texts for my enums.</p>\n\n<p>Now, i'm trying to set the initial value displayed by the list with a QVariant itself containing a value for the enum:</p>\n\n<pre><code>void WgtEnumItemEditor::setValue (const QVariant &amp;v) {\n    for (quint32 i=0; i&lt;count(); i++) {\n        if (itemData(i)==v.data) {\n            setCurrentIndex(i);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>This piece of code doesn't work. i have to replace the test by:</p>\n\n<pre><code>*(uint*)itemData(i).data()==*(uint*)v.data()\n</code></pre>\n\n<p>This way it works.</p>\n\n<p>Can anyone explain me how to enable comparison of my custom enums in QVariants? Or am i doing something wrong while creating the QVariant being used as userdata for the list maybe?</p>\n\n<p>Also, if i try to qDebug() the QVariants created in loop for populating the list, i get empty values outputs. For instance, the output generated in the first chunk of code looks like this:</p>\n\n<pre><code>QVariant(ReadingDirection, ) \nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(ReadingDirection, )\nQVariant(BarcodeStandard, )\nQVariant(BarcodeStandard, )\nQVariant(BarcodeStandard, )\n</code></pre>\n\n<p>As you can see, the value isn't outputed correctly... Can you please help me find why?</p>\n\n<p>Thank you,\nPierre.</p>\n"},{"tags":["qt","pdf","compression","pdf-generation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13033417,"title":"Control over raster compression in Qt generated pdfs","body":"<p>A convenient way to produce pdf files using Qt library is involvement QPrinter and QPainter like in following pseudocode:</p>\n\n<pre><code>QPrinter pdfPrinter; \npdfPrinter.setOutputFormat( QPrinter::PdfFormat );\n// other pdfPrinter initializations \nQPainter pdfPainter;\npdfPainter.begin( &amp;pdfPrinter);\n// rendering code here\npdfPainter.end();\n</code></pre>\n\n<p>Is there any particular method to take control over raster compression methods and quality, if rendering code invokes \"painting\" of QImage/QBitmap/QPixmap objects? </p>\n"},{"tags":["qt","paintevent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":10860709,"title":"Calling paintEvent reinitializes member variables","body":"<p>Every time I call the paintEvent() method, the member variables from the class I am calling the paintEvent from is reinitialized. Is this supposed to happen? Is there a way around this issue? </p>\n\n<pre><code>class Frame : public QLabel\n{\n    Q_OBJECT\n\npublic:\n    Frame( QWidget *parent );\n    void setValue(int val) { m_val = val; update(); }\n    int getValue() { return m_val; }\n\nprotected:\n    void paintEvent( QPaintEvent *event);\n\nprivate:\n    int m_val;\n};\n\n\nvoid Frame::paintEvent(QPaintEvent *event)\n{\n    int num = getValue();\n} \n</code></pre>\n"},{"tags":["c++","qt","cout"],"answer_count":3,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":12919,"score":10,"question_id":3886105,"title":"How to print to console when using Qt","body":"<p>Im using Qt4 and c++ for making some programs in computer graphics. I need to be able to print some varaibles in my console in runtime, not debugging, but <code>cout</code> doesn't seem to work even if I add the libraries. Is there a way to do this?</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13030223,"title":"QAbstractItemModel confused about index/parent and data functions","body":"<p>I have the following simple model example:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtGui/QTreeView&gt;\n#include &lt;QAbstractItemModel&gt;\n\nclass TestModel : public QAbstractItemModel\n{\npublic:\n    TestModel()\n    {\n        SetUpData();\n    }\n\n    virtual QModelIndex index(int row, int column, const QModelIndex&amp; parent) const\n    {\n        if ( parent.isValid())\n        {\n            // child\n            return createIndex( row, column, (void*)&amp;mData[row].mChildren[column]);\n        }\n        // root\n        return createIndex( row, column, (void*)&amp;mData[row]);\n    }\n\n    virtual QModelIndex parent(const QModelIndex&amp; child) const\n    {\n        ModelData* data = (ModelData*)child.internalPointer();\n\n        // find out where \"data\" is in the mData vector structure\n        for ( size_t i=0; i&lt;mData.size(); ++i )\n        {\n            for ( size_t j=0; j&lt;mData[i].mChildren.size(); ++j )\n            {\n                if ( &amp;mData[i].mChildren[j] == data )\n                {\n                    // I think this is correct, return the parent row at col 0?\n                    return createIndex( i, 0, (void*)&amp;mData[i].mChildren[j]);\n                }\n            }\n        }\n        return QModelIndex();\n    }\n\n    virtual int rowCount(const QModelIndex&amp; parent) const\n    {\n        if ( parent.isValid() )\n        {\n            // Per root node size\n            return mData[parent.row()].mChildren.size();\n        }\n\n        // Root size\n        return mData.size();\n    }\n\n    virtual int columnCount(const QModelIndex&amp; parent) const\n    {\n        // The \"parent\" nodes should have two columns, the children should have 1\n        if ( parent.isValid() )\n        {\n            // Root\n            return 1;\n        }\n        // Children\n        return 2;\n    }\n\n    virtual QVariant data(const QModelIndex&amp; index, int role) const\n    {\n        if ( role == Qt::DisplayRole &amp;&amp; index.isValid() )\n        {\n            if ( index.isValid() )\n            {\n                // I think col and row are the wrong way around, but will crash if swapped\n                return mData[index.column()].mChildren[index.row()].mName;\n            }\n            else\n            {\n                // this never happens because \"RootN\" is never displayed\n                return mData[index.column()].mName;\n            }\n        }\n        return QVariant();\n    }\n\nprivate:\n    // The \"real\" data that this Qt model is providing an interface to\n    struct ModelData\n    {\n        QString mName;\n        std::vector&lt; ModelData &gt; mChildren;\n    };\n\n    std::vector&lt; ModelData &gt; mData;\n\n    void SetUpData()\n    {\n        for ( int i=0; i&lt;3; ++i )\n        {\n            ModelData root;\n            root.mName = \"Root\" + QString::number( i+1 );\n\n            for ( int j=0; j&lt;10; ++j )\n            {\n                ModelData node;\n                node.mName = \"Node\" + QString::number( j+1 );\n                root.mChildren.push_back( node );\n            }\n            mData.push_back( root );\n        }\n    }\n};\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    TestModel* model = new TestModel();\n    QTreeView* tv = new QTreeView();\n\n    tv-&gt;setModel( model );\n    tv-&gt;show();\n\n    int ret = a.exec();\n\n    delete tv;\n    delete model;\n\n    return ret;\n}\n</code></pre>\n\n<p>What I'm trying to do here is create a model which has the following structure:</p>\n\n<pre><code>Root1\n |-Node1-10\n |\nRoot2\n |-Node1-10\n |\nRoot3\n |-Node1-10\n</code></pre>\n\n<p>However I end up with this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/mHCcE.png\" alt=\"output\"></p>\n\n<p>I'm really confused about how index/parent and data are supposed to be working. Obviously I don't understand it because my output is incorrect.</p>\n\n<p>I thought that for example, Root1, Node3 would cause index to be called with row = 0, col=2, at which point I call createIndex with 0,2 and the pointer to that element?</p>\n\n<p>And for parent() return QModelIndex if parent is valid as this means its a RootN element, then return createIndex to create an index to the parent if its not a root element.</p>\n\n<p>Finally for data I figured this just returns the display string for the UI for the given row/column?</p>\n"},{"tags":["c++","qt","qss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13029813,"title":"how to style the QScrollBar when the content is not scrolling?","body":"<p>I want to style the scrollbars. I am able to apply styles to scrollbar when scrollarea content is scrolling. \nBut when the content is not scrolling the style is not getting applied to it.</p>\n\n<p>I have used below style elements:</p>\n\n<pre><code>QScrollBar:vertical{ /** some styles **/ };\nQScrollBar::handle:vertical{ /** some styles **/ };\nQScrollBar::add-line:vertical{ /** some styles **/ };\nQScrollBar::sub-line:vertical{ /** some styles **/ };\nQScrollBar::add-page:vertical{ /** some styles **/ };\nQScrollBar::sub-page:vertical{ /** some styles **/ };\n</code></pre>\n\n<p>These elements works fine when content is scrolling.</p>\n\n<p>I tried to use below element when content is not scrolling:</p>\n\n<pre><code>QScrollBar:vertical:disabled{ /** some styles **/ };\n</code></pre>\n\n<p>But doesn't have any effect :(</p>\n\n<p>Anyone has this similar issue please reply..</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","pyqt","vlc","pyside","libvlc"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12994380,"title":"Phonon with vlc backend on Windows","body":"<p>I'm trying to make an media player application with pyQt/pyside and the phonon library. \nCurrently I'm using the default backend (phonon_ds94.dll). I would like to use the phonon_vlc.dll one but I don't know how to make the switch on winXP. Any one have an idea ?</p>\n"},{"tags":["qt","widget","readonly"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12781062,"title":"Read-Only QT form","body":"<p>I am looking to make a QT form read-only, but NOT disabled. What I am trying to achieve is that the user is still able to use the controls on it, for example see what elements are there in a combo box, or scroll to the end of a list box, but should not be able to change the values of these components. Since the disabled form does not allow any interaction, and I did not find in the API anything related to make a form read-only I am wondering what possible solution are there for this problem.</p>\n"},{"tags":["c++","qt","stdin","blocking"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3702,"score":4,"question_id":1271784,"title":"using QTextStream to read stdin in a non-blocking fashion","body":"<p>Using Qt, I'm attempting to read the contents of the stdin stream in a non-blocking fashion. I'm using the QSocketNotifier to alert me when the socket has recieved some new data. The setup for the notifier looks like this:</p>\n\n<pre><code>QSocketNotifier *pNot = new QSocketNotifier(STDIN_FILENO, QSocketNotifier::Read, this);\nconnect(pNot, SIGNAL(activated(int)), this, SLOT(onData()));\npNot-&gt;setEnabled(true);\n</code></pre>\n\n<p>The <code>onData()</code> slot looks like this:</p>\n\n<pre><code>void CIPCListener::onData()\n{\n    qDebug() &lt;&lt; Q_FUNC_INFO;\n    QTextStream stream(stdin, QIODevice::ReadOnly);\n\n    QString str;\n\n    forever\n    {\n    \tfd_set stdinfd;\n    \tFD_ZERO( &amp;stdinfd );\n    \tFD_SET( STDIN_FILENO, &amp;stdinfd );\n    \tstruct timeval tv;\n    \ttv.tv_sec = 0;\n    \ttv.tv_usec = 0;\n    \tint ready = select( 1, &amp;stdinfd, NULL, NULL, &amp;tv );\n    \tif( ready &gt; 0 )\n    \t{\n    \t\tstr += stream.readLine();\n    \t}\n    \telse\n    \t{\n    \t\tbreak;\n    \t}\n    }\n\n    qDebug() &lt;&lt; \"Recieved data:\" &lt;&lt; str;\n}\n</code></pre>\n\n<p>As you can see I'm attempting to use the select() system call to tell me when I've run out of data to read. However, in practise what is happening is the select() call returns 0 after I've read the first line of text. So, for example, if I write 5 lines of text to the process's stdin stream, I only ever read the first line.</p>\n\n<p>What could be the problem?</p>\n"},{"tags":["c++","qt","editor","text-editor","qtextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13027091,"title":"How to override tab width in qt?","body":"<p>I just need to know how to change the tab size in Qt in a <a href=\"http://doc.qt.digia.com/qt/qtextedit.html\" rel=\"nofollow\">QTextEdit</a>. My Google and <a href=\"http://stackoverflow.com/\">stackoverflow</a> search returned me null. Thanks in advance.</p>\n"},{"tags":["qt","qt4","qmessagebox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13023858,"title":"QDialogButtonBox: Is there any way to fill different colors to Individual Buttons?","body":"<p>I am creating an Error Message Box for my Screen. I am using QDialogButtonBox for buttons. \nNow i want to fill Buttons with different colors. \nFor example: \n\"OK\" --> Green\n\"Cancel\" --> Red etc.\nI am able to change the background for all buttons , but not individually.</p>\n\n<p>Is there any way to do this ?? </p>\n\n<p>Thanks in advance !!!!</p>\n"},{"tags":["qt","pyqt","pyqt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13020836,"title":"Qt getting column position of clicked item","body":"<p>I have three widgets contained in a grid layout. When I click them I'd like to get their column position but I cannot find any property of the widget itself and cannot seem to get hold of the container by accessing <code>widget.parentWidget()</code></p>\n\n<p>I could use some indirect way such as itemAt but I'd rather find a less convoluted way of doing it.</p>\n"},{"tags":["python","qt","pyqt","pyqt4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13024340,"title":"Object-based paint/update in Qt/PyQt4","body":"<p>I'd like to tag items by drawing polygons over an image in Python using PyQt4. I was able to implement the image viewer with QGraphicsScene but I don't understand the concept behind painting/updating objects.</p>\n\n<p>What I'd like to do is a Polygon class, what supports adding and editing. What confuses me is the <code>QGraphicsScene.addItem</code> and the different paint or update methods. What I'd like to implement is to</p>\n\n<ol>\n<li>draw a polygon as lines while not complete</li>\n<li>draw it as a filled polygon once complete</li>\n</ol>\n\n<p>The algorithm part is OK, what I don't understand is that how do I implement the paint or update functions.</p>\n\n<p><em>Here is my confusion</em></p>\n\n<p><strong>In the original example file</strong>: <code>graphicsview/collidingmice</code> there is a special function <code>def paint(self, painter, option, widget):</code> what does the painting. There is no function calling the paint function, thus I'd think it's a special name called by QGraphicsView, but I don't understand what is a painter and what should a paint function implement.</p>\n\n<p><strong>On the other hand in numerous online tutorials</strong> I find <code>def paintEvent(self, event):</code> functions, what seems to follow a totally different concept compared to the graphicsview / paint. </p>\n\n<p>Maybe to explain it better: for me <strong>the way OpenGL does the scene-update is clear</strong>, where you always clean everything and re-draw elements one by one. There you just take care of what items do you want to draw and draw the appropriate ones. There is no update method, because you are drawing always the most up-to-date state. This Qt GUI way is new to me. <strong>Can you tell me what happens with an item after I've added it to the scene</strong>? How do I <strong>edit something</strong> what has been added to the scene, <strong>where is the always updating 'loop'</strong>?</p>\n\n<p>Here is my source in the smallest possible form, it creates the first polygon and starts printing it's points. I've arrived so far that the paint method is called once (why only once?) and there is this error <code>NotImplementedError: QGraphicsItem.boundingRect() is abstract and must be overridden</code>. (just copy any jpg file as big.jpg)</p>\n\n<pre><code>from __future__ import division\n\nimport sys\nfrom PyQt4 import QtCore, QtGui\n\nclass Polygon( QtGui.QGraphicsItem ):\n\n    def __init__(self):\n        super(Polygon, self).__init__()\n\n        self.points = []\n        self.closed = False\n\n    def addpoint( self, point ):\n        self.points.append( point )\n        print self.points\n\n    def paint(self, painter, option, widget):\n        print \"paint\"\n\n\nclass MainWidget(QtGui.QWidget):\n\n    poly_drawing = False\n\n    def __init__(self):\n        super(MainWidget, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        self.scene = QtGui.QGraphicsScene()\n\n        self.img = QtGui.QPixmap( 'big.jpg' )\n\n            self.view = QtGui.QGraphicsView( self.scene )\n        self.view.setRenderHint(QtGui.QPainter.Antialiasing)\n        self.view.setHorizontalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)\n            self.view.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)\n\n        self.pixmap_item = QtGui.QGraphicsPixmapItem( self.img, None, self.scene)\n            self.pixmap_item.mousePressEvent = self.pixelSelect\n\n            self.mypoly = Polygon()\n\n                layout = QtGui.QVBoxLayout()\n            layout.addWidget( self.view )\n            self.setLayout( layout )\n        self.resize( 900, 600 )\n        self.show()\n\n    def resizeEvent(self, event):\n        w_scale = ( self.view.width() )  / self.img.width()\n        h_scale = ( self.view.height() ) / self.img.height()\n        self.scale = min( w_scale, h_scale)\n\n        self.view.resetMatrix()\n        self.view.scale( self.scale, self.scale )\n\n    def pixelSelect(self, event):\n        if not self.poly_drawing:\n            self.poly_drawing = True\n            self.mypoly = Polygon()\n            self.scene.addItem( self.mypoly )\n\n        point = event.pos()\n        self.mypoly.addpoint( point )\n\n\ndef main():\n\n    app = QtGui.QApplication(sys.argv)\n    ex = MainWidget()\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"},{"tags":["qt","qheaderview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13022211,"title":"QHeaderView::mousePressEvent (need to figure out the column/index)","body":"<p>Generally I can get this to work no problem when I reimplement QTableView::mousePressEvent( QMouseEvent* ).  However, doing it on QHeaderView is not working for me.  Code is simple.</p>\n\n<pre><code>void my_header_t::mousePressEvent( QMouseEvent* event )\n{\n    if ( !event ) {\n    return;\n}\n\nif ( event-&gt;button() == Qt::RightButton ) {\n\n    QPoint point( event-&gt;x(), event-&gt;y() );\n    QModelIndex index   = indexAt( point );\n\n    printf( \"%s data %s %d,%d %s (point: %d,%d )\\n\",\n        ts().c_str(), index.data().toString().toStdString().c_str(),\n        index.row(), index.column(), index.isValid() ? \"True\" : \"False\",\n        event-&gt;x(), event-&gt;y() );\n\n    handle_right_click( index.data().toString() );\n\n} else {\n    QHeaderView::mousePressEvent( event );\n}\n</code></pre>\n\n<p>x() and y() from the QMouseEvent are fine.  However, it creates an invalid index, with row() of -1, and column() of -1.  Obviously, I'm passing an empty string to handle_right_click() which kicks off a menu. That menu is not going to know which column called it, and the mayhem will further ensue.</p>\n\n<p>I know that clicked( const QModelIndex&amp; ) will just tell me the right index, with the text.  However, I need to differentiate between buttons.</p>\n"},{"tags":["c++","regex","qt","qt4","syntax-highlighting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13019658,"title":"How to emit a signal in a qtextedit when a string matches something?","body":"<p>I am developing a simple editor and in my editor i am trying to implement sth. like this: For example user types \"void\" then I emit a signal and somewhere in the gui will catch it and it will change itself. I am using the <a href=\"http://doc.qt.digia.com/latest/richtext-syntaxhighlighter.html\" rel=\"nofollow\">syntax highlighter</a> example in my code and I emitted a signal in highlightBlock function: </p>\n\n<pre><code>void Highlighter::highlightBlock(const QString &amp;text)\n {\n     foreach (const HighlightingRule &amp;rule, highlightingRules) {\n         QRegExp expression(rule.pattern);\n         if (expression.exactMatch(\"void\")==true) {\n             emit voidPrinted(2);\n\n         }\n         int index = expression.indexIn(text);\n         while (index &gt;= 0) {\n             int length = expression.matchedLength();\n         ...\n     }\n</code></pre>\n\n<p>But when i run program, the signal always emitted without typing void. Documentation says \"The highlightBlock() function is called automatically whenever it is necessary by the rich text engine, i.e. when there are text blocks that have changed.\" and I think I only emit when expression is void but apparently, I am wrong. Any help?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":87,"score":0,"question_id":13013055,"title":"Qt sscanf equivalent","body":"<p>Say I have this:</p>\n\n<pre><code>QString mystring = \"67 49 213 59\";\nint a, b, c, d;\n</code></pre>\n\n<p>Is there a Qt alternative to sscanf so I can read the numbers into the <code>int</code> variables?</p>\n"},{"tags":["java","qt","gui","open-source"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12662975,"title":"Build a circuit design GUI that export to text files","body":"<p>I want to make a simple circuit design GUI that will have the possibility to export the diagram to text file. </p>\n\n<p>To explain: We have a educational simulator that uses simple text files to load the models. It has a simple language, for example:</p>\n\n<pre><code>NODE A1 ;\nNODE A2 ;\nMODEL RESISTOR RESIST_1 A1 A2 0.5 ;\n(that is MODEL INTERNAL_MODEL_NAME NAME NODE1 NODE2 PARAMETERS ; )\n</code></pre>\n\n<p>To help out the users in creating these files, I'd like to build a GUI that someone will drag and drop the nodes, then the modes, then connect them between them, put the parameters in the properties of the models and press export to text. Then the gui should just give the above text.</p>\n\n<p>I think some of the SPICE gui front-ends work like this.</p>\n\n<p>So, my questions:\n-Is there any similar to my expectations, open source software I can use to modify for my purpose? (this GUI will be used by students and I will not make any profit of it)\n-Any directions to point me to for building the GUI from scratch? (Tutorials, books etc)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","encryption"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13019383,"title":"Issue with QCA (Qt C++ Encryption Library) run on windows 7","body":"<p>I am using Qt 4.8.1, MinGW compiler and Qt Creator, all on windows 7. I want to add an encryption/ decryption library to my project. After searching the web for couple days I found <a href=\"http://delta.affinix.com/qca/\" rel=\"nofollow\">QCA</a>. Fortunately I found a <a href=\"http://delta.affinix.com/download/qca/2.0/qca-2.0.1-mingw.zip\" rel=\"nofollow\">pre-built</a> version using the same C++ compiler I am using, and a pre-built version of the needed <a href=\"http://delta.affinix.com/download/qca/2.0/qca-2.0-plugins-latest-mingw.zip\" rel=\"nofollow\">plugins</a>. \nI followed the <a href=\"http://www.essentialunix.org/index.php?option=com_content&amp;view=article&amp;id=48%3aqcatutorial&amp;catid=34%3aqttutorials&amp;Itemid=53\" rel=\"nofollow\">instructions</a> to add the QCA library to my project. I used a code like this to encrypt using AES:</p>\n\n<pre><code>QCA::Initializer init = QCA::Initializer();\n\n//Here where the execution stops\nQCA::SymmetricKey key = QCA::SymmetricKey(16);\n\nQCA::InitializationVector iv = QCA::InitializationVector(16);\n\nQCA::Cipher cipher = QCA::Cipher(QString(\"aes128\"), QCA::Cipher::CBC,\n                                 QCA::Cipher::DefaultPadding, QCA::Encode,\n                                 key, iv);\n\nif (!QCA::isSupported(\"aes128-cbc-pkcs7\"))\n{\n    qDebug() &lt;&lt; \"AES128 is not supported\";\n    return;\n}\n</code></pre>\n\n<p>The code compiles just fine but when I run the application stops with unknown reason.</p>\n\n<p>I really got tired from this bug, if anybody can help it will be very very very appreciated.</p>\n"},{"tags":["c++","qt","qwidget"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13018628,"title":"How to set user data for a QWidget?","body":"<p>I would like to set an integer number to be stored in a QWidget, and I think the setUserData member function would do the trick but I can't find any documentation. Any hints?</p>\n"},{"tags":["c++","qt","qt-creator","qdebug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12799653,"title":"qDebug not displaying anything","body":"<p>Often when I need to debug something it's easier to print something using qDebug() instead of debugging step-by-step using a debugger. \nThe problem is that from time to time the output of qDebug() isn't displayed at all! The same with qWarning and qCritical. What's strange, it only occurs when running the project normally (Ctrl+R), while when debugging (F5) the output shows up.</p>\n"},{"tags":["qt","zlib","configure"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13008951,"title":"configure qt with qt-zlib is not recognized","body":"<p>I am trying to configure qt with the built-in zlib. I run the following command:</p>\n\n<p>./configure -qt-zlib</p>\n\n<p>However, during the configuration, I see the following:</p>\n\n<p>TIFF support ........... plugin (qt)<br>\nJPEG support ........... plugin (qt)<br>\nPNG support ............ yes (qt)<br>\nMNG support ............ plugin (qt)<br>\nzlib support ........... system<br></p>\n\n<p>This seems to indicate that my configuration uses the system zlib despite the \"-qt-zlib\" option. I would like to ensure that QT uses the built-in zlib. I am configuring qt 4 on Mac OSX with the following specifications:</p>\n\n<p>Build type:    macx-g++ <br>\nArchitecture:  macosx ( x86_64 )<br>\nUsing framework: Cocoa<br></p>\n\n<p>Thanks in advance for your help!<br>\nMaxime</p>\n"},{"tags":["c++","multithreading","qt","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13017089,"title":"How to i create Qt multithreaded http client in which each thread invoke http request","body":"<p>after really allot of digging i unanable to create simple http client that invoking \nhttp request in each thread , \nnow i know that from version 4.8 each http request has its own thread . but this is now the case in my app.<br>\ni need to do more stuff in the thread like writing to file and preform calculation and manipulations on strings .<br>\nhow can i take simple example like in the  :<br>\n 4.8.2\\examples\\network\\http\\</p>\n"},{"tags":["c++","qt","filesystems","portability"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1337,"score":4,"question_id":3194725,"title":"Cross-platform way of constructing an FS path with Qt","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13014145/qt-equivalent-of-pathappend\">Qt equivalent of PathAppend?</a>  </p>\n</blockquote>\n\n\n\n<p>Short story: does Qt 4 have an analog of Python's <code>os.path.join</code>?</p>\n\n<p>Long story: I need to add a relative path to the application directory, <code>QCoreApplication::applicationDirPath()</code> in the Right Way (TM), so that the code doesn't depend on the file system directory separator character.</p>\n\n<p>Is merely joining QStrings and using \"/\" as the separator a good solution?</p>\n"},{"tags":["qt","input","mask","xlib","pixmap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13014211,"title":"Linux, Xlib: create mask from pixmap","body":"<pre><code>class Window : QWidget {\n\n...\nvoid resetInputMask()\n{\n    Pixmap mask;\n    mask = XCreatePixmap(QX11Info::display(),\n            winId(),\n            this-&gt;width(), /* width  */\n            this-&gt;height(), /* height */\n            this-&gt;x11Info().depth()  /* depth  */);\n    XShapeCombineMask(QX11Info::display(),\n            winId(),\n            ShapeInput,\n            0, /* x-offset */\n            0, /* y-offset */\n            mask,\n            ShapeSet);\n    XFreePixmap(QX11Info::display(), mask);\n}\n\n...\n\n}\n</code></pre>\n\n<p>The visually transparent areas of a QWidget on Linux are not mouse transparent. Therefore if one creates a QWidget that has the size of the screen and the QWidget draws only one small rectangle having the rest of the QWidget's area transparent, the QWidget eats all mouse events, since its input mask occupies the whole screen. This happens only when using Qt on Linux. Qt framework on Mac and Windows doesn't exhibit this behavior.</p>\n\n<p>One way to make the input mask is to do what I have written in the answer to the following post:\n<a href=\"http://qt-project.org/forums/viewthread/17934\" rel=\"nofollow\">http://qt-project.org/forums/viewthread/17934</a></p>\n\n<p>But this solution is extremely CPU heavy. What I've noticed is that creating a pixmap using the Xlib calls doesn't affect performance as much as using Qt framework means.</p>\n\n<p>What I currently need is to create a mask from the Pixmap in the code provided in the beginning of this post. The mask should be a bitmap that has all fully transparent pixels of the pixmap set to white color and all semi-transparent and fully opaque pixels set to black.</p>\n\n<p>Suggestions? </p>\n"},{"tags":["qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13013775,"title":"PyQt update QLabel","body":"<p>I have a QLabel that I dynamically update with a new .text like this</p>\n\n<pre><code>self.ui.mylabel.text = 'foobar'\n</code></pre>\n\n<p>The problem is that after that it doesn't update the new value on the window.</p>\n\n<p>I tried calling <code>self.app.processEvents()</code> or even an update on the label itself <code>self.ui.mylabel.update()</code> and <code>self.ui.mylabel.repaint()</code> to no avail.</p>\n\n<p>How do I get the QLabel widget to reflect the change?</p>\n"},{"tags":["qt","notifications","signals","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13010629,"title":"How to get notifications from QGraphicsScene on addItem or itemChange?","body":"<p>In my project I'm using a QGraphicsScene and adding / removing items all over the code.</p>\n\n<p>Now I want to get notified whenever a QGraphicsItem gets added or removed. Many Qt classes have notification signals or at least virtual functions that get called on such changes. I'm trying to avoid adding many rows of code in many places which is not only cumbersome but also unsafe (forgetting an insert / removal now or in the future).</p>\n\n<p>I need a solution that works with any QGraphicsItem.</p>\n\n<p>This is a list of things that do not work:</p>\n\n<ul>\n<li>connect to a signal of QGraphicsScene <sup>(as in <code>QAbstractItemModel::rowsInserted()</code>)</sup> -> there is none.</li>\n<li>inherit from QGraphicsScene and overload a virtual notifier function <sup>(as in <code>QTabWidget::tabInserted()</code>)</sup> -> there is none.</li>\n<li>inherit and overload <code>addItem()</code>, sending notifications myself <sup>(as in <code>QMdiArea::addSubWindow()</code>)</sup> -> <code>addItem</code> isn't virtual and gets called from the constructors of QGraphicsItems.</li>\n<li>install event filters on newly added QGraphicsItems -> no idea how to get the newly added item AND it would be a <code>sceneEventFilter</code> which can only be installed on other QGraphicsItems.</li>\n<li>connect to <code>itemChange()</code> of QGraphicsItem -> <code>itemChange</code> is not a signal AND overloading QGraphicsItem is not an option.</li>\n<li>wrap <code>QGraphicsScene</code> (having the scene as a private member) and only expose functions <code>addItem</code> and <code>removeItem</code> -> but QGraphicsItems in that scene could still access it via <code>scene()</code> function, so this solution is not safe enough.</li>\n</ul>\n\n<p><strong>How can I get notifications on item changes?</strong></p>\n\n<p>If there is an easy way that I simply missed, please point me to it. Else, I'd appreciate ideas on this very much.</p>\n"},{"tags":["gui","qt","gtk"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":701,"score":2,"question_id":4172398,"title":"Differences that matter between GTK+ and QT?","body":"<h2>What are the finer differences between QT and GTK+?</h2>\n\n<p>Specifically I need to know the finer differences.\nLanguage neutral, Windows/Linux neutral. Just the finer points please...</p>\n\n<ol>\n<li><strong>How <em>native</em> are the widgets / controls to the window manger, from its standpoint?</strong> Example: If it were a text control, would it process: a WM_COMMAND or EM_SETSEL message sent to it? If not, how do third-party applications / screen readers interact with the control / widget?</li>\n<li><strong>Advanced widgets available in one toolkit and not available in the other?</strong> Add-Ons are fine to describe.</li>\n<li><strong>What is the quality of theming from a <em>multimedia / special effects</em> standpoint?</strong> like powerpoint style special effects such as fade-ins of widgets/docks. What's the ease of coding for these scenarios?</li>\n</ol>\n"},{"tags":["c++","c","qt","gtk"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":355,"score":1,"question_id":3740038,"title":"What language to use for text editor?","body":"<p>I feel like writing a (rich) text editor mainly to be used for note-taking, in either C or C++, using most probably GTK or Qt for the UI.</p>\n\n<p>The problem is that I can't really decide what to use. I know both C and C++, C a little better. I've never used Qt but I'm completely fine with learning, and I have some experience with GTK.</p>\n\n<p>Is there any particular combination you would give preference to and why? In particular, do you think there is any advantage to using C++, or will C do just fine?</p>\n"},{"tags":["qt","colors","paint","qwidget","qslider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13008308,"title":"How to change color of QWidget in QTableWidget","body":"<p>I have a QTableWidget. In its cells I need to display 3-state QSliders, that must change their color, depending form their state. -1 = red, 0 - normal, 1 - green. I tried to set QPalette to QSlider - whitout success. I tried to place QSlider into QWidget with Layout and apply palette to QWidget - whitout success.\nHow to do that? I need any color sign (border or full background, e.t.c) How to do that?</p>\n"},{"tags":["java","qt","sockets","image-processing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":13004785,"title":"Sending images trough a socket using qt and read it using java","body":"<p>I'm trying to send an image upload in a Qt server trough the socket and visualize it in a client created using Java. Until now I have only transferred strings to communicate on both sides, and tried different examples for sending images but with no results. </p>\n\n<p>The code I used to transfer the image in qt is:</p>\n\n<pre><code>QImage image;\nimage.load(\"../punton.png\");\nqDebug()&lt;&lt;\"Image loaded\";\nQByteArray ban; // Construct a QByteArray object\nQBuffer buffer(&amp;ban);   // Construct a QBuffer object using the QbyteArray\nimage.save(&amp;buffer, \"PNG\"); // Save the QImage data into the QBuffer\nsocket-&gt;write(ban);        \n</code></pre>\n\n<p>In the other end the code to read in Java is:</p>\n\n<pre><code>BufferedInputStream in = new BufferedInputStream(socket.getInputStream(),1);\nFile f = new File(\"C:\\\\Users\\\\CLOUDMOTO\\\\Desktop\\\\JAVA\\\\image.png\");\nSystem.out.println(\"Receiving...\");\nFileOutputStream fout = new FileOutputStream(f);\nbyte[] by = new byte[1];\nfor(int len; (len = in.read(by)) &gt; 0;){\nfout.write(by, 0, len);\nSystem.out.println(\"Done!\");\n}\n</code></pre>\n\n<p>The process in Java gets stuck until I close the Qt server and after that the file generated is corrupt.</p>\n\n<p>I'll appreciate any help because it's neccessary for me to do this and I'm new to programming with both languages.</p>\n\n<p>Also ive used the following commands that and the recieving process now ends and show a message, but the file is corrupt.</p>\n\n<pre><code>socket-&gt;write(ban+\"-1\"); \nsocket-&gt;close(); in qt. \n</code></pre>\n\n<p>And in java:      </p>\n\n<pre><code>System.out.println(by); \nString received = new String(by, 0, by.length, \"ISO8859_1\");\nSystem.out.println(received);\nSystem.out.println(\"Done!\");\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/EKZkt.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","curve-fitting","qgraphicsscene","qpainter","mousepress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12980390,"title":"Smooth line in QGraphicsScene with Qt","body":"<p>I need to draw curves with Qt : the user click on QgraphicsScene (via QGraphicsView) and straight lines are drawn between the points clicked by the user. When the user finish to draw straights lines (by clicking on the right button), that the set of lines become a curve. </p>\n\n<p>for that, i need to use the \"cubicTo(c1, c2, d1, d2, x1, x2)\" method form QPainterPath Class and adding it to the QgraphicsScene with \"addPathItem\". </p>\n\n<p>the problem is that i don't konw how to cumpute c1, c2, d1 and d2, values to curve the set of lines. </p>\n\n<p>For example, on the following picture, the user has drawn the two gray lines by clicking A B and C points. When he clicks the right button i want to draw the red line using cubicTo(...).</p>\n\n<p><a href=\"http://images.meteociel.fr/im/9631/stack_zpt9.png\" rel=\"nofollow\">http://images.meteociel.fr/im/9631/stack_zpt9.png</a></p>\n\n<p>My current code only draw gray lines because i've set c1, c2, d1 and d2 values to points positions clicked by the user : </p>\n\n<pre><code>void Visuel::mousePressEvent(QMouseEvent *event)\n{\n    int x = ((float)event-&gt;pos().x()/(float)this-&gt;rect().width())*(float)scene()-&gt;sceneRect().width();\n    int y = ((float)event-&gt;pos().y()/(float)this-&gt;rect().height())*(float)scene()-&gt;sceneRect().height();\n    qDebug() &lt;&lt; x &lt;&lt; y;\n\n    if(event-&gt;button() == Qt::LeftButton)\n    {\n        path-&gt;cubicTo(x,y,x,y,x,y);\n    }\n    if(event-&gt;button() == Qt::RightButton)\n    {\n        if(path == NULL)\n        {\n            path = new QPainterPath();\n            path-&gt;moveTo(x,y);\n\n        }\n        else\n        {\n\n            path-&gt;cubicTo(x,y,x,y,x,y);\n            scene()-&gt;addPath(*path,QPen(QColor(79, 106, 25)));\n            path = NULL;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["qt","qt4","qdialog","qmessagebox","qstyle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13010489,"title":"How to flush the QWidget Painting-Cache?","body":"<p>I'm working on a custom styled QMessageBox. In my custom QStyle class in method polish() I call:</p>\n\n<pre><code>if( (pDialog = qobject_cast&lt;QDialog*&gt;( pWidget )) != NULL )\n{\n    pDialog-&gt;setWindowFlags( pDialog-&gt;windowFlags() | Qt::FramelessWindowHint );\n    // Allow QStyle draw widget background\n    pDialog-&gt;setAttribute( Qt::WA_StyledBackground, true );\n\n    // Set window background transparent\n    QPalette oPalette = pDialog-&gt;palette();\n    oPalette.setBrush( QPalette::Window, QBrush(Qt::transparent) );\n    pDialog-&gt;setPalette( oPalette );\n}\n</code></pre>\n\n<p>This works fine, unless we use a semi-transparent border: The semi-transparent part gets darker and darker on every repaint (e.g. when pressing \"Show Details\"/\"Hide Details\" many times).</p>\n\n<p>UPDATE: I just realized, that when moving the message box the \"<em>too-dark semi-transparent content</em>\" is moved too. Thus I want to flush the QWidget painting-cache - if something like this exists (backing-store??).</p>\n"},{"tags":["qt","menu","qmenu"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13009649,"title":"Qt almost same main menu entries","body":"<p>I'm using c++ Qt library and I want to do something which would do :</p>\n\n<pre><code>connect(actionB11, SIGNAL(triggered()), this, SLOT(SetSomething(1, 1)));\nconnect(actionB12, SIGNAL(triggered()), this, SLOT(SetSomething(1, 2)));\nconnect(actionB21, SIGNAL(triggered()), this, SLOT(SetSomething(2, 1)));\nconnect(actionB22, SIGNAL(triggered()), this, SLOT(SetSomething(2, 2)));\n</code></pre>\n\n<p>The code above doesnt work because SIGNAL function has to have same number and argument types as SLOT function.</p>\n\n<p>Does exist a way how to do it? I dont want to have about 20 function as SetSomething11, SetSomething12 calling SetSomething(1, 1) etc.</p>\n"},{"tags":["javascript","qt","dom","webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":105,"score":5,"question_id":12854882,"title":"How to get javascript working in call QWebElement.appendInside('some html code')?","body":"<p>I am working on plugin for im client that will be show chatlog in QWebView. Plugin must support html templates. Now I’m trying to append new messages by call QWebElement.appendInside(‘new message’) and if in the template there is javascript source it does not work.\nFor example template may be such type:</p>\n\n<pre><code>&lt;!--MessageIn--&gt;\n&lt;div class=\"space\"&gt;&amp;nbsp;&lt;/div&gt;\n&lt;div class=\"in MessageIn\" id=\"oneShot\"&gt;\n    &lt;div class=\"tr\"&gt;\n        &lt;div class=\"bl\"&gt;\n            &lt;div class=\"br\"&gt;\n                &lt;p class=\"head\"&gt;\n                    &lt;span class=\"time\" id=\"time\"&gt;%time%&lt;/span&gt;\n                    &lt;span class=\"name\" id=\"name\"&gt;%name%&lt;/span&gt;\n                &lt;/p&gt;\n                &lt;p class=\"content\"&gt;\n                    &lt;span class=\"text\" id=\"text\"&gt;&lt;script&gt;getitall('%text%','%name%','%cid%','%base%',meldungsart[0]);&lt;/script&gt;&lt;/span&gt;\n                &lt;/p&gt;                    \n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;animation1();&lt;/script&gt;\n</code></pre>\n\n<p>Functions getitall() and animation1() won't be executed.</p>\n\n<p>I can’t use QWebElement.evaluatejavascript() because i don’t know function names.</p>\n"},{"tags":["javascript","qt","qtwebkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13009037,"title":"QtWebkit, raise onGestureChange events","body":"<p>Does QtWebkit support gesture events handled in Javascript by the \"onGestureChange\" event handler?</p>\n\n<p>If it does, how to simulate such events?</p>\n"},{"tags":["qt","qt-mobility"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13005895,"title":"QContact save crashes","body":"<p>I am implementing a code to save contacts using QtMobility Qcontact save API's given in the link below.\n<a href=\"http://harmattan-dev.nokia.com/docs/library/html/qtmobility/versit.html\" rel=\"nofollow\">http://harmattan-dev.nokia.com/docs/library/html/qtmobility/versit.html</a></p>\n\n<pre><code>QVersitContactImporter importer;\nimporter.importDocuments(inputDocuments);\nQList&lt;QContact&gt; contacts = importer.contacts();\ncm.saveContact((QContact*)&amp;contacts.at(0));\n</code></pre>\n\n<p>Once I get the list of QContacts i save using the piece of code given above.\nHere cm is the contact manager which as been declared in constructor. When I add the first contact it works fine I can also see the contacts in contact list, but when I add the second contact it always crashes.</p>\n\n<p>The error I get is :</p>\n\n<blockquote>\n  <p>Waiting for RPC reply to 'requestSaveContact'' call timed out Invalid\n  parameter passed to C runtime function.</p>\n</blockquote>\n"},{"tags":["c++","windows","qt","taskbar","windows-taskbar"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":303,"score":0,"question_id":10042041,"title":"How to detect height and orientation of taskbar in Windows with autohide enabed?","body":"<p>I am using Qt, what I want to do is to display custom popup over the icon in system tray in Windows. I can obtain icon coordinates by using geometry() and taskbar height by finding difference between screenGeometry() and availableGeometry(). So the popup can be alligned correctly and does not overlap taskbar for different taskbar orientations (e.g. when taskbar is on the left side or on the top of the screen). </p>\n\n<p>The problem starts when autohide of taskbar is turned on, then apparently availableGeometry returns the same value as screenGeometry, and I cannot find the taskbar height anymore. This results in the popup overlapping with taskbar, or even displayed at the wrong location. </p>\n\n<p>My question is: how can I detect correctly orientation and size of taskbar in Windows, when the autohide is enabled? Should I use some winapi function, or can I do it purely in Qt (preferable) ?</p>\n"},{"tags":["qt","qtableview"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":917,"score":2,"question_id":1163030,"title":"Qt QTableView and horizontalHeader()->restoreState()","body":"<p>I can't narrow down this bug, <em>however</em> I seem to have the following problem:\n - saveState() of a horizontalHeader()\n - restart app\n - Modify model so that it has one less column\n - restoreState()\n - Now, for some reason, the state of the headerview is totally messed up. I cannot show or hide any new columns, nor can I ever get a reasonable state back</p>\n\n<p>I know, this is not very descriptive but I'm hoping others have had this problem before.</p>\n"},{"tags":["qt","mouseevent","qwidget","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12851915,"title":"Qt Issue - mouse button released after A Modal QDialog closed","body":"<p>Parent widget doesn't respond to first mouse click after Modal QDialog closed, the QDialog is closed by calling done() in mousemoveevent() and this causes the mouse button is still being pressed after the dialog is closed, the second click onward will work as normal.</p>\n\n<p><strong>My finding so far:</strong></p>\n\n<ol>\n<li><p>If <code>done(int)</code> is called in <code>MouseReleaseeEvent()</code>, everything works as expected</p></li>\n<li><p>It seems like the <code>QDialog</code> is lack of <code>MouseButtonRelease</code> event (which it's expecting after a <code>MouseButtonPress</code> event fired) due to the <code>QDialog</code> is already closed in the <code>MouseMoveEvent</code> and this messes up the mouse event of the parent widget.</p></li>\n</ol>\n\n<p>My intention is to make a <code>QDialog</code> which can be closed by sliding, when It detects mouse pressed and moved to certain position, it will be closed.</p>\n\n<p>It is much appreciated if everyone who encountered it before or who has any idea what's going on to give me some advice. </p>\n\n<p>MANY THANKS.</p>\n\n<p>Also, this is the first time I post a question here, if I missed any information that I suppose to provide, please let me know...</p>\n"},{"tags":["qt","widget","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12852823,"title":"How to make QML component (widget) adjusts according to data","body":"<p>I have a Widget as QML component in Qt Quick application which is to be used in various screens to display contents. </p>\n\n<p>How can I use this particular QML component to adjust according to the items in it.</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13007136,"title":"QGraphicsView / QGraphicsScene Timer Event not working","body":"<p>I'm trying to implement a basic qtimer in a qgraphicsview but can't seem to get it working. </p>\n\n<p>Here's my main.cpp code:</p>\n\n<pre><code>int main(int argc, char * argv[]) {\n\n\n    QApplication app(argc, argv);//should stay on the stack\n\n    QGraphicsScene * scene = new QGraphicsScene();//this is the scene -- the canvas that holds everything!\n\n    // a view just adds stuff to the scene in that view port\n\n    QGraphicsView * view = new Game(scene);//create a new view\n\n    return app.exec();\n}\n</code></pre>\n\n<p>And here is the view header ... note the qtimer and advance function</p>\n\n<pre><code>class View: public QGraphicsView {//inherits qwidget -- so we can make it full screen there\n\n    Q_OBJECT\n\n    public:\n        View(QGraphicsScene * _scene);//this is responsible for setting up the screen and instantiating several elements\n        ~View();\n\n    protected://variables\n        QGraphicsScene * scene;\n        QTimer * timer;\n\n\n    protected://functions\n\n        int const int_height();//converts qreal to an int\n        int const int_width();\n\n        qreal const height();// \n        qreal const width();//this is the actual qreal floating point number \n\n        virtual void paintEvent(QPaintEvent * event) {};\n        void timerEvent(QTimerEvent * event) {cout &lt;&lt; \"HELLO &lt;&lt; ads\" &lt;&lt; endl;};\n        virtual void keyPressEvent(QKeyEvent * event) {};\n        virtual void update() = 0;\n\n\n        void advance() { cout &lt;&lt; \"HELLO WORLD\" &lt;&lt; endl;}        \n    private:\n        qreal _height;\n        qreal _width;\n\n};\n</code></pre>\n\n<p>And finally, my view implementation constructor:</p>\n\n<pre><code>View::View(QGraphicsScene * _scene) : QGraphicsView(_scene) {\n\n\n    scene = _scene;//set the scene which is the parent over this \n\n\n    this-&gt;showMaximized();\n\n    QRectF geometry = this-&gt;contentsRect();\n\n    _height = geometry.height();\n    _width = geometry.width();\n\n    this-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    this-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n\n    scene-&gt;setSceneRect(0, 0, this-&gt;int_width(), this-&gt;int_height());\n    // this-&gt;centerOn(qreal(0), qreal(0));\n\n    this-&gt;setGeometry(0, 0, _width, _height);\n    this-&gt;setFixedSize(_width, _height);\n\n\n    timer = new QTimer(this);\n    connect(timer, SIGNAL(timeout()), scene, SLOT(advance()));\n    timer-&gt;start(1000);\n    timer-&gt;setInterval(100);\n\n\n\n}   \n</code></pre>\n"},{"tags":["qt","listview","qt-creator","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12971751,"title":"QML : Drop-down menu that opens upward","body":"<p>I need to have drop-down that opens upwards on clicking on Menu button in QML.</p>\n\n<p>I have tried to use the listview for the same, but in the implementation we are getting drop-down which opens downwards.</p>\n\n<p>Any suggestions with reference to below snippet.</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width: 800\n    height: 480\n\n    Rectangle {\n        id:comboBox\n        property variant items: [\"Red\", \"Blue\", \"Green\"]\n\n        signal comboClicked;\n        x: 651\n        y: 344\n        width: 141\n        height: 30;\n        z: 0\n        smooth:true;\n\n        Rectangle {\n            id:chosenItem\n            radius:4;\n            width:parent.width;\n            height:comboBox.height;\n            color: \"#454b4d\"\n            smooth:true;\n            Text {\n                anchors.top: parent.top;\n                anchors.margins: 8;\n                id:chosenItemText\n                x: 11\n                y: 5\n                color: \"#ffffff\"\n                text:\"Menu\";\n                anchors.topMargin: 5\n                anchors.left: parent.left\n                anchors.leftMargin: 12\n                font.family: \"Arial\"\n                font.pointSize: 14;\n                smooth:true\n            }\n\n            MouseArea {\n                width: 400\n                height: 30\n                anchors.bottomMargin: 0\n                anchors.fill: parent;\n                onClicked: {\n                    comboBox.state = comboBox.state===\"dropDown\"?\"\":\"dropDown\"\n                }\n            }\n        }\n\n        Rectangle {\n            id:dropDown\n            width:comboBox.width;\n            height:0;\n            clip:true;\n            radius:4;\n            anchors.top: chosenItem.bottom;\n            anchors.margins: 2;\n            color: \"lightblue\"\n\n            ListView {\n                id:listView\n                height:500;\n                model: comboBox.items\n                currentIndex: 0\n                delegate: Item{\n                    width:comboBox.width;\n                    height: comboBox.height;\n\n\n                    Text {\n                        text: modelData\n                        anchors.top: parent.top;\n                        anchors.left: parent.left;\n                        anchors.margins: 5;\n\n                    }\n                    MouseArea {\n                        anchors.fill: parent;\n                        onClicked: {\n                            comboBox.state = \"\"\n                            chosenItemText.text = modelData;\n                            listView.currentIndex = index;\n                        }\n                    }\n                }\n            }\n        }\n\n\n        states: State {\n            name: \"dropDown\";\n            PropertyChanges { target: dropDown; height:30*comboBox.items.length }\n        }\n\n        transitions: Transition {\n            NumberAnimation { target: dropDown; properties: \"height\"; easing.type: Easing.OutExpo; duration: 1000 }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["image","qt","rotation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":214,"score":0,"question_id":10767587,"title":"can't get the image to rotate in center in Qt","body":"<p>i am trying to rotate a 89x89 image inside the QLabel Widge.</p>\n\n<pre><code>#include \"header.h\"\n\ndisc::disc(QWidget *Parent) : QWidget(Parent)\n{\n    orig_pixmap = new QPixmap();\n    rotate = new QLabel(this);\n    showDegrees = new QLabel(this);\n\n    orig_pixmap-&gt;load(\"pic.png\");\n    degrees = 0;\n\n    rotate-&gt;resize(89,89);\n    rotate-&gt;move(100,10);\n    rotate-&gt;setStyleSheet(\"QLabel{background-color:red;}\");\n\n    showDegrees-&gt;resize(100,100);\n    showDegrees-&gt;move(400,0);\n}\n\nvoid disc::rotate_disc()\n{\n    QString string;\n    degrees++;\n    if(degrees == 360) degrees = 0;\n\n    QTransform rotate_disc;\n\n    rotate_disc.translate( (orig_pixmap-&gt;width()-rotate-&gt;width())/2 , (orig_pixmap-&gt;width()-rotate-&gt;height())/2);\n    rotate_disc.rotate(degrees,Qt::ZAxis);\n\n    QPixmap pixmap;\n    //pixmap = orig_disc-&gt;scaled(89,89,Qt::IgnoreAspectRatio,Qt::SmoothTransformation);\n    pixmap = orig_pixmap-&gt;transformed(rotate_disc,Qt::SmoothTransformation);\n    rotate-&gt;setPixmap(pixmap);\n\n    string.append(\"Degrees: \" + QString::number(degrees) + \"*\");\n    showDegrees-&gt;setText(string);\n}\n</code></pre>\n\n<p>Even though it rotates. The image's half gets rolled outside the QLabel and hence that side is not visible.How can i make it center rotate at origin(0,0) of the image center.</p>\n\n<p>Here is the file</p>\n\n<pre><code>http://www65.zippyshare.com/v/85775455/file.html\n</code></pre>\n\n<p>if you look at it you can see that image is like bouncing to the left.how can i make it rotate inside the black area.</p>\n\n<p>i setup a signal timeout at every 10ms to the rotate_disc() function. I am using this to learn Qt indepth.</p>\n\n<p>Thank You!</p>\n"},{"tags":["c++","qt","jenkins","qmake","jenkins-plugins"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12986156,"title":"Use Jenkins CI for Qt projects","body":"<p>I'm trying to use Jenkins for some project I have written in Qt framework. </p>\n\n<p>There is <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/qmakebuilder+Plugin\" rel=\"nofollow\">qmake plug-in</a> for Jenkins in Jenkins wiki page, although this plug-in doesn't exist in Jenkins plug-in list.</p>\n\n<p>I've looked for .hpi file for qmakebuilder plug-in, couldn't find it though. So I download the source code from the given repository, tried to compile it as described in <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial\" rel=\"nofollow\">Jenkins wiki</a>... but I get list of error indicating java.util.NoSuchElementException.</p>\n\n<p>Any of you guys have used this plug-in? or any other Jenkins plug-in to compile Qt projects with?</p>\n"},{"tags":["c++","xml","qt","qtxml"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":576,"score":2,"question_id":2429464,"title":"Converting QXmlItem to QtDomElement or similar?","body":"<p>I'm parsing a fairly complicated XML file of the following structure:</p>\n\n<pre>\n&lt;root&gt;<br/>   ... <br/>   ...<br/>   &lt;item&gt; <br/>      &lt;subitem id=&quot;1&quot;/&gt;<br/>      &lt;text&gt;<br/>         text1<br/>      &lt;/text&gt;<br/>   &lt;/item&gt;<br/>   &lt;item&gt;<br/>      &lt;subitem id=&quot;2&quot;/&gt;<br/>      &lt;text&gt;<br/>         text2<br/>      &lt;/text&gt;   <br/>   &lt;/item&gt;<br/>      ...<br/>   &lt;item&gt;<br/>      ...<br/>   &lt;/item&gt;<br/>   ...<br/>&lt;/root&gt;</pre>\n\n<p>It's pretty crude but you get my drift I hope. I'm primarily interested in \"item\" nodes. So I wrote the following code (directly out of the Qt's online manual):</p>\n\n<pre><code>QXmlQuery query;\nquery.setQuery(\"//item/\");\n\nQXmlResultItems result;\nquery.evaluateTo(&amp;result);\n\nQXmlItem item(result.next());\nwhile (!item.isNull()) \n{\n  if (item.isNode())\n  {\n      // WHAT DO I DO NOW?\n  }\n  item = result.next();\n}\n</code></pre>\n\n<p>Now, QXmlItem appears to represent two concepts, a literal value (like a string) or a Node, (which is what item.isNode() is doing). Unfortunately, I can't grasp how to convert the QXmlItem to something that will query-able again. In particular from the example above I'd like to grab the \"id\" attribute, and the text element. Can I do this using the XQuery approach, or am I way off base here?</p>\n\n<p>Any advice?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt","build","mingw","runtime-error"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13002769,"title":"Qt Release build giving MSVC++ Runtime Library Error","body":"<p>I have a perfectly working application (exe with around 16 DLLs) when building in Debug mode. However, as soon as I switch to Release, get the exe and all DLLs built, all required DLLs copied over from the QtSDK bin, I'm getting a runtime error.</p>\n\n<p>How exactly am I supposed to troubleshoot what's happening? Is this a common issue? I don't get any entry points, etc., to even start from.. just a generic runtime error. </p>\n\n<p>The only similar question I've found is <a href=\"http://stackoverflow.com/questions/4361584/error-while-trying-to-run-a-release-build-of-a-qt-application-on-windows\">here</a>, but this is from a much older version of Qt. 4.7.4 only has one bin folder. </p>\n\n<p><strong>Edit 1</strong> - I've commented everything out of my main.cpp except creating my MainWindow object, and everything out of my MainWindow constructor, so it should just be opening an empty window - still the Runtime Library issue. </p>\n\n<p><img src=\"http://i.stack.imgur.com/RLJAE.png\" alt=\"enter image description here\"></p>\n\n<p>Note - Keeping it in release mode and starting the debugger launches the application fine. \nDebug -> Start and Debug External Application also results in this Runtime Library error.</p>\n"},{"tags":["c++","qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12990675,"title":"Qt request never trigger the finished() signal","body":"<p>i have something really strange i have this code :</p>\n\n<p>i think i know what is wrong but i dont know how to fix it . \nthis is what i have :\nwhen i put break point in int test = 0; \nit getting there before it gets to httpFinished() slot in the HttpClient , mybe this is the problem ? \nin the main.cpp </p>\n\n<pre><code>---------------------------------------------------------------------------------------------------------\n@while (i.hasNext())\n{\ni.next();\n\nThreadWorker* pThreadWorker = new ThreadWorker();\npThreadWorker-&gt;setUrl(sUrl);\nQThreadPool::globalInstance()-&gt;start(pThreadWorker);\n}\nQThreadPool::globalInstance()-&gt;waitForDone();\n\n\n\n---------------------------------------------------------------------------------------------------------\nvoid ThreadWorker::run()\n{\n  startWork();\n}\n\nvoid ThreadWorker::startWork()\n{\n m_pHttpClient = new HttpClient();\n m_pHttpClient-&gt;startRequest(m_url);\n int test = 0;\n\n\n}\n\n--------------------------------- HttpClient  based on the http example from Qt -----------------------------------\n\nHttpClient::HttpClient()\n{\n  m_networkManager = new QNetworkAccessManager(this);\n  connect(m_networkManager, SIGNAL(authenticationRequired(QNetworkReply*,QAuthenticator*)),\n            this, SLOT(slotAuthenticationRequired(QNetworkReply*,QAuthenticator*)));\n\n #ifndef QT_NO_OPENSSL\n    connect(m_networkManager, SIGNAL(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)),\n            this, SLOT(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)));\n #endif\n}\n\n\n\nvoid HttpClient::startRequest(QUrl url)\n{\n   m_url.setUrl(\"http://qt.nokia.com/\");\n  QNetworkRequest request; \n  request.setUrl(m_url);\n\n reply = m_networkManager-&gt;get(request);\n\n\n connect(reply, SIGNAL(error(QNetworkReply::NetworkError)),\n         this, SLOT(slotError(QNetworkReply::NetworkError)));\n\n connect(reply,SIGNAL(finished()),\n            this, SLOT(httpFinished()));\n\n    connect(reply, SIGNAL(readyRead()),\n            this, SLOT(httpReadyRead()));\n\n    connect(reply, SIGNAL(downloadProgress(qint64,qint64)),\n            this, SLOT(updateDataReadProgress(qint64,qint64)));\n\n\n}\n</code></pre>\n\n<p>the httpFinished() function that is under private slots: never triggered , why ?</p>\n\n<p><strong>UPDATED THE QUESTION</strong></p>\n"},{"tags":["json","qt","string-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12992824,"title":"Parse specific format json array in Qt4, no external libraries","body":"<p>I need extract data from a JSON array, format '[[[1,2,3]],[[1,2,3],[1,2,3]],\"string\"]' in Qt. logically it's '[[[x-values]],[[y1-values],[y2-values]],\"comments\"]'.</p>\n\n<p>Edit: x,y1,y2 arrays can be up to 1000+ elements large.</p>\n\n<p>I know that that's the exact format (without the single quotes) and that it's not going to change.</p>\n\n<p>What I really want is QVector xval, y1val; .</p>\n\n<p>How would I parse that?</p>\n\n<p>(I'm new to Qt so please forgive me if I'm missing the obvious.)</p>\n"},{"tags":["c++","qt","tempfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12999792,"title":"Howto open html page in default browser, when html code is stored in QString","body":"<p>My Qt application should open a <strong>html page</strong> (with the default browser eg. IE). This html code is stored in a <code>QString</code>.</p>\n\n<p>What would be the best way to open this \"file\", of which I only have the content?</p>\n\n<p>Is <code>QTemporaryFile</code> the answer to this? Or could this be done easier?</p>\n\n<pre><code>QString content = \"&lt;html&gt;...&lt;/html&gt;\";\n?\nQDesktopServices::openUrl(QUrl(\"...\"));\n</code></pre>\n"},{"tags":["qt","qt4","stylesheet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":8298880,"title":"Qt: Creating style sheets from palette","body":"<p>I have a multi-platform Qt application with a custom palette that we have already set up to produce the look that we want. The palette was set on the top level widget and so this was inherited by all of the child widgets.  </p>\n\n<p>I then wanted to dynamically change the text colour of some QPushButtons.  Searching around for the best way to do this, I began reading about Style Sheets which I didn't know that much about previously.  These seemed to be a good option for changing the look of the push buttons and they did this.  However, as soon as I set the text colour using a style sheet, the widget palette jumped to the default.  It soon became obvious that style sheets are not compatible with custom palettes and it wasn't possible to mix the two.  Most of the info that I found suggested that style sheets should be used rather than custom palettes because, among other things, style sheets offer guarantees across platforms and looks which palette fiddling does not.</p>\n\n<p>From this, it seemed like a good idea to convert my custom palette into a style sheet and set it on the top level widget.  Then I would easily be able to change just some parameters of certain child widgets using sub-style-sheets.  The problem is that the palette contains many colours that we have set that do not appear to have a style sheet equivalent.  Eg, Light, Midlight and Dark.  Without being able to set these colours I wasn't able to produce the same look using style sheets as I previously had with the customised palette.</p>\n\n<p>I would like to know if there is a simple way to convert a customised palette into a style sheet or whether there is some documentation to describe the equivalent style sheet settings for each palette colour.  I have done searches on google, stackoverflow and the Qt reference docs but have come up short.</p>\n\n<p>Thanks for any info.</p>\n\n<p>ps. I solved my original problem by dynamically modifying the ButtonText attribute of the palette for the QPushButtons.  But I would still rather use style sheets instead if possible without changing the main look of my application.</p>\n"},{"tags":["qt","qt4","qt-designer"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2688,"score":0,"question_id":4670945,"title":"how to connect QActions to SLOTS using qt designer","body":"<p>I have created a nice looking toolbar using <strong>qt Designer</strong> and populated it with some actions.<br>\nI tried to <strong>connect the actions to slots visually from qt designer</strong> by clicking <strong>edit> signals and slots</strong>. This <strong>DID NOT WORK</strong> because i could not find any QAction signals.  </p>\n\n<p><strong>Question.</strong>  </p>\n\n<p>Is there a way to connect the QAction SIGNAL(triggered()) to my slots within QT designer?\nPlease help.<br>\n<strong>PS:</strong>\nI am currently being forced to connect through code:</p>\n\n<pre><code>QObject::connect(myAction, SIGNAL(triggered()),this, SLOT(myActionWasTriggered()))\n</code></pre>\n\n<p>but ia am lazy and i wish to connect using qt designer.</p>\n"},{"tags":["qt","window","size","restore","application"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":2813,"score":9,"question_id":74690,"title":"How do I store the window size between sessions in Qt?","body":"<p>I have a QMainWindow in a Qt application. When I close it I want it to store its current restore size (the size of the window when it is not maximized). This works well when I close the window in restore mode (that is, not maximized). But if I close the window if it is maximized, then next time i start the application and restore the application (because it starts in maximized mode), then it does not remember the size it should restore to. Is there a way to do this?</p>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2096,"score":2,"question_id":528224,"title":"How to use linux fonts in windows QT?","body":"<p>We develop an embedded QT application for linux on MS Windows. The target platform is linux without X-windows (framebuffer) . Unfortunallety, the screens on windows look rather different (better) than the same screens on linux because windows has better fonts. Is there a way  to force QT on windows to use the linux fonts? I would like to achieve binary compatibility i.e. CRCs of the screenshots will  be the same in linux and in windows.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c++","qt","colors","qplaintextedit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12996236,"title":"how to get text color from qplaintextedit?","body":"<p>I want get text color from plain text. i can get fontWeight and other format with charFormat() but when i debug foreground color, it's set to no color!!?</p>\n\n<p>Please Help Me ....</p>\n\n<p>sample code:</p>\n\n<pre><code>QTextCursor c = textCursor();\nQTextCharFormat result = c.charFormat();\n\nif (result.fontWeight() == QFont::Bold)\n    qDebug() &lt;&lt; \"bold text\";  //worked\nelse if (result.fontWeight() == QFont::Normal)\n    qDebug() &lt;&lt; \"normal text\";  //worked\n\nif (result.foreground().color() == Qt::green)\n    qDebug() &lt;&lt; \"green\";  //not worked !!\nelse if (result.foreground().color() == Qt::blue)\n    qDebug() &lt;&lt; \"blue\";  //not worked !!\nelse\n    qDebug() &lt;&lt; \"no color !!\";\n</code></pre>\n\n<p>TNX</p>\n"},{"tags":["mysql","qt","plugins","static"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":444,"score":2,"question_id":8263296,"title":"Qt static build with static mysql plugin confusion","body":"<p>I have built a Qt application which uses the MySQL library, but I am confused by the documentation on <em>static</em> versus <em>shared</em> builds.</p>\n\n<p>From the Qt documentation at <a href=\"http://doc.qt.nokia.com/4.7/deployment-windows.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/deployment-windows.html</a> it says: </p>\n\n<blockquote>\n  <p>To deploy plugin-based applications we should use the shared library\n  approach.</p>\n</blockquote>\n\n<p>And on <a href=\"http://doc.qt.nokia.com/4.7/deployment.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7/deployment.html</a>, it says:</p>\n\n<blockquote>\n  <p>Static linking results in a stand-alone executable. The advantage is\n  that you will only have a few files to deploy. The disadvantages are\n  that the executables are large and with no flexibility and that you\n  cannot deploy plugins.  To deploy plugin-based applications, you can\n  use the shared library approach.</p>\n</blockquote>\n\n<p>But on <a href=\"http://doc.qt.nokia.com/latest/plugins-howto.html\" rel=\"nofollow\">http://doc.qt.nokia.com/latest/plugins-howto.html</a>, it seems to say the opposite, giving directions on how to use static plugins:</p>\n\n<blockquote>\n  <p>Plugins can be linked statically against your application. If you\n  build the static version of Qt, this is the only option for including\n  Qt's predefined plugins. Using static plugins makes the deployment\n  less error-prone, but has the disadvantage that no functionality from\n  plugins can be added without a complete rebuild and redistribution of\n  the application.  ...     To link statically against those plugins, you\n  need to use the Q_IMPORT_PLUGIN() macro in your application and you\n  need to add the required plugins to your build using QTPLUGIN.</p>\n</blockquote>\n\n<p>I want to build the Qt libraries statically (for easy deployment) and then use the static MySQL plugin. To do this, I did NOT use the binary distrubtion for Windows. Instead, I've started with the source qt-everywhere-opensource-src-4.7.4\nIs the following the correct way to do a static build so that i can use the static MySql plugin?</p>\n\n<p>configure -static -debug-and-release -opensource -platform win32-msvc2010 -no-qt3support -no-webkit -no-script -plugin-sql-mysql -I C:\\MySQL\\include -L C:\\MySQL\\lib</p>\n\n<ol>\n<li><p>This should build the Qt libraries statically AND the static plugin to be linked at run-time, correct? I would NOT need to build the Mysql Plugin from source separately, correct?</p></li>\n<li><p>If I was to subtitute \"-qt-sql-mysql\" for \"-plugin-sql-mysql\" in above, it would include the MySQL driver directly in the QT static libraries, in which case I would NOT need to use the plugin at all, correct?</p></li>\n</ol>\n\n<p>Thanks for making me unconfused!</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12995899,"title":"add scrollbar in qt window?","body":"<p>i have been learning qt from video tutorials <a href=\"https://www.youtube.com/watch?v=6KtOzh0StTc&amp;feature=youtube_gdata_player\" rel=\"nofollow\">here</a>.\ni have completed 35 videos. So i wanted to create a sample application just to understand qt.\ni am using the latest version of qt creator.</p>\n\n<p>i added some <strong>push-buttons</strong> &amp; deleted the menu bar &amp; tool bar in main window.</p>\n\n<p><img src=\"http://i.stack.imgur.com/40O8j.png\" alt=\"enter image description here\"></p>\n\n<p>after running i found that if i resize the window scroll-bars don't appear. </p>\n\n<p><img src=\"http://i.stack.imgur.com/6xA2j.png\" alt=\"enter image description here\"></p>\n\n<p>i don't want the push-buttons to resize or move. i am fine with them becoming invisible but i want the scroll-bars so that the user can scroll to the invisible parts.\ni added a scroll area widget but it doesn't work. i did some coding by searching on internet but that didn't work either. when i increase the size of scroll area upto the window size; after running the window appears blank. maybe the push-buttons go 'below' the scroll-area. how do i change which object should be on 'top'?</p>\n\n<p>also since i am just a beginner, i don't know whats the best approach in designing using qt. should i just put the required widgets using designer &amp; then give their characteristics by coding? or should i do complete designing using designer? or should i abandon designer &amp; do the complete coding?\nTHANK YOU!</p>\n\n<p><strong>edit</strong>\n@Synxis,\nthat didnt help much. I even used the secentralwidget(ui->scrollareacontentswidget);\ni tried deleting the centralwidget QWidget, but i cant.\nAny solution?</p>\n\n<p><img src=\"http://i.stack.imgur.com/aWDBV.png\" alt=\"enter image description here\"></p>\n"},{"tags":["qt","symbian","nokia"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":8755519,"title":"How to find the \"timing advance\" network parameter on a Symbian phone?","body":"<p>How can I find the network parameter \"timing advance\" in a Symbian s60 phone.. Am developing the application with qt. i couldn't find a documentation about timing advance in it.</p>\n"},{"tags":["qt","qt-creator","gnome","gedit","kate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":9258713,"title":"Integrating gedit or kate in a Qt Application","body":"<p>I am trying to develop an a simple IDE for programming languages using Qt for my project.This IDE should contain a text editor and should have pretty printing feature in it.So developing a text editor with qt is out of question. </p>\n\n<p>So my question is: Can I integrate gedit or kate text editor in a Qt application.? I am working on a Gnome environment.If this is possible please explain or point to appropriate tutorials.</p>\n\n<p>Programming language:Cuda,Opencl,C,C++</p>\n\n<p>Your help will be greatly appreciated</p>\n\n<p>Thank you </p>\n"},{"tags":["qt","gui","qgraphicsview","qgraphicsscene","pixmap"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":609,"score":1,"question_id":6168570,"title":"QGraphicsView - slow scale performance under Linux","body":"<p>I'm making a program that will display a few images from a directory beside each other.</p>\n\n<p>When I scale the images to fit within the height of the window (ie - QGraphicsPixmapItem->scale(...)), it runs fairly well in windows, but runs unbearably slow in linux (Ubuntu 11.04).</p>\n\n<p>If the images are not scaled, performance is similar on both systems.</p>\n\n<p>I'm not sure if it has to do with the way each OS caches memory, since when I run the program under Linux, the memory used is always constant and around 5mb, when it's closer to  15-30mb under Windows depending on the images loaded. </p>\n\n<p>Here is the related code:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent)\n{\n    scene = new QGraphicsScene(this);\n    view = new QGraphicsView(scene);\n    setCentralWidget(view);\n    setWindowTitle(tr(\"ImgVw\"));\n    bestFit = true;\n\n    view-&gt;setHorizontalScrollBarPolicy ( Qt::ScrollBarAlwaysOff );\n    view-&gt;setVerticalScrollBarPolicy ( Qt::ScrollBarAlwaysOff );\n    view-&gt;setDragMode(QGraphicsView::ScrollHandDrag);\n    view-&gt;setStyleSheet( \"QGraphicsView { border-style: none; padding: 5px; background-color: #000; }\" );   // set up custom style sheet\n\n    // Get image files from folder\n    QDir dir(\"test_img_folder\");\n    QStringList fileList = dir.entryList();\n    fileList = fileList.filter(QRegExp(\".*(\\.jpg|\\.jpeg|\\.png)$\"));\n\n    // Create graphics item for each image\n    int count = 0;\n    foreach(QString file, fileList)\n    {\n    if (count &gt;= 0)\n    {\n        QPixmap g(dir.absolutePath() + QString(\"/\") + file);\n        scene-&gt;addPixmap(g);\n    }\n    count++;\n    if (count &gt;= 5) break;\n    }\n}\n\nvoid MainWindow::resizeEvent(QResizeEvent *event)\n{\n    int pos = 0;\n    foreach(QGraphicsItem *item, scene-&gt;items(Qt::AscendingOrder))\n    {\n        double ratio = 1.0;\n        QGraphicsPixmapItem *pixmapItem = (QGraphicsPixmapItem*) item;\n\n        // Resize to fit to window\n        if (bestFit) {\n            double h = (double) (view-&gt;height()-10)/pixmapItem-&gt;pixmap().height();\n            ratio = min(h, 1.0);\n            pixmapItem-&gt;setScale(ratio);\n        }\n\n        // Position 5 pixels to the right of the previous image\n        item-&gt;setPos(pos,0);\n        pos += pixmapItem-&gt;pixmap().width()*ratio + 5;\n    }\n\n    // Resize scene to fit items\n    scene-&gt;setSceneRect(scene-&gt;itemsBoundingRect());\n}\n</code></pre>\n"},{"tags":["c++","qt","data-structures","geometry","mouseevent"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12984935,"title":"Efficient method for finding object in map based on coordinates","body":"<p>I am building an editor using C++/Qt which has a click-and-drag feel to it. The behavour is similar to schematic editors (Eagle, KiCAD, etc), Microsoft Visio, or other programs where you drag objects from a toolbar into a central editing area.</p>\n\n<p>My problem is that when the user clicks inside the custom widget I want to be able to select the instance of the box-like object and manipulate it. There will also be lines connecting the boxes together. However, I can't decide on an efficient method for selecting those objects.</p>\n\n<p>I have two main thoughts on how to do the programming for this: The first is that the widget which is drawing the entire editor would simply encapsulate every one of the instances of the box. The other is to have each instance of the box (which is in my Model) carry with it an instance of a QWidget which would handle rendering the box (which would be in my View...but it would end up being strongly attached to the model). As for the lines connecting them, since they don't have a square bounding boxes they will have to be rendered by the containing widget.</p>\n\n<p>So here is the summary of how I see this being done:</p>\n\n<ul>\n<li>The editor widget turns into a container which holds the widgets and the widgets process their own click events. The potential issues here are that I don't know how to make the custom widget turn into a layout which lets click-and-drag functionality.</li>\n<li>The editor widget takes care of all the rendering and processes the mouse clicks (the easier way in that I don't have to worry about layout...its just selecting the instances efficiently that I don't know what would be best).</li>\n</ul>\n\n<p>So, now that there is a bit of background, for the 2nd method I plan on having each box-like instance having a bounding rectangle and the lines being represented by 3-4 pixel wide bounding rectangle segments (they are at 90 degree angles). I could iterate through every single box and line, but that seems really inefficient.</p>\n\n<p>The big question: Is there some sort of data structure I can hold rectangles in and link them to widgets (or anything else for that matter) and then give it two coordinates (such as mouse coordinates) and have it spit me out the bounding box or linked object that those coordinates are inside of?</p>\n"},{"tags":["c++","qt","iostream"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12978973,"title":"Unknown ouput with qdebugstream and qtextedit","body":"<p>The first output in the textedit is a number 3, I don't know why that number is coming form Qt::LogText. This question is based from a previous question I had asked, I'm using the same qdebugstream header file from the link below. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/10308425/redirect-stdcout-to-a-qtextedit\">Redirect std::cout to a QTextEdit</a></p>\n\n<p>The new project below is a QT Gui Application that will redirect the cout to a textedit. Also, since settextformat() is no longer a member of QTextEdit, I converted Qt::LogText into a string. </p>\n\n<p>This was based on another post but I did not understand the solution. \n<a href=\"http://stackoverflow.com/questions/3060141/qt-qtexteditsettextformatqtlogtext-does-not-exist-anymore-what-else-can\">Qt: QTextEdit::setTextFormat(Qt::LogText) does not exist anymore, what else can I use to log?</a>. \nCan someone provide more information on this?</p>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n\n    ui-&gt;textEdit-&gt;setReadOnly(true);\n    ui-&gt;textEdit-&gt;setText(QString(\"%1\").arg(Qt::LogText));\n\n    QDebugStream qout(std::cout, ui-&gt;textEdit);\n\n    cout &lt;&lt; \"Send this to the Text Edit!\" &lt;&lt; endl;\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>Mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include \"qdebugstream.h\"\n#include \"stdio.h\"\n#include \"iostream\"\n\nusing namespace std;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass QtextEdit;\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n"},{"tags":["qt","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12327609,"title":"QPushButton changes margins on other widgets in the same layout","body":"<p>I have a big layout that contains widgets and layouts of the following structure:</p>\n\n<pre><code>QVBoxLayout\n  QTableView\n  QPushButton\n</code></pre>\n\n<p>I set the margins, padding, and spacing on the layout to 0. The way this renders on Mac OS X, the button doesn't fill all of its space. Instead, there is some padding around it. Magically, the layout seems to know this, and makes sure the table view is exactly as wide as the button is wide:</p>\n\n<p><img src=\"http://i.stack.imgur.com/eVRDq.png\" alt=\"Magic padding caused by QPushButton\"></p>\n\n<p>When I remove the button, the table view returns to its full width:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8ec2p.png\" alt=\"No magic padding here\"></p>\n\n<p>How can I change it so the button, as well as the table view, become as wide as the layout?</p>\n\n<p>I've played with stylesheet's padding and margin, and while I can use those to make the button wider, the extra padding around the tree view remains. The only solution I have so far is to wrap the button in another widget, and then set its margin and padding to 0 via stylesheet, but then I lose the rounded look.</p>\n"},{"tags":["qt","symbian","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":9365203,"title":"How do I remove the BusyIndicator after you read a feed","body":"<p>I have a problem with a BusyIndicator, what happens is that I have appointed BusyIndicator that when loading the feed is removed, but in my file. QML images do not appear in the feed, I wonder if there is any way to tell the BusyIndicator that when the image is displayed BusyIndicator remove.</p>\n"},{"tags":["c++","qt","opengl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":99,"score":2,"question_id":12983590,"title":"conversion from c++ with opengl code to QT application with GUI?","body":"<p>I have written a program in C++ (object oriented) I used OpenGL in order to render something in \nscreen. I also used microsoft kinect SDK for windows , now I want to make a GUI for my program to make it more like application with Menus, buttons \netc. I want to know is it possible to convert my program in a way I said to QT? what kind of changes are necessary ?  because I don't know a lot about QT, any help ?</p>\n"},{"tags":["qt","speex"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":471,"score":1,"question_id":9097341,"title":"Architecture for audio streaming using qt multimedia and speex","body":"<p>I am developing an application to bidirectionally stream voice audio between two computers.\nThe main components I use are QAudioInput, QAudioOutput, QUdpSocket and the speex library.\nConceptually the application works like this:</p>\n\n<p><strong>The sender part</strong></p>\n\n<pre><code>speex.setSamplingRate(8000);\nQAudioInput.onReadyRead =\n{\n    SpeexBits bits;\n    int frameSizeBytes = speex.getFrameSize() * 2;  //*2 for 16 bit data samples\n    QByteArray out(frameSizeInBytes, 0);\n    QByteArray data = QAudioInput.read(QAudioInput.bytesReady());\n    while (data.size() &gt;= frameSizeBytes)\n    {\n        QByteArray frame = data.remove(0, frameSizeBytes);\n        speex_bits_reset(&amp;bits);\n        speex_encode_int(&amp;enc_state, (short *)frame.data(), &amp;bits);\n        int nbBytes = speex_bits_write(&amp;bits, out.data(), frameSizeInBytes);\n        QUdpSocket.writeDatagram(out.constData(), nbBytes, multicastGroup, multicastPort);\n    }\n    //bytes that are left in data, are remembered for the next time\n}\n</code></pre>\n\n<p><strong>The receiving part</strong></p>\n\n<pre><code>speex.setSamplingRate(8000);\nQUdpSocket.onReadyRead =\n{\n    SpeexBits bits;\n    int frameSizeBytes = speex.getFrameSize() * 2;  //*2 for 16 bit data samples\n    QByteArray out(frameSizeInBytes, 0);\n    while (QUdpSocket.hasPendingDatagrams())\n    {\n        QByteArray data = QUdpSocket.readDatagram(QUdpSocket.datagramSize());\n        speex_bits_reset(&amp;bits);\n        speex_bits_read_from(&amp;bits, data.data(), data.size());\n        while (speex_bits_nbytes(&amp;bits) &gt;= 0)\n        {\n            speex_decode_int(&amp;enc_state, &amp;bits, (short *)out.data());\n            QAudioOutput.write(out.constData(), out.size());\n        }\n    }\n}\n</code></pre>\n\n<p>QAudioInput and QAudioOutput are sampled at 8kHz 16-bits per sample. The multicastGroups at the sender and receiving ends are of course different (and crossed between the two computers).</p>\n\n<p>The read audio samples are speex encoded per speex frame size (which is typically 320 bytes).</p>\n\n<p>On the receiving end, bytes arrive as they are send (normally one speex packet at a time). </p>\n\n<p>Both the sender and the receiving part, run in the same thread.</p>\n\n<p>However, I hear 'cracks' in the sound at the receiving end.</p>\n\n<p>Now I was wondering what is wrong with the code (if I don't use libspeex, and send the data as captured from the mic, then everything works fine).</p>\n\n<ul>\n<li>Do I have to use different threads for the sender and the receiver?</li>\n<li>Do I have to separate the reception of the audio samples (both a sender and receive side) from the processing (i.e. encoding/decoding), by using some kind of circular buffer?</li>\n<li>Can I encode/decode multiple frames with the encode/decode functions? How?</li>\n<li>Do I need to buffer the audio at the receiving end and play it back at a steady rate?</li>\n</ul>\n"},{"tags":["qt","gdb","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12032631,"title":"Qt Creator debugger (GDB) won’t allow watched variables to be modified","body":"<p>I’m using Qt Creator 2.3.1 to create an Ubuntu application with Qt 4.8.0. I’m building my application in debug mode, and have a set a few breakpoints. When a breakpoint gets hit, when I attempt to modify the value of a variable in the “Locals and Expressions” window, I’m able to change the text, but when I hit enter, it reverts to its original value.</p>\n\n<p>Same behavior for any type of variable. Also happens in the watch window.</p>\n\n<p>It seems to be some disconnect between Qt Creator and GDB. I’m able to issue GDB commands directly into the debugging log while at a breakpoint in Qt creator, which can modify variables no problem (set var ...). It looks like Qt Creator isn’t sending the proper commands to GDB  when I try to modify variables in the UI.</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12993768,"title":"PyQt + changing widget","body":"<p>Consider following code:</p>\n\n<pre><code>    app = QApplication(sys.argv)\n\n    mainWindow = MainWindow() # window created with Designer\n    mainWindow.ui.output = Output() # \"Output\" is a subclass of QPlainTextEdit\n    preparePropertiesTabs(mainWindow)\n    mainWindow.show()\n\n    mainWindow.ui.output.appendPlainText('test')\n\n    exit(app.exec_())\n</code></pre>\n\n<p>What I expect is to have word 'test' in my 'output' widget, but it's empty.\nAnyway, when I show only 'output' (mainWindow.ui.output.show() instead of mainWindow.show()), text is present.</p>\n\n<p>Do I not know about something? :|</p>\n"},{"tags":["c++","qt","debugging","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12905300,"title":"Qt - Unexpected GDB Exit","body":"<p>I am trying to develop an application that creates an image and fills it with color pixels using bilinear interpolation and then displays it. My code so far is the following:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;opencv/cv.h&gt;\n#include &lt;opencv/highgui.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sys/stat.h&gt;\n\nusing namespace cv;\n\nint main()\n{\n    Mat image;\n    image.create( 500, 500, CV_8UC3);\n    //upper left corner\n    Vec3b ul( 255, 0, 0 );\n    //upper right corner\n    Vec3b ur( 0, 255, 0 );\n    //bottom left corner\n    Vec3b bl( 0, 0, 255 );\n    //bottom right corner\n    Vec3b br( 255, 0, 255 );\n\n    //for(int y=0;y&lt;image.rows; y++)\n        //for(int x=0;x&lt;image.cols;x++)\n\n    // call function to add noise\n\n    namedWindow(\"Colored Pixels\");\n    imshow(\"Colored Pixels\", image);\n\n    // shows image for 5 seconds\n    waitKey(10000);\n    return 0;\n}\n</code></pre>\n\n<p>When I run my program in debug mode I get the following two pop up windows:</p>\n\n<pre><code>Unexpected GDB Exit \nThe gdb process exited unexpectedly (code 0)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Executable Failed\nDuring startup program exited with code 0xc0000138\n</code></pre>\n\n<p>my debugger log screen shows the following: </p>\n\n<pre><code>sStarting debugger 'GdbEngine' for ABI 'x86-windows-msys-pe-32bit'...\ndStart parameters: 'pixelGradient' mode: 1\ndABI: x86-windows-msys-pe-32bit\ndExecutable: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\\debug\\pixelGradient.exe  [terminal]\ndDirectory: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug\ndDebugger: C:\\QtSDK\\pythongdb\\python_2.7based\\gdb-i686-pc-mingw32.exe\ndProject: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient (built: C:\\Users\\encore\\Desktop\\Lectures\\Year 3\\QtCreator\\pixelGradient-build-desktop-Qt_4_8_1_for_Desktop_-_MinGW__Qt_SDK__Debug)\ndQt: C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\ndQML server: 127.0.0.1:3768\ndSysroot: \ndDebug Source Loaction: \ndSymbol file: \ndDumper libraries:  C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\\\qtc-debugging-helper\\ C:\\QtSDK\\QtCreator\\qtc-debugging-helper\\168937759\\ C:\\Users\\encore\\AppData\\Local\\Nokia\\QtCreator\\qtc-debugging-helper\\168937759\\\nd\ndDebugger settings: \ndUseAlternatingRowColours: false  (default: false)\ndFontSizeFollowsEditor: false  (default: false)\ndUseMessageBoxForSignals: true  (default: true)\ndAutoQuit: false  (default: false)\ndLogTimeStamps: false  (default: false)\ndVerboseLog: false  (default: false)\ndCloseBuffersOnExit: false  (default: false)\ndSwitchModeOnExit: false  (default: false)\ndUseDebuggingHelper: true  (default: true)\ndUseCodeModel: true  (default: true)\ndShowThreadNames: false  (default: false)\ndUseToolTips: false  (default: false)\ndUseToolTipsInLocalsView: false  (default: false)\ndUseToolTipsInBreakpointsView: false  (default: false)\ndUseAddressInBreakpointsView: false  (default: false)\ndUseAddressInStackView: false  (default: false)\ndRegisterForPostMortem: false  (default: false)\ndLoadGdbInit: true  (default: true)\ndScriptFile:   (default: )\ndWatchdogTimeout: 20  (default: 20)\ndAutoEnrichParameters: false  (default: false)\ndTargetAsync: false  (default: false)\ndMaximalStackDepth: 20  (default: 20)\ndAlwaysAdjustStackColumnWidths: false  (default: false)\ndShowStandardNamespace: true  (default: true)\ndShowQtNamespace: true  (default: true)\ndSortStructMembers: true  (default: true)\ndAutoDerefPointers: true  (default: true)\ndAlwaysAdjustLocalsColumnWidths: false  (default: false)\ndListSourceFiles: false  (default: false)\ndSkipKnownFrames: false  (default: false)\ndEnableReverseDebugging: false  (default: false)\ndAllPluginBreakpoints: true  (default: true)\ndSelectedPluginBreakpoints: false  (default: false)\ndAdjustBreakpointLocations: true  (default: true)\ndAlwaysAdjustBreakpointsColumnWidths: false  (default: false)\ndNoPluginBreakpoints: false  (default: false)\ndSelectedPluginBreakpointsPattern: .*  (default: .*)\ndBreakOnThrow: false  (default: false)\ndBreakOnCatch: false  (default: false)\ndBreakOnWarning: false  (default: false)\ndBreakOnFatal: false  (default: false)\ndAlwaysAdjustRegistersColumnWidths: false  (default: false)\ndAlwaysAdjustSnapshotsColumnWidths: false  (default: false)\ndAlwaysAdjustThreadsColumnWidths: false  (default: false)\ndAlwaysAdjustModulesColumnWidths: false  (default: false)\ndState changed from DebuggerNotReady(0) to EngineSetupRequested(1).\ndQUEUE: SETUP ENGINE\ndCALL: SETUP ENGINE\ndTRYING TO START ADAPTER\ndENABLING TEST CASE: 0\ndSTARTING C:/QtSDK/pythongdb/python_2.7based/gdb-i686-pc-mingw32.exe -i mi\ndGDB STARTED, INITIALIZING IT\n&lt;1show version\n&lt;2-list-features\n&lt;3set print object on\n&lt;4set breakpoint pending on\n&lt;5set print elements 10000\n&lt;6set overload-resolution off\n&lt;7handle SIGSEGV nopass stop print\n&lt;8set unwindonsignal on\n&lt;9pwd\n&lt;10set width 0\n&lt;11set height 0\n&lt;12set auto-solib-add on\n&lt;13-interpreter-exec console \"maintenance set internal-warning quit no\"\n&lt;14-interpreter-exec console \"maintenance set internal-error quit no\"\n&lt;15-interpreter-exec console \"disassemble 0 0\"\n&lt;16-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/bridge.py')\"\n&lt;17-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/dumper.py')\"\n&lt;18-interpreter-exec console \"python execfile('C:/QtSDK/QtCreator/share/qtcreator/dumper/qttypes.py')\"\n&lt;19-interpreter-exec console \"bbsetup\"\ndADAPTER SUCCESSFULLY STARTED\ndNOTE: ENGINE SETUP OK\ndState changed from EngineSetupRequested(1) to EngineSetupOk(3).\ndQUEUE: SETUP INFERIOR\ndState changed from EngineSetupOk(3) to InferiorSetupRequested(4).\ndQUEUE: SETUP INFERIOR\ndCALL: SETUP INFERIOR\nsSetting up inferior...\n&lt;20set substitute-path C:/iwmake/build_mingw_opensource C:/QtSDK/Desktop/Qt/4.8.1/mingw\n&lt;21set substitute-path C:/ndk_buildrepos/qt-desktop/src C:/QtSDK/Desktop/Qt/4.8.1/mingw\n&lt;22set substitute-path C:/qt-greenhouse/Trolltech/Code_less_create_more/Trolltech/Code_less_create_more/Troll/4.6/qt C:/QtSDK/Desktop/Qt/4.8.1/mingw\n Attaching to 1260 (6412)\ndTaking notice of pid 1260\n&lt;23attach 1260\n&gt;=thread-group-added,id=\"i1\"\n&gt;~\"GNU gdb (GDB) 7.2\\n\"\n&gt;~\"Copyright (C) 2010 Free Software Foundation, Inc.\\n\"\n&gt;~\"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\\nThis is free software: you are free to change and redistribute it.\\nThere is NO WARRANTY, to the extent permitted by law.  Type \\\"show copying\\\"\\nand \\\"show warranty\\\" for details.\\n\"\n&gt;~\"This GDB was configured as \\\"i686-pc-mingw32\\\".\\nFor bug reporting instructions, please see:\\n\"\n&gt;~\"&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\\n\"\n&gt;&amp;\"show version\\n\"\n&gt;~\"GNU gdb (GDB) 7.2\\n\"\n&gt;~\"Copyright (C) 2010 Free Software Foundation, Inc.\\n\"\n&gt;~\"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\\nThis is free software: you are free to change and redistribute it.\\nThere is NO WARRANTY, to the extent permitted by law.  Type \\\"show copying\\\"\\nand \\\"show warranty\\\" for details.\\n\"\n&gt;~\"This GDB was configured as \\\"i686-pc-mingw32\\\".\\nFor bug reporting instructions, please see:\\n\"\n&gt;~\"&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\\n\"\n&gt;1^done\ndPARSING VERSION: 1^done\nd\ndSUPPORTED GDB VERSION GNU gdb (GDB) 7.2\ndCopyright (C) 2010 Free Software Foundation, Inc.\ndLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\ndThis is free software: you are free to change and redistribute it.\ndThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\ndand \"show warranty\" for details.\ndThis GDB was configured as \"i686-pc-mingw32\".\ndFor bug reporting instructions, please see:\nd&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\ndGNU gdb (GDB) 7.2\ndCopyright (C) 2010 Free Software Foundation, Inc.\ndLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\ndThis is free software: you are free to change and redistribute it.\ndThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\ndand \"show warranty\" for details.\ndThis GDB was configured as \"i686-pc-mingw32\".\ndFor bug reporting instructions, please see:\nd&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nd\ndUSING GDB VERSION: 70200, BUILD: 2010\n&gt;2^done,features=[\"frozen-varobjs\",\"pending-breakpoints\",\"thread-info\",\"python\"]\ndFEATURES: 2^done,data={features=[\"frozen-varobjs\",\"pending-breakpoints\",\"thread-info\",\"python\"]}\nd\n&gt;&amp;\"set print object on\\n\"\n&gt;3^done\n&gt;&amp;\"set breakpoint pending on\\n\"\n&gt;4^done\n&gt;&amp;\"set print elements 10000\\n\"\n&gt;5^done\n&gt;&amp;\"set overload-resolution off\\n\"\n&gt;6^done\n&gt;&amp;\"handle SIGSEGV nopass stop print\\n\"\n&gt;~\"Signal        Stop\\tPrint\\tPass to program\\tDescription\\n\"\n&gt;~\"SIGSEGV       Yes\\tYes\\tNo\\t\\tSegmentation fault\\n\"\n&gt;7^done\n&gt;&amp;\"set unwindonsignal on\\n\"\n&gt;8^done\n&gt;&amp;\"pwd\\n\"\n&gt;~\"Working directory C:\\\\Users\\\\encore.\\n\"\n&gt;9^done\n&gt;&amp;\"set width 0\\n\"\n&gt;10^done\n&gt;&amp;\"set height 0\\n\"\n&gt;11^done\n&gt;&amp;\"set auto-solib-add on\\n\"\n&gt;12^done\n&gt;13^done\n&gt;14^done\n&gt;&amp;\"A syntax error in expression, near `0'.\\n\"\n&gt;15^error,msg=\"A syntax error in expression, near `0'.\"\n&gt;16^done\n&gt;17^done\n&gt;18^done\n&gt;~\"dumpers=[{type=\\\"QLinkedList\\\",formats=\\\"\\\"},{type=\\\"QSize\\\",formats=\\\"\\\"},{type=\\\"QFileInfo\\\",formats=\\\"\\\"},{type=\\\"QAbstractItemModel\\\",formats=\\\"\\\"},{type=\\\"std__stack\\\",formats=\\\"\\\"},{type=\\\"QTextDocument\\\",formats=\\\"\\\"},{type=\\\"QTJSC__JSValue\\\",formats=\\\"\\\"},{type=\\\"__gnu_cxx__hash_set\\\",formats=\\\"\\\"},{type=\\\"QStringList\\\",formats=\\\"\\\"},{type=\\\"QRegion\\\",formats=\\\"\\\"},{type=\\\"std__wstring\\\",formats=\\\"\\\"},{type=\\\"QString\\\",formats=\\\"Inline,Separate Window\\\",editable=\\\"true\\\"},{type=\\\"QTextCodec\\\",formats=\\\"\\\"},{type=\\\"QBasicAtomicInt\\\",formats=\\\"\\\"},{type=\\\"QScriptValue\\\",formats=\\\"\\\"},{type=\\\"QTime\\\",formats=\\\"\\\"},{type=\\\"QSharedData\\\",formats=\\\"\\\"},{type=\\\"std__vector\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QRegExp\\\",formats=\\\"\\\"},{type=\\\"QTextCursor\\\",formats=\\\"\\\"},{type=\\\"QxXmlAttributes\\\",formats=\\\"\\\"},{type=\\\"QDateTime\\\",formats=\\\"\\\"},{type=\\\"QList\\\",formats=\\\"\\\"},{type=\\\"QStandardItem\\\",formats=\\\"\\\"},{type=\\\"std__deque\\\",formats=\\\"\\\"},{type=\\\"QFixed\\\",formats=\\\"\\\"},{type=\\\"QHash\\\",formats=\\\"\\\"},{type=\\\"QSharedPointer\\\",formats=\\\"\\\"},{type=\\\"QUrl\\\",formats=\\\"\\\"},{type=\\\"std__set\\\",formats=\\\"\\\"},{type=\\\"std__list\\\",formats=\\\"\\\"},{type=\\\"std__basic_string\\\",formats=\\\"\\\"},{type=\\\"QPoint\\\",formats=\\\"\\\"},{type=\\\"QHostAddress\\\",formats=\\\"\\\"},{type=\\\"QStack\\\",formats=\\\"\\\"},{type=\\\"QScopedPointer\\\",formats=\\\"\\\"},{type=\\\"QRectF\\\",formats=\\\"\\\"},{type=\\\"QMultiMap\\\",formats=\\\"\\\"},{type=\\\"QMapNode\\\",formats=\\\"\\\"},{type=\\\"QModelIndex\\\",formats=\\\"Normal,Enhanced\\\"},{type=\\\"QLocale\\\",formats=\\\"\\\"},{type=\\\"QSharedDataPointer\\\",formats=\\\"\\\"},{type=\\\"QVariant\\\",formats=\\\"\\\"},{type=\\\"string\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QBasicAtomicPointer\\\",formats=\\\"\\\"},{type=\\\"QVector\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QDate\\\",formats=\\\"\\\"},{type=\\\"QFile\\\",formats=\\\"\\\"},{type=\\\"QAtomicInt\\\",formats=\\\"\\\"},{type=\\\"TBuf\\\",formats=\\\"\\\"},{type=\\\"QWeakPointer\\\",formats=\\\"\\\"},{type=\\\"QSizeF\\\",formats=\\\"\\\"},{type=\\\"__m128\\\",formats=\\\"As Floats,As Doubles\\\"},{type=\\\"boost__optional\\\",formats=\\\"\\\"},{type=\\\"wstring\\\",formats=\\\"\\\"},{type=\\\"QPointF\\\",formats=\\\"\\\"},{type=\\\"TLitC\\\",formats=\\\"\\\"},{type=\\\"QRect\\\",formats=\\\"\\\"},{type=\\\"QByteArray\\\",formats=\\\"\\\"},{type=\\\"QMap\\\",formats=\\\"\\\"},{type=\\\"boost__shared_ptr\\\",formats=\\\"\\\"},{type=\\\"QChar\\\",formats=\\\"\\\"},{type=\\\"QDir\\\",formats=\\\"\\\"},{type=\\\"QPixmap\\\",formats=\\\"\\\"},{type=\\\"QFlags\\\",formats=\\\"\\\"},{type=\\\"std__map\\\",formats=\\\"\\\"},{type=\\\"QHashNode\\\",formats=\\\"\\\"},{type=\\\"QTemporaryFile\\\",formats=\\\"\\\"},{type=\\\"QObject\\\",formats=\\\"\\\"},{type=\\\"Eigen__Matrix\\\",formats=\\\"\\\"},{type=\\\"std__string\\\",formats=\\\"\\\",editable=\\\"true\\\"},{type=\\\"QImage\\\",formats=\\\"Normal,Displayed\\\"},{type=\\\"QSet\\\",formats=\\\"\\\"},],hasInferiorThreadList=\\\"1\\\"\\n\"\n&gt;19^done\n&gt;&amp;\"set substitute-path C:/iwmake/build_mingw_opensource C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;20^done\n&gt;&amp;\"set substitute-path C:/ndk_buildrepos/qt-desktop/src C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;21^done\n&gt;&amp;\"set substitute-path C:/qt-greenhouse/Trolltech/Code_less_create_more/Trolltech/Code_less_create_more/Troll/4.6/qt C:/QtSDK/Desktop/Qt/4.8.1/mingw\\n\"\n&gt;22^done\n&gt;&amp;\"attach 1260\\n\"\n&gt;~\"Attaching to process 1260\\n\"\n&gt;=thread-group-started,id=\"i1\",pid=\"1260\"\nsThread group i1 created\n&gt;=thread-created,id=\"1\",group-id=\"i1\"\nsThread 1 created\n&gt;~\"[New Thread 1260.0x190c]\\n\"\ns[New Thread 1260.0x190c]\n&gt;23^running\n Inferior attached, thread 6412 resumed\nsSetting breakpoints...\ndSetting breakpoints...\n&lt;24maint print msymbols C:/Users/encore/AppData/Local/Temp/gdb_ns_.Dq6408\n&gt;*running,thread-id=\"all\"\n&gt;=thread-created,id=\"2\",group-id=\"i1\"\nsThread 2 created\n&gt;~\"[New Thread 1260.0xf9c]\\n\"\ns[New Thread 1260.0xf9c]\n&gt;*running,thread-id=\"all\"\n&gt;=thread-exited,id=\"2\",group-id=\"i1\"\nsThread 2 in group i1 exited\n&gt;=thread-exited,id=\"1\",group-id=\"i1\"\nsThread 1 in group i1 exited\n&gt;=thread-group-exited,id=\"i1\"\nsThread group i1 exited\n&gt;&amp;\"During startup program exited with code 0xc0000138.\\n\"\n&gt;23^error,msg=\"During startup program exited with code 0xc0000138.\"\ndCOOKIE FOR TOKEN 23 ALREADY EATEN (InferiorSetupRequested). TWO RESPONSES FOR ONE COMMAND?\ndNOTE: INFERIOR EXITED\ndState changed from InferiorSetupRequested(4) to InferiorExitOk(16).\ndState changed from InferiorExitOk(16) to InferiorShutdownOk(19).\ndState changed from InferiorShutdownOk(19) to EngineShutdownRequested(20).\ndQUEUE: SHUTDOWN ENGINE\nsExecutable failed: During startup program exited with code 0xc0000138.\ndCALL: SHUTDOWN ENGINE\ndINITIATE GDBENGINE SHUTDOWN IN STATE 0, PROC: 2\n&lt;25-gdb-exit\n&gt;&amp;\"maint print msymbols C:/Users/encore/AppData/Local/Temp/gdb_ns_.Dq6408\\n\"\n&gt;24^done\ndFOUND NON-NAMESPACED QT\ndNOTE: INFERIOR SETUP OK\ndState changed from EngineShutdownRequested(20) to InferiorSetupOk(6).\ndState changed from InferiorSetupOk(6) to EngineRunRequested(7).\ndQUEUE: RUN ENGINE\ndCALL: RUN ENGINE\ndNOTE: ENGINE RUN AND INFERIOR STOP OK\ndState changed from EngineRunRequested(7) to InferiorStopOk(14).\ndNOTE: INFERIOR RUN REQUESTED\ndState changed from InferiorStopOk(14) to InferiorRunRequested(10).\nsRunning requested...\n&lt;26-exec-continue\n&gt;25^exit\ndGDB CLAIMS EXIT; WAITING\ndGDB PROCESS FINISHED, status 0, code 0\ndNOTE: ENGINE ILL ******\ndState changed BY FORCE from InferiorRunRequested(10) to InferiorStopRequested(13).\ndATTEMPT TO INTERRUPT INFERIOR\nsStop requested...\ndTRYING TO INTERRUPT INFERIOR\ndCANNOT INTERRUPT 1260\n</code></pre>\n\n<p>do you have any idea as to how I can handle this?</p>\n"},{"tags":["qt","colors","picker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12987802,"title":"Popup Colour Menu in Qt","body":"<p>In Qt, what's the best way to do a popup colour picker menu like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/s3S5P.jpg\" alt=\"http://www.servicehighway.com/docs/img/menu_transaction_context_color.jpg\"></p>\n"},{"tags":["c++","image","file","qt","bytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12988131,"title":"Qt4: write QByteArray to file with filename?","body":"<p>I'm having trouble in Qt 4 with writing to non-text files. I have a QByteArray data and I want to save it to a file with name \"some_name.ext\" in specific directory: \"C://MyDir\". How can I do this? Note that the content is not textual. </p>\n\n<p>The format is \"GIF\" and it is not supported by Qt. </p>\n\n<pre><code>QImage mainImage; \nif (!mainImage.loadFromData(aPhoto.data)) \n    return false; \nif (!mainImage.save(imageName, imageFormat.toUtf8().constData())) \n   return false; \n</code></pre>\n\n<p>I want to bypass somehow that restriction!</p>\n"},{"tags":["c++","qt","events"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12991807,"title":"stop event propagation from QGraphicsItem to QGraphicsScene QT","body":"<p>I have an Qgraphicsscene implemented as a class, then i use QGraphicsScene::mousePressEvent to add a QGraphicsRectItem, this item have also an implementation for QGraphicsRectItem::mousePressEvent, the problem is that the event in the rect item is propagated to the scene and when i click it is added a new rect item, but i want is that the events inside this item do not propagate to the scene, i try event->accept but the event is propagated, how i cant do that? thanks for any help.</p>\n\n<p>here is my qgraphicsscene code:</p>\n\n<pre><code>#include \"imageview.h\"\n\nImageView::ImageView(QWidget *parent){\n    scene = new ImageScene(this);\n    setScene(scene);\n    //this-&gt;setMouseTracking(true);\n    this-&gt;setInteractive(true);\n}\n\n\nImageScene::ImageScene(QWidget *parent){\n    current = NULL;\n    selection = new QRubberBand(QRubberBand::Rectangle,parent);\n    selection-&gt;setGeometry(QRect(10,10,20,20));\n    setSceneRect(0,0,500,500);\n}\n\nvoid ImageScene::mousePressEvent(QGraphicsSceneMouseEvent *event){\n    QGraphicsScene::mousePressEvent(event);\n    /*IGNORING THIS EVENT FROM QGRAPHICSRECTITEM*/\n    cout&lt;&lt;\"image view\"&lt;&lt;endl;\n    if(this-&gt;selectedItems().length() == 0){ /*WORKS BUT IN SOME IMPLEMENTATION IS A PROBLEM (WHEN I DELETE THE ITEM WITH A DELETE BUTTON THE EVENT IS FIRED AND ADD A NEW ITEM .)*/\n        origin = event-&gt;scenePos();\n        selection-&gt;show();\n    }\n}\nvoid ImageScene::mouseReleaseEvent(QGraphicsSceneMouseEvent *event){\n    if(selection-&gt;isVisible() &amp;&amp; selection-&gt;rect().width() &gt;= 20 &amp;&amp; selection-&gt;rect().height() &gt;= 20){\n        QGraphicsScene::mouseReleaseEvent(event);\n\n        ResizableRect * rselection = new ResizableRect();\n            //selection-&gt;origin = event-&gt;scenePos();\n            //selection-&gt;grabMouse();\n        cout&lt;&lt;\"add\"&lt;&lt;endl;\n        this-&gt;addItem(rselection);\n        rselection-&gt;setPos(selection-&gt;pos());\n        rselection-&gt;setRect(0,0,selection-&gt;rect().width(),selection-&gt;rect().height());\n    }\n    selection-&gt;hide();\n\n}\nvoid ImageScene::mouseMoveEvent(QGraphicsSceneMouseEvent *event){\n    QGraphicsScene::mouseMoveEvent(event);\n    if(selection-&gt;isVisible()){\n        QPoint rorigin(origin.x(),origin.y());\n        int xdes = event-&gt;scenePos().x();\n        int ydes = event-&gt;scenePos().y();\n        xdes = xdes &gt; 0? xdes:0;\n        ydes = ydes &gt; 0? ydes:0;\n        xdes = xdes &lt; this-&gt;width()?xdes:this-&gt;width();\n        ydes = ydes &lt; this-&gt;height()?ydes:this-&gt;height();\n\n        QPoint rdest(xdes,ydes);\n        selection-&gt;setGeometry(QRect(rorigin,rdest).normalized());\n    }\n\n}\n</code></pre>\n"},{"tags":["c++","qt","qprocess","qt-signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12991509,"title":"Is QProcess::finished emitted when process crashes in Qt?","body":"<p>In the documentation it says that the <code>error</code> signal will be emitted if the process crashes. </p>\n\n<p>But would <code>finished</code> be emitted as well? Or is it only emitted when the process successfully exits? </p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12990404,"title":"QT: Form validation with inter-fields rules","body":"<ol>\n<li><p>I would like to dynamically build a form to edit a set of properties (say from a xml file or so).</p></li>\n<li><p>On top of that, I would like to perform validation for each property (mandatory values/optional values) with a set of rules (ideally also dynamically loaded).\nThese rules could be associated to a single field (allowed values, range, ...) but could also link several fields (conditional validation).</p></li>\n<li><p>I would like to be able to save the results \"on the fly\" (as soon as a field loses focus).</p></li>\n</ol>\n\n<p>Does someone have a good lead to get me started?<br>\nHere is what I found so far:</p>\n\n<ol>\n<li><p>I could start from the Qt property browser framework for the dynamic form generation. I could extend this framework to suit my needs.</p></li>\n<li><p>Regarding the validation, I read about QValidator which seems to be a good start. However, I couldn't find anything involving several fields (cross-parameter validation)</p></li>\n<li><p>The QSettings framework does this auto-save feature quite nicely and I guess I could reuse that.</p></li>\n</ol>\n\n<p>I just wanted to be sure I am not missing some existing framework to deal with my goals since\nit seems like a relatively standard thing to do.</p>\n"},{"tags":["c++","mysql","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12989499,"title":"Adding compilation flags to Qt to use mysql","body":"<p>I am using ubuntu to build a project that uses mysql. To compile the project from the command line I use the following flags:</p>\n\n<pre><code>$(mysql_config --cflags)$(mysql_config --libs)\n</code></pre>\n\n<p>However, when I am trying to build from Qt, I get that undefined reference to mysql_close and the rest of mysql connection functions.</p>\n\n<p>I tried adding the representation of the previous command line flags to QMAKe in Qt and still same errors.</p>\n\n<p>Any Help?</p>\n"},{"tags":["c++","qt","linker-error","vtable"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":4287,"score":8,"question_id":4774291,"title":"Q_OBJECT throwing 'undefined reference to vtable' error","body":"<p>I'm using Qt Creator 2.0.1 with Qt 4.7.0 (32 bit) on Windows 7 Ultimate 32 bit.</p>\n\n<p>Consider the following code, which is a minimum to produce the error:</p>\n\n<pre><code>class T : public QObject, public QGraphicsItem\n{\n    Q_OBJECT\n\npublic:\n    T() {}\n\n    QRectF      boundingRect() const {return QRectF();}\n    void        paint(QPainter *painter, const QStyleOptionGraphicsItem *option,\n                      QWidget *widget) {}\n};\n\nint main()\n{\n    T t;\n    return 0;\n}\n</code></pre>\n\n<p>The above code fragment causes the following linker errors:</p>\n\n<blockquote>\n  <p>In function `T':</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>In function `~T':</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n  \n  <p>undefined reference to `vtable for T'</p>\n</blockquote>\n\n<p>If I comment out the line that contains <code>Q_OBJECT</code>, it compiles fine. I need signal and slots with <code>QGraphicsItem</code> so I need <code>Q_OBJECT</code>.</p>\n\n<p>What is wrong with the code? Thanks.</p>\n"},{"tags":["qt","phonegap","symbian"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":8265231,"title":"PhoneGap on Symbian: Does native side work?","body":"<p>I created application on PhoneGap for iOS and Android.</p>\n\n<p>But if I import it to Symbian, my native side is not working :(</p>\n\n<p>And I have some questions:</p>\n\n<ul>\n<li><p>Native side must be working in WGZ and Qt applications or only in Qt applications?</p></li>\n<li><p>Do you have or know working examples using camera and/or geolocation?</p></li>\n</ul>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12987098,"title":"How to set a QML plugin as the source for a Loader","body":"<p>I've created a QML plugin and I can use it as :</p>\n\n<pre><code>import \"MyElement\" 1.0\n\nRectangle{\n    width:500;height:500;\n    MyElem{\n\n    }\n}\n</code></pre>\n\n<p><code>MyElem</code> is the plugin.<br>\nNow I'm wondering how I can use this plugin as a <strong>source</strong> for a <strong>Loader</strong> element? The source of loader expects a string but here we have a component.</p>\n"},{"tags":["qt","drag-and-drop","qt4.7","qlistview","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12916324,"title":"Drag and Drop of QListView Items","body":"<p>Please help me out to solve this.... I have a <code>QListView</code> on the Left side and a <code>QWidget</code> on the other side. In <code>QListView</code> i had added few items using <code>QStandardItem</code>. Now i want to Drag and Drop the <code>QListView</code> Items to the other side <code>QWidget</code> and i have to do the same with the <code>QWidget</code> also. I can drag and drop my <code>QListView</code> Items <em>inside the <code>QListView</code></em> itself by using</p>\n\n<pre><code>listView.setAcceptDrops(true);\nlistView.setDragEnabled(true);\nlistView.setDragDropMode(QAbstractItemView::InternalMove); \n</code></pre>\n\n<p>this is working fine inside the QListView alone. I want to Drag and Drop the QListView Items to the other Widget. How can i do this? I know that i have to handle the Events like                                                                      </p>\n\n<pre><code>void dropEvent(QDropEvent *);\nvoid dragMoveEvent(QDragMoveEvent *);\nvoid dragEnterEvent(QDragEnterEvent *);\nvoid mousePressEvent(QMouseEvent *);\n</code></pre>\n\n<p>i just tried it like this</p>\n\n<pre><code>void Example::dragMoveEvent(QDragMoveEvent *e)\n{\n    // The event needs to be accepted here\n    e-&gt;accept();\n}\n\nvoid Example::dragEnterEvent(QDragEnterEvent *e)\n{\n    // Set the drop action to be the proposed action.\n    e-&gt;acceptProposedAction();\n}\n\nvoid Example::dropEvent(QDropEvent *e)\n{\n    qDebug(\"Items Dropped\");\n}\n</code></pre>\n\n<p>As i just tried with some <strong>qDebug()</strong> , <em>this is Working when i drag an Item from my <code>QListView</code> and Drop it in the <code>QWidget</code></em>  and am getting the output as <strong>\"Items Dropped\"</strong>. <em>But i dont know how to bring my exact <code>QListView</code>'s Items</em> here.</p>\n"},{"tags":["c++","multithreading","qt","locking"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12988010,"title":"right way to write to file from different threads (using Qt c++ )","body":"<p>i have thread pool that create threads each thread worker calculate some work and when it done\nit writes the result to file , there is only 1 result file , that each worker thread needs to write to .<br>\nnow my question is how i guarantee that there wouldn't be any locks or missing write data to the file where allot of threads trying to write to single file ? what is the right strategy for such scenario?<br>\nmybe keep all result in memory ? or chanks of results  </p>\n\n<p>im using already the QThreadPool framework , and i need to find solution with it.<br>\nalso i wander , does writing to single file from worker threads , i will have to use<br>\nsingleton file manager or static class , is it good idea? for multithreaded app ?  </p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":211,"score":1,"question_id":8759864,"title":"How to clip unclosed path in Qt QGraphicsScene","body":"<p>I have <code>QGraphicsView</code> with <code>QGraphicsScene</code> and I need to draw unclosed paths (which may contain lines, or Bezier curves) in limited area of <code>scene</code> defined by <code>rect</code>.</p>\n\n<p>There is simple way to clip <strong>closed</strong> path by using <code>QPainterPath.intersected(path)</code> function, but if <code>path</code> is <strong>unclosed</strong>, then <code>intersected</code> closes it (adds line from end to start point).</p>\n\n<p>Here is the simplified code that illustrates my problem:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport functools\nimport sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\n\ndef path_through_points(points):\n    path = QPainterPath()\n    path.moveTo(*points[0])\n    for x, y in points[1:]:\n        path.lineTo(x, y)\n    return path\n\ndef path_through_points_workaround(points):\n    return path_through_points(points + list(reversed(points)))\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    scene = QGraphicsScene()\n    view = QGraphicsView(scene)\n    rect = QRectF(0, 0, 300, 300)\n\n    clip = QPainterPath()\n    clip.addRect(rect)\n\n    points = [(50, 50), (100, 100), (500, 300)]\n\n    def test_draw(path):\n        scene.clear()\n        scene.addRect(rect)\n        scene.addPath(path)\n\n    unclosed_path = path_through_points(points)\n    closed_path = path_through_points_workaround(points)\n\n    QTimer.singleShot(0, functools.partial(test_draw, unclosed_path))\n    QTimer.singleShot(2000, functools.partial(test_draw, unclosed_path.intersected(clip)))\n    QTimer.singleShot(4000, functools.partial(test_draw, closed_path.intersected(clip)))\n\n    view.resize(640, 480)\n    view.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>It draws generated path:</p>\n\n<ol>\n<li>Without clipping.</li>\n<li>With clipping (path closes instead of just clip) - this is unacceptable for me.</li>\n<li>And finally, results that I want to get (but it's reached with workaround).</li>\n</ol>\n\n<p>Workaround: close <code>path</code> by drawing it in <code>reversed</code> order. But my <code>path</code> may contain many lines/beziers, so it's ineffective, and anti aliasing looks bad with doubled lines.</p>\n\n<p>So question is how to clip unclosed path or line in QGraphicsScene without changing logic of path generation function?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Now I'm using following function:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def clipped_path(path, min_x, min_y, max_x, max_y):\n    \"\"\" Returns clipped path, supports unclosed paths of any kind\n    (lines, beziers)\n\n    NOTE: Resulting path can loose antialiasing\n    \"\"\"\n    path.connectPath(path.toReversed())\n    clip = QPainterPath()\n    clip.addRect(QRectF(min_x, min_y, max_x, max_y))\n    return path.intersected(clip)\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Better method as <a href=\"http://stackoverflow.com/users/1326964/hello-w\">@Hello W</a> suggested:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class ClippedItemMixin(object):\n    def __init__(self, min_x, min_y, max_x, max_y):\n        self._clip_path = QtGui.QPainterPath()\n        self._clip_path.addRect(QtCore.QRectF(min_x, min_y, max_x, max_y))\n        super(ClippedItemMixin, self).__init__()\n\n    def paint(self, painter, *args, **kwargs):\n        painter.setClipPath(self._clip_path)\n        super(ClippedItemMixin, self).paint(painter, *args, **kwargs)\n\n\nclass ClippedPathItem(ClippedItemMixin, QtGui.QGraphicsPathItem):\n   pass\n</code></pre>\n\n<p>Now it looks nicer, because anti aliasing works right.</p>\n"},{"tags":["qt","qt4","symbian"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":200,"score":0,"question_id":4365503,"title":"add qt and qt mobility to my project","body":"<p>I've been reading about qt for some time now and would like to use it to write application for Nokia devices. But there is one thing unclear for me. Let say my aplication uses qt and qt mobility so anyone who would like to install it would have to install qt and qt mobility manually first. Am I getting it right? Or maybe there is a way to add them to my project as static libraries or something...thanks for any help</p>\n"},{"tags":["visual-studio","qt","qmake","subdirs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":252,"score":0,"question_id":9109412,"title":"qmake TEMPLATE = subdirs visual studio project generation","body":"<p>in my project I'm using in my \"main\" .pro file TEMPLATE = subdirs that includes other sub-projects(2 additional libraries + target executable). As an outcome I would like to have an application that is linked against those 2 libraries. Based on my pro files structure I would like to generate visual studio 2008 or 2010 project file as some people prefer visual studio than Qt Creator as their IDE. What I have tried was:</p>\n\n<pre><code>qmake -t vcapp -spec win32-msvc2008 main.pro\n</code></pre>\n\n<p>but it gives some kind of an empty visual project file. If I repeat the same step for all my subdir project everything is fine. Only creating \"the main one\" that should have sub-projects in dependencies is not working correctly. I'm using qmake that comes with qt 4.7.3 release on Windows.</p>\n"},{"tags":["qt","facebook","rest","httpclient"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2939,"score":1,"question_id":2332698,"title":"Qt client for Facebook","body":"<p>I would like to use <strong>Facebook</strong> API (<a href=\"http://wiki.developers.facebook.com/index.php/API\" rel=\"nofollow\">http://wiki.developers.facebook.com/index.php/API</a>)   in my <code>Qt Application</code>. </p>\n\n<p>I don't want to use <code>WebKit</code>. Is it possibile to use <code>QNetwork</code> only?</p>\n\n<p>Is there any example on how to do that?</p>\n"},{"tags":["qt","qml","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12982268,"title":"dynamically change label text QML","body":"<p>This is the silliest thing to do in any language but I'm stuck on how to do it in QML.</p>\n\n<p>How to change the text value of a Label in QML? What am I missing..</p>\n\n<p>My code is the following:</p>\n\n<pre><code>Container {\n  objectName: \"formContainer\"\n  id: formContainer\n\n  property alias text1: labelTest.text\n\n  onCreationCompleted: {\n      Qt.labelTest = labelTest;\n      Qt.text1 = formContainer.text1;\n  }\n\n  Label {\n      id: labelTest\n      text: \"test\"\n  }\n\n  TextField {\n      id: textFieldPass\n      onFocusedChanged: {\n             if (focused) {\n                     Qt.myFunction();\n             }\n      }\n   }\n\n    function myFunction(){\n       //Enter successfuly to the function\n       console.log(\"Qt.labelTest.text:\" + Qt.labelTest.text);  //Output: undefined\n       Qt.labelTest.text = \"Y U NO change!\";  //Does nothing\n       Qt.text1 = \"Y U NO change!\";           //Does nothing  \n    }\n }\n</code></pre>\n\n<p>I'm not sure why is not working. Even with an alias property the text refuses to change.\nI will appreciate any help.</p>\n\n<p>Thanks and regards.</p>\n"},{"tags":["c++","qt","uniqueidentifier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12986042,"title":"What is a unique, constant system identifier?","body":"<p>I'm planning on using Qt to create an administration application for a website, because I'm tired of all the garbage 'responsive' cancer content being puked onto the market.</p>\n\n<p>It is imperative that this application not be able to be compromised.  For example, if it is leaked, and someone has an administrator user/pass, it will be useless.  I already have a web-sided backend in development so there won't be any sensitive data like mysql user/pass stored in this application. Is there something like a hardware ID that I can use within this application for extra identification purposes? Of course, there will always be a database stored on a server with the admins unique IDs in them should the program be 'cracked' and other ids added.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12928392,"title":"How can I call the \"pushButton\" in main.cpp?","body":"<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    QObject::connect(pushButton, SIGNAL(clicked()),\n            &amp;a, SLOT(quit()));\n\n    return a.exec();\n}\n</code></pre>\n\n<p>All the codes are given above. In a general Qt GUI program, I put a pushButton on the UI Form and tried to use it in main.cpp. But below error was given:</p>\n\n<pre><code>main.cpp:10: Error:'pushButton' was not declared in this scope\n</code></pre>\n\n<p>Could you please give me a solution? How can I call it in main.cpp?\nThanks!</p>\n\n<p><em><strong>Complement1</em></strong>:</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QObject::connect(ui-&gt;pushButton, SIGNAL(clicked()),\n            QCoreApplication::instance(), SLOT(close()));\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>If I do it this way, then the program can run but cannot close the whole application. I guess that is because the QCoreApplication::instance() returns null due to in the constructor phase the QApplication doesn't exist, right?</p>\n\n<p><em><strong>Complement2</em></strong>:</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>void MainWindow::on_pushButton_clicked()\n{\n    close();\n}\n</code></pre>\n\n<p>One solution is to add new slot of the pushButton in mainwindow.cpp, like above.\nBut still I hope to know how to do it my way (main part of this post)?</p>\n\n<p><em><strong>Complement3:</em></strong></p>\n\n<p>Alberto's code works fine by using <strong>QWidget</strong> as below way.</p>\n\n<pre><code>ui-&gt;setupUi(this);\nconnect(ui-&gt;pushButton,SIGNAL(clicked()),this,SLOT(close()));\n</code></pre>\n"},{"tags":["multithreading","qt","crash","mutex","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12976907,"title":"QThread crashes the program?","body":"<p>I implement QThread like this, but get program crashed when it runs.<br>\nI've searched and seen posts saying <strong>it is not the correct way to use QThread.</strong><br>\nBut I cannot find any reason for the crashes of my program, what I do is only \ntriggering 'on_Create_triggered()' and I guarantee the mutex is locked and unlocked properly.<br>\nI have tested the program for two days(testing only by 'std::cerr &lt;&lt; ...;' prints results), but still cannot find reason. <code>What I guess is that the thread may wait for the lock too long and cause program to crash.</code>  <em>(not sounds reasonable...)</em> :)  </p>\n\n<p><strong>My codes:</strong></p>\n\n<p>Background.h</p>\n\n<pre><code>class Background : public QThread\n{\n    Q_OBJECT\n\npublic:\n    Background(int&amp; val,DEVMAP&amp; map, QQueue&lt;LogInfoItem*&gt;&amp; queue, QList&lt;DEV*&gt;&amp; devlist, QList&lt;IconLabel*&gt;&amp; icllist,QMutex&amp; m)\n        :val_i(val),DevMap(map), LogInfoQueue(queue), DevInfoList(devlist), IconLabelList(icllist),mutex(m)\n    {}\n\n     ~Background();\n\nprotected:\n    void run(void);\n\n\nprivate:\n    DEVMAP&amp; DevMap;\n    QQueue&lt;LogInfoItem*&gt;&amp;LogInfoQueue;\n    QList&lt;DEV*&gt;&amp; DevInfoList;\n    QList&lt;IconLabel*&gt;&amp; IconLabelList;\n    int&amp; val_i;\n    QMutex&amp; mutex;\n\n\n\n    void rcv();\n\n\n\n};\n</code></pre>\n\n<p>Background.cpp</p>\n\n<pre><code>#include \"background.h\"\n\n\nBackground::~Background()\n{\n    LogFile-&gt;close();\n}\n\nvoid Background::run(void)\n{\n    initFile();\n\n    while(1)\n    {\n        msleep(5);\n        rcv();\n    }\n\n}\n\n\nvoid Background::rcv()\n{\n    mutex.lock();\n    ...\n    ...//access DevMap, LogInfoQueue, DevInfoList, IconLabelList and val_i;\n    ...\n    mutex.unlock();\n}\n</code></pre>\n\n<p>MainWindow:(MainWindow has Background* back as property)</p>\n\n<pre><code>void MainWindow::initThread()\n{\n    back = new Background(val_i, dev_map, logDisplayQueue, devInfoList, iconLabelList, mutex);\n    back-&gt;start();\n}\n\nvoid MainWindow::on_Create_triggered()\n{\n    mutex.lock();\n    ...\n    ...//access DevMap, LogInfoQueue, DevInfoList, IconLabelList and val_i;\n    ...\n    mutex.unlock();\n}\n</code></pre>\n"},{"tags":["c++","qt","search","browser","conditional"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":39,"score":3,"question_id":12984587,"title":"Creating conditions when something is typed into a line-edit (addressbar) on a web browser","body":"<p>I have created a simple web browser in QT. I do not want to put a separate search bar next to the address bar. I want to make the address bar the search bar as well. For example i want to put conditions for things that are typed in the address bar, That way if \"http://\" or \"www\" or \".com\"(or any other domain) is not present, then it will search for what was typed. The only thing i have is if those conditions are not met then what is typed in the address bar is plugged into:</p>\n\n<p><a href=\"http://www.google.com/search?q=\" rel=\"nofollow\">http://www.google.com/search?q=</a><em>what+was+typed</em></p>\n\n<p>how would i approach this and how would i make it put the \"+\" between each word, if there is more than one word?</p>\n\n<p>Also how would I apply the conditions in the search bar. Maybe using a loop like an \"if else\"?</p>\n"},{"tags":["c++","qt","short","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12981511,"title":"Qmake giving me error","body":"<p>I'm trying to convert a <code>string</code> into a <code>short</code> int  by using:</p>\n\n<pre><code>short tempS = QString(\"%1\").arg(arguement);\n</code></pre>\n\n<p>where argument is a <code>QString</code>.\nhowever I'm getting the error:</p>\n\n<blockquote>\n  <p>crosses initialization of <code>short int tempS</code> </p>\n</blockquote>\n"},{"tags":["qt","linker","qmake","object-files"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12977188,"title":"QMake OBJECTS issue after clean","body":"<p>I have a precompiled object file, say myObjectFile.o.  Inside my .pro file I have a block of code like this:</p>\n\n<pre><code>mac {\n    ...\n    OBJECTS += myObjectFile.o\n}\n</code></pre>\n\n<p>This works great for linking in the object file with the rest of the project, but there is a fatal issue.  If I do a clean this object file gets deleted.  And since it's precompiled, when I try to build again I get a linking error until I copy the file back into my projects directory (I actually have a system call in my .pro file to copy the file so I just run qmake again).</p>\n\n<p>This problem is annoying and causes some issues with our continuous integration server.  Basically, I'm looking for a way I can link precompiled object files into my code.</p>\n"},{"tags":["qt","virtual","destructor","qmainwindow"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12977217,"title":"QMainWindow destructor","body":"<p>Why the QMainWindow's destructor is not virtual? If I inherit a class MainWindow from QMainWindow and have some pointer attribute on it I can't delete the memory using MainWindow's destructor.</p>\n"},{"tags":["c++","arrays","qt","pointers"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12976675,"title":"Can I move through an array by incrementing a pointer? Qt","body":"<p>Let's say I have an array of QStrings and a QString pointer. I want to use the pointer to iterate through the entire array; could I do this?</p>\n\n<pre><code>QString * strPointer;\nQString data[100];\nstrPointer = &amp; data[0]; //address to first element\n\nstrPointer ++; //address to second element\n</code></pre>\n\n<p>Would this be valid or am I doing something wrong?</p>\n"},{"tags":["qt","endianness","qimage"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12974195,"title":"Is the endian-ness of a QImage created from a uchar[] platform-dependent?","body":"<p>QImage has a constructor QImage (uchar *data, int width, int height, int bytesPerLine, Format format) that creates a QImage from an existing memory buffer.</p>\n\n<p>Is the order of bytes (uchars) platform-dependent? If I put the values for alpha, red, green, and blue in it with increasing indices, alpha is swapped with blue and red is swapped with green. This indicates a problem with endian-ness.</p>\n\n<p>I now wonder whether the endian-ness is platform-dependent or not. The Qt documentation does not say anything about this. </p>\n\n<p>If it is NOT platform-dependent, I would just change the order of storing the values:</p>\n\n<pre><code>texture[ startIndex + 0 ] = pixelColor.blue();\ntexture[ startIndex + 1 ] = pixelColor.green();\ntexture[ startIndex + 2 ] = pixelColor.red();\ntexture[ startIndex + 3 ] = pixelColor.alpha();\n</code></pre>\n\n<p>If it <em>is</em> platform-dependent, I would create an array of uint32, store values computed as alpha &lt;&lt; 24 | red &lt;&lt; 16 | green &lt;&lt; 8 | blue, and reinterpret_cast the array before passing it to the QImage() constructor.</p>\n\n<p>Best regards,</p>\n\n<p>Jens</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":1285,"score":3,"question_id":3596258,"title":"Newbie problem with QT C++ - Qimage dont work?","body":"<p>I am trying to do console application to read pixels from image:</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QtGui/QImage&gt;\n\n#include &lt;iostream&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    QImage *img = new QImage(\"adadad.jpg\");\n\n    //std::cout &lt;&lt; \"Type filename:\" &lt;&lt; std::endl;\n    img-&gt;isNull();\n    return a.exec();\n}\n</code></pre>\n\n<p>That doesn't work I got: <strong>(IT doesn't compile, but anyway file isn't exist yet...)</strong> </p>\n\n<pre><code>File not found: tmp/obj/debug_shared/main.o:: In function `main':\n</code></pre>\n\n<p>What is going on? Is it impossible to use Qimage with console app?!</p>\n\n<p><strong>EDIT:</strong>\n<a href=\"http://i.stack.imgur.com/jODPa.png\" rel=\"nofollow\">screen</a></p>\n"},{"tags":["qt","real-time","qthread","qtablewidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12978439,"title":"How to move function to QThread?","body":"<p>I have a function called <code>refreshLogDisplay()</code> in my MainWindow class which does a lot of UI work.  The code in it is like this:</p>\n\n<pre><code>ui-&gt;tablewidget-&gt;setRowCount(100);\n// ...     \n</code></pre>\n\n<p>So the function deals with a lot of protected properties of MainWindow class.  But I want to move the function to another QThread.  In that QThread, I want a while loop to call the 'refreshLogDisplay' 500 times per second.  The 500 times per second <strong>is very important</strong>, and I do not want any timer to do this because timers are too slow.</p>\n\n<p>I only know how to implement a subclass inheriting QThread, which cannot access <code>ui-&gt;tablewidget</code> things.  There is a <a href=\"http://qt-project.org/doc/qt-4.8/qobject.html#moveToThread\" rel=\"nofollow\">QObject::moveToThread()</a> function, but it doesn't seem to help.</p>\n\n<p>Any good suggestions?</p>\n"},{"tags":["c++","qt","variables","public"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12975088,"title":"public variable","body":"<p>I want to make a variable that can be accessed by all classes that I have made. How do I do this? I have tried by stating in the mainwindow header file:</p>\n\n<pre><code>public:\n    extern int number;\n</code></pre>\n\n<p>And then referencing to this in other classes by saying:</p>\n\n<pre><code>MainWindow::number;\n</code></pre>\n\n<p>This gives me an error: error: storage class specified for 'number'. Can anybody say what I´m doing wrong?</p>\n"},{"tags":["c++","qt","wxwidgets"],"answer_count":12,"favorite_count":19,"up_vote_count":52,"down_vote_count":1,"view_count":22931,"score":51,"question_id":2886258,"title":"wxWidgets vs Qt","body":"<p>What is your experience with the frameworks <a href=\"http://en.wikipedia.org/wiki/WxWidgets\" rel=\"nofollow\">wxWidgets</a> and <a href=\"http://en.wikipedia.org/wiki/Qt_%28toolkit%29\" rel=\"nofollow\">Qt</a>? Which one to use and why?</p>\n"},{"tags":["qt","hide","close","minimize","maximize"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":5524,"score":2,"question_id":3211272,"title":"Qt hide minimize, maximize and close buttons","body":"<p>Do you know how to hide minimize, maximize and close buttons of title bar in Qt.</p>\n\n<p>i did it before in some other project but i could not find it now.</p>\n\n<p>could u help me?</p>\n\n<p>especially i need to hide it on QMainWindow</p>\n"},{"tags":["c++","qt","qstring","character-arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12975777,"title":"Copying the content of a character array to a QString in QT","body":"<p>I have a character pointer that in any run can have different length. For example:</p>\n\n<pre><code>char*  myChar;\n</code></pre>\n\n<p>In one run its content can be \"Hi\" and in another run it can be \"Bye\".</p>\n\n<p>I want to copy the content of <code>myChar</code> to a QString, for example if I have:</p>\n\n<pre><code>QString myString;\n</code></pre>\n\n<p>I want to copy the content of <code>myChar</code> to <code>myString</code>; how can I do that?</p>\n"},{"tags":["multithreading","qt","qthread"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":5118,"score":4,"question_id":2339736,"title":"Do I need to call QThread.exec() in my thread?","body":"<p>I am not calling exec() yet my timer and QUdpSocket work just fine.  Is exec used to wait for an event to continue?<br>   </p>\n\n<p>UPDATE: the timer was working because I had not called moveToThread(this) on the QThread which meant the QThread was actually still part of the main thread.  As for QUdpSocket well I was using the polling functions so it did not need to work with signals.</p>\n\n<p>TIP: if you need to do init stuff that requires an event loop in your QThread you can delay calling moveToThread until you dont need signals anymore, that is practical when the program is loading.  You also dont need to call it in the constructor  (you could call it inside run() for example), just copy the this QThread this pointer to a variable and make the call later/elsewhere using the pointer</p>\n"},{"tags":["c++","sql","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":365,"score":0,"question_id":6127214,"title":"QSqlRecord returned from QSqlTableModel::record() is empty","body":"<p>There are a class FilmModel inherited from QSqlTableModel and QTableView.\nI set model  </p>\n\n<pre><code>model = new FilmModel(this);\nui-&gt;filmList-&gt;setModel(model);\n</code></pre>\n\n<p>Then in QTableView slot doubleClicked(QModelIndex index) i try to get record.</p>\n\n<pre><code>QSqlRecord rr = model-&gt;record(index.row());\nqDebug() &lt;&lt; rr;\n</code></pre>\n\n<p>And i get empty values. It writes to log column names properly but every values are \"\". What am i doing wrong? Perhaps would be useful to write CREATE TABLE request here:</p>\n\n<pre><code>query.exec(\"CREATE TABLE IF NOT EXISTS films (\"\n           \"id INTEGER  NOT NULL PRIMARY KEY AUTOINCREMENT, \"\n           \"name VARCHAR, \"\n           \"year SMALLINT UNSIGNED, \"\n           \"country VARCHAR, \"\n           \"director VARCHAR, \"\n           \"actor VARCHAR, \"\n           \"type TINYINT UNSIGNED, \"\n           \"genre INT UNSIGNED, \"\n           \"score TINYINT UNSIGNED, \"\n           \"poster LONGBLOB)\");\n</code></pre>\n\n<p>RDBMS is SQLite.</p>\n"},{"tags":["qt","mime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":4396931,"title":"is there any tools can convert picture to mime string?","body":"<p>Is there any tools can covert a picture (png,jpg...) to MIME<br>\n string? </p>\n\n<p>Thanks</p>\n"},{"tags":["linux","qt","serial","qextserialport"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2876,"score":2,"question_id":6274887,"title":"QT: How to write on serial port using Qextserialport","body":"<p>I am using Ubunt 10.10</p>\n\n<p>I want to communicate with a microcontroller (ATmega328p) using serial through QT, so for testing I have created a dummy application on the microcontroller that reads character from the UART and responds on the serial port (replies) with the same character but in between brackets.</p>\n\n<p>If PC send: a   , then PC receives reply [a]</p>\n\n<p>The application is working great, when I am using hyper terminal (GtkTerm) to send the characters from PC, but when I use QT it does not work. I am sending from QT a character on the serial port, and I am waiting to receive a reply on the hyper terminal, but I do not get any reply.</p>\n\n<p>Serial Communication properties: Baud9600, Parity_none, Stop_bits_1, Data_8bits, Flow_control_Off</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;qextserialport.h&gt;\n\nint main(int argc, char *argv[])\n{\n   QCoreApplication a(argc, argv);\n\n   const char data[]= \"e\";\n   QextSerialPort * port = new QextSerialPort(\"/dev/ttyUSB0\");\n\n   port-&gt;setBaudRate(BAUD9600);\n   port-&gt;setFlowControl(FLOW_OFF);\n   port-&gt;setParity(PAR_NONE);\n   port-&gt;setDataBits(DATA_8);\n   port-&gt;setStopBits(STOP_1);\n   port-&gt;setTimeout(0);\n   bool res = false;\n   res = port-&gt;open(QIODevice::ReadWrite | QIODevice::Unbuffered);\n\n   if(res)\n   {\n       qDebug(\"Opened\");\n       qDebug(data);\n       int i = port-&gt;write(data, sizeof(data));\n   }\n   else\n   {\n       qDebug(\"Failed to connect\");\n   }\n\n   return a.exec();\n}\n</code></pre>\n\n<p>Any idea what is wrong? Thanks a lot</p>\n"},{"tags":["file","qt","folders","trash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12972128,"title":"How to remove files and folders to trash? (qt)","body":"<p>I am intresting in it for Windows, Mac OS and Linux.</p>\n"},{"tags":["c++","qt","user-interface","qt4","qt4.7"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":12202946,"title":"Manipulating a QGradient to follow a path","body":"<p>I am using Qt to draw something that looks like a pipe which can curve and arc using a QPainterPath.  I use a QLinearGradient to fill the pipe in order to give it a three dimensional look.  What I can't figure out is how to curve/arc the pipe and have the gradient <em>follow</em> those same curves so that the 3D effect remains.  Any thoughts?</p>\n\n<p>In other words, the color stops on the QGradient need to rotate along with the curves in the path.</p>\n"},{"tags":["qt","model","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12969509,"title":"What's the right way to remove multiple indices for a QStandardItemModel?","body":"<p>I was trying to remove all selected indices of a QTableView, </p>\n\n<p>Now I use:</p>\n\n<pre><code>foreach (const QModelIndex &amp; idx, model-&gt;selectionModel()-&gt;selectedIndexes())\n{\n    model-&gt;removeRow (idx.row()); // Obviously bug\n}\n</code></pre>\n\n<p>There's a obvious problem that once you remove the row, the row id is invalidated, w</p>\n\n<p>As there's no function that takes directly the index (or does the index act like a iterator that will get invalidated when data changed?), I don't know what to do.</p>\n"},{"tags":["qt","taglib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12887801,"title":"Taglib 1.8 on windows 7 is not working properly like windows XP","body":"<p>I compiled taglib 1.8 using Mingw succesfully, then i integrated it into a Qt project.\nThe purpuse is to remove ID3 Tag from mp3 files.</p>\n\n<p>This code :</p>\n\n<pre><code>void MainWindow::removeTagFromFile(QByteArray &amp;fileContent)\n{\n    TagLib::ByteVector byteVector(fileContent.constData());\n    TagLib::ID3v2::FrameFactory *frame = TagLib::ID3v2::FrameFactory::instance();\n    TagLib::IOStream *vectorStream = new TagLib::ByteVectorStream(byteVector);\n    TagLib::MPEG::File file(vectorStream, frame);\n    file.strip();\n    file.save();\n}\n</code></pre>\n\n<p>Compile and works fine on XP.\nCompile and doesn't work as expected on Windows 7.\nTaking the \".exe compiled on XP\" to seven do not solve the problem.</p>\n\n<p>is it weird ? i'm afraid that this is a bug in Taglib, does it make sense ?\nAny idea or an explanation is welcome,\nThanks in advance.</p>\n\n<p>You can download the project <a href=\"https://docs.google.com/open?id=0B4oIPD6jAmQOS3ZhMXdNenRoWGM\" rel=\"nofollow\">here</a></p>\n\n<p>I'm writing a tutorial in french about details of compilation and integration into a Qt project, i'll write one in english if there is interested people. </p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":646,"score":0,"question_id":1260253,"title":"How do I put an QImage with transparency onto the clipboard for another application to use?","body":"<p>I have a QImage that I would like to put on the clipboard, which I can do just fine.  However the transparency is lost when that data is pasted into a non-Qt application.  The transparent part just comes out as black.  I tried saving the data as a transparent PNG but nothing is usable on the clipboard.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>QImage mergedImage = mergeSelectedItems(scene-&gt;items());\n\nQMimeData* mimeData = new QMimeData();\n\nQByteArray data;\nQBuffer buffer(&amp;data);\nbuffer.open(QIODevice::WriteOnly);\nmergedImage.save(&amp;buffer, \"PNG\");\nbuffer.close();\nmimeData-&gt;setData(\"image/png\", data);\n\nclipboard-&gt;setMimeData( mimeData );\n</code></pre>\n"},{"tags":["osx","qt","gcc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12969611,"title":"install gcc on MAC 10.7.4","body":"<p>I am trying to install <code>QtCreator</code> on my <code>MacProbook (10.7.4)</code>. QtCreator needs <code>gcc</code>.\nCan any one suggest how to install <code>gcc</code> on <code>Mac 10.7.4</code></p>\n"},{"tags":["qt","signals-slots","qthread","qnetworkaccessmanager"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12956396,"title":"error in Qt:' Not such Slot ' when Using Qnetwork access manager with threads","body":"<p>I am in troubled situation on using QNetworkAccessManager in QThread. \nThe same functions working fine without using threads.\nI am currently using only one thread and I need to add few more also.</p>\n\n<p>It fires error message : \"Object::connect: No such slot QThread::replyFinished(QNetworkrReply*)\"</p>\n\n<p>The header file code (NewThread.h ) is:</p>\n\n<pre><code>class NewThread: public QThread\n{\n    public slots:\n         void replyFinished(QNetworkReply* reply);\n\n    protected:\n         void run();\n\n    private: \n\n\n};\n\nThe source code file(NewThread.cpp ):\n\nvoid NewThread::replyFinished(QNetworkReply *net_reply)\n{\n    QByteArray data = net_reply-&gt;readAll();\n    QString str(data);    \n}\n\n\nvoid NewThread::run()\n{\n\nQNetworkAccessManager *manager;\n        manager = new QNetworkAccessManager ();\n        QNetworkRequest req;\n        req.setUrl(QUrl(\"My url\"));\n\n        QByteArray postData;\n\n        postData.append(\"some data string\");\n\n\n        req.setHeader(QNetworkRequest::ContentTypeHeader, \"application/x-www-form-urlencoded\");\n\n        manager-&gt;setCookieJar(new QNetworkCookieJar(manager));\n        //Define the Request-url:\n        connect (manager, SIGNAL(finished(QNetworkReply *)), this, SLOT(replyFinish (QNetworkReply  *)));\n        //Send the request:\n        manager-&gt;post(req, postData);\n}\n\nvoid NewThread::replyFinish(QNetworkReply *reply)\n{\n     QString answer = QString::fromUtf8(reply-&gt;readAll());\n     qDebug () &lt;&lt; answer;\n}\n</code></pre>\n\n<p>I am creating an object of NewThread class in another class, like below:</p>\n\n<pre><code>NewThread thread1;\nthread1.start();\n</code></pre>\n\n<p>I am wondering why the same code working without threads and not with threads.\nI am in hard situation, any help appreciated.</p>\n"},{"tags":["qt","dll","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12959167,"title":"QT: ssl https craches my dll, throws IniterrorSystem.DllNotFoundException","body":"<p>I've created a simple dll in qt which starts up a new thread and handles different network request with the QNetworkAccessManager. Working with ordinary HTTP requests works fine but I've gotten some problems when trying to start using HTTPS instead. </p>\n\n<p>I've installed openssl and configured qt to use it with:\n-openssl -I C:\\OpenSSL\\include -L C:\\OpenSSL\\lib</p>\n\n<p>I can compile the dll but when I try to access the dll from my application I get a IniterrorSystem.DllNotFoundException.\nThis error appears as soon as I try to use the QSslSocket class, for example I'm just trying to initiate a variable.</p>\n\n<p>QSslSocket socket;\nWith this initiation the dll crashes with the above error. </p>\n\n<p>//QSslSocket socket;\nremoving the init will let the dll continue but the https request doesn't work and I don't get any error message from the QNetworkAccessManager. I tried connecting to the sslError signal but that never happens as well.</p>\n\n<p>I've put the dlls \"libeay32.dll\", \"libssl32.dll\" &amp; \"ssleay32.dll\" in the same folder as my dll and have OpenSSL successfully installed.</p>\n\n<p>Anyone have any Idea what I'm missing?</p>\n"},{"tags":["c++","html","qt","qwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":8968936,"title":"Crash after QWebFrame::setHtml","body":"<p>I'm trying to set html content dynamically to document node in the main thread.</p>\n\n<pre><code>                QWebElement dynamicContent = ui-&gt;webView-&gt;page()-&gt;mainFrame()-&gt;documentElement().findFirst(\"div#dynamicContent\");\n                if (QWebFrame *frame = dynamicContent.webFrame())\n                {\n                    param = \"&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\";\n                    frame-&gt;setHtml(param);\n                }\n</code></pre>\n\n<p>These lines are executed normally, but after that i get read access violation with call stack</p>\n\n<pre><code>0   QWebPluginDatabase::searchPaths QtWebKitd4      0x1009deca  \n1   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749451  \n2   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749434  \n3   QWebPluginDatabase::searchPaths QtWebKitd4      0x10749347  \n4   QWebPluginDatabase::searchPaths QtWebKitd4      0x10748469  \n5   QWebPluginDatabase::searchPaths QtWebKitd4      0x1074856f  \n6   QWebPluginDatabase::searchPaths QtWebKitd4      0x107100d6  \n7   QWebPluginDatabase::searchPaths QtWebKitd4      0x107244ce  \n8   QWebPluginDatabase::searchPaths QtWebKitd4      0x1074cd58  \n9   QWebPluginDatabase::searchPaths QtWebKitd4      0x109f9462  \n10  QWebPluginDatabase::searchPaths QtWebKitd4      0x109fa78e  \n11  QWebPluginDatabase::searchPaths QtWebKitd4      0x10725e17  \n12  QWebPluginDatabase::searchPaths QtWebKitd4      0x10725b25  \n13  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074c180  \n14  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074cf2e  \n15  QWebPluginDatabase::searchPaths QtWebKitd4      0x109f9462  \n16  QWebPluginDatabase::searchPaths QtWebKitd4      0x109fcdb2  \n17  QWebPluginDatabase::searchPaths QtWebKitd4      0x1074ca2e  \n18  QWebPluginDatabase::searchPaths QtWebKitd4      0x10721800  \n19  QWebPluginDatabase::searchPaths QtWebKitd4      0x10721383  \n20  QWebPluginDatabase::searchPaths QtWebKitd4      0x107253c3  \n21  QWebPluginDatabase::searchPaths QtWebKitd4      0x10720293  \n22  QWebPluginDatabase::searchPaths QtWebKitd4      0x10750cba  \n23  QWebPluginDatabase::searchPaths QtWebKitd4      0x10751ab9  \n24  QWebPluginDatabase::searchPaths QtWebKitd4      0x108639e4  \n25  QWebPluginDatabase::searchPaths QtWebKitd4      0x10863916  \n26  QWebPluginDatabase::searchPaths QtWebKitd4      0x109ecb72  \n27  QTemporaryFile::tr  QtCored4        0x671ec7fa  \n28  QPictureIO::init    QtGuid4     0x65071a2e  \n29  QPictureIO::init    QtGuid4     0x6506f6aa  \n30  QTemporaryFile::tr  QtCored4        0x671ceb81  \n31  QTemporaryFile::tr  QtCored4        0x671d3d29  \n32  QTemporaryFile::tr  QtCored4        0x67214812  \n33  QPictureIO::init    QtGuid4     0x65071a2e  \n34  QPictureIO::init    QtGuid4     0x6506f6aa  \n35  QTemporaryFile::tr  QtCored4        0x671ceb81  \n36  QTemporaryFile::tr  QtCored4        0x671d3d29  \n37  QTemporaryFile::tr  QtCored4        0x671cfadb  \n38  QTemporaryFile::tr  QtCored4        0x672129dd  \n39  InternalCallWinProc USER32      0x74d66238  \n40  UserCallWinProcCheckWow USER32      0x74d668ea  \n41  DispatchMessageWorker   USER32      0x74d67d31  \n42  DispatchMessageW    USER32      0x74d67dfa  \n43  QTemporaryFile::tr  QtCored4        0x672139f6  \n44  QPictureIO::init    QtGuid4     0x6512c4ce  \n45  QTemporaryFile::tr  QtCored4        0x671cc68e  \n46  QTemporaryFile::tr  QtCored4        0x671cc7c0  \n47  QTemporaryFile::tr  QtCored4        0x671cf0fd  \n48  QPictureIO::init    QtGuid4     0x6506f398  \n49  main    main.cpp    28  0x401ec9    \n</code></pre>\n\n<p>Any googling or stackoverflowing of problem did not succeed. Had anyone else the same issue? What is the proper usage of QWebFrame::setHtml?</p>\n\n<p>Thank you</p>\n\n<p>[Solved] This issue happens while calling QWebFrame::setHtml not from main thread.</p>\n"},{"tags":["qt","lgpl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12968854,"title":"Does one need to provide Visual Studio if he creates application using Qt under LGPL?","body":"<p>There's this paragraph in Section 6 of LGPL:</p>\n\n<blockquote>\n  <p>For an executable, the required form of the \"work that uses the\n  Library\" must include any data and utility programs needed for\n  reproducing the executable from it.  However, as a special exception,\n  the materials to be distributed need not include anything that is\n  normally distributed (in either source or binary form) with the major\n  components (compiler, kernel, and so on) of the operating system on\n  which the executable runs, unless that component itself accompanies\n  the executable.</p>\n</blockquote>\n\n<p>If I am using Visual Studio to create Qt applications, does that mean I need to provide Visual Studio upon a user request, to create those Qt DLLs?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12963328,"title":"QT QNetworkAccessManager and Signals","body":"<p>I have a class (RequestHandler) that I call from my main Application class to call various web services. Once a service has completed the class sends a Signal back to the calling class to say that it has finished(possibly with QString message). I have the Signal working in a test method but the QNetworkAccessManager is not working at all. I am quite new to QT and C++. Thanks for your help.</p>\n\n<p>// RequestHandler.h</p>\n\n<pre><code>#ifndef REQUESTHANDLER_H_\n#define REQUESTHANDLER_H_\n\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QUrl&gt;\n#include &lt;QNetworkRequest&gt;\n#include &lt;QNetworkReply&gt;\n#include &lt;QOBJECT&gt;\n#include \"MainAppClass.hpp\"\n\nclass RequestHandler : public QObject\n{\n    Q_OBJECT\n\npublic:\n    explicit RequestHandler(QObject *parent = 0);\n    void validateRegistration(QString reg);\n    void onStatusUpdateCompleted();\n    void sayHi();\n\nsignals:\n    void sendSignal(QString txt);\nprivate:\n    QNetworkAccessManager* manager;\n    QObject* thisObj;\n\npublic slots:\n    void onRequestCompleted();\n};\n\n#endif /* REQUESTHANDLER_H_ */\n</code></pre>\n\n<p>RequestHandler.cpp</p>\n\n<pre><code>#include \"RequestHandler.h\"\n\nRequestHandler::RequestHandler(QObject *parent) : QObject(parent)\n{\n    thisObj= parent;\n}\nvoid RequestHandler::validateRegistration(QString reg) {\n    QNetworkRequest request;\n    request.setUrl(QUrl(\"the_registration_url\"));\n    manager = new QNetworkAccessManager();\n    QNetworkReply *reply = manager-&gt;get(request);\n    connect(reply, SIGNAL(finished()), this, SLOT(onRequestCompleted()));\n}\nvoid RequestHandler::onRequestCompleted() {\n    // not getting here at all\n}\nvoid RequestHandler::sayHi()\n{\n    // this is working\n    QObject::connect(this, SIGNAL(sendSignal(QString)), thisCellCast,   SLOT(recieveValue(QString)));\n    emit sendSignal(\"HERES THE SIGNAL\");\n}\n</code></pre>\n\n<p>I am calling this class like this:</p>\n\n<pre><code>// test slots and reg\n    RequestHandler rh(this);\n//working\n    rh.sayHi();\n// not working\n    rh.validateRegistration(\"test\");\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["qt","centering","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12966137,"title":"QGraphicsView->centerOn() doesn't work","body":"<p>I can't figure out how to make centerOn() to move viewport around the item (or the item around the port, not sure which way it is). </p>\n\n<p>The following code does work in main:</p>\n\n<pre><code>view.setDragMode(QGraphicsView::ScrollHandDrag);\nview.setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\nview.setFrameStyle(QFrame::NoFrame);\nview.showFullScreen();\n\nQGraphicsPixmapItem *pmItem = new QGraphicsPixmapItem(pixMap);\nscene.addItem(pmItem);\n\nview.centerOn(QPointF(50,30));\nview.show();\nrc = qA.exec(); \n</code></pre>\n\n<p>However, the centerOn() does nothing when I am trying to do the same from a paintEvent() of an overloaded QGraphicsView:</p>\n\n<pre><code>class MyView :: public QGraphicsView { ... }\n\nvoid MyView::init(){\n    ...\n    setDragMode(QGraphicsView::ScrollHandDrag);\n    setFrameStyle(QFrame::NoFrame);\n    setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n    setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n\n    _scene.clear();\n    setScene(&amp;_scene);\n\n    super::showNormal();\n\n}\n\n\nvoid MyView::paintEvent(QPaintEvent *aEvent){\n    _scene.clear();\n    QGraphicsPixmapItem *pmItem = new QGraphicsPixmapItem(pixMap);\n    _scene.addItem(pmItem);\n    centerOn(QPointF(50.0, 30.0));\n\n    super::paintEvent(aEvent);\n}\n</code></pre>\n\n<p>What do I miss?\nThank you</p>\n\n<p>Alex</p>\n"},{"tags":["multithreading","performance","qt","timer","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12924960,"title":"Timer makes UI unresponsive?","body":"<p>I use a timer to emit a signal and call a slot function which updates the UI according to new data.</p>\n\n<p>I've calculated the time to run that function as being quite short. When the timer is set to 1000ms, the UI responds quite slow. </p>\n\n<p>I tried to move that functionality to a thread but I'm finding it difficult since a lot of the functionality needs to access the UI class's protected values.</p>\n\n<p>I'm going to try moving the timer to another thread and leave the update functionality in the UI class (main window) but I don't know if it will help.</p>\n\n<p>Why is the timer causing the UI to be slow and unresponsive? Will a thread be lighter and consume less CPU time? How can I fix this?</p>\n\n<pre><code>    initTimer()\n    {\n        refreshTimer = new QTimer(this);\n        connect(refreshTimer, SIGNAL(timeout()), this, SLOT(refreshDisplay));\n        refreshTimer-&gt;start(1000);\n    }\n</code></pre>\n\n<p>refresh slot function called every 1000ms:</p>\n\n<pre><code>    void refreshDisplay()\n    {\n        ui-&gt;tableWidget-&gt;setUpdatesEnabled(false);\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n            LogInfoItem* logItem = (LogInfoItem*)logDisplayQueue.at(queue_i);\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n\n\n            ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logItem-&gt;time);//time\n            ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logItem-&gt;name);//name\n            ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITS_str);//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        }\n\n        ui-&gt;tableWidget-&gt;setUpdatesEnabled(true);\n\n        Q_FOREACH(Page* p, PageInfoList)\n        {\n            p-&gt;refresh();\n        }\n\n        Q_FOREACH(IconLabel* icl, iconLabelList)\n        {\n            icl-&gt;refresh();\n        }\n    }\n</code></pre>\n\n<p>What 'refresh()' does is just changing icons and texts in the ui according to the data inside.   Besides, i've made the data static, but still cannot fix it.\n    (I've tested the function, almost no time consuming...)</p>\n"},{"tags":["qt","gui","animation","widget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12966105,"title":"QT Proxy Widgets Animation","body":"<p>I'm creating a game using QGraphicsScene / QGraphicsView framework. I want to make each small object its own widget so that I can handle animations within each object while concurrently moving that object around. IE: I have a monster that has wings which are constantly flying etc...</p>\n\n<p>Right now each monster is a widget which has an animated event to switch between images to animate it and is run on a timer. I'm using QGraphicsProxyWidget to animate this. </p>\n\n<p>Is this a best practice? I only have 4 of the characters on the screen, but even now they are not animating smoothly and one will periodically stop. What would be a better way to accomplish what I'm trying to do?</p>\n"},{"tags":["c++","qt","ubuntu","directory","qdir"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12965919,"title":"QDir::SetSorting Doesn't work on Ubuntu","body":"<p>I have a problem with QDir, I have this folder with lots of images, and I need to iterate through them but, they have to be sorted, so, I'm using <code>setSorting(QDir::Name)</code> however, It doesn't work on <strong>Ubuntu</strong>. When I iterate it with QDirIterator it selects pictures in given folder randomly. The weird thing is I use the same exact code on Windows (minGW or MSVC) and It works perfectly. </p>\n\n<pre><code>someClass::someClass(QDir dir) {\n     m_dir = dir;\n     m_directory.setSorting(QDir::Name);\n     QStringList filter;\n     filter &lt;&lt; QString(\"*.\") + format &lt;&lt; QString(\"*.\") + \"jpg\";\n     m_dir.setNameFilters(filter);\n}\nsomeClass::iterateDir() {\n     QDirIterator it(m_dir);\n     while(it.hasNext()) {\n         it.next();\n         qDebug() &lt;&lt; it.fileName();\n\n         //analayze the picture here\n     }\n}\n</code></pre>\n\n<p>here it.fileName() should print (0.jpeg, 1.jpeg .... 3000.jpeg) but instead it prints (2342.jpg, 1286.jpg, 684.jpg ... 712.jpg) I tried to use other sortFlags (QDir::Size, QDir::LocaleAware) but none of them works on Ubuntu. \nIs there something I'm missing? \nThank you for your time.</p>\n"},{"tags":["c++","windows","linux","performance","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":233,"score":9,"question_id":12878980,"title":"Speed performance of a Qt program: Windows vs Linux","body":"<p>I've already posted this question <a href=\"http://qt-project.org/forums/viewthread/21092/\" rel=\"nofollow\">here</a>, but since it's maybe not that Qt-specific, I thought I might try my chance here as well. I hope it's not inappropriate to do that (just tell me if it is).</p>\n\n<p>I’ve developed a small scientific program that performs some mathematical computations. I’ve tried to optimize it so that it’s as fast as possible. Now I’m almost done deploying it for Windows, Mac and Linux users. But I have not been able to test it on many different computers yet.</p>\n\n<p>Here’s what troubles me: To deploy for Windows, I’ve used a laptop which has both Windows 7 and Ubuntu 12.04 installed on it (dual boot). I compared the speed of the app running on these two systems, and I was shocked to observe that <strong>it’s at least twice as slow on Windows!</strong> I wouldn’t have been surprised if there were a small difference, but how can one account for such a difference?</p>\n\n<p>Here are a few precisions:</p>\n\n<ul>\n<li>The computation that I make the program do are just some brutal and stupid mathematical calculations, basically, it computes products and cosines in a loop that is called a billion times. On the other hand, the computation is multi-threaded: I launch something like 6 QThreads.</li>\n<li>The laptop has two cores @1.73Ghz. At first I thought that Windows was probably not using one of the cores, but then I looked at the processor activity, according to the small graphic, both cores are running 100%.</li>\n<li>Then I thought the C++ compiler for Windows didn’t the use the optimization options (things like -O1 -O2) that the C++ compiler for Linux automatically did (in release build), but apparently it does.</li>\n</ul>\n\n<p>I’m bothered that the app is so mush slower (2 to 4 times) on Windows, and it’s really weird. On the other hand I haven’t tried on other computers with Windows yet. Still, do you have any idea why the difference?</p>\n\n<p><strong>Additional info:</strong> some data…</p>\n\n<p>Even though Windows seems to be using the two cores, I’m thinking this might have something to do with threads management, here’s why:</p>\n\n<p>Sample Computation n°1 (this one launches 2 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 7.33s</li>\n<li>PC1-linux: 3.72s</li>\n<li>PC2-linux: 1.36s</li>\n</ul>\n\n<p>Sample Computation n°2 (this one launches 3 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 6.84s</li>\n<li>PC1-linux: 3.24s</li>\n<li>PC2-linux: 1.06s</li>\n</ul>\n\n<p>Sample Computation n°3 (this one launches 6 QThreads):</p>\n\n<ul>\n<li>PC1-windows: 8.35s</li>\n<li>PC1-linux: 2.62s</li>\n<li>PC2-linux: 0.47s</li>\n</ul>\n\n<p>where:</p>\n\n<ul>\n<li>PC1-windows = my 2 cores laptop (@1.73Ghz) with Windows 7</li>\n<li>PC1-linux = my 2 cores laptop (@1.73Ghz) with Ubuntu 12.04</li>\n<li>PC2-linux = my 8 cores laptop (@2.20Ghz) with Ubuntu 12.04</li>\n</ul>\n\n<p>(Of course, it's not shocking that PC2 is faster. What's incredible to me is the difference between PC1-windows and PC1-linux).</p>\n\n<p>Note: I've also tried running the program on a recent PC (4 or 8 cores @~3Ghz, don't remember exactly) under Mac OS, speed was comparable to PC2-linux (or slightly faster).</p>\n\n<p>EDIT: I'll answer here a few questions I was asked in the comments.</p>\n\n<ul>\n<li><p>I just installed Qt SDK on Windows, so I guess I have the latest version of everything (including MinGW?). The compiler is MinGW. Qt version is 4.8.1.</p></li>\n<li><p>I use no optimization flags because I noticed that they are automatically used when I build in release mode (with Qt Creator). It seems to me that if I write something like QMAKE_CXXFLAGS += -O1, this only has an effect in debug build.</p></li>\n<li><p>Lifetime of threads etc: this is pretty simple. When the user clicks the \"Compute\" button, 2 to 6 threads are launched simultaneously (depending on what he is computing), they are terminated when the computation ends. Nothing too fancy. Every thread just does brutal computations (except one, actually, which makes a (not so) small\"computation every 30ms, basically checking whether the error is small enough).</p></li>\n</ul>\n\n<p><strong>EDIT: latest developments and partial answers</strong></p>\n\n<p>Here are some new developments that provide answers about all this:</p>\n\n<ul>\n<li><p>I wanted to determine whether the difference in speed really had something to do with threads or not. So I modified the program so that the computation only uses 1 thread, that way we are pretty much comparing the performance on \"pure C++ code\". It turned out that now Windows was only slightly slower than Linux (something like 15%). So I guess that <strong>a small (but not unsignificant) part of the difference is intrinsic to the system, but the largest part is due to threads management</strong>.</p></li>\n<li><p>As someone (Luca Carlon, thanks for that) suggested in the comments, I tried building the application with the compiler for Microsoft Visual Studio (MSVC), instead of MinGW. And suprise, the computation (with all the threads and everything) was now \"only\" 20% to 50% slower than Linux! I think I'm going to go ahead and be content with that. I noticed that weirdly though, the \"pure C++\" computation (with only one thread) was now even slower (than with MinGW), which must account for the overall difference. So as far as I can tell, <strong>MinGW is slightly better than MSVC except that it handles threads like a moron</strong>.</p></li>\n</ul>\n\n<p>So, I’m thinking either there’s something I can do to make MinGW (ideally I’d rather use it than MSVC) handle threads better, or it just can’t. I would be amazed, how could it not be well known and documented ? Although I guess I should be careful about drawing conclusions too quickly, I’ve only compared things on one computer (for the moment).</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12963794,"title":"Draw shift when drawing on QGraphicsView","body":"<p>I have a problem.</p>\n\n<p>I have a class that inherits QGraphicsView, let's suppose it called \"g\". I reimplemented mousePressEvent method, the code of that method is:</p>\n\n<pre><code>void GraphWidget::mousePressEvent(QMouseEvent *event)\n{\n    if(event-&gt;button() == Qt::MiddleButton)\n        createNode(event-&gt;pos().x(), event-&gt;pos().y());\n\n    update();\n    QGraphicsView::mousePressEvent(event);\n}\n</code></pre>\n\n<p>The code of createNode method is:</p>\n\n<pre><code>Node *GraphWidget::createNode(qreal x, qreal y, int id)\n{\n    Node* node = new Node(this);\n    scene()-&gt;addItem(node);\n    node-&gt;setPos(x, y);\n    return node;\n}\n</code></pre>\n\n<p>I use this class \"g\" as a central widget in my mainwindow class. So it's working like QGraphicsView.</p>\n\n<p>The problem is when I press the middlebutton on the \"draw area\" - the point is created but not in the place when I clicked - the point is shifted. Why? So when I try to draw those points by pressing the middlebutton - all them are drawed on the wrong place (not under my cursor, they are drawn lefter left and above my cursor position).</p>\n\n<p>How can I fix that?</p>\n"},{"tags":["python","windows","qt","pyqt","windows-console"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":471,"score":0,"question_id":4872523,"title":"How do i hide the console window for my app?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/466203/how-can-i-hide-the-console-window-in-a-pyqt-app-running-on-windows\">How can I hide the console window in a PyQt app running on Windows?</a>  </p>\n</blockquote>\n\n\n\n<p>I've made a simple app that opens a QWebView but in addition to the app window Windows console window is opened to. </p>\n\n<p>What could be the reason for this?</p>\n\n<pre><code>import sys\nimport socket\nfrom PyQt4 import QtCore, QtGui\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtWebKit import QWebView\n\nclass AppWindow(QtGui.QWidget):\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self, parent)        \n\n        self.setGeometry(300, 300, 200, 25)  \n        self.setWindowTitle('TrayIP')\n        self.create_sys_tray()      \n\n        self.hostname = socket.gethostname()\n        self.ip = socket.gethostbyname(self.hostname)\n\n        self.label = QLabel(\"IP: \" + self.ip, self)\n        self.label.setFont(QtGui.QFont('Helvetica', 14))\n\n        self.timer = QTimer()\n        self.connect( self.timer, QtCore.SIGNAL('timeout()'), self.timerupdate)\n        self.timer.start(10000)\n\n    def timerupdate(self):\n        self.web = QWebView()\n        self.web.load( QUrl('http://xxx') )\n\n    def create_sys_tray(self):\n        self.sysTray = QtGui.QSystemTrayIcon(self)\n        self.sysTray.setIcon( QtGui.QIcon('ico.ico') )\n        self.sysTray.setVisible(True)\n        self.connect(self.sysTray, QtCore.SIGNAL(\"activated(QSystemTrayIcon::ActivationReason)\"), self.on_sys_tray_activated)\n\n        self.sysTrayMenu = QtGui.QMenu(self)\n        act = self.sysTrayMenu.addAction(\"FOO\")\n\n    def on_sys_tray_activated(self, reason):        \n        if self.isVisible ():\n            self.setVisible(False)\n        else:\n            self.setVisible(True)\n\napp = QtGui.QApplication(sys.argv)\nwindow = AppWindow()\nwindow.show()\nsys.exit(app.exec_())\n</code></pre>\n"},{"tags":["c++","qt","makefile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12961744,"title":"Copy Qt Libraries to output directory with make","body":"<p>I have a qt .pro file which looks something like this:</p>\n\n<pre><code>TEMPLATE = app\nTARGET = demoqt\nDESTDIR = ./debug\nQT += core gui\nCONFIG += debug\nDEFINES += QT_LARGEFILE_SUPPORT QT_DLL\nHEADERS += ./src/MainWindow.h\nSOURCES += ./src/MainWindow.cpp ./src/main.cpp\n</code></pre>\n\n<p>Its building successfully under windows with the following .bat:</p>\n\n<pre><code>@echo off\necho Setting up a Qt environment...\nset QTDIR=C:\\Qt\\4.8.3\nset PATH=C:\\Qt\\4.8.3\\bin;%PATH%\nset QMAKESPEC=win32-msvc2010\ncall \"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\VC\\vcvarsall.bat\" amd64\nqmake\nnmake\n</code></pre>\n\n<p>I have absolutely no experience with makefiles what so ever - I completely winged this. The problem I'm experiencing is that the necessary Qt DLL files are not getting copied to the output directory. As such, when I execute my executable file, I get errors such as <code>The program can't start because QtGuid4.dll is missing from your computer. Try reinsalling the program to fix this problem.</code></p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12960738,"title":"how to compile in 4.7.4 while mingw32-make compiles in 4.8.1","body":"<p>I've downloaded QtSDK it contains both 4.7.4 and 4.8.1. And I need to compile qwt-plugin for QtDesigner in 4.7.4 version.</p>\n\n<p>Mingw32-make compiles it in 4.8.1 while I'm running 4.7.4 console.\nHow to compile in 4.7.4? thanks in advance</p>\n"},{"tags":["qt","emacs","autocomplete","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":85,"score":4,"question_id":12942591,"title":"auto complete for Qt in emacs","body":"<p>I have become addicted to emacs and have been using it for everything. Now, I have started Qt4 . I am forced to move to the Qt Creator because of its auto complete feature which is required when writing programs in Qt because of the heavy use of pr edefined functions in it. </p>\n\n<p>But the problem is that I don't want to leave emacs. Is there any way to get a auto-complete feature close to that of Qt Creator in emacs.</p>\n\n<p>I have installed the CEDET-1.1 where I discovered the text file for c++ which contains all the commonly used c++ keywords. One way could be to add Qt class and function names in that file which gives me a pretty basic auto complete for Qt. But can I get a better auto complete?</p>\n"},{"tags":["qt","graphics","qt4","effects"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1657,"score":2,"question_id":3903223,"title":"QT4 How to blur QPixmap image?","body":"<p>QT4 How to blur QPixmap image?</p>\n\n<p>I am looking for something like one of the following: </p>\n\n<pre><code>Blur(pixmap); \npainter.Blur(); \npainter.Blur(rect);\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"},{"tags":["c++","qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12942461,"title":"QThread finished() signal is never emited","body":"<p>so i have a worker class that has 2 slots: StartWork() and StopWork(), the StartWork() one runs an infinite loop (it just reads and reads camera input non-stop) and the StopWork() method just sets a bool variable to false (so the loop inside StartWork() stops).</p>\n\n<p>according to the QThread documentation, the best way to use them now is not by sub-classing but by moving workers into the thread, so that's what i do. problem is, the started() signal from the thread gets called but the finished() signal never gets called.</p>\n\n<p>worker class slots:</p>\n\n<blockquote>\n  <p>void StartWork(){ running = true; while(running){ do work; }}</p>\n  \n  <p>void StopWork(){ running = false; }</p>\n</blockquote>\n\n<p>QThread initialization and signal/slot connection:</p>\n\n<pre><code>thread = new QThread();\nworker = new Worker();\nworker.moveToThread(thread);\n\nQObject::connect(thread, SIGNAL(started()), worker, SLOT(StartWork()));\nQObject::connect(thread, SIGNAL(finished()), worker, SLOT(StopWork()));\n</code></pre>\n\n<p>and on my QPushButton i do this:</p>\n\n<pre><code>if(pushStartStop-&gt;text().toLower() == \"start\")\n{\n    pushStartStop-&gt;setText(\"Stop\");\n    thread-&gt;start();\n}\nelse\n{\n    pushStartStop-&gt;setText(\"Start\");\n    thread-&gt;quit();\n}\n</code></pre>\n\n<p>the thread->start() works fine, and the StartWork() gets called and everything is beautiful (GUI runs with no blocks, etc).</p>\n\n<p>but thread->quit() doesn't do anything, it gets called (because the button changes text) but thats it. if i just call worker->StopWork() it works, but then i can't start it again.</p>\n\n<p>I've tried with thread->exit(); but the results are the same. Also i know sub-classing works, but it looks uglier and according to the recent Qt documentation, sub-classing is no longer optimal.</p>\n\n<p>thanks in advance.</p>\n"},{"tags":["qt","boost","qt4","icons","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12904973,"title":"Strange error with QListWidgetItem that uses QIcon","body":"<p>I am building up a QListWidget, browsing through a directory so that every \".png\" gets listed with a preview icon.</p>\n\n<p>The core of my populating loop looks like this:</p>\n\n<pre><code>new QListWidgetItem( QIcon(act_fullname), act_filename);\n</code></pre>\n\n<p>Right after the whole list is ready, the app crashes.\nThe error is many times repeated and says this:</p>\n\n<blockquote>\n  <p>On Mac OS X, you might be loading two sets of Qt binaries into the\n  same process. Check that all plugins are compiled against the right Qt\n  binaries. Export DYLD_PRINT_LIBRARIES=1 and check that only one set of\n  binaries are being loaded. QObject::moveToThread: Current thread\n  (0x103339cb0) is not the object's thread (0x10a848670). Cannot move to\n  target thread (0x103339cb0)</p>\n  \n  <p>On Mac OS X, you might be loading two sets of Qt binaries into the\n  same process. Check that all plugins are compiled against the right Qt\n  binaries. Export DYLD_PRINT_LIBRARIES=1 and check that only one set of\n  binaries are being loaded.</p>\n</blockquote>\n\n<p>Do you have any ideas?</p>\n\n<p>Thanks for your help!</p>\n\n<p>EDIT:</p>\n\n<p>If I skip the icons there is no problem. I have also tried going</p>\n\n<pre><code>QListWidgetItem *item = new QListWidgetItem(act_filename);\nui-&gt;listWidget-&gt;addItem(item);\nitem-&gt;setIcon(QIcon(act_fullname));\n</code></pre>\n\n<p>and got no difference.</p>\n\n<p>EDIT 2:</p>\n\n<p>I do not call <code>QObject::moveToThread(QThread*)</code> I don't even use threads (deliberately at least). </p>\n\n<p>Also, the errors appear to come after the loop. I have cout-ed every iteration and the end of the loop and right after my \"end loop cout msg\" I see that</p>\n\n<blockquote>\n  <p>objc[56963]: Class QCocoaColorPanelDelegate is implemented in both\n  /Users/Barnabas/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/Versions/4/QtGui\n  and\n  /Users/Barnabas/Programming/Qt/demo_OpenCV-build-desktop-Desktop_Qt_4_8_1_for_GCC__Qt_SDK__Release/demo_OpenCV.app/Contents/MacOS/../Frameworks/QtGui.framework/Versions/4/QtGui.\n  One of the two will be used. Which one is undefined.</p>\n</blockquote>\n\n<p>Here, too, I do not use QCocoaColorPanelDelegate. I don't even know what it is ... :(</p>\n\n<p>But here is my more detailed code:</p>\n\n<pre><code>boost::filesystem::path p(\"/path/to/dir\");\nif(boost::filesystem::is_directory(p))\n{\n    for(boost::filesystem::directory_iterator it(p); it!=boost::filesystem::directory_iterator(); ++it)\n    {\n        if(it-&gt;path().extension().string()==\".png\")\n        {\n            std::cout&lt;&lt; it-&gt;path() &lt;&lt;std::endl;\n            QString item_name( it-&gt;path.stem().c_str() );\n            QString screen_file( it-&gt;path.c_str() );\n            QListWidgetItem *item = new QListWidgetItem(item_name);\n            QIcon *icon = new QIcon(screen_file);\n            item-&gt;setIcon(*icon); // if I comment this one out, everything is fine.\n            ui-&gt;imageList-&gt;addItem(item);\n        }\n    }\n}\n</code></pre>\n\n<p>I have also tested it with a single .png and the image was displayed properly in the list but crash followed with the very same messages.</p>\n"},{"tags":["qt","symbian","auto-update"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12938687,"title":"Automatic update new version of symbian application","body":"<p>I have a Qt Symbian application. I didn't publish it via Nokia OVI store. I'm distributing the app in my own website. What I need to know is, If I released a new version of my app, the user should be able to automatically download the new version.</p>\n\n<p>I mean, whenever he/she launch the app, he should be informed about the release of the new version (if an update is available). And then he may have the option to install the update or skip it.</p>\n\n<p>How to achieve this....? </p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12956090,"title":"Building Qt app on mac os x for deployment","body":"<p>I am building Qt app for deployment on mac os x 10.7.2 with Qt 4.8.3. my app is 'Test.app' \nafter running otool -L Test.app it is giving path as below.</p>\n\n<pre><code>QtGui.framework/Versions/4/QtGui \nQtCore.framework/Versions/4/QtCore\n</code></pre>\n\n<p>I have copied two QtGui.framework and QtCore.framework to Test.app</p>\n\n<p>then i used following commands</p>\n\n<pre><code>install_name_tool -id @executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore\nTest.app/Contents/Frameworks/QtCore.framework/Versions/4/QtCore\n\ninstall_name_tool -id @executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui\nTest.app/Contents/Frameworks/QtGui.framework/Versions/4/QtGui.\n</code></pre>\n\n<p>then used change command like this</p>\n\n<pre><code>install_name_tool -change /Library/Frameworks/QtCore.framework/Versions/4/QtCore\n@executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore\nTest.app/Contents/MacOs/Test\n\ninstall_name_tool -change /Library/Frameworks/QtGui.framework/Versions/4/QtGui\n@executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui\nTest.app/Contents/MacOs/Test\n</code></pre>\n\n<p>After that if i will otool -L Test.app still it is giving previous path.</p>\n\n<p>is there any mistake while running commands.</p>\n"},{"tags":["visual-studio-2010","qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":12902051,"title":"QtGuid4.lib(QtGuid4.dll) LNK1112: module machine type 'X86' conflicts with target machine type 'x64'","body":"<p>I make my Qt project with Cmake and compile it in QtCreater with Visual Stuio 2010 compiler. On the old computer i had Windows 7 32 bit and it runs okay, but on the new computer i have Windows 7 64 bit and get following error message: <strong>QtGuid4.lib(QtGuid4.dll):-1: Fehler:LNK1112: module machine type 'X86' conflicts with target machine type 'x64'</strong> if I use <em>Visual C++ Compiler 10.0(x64)</em>.\nAnd if I use <em>Visual C++ Compiler 10.0(x86)</em>, then I get following message:</p>\n\n<blockquote>\n  <p>Der zum Debuggen von ausführbaren Dateien des Typs\n  'x86-windows-msvc2010-pe-   32bit' am besten geeignete Debugger-Engine\n  ist nicht verfügbar.   Es wird stattdessen der Debugger-Engine 'Gdb\n  engine' benutzt.   Details: Für ausführbare Dateien im Format\n  'x86-windows-msvc2010-pe-32bit' ist   keine ausführbare CDB Datei\n  verfügbar.</p>\n</blockquote>\n\n<p>How could I make/compile with x64-compiler?\nBest regards. Viktor.</p>\n"},{"tags":["c++","visual-studio-2010","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12957073,"title":"Qt ui file does not compile in to C++ header","body":"<p>I've created a Qt Application project in Visual Studio 2010. It contains the following files</p>\n\n<pre><code>Form Files\n  mainwindow.ui\nHeader Files\n  mainwindow.h\nSource Files\n  mainwindow.cpp\n</code></pre>\n\n<p>It also uses a generated codefile called <code>ui_mainwindow.h</code>. From what I've been able to discern, this file should be regenerated in response to changes made to the .ui file. However if I open the ui file in Designer and make a change, no change appears in the application.</p>\n\n<p>I have to go to Form -> View Code -> Save As in Qt Designer and save the ui_mainwindow.h file manually. </p>\n"},{"tags":["qt","qwidget","qevent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12954945,"title":"Qt how to know the widget, in which elements user set focus last time","body":"<p>Qt. I have a form. There is 2 widgets on it, that contains other widgets, buttons, line edits etc.\nI need: When user sets focus, clicks by mouse, or does something with first widget or elements, that it contain - I need to set variable to 0. If he do something same with second widget - variable must be set in 1.\nHow to do that?</p>\n"},{"tags":["c++","qt","user-interface","scrolling"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12956560,"title":"Disable horizontal scrolling in QScrollArea completely, not just the bars","body":"<p>In Qt, I have a QScrollArea that has some content in it that can scroll vertically but should never, ever be allowed to scroll horizontally. Even if I disable the H scrollbars from showing, a mouse that has a scroll wheel (or touch pad) that supports horizontal motion will make it move a little bit side to side.</p>\n\n<p>Now, this may partly be a layout issue... but nothing is actually off the screen.\nIt's probably a cop-out, but is there a way to just \"lock\" the scroll area from behind able to move horizontally at all?</p>\n"},{"tags":["qt","model-view"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12956681,"title":"Implementation of Qt Model/View architecture - separate the files using folders?","body":"<p>I am doing my final year project on Qt/OML mobile app project. I was required to use architecture on it and since I choose Qt, I use Model/View with delegate.</p>\n\n<p>Previously I only used three-tier architecture with ASP.NET which I separate database class files (data tier), business logic files(application tier) and presentation tier files into 3 folders.</p>\n\n<p>How about in Qt? Do I have to separate those model, view and delegate files? In the <a href=\"http://get.qt.nokia.com/developerguides/qtquicksymbian/ProgrammingQtQuick4SymbianHarmattanDevices.pdf\" rel=\"nofollow\">example here</a> I saw delegates file are being separated, while the model and view are put together in one file (main.qml).</p>\n"},{"tags":["c++","regex","qt","qregexp"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12955667,"title":"QRegExp not matching as expected","body":"<p>i would like to match all strings that contain none of these characters \"&lt;\",\">\",\"=\" with QRegExp (Qt). With the folloing regexp, this is not working:</p>\n\n<pre><code> \"^[^&gt;&lt;=]+$\"\n</code></pre>\n\n<p>why? to me it means: beginning of string, one or more characters that are not >,&lt;,= and end of string</p>\n\n<p>thanks</p>\n\n<p>EDIT</p>\n\n<p>i would like to match</p>\n\n<pre><code>BUILD\n</code></pre>\n\n<p>for instance, and i would like not to match</p>\n\n<pre><code>BU&lt;ILD\n</code></pre>\n"},{"tags":["qt","mercurial","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12954256,"title":"QtCreator: Mercurial version $$system(hg..) without full path?","body":"<p>Qt Creator 2.5.2 on Win 7: I am using this approach ( <a href=\"http://stackoverflow.com/questions/10550071/qt-automatically-adding-version-for-application\">Qt. Automatically adding version for application</a> ) to add a VERSION number for my source code in Qt Creator.</p>\n\n<p>However, since my Mercurial is installed in <code>C:\\TortoiseHg\\hg</code> , I have to specify</p>\n\n<pre><code>VERSION = $$system(C:\\TortoiseHg\\hg parents --template '{latesttag}+{latesttagdistance}')\n</code></pre>\n\n<p>This full path is not very nice, since others might have installed in different places. The location is correctly set under Qt Creator Tools -> Options -> Version Control -> Mercurial.</p>\n\n<p>Is there a chance (variable) reflecting this setting, or another workaround? Guess in order to use <code>VERSION = $$system(hg parents --template '{latesttag}+{latesttagdistance}')</code>  I have to globally add <code>C:\\TortoiseHg\\</code> to <code>PATH</code> - which I'd like to avoid for some reasons.</p>\n\n<p>So what is the best way getting rid of the absolute path?</p>\n"},{"tags":["winforms","qt"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12954015,"title":"Hosting Windows forms in Qt widget","body":"<p>I am using <code>QtControlHost</code> to integrate a windows form (created using c# object). \nBut, some events are not passed on to the hosted control properly, like the <kbd>Tab</kbd> key press. Other keys like <kbd>Enter</kbd> and normal key strokes are working just fine.</p>\n\n<p>What might cause this problem and how do I solve it?</p>\n"},{"tags":["qt","qt-creator","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12948343,"title":"Installation issue with Qt Quick Components for Desktop to use with Qt Creator","body":"<p>I have some installation issues with the Qt Quick Components for Desktop.</p>\n\n<p>Any help to resolve the issue is appreciated.</p>\n\n<p>Following are the steps I have followed</p>\n\n<ol>\n<li><p>Downloaded the tar.gz from\n<a href=\"http://qt.gitorious.org/qt-components/desktop/trees/master\" rel=\"nofollow\">http://qt.gitorious.org/qt-components/desktop/trees/master</a> Unpacked\nthe components</p></li>\n<li><p>Added path variable value to the environment variables (OS : Windows 7) C:\\QtSDK\\mingw\\bin;C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\bin</p></li>\n<li><p>Ran the following command: qmake &amp;&amp; mingw-make install This command\n    has automatically copied the compiled component files to\n    C:\\QtSDK\\Desktop\\Qt\\4.8.1\\mingw\\imports\\QtDesktop</p></li>\n</ol>\n\n<p>Now when am going to the creator. In the design tab I can see the desktop components.\nBut its giving following error\n<img src=\"http://i.stack.imgur.com/Bl5oN.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have also refered various links in to get them installed but still am facing the same issue</p>\n"},{"tags":["c++","qt"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":89,"score":0,"question_id":12952912,"title":"vector::push_back <MyClass> not work for non default constructor","body":"<p>i have a  <code>Controls</code> class that have default constructor and copy constructor and other constructor ,and an assignment operator , and i want to create array of my class using vector . When i resize my vector i get the objects initialized correctly ; but when i want to create my objects using non default constructor i get this error , </p>\n\n<blockquote>\n  <p>pure virtual method called\n      terminate called without an active exception</p>\n</blockquote>\n\n<pre><code>Controls.h\n\nclass Controls : public QObject\n{\n\nprivate:\n\n    QHBoxLayout Layout ;\n    string Controlname;\n    std::auto_ptr&lt;QLabel&gt; Label ;\n    std::auto_ptr&lt;QSlider&gt; Slider ;\n    std::auto_ptr&lt;QSpinBox&gt; Spin ;\n\npublic:\n\n    Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n    Controls(const Controls &amp;copy);\n    Controls();\n    ~Controls();\n\n    QLabel *const Get_Label()const { return Label.get() ; }\n    QSlider *const Get_Slider()const { return Slider.get() ; }\n    QSpinBox *const Get_Spin()const { return Spin.get() ; }\n    QHBoxLayout *const Get_Layout() {return &amp;Layout;}\n\n    void SetValue(const int &amp;newvalue);\n\n    Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>Controls.cpp</p>\n\n<pre><code>Controls &amp;Controls::operator= (const Controls &amp;copy)\n{\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(copy.Get_Slider()-&gt;value());\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(copy.Get_Spin()-&gt;value());\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n\n    return *this ;\n}\nControls::Controls(const Controls &amp;copy)\n{\n    *this = copy ;\n}\nControls::Controls()\n{\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(0);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(0);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n}\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n    Controlname = name ;\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(Default_value);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (name.c_str()));\n    Spin-&gt;setValue(Default_value);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n    Parent.addItem(&amp;Layout);\n\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n    Slider.get()-&gt;setValue(newvalue);\n}\nControls::~Controls()\n{\n\n}\n</code></pre>\n\n<p>main.cpp\n......\n.</p>\n\n<pre><code>   vector &lt;Controls&gt; i ;\n      i.resize(2 ); // this is work \n\n     i.push_back(Controls(layout , \"WHITE_BALANCE_RED_V\" ,12);// this is not working \n</code></pre>\n"},{"tags":["c++","qt","cassandra","thrift"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12952554,"title":"compiling libQtCassandra - thrift","body":"<p>I try to make libQtCassandra. I get this error:</p>\n\n<pre><code>Makefile:811: warning: overriding commands for target `gen-cpp/ThriftTest.cpp'\nMakefile:808: warning: ignoring old commands for target `gen-cpp/ThriftTest.cpp'\n[ 13%] Built target thrift-build\nLinking CXX shared library libQtCassandra.dylib\nUndefined symbols for architecture x86_64:\n  \"apache::thrift::TApplicationException::read(apache::thrift::protocol::TProtocol*)\", referenced from:\n      org::apache::cassandra::CassandraClient::recv_login() in Cassandra.cpp.o\n</code></pre>\n"},{"tags":["qt","qwebview","qwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12948468,"title":"QWebkit is not able to detect NPAPI plugin","body":"<p>I have developed one NPAPI based plugin and kept in under /usr/bin/mozilla/plugins directory.\nI have created one sample html page which merely embeds this npapi plugin. It is getting loaded by mozilaa, but same page when I am trying to load via QWebView , it is not detecting that.</p>\n\n<p>Please help where shall I keep my NPAPI plugin to detect it by Qt.</p>\n\n<p>I am working on Debian Linux.</p>\n"},{"tags":["qt","signals","qtreeview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12949443,"title":"QTreeView: how to be inform of the beginning/end of item expansion?","body":"<p>I have a QtreeView that is displaying file lists (using a model derived from QFileSystemModel). As the building of the file list needs a lot of time (I must read the content of each file to determine if the file is visible or not) I want to display the wait cursor during the analysis process. The wait cursor must starts when the user select an item (directory), and stays as long as all the list is not displayed.</p>\n\n<p>For this I did a lot of tries:</p>\n\n<ul>\n<li>using the expanded signal. But this signal is not related to drawing. Hence it arrves almost immediately,</li>\n<li>managing the cursor in data() function of my model. But in this case I have an horrible blinking cursor,</li>\n<li>managing the cursor by overridding the painEvent. In this case I have a small blinking, and the cursor appears lately</li>\n<li>...</li>\n</ul>\n\n<p>So, none of my \"solutions\" is perfect. Hence, do you have a way to do what I want?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["html5","qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12947996,"title":"Mouse activity not working in Html5ApplicationViewer on QT Webkit","body":"<p>Using the QtCreator Application Wizard, I created a project using the Html5 application template.</p>\n\n<p>It is supposed to show an <code>index.html</code> page.  The page works fine if I load it in Chrome.  My Qt program will render it correctly, but clicks don't work on buttons or links or scroll bars.</p>\n\n<p>My code is exactly what the wizard generated:</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n\n    QApplication app(argc, argv);\n\n    Html5ApplicationViewer viewer;\n    viewer.setOrientation(Html5ApplicationViewer::ScreenOrientationAuto);\n\n    viewer.showExpanded(); //Load the HTML Page\n    viewer.loadFile(QLatin1String(\"html/index.html\"));\n\n    return app.exec();\n}\n</code></pre>\n\n<p>Has anybody faced this problem?  I have Qt 4.7.2.</p>\n"},{"tags":["c++","performance","qt","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12948152,"title":"Fastest way of parsing XML files for specified Tags using the Qt Framework","body":"<p>As far es I know there a 4 ways of parsing XML files using C++ with Qt.</p>\n\n<pre><code>QDom\nQSax\nQXMLStreamReader\nQXMLQuery\n</code></pre>\n\n<p>I search in my file for a node with a specific attribute, if I've found it, I abort the parsing save the file name to a list and parse the next file. \nI accomplished that using QDom, but since i search up to 10k files with each about 400lines. it takes some time to parse them all.</p>\n\n<p>My question is whether anyone of you knows about the performance of this different approaches?\nOr if you have any tips to improve the performance of such a program?</p>\n\n<p>I appreciate any information!</p>\n"},{"tags":["c++","qt","qtreewidget","qtreewidgetitem"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12949965,"title":"QTreeWdiget adding child element at specific location","body":"<p>I am trying to build a tree in a way that I can insert the element where I want. This is my tree in its initial stage:</p>\n\n<pre><code>+Project\n+--Version 1.0\n+--Version 2.0\n</code></pre>\n\n<p>Now, let's suppose I made a Version 1.1 and I would like to add it at the location beetween <code>Version 1.0</code> and <code>Version 2.0</code>. Like:</p>\n\n<pre><code>+Project\n+--Version 1.0\n+--Version 1.1\n+--Version 2.0\n</code></pre>\n\n<p>I have tried to add it using insertChild ( <a href=\"http://doc.qt.digia.com/4.7-snapshot/qtreewidgetitem.html#insertChild\" rel=\"nofollow\">http://doc.qt.digia.com/4.7-snapshot/qtreewidgetitem.html#insertChild</a> ) but the item does not get created in the tree. This is the code:</p>\n\n<pre><code>void VersionGuiElements::createGuiElements(QTreeWidgetItem* projectItem, int idxAfter)\n{\n    QTreeWidgetItem* versionItem = new QTreeWidgetItem(0, QStringList(QString(\"Version \") + m_version-&gt;getVersionText())) ;\n\n    if(idxAfter == -1)\n    {\n        projectItem-&gt;addChild(versionItem);\n    }\n    else\n    {\n        projectItem-&gt;insertChild(idxAfter, versionItem);\n    }\n}\n</code></pre>\n\n<p>but nothing gets inserted in the tree... any idea what am I doing wrongly?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":12949743,"title":"How to login to a website using Qt login form? How to display the web page, say index.php in the mobile after that?","body":"<p>I need to login to a website, sending the username and pass to the server and then after successful authentication opens that specific web page.</p>\n"},{"tags":["regex","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12948523,"title":"validate strings separated by dot (.) in QT","body":"<p>Can any one suggest me how to validate strings separated by dot (.) in QT basically just like package name in java, </p>\n\n<p>My code goes like this </p>\n\n<pre><code>QRegExp rx(\"^[\\\\w]+[^\\\\.{0,1}\\\\w+$]*$\");\nrx.setCaseSensitivity(Qt::CaseInsensitive);\nreturn rx.exactMatch(package);\n</code></pre>\n\n<p>but I am getting wrong results </p>\n\n<p>Ex:</p>\n\n<pre><code> com.me.test // valid\n com.me.he. // invalid\n .com.me.he // invalid\n com..me.me // invalid\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":124,"score":-1,"question_id":12929533,"title":"std::vector do not create list of my class type","body":"<p>i want to create a <code>control panel</code> for my application using Qt library and for this i create class\n<code>Controls</code> class </p>\n\n<p><code>Controls</code> : create a slider and spin and a label and orgnize them in horizontal layout .</p>\n\n<p>but when i want to create <code>std::vector&lt;Controls&gt;</code> the program run without error but now controls is creating at all ! so why there is no controls.</p>\n\n<p>Controls.h</p>\n\n<pre><code>class Controls \n{\n\nprivate:\n\n    QHBoxLayout Layout ;\n    string Controlname;\n    std::auto_ptr&lt;QLabel&gt; Label ;\n    std::auto_ptr&lt;QSlider&gt; Slider ;\n    std::auto_ptr&lt;QSpinBox&gt; Spin ;\n\npublic:\n    Controls();\n    Controls(QLayout &amp;Parent , string name , const int &amp;Default_value);\n    Controls(const Controls &amp;copy);\n    ~Controls();\n\n    QLabel *const Get_Label()const { return Label.get() ; }\n    QSlider *const Get_Slider()const { return Slider.get() ; }\n    QSpinBox *const Get_Spin()const { return Spin.get() ; }\n    QHBoxLayout *const Get_Layout() {return &amp;Layout;}\n\n    void SetValue(const int &amp;newvalue);\n\n    Controls &amp;operator= (const Controls &amp;copy);\n\n\n};\n</code></pre>\n\n<p>Controls.cpp</p>\n\n<pre><code>Controls &amp;Controls::operator= (const Controls &amp;copy)\n{\n\nLabel = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\nSlider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\nSpin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    this-&gt;Controlname = copy.Controlname ;\n    this-&gt;Slider.get()-&gt;setValue( copy.Slider.get()-&gt;value() );\n    this-&gt;Spin.get()-&gt;setValue( copy.Spin.get()-&gt;value() );\n\n    return *this ;\n}\nControls::Controls(const Controls &amp;copy)\n{\n    this-&gt;Controlname = copy.Controlname ;\n    this-&gt;Slider.get()-&gt;setValue( copy.Slider.get()-&gt;value() );\n    this-&gt;Spin.get()-&gt;setValue( copy.Spin.get()-&gt;value() );\n\n}\nControls::Controls()\n{\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(0);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (\"unamed\"));\n    Spin-&gt;setValue(0);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n}\nControls::Controls(QLayout &amp;Parent , string name , const int &amp;Default_value)\n{\n    Controlname = name ;\n\n    Label = std::auto_ptr&lt;QLabel&gt; ( new QLabel() ) ;\n    Slider = std::auto_ptr&lt;QSlider&gt; ( new QSlider() ) ;\n    Spin = std::auto_ptr&lt;QSpinBox&gt; ( new QSpinBox() ) ;\n\n    Slider-&gt;setValue(Default_value*100);\n    Slider-&gt;setOrientation(Qt::Horizontal);\n    Label-&gt;setText(QString (name.c_str()));\n    Spin-&gt;setValue(Default_value*100);\n\n\n    Layout.addWidget(Label.get() , 0 , 0);\n    Layout.addWidget(Slider.get() , 0 , 0);\n    Layout.addWidget(Spin.get() , 0 , 0);\n\n    QObject::connect(Slider.get() , SIGNAL(valueChanged(int) ) , Spin.get() , SLOT(setValue(int)));\n    QObject::connect(Spin.get() , SIGNAL(valueChanged(int) ) , Slider.get() , SLOT(setValue(int)));\n\n    Parent.addItem(&amp;Layout);\n\n}\n\nvoid Controls::SetValue(const int &amp;newvalue)\n{\n    Slider.get()-&gt;setValue(newvalue);\n}\nControls::~Controls()\n{\n\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n\n\n    QApplication app (argc , argv );\n\n\n    QVBoxLayout layout ;\n    auto_ptr&lt;QWidget&gt; Panel = auto_ptr&lt;QWidget&gt; (new QWidget()) ;\n\n    vector&lt;Controls&gt; g ;\n    g.push_back(Controls(layout , \"WHITE_BALANCE_RED_V\" , 56 ));\n\n        Panel.get()-&gt;setLayout(&amp;layout);\n    Panel.get()-&gt;show();\n\n        return app.exec();\n\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>i remove auto_ptr destructor from ~controls , and when i run it again i get this exception</p>\n\n<pre><code>pure virtual method called\nterminate called without an active exception\n</code></pre>\n\n<ul>\n<li>i initialized sliders and spin in copy constructor</li>\n</ul>\n"},{"tags":["c++","sql","qt","qtsql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12939269,"title":"Do I need an SQL server to work with Qt's QtSql library?","body":"<p>I am a beginner with Qt, so my question might be a bit basic.</p>\n\n<p>My intention is to work with an ODBC database located in my hard drive. I have tried to open it with this code:</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\ndb.setHostName(\"\");\ndb.setDatabaseName(\"c:\\\\database.mdb\");\nbool ok = db.open();\nQSqlQuery query;\nquery.exec(\"SELECT name FROM results WHERE tag&gt;10\");\nwhile (query.next()) {\n    QString name1 = query.value(0).toString();\n    qDebug() &lt;&lt; name1;\n}\n</code></pre>\n\n<p>Now, the problem is that the program can't find the database, failing at the db.open() line. I suspect that Qt can't open a database directly, but instead has to deal with an SQL server. Is this so? If that's the case, I'd be grateful if you could give me some clues on how to go ahead, particularly regarding host name (is it localhost?).</p>\n\n<p>Also, I am not sure of whether the path to the file must be included in DatabaseName.</p>\n\n<p>PS: I have no problem shifting to a different kind of database/server, e.g. MySQL. So if your solution requires this, I'd be happy with it!</p>\n\n<p>Thanks in advance</p>\n\n<p>D</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12947444,"title":"fastest way to copy from text file and paste into QListWidget?","body":"<p>i have QListWidget that load from file strings , each string in the file converted to item in the QListWidget.<br>\nnow i need to be able copy from text numbers of line to clipbord and paste them into the QListWidget<br>\nand it will add items into the QListWidget .<br>\nhow can i do the copy / paste function is there any tutorial or example that show this kind of action ?<br>\nthanks</p>\n"},{"tags":["qt","signals","modal-dialog","slot"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12929718,"title":"Qt - two signals and modal dialog window","body":"<p>I have a <code>QDialog</code> based class.</p>\n\n<p>I have one <code>QEditLine *editLine</code> and <code>QButton *button</code>.</p>\n\n<p>I use <code>clicked()</code> signal of button. And <code>editingFinished()</code> signal of editLine.</p>\n\n<p>When I change the text in the editLine and press the button firstly <code>editingFinished()</code> signal is emitted. In the slot method I call <code>QMessageBox::question()</code>.\nAfter that I can't receive <code>clicked()</code> signal of my button.</p>\n\n<p>I tried to use <code>Qt::QueuedConnection</code> for connect method, but it does not help.</p>\n\n<p>How to solve my problem?</p>\n"},{"tags":["javascript","qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12948026,"title":"QML: How to change the colour on the image?","body":"<p>We are having a transparent image and we want the colour of that image according to the theme selected.</p>\n\n<p>Is it possible in Qt or QML ?</p>\n"},{"tags":["qt","symbian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":12946127,"title":"Dial phone number code for Qt Symbian?","body":"<p>I need Qt Symbian code to dial a phone number.</p>\n"},{"tags":["winapi","qt","gdi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":258,"score":0,"question_id":5775646,"title":"`EnumDisplaySettings` repeating same Resolution Multiple Times","body":"<p>Here goes my code</p>\n\n<pre><code>DEVMODE dm;\nint index = 0;\nwhile(0 != EnumDisplaySettings(NULL, index++, &amp;dm)){\n    qDebug() &lt;&lt; index-1 &lt;&lt; dm.dmPelsWidth &lt;&lt; dm.dmPelsHeight;\n    Resolution* resolution = new Resolution(dm.dmPelsWidth, dm.dmPelsHeight);\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>0 320 200 \n1 320 200 \n2 320 200 \n3 320 240 \n4 320 240 \n5 320 240 \n6 400 300 \n7 400 300 \n8 400 300 \n9 512 384 \n10 512 384 \n11 512 384 \n12 640 400 \n13 640 400 \n14 640 400 \n15 640 480 \n.....\n25 640 480 \n26 640 480 \n27 800 600 \n.....\n41 800 600 \n42 1024 768 \n50 1024 768 \n51 1152 864 \n....\n62 1152 864 \n63 1280 600 \n</code></pre>\n\n<p>I get only one thing in return that is <code>320x200</code> not even the <code>1600x900</code> which is my current Resolution.</p>\n"},{"tags":["qt","animation","gif"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2783,"score":0,"question_id":1505441,"title":"Animated gifs in QMovie","body":"<p>I'm displaying an animated gif in my application by creating a QLabel, and setting the movie as a QMovie.  The problem I'm having is that when the gif is displayed, any part of the image that stays a constant color throughout the animation shows up as the background color.  I hope I'm explaining that clearly.  Here's the code I'm using to create the animation if that helps:</p>\n\n<pre><code>rewardLabel=new QLabel();\nrewardLabel-&gt;setCursor(QCursor(Qt::BlankCursor));\nrewardLabel-&gt;setWindowFlags(Qt::FramelessWindowHint);\nrewardLabel-&gt;hide();\nstring movieTemp=\"animations/\"+animationFiles[animationIndex];\nQString movieFile(movieTemp.c_str());\nrewardMovie=new QMovie(movieFile);\nrewardLabel-&gt;setMovie(rewardMovie);\n</code></pre>\n\n<p>Let me know if I need to explain the situation better.  Thanks in advance.</p>\n"},{"tags":["c++","qt","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12943852,"title":"Design on Web Services in Blackberry Cascades application","body":"<p>I am (trying) to write a Cascades application that includes many calls to various Web Services. I have got this working fine in my main Application class but I would like to be able to call another class - a Services Manager class if you will - and get it to return a value to my calling Application class when the service call has been processed by the Services Manager class and has completed.</p>\n\n<p>Is this a good design? This is the route I would take in Java but I am completely new to C++ and QT.  Could I potentially use an emit and signal process to produce this functionality?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3199,"score":1,"question_id":4769424,"title":"Qt Creator Error","body":"<p>Launching debugging for a project and then,</p>\n\n<pre><code>Running build steps for project Text_Editor...\nStarting: \"c:/qt/2010.05/qt/bin/qmake.exe\" C:/Qt/2010.05/Text_Editor/Text_Editor.pro -r -spec win32-g++\nThe process \"c:/qt/2010.05/qt/bin/qmake.exe\" exited normally.\nStarting: \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" -w\nmingw32-make: Entering directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\nC:/Qt/2010.05/mingw/bin/mingw32-make -f Makefile.Debug\n\nmingw32-make[1]: Entering directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\ng++ -c -g -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I\"..\\qt\\include\\QtCore\" -I\"..\\qt\\include\\QtGui\" -I\"..\\qt\\include\" -I\"..\\qt\\include\\ActiveQt\" -I\"debug\" -I\"..\\Text_Editor\" -I\".\" -I\"..\\qt\\mkspecs\\win32-g++\" -o debug\\main.o ..\\Text_Editor\\main.cpp\n\nmingw32-make[1]: Leaving directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\nmingw32-make: Leaving directory `C:/Qt/2010.05/Text_Editor-build-desktop'\n\ng++: ..\\Text_Editor\\main.cpp: No such file or directory\n\ng++: no input files\n\nmingw32-make[1]: *** [debug/main.o] Error 1\n\nmingw32-make: *** [debug] Error 2\n\nThe process \"C:/Qt/2010.05/mingw/bin/mingw32-make.exe\" exited with code %2.\nError while building project Text_Editor (target: Desktop)\nWhen executing build step 'Make'\n</code></pre>\n\n<p>I have no clue on that. I just installed it, created a new project and got that error instantly.</p>\n"},{"tags":["qt","printing"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12943580,"title":"Qt how to print formatedtext on dot matrix printer?","body":"<p>I need to print (with Qt) formated text on dot matrix printer. Problem is that QPrinter class is generating graphic mode text only. \nHow to print formated text on dot matrix printer? Do you know any c++ lib that handle this issue?</p>\n"},{"tags":["c++","qt","gui","qtextedit","qtextcursor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12942769,"title":"How to get column number in qtextedit?","body":"<p>I can get the line number of a cursor in a QTextEdit. but can't achieve to get the column number information. (Note: I use QTextBlock while getting line number info.) Isn't there an easy way to obtain column number? What should i do? Although i read <a href=\"http://stackoverflow.com/questions/1849558/how-do-i-use-qtextblock\">here</a> and <a href=\"http://doc.qt.digia.com/stable/qtextblock.html\" rel=\"nofollow\">here</a>, QTextBlock class is still confusing me.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12942691,"title":"QPushbutton separetly QMenu","body":"<p>I have a one question. When I create a new QPushButton with QMenu and I clicked on it I have a QMenu. But I want create a button and menu separetly. When I clicked button I want default operation. When I clicked arrow I want only QMenu. How to do it? I must create second button and connect this to QMenu? Or is there another way?\nSory for English.</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12942025,"title":"Intput/Output to QLabel?","body":"<p>I would like my input from the keyboard to be sent to a QLabel. But I dont want just to put the text in it as label->setText(\"\") but instead to see every letter from the keyboard to appear immediately in the label. Any ideas? I just need someone to point me in the right direction. Thank you in advance.</p>\n"},{"tags":["python","qt","pyside"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":44,"score":4,"question_id":12533698,"title":"Using QtHostinfo.lookupHost in PySide","body":"<p>I am working on a project where I want to confirm the existence of a host on a local network. In the QtNetwork package in Qt, the <code>QHostInfo::lookupHost</code> method is a convenient way of searching for a host without needing to implement any kind of pinging or being dependent on a ping system call. Its asynchronous call makes it convenient to create a dialog waiting for the call to return with a slot in either the dialog or the main program to handle the return.</p>\n\n<h3>From Qt's Documentation for QHostInfo:</h3>\n\n<blockquote>\n  <p>To look up a host's IP addresses asynchronously, call lookupHost(), which takes the host name or IP address, a receiver object, and a slot signature as arguments and returns an ID. You can abort the lookup by calling abortHostLookup() with the lookup ID...</p>\n  \n  <p>The slot is invoked when the results are ready. The results are stored in a QHostInfo object. Call addresses() to get the list of IP addresses for the host, and hostName() to get the host name that was looked up.</p>\n</blockquote>\n\n<p><br>The documentation from PySide for <a href=\"http://www.pyside.org/docs/pyside/PySide/QtNetwork/QHostInfo.html\" rel=\"nofollow\"><code>QHostInfo</code></a> details usage of <code>lookupHost</code> but I think it might be automatically generated from the Qt documentation as by default, the method <code>lookupHost</code> is declared as a private method in the <a href=\"http://qt.gitorious.org/pyside/pyside-archive/blobs/master/PySide/QtNetwork/typesystem_network.xml\" rel=\"nofollow\">typesystem definition for QtNetwork</a>.</p>\n\n<p>Is there a particular reason that this method is declared private in the PySide implementation? Does it have to do with the asynchronous nature of the call and Python's GIL? </p>\n"},{"tags":["file","qt","make","external","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":11883783,"title":"qmake add external sources","body":"<p>I'm currently creating my first QT based project. I want to include some code from another project. This code isn't in a library and not using QT. Instead I want to add sources manually using their relative path. The first files I've added worked fine.</p>\n\n<p>Now I had to add some more files from a different subdirectory than the first ones. In QT Creator all of the files are show under source files as expected. When building my project it won't compile them. I receive the following error from make:</p>\n\n<pre><code>No rule to make target `../../../path/to/my/file/fileToCompile.c', needed by `debug/fileToCompile.o'.  Stop.\n</code></pre>\n\n<p>All other files compile fine. Any ideas on what I'm missing?</p>\n\n<pre><code>SOURCES += $${path1}file1.cpp \\\n           $${path1}file2.cpp \\\n           $${path2}file3.c \\\n           $${path2}file4.c\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["c++","osx","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12939540,"title":"Qt font renders weird on OS X","body":"<p>I just started using Qt (using Qt 5 beta 1), and I found that the fonts rendered in OS X 10.6.8 are messed up. I've tried using different fonts, but they all look like the image I've posted below (very thin, pixelated). How can I get the fonts to render correctly?</p>\n\n<p>The code I'm using is simply:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QLabel&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QLabel* label = new QLabel(\"The quick brown fox jumps over the lazy dog...\");\n    label-&gt;show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>The link to the picture is <a href=\"http://i.stack.imgur.com/F5lqg.png\" rel=\"nofollow\">http://i.stack.imgur.com/F5lqg.png</a></p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12937812,"title":"How to create different popup (context) menus for each *type* of QTreeWidgetItem","body":"<p>I was able to create a context menu for my QTreeWidget as below  </p>\n\n<pre><code>QMenu* pContextMenu = new QMenu(this)\nQTreeWidget* pTreeWidget = new QTreeWidget();\nQAction* pOpenFile = new QAction(tr(\"Open A File\"), pContextMenu);\npTreeWidget-&gt;setContextMenuPolicy(Qt::ActionsContextMenu);\npTreeWidget-&gt;addAction(pOpenFile);\n</code></pre>\n\n<p>But I want a different popup for a branch than a leaf. How do I assign a different popup depending on the type of widgetitem clicked?</p>\n\n<p>My tree:</p>\n\n<ul>\n<li>Branch1  &lt;-- Popup1\n<ul>\n<li>Leaf1</li>\n<li>Leaf2 &lt;-- Popup2</li>\n</ul></li>\n<li>Branch2\n<ul>\n<li>Branch3\n<ul>\n<li>Leaf1</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>QWidget::actions() is not listed as virtual. Else I would have derived my own class from QTreeWidget &amp; reimplemented actions().</p>\n"},{"tags":["qt","qsettings"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12938213,"title":"How might I use QSettings to load different setups","body":"<p>I have a Qt application that requires the ability to load from several settings files to behave in a distinct way. For example lets say my app can support several variations, VAR1, VAR2, VAR3, ...  One of my menu entries allows me to load settings. Currently, I do this using a QSettings object and it works fine. But now I want to implement a different variation. Instead of manually setting 20 or more settings, I would like to load from a preconfigured settings file.</p>\n\n<p>QSettings does not allow me to change source, as far as I can tell. I looked at the static method QSettings::setPath but that can only be done once prior to instantiating the QSettings object.</p>\n\n<p>My hope is to create ways to:\n  1 - Load factory defaults\n  2 - Save a user settings file with a user specified name\n  3 - Recall a user settings file by name.</p>\n\n<p>I would prefer not to have to rewrite QSettings to meet my needs if at all possible.</p>\n"},{"tags":["qt","video","metadata","phonon"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":268,"score":1,"question_id":9544699,"title":"How can I get a video meta data using Qt phonon?","body":"<p>I want to get the bitrate of a video. And I use Qt Phonon to achieve this goal.\nSince there is a class called Phonon::MediaObject and provide a method called metaData(),I use that method but the result shows zero. Here is my code, I wonder why and how can I get the metadata such as bitrate in qt with Phonon</p>\n\n<pre><code>    QString source=\"E:\\\\sh.mp4\";\n    Phonon::MediaObject media;\n    media.setCurrentSource(Phonon::MediaSource(source));\n    QMap &lt;QString, QString&gt; metaData = media.metaData();\n    int trackBitrate = metaData.value(\"bitrate\").toInt();\n    qDebug()&lt;&lt;trackBitrate;\n</code></pre>\n\n<p>The result is 0 all the time</p>\n"},{"tags":["c++","multithreading","qt","tcpserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12937930,"title":"QObject: Cannot create children for a parent that is in a different thread","body":"<p>I'm trying to implement a qtcpserver in a separate thread:</p>\n\n<pre><code>void Server::run()\n{\n    tcpserver = new QTcpServer(this);\n    connect(tcpserver, SIGNAL(newConnection()),SLOT(connection()));\n    tcpserver-&gt;listen(QHostAddress::Any, 1);\n}\n</code></pre>\n\n<p>But I'm getting this error when the application runs: </p>\n\n<pre><code>QObject: Cannot create children for a parent that is in a different thread.\n</code></pre>\n\n<p>What does this error mean and what do you do to fix it?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12757012,"title":"Override a Qt class with an embedded private class","body":"<p>In many cases, I would like to override a Qt class to extend or modify its behavior. But almost all Qt classes uses an internal private class such as QNetworkDiskCachePrivate inside QNetworkDiskCache. I know there are advantages of this approach. But there is a HUGE problem of the private class: it makes overriding the class a lot more difficult. With other C++ class library with source code, I usually override a class method, copy the code from the implementation in the parent class and make small modifications here and there to achieve the behavior I want. However, in Qt, the private class is not exported and not visible to the derived class. Since Qt classes maintains the critical internal data in the private class through the \"d\" member, the invisibility of the private internal class makes the possibility of behavior extension very limited. You can only play with the few exposed public method. </p>\n\n<p>I tried extracting the entire source files of the class and renaming the class name and file names. But the Qt class library is so much intertwined that extracting a single class out of it is messy as well in most cases. </p>\n\n<p>Do I miss something here? Or Qt classes are just really bad in terms of extendability?</p>\n"},{"tags":["c++","file","qt","directory"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":42,"score":-1,"question_id":12936737,"title":"Change directory path","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4916090/how-to-move-files-in-qt\">How to move files in Qt?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to move a directory to another path something like <code>movedir(QString src,QSring dest)</code> if <code>src=\"C:/path/to/my_DIR\"</code> and <code>dest=\"C:/path/to/dest\"</code> I get a new directory with path <code>\"C:/path/to/dest/my_DIR\"</code>, so I thought to copy manually  <code>my_Dir</code>(the hole tree) under destination folder then remove the source . Is there an easier way to do that ?</p>\n"},{"tags":["c++","qt","atomic"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12936464,"title":"Atomic read with QAtomicInt/QAtomicPointer","body":"<p>How do I read the value of a QAtomicInt or QAtomicPointer atomically in Qt4, on all supported architectures? I don't care about memory ordering here, I just want to be sure that I won't read a partially old, partially new value if another thread is concurrently changing the value.</p>\n\n<p>In Qt4, these classes only have cast operators for int or T*. There seems to be newer code (<a href=\"http://qt.gitorious.org/qt/qtbase/blobs/master/src/corelib/thread/qbasicatomic.h\" rel=\"nofollow\">http://qt.gitorious.org/qt/qtbase/blobs/master/src/corelib/thread/qbasicatomic.h</a>) which distinguishes between non-atomic load() and atomic loadAcquire(). C++11 atomics also have an atomic load() (<a href=\"http://en.cppreference.com/w/cpp/atomic/atomic/load\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/atomic/atomic/load</a>). That's why I am worried that the methods provided by Qt4 are not safe enough.</p>\n\n<p>I know fetchAndAddRelaxed(0) should work, but it looks like a hack and is probably not optimal in terms of performance.</p>\n"},{"tags":["c++","visual-studio-2010","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12732578,"title":"Using the Qt library in an existing c++ VS2010 program","body":"<p>I'm trying to get the the Qt library to work in an my existing VS2010 project. But I am pretty much stuck.</p>\n\n<p>I have succesuflly compiled the library with nmake on 64 bit and added the Qt adon for vs2010.</p>\n\n<p>But i don't no how to use it in my project, the project makes already use of the boost and the opencv librarys and these work just fine.</p>\n\n<p>I found a thread here on stackoverflow that says I need to edit the vs project file with an text editor but when I do this I cant find the global section that I need to edit.</p>\n\n<p>Can anyone help me with this problem? Thank in advance.</p>\n"},{"tags":["c++","qt","virtual-functions","overriding"],"answer_count":3,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":4770,"score":10,"question_id":2733668,"title":"QWidget keyPressEvent override","body":"<p>I'm trying for half an eternity now overriding QWidgets keyPressEvent function in QT but it just won't work. I've to say i am new to CPP, but I know ObjC and standard C.</p>\n\n<p>My problem looks like this:</p>\n\n<pre><code>class QSGameBoard : public QWidget {\nQ_OBJECT\n\npublic:\n  QSGameBoard(QWidget *p, int w, int h, QGraphicsScene *s);\n\nsignals:\n  void keyCaught(QKeyEvent *e);\n\nprotected:\n  virtual void  keyPressEvent(QKeyEvent *event);\n};\n</code></pre>\n\n<p>QSGameBoard is my QWidget subclass and i need to override the keyPressEvent and fire a SIGNAL on each event to notify some registered objects.</p>\n\n<p>My overridden keyPressEvent in QSGameBoard.cpp looks like this:</p>\n\n<pre><code>void QSGameBoard::keyPressEvent(QKeyEvent *event) {\n  printf(\"\\nkey event in board: %i\", event-&gt;key());\n  //emit keyCaught(event);\n}\n</code></pre>\n\n<p>When i change QSGameBoard:: to QWidget:: it receives the events, but i cant emit the signal because the compiler complains about the scope. And if i write it like this the function doesn't get called at all.</p>\n\n<p>What's the problem here?</p>\n"},{"tags":["qt","qt4","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12928190,"title":"In ScrollHandDrag mode of QGraphicsView, How to stop movement of QGraphicsItems on scene?","body":"<p>I have multiple QGraphicsItems in scene spread across different parts of scene. In application there are different modes in one of mode user can scroll the scene (palm drag mode). \nTo achieve scrolling over scene I <strong>set dragMode of QGraphicsView to ScrollHandDrag</strong>.</p>\n\n<p>But the problem is when user try to scroll over scene by dragging (MousePress and MouseMove) on any of QGraphicsItem instead of scrolling scene it moves QGraphicsItem.</p>\n\n<p>How <strong>can I stop movement of QGraphicsItem and scroll the scene</strong>, but I still want to select QGraphicsItems?</p>\n\n<p>Any Solution or any pointers will help.</p>\n\n<p><strong>NOTE :</strong> There are very large number of QGraphicsItems and are of various type. \nSo It is not possible to install event filter on QGraphicsItems.</p>\n"},{"tags":["c++","regex","qt","qregexp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12934639,"title":"Qt and regular expressions","body":"<p>I would like to write simple regexp with Qt QRegExp</p>\n\n<p>I want to fetch all substring of a Qstring with <code>table(i, d)</code>, without the quotes, with <code>i</code> \"hard written\" and <code>d</code> representing any integer. And then using cap, to retrieve value for <code>d</code>. I propose</p>\n\n<pre><code> qREgExp reg ( \"table(i,\\\\s*(\\\\d+)\\\\s*)\") ;\n</code></pre>\n\n<p>I cherrish the hope that then</p>\n\n<pre><code> reg.cap(2)\n</code></pre>\n\n<p>gives me the <code>d</code> in question here.</p>\n\n<p>How would you put it?</p>\n"},{"tags":["qt","qt-mobility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":560,"score":0,"question_id":6030125,"title":"How to download the qt mobility examples package in Opensuse 11.2","body":"<p>This example: <a href=\"http://doc.trolltech.com/qtmobility-1.1-tp/fetchgooglemaps.html\" rel=\"nofollow\">http://doc.trolltech.com/qtmobility-1.1-tp/fetchgooglemaps.html</a> is not present in the following \"qt-mobility-opensource-src-1.2.0\" directory: </p>\n\n<pre><code>[17:05:10 Tue May 17] ~/tarBalls/qt-mobility-opensource-src-1.2.0/examples  $ls\nannotatedurl             bttennis                   documentproperties     ndefeditor                    sfwecho\naudiodevices             calendardemo               examples.pro           notesmanagerplugin            sfw-notes\naudioinput               camera                     filemanagerplugin      publish-subscribe             slideshow\naudiooutput              connectivity               flickrdemo             qmlorganizer                  sysinfo\naudiorecorder            declarative-camera         hapticsplayer          qsystemalignedtimer           todo\nbattery-charge           declarative-connectivity   hapticsquare           querymessages                 videographicsitem\nbearercloud              declarative-location       keepintouch            quickstart                    videowidget\nbearermonitor            declarative-messages       landmarkbrowser        radio                         writemessage\nbluetoothtransferplugin  declarative-music-browser  logfilepositionsource  samplephonebook\nbtchat                   declarative-sfw-dialer     mapsdemo               sensors\nbtfiletransfer           declarative-sfw-notes      mediabrowser           servicebrowser\nbtscanner                declarative-systeminfo     mobility_examples.pri  serviceinstaller_sfw_symbian\n[17:08:20 Tue May 17] ~/tarBalls/qt-mobility-opensource-src-1.2.0/examples  $\n</code></pre>\n"},{"tags":["qt","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12931982,"title":"Qt threads - new way verification please","body":"<p>So new to Qt. Read the wiki and C++ Gui programming book and they say subclass QThread. Found that this is not the recommended way now.</p>\n\n<p>So I have some practice code here and I have some questions about if this is correct. So I would really appreciate someone having a look please.</p>\n\n<p>So I created a class with the QThread as a private member to use for the movetothread. When creating it, I made sure not to specify a parent. Therefore my first question is, is this ok to do?</p>\n\n<p>Second question comes from the m_thread->quit(); I found that my connect to finished wasn't being emitted until I did this. So is this the correct way? I read <a href=\"http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow\">http://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/</a> and saw that the connect between finished and deleteLater in the same thread but not 100% sure if this should be used with quit. </p>\n\n<p>Finally, with the talk of deleteLater, does this mean I dont need \n    delete m_thread</p>\n\n<p>Thanks for anyones time.</p>\n\n<p>Code here. Simple QDialog with a pushbutton.\n<strong>worker.cpp</strong></p>\n\n<pre><code>#include \"worker.h\"\n\nworker::worker(QObject *parent) :\n    QObject(parent)\n{\n    stopped = false;\n}\n\nvoid worker::setupAndRun()\n{\n    m_thread = new QThread();\n    connect(m_thread,SIGNAL(started()),this,SLOT(doWork()));\n    connect(m_thread,SIGNAL(finished()),this,SLOT(onComplete()));\n    connect(m_thread,SIGNAL(finished()),m_thread,SLOT(deleteLater()));\n    this-&gt;moveToThread(m_thread);\n    m_thread-&gt;start();\n}\n\nvoid worker::doWork()\n{\n\n    for(int i = 0; i &lt; 20000; i++)\n    {\n        if (this-&gt;stopped)\n            break;\n        qDebug() &lt;&lt; i &lt;&lt; \" : \" &lt;&lt;  Q_FUNC_INFO &lt;&lt; m_thread-&gt;currentThreadId();\n    }\n    // --- I think the quit calls the finished signal?\n    m_thread-&gt;quit();\n\n}\n\nvoid worker::onComplete()\n{\n    qDebug() &lt;&lt;  Q_FUNC_INFO &lt;&lt; \"Called \" &lt;&lt; m_thread-&gt;currentThreadId();\n}\n</code></pre>\n\n<p><strong>worker.h</strong></p>\n\n<pre><code>#ifndef WORKER_H\n#define WORKER_H\n\n#include &lt;QObject&gt;\n#include &lt;QDebug&gt;\n#include &lt;QThread&gt;\n\nclass worker : public QObject\n{\n    Q_OBJECT\npublic:\n    explicit worker(QObject *parent = 0);\n    void setupAndRun();\nsignals:\n\npublic slots:\n    void doWork();\n    void onComplete();\nprivate:\n    // --- The thread that I use to movetothread with.\n    // Is this ok?\n    QThread *m_thread;\n    bool stopped;\n};\n\n#endif // WORKER_H\n</code></pre>\n\n<p><strong>Dialog push button</strong></p>\n\n<pre><code>void Dialog::on_pushButton_clicked()\n{\n    m_worker = new worker();\n    m_worker-&gt;setupAndRun();\n}\n</code></pre>\n"},{"tags":["qt","keyboard","openscenegraph"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12932374,"title":"Ignore keyboard presses on Qt inside OSG","body":"<p>I’m newbie with Qt, and experiencing one problem I cannot deal with for, like, a month. The situation is like this:\nI’ve OpenSceneGraph project (which is OpenGL) and trying to make Qt interface inside the 3d scene. I think its not necessary how I deal with that, but if someone wants to know more <a href=\"http://forum.openscenegraph.org/viewtopic.php?t=11110\" rel=\"nofollow\">here</a> is thread with more info on OSG forum (though I didnt get solution there). The problem is, when any key on keyboard is clicked, Qt controls jump around the screen and dont react on any (mouse or keyboard) events anymore. The entire program continues to work, though. \nTo summarize, my question is like: <strong>is there a way to make Qt widgets ignore all keypresses?</strong> \nI’ve searched a lot, but couldnt find any working solution.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","qt4","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12932737,"title":"QtDesigner: Setting fixed size of QLabel","body":"<p>I have a fixed size label on a QtDesigner form. The label is used to display images, let's assume it's used to display thumbnails of 100x100 px. </p>\n\n<p>I can set the size of the label but when I put the label in some layout manager the labels get resized to take the whole space. Even if I do it through the Form > Layout in a Grid. The size of the labels is shrunk.</p>\n\n<p>I believe this is some corner case as labels are not often used to do such things (although they are meant to be able to display images). Is there a workaround to avoid the size of the labels changing when placed in the layout?</p>\n"},{"tags":["c++","qt","events","qt-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12931016,"title":"QT QGraphicsView Event","body":"<p>I have a class, View that incorporates my QGraphicsView but am having trouble inheriting from it. My code is as follows:</p>\n\n<pre><code>class View: public QGraphicsView {//inherits qwidget -- so we can make it full screen there\n\n    Q_OBJECT\n\n    public:\n        View(QGraphicsScene * _scene);//this is responsible for setting up the screen and instantiating several elements\n        ~View();\n    protected:\n        virtual void paintEvent(QPaintEvent * event) = 0;\n</code></pre>\n\n<p>And Game inherits from view:</p>\n\n<pre><code>#include \"view.h\" //this includes all of the functionality of the different elements\n\nusing namespace std;\n\nclass Game : public View {//inherit everything above and down into private functions\n\n    public:\n        Game(QGraphicsScene * _scene);\n        ~Game();\n\n    protected:\n        void paintEvent(QPaintEvent * event);\n\n};\n</code></pre>\n\n<p>I have implemented paintEvent with just a quick cout in game. When I compile, everything compiles okay but when I run, I keep getting a message that says a pure virtual function was called</p>\n\n<pre><code>libc++abi.dylib: pure virtual method called\nAbort trap: 6\n</code></pre>\n\n<p>My View constructor looks like this:</p>\n\n<pre><code>View::View(QGraphicsScene * _scene) : QGraphicsView(_scene) {...\n</code></pre>\n\n<p>Any help would be greatly appreciated </p>\n"},{"tags":["android","qt","android-ndk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12932798,"title":"How to combine qt(necessitas) with SDL on android?","body":"<p>I am using Qt on android through necessitas port.\nI'm trying to combine Qt with SDL.\nWhen compile such project with SDL invoked (SDL_Init) , compiler gives me error : multiple definition of `JNI_OnLoad'.</p>\n\n<p>LOG : /mnt/sdcard/Android/data/com.n0n3m4.droidc/files/gcc/bin/../lib/gcc/arm-linux-androideabi/4.7.1/../../../../arm-linux-androideabi/lib/libSDL.a(SDL_andvideo.o): In function <code>JNI_OnLoad':\nSDL_andvideo.c:(.text+0xddc): multiple definition of</code>JNI_OnLoad'\nqtmain_android.o:qtmain_android.cpp:(.text.JNI_OnLoad+0x0): first defined here</p>\n\n<p>Is there some short way how to solve this ?</p>\n\n<p>specific : compiling on C4droid (ide from google play with gcc , necessitas Qt(gui + core) , SDL plugin)</p>\n\n<p>thanks</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12931473,"title":"Parallelizing a library with lots of global variables","body":"<p>I'm currently using QT (4) to parallelize a non-threadsafe library that's written in C by non-programmers, and thus has a lot of global variables. The threads don't need to interact or share data, they each just call a bunch of methods of the library and then at the end the library gives an output that is used further.</p>\n\n<p>The problem is, though, that global variables are per default shared between threads, causing the library to crash in different places. There are two ways to fix this: </p>\n\n<p>Refactor the entire library to not use global variables (ouch), or find a way to make global variables non-shared, or find a third magic way. </p>\n\n<p>Is the latter an option with QT or standard (C++01) C++?</p>\n"},{"tags":["c++","qt","hash","iterator"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12930828,"title":"How to create a QSet of iterators","body":"<p>What I am trying to do is:</p>\n\n<pre><code>#include &lt;QVector&gt;\n#include &lt;QLinkedList&gt;\n#include &lt;QSet&gt;\n\nclass MyType\n{\n//...\n};\n\nint main(int argc, char** argv)\n{\n    QVector&lt;MyType&gt; vector;\n    QSet&lt;QVector&lt;MyType&gt;::iterator&gt; a;\n    a.insert(vector.begin());          // This is fine\n\n    QLinkedList&lt;MyType&gt; linkedList;\n    QSet&lt;QLinkedList&lt;MyType&gt;::iterator&gt; b;\n    b.insert(linkedList.begin());      // This does not compile\n\n    return 0;\n}\n</code></pre>\n\n<p>The compiler message is: </p>\n\n<pre><code>error: no matching function for call to 'qHash(const QLinkedList&lt;MyType&gt;::iterator&amp;)'\n</code></pre>\n\n<p>I know, that the reason why the first three lines compile is that for the <code>QVector</code>, the iterator is defined as <code>typedef T* iterator;</code> but for the <code>QLinkedList</code> it is a custom type. </p>\n\n<p>I found out, that the <code>QSet</code> template class is implemented in terms of a hash table.\nApparently it is possible to evaluate the hash function for a pointer, but not for a custom type.</p>\n\n<p>Please, could you tell me, how to overload the <code>qHash</code> function for my program to compile? I have read some basic information on the workings of a hash table, but I lack the confidence in the subject. </p>\n\n<p>I tried to understand the inner workings of the <code>QLinkedList&lt;T&gt;::iterator</code>. It seems that it is very similar to the <code>QVector&lt;T&gt;::iterator</code>. It just holds a pointer to a node in the linked list instead of a pointer to the item itself.</p>\n\n<pre><code>class iterator\n{\npublic:\n   ...\n   Node *i;\n   ...\n};\n</code></pre>\n\n<p>So I tried to define the function in this manner:</p>\n\n<pre><code>uint qHash(QLinkedList&lt;MyType&gt;::iterator it)\n{\n    return qHash(it.i);\n}\n</code></pre>\n\n<p>The program compiled, but I have no confidence in my solution. How should I correctly overload the <code>qHash</code> function?</p>\n"},{"tags":["qt","button","row","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":12542119,"title":"QML ButtonRow checkedButton not responding","body":"<p>When I call this:</p>\n\n<pre><code>buttonrow1.checkedButton = _button1\n</code></pre>\n\n<p>then I get no errors and nothing happens, I can also not change the property using states, no matter what I do it just remains at the default setting. Any idea how I can change this value?</p>\n"},{"tags":["ajax","qt","qml","qt-quick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12924857,"title":"AJAX in Qt Quick","body":"<p>I'm thinking about using Qt Quick to build desktop applications, since it looks more friendly for someone like me that is coming from web development using node.js, but is it possible to do AJAX and populate controls like a <code>GridView</code> only using QML?</p>\n"},{"tags":["qt","visual-c++","character-encoding","qt-creator","msvc10"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12722618,"title":"Setting Character set for MSVC compiler from another IDE (Qt Creator)","body":"<p>I'm trying to compile legacy code in Qt Creator using the Microsoft Visual C++ Compiler 10.0 (x86), and I am getting the classic error:</p>\n\n<blockquote>\n  <p>cannot convert parameter 1 from 'char *' to 'LPCWSTR'</p>\n</blockquote>\n\n<p>Rather than edit the code (something I should not be doing, it is a 3rd party SDK), the solution is to go into Visual Studio general settings and change the character set to </p>\n\n<blockquote>\n  <p>'Use Multi-byte character set'</p>\n</blockquote>\n\n<p>(as described <a href=\"http://www.codeproject.com/Articles/76252/What-are-TCHAR-WCHAR-LPSTR-LPWSTR-LPCTSTR-etc\" rel=\"nofollow\">here</a> and <a href=\"http://stackoverflow.com/questions/5480588/cannot-convert-parameter-1-from-char-to-lpcwstr\">here</a>)</p>\n\n<p>However, I'm not using the Visual Studio IDE and don't have that setting. So I need to know what setting that actually does in terms of code/compilation. Does it set a compiler flag or #define something? How can I achieve the same in Qt Creator?</p>\n"},{"tags":["qt","qtreewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12907830,"title":"currentItemChanged signali is not gererated when clicking on check box of QTreeWidget","body":"<p>QTreeWidget is not working as expected when clicking on check-box of non-leaf item. My QTreeWidget has two level of child and each item in the tree widget can be checked (check-box is enabled for each item). In this QTreeWidget, leaf items are user selectable, but non-leaf items are not selectable and all items are enabled and user check-able.</p>\n\n<pre><code>[]Family node1\n  - []Primary node1\n    - []child1\n  - []Secondary node1\n    - []child1\n[]Family node2\n  - []Primary node2\n    - []child2\n  - []Secondary node2\n    - []child2\n</code></pre>\n\n<p><strong>Leaf items flag setting</strong></p>\n\n<pre><code>Qt::ItemIsSelectable | Qt::ItemIsUserCheckable | Qt::ItemIsEnabled\n</code></pre>\n\n<p><strong>Non-leaf items flag setting</strong></p>\n\n<pre><code>Qt::ItemIsUserCheckable | Qt::ItemIsEnabled | Qt::ItemIsTristate\n</code></pre>\n\n<p>When we directly click on leaf item's associated check-box, Qt is generating currentItemChanged() signal. But, when we click directly on non-leaf item's associated check-box, then currentItemChanged() signal is not getting generated. This causes inconvenience in the non-leaf item handling.</p>\n\n<p>It was working fine in Qt 4.7.4, but it is not working in Qt 4.8.1 on all platforms (Windows, Darwin, and Linux).</p>\n\n<p>I attached a sample program to reproduce this bug.</p>\n\n<p>Is this a bug or expected behavior?</p>\n\n<p>I am noticing this bug on all platforms (Linux CentOS, Windows 7, and MacOS) with Qt 4.8.</p>\n"},{"tags":["qt","toolbar","qdialog"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12927205,"title":"QDialog with floating toolbar","body":"<p>How can I create a QDialog with floating toolbar in qt?</p>\n\n<p>Attachment of the QMainWindow with toolbar as widget in the QDialog is not suitable.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12380556,"title":"Qt Widget Painting from slideshow demo","body":"<p>I am trying to run slightly modified code from the Qt fluidLauncher demo that shows a slideshow.  The code is pasted in below.  When the paintEvent is handled a black rectangle is shown on the screen because the imported image size is 0.</p>\n\n<p>Single stepping through the code in Qt creator, the currentImagePath is '\"/home/tim/Pictures/HPIM0406.JPG\"' in the watch window. The path is correct including the case and / dividers.  The 'slide' variable always shows &lt;not accessible&gt;.  </p>\n\n<p>At the point in the code where slideSize = slide.size() the slide size changes from (8481696,0) to (0,0).  It appears that although no error is thrown, the QPixmap slide (currentImagePath); is not retrieving the image.  </p>\n\n<pre><code>void SlideShow::paintEvent(QPaintEvent *event)\n{\n QPainter painter(this);\n QString currentImagePath;\n\n painter.setRenderHint(QPainter::Antialiasing, false);\n\n if (d-&gt;imagePaths.size() &gt; 0) {\n    currentImagePath = d-&gt;imagePaths[d-&gt;currentSlide];\n     QPixmap slide( currentImagePath );\n     QSize slideSize = slide.size();\n     QSize scaledSize = QSize(qMin(slideSize.width(), size().width()),\n         qMin(slideSize.height(), size().height()));\n     if (slideSize != scaledSize)\n         slide = slide.scaled(scaledSize, Qt::KeepAspectRatio);\n\n     QRect pixmapRect(qMax( (size().width() - slide.width())/2, 0),\n                      qMax( (size().height() - slide.height())/2, 0),\n                      slide.width(),\n                      slide.height());\n\n     if (pixmapRect.top() &gt; 0) {\n         // Fill in top &amp; bottom rectangles:\n         painter.fillRect(0, 0, size().width(), pixmapRect.top(), Qt::black);\n         painter.fillRect(0, pixmapRect.bottom(), size().width(), size().height(), Qt::black);\n     }\n\n     if (pixmapRect.left() &gt; 0) {\n         // Fill in left &amp; right rectangles:\n         painter.fillRect(0, 0, pixmapRect.left(), size().height(), Qt::black);\n         painter.fillRect(pixmapRect.right(), 0, size().width(), size().height(), Qt::black);\n     }\n\n     painter.drawPixmap(pixmapRect, slide);\n\n } else\n     painter.fillRect(event-&gt;rect(), Qt::black);\n</code></pre>\n\n<p>}</p>\n\n<p>I've struggled with the problem for most of the evening.  Can anyone suggest additional code that I could add for debugging or let me know what may be wrong with this code?</p>\n"},{"tags":["qt","build","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12912550,"title":"QT Creator : how to compile changes only","body":"<p>No idea what might have changed in my QT Creator options or project options, but for some reason doing a Build (Ctrl-B) or starting a debugging session (F5) now triggers a complete rebuild of my project, which takes several minutes. I'd like it to build only the changed files (and dependencies) as it has always done before. What did I do wrong?\nI played with the settings \"always build before deploying\" and \"always deploy before running\", but changing these just switches between doing no build at all, or doing a full rebuild. How can I (re)activate a \"differential\" build ? \nThanks!</p>\n"},{"tags":["image","qt","size","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12922762,"title":"qml image size negative value","body":"<p>I want to make a QML animation with QML Image element <code>height</code> property. \nBut negative value for Image height property does not work in Timer.</p>\n\n<p>Can you tell me what is wrong with this animation?</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width: 300\n    height: 300\n\n    property int mySize: 10\n\n    Image {\n        x: 150; y: 150\n        width: 20\n        height: -mySize       // animation does not work in Timer, Why?\n        //height: mySize      // animation works in Timer\n        source: \"Bar.jpg\"\n    }\n    Timer {\n        interval: 200\n        running: true\n        repeat: true\n        onTriggered: mySize +=5\n    }\n}\n</code></pre>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12882970,"title":"Unable to Handle Tap, Swipe, Pan, Pinch events for Qt Poppler Library example","body":"<p>I took the example of the Poppler Library to render PDF on Qt platform. I am trying to write gesture handling for the example.</p>\n\n<p>The example can be downloaded from \"doc.qt.digia.com/qq/qq27-poppler.zip\" URL.</p>\n\n<p>In a nutshell, the example has a DocumentWidget.cpp which is Derived from \"QLabel\" which in turn derives from QFrame and QWidget.</p>\n\n<p>Now since QLabel is inherited from QWidget I have started implementing for Gesture Handling.</p>\n\n<p>in DocumentWidget.h i have added the below function</p>\n\n<pre><code>protected:\n bool event( QEvent* e );\n</code></pre>\n\n<p>in DocumentWidget.cpp constructor\n    grabGesture( Qt::TapGesture )</p>\n\n<pre><code>bool DocumentWidget :: event( QEvent* e )\n{\n  if( e-&gt;type() == ( Qt :: TapGesture )\n     gestureEvent();\n}\n</code></pre>\n\n<p>In the above gestureEvent function I try to check if it is Tap and correspondingly planning to handle the tap event. However, In my example the event function is getting called but the tap gesture is being handled.</p>\n\n<p>I have included all the necessary header files. I have forward declared the classes too.</p>\n\n<p>Can you please tell me where am I going wrong. Can't we handle these gestures for QLabel.</p>\n\n<p>Thank You in advance.</p>\n\n<p>Chand.M</p>\n"},{"tags":["c++","qt","textfield","qml","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12899952,"title":"How do you respond to tapping on a textfield only when you click up on Blackberry Cascades simulator in QML?","body":"<p>I am trying to figure out how to respond to the tapping on a textfield in Blackberry Cascades.  Right now, I have this sort of code:</p>\n\n<pre><code>TextField {\n    onFocusedChanged: {\n        if (focused) {\n            doStuff();\n        }\n    }\n}\n</code></pre>\n\n<p>But this responds the moment you click on an item, but doesn't wait till you let go of the mouse in the simulator (or the equivalent in a real blackberry)</p>\n"},{"tags":["c++","qt","gui","coding-style","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12928472,"title":"QtGraphicsView size in QTGraphicsScene","body":"<p>I'm having trouble getting my QtGraphicsView to take up 100% of the window I'm working in. Is there a way to set the view size to take up 100% of the graphics window that is created? </p>\n\n<pre><code>QApplication app(argc, argv);\n\nQGraphicsScene * scene = new QGraphicsScene();\n\nint counter = 1000;\n\n\nscene-&gt;setSceneRect(0, 0, counter, counter);//scene size\n\nQGraphicsEllipseItem * item = new QGraphicsEllipseItem(0, scene);\n\nitem-&gt;setRect(0,0, 1000.0, 1000.0);\n\nQGraphicsView view(scene);\n\nview.setRect(100, 100);\nview.setRenderHints(QPainter::Antialiasing);\nview.show();\n</code></pre>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12908208,"title":"Simulating touch event from QT Application","body":"<p>I have a QT Application which receives <code>X&amp;Y coordinates</code> and I need to simulate touch events (touch or long touch) using these coordinates. </p>\n\n<p>I read in QT Reference documentation that <code>QTouchEventSequence</code> class can be used to simulate touch events. I am pretty new to QT and I have no idea how can I use it in an application. Could anybody help me on this.</p>\n"},{"tags":["java","android","ios","eclipse","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":83,"score":-3,"question_id":12928239,"title":"cross platform supported mobile application","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/51988/what-work-has-been-done-on-cross-platform-mobile-development\">What work has been done on cross-platform mobile development?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to develop a mobile application which should work on major mobile devices like iOS, Android, Windows Mobile, Blackberry device and Symbian. How can I develop such a native application which will work on these platform? Is it possible to develop such application which is cross platform supported?</p>\n"},{"tags":["qt","render","qimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12918518,"title":"How to render custom video data in Qt ?","body":"<p>I have never done a Qt video application - newbie in this area. I have a custom video file format to render using Qt. The video file format is 256-byte header, then pixel data, then 256-byte header, then pixel data and so on.\nThe header consist info like width, height in pixels, bytes per pixels, frame rate etc and the pixel data is in Bayer (GBRG). I may have to process data before display - like convert to RGB (not sure yet). I see there are lot of video related classes like QGL*, QMovie, QVideo* ... don't know where to start ? I have seen mandelbrotwidget example which looks like a good place to start but still need some advice. Also, do I have to write a Qt Image plugin for Bayer pattern?</p>\n\n<p>Thank you.</p>\n"},{"tags":["c++","qt","ip","ipconfig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":110,"score":1,"question_id":12927273,"title":"How to get local IP address of a computer using QT","body":"<p>I am trying to get the local ip address (IPV4) of a computer in QT.\nI found the following code:</p>\n\n<pre><code>QNetworkInterface *inter = new QNetworkInterface();\nQList&lt;QHostAddress&gt; list;\nlist=inter-&gt;allAddresses();\nQString str;\n\nfor (int i = 0; i &lt; list.size(); ++i) {\n     str = list.at(i).toString();\n}\n</code></pre>\n\n<p>Going through for loop I can see there are a number of values (ip's) in the <code>list</code>, one of them is the actual local ip address that I get by typing <code>ipconfig</code> in a command window.</p>\n\n<p>My question is how to distinguish the ip address from all the ip's that are in <code>list</code>?</p>\n"},{"tags":["qt","scroll","mouseevent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12919689,"title":"Qt wheelEvent over all","body":"<p>I have app window with many layouts and widget. I have also scrollarea with switch-off scrollbars. I am able to create slots for scrollareaup and scrollareadown. But when I create wheelEvent for all App it's working only for items int app NOT in scrollarea. When I just try this:</p>\n\n<pre><code>void TContic_win::wheelEvent(QWheelEvent *event) {\n  cout &lt;&lt; \"-\" &lt;&lt; endl;\n} \n</code></pre>\n\n<p>I don't know how I can fix it. My idea is something like:</p>\n\n<pre><code>bool TContic_win::eventFilter(QObject *obj, QEvent *e) {\n\n  if (isChildOfScrollWidget(obj) { if (e == wheel) scroll Up or Down }\n\n}\n</code></pre>\n"},{"tags":["qt","cross-platform","conventions","application-settings"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12914784,"title":"default file locations per platform?","body":"<p>I'm making a (qt) cross platform application that stores both cache and settings files. After a lot of searching, i still haven't found how and where to store them. <em>Please note that i want to use QT's stuff only where i would otherwise reinvent the wheel or save insane amounts of time; i want absolute control over the behavior of the application and qt is rather random or inefficient at times.</em></p>\n\n<p>For linux, the default would be /etc//, but there's no write access there and my app writes changes to it's config file. for cache, that would be /var//, but by default there is no write access either. the settings and cache should preferably be user independent as it's server software.</p>\n\n<p>I have thought of several solutions, but they don't seem very elegant:</p>\n\n<ul>\n<li>Let the installer create those directories with the right permissions (that means i'm going to need an installer... bleh)</li>\n<li>store it all in the user's home directory, losing user independence</li>\n<li>Let QT handle it (i really don't like this one)</li>\n</ul>\n\n<p>any ideas? what's best practice? where does this stuff go on windows and mac?</p>\n\n<p><strong>Some clarification:</strong>\nIt's a server application that is supposed to run independently of a single user, so it's not desired to store anything at all in /home. It's also not using any gui features of QT, the server is going to be managed by either settings files or a separate GUI that communicates with the server over IP.</p>\n"},{"tags":["multithreading","qt","threadpool","qthread"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12918718,"title":"Thread, QThread, how many per process is \"reasonable\"?","body":"<p><strong>QUESTION:  How many \"QThread\" instances per process is \"reasonable\"?</strong></p>\n\n<p><em>(This specifically references Qt's <code>QThread</code> instance, but logically the question should relate to any thread-based design using any library.)</em></p>\n\n<p>For example, I understand that platform-specific resource limits may default to supporting up to thirty (30) \"<code>QTcpSocket</code>\" instances, so in theory, if you have thirty active-sockets, that would be thirty <code>QThread</code> instances when the system is under max-load.  However, that may not be a big deal, as most of those threads should be \"sleeping/waiting\" for network traffic.</p>\n\n<p>Similarly, I would assume that one would instantiate UP TO the number of \"cores\" or \"native-threads-can-execute\" for <code>QThread</code> instances charged with \"heavy-continuous-work\".  So, if you had eight (8) cores, that might be another eight <code>QThread</code> instances (and these may be working all-the-time when the system is under max-load).</p>\n\n<p>Then, of course, we have the \"main-thread\".</p>\n\n<p>Does this then imply one would instantiate:</p>\n\n<p>(30 socket-threads) + (8 worker-for-each-core) + (1 main thread)</p>\n\n<p>...for 39 threads (on an 8-core system)?</p>\n\n<p>Specifically, if application-specific needs had other thread-pool-needs, and you add a dozen-<code>QThread</code>-here and a dozen-<code>QThread</code>-instances-there, it seems like 100 <code>QThread</code> instances is kinda stupid, even if most of them are \"idle/sleeping/waiting\", right?</p>\n\n<p>So, is there a cut-off?  \"39-threads\" is \"reasonable\", but \"300-threads\" is \"unreasonable\"?</p>\n\n<p>(Yes, I understand there is a \"default-stack-size-per-thread\", such as \"10MB-per-thread\", so I am limited by virtual memory.  But, really, is it stupid to instantiate 30K threads -- it's a bad design that would ever want such a thing?)</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12868693,"title":"Spanning a Header across Two Columns in a QTableView","body":"<p>I have a QTableView. I want three columns to share a common header.</p>\n\n<p>My approach has been to resize column3 to the size of col1+col2+col3, and then resize column2 to size of col1+col2 and resize colmumn1 the same way.</p>\n\n<p>When I attempt to use the resizeSection() method, I end up with the middle column disappearing behind the overlap of the left and right columns.</p>\n\n<p>From my experimenting, this is not a trivial problem.</p>\n\n<p>I have looked at: <a href=\"http://qt-project.org/faq/answer/how_can_i_span_the_headers_in_my_qtableview\" rel=\"nofollow\">http://qt-project.org/faq/answer/how_can_i_span_the_headers_in_my_qtableview</a>\nBut it was only of minimal help, mostly in understanding the problem.</p>\n\n<p>What is the easiest and most straight forward way of accomplishing this?</p>\n"},{"tags":["qt","visual-c++","profiler"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":61,"score":1,"question_id":12499190,"title":"Profiler for Qt Creator + msvc compiler","body":"<p>How to profile a Qt program using Qt creator with msvc compiler?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","plugins","tfs2010"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":150,"score":5,"question_id":10378905,"title":"TFS plugin for \"Qt Creator\"","body":"<p>Are there any TFS plugins available for the <strong>qt creator</strong> IDE?</p>\n"},{"tags":["qt","rendering"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12840944,"title":"Different rendering speed Qt widgets","body":"<p>I'm building an app (in Qt) that includes a few graphs in it which are dynamic (meaning refreshes to new values rapidly), and gets there values from a background thread. </p>\n\n<p>I want the first graph, whose details are important refreshing at one speed (100 Hz) and 4 other graphs refreshing in lower speed (10Hz).</p>\n\n<p>The problem is, that when I'm refreshing them all at the same rate (100 Hz) the app can't handle it and the computer stucks, but when the refresh rate is different the first signal gets artifacts on it (comparing to for example running them all an 10Hz).</p>\n\n<p>The artifacts are in the form of waves (instead of straight line for example I get a \"snake\").</p>\n\n<p>Any suggestions regarding why it has artifacts (rendering limits I guess) and what can be done about it?</p>\n"},{"tags":["c++","qt","rotation","coordinates","counterclockwise"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":437,"score":0,"question_id":10192651,"title":"Understanding Qt's QTransform rotate function","body":"<p>As a result of <a href=\"http://stackoverflow.com/questions/10186102/determining-the-correct-origin-to-rotate-a-qpolygonf-around\">this question</a>, I'd like to understand more about Qt's <code>QTransform::rotate</code> function. <a href=\"http://qt-project.org/doc/qt-4.8/qtransform.html#rotate\" rel=\"nofollow\">In the documentation</a>, it says:</p>\n\n<blockquote>\n  <p>QTransform &amp; QTransform::rotate ( qreal angle, Qt::Axis axis = Qt::ZAxis )</p>\n  \n  <p>Rotates the coordinate system counterclockwise by the given angle about the specified axis and returns a reference to the matrix.</p>\n  \n  <p>Note that if you apply a QTransform to a point defined in widget coordinates, the direction of the rotation will be clockwise because the y-axis points downwards.</p>\n  \n  <p>The angle is specified in degrees.</p>\n</blockquote>\n\n<p>From my previous question, I learned that to rotate a <code>QPolygonF</code> clockwise, I must actually rotate it 90 degrees counter-clockwise, according to the <code>rotate</code> function:</p>\n\n<pre><code>QPolygonF original = QPolygonF() &lt;&lt; QPoint(0, 1) &lt;&lt; QPoint(4, 1) &lt;&lt; QPoint(4, 2) &lt;&lt; QPoint(0, 2);\nQTransform transform = QTransform().translate(2, 2).rotate(90).translate(-2, -2);\nQPolygonF rotated = transform.map(original);\nqDebug() &lt;&lt; rotated;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>QPolygonF(QPointF(3, 0) QPointF(3, 4) QPointF(2, 4) QPointF(2, 0) ) \n</code></pre>\n\n<p>E.g. for this rectangle:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Go9bn.png\" alt=\"original rectangle rotation\"></p>\n\n<p>To rotate to here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/1atXJ.png\" alt=\"new rectangle rotation\"></p>\n\n<p>Why is this? Why does the documentation say that my call to <code>QTransform::rotate</code> is actually causing a clockwise rotation when I believe I'm not in \"widget coordinates\" - there are no widgets involved here.</p>\n"},{"tags":["qt","import","glew"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12921543,"title":"How to import glew library to QT","body":"<p>I want to ask if anybody could help with importing glew library to QT 4.7 on windows 7.\nI visited glew website and downloaded glew library, copied glew32.dll to my system32 folder. But I dont know what to do next. Qt does not recognize glew wehen i try to include it. </p>\n"},{"tags":["qt","gui","qt-creator","signals-slots"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1368,"score":1,"question_id":6735486,"title":"QT: No Such Slot","body":"<p>Problem is that I keep getting the 'No Such Slot' runtime error in Qt Creator every time I launch a 'settings' window from my main window. I've found Qt to be quite counter-intuitive so far and this slots 'n signals concept seems a bit of a stretch from simply passing vars or function calls. Basically, I have menu with a settings option, that when clicked, opens a settings window which needs to grab a double from the user and update a var in the main window.</p>\n\n<p>SettingsWindow.h</p>\n\n<pre><code>class SettingsWindow : public QWidget\n{\n      Q_OBJECT\n  public:\n      SettingsWindow(QWidget *parent = 0);\n  signals:\n      void ValChanged(double newVal);\n  public slots:\n      void Accept();\n  private:\n      QLineEdit *le1;\n};\n</code></pre>\n\n<p>The settings window has an accept button which calls Accept() which emits the ValChanged signal with newVal set as the user input in le1 as a double.</p>\n\n<p>SettingsWindow.cpp</p>\n\n<pre><code>void SettingsWindow::Accept(){\n    emit ValChanged(le1-&gt;text().toDouble());\n    this-&gt;close();\n}\n</code></pre>\n\n<p>This settings window is called by the application's main window: MainWindow</p>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n      Q_OBJECT  \n  public:\n      MainWindow(QWidget *parent = 0);\n  public slots:\n      void SetVal(double x);\n  private slots:\n      void NewWindow();\n  private:\n      double theVal;\n};\n</code></pre>\n\n<p>This main window has a menu which one would select settings from. This creates a new window with a field for one to enter a number.</p>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>void MainWindow::NewWindow()\n{\n    SettingsWindow *MySettings=new SettingsWindow(this);\n    QObject::connect(MySettings, SIGNAL(ValChanged(double)), this, SLOT(SetVal(double)));\n    MySettings-&gt;show();\n    MySettings-&gt;raise();\n}\n\nvoid MainWindow::SetVal(double x){\n    theVal = x;\n}\n</code></pre>\n\n<p>My hope is that when the settings window is opened, the user can enter a val into the field which then emits the ValChanged Signal which sets theVal to the value specified by the user. Most of the time I saw an issue with people not including Q_OBJECT macro, but I've included it both times. Any suggestions on why this doesn't work?</p>\n"},{"tags":["c++","qt","lnk2019"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12916860,"title":"Non-class method in Qt ( with qtcreator ) unresolved external symbol","body":"<p>I have an application that was built without problems in Linux, now I'm trying to compile it against Windows, I created a .pro file specially for compiling it in windows.</p>\n\n<p>I use a pseudo-class ( just a namespace with a buch of methods, but without a class statement so I can use it without creating an object ) that's working just fine in Linux, but \nwhen I try to compile against windows I get an 'unresolved external symbol' throughout all the code where this pseudo-class's being used.</p>\n\n<p>The pseudo-class goes like this:</p>\n\n<pre><code>namespace foo {\n   bool method_bar();\n}\n</code></pre>\n\n<p>Then I use it like this: </p>\n\n<pre><code>foo:method_bar(); \n</code></pre>\n\n<p>Pretty straight-forward, somewhat like static methods. </p>\n\n<p>Before somebody asks me, why not use static methods in first place; I have some special situations in which I cannot use these methods as static. That's why I buit the methods directly under the namespace.</p>\n\n<p>So, at my .PRO file, I added the .h and .cpp files from my pseudo-class like this:</p>\n\n<pre><code> HEADERS += \\\n       ....\n       include/foo.h\n       ....\n\n\n    SOURCES += \\\n       ....\n       include/foo.cpp\n       ----\n</code></pre>\n\n<p>Although it includes the files in my projects, it's throwing that LNK2019: unresolved external symbol error.</p>\n\n<p>I'm no beginner with programming, but I'm a beginner with Qt. </p>\n\n<p>Any help will be deeply appreciated. </p>\n\n<p>ps: forgive my English mistakes.</p>\n"},{"tags":["linux","multithreading","qt","opengl","xcb"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":123,"score":6,"question_id":12919093,"title":"Qt Threading Issues in Linux","body":"<p>I have been developing with Qt for some time now on my project, and we are starting to move to a more thread-oriented design. Upon moving some GL rendering widgets to other threads I have discovered some very weird behavior. It appears that if a GL Widget begins updating from another thread (boost thread or QThread) before a widget that accepts user input (such as a QTextEdit) grabs focus, I get XCB crashes that look like:</p>\n\n<pre><code>[xcb] Too much data requested from _XRead\n[xcb] This is most likely caused by a broken X extension library\n[xcb] Aborting, sorry about that.\nhypnotizer: ../../src/xcb_io.c:735: _XRead: Assertion ‘!xcb_xlib_too_much_data_requested’ failed.\n</code></pre>\n\n<p>To test this out, I actually can make a simple modification to the GLHypnotizer demo to reproduce the crash. That demo can be found here: <a href=\"http://qt-project.org/doc/qt-4.8/demos-glhypnotizer.html\" rel=\"nofollow\">http://qt-project.org/doc/qt-4.8/demos-glhypnotizer.html</a> [qt-project.org]</p>\n\n<p>If I add the line ‘mdiArea.addSubWindow(new QTextEdit(this));’ at around line 313 (before the call to newThread()), then when the demo starts there will be a QTextEdit and a GL Hypnotizer Widget. If I then click on the QTextEdit to grab focus I will get the above crash every time.</p>\n\n<p>Can anyone reproduce the error on there Linux install using the above instructions? Has anyone encountered these types of issues on Linux using Qt and threading before?</p>\n\n<p>Note: I am using Ubuntu 12 and this crash happens in VirtualBox and non VirtualBox Ubuntu installations</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12920336,"title":"I'm trying to figure out how to use threads in a simple Qt gui application","body":"<p>In the simple example code I have, there is a start and stop button and a counter.  When you press start, a thread is created and it increments the counter until you press stop.  The click events are all working, but the thread itself does not start when it is called from dialog.cpp and the counter never increments.  Any ideas why??</p>\n\n<p>The code is from this guy's tutorial exactly as he did it here, and his worked: <a href=\"http://www.voidrealms.com/viewtutorial.aspx?id=79\" rel=\"nofollow\">http://www.voidrealms.com/viewtutorial.aspx?id=79</a></p>\n\n<p>dialog.h</p>\n\n<pre><code>#ifndef DIALOG_H\n#define DIALOG_H\n\n#include \"mythread.h\"\n#include &lt;QDialog&gt;\n\nnamespace Ui {\nclass Dialog;\n}\n\nclass Dialog : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    explicit Dialog(QWidget *parent = 0);\n    ~Dialog();\n    MyThread *mThread;\n\nprivate:\n    Ui::Dialog *ui;\n\npublic slots:\n    void onNumberChanged(int);\n\nprivate slots:\n    void on_pushButton_clicked();\n    void on_pushButton_2_clicked();\n};\n\n#endif // DIALOG_H\n</code></pre>\n\n<p>dialog.cpp</p>\n\n<pre><code>#include \"dialog.h\"\n#include \"ui_dialog.h\"\n\nDialog::Dialog(QWidget *parent) :\n    QDialog(parent),\n    ui(new Ui::Dialog)\n{\n    ui-&gt;setupUi(this);\n\n    mThread = new MyThread(this);\n    connect(mThread,SIGNAL(NumberChanged(int)), this, SLOT(onNumberChanged(int)));\n}\n\nDialog::~Dialog()\n{\n    delete ui;\n}\n\nvoid Dialog::onNumberChanged(int Number){\n    ui-&gt;label-&gt;setText(QString::number(Number));\n}\n\nvoid Dialog::on_pushButton_clicked()\n{\n    mThread-&gt;start();\n}\n\nvoid Dialog::on_pushButton_2_clicked()\n{\n    mThread-&gt;Stop = true;\n}\n</code></pre>\n\n<p>mythread.h</p>\n\n<pre><code>#ifndef MYTHREAD_H\n#define MYTHREAD_H\n\n#include &lt;QThread&gt;\n\nclass MyThread : public QThread\n{\n    Q_OBJECT\npublic:\n    explicit MyThread(QObject *parent = 0);\n    void run();\n    bool Stop;\n\nsignals:\n    void NumberChanged(int);\n\npublic slots:\n\n};\n\n#endif // MYTHREAD_H\n</code></pre>\n\n<p>mythread.cpp</p>\n\n<pre><code>#include \"mythread.h\"\n#include &lt;QtCore&gt;\n\nMyThread::MyThread(QObject *parent) :\n    QThread(parent)\n{\n}\n\n\nvoid MyThread::run() {\n\n    for (int i = 0; i &lt; 100000; i++) {\n        QMutex mutex;\n        mutex.lock();\n        if (this-&gt;Stop) break;\n        mutex.unlock();\n\n        emit NumberChanged(i);\n    }\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["windows","qt","opencv"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12916983,"title":"OpenCV 2.4.2 with QT","body":"<p>HelloI'm actually stuck with utilisation of OpenCV 2.4.2 and QT. </p>\n\n<p>I can compile my project, but when i run it through QT, i've not the good windws.</p>\n\n<p>I run QTCreator last version under Windows</p>\n\n<p>Here what i did to use OpenCV 2.4.2 with QT :</p>\n\n<ol>\n<li>Download OpenCV and extract it to C:/</li>\n<li>Install MinGW and add path variable</li>\n<li><p>Modify my .pro file like this : </p>\n\n<p>TEMPLATE = app</p>\n\n<p>CONFIG += console</p>\n\n<p>CONFIG -= qt</p>\n\n<p>INCLUDEPATH = C:\\Users\\Erowlin\\Desktop\\OpenCv_QT\\opencv\\include</p>\n\n<p>LIBS = -LC:\\Users\\Erowlin\\Desktop\\OpenCv_QT\\opencv\\lib -l opencv_core242 -l opencv_highgui242</p>\n\n<p>SOURCES += main.cpp</p></li>\n</ol>\n\n<p>I actually can compile with no error, but when i run my program, i got this Window : <img src=\"http://i.stack.imgur.com/4xN2e.png\" alt=\"enter image description here\"></p>\n\n<p>When i execute my program manually, i've no problem, everything work like a charm. </p>\n\n<p>Someone already got the same problem? </p>\n\n<p>Thank you</p>\n"},{"tags":["c++","qt","events","text-editor","paint"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12332009,"title":"Restore TextCursor after paintEvent","body":"<p>I am using a subclassed <code>QPlainTextEditor</code>, and I'm using a custom <code>paintEvent</code> to highlight every second row. Now, the painting works, but the <code>TextCursor</code> disappears, and to make things worse, I can't see the typed letters, even in the rows that are not supposed to be painted.\nI'm using \n<code>QPainter painter((QAbstractScrollArea*)(viewport()));</code> as the painter and \n<code>painter.fillRect(...);</code> for painting the row.\nAre these the correct functions for this?</p>\n\n<p>Thanks in advance for the help.</p>\n"},{"tags":["qt","parent-child","connect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12341926,"title":"qt connect cilds pushbutton","body":"<p>I have</p>\n\n<pre><code>class MainWindow : public QMainWindow  { \n\n    Q_OBJECT\n\n  public:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\n  private slots:\n    void getData();\n\n  private:\n    Ui::MainWindow *ui;\n    Dialog  *second;\n};\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class Dialog: public QDialog  {\n   Q_OBJECT\n\n  public:\n    explicit Dialog(QWidget *parent = 0); QDialog * dialog;\n\n    QPushButton *pushButton;\n    QPushButton *pushButton_2;\n\n};\n</code></pre>\n\n<p>and I can connect pushbuttons in class Dialog with function getData() in class MainWindow (Dialog is a child of class Mainwindow)</p>\n\n<p>I tried </p>\n\n<pre><code>connect(*second-&gt;pushButton, SIGNAL(clicked()), this,\n                             SLOT(getData()));\n</code></pre>\n\n<p>but I got </p>\n\n<pre><code>error: no matching function for call to\n‘MainWindow::connect(QPushButton&amp;, const char [11], MainWindow* const, const char [11])’\n</code></pre>\n\n<p>How do i connect them?</p>\n"},{"tags":["c++","xml","qt","xml-parsing"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":116,"score":4,"question_id":12913881,"title":"Parse a xml file using c++ & Qt","body":"<p>I try to parse a XML-file with the following structure:</p>\n\n<pre><code>&lt;I&gt;\n  &lt;C c=\"test1\"&gt;\n     &lt;H&gt;&lt;Pd pd=\"123\"/&gt;\n        &lt;f p=\"789\" r=\"456\"/&gt;\n     &lt;/H&gt;\n     &lt;M m=\"test2\"&gt;\n       &lt;H&gt;&lt;Pd pd=\"3456\"/&gt;&lt;R r=\"678\"/&gt;\n       &lt;/H&gt;\n     &lt;/M&gt;\n  &lt;/C&gt;\n  &lt;T t=\"0\"&gt;\n     &lt;T2&gt;123&lt;/T2&gt;\n     &lt;T3&gt;2345&lt;/T3&gt;\n  &lt;/T&gt;\n  &lt;T t=\"1\"&gt;\n     &lt;T1&gt;23456&lt;/T1&gt;\n     &lt;T2&gt;23&lt;/T2&gt;\n     &lt;T3&gt;123&lt;/T3&gt;\n     &lt;T4&gt;456&lt;/T4&gt;\n  &lt;/T&gt;\n&lt;/I&gt;\n</code></pre>\n\n<p>I have a List of numbers e.g. 0 and 1 and a search pattern e.g. '23'\nNow i want to search the XML-file for all T-nodes with t=\"a number from my list\" where one of the child nodes(T1, T2,T3) contain the search pattern.</p>\n\n<p>Can anybody help me getting started with this problem? I want to use the Qt functions but do not really know how to begin.</p>\n\n<p>I'm happy about every hint!</p>\n"},{"tags":["qt","embedded-help"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12406482,"title":"Embedding HTML Help in a QT application","body":"<p>I write an application, with Qt and it has a pretty big help system, which is including images, tables, links, etc... This help system is stored on a disk in a specific location as simple HTML files, together with the images and using a QWebkit control it's loaded in the application on request, and the user can browse it, etc...</p>\n\n<p>Now, I would like to move away from my \"in-house, file based\" help solution, meaning: I want a help system which still will use my HTML files, but without the need to ship 100 files to the user, only 1 or 2.</p>\n\n<p>I am aware of Qt's help system ( <a href=\"http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html\" rel=\"nofollow\">http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html</a> ) but I am wondering if there are any other solutions providing the same or similar functionality. </p>\n\n<p>What I am looking for:</p>\n\n<ol>\n<li>take all the HTML files and create one of them, including images</li>\n<li>reader possibly embeddable in application, but separate application is good too.</li>\n<li>multiplatform</li>\n<li>support for context sensitive help (ie: \"Click on what's this\", help shows relevant page)</li>\n</ol>\n"},{"tags":["c++","qt","gui","translation","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12917149,"title":"code not updating when language changed in c++ QT GUI","body":"<p>i have a program that runs a multi lang. platform. When the user selects a language it changes the enitire language of the program mainly the strings and saves it for next time the user uses the application. The problem is if the user updates the language and doesnt shut down the application the language for the plot doesnt update. the way it goes is my selectLang. in in my main and i point to mainApp wich then points to lang class which has the currentlang. see code below\nmain.cpp</p>\n\n<pre><code>    void MainWindow:: SelectLang(int lang)\n{\n    m_mainApp-&gt;m_lang-&gt;currentLang=lang;\n    ui-&gt;m_actionEnglish-&gt;setChecked(lang==0);\n    ui-&gt;m_actionFrench-&gt;setChecked(lang==1);\n    ui-&gt;m_actionItalian-&gt;setChecked(lang==3);\n    ui-&gt;m_actionSpanish-&gt;setChecked(lang==2);\n    ui-&gt;m_actionRussian-&gt;setChecked(lang==4);\n    ui-&gt;m_actionGerman-&gt;setChecked(lang==5);\n    ui-&gt;m_actionPortuguese-&gt;setChecked(lang==6);\n    UpgradeLang();\n}\n</code></pre>\n\n<p>my cplot file</p>\n\n<pre><code> setAxisTitle(yLeft,(m_main-&gt;m_lang-&gt;strTab[m_main-&gt;m_lang-&gt;currentLang][45]));//this is temp c but wont translate when language changes\n</code></pre>\n\n<p>m_main is the MainAPP </p>\n\n<p>im entry level and new QT GUI too, if you need extra info i will gladly provide</p>\n"},{"tags":["c++","qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12893904,"title":"Automatically refreshing a QTableView when data changed","body":"<p>I have written a custom data model to be displayed with several QTableViews.</p>\n\n<p>Technically, everything works fine: my views show the changes made from my model. My data model is editable, and the <code>setData()</code> method does emit the <code>dataChanged()</code> signal and returns <code>true</code> on successful edition.</p>\n\n<p>However, my problem is that I have to move my mouse over a <code>QTableView</code> for it to show the actual change, while I would like all views to show the changes when they were made, without needing to interact with the views in order for them to be updated.</p>\n\n<p>Any idea? Thanks,</p>\n\n<hr/>\n\n<p>It may be relevant to mention that I do not use the default <code>Qt::EditRole</code> role to edit data, but rather a custom enum value (named <code>ActiveRole</code>).</p>\n\n<p>Here is what I am seeking: my data model contains properties on how to display data, used to generate style sheets that are fed to the viewS.</p>\n\n<p>Thus, when altering the model, for each view, all its items are impacted, which is why the <code>dataChanged()</code> signal is sent with indices covering all cells.</p>\n\n<p>I also tried to emit <code>layoutChanged()</code>, but it does not seem to change the behavior in my case.</p>\n\n<p>Here is an excerpt of the <code>setData()</code> method:</p>\n\n<pre><code>bool DataModel::setData(QModelIndex const&amp; idx, QVariant const&amp; value, int role)\n{\n  if (ActiveRole == role)\n  {\n    // Update data...\n\n    QModelIndex topLeft = index(0, 0);\n    QModelIndex bottomRight = index(rowCount() - 1, columnCount() - 1);\n\n    emit dataChanged(topLeft, bottomRight);\n    emit layoutChanged();\n\n    return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Here is a sample of the <code>data()</code> method:</p>\n\n<pre><code>QVariant DataModel::data(QModelIndex const&amp; idx, int role) const\n{\n  if (ActiveRole == role)\n  {\n    boost::uuids::uuid id;\n\n    return qVariantFromValue(id);\n  }\n\n  return QVariant();\n}\n</code></pre>\n\n<p>And <code>flags()</code> does indicate an editable model:</p>\n\n<pre><code>Qt::ItemFlags DataModel::flags(QModelIndex const&amp; idx) const\n{\n  if (false == idx.isValid())\n  {\n    return Qt::ItemIsEditable;\n  }\n\n  return QAbstractTableModel::flags(idx) | Qt::ItemIsEditable;\n}\n</code></pre>\n\n<p>I have a custom delegate, which relies heavily on this <a href=\"http://stackoverflow.com/a/1956781/948128\">SO thread</a> for overriding the <code>paint</code> and the <code>sizeHint</code> methods in order to draw a <code>QTextDocument</code>. Also, it provides the content of the <code>ActiveRole</code> to the editor in <code>setEditorData</code>, and calls <code>DataMode::setData</code> in <code>setModelData</code>:</p>\n\n<pre><code>void DataModelDelegate::setEditorData(QWidget* editor, QModelIndex const&amp; idx) const\n{\n  auto active = qVariantValue&lt;boost::uuids::uuid&gt;(idx.data(ActiveRole));\n  static_cast&lt;DataModelEditor*&gt;(editor)-&gt;setActive(active);\n}\n\nvoid DataModelDelegate::setModelData(QWidget* editor, QAbstractItemModel* model, QModelIndex const&amp; idx) const\n{\n  auto active = static_cast&lt;DataModelEditor*&gt;(editor)-&gt;getActive();\n  model-&gt;setData(idx, qVariantFromValue(active), ActiveRole);\n}\n</code></pre>\n\n<p>In the <code>createEditor()</code>, I plug a signal from the editor to a slot of my delegate for committing data:</p>\n\n<pre><code>QWidget* DataModelDelegate::createEditor(QWidget* parent, QStyleOptionViewItem const&amp; option, QModelIndex const&amp; idx) const\n{\n  auto editor = new DataModelEditor(parent);\n  connect(editor, SIGNAL(activeItem()), this, SLOT(commitEditorData()));\n  return editor;\n}\n</code></pre>\n\n<p>When clicking on an item, the editor triggers the <code>activeItem</code> signal; the connected slot <code>commitEditorData</code> in turn raises the <code>commitData</code> signal with the editor in argument.</p>\n\n<p>So all my views use these custom delegate, editor, and data model. The view that I am interacting with does show the change immediately, but the other views need to have the mouse hovering over them to show changes as well.</p>\n"},{"tags":["visual-studio-2008","qt","static","linker-error"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2527,"score":0,"question_id":2705618,"title":"Static linking in Qt --> link errors in VS 2008","body":"<p>Today I dediced to make static linking in Qt. I used <a href=\"http://qtnode.net/wiki/Qt4_with_Visual_Studio_and_static_C_runtime\" rel=\"nofollow\">Qt4 with Visual Studio and static C runtime</a> article. The 3rd step took quite a long time. When it was finished I opened my project in VS 2008, made <code>Build-&gt;Clean Solution</code> and try to <code>Release</code>. Unfortunately I got link errors:</p>\n\n<blockquote>\n  <p>warning\n  LNK4098: defaultlib 'libcmt.lib'\n  conflicts with use of other libs; use\n  /NODEFAULTLIB:library  </p>\n  \n  <p>error LNK2019: unresolved external\n  symbol \"private: static struct\n  QString::Data QString::shared_null\"\n  (?shared_null@QString@@0UData@1@A)\n  referenced in function \"public:\n  __thiscall QString::QString(void)\" (??0QString@@QAE@XZ)  </p>\n  \n  <p>error LNK2019: unresolved external\n  symbol \"private: static struct\n  QByteArray::Data\n  QByteArray::shared_null\"\n  (?shared_null@QByteArray@@0UData@1@A)\n  referenced in function \"public:\n  __thiscall QByteArray::QByteArray(void)\"\n  (??0QByteArray@@QAE@XZ)  </p>\n  \n  <p>error LNK2001: unresolved external symbol\n  \"private: static struct\n  QByteArray::Data\n  QByteArray::shared_null\"\n  (?shared_null@QByteArray@@0UData@1@A)  </p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)</p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)  </p>\n  \n  <p>error LNK2001:\n  unresolved external symbol \"public:\n  static struct QMetaObject const\n  QDialog::staticMetaObject\"\n  (?staticMetaObject@QDialog@@2UQMetaObject@@B)  </p>\n  \n  <p>error LNK2019: unresolved external symbol \"public: static enum QSysInfo::WinVersion const QSysInfo::WindowsVersion\" (?WindowsVersion@QSysInfo@@2W4WinVersion@1@B) referenced in function _WinMain@16</p>\n</blockquote>\n\n<p>What i did wrong? Help to fix this pls.</p>\n"},{"tags":["c++","file","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12883060,"title":"Read and write files in Qt C++","body":"<p>I'm new to the programming in Qt. </p>\n\n<p>I'm doing a program consisting of a main screen and 3 windows, is based on driving a truck radio controlled by the parallel port. </p>\n\n<p>My problem is that in the second window, I enter certain values, and stored in a txt file (I checked and stored properly).  The problem is that when I go to the third window, which is designed to read and print the data generated file, do not appear, but until I leave and get back into the program. </p>\n\n<p>Although after saving the data, I close the file and then I open it to read it, it's like not close at that time, but only when I exit the program. </p>\n\n<p>Below attached program files.</p>\n\n<p><a href=\"http://www.mediafire.com/file/58z6f856oj91orp/proyecto.rar\" rel=\"nofollow\">Link!</a></p>\n\n<p>Thank you very much and sorry for my english!</p>\n\n<p>Note: Do not forget to enter with user permission to run the program (work in Ubuntu), as it handles PC ports.</p>\n"},{"tags":["qt","boost"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12901621,"title":"Qt equivalent of boost::shared_from_this?","body":"<p>I have some classes that derive from boost::shared_from_this - how can I perform the equivalent in Qt? (without reimplementing a similar shared_from_this; I'd prefer a no-inheritance solution)</p>\n"},{"tags":["c++","xml","qt","qt4","xsl-fo"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":358,"score":3,"question_id":5911055,"title":"Is there a free C++ xsl-fo to PDF engine?","body":"<p>Is there an xsl-fo to PDF engine written in C++ that can be used in QT?</p>\n\n<p>The engines I have come across so far are in java.</p>\n"},{"tags":["qt","qt4","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":790,"score":2,"question_id":5802085,"title":"qml textedit with slider","body":"<p>Does anyone know how to create a textEdit that can wrap using a slider?\ni tried to do it but i got a problem with binding loop...</p>\n\n<p>code: </p>\n\n<pre><code>Flickable\n    {\n        id: flick\n        anchors.fill:parent\n        contentWidth: edit.paintedWidth\n        contentHeight: edit.paintedHeight\n        clip: true\n        interactive :false\n        contentY: slider.y\n        function ensureVisible(r)\n        {\n            if (contentY &gt;= r.y)\n                contentY = r.y;\n            else if (contentY+height &lt;= r.y+r.height)\n                contentY = r.y+r.height-height;\n        }\n\n        TextEdit\n        {\n            id: edit\n            width: flick.width*0.9\n            height: flick.height\n            focus: true\n            wrapMode: TextEdit.Wrap\n            onCursorRectangleChanged: flick.ensureVisible(cursorRectangle)\n            text: defaultText\n            color: textColor\n            font.family: fontFamily\n            font.pointSize: fontSize\n            font.bold: bold\n            font.italic: italic\n            font.overline: overline\n            font.underline: underline\n            horizontalAlignment: alignment\n            selectByMouse:true\n\n        }\n    }\n\n    Rectangle\n    {\n        id: container\n\n        height: multiLineEdit.height\n        width:multiLineEdit.width*0.1\n        anchors.right:multiLineEdit.right\n        anchors.top:multiLineEdit.top\n        radius: 4\n        opacity: 0.7\n        smooth: true\n        gradient: Gradient {\n            GradientStop { position: 0.0; color: \"gray\" }\n            GradientStop { position: 1.0; color: \"white\" }\n        }\n\n        Rectangle {\n            id: slider\n\n            property int value: Math.round(container.y*100/(slider.width-container.width))\n            property int tmpVal: 0\n\n            x: 1\n            y: flick.visibleArea.yPosition * flick.height//1\n            width: parent.width\n\n            //The height will change according to the flickable area (the text area)\n            height: (flick.visibleArea.heightRatio &gt; 1) ? (container.height) :(flick.visibleArea.heightRatio*container.height)\n            radius: 2\n            smooth: true\n\n            color:\"black\"\n\n                   MouseArea {\n                anchors.fill: parent\n                drag.target: parent; drag.axis: Drag.YAxis\n                drag.minimumY: 0; drag.maximumY: container.height - slider.height\n            }\n        }\n\n    } \n</code></pre>\n\n<p>in this way i create a textEdit and a slier at the right side of the textEditBox. the slider is now move according to the text, but it(the slider) doe's not control the textEdit box... how i can add this action? (in my way it bring a binding loop)</p>\n"},{"tags":["qt","parsing","double","qstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12911723,"title":"Qt QString::toDouble() produces inexact results","body":"<p>I have the following code in my application whereby I need to parse a string and convert it to double</p>\n\n<pre><code>int i = ((QString)\"294.4\").toDouble() * 100;\n</code></pre>\n\n<p>I am supposed to see the value 29440 as a value of i. However, every time I do so, I get the value of 29439. I am not sure why it is happening as it does not happen always. e.g. 294.1,294.2,294.3 works fine. 294.5 also works fine.</p>\n\n<p>I understand that interpreting floating point numbers should be an issue and undetermined behavior can be expected but this one seems to be a very simple case.</p>\n\n<p>Can someone please guide me on how to reliably parse the values so that it always gives me the exact value represented by its string equivalent?</p>\n"},{"tags":["qt","qt4","qt-creator","qt-designer"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":472,"score":3,"question_id":9455617,"title":"Adding user built widgets to a ui file in qt creator","body":"<p>The qt designer portion of qt creator has many built in widgets.  But let's say I want to add custom widgets created in the same qt project to the ui file of the window.  By taking these steps:</p>\n\n<ol>\n<li>Create a new Qt GUI application with a main window, we'll call the window A.</li>\n<li>Add a new widget to the project, the widget just uses standard UI components, say buttons.  We'll call this widget B.</li>\n<li>Add an instance of widget B to window A.</li>\n</ol>\n\n<p>Now, I know one way to do that, and that is:</p>\n\n<ol>\n<li>In window A, add a blank widget (or widget container, from the containers section of the list of possible widgets.  We'll call this widget C.</li>\n<li>Promote it (widget C) to widget B.</li>\n</ol>\n\n<p>However, the problem with this is that Qt Creator's designer treats it like a generic QWidget.  And as such, you can't do things like add it to a splitter, or connect signals/slots that are specific to the widget.</p>\n\n<p>So is there any other ways to add widget B to window A in the ui file using qt creator?  Thank you.</p>\n"},{"tags":["python","qt","pyqt","qwebview","qwebelement"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1044,"score":2,"question_id":1243064,"title":"Qt Image From Web","body":"<p>I'd like PyQt to load an image and display it from the web. Dozens of examples I've found online did not work, as they are for downloading the image.</p>\n\n<p>I simply want to view it.</p>\n\n<p>Something like</p>\n\n<pre><code>from PyQt4.QtWebKit import *\nweb = QWebView()\nweb.load(QUrl(\"http://stackoverflow.com/content/img/so/logo.png\"))\n</code></pre>\n"},{"tags":["c++","visual-studio-2010","qt","visual-studio-debugging","qbytearray"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12209046,"title":"How do I see the contents of Qt objects QByteArray during debugging?","body":"<p>My program use some variables of type QByteArray to contain data (bytes). That bytes maybe are special characters like '\\0', 1, ... So I cannot see all elements after special character when debugging. If I use std::vector, I can see all elements. I must use QByteArray but I cannot see all element of this variable when debugging. Help me, plz!\nThanks!</p>\n\n<p>Example: QByteArray bytes(4, '\\0');\nNow, if debug, I just see \"\". But I want to see \"'\\0', '\\0', '\\0', '\\0'\" or something like like this.</p>\n\n<p>I also have the same problem with QDateTime. But I resolved by this help: <a href=\"http://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger\" rel=\"nofollow\">http://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger</a></p>\n\n<p>This link may help but this not resolve my problem: <a href=\"http://qt-project.org/wiki/IDE-debug-helpers\" rel=\"nofollow\">http://qt-project.org/wiki/IDE-debug-helpers</a></p>\n\n<p>Example:     </p>\n\n<pre><code>QByteArray ba(\"Hello\"); //debuging, see: ba = \"Hello\"     \nba.append('\\0');     \nba.append(\"a message\"); //we just see: ba = \"Hello\"   \n</code></pre>\n"},{"tags":["qt","webkit","qml","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12913759,"title":"Using QtWebKit with Qt5 beta","body":"<p>I have installed the beta version of Qt5 on a Mac and am trying to add a Web View component to another qml type.  However my program is failing with the error: <code>module \"QtWebKit\" is not installed</code>.</p>\n\n<p>I've added the following to my .pro file:</p>\n\n<blockquote>\n  <p>QT += webkit</p>\n</blockquote>\n\n<p>and a suitable include statement to my .qml file:</p>\n\n<blockquote>\n  <p>include QtQuick 2.0<br>\n  include QtWebKit 3.0</p>\n</blockquote>\n\n<p>Could anyone suggest what may be going wrong?</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1682,"score":5,"question_id":4927860,"title":"How to pass variables to slot methods in QT?","body":"<p>I'm making a little chat messenger program, which needs a list of chat channels the user has joined. To represent this list graphically, I have made a list of <code>QPushButtons</code>, which all represent a different channel. These buttons are made with the following method, and that's where my problem kicks in:</p>\n\n<pre><code>void Messenger::addToActivePanels(std::string&amp; channel)\n{\n    activePanelsContents = this-&gt;findChild&lt;QWidget *&gt;(QString(\"activePanelsContents\"));\n    pushButton = new QPushButton(activePanelsContents);\n    pushButton-&gt;setObjectName(\"pushButton\");\n    pushButton-&gt;setGeometry(QRect(0, 0, 60, 60));\n    pushButton-&gt;setText(\"\");\n    pushButton-&gt;setToolTip(QString(channel.c_str()));\n    pushButton-&gt;setCheckable(true);\n    pushButton-&gt;setChecked(false);\n    connect(pushButton, SIGNAL(clicked()), this, SLOT(switchTab(channel)));\n}\n</code></pre>\n\n<p>(activePanelContents is a QWidget that holds the list.)</p>\n\n<p>The point is that each button should call the <code>switchTab(string&amp; tabname)</code> method when clicked, including the specific channel's name as variable. This implementation doesn't work though, and I haven't been able to find out how to properly do this.</p>\n"},{"tags":["c++","qt","opengl","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":424,"score":0,"question_id":10227614,"title":"QML, Qt 4.8: How to enable openGl and Chromeless at the same time?","body":"<p>So here is my main</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtOpenGL&gt;\n#include &lt;QDeclarativeView&gt;\n#include &lt;QDeclarativeEngine&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    // Depending on which is the recommended way for the platform, either use\n    // opengl graphics system or paint into QGLWidget.\n    #ifdef SHADEREFFECTS_USE_OPENGL_GRAPHICSSYSTEM\n        QApplication::setGraphicsSystem(\"opengl\");\n    #endif\n\n        QApplication a(argc, argv);\n\n    #ifndef SHADEREFFECTS_USE_OPENGL_GRAPHICSSYSTEM\n        QGLFormat format = QGLFormat::defaultFormat();\n        format.setSampleBuffers(false);\n        format.setSwapInterval(1);\n        QGLWidget* glWidget = new QGLWidget(format);\n        glWidget-&gt;setAutoFillBackground(false);\n    #endif\n\n        MainWindow w(glWidget);\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>and files I use to open QML</p>\n\n<pre><code>#include \"mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent)\n{\n    setAttribute(Qt::WA_OpaquePaintEvent);\n    setAttribute(Qt::WA_NoSystemBackground);\n  setAttribute(Qt::WA_TranslucentBackground);\n  setStyleSheet(\"background:transparent;\");\n  qmlRegisterType&lt;QGraphicsBlurEffect&gt;(\"Effects\",1,0,\"Blur\");\n  /* turn off window decorations */\n  setWindowFlags(Qt::FramelessWindowHint);\n\n\n\n  ui = new QDeclarativeView;\n  ui-&gt;setSource(QUrl(\"qrc:/assets/ui.qml\"));\n\n // ui-&gt;setViewportUpdateMode(QGraphicsView::FullViewportUpdate);\n\n\n  setCentralWidget(ui);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QtDeclarative&gt;\n#include &lt;QtDeclarative/QDeclarativeView&gt;\n\nnamespace Ui {\n    class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    QDeclarativeView *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>I try to enable Open GL But I see nothing, when I comment lines in main that in my opinion had to do the job i SEE MY CHROMELESS WINDOW BUT also </p>\n\n<pre><code>Qml debugging is enabled. Only use this in a safe environment!\nShaderEffectItem::paint - OpenGL not available \n</code></pre>\n\n<p>What do I do wrong?</p>\n"},{"tags":["qt","qt-creator","mingw32"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1128,"score":3,"question_id":9420825,"title":"How to compile on multiple cores using mingw inside QTCreator","body":"<p>I have a quad-core i7 CPU on my windows desktop. I am trying to get mingw32-make to compile using as many core as possible. I have added -j8 into the \"Make Arguments\" fields under Build Settings->Build Steps. mingw32-make seems to completely ignore the option since I don't get any speed improvement out of that. When I view the CPU usage in task manager, it stays at 13% and I only see one instance of g++ running. </p>\n\n<p>Right now, rebuilding the whole project using mingw takes 3 full minutes. Rebuilding it using MSVC takes only 15 seconds. </p>\n\n<p>For your information, I have enabled the precompiled header option in the project settings. That makes things a lot quicker with VC as well. But I am still yet to see the benefit of precompiled header with mingw. </p>\n\n<p>Please share your comments if you have ever got mingw to compile multiple source files in parallel from QTCreator. Thanks! </p>\n"},{"tags":["qt","scrollbar","qt4.7","qlabel","qscrollarea"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12912257,"title":"QLabel supports word wrap, how to add a scroll bar if text is too long?","body":"<p>I have a QLabel on the dialog, and it can display multi-line text. I want the label stay somewhere relative to its parent (the dialog), and the size is fixed. setGeometry() can make the widget's position and size.</p>\n\n<p>However, when text is too long, it can't be displayed totally. I hope there is a vertial scroll bar to help to show all text, but no horizontal scroll bar.</p>\n\n<p>Now I could add a QScrollArea object in dialog's init function, like this:</p>\n\n<pre><code>  iScroll = new QScrollArea(this);\n  iLabel-&gt;setGeometry(QRect(rect.left, rect.top, rect.Width(), rect.Height())); //rect is the place that the label should be in\n  iScroll-&gt;setGeometry(QRect(rect.left, rect.top, rect.Width(), rect.Height()));\n  iScroll-&gt;setWidget(iLabel);\n  iScroll-&gt;setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);\n  iScroll-&gt;setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOn);\n  iScroll-&gt;show();\n</code></pre>\n\n<p>But the label is not perfectly embedded in the scroll area, for one thing, the label has a frame, so even when the text is not so long, the scroll bar can still be dragged. Another thing, the vertical scroll bar takes some place, so a whole line can't be displayed.</p>\n\n<p>Could any one tell me how to adjust these widgets' size, or there is another way to add scroll bar? I'm working on windows with Qt4.7</p>\n"},{"tags":["c++","qt","mfc","atl","algorithmic-trading"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":303,"score":6,"question_id":10709648,"title":"Adding MFC support to a Qt project","body":"<p>I have a Qt project and would like to use an external library that includes \"afxstr.h\".\nProblem is that whenever I compile after linking to the lib and including their header, I get an error:</p>\n\n<pre><code>#error afxstr.h can only be used in MFC projects.  Use atlstr.h\n</code></pre>\n\n<p>Of course, my project is not an MFC project and I can't use atlstr.h instead because it's not my library.</p>\n\n<p>I'm looking for a quick solution!</p>\n\n<p>I'm using VS2010.</p>\n\n<p>The lib in question is the <a href=\"http://www.interactivebrokers.com/php/apiUsersGuide/apiguide.htm\" rel=\"nofollow\">Interactive Brokers API</a>.</p>\n"},{"tags":["qt","nokia","augmented-reality","blackberry-10"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":11356983,"title":"QAugmentedReality on BB10","body":"<p>I want to create augmented reality application on BB10. But there is no 3rd party library is available for BB10. So i am thinking to implement Augmented Reality using QAugmentedReality of Nokia because blackberry said that Qt application will run on BB10.\nIs there any sample AR application in QT so i can run that on BB10 and check if it work or not then i start developing my application.</p>\n"},{"tags":["c++","file","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12895405,"title":"Parsing XML file while it is being written in Qt","body":"<p>I have a process that is writing an XML file. I am writing an application that wants to parse the XML that is being written. The constraint here is that I want to parse the XML as it is being written. The XML is not written entirely all at once, and will be written gradually. How can I accomplish this using Qt? </p>\n"},{"tags":["qt","linux-kernel","notify","inotify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12908817,"title":"Corrupt Console-output after enabling CONFIG_FSNOTIFY and CONFIG_INOTIFY_USER","body":"<p>My problem appears, after activating \"CONFIG_FSNOTIFY\" and \"CONFIG_INOTIFY_USER\" in the kernel. The full kernel config can be found here: <a href=\"http://pastebin.com/vN0DnvVv\" rel=\"nofollow\">http://pastebin.com/vN0DnvVv</a></p>\n\n<p>With the old kernel the output was displayed correctly, but with the new kernel Qt's output (\"Cannot open keyboard input device\") is corrupted - even sometimes the font changes in the console:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9GU1Z.jpg\" alt=\"Screenshot of TerraTerm with Console Problem\"></p>\n\n<p>When redirecting the output with \"./milestone_arm_release &amp;> output.txt\" into a file, this file does not contain any strange letters. Also when starting \"script filename.txt\" before, the output is fine.</p>\n\n<p>This would be the expected output:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZnNdK.jpg\" alt=\"TerraTerm screenshot with expected output\"></p>\n"},{"tags":["c++","qt","qstring","wchar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1088,"score":1,"question_id":8040627,"title":"Convert WCHAR to QString in Qt","body":"<p>Convert WCHAR to QString in Qt.\nPlease help me to implement it to complete this convertion.</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12905791,"title":"Qt implementation of MessageBox","body":"<p>Referencing an earlier question: <a href=\"http://stackoverflow.com/questions/263/gtk-implementation-of-messagebox\">GTK implementation of MessageBox</a></p>\n\n<p>I have a question very much like that one, except substituting Qt for GTK.</p>\n\n<p>As in that question, what is the least I would need to do to show a message dialog using Qt, from an application that is not already a Qt application?</p>\n\n<p>I presume something like the following would need to occur:</p>\n\n<ul>\n<li>Initialize Qt and its event loop</li>\n<li>Install idle callback to invoke dialog</li>\n<li>Quit event loop and finalize Qt when dialog is dismissed.</li>\n</ul>\n"},{"tags":["c++","web-services","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12907876,"title":"Web service returns flags as text values - how to convert to enum","body":"<p>I'm trying to work with flags returned by a web service that was developed in .NET C#.  The flags are returned in a json object as a string separated by commas ex:  <code>roomA,roomB,auditorium</code>.  My Qt c++ app is using an enum with a bit set for each of the flags:</p>\n\n<pre><code>enum AccessMask\n{\n    None = 0,\n\n    roomA                       = 1 &lt;&lt; 1,\n    roomB                       = 1 &lt;&lt; 2,\n    ownerOnly                   = 1 &lt;&lt; 3,\n    workgroup                   = 1 &lt;&lt; 4,\n    department                  = 1 &lt;&lt; 5,\n    auditorium                  = 1 &lt;&lt; 6\n}\n</code></pre>\n\n<p>Is there a better way to set an access mask other than doing many 'if QString.contains()' statements?</p>\n"},{"tags":["c++","qt","class","widget","qwidget"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12904746,"title":"QT Widget Pointer","body":"<p>I'm fairly new to QT and am struggling getting a basic painting example to work. I am creating a game where I instantiate a widget in my main game controller. I want to pass this to multiple different objects so that each object can have its own paintEvent and paint its objects accordingly. (IE, the character would paint seperately, the scenery etc etc)</p>\n\n<p>Here's my 'animated object' header:</p>\n\n<pre><code>class Animated_object: public QWidget {\n\n    public:\n        Animated_object(char * _image_url, QWidget * window);\n        ~Animated_object();\n\n    protected:\n        QImage * get_image();//this will return the image for this object\n        QRect * get_rectangle();//this will return the rectangle of coordinates for this point\n\n\n    protected:\n        virtual void paintEvent(QPaintEvent * event) = 0;\n        virtual void set_image(char * _image_url) = 0;\n\n\n    protected:\n        QWidget * window;\n        char * image_url;//this is the imageurl\n        QImage * image;\n        QRect * rectangle;\n\n};\n</code></pre>\n\n<p>My animated object constructer:</p>\n\n<pre><code>Animated_object::Animated_object(char * _image_url, QWidget * _window) : QWidget(_window) {....}\n</code></pre>\n\n<p>and here is my character header (character inherits from animated_object)</p>\n\n<pre><code>class Character : public Animated_object {\n\n    public:\n        Character(QWidget * _window);   \n        ~Character();\n        void operator()();//this is the operator for the character class -- this is responsible for running the character\n        void set_image(char * _image_url) {};\n        void paintEvent(QPaintEvent * event);\n\n};\n</code></pre>\n\n<p>I instantiate a character by passing the constructor my main widget pointer. So I have another class that can call multiple characters and they would all paint to the same widget (hopefully).</p>\n\n<p>My character paintEvent looks like this:</p>\n\n<pre><code>void Character::paintEvent(QPaintEvent * event) {\n\n    QPainter painter(this);//pass it in window to ensure that it is painting on the correct widget!\n\n    cout &lt;&lt; \"PAINT EVENT \" &lt;&lt; endl;\n    QFont font(\"Courier\", 15, QFont::DemiBold);\n    QFontMetrics fm(font);\n    int textWidth = fm.width(\"Game Over\");\n\n    painter.setFont(font);\n\n    painter.translate(QPoint(50, 50));\n    painter.drawText(10, 10, \"Game Over\");\n\n}\n</code></pre>\n\n<p>It is being called, (I used the std::cout to test that) but is not painting anything...</p>\n\n<p>Finally, here is where my main widget is called.</p>\n\n<pre><code>Hill_hopper::Hill_hopper(): Game(500,500, \"Hill Hopper\") {\n\n    Character * character = new Character(window);\n\n    window-&gt;show();\n    application-&gt;exec();\n\n\n}\n</code></pre>\n\n<p>And here's the game constructor:</p>\n\n<pre><code>Game::Game(int _height, int _width, char * title): height(_height), width(_width) {\n\n\n    int counter = 0;\n    char ** args;\n\n\n    application = new QApplication(counter, args);\n\n    window = new QWidget();\n\n    desktop = QApplication::desktop();\n\n    this-&gt;set_parameters(title);\n\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["qt","mvc","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":11024531,"title":"Qt: view added to layout not updating, but will update when not in layout","body":"<p>A widget called Tachometer will update accordingly when a signal is sent from its corresponding model, but it will not respond at all when I add the widget to a layout. What might account for this? Without showing the internals of the model or the view (which would be exhaustive), I will attempt to point out where it is not working:</p>\n\n<pre><code>void MainWindow::setupWidgets()\n{\n    QHBoxLayout *horiz1 = new QHBoxLayout();\n    QHBoxLayout *horiz2 = new QHBoxLayout();\n    odometer = new Odometer(ui-&gt;dashFrame);\n    fuelGauge = new FuelGauge(ui-&gt;dashFrame);\n    tripometer = new Tripometer(ui-&gt;dashFrame);\n    tachometer = new Tachometer(ui-&gt;dashFrame);\n    temperatureGauge = new TemperatureGauge(ui-&gt;dashFrame);\n    oilPressureGauge = new OilPressureGauge();\n    QVBoxLayout *vertOPG = new QVBoxLayout();\n\n    if ( oilPressureGauge-&gt;getTitle() != \"\" )\n    {\n        QLabel *OPGLabel = new QLabel(oilPressureGauge-&gt;getTitle());\n        vertOPG-&gt;addWidget(OPGLabel);\n    }\n    vertOPG-&gt;addWidget(oilPressureGauge);\n\n    speedometer = new Speedometer(ui-&gt;dashFrame);\n    horiz1-&gt;addWidget(tachometer);\n    horiz1-&gt;addWidget(speedometer);\n    horiz2-&gt;addWidget(fuelGauge);\n    horiz2-&gt;addWidget(temperatureGauge);\n    horiz2-&gt;addLayout(vertOPG);\n    horiz2-&gt;addWidget(tripometer);\n    horiz2-&gt;addWidget(odometer); // will NOT update when added to layout\n    QVBoxLayout *vert1 = new QVBoxLayout(ui-&gt;dashFrame);\n    vert1-&gt;addLayout(horiz1);\n    vert1-&gt;addLayout(horiz2);\n    this-&gt;ui-&gt;dashFrame-&gt;setLayout(vert1);\n}\n</code></pre>\n\n<p>I am perplexed that the other Widgets will update as expected, but not the object named tachometer. As I said before, if I don't add it to the layout, e.g.</p>\n\n<pre><code>// ...\ntachometer = new Tachometer(ui-&gt;dashFrame);\n// ...\n</code></pre>\n\n<p>it appears to work just fine. Furthermore, by debugging on the console I see that the RPM value for the tachometer is being sent to the appropriate slot that updates the view for the tachometer (I just noticed the tachometer finally responded to the update, but it isn't updating after every timeout as it should). It seems like some latency issues are clearly involved here.\nIf anyone might have an idea as to why this might be, I would greatly appreciate some clarification.</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12903260,"title":"What is the structure of a simple threaded gui application using Qt?","body":"<p>I'm trying to wrap my head around threading and gui applications so I can start to build them.  I downloaded the Qt SDK but am a bit lost.  </p>\n\n<p>Just so I can understand how this works, I want to create a gui application that consists of a text box and two buttons.  Each button would start a new thread (so 3 could be running at the same time: the main gui thread, and the 2 initiated from the buttons), and each would have access to the information in the text box.  How would I set this application up?</p>\n"},{"tags":["osx","qt","creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":119,"score":-2,"question_id":12905593,"title":"Compilation with Qt Creator on Mac OSX 10.8.1","body":"<p>I am new to both Qt and Mac OSX . I am using Qt 2.4.1 with Qt library 4.8.3 on Mac OSX 10.8.1. \nI am using XCode 4.5.1.\nI am trying to compile C++ code. During the build process, I first got the warning – “warning “This version of Mac OS X is unsupported”.\nThen I got a bunch of similar warning – like – “warning: directory not found for option ‘-L/tmp/qt-stuff-85167/source/qt-everywhere-opensource-src-4.8.1/Desktop/Qt/4.8.1/gcc/lib’\nThen I got another warning –\n“warning: ignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtCore.framework/QtCore, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtCore.framework/QtCoreignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtSql.framework/QtSql, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtSql.framework/QtSqlignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtXml.framework/QtXml, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtXml.framework/QtXmlignoring file /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/QtGui, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0× 7 0× 0 0× 0 0× 1 0× 3 0× 0 0× 0 0× 0 0× 6 0× 0 0× 0 0× 0 ) which is not the architecture being linked (i386): /Users/vijaythakur/QtSDK/Desktop/Qt/4.8.1/gcc/lib/QtGui.framework/QtGui”\nThen I got error –\n“operator&lt;&lt;(QDebug, QSqlError const&amp;)”, referenced from:\nSelectHandler::getDeviceErrorInfo(Command&amp;) in selecthandler.o\nd: symbol(s) not found for architecture i386\ncollect2: ld returned 1 exit status\nlipo: can’t open input file: /var/folders/1f/v4rbw7gx5wd5w49797b3yprm0000gn/T//ccDw1Njq.out (No such file or directory)\nmake: <em>*</em> [DeviceUtility2.app/Contents/MacOS/DeviceUtility2] Error 1\nI guess that id symbols not found for the architect i386 is due to incompatible library.If that is the case, then please let me know the correct version for Mac OSX 10.8.1</p>\n"},{"tags":["c++","qt","gui","dll","vst"],"answer_count":3,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":270,"score":11,"question_id":12805084,"title":"Qt GUI environment in a DLL (VST Plugin)","body":"<p>I would like to use the Qt GUI library as the user interface for a VST plugin. A VST plugin is a DLL on windows. A host application calls various functions on the DLL, including things like <code>openGUI()</code>.</p>\n\n<p>I want to know how to use Qt GUI from a DLL; I have done some research to look at the possible options but I'm not completely sure on the limitations.</p>\n\n<p>The main problem is where to create the <code>QApplication</code> object and call <code>exec()</code> on it (which is a function that does not return until the application has quit).</p>\n\n<p>I have looked at the solution given in <a href=\"http://stackoverflow.com/questions/11054087/starting-qt-gui-from-dll-in-dllstart-function\">this post</a>, but after further reading it would appear this solution will not work on Mac OS X, as Cocoa is more restrictive about the particular thread a GUI can run on. It's a bit of a hack really.</p>\n\n<p>I have also seen <a href=\"http://stackoverflow.com/questions/1678937/dllmain-and-qt-mfc-migration\">this solution</a>, but that relies on <code>QMfcApp</code> and <code>QWinWindow</code> which don't appear to be part of the Qt library any more.</p>\n\n<p>Is the only way round this for my DLL to spawn off a new application itself? Presumably I could start one with a call to <code>QProcess</code> and use some shared memory to share between the GUI application and my VST DLL? Has anyone come across this type of problem? Am I going down a bad route with this or is there something I haven't thought of yet?</p>\n\n<p><strong>Update</strong></p>\n\n<p>After further research I have come across the <a href=\"http://qt-project.org/doc/qt-4.8/qabstracteventdispatcher.html\"><code>QAbstractEventDispatcher</code></a> class. I have seen <a href=\"http://qt-project.org/doc/qt-4.8/qabstracteventdispatcher.html\">this post</a> which seems to say it's possible to call <code>QApplication::processEvents()</code> from your own (the host of my plugin) event loop instead of calling <code>QApplication::exec()</code>. Has anyone tried doing this?</p>\n"},{"tags":["qt","facebook-login","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12902196,"title":"Facebook App Login Giving Error on QWebView","body":"<p>I was trying to create a facebook based login for my desktop based application using <a href=\"https://developers.facebook.com/docs/authentication/\" rel=\"nofollow\">this</a> as a reference.</p>\n\n<p>So, I tried to load the url <a href=\"https://www.facebook.com/dialog/oauth?client_id=MY_APP_ID&amp;redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&amp;response_type=token\" rel=\"nofollow\">https://www.facebook.com/dialog/oauth?client_id=MY_APP_ID&amp;redirect_uri=https%3A%2F%2Fwww.facebook.com%2Fconnect%2Flogin_success.html&amp;response_type=token</a> in a QWebView.</p>\n\n<p>On doing so, it is giving me an error:</p>\n\n<blockquote>\n  <p>An error occurred with MY_APP_NAME. Please try again later</p>\n</blockquote>\n\n<p>with no other information.</p>\n\n<p>When I copy paste the URL to firefox or chrome, it works perfectly fine. What could be the cause behind this?</p>\n"},{"tags":["qt","build","makefile","g++","mingw32"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12893626,"title":"Static Qt Build Cryptic Error","body":"<p>I am trying to do a static build of Qt (4.8.1) using mingw32-make (gcc 4.7.0) so that I can statically link my application for the sake of ease of use/delivery.</p>\n\n<p>I keep getting a strange error from mingw32-make, though, which I do not understand.</p>\n\n<pre><code>../3rdparty/javascriptcore/JavaScriptCore/runtime/JSGlobalObject.h:270:103: warning: control reaches end of non-void function [-Wreturn-type]\nMakefile.Release:2033: recipe for target 'obj/release/JSBase.o' failed\nmingw32-make[2]: *** [obj/release/JSBase.o] Error 1\nmingw32-make[2]: Leaving directory 'C:/StaticQt/qt/src/script'\nMakefile:34: recipe for target 'release' failed\nmingw32-make[1]: *** [release] Error 2\nmingw32-make[1]: Leaving directory 'C:/StaticQt/qt/src/script'\nMakefile:1360: recipe for target 'sub-script-sub_src_target_ordered' failed\nmingw32-make: *** [sub-script-sub_src_target_ordered] Error 2\n</code></pre>\n\n<p>Looking in the associated Makefile.Release file, on the indicated lines, I find these:</p>\n\n<pre><code>Makefile.Release 2033: $(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/release/JSBase.o ../3rdparty/javascriptcore/JavaScriptCore/API/JSBase.cpp\nMakefile.Release 1360: $(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/release/pcre_compile.o ../3rdparty/javascriptcore/JavaScriptCore/pcre/pcre_compile.cpp\nMakefile 34: $(MAKE) -f $(MAKEFILE).Release\n</code></pre>\n\n<p>I really understand very little about makefiles, so haven't a clue what these lines mean. Any help with this would be very much appreciated.</p>\n\n<p>EDIT: it just occured to me it may be useful for people to know the commandline arguments I used... Well, I followed this guide: <a href=\"http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows\" rel=\"nofollow\">http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows</a></p>\n"},{"tags":["qt","qt4","protocol-buffers","qtembedded","qdbus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12843036,"title":"qdbus and marshalling of custom types","body":"<p>I'd like to send a custom c++ class through the Qt DBUS API. I've created the class from the .proto file using the protoc compiler and added them to my project in QtCreator. Now I want to verify that I can send the custom class as a QVariant through the dbus API. I have a receiver and sender program and can send a simple test string so Dbus works. I am having trouble sending the protocol buffer class after adding it as a metatypes.</p>\n\n<p>My test .proto file contains only ints:</p>\n\n<pre><code>message MyData {\n  required int32 name = 1;\n  required int32 id = 2;\n  optional int32 email = 3;\n}\n</code></pre>\n\n<p>To the protocol buffer class header file I added:</p>\n\n<pre><code>#include &lt;QMetaType&gt;\n#include &lt;QDBusMetaType&gt;\n...\nfriend QDBusArgument &amp;operator&lt;&lt;(QDBusArgument &amp;argument, const MyData &amp;dataToWrite);\nfriend const QDBusArgument &amp;operator&gt;&gt;(const QDBusArgument &amp;argument, MyData &amp;dataToWrite);\n...\nQ_DECLARE_METATYPE(MyData )\n</code></pre>\n\n<p>And to the protocol buffer class implementation file I added:</p>\n\n<pre><code>#include &lt;QDebug&gt;\n...\n#include &lt;QMetaType&gt;\n#include &lt;QDBusMetaType&gt;\n\n// Marshall the MyData data into a D-Bus argument\nQDBusArgument &amp;operator&lt;&lt;(QDBusArgument &amp;argument, const MyData &amp;dataToWrite)\n{\n\n    qDebug() &lt;&lt; \"OPERATOR&lt;&lt;\";\n\n    argument.beginStructure();\n\n    // Break out the various properties of dataToWrite protocol buffer\n    int name = dataToWrite.name();\n    int id = dataToWrite.id();\n    int email = dataToWrite.email();\n    qDebug() &lt;&lt; name;\n    qDebug() &lt;&lt; id;\n    qDebug() &lt;&lt; email;\n\n    argument &lt;&lt; name;\n    argument &lt;&lt; id;\n    argument &lt;&lt; email;\n    argument.endStructure();\n    return argument;\n\n}\n\n// Retrieve the MyData data from the D-Bus argument\nconst QDBusArgument &amp;operator&gt;&gt;(const QDBusArgument &amp;argument, MyData &amp;dataToWrite)\n{\n\n    qDebug() &lt;&lt; \"OPERATOR&gt;&gt;\";\n\n    argument.beginStructure();\n\n    // Break out the various properties of dataToWrite protocol buffer\n    int name = dataToWrite.name();\n    int id = dataToWrite.id();\n    int email = dataToWrite.email();\n    qDebug() &lt;&lt; name;\n    qDebug() &lt;&lt; id;\n    qDebug() &lt;&lt; email;\n\n    argument &gt;&gt; name;\n    argument &gt;&gt; id;\n    argument &gt;&gt; email;\n    argument.endStructure();\n    return argument;\n\n}\n</code></pre>\n\n<p>Main simply looks like this:</p>\n\n<pre><code>QCoreApplication a(argc, argv);\n\n    dbussender* client = new dbussender(\"com.one.two.three.nvram\", \"/dbusReadWriteNvRam\", QDBusConnection::sessionBus(), 0);\n\n    // Create a protocol buffer class and provide its properties with values\n    MyData dataToWrite;\n    dataToWrite.set_name(2);\n    dataToWrite.set_id(3);\n    dataToWrite.set_email(4);\n\n    QString command3 = \"Contacting Protobuf Receiver and calling WRITENVRAM...\";\n    QString response3 = client-&gt;writeNVRam(dataToWrite);\n\n    std::cout &lt;&lt; \"Command:   \" &lt;&lt; command3.toStdString() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Response:   \" &lt;&lt; response3.toStdString() &lt;&lt; std::endl;\n</code></pre>\n\n<p>My dbussender class calls the remote function like this:</p>\n\n<pre><code>inline QDBusPendingReply&lt;QString&gt; writeNVRam(MyData dataToWrite)\n    {\n\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.name();\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.id();\n        qDebug() &lt;&lt; \"Sending \" &lt;&lt; dataToWrite.email();\n\n        QList&lt;QVariant&gt; argumentList;\n        argumentList &lt;&lt; QVariant::fromValue&lt;MyData&gt;(dataToWrite);\n        return asyncCallWithArgumentList(QLatin1String(\"writeNVRam\"), argumentList);\n    }\n</code></pre>\n\n<p>Ultimately in my receiver program, this function is called but always returns 0:</p>\n\n<pre><code>// Write NVRAM\nQString dbusReadWriteNvRam::writeNVRam(MyData dataToWrite) {\n\n    qDebug() &lt;&lt; \"WRITE NVRAM COMMAND CALLED\";\n\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.name();\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.id();\n    qDebug() &lt;&lt; \"Unpacking: \" &lt;&lt; dataToWrite.email();\n\n    return \"HELLO CLASS\";\n\n}\n</code></pre>\n\n<p>Here is the output of the Sender program:</p>\n\n<pre><code>Sending  2 \nSending  3 \nSending  4 \nOPERATOR&lt;&lt; \n0 \n0 \n0 \nOPERATOR&lt;&lt; \n2 \n3 \n4 \nCommand:   Contacting Protobuf Receiver and calling WRITENVRAM...\nResponse:   HELLO CLASS\n</code></pre>\n\n<p>And here is the output of the Receiver program:</p>\n\n<pre><code>OPERATOR&lt;&lt; \n0 \n0 \n0 \nOPERATOR&gt;&gt; \n0 \n0 \n0 \nWRITE NVRAM COMMAND CALLED \nUnpacking:  0 \nUnpacking:  0 \nUnpacking:  0\n</code></pre>\n\n<p>Why does it seem that the marshalling functions are being called twice? And howcome the second call seems to include the valid values of 2,3,4 for the 3 properties of my protocol buffer but the first call is all 0's? The Receiver only seems to see the All 0's and never receives a protocol buffer object with valid values.</p>\n\n<p>Is there something wrong with my marshalling code? What else could be going on?</p>\n"},{"tags":["c++","qt","mutex","callstack"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12900329,"title":"Truncated callstack when debugging c++ mutex","body":"<p>In attempting to track down a blocked mutex, the callstack appears to be trunctated while waiting on the mutex. I don't see a normal call graph, just the following:</p>\n\n<p>0   CpupSyscallStub wow64cpu        0x75132e09<br>\n1   Thunk0ArgReloadState    wow64cpu        0x75132bf1<br>\n2   RunCpuSimulation    wow64       0x751ad07e<br>\n3   Wow64LdrpInitialize wow64       0x751ac549<br>\n4   LdrpInitializeProcess   ntdll       0x77984956<br>\n5    ?? ::FNODOBFM::`string'    ntdll       0x77981a17<br>\n6   LdrInitializeThunk  ntdll       0x7796c32e  </p>\n\n<p>This is blocking on a QMutex, I'm developing with Qt Creator using CDB from MSVC2008. I would like to be able to see a \"normal\" stack, that is a call graph up to the point of the mutex.lock() call.\nIf I had to guess, it would be related to debugging a 32 bit app on a 64 bit machine. Any ideas as how to get a proper callstack ?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3911,"score":4,"question_id":3537251,"title":"chart library for QT","body":"<p>Is there any opensource or free chart library for Qt ? I mean XY charts (not bar charts or sth like that) ?</p>\n\n<p>thanks for help</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12898239,"title":"How to minimize a QDialog?","body":"<p>While I understand that <code>QDialog</code> is not meant for minimum state, Is it possible to minimize a <code>QDialog</code> programmatically?</p>\n"},{"tags":["c++","qt","directory"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12896875,"title":"Traversing a directory for specified folders? Qt & c++","body":"<p>I got a directory with the following structur.</p>\n\n<pre><code>Name-\n   -Year1\n      -Month1\n        -Day1\n          -file1\n        -..\n      -...\n   -Year2\n      -Month1\n      -...\n   -...\n</code></pre>\n\n<p>Now i have 2 dates 2009-01-02 and 2010-02-03.</p>\n\n<p>I want to  ask if anyone knows how i can list all files which are in the folders in the given time, without building a giant if-else construct.\nIf possible without any other frameworks than Qt.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["image","qt","sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12897594,"title":"Choosing previous and next image in qt imageviewer at runtime?","body":"<p>I am a noob at qt. I have been asked to develop an image viewer in qt until Wednesday. It should have the following basic functions -</p>\n\n<p>Should have buttons for toggling previous and next image (among images in a folder).</p>\n\n<p>Should be capable of zooming in or out</p>\n\n<p>I have developed the viewer with open, zoom in and zoom out functionality.</p>\n\n<p>But I still want to know how to toggle b/w images. For e.g., when clicking previous button, I should have the previous image to the one currently open in the QLabel. Similar to arrow key functionality.</p>\n\n<p>I hope I am not too vague.</p>\n"},{"tags":["c++","qt","string-formatting"],"answer_count":3,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":8607,"score":8,"question_id":4784155,"title":"how to format a QString","body":"<p>Hello\nI`d like to format a string for QT label, i´m programming in C++ on QT.In Objc i would write something like: </p>\n\n<pre><code>NSString *format=[NSString stringWithFormat: ... ];\n</code></pre>\n\n<p>How to do something like that in QT?</p>\n\n<p>Thanks</p>\n"},{"tags":["qt","sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":12881290,"title":"Image viewer in qt SDK -?","body":"<p>I am a noob at qt. I have been asked to develop an image viewer in qt until Wednesday.  It should have the following basic functions -</p>\n\n<blockquote>\n  <p>Should have buttons for toggling previous and next image (among images in a folder).</p>\n  \n  <p>Should be capable of zooming in or out</p>\n</blockquote>\n\n<p>I have developed the viewer with open, zoom in and zoom out functionality.</p>\n\n<p>But I still want to know <strong>how to toggle b/w images.</strong> For e.g., when clicking previous button, I should have the previous image to the one currently open in the QLabel. Similar to arrow key functionality.</p>\n\n<p>I hope I am not too vague.</p>\n"},{"tags":["qt","makefile","qmake"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12851747,"title":"qmake: generate include other Makefile in Makefile","body":"<p>Is there a way to tell qmake to add to Makefile an include directive to include other Makefile.</p>\n\n<p>I need at the beginning of generated Makefile added one line: </p>\n\n<p>include custom.inc</p>\n\n<p>Maybe there is just a way to output text to Makfiles from qmake but I could not find.</p>\n"},{"tags":["qt","qt4","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":358,"score":0,"question_id":3120258,"title":"QTextEdit.insertHtml() is very slow","body":"<p>I've given up on actually trying to make it go faster. </p>\n\n<p>My biggest problem is that when I'm inserting the html, the application slows down to a crawl.\nI have a progressbar, and I'm calling </p>\n\n<pre><code>QCoreApplication.processEvents()\n</code></pre>\n\n<p>(I'm using pyqt, by the way)</p>\n\n<p>Can I put insertHtml() into a different thread, so I don't have an unresponsive interface?\nHow would I go about that? I've looked into QThread and QThreadPool, and I'm not quite sure where to begin.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":56,"score":-1,"question_id":12892010,"title":"Adding a widget to the main window from another thread Qt","body":"<p>I have just started crawling in Qt. Installed qt4 on my Ubuntu machine and tried some basic examples. Now I am trying a develop a multithreaded application. Firstly I am confused whether to use pthreads or Qthreads. Can someone tell me which one is better to use.?</p>\n\n<p>Further in my application, I will send some values from one thread to another thread. The 2nd thread will print those in a box. My query is, whether a thread other than main thread, can add a widget  to the main window?</p>\n"},{"tags":["c++","multithreading","qt","gui"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":576,"score":2,"question_id":9777911,"title":"How do I create a Window in different QT threads?","body":"<p>I have an application in which each thread (except the main thread) needs to create its own window. I tried creating a thread and then calling <code>this-&gt;exec()</code> in the <code>run</code> function. However, I get an error before I even get to that call: <code>ASSERT failure in QWidget: \"Widgets must be created in the GUI thread.\"</code></p>\n\n<p>I want to popup a message window. The problem is that the source has multiple threads each of which may need to popup its own message.</p>\n"},{"tags":["qt","focus","trayicon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12895135,"title":"Qt Application, focus and show/hide function","body":"<p>I am trying to do simly functionality. \nWhen I click on tray icon:</p>\n\n<pre><code> -A- if app is hide &gt; show\n -B- if app is show and is NOT focus &gt; focus it\n -C- if app is show and focus &gt; hide\n</code></pre>\n\n<p>Very simle but if you have focus app and you click on try icon, the focus is lost and now the taskbar is focused. So the B condition is true instead of C.\nSo what with that?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":297,"score":2,"question_id":8763473,"title":"Qt creator CDB not working","body":"<p>I'm using the latest Qt SDK (2.4.0) and am having problems getting the visual studio 2008 CDB working properly.  I have a experienced the following 2 problems which I think are related</p>\n\n<ol>\n<li><p>I have an assert that is failing.  When that assert fails I see the Visual Studio dialog box asking me if I'd like to Abort, Retry, or Ignore.  If I choose Retry, the program does not break as it should, instead it just continues executing.  However, if I put a break point before that assert, and then step over that line within the debugger then when I hit Retry the program does break as expected.</p></li>\n<li><p>All break points that are in place before execution starts are hit correctly.  However, if I attempt to add a break point after execution starts then that break point is ignored.  But, if while stopped, I add more break points, then those are correctly hit.</p></li>\n</ol>\n\n<p>It would appear that the debugger is only working once I manually stop it with a break point.  Does anyone know what is going on here?</p>\n\n<p>I'm using Windows 7 64 bit Qt SDK for Windows 32</p>\n"},{"tags":["qt","qt4","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":741,"score":3,"question_id":3932650,"title":"QTableView - Selection background color","body":"<p>I am using the following code for set the style for the table in simulator(S60)(Nokia Qt SDK).</p>\n\n<pre><code>searchTable-&gt;setStyleSheet(\"background: rgb(255,255,255);color:rgb(0,0,0); font-family:Arial Narrow;font-size:20px; border: 4px outset rgb(255,255,255);gridline-color: #669933;\"\n                           \"selection-background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,stop: 0 #486909, stop: 1 white);\"\n                              );\n</code></pre>\n\n<p>But When I am selecting the  element in the data I got the following output. Please find the attachment.</p>\n\n<p><img src=\"http://i.stack.imgur.com/5ATIj.png\" alt=\"alt text\"></p>\n\n<p>Please help me.... What I did wrong .. Thanks in advance.</p>\n"},{"tags":["c++","qt","qwidget","qstring"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12888746,"title":"Qt Dynamically create QWidget from QString","body":"<p>I am trying to create a program that reads information from a database, and accordingly set up the layout. Specifically, I want to read two date fields and depending on the difference between the days, create a day(s) number of elements. Have anyone got an idea on how this could be done? I have tried to create an element using the QString->text() property with no success for obvious reasons and I have managed to write a function to create an element, but my problem is that I cannot control the name of the element, making it impossible for me with my rubbish knowledge about c++ to then interact with the given element.</p>\n\n<p>Thank you for your time,</p>\n\n<p>Cheers.     </p>\n"},{"tags":["c++","qt","qml"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12890304,"title":"How to change C++ Model from QML?","body":"<p>I have a list view in Qml with Text Input as one of the element. I used c++ model to inflate the list view . Now I want to change the C++ model if user enters any value in Text Input in qml.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["qt","qml","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12890075,"title":"QML : Menu Drop-down issue","body":"<p>How to get different items containers in drop-down feature in QML as shown in figure. </p>\n\n<p><img src=\"http://i.stack.imgur.com/Js2sO.jpg\" alt=\"enter image description here\"></p>\n\n<p>I tried the requirement in below implementation using listview but could not get the same. Below is the snippet</p>\n\n<pre><code>import QtQuick 1.1\n\nRectangle {\n    width:400;\n    height: 400;\n\n    Rectangle {\n            id:comboBox\n            property variant items: [\"Item 1\", \"Item 2\", \"Item 3\"]\n\n            signal comboClicked;\n            width: 400;\n            height: 30;\n            z: 100;\n            smooth:true;\n\n            Rectangle {\n                id:chosenItem\n                radius:4;\n                width:parent.width;\n                height:comboBox.height;\n                color: \"#203586\"\n                smooth:true;\n                Text {\n                    anchors.top: parent.top;\n                    anchors.margins: 8;\n                    id:chosenItemText\n                    x: 11\n                    y: 5\n                    color: \"#ffffff\"\n                    text:\"Menu\";\n                    anchors.topMargin: 5\n                    anchors.left: parent.left\n                    anchors.leftMargin: 12\n                    font.family: \"Arial\"\n                    font.pointSize: 14;\n                    smooth:true\n                }\n\n                MouseArea {\n                    width: 400\n                    height: 30\n                    anchors.bottomMargin: 0\n                    anchors.fill: parent;\n                    onClicked: {\n                        comboBox.state = comboBox.state===\"dropDown\"?\"\":\"dropDown\"\n                    }\n                }\n            }\n\n            Rectangle {\n                id:dropDown\n                width:comboBox.width/4;\n                height:0;\n                clip:true;\n                radius:4;\n                anchors.top: chosenItem.bottom;\n                anchors.margins: 2;\n                color: \"lightblue\"\n\n                ListView {\n                    id:listView\n                    height:500;\n                    model: comboBox.items\n                    currentIndex: 0\n                    delegate: Item{\n                        width:comboBox.width;\n                        height: comboBox.height;\n\n\n                        Text {\n                            text: modelData\n                            anchors.top: parent.top;\n                            anchors.left: parent.left;\n                            anchors.margins: 5;\n\n                        }\n                        MouseArea {\n                            anchors.fill: parent;\n                            onClicked: {\n                                comboBox.state = \"\"\n                            }\n                        }\n                    }\n                }\n            }\n\n\n            states: State {\n                name: \"dropDown\";\n                PropertyChanges { target: dropDown; height:30*comboBox.items.length }\n            }\n\n            transitions: Transition {\n                NumberAnimation { target: dropDown; properties: \"height\"; easing.type: Easing.OutExpo; duration: 1000 }\n            }\n        }\n    }\n</code></pre>\n\n<p>With above approach am getting the drop-down as shown in below, which is not according to the requirement.</p>\n\n<p>I tried with various approaches but I was not able to achieve the exact requirement with proper working\n<img src=\"http://i.stack.imgur.com/l8vTo.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12889865,"title":"How I can build APK package for Qt/Android app in QtCreator/Necessitas?","body":"<p>I try to create Android application from Qt sources in QtCreator with Necessitas.\nWhen I select \"Build\" only compilation and linking to .so was performed. When I select \"Deploy \" the APK package was created and it's tried to be loaded to device, but I only need to build the complete signed APK (like \"Export Android App\" in Eclipse). Also I want to build all targets in one step - armv5/armv7a Debug /Release, but the \"Build All\" command somehow only currently selected target.</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12889918,"title":"QSharedMemory::handle doesnt exist error","body":"<p>I'm trying to run the following QT code :</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QSharedMemory&gt;\n#include &lt;QDebug&gt;\nQSharedMemory g_objSharedMemory(QString(\"Shared Memory\"));\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    if(g_objSharedMemory.isAttached()==false)\n    {\n        qDebug()&lt;&lt;\"Shared memory is not attached !!!!trying to attach it\\n \";\n        qDebug()&lt;&lt;g_objSharedMemory.errorString();\n        if(g_objSharedMemory.attach()==false)\n        {\n            qDebug()&lt;&lt;\"Failed to attach shared memory to the process!!!!\";\n            qDebug()&lt;&lt;g_objSharedMemory.errorString();\n            return 0;\n        }\n    }\n\n    return a.exec();\n}\n</code></pre>\n\n<p>I've failed to attach the shared memory segment to the process. I'm building this code on windows XP.<br />\nI'm getting <code>QSharedMemory::handle doesnt exist</code> error.<br />\nHow can i fix this error?</p>\n"},{"tags":["qt","drag-and-drop","drag","qlistwidget"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":88,"score":5,"question_id":12723297,"title":"QListWidget Drag after scrolling down the list","body":"<p>I am creating A Sortable List in Qt. The Code works perfectly well for Downward Scroll but when i having some issues getting the draggable item after i scroll the list down. I have added some test case screenshot for better understanding</p>\n\n<p><img src=\"http://imageshack.us/a/img13/2791/56842367.png\" alt=\"Screen1\">\n<img src=\"http://imageshack.us/a/img819/8662/87542336.png\" alt=\"Screen2\">\n<img src=\"http://imageshack.us/a/img24/761/97993758.png\" alt=\"Screen3\">\n<img src=\"http://imageshack.us/a/img825/1172/93877106.png\" alt=\"Screen4\"></p>\n\n<p>Well this is the test case code </p>\n\n<pre><code>    #include &lt;QtGui&gt;\n\n   int main(int argc, char **argv) \n   {\n      QApplication app(argc, argv);\n      QListWidget *listWidget = new QListWidget;\n      for(int i=0;i&lt;100;++i){\n        listWidget-&gt;addItem(\"SongOne\");\n        listWidget-&gt;addItem(\"SongTwo\");\n        listWidget-&gt;addItem(\"SongThree\");\n        listWidget-&gt;addItem(\"SongFour\");\n        listWidget-&gt;addItem(\"SongFive\");\n      }\n      listWidget-&gt;setDragDropMode(QAbstractItemView::InternalMove);\n      listWidget-&gt;setDragEnabled(true);\n      listWidget-&gt;setAcceptDrops(true);\n      listWidget-&gt;setDropIndicatorShown(true);\n      listWidget-&gt;viewport()-&gt;setAcceptDrops(true);\n      listWidget-&gt;setSelectionMode(QAbstractItemView::SingleSelection);\n      listWidget-&gt;show();\n      app.exec();\n      delete listWidget;\n      return 0;\n    }\n</code></pre>\n\n<p>Thankz for taking the time in reading my post. Do help me if you have any hint on what i am missing out.I think i am missing setting some property. In the main Program(not the test code), i tried rewriting the <code>dragMoveEvent</code> and few more method, but no use.</p>\n\n<p>the problem here is not the drag and drop but the QRect that is created while doing Drag and Drop. In Figure Two the Qrect is Created but not in Figure Four</p>\n"},{"tags":["multithreading","qt","user-interface","locking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12888138,"title":"Should I use CRITICAL_SECTION or not?","body":"<p>I have a program which has a Ui with which users choose the way to display and do small configurations. It also has a background procedure, which continuously reads data from the network and update the data to display.</p>\n\n<p>Now I put them in one process:\nbackground procedure:  </p>\n\n<pre><code>    STATE MainWindow::Rcv()\n    {\n\n    DeviceMAP::iterator dev;\n\n    for(dev= dev_map.begin(); dev!= dev_map.end(); dev++)\n    {\n\n\n        dev-&gt;second.rcvData();//receive data from the network, the time can be ignored.\n\n        BitLog* log = new BitLog();\n        dev-&gt;second.parseData(log);\n\n\n        LogItem* logItem = new LogItem();\n        logItem-&gt;time = QString::fromLocal8Bit(log-&gt;rcvTime.c_str());\n        logItem-&gt;name = QString::fromLocal8Bit(log-&gt;basicInfo.getName().c_str());\n        logItem-&gt;PIN = QString::fromLocal8Bit(log-&gt;basicInfo.getPIN().c_str()).toShort();\n\n        delete log;\n        add_logItem(logItem);\n\n    }\n    return SUCCESS;\n}\n</code></pre>\n\n<p>add_logItem:</p>\n\n<pre><code>void MainWindow::add_logItem(LogItem* logItem)\n{\n\n\n    writeToFile(logItem);\n\n    Device* r = getDevbyPIN(QString::number(logItem-&gt;PIN));\n\n    if(r == NULL)return;\n\n    devInfo_inside_widget::States state = logItem-&gt;state;\n\n    bool bool_list[portsNum_X];\n    for(int i =0; i &lt; portsNum_X; i++)\n    {\n        bool_list[i] = 0;\n    }\n\n    for(int i = 0; i &lt; portsNum; i++)\n    {\n        bool_list[i] = (logItem-&gt;BITS[i/8] &gt;&gt; (7 - i%8)) &amp; 0x1;\n    }\n\n    r-&gt;refresh(state, logItem-&gt;time, bool_list);//update data inside...state, time , BITS...\n\n    IconLabel* icl = getIConLabelByDev(r);//update data\n    icl-&gt;refresh(state);\n\n\n    logDisplayQueue.enqueue(logItem);//write queue here\n\n    int size = logDisplayQueue.size();\n\n    if(size &gt; 100)\n    {\n        logDisplayQueue.dequeue();//write queue here\n    }\n\n}\n</code></pre>\n\n<p>The section above has not dealt with any ui operations yet, but when user push a radio button in the ui, the program has to filter the data in the queue and display it in the table widget:   </p>\n\n<p>ui operations:     </p>\n\n<pre><code>void MainWindow::filter_log_display(bool bol)\n{\n\n    row_selectable = false;\n    ui-&gt;tableWidget-&gt;setRowCount(0);//delete table items all\n    row_selectable = true;\n\n    int size_1 = logDisplayQueue.size() - 1;\n\n    ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setSliderPosition(0);\n\n    if(size_1+1 &lt; 100)\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(size_1 + 1);\n    }\n    else\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(100);//display 100 rows at most\n    }\n\n\n    if(bol)//filter from logDisplayQueue and display unworking-state-log rows\n    {\n\n        int  index = 0;\n        for(int queue_i = size_1; queue_i &gt;= 0; queue_i--)\n        {\n\n            LogItem* logItem = (LogItem*)logDisplayQueue.at(queue_i); // read queue here\n\n            if(logItem-&gt;state == STATE_WORK || logItem-&gt;state == STATE_UN)continue;\n\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n\n            ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n            ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n            ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n            index++;\n        }\n\n        ui-&gt;tableWidget-&gt;setRowCount(index);\n\n    }\n    else//display all rows\n    {\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n\n            LogItem* logItem = (LogItem*)logDisplayQueue.at(queue_i);                      //read queue here\n\n            QString BITS_str = bits2Hexs(logItem-&gt;BITS);//\n            finish = clock();\n\n            ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n            ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n            ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n\n        }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>So the queue is quite samll and the background procedure is quite frequent(nearly 500 times per sec). That is, the queue will be written 500 times in 1 sec, but displayed time from time by the user.<br>\nI want to split the functions into two threads and run them together, one rev and update data, one display.<br>\nIf i do not use any lock or mutex, the user may get the wrong data, but if i force the write-data procedure enter critical section and leave critical section everytime, it will be a heavy overload. :)<br>\nShould I use CRITICAL_SECTION or something else, any suggestions related?(my words could be verbose for you :) , i only hope for some hints :) </p>\n"},{"tags":["osx","qt","deployment"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":3692537,"title":"Use files from /usr/local/share inside OS X app bundle","body":"<p>I’m writing Qt application using some 3rd party library. I want to package it into a bundle. </p>\n\n<p>I’m using <a href=\"http://doc.qt.nokia.com/4.6/deployment-mac.html#the-mac-deployment-tool\" rel=\"nofollow\">macdeployqt</a> and this tool isn’t just copying Qt Frameworks, but also 3rd party library into <code>Contents/Frameworks</code> inside the app bundle.</p>\n\n<p>The problem is that this 3rd party library need some additional file to work properly. Originally library is installed in <code>/usr/local/lib</code> and some necessary stuff is located at <code>/usr/local/share</code>.</p>\n\n<p>How to package this stuff into app bundle?</p>\n"},{"tags":["qt","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12888134,"title":"QtSQL: \"prepared statement \"qpsqlpstmt_1\" does not exist\" on clear() of model","body":"<p>I am getting the following error message printed in the console:</p>\n\n<pre><code>Unable to free statement: ERROR:  prepared statement \"qpsqlpstmt_1\" does not exist\n</code></pre>\n\n<p>It is printed when the the following function is called in the application (or when the object is deleted (if <code>clear()</code> is not called before delete):</p>\n\n<pre><code>sqlQueryModel-&gt;clear();\n</code></pre>\n\n<p>sqlQueryModel object is of type <code>QSqlQueryModel</code> and is used throughout a derived class to communicated with a PostgreSQL database. It also serves as a model for <code>QCompleter</code>. I have never declared or used the name <code>\"qpsqlpstmt_1\"</code>.</p>\n\n<p>Could someone help me interpret the error message please, and explain what might be causing it? Is this indicative of a problem in my code or a Qt bug? (likely the former :))</p>\n\n<p>On reviewing the PostgreSQL log file on the server, the exact same statement appears plus an additional line:</p>\n\n<pre><code>STATEMENT: DEALLOCATE pqsqlpstmt_1\n</code></pre>\n"},{"tags":["c++","qt","audio","wav"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12886272,"title":"playing wav audio file in C++ and QT","body":"<p>I am reading a .wav file in C and then I am trying to play the audio file using some of the QT functions. Here is how I read the file:</p>\n\n<pre><code>FILE *fhandle=fopen(\"myAudioFile.wav\",\"rb\");\nfread(ChunkID,1,4,fhandle);\nfread(&amp;ChunkSize,4,1,fhandle);\nfread(Format,1,4,fhandle);\nfread(Subchunk1ID,1,4,fhandle);\nfread(&amp;Subchunk1Size,4,1,fhandle);\nfread(&amp;AudioFormat,2,1,fhandle);\nfread(&amp;NumChannels,2,1,fhandle);\nfread(&amp;SampleRate,4,1,fhandle);\nfread(&amp;ByteRate,4,1,fhandle);\nfread(&amp;BlockAlign,2,1,fhandle);\nfread(&amp;BitsPerSample,2,1,fhandle);\nfread(&amp;Subchunk2ID,1,4,fhandle);\nfread(&amp;Subchunk2Size,4,1,fhandle);\nData=new quint16 [Subchunk2Size/(BitsPerSample/8)]; \nfread(Data,BitsPerSample/8,Subchunk2Size/(BitsPerSample/8),fhandle); \nfclose(fhandle);\n</code></pre>\n\n<p>So my audio file is inside <code>Data</code>. Each element of <code>Data</code> is unsigned 16-bit Integer.</p>\n\n<p>To play the sound I divide each 16-bit unsigned Integer into two characters and then every 3 ms (using a timer) I send 256 characters to the audio card.\nAssume <code>myData</code> is a character array of 256 characters I do this (every 3 ms) to play the sound:</p>\n\n<pre><code>m_output-&gt;write(myData, 256);\n</code></pre>\n\n<p>Also <code>m_output</code> is defined as:</p>\n\n<pre><code>m_output = m_audioOutput-&gt;start();\n</code></pre>\n\n<p>and <code>m_audioOutput</code> is defined as:</p>\n\n<pre><code>m_audioOutput = new QAudioOutput(m_Outputdevice, m_format, this); \n</code></pre>\n\n<p>And the audio format is set correctly as:</p>\n\n<pre><code>m_format.setFrequency(44100); \nm_format.setChannels(2);\nm_format.setSampleSize(16);\nm_format.setSampleType(QAudioFormat::UnSignedInt ); \nm_format.setByteOrder(QAudioFormat::LittleEndian);\nm_format.setCodec(\"audio/pcm\");\n</code></pre>\n\n<p>However, when I try to run the code I hear some noise which is very different from the real audio file.\nIs there anything I am doing wronge?</p>\n\n<p>Thanks,\nTJ</p>\n"},{"tags":["android","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12887110,"title":"How to run Qt application built with Necessitas on the Android emulator?","body":"<p>Qt application for Android requires Ministro, but when Ministro installed (Ministro-1.0.apk, Ministro-2.0.apk or \"Ministro II.apk\") app tells me that ministro not found or (for \"Ministro II.apk\") ministro version is incompatible and need to be updated. I've download Ministro from it's official page on the sourceforge.net. Install ministro from market failed due market not allowed on emulator.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12884615,"title":"QWidget paint even not being called even with non-zero width and height?","body":"<p>I am trying to make a scroll area hold a widget which will serve as a drawing area for a drag-and-drop editor I am trying to build. However, I can't seem to get it to draw.</p>\n\n<p>Here is a picture: <a href=\"http://i.imgur.com/rTBjg.png\" rel=\"nofollow\">http://i.imgur.com/rTBjg.png</a></p>\n\n<p>On the right the black space is what is supposed to be my scrollarea</p>\n\n<p>Here is the constructor for my the window class (I am using Qt-Creator):</p>\n\n<pre><code>ModelWindow::ModelWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::ModelWindow)\n{\n    ui-&gt;setupUi(this);\n\n    editor = new ModelEditorWidget(this);\n\n    ui-&gt;scrollArea-&gt;setWidget(editor);\n}\n</code></pre>\n\n<p>The model editor widget looks like so:</p>\n\n<pre><code>//header\n\nclass ModelEditorWidget : public QWidget\n{\n    Q_OBJECT\npublic:\n    explicit ModelEditorWidget(QWidget *parent = 0);\n\nsignals:\n\npublic slots:\n\nprotected:\n    virtual void paintEvent(QPaintEvent *e);\n\n};\n\n//.cpp file:\n\nModelEditorWidget::ModelEditorWidget(QWidget *parent) :\n    QWidget(parent)\n{\n    this-&gt;setAcceptDrops(true);\n\n    this-&gt;resize(1000, 1000);\n\n    cout &lt;&lt; this-&gt;rect().x() &lt;&lt; \" \" &lt;&lt; this-&gt;rect().width() &lt;&lt; endl;\n\n    this-&gt;update();\n}\n\nvoid ModelEditorWidget::paintEvent(QPaintEvent *e)\n{\n    cout &lt;&lt; \"painting\";\n\n    QWidget::paintEvent(e);\n\n    QPainter painter(this);\n\n    painter.setBrush(QBrush(Qt::green));\n    painter.setPen(QPen(Qt::red));\n    painter.drawRect(400, 400, 50, 50);\n    painter.fillRect(e-&gt;rect(), Qt::SolidPattern);\n}\n</code></pre>\n\n<p>I would think that this would set the modeleditorwidget's size to be 1000x1000 and then draw a green or red rectangle on the widget. However, the lack of a \"painting\" message in the command line from the cout at the beginning of the paintEvent shows that it isn't being executed. I first suspected this is because there was 0 width and 0 height on the widget. However, the cout in the constructor tells me that the widget is positioned at x = 0 and width = 1000 and so I assume that since that matches my resize statement that the height is also 1000 as was specified.</p>\n\n<p><strong>EDIT:</strong> By calling <code>cout.flush()</code> I got the \"painting\" output. However, that only deepens the mystery since the paint event doesn't look like it is actually painting. I am now calling show on both the scroll area and the widget as well.</p>\n\n<p>Does anyone see what I could be doing wrong here? Perhaps I am not adding the ModelEditorWidget to the scrollarea properly?</p>\n\n<p>Btw, I am very new to Qt and this is my first major GUI project using it. Most of my other GUI stuff was done using .NET stuff in C#, but since I want this to be cross platform I decided to stay away from C#.NET and mono and use Qt.</p>\n"},{"tags":["c++","qt","qtscript"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12885555,"title":"Call object instance from C++ function called via script","body":"<p>I have a class named Jellyfish who use the singleton design pattern :</p>\n\n<p>jellyfish.h</p>\n\n<pre><code>#ifndef JELLYFISH_H\n#define JELLYFISH_H\n\n#include &lt;QHash&gt;\n#include &lt;QScriptEngine&gt;\n\nclass QScriptValue;\n\nclass Jellyfish : public QObject\n{\n\n    public:\n\n         static Jellyfish * getInstance();\n         static Jellyfish * instance;\n\n    private:\n\n        Jellyfish();\n\n};\n\n#ifndef\n</code></pre>\n\n<p>jellyfish.cpp</p>\n\n<pre><code>Jellyfish * Jellyfish::instance = NULL;\n\nJellyfish * Jellyfish::getInstance()\n{\n\n    if ( !Jellyfish::instance )\n    {\n        Jellyfish::instance = new Jellyfish();\n    }\n\n    return Jellyfish::instance;\n\n}\n</code></pre>\n\n<p>When I am in main.cpp and make tests, I have no errors:</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n\n#include \"jellyfish.h\"\n\nclass Jellyfish;\n\nint main( int argc, char *argv[] )\n{\n\n    QApplication app( argc, argv );\n\n    Jellyfish *toto = Jellyfish::getInstance();\n    Jellyfish *toto2 = Jellyfish::getInstance();\n    Jellyfish *toto3 = Jellyfish::getInstance();\n\n    return app.exec();\n\n}\n</code></pre>\n\n<p>But I want to use some static methods in <code>Jellyfish</code> in external QScript files :</p>\n\n<p>jellyfish.h</p>\n\n<pre><code>private:\n\n    static QScriptValue set( QScriptContext *context, QScriptEngine *engine );\n    QScriptEngine *script_engine;\n</code></pre>\n\n<p>jellyfish.cpp</p>\n\n<pre><code>Jellyfish::Jellyfish()\n{\n\n    script_engine = new QScriptEngine;\n\n    /* ... */\n\n    initScriptEngine();\n\n}\n\nvoid Jellyfish::initScriptEngine()\n{\n\n    QScriptValue object = script_engine-&gt;newQObject( this );\n\n    object.setProperty( \"set\", script_engine-&gt;newFunction( set ) );\n\n    script_engine-&gt;globalObject().setProperty( \"jellyfish\", object );\n\n}\n\nQScriptValue Jellyfish::set( QScriptContext *context, QScriptEngine *engine )\n{\n\n    // I have to load instance because I am in a static method.\n    // But this is where the application loop endlessly.\n    Jellyfish *jellyfish = Jellyfish::getInstance();\n    return true;\n\n}\n</code></pre>\n\n<p>And finaly the parsed script:</p>\n\n<pre><code>jellyfish.set( \"line_numbers\",  true );\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>When I run the application, <code>getInstance()</code> always creates a new Jellyfish instance. But the real problem is that on the output with debug (<code>qDebug() &lt;&lt; \"test\";</code>) I can see that the application loop on <code>Jellyfish::getInstance();</code> until I get a <code>sgmentation fault</code>.</p>\n\n<p>Could someone help me to understand this ?</p>\n"},{"tags":["qt","mingw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12886297,"title":"Qt app compiles on Windows, but won't run","body":"<p>I'm developing a Qt-based application that I'd like to make available to Windows users, and managed to get a static build working (both statically linked to Qt and to the MinGW gcc libraries). But now I thought I'd try to do things \"properly\" and deal with installing .dll files. Here's where I run into a problem.</p>\n\n<p>I did a fresh Qt install, and compiled my program (a debug version). No problem. Then I used Dependency Walker to identify which non-system .dll files I needed, and copied them to the same directory as my executable. I double-click on the executable, and get an error message about how an error was encountered, program needs to close. Then I ran my excutable with gdb, and got the following segmentation fault:\n    0x01211db6 in QColor::QColor at painting/qcolor.cpp:397\n    397   painting/qcolor.cpp: No such file or directory</p>\n\n<p>The full back trace looks like:</p>\n\n<pre><code>#0 0x01211db6 in QColor::QColor at painting/qcolor.cpp\n#1 0x0041d7a8 in __static_initialization_and_destruction_0 (__initialize_p=1, __priority=65535) at gui\\VertexItem.cpp:12\n#2 0x0041d7f3 in _GLOBAL__sub_I__ZN10VertexItem17_backgroundColourE () at gui\\VertexItem.cpp:110\n#3 0x0044a5da in __do_global_ctors ()\n#4 0x004010dc in __mingw_CRTStartup ()\n#5 0x00000001 in ?? ()\n#6 0x004012b5 in WinMainCRTStartup ()\n</code></pre>\n\n<p>I also got several warnings like:</p>\n\n<pre><code>&lt;Internal error: pc 0x13 in read in psymtab, but not in symtab&gt;\n</code></pre>\n\n<p>I'm stuck. gui/VertexItem.cpp is my file, and line 110 is the line with a closing brace for the last function in the file, whereas line 12 is the initialisation of a static variable called _backgroundColour:</p>\n\n<pre><code>QColor VertexItem::_backgroundColour(Qt::transparent);\n</code></pre>\n\n<p>Remember, this all works fine in my static build! Any ideas?</p>\n"},{"tags":["c++","qt","compiler-errors","make"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":687,"score":2,"question_id":10434064,"title":"Qt - Error 2 at compile time","body":"<p>I just downloaded Qt SDK 4.8.1 and, after installing it, I simply tried to compile a default C++ project, but I got this strange error.</p>\n\n<blockquote>\n  <p>16:50:24: Running build steps for project test...<br>\n  16:50:24: Configuration unchanged, skipping qmake step.<br>\n  16:50:24: Starting: \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" <br>\n      cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtCore\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtGui\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\ActiveQt\" -I\"debug\" -I\".\" -I\"..\\test\" -I\".\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\" -Fodebug\\ @C:\\DOCUME~1\\dfuser\\IMPOST~1\\Temp\\main.obj.1464.0.jom<br>\n      cl -c -nologo -Zm200 -Zc:wchar_t- -Zi -MDd -GR -EHsc -W3 -w34100 -w34189 -DUNICODE -DWIN32 -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_GUI_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtCore\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\QtGui\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\include\\ActiveQt\" -I\"debug\" -I\".\" -I\"..\\test\" -I\".\" -I\"........\\QtSDK\\Desktop\\Qt\\4.8.1\\msvc2008\\mkspecs\\win32-msvc2008\" -Fodebug\\ @C:\\DOCUME~1\\dfuser\\IMPOST~1\\Temp\\mainwindow.obj.1464.0.jom<br>\n      C:\\QtSDK\\QtCreator\\bin\\jom.exe -f Makefile.Debug<br>\n  jom: C:\\Documents and Settings\\dfuser\\Desktop\\test-build-desktop-Qt_4_8_1_for_Desktop_-<em>MSVC2008</em>_Qt_SDK__Debug\\Makefile.Debug [debug\\main.obj] Error 2<br></p>\n  \n  <p>jom 1.0.8 - empower your cores<br></p>\n  \n  <p>jom: C:\\Documents and Settings\\dfuser\\Desktop\\test-build-desktop-Qt_4_8_1_for_Desktop_-<em>MSVC2008</em>_Qt_SDK__Debug\\Makefile [debug] Error 2<br>\n  16:50:24: The process \"C:\\QtSDK\\QtCreator\\bin\\jom.exe\" exited with code 2.<br>\n  Error while building project test (target: Desktop)<br>\n  When executing build step 'Make'<br></p>\n</blockquote>\n\n<p>Does anyone know what is the cause? </p>\n\n<p>I don't know if it's relevant or not, but before getting this error I got the common error about <code>cl</code> nor found; I solved adding the path to <code>cl</code> in the project settings.</p>\n"},{"tags":["qt","gui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12883962,"title":"Dynamically creating and displaying an array of buttons inside QScrollArea","body":"<p>My aim is to create an array of command link buttons dynamically on clicking a push button in and then display them all inside a vertical layout inside a QscrollArea. I get the data for the buttons from a database. For this I created a slot for the button and wrote the following code inside the slot function.</p>\n\n<pre><code>QCommandLinkButton *slotButtons[10];\nfor(int i=0; slotQuery.next(); i++)\n{\n    slotButtons[i] = new QCommandLinkButton;\n    slotButtons[i]-&gt;setText(slotQuery.value(0).toString());\n    slotButtons[i]-&gt;setDescription(slotQuery.value(1).toString());\n\n\n    ui-&gt;scrollAreaSlots-&gt;layout()-&gt;addWidget(slotButtons[i]);\n    ui-&gt;scrollAreaSlots-&gt;show();\n    slotButtons[i]-&gt;show();\n\n\n} \n</code></pre>\n\n<p>This compiles without errors but the buttons are not visible, even after calling show.\nCould anyone tell me where I'm going wrong?</p>\n\n<p>Update: If i remove all the \"[i]\"s and comment the loop; basically creating just a single command link button, it works perfectly. But it doesn't work for the loop. Is everything right with my looping?</p>\n"},{"tags":["python","qt","sorting","pyside","qlistview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12882980,"title":"How to sort items in Qt QListview using Qt.UserRole","body":"<p>I'm having some problem sorting the items in my <code>QListView</code> using values in a field I specified. </p>\n\n<p>Basically what I'm trying to do is this:</p>\n\n<ol>\n<li>Detect faces in a collection of photos and display them in a <code>QListView</code></li>\n<li>Cluster the faces (images)</li>\n<li>Update the view by placing items in the list (which are face images) belonging to the same cluster in together. Concretely, if item 1, 3, 5 are in one cluster and items 2, 4, 6 are in another, then items 1, 3, 5 should be displayed (in whatever permutations) before any of items 2, 4, 6 are displayed or vice versa.</li>\n</ol>\n\n<p>The way I went about doing this is to set one of the <code>UserRole</code> field for each <code>QStandardItem</code> in my list to the cluster label and then try to get the <code>QStandardModel</code> to sort according to this <code>UserRole</code>. This would then display items in the same cluster (i.e. with the same cluster label in the <code>UserRole</code>) next to each other. </p>\n\n<p>I'm able to set the <code>UserRole</code> successfully for the items but calling the sort function on the <code>QStandardModel</code> did not sort the items even though when I set the sort role to be the default <code>DisplayRole</code> (i.e. sort according to the text label of each face) it worked as intended.</p>\n\n<p>Can anyone tell me what is wrong with my code or offer an alternative method? I've googled sorting list and I found the following link on <a href=\"http://www.trinitydesktop.org/docs/qt4/itemviews-customsortfiltermodel.html%5d%5b1%5d\" rel=\"nofollow\">QSortFilterProxyModel</a> but as I'm quite new to Qt, I'm not able to adapt it to my situation. </p>\n\n<p>Thanks in advance to any replies.</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>import os\nfrom PySide.QtGui import QListView, QStandardItemModel, QStandardItem, QIcon\nfrom PySide.QtCore import Qt\n\nclass FacesView(QListView):\n    \"\"\"\n    View to display detected faces for user to see and label.\n    \"\"\"\n    UNCLUSTERED_LABEL = -1\n    CLUSTER_ROLE = Qt.UserRole + 1\n\n    def __init__(self, *args):\n        super(FacesView, self).__init__(*args)\n        self._dataModel = QStandardItemModel()\n        self.setModel(self._dataModel)\n        # Layout items in batches instead of waiting for all items to be\n        # loaded before user is allowed to interact with them.\n        self.setLayoutMode(QListView.Batched)\n\n    def updateFaceClusters(self, labels):\n        \"\"\"Update the cluster label for each face.\n        @param labels: [1 x N] array where each element is an integer\n        for the cluster the face belongs to.\"\"\"\n\n        assert(len(labels) == self._dataModel.rowCount())\n        # Put the cluster label each item/face belong to in the\n        # CLUSTER_ROLE field.\n        for i in xrange(self._dataModel.rowCount()):\n            index = self._dataModel.index(i, 0)\n            self._dataModel.setData(index, labels[i], self.CLUSTER_ROLE)\n\n        # Use cluster label as sort role\n        self._dataModel.setSortRole(self.CLUSTER_ROLE)\n        # This does NOT seem to sort the items even though it works fine\n        # when sort role is the default Qt.DisplayRole.\n        self._dataModel.sort(0)\n        print(\"Finished updating face clusters\")\n\n    def itemsInList(self):\n        \"\"\"Returns the label for a face and the path to its image.\n        @return: (label, path)\"\"\"\n        items = []\n        for i in xrange(self._dataModel.rowCount()):\n            label =  self._dataModel.index(i, 0).data(Qt.DisplayRole)\n            imagePath = self._dataModel.index(i, 0).data(Qt.UserRole)\n            clusterLabel = self._dataModel.index(i, 0).data(self.CLUSTER_ROLE)\n            items.append((imagePath, label, clusterLabel))\n\n        return items\n\n    def addItem(self, label, imagePath):\n        \"\"\"Add an item to list view\n        @param label: The label associated with the item.\n        @param imagePath: Path to image for the icon.\"\"\"\n        if os.path.exists(imagePath):\n            icon = QIcon(imagePath)\n        else:\n            icon = QIcon(':/res/Unknown-person.gif')\n\n        item = QStandardItem(icon, label)\n        item.setEditable(True)\n        # Add image path to the UserRole field.\n        item.setData(imagePath, Qt.UserRole)\n        # Add cluster label to image. CLUSTER_ROLE is where I intend\n        # to put the item's cluster label.\n        item.setData(self.UNCLUSTERED_LABEL, self.CLUSTER_ROLE)\n        # Prevent an item from dropping into another item.\n        item.setDropEnabled(False)\n        # Add item to list indirectly by adding it to the model.\n        self._dataModel.appendRow(item)\n\n    def clear(self):\n        self._dataModel.clear()\n</code></pre>\n"},{"tags":["c++","c","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12884296,"title":"How to close all tabs but active in Qt4(QTabWidget)","body":"<p>How to close all tabs but active in <code>QTabWidget</code>, when i know a active tab index, and counts of tabs?\nThe function of closing all tabs is <code>tabwidget-&gt;clear();</code> </p>\n"},{"tags":["c++","qt","shared-libraries","cross-compiling","raspberry-pi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":203,"score":0,"question_id":12849091,"title":"Cross-compiling QT apps for a raspberry pi - Cannot open shared object file","body":"<p>I want to be able to use the QT Creator on my full-sized desktop to be able to develop and compile qt apps and deploy them to the pi.</p>\n\n<p>I followed this guide: <a href=\"http://qt-project.org/wiki/Create#QtonPi_App_SDK\" rel=\"nofollow\">http://qt-project.org/wiki/Create#QtonPi_App_SDK</a></p>\n\n<p>I am trying to get the hello-qtonpi project to compile. Using the compiler and the toolchain for the pi, I get two errors during compiling:</p>\n\n<pre><code>/opt/qtonpi/lib/gcc/armv5tel-qtonpi-linux-gnueabi/4.5.4/../../../../armv5tel-qtonpi-linux-gnueabi/bin/as: error while loading shared libraries: libz.so.1: cannot open shared object file: No such file or directory\n/opt/qtonpi/libexec/gcc/armv5tel-qtonpi-linux-gnueabi/4.5.4/cc1plus: error while loading shared libraries: libmpc.so.2: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>I checked that these two libraries were installed on my pi, and the rsynced /lib and /usr/lib from the pi to my sys-root folder.</p>\n\n<p>I tried using the QT Creators Add Library -> System Library tool, and selected e.g. libz.so, as it didn't show the so.1 one. It added the following line to the .pro file:</p>\n\n<pre><code>unix:!macx:!symbian: LIBS += -lz\n</code></pre>\n\n<p>However it still didn't get rid of the error.</p>\n\n<p>How should I include these libraries or tell the compiler where to look from?</p>\n"},{"tags":["c++","osx","qt","boost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12883742,"title":"How do I integrate C++ Boost into a Qt project?","body":"<p>I would like to use boost/filesystem.hpp in my Qt app but the builder keeps saying:</p>\n\n<pre><code>Library not loaded: libboost_filesystem.dylib\nReason: image not found\n</code></pre>\n\n<p>here is how I try to link it:</p>\n\n<pre><code>INCLUDEPATH+= /installdir/boost_1_50_0  \nLIBS += -L/installdir/boost_1_50_0/stage/lib -lboost_filesystem\n</code></pre>\n\n<p>I've tried linking directly, too. I've also tried rebuilding boost according to <a href=\"http://stackoverflow.com/questions/4435067/adding-boost-library-to-a-c-project-in-os-x-eclipse\">jschoen's answer</a>, no difference.<br>\nIm running a MacOSX Lion. How do I have to link boost properly?</p>\n"},{"tags":["qt","mutex","qthread"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12882372,"title":"Why is QMutex used in this code?","body":"<p>I was reading someone else's code and I encountered this piece of code that is part of a multi - threaded application .This code is part of the <code>run()</code> function in a class which is inherited from <strong>QThread</strong>.<br>\nI thought <strong>QMutex</strong> is used for protecting a variable from being changed by several threads simultaneously . But here <code>stopped</code> is a member of the class. So it will be created for each instance of the class.<br>\n Am I wrong about mutexes? Has the programmer written a wrong code :) ? Or here mutex has another application?</p>\n\n<pre><code>void aThread::run(){\n   aMutex.lock();\n   if (stopped)\n   {\n     stopped=false;\n     aMutex.unlock();\n     break;\n   }\n   aMutex.unlock();\n}\n</code></pre>\n\n<p>Here is the declaration of the stopped :</p>\n\n<pre><code>class aThread : public QThread{\npublic :\n   void run();\nprivate:\n    volatile bool stopped;\n}\n</code></pre>\n"},{"tags":["c++","qt","flash-player","qwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12882412,"title":"QWebview with dynamic flash loaded. Any chances to have repaint signal","body":"<p>I have a QWebView which displays dynamic flash content. Is it any way to have repaint event or smth which can notify me about the act of content changes.</p>\n\n<p>I realize that flash player has it's own windown and window handler (HWND on Windows) inside QWebView, so regular QWebView::paintEvent doesn't work:</p>\n\n<pre><code>void View::paintEvent(QPaintEvent* event)\n{\n    emit repaint();\n\n    QWebView::paintEvent(event);\n}\n</code></pre>\n\n<p>I'd like to grab this QWebView and display it's content inside 3d scene.</p>\n\n<p>Best I can do is to start a QTimer which would be signaling every 1/25 sec.</p>\n"},{"tags":["c++","qt","phonon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12882024,"title":"Getting Phonon to create a path from a MediaObject (mp3) to an AudioDataOutput","body":"<p>I've been having this problem for a couple of days now. I need a data stream from a song (using Qt and C++), and although Phonon has been very nice for playing the song, I can't get it to output data properly.</p>\n\n<p>Basically, I have an AudioPlayer class, which in its header has these variables:</p>\n\n<pre><code>    Phonon::MediaObject* song;\n    Phonon::AudioOutput* audioOutput;\n    Phonon::AudioDataOutput* audioDataOutput;\n    Phonon::Path audioPath;\n    Phonon::Path audioDataPath;`\n</code></pre>\n\n<p>And in its constructor, I have:</p>\n\n<pre><code>    song = new Phonon::MediaObject(this);\n    audioOutput = new Phonon::AudioOutput(Phonon::MusicCategory, this);\n    audioDataOutput = new Phonon::AudioDataOutput(this);\n</code></pre>\n\n<p>Then every time someone clicks the \"choose song\" button:</p>\n\n<pre><code>    song-&gt;setCurrentSource((Phonon::MediaSource) fileName);\n\n    audioPath.disconnect();\n    audioDataPath.disconnect();\n\n    audioDataPath = Phonon::createPath(song, audioDataOutput); // THE ERROR!!\n    audioPath = Phonon::createPath(song, audioOutput);\n\n    connect(audioDataOutput, SIGNAL(dataReady(QMap&lt;Phonon::AudioDataOutput::Channel,QVector&lt;qint16&gt; &gt;)),\n        this, SLOT(receiveData(const QMap&lt;Phonon::AudioDataOutput::Channel,QVector&lt;qint16&gt; &gt;)));\n\n    song-&gt;play();\n</code></pre>\n\n<p>So, on debugging it, the song plays fine and you can hear it, but there is a qDebug warning:</p>\n\n<pre><code>    WARNING: Phonon::createPath: Cannot connect  Phonon::MediaObject ( no objectName ) to  Phonon::AudioDataOutput ( no objectName ).\n</code></pre>\n\n<p>In my .pro file, there is this code, which I found somewhere and have no idea what it does, but maybe I need more of it:</p>\n\n<pre><code>    wince*{\n    DEPLOYMENT_PLUGIN += phonon_ds9 phonon_waveout\n    }\n</code></pre>\n\n<p>Now I'm not sure if this problem is my code or the software/ codecs on my computer (Windows 7 64 bit). I've looked through everyone's music visualiser code I can find, and tried variations like using QWeakPointers instead of normal pointers, and deleting them every time the user chooses the song. I would love it if Phonon worked for this purpose rather than using another library! If you know anything about this, please post! Googling has been quite unfruitful for me, and the Qt documentation mentions very little about using AudioDataOutput. Thanks!</p>\n"},{"tags":["qt","layout"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12880252,"title":"Qt hide QLayout (switch between two layouts)","body":"<p>I didn't find solution for my problem with two QLayouts. I need app with QHBoxLayout with possible expandind when I will add new widgets, push buttons, ....\nSo what I have: One QDialog and two layouts. Now I know that I can't hide the layout. \nSo I tray just :</p>\n\n<pre><code>layout()-&gt;removeItem(firstlayout);\nlayout()-&gt;addLayout(secondLayout);\n</code></pre>\n\n<p>But when I did this, I saw all items in first layout on possition [0,0].\nSo next step I try:</p>\n\n<pre><code>for (all items in first layout) if (widget) widget-&gt;hide();\n</code></pre>\n\n<p>But this is working only with QWidget and I have many different items in layouts.</p>\n\n<p>Simply way is use the widget, because there is possibole to use hide/show, but I need auto expanding window when I add new items.</p>\n"},{"tags":["algorithm","qt","gui","optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12879951,"title":"How to optimize qt tablewidget refreshing?","body":"<p>I'am using qt to develop a monitor which shows new log items received from the network.<br>\nI use <strong>QTableWidget</strong> to display the <strong>dynamic items received</strong> and the table only shows 100 rows.<br>\nThe problem is: the monitor will receive some 400 'messages' per sec and update the rows.<br>\nI found using <strong>setItem(row,col,item)</strong> and <strong>new QTableWidgetItem()</strong> is quite time-consuming, I only want to show the newest items(three strings at 3 cols) from top to buttom.<br>\nBut the method is really time-consuming, it costs 5.281s when I add 4000 test cases at one time, which should finish in 4000/400 = 10s.<br>\n<strong><em>So it costs the half time, how to shorten the time? Any better methods to use the qt tablewidget?</em></strong>  ;) Thanks for reading!</p>\n\n<p>The filterLog function code:</p>\n\n<pre><code>    start = clock();\n    filter_log_display();\n    duration_filterLogDisplay += (double)(finish - start) / CLOCKS_PER_SEC;\n</code></pre>\n\n<p>filter_log_display():</p>\n\n<pre><code>    clock_t start = clock();\n    row_selectable = false;\n    ui-&gt;tableWidget-&gt;setRowCount(0);//delete table items all\n    row_selectable = true;\n\n    int size_1 = logDisplayQueue.size() - 1;\n\n    ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setSliderPosition(0);\n\n    if(size_1+1 &lt; 100)\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(size_1 + 1);\n    }\n    else\n    {\n        ui-&gt;tableWidget-&gt;setRowCount(100);\n    }\n    clock_t finish = clock();\n    duration_setRowCount += (double)(finish - start) / CLOCKS_PER_SEC;\n\n    for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n    {\n        start = clock();\n        LogInfoItem* logItem = (LogInfoItem*)logDisplayQueue.at(queue_i);\n        finish = clock();\n        duration_getItemFQueue += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        QString BITS_str = bits2Hexs(logItem-&gt;BITS);\n        finish = clock();\n        duration_bits2Hexs += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        ui-&gt;tableWidget-&gt;setItem(index, 0, new QTableWidgetItem(logItem-&gt;time));//time\n        ui-&gt;tableWidget-&gt;setItem(index, 1, new QTableWidgetItem(logItem-&gt;name));//name\n        ui-&gt;tableWidget-&gt;setItem(index, 2, new QTableWidgetItem(BITS_str));//BITS\n        finish = clock();\n        duration_setItem += (double)(finish - start) / CLOCKS_PER_SEC;\n\n        start = clock();\n        if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        finish = clock();\n        duration_ifSelectRow += (double)(finish - start) / CLOCKS_PER_SEC;\n    }\n</code></pre>\n\n<p>Analysis about time: :) There are many places to optimize including this one :)</p>\n\n<p><img src=\"http://i.stack.imgur.com/JMMpK.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","qt","javadoc","qt-jambi"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12474502,"title":"Could not find class QWebElement","body":"<p>I'm using QtWebkit to develop a webapplication framework. Now I've begun to ude the DOM and I tryed to use the QWebElement. But when I tried to compile it brought the following error:</p>\n\n<p>symbol  : class QWebElement<br>\nlocation: class test<br>\n        QWebElement elem = new QWebElement();<br></p>\n\n<p>Here is an example that doesn't work:</p>\n\n<pre><code>import com.trolltech.qt.gui.*;\nimport com.trolltech.qt.webkit.*;\nimport com.trolltech.qt.core.*;\nimport com.trolltech.qt.xml.*;\n\npublic class test {\n    public test() {\n        QWebElement elem = new QWebElement();\n    }\n    public static void main(String[] args) {\n        QApplication.initialize(args);\n        new test();\n        QApplication.exec();\n    }\n}\n</code></pre>\n\n<p>Could anyone please tell me what I'm doing wrong?</p>\n\n<p>Edit:\nI forgot:\nWhen I look in the javadoc, I cant find it! everything says that it doesn't exist. But I've seen other people using it.\nDoes it exist or not?</p>\n"},{"tags":["python","qt","qt4","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12877534,"title":"Python Qt QListWidget Items Drag and Drop","body":"<p>How to move QListWidgetItem another row? Can i use drag and drop method?<br>\nExample:\n    QListWiget items:</p>\n\n<pre><code>item1\nitem2\nitem3\nitem4\n</code></pre>\n\n<p>item3 dragged and dropped. After:</p>\n\n<pre><code>item3\nitem1\nitem2\nitem4\n</code></pre>\n\n<p>I looked at this  <a href=\"http://qt-project.org/doc/qt-4.8/qlistwidget.html#dropMimeData\" rel=\"nofollow\">resource</a> but i don't understand anything. </p>\n"},{"tags":["qt","directshow","qt5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12879923,"title":"Qt5 directshow plugin (dsengine.dll) is not built under Windows7","body":"<p>I’ve tried to build the directshow multimedia plugin in Qt5 under Windows7, however, there is a problem that qedit.h is not found, as this file was removed from WindowsSDK 7.1 (which is the one I am required to use to build Qt5).\nSo I tried to follow this <a href=\"http://social.msdn.microsoft.com/Forums/en/windowsdirectshowdevelopment/thread/2ab5c212-5824-419d-b5d9-7f5db82f57cd\" rel=\"nofollow\">post here</a>.\nJust adding this qedit.h (from what I see it just needs the IID_ISampleGrabber and CLSID_SampleGrabber and that’s it) and recompiling. It linked alright, but when I run my application, if I try to play video it just doesn’t do a damn thing, and if I try to access the camera it just quits the application right away. Since I have no idea about the inner workings of DS, I don’t know how legitimate this fix is.</p>\n\n<p>How do I fix this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","qt","gui","pyqt","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12876935,"title":"Python Qt QListWidget Double Clicked","body":"<p>I want to add double clicked attribute for my QListWidget objects.</p>\n\n<p>My command line does not work:</p>\n\n<pre><code>   self.connect(self.listWidget, QtCore.SIGNAL(\"itemDoubleClicked(QtGui.QListWidgetItem)\"), self.showItem)\n</code></pre>\n\n<p>How to add double clicked  attribute ? How to give object parameter to QtCore.SIGNAL.</p>\n"},{"tags":["qt","opengl","floating-point","fbo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":48,"score":1,"question_id":12873244,"title":"QGLFramebufferObject floating point texture","body":"<p>I need to render to a framebufferobject with GL_FLOAT as internal format for floating-point computations. I know how to achieve this using native OpenGL calls, such as:</p>\n\n<pre><code>glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA32F, width, height,\n             0, GL_RGBA, GL_FLOAT, NULL);\n</code></pre>\n\n<p>In order to use <a href=\"http://qt-project.org/doc/qt-4.8/QPainter.html\" rel=\"nofollow\">QPainter</a> to render to a FBO, <a href=\"http://qt-project.org/doc/qt-4.8/qglframebufferobject.html\" rel=\"nofollow\">QGLFramebufferObject</a> is required.\nHowever, QGLFramebufferObject doesn't allow to set the type, only the internal format and format of the texture (that is used in an color-attachment in my case).</p>\n\n<p><strong>Is there any way of using floating-point precision with QGLFramebufferObject in Qt 4.8?</strong></p>\n\n<p>I know I could somehow patch and recompile Qt, but that's cumbersome and not very elegant.\nI also considered writing my own FramebufferObject class, but then one has to derive from QPaintDevice and with that provide a custom QPaintEngine. Not a good solution, as Qt obviously has a paintengine for that, but it's not accessible.</p>\n"},{"tags":["c++","qt","smart-pointers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":105,"score":2,"question_id":12871415,"title":"qt garbage collection and smart pointers","body":"<p>Im thinking of starting using smart pointers in my qt work.The thing that confuses me how smart pointers would go with Qt garbage collection. The whole Qt stands on idiom that child QObject constructs with QObject* parent as ctor argument and therefore enables garbage collection.\nFor example:</p>\n\n<pre><code>     QWidget* mWidget = new QWidget(this);//Here we not only \n                                          //ensure that mWidget will be deleted  \n                                          //when its parent is deleted, but also tell qt,  \n                                          //that mWidget is not a window, but belongs to \n                                          //parent's layout         \n</code></pre>\n\n<p>Now if i want to wrap mWidget into the smart pointer.</p>\n\n<pre><code> typedef QScopedPointer&lt;QWidget&gt; WidgPtr;\n WidgPtr mWidget = WidgPtr(new QWidget(this));\n</code></pre>\n\n<p>But now when parent's dtor is called it will call delete on mWidget's pointer twice. First due to garbage collection, second when smart pointer dtor is called.</p>\n\n<p>Of course we can construct mWidget without parent and then change some flags to turn off window behaviour or call setParent() (But then again mWidget will be deleted twice). But to me its too much to do such a complex initialization only to be able   to use smart pointers instead of raw pointers.\nOr maybe i miss something?\nThanks.</p>\n"},{"tags":["c++","qt","button","messagebox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3046,"score":0,"question_id":5247979,"title":"Qt: How to display a Messagebox when you are within a function?","body":"<p>I'm developing using the Qt Nokia SDK.</p>\n\n<p>I'm having trouble displaying the buttons of a MessageBox, when trying to display a messagebox within a function. If i try to display it within the main window, there is no problem showing the buttons.</p>\n\n<p>The mainwindow consist of a QStackWidget which holds different widgets.</p>\n\n<p>Here is the code that works in main window:</p>\n\n<pre><code>QMessageBox msgBox;\n    msgBox.setText(\"Name\");\n    msgBox.setInformativeText(\"Do you want to save your changes?\");\n    msgBox.setStandardButtons(QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel);\n    msgBox.setDefaultButton(QMessageBox::Save);\n    int ret = msgBox.exec();\n</code></pre>\n\n<p>Here is the function and code that i run after receiving a response from a web request (The messagebox displays, but not the buttons.</p>\n\n<pre><code>void MainWindow::RequestReceived()\n{\n    QMessageBox *msgBox = new QMessageBox(this);\n        msgBox-&gt;setText(\"Test\");\n        msgBox-&gt;setWindowModality(Qt::NonModal);\n        msgBox-&gt;setInformativeText(\"Do you want to save your changes?\");\n        msgBox-&gt;setStandardButtons(QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel);\n        msgBox-&gt;setDefaultButton(QMessageBox::Save);\n        int ret = msgBox-&gt;exec();\n}\n</code></pre>\n\n<p>Anyone got an idea of what is happening?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["qt","qtreeview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12874617,"title":"QTreeView custom cell style","body":"<p>I have a <code>QSqlQueryModel</code> attached to a <code>QTreeView</code>. My query return X fields. One of these fields is a flag. This field should be invisible and this flag tells me which field I have to highlight in current row. </p>\n\n<p>So, how can I hide that field and change background color of another cell  (of the same row) reading that flag?</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12872251,"title":"Button over image in pyQt, Qt","body":"<p>i have created a widget(Qlabel) which displays the image using pixmap. now, i want to add few buttons over that image(basically, over widget containing pixmap, ie. Qlabel)</p>\n\n<p>Kindly refer to the attached image.</p>\n\n<p><img src=\"http://i.stack.imgur.com/u4b71.jpg\" alt=\"enter image description here\"></p>\n\n<p>Thanks</p>\n"},{"tags":["c++","qt","qt5"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":12817258,"title":"Qt(5): Render same video on 2 different surfaces using QtMultimedia","body":"<p>I'm developing an application in Qt(5), and basically I’m trying to render the same video source onto 2 locations in my window, using QtMultimedia5.\nI’m doing it in QML, but if there is a solution in C++ I will be happy to implement it instead.</p>\n\n<p>I have no problem to show a video in a window. Problems start when I try to use the same QMediaSource but render it onto 2 windows / controls.</p>\n\n<p>What I see is happening is that QMediaService::requestControl is called, which returns a QVideoRendererControl object. Then QVideoRendererControl::setSurface is called to set the surface to which it renders the video.\nSo from what I gather QMediaService has one surface to which it renders the video at any given time.</p>\n\n<p>How can I render to 2 surfaces or more? Are there other classes that will suit my needs better?</p>\n\n<p>Cheers</p>\n"},{"tags":["c++","qt","console-application","getopenfilename"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12866490,"title":"QFileDialog::getOpenFileName in console application","body":"<p>This is a question first posted on <a href=\"http://www.qtforum.org\" rel=\"nofollow\">qtforum.org</a> where I've <a href=\"http://www.qtforum.org/article/38486/qfiledialog-getopenfilename-in-console-application.html#post120385\" rel=\"nofollow\">got no answer</a>:</p>\n\n<p>I have trouble hiding the Open dialog in a console application after it has been used. \nHere is the content of main.cc file used to test this behaviour:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QFile&gt;\n#include &lt;QFileDialog&gt;\n#include &lt;QString&gt;\n\nbool b_closing = false;\n\nstatic QString gofn ( void )\n{\n    QString    s_file;\n    s_file = QFileDialog::getOpenFileName(\n            qApp-&gt;activeWindow(),\n            QObject::tr( \"Select the file to open:\" )\n            );\n    if ( !s_file.isEmpty() )\n    {\n        /* ... */\n    }\n\n    /* have no effect; */\n    QApplication::processEvents();\n    QApplication::sendPostedEvents();\n\n    return s_file;\n}\n\nstatic void userInpLoop ( void )\n{\n    QFile    cons_inp;\n    QFile    cons_outp;\n    QString  s_ln;\n\n    cons_inp.open( stdin, QIODevice::ReadOnly );\n    cons_outp.open( stdout, QIODevice::WriteOnly );\n\n    for ( ;; )\n    {\n        if ( b_closing )\n            break;\n\n        cons_outp.write( \"\\n&gt;\" );\n        cons_outp.flush();\n        s_ln = cons_inp.readLine().trimmed();\n\n        if ( s_ln == \"q\" )\n        {\n            b_closing = true;\n            cons_outp.write( \"Closng...\\n\" );\n        }\n        else if ( s_ln == \"gofn\" )\n        {\n            cons_outp.write( gofn().toLatin1() );\n        }\n        else\n        {\n            cons_outp.write( \"ERROR!!! \\nInvalid input!\\n\" );\n        }\n        cons_outp.flush();\n        //break; /* just to test that a.exec() hides the dialog */\n    }\n\n}\n\nint main( int argc, char *argv[] )\n{\n    /* we choose QApplication instead of QCoreApplication because we need some Gui components */\n    QApplication a(argc, argv);\n    userInpLoop();\n    //return a.exec(); /* this will hide the dialog */\n    return 0;\n}\n</code></pre>\n\n<p>I build the application using this .pro file:</p>\n\n<pre><code>QT += core gui\nTARGET = test_gofn\nCONFIG += console\nCONFIG -= app_bundle\nTEMPLATE = app\nSOURCES += main.cc\n</code></pre>\n\n<p>OS: Ubuntu 12.04</p>\n\n<p>Qt: 4.8.2 builded from the trunk </p>\n"},{"tags":["qt","plugins","static","linker"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":80,"score":3,"question_id":12872598,"title":"Own static linking plugin","body":"<p>I have plugin and i want static link it with my app.\nIn plugin.pro file i have:</p>\n\n<pre><code>TEMPLATE = lib\nCONFIG += staticlib\n</code></pre>\n\n<p>In plugin.cpp:</p>\n\n<pre><code>Q_EXPORT_PLUGIN2(plugin, pluginClass)\n</code></pre>\n\n<p>Of course TARGET in .pro file is the same as plugin name.</p>\n\n<p>In myapp.pro file:</p>\n\n<pre><code>LIBS += libplugin.a\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QtPlugin&gt;\n\nQ_IMPORT_PLUGIN(plugin)\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    ...\n    return a.exec();\n}\n</code></pre>\n\n<p>Plugin compiles without errors, i got *.a and *.o files, so i copied *.a file to myapp directory and when i trying compile i get error like this:</p>\n\n<pre><code>cannot find -lmyplugin.a\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>So i gave full path to libplugin.a in myapp.pro file and i got in the line with Q_IMPORT_PLUGIN error:</p>\n\n<pre><code>undefined reference to `qt_plugin_instance_plugin()'\n</code></pre>\n\n<p>and much errors like this:</p>\n\n<pre><code>undefined reference to `pluginClass::function()'\n</code></pre>\n\n<p>I included *.h file of my plugin.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["qt","qmake"],"answer_count":4,"favorite_count":13,"up_vote_count":24,"down_vote_count":0,"view_count":14139,"score":24,"question_id":2580934,"title":"How to specify different Debug/Release output directories in QMake .pro file","body":"<p>I have a Qt project and I would like to output compilation files outside the source tree.</p>\n\n<p>I currently have the following directory structure:</p>\n\n<pre><code>/\n|_/build\n|_/mylib\n  |_/include\n  |_/src\n  |_/resources\n</code></pre>\n\n<p>Depending on the configuration (debug/release), I will like to output the resulting files inside the build directory under build/debug or build/release directories.</p>\n\n<p>How can I do that using a .pro file?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12788793,"title":"Reducing the size of image","body":"<p>I'm trying to insert an image into my project. I wrote the following code:</p>\n\n<pre><code>void MainWindow::on_Layer_Updated(int arg1)\n{\n    if(ui-&gt;scrnCheck1-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;insCheck1-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;scrnCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;sheathCheck1-&gt;checkState() == Qt::Checked\n            &amp;&amp; ui-&gt;insCheck3-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;concentricCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;insCheck2-&gt;checkState() == Qt::Checked &amp;&amp; ui-&gt;armorCheck-&gt;checkState() == Qt::Checked\n            &amp;&amp; ui-&gt;jacketCheck-&gt;checkState() == Qt::Checked)\n    {\n        QImage image;\n\n        image.load(\":/CondScrnInsScrnSheathInsCentricInsWiresArmJacket.png\");\n        ui-&gt;label_2-&gt;setPixmap(QPixmap::fromImage(image));\n        ui-&gt;frame_10-&gt;setMinimumHeight(image.size().height() + 20);\n        ui-&gt;groupBox_3-&gt;setMinimumHeight(ui-&gt;frame_10-&gt;size().height() + 20);\n    }\n</code></pre>\n\n<p>When I'm running the program the image is getting popped up but the size of the image is large that it is overlapping with another grid. So I reduced the image view->height size in mainwindow.ui. Then only half of the image is displayed. How can I adjust the image so that it will not overlap with the other grid?</p>\n"},{"tags":["qt","signals","signals-slots","metaobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12858780,"title":"Qt trigger signal on all instances of a given class","body":"<p>Typically Qt signals are triggered on a specific instance of a QObject. </p>\n\n<p>Is there a way to trigger it on all instances of a specific class via, perhaps, MetaObjects? </p>\n\n<p>Or the only way is to maintain your own static list of all instances, perhaps by using constructors and destructors, and then just Q_FOREACH it? </p>\n"},{"tags":["c++","linux","qt","multi-touch"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":492,"score":6,"question_id":2431052,"title":"Multitouch in Linux","body":"<p>I have two questions:</p>\n\n<ol>\n<li>How to simulate touch event in linux.</li>\n<li>How to work with multitouch on Qt in Linux.</li>\n</ol>\n"},{"tags":["delphi","qt","vcl"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":1153,"score":2,"question_id":4085461,"title":"Future Delphi with Qt","body":"<p>Will the next version of Delphi be released with cross platform support and Qt based components? If so, do we have to distribute with Qt? (I don't know anything about Qt) \nHow can Qt help the Delphi world, and why did many programmers using C++ start using Qt with, and what will happen to VCL?</p>\n"},{"tags":["qt","multi-touch","pinch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":8257493,"title":"Pinch Simulation without Multi touch device","body":"<p>I am working on a c++ project in windows OS where I need to simulate multitouch gesture like Pinch without multitouch device.Similar to Iphone where user can simulate pinch by holding option key. \nI want to know whether this can be achieved through Framework like QT ?</p>\n"},{"tags":["qt","touch","multi-touch","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":247,"score":0,"question_id":8886529,"title":"QTouchEvent not triggering with Qt 4.7.4 under Windows 8?","body":"<p>I am having an issue with QT touch/multitouch support under Windows 8 running on an Acer W501 x86 tablet with a 4-point touch screen. </p>\n\n<p>I have a QGraphicsView widget on which I've done</p>\n\n<pre><code>setAttribute(Qt::WA_AcceptTouchEvents);\n</code></pre>\n\n<p>The widget's parent has an eventFilter method:</p>\n\n<pre><code>bool MyGUI::eventFilter(QObject* pObject, QEvent* pEvent)\n{\n    QEvent::Type eType = pEvent-&gt;type();\n    if (pObject == _uiWindow._multitouchArea)\n    {\n        if ((eType == QEvent::TouchBegin) || (eType == QEvent::TouchEnd) || (eType == QEvent::TouchUpdate))\n        {\n            // invoke multi touch event handling here\n            _handleTouchEvent(pEvent);\n        }\n        else if ((eType == QEvent::MouseButtonPress) || (eType == QEvent::MouseButtonRelease) || (eType == QEvent::MouseMove))\n        {\n            // invoke mouse based handling here\n            _handleMouseEvent(pEvent);\n        }   \n    }\n    else\n    {\n        return pObject-&gt;event(pEvent);\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>which is installed on the QGraphicsViewWidget.</p>\n\n<p>Now I understand that Qt by default interprets single point touch events as mouse events and sends them to the application like that. However, I've been unable to trigger any TouchBegin/TouchUpdate/TouchEnd events whatsoever no matter how hard I mash the touch screen with any part(s) of my anatomy...</p>\n\n<p>Is there something that I am missing here?</p>\n\n<p>Thank you all!</p>\n"},{"tags":["image","qt","size","qgraphicsview","qgraphicsscene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12868686,"title":"QGraphicsView / QGraphicsScene image size","body":"<p>I want to display an image in a QGraphicsView with a QGraphicsScene. My code is very basic : </p>\n\n<pre><code>QGraphicsScene* scene = new QGraphicsScene(this);\nscene-&gt;addPixmap(QPixmap(qApp-&gt;applicationDirPath() +\"/france.gif\"));\nui-&gt;myGraphicsView-&gt;setScene(scene);\nui-&gt;myGraphicsView-&gt;fitInView(scene-&gt;sceneRect());\n</code></pre>\n\n<p>My problem is that my picture has a wrong size. It is very small, with wrong proportions and on the center of my GraphicsView. With qDebug i kwow that my picture is load successfully and it has a size of about 100x800px. My graphicsView is smaller so i want to resize my picture to adjust it with my GraphicsView size. </p>\n\n<p>The graphicsView is set in the mainwindow Form and the scene is declared in the header : \"QGraphicsScene scene;\"</p>\n\n<p>I try everything is possible in the world (i think) but the graphicsView is alaways blank or contains the small version of the picture. When I copy/paste some codes of internet i always get this problem. I also try with this example : <a href=\"http://stackoverflow.com/questions/8279567/qt-gui-development-displaying-a-2d-grid-using-qgraphicsview\">Qt GUI Development - Displaying a 2D grid using QGraphicsView</a> , same problem... </p>\n\n<p>Maybe i'm very very very tired but i really don't understand what is wrong. Help me please :)</p>\n"},{"tags":["c++","qt","g++","qt-creator","compiler-optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12785364,"title":"Configuration for optimizing Qt creator compiler","body":"<p>I'm using Qt creator in windows platform(seven).\nI want to configure it as it uses third level optimization (-O3) for c++ compiling.</p>\n\n<p>Now here is the question that how can I do this to speed up my code and what changes are necessary ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["windows","file","qt","delete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12866981,"title":"Deleting currently loaded files using Qt on Windows","body":"<p>I am trying to delete all the temporary files created by my application during uninstall. I use the following code:</p>\n\n<pre><code> bool DeleteFileNow( QString filenameStr )\n    {\n        wchar_t* filename;\n        filenameStr.toWCharArray(filename);\n\n        QFileInfo info(filenameStr);\n\n        // don't do anything if the file doesn't exist!\n        if (!info.exists())\n            return false;\n\n        // determine the path in which to store the temp filename\n        wchar_t* path;\n        info.absolutePath().toWCharArray(path);\n\n        TRACE( \"Generating temporary name\" );\n        // generate a guaranteed to be unique temporary filename to house the pending delete\n        wchar_t tempname[MAX_PATH];\n        if (!GetTempFileNameW(path, L\".xX\", 0, tempname))\n            return false;\n\n        TRACE( \"Moving real file name to dummy\" );\n        // move the real file to the dummy filename\n        if (!MoveFileExW(filename, tempname, MOVEFILE_REPLACE_EXISTING))\n        {\n            // clean up the temp file\n            DeleteFileW(tempname);\n            return false;\n        }\n\n         TRACE( \"Queueing the OS\" );\n        // queue the deletion (the OS will delete it when all handles (ours or other processes) close)\n        return DeleteFileW(tempname) != FALSE;\n    }\n</code></pre>\n\n<p>My application is crashing. I think its due to some missing windows dll for the operations performed. Is there any other way to perform the same operation using Qt alone?</p>\n"},{"tags":["c++","qt","design-patterns","design","inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12859270,"title":"Designing a UI framework for multiple platforms","body":"<p>We're working on an embedded software UI framework based on Qt which would currently power 2 types of devices -  a phone and a tablet. Later on there might be other form factors which will have completely different UIs. The UI currently is similar for both the phone and the tablet with differences mostly being in dimensions. We would like to expose a common API to application developers (internal, no external apps) so that they don’t have to write separate screens for each platform.</p>\n\n<p>To develop a screen, the app developer has to inherit from a Screen class, or from a more specialized screen such as PrefScreen class. We wanted to expose a uniform interface for each component to app developers, but with platform specific implementations in the framework. We have the following classes:</p>\n\n<p>ScreenBase (Exposes interfaces common to all platforms)\nScreenPhone : ScreenBase\nScreenTablet : ScreenBase</p>\n\n<p>PrefScreenBase (Exposes interfaces common to all platforms) <br />\nPrefScreenPhone: PrefScreenBase\nPrefScreenTablet: PrefScreenBase</p>\n\n<p>To achieve it we have the following type defs:</p>\n\n<pre><code>#ifdef PHONE\ntypedef ScreenPhone Screen;\ntypedef PrefScreenPhone PrefScreen;\n#elif TABLET\ntypedef ScreenTablet Screen;\ntypedef PrefScreenTablet PrefScreen;\n#endif\n</code></pre>\n\n<p>The inheritance structure is as follows\nScreenBase <br />\n|_ScreenPhone <br />\n|_ScreenTablet <br /></p>\n\n<p>PrefScreenBase : Screen (resolves to ScreenPhone or ScreenTablet based on the platform it’s built for) <br />\n|_PrefScreenPhone <br />\n|_PrefScreenTablet <br /></p>\n\n<p>Screen would resolve to ScreenPhone on the build for the phone, and resolve to ScreenTablet on the build for the tablet.\nPrefScreen would resolve to PrefScreenPhone on the build for the phone, and resolve to PrefScreenTablet on the build for the tablet.</p>\n\n<p>On the phone, the hierarchy would be ScreenBase->ScreenPhone->PrefScreenBase->PrefScreenPhone\nOn the tablet, the hierarchy would be ScreenBase->ScreenTablet->PrefScreenBase->PrefScreenTablet</p>\n\n<p>In essence, the platform specific classes derive from the common *Base classes, and the *Base classes derive from the appropriate class based on the platform it is built for.\nWe considered using the Bridge Pattern (http://en.wikipedia.org/wiki/Bridge_pattern) to solve the problem but our deadlines don’t seem to allow that. Also since our framework is based on the Qt framework,  separating the implementation from the interfaces would be complicated.</p>\n\n<p>Is the above mentioned approach being used in any frameworks? Do you see major problems with the mentioned approach? If so, what would be the alternative?\nOur main goals are to abstract away the platform differences to application developers, and to ensure maximum code reuse.</p>\n"},{"tags":["c++","qt","qprocess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":479,"score":0,"question_id":7113506,"title":"QProcess becomes defunct and unable to start again","body":"<p>I'm using a List of QProcess objects to keep track of some processes that need to be start/stopped at user defined intervals.</p>\n\n<p>I'm able to start and stop the processes OK. But the issue arises when I stop a process using the following methods (Pseudo code):</p>\n\n<pre><code>process-&gt;start(\"PathToProcess\",\"Some Arguments\");\n//Do some stuff.\nprocess-&gt;terminate();\n</code></pre>\n\n<p>However, if I try to start the process again at another time, I get the error:</p>\n\n<pre><code>QProcess::start:  Process is already running\n</code></pre>\n\n<p>I can do a ps -ef|grep processName and find that it is indeed dead, but it's sitting in a defunct state which I think is preventing me from starting it again.</p>\n\n<p>What do I need to do to prevent this defunct state, or remove the defunct method so I can start my process again without reconstruction?</p>\n"},{"tags":["c++","qt","gui","translation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":107,"score":2,"question_id":12864018,"title":"Hard-coding Russian Translations in qt C++","body":"<p>I'm An entry level programmer and new to QT too. I have a project where i am hard coding my programing into a three different languages. I am having an issue on figuring out how to hard code Russian instead of letters i get???. my code is broken down into FR.h SP.h German.h Russian.h ->i understand the others use a Latin codec but Russian doesn't English.h example below of how files look-each word is defined </p>\n\n<pre><code>    #ifndef EN_H\n#define EN_H\n\n#define TR_PRG_EN                 \"Program\"\n#define TR_HELP_EN                \"Help\"\n#define TR_PASSRW_EN              \"Pass: R/W\"\n#define TR_ALLOWWRITE_EN          \"Allow Write\"\n#define TR_SERIAL_EN              \"Serial #\"\n#define TR_ALLOWREAD_EN           \"Allow Read\"\n#define TR_PRO_EN                 \"Product #\"\n#define TR_MEMSIZE_EN             \"Mem. Size\"\n#define TR_TRIP_EN                \"Trip #\"\n#define TR_RANGE_EN               \"Range\"\n#define TR_DESCR_EN                \"Description\"\n#define TR_LOGSET_EN              \"Logger Settings\"\n#define TR_INTTEMP_EN             \"Int. Temp (NTC)\"\n#define TR_HHIGH_EN               \"HHigh(°F)\"\n#define TR_HIGH_EN                \"High(°F)\"\n#define TR_LOW_EN                 \"Low(°F)\"\n#define TR_LLOW_EN                \"LLow(°F)\"\n</code></pre>\n\n<p>with russian.h </p>\n\n<pre><code>    #ifndef RU_H\n#define RU_H\n\n#define TR_ENCODING               \"utf-8\"\n#define TR_PRG_RU                 \"??????????\"\n#define TR_HELP_RU                \"Help\"\n#define TR_PASSRW_RU              \"?????????\"\n#define TR_ALLOWWRITE_RU          \"????????\"\n#define TR_SERIAL_RU              \"???????? #\"\n#define TR_ALLOWREAD_RU           \"????????? ??????\"\n#define TR_PRO_RU                 \"??????? #\"\n#define TR_MEMSIZE_RU             \"?????? ?????? \"\n#define TR_TRIP_RU                \"??????? #\"\n#define TR_RANGE_RU               \"????????\"\n#define TR_DESCR_RU                \"????????\"\n</code></pre>\n\n<p>i then have Clang.cpp(class,with.h file) file which i put the words into a Qlist>(2d array)->below is an example</p>\n\n<pre><code>const char *trOK[NB_LAN]={TR_OK_EN,TR_OK_FR,TR_OK_SP,TR_OK_IT,TR_OK_RU,TR_OK_GR,TR_OK_PR};\nconst char *trName[NB_LAN]={TR_NAME_EN,TR_NAME_FR,TR_NAME_SP,TR_NAME_IT,TR_NAME_RU,TR_NAME_GR,TR_NAME_PR};\nconst char *trDesc[NB_LAN]={TR_DESC_EN,TR_DESC_FR,TR_DESC_SP,TR_DESC_IT,TR_DESC_RU,TR_DESC_GR,TR_DESC_PR};\nconst char *trLL[NB_LAN]={TR_LL_EN,TR_LL_FR,TR_LL_SP,TR_LL_IT,TR_LL_RU,TR_LL_GR,TR_LL_PR};\nconst char *trL[NB_LAN]={TR_L_EN,TR_L_FR,TR_L_SP,TR_L_IT,TR_L_RU,TR_L_GR,TR_L_PR};\nconst char *trH[NB_LAN]={TR_H_EN,TR_H_FR,TR_H_SP,TR_H_IT,TR_H_RU,TR_H_GR,TR_H_PR};\nconst char *trHH[NB_LAN]={TR_HH_EN,TR_HH_FR,TR_HH_SP,TR_HH_IT,TR_HH_RU,TR_HH_GR,TR_HH_PR};\nCLang::CLang()\n{\n    for(int i=0;i&lt;NB_LAN;i++)\n    {\n\n        strTab &lt;&lt; QStringList();\n        strTab[i] &lt;&lt; trPrg[i];            //m_tabLogger\n        strTab[i] &lt;&lt; trHelp[i];           //m_textBrowserHelp\n        strTab[i] &lt;&lt; trPassrw[i];         //label_13\n        strTab[i] &lt;&lt; trAllowWrite[i];     //m_checkBoxLoggerAllowWrite\n        strTab[i] &lt;&lt; trSerial[i];         //label_2\n        strTab[i] &lt;&lt; trAllowRead[i];      //m_checkBoxLoggerAllowRead\n        strTab[i] &lt;&lt; trPro[i];            //label_3\n        strTab[i] &lt;&lt; trMemSize[i];        //label_5\n        strTab[i] &lt;&lt; trTrip[i];           //label_6\n        strTab[i] &lt;&lt; trRange[i];          //m_labelRange\n        strTab[i] &lt;&lt; trDescr[i];           //label_7\n        strTab[i] &lt;&lt; trLogSet[i];         //m_groupBoxSettings\n</code></pre>\n\n<p>then i call it in the main window , so my question how do i make the russian language show the letters \nanother question i have is i mulitple windows(GUI) how do i call these translations on those different windows(GUI)</p>\n"},{"tags":["c++","qt","botan"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12851441,"title":"QString to const byte* conversion","body":"<p>I'm trying to use the Botan library to create a SHA-256 hash of a couple QStrings - a password and a salt.  I have made many attempts trying to get a concatenated salt+password into the correct type for input into the Botan process function.  The documentation for the class I'm trying to use in Botan is found at <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1SHA__256.html\" rel=\"nofollow\">botan sha-256 documentation</a>   My latest attempt is</p>\n\n<pre><code>///\n/// Computes salted data hash\n///\n\nQByteArray MyClass::HashData(QString salt, QString password)\n{\n    QString concatenated = salt+password;\n    QByteArray input(concatenated.toLocal8Bit());\n    Botan::SHA_256 sha;\n    Botan::SecureVector&lt;Botan::byte&gt; saltedHash\n            = sha.process(&amp;input,input.count()-1);  // -1 to get rid of the \\0\n    return QByteArray(saltedHash);\n}\n</code></pre>\n\n<p>When I compile I get an error: no matching function for call to 'Botan::SHA_256::process(QByteArray*, int)'... candiates are: /usr/include/botan-1.10/botan/buf_comp.h:101: Botan::SecureVector Botan::Buffered_Computation::process(const byte*, size_t)</p>\n\n<p>How can I cast or copy a QString or a QByteArray into a const byte*?</p>\n\n<p><strong>EDIT:</strong>  After I posted the question I tried a few more approaches.  One that appears to work is attached below, but I'm uncomfortalbe using the reinterpret_cast because it seams like it could lead to problems that I'm not aware of in my c++ noob state.</p>\n\n<pre><code>Botan::SecureVector&lt;Botan::byte&gt;  MyClass::HashData(QString salt, QString password)\n{\n    QString concatenated = salt+password;\n    QByteArray buffer(concatenated.toLocal8Bit());\n    unsigned char * input = reinterpret_cast&lt; unsigned char*&gt;(buffer.data());\n\n    Botan::SHA_256 sha;\n    Botan::SecureVector&lt;Botan::byte&gt; saltedHash\n            = sha.process(input,buffer.count()-1);  // -1 to get rid of the \\0\n    return (saltedHash);\n}\n</code></pre>\n"},{"tags":["c++","qt","segmentation-fault"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":88,"score":-4,"question_id":12851662,"title":"qt app.exec() segmentation fault core dumped","body":"<p>I have coded an application in QT. The app runs fine but on exit I get an</p>\n\n<pre><code>Segmentation fault (core dumped)\n</code></pre>\n\n<p>how can I solve this segmentation problem?</p>\n"},{"tags":["qt","qt-creator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12862286,"title":"How do I get application output from a Qt Creator plugin?","body":"<p>I'm writing an plugin for Qt Creator that will use the application output for a secondary reason (real-time graphical display of data).  However, I've run into the problem of getting the application output.  I don't wish to steal the output completely, just duplicate it.  However, being able to filter what the debugger gets would be nice but not a requirement.</p>\n\n<p>In case you are wondering, I'm trying to avoid modifying existing plugins so that any update to Qt Creator won't conflict and require patching for every single new version.</p>\n"},{"tags":["qt","header-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12860499,"title":"How to #include existing header files in Qt?","body":"<p>I have some previously written headers and I would like to include them in my Qt project. How can I do that without copying them in place? </p>\n\n<p>After I added them with \"Add Existing Files...\" I can't seem to be able to #include my headers. Neither #include \"header.h\" nor #include \"fullpath/header.h\" works.</p>\n"},{"tags":["c++","qt","datetime","utc"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":88,"score":3,"question_id":12859258,"title":"utc seconds since midnight to datetime","body":"<p>I'm getting radar data as \"tracks\" and the track data indicates the number of UTC seconds since the last midnight, apparently. This is not the number of seconds since the 1st of jan 1970.</p>\n\n<p>Now I want to convert that to date time, knowing that the clock on the computer could be slightly out of sync with the clock on the radar. I'll assume the radar's seconds are the reference, not the computer's.\nI want to convert these  seconds  to a full date time. Things seem to be a little tricky around\nmidnight. </p>\n\n<p>Any suggestions? I've got some ideas, but I don't want to miss anything.</p>\n\n<p>I'm working with C++ Qt.</p>\n"},{"tags":["multithreading","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1164,"score":1,"question_id":2182252,"title":"How to wait in the main thread until all worker threads have completed in Qt?","body":"<p>I have designed an application which is running 20 instance of a thread. </p>\n\n<pre><code>for(int i = 0;i&lt;20;i++)\n{\n    threadObj[i].start();\n}\n</code></pre>\n\n<p>How can I wait in the main thread until those 20 threads finish?</p>\n"},{"tags":["c++","qt","design-patterns","project"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12859217,"title":"Programing a modeling tool with Qt","body":"<p>I'm willing to develop a database modeling tool for a school project using C++ &amp; Qt, and I was wondering if there are any books , tutorials, open source apps ... etc, that I should explain the good practices and the way to design the code.</p>\n\n<p>I hope my question is clear enough, and  thanks.</p>\n"},{"tags":["python","qt","pyqt","qvariant"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12837701,"title":"PyQt: How do I find tuples using QComboBox::findData()?","body":"<p>I can't get <a href=\"http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qcombobox.html#findData\" rel=\"nofollow\"><code>QComboBox::findData</code></a> to work properly in my PyQt application.</p>\n\n<p>It seems as if PyQt doesn't compare QVariant's with Python tuples properly, causing Qt not to find my tuples. Example follows:</p>\n\n<pre><code>import sip\nsip.setapi('QVariant', 2)\nfrom PyQt4 import Qt\n\na = Qt.QApplication([])\n\ncb = Qt.QComboBox()\ncb.addItem(\"Bah\", (1,2))\ncb.addItem(\"Foo\", (3,4))\n\nprint cb.findData((1,2))\nprint cb.findData((3,4))\n\nprint cb.itemData(0)\nprint cb.itemData(1)\n\nprint cb.findData(cb.itemData(0))\nprint cb.findData(cb.itemData(1))\n</code></pre>\n\n<p>With api=2 (auto-convert QVariant&lt;->python) it does not find anything and I get the following output:</p>\n\n<pre><code>-1\n-1\n(1, 2)\n(3, 4)\n-1\n-1\n</code></pre>\n\n<p>With api=1 (no auto-convert), it only finds it in the latter (useless) case:</p>\n\n<pre><code>-1\n-1\n&lt;PyQt4.QtCore.QVariant object at 0x02FBF148&gt;\n&lt;PyQt4.QtCore.QVariant object at 0x02FBF148&gt;\n0\n1\n</code></pre>\n\n<p>Any idea how to get the first case working (findData with new tuples, and auto-convert QVariant) ?</p>\n\n<p><em>(Using PyQt 4.8.3, SIP 4.12.1 and Qt 4.6.1)</em></p>\n"},{"tags":["xcode","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12857058,"title":"How to integrate Qt code with Xcode project?","body":"<p>I have a safari plugin. I want to use Qt to make UI for plug in.</p>\n\n<p>How should I use Qt with already existing xcode project?</p>\n"},{"tags":["qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12856324,"title":"Qt QPushbutton Icon underneath Text","body":"<p>When I create a QPushButton with an Icon it by default displays the text to the right of the icon. Is there a way to have the text display above the icon?</p>\n"},{"tags":["c++","qt","debugging","gdb","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12853017,"title":"\"qwidget must construct a qapplication before a qpaintdevice\" error for qt-vtk app in windows only","body":"<p>I know this is a common error and already answered in stackoverflow. But my problem is a bit different. While debugging my app on windows am getting this error. But in linux , the same code works just fine. in both the cases am using same vtk build 5.4 and same qt build 4.5 .\nEven the system configuration is same. In windows , in release mode application runs just fine. Problem is in debugging only. Am using cmake/qtcreator/gdb toolchain.</p>\n"},{"tags":["windows","qt","openssl","qwebkit"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":501,"score":8,"question_id":9122051,"title":"How can I distribute OpenSSL with my Qt WebKit based application to Windows?","body":"<p>I have a Qt QWebKit based application that needs to use HTTPS to talk to web pages. I have downloaded the QtSDK, as well as the OpenSSL binaries (<a href=\"http://www.slproweb.com/products/Win32OpenSSL.html\">from here</a>).</p>\n\n<p>My problem lies in deploying my application. I have copied the relevant Qt DLL files, as well as the relevant OpenSSL DLL files (<code>libeay32.dll</code> and <code>ssleay32.dll</code>) into my application directory, but when I try to access HTTPS web pages from within my application it fails! The application doesn't crash, but the page is blank. Regular HTTP pages work perfectly fine. </p>\n\n<p>It's clear that there's an error with how I'm distributing OpenSSL with my application, I'm just not sure where I'm going wrong.</p>\n\n<p>I'd really not like to bundle the OpenSSL installer with my application.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12850355,"title":"Automatically updating QDateTimeEdit so that it displays the current system date and time","body":"<p>Using the Qt library, is there a way to automatically update a <code>QDateTimeEdit</code> using a signal such that the widget shows the current date and time in a similar fashion to a clock?</p>\n\n<p>In the code sample below, <code>dateTimeEditSystem</code> is the <code>QDateTimeEdit</code> object.  However, the <code>setDateTime()</code> function only operates once. I would like the <code>QDateTimeEdit</code> object to dynamically update.  Is there a reliable way of doing this without using a timer (i.e. with signals and slots)?  Or is a timer the only way of doing this?</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    // setup the UI\n    ui-&gt;setupUi(this);\n    // set the current date and time\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n}\n</code></pre>\n\n<p>I tried using a timer, but unfortunately the <code>QDateTimeEdit</code> did not update.  Here is the complete mainwindow.cpp code.  What am I doing wrong here?</p>\n\n<pre><code>#include &lt;QTimer&gt;\n\n#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n\n    QTimer *timer = new QTimer(this);\n    connect(timer, SIGNAL(timeout()), this, SLOT( updateTime() ));\n    timer-&gt;start(1000);\n}\n\nvoid MainWindow::updateTime()\n{\n    ui-&gt;dateTimeEditSystem-&gt;setDateTime( QDateTime::currentDateTime() );\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is actually very easy to do.  The reason why the code was not updating was due to the lack of a slot declaration in the mainwindow.h file.  Here is the complete contents of the mainwindow.h header.</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\n private slots:\n     void updateTime();\n\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n"},{"tags":["qt","webkit","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12850723,"title":"How can I display the icon of a WebView in QML?","body":"<p>I'm writing a simple web browser in QML with WebKit.</p>\n\n<p>The <code>WebView</code> element has the property <code>icon</code> of type <code>pixmap</code> (QVariant::Pixmap). I want to display this icon in QML.</p>\n\n<p>Before QML was stable, the <code>Image</code> element had the property <code>pixmap</code> of type <code>pixmap</code>, which was used by other people to display the icon of the <code>WebView</code> element.</p>\n\n<p>But <code>Image.pixmap</code> has been removed.</p>\n\n<p>How can I now set the icon on an Image element? Do I really have to work around this in C++ using the <code>QDeclarativeImageProvider</code>? What's the most straightforward way to do this?</p>\n"},{"tags":["qt","webkit","macports","homebrew","phantomjs"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":146,"score":4,"question_id":10098731,"title":"new Date(\"YYYY-MM-DD\") stopped working in Qt WebKit after removing MacPorts","body":"<p>On my OS X 10.7.3 (Lion) laptop, I cannot parse JavaScript date strings with Qt WebKit using the Date constructor. Using either jasmine-headless-webkit or phantomJS, all calls like:</p>\n\n<pre><code>new Date(\"2012-04-10\")\n</code></pre>\n\n<p>always return</p>\n\n<pre><code>\"Invalid Date\"\n</code></pre>\n\n<p>instead of a valid Date object. A few weeks back, everything was working fine, and I've checked this on half a dozen computers with a similar setup and cannot reproduce the problem anywhere else.</p>\n\n<p>I am fairly certain the problems started when I decided to clear out my old supposedly-unused MacPorts installation (I have long since switched to Homebrew and was doing some house cleaning). I suspect there is a dynamically linked library that has been removed from my system, which is used by Qt for date parsing.</p>\n\n<p>Does anyone have any idea what this date parsing library might be called? Any idea if I can install it with Homebrew or somehow manually repair the missing dependency? </p>\n\n<p>I have tried reinstalling Qt and many other libraries, but nothing has fixed the problem.</p>\n"},{"tags":["c++","qt","class"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12848493,"title":"Ambiguous error in Qt","body":"<p>I'm trying to make a game, and i've created a class for the Player. The class inherits \"Entity\", which inherits QGraphicsItem.</p>\n\n<pre><code>#ifndef PLAYER_H\n#define PLAYER_H\n\n#include \"entity.h\"\n\nclass Player : public Entity\n{\n\npublic:\nPlayer(QString, int, int, int position);\nQRectF boundingRect() const;\nvoid paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget *widget);\n\nvoid move_north();\nvoid move_south();\nvoid move_west();\nvoid move_east();\n\nvoid start_moving();\nvoid stop_moving();\n\nvoid switch_step();\n\nbool its_moving();\n\nvoid change_pos(int);\n\n\nprivate:\nQPoint position;\nbool is_moving;\n\nprivate signals:\nvoid Move();\n\n};\n\n#endif // PLAYER_H\n</code></pre>\n\n<p>But i keep getting the error \"expected ':' before 'protected'\", at line 33. </p>\n"},{"tags":["multithreading","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11412757,"title":"Ensuring QProcess termination on termination of its parent QThread","body":"<p>I am writing a code within Qt where I am using multiple threads (Qthreads) to launch command-line processes in a manner shown in the code snippet below:</p>\n\n<pre><code>void test_streamer_thread::run()\n{\n    QProcess    start_process;\n    ...\n\n    ret_status = start_process.execute(\"some_cmd.exe\",some_args);\n    start_process.close();\n}\n</code></pre>\n\n<p>Once launched, the process goes on infinitely (shows up as a separate process in the windows task manager). However, when the application terminates, the process still continues to exist. How do I ensure that this process terminates on termination of the application launching it.</p>\n\n<p>Regards,</p>\n\n<p>Saurabh Gandhi</p>\n"},{"tags":["regex","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12848195,"title":"Writing a good highlighting function","body":"<p>I'm trying to implement a \"highlighting\" function to enhance the search capability  in a project I’m working on. It is supposed to highlight (apply a css background-color span tag) all occurrences of a search term in a larger QString. Right now, matches to be highlighted are determined with the following Regexp:</p>\n\n<pre><code>QRegExp reg(\"(\\\\b)(\" + term + \")(\\\\b)|(.,:;'\\\"\\')\");\n</code></pre>\n\n<p>The regexp is case-insensitive and will match all instances of \"term\" followed by a word boundary or a punctuation symbol. </p>\n\n<p>Right now, the highlighting code is a simple QString::replace API call:</p>\n\n<pre><code>entry=entry.replace(reg,\"&lt;span style=\\\"background-color: \" + color + \"\\\"&gt;\" + term  + \"&lt;/span&gt;\");\n</code></pre>\n\n<p>This works but is still buggy; the most important problem is that it ignores case; If a match is \"Apple\" the highlighted term will say \"apple\". This is a problem if a match is the first word in a sentence.</p>\n\n<p>To fix this bug I was thinking of breaking the long QString into a QStringList array and searching for regexp matches one slot at a time. Is there a better/faster way to handle this job or is that how I should do it?</p>\n"},{"tags":["qt","qt4","usb","serial-port","arduino"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1200,"score":4,"question_id":1980284,"title":"List machine's serial ports","body":"<p>I have an Arduino-based device which connects through USB.</p>\n\n<p>I'd like to detect it from my Qt 4 application, using <code>QExtSerialPort</code> (or whatever necessary), when it's plugged in. </p>\n\n<p>If this weren't possible, I thought I could somehow get a list of the system's port names and just try all of them in search for my Arduino (where I'd implement some kind of handshaking procedure for it to detect it correctly). My concern in this approach is that I'm not sure if a device (for example, printer) would get damaged if I send some kind of handshaking ack at a different baud rate.</p>\n\n<p>So, I don't really know where to start for any of them. Which would be the best approach? How would I implement it?</p>\n"},{"tags":["c++","qt","code-generation","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12845513,"title":"Getting qmake to properly run my code-generator","body":"<p>Here's my situation:</p>\n\n<p>I have a typical Qt C++ project that I'm building with qmake (.pro file).</p>\n\n<p>I also have a python script that generates some code. The python script (let's call it update.py) generates three files, let's call them gen.h, gen.cpp, gen.qml.</p>\n\n<p>Now what I'm doing now is manually running update.py in order to generate those files. Then I can run make and everything builds OK. The gen.h and gen.cpp are just \"regular\" files in my .pro file and they are checked into SVN.</p>\n\n<p>What I want instead is to make it so that when I run make, update.py will get run and generate those files, and then they will get built along with the project. This way I can remove them from SVN and avoid the extra manual step.</p>\n\n<p>FYI: I already have update.py setup to only re-generate those files when needed, so if you run update.py multiple times it won't keep blindly changing gen.h, gen.cpp, etc.</p>\n\n<p>I have spent a huge amount of time trying to get this work (kinda embarrassing actually). I have been messing with QMAKE_EXTRA_TARGETS, QMAKE_EXTRA_COMPILERS, PRE_TARGETDEPS, etc, but nothing seems to quite work the way I want.</p>\n\n<p>Oh, some more info: gen.cpp and gen.h have QObject based classes, so I need them to gen generated before the MOC is run.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12846568,"title":"Access class from function","body":"<p>Is there another way besides declaring a static method inside a class to call it from outside the class ?</p>\n\n<p>Here is my code (See the question marked as comment )</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\n_stdcall BOOL EnumWindowsProc(HWND hw,LPARAM lp)\n{\n    char title[255];\n\n    memset(title,0,255);\n    GetWindowTextA(hw,title,255);\n\n    qDebug() &lt;&lt; title &lt;&lt; endl;\n\n     // How can I access class MainWindow from this function ?   \n\n    return true;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    EnumWindows(&amp;EnumWindowsProc,0);\n}\n</code></pre>\n"},{"tags":["python","qt","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12827305,"title":"PyQt application close with error","body":"<p>I have some trouble with creating window application using PyQt. For example: we have the following class for GUI:</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):   \n    def __init__(self, parent=None):\n         ...\n\n    def hideEvent(self, event):\n        ...\n\n    def showEvent(self, event):\n        ...\n\n    def activate(self):\n        ...\n\n    def closeEvent(self, event):\n        ...\n</code></pre>\n\n<p>What if we want to use it just for showing results and acept user inputs, and for all control logic we have another class, which use the instance of <code>SampleMainWindow</code> as a field:</p>\n\n<pre><code>class Programm:\n    def __init__(self):\n        self.window = SampleMainWindow()\n        ....\n\napp = QtGui.QApplication(sys.argv)\nprog = Programm()\nprog.window.show()\napp.exec_()\n</code></pre>\n\n<p>So, if we create the instance of <code>Programm</code>, the application will run well, but on close we'll get an error that python.exe process could not be completed normally. But if the instance of <code>SampleMainWindow</code> is not a field of class:</p>\n\n<pre><code>class Programm:\n    def __init__(self):\n        win = SampleMainWindow()\n        ....\n</code></pre>\n\n<p>application close well. What's the reason?</p>\n\n<p>Here are the full version of Gui class:</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):\n\ndef initTray(self):\n    self.icon = QtGui.QSystemTrayIcon()\n    self.icon.setIcon(QtGui.QIcon('Tray.png'))\n    self.icon.show()\n    self.icon.activated.connect(self.activate)\n\ndef __init__(self, parent=None):\n    QtGui.QMainWindow.__init__(self)\n    moduleglobalconstants.APP_RUNNING = True\n    self.initTray()\n    self.newSession = True\n\n    self.setGeometry(300, 300, 600, 400)\n    self.setWindowTitle('Eye: Recently Added Lines')\n    self.statusBar().showMessage('Ready')\n    exitAction = QtGui.QAction(QtGui.QIcon('Exit.png')\n            ,'Exit'\n            ,self)\n\n    exitAction.setShortcut('Ctrl+Q')\n    exitAction.setStatusTip('Exit application')\n    self.connect(exitAction\n                ,QtCore.SIGNAL('triggered()')\n                ,QtCore.SLOT('close()'))\n\n    menubar = self.menuBar()\n    fileMenu = menubar.addMenu('&amp;File')\n    fileMenu.addAction(exitAction)\n\n    self.toolbar = self.addToolBar('Exit')\n    self.toolbar.addAction(exitAction)\n\n    self.textEdit = QtGui.QTextEdit()\n    self.scrollPosition = self.textEdit.textCursor()\n    self.textEdit.setReadOnly(True)\n    self.setCentralWidget(self.textEdit)\n\ndef hideEvent(self, event):\n    self.hidden = True\n    self.setWindowFlags(QtCore.Qt.ToolTip)\n    self.setVisible(False)\n\ndef showEvent(self, event):\n    self.hidden = False\n    self.setVisible(True)\n\ndef activate(self):\n\n    self.setWindowFlags(QtCore.Qt.Window)\n    self.show()\n    self.setWindowState(self.windowState() &amp; ~QtCore.Qt.WindowMinimized | QtCore.Qt.WindowActive)\n    self.activateWindow()\n\ndef questionDialog(self, caption = 'Message',text = \"Are you sure?\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox(self)\n    msgBox.setWindowTitle(\"Eye\")\n    msgBox.setText(caption);\n    msgBox.setInformativeText(text);\n    msgBox.setStandardButtons(QtGui.QMessageBox.Yes| QtGui.QMessageBox.No);\n    msgBox.setDefaultButton(QtGui.QMessageBox.Yes);\n    return msgBox.exec_()\n\ndef criticalDialog(self,app, caption = 'Eye: Critical Error',text = \"Impossible to continue working!\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox.critical(self,caption,text)\n    moduleglobalconstants.APP_RUNNING = False\n\ndef closeEvent(self, event):\n    reply = self.questionDialog()\n    if reply == QtGui.QMessageBox.Yes:\n        moduleglobalconstants.APP_RUNNING = False\n        event.accept()\n    else:\n        event.ignore()\n\ndef showNewLines(self, singleLine = None, lines = None, mode='insert'):\n    if (mode == 'rewrite'):\n        self.textEdit.clear()\n    if lines:\n        for line in lines:\n            self.textEdit.insertPlainText(line.strip() + \"\\n\")\n    elif singleLine:\n        self.textEdit.insertPlainText(singleLine.strip()+\"\\n\")\n</code></pre>\n"},{"tags":["qt","layout","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":11142000,"title":"What is parent.right (for example) exactly in QML and how does it differ from parent.anchors.right?","body":"<p><a href=\"http://doc.qt.nokia.com/4.7-snapshot/qml-anchor-layout.html\" rel=\"nofollow\">http://doc.qt.nokia.com/4.7-snapshot/qml-anchor-layout.html</a> tells that parent's <code>anchors.right</code> is \"an invisible anchor line\" and points to <code>anchors.right : AnchorLine</code> property of <code>Item</code>,</p>\n\n<p>but <code>parent.right</code> and <code>parent.anchors.right</code> seem to be different things (and you can't anchor to the latter usually, while anchoring to the former works as expected).</p>\n\n<p>Hint me to the docs anyone?</p>\n"},{"tags":["c++","qt","creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12843473,"title":"Default QT Console Application doesn't cout \"Hello World\"... or do anything else","body":"<p>Strange problem this:</p>\n\n<p>I wrote an OpenGL app which compiled in QT but then opened a terminal which sat there doing nothing. As a test I created a new project... the default plain C++ project. It is supposed to:</p>\n\n<pre><code>int main(){\n  cout &lt;&lt; \"Hello World\" &lt;&lt; endl;\n  return 0;\n}\n</code></pre>\n\n<p>But the terminal opens and nothing ever happens. Tried a google search, but didn't find anything. Does anyone know what the problem might be?</p>\n\n<p>Thanks! - Ed Bird</p>\n"},{"tags":["c++","qt","linker","cppunit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":10603061,"title":"linking issue with qttestrunner in cppunit","body":"<p>I am working in a project based on the lib cppunit, I need to run my tests with <code>qttestrunner</code>\nI make the libqttestrunnerd.a (qmake qttestrunnerlib.pro  and make ), obviously there is a problem of linking, here is a sample of output:</p>\n\n<p><code>/home/oumaya/docs/UT_Cpp_Test/main/cppDir/lib/lib/libqttestrunnerd.a(moc_testbrowserdlg.o):(.rodata._ZTV15TestBrowserBase[vtable for TestBrowserBase]+0x30): undefined reference to 'QWidget::setName(char const*)'\n/home/oumaya/docs/UT_Cpp_Test/main/cppDir/lib/lib/libqttestrunnerd.a(moc_testbrowserdlg.o):(.rodata._ZTV15TestBrowserBase[vtable for TestBrowserBase]+0x34): undefined reference to 'QObject::insertChild(QObject*)'</code></p>\n\n<p>there is a lot of similar messages related to QT objects.<br>\nany help please<br>\nthank you in advance.</p>\n"},{"tags":["qt","background"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12842418,"title":"Send application to background with Qt","body":"<p>I have two GUI applications.  The Master has to start the Slave.  The Master has to start on the foreground, the slave has to start on the background.  The slave has to come to the foreground later.</p>\n\n<p>Is there a way to achieve this using Qt?</p>\n\n<p>attempt so far:</p>\n\n<pre><code>... \nif( master() ) {\n  window-&gt;show();\n} else {\n  window-&gt;showMinimized();\n}\n</code></pre>\n\n<p><code>showMinimized()</code> has the nasty side-effect that when the slave comes to the foreground first, it gets 'maximized'.</p>\n\n<p>So is there a way to start an application <em>behind</em> another application?</p>\n"},{"tags":["c++","python","qt","pyside"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":169,"score":1,"question_id":7149151,"title":"Customized style support in PySide, how to cast QStyleOption to it's subclass?","body":"<pre><code>class VisualStyle(QCleanlooksStyle):\n    def drawControl(self, ce, opt, p, w):\n        if ce == QStyle.CE_TabBarTabShape:\n            print(opt.__class__) # opt is always the type 'PySide.QtGui.QStyleOption'\n</code></pre>\n\n<p><code>qstyleoption_cast</code> seems not available in PySide. How can I cast <code>opt</code> to its subclass, i.e. <code>PySide.QtGui.QStyleOptionTab</code> ? </p>\n"},{"tags":["qt","size","label","ratio"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12841269,"title":"Set Qlabel width","body":"<p>I'm trying to make a ration between 2 numbers (likes &amp; dislikes).</p>\n\n<p>The result is a number in procent. Then I want to make the width from the label equal that procent.</p>\n\n<p>So If there are 100 likes and 1 dislike. I want to make the dislike label 1 procent the width of the like bar. So basicly like the youtube rating system.</p>\n\n<p>Example image: \n<img src=\"http://i.stack.imgur.com/8vStM.jpg\" alt=\"enter image description here\"></p>\n\n<p>But I don't see any function to set the width of the label.\nSo how do I need to do this, anyone have suggestions?</p>\n"},{"tags":["c++","qt","model","qtreeview"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":616,"score":2,"question_id":7563512,"title":"How to use QSortFilterProxyModel to filter a tree model that only display children nodes with their parents?","body":"<p>I have a working tree model derived from QAbstractItemModel and I wish to filter it using a QSortFilterProxyModel subclass to display only children nodes of certain criteria. For example I have the following tree:</p>\n\n<pre><code>A\n- B\n-- C1\n-- C1\n-- C1\n--- C2\n- D\n- E\n</code></pre>\n\n<p>I want to filter this tree with the condition that the node has name == C1 and display only the nodes with C1 and their children like this:</p>\n\n<pre><code>C1\nC1\nC1\n- C2\n</code></pre>\n\n<p>I already have a subclass with filterAcceptsRow() re-implemented that can partially do what I want but it will still show the parent and grandparent of C1 nodes:</p>\n\n<pre><code>A\n- B\n-- C1\n-- C1\n-- C1\n--- C2\n</code></pre>\n\n<p>I think this is because for children nodes to even be considered, their parent has to pass the filterAcceptsRow() test, am I right? How can I implement filterAcceptRows() or other methods such that it can do what I have described? </p>\n\n<p>I have asked this question sometime back in qtcentre and qtforum but did not get any useful reply. I tried to move the indices of the QSortFilterProxyModel subclass directly using beginMoveRows and endMoveRows inside filterAcceptsRow() but that just crashes the test application due to dangerous const_cast. </p>\n"},{"tags":["osx","qt","deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12834808,"title":"How to deploy a Qt3D application on Mac OS-X","body":"<p>If I deploy the demo-app sphere.app on OS-X with</p>\n\n<p>macdeployqt sphere.app</p>\n\n<p>and try to start it with</p>\n\n<p>sphere.app/Contents/MacOS/sphere</p>\n\n<p>I get the error message</p>\n\n<p>file:///Users/dev/src/qt3d-1.0-src/bin/sphere.app/Contents/Resources/qml/sphere.qml:42:1: module „Qt3D“ is not installed\n     import Qt3D 1.0</p>\n\n<p>otool –L sphere.app/Contents/MacOS/sphere shows, that the frameworks are correctly deployed:</p>\n\n<p>sphere.app/Contents/MacOS/sphere:\n    @executable_path/../Frameworks/Qt3D.framework/Versions/1/Qt3D (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/Qt3DQuick.framework/Versions/1/Qt3DQuick (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/QtDeclarative.framework/Versions/4/QtDeclarative (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtScript.framework/Versions/4/QtScript (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtCore.framework/Versions/4/QtCore (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtSvg.framework/Versions/4/QtSvg (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtGui.framework/Versions/4/QtGui (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtSql.framework/Versions/4/QtSql (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtXmlPatterns.framework/Versions/4/QtXmlPatterns (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtNetwork.framework/Versions/4/QtNetwork (compatibility version 4.8.0, current version 4.8.3)\n    @executable_path/../Frameworks/QtOpenGL.framework/Versions/4/QtOpenGL (compatibility version 4.8.0, current version 4.8.3)\n    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)\n    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)\n    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)\n    /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 830.0.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)</p>\n\n<p>Does onybody know how to fix this? Is this a Qt bug or did I do something wrong?</p>\n"},{"tags":["c++","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12797184,"title":"How to draw a custom control in QTableView?","body":"<p>\nI have to draw a custom control in QTableView. This control must looks like FileChooser.</p>\n\n<p><img src=\"http://www.vision.ee.ethz.ch/computing/sepp-irix/qt-3.0-mo/filechooser.png\" alt=\"FileChooser\"></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>QStyleOptionButton button_option;\nbutton_option.state |= QStyle::State_Enabled | QStyle::State_Off;\nbutton_option.rect = PushButtonRect(option); //calculate button rect\nbutton_option.text = \"...\";\nQApplication::style()-&gt;drawControl(\n    QStyle::CE_PushButton,\n    &amp;button_option,\n    painter);\n</code></pre>\n\n<p>The code above draws QStyle::CE_PushButton - that looks like QButton, - but there is no QStyle::CE_LineEdit in Qt library. How can I draw QLineEdit?</p>\n"},{"tags":["html","qt","html-parsing","qtwebkit","qwebelement"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":661,"score":2,"question_id":4589785,"title":"LIbrary issue: How do I set up QtWebKit to parse HTML?","body":"<p>Nick Presta showed that you can parse HTML with qt here: <a href=\"http://stackoverflow.com/questions/489522/library-recommendation-c-html-parser\">Library Recommendation: C++ HTML Parser</a></p>\n\n<p>However, when I attempt to build this, I get an access violation on the \"QWebFrame* frame = page.mainFrame();\" line.</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>#include &lt;QtWebKit\\QWebElement&gt;\n#include &lt;QtWebKit\\QWebView&gt;\n#include &lt;QtWebKit\\QWebFrame&gt;\n#include &lt;QtWebKit\\QWebPage&gt;\n#include &lt;iostream&gt;\n\nint main() {\n QWebPage page;\n QWebFrame* frame = page.mainFrame();\n\n frame-&gt;setHtml( \"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\" );\n QWebElement document = frame-&gt;documentElement();\n\n return 0;\n}\n</code></pre>\n"},{"tags":["qt","debugging","qgraphicsview","qgraphicsitem","qgraphicsscene"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12439082,"title":"QGraphicsScene::clear() clearing scene but not the view","body":"<p>I use a custom class (<code>Configuration</code>) derived from <code>QGraphicsItem</code> and I add its objects to a <code>QGraphicsScene</code>, which is then displayed in a <code>QGraphicsView</code>. Usual stuff. What Im doing exactly is drawing a tree, in multiple steps, one level a step, each node beeing my custom <code>QGraphicsItem</code>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SfTcr.png\" alt=\"enter image description here\"></p>\n\n<p>Here a screenshot. The tree happens to be sequential in the simple case. </p>\n\n<p>I first draw the root node. The signal that triggers that is fired after the user entered a string.</p>\n\n<pre><code>void MainWindow::drawRootSlot(ConfigTreeBuilder &amp; builder)//this is a slot\n{\n    c_scene-&gt;clear();  //the clear cause headache. i'll expain\n\n    Configuration* conf = new Configuration(builder.getNodesX(), builder.getNodesY(),builder.getNodesConfig());\n//code\n    c_scene-&gt;addItem(conf);\n//code\n}\n</code></pre>\n\n<p>Each subsequent <code>Configuration</code> is draw inside another slot. </p>\n\n<pre><code>void MainWindow::configTreeSlot(ConfigTreeBuilder &amp; builder)    //SLOT!!!\n{\n    while(builder.chooseNextNode()) {\n\n        Configuration* conf = new Configuration(builder.getNodesX(), builder.getNodesY(), builder.getNodesConfig());\n\n       //code, while loop    \n            QGraphicsLineItem *edge = c_scene-&gt;addLine(QLineF(*(parentsPoint), conf-&gt;getLeftOrigin()));\n            edge-&gt;setZValue(-1); //below the Configuration item\n\n\n        c_scene-&gt;addItem(conf);\n    }\n\n}\n</code></pre>\n\n<p>All works fine when done for the first time. When I  enter a new string, resetting the tree, dark magic happens. What I expected to it do is: call <code>drawRootSlot()</code>,  deleting the whole tree (<code>c_scene-&gt;clear()</code>), draw a new root node. And, if I put a debugger breakpoint inside <code>drawRootSlot()</code> this is exactly what happens! But when I run it (without breakpoints), what I get is this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/NT4wy.png\" alt=\"enter image description here\"></p>\n\n<p>The previous tree got mangled, but not deleted. The scene gets indeed cleared of its items (printed that) but the view  does not reflect that. But again, when I put a breakpoint inside <code>drawRootSlot()</code> thhe view and the scene are in sync.</p>\n\n<p>I tried to delete the scene object, and instaciate a new one instead of calling <code>c_scene-&gt;clear()</code>, to guarantee it empty. Then the changes are reflected on the view (the first time drawing always works).</p>\n\n<p>So, I have no idea what to deduce from these symptoms. It works as expected with a breakpoint or with a freshh <code>QGraphicsScene</code> object. It does not when just using <code>c_scene-&gt;clear()</code>. One couldsay I just messed up the parent-object/child-object relation, but <code>clear()</code> <em>does</em> remove items from the view... I tried calling it right after <code>c_scene-&gt;addItem()</code>.</p>\n\n<p>What is this sorrcery? One that makes me believe I'm not actually stupid?</p>\n\n<p><strong>EDIT:</strong> Whats interesting and may be a hint to the real problem, is that when <code>c_scene-&gt;clear()</code> is called, the edges of the tree, which are normal <code>QGraphicsLineItem</code>s, are indeed deleted in all cases (breakpoint or not). Something to do with them <em>not</em> beeing custom?</p>\n"},{"tags":["c++","qt","qthread","qtcpserver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12821429,"title":"QT QTcpServer in thread; how to close listening server on exit?","body":"<p>I have a thread subclass like this </p>\n\n<pre><code>class MyThread : public QThread\n{\npublic:\n    MyThread (void);\n    ~MyThread (void);\n\n    void run();\n\n    void stop(); // close server and terminate thread\n\npublic slots:\n    void slotCloseServer();\n\nsignals:\n    void signalCloseServer();\n\nprivate:\n    QTcpServer* m_pServer;\n};\n</code></pre>\n\n<p>and the <code>run()</code>  and the overall class definition is outlined below</p>\n\n<pre><code>MyThread::MyThread()\n{\n    connect(this, SIGNAL(signalCloseServer()), this, SLOT(slotCloseServer()));\n}\n\nvoid MyThread::run()\n{\n    m_pServer = new QTcpServer();\n\n    if(m_pServer-&gt;listen(QHostAddress(QHostAddress::LocalHost), 8888) == 0)\n    {\n        qCritical(\"Server listen failed.\");\n    }\n    else\n    {\n        exec();\n    }\n}\n\nvoid MyThread::stop()\n{\n    emit signalCloseServer();\n    quit(); // terminate thread\n}\n\nvoid MyThread::slotCloseServer()\n{\n    if (m_pServer &amp;&amp; m_pServer-&gt;isListening())\n    {\n        m_pServer-&gt;close();\n    }\n}\n</code></pre>\n\n<p>Now from the main thread, I want to call <code>stop()</code> so it would signal to the thread instance to close the server and terminate itself but it never gets to <code>slotCloseServer()</code> and the listening port does not get released. </p>\n\n<p>Any thoughts as to how to release the server socket before the terminating the thread?</p>\n\n<p>Thanks,</p>\n"},{"tags":["c++","qt","image-rotation","rounding-error"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12826812,"title":"Rotating images causes distortion on Qt","body":"<p>I'm facing some problems rotating an image in Qt.  Each time I rotate my image with <a href=\"http://qt-project.org/doc/qt-4.8/QPainter.html\" rel=\"nofollow\">QPainter</a> it becomes more and more distorted.  This is the initial image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/TSGl5.png\" alt=\"http://imageshack.us/photo/my-images/838/ship1.png/\"></p>\n\n<p>After some iterations it becomes:</p>\n\n<p><img src=\"http://i.stack.imgur.com/c7b6b.png\" alt=\"http://imageshack.us/photo/my-images/11/ship2e.png/\"></p>\n\n<p>This is my code:</p>\n\n<pre><code>void Ship::Move(int x, int y)\n{\n    QPixmap rotatePixmap(shipPixels.size());\n    rotatePixmap.fill(Qt::transparent);\n\n    QTransform transform;\n    transform.translate(\n            rotatePixmap.size().width() / 2,\n            rotatePixmap.size().height() / 2\n    );\n\n    transform.rotate(degree);\n    transform.translate(\n            - rotatePixmap.size().width() / 2, \n            - rotatePixmap.size().height() / 2\n    );\n\n    QPainter p(&amp;rotatePixmap);\n    p.setRenderHints(\n            QPainter::Antialiasing | QPainter::SmoothPixmapTransform,\n            true\n    );\n\n    p.setTransform(transform);\n    p.drawPixmap(0, 0, shipPixels);\n    p.end();\n\n    shipPixels = rotatePixmap;\n    this-&gt;setPixmap(shipPixels);\n    this-&gt;move(QPoint(x, y));\n    degree = 0;\n}\n</code></pre>\n\n<p>For me Qt preserves image quality. The behavior is totally strange. Is there a reason?</p>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12835810,"title":"Qt, how do I repetedly read data from file?","body":"<p>I have a file which I would like to read again and again, to update a paramter in my code. but using QTextStream only reads the value once, and reads out 0 after that every time.</p>\n\n<p>This is basically my code:</p>\n\n<pre><code>int main(){\n    QString data;\n    QFile Status;\n\n    Status.setFileName(\"/home/user/status\");\n    Status.open(QIODevice::ReadOnly);\n\n    QTextStream in(&amp;Status);\n\n    While(1){\n        usleep(100);\n        data = in.readLine();\n        cout &lt;&lt; \"This is the status: \" &lt;&lt; data.toInt();\n    }\nreturn 0;\n}\n</code></pre>\n\n<p>Problem is that it reads the \"status\" file correctly the fist time, but after that, it reads out \"0\"...Any thoughts of how I can read out this file again and again.</p>\n\n<p>In additional info, my thought is to change the data of the file to update my app status, which is a number (int) between 0 and 100.</p>\n\n<p>Thank you for any help, it is appreciated.. :)</p>\n"},{"tags":["qt","contextmenu","system-tray"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":950,"score":3,"question_id":6115766,"title":"QT system tray context menu remains when app loses focus","body":"<p>I've set up a system tray icon for my app and have attached a simple context menu to it.  If I right click the icon to bring up the context menu it works fine.  If I then click somewhere that loses the focus of the app (e.g. elsewhere on the task bar or on another app) the context menu is not removed and still triggers the correct action when clicked.  If, however, I click on the main app the context menu disappears as expected.</p>\n\n<p>Here's the relevant code for creating the tray icon and context menu -</p>\n\n<pre><code>actionExit = new QAction( \"Exit\", this );\nconnect( actionExit, SIGNAL( triggered( )), this, SLOT( ExitClient( )));\n\nmyTrayIconMenu = new QMenu( this );\nmyTrayIconMenu-&gt;addAction( actionExit );\n\ntrayIcon = new QSystemTrayIcon( icon, this );\ntrayIcon-&gt;setContextMenu( myTrayIconMenu );\nconnect( systrayIcon, SIGNAL( activated( QSystemTrayIcon::ActivationReason )), this, SLOT( ToggleVisibility( QSystemTrayIcon::ActivationReason )));\ntrayIcon-&gt;show( );\n</code></pre>\n\n<p>Do I need to add my own code that tests for the app losing focus so that I can manually hide the context menu?  I had assumed this functionality would be built in.</p>\n\n<p>[The problem is occurring in Windows 7, compiling with Visual Studio 2010 Pro via QT plug-in - I haven't tested under any other OS]</p>\n\n<p>I noticed this in the API documentation -</p>\n\n<blockquote>\n  <p>Note: The system tray icon does not\n  take ownership of the menu. You must\n  ensure that it is deleted at the\n  appropriate time by, for example,\n  creating the menu with a suitable\n  parent object.</p>\n</blockquote>\n\n<p>If I use</p>\n\n<pre><code>myTrayIconMenu = new QMenu( );\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>myTrayIconMenu = new QMenu( this );\n</code></pre>\n\n<p>the context menu is removed when the app loses focus.  But then I'll need to take care of manually deleting the context menu.</p>\n\n<p>How have other people dealt with this situation?</p>\n"},{"tags":["qt","openstreetmap","leaflet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12835463,"title":"How to enable dragging/panning by mouse on a openStreet map, displayed on a Qt widget, using Leaflet API?","body":"<p>The map is displayed on a <code>Qt</code> widget.<br>\nIn the following <code>Javascript</code> code, I have written <code>dragging: true</code>, but still I can't <strong>\"pan\"</strong> the map through the <strong>\"mouse\"</strong>.</p>\n\n<p><strong>I have noticed that this problem occurs ONLY when this code is executed w.r.t a Qt's widget, never when it is executed in a browser!</strong></p>\n\n<pre><code>    var map;\n    var centerPoint;\n    var arrayCenterPoints = new Array ();\n    var arrayFileNames    = new Array ();\n    var arrayCorners      = new Array ();\n    var arrayList         = new Array ();\n\n    function displayMapAndClick ()\n    {\n        map = L.map ('map', \n                {\n                    dragging: true,\n                }).setView ([51.505, -0.09], 13, true);\n\n        L.tileLayer('http://{s}.tile.cloudmade.com/24c8d683cff74bffa7f00e59cd858e00/997/256/{z}/{x}/{y}.png', \n            {\n                attribution: 'Map data &amp;copy; &lt;a href=\"http://openstreetmap.org\"&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=\"http://creativecommons.org/licenses/by-sa/2.0/\"&gt;CC-BY-SA&lt;/a&gt;, Imagery © &lt;a href=\"http://cloudmade.com\"&gt;CloudMade&lt;/a&gt;',\n                maxZoom: 13,\n            }).addTo (map);\n\n        selectCenterPoint ();\n    }\n\n    function selectCenterPoint ()\n    {\n        var popup = L.popup();\n\n        function onMapClick (e) \n        {\n            popup\n                .setLatLng  (e.latlng)\n                .setContent (\"You clicked the map at: \" + e.latlng.toString())\n                .openOn      (map);\n\n                map.panTo (e.latlng);\n                L.marker (e.latlng).addTo (map).bindPopup (\"&lt;b&gt;Center point: &lt;/b&gt;\" + \"&lt;br&gt;\" + e.latlng + \"&lt;br /&gt;\").openPopup ();\n                centerPoint = e.latlng; \n        }\n        map.on ('click', onMapClick);\n    }\n</code></pre>\n\n<hr>\n\n<p>I couldn't write the <code>HTML</code> info here, so have attached the screenshot:\n<img src=\"http://help.openstreetmap.org/upfiles/osm_2.png\" alt=\"alt text\"></p>\n"},{"tags":["c++","qt","linker"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":981,"score":1,"question_id":6082318,"title":"How to find the multiple definitions of a function","body":"<p>I wrote a findDialog which finds the text searched. When I give <code>make</code> command,it returns</p>\n\n<pre><code>g++ -Wl,-O1 -o findDialog FindDialog.o main.o moc_FindDialog.o    -L/usr/lib -lQtGui -lQtCore -lpthread \nmoc_FindDialog.o: In function `FindDialog::findClicked()':\nmoc_FindDialog.cpp:(.text+0x20): multiple definition of `FindDialog::findClicked()'\nFindDialog.o:FindDialog.cpp:(.text+0x30): first defined here\nmoc_FindDialog.o: In function `FindDialog::enableFindButton(QString const&amp;)':\nmoc_FindDialog.cpp:(.text+0x50): multiple definition of `FindDialog::enableFindButton(QString const&amp;)'\nFindDialog.o:FindDialog.cpp:(.text+0x0): first defined here\ncollect2: ld returned 1 exit status\nmake: *** [findDialog] Error 1\n</code></pre>\n\n<p>I have searched the problem for hours, but I can not understand what the problem stems from. \n What can cause <code>multiple definition of</code> error?</p>\n"},{"tags":["qt","event-handling","keyboard-shortcuts","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12830788,"title":"Handle key events Ctrl+Tab and Ctrl+Shift+Tab","body":"<p>I want to handle the two key events <code>Ctrl</code>+<code>Tab</code> and <code>Ctrl</code>+<code>Shift</code>+<code>Tab</code> in order to switch between tabs in my application (\"forward\" and \"backward\" respectively). However, this doesn't seem to work as expected.</p>\n\n<p>This is my current code (minimal example):</p>\n\n<pre><code>import QtQuick 1.1\n\nItem {\n    width: 100\n    height: 100\n\n    focus: true\n\n    Keys.onPressed: {\n        if(event.modifiers &amp; Qt.ControlModifier) {\n            if(event.key === Qt.Key_Tab) {\n                if(event.modifiers &amp; Qt.ShiftModifier)\n                    console.log('backward')\n                else\n                    console.log('forward')\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I ran this piece of code with <code>qmlviewer</code> (Qt version 4.8.2)</p>\n\n<p>Output when pressing <code>Ctrl</code>+<code>Tab</code>:</p>\n\n<pre><code>forward\nforward\n</code></pre>\n\n<p>Output when pressing <code>Ctrl</code>+<code>Shift</code>+<code>Tab</code>:</p>\n\n<blockquote>\n  <p><em>none</em></p>\n</blockquote>\n\n<p>So I see two errors: The former key sequence is handled twice while the other one not at all. </p>\n\n<ul>\n<li><strong>EDIT:</strong> The reason that the other one doesn't get handled at all is solved, see comments.</li>\n</ul>\n\n<p>Why does this happen and how can I solve this?</p>\n\n<p>Note: I already use Qt Components for Desktop in my application, so it's OK if you know a solution requiring this module.</p>\n"},{"tags":["c++","qt","vbulletin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12832461,"title":"Edit a VBulletin Post using Qt","body":"<p>Well, i'd like to do an automatization to edit a thread in a certain amount of time with a program. I really don't know how to do it, i don't even know if it's possible to do without an API. It's feasible without an API?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12833584,"title":"Qt Necessitas windows IDE- lanunching issue","body":"<p>I have installed Qt Necessitas SDK on windows 7,\nI have been trying to compile and load the program to android device/emulator\nI am not able to get this thing working,</p>\n\n<p>Program compiles successfully and after deployment while  launching \n I am getting the following error message\n\"Starting remote process...Cannot find org.kde.necessitas.example.untitled process\"\nI am getting the same error for both device and emulator</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["qt","qtcpsocket","qtnetwork"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12831691,"title":"Cannot recieve readyRead signal of QTcpSocket?","body":"<p>You send data across network with QTcpSocket, connect the readyRead signal with your data handler. But readyRead signal maybe not triggered.</p>\n\n<p>You could see the data arrived with Wireshark, but QTcpSocket does not trigger the readyRead signal. </p>\n"},{"tags":["c++","qt","cryptography","qcar-sdk","botan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12831039,"title":"Botan tutorials or examples for creating the SHA-256 hash of a password","body":"<p>I'm porting a portion of a .NET application to Qt on Linux.  I am trying to replicate the results of a .NET function to create the SHA-256 hash of a password + salt.  The .NET code is </p>\n\n<pre><code>return new SHA256Managed().ComputeHash(buffer);\n</code></pre>\n\n<p>Where buffer is the salt concatenated to the password.  </p>\n\n<p>I considered several crytopgraphic libraries including QCA and Botan and after reading several comments, I decided to try Botan.  However, I'm not finding the right place in the documentation to perform the equivalent of the code listed above.</p>\n\n<p>Can someone point me to the place in the fine manual or a tutorial that discusses the use of Botan to create a simple hash?  I've been google searching for a couple hours without finding a solution.  There are many example of SHA-256 hashing for pipes and streams but I have yet to find the example of a simple hash calculation.</p>\n"},{"tags":["c++","c","windows","qt"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":12829415,"title":"#define variable ignored and redefined in windows.h","body":"<p>I am using a windows 7 computer so I have defined WINVER and _WIN32_WINNT to reflect that. However, when windows.h is included, it does not see the original #define and redefines  the values to the default 0x0400. My code is below. This is on a Windows 7 PC in QT creator with mingw g++. Any ideas as to why this is happening?</p>\n\n<pre><code>#define WINVER 0x0601\n#define _WIN32_WINNT 0x0601\n\n#if WINVER &gt; 0x0600\n#define GOOD\n#endif\n\n#include &lt;windows.h&gt;\n\n#if WINVER &gt; 0x0600\n#define STILL_GOOD\n#endif\n\n#include &lt;winuser.h&gt;\n#include &lt;initguid.h&gt;\n#include &lt;dbt.h&gt;\n</code></pre>\n\n<p>EDIT: I use the #if WINVER > 0x0600... statement to determine what the value is.</p>\n"},{"tags":["qt","qwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12828825,"title":"How to assign callback when the user resizes a QMainWindow?","body":"<p>Neither I could find a tutorial-like scheme for a resize event on QMainWindow, nor I did see any option for adding resize event in the drop-down menu at the Qt design window. </p>\n\n<p>I am new to Qt. I'd like to write a slot function for a QMainWindow resize event. Is there such event? How can I do this?</p>\n"},{"tags":["qt","compilation","static-libraries"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12829402,"title":"Qt errors after static compilation","body":"<p>I'm writing a Qt program with Qt creator (v2.5.0 \nBased on Qt 4.8.1 (64 bit)) on a computer under Ubuntu 12.04 64 bits. It works fine on my computer and I'm happy about it.</p>\n\n<p>But now I want to deploy my app, so I decided to try to do build my project statically. In order to do that, I compiled Qt statically (from the 4.8.3 sources), I changed the qmake choice in Qt creator (replaced it with the \"static\" one), and I selected \"static build\" in build settings.</p>\n\n<p>At first it seemed to work perfectly: my new executable file was 15Mb (instead of its usual 1Mb) and when I did ldd ./myApp to check the dependencies, there were no more libQtGui.so.4 nor libQtCore.so.4, and the program seemed to work okay.</p>\n\n<p>Then I realized Qt Creator was constantly yelling in the Application output:</p>\n\n<p><strong>\"Gtk-CRITICAL **: IA__gtk_widget_style_get: assertion `GTK_IS_WIDGET (widget)' failed\"</strong></p>\n\n<p>That can't be too good, what's going on? Worse, when I try to load the help menu of my program, somehow it doesn't manage to open the window and sort of freezes. The help menu is just a widget containing a QTextBrowser (which displays an html file with a couple png pics) and a few buttons. I get the following error repeatedly in the app output:</p>\n\n<p>*<strong>*X Error: BadDrawable (invalid Pixmap or Window parameter) 9\n  Major opcode: 62 (X_CopyArea)\n  Resource id:  0x0**</strong></p>\n\n<p>and one (or more?) <strong>QNativeImage: Unable to attach to shared memory segment.</strong> </p>\n\n<p>It might have something to do with the fact that when I added the static version of qmake (in Qt options, Build &amp; Run, Qt versions tab), I get the warning:\n\"No qmlviewer installed\". I have no idea.</p>\n\n<p>Anyway, I'm kind of disappointed and depressed, deploying the app is much harder than I expected and incredibly annoying. Does anyone know how to fix this?</p>\n\n<p>While I'm here, I have a few other small questions:</p>\n\n<ol>\n<li>Does it matter that Qt creator does <code>qmake myApp.pro -r -spec linux-g++</code> and <code>make -w</code> instead of just <code>qmake</code> and <code>make</code>?</li>\n<li>I read in several places to add LIBS in my .pro file, also I read in one place I should write CONFIG += static, Qt official doc says to do things slightly differently (but for once, I find it <strong>very</strong> badly written and confusing), but all of this doesn't seem to do anything. Does it matter?</li>\n</ol>\n\n<p>Thank you very much in advance for your help!</p>\n"},{"tags":["c++","qt","gui","segmentation-fault"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":76,"score":-3,"question_id":12827415,"title":"Qt - Segmentation fault during ui application debug","body":"<p>I have created a Qt Gui Application in QTCreator and tried to run it. For checking purposes I have removed all of my code (so that the goal of the project is irrelevant to the problem) and tried to debug to see where the problem lies. I get this message:</p>\n\n<pre><code>The inferior stopped because it received a signal from the Operating System.\n\nSignal name:    SIGSEGV\nSignal meaning: Segmentation fault\n</code></pre>\n\n<p>Here's a screenshot of my debug screen to show you where I get the error. I just moved from Java to C++ and I have no idea how to handle this.\n<img src=\"http://i.stack.imgur.com/jb7to.jpg\" alt=\"enter image description here\"></p>\n\n<p>To give you an idea of how my files look so far:</p>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>imagegui.pro</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-10T20:24:08\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = imagegui\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n"},{"tags":["c++","qt"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":964,"score":3,"question_id":815380,"title":"Wait until QWidget closes","body":"<p>I'm working on a project in C++ and QT, and I want to open a new QWidget window, have the user interact with it, etc, then have execution return to the method that opened the window. Example (MyClass inherits QWidiget):</p>\n\n<pre><code>void doStuff(){\n\n     MyClass newWindow = new Myclass();\n     /* \n        I don't want the code down here to \n        execute until newWindow has been closed\n      */\n}\n</code></pre>\n\n<p>I feel like there is most likely a really easy way to do this, but for some reason I can't figure it out. How can I do this?</p>\n"},{"tags":["python","qt","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12827663,"title":"Restoring from tray breaks event processing","body":"<p>I have found specific behavior of QApplication. I create the following class</p>\n\n<pre><code>class SampleMainWindow(QtGui.QMainWindow):\n\ndef initTray(self):\n    self.icon = QtGui.QSystemTrayIcon()\n    self.icon.show()\n    self.icon.activated.connect(self.activate)\n\ndef __init__(self, parent=None):\n    QtGui.QMainWindow.__init__(self)\n    self.initTray()\n    self.newSession = True\n\n    # Основное окно\n    self.setGeometry(300, 300, 600, 400)\n    self.setWindowTitle('Eye: Recently Added Lines')\n    self.statusBar().showMessage('Ready')\n    exitAction = QtGui.QAction(QtGui.QIcon('Exit.png')\n            ,'Exit'\n            ,self)\n\n    exitAction.setShortcut('Ctrl+Q')\n    exitAction.setStatusTip('Exit application')\n    self.connect(exitAction\n                ,QtCore.SIGNAL('triggered()')\n                ,QtCore.SLOT('close()'))\n\n    menubar = self.menuBar()\n    fileMenu = menubar.addMenu('&amp;File')\n    fileMenu.addAction(exitAction)\n    self.toolbar = self.addToolBar('Exit')\n    self.toolbar.addAction(exitAction)\n    self.textEdit = QtGui.QTextEdit()\n    self.scrollPosition = self.textEdit.textCursor()\n    self.textEdit.setReadOnly(True)\n    self.setCentralWidget(self.textEdit)\n\ndef hideEvent(self, event):\n    self.hidden = True\n    self.setWindowFlags(QtCore.Qt.ToolTip)\n    self.setVisible(False)\n\ndef showEvent(self, event):\n    self.hidden = False\n    self.setVisible(True)\n\ndef activate(self):\n    self.setWindowFlags(QtCore.Qt.Window)\n    self.show()\n    self.setWindowState(self.windowState() &amp; ~QtCore.Qt.WindowMinimized | QtCore.Qt.WindowActive)\n    self.activateWindow()\n\ndef questionDialog(self, caption = 'Message',text = \"Are you sure?\"):\n    self.activate()\n    msgBox = QtGui.QMessageBox(self)\n    msgBox.setWindowTitle(\"Eye\")\n    msgBox.setText(caption);\n    msgBox.setInformativeText(text);\n    msgBox.setStandardButtons(QtGui.QMessageBox.Yes| QtGui.QMessageBox.No);\n    msgBox.setDefaultButton(QtGui.QMessageBox.Yes);\n    return msgBox.exec_();\n\ndef closeEvent(self, event):\n    reply = self.questionDialog()\n    if reply == QtGui.QMessageBox.Yes:\n        event.accept()\n    else:\n        event.ignore()\n</code></pre>\n\n<p>And the application runs by usual way:</p>\n\n<pre><code>app = QtGui.QApplication(sys.argv)\ntestWindow = SampleMainWindow()\ntestWindow.show()\napp.exec_()\n</code></pre>\n\n<p>The SampleMainWindow can  minimize to tray, but after restoring the event processing is not work. I mean that the events are catching, but not processing, so the event.accept() in closeEvent() does not close the application. But if we'll run custom event loop instead of app.exec_()</p>\n\n<pre><code>while APP_RUNNING:\n  app.processEvents()\n  ....\n</code></pre>\n\n<p>And use APP_RUNNING = False in closeEvent(), application will close normally.</p>\n"},{"tags":["c++","qt","unicode","utf-8","qt-creator"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12823136,"title":"How to use Unicode charaters in QString/QDebug?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7667407/i-lose-unicodeness-when-qdebuging-after-instancing-a-qapplication\">I lose “unicodeness” when qDebug()ing after instancing a QApplication</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to use Unicode characters in my project, but the Unicode characters are converting to some values(ex: ?).</p>\n\n<pre><code>#include &lt;QtCore/QCoreApplication&gt;\n#include &lt;QTextCodec&gt;\n#include &lt;QDebug&gt;\nint main(int argc, char *argv[]) {\n  QCoreApplication a(argc, argv);\n  QTextCodec *codec = QTextCodec::codecForName(\"UTF-8\");\n  QTextCodec::setCodecForCStrings(codec);\n  //Unicode character here is '\n  QString unicode = \"Hello I’ve to go\";\n  qDebug() &lt;&lt; \"Unicode String: \" &lt;&lt; unicode;\n  return a.exec();\n}\n</code></pre>\n\n<p>The above code prints the string value as <strong>Hello I?ve to go</strong></p>\n"},{"tags":["python","qt","table","pyqt4","qtsql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12792965,"title":"PyQt4: Display progress bar while qtsql table is being loaded","body":"<p>Is it possible to get the number of records in a table after <code>QtSql.QSqlTableModel.setTable(tableName)</code> and before <code>QtSql.QSqlTableModel.select()</code>?\nQt documentation about <strong>setTable</strong> function says:</p>\n\n<blockquote>\n  <p><em>Sets the database table on which the model operates to tableName. Does not select data from the table, but fetches its field information.</em></p>\n</blockquote>\n\n<p>So these are my questions :) Which field information? Does it contain the number of records? How to access it if necessary? (I would like to display a progress bar while the table is being loaded)</p>\n"},{"tags":["c++","qt","opengl","qglwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":12790936,"title":"Orbiting sphere should cast spot light on central cube","body":"<p>I'm writing a program that draws <strong>a rotating cube (with texture)</strong> in the middle of the screen followed by a small <strong>yellow sphere that orbits around the cube</strong>. The idea is to make the sphere as a spot light source that illuminates the cube.</p>\n\n<p><strong>Here is the problem</strong>: as you can see in the images below, I'm failing to achieve the spot light effect. It seems that the entire cube gets lighted:</p>\n\n<p><img src=\"http://i.stack.imgur.com/YDzS3.png\" width=\"280\" height=\"200\"> \n<img src=\"http://i.stack.imgur.com/PBzvh.png\" width=\"280\" height=\"200\"></p>\n\n<p>I'm setting <code>GL_SPOT_DIRECTION</code> to be the cube position. I didn't set surface normals because I'm struggling to understand how to compute them for the cube, and I'm not sure a simple graphic application like this really requires it. </p>\n\n<p>I'm sharing the code below:</p>\n\n<p><strong>main.cpp</strong>:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"glwidget.h\"\n\nint main(int argc, char* argv[])\n{\n    QApplication app(argc, argv);\n\n    GLWidget gl_widget;\n    gl_widget.show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p><strong>GLWidget.h</strong>:</p>\n\n<pre><code>#pragma once\n#include &lt;QGLWidget&gt;\n#include &lt;QImage&gt;\n\nclass GLWidget : public QGLWidget\n{\n    Q_OBJECT\npublic:\n    explicit GLWidget(QWidget* parent = 0);\n    virtual ~GLWidget();\n\n    void _draw_texture_cube(int w, int h);\n    void _draw_light();\n\n    /* OpenGL initialization, viewport resizing, and painting */\n\n    void initializeGL();\n    void paintGL();\n    void resizeGL( int width, int height);\n\n    /* enable the user to interact directly with the scene using the keyboard */\n\n    void keyPressEvent(QKeyEvent *e);\n\nprivate:\n    int _width;\n    int _height;\n    QImage* _img;\n    GLuint  _texture;\n    float xrot;\n    float yrot;\n    float zrot;\n    bool _light_on;\n    bool _must_rotate;\n    bool _pause_light;\n    GLfloat _light_pos[3];\n    GLfloat _cube_pos[3];\n    GLUquadricObj* _quadratic;\n\nprotected slots:\n    void _tick();\n};\n</code></pre>\n\n<p><strong>GLWidget.cpp</strong>:</p>\n\n<pre><code>#include \"GLWidget.h\"\n\n#include &lt;iostream&gt;\n#include &lt;QKeyEvent&gt;\n#include &lt;QTimer&gt;\n\n#include &lt;cmath&gt;\n\n#define LIGHT_MOVEMENT_SPEED    20.0f           // Degrees per second\n#define pi                      3.141592654f\n\nGLWidget::GLWidget(QWidget *parent)\n: QGLWidget(parent), _img(NULL), _light_on(true), _must_rotate(true),\n  _pause_light(false), _quadratic(NULL)\n{\n    _width = 0;\n    _height = 0;\n    _texture = 0;\n\n    xrot = 0.f;\n    yrot = 0.f;\n    zrot = 0.f;\n\n    // Set central cube position\n    _cube_pos[0] = 0.0f;\n    _cube_pos[1] = 0.0f;\n    _cube_pos[2] = -7.0f;\n\n    // Set light position\n    _light_pos[0] = 0.5f;\n    _light_pos[1] = 0.5f;\n    _light_pos[2] = -7.0f;\n}\n\nGLWidget::~GLWidget()\n{\n    if (_img)\n        delete _img;\n\n    glDeleteTextures(1, &amp;_texture);\n}\n\nvoid GLWidget::_tick()\n{\n    update(); // triggers paintGL()\n\n    QTimer::singleShot(33, this, SLOT(_tick()));\n}\n\nvoid GLWidget::initializeGL()\n{\n    std::cout &lt;&lt; \"GLWidget::initializeGL\" &lt;&lt; std::endl;\n    glClearColor(0.0f, 0.0f, 0.0f, 1.0f);       // Black Background\n\n    glEnable(GL_CULL_FACE);\n\n    /* Load bitmap */\n\n    glEnable(GL_TEXTURE_RECTANGLE_ARB);\n    glPixelStorei (GL_UNPACK_ALIGNMENT, 1);\n\n    if (!_img)\n    {\n        std::cout &lt;&lt; \"GLWidget::paintGL: loading image\" &lt;&lt; std::endl;\n\n        QImage tmp(\":/crate.jpg\");\n        if (tmp.isNull())\n        {\n            std::cout &lt;&lt; \"GLWidget::paintGL: !!! Failed QImage #1\" &lt;&lt; std::endl;\n            return;\n        }\n\n        _img = new QImage(QGLWidget::convertToGLFormat(tmp));\n    }\n\n    /* Convert bitmap into texture */\n\n    // Create The Texture\n    glGenTextures(1, &amp;_texture);\n\n    // Typical Texture Generation Using Data From The Bitmap\n    glBindTexture(GL_TEXTURE_RECTANGLE_ARB, _texture);\n\n    // Generate The Texture\n    glTexImage2D(GL_TEXTURE_RECTANGLE_ARB, 0,\n                 GL_RGBA, _img-&gt;width(), _img-&gt;height(), 0,\n                 GL_RGBA, GL_UNSIGNED_BYTE, _img-&gt;bits());\n\n    if (glGetError() != GL_NO_ERROR)\n    {\n        std::cout &lt;&lt; \"GLWidget::paintGL: !!! Failed glTexImage2D\" &lt;&lt; std::endl;\n        return;\n    }\n\n    /* Setup lighting */\n\n    glShadeModel(GL_SMOOTH);    //Smooth color shading\n\n    // Light properties\n    GLfloat AmbientLight[4]      = {0.2, 0.2, 0.2, 1.0};\n    GLfloat DiffuseLight[4]      = {0.8, 0.8, 0.8, 1.0};      // color\n    GLfloat SpecularLight[4]     = {1.0, 1.0, 1.0, 1.0};      // bright\n    GLfloat SpecRef[]            = {0.7f, 0.7f, 0.7f, 1.0f};\n    GLubyte Shine                = 60.0;\n\n    //glLightModelfv(GL_LIGHT_MODEL_LOCAL_VIEWER, AmbientLight);\n    glLightfv(GL_LIGHT0, GL_AMBIENT, AmbientLight);\n    glLightfv(GL_LIGHT0, GL_DIFFUSE, DiffuseLight);\n    glLightfv(GL_LIGHT0, GL_SPECULAR, SpecularLight);\n    glLightfv(GL_LIGHT0, GL_POSITION, _light_pos);\n\n    glColorMaterial(GL_FRONT, GL_AMBIENT_AND_DIFFUSE);\n    glMaterialfv(GL_FRONT, GL_SPECULAR, SpecRef);           // refletância do material\n    glMaterialf(GL_FRONT, GL_SHININESS, Shine);             // concentração do brilho\n    glLightModeli(GL_LIGHT_MODEL_TWO_SIDE, 0);\n    //glColorMaterial(GL_FRONT,GL_DIFFUSE);\n\n    glEnable(GL_COLOR_MATERIAL);\n    glEnable(GL_LIGHTING);\n    glEnable(GL_LIGHT0);\n    glEnable(GL_DEPTH_TEST);\n\n    // Sphere\n    _quadratic = gluNewQuadric();               // Create A Pointer To The Quadric Object\n    gluQuadricNormals(_quadratic, GLU_SMOOTH);  // Create Smooth Normals\n    gluQuadricTexture(_quadratic, GL_TRUE);     // Create Texture Coords\n\n    /* Start the timer */\n\n    _tick();\n}\n\n/* Draw the central cube with texture\n */\nvoid GLWidget::_draw_texture_cube(int w, int h)\n{\n    glPushMatrix();\n\n    glTranslatef(_cube_pos[0], _cube_pos[1], _cube_pos[2]);\n    glRotatef ( xrot, 1.0, 0.0, 0.0 );\n    glRotatef ( yrot, 0.0, 1.0, 0.0 );\n    glRotatef ( zrot, 0.0, 0.0, 1.0 );\n\n    glColor3f(1.0f, 1.0f, 1.0f);\n\n    glBegin(GL_QUADS);  // Draw A Cube\n\n        // Front Face\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f,  1.0f);\n\n        // Back Face\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f( 1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f, -1.0f);\n\n        // Top Face\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f,  1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f, -1.0f);\n\n        // Bottom Face\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f( 1.0f, -1.0f, -1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f,  1.0f);\n\n        // Right face\n        glTexCoord2f(w, 0.0f);              glVertex3f( 1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, h);                 glVertex3f( 1.0f,  1.0f, -1.0f);\n        glTexCoord2f(0.0f, _img-&gt;height()); glVertex3f( 1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f( 1.0f, -1.0f,  1.0f);\n\n        // Left Face\n        glTexCoord2f(0.0f, 0.0f);           glVertex3f(-1.0f, -1.0f, -1.0f);\n        glTexCoord2f(w, 0.0f);              glVertex3f(-1.0f, -1.0f,  1.0f);\n        glTexCoord2f(w, h);                 glVertex3f(-1.0f,  1.0f,  1.0f);\n        glTexCoord2f(0.0f, h);              glVertex3f(-1.0f,  1.0f, -1.0f);\n\n    glEnd();\n    glPopMatrix();\n\n    if (_must_rotate)\n    {\n        xrot += 0.6f;\n        yrot += 0.4f;\n        zrot += 0.8f;\n    }\n}\n\n/* Draw light source and light model (sphere)\n */\nvoid GLWidget::_draw_light()\n{\n    if (_light_on)\n    {\n        glEnable(GL_LIGHT0);    // enable lights that we use\n    }\n    else\n    {\n        glDisable(GL_LIGHT0);\n    }\n\n    static float light_angle = 25.0f;\n    if (!_pause_light)          // stop moving the light source\n    {\n        light_angle += LIGHT_MOVEMENT_SPEED * 0.1;\n        if (light_angle &gt; 360.0f)\n            light_angle -= 360.0f;\n    }\n\n    /* Set light source position */\n\n    _light_pos[0] = 4.0f * (float) cos(light_angle * pi / 180.0f);\n    _light_pos[1] = 4.0f * (float) sin(light_angle * pi / 180.0f);\n    _light_pos[2] = -7;\n    glLightfv(GL_LIGHT0, GL_POSITION, _light_pos);\n\n    GLfloat SpotDir[] = {_cube_pos[0], _cube_pos[1], _cube_pos[2], 0.0 };\n    glLightfv(GL_LIGHT0, GL_SPOT_DIRECTION, SpotDir);\n\n    glLightf(GL_LIGHT0, GL_SPOT_CUTOFF, 150.0);\n    glLightf(GL_LIGHT0, GL_SPOT_EXPONENT, 15.0);\n\n    /* Set the light model position to be the same as the light source */\n\n    glPushMatrix();\n        glTranslatef(_light_pos[0], _light_pos[1], _light_pos[2]);\n        glColor3ub(255, 255, 0);                // yellow\n        gluSphere(_quadratic, 0.2f, 32, 32);    // draw sphere\n    glPopMatrix();\n}\n\nvoid GLWidget::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // Clear Screen And Depth Buffer\n\n    glMatrixMode   ( GL_MODELVIEW );    // Select The Model View Matrix\n    glLoadIdentity();                   // Reset The Current Modelview Matrix\n\n    /* Draw central cube */\n\n    glEnable(GL_TEXTURE_RECTANGLE_ARB);\n    glBindTexture(GL_TEXTURE_RECTANGLE_ARB, _texture);       // Select Our Texture\n    _draw_texture_cube(_img-&gt;width(), _img-&gt;height());\n    glDisable(GL_TEXTURE_RECTANGLE_ARB);\n\n    /* Draw light source and light model*/\n\n    _draw_light();\n}\n\nvoid GLWidget::resizeGL( int w, int h)\n{\n    _width = w;\n    _height = h;\n    glViewport(0, 0, w, h);\n    glMatrixMode(GL_PROJECTION);    // Select The Projection Matrix\n    glLoadIdentity();               // Reset The Projection Matrix\n    if (h == 0)                     // Calculate The Aspect Ratio Of The Window\n       gluPerspective ( 60, ( float ) w, 0.4, 500.0 );\n    else\n       gluPerspective ( 60, ( float ) w / ( float ) h, 0.4, 500.0 );\n\n    glMatrixMode   ( GL_MODELVIEW );  // Select The Model View Matrix\n    glLoadIdentity ( );    // Reset The Model View Matrix\n    gluLookAt(0.0,  0.0, 2.0,   // eye\n              0.0,  0.0, 0.0,   // center\n              0.0,  1.0, 0.0);  // up\n}\n\nvoid GLWidget::keyPressEvent(QKeyEvent *e)\n{\n    switch (e-&gt;key())\n    {\n        case Qt::Key_L:\n            if (_light_on)\n                _light_on = false;\n            else\n                _light_on = true;\n        break;\n\n        case Qt::Key_P:\n            if (_pause_light)\n                _pause_light = false;\n            else\n                _pause_light = true;\n        break;\n\n        case Qt::Key_R:\n            if (_must_rotate)\n               _must_rotate = false;\n            else\n               _must_rotate = true;\n        break;\n\n        default:\n        break;\n    }\n}\n</code></pre>\n\n<p><strong>Lighting.pro</strong>:</p>\n\n<pre><code>QT += core gui opengl\n\nSOURCES += \\\n    GLWidget.cpp \\\n    main.cpp\n\nHEADERS += \\\n    GLWidget.h\n\nRESOURCES += \\\n    resource.qrc\n</code></pre>\n\n<p>What needs to be changed in this application in order to achieve the desired effect?</p>\n"},{"tags":["c++","qt","smart-pointers"],"answer_count":1,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":7933,"score":10,"question_id":1481616,"title":"Smart pointers in Qt","body":"<p>Like it has been written <a href=\"http://blog.qt.digia.com/2009/08/25/count-with-me-how-many-smart-pointer-classes-does-qt-have/\" rel=\"nofollow\">here</a> Qt up to now has 8 specilized smart pointer classes.\nIt looks like it is all you will ever need.\nHowever, in order to use any of these smart pointers your class must be derived from QObject which is not always convenient.\nIs there other implementations of smart pointers in Qt which work with arbitrary classes?</p>\n"},{"tags":["c++","qt","dll","eclipse-cdt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":76,"score":0,"question_id":12822624,"title":"Instantiate class in DLL throws a 127 error in LoadLibrary in QT","body":"<p>i'm trying to load a DLL in qt using LoadLibrary (only for test instead of QLibrary), the dll was compiled in eclipse CDT, but strangely when i try to instantiate any class in any function inside the Dll the LoadLibrary fails with error 127 (using GetLastError), but if i dont instantiate anything the LoadLibrary is successfuly, why happen this? my code is the next, the header and your implementation:</p>\n\n<p><strong>Header:</strong></p>\n\n<pre><code>#ifndef DESKTOPWINUTILS_H_\n#define DESKTOPWINUTILS_H_\n#ifdef __dll__\n#define DESKTOPUTILSEXP __declspec(dllexport)\n#else\n#define DESKTOPUTILSEXP __declspec(dllimport)\n#endif  // __dll__\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include \"ximage.h\"\n#include \"IDesktopUtils.h\"\nclass DesktopUtils:public IDesktopUtils{\npublic:\n    DesktopUtils();\n    ~DesktopUtils(void);\n    char* sayHello();\n};\nextern \"C\" DESKTOPUTILSEXP bool create(IDesktopUtils**);\n#endif /* DESKTOPWINUTILS_H_ */\n</code></pre>\n\n<p><strong>Implementation:</strong></p>\n\n<pre><code>#define __dll__\n#include \"DesktopUtils.h\"\n\nDesktopUtils::DesktopUtils(){\n    sayHello();\n}\n\nchar* DesktopUtils::sayHello(){\n    return (char *)(\"I say Hello\");\n}\n\n\nbool create(IDesktopUtils** desktoputils){\n    //DesktopUtils *desktoputils = new DesktopUtils();\n    if(!desktoputils)\n        return false;\n    *desktoputils =(IDesktopUtils*) new DesktopUtils; //if comment this the load is successful\n    return true;\n}\n</code></pre>\n\n<p>In the qt project i use this for load the DLL, only for know if is loaded, i'm not even using GetProcAddress:</p>\n\n<pre><code>typedef char*(*createInst)(void);\n    HINSTANCE dll;\n    dll = LoadLibrary(TEXT(\"libDesktopWinUtils.dll\"));\n    if(dll){\n        message.setText(\"library loaded\");\n        message.exec();\n\n    }else{\n        char error[10];\n        itoa(GetLastError(),error,10);\n        message.setText(error);\n        message.exec();\n    }\n</code></pre>\n"},{"tags":["qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12818322,"title":"Qt - QTableView and QSqlQueryModel items disappear","body":"<p>I'm implementing a QtableView with the data from a QSqlQueryModeL.</p>\n\n<p>What happens is, if I select a item in the view, the item after a second disappears and the items in the other rows disappear as well.</p>\n\n<p>my code:\nui->medicstableView->setHorizontalScrollBarPolicy(Qt::ScrollBarAsNeeded);\n    ui->medicstableView->setVerticalScrollBarPolicy(Qt::ScrollBarAsNeeded);\n    ui->medicstableView->setStyleSheet(QString::fromUtf8(\"background-color: rgb(227, 226, 226);\"));\n    //ui->medicstableView->setVisible(true);\n    //ui->medicstableView->setEditTriggers(QAbstractItemView::NoEditTriggers);</p>\n\n<pre><code>doctors_table = new QSqlQueryModel(this);\n\nQSqlDatabase mydb;\nQString Squery;\n\nQString conn = mydb.connectionName();\nif (conn.isEmpty()) {\n    mydb = QSqlDatabase::addDatabase(\"QMYSQL\");\n}\nelse\n{\n    mydb.close();\n    QSqlDatabase::removeDatabase(conn);\n    mydb = QSqlDatabase::addDatabase(\"QMYSQL\");\n}\n\nmydb.setHostName(myhost);\nmydb.setUserName(myuser);\nmydb.setPassword(mypass);\nmydb.setDatabaseName(mybase);\n\ntry\n{\n    if(mydb.open()==true)\n    {\n        Squery=QString(\"SELECT id_medico,medico FROM Registos_Medicos\");\n        doctors_table-&gt;setQuery(Squery);\n\n        doctors_table-&gt;setHeaderData(0, Qt::Horizontal, QObject::tr(\"ID\"));\n        doctors_table-&gt;setHeaderData(1, Qt::Horizontal, QObject::tr(\"Nome do médico\"));\n\n        ui-&gt;medicstableView-&gt;setModel(doctors_table);\n\n        mydb.close();\n\n        //ui-&gt;statusbar-&gt;addAction();\n\n        ui-&gt;medicstableView-&gt;resizeColumnsToContents ();\n        ui-&gt;medicstableView-&gt;resizeRowsToContents ();\n        ui-&gt;medicstableView-&gt;setColumnWidth(1,255);\n\n        ui-&gt;medicstableView-&gt;show();\n</code></pre>\n\n<p>The QTableView is created in the Qt Designer with the name \"medicstableView\"</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","reference","parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12824446,"title":"Syntax with qreal reference as a parameter","body":"<p>I'm using Qt with C++ and I don't seem to understand something that feels inconsistent to me.\nI have a method that manipulates the variables that are sent to it as parameters, here is its declaration <code>aManipulation(qreal&amp; a); //reference to a qreal</code></p>\n\n<p>I use <code>QPointF</code> which contains two qreal values. The class can return a qreal value through a method, or a reference qreal&amp; through another method. So I'm curious about these cases:</p>\n\n<pre><code>qreal value = 1;\nQPointF point; point.setX(1);\n\n//OK -- this works eventhough I don't send it as a qreal&amp;\naManipulation(value);\n\n//FAIL -- actually trying to send a qreal&amp; reference is an error\naManipulation(value&amp;);\n\n//OK -- this method however returns a qreal&amp;\naManipulation(point.rx());\n\n//FAIL -- this just returns the '1' and I understand it cannot be referenced\naManipulation(point.x());\n</code></pre>\n\n<p>Why is it enough to send the object and not a reference to the object to a method that wants a reference of an object? I am confused as doing this with pure pointers would be very clear.</p>\n"},{"tags":["qt","opencv","pkg-config"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":335,"score":2,"question_id":9319392,"title":"OpenCV with QT Creator Build error","body":"<p>I downloaded qt a while ago and have just now recently started playing around with QT creator. </p>\n\n<p>I am trying to get Opencv integrated using pkg-config.</p>\n\n<p>The pro file is: </p>\n\n<pre><code>QT += core gui\n\nTARGET = QTTest\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n    mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nunix: CONFIG+=link_pkgconfig\nunix: PKGCONFIG+=opencv\n</code></pre>\n\n<p>I have tried including two different ways  and tried .</p>\n\n<p>I'm trying to simply run the following</p>\n\n<pre><code>cv::Mat* mat;\n</code></pre>\n\n<p>and it gives me 2 errors:\nsymbol(s) not found for architecture x86_64\ncollect2: id returned 1 exit status</p>\n\n<p>It also gives me a warning.</p>\n\n<h1>warning \"This version of Mac OSX is unsupported.\"</h1>\n\n<p>Can anyone help or enlighten me on what to do for fixing this. Any help is greatly appreciated. :-D</p>\n"},{"tags":["qt","visual-c++"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12816096,"title":"How to limit TCP writes to particular size and then block untlil the data is read","body":"<p>{Qt 4.7.0 , VS 2010}</p>\n\n<p>I have a Server written in Qt and a 3rd party client executable. Qt based server uses <strong>QTcpServer</strong> and <strong>QTcpSocket</strong> facilities (non-blocking).</p>\n\n<p>Going through the articles on TCP I understand the following: the original implementation of TCP mentioned the negotiable window size to be a 16-bit value, thus maximum being 65535 bytes. But implementations often used the RFC window-scale-extension that allows the sliding window size to be scalable by bit-shifting to yield a maximum of 1 gigabyte. This is implementation defined. This could have resulted in majorly different window sizes on receiver and sender end as the server uses Qt facilities without hardcoding any window size limit. Client 1st asks for all information it can based on the previous messages from the server before handling the new (accumulating) incoming messages. So at some point Server receives a lot of messages each asking for data of several MB's. This the server processes and puts it into the sender buffer. Client however is unable to handle the messages at the same pace and it seems that client’s receiver buffer is far smaller (65535 bytes maybe) than sender’s transmit window size. The messages thus get accumulated at sender’s end until the sender’s buffer is full too after which the TCP writes on sender would block. This however does not happen as sender buffer is much larger. Hence this manifests as increase in memory consumption on the sender’s end.</p>\n\n<p>To prevent this from happening, I used Qt’s socket’s <code>waitForBytesWritten()</code> with timeout set to -1 for infinite waiting period. This as I see from the behaviour blocks the thread writing TCP data until the data has actually been sensed by the receiver’s window (which will happen when earlier messages have been processed by the client at application level). This has caused memory consumption at Server end to be almost negligible.</p>\n\n<p>is there a better alternative to this (<strong>in Qt</strong>) if i want to restrict the memory consumption at server end to say <strong>x</strong> MB's? Also please point out if any of my understandings is incorrect.</p>\n"},{"tags":["qt","qpainter","qimage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12815150,"title":"Why does my QPainter instance only draw when I use a specific .png?","body":"<p>I'm creating a simple \"frogger\" type game with Qt Creator.\nI managed to get a player that works with 4 directional keys, and a car that moves on its own across the screen. I have separate Player, Car, and Frogger class.</p>\n\n<p>The Frogger class paints the images in <em>paintEvent</em>:</p>\n\n<pre><code>painter.drawImage(player-&gt;getRect(), player-&gt;getImage());\npainter.drawImage(car-&gt;getRect(), car-&gt;getImage());\n</code></pre>\n\n<p>But I'm encountering a problem with trying to load a different image for the car. If I use <code>image.load(\"player.png\");</code> for both the car and the player constructors, I can see the car moving across the screen as a player image, and the player which moves according to my keys. </p>\n\n<p>However if I replace the image with anything else (all images are in the same folder; I also tried adding it to Qt Creator under \"Other files\") such as \"car.png,\" it doesn't seem to show up. I tried it with other images, but those don't show up for player either. Any ideas on why this might happen? I commented out my <code>autoMove()</code> function and nothing changes, so I don't think it's related to how I implement my move. Any ideas on what I might be missing?</p>\n"},{"tags":["css","qt","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":165,"score":2,"question_id":12769169,"title":"How to fix/work around QtWebKit's incorrect font fallback behavior?","body":"<p>I have a website in which some pages have user-generated content. I use phantomjs (based on QtWebKit) to take screenshots of the pages, so they must render perfectly in QtWebKit.</p>\n\n<p>The problem starts when the content is not in English. Then, popular browsers (such as Chrome and Firefox) fall back to the next font in the CSS font-family, up to the default font. However, in my tests, QtWebKit seems to exhibit different behavior: it incorrectly picks a font that's unable to render the content.</p>\n\n<p>Consider this example file, \"fonts.html\":</p>\n\n<pre><code>calibri, arial:\n&lt;div style=\"font-family: calibri, arial; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\ncalibri:\n&lt;div style=\"font-family: calibri; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\narial:\n&lt;div style=\"font-family: arial; font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n\ndefault:\n&lt;div style=\"font-size: 36px;\"&gt;\nฝ่ายอีเว้นท์พร้อมแล้วกับงานปาร์ตี้ที่สนุกที่สุดในกทม\n&lt;/div&gt;\n</code></pre>\n\n<p>Here's how it renders in Chrome and in Arora (a QtWebKit-based browser, that gives identical results to my phantomjs script):</p>\n\n<p><img src=\"http://i.stack.imgur.com/MDhPD.png\" alt=\"Font fallback problem in Chrome vs QtWebKit\"></p>\n\n<p>What I'd like to have is for the text to be rendered in Calibri and, if unsuitable for some characters, fall back to Arial.</p>\n\n<p>I'll accept either a solution that tells me how to configure QtWebKit to allow this (I couldn't find anything on the web), or how to change my HTML/CSS to \"support QtWebKit\".</p>\n"},{"tags":["qt","shell","debian","meego"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12797748,"title":"How to remove file from user's home folder on Nokia N9 (MeeGo) on app removal","body":"\n\n<p>My Qt application for Nokia N9 stores some data in the my folder inside /home/user/.config.\nI need to delete this folder with my data when application will be uninstalled.\nAs far as I understand this can be reached using postrm file.\nI use the following file:</p>\n\n<p>postrm</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>#!/bin/sh\n\nrm -rf /home/user/.config/mydatafolder/\n\nexit 0\n</code></pre>\n\n<p>But this code doesn't work. I assume there's not enough right to remove something in the user's folder.\nSo, I've tried to use</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>devel-su user -c \"rm -rf /home/user/.config/mydatafolder/\"\n</code></pre>\n\n<p>But it works only in developer mode and I need the app to work properly without it. The following code doesn't work too:</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>su user -c \"rm -rf /home/user/.config/mydatafolder/\"\n</code></pre>\n\n<p>Does anybody know how to remove this folder?</p>\n"},{"tags":["c++","c","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12814754,"title":"Use fstat with Qt QDialog","body":"<p>Well, I think I am having issues with resolving two functions with the same name and I do not know how to resolve it.</p>\n\n<p>I have a Qt class which is a subclass of QDialog (Qt). I would like to use 'fstat' to get information about the file using a code like below</p>\n\n<pre><code>struct stat file_info;\nint hd = open(\"/home/test/file.xml\", O_RDONLY);\nfstat(hd, &amp;file_info);\nclose(hd);\n</code></pre>\n\n<p>But when I do this, I get this complain from the compiler.</p>\n\n<pre><code>error: no matching function for call to 'Test::open(const char [19], int)'\n/usr/local/Trolltech/Qt-4.7.3/include/QtGui/qdialog.h::99:10: note: candidate is: void QDialog::open()\n</code></pre>\n\n<p>Is there some way to resolve this?</p>\n\n<p>Thanks.</p>\n\n<p><strong>Answer:</strong></p>\n\n<p>As <a href=\"http://stackoverflow.com/users/1022729/caladan\">Caladan</a> mentions, ::open() did the trick. Also the second answer (to use stat instead of fstat) was equally valid. Thanks!</p>\n"},{"tags":["qt","qt-designer"],"answer_count":7,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":837,"score":2,"question_id":5695313,"title":"Qt: Drop-down button?","body":"<p>How can I create a \"drop down button\" in Qt?</p>\n\n<p>For a non-Qt example, see:\n<a href=\"http://stackoverflow.com/questions/4318837/combination-button-dropdown-in-office\">Combination button/dropdown in office</a></p>\n\n<p>The key point is that the widget needs an icon for the primary action, and a visually separate \"pulldown arrow\" to show secondary icons / actions. </p>\n\n<p>Upon clicking the \"pulldown arrow\" for secondary options, the user should be presented with a grid of other icons to choose from.   (All icons, no text.)</p>\n\n<p>Does Qt have a widget that can do this?</p>\n\n<p>If not, how can this be created in Qt?  (I'm a new Qt user, so a Qt Designer based solution would be ideal.)</p>\n\n<p>Thank you</p>\n"},{"tags":["c++","mysql","qt","vector"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12806640,"title":"Constructing a 2D vector from a mysql query using Qt","body":"<p>I have a query statement that selects a list of tools. These tools need to be placed into a 2D vector, where the first level is it's category and second is the category's \"bucket\". </p>\n\n<pre><code>struct Tool {};\ntypedef boost::shared_ptr&lt; Tool &gt; ToolPtr;\ntypedef std::vector&lt; ToolPtr &gt; ToolVec;\ntypedef std::vector&lt; ToolVec &gt; ToolCategory;\n</code></pre>\n\n<p>The query statement looks like this:</p>\n\n<pre><code>const QString getTools =\n\"SELECT tool_id, category_id, category_name, tool_name FROM tool_relation \"\n\"WHERE course_id = ? ORDER BY category_id ASC, tool_id ASC\";\n\nq.bindValue(0, courseID);\nq.exec();\n\nwhile (q.next())\n{\n\n}\n</code></pre>\n\n<p>I would like to do this with one query statement, but the only way I can think of is to use a temporary pointer to the correct bucket and test every record to see if the category id changes. Seems inefficient.</p>\n\n<p>EDIT: Something like this is what I came up with when only using one query statement.</p>\n\n<pre><code>ToolVector *curBucket = 0;\n\nint curCategory = 0;\n\nwhile (q.next())\n{\n    if (q.value(1).toInt() != curCategory)\n    {\n        curCategory = q.value(1).toInt();\n\n        ToolVec toolVec;\n\n        curBucket = &amp;toolVec;\n\n        categories.push_back(toolVec);\n    }\n\n    ToolPtr toolPtr(new Tool(\n                        q.value(0).toInt(),\n                        q.value(2).toString()));\n\n    curBucket-&gt;push_back(toolPtr);\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12810063,"title":"Check whether a widget is in the layout Qt","body":"<p>How to check whether a widget is in a layout? I have a layout that may contain the widget or not.<br></p>\n\n<ul>\n<li>Widget name: <code>infoClient</code><br> </li>\n<li>Layer name:  <code>verticalLayout_3</code><br></li>\n</ul>\n\n<p>Need to check if the widget exists in the layout, then do not add a new one.<br>\nAnd if does not exist, add a new one.<br>\nHow to do it?</p>\n\n<pre><code>void MainWindow::slotPush1()\n{\n    if &lt;there is no infoClient&gt; ui-&gt;verticalLayout_3-&gt;addWidget(new infoClient(this));\n}\n</code></pre>\n"},{"tags":["qt","qt4","read-only","qtablewidget"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":6719,"score":6,"question_id":2574115,"title":"Qt How to make a column in QTableWidget read only","body":"<p>I would like to have one column in QTableWidget NOT editable. In forums I have read a lot about some flags but could not manage to implement.</p>\n\n<p>Thanks in advance! </p>\n"},{"tags":["qt","printing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12812663,"title":"QPrinter and cyrillic","body":"<p>How to print html with cyrillic symbols?\nI tried to do this:</p>\n\n<pre><code>QTextDocument *document = new QTextDocument();\ndocument-&gt;setHtml(htmlContent);\ndocument-&gt;print(printer);\n</code></pre>\n\n<p>But document printed in wrong encoding. Html encoding is utf-8.</p>\n"},{"tags":["qt","qnetworkaccessmanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":295,"score":0,"question_id":6121439,"title":"error: QNetworkReply: No such file or directory","body":"<p>Something is missing from the pro file it seems:</p>\n\n<pre><code>TEMPLATE = app\nTARGET = \nDEPENDPATH += .\nINCLUDEPATH += .\n\n# Input\nHEADERS += hello.h\nSOURCES += hello.cpp\nQT += webkit\n</code></pre>\n\n<p>Or there is some other problem?</p>\n\n<pre><code>$qmake -v\nQMake version 2.01a\nUsing Qt version 4.7.0 in /opt/qtsdk-2010.05/qt/lib\n</code></pre>\n"},{"tags":["c++","qt","udp","broadcast"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12802328,"title":"Unicast with QUdpSocket on Qt","body":"<p>I am trying to send data to a computer with specific ip address on Qt.\nIf I use <code>Broadcast</code> everything is fine. But when I want to send data to a specific address it does not work. Here is what I have in the transmitter:</p>\n\n<pre><code>udpSocket = new QUdpSocket(this);\nQHostAddress myAddress = QHostAddress(\"192.160.0.1\");\nudpSocket-&gt;writeDatagram((char*)myChar, len, myAddress, 45454);\n</code></pre>\n\n<p>and at the receiver I have:</p>\n\n<pre><code>udpSocket-&gt;bind(45454, QUdpSocket::ShareAddress);\n</code></pre>\n\n<p>Am I doing something wrong?\nThanks for the help.</p>\n"},{"tags":["qt","qsplitter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12799037,"title":"qt : How can I minimize qsplitter's child?","body":"<p><img src=\"http://i.stack.imgur.com/F20qN.png\" alt=\"QSplitter\"></p>\n\n<p>I made a QSplitter layout. And under QSplitter, there is QWidget and it's gridLayout children. At this case, I can't minimize QSplitter to 0 size. As I see above, it has restriction for height.  What cause this problem?  I tested some cases, and I found that when I use QGridLayout for QWidget's children. But I can't set minimum height to 0.</p>\n"},{"tags":["windows","multithreading","qt","pthreads","openssl"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":732,"score":2,"question_id":3417706,"title":"OpenSSL and multi-threads","body":"<p>I've been <a href=\"http://www.openssl.org/docs/crypto/threads.html\" rel=\"nofollow\">reading</a> about the requirement that if OpenSSL is used in a multi-threaded application, you have to register a thread identification function (and also a mutex creation function) with OpenSSL.</p>\n\n<p>On Linux, according to the example provided by OpenSSL, a thread is normally identified by registering a function like this:</p>\n\n<pre><code>static unsigned long id_function(void){\n    return (unsigned long)pthread_self();\n}\n</code></pre>\n\n<p>pthread_self() returns a pthread_t, and this works on Linux since pthread_t is just a typedef of unsigned long.</p>\n\n<p>On Windows pthreads, FreeBSD, and other operating systems, pthread_t is a struct, with the following structure:</p>\n\n<pre><code>struct {\n    void * p;                   /* Pointer to actual object */\n    unsigned int x;             /* Extra information - reuse count etc */ \n}\n</code></pre>\n\n<p>This can't be simply cast to an unsigned long, and when I try to do so, it throws a compile error. I tried taking the void *p and casting that to an unsigned long, on the theory that the memory pointer should be consistent and unique across threads, but this just causes my program to crash a lot.</p>\n\n<p><b>What can I register with OpenSSL as the thread identification function when using Windows pthreads or FreeBSD or any of the other operating systems like this?</b></p>\n\n<p>Also, as an additional question:<br>\n<b>Does anyone know if this also needs to be done if OpenSSL is compiled into and used with QT, and if so how to register QThreads with OpenSSL?</b> Surprisingly, I can't seem to find the answer in QT's documentation.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12788759,"title":"QTreeWidget Extended Selection Changed Signal","body":"<p>I have changed my QTreeWidget to allow extended selection:</p>\n\n<p>tree_->setSelectionMode(QAbstractItemView::ExtendedSelection);</p>\n\n<p>There is a case in which the selectionChanged signal is not emitted. This is when I directly select multiple items with the mouse. If I first click on an item and then keep shift and select a range, then the selectionChanged signal is emitted.</p>\n\n<p>Has anybody seen this?</p>\n"},{"tags":["qt","exception","static","mingw"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12808342,"title":"Exceptions in Qt under Windows (mingw)","body":"<p>I'm writing an application that uses Qt, and I'd like to make it available to Windows users. I'm using mingw. I want to configure Qt with -exceptions as well as -static. Is this possible? I've found a post on a blog that states that static builds with mingw and exceptions will cause memory leaks:\n<a href=\"http://blog.lugru.com/2010/04/static-qt-compilation-and-mingwm10-dll-mingw-confusion/\" rel=\"nofollow\">http://blog.lugru.com/2010/04/static-qt-compilation-and-mingwm10-dll-mingw-confusion/</a></p>\n\n<p>Some of my code throws exceptions, which should be handled in the GUI part of my code by displaying an error dialog (meaning: I don't want to remove all exceptions from my code).</p>\n\n<p>I tried to build Qt with both -static and -exceptions and it didn't seem to work (I still got error messages about exceptions when I tried to compile my code). I won't rule out the possibility that I somehow messed that up, but if these options are mutually exclusive, it would be nice to know before I spend all day compiling Qt again. Thanks!</p>\n"},{"tags":["qt","stylesheet","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":389,"score":3,"question_id":9485211,"title":"QTableWidget with stylesheet don’t scroll items","body":"<p>In the following code there are two stylesheets: problemStylesheet and okStylesheet.\nEverything works fine when I’m using <strong>okStylesheet</strong> for QTableWidget. Labels are scrolling.\nProblem is that labels are not scrolling if I use <strong>problemStylesheet</strong>. What can cause this problem? I've tried to find the solution, but couldn't find any information that might be helpful.</p>\n\n<p>Qt 4.8.0, Mac OS X Lion.</p>\n\n<p>Example code:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication app(argc, argv);\n\n    QWidget *baseWidget = new QWidget;\n\n    QTableWidget *tableWidget = new QTableWidget(baseWidget);\n    tableWidget-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n    tableWidget-&gt;setColumnCount(1);\n\n    tableWidget-&gt;horizontalHeader()-&gt;setVisible(false);\n    tableWidget-&gt;verticalHeader()-&gt;setVisible(false);\n\n    tableWidget-&gt;horizontalHeader()-&gt;setStretchLastSection(true);\n    tableWidget-&gt;verticalHeader()-&gt;setDefaultSectionSize(52);\n\n    tableWidget-&gt;setShowGrid(false);\n\n    tableWidget-&gt;setSelectionMode(QAbstractItemView::SingleSelection);\n    tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows);\n\n    QString problemStylesheet = \"QTableWidget { background-color: green; } QTableWidget::item { border: 1px solid #000; }\";\n    QString okStylesheet = \"QTableWidget { } QTableWidget::item { border: 1px solid #000; }\";\n\n    tableWidget-&gt;setStyleSheet(problemStylesheet);\n\n    tableWidget-&gt;setRowCount(20);\n    for (int i = 0; i &lt; 20; ++i) {\n        QLabel *label = new QLabel(QString(\"\").setNum(i), tableWidget);\n        label-&gt;setAlignment(Qt::AlignHCenter | Qt::AlignVCenter);\n        tableWidget-&gt;setCellWidget(i, 0, label);\n    }\n\n    QVBoxLayout *verticalLayout = new QVBoxLayout();\n    verticalLayout-&gt;setMargin(0);\n    verticalLayout-&gt;setSpacing(0);\n    verticalLayout-&gt;setContentsMargins(0, 0, 0, 0);\n\n    baseWidget-&gt;setLayout(verticalLayout);\n\n    verticalLayout-&gt;addWidget(tableWidget);\n\n    baseWidget-&gt;show();\n\n    return app.exec();\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong> It seems like everything is ok on Linux and Windows. So the problem appears only on Mac OS.</p>\n"},{"tags":["qt","signals","signals-slots","slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12804214,"title":"Qt::QueuedConnection invoke at most once per event loop iteration","body":"<p>Consider the following situation:</p>\n\n<pre><code>class Foo : public QObject {\n  Q_OBJECT\n  public:\n    void set_A(int a) { emit updated(this); } \n    void set_B(int b) { emit updated(this); }\n  signals: \n    void updated(Foo*);\n}\n\nFoo f;\nconnect(&amp;f, SIGNAL(updated(Foo*)), something, SLOT(do_something_heavy(Foo*)), Qt::QueuedConnection)\n\nvoid bar() { \n  f.set_A(5); f.set_B(6);\n}\n</code></pre>\n\n<p>How can I ensure that only one of the signals reach the <code>do_something_heavy()</code> call? </p>\n\n<p>I want to be able to use <code>set_A()</code> and invoke the <code>do_something_heavy()</code>, but in the case when both set_A and set_B are invoked, I don't want to <code>do_something_heavy()</code> twice. </p>\n\n<p>Can I unqueue all remaining outstanding signals for that particular sender/receiver pair? Preferably at <code>emit</code>, rather than at receive, but that's just for the sake of brevity and encapsulation - I want the <code>updated(Foo*)</code> to signify the need to change the local receiver's state, and if the connection is queued, the semantics are such that I don't need the update to occur twice. </p>\n"},{"tags":["qt","pyqt","pyqt4","pyside"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12714703,"title":"PyQt QComboBox dropdown direction","body":"<p>I'm working on an application wherein a QComboBox is located at the bottom of the window. From my limited understanding, I believe Qt should automatically calculate the direction of the drop down list based on the amount of space available for the popup. However, in my case, the drop down direction is still in the default state (displayed below the box) and hence hidden and inaccessible. Could someone help me understand why this might be happening or perhaps if there is a way to force Qt to display the popup above the QComboBox? </p>\n\n<h3>--EDIT--</h3>\n\n<p>Image below shows the problem, and my fix. I am still not sure if there is a method to set the direction manually, but in this case, I don't need it anymore.\n<img src=\"http://i.stack.imgur.com/UagEn.jpg\" alt=\"Dropdown direction error\"></p>\n"},{"tags":["qt","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":123,"score":3,"question_id":12278448,"title":"Removing accents from a QString","body":"<p>I want to remove accents and more generally diacritic marks from a string to initiate an accent-insensitive search.\nBased on some reading on Unicode character classes, I've come up with this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code> QString unaccent(const QString s)\n {\n   QString s2 = s.normalized(QString::NormalizationForm_D);\n   QString out;\n   for (int i=0,j=s2.length(); i&lt;j; i++)\n   {\n     // strip diacritic marks\n     if (s2.at(i).category()!=QChar::Mark_NonSpacing &amp;&amp;\n         s2.at(i).category()!=QChar::Mark_SpacingCombining)\n     {\n          out.append(s2.at(i));\n     }\n   }\n   return out;\n }\n</code></pre>\n\n<p>It appears to work reasonably well for latin-based languages, but I'm wondering about its adequacy on other alphabets: arabic, cyrillic, CJK... which I cannot test due to lack of cultural understanding of these.</p>\n\n<p>Specifically I wish I'd know:</p>\n\n<ol>\n<li>What Unicode normalization form is better suited for this problem: <code>NormalizationForm_KD</code> or <code>NormalizationForm_D</code>?</li>\n<li>Is it sufficient to remove the characters belonging to <code>Mark_NonSpacing</code> and <code>Mark_SpacingCombining</code> categories or should it include more categories?</li>\n<li>Are there other improvements to the above code that would make it work as best as possible for all languages?</li>\n</ol>\n"},{"tags":["c++","qt","user-interface","creator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":111,"score":0,"question_id":12801846,"title":"Qt: I can't access to UI's widgets","body":"<p>I have MainWindow class which contains all widgets and I have MyClass class where I want to access to all widgets placed in the main window (MainWindow class). How can I do this? I try to do it like this (code below) - but it gives me a bunch of errors:</p>\n\n<pre><code>MyClass.h:4: error: 'Ui' has not been declared\nMyClass.h:4: error: expected `)' before '*' token\nMyClass.h:6: error: 'Ui' has not been declared\nMyClass.h:6: error: ISO C++ forbids declaration of 'MainWindow' with no type\nMyClass.h:6: error: expected ';' before '*' token\n</code></pre>\n\n<p>This MainWindow created by QtCreator - it's a standart GUI window created by Qt Creator.</p>\n\n<pre><code>// -=-=-=-=-=-=-=-=-=-=[ MyClass.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n#include \"MainWindow.h\"\nclass MyClass {\n    public:\n        MyClass( Ui::MainWindow *ui );\n    private:\n        Ui::MainWindow *ui;\n};\n\n// -=-=-=-=-=-=-=-=-=-=[ MyClass.cpp ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n#include \"MyClass.h\"\n\nMyClass::MyClass( Ui::MainWindow *ui ){\n    this-&gt;myUI = ui; // myUI is desclared as: Ui::MainWindow *myUI\n}\n\n// -=-=-=-=-=-=-=-=-=-=[ MainWindow.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n....\nnamespace Ui {\n    class MainWindow;\n}\nclass MainWindow : public QMainWindow {\n    Q_OBJECT    \n    private:\n        Ui::MainWindow *ui; // this has done by Qt Creator\n    public:\n        MyClass *myClass;\n}\n// -=-=-=-=-=-=-=-=-=-=[ MainWindow.cpp ]=-=-=-=-=-=-=-=-=-=-=-=-=-\n#include \"MainWindow.h\"\nMainWindow::MainWindow( QWidget *parent ): QMainWindow( parent ), ui( new Ui::MainWindow ) {\n    ui-&gt;setupUi( this );\n    myClass = new MyClass( ui ); // my attempt\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nThere's useful code in the comment below by beige. It works fine. But not in my case :( When I try to declare MyClass from any class (not from MainWindow.h):</p>\n\n<p>// -=-=-=-=-=-=-=-=-=-=[ MyGLWidget.h ]=-=-=-=-=-=-=-=-=-=-=-=-=-</p>\n\n<pre><code>#include \"MyClass.h\"\nclass MyGLWidget : public QGLWidget {\n   Q_OBJECT\n   public:\n     MyClass *myClass;\n}\n</code></pre>\n\n<p>it doesn't work:</p>\n\n<pre><code>myclass.h:9: error: 'Ui' has not been declared\nmyclass.h:9: error: expected `)' before '*' token\nmyclass.h:12: error: 'Ui' has not been declared\nmyclass.h:12: error: ISO C++ forbids declaration of 'MainWindow' with no type\nmyclass.h:12: error: expected ';' before '*' token\n</code></pre>\n\n<p>but why?? I have declaration of the \"ui_mainwindow.h\" in my MyClass.h...</p>\n"},{"tags":["c++","qt","qobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12804243,"title":"Qt interfaces class","body":"<p>How can I create an interface class, something like this :</p>\n\n<pre><code>template&lt;typename file_system_t&gt;\n    class ireciver_intervace : public QObject\n    {\n        public:\n        typedef typename file_system_t::file_system_item file_system_item;\n    public Q_SLOTS:\n        virtual void dataChangeItem(file_system_item *item)=0;\n        virtual void removeItem(file_system_item *item)=0;\n        virtual void insertItem(file_system_item *item)=0;\n    };\n</code></pre>\n\n<p>and derived class  </p>\n\n<pre><code>class FileItemModel:public QAbstractItemModel ,public ireciver_intervace&lt;file_system&gt;\n        {\n            Q_OBJECT\n        }\n</code></pre>\n\n<p>When I inherit from this class I get an error mentioning ambiguous conversions. I understand this is the right behavior of the compiler, but how can I get interfaces slots for my future classes?  Maybe I must use the <code>Q_DECLARE_INTERFACE</code> macro?</p>\n"},{"tags":["c++","qt","dll","eclipse-cdt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12804461,"title":"How to use a dll developed in eclipse CDT in a QT application","body":"<p>I want to use a dll that i create in CDT with the following code:</p>\n\n<pre><code>#ifndef DESKTOPWINUTILS_H_\n#define DESKTOPWINUTILS_H_\n\n#ifdef __dll__\n#define DESKTOPUTILSEXP __declspec(dllexport)\n#else\n#define DESKTOPUTILSEXP __declspec(dllimport)\n#endif  // __dll__\n\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include \"IDesktopUtils.h\"\n#include \"ximage.h\"\n\nclass  DESKTOPUTILSEXP DesktopUtils: public IDesktopUtils{\npublic:\n    DesktopUtils();\n    char* sayHello();\n};\n\nvoid* DESKTOPUTILSEXP create();\n\n#endif /* DESKTOPWINUTILS_H_ */\n</code></pre>\n\n<p>when i create the dll i copy it in the debug folder of the Qt Application ant try to load it with QLibrary:</p>\n\n<pre><code>QMessageBox message;\nmessage.setWindowTitle(\"Error\");\nmessage.setStandardButtons(QMessageBox::Ok);\n\nQLibrary library(\"libDesktopWinUtils.dll\");\nif(library.load()){\n    typedef char*(*createInst)(void);\n    createInst create = (createInst)library.resolve(\"create\");\n    if(create){\n\n    }else{\n        message.setText(\"instance not found\"+library.errorString());\n        message.exec();\n    }\n}else{\n\n    message.setText(\"library not loaded \"+library.errorString());\n    message.exec();\n}\n</code></pre>\n\n<p>But i ghet a dialog that say: library not loaded Cannot load library libDesktopWinUtils.dll: no se puede encontrar el modulo especificado (in English: can not find the specified module). i Try the same thig using a dll created with Qt creator the only difference is the define of the export and import constants:</p>\n\n<pre><code>#include &lt;QtCore/qglobal.h&gt;\n\n#if defined(DESKTOPUTILS_LIBRARY)\n#  define DESKTOPUTILSSHARED_EXPORT Q_DECL_EXPORT\n#else\n#  define DESKTOPUTILSSHARED_EXPORT Q_DECL_IMPORT\n#endif\n</code></pre>\n\n<p>There is a way for use this in eclipse CDT? or what is the best way for made what i want, i am try to use CxImage in the dll, i try to use it in the dll Qt Project but throw me errors like: <code>cannot convert 'const TCHAR*' to 'const char*' for argument '1' to 'FILE* fopen(const char*,const char*)'</code> so i decided to use eclipse CDT.</p>\n"},{"tags":["qt","qt4","menu","symbian","nokia"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3993,"score":2,"question_id":2781198,"title":"how to add menu dynamically in Qt","body":"<p>I want to add, submenu to a menu item dynamically. How can I achive this?</p>\n\n<p>I tried like this,\nI have created an  Action and submenu. Then I have added the submenu to action. \nBut, I have connected the “triggered” signal of action. its getting crash if I click on the action..</p>\n\n<p>I have also handled the “aboutToShow” signal of menu, same its also getting crash when I click on action..</p>\n\n<p>Here is the sampe code.</p>\n\n<pre><code>Submenu = new QMenu(this);      \nconnect(Submenu, SIGNAL( aboutToShow()), this, SLOT(move ()));\n\n                  QAction *test = new QAction(tr(\"Selection\"), this);\n                  test -&gt;setMenu(Submenu);\n\n                 menubar()-&gt;addAction(test);\n</code></pre>\n\n<p>I want to get the notification, before the display of submenu..</p>\n\n<p><em><strong>additonal information:</em></strong></p>\n\n<p>pleas try this code, in your main window constructor.</p>\n\n<pre><code>QAction *action = new QAction(\"Test\",this);\nQAction *dummyaction = new QAction(\"Testing\",this);\nQMenu *menu = new QMenu();\nmenu-&gt;addAction(dummyaction);\n\nbool val= connect(menu, SIGNAL( aboutToShow()), this, SLOT( Move()));\nval= connect(menu, SIGNAL( aboutToHide()), this, SLOT(Move()));\n\naction-&gt;setMenu(menu);\nthis-&gt;menuBar()-&gt;addAction(action);\n</code></pre>\n\n<p>if I do like this, I am able to see one submenu item. But before that Move slot should call, its not getting called.. and even before hide also the same slot should call.. its not coming..</p>\n\n<p>I tried the return values of connect.. its true only… so what is wrong with my code.. please say..</p>\n"},{"tags":["c++","qt","gui","qt4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12803464,"title":"Qt::QMDISubWindow maintaining aspect ratio while resizing?","body":"<p>I have a <code>QMDIArea</code> in which I am having Multiple <code>QMdiSubWindows</code>. User can freely resize these subwindows any time. I want to maintain aspect ratio of the subwindows during resizing.</p>\n\n<p>I have tried re-implementing <code>hasHeightForWidth()</code>, making a custom layout manager and one third party library <code>libqxt</code>'s <code>qxtLetterBoxWidget</code>. None of these methods which I found on Internet worked for me.</p>\n\n<p>As per my understanding they don't work for \"Top Level Widgets\" they will only work for widgets inside containers. Right now I am achieving this aspect ratio by reimplementing <code>resizeEvent()</code> and calling <code>resize()</code> inside it. But even after lot of efforts i am having flickering issue while resizing diagonally in some cases window also moves unexpectedly (though this is because some unexpected moves are getting called from that resize event). But all in all its not looking good for user experience.</p>\n\n<p>So now my question is is there any other mechanism availabe that QT or any other third party library provides for maintaining this lock aspect ratio ?</p>\n\n<p>can I somehow make that <code>hasHeightforWidth</code> method work for my <code>QMdiSubwindows</code> ?</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12801624,"title":"FocusScope and \"focus\" property of child elements inside a Row element","body":"<p>Does the FocusScope only works on child elements \"focus\" property or does it also considers the grand childerens \"focus\" property also.</p>\n\n<p>i.e. In the below code, since the Rectangle element is not a direct child of FocusScope, will it take in to account while setting the focus.</p>\n\n<pre><code>import QtQuick 1.1\n\nFocusScope {\n    width: 100\n    height: 66\n    Row {\n        Rectangle {\n            width: 100\n            height: 62\n            focus: true\n            color: \"red\"\n            Keys.onPressed: {\n                console.log(\"hello\")    \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Based on the output of the program, it looks like FocusScope takes Rectangle element in to account while setting the focus. This feature is not documented.</p>\n\n<p>From <a href=\"http://qt-project.org/doc/qt-4.8/qdeclarativefocus.html#qmlfocus\" rel=\"nofollow\">http://qt-project.org/doc/qt-4.8/qdeclarativefocus.html#qmlfocus</a> Qt docs\n <em>\"Within each focus scope one element may have Item::focus set to true. If more than one Item has the focus property set, the last element to set the focus will have the focus and the others are unset, similar to when there are no focus scopes.\"</em></p>\n\n<p>It is not clear whether the FocusScope considers the grandchildrens(childrens of childrens) \"focus\" property.</p>\n"},{"tags":["qt","visual-studio-2008","release-mode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12802731,"title":"Generate release version in visual-studio-20082008 with Qt-Addin1.1.11","body":"<p>i develop Qt program with Qt-Addin1.1.11 in visual-studio-2008(with the language C++);\ni try to get Release version under release mode ,but found there was no release file at all;\nanyone know the way to get the release version ?</p>\n"},{"tags":["qt","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":271,"score":1,"question_id":9483514,"title":"Remove checkbox from QErrorMessage","body":"<p>writing in QT and <em>QErrorMessage</em> by default has checkbox saying: </p>\n\n<blockquote>\n  <p>Show this message again</p>\n</blockquote>\n\n<p>Is there some way to remove this checkbox, so user won't be able to turn off this message?</p>\n"},{"tags":[".net","wpf","qt","integration"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":523,"score":5,"question_id":4721786,"title":"Integrating a Qt widget in a .NET (WPF) application","body":"<p>I have a working Qt widget which I want to show in a .NET application. The application is using WPF and I want to embed that widget somewhere in the UI.</p>\n\n<p>What is the recommended way to embed a Qt widget in a WPF application? should I use C++/CLI and pass the HWND to WPF, or just use ActiveQt? I'm concerned about the Qt event mechanism, since no one will be calling QApplication::exec()</p>\n"},{"tags":["c++","qt","release","executable","jpg"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12800346,"title":"Showing JPG image with Qt does not work with release executable","body":"<p>i have a annoying issue with showing jpg images with qt. I devlope with Visual Studio 2008 in Windows 7 and using the Qt version 4.8.2. I will now describe my problem by means of the \"collidingmice\" example deliverd with Qt (../examples/graphicsview/collidingmice).</p>\n\n<p>I can build this example via Visual Studio IDE or with via the Visual Studio command prompt. In this example a jpg is used as background and is correctly shown when I execute the debug executable. But in release build this background jpg is not shown.</p>\n\n<p>I already realized, that Qt uses plugins for loading/showing different images. Therefore I copied the contents of the plugin folder of Qt into the application directory (where collidingmice.exe is). Unfortunatly, this does not solve the problem.</p>\n\n<p>Hence, I thought there must be something wrong with the Qt build and the jpeg library. Therefore, I reconfigured Qt by executing the following commands in the Visual Studio command prompt:</p>\n\n<pre><code>nmake distclean\nconfigure -debug-and-release -opensource -platform win32-msvc2008 -qt-libjpeg -no-webkit\nnmake\n</code></pre>\n\n<p>After that did a rebuild of the example, but again the jpg image is not shown. I am not sure what the problem is since it works in debug build and in release I think I only have to deliver the needed plugin DLLs. But obviously I am not right.</p>\n\n<p>I hope anyone can help me or can give me some hints where the problem might be. Thanks!</p>\n"},{"tags":["qt","character-encoding","qtwebkit","qt4.8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":10619168,"title":"QtWebKit not rendering Japanese (Shift_JIS charset)","body":"<p>I have an HTML file which I want to load in a <code>QWebView</code>. The header looks something like:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\"&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>The body text is mixed Latin and Japanese characters.</p>\n\n<p>The page displays perfectly in Chrome, but all of the Japanese characters are replaced with <code>□</code> when the page is displayed in a <code>QWebView</code>.</p>\n\n<p>QtWebKit seems to use the same system as used by <a href=\"http://qt-project.org/doc/qt-4.8/qtextcodec.html\" rel=\"nofollow\"><code>QTextCodec</code></a> to handle conversions between unicode and other charsets (please correct me if I'm wrong on this) and I'm therefore working on the assumption that QtWebKit can support <code>Shift_JIS</code>.</p>\n\n<p>As a test, I've tried adding the specific <strong>unicode</strong> for a kanji character (e.g. <code>&amp;#x3041;</code> to display &#x3041;) to my HTML file. I get the character properly rendered in Chrome, but it also displays as <code>□</code> in a <code>QWebView</code> - I'm not sure whether this means I can trust the Shift_JIS to unicode conversion in Qt, but it certainly means I can't assume that it is the cause of the problem. </p>\n\n<p>I'm not sure where to go from here; any suggestions as to solutions or other areas to investigate would be much appreciated.</p>\n"},{"tags":["c++","qt","qt4","user-input","virtual-keyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":249,"score":0,"question_id":12647279,"title":"Qt Virtual Keyboard and QInputContextFactory","body":"<p>I built the Maliit (https://wiki.maliit.org/Main_Page) virtual on-screen keyboard for my Ubuntu desktop and it works just fine with the included example apps. I was also able to make my own simple Qt example app that would show the keyboard when a widget assumed focus.</p>\n\n<p>I am now trying to deploy the virtual keyboard to an embedded Linux system running on my target board with a touchscreen. There is no X11 installed on the target board and I run quite a few Qt Apps with QWS ( -qws ).</p>\n\n<p>Maliit architecture ( <a href=\"http://maliit.org/doc/framework/latest/architecture.html\" rel=\"nofollow\">http://maliit.org/doc/framework/latest/architecture.html</a> ) requires a server instance to communicate with an application and the application sets it's input context using QApplication::setInputContext.</p>\n\n<p>On Ubuntu I simply do:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\nmaliit-server -software &amp;\nmaliit-exampleapp-plainqt\n</code></pre>\n\n<p>And the keyboard appears and everything works ( granted I have X11 )!</p>\n\n<p>On the embedded board I do in one SSH session:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\ndbus-launch --auto-syntax maliit-server -software -qws\n</code></pre>\n\n<p>And then another SSH session:</p>\n\n<pre><code>export QT_IM_MODULE=Maliit\nsource /find_dbus_address.sh\necho $DBUS_SESSION_BUS_ADDRESS\nmaliit-exampleapp-plainqt -qws\n</code></pre>\n\n<p>But I always get the error:</p>\n\n<pre><code>QApplication::setInputContext: called with 0 input context\n</code></pre>\n\n<p>Which means that the example app is failing in main at the following line:</p>\n\n<pre><code>// Workaround for lighthouse Qt\nkit.setInputContext(QInputContextFactory::create(\"Maliit\", &amp;kit));\n</code></pre>\n\n<p>The output of the 'ps' command on the embedded board shows the following:</p>\n\n<pre><code>  191 user     1692 S    -sh\n  192 user    39608 S    maliit-server -software -qws\n  196 user     2092 S    /usr/bin/dbus-daemon --fork --print-pid 4 --print-address 6 --session\n  201 user     1692 R    ps\n</code></pre>\n\n<p>So the server is not actively running like it is in Ubuntu... but in an 'interruptable sleep' state. The mouse does move in this state. I still get the 0 input context error.</p>\n\n<p>There is a bug here --> <a href=\"https://bugs.maliit.org/show_bug.cgi?id=185\" rel=\"nofollow\">https://bugs.maliit.org/show_bug.cgi?id=185</a> that claims QWS with Maliit is working for him, at least he can see input..</p>\n\n<p>There is also a mode of Maliit that supposedly bypasses DBUS ( see here --> <a href=\"http://www.jonnor.com/2012/03/\" rel=\"nofollow\">http://www.jonnor.com/2012/03/</a> ) and with that I still get '0 input context' errors:</p>\n\n<p>So I tried doing on my embedded board:</p>\n\n<pre><code>export QT_IM_MODULE=MaliitDirect ; echo $QT_IM_MODULE ; maliit-exampleapp-embedded -qws\n</code></pre>\n\n<p>And always receiving:</p>\n\n<pre><code>QApplication::setInputContext: called with 0 input context\nUnable to embedded Maliit input method widget\n</code></pre>\n\n<p>I built Qt 4.8.2 Embedded on Ubuntu 12.04 Desktop and can launch the maliit-server with -qws as well as the example apps and can see the virtual keyboard working just fine using QWS. I am using the latest clone for the git repo for both the plugins and maliit-framework.</p>\n\n<p>My problem is running same maliit-server and example app compiled for my ARM board on the target. I constantly get the error QApplication::setInputContext: called with 0 input context.</p>\n\n<p>I did some monitoring with the DBUS dbus-monitor tool. I initially opened 1 SSH session to my board and ran <strong>eval <code>dbus-launch --auto-syntax</code></strong> and copied the DBUS_SESSION_BUS. I then opened 2 new SSH sessions. </p>\n\n<p>In the first one I did:</p>\n\n<pre><code>$ export DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-vVNCW9zP7e,guid=75ecd72645dfb9b4358048db506dfec\n$ export QT_IM_MODULE=Maliit\n$ maliit-server -software -qws\n</code></pre>\n\n<p>In the second one I did:</p>\n\n<pre><code>$ export DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-vVNCW9zP7e,guid=75ecd72645dfb9b4358048db506dfecb\n$ export QT_IM_MODULE=Maliit\n$ maliit-exampleapp-settings -qws\n</code></pre>\n\n<p>However, I am immediately faced with:</p>\n\n<pre><code>[9;0]QApplication::setInputContext: called with 0 input context\nSettingsWidget::connected()\nSettingsWidget::pluginSettingsReceived()\nSetting layout QVariant(QString, \"nemo-keyboard.qml:\")\n</code></pre>\n\n<p>And in the dbus-monitor shell I see:</p>\n\n<pre><code>desktop.DBus; member=NameOwnerChanged\n   string \":1.6\"\n   string \"\"\n   string \":1.6\"\nmethod call sender=:1.6 -&gt; dest=org.freedesktop.DBus serial=1 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=Hello\nsignal sender=org.freedesktop.DBus -&gt; dest=(null destination) serial=8 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged\n   string \"org.maliit.server\"\n   string \"\"\n   string \":1.6\"\nmethod call sender=:1.6 -&gt; dest=org.freedesktop.DBus serial=2 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=RequestName\n   string \"org.maliit.server\"\n   uint32 4\nsignal sender=org.freedesktop.DBus -&gt; dest=(null destination) serial=9 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=NameOwnerChanged\n   string \":1.7\"\n   string \"\"\n   string \":1.7\"\nmethod call sender=:1.7 -&gt; dest=org.freedesktop.DBus serial=1 path=/org/freedesktop/DBus; interface=org.freedesktop.DBus; member=Hello\nmethod call sender=:1.7 -&gt; dest=org.maliit.server serial=2 path=/org/maliit/server/address; interface=org.freedesktop.DBus.Properties; member=Get\n   string \"org.maliit.Server.Address\"\n   string \"address\"\nmethod return sender=:1.6 -&gt; dest=:1.7 reply_serial=2\n   variant       string \"unix:abstract=/tmp/maliit-server/dbus-CPgFHrxwAi,guid=dfc1dfc367a647e36e6e4c3c506e00db\"\n</code></pre>\n\n<p>Does anyone have an idea on what is going on here? Could DBUS have something to do with the QInputContextFactory failing? Can I somehow get more information on what is failing and why I can't set my input context?</p>\n\n<p>Thank you for your help -</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":1,"view_count":8345,"score":4,"question_id":3137805,"title":"How to set image on QPushButton?","body":"<p>I want to set an image on <code>QPushButton</code>, and the size of <code>QPushButton</code> should depend on the size of the image. I am able to do this when using <code>QLabel</code>, but not with <code>QPushButton</code>.</p>\n\n<p>So, if anyone has a solution, then please help me out.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12799229,"title":"How to change language at runtime in Qt?","body":"<p>I'm writing a multi-language program with the Qt framework. I want to change the language at runtime. I wrote the code below in a slot but it does not work.</p>\n\n<pre><code>    QTranslator translator;\n    translator.load(\"arrowpad_tr\");\n    qApp-&gt;installTranslator(&amp;translator);\n</code></pre>\n"},{"tags":["qt","qt-creator","autotools","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12746030,"title":"How to distribute source of a Qt project?","body":"<p>I created a program using Qt Creator and want to pass it to somebody. Due to the lack of an elegant solution I wrote a script that packs all relevant files and tell the person to unpack and execute <code>qmake -makefile</code>.</p>\n\n<p>Is there a standard way to do this? Or even an autotools-way?</p>\n"},{"tags":["qt","qtwebkit","ubuntu-11.10"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12796817,"title":"How to add HTML 5 video and audio support in Qt4.8.2","body":"<p>I have successfully installed Qt-4.8.2 in my machine (ubuntu 11.10). When I launched the browser using it, there is no HTML 5 video and audio support in it. How can I bring the video and audio support to this version of Qt? Do I need to install any other plugins?</p>\n"},{"tags":["qt","visual-studio-2008"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12708325,"title":"Running project with Qt includes in Visual Studio express 2008","body":"<p>I'm still a newbie at this so please bear with me :)</p>\n\n<p>I just got a vs 2008 project that has a few qt includes, namely qtGUI. Now I downloaded the open source pre-built libraries (version 4.8.3) from the qt-project.org site. I've added the include and lib directories under vs2008, but my project still won't compile. I'm getting a few LNK 2001 unresolved external symbol errors. Could someone tell me what I'm missing here?  </p>\n\n<p>The specific errors: </p>\n\n<pre><code>treeview.obj : error LNK2001: unresolved external symbol \"public:static struct QMetaObject const    cQtTreeWidgetFilter::staticMetaObject\"(?staticMetaObject@cQtTreeWidgetFilter@@2UQMetaObject@@B)\ntreeview.obj : error LNK2001: unresolved external symbol \"public:virtual struct QMetaObject const * __thiscall    cQtTreeWidgetFilter::metaObject(void)const \"    (?metaObject@cQtTreeWidgetFilter@@UBEPBUQMetaObject@@XZ)\ntreeview.obj : error LNK2001: unresolved external symbol \"public:virtual void * __thiscall cQtTreeWidgetFilter::qt_metacast(char const    *)\" (?qt_metacast@cQtTreeWidgetFilter@@UAEPAXPBD@Z)\ntreeview.obj : error LNK2001: unresolved external symbol \"public: virtual int    __thiscall cQtTreeWidgetFilter::qt_metacall(enum QMetaObject::Call,int,void * *)\"    (?qt_metacall@cQtTreeWidgetFilter@@UAEHW4Call@QMetaObject@@HPAPAX@Z)\n</code></pre>\n"},{"tags":["qt","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":12795329,"title":"Qt paint application","body":"<p>I am developing a paint application in Qt.  I want to draw a line on a <code>QGraphicsView</code>.\nHow do I draw a line after clicking on a <code>QPushButton</code> using Qt?</p>\n"},{"tags":["qt","deployment","portability"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12792501,"title":"deploying a Qt application","body":"<p><em>In a nutshell, the question is: I just finished my first application using Qt Creator on a computer running under Linux Ubuntu, now how do I make this available for everyone. Now follows the more detailed version ;)</em></p>\n\n<p>I must apologize for asking this, I am aware that this question has probably been asked many times and that there is official documentation that I can read. I am just completely new to programming and I am very confused by everything I've read so far. If you are kind enough to help, please assume I know absolutely nothing :)</p>\n\n<p>Here we go: I've just finished designing my first application (a scientific program) with Qt creator on my laptop which runs under Linux Ubuntu. It works fine and I'm very proud of it ;)</p>\n\n<p>Here's what my project consists of: 40 header files, 42 source files, 1 pro file, 1 qrc file, 1 html file and 7 png files. In the code, I use <code>#include</code> for a bunch of fairly standard Qt classes (<code>QWidget</code>, <code>QTextBrowser</code> and so forth, maybe like 40 of those).</p>\n\n<p>Now I'd like to make it available to other people. For Linux and Mac users, I've figured a way to do that: I can compress the folder containing my project, tell them to install Qt on their computer, then download and extract the files on their hard disk, open a terminal in the folder and run </p>\n\n<pre><code>qmake myProject.pro\nqmake\nmake\n</code></pre>\n\n<p>That seems to work fine (by the way, does it matter that this is not precisely what Qt creator does? The <code>qmake</code> step there is <code>qmake-qt4 myProject.pro -r -spec linux-g++</code> and the make step is <code>make -w</code>). Now, I assume there is a solution where I don't ask them to download and install something like 200Mo of Qt material. As for Microsoft Windows users, I don't have a clue.</p>\n\n<p>I would be very grateful if you could explain to me in a very concrete way what I need to do. Needless to say, I'll go for the best and easiest solution, I don't need to understand everything about deployment. Many thanks in advance!</p>\n\n<p>Edit: In case that's useful : I've been using Qt Creator 2.5.0 based on Qt 4.8.1 (64 bit), I'm working on a laptop with Ubuntu 12.04 64bits</p>\n"},{"tags":["c++","qt","qt4","qt-creator","designer"],"answer_count":11,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":14413,"score":10,"question_id":165637,"title":"How do I create a custom slot in qt4 designer?","body":"<p>I don't know how to do this. Whenever I use the signal/slot editor dialog box, I have to choose from the existing list of slots. So the question is how do I create a custom named slot?\nThanks</p>\n"},{"tags":["c++","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12639748,"title":"Inserting into SQLite table only chosen values with QSql","body":"<p>I want to insert some values into an SQLite table.</p>\n\n<p>The query is:</p>\n\n<pre><code>insert into TableName (field1,field2,field3) values (field1val, field2val, field3val)\n</code></pre>\n\n<p>Let's say the table has 20 fields. I want to choose which field should be inserted depending on this value which is user input. The rest of fields should have no value.</p>\n\n<p>My current solution is:</p>\n\n<pre><code>QString valuesToInsertFieldNames(\"(\");\nQString valuesToInsert(\"(\");\nif(field1val != -1)\n{\n    valuesToInsertFieldNames+= \"field1\";\n    valuesToInsert += QString(\"%1 \").arg(field1val);\n}\nif(field2val != -1)\n{\n    valuesToInsertFieldNames+= \"field2\";\n    valuesToInsert += QString(\"%1\").arg(field2val);\n}\n...\nvaluesToInsertFieldNames+= \")\";\nvaluesToInsert += \")\";\nquery.exec(QString(\"insert into TableName \" + valuesToInsertFieldNames + \n                   \"values\" + valuesToInsert)\n</code></pre>\n\n<p>Is there some better way of doing it? Maybe some QSql functionality?</p>\n"},{"tags":["python","qt","ubuntu","webkit","xvfb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12542675,"title":"xvfb failed to start in ubuntu","body":"<p>I trying to get a screen shot by using the following two tools (something relative to qt, webkit and etc. maybe)</p>\n\n<ul>\n<li><a href=\"https://github.com/adamn/python-webkit2png\" rel=\"nofollow\">https://github.com/adamn/python-webkit2png</a></li>\n<li><a href=\"http://cutycapt.sourceforge.net/\" rel=\"nofollow\">http://cutycapt.sourceforge.net/</a></li>\n</ul>\n\n<p>when run it on server using xvfb-run following the guide of them, I got the error: Xvfb failed to start</p>\n\n<p>then I searched the situation and find a similar question here </p>\n\n<p><a href=\"http://stackoverflow.com/questions/8805032/xvfb-run-error-in-ubuntu-11-04\">xvfb run error in ubuntu 11.04</a></p>\n\n<p>then try to add </p>\n\n<pre><code>--auto-servernum --server-num=1 \n</code></pre>\n\n<p>now the whole command is: </p>\n\n<pre><code>xvfb-run --auto-servernum --server-num=1 -server-args=\"-screen 0, 640*480*24\" python webkit2png.py --url=http://google.com --out=test.png\n</code></pre>\n\n<p>but got another error: /usr/bin/xvfb-run: 187: kill: No such process</p>\n\n<p>how to solve it ?</p>\n"},{"tags":["c++","qt","winapi","driver","folders"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12781013,"title":"How create an encrypted mounted Folder","body":"<p>I want to create a mounted Folder to be encrypted later, my point is that create a normal directory(<code>C:\\path\\to\\myfolder</code>) and mount it to a drive (<code>I:\\</code>) so any change will occurs in both path, my goal is if any file  added to <code>I:\\</code> will be automatically encrypted in <code>C:\\path\\to\\myfolder</code></p>\n\n<p>Questions:</p>\n\n<ul>\n<li>How to monitor the mounted folder and encrypt its children (files or directories) without touching files or directories under the drive.</li>\n<li>is there any way to create this mounted folder from the beginning so any file added will be automatically encrypted under the folder and decrypted under the drive, and if it is already exist when I mount it, files will be decrypted under the associated drive.</li>\n</ul>\n\n<p>any help will be appreciated.</p>\n"},{"tags":["qt","qtreewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12783956,"title":"Can i stylize QTreeWidgetItem like QCheckbox?","body":"<p>Can i stylize QTreeWidgetItem like QCheckbox?</p>\n\n<p>For my checkboxes style is:</p>\n\n<pre><code> QCheckBox {\n     spacing: 15px;\n }\n\n QCheckBox::indicator {\n     width: 20px;\n     height: 20px;\n }\n\n QCheckBox::indicator:unchecked {\n     image: url(:/styles/img/checkbox_unchecked.png);\n }\n\n QCheckBox::indicator:unchecked:hover {\n     image: url(:/styles/img/checkbox_unchecked_hover.png);\n }\n\n QCheckBox::indicator:checked {\n     image: url(:/styles/img/checkbox_checked.png);\n }\n\n QCheckBox::indicator:checked:hover {\n     image: url(:/styles/img/checkbox_checked_hover.png);\n }\n</code></pre>\n\n<p>And what style would be for QTreeWidgetItem? I can't find it in documentation :(</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","video","alpha","libvlc","mplayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12792974,"title":"Player capable of playing videos with transparency?","body":"<p>I am trying to create an video editor for adding effects to videos in Qt. I need to play/render flv videos with alpha channel onto my Qt Widget. \nI have tried libvlc(VideoLan) and mplayer(http://www.mplayerhq.hu), they work just fine inside my QWidget but they dont retain the transparency of the bits. I have gone through their documentation as well but none of them offer any options for manipulating the transparent bits. I need the videos to retain their transparency while playing. \nIs there some way to achieve this ?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12792825,"title":"how to call an ActiveX method in QT?","body":"<p>I know  class id of the ActiveX.then how to call a function defined in the ActiveX?\nFor example, int f(string *).</p>\n"},{"tags":["qt","ubuntu","qt4","qt-creator"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":540,"score":1,"question_id":10797159,"title":"Can't edit/drag-and-drop widgets in QtCreator","body":"<p>I am having a slightly bizarre problem and am not sure what is happening so maybe someone else has seen it and could throw some light on the issue.</p>\n\n<p>I have Qt 4.6.1 installed in Ubuntu 12.04 LTS x64 that is running as a virtual guest (VirtualBox) in Windows 7 x32. </p>\n\n<p>Anyway... I have created a new widget and it won't let me edit it or drag widgets onto it. It is almost like it is read-only. The icon when I drag is a circle with a line through it. I have seen mention of a drag-drop problem with Windows 7 but I have tried that fix and it doesn't change anything.</p>\n\n<p>Everything builds and runs, just cannot use the designer at all.</p>\n"},{"tags":["qt","gui","user-interface","qml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12777411,"title":"What happens when a UI screen is 'loaded'?","body":"<p>I have been working on Qt/qml based UIs. </p>\n\n<p>I used something like 'dynamic on requirement loading' of screens. (using a loader element)</p>\n\n<p>Advantage: All screens need not load at startup, improves systems startup time.</p>\n\n<p>Disadvantage : When ever a screen has to be loaded later, it takes time, and decrease in user responsiveness at that moment.</p>\n\n<p>My question is, what is actually 'loaded' into the memory when I say, load a UI screen ?</p>\n\n<p>I mean if its C++ code, I would understand it like some dynamic objects are being created. I cant visualize it in terms of UI screens ? Is it like the images I have used in making that UI are loaded into memory for different operations ? </p>\n\n<p>Adding to the earlier question, what happens when I 'unload' a screen ?</p>\n\n<p>Is the CPU requirement same for loading and unloading ?</p>\n"},{"tags":["qt","pyqt","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12750958,"title":"How to use QAbstractTableModel.submit\\revert methods?","body":"<p>I'm trying to do a record-based in-grid editing with my own <code>QAbstractTableModel</code>-descendant class and a <code>QTableView</code>. When the editing is finished, the model recieves a signal to it's <code>submit()</code> or <code>revert()</code> slots. But there are no parameters, so the model does not know which record it needs to submit to (refresh from) a datastore. I've tried to setup my own change-tracking by catching <code>model.setData()/removeRows()/insertRows()</code> , but it's kind of a mess. Is there a right way to do it?</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12139999,"title":"Is it possible to control download speed using QNetworkAccessManager","body":"<p>Can we restrict <code>QNetworkAccessManager</code> from consuming whole bandwidth, by restricting the download speed, as we do see such options available with almost every download manager?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12786668,"title":"How can i access MainWindow label from mouse hook procedure?","body":"<p>I’m using mouse hook to get the mouse coordinates, but i’m trying to display it on my label and the code don’t work.</p>\n\n<pre><code>LRESULT CALLBACK MouseHookProc(int nCode, WPARAM wParam, LPARAM lParam)\n{\n    if(nCode==HC_ACTION)\n    {\n    POINT p;\n    GetCursorPos(&amp;p);\n    MainWindow* mw = new MainWindow();\n    mw-&gt;ui-&gt;label-&gt;setText(QString::number(p.x)+\"|\"+QString::number(p.y));//this code don't work!\n    }\n    return CallNextHookEx(NULL,nCode,wParam,lParam);\n }\n</code></pre>\n"},{"tags":["qt","qt-creator","qml","embedded-linux","qtembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12753763,"title":"QtInputContextFactory returning NULL on embedded target","body":"<p>On my embedded system I don't have X11, Mac, Win, S60, etc. I keep getting a NULL ( 0 ) pointer returned from the create method of the QInputContextFactory class. I verified that QT_NO_LIBRARY is not defined.</p>\n\n<p>On my Desktop Qt Build this works just fine.</p>\n\n<p>I also verified that my custom key and parent are being passed to the method.</p>\n\n<p>What could cause this to fail? --></p>\n\n<pre><code>if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n</code></pre>\n\n<p>Here is the entire method:</p>\n\n<pre><code>QInputContext *QInputContextFactory::create( const QString&amp; key, QObject *parent )\n{\n    QInputContext *result = 0;\n#if defined(Q_WS_X11) &amp;&amp; !defined(QT_NO_XIM)\n    if (key == QLatin1String(\"xim\")) {\n        result = new QXIMInputContext;\n    }\n#endif\n#if defined(Q_WS_WIN)\n    if (key == QLatin1String(\"win\")) {\n        result = new QWinInputContext;\n    }\n#endif\n#if defined(Q_WS_MAC)\n    if (key == QLatin1String(\"mac\")) {\n        result = new QMacInputContext;\n    }\n#endif\n#if defined(Q_WS_S60)\n    if (key == QLatin1String(\"coefep\")) {\n        result = new QCoeFepInputContext;\n    }\n#endif\n#ifdef QT_NO_LIBRARY\n    Q_UNUSED(key);\n#else\n    qDebug() &lt;&lt; \"Here we are\";\n    if (QInputContextFactoryInterface *factory =\n        qobject_cast&lt;QInputContextFactoryInterface*&gt;(loader()-&gt;instance(key))) {\n        result = factory-&gt;create(key);\n    }\n#endif\n    if (result)\n        result-&gt;setParent(parent);\n    return result;\n}\n</code></pre>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12786729,"title":"Using Qt resources system with vs2010 add-in","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2241141/embedded-jpg-resources-not-loading-in-qt-application\">Embedded JPG resources not loading in Qt application</a>  </p>\n</blockquote>\n\n\n\n<p>This is the first time I manage app's resources by Qt built-in tool.</p>\n\n<p>I have set up a Qt4 Application project in vc++2010. Then I created new .qrc file using Qt Resource Editor and used attached files. While I'm running app on my (the same) machine everything works fine, but when I'm executing it on other PCs (with clean installed XP / 7 / vista) the attached images aren't displayed. </p>\n\n<p>May I should install Qt libraries on the target machines to make it work properly?\nOr maybe I've forgotten about some important Qt Resources System functionality?</p>\n"},{"tags":["c++","qt"],"answer_count":9,"favorite_count":5,"up_vote_count":25,"down_vote_count":2,"view_count":1614,"score":23,"question_id":3588154,"title":"How usable is Qt without its preprocessing step?","body":"<p>I think it's unreasonable for a library to require preprocessing of my source code with a special tool. That said, several people have recommended the Qt library to me for cross platform GUI development.</p>\n\n<p>How usable is Qt without the preprocessing step?</p>\n\n<p>EDIT: Okay people, I'm not meaning this question as a rip on Qt -- too many Qt fanboys are treating it as if it is. I don't want to discuss the merits of the fact that Qt came up with this preprocessing tool. I understand why the tool is there, and I understand why there are large parts of Qt's design that are built upon the idea of preprocessing.</p>\n\n<p>I've never used Qt, ergo I am in no position to rip on it. But I would much rather pay in writing a small amount of boilerplate myself and not depend on ripping apart my entire build process. I won't use Flex and Bison in my current project for the same reason; if I won't use those tools, I'm definitely not going to use another kind of preprocessing.</p>\n\n<p>So, please don't take me as ripping on Qt. I cannot comment on how nice or not nice it is; I have not used it. I just want to know if it is possible to use it without <code>moc</code>.</p>\n"},{"tags":["c++","osx","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12786621,"title":"QDialog as Popup does not hide on Mac when clicking out of the main window","body":"<p>I have a basic QDialog with it's WindowFlags set to Qt::Popup so that it appears as a typical popup overlay.\nOn Windows, everything works great and if you click outside the main window or really anywhere else it goes away. But on Mac OSX, if you click the menu bar at the top or resize the window, the popup just stays where it is.  I have absolutely no internal handling of the mouse enter/leave/move/press events for the popup, so the closing of it is not something I'm even handling... it's just automatic on Windows.</p>\n\n<p>Any idea I can get it to close when the main application is no longer the current context on the system?</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12769946,"title":"How do I get the \"Application\" project template to re-appear in Qt Creator IDE?","body":"<p>I just installed Qt Creator IDE and when I first started the QtCreator.exe file, and clicked New Project, it showed the \"Application\" template from where I could choose the Qt Gui Application type. But now when I run it again it only shows some templates (the image link is provided)</p>\n\n<p>How do I bring back the \"Application\" template again?</p>\n\n<p><img src=\"http://i.stack.imgur.com/lsLbE.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c++","qt","gcc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":12785523,"title":"Ignore Invalid Conversion Errors, GCC","body":"<p>I've been working on a project with MinGW on Windows for a while now, and I am now trying to compile it on Mac (using GCC). I am using Qt, but that doesn't have much to do with the problem.</p>\n\n<p>Why is GCC being so formal, and making me cast everything? It's ridiculous how I have to go through and cast everything that doesn't match.</p>\n\n<p>For example, it would throw the error:</p>\n\n<pre><code>main.cpp: error: invalid conversion from 'const char*' to 'char*'\n</code></pre>\n\n<p>With this code:</p>\n\n<pre><code>const char *a = \"a\";\nchar *b = a;\n</code></pre>\n\n<p>Are there any flags I could pass to the GCC compiler or any preprocessor directives to tell it to ignore these? Thanks.</p>\n\n<p><strong>Edit:</strong> Let me rephrase. Why does that work on MinGW but not GCC, and could I get it to work on GCC?</p>\n\n<p><strong>Edit 2:</strong> MinGW - <a href=\"http://i.imgur.com/zGvf6.png\" rel=\"nofollow\">http://i.imgur.com/zGvf6.png</a></p>\n"},{"tags":["qt","lgpl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12784501,"title":"Can Qt be used with an LGPL license to create an installer for a commercial linux application?","body":"<p>We have a commercial application for linux that does not use anything from Qt. We are interested though in creating a GUI binary for the install process of this commercial app since there are some important inputs requested from the user during installation and we want to make it user-friendly+snazzy. Is it okay to use Qt with the LGPL license to create such an installer?</p>\n"},{"tags":["qt","qt-creator","qmake"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3230,"score":3,"question_id":3984104,"title":"QMake - how to copy a file to the output","body":"<p>I need to copy a file from my project to the output directory. I new to qmake so I can't figure out how to accomplish this.</p>\n\n<p>I'm compiling on Linux but in the future I'll compile it on Mac and Windows </p>\n"},{"tags":["c++","qt","graph","qgraphicsview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12771074,"title":"Graph editor on Qt","body":"<p>I'm writing a graph editor now. The programs must be written on Qt, but the problem is that I don't have enough experience with Qt, but I'm little experienced with C++. Last weeks I read one book about Qt, but I've read about 100 pages, so I know only some basics.</p>\n\n<p>Can somebody give me advices about what classes should I use, please?</p>\n\n<p>What I've already done:</p>\n\n<ul>\n<li>I filled menubar with menus File, Algorithms, About etc.</li>\n<li>I suppose that graph vertexes etc I should draw on QGraphicsView, so I added it too, also I add QGraphicsScene and bind them together (ui->setScene(scene)). </li>\n</ul>\n\n<p>Sorry for my mistakes, unfortunately I don't have a complete understanding about all these things.</p>\n\n<p>Also I added QGraphicsRectItem with scene->addRect() and set the flag moveable. But I don't know what classes should I have to use.</p>\n\n<p>So, in general I want to understand how to do next things:</p>\n\n<ul>\n<li>I want to add a panel with 2 buttons (vertex, line). After I chose vertex button (or what it will be) and click on the QGraphicsView - vertex should appear at that point. Also I must be able to change vertex name</li>\n<li>After I chose line mode (link, which connected 2 vertexes) I should be able to connect 2 vertexes together depending on graph type (oriented or not).</li>\n<li>By clicking on link between vertexes I should be able to change the weight of link.</li>\n</ul>\n\n<p>I think it would be enough for one question.</p>\n\n<p>Sorry if the question is very simple or stupid.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","blackberry-10"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12782779,"title":"ImageView in custom ListItemListener causing SIGSEGV segfault","body":"<p>My app currently uses a custom listview (using a ListItemListener and ListItemProvider) that loads images over the network and displays the appropriate image next to each list item. This works fine for any list items that are currently displayed, but setting the image source for an off-screen list item results in a Segfault at <strong>bb::cascades::Image::Operator=() at 0x79446f3c</strong>. This happens for both setting the image source to the path of the locally downloaded image, and for tracking that image's state and using setImage().</p>\n\n<p>This particular list works by inserting a container (InnerItem) into my list item. This InnerItem is a container which is replaced by a different instance when the user swipes left or right. </p>\n\n<p>I want to have these images downloaded in the background and displayed in the list item's ImageView as that item scrolls into view, avoiding this segfault. is there any way of achieving this?</p>\n\n<p>Here's some sample code:</p>\n\n<p>For the ListItemListener:</p>\n\n<pre><code>void MyListItemClass::onInnerListChanged() {\n    mInnerContainer-&gt;removeAll();\n    if(mInnerList.size() &gt; 0) {\n        InnerItem* innerItem = new InnerItem(mBroadcasts.at(currentIndex));\n        mInnerContainer-&gt;add(innerItem-&gt;getContainer);\n    }\n}\n</code></pre>\n\n<p>For the InnerItem, I can confirm the image has downloaded successfully, but the SegFault only occurs when setting the image source or image:</p>\n\n<pre><code>/*!\n * Updates the episode preview image when downloaded\n */\nvoid InnerItem::onImageProcessed(QUrl url) {\n    if(imgPreview) {\n        qDebug() &lt;&lt; \"Image is visible, setting to \" &lt;&lt; url.toString();\n        imgPreview-&gt;setImageSource(url);\n    }\n\n/*\n    // Let's try tracking\n    mTrack = new ImageTracker(url);\n    bool result = connect(mTrack, SIGNAL(stateChanged(bb::cascades::ResourceState::Type)),\n        this, SLOT(onStateChanged(bb::cascades::ResourceState::Type)));\n    Q_ASSERT(result);\n    Q_UNUSED(result);\n*/\n}\n\nvoid EpisodeItem::onStateChanged(bb::cascades::ResourceState::Type state) {\n    if(state == ResourceState::Loaded) {\n        imgPreview-&gt;setImage(mTrack-&gt;image());\n    }\n}\n</code></pre>\n"},{"tags":["qt","ssl","sslv3"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12209489,"title":"How do I force QWebView to use SSLv3?","body":"<p>There is a web server which does not support the SSLv2 HELO and therefore I must force <code>QWebView</code> to do an SSLv3 HELO. Unfortunately, the following does not work:</p>\n\n<pre><code>QList ciphers = QSslSocket::supportedCiphers();\nfor (int i = ciphers.count() - 1; i >= 0; i--){\n    QSslCipher cipher = ciphers.at(i);\n    QSsl::SslProtocol protocol = cipher.protocol();\n    if (protocol == QSsl::SslV2){\n        ciphers.removeAt(i);\n    }\n}\nQSslSocket::setDefaultCiphers(ciphers);\n</code></pre>\n"},{"tags":["qt","pyside","qscrollarea"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":12781407,"title":"How do i resize the contents of a QScrollArea as more widgets are placed inside","body":"<p>I have a <a href=\"http://doc.qt.digia.com/4.7-snapshot/qscrollarea.html\" rel=\"nofollow\">QScrollArea</a> Widget, which starts empty;</p>\n\n<p><img src=\"http://i.stack.imgur.com/pDzaQ.jpg\" alt=\"empty QScrollArea\"></p>\n\n<p>It has a vertical layout, with a QGridLayout, and a vertical spacer to keep it at the top, and prevent it from stretching over the whole scroll area;</p>\n\n<p><img src=\"http://i.stack.imgur.com/ykWc6.jpg\" alt=\"QScrollArea in Qt Designer\"></p>\n\n<p>Elsewhere in the program, there is a QTextEdit, which when changed, has its contents scanned for \"species\" elements, and then they are added to the QGridLayout. Any species elements which have been removed are removed too. This bit works;</p>\n\n<p><img src=\"http://i.stack.imgur.com/u9b23.jpg\" alt=\"QScrollArea with strange scroll bar\"></p>\n\n<p>I have turned the vertical scrollbar on all the time, so that when it appears it does not sit on top of the other stuff in there. Note that the scroll bar is larger than the scroll box already though, despite not needing to be.</p>\n\n<p>This is the problem. The scroll area seems to be preset, and i cannot change it. If i add more rows to the QGridLayout, the scroll area doesn't increase in size.</p>\n\n<p>Instead, it stays the same size, and squeezes the QGridLayout, making it look ugly (at first);</p>\n\n<p><img src=\"http://i.stack.imgur.com/BB6RU.jpg\" alt=\"Squashed QGridLayout\"></p>\n\n<p>And then after adding even more it becomes unusable;</p>\n\n<p><img src=\"http://i.stack.imgur.com/ikaXf.jpg\" alt=\"unusable line edits\"></p>\n\n<p>Note that again, the scroll bar is still the same size as in previous images. The first two images are from Qt Designer, the subsequent 3 are from the program running.</p>\n\n<p>If I resize the window so that the QScrollArea grows, then I see this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/nwHfY.jpg\" alt=\"dumb too small layout\"></p>\n\n<p>Indicating that there's some layout inside the scroll area that is not resizing properly.</p>\n\n<p>My question is; <strong>what do I need to do to make the scrollable area of the widget resize dynamically as I add and remove from the QGridLayout?</strong></p>\n"},{"tags":["c++","qt","unity3d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12761774,"title":"Qt Custom Lists","body":"<p>I have recently started to use Qt as it is much more intuitive then using win32, I have been playing around with a bunch of the different widgets, and I wan't to try something more complex, but haven't been able to find anything on the Qt reference or Google related to what I want.</p>\n\n<p>I am trying to do something like the Unity3D Inspector box, I get so far with how I would go, but it doesn't seem like there is something for one of the needed components.</p>\n\n<p>I would have a dockable widget, in this I would have a scrollable area, at this point I am looking to add 'components' to this scrollable area, these components will all be somewhat different, they should have the ability to expand/collapse into a single line (The identifier of the component), and upon expansion should be able to have multiple widgets inside of them, such as labels, checkboxes, other collapsable sections, etc.</p>\n\n<p>I must be improperly wording what I am looking for in google as it doesn't seem like there is anything similar to what I want, but it seems like a common idea.</p>\n"},{"tags":["c++","windows","qt","mingw","qt-creator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12774724,"title":"Deploying a Qt application on Windows?","body":"<p>I'm new to Qt and cannot figure out how to deploy a simple Qt application on Windows. It runs fine when run from inside Qt Creator, but it won't run when directly executed. I have the newest version of the Qt SDK installed and am using all of the default settings.</p>\n\n<p>I have read dozens of \"how to\" guides, all of which provided conflicting information, in addition to dozens upon dozens of forum threads, blog posts, and questions on here. I simply cannot find instructions that clearly explain how to deploy a Qt application on Windows.</p>\n\n<p>I tried putting all the DLLs I could find in the application directory, but that didn't work. I also tried building Qt statically, but that didn't work either.</p>\n\n<p>Can anyone help me out?</p>\n\n<p>EDIT: Thank you both for your replies. Here is some additional information:</p>\n\n<p>I am using \"Qt Creator 2.4.1, Based on Qt 4.7.4\"</p>\n\n<p>I have the following includes across different files:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QTextEdit&gt;\n#include &lt;QtGui&gt;\n#include &lt;QNetworkAccessManager&gt;\n#include &lt;QNetworkRequest&gt;\n#include \"qthread.h\"\n#include \"windows.h\"\n#include &lt;QMessageBox&gt;\n</code></pre>\n\n<p>I'm using the default compiler that came with Qt, MinGW.</p>\n"},{"tags":["c++","qt","opengl","qpainter"],"answer_count":1,"favorite_count":4,"up_vote_count":33,"down_vote_count":0,"view_count":863,"score":33,"question_id":11474078,"title":"Efficient off-screen rendering of QPainterPaths (OpenGL and non-OpenGL solution required)","body":"<ol>\n<li>In my application, I paint a street map using <code>QPainter</code> on a <code>widget</code>\n<ul>\n<li>made by <code>QPainterPaths</code> that contain precalculated paths to be drawn</li>\n<li>the <code>widget</code> is currently a <code>QWidget</code>, not a <code>QGLWidget</code>, but this might change.</li>\n</ul></li>\n<li>I'm trying to move the painting off-screen and split it into chunked jobs\n<ul>\n<li>I want to paint each chunk onto a <code>QImage</code> and finally draw all images onto the <code>widget</code></li>\n<li><code>QPainterPaths</code> are already chunked, so this is not the problem</li>\n<li>problem is, that drawing on <code>QImages</code> is about <strong>5 times slower</strong> than drawing on <code>QWidget</code></li>\n</ul></li>\n<li>Some benchmark testing I've done\n<ul>\n<li>time values are rounded averages over multiple runs</li>\n<li>test chunk contains 100 <code>QPainterPaths</code> that have about 150 linear line segments each</li>\n<li>the roughly 15k paths are drawn with <code>QPainter::Antialiasing</code> render hint, <code>QPen</code> uses round cap and round join</li>\n</ul></li>\n<li>Remember that my source are <code>QPainterPaths</code> (and line width + color; some <strong><em>drawn</em></strong>, some <strong><em>filled</em></strong>)\n<ul>\n<li>I don't need all the other types of drawing <code>QPainter</code> supports</li>\n<li>Can <code>QPainterPaths</code> be converted to something else which can be drawn on a <code>OpenGL buffer</code>, this would be a good solution.</li>\n<li>I'm not familiar with <code>OpenGL</code> off-screen rendering and I know that there are different types of OpenGL buffers, of which most of them aren't for 2D image rendering but for vertex data.</li>\n</ul></li>\n</ol>\n\n<pre class=\"lang-none prettyprint-override\"><code> Paint Device for chunk | Rendering the chunk itself | Painting chunk on QWidget\n------------------------+----------------------------+---------------------------\n QImage                 |                    2000 ms |                   &lt; 10 ms\n QPixmap (*)            |                     250 ms |                   &lt; 10 ms\n QGLFramebufferObj. (*) |                      50 ms |                   &lt; 10 ms\n QPicture               |                      50 ms |                    400 ms\n------------------------+----------------------------+---------------------------\n none (directly on a QWidget in paintEvent)          |                    400 ms\n-----------------------------------------------------+---------------------------\n</code></pre>\n\n<p><code>(*) These 2 lines have been added afterwards and are solutions to the problem!</code></p>\n\n<p>It would be nice if you can tell me a <strong>non-OpenGL-based solution</strong>, too, as I want to compile my application in two versions: <code>OpenGL</code> and <code>non-OpenGL</code> version.<br>\nAlso, I want the solution to be able to render in a <strong>non-GUI thread</strong>.</p>\n\n<hr>\n\n<p><em>Is there a good way to efficiently draw the chunks off-screen?</em><br>\n<em>Is there an off-screen counter part of <code>QGLWidget</code> (an <code>OpenGL</code> off-screen buffer) which can be used as a paint device for <code>QPainter</code>?</em></p>\n"},{"tags":["qt","vector","2d-array"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":91,"score":-2,"question_id":12776872,"title":"How to use QVector as two dimensional array?","body":"<p>How do I declare, initialise, and assign values to a <code>QVector</code> as a 2 dimensional array?</p>\n"},{"tags":["qt","libvlc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12778918,"title":"libvlc and qt issue","body":"<p>I am trying to use libvlc on windows 7 for playback in Qt Widget. I need some of the functionality provided by libvlc not present in phonon. I am using the below code : </p>\n\n<pre><code>_videoWidget = new QFrame(this);\nqDebug()&lt;&lt;fileName;\nconst char * const vlc_args[] = {\n    \"-I qt4\",\n              \"--extraintf=logger\",\n              \"--verbose=2\" };\n _vlcinstance = libvlc_new(sizeof(vlc_args) / sizeof(vlc_args[0]), vlc_args);\n _mp = libvlc_media_player_new (_vlcinstance);\n _m = libvlc_media_new_path(_vlcinstance, fileName.toAscii());\n libvlc_media_player_set_media (_mp, _m);\n libvlc_media_player_set_hwnd(_mp, 0);//(_videoWidget-&gt;winId());\n int windid = reinterpret_cast&lt;int&gt;(_videoWidget-&gt;winId());\n libvlc_media_player_set_xwindow (_mp, windid );\n libvlc_media_player_play (_mp);\n</code></pre>\n\n<p>After I select the file to play it just does nothing, no frames no debugging output ?\nThe debug console op is :</p>\n\n<pre><code>    [0ac8f670] main libvlc debug: VLC media player - 2.0.3 Twoflower\n[0ac8f670] main libvlc debug: Copyright © 1996-2012 VLC authors and VideoLAN\n[0ac8f670] main libvlc debug: revision 2.0.3-0-g77aa89e\n[0ac8f670] main libvlc debug: configured with ../extras/package/win32/../../../configure  '--enable-update-check' '--enable-lua' '--enable-faad' '--enable-flac' '--enable-theora' '--enable-twolame' '--enable-quicktime' '--enable-avcodec' '--enable-merge-ffmpeg' '--enable-dca' '--enable-mpc' '--enable-libass' '--enable-x264' '--enable-schroedinger' '--enable-realrtsp' '--enable-live555' '--enable-dvdread' '--enable-shout' '--enable-goom' '--enable-caca' '--disable-portaudio' '--disable-sdl' '--enable-qt4' '--enable-skins2' '--enable-sse' '--enable-mmx' '--enable-libcddb' '--enable-zvbi' '--disable-telx' '--enable-sqlite' '--disable-dirac' '--host=i586-mingw32msvc' '--enable-crystalhd' 'host_alias=i586-mingw32msvc'\n[0ac8f670] main libvlc debug: searching plug-in modules\n[0ac8f670] main libvlc debug: loading plugins cache file E:\\Work\\Local_WorkingCopy\\VidTest\\plugins\\plugins.dat\n[0ac8f670] main libvlc debug: recursively browsing `E:\\Work\\Local_WorkingCopy\\VidTest\\plugins'\n[0ac8f670] main libvlc debug: saving plugins cache E:\\Work\\Local_WorkingCopy\\VidTest\\plugins\\plugins.dat\n[0ac8f670] main libvlc debug: plug-ins loaded: 388 modules\n[0ac8f670] main libvlc debug: translation test: code is \"C\"\n[0ac8f670] main libvlc debug: CPU has capabilities MMX MMXEXT SSE SSE2 SSE3 SSSE3 SSE4.1 SSE4.2 FPU \n[0ac8f670] main libvlc debug: looking for memcpy module: 4 candidates\n[0ac8f670] main libvlc debug: using memcpy module \"memcpymmxext\"\n[0c680ab8] main interface debug: looking for interface module: 1 candidate\n</code></pre>\n\n<p>Can someone point out the mistake in this code ?</p>\n"},{"tags":["c++","linux","qt","menu","menuitem"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12769087,"title":"How to gray out a menu item again in Qt","body":"<p>I am working with qt and have created a menu bar like \"File\" with some sub menu items \"Open\", \"Save\", \"SaveAs\", \"Close\", \"Quit\". I also created actions like \"actionNew\", \"actionOpen\", ... and so on. I used the same actions for the tool bar and disable the menu and tool bar items into the constructor with the \"disableItems()\" function, that works fine and the tool bar and menu items are gray out. If I clicked the sub menu item \"New\", the tool bar and menu items are enabled and not gray out, that also works fine, but if I clicked the sub menu item \"Close\" only the tool bar items gray out and the menu items are still enabled :(. How can i fix it? Hope you can help me and sorry for my bad English ;)</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent)\n:QMainWindow(parent), ui(new Ui::MainWindow)\n{\n  ui-&gt;setupUi(this);\n  /* disable menu items and tool bar items */\n  disableItems();\n}\nvoid MainWindow::disableItems()\n{\n  ui-&gt;actionSave-&gt;setEnabled(false);\n  ui-&gt;actionSaveAs-&gt;setEnabled(false);\n  ui-&gt;actionClose-&gt;setEnabled(false);\n}\nvoid MainWindow::enableItems()\n{\n  ui-&gt;actionSave-&gt;setEnabled(true);\n  ui-&gt;actionSaveAs-&gt;setEnabled(true);\n  ui-&gt;actionClose-&gt;setEnabled(true);\n}\nvoid MainWindow::on_actionNew_triggered()\n{\n  enableItems();\n}\nvoid MainWindow::on_actionClose_triggered()\n{\n  disableItems();\n}\n</code></pre>\n"},{"tags":["qt","mouseevent","qwidget","qlistview","qt-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12775803,"title":"Installing eventFilter on QListView for indexWidgets","body":"<p>I have a customWidgets with some components (combobox, lineEdit, labels..etc), This customWidget is added to a QListView using setIndexWidget(QModelIndex,QWidget) , My requirement is that when i click any component on the customWidget the QListView item should get selected/focused.</p>\n\n<p>How can I installEventFilter from cutomWidget to QListView, i have installed event filter for the customWidget.</p>\n\n<p>Thanks </p>\n"},{"tags":["qt","qt-creator","qjson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12774697,"title":"Using QJson library in Qt Creator under Ubuntu","body":"<p>I'm trying to use the QJson library in an application that is being created in Qt Creator .  The operating sytsem is Ubuntu 12.04 32-bit.</p>\n\n<p>I used synaptic to install libqjson0 (0.7.1-6). The libary was installed in </p>\n\n<pre><code>/usr/lib/i386-linux-gnu/libqjson.so.0\n/usr/lib/i386-linux-gnu/libqjson.so.0.7.1\n</code></pre>\n\n<p>I tried to add the library to Qt Creator by right clicking my project and selecting 'Add Library..'.  When I entered either of the 2 paths shown above, the filename was in red indicating that it wasn't correct.  I created a symlink <strong>libqjson.so</strong> that links to libqjson.so.0.7.1.  I was able to add the library now using the /usr/lib/i386-linux-gnu/libqjson.so path.</p>\n\n<p>Now for the noob question:  At the top of the app I added #include &lt;parser.h&gt;.  I get an error 'parser.h: No such file or directory.  I searched /usr/libs/i386-linux-gnu for parser.h and it didn't return any results.  Do I need to add something/ before parser.h or am I missing something else?</p>\n\n<p><strong>EDIT:</strong>  .pro file attached below</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-05T20:40:21\n#\n#-------------------------------------------------\n\nQT       += core gui\nQT       += network\n\nTARGET = zf\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        zftest.cpp \\\n    api1_6.cpp\n\nHEADERS  += zftest.h \\\n    api1_6.h\n\nFORMS    += zftest.ui\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/release/ -lqca-ossl\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/debug/ -lqca-ossl\nelse:symbian: LIBS += -lqca-ossl\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/qt4/plugins/crypto/ -lqca-ossl\n\nINCLUDEPATH += $$PWD/../../../../../../usr/lib/qt4/plugins/crypto\nDEPENDPATH += $$PWD/../../../../../../usr/lib/qt4/plugins/crypto\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/release/ -lqca\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/debug/ -lqca\nelse:symbian: LIBS += -lqca\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/ -lqca\n\nINCLUDEPATH += $$PWD/../../../../../../usr/include\nDEPENDPATH += $$PWD/../../../../../../usr/include\n\nOTHER_FILES += \\\n    README.txt\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/release/ -lqjson\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/debug/ -lqjson\nelse:symbian: LIBS += -lqjson\nelse:unix: LIBS += -L$$PWD/../../../../../../usr/lib/i386-linux-gnu/ -lqjson\n\nINCLUDEPATH += $$PWD/../../../../../../usr/lib/i386-linux-gnu\nDEPENDPATH += $$PWD/../../../../../../usr/lib/i386-linux-gnu\n</code></pre>\n"},{"tags":["c++","qt","open-source","qt-creator"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":218,"score":0,"question_id":8567073,"title":"Qt Project to implement Qt Creator's SideBar (FrancyTabBar)","body":"<p>I would like to implement the Qt's SideBar into my project:</p>\n\n<p>Did My Homework:</p>\n\n<blockquote>\n  <p>I tried searching the web, found the following websites (only 2 results after\n  many search):</p>\n  \n  <p>1- <a href=\"http://stackoverflow.com/questions/6255855/how-do-i-add-a-qtcreator-like-left-bar-to-my-program\">How do I add a QTCreator-like left bar to my program?</a></p>\n  \n  <p>I found fancytabwidget from DimanNe's answer, but I couldn't get the class to\n  work.</p>\n  \n  <p>2- <a href=\"http://groups.google.com/group/qt-project-list-interest/browse_thread/thread/666273d2d07c627f/1d3e6796b3bfe654?show_docid=1d3e6796b3bfe654&amp;pli=1\" rel=\"nofollow\">http://groups.google.com/group/qt-project-list-interest/browse_thread/thread/666273d2d07c627f/1d3e6796b3bfe654?show_docid=1d3e6796b3bfe654&amp;pli=1</a></p>\n  \n  <p>Still unanswered.</p>\n</blockquote>\n\n<p>Could someone help me out ?</p>\n\n<p>Thanks !</p>\n\n<p>MyQt : QtSDK (Latest) with QtSources 4.7.4 and QtCreator Sources.</p>\n"},{"tags":["c++","qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12776043,"title":"QJson QVariantMap to QByteArray","body":"<p>I'm using QJson to parse data returned in json format.  One of the returned items is a 80 character byte array.  The return from QJson is a QVariantMap that appears to be an array of long integers when viewed in the Qt Creator debugger.</p>\n\n<p>Is there a better way to convert the QVariantMap to a Byte array than iterating over the Map, casting each QVariant to a byte and assigning it to the byte array?</p>\n\n<pre><code>QByteArray byteArray[60];\nQVariantMap returnedMap;\nfor (int n=0; n&lt; returnedMap.count(); ++n){\n  byteArray[n] = (char)returnedMap[n];\n}\n</code></pre>\n\n<p>(Code above is for illustration, I'm not certain what the proper syntax is to cast an integer to a byte. The code above results in 'invalid cast from type 'QVariant' to type 'char')</p>\n"},{"tags":["c++","windows","qt","compilation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12773336,"title":"Easiest way to compile a Qt application on Win7 x64","body":"<p>I wrote a C++ Qt application using Netbeans and Qt SDK installed on my Win7\nSo, thing is, my windows is amd64, I compiled the application and it crashes on windows xp 32 bits.\nTo compile I am using MSYS and mingw which comes with Qt SDK.\nI used \"Dependecy Walker\" to see which dlls are beeing linked and it looks like the application is having lots of 64bits dll</p>\n\n<p>It looks like netbeans is not using any Makefile, heres the output when I click \"clean and build\"</p>\n\n<pre><code>    \"/usr/bin/make\" -f nbproject/Makefile-Release.mk QMAKE=/C/QtSDK/Desktop/Qt/4.8.0/mingw/bin/qmake.exe SUBPROJECTS= .build-conf\n    make[1]: Entering directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    /C/QtSDK/Desktop/Qt/4.8.0/mingw/bin/qmake.exe VPATH=. -spec win32-g++ -o qttmp-Release.mk nbproject/qt-Release.pro\n    mv -f qttmp-Release.mk nbproject/qt-Release.mk\n    \"/usr/bin/make\" -f nbproject/qt-Release.mk dist/Release/MinGW-Windows/RadioMovie4.exe\n    make[2]: Entering directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaPasta.o LogicaPasta.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/main.o main.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/MyThread.o MyThread.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -\n\n...same thing here\n\nWindows/TelaConfigurarTelas.o TelaConfigurarTelas.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -\n\n...same thing here\n\nWindows/LogicaMusica.o LogicaMusica.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/MyVideoWidget.o MyVideoWidget.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' \n\n...same thing here\n\nWindows/Configuracao.o Configuracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/PastaBase.o PastaBase.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaVideoController.o TelaVideoController.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/RssLabel.o RssLabel.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ProgComercialWrapper.o ProgComercialWrapper.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaVideo.o TelaVideo.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaConfiguracao.o TelaConfiguracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/BaseWrapper.o BaseWrapper.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/TelaPrincipal.o TelaPrincipal.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ItemDeProgramada.o ItemDeProgramada.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaHorarioSeqProg.o LogicaHorarioSeqProg.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaCampanha.o LogicaCampanha.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LeitorRss.o LeitorRss.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaSequenciaProgramada.o LogicaSequenciaProgramada.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/LogicaSequenciaPadrao.o LogicaSequenciaPadrao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/ProgMusicalWrapper.o ProgMusicalWrapper.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 MyVideoWidget.h -o moc_MyVideoWidget.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_MyVideoWidget.o moc_MyVideoWidget.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 RssLabel.h -o moc_RssLabel.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_RssLabel.o moc_RssLabel.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 LeitorRss.h -o moc_LeitorRss.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_LeitorRss.o moc_LeitorRss.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaVideoController.h -o moc_TelaVideoController.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaVideoController.o moc_TelaVideoController.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaPrincipal.h -o moc_TelaPrincipal.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaPrincipal.o moc_TelaPrincipal.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaVideo.h -o moc_TelaVideo.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaVideo.o moc_TelaVideo.cpp\n    C:/QtSDK/Desktop/Qt/4.8.0/mingw/bin/moc.exe -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -D__GNUC__ -DWIN32 TelaConfiguracao.h -o moc_TelaConfiguracao.cpp\n    g++.exe -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtCore' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtNetwork' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/QtGui' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/ActiveQt' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/include/phonon_compat' -I'.' -I'nbproject' -I'.' -I'c:/QtSDK/Desktop/Qt/4.8.0/mingw/mkspecs/win32-g++' -o build/Release/MinGW-Windows/moc_TelaConfiguracao.o moc_TelaConfiguracao.cpp\n    windres -i RadioMovie4_resource.rc -o build/Release/MinGW-Windows/RadioMovie4_resource_res.o --include-dir=. -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_PHONON_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_THREAD_SUPPORT -DQT_NEEDS_QMAIN\n    g++ -Wl,-s -mthreads -Wl,-subsystem,windows -o dist/Release/MinGW-Windows/RadioMovie4.exe object_script.RadioMovie4  -L'c:/QtSDK/Desktop/Qt/4.8.0/mingw/lib' -lmingw32 -lqtmain build/Release/MinGW-Windows/RadioMovie4_resource_res.o -lphonon4 -lQtGui4 -lQtNetwork4 -lQtCore4 \n    make[2]: Leaving directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n    make[1]: Leaving directory `/c/Users/Fred/Documents/NetBeansProjects/RadioMovie4'\n\n\n    BUILD SUCCESSFUL (time:  30s)\n</code></pre>\n\n<p>I want to make my application 32 bit and get it running on windows XP and win 7 32 and 64 bit. Do I need to recompile Qt ? If so how can I do that?\nOr I can use those dll that came with the QtSDK</p>\n\n<p>PS: I could use both static and dynamic linkage</p>\n\n<p>Thanks</p>\n"},{"tags":["c++","ajax","qt","dom","signals-slots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":10053753,"title":"Qt Which signal is emitted when the DOM changed due to ajax","body":"<p>In QWebView, which signal is emitted while the DOM stucture of the page changes? For example ajax form can generate new DOM elements on the existing page without reloading the URL or something else. </p>\n"},{"tags":["qt","networking","webkit","timeout","qtwebkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12334560,"title":"Qt QWebView network timeout values and signals","body":"<p>How can a <code>QWebView</code> be configured to lower network timeout values - so that in the event of the network failure the <code>loadFinished(bool ok)</code> signal can be reached sooner, obviously, with a <code>false</code> value and an appropriate error condition set?</p>\n\n<p>Bonus points for handling different timeouts differently</p>\n"},{"tags":["qt","qprocess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12770640,"title":"QProcess::waitForReadyRead for stderr?","body":"<p>Does <code>QProcess::waitForReadyRead</code> return when there is data in the process's stderr, or does it wait only on stdout? How can I wait for data on stderr without using signals and slots?</p>\n"},{"tags":["qt","loops"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":6521,"score":1,"question_id":3831439,"title":"Qt:how to give a delay in loop execution","body":"<p>In my application I want that when a loop is being executed,each time the control transfers to the loop,each execution must be delayed with a particular time.Can anyone tell me how can i do this?</p>\n\n<p>Thank you.</p>\n"},{"tags":["qt","qtreeview","qfilesystemmodel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":393,"score":1,"question_id":9589530,"title":"How to show only folders with specific files using QTreeView and QFileSystemModel?","body":"<p>I have a problem filtering specific folder using QTreeView and QFileSystemModel. </p>\n\n<p>I set my root QFileSystemModel to a specific folder - this works. But I want to show just folders that contain <code>.jpg</code> files. Is this possible?</p>\n\n<p>I filter <code>.jpg</code> files and that works, but my QTreeView shows all folders, even those that do not have <code>.jpg</code> files. So if the user tries to open some folder without <code>.jpg</code> files, nothing happens.</p>\n\n<p>How can I hide those folders?</p>\n\n<p>Note: below there are part of the code.</p>\n\n<pre><code>QStringList filterTypeFile;\nfilterTypeFile.append(\"*.jpg\");\nthis-&gt;m_pModelTreeViewImage-&gt;setNameFilters(filterTypeFile);\nthis-&gt;m_pModelTreeViewImage-&gt;setNameFilterDisables(false);\n\nthis-&gt;ui-&gt;treeViewImages-&gt;setModel(this-&gt;m_pModelTreeViewImage);\n</code></pre>\n"},{"tags":["python","html","qt","qtextedit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12768542,"title":"Parse and Display HTML in a QTextEdit widget","body":"<p>I have a non-editable QTextEdit Widget in one of my apps. Basend on the selection of a combobox i want to display additional informations.</p>\n\n<p>My current approach is to load HTML files from a directory and display them in the QTextEdit-Field. This sounds easy (with the functions setHtml or insertHtml), but somehow doesn't work as straight forward as i thought. I believe i have to parse or load in the file first. How can i continue?</p>\n\n<pre><code>h = (helpdir + str + \".html\") # contains the helpfiles path (Format QString)\n# Load in HTML?\ntextfield.insertHtml(h) # Should somehow insert the html\n</code></pre>\n\n<p>Other approaches (especially in the light of a future translation of the help), which are easy to implement, are welcome. I would favor any solution without additional libraries or non base packages.</p>\n"},{"tags":["qt","drawing","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12768667,"title":"Qt - drawing after receiving signal","body":"<p>I have a simple application, that consists of one line edit, where user writes an answer and a confirmation button. If the answer was correct, I'd like to draw a simple figure (green / red circle for example). I have three source files - main, form (here I connect the signal from button with answer from lineedit and determine if answer is correct) and figureWidget, where i'd like to draw my figure. My problem is, that I can't find out how to connect the signal from \"form\" with my figureWidget (especially what with what and where :-) ) Any hints?\nfile form.cpp:</p>\n\n<pre><code>#include &lt;QtCore&gt;\n#include \"ui_untitled.h\"\n#include \"Form.h\"\n#include \"figureWidget.h\"\n\nForm::Form(QWidget * parent, Qt::WindowFlags f) : QWidget ( parent,f ) {\n   ui.setupUi(this);\n\nconnect(ui.pushButton, SIGNAL(buttonPressed()), this, SLOT(checkAnswer()))\n //this checks if answer is correct after pushing button\nconnect(this,SIGNAL(correctness(QString)),ui.figureWidget, SLOT(drawFigure(QString)));\n  //I expect signal from this class (here I check the answer), and draw the circle in figureWidget\n}\n\nvoid Form::checkAnswer() {\n if (ui.lineEdit == \"1\") emit correctness(QString(\"right\");\n  else emit correctness(QString(\"false\") \n  }\n</code></pre>\n\n<p>then I have the figureWidget.cpp:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;iostream&gt;\n#include \"figureWidget.h\"\nfigureWidget::figureWidget(QWidget* parent) : QWidget(parent) {\n}\n\nfigureWidget::~figureWidget() {\n}\n\nvoid figureWidget::drawFigure(QString newVal) {\n if (newVal == correctVal) \n     update();\n}\n\nvoid figureWidget::paintEvent(QPaintEvent* ) {\n   QPainter painter(this);\n   painter.setPen(QRgb(0x0000ff00));\n   painter.drawEllipse(0, 0, 10, 10);\n} \n</code></pre>\n\n<p>in debug i get:\nNo such slot QWidget::drawFigure(QString) in ...</p>\n"},{"tags":["qt","qwebview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12546310,"title":"QWebView: how to load web page without images?","body":"<p>How to prevent QWebView from loading images (for traffic saving reasons)?</p>\n"},{"tags":["c++","qt","object"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12767635,"title":"Why object be deleted without obvious code?","body":"<p>In qt, I use tablewidget to store 100 rows. At first, I new tableWidgetItems to fill the rows.\nAs it runs, I set the items' propertities and no longer 'new'.\nBut I find after I use <em>'ui->tableWidget->setRowCount(index);'</em>, and later set back to 100, the code <em>\"ui->tableWidget->item(index, 0)->setText(...);\"</em> will crash the program. That's so bad!!! ;(\nI debugged and find the new index > index set as row count before 'setting back to 100'.</p>\n\n<p><strong>Did the system delete the table items automatically when I set smaller row count???</strong></p>\n\n<p>I fear about this so much because even my code cannot determine the lifetime of the objects I created... Does anyone know how to keep them 'alive' after setting row count?(otherwise, I have to new them...).\nI really appreciate it you take the patience to read my poor ELis:)</p>\n\n<p>new:</p>\n\n<pre><code>//TABLE\n    ui-&gt;tableWidget-&gt;setColumnCount(3);\n    ui-&gt;tableWidget-&gt;setRowCount(100);\n    ui-&gt;tableWidget-&gt;setHorizontalHeaderLabels(headers);\n\n    for(int i = 0; i &lt; 100; i++)//new\n    {\n        ui-&gt;tableWidget-&gt;setItem( i, 0 , new QTableWidgetItem(\"\"));//time\n        ui-&gt;tableWidget-&gt;setItem( i, 1 , new QTableWidgetItem(\"\"));//name\n        ui-&gt;tableWidget-&gt;setItem( i, 2 , new QTableWidgetItem(\"\"));//BITS\n    }\n</code></pre>\n\n<hr>\n\n<p>Related code lines only:</p>\n\n<pre><code>   {\n    int  index = 0;\n    for(int queue_i = size_1; queue_i &gt;= 0; queue_i--)\n    {\n\n\n        if(logDisplayQueue.at(queue_i).at(3) == \"0\" ||   logDisplayQueue.at(queue_i).at(3) == \"2\")continue;\n\n\n        QStringList BITList = bits2Hexs(queue_i);\n\n\n     ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logDisplayQueue.at(queue_i).at(0));//time\n     ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logDisplayQueue.at(queue_i).at(1));//name\n     ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITList.join(\"\"));//BITS\n\n        if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        index++;\n    }\n\n        ui-&gt;tableWidget-&gt;setRowCount(index);//set row count to be 30 more or less\n    }\n</code></pre>\n\n<p>Another function:</p>\n\n<pre><code>    {\n\n        ui-&gt;tableWidget-&gt;setRowCount(100);//back to be 100 again\n\n\n        for(int queue_i = size_1, index = 0; queue_i &gt;= 0; queue_i--, index++)\n        {\n\n            QStringList BITList = bits2Hexs(queue_i);\n     ui-&gt;tableWidget-&gt;item(index, 0)-&gt;setText(logDisplayQueue.at(queue_i).at(0));//time\n     ui-&gt;tableWidget-&gt;item(index, 1)-&gt;setText(logDisplayQueue.at(queue_i).at(1));//name\n     ui-&gt;tableWidget-&gt;item(index, 2)-&gt;setText(BITList.join(\"\"));//BITS\n//In debugging, when index reches the value of old row-count, \"-&gt;setText\" crashes the    //program.\n\n\n            if(queue_i == oldRowItemNo)ui-&gt;tableWidget-&gt;selectRow(index);\n        }\n\n    }\n</code></pre>\n\n<p><em>When running, it returns message like 'instruction 0x00421727 refers to 0x00000000 memory, the memory cannot be 'read''</em></p>\n\n<p><strong>if I comment off this line:\n'ui->tableWidget->setRowCount(index);//set row count to be 30 more or less', it runs well without crash and rows after index-referred-row show the same data as before.</strong></p>\n"},{"tags":["python","qt","layout","printing","gpl"],"answer_count":8,"favorite_count":7,"up_vote_count":11,"down_vote_count":1,"view_count":2419,"score":10,"question_id":458340,"title":"Is there a better layout language than HTML for printing?","body":"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>\n\n<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>\n\n<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>\n"},{"tags":["c++","qt","qtreeview","qfilesystemmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12744739,"title":"Qt proxy model usage example","body":"<p>I am using a Qt 4's <code>QFileSystemModel</code> and <code>QTreeView</code>. I am writing a Windows Explorer like file manager, and want to make a tree more similar to  Windows', where tree consist some shortcut paths like Desktop, My Documents.\nThe only thing I want is to make a tree look like this:</p>\n\n<ul>\n<li>My Computer\n<ul>\n<li>Desktop</li>\n<li>My Documents</li>\n<li>C:\\</li>\n<li>D:\\</li>\n<li>...</li>\n</ul></li>\n</ul>\n\n<p>I heard that it can be achieved with <code>QAbstractProxyModel</code>.\nHave any one used the <code>QAbstractProxyModel</code> and get it working? If yes please provide any appropriate example. Thanks in advance.</p>\n\n<p><strong>This question is the same as <a href=\"http://stackoverflow.com/questions/8885817/how-to-add-custom-row-in-qfilesystemmodel\">How to add custom row in QFileSystemModel?</a></strong></p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12767512,"title":"QT: 'Expected Primary Expression Before ')' Token when Changing Property?","body":"<p>I'm using QT with C++ using QT Creator. I have a QGraphicsView in my window named 'render' and I wish to set its scene programatically. In window.cpp:</p>\n\n<pre><code>QGraphicsScene* scene = new QGraphicsScene();\nui-&gt;render-&gt;scene(scene*);\n</code></pre>\n\n<p>I have included QtGui and QGraphicsView. </p>\n\n<p>When I attempt to compile the program I get: </p>\n\n<pre><code>error: expected primary-expression before ')' token\n</code></pre>\n\n<p>Does anybody have any advice with regards to this issue?</p>\n\n<p>Regards,\nBen.</p>\n"},{"tags":["qt","exception","memory","delete","crash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12764851,"title":"Qt : crash due to delete (trying to handle exceptions...)","body":"<p>I am writing a program with Qt, and I would like it to show a dialog box with a Exit | Restart choice whenever an error is thrown somewhere in the code.</p>\n\n<p>What I did causes a crash and I really can't figure out why it happens, I was hoping you could help me understanding what's going on.</p>\n\n<p>Here's my <code>main.cpp:</code></p>\n\n<pre><code>#include \"my_application.hpp\"\n\nint main(int argc, char *argv[])\n{\n    std::cout &lt;&lt; std::endl;\n\n    My_Application app(argc, argv);\n\n    return app.exec();\n}\n</code></pre>\n\n<p>And here's <code>my_application:hpp</code>:</p>\n\n<pre><code>#ifndef MY_APPLICATION_HPP\n#define MY_APPLICATION_HPP\n\n#include &lt;QApplication&gt;\n\nclass Window;\n\nclass My_Application : public QApplication\n{\npublic:\n    My_Application(int&amp; argc, char ** argv);\n    virtual ~My_Application();\n\n    virtual bool notify(QObject * receiver, QEvent * event);\n\nprivate:\n    Window *window_;\n\n    void exit();\n    void restart();\n};\n\n#endif // MY_APPLICATION_HPP\n</code></pre>\n\n<p>Finally, here's <code>my_application.cpp</code>:</p>\n\n<pre><code>#include \"my_application.hpp\"\n#include \"window.hpp\"\n\n#include &lt;QMessageBox&gt;\n\nMy_Application::My_Application(int&amp; argc, char ** argv) : QApplication(argc, argv)\n{\n    window_ = new Window;\n    window_-&gt;setAttribute(Qt::WA_DeleteOnClose, false);\n    window_-&gt;show();\n}\n\nMy_Application::~My_Application()\n{\n    delete window_;\n}\n\nbool My_Application::notify(QObject * receiver, QEvent * event)\n{\n    try\n    {\n        return QApplication::notify(receiver, event);\n    }\n    catch(QString error_message)\n    {\n        window_-&gt;setEnabled(false);\n\n        QMessageBox message_box;\n        message_box.setWindowTitle(\"Error\");\n        message_box.setIcon(QMessageBox::Critical);\n        message_box.setText(\"The program caught an unexpected error:\");\n        message_box.setInformativeText(\"What do you want to do? &lt;br&gt;\");\n\n        QPushButton *restart_button = message_box.addButton(tr(\"Restart\"), QMessageBox::RejectRole);\n        QPushButton *exit_button = message_box.addButton(tr(\"Exit\"), QMessageBox::RejectRole);\n\n        message_box.setDefaultButton(restart_button);\n\n        message_box.exec();\n\n        if ((QPushButton *) message_box.clickedButton() == exit_button)\n        {\n            exit();\n        }\n        else if ((QPushButton *) message_box.clickedButton() == restart_button)\n        {\n            restart();\n        }\n\n    }\n    return false;\n}\n\n\nvoid My_Application::exit()\n{\n    window_-&gt;close();\n    //delete window_;\n\n    return;\n}\n\nvoid My_Application::restart()\n{\n    window_-&gt;close();\n    //delete window_;\n\n    window_ = new Window;\n    window_-&gt;show();\n    return;\n}\n</code></pre>\n\n<p>Note that the line <code>window_-&gt;setAttribute(Qt::WA_DeleteOnClose, false);</code> means that <code>window_</code> (my main window) won't be deleted when it is closed.</p>\n\n<p>The code I've written above works, but as far as I understand, there's a memory leak: I should uncomment the line <code>//delete window_;</code> in <code>My_Application::exit()</code> and <code>My_Application::restart()</code>. But when I do that, the program crashes when I click restart (or exit but who cares).</p>\n\n<p>(I'm not sure this is useful, in fact it might be misleading, but here's what my debugger tells me: a segmentation fault occurs in <code>QWidgetPrivate::PaintOnScreen() const</code> which is called by a function called by a function... called by <code>My_Application::notify()</code>)</p>\n\n<p>When I do some <code>std::cout</code>s, I notice that the program runs through the entire <code>restart()</code> function and in fact through the entire <code>notify()</code> function before it crashes.</p>\n\n<p>I have no idea why it crashes. Thanks in advance for your insights!</p>\n\n<p><strong>Update:</strong></p>\n\n<ol>\n<li>I've noticed that <code>My_Application::notify()</code> is called very often. For example, it is called a bunch of times while the error dialog box is open, also <em>during the execution of the restart function</em>.</li>\n<li>The crash actually occurs in the subfunction <code>QApplication::notify(receiver, event)</code>. This is not too surprising in light of the previous remark (the receiver has probably been deleted)</li>\n<li>But even if I forbid the function <code>My_Application::notify()</code> to do anything while <code>restart()</code> is executed, it still crashes (after having called <code>My_Application::notify()</code> a bunch of times, like 15 times, isn't that weird)?</li>\n</ol>\n\n<p>How should I proceed? Maybe I should say (to make the question slightly more relevant) that my class <code>My_Application</code> also has a \"restore\" function, which I've not copied here to try to keep things short. If I just had that restart feature I wouldn't bother too much, but I do want to have that restore feature. I should also say that if I keep the code with the \"delete window_\" commented, the problem is not only a memory leak, it still crashes sometimes apparently. There must surely be a way to fix this! But I'm clueless, I'd really appreciate some help! Thanks in advance.</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12766943,"title":"Multiple Threads, one at a time read/write ","body":"<p>There are two <code>QFile-pointer</code> pointing to the same file, they belong different threads. One writes data to the file, the other reads. But I want to have only one operation going on, read or write.</p>\n\n<pre><code>if(!this-&gt;file-&gt;exists()) {\n   qDebug()&lt;&lt;\"The file is not exists\";\n}\nif(this-&gt;file-&gt;isOpen()) {\n   qDebug()&lt;&lt;\"The file is open\";\n}\n</code></pre>\n\n<p>Let me put it another way: how to check whether the file in opened?</p>\n\n<p>I test <code>file.isOpen()</code>? It doesn't work. How can I do that?</p>\n"},{"tags":["python","qt","webkit","spynner"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":12765394,"title":"Segfault using nativeClickAt() method in spynner module","body":"<p>I'm not sure how to use <code>nativeClickAt()</code> method to click at an arbitrar location.</p>\n\n<p>In the <a href=\"https://github.com/makinacorpus/spynner/blob/master/src/spynner/browser.py\" rel=\"nofollow\">spynner class</a>, the doc said :</p>\n\n<pre><code>\"\"\"Click on an arbitrar location of the browser.\n@param where: where to click (QPoint)\n@param real: if not true coordinates are relative to the window instead\n    of the screen\n@timeout seconds: seconds to wait after click\"\"\"\n</code></pre>\n\n<p>I have had searched <a href=\"http://qt-project.org/doc/qt-4.8/qpoint.html#QPoint-2\" rel=\"nofollow\">QT doc</a> to figure out what is a <code>QPoint</code> object. So it seems to be x, y coordinates.</p>\n\n<p>What I tried so far :</p>\n\n<pre><code>import spynner\nfrom PyQt4 import QtCore\n\nbrowser = spynner.Browser(\n    embed_jquery = True,\n    debug_level = spynner.DEBUG\n)\n\n(...)\n\nplace = QtCore.QPoint(311,443)\nprint place # PyQt4.QtCore.QPoint(311, 443)\nbrowser.nativeClickAt(place, 3, real=True)\n</code></pre>\n\n<p>But when I run the script, <strong>I get a segfault error</strong>.</p>\n\n<p>Any help will be very appreciate.</p>\n"},{"tags":["c++","qt","graphics","visualization","directed-acyclic-graphs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":454,"score":0,"question_id":5023412,"title":"Visualize (directed) graphs with Qt","body":"<p>Are there widgets, libraries to visualize directed graphs of graphs in general with Qt? I want to build them in real time, while inspecting the JVM or is input/output with Graphviz the way to do?</p>\n"},{"tags":["qt","qtembedded"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12766279,"title":"Qt embedded and ARM 7 target","body":"<p>I am using Laptop UBUNTU 11.04 system for QT development. I have downloaded, configure, make and install Qt-everywhere version. </p>\n\n<p>How can i make the project in my laptop and deploy the same file in the ARM based board?</p>\n\n<p>QT is already installed in ARM7 board.</p>\n\n<p>Thanks,</p>\n\n<p>Prasad</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12717285,"title":"Why should we always derive from a base class in Qt?","body":"<p>While we use Qt, we always derive a new class from the Qt Classes and make an instance of our new class. For example, in order to use the QMainWindow class, we derive a new class from the QMainWindow for example called MW and make an instance from the MW.</p>\n\n<p>My question is why don't we make an instance from the base class, from QMainWindow in this situation?</p>\n"},{"tags":["c++","qt","qnetworkaccessmanager"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12764214,"title":"QNetworkAccessManager Memory Leakage","body":"<p>I am having some trouble with memory leaks while using the QNetworkAccessManager (using Qt). The more requests I call, the more memory is allocated. This makes sense, but not to me with the way I do it. I call, let's say 16 requests, and then once the network reply is hit 16 times, I call the next 16. With this method, wouldn't this regulate memory fine? For some reason it is not, and the memory increases steadily as more are called. Could having this in a thread be affecting this?</p>\n\n<p>Header:</p>\n\n<pre><code>#include &lt;QThread&gt;\n#include &lt;QtNetwork/QNetworkAccessManager&gt;\n#include &lt;QtNetwork/QNetworkRequest&gt;\n#include &lt;QtNetwork/QNetworkReply&gt;\n#include &lt;QSemaphore&gt;\n#include &lt;QPixmap&gt;\n#include &lt;QMutex&gt;\n#include &lt;QDebug&gt;\n\n#include \"winnames.h\"\n\n#define MAX_REQUEST_COUNT 16\n\nclass Downloader : public QThread\n{\n    Q_OBJECT\npublic:\n    explicit Downloader(QObject *parent = 0);\n    void start(Priority = InheritPriority);\n\nsignals:\n    void PictureDownloaded(QPixmap picture, QString id);\n\npublic slots:\n    void networkReply(QNetworkReply*);\n\nprivate:\n    void startDownloads();\n\n    QString titleID;\n    QNetworkAccessManager *manager;\n\n    int amount;\n};\n</code></pre>\n\n<p>CPP:</p>\n\n<pre><code>#include \"downloader.h\"\n\nDownloader::Downloader(QObject *parent) : QThread(parent)\n{\n    manager = new QNetworkAccessManager(this);\n    connect(manager, SIGNAL(finished(QNetworkReply*)), this, SLOT(networkReply(QNetworkReply*)));\n}\nvoid Downloader::start(Priority p)\n{\n    amount = 0;\n    titleID = \"50\";\n    startDownloads();\n}\n\nvoid Downloader::startDownloads()\n{\n    const int searchValues[] = {0, 0x400, 0x1000, 0x8000, 0xFFFF};\n    for (int x = 0; x &lt; 4; x++)\n    {\n        int num = searchValues[x] + amount;\n        if (num &gt;= searchValues[x + 1])\n            continue;\n\n        for (int i = 0; i &lt; MAX_REQUEST_COUNT; i++)\n            manager-&gt;get(QNetworkRequest(QUrl(\"http://my.url/\" + titleID.toUpper() + \"/someDir/\" + QString(\"%1\").arg(num + i, 4, 16, QChar('0')).toUpper())));\n    }\n}\n\nvoid Downloader::networkReply(QNetworkReply *reply)\n{\n    if (reply-&gt;bytesAvailable() != 0)\n    {\n        QPixmap pixmap;\n        pixmap.loadFromData(reply-&gt;readAll(), \"PNG\");\n        if (!pixmap.isNull())\n            emit PictureDownloaded(pixmap, titleID + reply-&gt;url().toString().mid(reply-&gt;url().toString().length() - 4));\n    }\n    reply-&gt;deleteLater();\n    reply-&gt;close();\n\n    QMutex m;\n    m.lock();\n\n    if (amount++ != 0 &amp;&amp; amount % MAX_REQUEST_COUNT == 0)\n        startDownloads();\n\n    m.unlock();\n}\n</code></pre>\n\n<p>Any idea? Thanks!</p>\n"},{"tags":["qt","qml","qstring"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12758282,"title":"What is the equivalence for QString::arg() in QML","body":"<p>I'm wondering How I can have a string in QML that will be occupied with some arguments? Some thing like this in Qt:</p>\n\n<pre><code>QString str(\"%1 %2\");\nstr = str.arg(\"Number\").arg(12);//str = \"Number 12\"\n</code></pre>\n"},{"tags":["ruby","qt","qt4","qt4.8","qtruby"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12762481,"title":"QtRuby painting crashing on Windows but not Linux","body":"<p>I'm new to QT and am having crashes on Windows 7 x64 when trying to create custom paint events.  I'm using Ruby 1.9.3p125 and qtbindings-4.8.3.0-x86-mingw32.  This crash does not show up when on my work machine, Redhat Linux using Ruby 1.9.2p180 and qtbindings-4.6.3.4</p>\n\n<p>I originally ran into this problem when following the IconEditor example from \"C++ Gui Programming with QT 4\" (ported to Ruby) but have simplified the issue in the below example.</p>\n\n<p>This example code creates a timer to draw a simple line in a sub-classed QWidget repeatedly.  On Windows, the paintEvent fires ~440 times before Ruby gives a segmentation violation.  Here's the code:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nrequire 'Qt'\n\nclass Painter &lt; Qt::Widget\n  slots :startTimer\n\n  def initialize(parent=nil)\n    super(parent)\n    setAttribute Qt::WA_StaticContents\n    setSizePolicy(Qt::SizePolicy::Minimum, Qt::SizePolicy::Minimum)\n\n    @counter = 0\n    @timer = Qt::Timer.new(self)\n    connect(@timer, SIGNAL('timeout()'), self, SLOT(:startTimer))\n    startTimer\n  end\n\n  def sizeHint\n    Qt::Size.new(200,200)\n  end\n\n  def paintEvent(event)\n    puts \"DEBUG: paintEvent #{@counter += 1} #{event.inspect}\"\n    painter = Qt::Painter.new(self)\n    painter.setPen(palette.foreground.color)\n    painter.drawLine(0, 0, 200, 200)\n  end\n\n  def startTimer\n    @timer.start(5)\n    update\n  end\n\nend\n\n\napp = Qt::Application.new(ARGV)\npainter = Painter.new\npainter.show\napp.exec\n</code></pre>\n\n<p>Here is the backtrace:</p>\n\n<pre><code>DEBUG: paintEvent 440 #&lt;Qt::PaintEvent:0x3328938&gt;\nDEBUG: paintEvent 441 #&lt;Qt::PaintEvent:0x3327de0&gt;\nDEBUG: paintEvent 442 #&lt;Qt::PaintEvent:0x3327420&gt;\nDEBUG: paintEvent 443 #&lt;Qt::PaintEvent:0x3326928&gt;\n./main.rb:27: [BUG] Segmentation fault\nruby 1.9.3p125 (2012-02-16) [i386-mingw32]\n\n-- Control frame information -----------------------------------------------\nc:0008 p:---- s:0024 b:0024 l:000023 d:000023 CFUNC  :method_missing\nc:0007 p:0107 s:0022 b:0022 l:000021 d:000021 METHOD ./main.rb:27\nc:0006 p:---- s:0017 b:0017 l:000016 d:000016 FINISH\nc:0005 p:---- s:0015 b:0015 l:000014 d:000014 CFUNC  :method_missing\nc:0004 p:0013 s:0011 b:0011 l:000010 d:000010 METHOD C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469\nc:0003 p:0098 s:0008 b:0008 l:001aec d:0023bc EVAL   ./main.rb:41\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:001aec d:001aec TOP\n\n-- Ruby level backtrace information ----------------------------------------\n./main.rb:41:in `&lt;main&gt;'\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469:in `exec'\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb:469:in `method_missing'\n./main.rb:27:in `paintEvent'\n./main.rb:27:in `method_missing'\n\n-- C level backtrace information -------------------------------------------\nC:\\Windows\\SysWOW64\\ntdll.dll(ZwWaitForSingleObject+0x15) [0x77d5f8b1]\nC:\\Windows\\syswow64\\kernel32.dll(WaitForSingleObjectEx+0x43) [0x76c01194]\nC:\\Windows\\syswow64\\kernel32.dll(WaitForSingleObject+0x12) [0x76c01148]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_vm_bugreport+0xf9) [0x62e5c61d]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_name_err_mesg_new+0x17a) [0x62d3a6fa]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_bug+0x2f) [0x62d3b45b]\nC:\\Ruby193\\bin\\msvcrt-ruby191.dll(rb_check_safe_str+0x1a4) [0x62dee1a0]\n [0x004011e6]\nC:\\Windows\\syswow64\\kernel32.dll(GetProfileStringW+0x12aa3) [0x76c4003f]\nC:\\Windows\\SysWOW64\\ntdll.dll(RtlKnownExceptionFilter+0xb7) [0x77db74df]\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: ./main.rb\n\n* Loaded features:\n\n    0 enumerator.so\n    1 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/encdb.so\n    2 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/iso_8859_1.so\n    3 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/transdb.so\n    4 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/defaults.rb\n    5 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/rbconfig.rb\n    6 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/deprecate.rb\n    7 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/exceptions.rb\n    8 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/defaults/operating_system.rb\n    9 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb\n   10 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems.rb\n   11 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/version.rb\n   12 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/requirement.rb\n   13 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/platform.rb\n   14 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/specification.rb\n   15 C:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/path_support.rb\n   16 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt/qtruby4.rb\n   17 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/1.9/qtruby4.so\n   18 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt4.rb\n   19 C:/Ruby193/lib/ruby/gems/1.9.1/gems/qtbindings-4.8.3.0-x86-mingw32/lib/Qt.rb\n   20 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/utf_16le.so\n   21 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/single_byte.so\n   22 C:/Ruby193/lib/ruby/1.9.1/i386-mingw32/enc/trans/utf_16_32.so\n</code></pre>\n\n<p><strong>Edit::</strong>\nNothing like answering your own question...</p>\n\n<p>The paintEvent class needs to include a \"painter.end\" statement.  I can't find documentation of this but it is in the examples included with qtbindings and I just missed it.  No doubt this calls the QPainter object destructor to prevent memory leaks from crashing the program.  </p>\n\n<p>Here's the corrected code:</p>\n\n<pre><code>def paintEvent(event)\n  puts \"DEBUG: paintEvent #{@counter += 1} #{event.inspect}\"\n  painter = Qt::Painter.new(self)\n  painter.setPen(palette.foreground.color)\n  painter.drawLine(0, 0, 200, 200)\n  painter.end\nend\n</code></pre>\n"},{"tags":["c++","qt","qwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":148,"score":0,"question_id":12735734,"title":"Real Time Data Plotting With Qt, QWT and C++","body":"<p>I'm compelety new to Qt,QWT and have a basic knowledge in C++.</p>\n\n<p>According to the project that i got, i have to acquire some data given by the sensors on a caravan, like solar panel voltage and current, the temperature,humidity and so on. All these datas are acquired by some sensors and collected by a NI 6229 DAQ Device.</p>\n\n<p>Until now, i just gave the sidelights. Now i'm coming to the real problem.</p>\n\n<p>I want to acquire the datas that came from the DAQ device and show,plot,record and log in a program.</p>\n\n<p>I've decided to use C++, Qt and QWT. And the NIDAQMX API for acquiring the data from the DAQ device of course.</p>\n\n<p>I've already designed a GUI partly, but the point where i stuck is the real working part of my code.</p>\n\n<p>I don't know how to implement all these stuff with taking the performance criterias into account and i really need a guide.</p>\n\n<p>How should i handle data acquisition ?</p>\n\n<p>How should i plot the datas that i acquire ?</p>\n\n<p>Are these need to be seperated by different threads or some another structure ?</p>\n\n<p>Does collecting almost 10 or 12 channels data and plotting it in real time cause reasonable performance problems ? If so, how can i handle it ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt","static","compilation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12762407,"title":"Qt - Static Linking fail after so many attempts","body":"<p>I've been trying to do a static linking for Qt for several weeks but I just keep on failing. I followed alot of articles and steps but none of them worked out for me. I downloaded the latest Qt SDK and the msvc2010 library for the command prompt. What am I doing wrong? </p>\n\n<p>In my Qt Creator, my compiler is set to release msvc2010 and I did \"configure -platform win32-msvc2010\" in the Qt Command Prompt and then the nmake. But that didn't work. I set it to MingW and tried, but still failed. Please help me! If you need any information, just ask for it.</p>\n"},{"tags":["qt","webview","keypress","qml","simulate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12761848,"title":"Simulating Esc key press and QML WebView","body":"<p>I'd like to simulate the press of Esc key on the web view. But I can't find any way out. I thought about using QKeyEvent, and QApplication::postEvent, but I can't find any way to implement it</p>\n\n<p>Thanks in advance</p>\n\n<p>Marcin</p>\n"},{"tags":["c++","qt","directory","subdirectories","qfilesystemwatcher"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12759131,"title":"QFileSystemWatcher::addPath recursively","body":"<p>Hi all I want to use <code>QFileSystemWatcher</code> to watch changes of a given directory and its subdirectory recursively, but <code>void QFileSystemWatcher::addPath ( const QString &amp; path )</code> didn't let me do it so is there any idea to do it easily or I should implement it by my self (extract all directories and subdirectories and files under to added with <code>void QFileSystemWatcher::addPaths ( const QStringList &amp; paths )</code>)?</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["qt","download"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":351,"score":0,"question_id":12682485,"title":"Downloading Qt 4.8.3","body":"<p>I haven't used Qt for months. But now when i want to download the latest version, I can't find the download for the last version in Qt project website there is only Qt SDK with version 4.8.1 but in the commercial version website there is 4.8.3.</p>\n\n<p>so where can I download Qt SDK with Qt 4.8.3 for linux (ubuntu) ? please</p>\n\n<hr>\n\n<p>I have installed the SQK with apt-get i just, and i downloaded Qt 4.8.3. what i need now is the instruction to compile it with MySQL plugins.\nthere is a file in the download that points to the old qt.nokia.com website so i can't find these instructions.</p>\n"},{"tags":["qt","qt4"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":1112,"score":5,"question_id":3906964,"title":"Qt QWebView class custom User-Agent","body":"<p>Is there an easy way to setup the User-Agent the QWebView class is using? </p>\n\n<p>The only relevant link I found searching was this</p>\n\n<p><a href=\"http://www.qtforum.org/article/27073/how-to-set-user-agent-in-qwebview.html\">http://www.qtforum.org/article/27073/how-to-set-user-agent-in-qwebview.html</a> </p>\n\n<p>I'm learning C++/Qt right now and I don't really understant what's explained on that website. Maybe someone knows an easy way to do it? Or can help me understand that code?</p>\n"},{"tags":["xml","qt","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12749976,"title":"QDomDocument and QCryptographicHash issues","body":"<p>am using <code>QCryptographicHash</code> to hash a pass and save it in an XML file, my problem is when I use <code>QDomDocument</code> to read and update other elements  in my xml file the element password changes and I don't know how.</p>\n\n<p>any help please !!!</p>\n\n<p>here is my xml file with correct data</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Folders&gt;\n &lt;folder DriveL=\"\" Mounted=\"false\" PassW=\"!Å?L,-;©Óñn?Ãs?N·¦ø\" Path=\"C:\\MyProjects\\DiskCrypt\\testFolder\\TestFolder\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>when I need to update the drive letter I use <code>QDomDocument</code> to read data and modify it, every thing goes all right. My application encrypt my xml file if the user exit ant decrypt it once it rerun, but after the decryption I get this:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Folders&gt;\n &lt;folder DriveL=\"\" Mounted=\"false\" PassW=\"!??L,-;???n??s?N???\" Path=\"C:\\Users\\o.maddouri\\MyProjects\\DiskCrypt\\testFolder\\TestFolder\"/&gt;\n&lt;/Folders&gt;\n</code></pre>\n\n<p>so <code>PassW</code> should be <code>\"!Å?L,-;©Óñn?Ãs?N·¦ø\"</code> but after encryption it is <code>\"!??L,-;???n??s?N???\"</code>, I use simple algorithm for encrption and decryption (AES 128).</p>\n"},{"tags":["c++","qt","class","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12758958,"title":"undefined reference to a class","body":"<p>I am building a small game in Qt4. here is the code:</p>\n\n<p>lcdcontrol.h :</p>\n\n<pre><code>#ifndef LCDCONTROL_H\n#define LCDCONTROL_H\n\n\n\n#include &lt;QLCDNumber&gt;\n#include &lt;QtGui&gt;\n#include &lt;QWidget&gt;\n\nclass lcdControl: public QWidget\n{\n    Q_OBJECT\n\npublic:\n    lcdControl(QWidget *parent=0);\n\nsignals:\n    void valueChanged(int newValue);\n\npublic slots:\n    void setValue(int value);\n    //void setRange(int minValue, int maxValue);\n    //void quit();\n\nprivate:\n    QSlider *slider;\n    //QPushButton *quitbutton;\n\n};\n\n\n#endif\n</code></pre>\n\n<p>lcdcontrol.cpp :</p>\n\n<pre><code>#include &lt;QLCDNumber&gt;\n#include &lt;QSlider&gt;\n#include &lt;QGridLayout&gt;\n\n#include \"lcdcontrol.h\"\n\nlcdControl::lcdControl(QWidget *parent): QWidget(parent)\n{\n\n    QLCDNumber *lcd = new QLCDNumber(2);                //2 for 2 digits\n    lcd-&gt;setSegmentStyle(QLCDNumber::Filled);\n\n    slider = new QSlider(Qt::Horizontal);\n    slider-&gt;setRange(0,99);\n    slider-&gt;setValue(0);\n\n    connect(slider,SIGNAL(valueChanged(int)),lcd,SLOT(display(int)));   \n    connect(slider,SIGNAL(valueChanged(int)),this,SIGNAL(valueChanged(int)));   \n\n    QVBoxLayout *layout = new QVBoxLayout;\n    layout-&gt;addWidget(lcd);\n    layout-&gt;addWidget(slider);\n    setLayout(layout);\n\n    setFocusProxy(slider);\n}\n\nvoid lcdControl::setValue(int value)\n{\n    slider-&gt;setValue(value);\n}\n</code></pre>\n\n<p>drawing.h :</p>\n\n<pre><code>#ifndef DRAWING_H\n#define DRAWING_H\n\n#include &lt;QPushButton&gt;\n\nclass drawingClass : public QWidget\n{\n    Q_OBJECT\npublic:\n    drawingClass(QWidget *parent=0);\n\nprivate:\n    QPushButton *quitbutton;\n};\n\n\n#endif\n</code></pre>\n\n<p>drawing.cpp :</p>\n\n<pre><code>#include &lt;QVBoxLayout&gt;\n#include &lt;QGridLayout&gt;\n#include &lt;QtGui&gt;\n#include \"drawing.h\"\n#include \"lcdcontrol.h\"\n\ndrawingClass::drawingClass(QWidget *parent): QWidget(parent)\n{\n\n    quitbutton = new QPushButton(tr(\"&amp;Quit!\"));\n    connect(quitbutton,SIGNAL(clicked()),qApp,SLOT(quit()));\n\n    lcdControl *angle = new lcdControl;\n    lcdControl *force = new lcdControl;\n\n    QVBoxLayout *leftlayout = new QVBoxLayout;\n    leftlayout-&gt;addWidget(angle);\n    leftlayout-&gt;addWidget(force);\n\n    QGridLayout *mainlayout = new QGridLayout;\n    mainlayout-&gt;addWidget(quitbutton,0,0);\n    mainlayout-&gt;addLayout(leftlayout);\n    mainlayout-&gt;setColumnStrech(1,10);\n    setLayout(mainlayout);\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QtGui&gt;\n#include \"drawing.h\"\n\nint main(int argc, char **argv)\n{\n    QApplication app(argc,argv);\n    drawingClass ob;\n    ob.resize(500,200);\n    ob.show();\n    return app.exec();\n}\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>main.cpp:(.text.startup+0x28): undefined reference to `drawingClass::drawingClass(QWidget*)'\nmain.cpp:(.text.startup+0x6e): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0x77): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0xb4): undefined reference to `vtable for drawingClass'\nmain.cpp:(.text.startup+0xbd): undefined reference to `vtable for drawingClass'\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>Please help me out with this.</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12758416,"title":"signals and slots in Qt","body":"<p>I was going through this Qt tutorial where I came across a pretty interesting line of code</p>\n\n<pre><code>connect(slider,SIGNAL(valueChanged(int)),this,SIGNAL(valueChanged(int)));   \n</code></pre>\n\n<p>Generally when a signal is emitted, then a slot is called. What is meant by this statement?\nthe \"slider\" is a QSlider object pointer.</p>\n\n<p>If helpful, this is the <a href=\"http://doc.qt.digia.com/4.3/tutorial-t8-lcdrange-cpp.html\" rel=\"nofollow\">tutorial</a>  .</p>\n"},{"tags":["qt","opencv","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12617222,"title":"Cannot Parse Libraries In Linux Using Qt Enviornment","body":"<p>After some helpful tips this is the new version of this post, the thing is that it seems my programs is somehow running but it just issues some errors...i don't know what is it actually mentioning, because the libraries are installed, i changed the path form LIBS += -<code>LC:/usr/local/lib/ \\</code> to <code>LIBS += -L/usr/local/lib/ \\</code> as some one said it's actually refering to windows while u r using linux(chakra) and then added \"\\\" at the end of directories and added pkg-config to my .pro file , so this is the new version of a new problem... : </p>\n\n<pre><code>    Starting /home/lucifer/PR0J3CTs/FirstOpenCV-build-desktop-Qt_4_8_2_in_PATH__System__Release/FirstOpenCV...\n/home/lucifer/PR0J3CTs/FirstOpenCV-build-desktop-Qt_4_8_2_in_PATH__System__Release/FirstOpenCV exited with code 0\n\nDebugging starts\nthe debug information found in \"/usr/lib/libQtOpenGL.so.4.8.2.debug\" does not match \"/usr/lib/libQtOpenGL.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtGui.so.4.8.2.debug\" does not match \"/usr/lib/libQtGui.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtCore.so.4.8.2.debug\" does not match \"/usr/lib/libQtCore.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtTest.so.4.8.2.debug\" does not match \"/usr/lib/libQtTest.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtNetwork.so.4.8.2.debug\" does not match \"/usr/lib/libQtNetwork.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtXml.so.4.8.2.debug\" does not match \"/usr/lib/libQtXml.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtSvg.so.4.8.2.debug\" does not match \"/usr/lib/libQtSvg.so.4\" (CRC mismatch).\nthe debug information found in \"/usr/lib/libQtDBus.so.4.8.2.debug\" does not match \"/usr/lib/libQtDBus.so.4\" (CRC mismatch).\nDebugging has finished\n</code></pre>\n\n<p>this is my .pro Configurations [ As U can see I've commented (#) one of two LIBS configs, I just wanted to ask which could be more accurate or more helpful, yesterday i tried and it issued some incompatibility with newer version of libavcodec so I googled some and downloaded libavcodec.53 and configured it but I'm uncertain what should happen now , I'm Now at the moment trying to get the opencv-qt-for-all package from ccr community repository and let the program handle these issues by it self, but I'm sure it won't fix my problem] : </p>\n\n<pre><code>QT       += core\nQT       -= gui\n\nTARGET = FirstOpenCV\nCONFIG   += console\nCONFIG   -= app_bundle\nCONFIG   += link_pkgconfig\nPKGCONFIG += opencv\n\nTEMPLATE = app\n\nSOURCES += main.cpp\n\nINCLUDEPATH += /usr/local/include/opencv2/\n\n#LIBS += -L/usr/local/lib/ \\\n#-libopencv_core.so \\\n#-libopencv_highgui.so \\\n#-libopencv_imgproc.so \\\n#-libopencv_features2d \\\n#-libopencv_calib3d.so\n\nLIBS += /usr/lib/libopencv_core.so \\\n/usr/lib/libopencv_highgui.so \\\n/usr/lib/libopencv_imgproc.so \\\n/usr/lib/libopencv_features2d.so \\\n/usr/lib/libopencv_calib3d.so \\\n/usr/lib/libavcodec.so\n</code></pre>\n\n<p>And here's The Code :  </p>\n\n<pre><code>#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n\nusing namespace cv;\n\nint main() {\n\n    // read an image\n    Mat image = imread(\"002.jpg\");\n    // create image window named \"My Image\"\n    namedWindow(\"My Image\");\n    // show the image on window\n    imshow(\"My Image\", image);\n    // wait key for 5000 ms\n    waitKey(5000);\n\n    return 0;\n}\n</code></pre>\n"},{"tags":["c++","qt","libqxt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12346637,"title":"How to hide console window in QxtApplication","body":"<p>I am trying to make gui Qxt Application, but when launches it creates a console window. I don't need console window, how can I hide it?</p>\n\n<p>I'm using mingw gcc4.4 qt4.8 libqxt-0.6.2</p>\n\n<p>.pro file:</p>\n\n<pre><code>QT       += core gui network testlib\n\nCONFIG  += qxt\nQXT     += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = yascreens\nTEMPLATE = app\n\n\nSOURCES += main.cpp \\\n    application.cpp \\\n    configwidget.cpp \\\n    network.cpp \\\n    imageselectwidget.cpp\n\nHEADERS  += \\\n    application.h \\\n    configwidget.h \\\n    network.h \\\n    defines.h \\\n    imageselectwidget.h\n\nRESOURCES += \\\n    resources.qrc\n\nQMAKE_CXXFLAGS += -std=c++0x\n\nFORMS += \\\n    config.ui\n</code></pre>\n\n<p>Full sources <a href=\"https://github.com/bakwc/yascreens\" rel=\"nofollow\">here</a> (github).</p>\n"},{"tags":["c++","qt","visual-c++"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12756828,"title":"Why does Qt Creator find the typedef, but not the build process?","body":"<p>I am trying to use an external library in my Qt Creator project. I am building it with Visual C++ on Windows.</p>\n\n<p>I added this to my qmake file:</p>\n\n<pre><code># Include libspotify\nINCLUDEPATH += C:\\\\libspotify\\\\include\nLIBS     += -LC:\\\\libspotify\\\\lib -llibspotify\n</code></pre>\n\n<p>Then I went to use some typedef'd structs from the library:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;libspotify/api.h&gt;\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\n    sp_session_config spConfig;\n    sp_session spSession;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>Now in the IDE editor, the syntax highlight marks sp_session_config and sp_session in purple indicating the editor can find those typedefs fine (if it doesn't find a definition it leaves the text black).</p>\n\n<p>But when I build I get this:</p>\n\n<pre><code>mainwindow.h:32: error: C2079: 'MainWindow::spSession' uses undefined struct 'sp_session'\n</code></pre>\n\n<p>Now I know the compiler is finding the api.h file, because if I change it to a bogus filename it spits out a file not found error.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:\nThe header file defines the struct like this:</p>\n\n<pre><code>extern \"C\" {\ntypedef struct sp_session sp_session; ///&lt; Representation of a session\n}\n</code></pre>\n"},{"tags":["c++","qt","background-image","qwidget","qlabel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12755842,"title":"How to put background of QWidget under other widgets in a QGridLayout","body":"<p>I've been hours trying to understand(googling) why my widgets are not shown in a QWidget children I am using as a Windows.</p>\n\n<p>The children are mostly QLabel and some QSliders. The Layout is a QGridlayout</p>\n\n<p>here it is some of my window code:</p>\n\n<pre><code>FenPrincipale::FenPrincipale()\n    {\n        this-&gt;setWindowTitle(\"Premier Test\");\n        this-&gt;resize(400, 200);\n        QPalette palette;\n        palette.setBrush(this-&gt;backgroundRole(), QBrush(QImage(\"images/metal400x200.png\")));\n\n        this-&gt;setPalette(palette);\n        /*\n        this-&gt;setStyleSheet(\"background-image: url(images/metal400x200.png); \"\n                            \"background-position: top left; \"\n                            \"background-repeat: repeat-xy;\"\n                            );\n        */\n\n        buildChildren();\n        buildLayout();\n\n        this-&gt;setLayout(layout_principale);\n    }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>How my children is built</p>\n\n<pre><code>void FenPrincipale::buildChildren()\n{\n    m_title = new QLabel(\"MonTest\");\n    m_nextPageButton = new QLabel(\"&gt;\");\n\n    m_line = new QLabel(\"Slide here\");\n    m_labelSlider = new QSlider;\n    m_result = new QLabel(\"Result\");\n\n    /* \n     * Other children is set here...\n    */\n}\n</code></pre>\n\n<p>Voilà the result:</p>\n\n<p><img src=\"http://i.stack.imgur.com/uKADJ.png\" alt=\"enter image description here\"></p>\n\n<p>I tried changing fonts and other methods to set the background but the background is always shown over the other widgets. </p>\n\n<p>Am I missing something?</p>\n"},{"tags":["qt","qtgui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12755074,"title":"Intercepting mousePressEvent on Child widget (qt)","body":"<p>I'm trying to implement the following functionality based on QPlainTextEdit - by default it should show a \"please enter something here\" message, on click, it would vanish and allow editing.</p>\n\n<p>To do so I need to intercept whether the widget has been clicked. Can I do so without sub classing QPlainTextEdit?</p>\n\n<p>Can the parent's widget onMousePressEvent obtain which child's widget the event belongs to?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12755231,"title":"error: expected primary-expression before ')' token","body":"<p>I'm trying displaying widget 'widg' in layer on MainWindow after pushing 'pushButton_2' but I'm receive this error: \"expected primary-expression before ')' token\"</p>\n\n<p>mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"widg.h\"\n#include \"ui_widg.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    QObject::connect(ui-&gt;pushButton_2, SIGNAL(clicked()), SLOT(slotPush2()));\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::slotPush2()\n{\n    ui-&gt;verticalLayout_3-&gt;addWidget(widg);\n}\n</code></pre>\n\n<p>mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n\nprivate slots:\n    void slotPush2();\n};\n\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>widg.h</p>\n\n<pre><code>#ifndef WIDG_H\n#define WIDG_H\n\n#include &lt;QWidget&gt;\n\nnamespace Ui {\nclass widg;\n}\n\nclass widg : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit widg(QWidget *parent = 0);\n    ~widg();\n\nprivate:\n    Ui::widg *ui;\n};\n\n#endif // WIDG_H\n</code></pre>\n\n<p>widg.cpp</p>\n\n<pre><code>#include \"widg.h\"\n#include \"ui_widg.h\"\n\nwidg::widg(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::widg)\n{\n    ui-&gt;setupUi(this);\n}\n\nwidg::~widg()\n{\n    delete ui;\n}\n</code></pre>\n\n<p>Please, help me, what is my mistake?</p>\n"},{"tags":["qt","qt4","qfiledialog"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12229830,"title":"QFileDialog disable buttons","body":"<p>I'd like to create a subclass of QFileDialog which will be used to open only directories with some particular content. I can set my own proxy model to handle behavior of files list but how can I disable/enable ok button?\nDo I have to create my own widget? </p>\n"},{"tags":["qt","cmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12749910,"title":"How to move qt4_wrap_cpp output to a folder?","body":"<p>I have made a call to <code>qt4_wrap_cpp(moc_outfiles ${moc_header})</code> and I want the results of that call (<code>moc_outfiles</code>) to be placed in a folder called <code>GeneratedFiles/Debug</code>.</p>\n\n<p>So far what I tried to make my own custom method that failed due to parsing error <code>Parse error.  Expected \"(\", got quoted argument with text \"${it}\".</code></p>\n\n<pre><code>FOREACH (it ${moc_headers})\n    QT_MOC_EXECUTABLE ${it} -o ./GeneratedFiles/Debug/moc_\"${it}\"\nENDFOREACH(it)\n</code></pre>\n"},{"tags":["c++","mysql","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12752475,"title":"Qt - mysql driver install","body":"<p>I`m trying to install mysql module for qt and this is error i get</p>\n\n<pre><code>WARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\nWARNING: (internal):1: Unescaped backslashes are deprecated.\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:4\n: Unable to find file for inclusion ..\\..\\..\\sql\\drivers\\mysql\\qsql_mysql.pri\nWARNING: d:\\QtSDK\\Desktop\\Qt\\4.8.0\\msvc2010\\plugins\\sqldrivers\\mysql\\mysql.pro:6\n: Unable to find file for inclusion ..\\qsqldriverbase.pri\n</code></pre>\n\n<p>I`m fallowing this instructions:\n<a href=\"http://doc.qt.digia.com/4.6/sql-driver.html#qmysql-for-mysql-4-and-higher\" rel=\"nofollow\">http://doc.qt.digia.com/4.6/sql-driver.html#qmysql-for-mysql-4-and-higher</a></p>\n"},{"tags":["c++","multithreading","qt","console","poco-libraries"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":146,"score":1,"question_id":11985041,"title":"Console application with signals, threads and network, Qt or POCO","body":"<p>I have to develop a console application interacting with a Qt Gui via IPC. I already have a good experience with the Qt framework, I am completely new to POCO. I also need a good SQLite wrapper.</p>\n\n<p>What are the pros and cons of Qt vs Poco for my case ?</p>\n\n<p>So far, I've listed:</p>\n\n<p>Qt pros:</p>\n\n<ul>\n<li>very good documentation</li>\n<li>active community</li>\n<li>in my case, experience</li>\n<li>easy to use</li>\n<li>cross platform</li>\n<li>SQLite wrapper is nice</li>\n<li>Easy threading via signals and slots (no need of mutexes)</li>\n</ul>\n\n<p>Qt cons:</p>\n\n<ul>\n<li>lack of integration with standard C++, everything works with Qt objects (QString, etc.)</li>\n<li>Meta object compiler (MOC)</li>\n<li>New developer must learn the Qt framework to code</li>\n<li>Stick to GCC 4.2.1 on Mac instead of the latest clang shipped from now on with Mac</li>\n<li>Must inherit from QObject to use signals, threads, etc.</li>\n</ul>\n\n<p>Poco pros:</p>\n\n<ul>\n<li>easy to use ?</li>\n<li>faster for networking (Http in my case) ?</li>\n<li>No need of MOC</li>\n<li>builds with Clang seamlessly ?</li>\n<li>cross-platform</li>\n<li>easy threading ?</li>\n</ul>\n\n<p>Poco cons:</p>\n\n<ul>\n<li>lack of documentation !</li>\n<li>small community</li>\n<li>?</li>\n</ul>\n\n<p>I hope Qt5 will be usable with clang, llvm on mac ?</p>\n\n<p>I would very much appreciate your insight about this. </p>\n\n<p>Thanks.</p>\n"},{"tags":["c++","qt","signals-slots"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12749722,"title":"How to pass coordinates of button in matrix to slot on click?","body":"<p>I'm beginning in C++ and Qt. I have a matrix of QPushButtons and I want to handle the click event for them. Problem is I'm not being able to tell the slot the coordinates os the button in the array so that I can play with them. I've succeed in passing a integer to my slot, but not both coordinates. I'm not sure if I'm making myself clear enough... That's my problematic code:</p>\n\n<pre><code>for (int i = 0; i &lt; mapSize_x; i++) {\n    for (int j = 0; j &lt; mapSize_y; j++) {\n        buttonsArray[i][j] = new QPushButton();\n        ui-&gt;mainLayout-&gt;addWidget(buttonsArray[i][j], i, j);\n\n        connect(buttonsArray[i][j], SIGNAL(clicked()),\n                signalMapper, SLOT(map()));\n        signalMapper-&gt;setMapping(buttonsArray[i][j], i, j); // here\n    }\n}\nconnect(signalMapper, SIGNAL(mapped(int, int)),\n        this, SLOT(buttonClick(int, int)));\n</code></pre>\n\n<p>setMapping only accepts two parameters, and I want to pass three. Is there a workaround? I've googled a lot and still can't find an answer. I've also tried to pass the QPushButton object instead of the coordinates, but unsuccessfully as well. Thanks in advance.</p>\n"},{"tags":["forms","qt","designer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12750473,"title":"Qt - Display Designer Form without class","body":"<p>In Qt, I have created a Designer Form without class. So basically, I just have a file myform.ui. What code should I write to display the form?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":9467796,"title":"Qt Creator: Design changes not showing when run","body":"<p>I had made some changes on the '<strong>mainwindow.ui</strong>' file from the folder: 'Forms'. \nI've added a new title entitled 'File' and there only two simple options, 'Add Fractal' and 'Exit'</p>\n\n<p><img src=\"http://i.stack.imgur.com/43NyK.png\" alt=\"enter image description here\"></p>\n\n<p>You can also see that both are on the mainwindow.ui file:<img src=\"http://i.stack.imgur.com/6TujE.png\" alt=\"enter image description here\"></p>\n\n<p>But when I run the project, the window is not showing as I wish. Tabs are not showing.</p>\n\n<p><img src=\"http://i.stack.imgur.com/M34XD.png\" alt=\"enter image description here\"></p>\n\n<p>I had build, rebuild and make, and still have this strange thing.\nCan anyone give me a hand?</p>\n\n<p><strong>mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\n    class MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n    void createActions();\n    void createMenus();\n    // Widgets i layouts\n    QWidget *centralWidget;\n    // Accions associades als menus\n    QAction *exitAct;\n    // Menus principals\n    QMenu *fileMenu;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    centralWidget = new QWidget;\n    setCentralWidget(centralWidget); createActions();\n    createMenus();\n    setWindowTitle(tr(\"Practica 1: GiVD 2011-2012\"));\n    resize(640, 480);\n}\n\nvoid MainWindow::createActions() {\n    exitAct = new QAction(tr(\"&amp;Exit\"), this);\n    exitAct-&gt;setShortcut(tr(\"Ctrl+Q\"));\n    exitAct-&gt;setStatusTip(tr(\"Sortir del programa\"));\n    connect(exitAct, SIGNAL(triggered()), qApp, SLOT(closeAllWindows()));\n}\n\nvoid MainWindow::createMenus()\n{\n    fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n    fileMenu-&gt;addSeparator();\n    // Per a cada nou submenú has de fer un addAction\n    fileMenu-&gt;addAction(exitAct);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><strong>mainwindow.ui</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ui version=\"4.0\"&gt;\n &lt;class&gt;MainWindow&lt;/class&gt;\n &lt;widget class=\"QMainWindow\" name=\"MainWindow\"&gt;\n  &lt;property name=\"geometry\"&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;400&lt;/width&gt;\n    &lt;height&gt;300&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=\"windowTitle\"&gt;\n   &lt;string&gt;MainWindow&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;widget class=\"QWidget\" name=\"centralWidget\"/&gt;\n  &lt;widget class=\"QMenuBar\" name=\"menuBar\"&gt;\n   &lt;property name=\"geometry\"&gt;\n    &lt;rect&gt;\n     &lt;x&gt;0&lt;/x&gt;\n     &lt;y&gt;0&lt;/y&gt;\n     &lt;width&gt;400&lt;/width&gt;\n     &lt;height&gt;22&lt;/height&gt;\n    &lt;/rect&gt;\n   &lt;/property&gt;\n   &lt;widget class=\"QMenu\" name=\"menuFile\"&gt;\n    &lt;property name=\"title\"&gt;\n     &lt;string&gt;File&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;addaction name=\"actionAdd_Fractal\"/&gt;\n    &lt;addaction name=\"actionExit\"/&gt;\n   &lt;/widget&gt;\n   &lt;addaction name=\"menuFile\"/&gt;\n  &lt;/widget&gt;\n  &lt;widget class=\"QToolBar\" name=\"mainToolBar\"&gt;\n   &lt;attribute name=\"toolBarArea\"&gt;\n    &lt;enum&gt;TopToolBarArea&lt;/enum&gt;\n   &lt;/attribute&gt;\n   &lt;attribute name=\"toolBarBreak\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n   &lt;/attribute&gt;\n  &lt;/widget&gt;\n  &lt;widget class=\"QStatusBar\" name=\"statusBar\"/&gt;\n  &lt;action name=\"actionAdd_Fractal\"&gt;\n   &lt;property name=\"text\"&gt;\n    &lt;string&gt;Add Fractal&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n  &lt;action name=\"actionExit\"&gt;\n   &lt;property name=\"text\"&gt;\n    &lt;string&gt;Exit&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n &lt;/widget&gt;\n &lt;layoutdefault spacing=\"6\" margin=\"11\"/&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n</code></pre>\n"},{"tags":["qt","qmake"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12749552,"title":"How to disambiguate subdirs with the same name in the Projects list?","body":"<p>My Qt project has 2 subdirs/subprojects with the same name. Their directories are <code>myproject/node</code> and <code>myproject/compiler/test/node</code>. </p>\n\n<p>The problem (or annoyance) is that, in the Projects list in Qt, both subdirs are listed as \"node\". So you have to open them up to figure out which is which. </p>\n\n<p>myproject.pro is like this: </p>\n\n<pre><code>TEMPLATE = subdirs\n\nSUBDIRS += \\\n    compiler_test_node \\\n    node \\\n        ...\n\ncompiler_test_node.subdir = compiler/test/node\nnode.depends = compiler_vuo_compile\n...\n</code></pre>\n\n<p>Without renaming the <code>myproject/compiler/test/node</code> directory, is there a way to make it show up with a different name in the Projects list? </p>\n"},{"tags":["qt","pyside","qgraphicsview","qgraphicsscene","qgraphicstextitem"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12749651,"title":"PySide QGraphicsTextItem issues","body":"<p>I am trying to produce a text editor similar to word (paginated) in PySide.</p>\n\n<p>The way I decided to tackle this is having a QGraphicsScene with QGraphicsTextItem for each page, and to code the focus by interaction.</p>\n\n<p>Now all I am trying to do now is have a box representing an A4 page, and handling textchanged events using the QGraphicsTextItem.document().pageCount() function.</p>\n\n<p>I bumped into several issues:</p>\n\n<ol>\n<li><p>How can I properly define the size of the page given the QSizeF is not using any units? Will defining this right guarantee a true return value from pageCount()?</p></li>\n<li><p>If I define a pageSize at all, QGraphicsTextItem stops expanding. How can I set a fixed size so It'll look like a page?</p></li>\n</ol>\n\n<p>Documentation for Qt is extremely light and I could not figure anything out of it.</p>\n\n<p>Thank you for helping</p>\n"},{"tags":["qt","gdi","qgraphicsview","qwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12749179,"title":"GetClientRect fail when making GDI drawing in a QT QWidget","body":"<p>I am trying to draw on a QWidget thanks to Win32 API like in <a href=\"http://stackoverflow.com/questions/2616349/qt-qpainter-gdi-in-the-same-widget\">THIS TOPIC</a>.</p>\n\n<p>My widget is embedded in a graphics view thanks to a QGraphicsWidgetProxy.</p>\n\n<p>Widget in which I would like to draw is called \"Form\", and source of this widget is :</p>\n\n<pre><code>Form::Form() :\n    QWidget(NULL),    \n{\n    setWindowFlags(Qt::MSWindowsOwnDC);\n    setUpdatesEnabled(true);\n}\n\nvoid Form::paintEvent(QPaintEvent *_event)\n{\n    RECT r;\n    HWND winid = winId();\n    GetClientRect( winid, &amp;r );\n    p.drawEllipse(0, 0, width(), height());\n    p.restore();\n}\n</code></pre>\n\n<p>In a widget called \"MainWindow\", I have a QGraphicsView, which contain a QgraphicsScene in which I set my QGraphicProxyWidget :</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent)\n{   \n    ui.setupUi(this);\n\n    QGraphicsScene* scene = new QGraphicsScene(this);\n    ui.graphicsView-&gt;setScene(scene);\n    m_form = new Form();\n\n    QGraphicsProxyWidget* proxy = new QGraphicsProxyWidget;\n    proxy-&gt;setWidget(m_form);\n    scene-&gt;addItem(proxy);\n    proxy-&gt;resize(200,200);\n}\n</code></pre>\n\n<p>As we can see in Form::paintEvent, I draw an ellipse in my widget, and that works fine. I can see my widget, in the scene with the ellipse drawn in the widget.</p>\n\n<p>My problem is that te call to GetClientRect return a strange value :</p>\n\n<pre><code>r       RECT\n    bottom  0   LONG\n    left    0   LONG\n    right   115 LONG\n    top 0   LONG\nwinid   52822870    HWND\n</code></pre>\n\n<p>So as we can see, the client rect is false, I except to have something like r.bottom = 430 r.top = 230 r.left = 300 r.right = 500.</p>\n\n<p>Why GetClientRect doesn't work ?</p>\n\n<p>Thanks,\nAdrien</p>\n"},{"tags":["c++","qt","event-handling","keypress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":389,"score":1,"question_id":7543313,"title":"How to handle keypress events in a Qt console application?","body":"<p>For example, that when you press \"Esc\", the application ends.</p>\n"},{"tags":["qt","dbus"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12561023,"title":"QT Dbus sharing interface for two applications","body":"<p>I have the following setup:</p>\n\n<ul>\n<li>I have two applications, belonging to the same logical group (logical group = product of our company)</li>\n<li>These two applications need to connect to DBus to the same interface (we have more products, all of them should use their own DBus interface) and expose some functionality (and all this with QtDBus).</li>\n</ul>\n\n<p>So I tried to (the arrows are NOT C++ pointer operations :) ):</p>\n\n<pre><code>App1 -&gt; get QDBusConnection::sessionBus();\nApp1 -&gt; registerService(\"com.una-frog.ddm\") \nApp1 -&gt; registerObject (\"/DDM-gui\")\n</code></pre>\n\n<p>then </p>\n\n<pre><code>App2 -&gt; get QDBusConnection::sessionBus();\nApp2 -&gt; registerService(\"com.una-frog.ddm\") \nApp2 -&gt; registerObject (\"/DDM-cli\")\n</code></pre>\n\n<p>and start App1 and App2.</p>\n\n<p>At this point the App2 complains that it cannot register the service because App1 already registered it. That's correct.</p>\n\n<p>I easily could register App1 to \"com.una-frog.ddm.<strong>gui</strong>\" and App2 to \"com.una-frog.ddm.<strong>cli</strong>\" but I'd rather try to have one common interface and two objects there taking all the required actions.</p>\n\n<p>Anyone knows how to achieve two QtDBus applications connecting to the same interface?</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12218669,"title":"QHeaderView stylesheet for QTableWidget","body":"<p>I'm trying to customize appearance of header for my QTableWidget using stylesheet. I'm doing this way:</p>\n\n<pre><code>QHeaderView::section \n{\n    background-color: transparent;\n    color: black;\n    font: 10pt \"MS Shell Dlg 2\";\n    padding-left: 4px;\n    border: 1px solid #6c6c6c;\n}\n</code></pre>\n\n<p>It looks nice in Qt Designer and in it's preview mode, but when I'm running the program, header is created with default colour and font.</p>\n\n<p>Qt version 4.7.2, OS Windows XP. Thanks.</p>\n"},{"tags":["c++","qt","ide","autocomplete"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":992,"score":2,"question_id":2475973,"title":"how to implement code completion in qt","body":"<p>i am writing an ide using qt (on c++) and i need to add auto completion feature to it</p>\n\n<p>so i want to know :</p>\n\n<p>how to do that (i am using <code>qtPlainTextEdit</code>) ?</p>\n\n<p>what the data structure i should use ?</p>\n"},{"tags":["qt","printing","internationalization","locale"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12747358,"title":"How to determine the default paper size in Qt (country dependent)","body":"<p>What is a good way to determine the default paper size in a (Qt based) C++ application?</p>\n\n<p>While QLocale provides information about date formats, measurement systems and more, I can't find any way to retrieve the default paper size from there.</p>\n\n<p>For example, in the US they commonly use \"Letter\" whereas in Germany we commonly use \"DIN A4\".</p>\n\n<p>The Qt documentation suggests to use the translation files for this purpose (see <a href=\"http://qt-project.org/doc/qt-4.8/internationalization.html\" rel=\"nofollow\">Localize section</a>). However, to my understanding one should keep the display language (specified by the translation file) independent from the system locale so that people can choose the display language independent from the system locale, if they like to.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["c++","linux","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12746777,"title":"What is the best practive for handling the user rights on a program which should be able to manage linux user accounts","body":"<p>I need to manage Linux users accounts from within my program so I actually need some kind of root access but giving root to that program couldn't be the best solution.<br>\nHow can I manage that in a save way. At least I am not aware of a Multi process architecture.\nFor the whole \"generic stuff\" I use Qt. Only the OS-specific things are on my own.</p>\n"},{"tags":["qt","qml"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12747121,"title":"Handle Unsupported Content QML Webview","body":"<p>How to handle unsupported content in QML Webview Component ?</p>\n"},{"tags":["c++","qt","menu","helper"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12744649,"title":"writing a simple help menu with Qt","body":"<p>Any advice on how to create a simple help menu with Qt? I could not really find anything interesting in the examples.</p>\n\n<p>What I have in mind is nothing too fancy like a whole window that looks like a web browser with a search engine, I just want to write few paragraphs, but maybe starting with links to each paragraph at the top, really like a basic web FAQ.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["c++","visual-studio-2010","qt","linker","boost-filesystem"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":942,"score":1,"question_id":9199535,"title":"Unresolved external when using qt template?","body":"<p>Hi I'm using visual studio 2010.. And I added the add in for Qt as well as manually build the last boost package. Now I started a new project, a qt window application.</p>\n\n<p>There I used the following code:</p>\n\n<pre><code>#include &lt;boost/filesystem.hpp&gt;\n\nint main(int argc, char *argv[])\n{\n    boost::filesystem::path p(\"c:/test/test.gmx\");\n    boost::filesystem::path ext(p.extension());\n    boost::filesystem::path name(p.leaf().replace_extension(\"\"));\n    //QApplication a(argc, argv);\n    //MainInterface w;\n    //w.show();\n    //return a.exec();\n}\n</code></pre>\n\n<p>However this seems to fail.. While when I use EXACT THE SAME code but instead don't use the qt template it works. The exact errors are as follow:</p>\n\n<pre><code>1&gt;main.obj : error LNK2019: unresolved external symbol \"private: static class std::codecvt&lt;unsigned short,char,int&gt; const * &amp; __cdecl boost::filesystem3::path::wchar_t_codecvt_facet(void)\" (?wchar_t_codecvt_facet@path@filesystem3@boost@@CAAAPBV?$codecvt@GDH@std@@XZ) referenced in function \"public: static class std::codecvt&lt;unsigned short,char,int&gt; const &amp; __cdecl boost::filesystem3::path::codecvt(void)\" (?codecvt@path@filesystem3@boost@@SAABV?$codecvt@GDH@std@@XZ)\n1&gt;main.obj : error LNK2019: unresolved external symbol \"void __cdecl boost::filesystem3::path_traits::convert(char const *,char const *,class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &amp;,class std::codecvt&lt;unsigned short,char,int&gt; const &amp;)\" (?convert@path_traits@filesystem3@boost@@YAXPBD0AAV?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@ABV?$codecvt@GDH@5@@Z) referenced in function \"void __cdecl boost::filesystem3::path_traits::dispatch&lt;class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &gt;(class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; const &amp;,class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; &amp;,class std::codecvt&lt;unsigned short,char,int&gt; const &amp;)\" (??$dispatch@V?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@@path_traits@filesystem3@boost@@YAXABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AAV?$basic_string@GU?$char_traits@G@std@@V?$allocator@G@2@@4@ABV?$codecvt@GDH@4@@Z)\n</code></pre>\n\n<p>I tried to look into the obvious settings; but in the project properties the boost library directory is still located under VC++ directories -> library directories</p>\n\n<p>What is causing this? How do I solve this?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12742539,"title":"Q_PROPERTY and has no member error","body":"<p>I can't see what I'm doing wrong. I'm trying to create some properties in a class (as I did before) but this time I'm getting the error <em>\"class Foo has no member named MyProp\"</em> </p>\n\n<p>The header is:</p>\n\n<pre><code>#ifndef P_H\n#define P_H\n\n#include &lt;QObject&gt;\n\nclass P : public QObject\n{\n    Q_OBJECT\n    Q_PROPERTY(int Prop READ getProp WRITE setProp)\n  public:\n    explicit P(QObject *parent = 0);\n\n    int getProp() const;\n    void setProp(int nP);\n  private:\n    int m_p;\n};\n\n#endif // P_H\n</code></pre>\n\n<p>and the cpp file is:</p>\n\n<pre><code>#include \"p.h\"\n\nP::P(QObject *parent) :\n  QObject(parent)\n{\n}\n\nint P::getProp() const\n{\n  return m_p;\n}\n\nvoid P::setProp(int nP)\n{\n  m_p = nP;\n}\n</code></pre>\n\n<p>But when I try to use foobar.P I got the error <em>class P has no member named P</em>. I've been reading <a href=\"http://qt-project.org/doc/qt-4.8/properties.html\" rel=\"nofollow\">Qt documentation</a> and I can't see any difference. Does anyone see what I'm doing wrong?</p>\n\n<p>I'm using Qt Creator 2.4.1 and Qt 4.8.</p>\n\n<p>[... Edit ...]</p>\n\n<p>Here is how I'm trying to use it:</p>\n\n<pre><code>#include \"p.h\"\n\nint main(int argc, char *argv[])\n{\n  P c;\n\n  c.Prop = 2;\n\n  return 0;\n}\n</code></pre>\n\n<p>This is the simplest example I could think of and I got the same error.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","qt","unicode"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1085,"score":1,"question_id":3211214,"title":"How to convert a unicode string to its unicode escapes?","body":"<p>Say I have a text \"Բարև Hello Здравствуй\". (I save this code in QString, but if you know other way to store this text in c++ code, you'r welcome.) How can I convert this text to Unicode escapes like this \"\\u1330\\u1377\\u1408\\u1415 Hello \\u1047\\u1076\\u1088\\u1072\\u1074\\u1089\\u1090\\u1074\\u1091\\u1081\" (see <a href=\"http://doc.infosnel.nl/extreme_utf-8.html\" rel=\"nofollow\">here</a>)?</p>\n"},{"tags":["qt"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4089,"score":4,"question_id":2490090,"title":"Set label text in QTabWidget tab","body":"<p>I have QTabWidget on my form and two tabs on it. This tabs have standard text Tab1 and Tab2.\nHow can I change it?</p>\n"},{"tags":["c++","qt","qlistwidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12741943,"title":"How to simulate double clicking item in qlistWidget","body":"<p>How can I simulate double clicking an item in a <code>QListWidget</code> without sub-classing? I would like the item to immediately go into edit mode when I add a new item to the list.</p>\n"},{"tags":["forms","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12524092,"title":"Disable a Form while Another Form shows in Qt","body":"<p>I would like that the main form would disable itselft while I show a secondary form.\nI know I could just use <code>this-&gt;setEnabled = false;</code>, but how can I know when the secondary form is closed? (To re-enable the main form).</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12741779,"title":"Qt Open Source licensing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11994053/can-i-use-qt-lgpl-license-and-sell-my-application-without-any-kind-of-restrictio\">Can I use Qt LGPL license and sell my application without any kind of restrictions?</a>  </p>\n</blockquote>\n\n\n\n<p>Just a simple question. </p>\n\n<p>Without the Qt Commercial license, can I make an application and 'sell' it to a client? Or do I need a commercial license to sell it?</p>\n"},{"tags":["c++","qt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12738650,"title":"what should I use to create a QGraphicsView overlay that encapsulates QMimeData in Qt and C++?","body":"<p>I want to create an overlay for graphics view. Currently I'm using <code>QDrag</code> which encapsulates mime data using the <code>setMimeData()</code> method, and I can set a QPixmap that follows the mouse pointer when I drag it.</p>\n\n<p>The problem is that I have to hold down the left mouse button for it to work. Now the user hits a button, she has to hold the left button to drag the graph to the desired area and release the button. In practice, it is very non-intuitive.</p>\n\n<p>I want to make it the case that the user clicks on a button and releases the mouse button, then the graph follows the mouse pointer to where the user wants to place it, then she clicks the mouse again and the graph gets placed there. However, as a beginner in Qt, I don't know which class I can use to accomplish that.</p>\n"},{"tags":["c++","qt","resize","tabwidget"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12392943,"title":"ScrollArea and TabWidget resizing","body":"<p>I am having trouble with my app. I am not able to configure wigets to behave acording to my needs, I would appreciate help.</p>\n\n<p>This is “sketch” of my real app\n<a href=\"http://s13.postimage.org/ibzzdh3p3/tab_Widget.png\" rel=\"nofollow\">http://s13.postimage.org/ibzzdh3p3/tab_Widget.png</a></p>\n\n<p>So the main widget of MainWindow is scrollArea.\nScrollArea has vertical layout and contains 3 items.\n1. Is big button, which represents constant sized area in my real app\n2. Is spacer\n3. TabWidget, has layouts on both tabs.</p>\n\n<p>Now my problem. I am putting dynamically content into those tabs and I expect that if tab content cannot fit the tab than it will expand TabWidget in the scroll area.</p>\n\n<p>Now it is filling space right when it fits the place, nice spacing and so. But if I fill it with lets say more lines(height 600px), than I can see the lines dissapearing somewhere down the tab and if I expand whole window TabWidget gets more space and more of my hiden widgets gets revealed.</p>\n\n<p>Any ideas how can I force the content of the tabwidget to expand it rather then hide under?</p>\n"},{"tags":["qt","qgraphicsview","qgraphicsscene"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":12740216,"title":"how many items can we place in a Qgraphicsview/QgraphicsScene?","body":"<p>how many items can we place in a Qgraphicsview/QgraphicsScene so that when i zoom in the scene, it won't effect on the fastness of zooming?</p>\n"},{"tags":["qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12718126,"title":"How do I enforce the order of qmake library dependencies?","body":"<p>I'm getting a lot of errors because qmake is improperly ordering the boost libraries I'm using.</p>\n\n<p>Here's what .pro file looks like</p>\n\n<pre><code>QT       += core gui\n\nTARGET = MyTarget\nTEMPLATE = app\n\nCONFIG += no_keywords \\\n          link_pkgconfig\n\nSOURCES += file1.cpp \\\n           file2.cpp \\\n           file3.cpp\n\nPKGCONFIG += my_package \\\n             sqlite3\n\nLIBS += -lsqlite3 \\\n        -lboost_signals \\\n        -lboost_date_time\n\nHEADERS += file1.h\\\n           file2.h\\\n           file3.h\n\n\nFORMS += mainwindow.ui\n\nRESOURCES += Resources/resources.qrc\n</code></pre>\n\n<p>This produces the following command:</p>\n\n<pre><code>g++ -Wl,-O1 -o MyTarget file1.o file2.o file3.o moc_mainwindow.o -L/usr/lib/x86_64-linux-gnu -lboost_signals -lboost_date_time -L/usr/local/lib -lmylib1 -lmylib2 -lsqlite3 -lQtGui -lQtCore\n</code></pre>\n\n<p>Note: mylib1 and mylib2 are statically compiled by another project, placed in /usr/local/lib with an appropriate pkg-config .pc file pointing there. The .pro file references them via <code>my_package</code> in <code>PKGCONFIG</code>. The problem is not with pkg-config's output but with Qt's ordering.</p>\n\n<p>Here's the .pc file:</p>\n\n<pre><code>prefix=/usr/local\nexec_prefix=${prefix}\nlibdir=${exec_prefix}/lib\nincludedir=${prefix}/include\n\nName: my_package\nDescription: My component package\nVersion: 0.1\nURL: http://example.com\nLibs: -L${libdir} -lmylib1 -lmylib2\nCflags: -I${includedir}/my_package/\n</code></pre>\n\n<p>The linking stage fails spectacularly as mylib1 and mylib2 come up with a lot of undefined references to boost libraries that both the app and mylib1 and mylib2 are using.</p>\n\n<p>We have another build method using scons and it properly orders things for the linker. It's build command order is below.</p>\n\n<pre><code>g++ -o MyTarget file1.o file2.o file3.o moc_mainwindow.o -L/usr/local/lib -lmylib1 -lmylib2 -lsqlite3 -lboost_signals -lboost_date_time -lQtGui -lQtCore\n</code></pre>\n\n<p>Note that the principle difference is the order of the boost libs. Scons puts them at the end just before QtGui and QtCore while qmake puts them first. The other differences in the compile commands are unimportant as I have hand modified the qmake produced make file and the simple reordering fixed the problem.</p>\n\n<p>So my question is, how do I enforce the right order in my .pro file despite what qmake thinks they should be?</p>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12738561,"title":"Qt leaveEvent and enterEvent","body":"<p>Well I am supposed to do somthing with the widget when it recieve either of those events but my problem is when i add the widget in a layout then setting that layout to the the parent windows both events are sent whenever i eneter or get out from layout not from the child widget.</p>\n"},{"tags":["c++","qt","listview","qml","blackberry-10"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":142,"score":0,"question_id":12731175,"title":"How to tap on a list item component in Blackberry Cascades qml and qt","body":"<p>I asked this question before in other wording, but maybe the question was poorly worded, and no one seemed to answer.  I have been searching for a working example showing an answer to my question, but I cannot find any.  I really need to know the answer to this.</p>\n\n<p>In Blackberry Cascades, QML, QT &amp; C++, how do I respond to someone tapping on an item in a list?</p>\n\n<p>Is the answer to do with involving TapHandler and ListView?  If so, could someone please show me how to connect the two, because I cannot find any examples of that on the internet.</p>\n"},{"tags":["qt","pyqt","pyside","qgraphicsview","qspinbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12736688,"title":"PyQt/PySide QSpinBox flickering issue","body":"<p>I have added a QSpinBox to a QGraphicsScene using a QGraphicsProxyWidget. Each time I hover over the QSpinBox, it flickers with a black band overlaid on the spinbox controls. I have attached a screenshot and the code below. Am I doing something wrong? Is there a way to avoid this? Pyside 1.1.2, Python 2.7, Windows7. </p>\n\n<p><img src=\"http://i.stack.imgur.com/nwCCH.jpg\" alt=\"QSpinBox flickering on hover\"></p>\n\n<pre><code>class testWidget(QGraphicsView):\n    def __init__(self):\n        QGraphicsView.__init__(self)\n\n        floorSpinBox = QSpinBox()\n        floorSpinBox.setGeometry(0,0,50,25)\n\n        proxyWidget = QGraphicsProxyWidget() \n        proxyWidget.setWidget(floorSpinBox)\n\n        scene = QGraphicsScene(self)\n        scene.addItem(proxyWidget)\n        self.setScene(scene)\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    widget = testWidget()\n    widget.show()\n    app.exec_()\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>Apparently there is a bug report filed here: <a href=\"https://bugreports.qt-project.org/browse/QTBUG-18167\" rel=\"nofollow\">Bugreport</a>. I had to finally add the <code>QSpinBox</code> to a regular <code>QWidget</code> and not under <code>QGraphicsView</code>.</p>\n"},{"tags":["qt","qobject","qtscript","qvariant"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12737550,"title":"How to make a class in Qt both scriptable and serializable?","body":"<p>I'm trying to write a class with two basic characteristics:</p>\n\n<ul>\n<li>It needs to be scriptable - the class contains a number of properties and methods decorated with <code>Q_INVOKABLE</code> that are exposed to scripts.</li>\n<li>It needs to be serializable so that it can be registered with <a href=\"http://qt-project.org/doc/qt-4.8/qmetatype.html#qRegisterMetaTypeStreamOperators\" rel=\"nofollow\"><code>qRegisterMetaTypeStreamOperators()</code></a> for storing in <code>QVariant</code>s.</li>\n</ul>\n\n<p>As far as I can tell, I need to derive from <code>QObject</code> in order to make the class scriptable. However, in order to register the class with <code>qRegisterMetaTypeStreamOperators()</code>, it seems like the class needs to have a default copy constructor - something a <code>QObject</code>-derived class cannot have.</p>\n\n<p>Is there any way to achieve both goals?</p>\n"},{"tags":["c++","windows","osx","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12734727,"title":"Cross-platform way to get user friendly file type description","body":"<p>What's a cross-platform way for getting a user-friendly description of a file?</p>\n\n<p>Examples:</p>\n\n<ol>\n<li>foo.pdf -> \"Portable Document Format (PDF)</li>\n<li>bar.doc -> \"Microsoft Word Document\"</li>\n</ol>\n\n<p>Pointers to libraries or appropriate system APIs would be highly appreciated.</p>\n\n<p>A Qt/C++ solution is preferred but anything is fine.</p>\n\n<p>Target platforms are Windows and Mac OS X. I'd prefer the descriptions to match what would be found in Explorer or Finder if possible (rather than maintaining a map of extensions -> descriptions myself).</p>\n"},{"tags":["c++","qt","qt-designer"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12734319,"title":"Change rectangular Qt button to round","body":"<p>I'm trying to create a round button in Qt.  A simple form with a single button 'pushButton' was created in designer.  I'm attempting to turn this into a round button using setMask.  As soon as setMask is applied the button disappeares.  Does a custom widget need to be created to make a round button?</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include &lt;QMessageBox&gt;\n#include &lt;QtGui/QPushButton&gt;\n\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    ui-&gt;pushButton-&gt;setText(\"Test Text\");\n    ui-&gt;pushButton-&gt;setFixedHeight(200);\n    ui-&gt;pushButton-&gt;setFixedWidth(200);\n\n    //Set Starting point of region 5 pixels inside , make region width &amp; height\n    //values same and less than button size so that we obtain a pure-round shape\n\n    QRegion* region = new QRegion(*(new QRect(ui-&gt;pushButton-&gt;x()+5,ui-&gt;pushButton-&gt;y()+5,190,190)),QRegion::Ellipse);\n    ui-&gt;pushButton-&gt;setMask(*region);\n    ui-&gt;pushButton-&gt;show();\n\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    QMessageBox msgbox;\n    msgbox.setText(\"Text was set\");\n    msgbox.show();\n\n}\n</code></pre>\n\n<p>Note:  If the button is created in code and applied to a window before the window is displayed, the button is displayed.  I would like to use the WYSIWIG capabilities of the Qt Designer rather than creating the entire form in code.</p>\n"},{"tags":["python","qt","pyqt","environment-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12733479,"title":"Python PyQt how to set environment variable for QProcess?","body":"<p>I'm trying to set an environment variable in a QT app for a QProcess that's being run.  The code is below.  The environment variable does not appear to be set however when inside the test.  Any suggestions?</p>\n\n<pre><code>def runUbootTests(self):\n    env = QtCore.QProcessEnvironment.systemEnvironment()\n    env.insert(\"LINUX_ETH_ADDR\", \"3c:98:bf:00:00:f4\")\n    self.process.setProcessEnvironment(env)\n    self.process.readyReadStandardOutput.connect(self.readReady)\n    self.process.start(\"make\", (\"clean\", \"check_uboot\"))\n</code></pre>\n"},{"tags":["c++","qt","casting","downcasting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12735713,"title":"Downcast using C-style cast when knowing the concrete sub class type","body":"<p>In my project I have a tree of QObjects with different types. Let me give you a simple example which should give you the idea of what I'm talking about. This could be an exemplary QObject tree (not an inheritance diagram but somewhat similar to a class diagram), where we start with the root object at the top and listing its child objects below:</p>\n\n<pre><code>                                   City\n                                     |\n                                  Street\n                                 /      \\\n                            House       ...\n                           /     \\\n                       Floor     ...\n                       /   \\\n                   Room    ...\n</code></pre>\n\n<p>While a QObject tree does not necessarily follow this rule, in my case very class in the tree has a parent of <em>one <strong>particular</strong> type</em>. So, to stay at one relation as an example, a house can have some floors and children of other types, but a floor is a child of a house and <em>only a house</em>.</p>\n\n<p>Now if I model these as QObject derived classes, the interface of <code>class Floor</code> should give me its <code>House *house()</code> by internally looking what the <code>QObject::parent()</code> is. I really know that this parent will be of type <code>House*</code>, because I designed it to be so and the programmer(s) stick to this design.</p>\n\n<p>Is it ok if I C-style cast the <code>QObject *parent()</code> to <code>House*</code> to implement <code>House *house() const</code>?</p>\n\n<p>Qt suggests to use <code>qobject_cast&lt;House*&gt;(parent())</code>, returning <code>0</code> if the <code>QObject* parent()</code> doesn't inherit from <code>House</code>, making the cast type-safe. But in release mode, I want to avoid such slow casts. I profiled one particular algorithm which is performing three times faster when doing C-style casts instead of qobject_casts. This is because qobject_cast asks the meta object about the type-info during runtime, resulting in considerable slowdowns when called <em>very</em> often.</p>\n\n<p>So what I ended up with was:</p>\n\n<pre><code>House *Floor::house() const {\n    Q_ASSERT(qobject_cast&lt;House*&gt;(parent()));\n    return (House*)parent();\n}\n</code></pre>\n\n<p>This will assert in debug mode that the parent really is a House, while just C-style-casting efficiently in release mode.</p>\n\n<p>To come to the point: <strong>I know people will yell when C++ programmers do C-style casts, but will it be ok in this situation?</strong></p>\n\n<p>An alternative solution would be to store the parent pointers of the particular types additionally as member variables, but I think this is redundant and I also like that the tree is reflected in those methods returning the tree parents.</p>\n"},{"tags":["qt","qt-creator","qml","embedded-linux","qtembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12717240,"title":"Qt QML Unsupported Image Format for SVG Files","body":"<p>I am continually getting the errors below when launching a Qt Embedded application that uses QML. From Googling around it seems like I needed to add the image loading plugins to my embedded system's exported nfs. So I attempted to add them several places but I keep getting the errors. I added the embedded ARM's version of libqsvg.so to the following locations but still get the errors...</p>\n\n<pre><code>/home/user/exported-nfs/lib/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/bin/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/lib/plugins/imageformats/libqsvg.so\n/home/user/exported-nfs/usr/plugins/imageformats/libqsvg.so\n</code></pre>\n\n<p>This doesn't work either:</p>\n\n<pre><code>export QT_PLUGIN_PATH=/usr/plugins:/usr/plugins/imageformats\necho $QT_PLUGIN_PATH\n</code></pre>\n\n<p>How can I fix this?? Where is the proper place that I need to put the plugins so they are found?</p>\n\n<p>The errors:</p>\n\n<blockquote>\n  <p>WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-backspace.svg:\n  Unsupported image format<br>\n  WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-shift-lowercase.svg:\n  Unsupported image format<br>\n  WARNING:\n  file:///usr/share/maliit/plugins/org/nemomobile/FunctionKey.qml:98:5:\n  QML Image: Error decoding:\n  file:///usr/share/maliit/plugins/org/nemomobile/icon-m-input-methods-backspace.svg:\n  Unsupported image format</p>\n</blockquote>\n"},{"tags":["qt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12675865,"title":"QGraphicsSceneWheelEvent::delta being called when mouse wheel isn't used","body":"<p>I have a performance problem with a Qt widget application. Intel VTune Amplifier suggests the issue is with <code>QGraphicsSceneWheelEvent::delta</code> being called along with <code>QTimeLine::setCurveShape</code>.</p>\n\n<p>The application is reasonably simple. It receives data on a socket and creates a new row in a <code>QAbstractTableModel</code> if/when needed. Each cell could be coloured based on its content. I control this using a <code>data()</code> override within <code>QStandardItem</code>. </p>\n\n<p>I'm reasonably sure the performance issue doesn't have anything to do with the colouring etc. </p>\n\n<p>So I'm interested to know why the <code>QGraphicsWheelEvent::delta()</code> method is being called when I'm not using the mouse at all. Also why is a <code>QTimeLine::setCurveShape</code> being called?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12733604,"title":"Segmentation fault debugger for Qt","body":"<p>Can we use gdb to debug segmentation faults for Qt programs. If no are there any other tools which can do the task for Qt programs?</p>\n"},{"tags":["sql","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":7935288,"title":"How to implement file operations with QT and SQLite","body":"<p>Greetz,</p>\n\n<p>I'm very curious on how to use basic file operations within QT and SQLite and wondering if there are current examples. My ideas are things like;</p>\n\n<ul>\n<li>OnAppOpen - create tables in an :memory: database (just call new file)</li>\n<li>OnFileSave - copy everything in :memory: into a file on disk</li>\n<li>OnFileOpen - copy everything from file on disk to :memory:</li>\n<li>OnFileNew - delete current :memory: database and Create a new one (OnAppOpen)</li>\n</ul>\n\n<p>or something like</p>\n\n<ul>\n<li>AppOpen</li>\n<li>FileNew - disconnect from database and create new one with :memory: name</li>\n<li>FileSave - get current database name</li>\n</ul>\n\n<p>Any help with this would be more than appreciated, thx.</p>\n"},{"tags":["multithreading","qt","gui","pyqt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12733636,"title":"Run arbitrary code from non-GUI thread to modify Qt GUI-managedobjects?","body":"<p>I'm using PyQt specifically but this question I'm sure applies to Qt in general.</p>\n\n<p>I'm wondering how I can execute arbitrary code on the GUI thread from within an external thread.  I.e., in my pyqt app, I have a python thread that based on certain conditions will create various components.  I prefer this \"gui code\" not to be hard coded in the Qt related code but externally located.</p>\n\n<p>The only way I know of is to use QMetaObject.invokeMethod but you need to pass a Qt-managed object as first parameter with a named slot which basically doesn't allow for \"dynamic\" or \"arbitrary\" code.</p>\n\n<p>Any ideas on how I may be able to execute arbitrary blocks of code in this fashion?</p>\n"},{"tags":["qt","qt4","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12732724,"title":"segmentation fault in notepad application","body":"<p>Ok. I know I am posting way too much code, but the error is a programmers nightmare.(The segmentation fault)\nThis is my first application and has assisted by the Qt creator tutorial. Please help.</p>\n\n<p>the notepad.h file:</p>\n\n<pre><code>#ifndef NOTEPAD_H\n#define NOTEPAD_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QPlainTextEdit&gt;\n\n\nclass Notepad : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    Notepad();\n\nprotected:\n    void closeEvent(QCloseEvent *closeEvent);\n\nprivate slots:\n    void open();\n    bool save();\n    bool saveAs();\n    void newFile();\n    void documentWasModified();\n\nprivate:\n    QPlainTextEdit *textField;\n    QString curFile;\n\n    QMenu *fileMenu;\n    QMenu *editMenu;\n    QMenu *helpMenu;\n\n    QToolBar *fileToolBar;\n    QToolBar *editToolBar;\n\n    QAction *newAct;\n    QAction *loadAct;\n    QAction *saveAct;\n    QAction *saveAsAct;\n    QAction *copyAct;\n    QAction *pasteAct;\n    QAction *cutAct;\n    QAction *exitAct;\n\n    void createMenu();\n    void showStatusBar();\n    bool maybeSave();\n    bool saveFile(const QString &amp;fileName);\n    void loadFile(const QString &amp;fileName);\n    void setCurrentFile(const QString &amp;fileName);\n    void createActions();\n    void createToolBars();\n    QString strippedName(const QString &amp;fullFileName);\n\n};\n\n#endif\n</code></pre>\n\n<p>The notepad.cpp file:</p>\n\n<pre><code>#include &lt;QtGui&gt;\n#include &lt;QMainWindow&gt;\n#include \"notepad.h\"\n\nNotepad::Notepad()\n{\n    textField = new QPlainTextEdit;\n    setCentralWidget(textField);\n    setWindowTitle(tr(\"The building of a notepad....\"));\n    createActions();\n    createMenu();\n    createToolBars();\n    showStatusBar();\n\n    connect(textField-&gt;document(),SIGNAL(contentsChanged()),this,SLOT(documentWasModified()));\n    setCurrentFile(\"\");\n    setUnifiedTitleAndToolBarOnMac(true);\n}\n\nvoid Notepad::createActions()\n{\n    newAct = new QAction(QIcon(\":/images/new_File.png\"),tr(\"&amp;New\"),this);\n    newAct-&gt;setShortcuts(QKeySequence::New);\n    newAct-&gt;setStatusTip(\"Create A new File!\");\n    connect(newAct,SIGNAL(triggered()),this,SLOT(newFile()));\n\n    loadAct = new QAction(QIcon(\":/images/open_File.gif\"),tr(\"&amp;Load\"),this);\n    loadAct-&gt;setShortcuts(QKeySequence::Open);\n    loadAct-&gt;setStatusTip(\"Open an existing file!\");\n    connect(loadAct,SIGNAL(triggered()),this,SLOT(open()));\n\n    saveAct = new QAction(QIcon(\":/images/save_File.png\"),tr(\"&amp;Save\"),this);\n    saveAct-&gt;setShortcuts(QKeySequence::Save);\n    saveAct-&gt;setStatusTip(\"Save the file!\");\n    connect(saveAct,SIGNAL(triggered()),this,SLOT(save()));\n\n    copyAct = new QAction(QIcon(\":/images/copy.png\"),tr(\"&amp;Copy\"),this);\n    saveAsAct-&gt;setShortcuts(QKeySequence::Copy);\n    saveAsAct-&gt;setStatusTip(\"Copy!\");\n    connect(saveAsAct,SIGNAL(triggered()),this,SLOT(copy()));\n\n    saveAsAct = new QAction(QIcon(\":/images/save_As.png\"),tr(\"&amp;Save As\"),this);\n    saveAsAct-&gt;setShortcuts(QKeySequence::SaveAs);\n    saveAsAct-&gt;setStatusTip(\"Save As!\");\n    connect(saveAsAct,SIGNAL(triggered()),this,SLOT(saveAs())); \n\n    exitAct = new QAction(QIcon(\":/images/exit.png\"),tr(\"&amp;Exit\"),this);\n    exitAct-&gt;setShortcuts(QKeySequence::Close);\n    exitAct-&gt;setStatusTip(\"Exit!\");\n    connect(exitAct,SIGNAL(triggered()),this,SLOT(close()));\n\n    pasteAct = new QAction(QIcon(\":/images/paste.gif\"),tr(\"&amp;Paste\"),this);\n    pasteAct-&gt;setShortcuts(QKeySequence::Paste);\n    pasteAct-&gt;setStatusTip(\"Paste Text!\");\n    connect(pasteAct,SIGNAL(triggered()),textField,SLOT(paste()));  \n\n    cutAct = new QAction(QIcon(\":/images/cut.png\"),tr(\"&amp;Cut\"),this);\n    cutAct-&gt;setShortcuts(QKeySequence::Cut);\n    cutAct-&gt;setStatusTip(\"Cut Text!\");\n    connect(cutAct,SIGNAL(triggered()),textField,SLOT(cut()));\n\n    copyAct = new QAction(QIcon(\":/images/copy.copy\"),tr(\"&amp;Copy\"),this);\n    copyAct-&gt;setShortcuts(QKeySequence::Copy);\n    copyAct-&gt;setStatusTip(\"copy Text!\");\n    connect(copyAct,SIGNAL(triggered()),textField,SLOT(copy()));    \n\n    copyAct-&gt;setEnabled(false);\n    cutAct-&gt;setEnabled(false);\n    connect(textField,SIGNAL(copyAvailable(bool)),copyAct,SLOT(setEnabled(bool)));\n    connect(textField,SIGNAL(copyAvailable(bool)),cutAct,SLOT(setEnabled(bool)));\n\n}\n\nvoid Notepad::createMenu()\n{\n    fileMenu = menuBar()-&gt;addMenu(tr(\"&amp;File\"));\n    fileMenu-&gt;addAction(newAct);\n    fileMenu-&gt;addAction(loadAct);\n    fileMenu-&gt;addAction(saveAct);\n    fileMenu-&gt;addAction(saveAsAct);\n    fileMenu-&gt;addAction(exitAct);\n\n    editMenu = menuBar()-&gt;addMenu(tr(\"&amp;Edit\"));\n    editMenu-&gt;addAction(cutAct);\n    editMenu-&gt;addAction(copyAct);\n    editMenu-&gt;addAction(pasteAct);\n\n    menuBar()-&gt;addSeparator();\n    helpMenu = menuBar()-&gt;addMenu(tr(\"&amp;Help\"));\n}\n\nvoid Notepad::createToolBars()\n{\n    fileToolBar = addToolBar(tr(\"File\"));\n    fileToolBar-&gt;addAction(newAct);\n    fileToolBar-&gt;addAction(loadAct);\n    fileToolBar-&gt;addAction(saveAct);\n    fileToolBar-&gt;addAction(saveAsAct);\n\n    editToolBar = addToolBar(tr(\"Edit\"));\n    editToolBar-&gt;addAction(cutAct);\n    editToolBar-&gt;addAction(copyAct);\n    editToolBar-&gt;addAction(pasteAct);\n\n\n}\n\nvoid Notepad::showStatusBar()\n{\n    statusBar()-&gt;showMessage(tr(\"Ready!\"));\n}\n\nvoid Notepad::closeEvent(QCloseEvent *event)\n{\n    if(maybeSave())\n        event-&gt;accept();\n    else\n        event-&gt;ignore();\n}\n\nvoid Notepad::documentWasModified()\n{\n    setWindowModified(textField-&gt;document()-&gt;isModified());\n}\n\nbool Notepad::saveAs()\n{\n    QString fileName = QFileDialog::getSaveFileName(this);\n    if(fileName.isEmpty())\n        return false;\n    return saveFile(fileName);\n}\n\nbool Notepad::save()\n{\n    if(curFile.isEmpty())\n        return saveAs();\n    else\n        return saveFile(curFile);\n}\n\nvoid Notepad::open()\n{\n    if(maybeSave())\n    {\n        QString fileName = QFileDialog::getOpenFileName(this);\n        if(!fileName.isEmpty())\n            loadFile(fileName);\n    }\n\n}\n\nvoid Notepad::newFile()\n{\n    if(maybeSave())\n        {\n            textField-&gt;clear();\n            setCurrentFile(\"\");\n        }\n\n}\n\nbool Notepad::maybeSave()\n{\n    if(textField-&gt;document()-&gt;isModified())\n        {\n            QMessageBox::StandardButton ret;\n            ret = QMessageBox::warning(this,\n                                       tr(\"Warning!\"),\n                                       tr(\"Do you want to save the changes?\"),\n                                       QMessageBox::Save | QMessageBox::Discard | QMessageBox::Cancel\n                                       );\n            if(ret==QMessageBox::Cancel)\n                return false;\n            if(ret==QMessageBox::Save)\n                return save();\n        }\n    return true;\n}\n\nbool Notepad::saveFile(const QString &amp;fileName)\n{\n    QFile file(fileName);\n    if(!file.open(QFile::WriteOnly | QFile::Text))\n        {\n            QMessageBox::warning(this,\n                                 tr(\"Error!\"),\n                                 tr(\"%1 file cannot be saved.\\nError:\").arg(fileName).arg(file.errorString())\n                                 );\n            return false;\n        }\n    QTextStream out(&amp;file);\n    #ifndef QT_NO_CURSOR\n    QApplication::setOverrideCursor(Qt::WaitCursor);\n    #endif\n\n    out &lt;&lt; textField-&gt;toPlainText(); \n\n    #ifndef QT_NO_CURSOR\n    QApplication::restoreOverrideCursor();\n    #endif\n\n    setCurrentFile(fileName);\n    statusBar()-&gt;showMessage(tr(\"File Saved.:)\"),3000);\n    return true;\n}\n\nvoid Notepad::loadFile(const QString &amp;fileName)\n{\n    QFile file(fileName);\n    if(!file.open(QFile::ReadOnly | QFile::Text))\n        {\n            QMessageBox::warning(this,\n                                 tr(\"error\"),\n                                 tr(\"error loading %1 file.\\nError:%2\").arg(fileName).arg(file.errorString())\n                                 );\n            return;\n        }\n    QTextStream in(&amp;file);\n\n    #ifndef QT_NO_CURSOR\n    QApplication::setOverrideCursor(Qt::WaitCursor);\n    #endif\n\n    textField-&gt;setPlainText(in.readAll());\n\n    #ifndef QT_NO_CURSOR\n    QApplication::restoreOverrideCursor();\n    #endif\n\n    setCurrentFile(fileName);\n    statusBar()-&gt;showMessage(tr(\"File Loaded!\"),3000);\n}\n\nvoid Notepad::setCurrentFile(const QString &amp;fileName)\n{\n    QString curFile = fileName;\n    textField-&gt;document()-&gt;setModified(false);\n    setWindowModified(false);\n\n    QString shownName = curFile;\n    if(curFile.isEmpty())\n        shownName = \"untitled.txt\";\n\n    setWindowFilePath(shownName);\n}\n\nQString Notepad::strippedName(const QString &amp;fullFilename)\n{\n    return QFileInfo(fullFilename).fileName();\n}\n</code></pre>\n\n<p>The main.cpp:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QtGui&gt;\n#include \"notepad.h\"\n\n    int main(int argc, char **argv)\n    {\n        //Q_INIT_RESOURCE(application);\n\n        QApplication app(argc, argv);\n        //app.setStyle(\"motif\");                          //possible styles: windows,plastique,cde,motif etc.\n        app.setOrganizationName(\"Trolltech\");\n        app.setApplicationName(\"Application Example\");\n        Notepad mainWin;\n    #if defined(Q_OS_SYMBIAN)\n        mainWin.showMaximized();\n    #else\n        mainWin.show();\n    #endif\n\n        return app.exec();\n    }\n</code></pre>\n"},{"tags":["osx","qt","qmake"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12727884,"title":"qmake and osx bundles","body":"<p>I want to place some extra information (text files, background pic or others) to an .app-bundle and then access these items from QT. Ok, it is possible to add them using the resource files, but I want to give the user the ability to change the contents relatively easy. The working approach is to do it manually - which is working. However, more beneficial would be if I could do this directly from the qmake .pro files. How do I do this in an elegant way?</p>\n"},{"tags":["c++","qt","gui","books","qml"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":97,"score":-2,"question_id":12732211,"title":"Reference book for learning Qt","body":"<p>Can anybody suggest me a good reference book for Qt Quick?\nI want to learn QML.\nI have \"c++ gui programming with qt4\" which is a good book.\nIs there any similar one for QML?</p>\n\n<p>Thanks!</p>\n"},{"tags":["qt","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":90,"score":6,"question_id":12730668,"title":"Why doesn't QString treat special characters correctly, when no QCoreApplication has been instanciated?","body":"<p>I started writing a very basic text manipulation application in Qt, without a GUI. \nMy text contained special characters, but somehow I was not able to print those special characters, no matter what I did. \nI then noticed, that after adding a <code>QCoreApplication</code> instance (which I had previously removed, because I thought I wouldn't need it), everything worked just as it should. </p>\n\n<p>Here is the code:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;QCoreApplication&gt;\n#include &lt;QString&gt;\n#include &lt;QDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    QString s(QString::fromUtf8(\"aä\\xc3\\xa4\")); // aää\n\n    qDebug() &lt;&lt; s;\n    qDebug() &lt;&lt; s.toAscii();\n    qDebug() &lt;&lt; s.toLatin1();\n    qDebug() &lt;&lt; s.toUtf8();\n    qDebug() &lt;&lt; s.toLocal8Bit();\n    qDebug(\"%s\", qPrintable(s));\n\n    qDebug(\"%i\", s.length());\n    qDebug(\"%i\", strlen(qPrintable(s)));\n\n    return 0;\n}\n</code></pre>\n\n<p>Output with <code>QCoreApplication</code> (everything works as it should):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"aää\" \n\"aää\" \n\"aää\" \n\"aÃ¤Ã¤\" \n\"aÃ¤Ã¤\" \naää\n3\n5\n</code></pre>\n\n<p>Output after commenting out the line, where <code>QCoreApplication</code> is defined (special characters are not shown anymore):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"a\" \n\"a\" \n\"a\" \n\"a\" \n\"a\" \na\n3\n1\n</code></pre>\n\n<p>Note, that already after calling <code>qPrintabable(s)</code>, the special characters are already removed. \nI tested this to be sure, that <code>QDebug</code> is not the problem.</p>\n\n<p>I also checked if the file is really encoded in UTF-8. </p>\n\n<p>Why doesn't QString treat special characters correctly, when no <code>QCoreApplication</code> has been instanciated?</p>\n"},{"tags":["c++","qt","qt-creator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12730591,"title":"How to add stretchable spacer in Qtoolbar?","body":"<p>I want some of my toolbar actions appear left-bound and some right-bound. I Gtk I remember adding a stretchable (expandable) separator. How do I achieve that in Qt? </p>\n\n<p>I use Qt Creator but I am not afraid of editing source, so either solution is greatly appreciated. </p>\n"},{"tags":["qt","opengl","overlay","phonon"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":141,"score":1,"question_id":12275989,"title":"How to overlay a Qt Phonon video with an OpenGL scene?","body":"<p>I want play a video with the Qt Phonon Player and overlay it with an OpenGL scene, so that the semitransparent OpenGL objects are above the video. I searched for hours but found no hints how to realize this. This Proof of Concept from Intel describes what I am looking for.</p>\n\n<p><a href=\"http://download.intel.com/embedded/software/IEGD/324707.pdf\" rel=\"nofollow\">http://download.intel.com/embedded/software/IEGD/324707.pdf</a></p>\n\n<p>How can this be realized? Which components are necessary for this?</p>\n\n<p>Some posts which are similar to mine:</p>\n\n<p>to clearify my intention here i found a picture what perfectly describes what i am looking for. This picture is from a Intel articel for a Hardware Feature of a Intel embedded graphic device (http://download.intel.com/embedded/software/IEGD/324707.pdf)</p>\n\n<p>here is a picture <a href=\"http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png\" rel=\"nofollow\">http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png</a></p>\n\n<p>Could or better how could this effect be inplemented on LinuxOS? With compiz+opengl+qt ?</p>\n\n<hr>\n\n<p>to clearify my intention here i found a picture what perfectly describes what i am looking for. This picture is from a Intel articel for a Hardware Feature of a Intel embedded graphic device (http://download.intel.com/embedded/software/IEGD/324707.pdf)</p>\n\n<p>here is a picture <a href=\"http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png\" rel=\"nofollow\">http://www.img-host.de/bild.php/33352,bildschirmfotoGURGI.png</a></p>\n\n<p>Could or better how could this effect be inplemented on LinuxOS? With compiz+opengl+qt ?</p>\n"},{"tags":["sql","qt","qsqltablemodel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12730559,"title":"QSql : create table with specific types","body":"<p>How do I create a table in Qt (QSql) using QSqlTableModel or QSqlField?</p>\n\n<p>I want to create a table \"images\" with filename (type string), probability (type double or float) and seen (type bool). </p>\n\n<p>I already know how to create the table (<code>model.setTable(\"images\")</code>) and the <a href=\"http://qt-project.org/doc/qt-4.8/qsqltablemodel.html#details\" rel=\"nofollow\" title=\"QSqlTableModel #Details\">documentation</a> suggests using <code>setHeaderdata(0, Qt::Horizontal, \"filename\")</code>.</p>\n\n<p>How do I then enforce that the type is string and not-empty etc? Can I use QSqlField for that? If so, how?</p>\n"},{"tags":["python","qt","pyqt","pyside"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12712360,"title":"QtSingleApplication for PySide or PyQt","body":"<p>Is there a Python version of the C++ class <a href=\"http://doc.qt.digia.com/solutions/4/qtsingleapplication/qtsingleapplication.html\" rel=\"nofollow\"><code>QtSingleApplication</code></a> from <a href=\"http://qt.digia.com/Product/Qt-Add-Ons/Qt-Solutions-Archive/\" rel=\"nofollow\">Qt Solutions</a>?</p>\n\n<p><a href=\"http://doc.qt.digia.com/solutions/4/qtsingleapplication/qtsingleapplication.html\" rel=\"nofollow\"><code>QtSingleApplication</code></a> is used to make sure that there can never be more than one instance of an application running at the same time.</p>\n"},{"tags":["qt","dll","symbian","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12729772,"title":"\"Failed to create the process\" after adding a DLL to the project","body":"<p>[FYI: I've got the answer, and I'm in process of writing the solution. This post is only for reference for others with similar problem]</p>\n\n<hr>\n\n<p>I'm working on some small application on Symbian-Belle platform. Everything was doing well until I've hit a place where I had to parse a few JSON files. I've found a QJson library, which seemed very relevant and easy to use (although it seems to return everything as QVariantMap, which probalby is not that lightweight..).</p>\n\n<p>This library is however not provided in a precompiled form. It is source-only. Fortunatelly, it is prepared to compile under QtCreator's Symbian projects.</p>\n\n<p>After some initial setups and minor fixes, everything ran smoothly on the Simulator, so, the next step was to run it on the real device. Here some problems began. After building, linking, deploying and installing, the IDE told me:</p>\n\n<blockquote>\n  <p>Launch failed: Command answer [command error], 1 values(s) to request: 'C|4|Processes|start|\"\"|\"MyApp.exe\"|[\"\"]|[]|true'<br>\n  #0 {\"Code\":-46,Format=\"Failed to create the process (verify that the executable and all required DLLs have been transferred and that the process is not already running) (permission denied)\"}<br>\n  Error: 'Failed to create the process (<strong>verify that the executable and all required DLLs have been transferred and that the process is not already running) (permission denied)</strong>' Code: -46</p>\n</blockquote>\n\n<p>The launch process instantly was aborted. Of course the application was launching properly back when the json-related code and library was not yet added to the project..</p>\n\n<p>I've checked the suggested thing and the QJson library was indeed properly installed on the device, so it was not about missing files. Also, the application it self has been properly installed too: I could even try to run it manually. Doing that resulted in an error:</p>\n\n<blockquote>\n  <p>Unable to execute file for security reasons</p>\n</blockquote>\n\n<p>What is going on? How to fix it?</p>\n"},{"tags":["c++","qt","command","system"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12696924,"title":"How to get the output of system() command qt c++?","body":"<p>I want to get the output of this command for example :</p>\n\n<pre><code>system(\"dir C:\\\");\n</code></pre>\n\n<p>or of :</p>\n\n<pre><code>QProcess::execute(\"cmd /c dir C:\\\");\n</code></pre>\n\n<p>How to do that ?</p>\n\n<p>Thanks !</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12728628,"title":"How bind \"Alt+space\" hotkey to the slot in Qt?","body":"<p>I am trying bind some \"actions\" (connect to slot) on this hotkey (Qt::ALT + Qt::Key_Space) without success (((((.<br>\nAnother combinations works fine without additional effort for example Qt::ALT+Qt::Key_Return.\n<code></p>\n\n<pre><code>  QShortcut* ptrHotKey = new QShortcut(QKeySequence(Qt::ALT + Qt::Key_Return), this);\n  connect(ptrHotKey, SIGNAL(activated()), this, SLOT(testSlot())); \n</code></pre>\n\n<p></code>\nAttempts catch in keyPressEvent not succeed, they even do not go through that handler.</p>\n\n<p>On Windows sytems by default they call system menu (\"Restore\", \"Move\", \"Size\", \"Minimize\", \"Maximize\", \"Close\").</p>\n"},{"tags":["image","qt","scrollbar","qlabel","qscrollarea"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":543,"score":0,"question_id":10981662,"title":"QLabel showing an image inside a QScrollArea","body":"<p>I've successfully implemented a Image Viewer (for DICOM) in Qt.\nI can see the image and I can zoom in and out correctly.</p>\n\n<p>Now, I want to see scroll bars if the image is too big to show when I zoom in.</p>\n\n<p>I've used the UI. I placed a <strong>QScrollArea</strong>. Inside, the <strong>QLabel</strong>.\nThe <em>verticalScrollBarPolicy</em> is <em>ScrollBarAsNeeded</em>.\nThe <em>horizontalScrollBarPolicy</em> is <em>ScrollBarAsNeeded</em>.</p>\n\n<p>The problem is: it doesn't work. I zoom in, but no scrollbar appears.</p>\n\n<h1>Second try: using a layout inside the QScrollArea.</h1>\n\n<p>So now there's a <strong>QWidget</strong> between the QScrollArea and the QLabel: a horizontal layout.\nOpened the same image, now I can see a vertical scroll bar on the right. The image is streched from left to right. When I zoom the image gets its correct proportion.</p>\n\n<p>BUT... I zoom out and the scroll bar is the same, even if I can see the whole image. The horizontal scroll bar never appears.</p>\n\n<p>Resizing the QLabel doesn't seem to affect. But if I resize the QScrollArea (resizing the main window) the horizontal scroll bar appears.</p>\n\n<h1>I've been checking some numbers:</h1>\n\n<h2>In the QScrollArea</h2>\n\n<ul>\n<li>Its size changes: below 599 width (why this number? I can't see it anywhere) the horizontal bar appears.</li>\n<li><em>sizeHint()</em> always returns the same values: 33x41</li>\n</ul>\n\n<h2>In the QLabel</h2>\n\n<ul>\n<li>The dimensions change, but that doesn't affect.</li>\n<li><em>sizeHint()</em> always returns the same values: 560x1558</li>\n</ul>\n\n<p>Here is the code in XML from the UI designer:</p>\n\n<pre><code>&lt;widget class=\"QWidget\" name=\"centralWidget\"&gt;\n   &lt;property name=\"autoFillBackground\"&gt;\n    &lt;bool&gt;false&lt;/bool&gt;\n   &lt;/property&gt;\n   &lt;layout class=\"QVBoxLayout\" name=\"verticalLayout\"&gt;\n    &lt;property name=\"margin\"&gt;\n     &lt;number&gt;0&lt;/number&gt;\n    &lt;/property&gt;\n    &lt;item&gt;\n     &lt;widget class=\"QScrollArea\" name=\"scrollArea\"&gt;\n      &lt;property name=\"widgetResizable\"&gt;\n       &lt;bool&gt;true&lt;/bool&gt;\n      &lt;/property&gt;\n      &lt;property name=\"alignment\"&gt;\n       &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n      &lt;/property&gt;\n      &lt;widget class=\"QWidget\" name=\"scrollAreaWidgetContents\"&gt;\n       &lt;property name=\"geometry\"&gt;\n        &lt;rect&gt;\n         &lt;x&gt;0&lt;/x&gt;\n         &lt;y&gt;0&lt;/y&gt;\n         &lt;width&gt;637&lt;/width&gt;\n         &lt;height&gt;649&lt;/height&gt;\n        &lt;/rect&gt;\n       &lt;/property&gt;\n       &lt;layout class=\"QHBoxLayout\" name=\"horizontalLayout_2\"&gt;\n        &lt;item&gt;\n         &lt;widget class=\"QLabel\" name=\"miImagen\"&gt;\n          &lt;property name=\"sizePolicy\"&gt;\n           &lt;sizepolicy hsizetype=\"Preferred\" vsizetype=\"Preferred\"&gt;\n            &lt;horstretch&gt;0&lt;/horstretch&gt;\n            &lt;verstretch&gt;0&lt;/verstretch&gt;\n           &lt;/sizepolicy&gt;\n          &lt;/property&gt;\n          &lt;property name=\"autoFillBackground\"&gt;\n           &lt;bool&gt;true&lt;/bool&gt;\n          &lt;/property&gt;\n          &lt;property name=\"scaledContents\"&gt;\n           &lt;bool&gt;true&lt;/bool&gt;\n          &lt;/property&gt;\n          &lt;property name=\"alignment\"&gt;\n           &lt;set&gt;Qt::AlignLeading|Qt::AlignLeft|Qt::AlignTop&lt;/set&gt;\n          &lt;/property&gt;\n         &lt;/widget&gt;\n        &lt;/item&gt;\n       &lt;/layout&gt;\n      &lt;/widget&gt;\n     &lt;/widget&gt;\n    &lt;/item&gt;\n   &lt;/layout&gt;\n  &lt;/widget&gt;\n</code></pre>\n\n<p>What am I missing? Thank you.</p>\n"},{"tags":["qt","vtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12727992,"title":"Printing VtkBmpWriter with QPrinter","body":"<p>I am able to save my render window as bitmap by doing:</p>\n\n<pre><code>vtkWindowToImageFilter *winToImg = vtkWindowToImageFilter::New();\nwinToImg-&gt;SetInput(mRenderWindow);\nvtkBMPWriter *writer = vtkBMPWriter::New();\nwriter-&gt;SetInput(winToImg-&gt;GetOutput());\nwriter-&gt;SetFileName(aFilename.c_str());\nwriter-&gt;Write();\n</code></pre>\n\n<p>and I am able to use the QPrinter to print a ready bitmap image:</p>\n\n<pre><code>QPrinter printer;\nQPrintDialog *dialog = new QPrintDialog(&amp;printer);\ndialog-&gt;setWindowTitle(tr(\"Print Document\"));\nif (dialog-&gt;exec() != QDialog::Accepted) {\n    return;\n}\nQImage testbild(\"C:\\\\test.bmp\");\nQPainter painter(&amp;printer);\npainter.drawImage(QPoint(0, 0), testbild);\npainter.end();\n</code></pre>\n\n<p>But I do not know how to combine both and print the image from vtkbmpwriter. How can I extract the bmp image from vtkbmpwriter and pass it to the painter/printer?</p>\n"},{"tags":["qt","qjson"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12705282,"title":"Use qjson in my Qt symbain app","body":"<p>I'm using Qt to develop a Symbian app.</p>\n\n<p>I downloaded qjson from the <a href=\"http://qjson.sourceforge.net/get_it/\" rel=\"nofollow\">link</a>. I followed the instructions in that link and yes, I have the qjson.sis file. Now I need to use it in my app. When I tried, I got this error. </p>\n\n<p>Launch failed: Command answer [command error], 1 values(s) to request: 'C|101|Processes|start|\"\"|\"MyProject.exe\"|[\"\"]|[]|true' \n{\"Code\":-46,Format=\"Failed to create the process (verify that the executable and all required DLLs have been transferred) (permission denied)\"}\nError: 'Failed to create the process (verify that the executable and all required DLLs have been transferred) (permission denied)' Code: -46</p>\n\n<p>And when I press the launch icon, it shows, \"Unable to execute file for security reasons\".</p>\n\n<p>Then I install the qjson.sis in my mobile and then tried to install my app, I got this error.</p>\n\n<p>:-1: error: Installation failed: 'Failed to overwrite file owned by another package: c:\\sys\\bin\\qjson.dll in ' Code: 131073; see <a href=\"http://wiki.forum.nokia.com/index.php/Symbian_OS_Error_Codes\" rel=\"nofollow\">http://wiki.forum.nokia.com/index.php/Symbian_OS_Error_Codes</a> for descriptions of the error codes</p>\n\n<p>In my .pro file I have this. </p>\n\n<pre><code>symbian: {\naddFiles.sources = qjson.dll\naddFiles.path = /sys/bin\nDEPLOYMENT += addFiles\n}\n\nsymbian: {\nLIBS +=  -lqjson\n}\n</code></pre>\n\n<p>Any ideas...?</p>\n"},{"tags":["qt","qml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12723851,"title":"Use QML Webview to Download file","body":"<p>can I use webview QML component to download file and track url changes in the same ?\nHow to give path to save downloaded file ?</p>\n"},{"tags":["qt","printing","dialog","extending"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12723993,"title":"How to extend the Qt Print Dialog","body":"<p>Is it possible to extend the Qt print dialog (QPrintDialog) with additional UI elements, as it can be done in MFC via the PD_ENABLEPRINTTEMPLATE macro? See <a href=\"http://www.codeproject.com/Articles/2585/An-easy-way-to-customise-the-default-Print-dialog\" rel=\"nofollow\">this link</a>.</p>\n\n<p>I didn't find anything in the Qt documentation about this.</p>\n\n<p>It seems that Qt shows the native print dialog on Windows, which probably makes it even more difficult?</p>\n"},{"tags":["c++","qt","animation","qwidget"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12724104,"title":"Qt 4.7.4 QPropertyAnimation not working ","body":"<p>I'm trying to have animation on a button click event. But somehow the animation is not working. I have referred the Qt reference docs, but could not find the root cause which is causing the issue</p>\n\n<p>Below is sample code :</p>\n\n<pre><code>void MainWindow::AnimationClick()\n{\n    // define toolbar y movement positions for animation\n    TOOLBAR_Y_SHOWN = 0;\n    TOOLBAR_Y_HIDDEN = -m_AnimatedWidget-&gt;height();\n    m_AnimatedWidget = new AnimatedWidget(this);\n\n    QPropertyAnimation *m_ani = new QPropertyAnimation(m_AnimatedWidget, \"pos\", this);\n\n    m_ani-&gt;setDuration(500);\n\n    m_ani-&gt;setEndValue(QPoint(m_AnimatedWidget-&gt;pos().x(), TOOLBAR_Y_HIDDEN));\n    m_ani-&gt;setEasingCurve(QEasingCurve::InBack);\n\n    m_ani-&gt;start();\n}\n</code></pre>\n\n<p>With the above implementation nothing is happening on the click event.\nAny suggestions , Thanks.</p>\n"},{"tags":["qt","opengl","webkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12723697,"title":"Qt webkit as an overlay on top of opengl","body":"<p>I'm writing a game engine and using opengl/qt. I'm trying to use webkit as a 2D UI overlay for menus etc. I found some examples but none of them work for some reason. For example adding two widgets QGLWidget and a QWebView doesn't seem to work.\nHow should I do this without losing much performance?</p>\n"},{"tags":["c++","qt","icons","runtime","qtoolbar"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12701435,"title":"On Qt, how to change the icon of an action in the toolbar at runtime?","body":"<p>In a program which calculates abritary precision numbers. \nI have an action on the taskbar. </p>\n\n<p><code>QAction* button_stop_continue.</code> </p>\n\n<p>I've set the icon green icon in the beginning of the program, when calculations are being executed it should turn red and so on.</p>\n\n<p>I've already tried something like this:</p>\n\n<pre><code>connect(this, SIGNAL(startedComputing()), this, SLOT(turnIconRed()));\nconnect(this, SIGNAL(finishedComputing()), this, SLOT(turnIconGreen()));\n</code></pre>\n\n<p>the function turnIconRed is looking similar to this:</p>\n\n<pre><code>void turnIconRed()\n{\n    button_stop_continue-&gt;setIcon(QIcon(\"images/red-light.png\"));\n}\n</code></pre>\n\n<p>I've come up with some incredibly-ugly algorithms :S. Isn't there a straight-forward way to deal with that on Qt? Any ideas?</p>\n\n<p>Thanks.</p>\n"},{"tags":["qt","qt4","qt-creator","qt4.8","qt4.6"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12707258,"title":"build a qt 4.6 from a qt 4.8","body":"<p>I have a project in <code>qt-creator</code>.<br>\nthat computer have <code>Qt: 4.8.2</code></p>\n\n<p>one of the computers i want to run the application on have <code>Qt: 4.6.2</code></p>\n\n<p>I can see that qt-creator have an option under the project for QtVersions,\nbut i only got one option there \"<code>Qt 4.8.1 (System)</code>\"</p>\n\n<p>Id like to have <code>Qt 4.6.x</code> as an option there too, how do i add/install that?</p>\n\n<p>Target computer:</p>\n\n<pre><code>kde4-config --version\nQt: 4.6.2\nKDE Development Platform: 4.4.2 (KDE 4.4.2)\nkde4-config: 1.0\n\nuname -a\nLinux fw-01 2.6.32-24-generic #41-Ubuntu SMP Thu Aug 19 01:12:52 UTC 2010 i686 GNU/Linux\n</code></pre>\n\n<p>Build computer:</p>\n\n<pre><code>kde4-config --version\nQt: 4.8.2\nKDE Development Platform: 4.8.5 (4.8.5)\nkde4-config: 1.0\n\nuname -a\nLinux rito 3.3.8-gentoo #3 SMP Thu Sep 13 10:11:22 CEST 2012 i686 AMD Athlon(tm) II X2 245 Processor AuthenticAMD GNU/Linux\n</code></pre>\n"},{"tags":["c++","qt","polymorphism","signals"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12708123,"title":"Qt fire different signal depending on parameter type","body":"<p>I need to fire different signal from SomeClass::fireSignal member function depending on it parameters type. The solution I see is to use Qt meta system. Is there more correct solution for such task? Please help. Thanks in advance.</p>\n\n<pre><code>class SomeClass : public QObject\n{\n    Q_OBJECT\npublic:\n    void fireSignal(BaseClass *param) {\n        if(param-&gt;metaObject-&gt;className() == \"DerivedClass1\") {\n            emit derivedClass1Signal(param)\n        }\n        if(param-&gt;metaObject-&gt;className() == \"SecondDerivedClass\") {\n            emit secondDerivedClassSignal(param)\n        }\n        if(param-&gt;metaObject-&gt;className() == \"OtherDerivedClass\") {\n            emit otherDerivedClassSignal(param)\n        }\n    }\nsignals:\n    void derivedClass1Signal(DerivedClass1 *param);\n    void secondDerivedClassSignal(SecondDerivedClass *param);\n    void otherDerivedClassSignal(OtherDerivedClass *param)\n};\n</code></pre>\n"},{"tags":["c++","qt","events","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12718296,"title":"Is there a way to use Qt without QApplication::exec()?","body":"<p>Is there a safe way to use Qt without calling QApplication::exec()? </p>\n\n<p>I have a number of different objects that are carrying out long-lived processes on multiple resources (at least one of them is communicating with a web application server). I'm making a GUI application that prompts the user for input at the right time for these different processes. I'd like to have my 'flow' logic - the logic that determines what to do next - in one place and not in a GUI object like a dialog class. I was thinking that I could do something like this:</p>\n\n<pre><code>...\n\nwait_dialog dlg;\ndlg.setModal( false );\ndlg.show(); // Should return...\n\nnetobject.start_long_lived_process_that_happens_on_other_thread( &amp;completion_callback );\nwhile ( !completion_callback_called() )\n{\n    qApp-&gt;processEvents();\n    netobject.pump_callbacks();\n    magically_avoid_busywait_while_still_servicing_qt_somehow();\n}\n\ndlg.hide();\n\n...\n</code></pre>\n\n<p>Is this safe, from Qt's point of view? Is there a 'good' way of implementing <code>magically_avoid_busywait_while_still_servicing_qt_somehow()</code>?</p>\n\n<p>What I'm trying to accomplish here is to write our processing flow in the most explicit way possible. I'd like a single function that does this:</p>\n\n<pre><code> show_a_non_modal_wait_dialog()\n\n start_some_processing_1()\n\n wait_for_processing_1_to_finish()\n\n dismiss_non_modal_wait_dialog()\n\n show_modal_input_dialog()\n\n if ( cancelled ) return\n\n show_a_non_modal_wait_dialog()\n\n start_some_processing_2()\n\n wait_for_processing_2_to_finish()\n\n dismiss_non_modal_wait_dialog()\n\n show_modal_input_dialog()\n\n if ( cancelled ) return\n\n ...\n</code></pre>\n\n<p>What I really want to avoid is kicking off and waiting for the processing inside Qt widgets and windows. Also, the processing objects themselves are entirely independent of Qt. I suppose what I'm trying to do is create a controller in a single function with a few helper callbacks and status variables.</p>\n"},{"tags":["multithreading","qt","opencv"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":297,"score":1,"question_id":11543298,"title":"Qt + OpenCV - Displaying images on QLabel","body":"<p>I'm trying to capture live view from camera, and redirecting it to show up on QLabel.\nBut only half view comes (see below):\n<img src=\"http://i.stack.imgur.com/n8xDJ.png\" alt=\"Screenshot\"></p>\n\n<p>The left hand side window, is shown using cv::imshow(), which works perfectly.\nI'm capturing the Mat in a different thread, and then emitting a signal with a Qimage as a parameter, and then setting the image to the QLabel in the slot.</p>\n\n<p>here's the code:</p>\n\n<pre><code>while(true){\n    cam &gt;&gt; mat;\n    cv::imshow(\"name\",mat);\n    emit send_UIupdate(mat2qimage(mat));\n}\n</code></pre>\n\n<p>and in the slot setting the image to Qlabel:</p>\n\n<pre><code>void Dialog::updateUI(const QImage &amp;img){\n    label-&gt;setPixmap(QPixmap::fromImage(img));\n}\n</code></pre>\n\n<p>using the below to convert Mat to QImage:</p>\n\n<pre><code>QImage camera::mat2qimage(const cv::Mat&amp; mat) {\n    cv::Mat rgb;\n    cv::cvtColor(mat, rgb, CV_BGR2RGB);\n    return QImage((const unsigned char*)(rgb.data), rgb.cols, rgb.rows, QImage::Format_RGB888);\n}\n</code></pre>\n\n<p><strong>Any suggestions, to solve this problem ??</strong></p>\n"},{"tags":["qt","localization","internationalization","english"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12712577,"title":"Qt Internationalization: What do you use as source text in your Qt application?","body":"<p>This question is about best practices. I am currently sticking my head into the Qt internationalization system. </p>\n\n<p>What do you use as source text in your Qt application?</p>\n\n<ol>\n<li>Do you write <strong>english text</strong> in your application code and use that one as the <strong>final language?</strong></li>\n<li>Or do you write english text, but still setup a <strong>dedicated translation file for the english language version</strong>, so that the text in your code is never shown to a customer?</li>\n<li>Or do you <strong>use IDs in your code</strong> (e.g. \"ID_ABOUT_US\"), so that the language files will never \"lose\" translations when changing the english text?</li>\n</ol>\n\n<p>Background: Let's say I use english as source language and have 5 more translation files for my application. Now it turns out that the english text is not well formulated and needs to be changed. Will I run into the problem that the other 5 translations \"lose\" this translation then after the change, due to the heuristic approach lupdate uses? Or do you typically see this as a benefit since the translations should then be reviewed as well?</p>\n\n<p>Very interested in your experiences!</p>\n\n<p>Greetings,</p>\n\n<p>Fabian</p>\n"},{"tags":["qt","menu"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":12480432,"title":"Qt vertical menu","body":"<p>I'm trying to create a vertical menu with a Qt application that would have the following example structure:</p>\n\n<pre>\n    Language\n      |--> Select\n         |--> English\n      |--> Load\n    Image\n      |--> Save Format\n         |--> JPEG\n         |--> Bitmap\n      |--> JPEG Quality\n         |--> Super High\n         |--> High\n         |--> Low\n</pre>\n\n<p>and so on. I'd ideally like to use <code>QMenuBar</code> to implement not only the top level menu items but all of the sub-menus as well. I would also like to make use of the signal/slots that can be used to trigger these various options. Some of the options are of the On and Off variety and being able to quickly reflect the selected choice with a checkmark or something would be ideal.</p>\n\n<p>I can layout the <code>QMenuBar</code> and have it show up either on top or bottom when housed within a <code>QVBoxLayout</code>. However, what I want to do is to change its orientation from horizontal to vertical. I'm a novice when it comes to Qt programming and my searching hasn't yielded the right functions or Widget to use to gain this functionality.</p>\n\n<p>All pointers and tips appreciated.</p>\n\n<p>Here is an image that shows what I'm trying to accomplish.</p>\n\n<p><img src=\"http://i.stack.imgur.com/gmT6I.jpg\" alt=\"menu structure\"></p>\n\n<p>The user has selected \"sensor display\" and is shown the 3 sub-options (pressure, pan &amp; tilt, radiation) and also by default is moved over to the first option (pressure) which happens to have 2 sub-options (on, off).</p>\n\n<p>The sub-menus all need to appear horizontally across as opposed to the \"tree view\" I've depicted in the text menu above.</p>\n\n<p>Regards</p>\n"},{"tags":["c++","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12713673,"title":"QWidget in delegate: no repaint upon mouseover, therefore MouseOver state cannot be checked","body":"<p>It does work on Linux+KDE, but not on Windows/OSX/Linux + XFCE.</p>\n\n<p>I have a list view, the items are custom widgets, and the delegate for the list view's items does not get paint() calls if mouse is over the elements.</p>\n\n<p>Tried to simulate the event via css ( :hover ), but it seems it is not working for QWidgets.</p>\n\n<p>Am I missing something, or it's really a feature missing on platforms other than KDE?</p>\n"},{"tags":["qt","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12679464,"title":"Run an external application inside a qwidget","body":"<p>How can we embed an external application inside a QWidget?</p>\n\n<p>I have tried same using QX11EmbedContainer but getting error \"XEvent has not been declared\".</p>\n\n<p>I have tried below mentioned code ('this' represents a qwidget class reference )</p>\n\n<pre><code>     QX11EmbedContainer * container = new QX11EmbedContainer(this);\n     container-&gt;show();\n\n     QProcess * process = new QProcess(container);\n     QString executable(\"\\\"C:\\\\Program Files\\\\Windows Media Player\\\\wmplayer.exe\\\"\");\n\n     process-&gt;start(executable);\n\n     this-&gt;show();\n</code></pre>\n\n<p>container object i am trying to add to current tab of tabwidget object in which i want to run some external application(Application1).\nThis is my code</p>\n\n<pre><code>     QTabWidget *tabWidget = new QTabWidget;\n\n     /* Trying to add external appllication to a tab of tabwidget object */\n     QX11EmbedContainer * container = new QX11EmbedContainer(tabWidget-&gt;currentWidget());\n     container-&gt;show();\n\n     QProcess * process = new QProcess(container);\n     QString executable(\"/home/abhishek/practice/Applicaion1\");\n\n     process-&gt;start(executable);\n</code></pre>\n\n<p>Application1 gets executed but in a seperate window but i want it to run in my tab</p>\n"},{"tags":["windows","qt","exception","qt4","access-violation"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":55,"score":4,"question_id":12701541,"title":"Qt App works fine on MacOSX, Access Violation on Windows","body":"<p>So I've stumbled into a problem that I am not able to solve for a while. I'm writing a Qt application in C++, and have been developing on MacOSX, which it runs fine on. However, as I am testing the code in windows I'm running into the following access violation when I close OR cancel QDialog child that I have:</p>\n\n<p><code>Unhandled exception at 0x5ce6b1ea (QtGuid4.dll) in MyApp.exe: 0xC0000005: Access violation reading location 0xfeeefefa.</code></p>\n\n<p>Debugging this, I see that it crashes after a lot of Qt api calls, eventually making its way down to QWindowSurface_Raster.cpp. Here is the Qt library code that it crashes on:</p>\n\n<pre><code>#endif\n{\n    QPoint wOffset = qt_qwidget_data(widget)-&gt;wrect.topLeft();\n\n    HDC widget_dc = widget-&gt;getDC();\n\n    QRect wbr = br.translated(-wOffset);\n    BitBlt(widget_dc, wbr.x(), wbr.y(), wbr.width(), wbr.height(),\n/*CRASH HERE!*/   d-&gt;image-&gt;hdc, br.x() + offset.x(), br.y() + offset.y(), SRCCOPY);\n        widget-&gt;releaseDC(widget_dc);\n    }\n</code></pre>\n\n<p>And lastly here is my code where I call the qdialog:</p>\n\n<pre><code>void MainWindow::prefDialog()\n{\n        prefD = new PreferenceDialog(this);\n        prefD-&gt;exec();\n} /* crashes here, after I hit cancel/ok on dialog and it leaves exec */\n</code></pre>\n\n<p>PreferenceDialog.h:</p>\n\n<pre><code>class PreferenceDialog : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    PreferenceDialog(QWidget *parent);\n.....\n</code></pre>\n\n<p>PreferenceDialog.c</p>\n\n<pre><code>PreferenceDialog::PreferenceDialog(QWidget *parent) :\n    QDialog(parent)\n{\n....\nconnect(okayButton, SIGNAL(released()), this, SLOT(okayClicked()));\nconnect(addKeyButton, SIGNAL(released()), this, SLOT(addClicked()));\nconnect(cancelButton, SIGNAL(released()), this, SLOT(cancelClicked()));\n    ....\n</code></pre>\n\n<p>I can show you my PreferenceDialog code, or any other code, but I think it'll just bloat things up. PreferenceDialog doesn't do much other than shown, and I dont override any function like exec(), etc. The stack trace is pretty bloated too so I wont post for now, its simply a bunch of Qtguid4.dll calls after exec() finishes, (about 10) until it gets to that crash in QWindowRaster. </p>\n\n<p>Let me know if any other information is needed though. I'm pretty new at Qt so having a hard time figuring this out, any help would be greatly appreciated, Thanks!</p>\n"},{"tags":["python","qt","pyqt","close","destroy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12693407,"title":"Execute code when QWidget is actually destroyed, not just closed","body":"<p>I have created a custom <code>QDialog</code> class and overridden the <code>closeEvent</code> to just hide the dialog as it is a child of another widget. My dialog must only close when its parent is closed and not when it's accepted, rejected or the user clicks the close button.</p>\n\n<p>This all works fine but now I need to open a connection to a database and only close it when the dialog is destroyed not just when it's closed.</p>\n\n<p>My code:</p>\n\n<pre><code>from PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\nimport sys\n\ndef Log_Closed():\n    print \"Bye bye\"\n\nclass My_dlg(QDialog):\n    def __init__(self, parent=None):\n        QDialog.__init__( self, parent )\n\n        #self.conn = open_connection()\n        print \"Connection Opened\"\n\n        close_btn  = QPushButton(\"Actually Close\")\n        QVBoxLayout(self).addWidget(close_btn)\n\n        close_btn.clicked.connect(self.Actually_Close)\n        self.destroyed.connect(Log_Closed)\n\n    def Actually_Close(self):\n        print \"Actually Close\"\n        self.parent().close()\n\n    def closeEvent(self, event):\n        if event.type() == QEvent.Close:\n            event.ignore()\n            self.hide()\n            print \"hidden\"\n\n    # And I guess I need something like\n    def destroyEvent(self, event):\n        #self.conn.close()\n        print \"Connection Closed\"\n        event.accept()\n\nif __name__ == \"__main__\":\n    app = QApplication(sys.argv)\n    main= QMainWindow()\n    tsd = My_dlg(main)\n    tsd.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["c++","qt","qt4"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":5442,"score":4,"question_id":1332110,"title":"Selecting QComboBox in QTableWidget","body":"<p>One cell in each row of a QTableWidget contains a combobox</p>\n\n<pre><code>for (each row in table ... ) {\n   QComboBox* combo = new QComboBox();      \n   table-&gt;setCellWidget(row,col,combo); \t\t\t\n   combo-&gt;setCurrentIndex(node.type()); \t\t\t\t\n   connect(combo, SIGNAL(currentIndexChanged(int)),this, SLOT(changed(int)));\n   ....\n}\n</code></pre>\n\n<p>In the handler function ::changed(int index) I have </p>\n\n<pre><code>QComboBox* combo=(QComboBox*)table-&gt;cellWidget(_row,_col);  \ncombo-&gt;currentIndex()\n</code></pre>\n\n<p>To get back a copy of the combobox and get the new selection.<br />\nBut I can't get the row/col.<br />\nNone of the table cellXXXX signals is emitted when an embedded item is selected or changed and currentRow()/currentColumn() aren't set.</p>\n"},{"tags":["wpf","qt","widget","designer"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12709223,"title":"WPF Designer vs Qt Designer and Widget Parenting","body":"<p>I'm an experienced C++/Qt developer but a newbie C#/WPF developer, and I'm wondering if I'm missing something with the Visual Studio 2010 WPF designer. </p>\n\n<p>In Qt, all widgets have a parent. I found this concept very useful both when building GUI programmatically and in the designer. From what I remember from Qt desginer (unfortunately my new company doesn't support Qt), you could easily drag widgets around and they get re-parented correctly. If the designer somehow got confused, then you could just reset the parent to whatever you needed in the properties box. I find the analogous ideas in WPF difficult to execute. </p>\n\n<p>In the Visual Studio Designer, when I drag widgets around, they only sometimes get the right parent. More often than not, I have to go to the xaml and cut-and-paste the widget I was writing into a different part of the xaml so that it gets the right parent. I understand that the DOM tree of xaml nicely parallels the widget parent tree, but I found that was much more explicit in Qt. </p>\n\n<p>So, my question is: is this cut-and-paste approach to re-parenting in WPF xaml the best you can do or are there some nice designer tips-and-tricks that I am missing? </p>\n\n<p>Note: this question obviously doesn't apply when building GUI programmatically.</p>\n"}]}
